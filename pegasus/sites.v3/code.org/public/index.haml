---
theme: responsive_wide
banner:
layout: wide
video_player: true
social:
  twitter:site: "@codeorg"
  twitter:url: https://code.org/
critical_font: true
jquery: defer
style_min: true
---
:ruby
  @header["title"] = hoc_s(:hoc2020_header)

=inline_css 'homepage.css'
-# Comment this out when we are out of HoC season
-# =inline_css '/generated/hoc-banner.css'
-# Apply this stylesheet when 'pl-launch-hero-banner' is set to 'true'
- if !!DCDO.get('pl-launch-hero-banner', false)
  =inline_css '/generated/pl-hero-banner.css'
-# Apply this stylesheet when 'curriculum-launch-2024' is set to 'true'
- if !!DCDO.get('curriculum-launch-2024', false)
  =inline_css '/generated/banners-curriculum-launch.css'

- cookie_key = environment_specific_cookie_name '_user_type'
- user_type = request.cookies[cookie_key]
- user_type = "student" if user_type == "student_y"
- if ["student", "teacher"].include?(user_type)
  - redirect CDO.studio_url('/home', CDO.default_scheme)

= view :header

#homepage.supreme-container
  = view :homepage_hero

  - if request.language == "en"
    = view :curriculum_banner
    = view :homepage_below_hero_announcement
    = view :stats_homepage
  - else
    = view :homepage_below_hero_announcement

  = view :homepage_sections
  = view :homepage_gallery
  = view :homepage_supporters

= view :homepage_video
