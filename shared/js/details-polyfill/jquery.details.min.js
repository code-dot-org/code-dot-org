/*! http://mths.be/details v0.1.0 by @mathias | includes http://mths.be/noselect v1.0.3 */
!function(e,t){var n,r=t.fn,o="[object Opera]"==Object.prototype.toString.call(window.opera),a=function(e){var t,n,r,o=e.createElement("details")
return"open"in o?(n=e.body||function(){var n=e.documentElement
return t=!0,n.insertBefore(e.createElement("body"),n.firstElementChild||n.firstChild)}(),o.innerHTML="<summary>a</summary>b",o.style.display="block",n.appendChild(o),r=o.offsetHeight,o.open=!0,r=r!=o.offsetHeight,n.removeChild(o),t&&n.parentNode.removeChild(n),r):!1}(e),i=function(e,t,n,r){var o=e.prop("open"),a=o&&r||!o&&!r
a?(e.removeClass("open").prop("open",!1).triggerHandler("close.details"),t.attr("aria-expanded",!1),n.hide()):(e.addClass("open").prop("open",!0).triggerHandler("open.details"),t.attr("aria-expanded",!0),n.show())}
r.noSelect=function(){var e="none"
return this.bind("selectstart dragstart mousedown",function(){return!1}).css({MozUserSelect:e,msUserSelect:e,webkitUserSelect:e,userSelect:e})},a?(n=r.details=function(){return this.each(function(){var e=t(this),n=t("summary",e).first()
n.attr({role:"button","aria-expanded":e.prop("open")}).on("click",function(){var t=e.prop("open")
n.attr("aria-expanded",!t),e.triggerHandler((t?"close":"open")+".details")})})},n.support=a):(n=r.details=function(){return this.each(function(){var e=t(this),n=t("summary",e).first(),r=e.children(":not(summary)"),a=e.contents().filter(function(){return"summary"!==this.nodeName.toLowerCase()})
n.length||(n=t("<summary>").text("Details").prependTo(e)),r.length!=a.length&&(a.filter(function(){return 3==this.nodeType&&/[^ \t\n\f\r]/.test(this.data)}).wrap("<span>"),r=e.children(":not(summary)")),e.prop("open","string"==typeof e.attr("open")),i(e,n,r),n.attr("role","button").noSelect().prop("tabIndex",0).on("click",function(){n.focus(),i(e,n,r,!0)}).keyup(function(e){(32==e.keyCode||13==e.keyCode&&!o)&&(e.preventDefault(),n.click())})})},n.support=a)}(document,jQuery)
