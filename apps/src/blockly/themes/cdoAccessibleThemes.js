import GoogleBlockly from 'blockly/core';
import fontConstants from '@cdo/apps/fontConstants';
import {Themes} from '../constants';
import {
  deuteranopiaBlockStyles,
  protanopiaBlockStyles,
  tritanopiaBlockStyles,
} from './cdoAccessibleStyles';

// Whenever cdoBlockStyles.mjs is updated, accesibility styles in cdoAccessibleStyles.js
// must also be updated. The accessible styles are generated by running accessibleStylesGenerator.mjs.
// However, the ai_blocks style remains the same for all themes.
// So we replace the `ai_blocks` style generated by accessibleStylesGenerator.mjs
// with the the hard-coded color below.
let protanopiaBlockStylesWithSelectedAiColor = {
  ...protanopiaBlockStyles,
};
protanopiaBlockStylesWithSelectedAiColor.ai_blocks = {colourPrimary: '#566065'};

let deuteranopiaBlockStylesWithSelectedAiColor = {
  ...deuteranopiaBlockStyles,
};
deuteranopiaBlockStylesWithSelectedAiColor.ai_blocks = {
  colourPrimary: '#566065',
};

let tritanopiaBlockStylesWithSelectedAiColor = {
  ...tritanopiaBlockStyles,
};
tritanopiaBlockStylesWithSelectedAiColor.ai_blocks = {colourPrimary: '#566065'};

export const CdoProtanopiaTheme = GoogleBlockly.Theme.defineTheme(
  Themes.PROTANOPIA,
  {
    base: GoogleBlockly.Themes.Classic,
    blockStyles: protanopiaBlockStylesWithSelectedAiColor,
    categoryStyles: {},
    componentStyles: {
      toolboxBackgroundColour: '#DDDDDD',
    },
    fontStyle: {
      family: fontConstants['main-font'],
      weight: fontConstants['regular-font-weight'],
    },
    startHats: null,
  }
);

export const CdoDeuteranopiaTheme = GoogleBlockly.Theme.defineTheme(
  Themes.DEUTERANOPIA,
  {
    base: GoogleBlockly.Themes.Classic,
    blockStyles: deuteranopiaBlockStylesWithSelectedAiColor,
    categoryStyles: {},
    componentStyles: {
      toolboxBackgroundColour: '#DDDDDD',
    },
    fontStyle: {
      family: fontConstants['main-font'],
      weight: fontConstants['regular-font-weight'],
    },
    startHats: null,
  }
);

export const CdoTritanopiaTheme = GoogleBlockly.Theme.defineTheme(
  Themes.TRITANOPIA,
  {
    base: GoogleBlockly.Themes.Classic,
    blockStyles: tritanopiaBlockStylesWithSelectedAiColor,
    categoryStyles: {},
    componentStyles: {
      toolboxBackgroundColour: '#DDDDDD',
    },
    fontStyle: {
      family: fontConstants['main-font'],
      weight: fontConstants['regular-font-weight'],
    },
    startHats: null,
  }
);
