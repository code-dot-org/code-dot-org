<Applab>
  <config><![CDATA[{
  "game_id": 41,
  "created_at": "2016-02-16T22:46:11.000Z",
  "level_num": "custom",
  "user_id": 208,
  "properties": {
    "skin": "applab",
    "edit_code": true,
    "embed": "false",
    "start_blocks": "// SAMPLE APP: USER LOGIN\r\n\r\n// Global variables about the current user\r\nvar logged_in = false; // Boolean to track whether the current user is logged in or not\r\nvar currentUsername = \"\";\r\n\r\n// Event handlers for screen_login buttons\r\nonEvent(\"btn_login\", \"click\", function(event) {\r\n  var username = getText(\"input_username\");\r\n  var password = getText(\"input_password\");\r\n  \r\n  if (username == \"\" || password == \"\") {\r\n    // If either the username or password is blank, display an error message.\r\n    setText(\"login_messageLabel\", \"Please fill in both username and password.\");\r\n  }\r\n  else {\r\n    // If both inputs are filled in, attempt to log in.\r\n    \r\n    readRecords(\"users\", {username:username}, function(records) {\r\n      // Attempt to find username in the existing records.\r\n      \r\n      if (records.length == 0) {\r\n        // If username does not exist in database, display an error message.\r\n        setText(\"login_messageLabel\", \"No account exists with that username. Please try again or create a new account.\");\r\n      }\r\n      else if (password != records[0].password) {\r\n        // If there is a matching user but password doesn't match, display an error message.\r\n        setText(\"login_messageLabel\", \"Invalid username/password combination. Please try again or create a new account.\");\r\n      }\r\n      else {\r\n        // If the user exists and password input matches the password in the database, log in.\r\n        logged_in = true;\r\n        currentUsername = records[0].username;\r\n        setText(\"profile_messageLabel\", \"Welcome, \" + currentUsername + \"!\");\r\n        setScreen(\"screen_userProfile\");\r\n        resetLoginScreen();\r\n      }\r\n    });\r\n  }\r\n});\r\nonEvent(\"btn_createAccount\", \"click\", function(event) {\r\n  resetLoginScreen();\r\n  setScreen(\"screen_newUser\");\r\n});\r\n\r\n// Event handlers for screen_newUser buttons\r\nonEvent(\"btn_newUser_submit\", \"click\", function(event) {\r\n  var newUsername = getText(\"input_newUsername\");\r\n  var newPassword = getText(\"input_newPassword\");\r\n  \r\n  if (newUsername == \"\" || newPassword == \"\") {\r\n    // If either the username or password is blank, display an error message.\r\n    setText(\"newUser_messageLabel\", \"Please fill in both username and password.\");\r\n  }\r\n  else {\r\n    // If both inputs are filled in, attempt to create a new user.\r\n    \r\n    readRecords(\"users\", {username:newUsername}, function(records) {\r\n      // Attempt to find newUsername in the existing records\r\n      \r\n      if (records.length != 0) {\r\n        // If that username is taken, display an error message.\r\n        setText(\"newUser_messageLabel\", \"That username is taken. Please choose a new username.\");\r\n      }\r\n      else {\r\n        // If that username isn't taken, create a new user.\r\n        createRecord(\"users\", {username:newUsername, password:newPassword}, function(record) {\r\n          // Reset text input fields\r\n          resetNewUserScreen();\r\n          \r\n          // Display success message on login screen\r\n          setText(\"login_messageLabel\", \"Your account has been created. Please login to continue.\");\r\n          setScreen(\"screen_login\");\r\n        });\r\n      }\r\n    });\r\n  }\r\n});\r\nonEvent(\"btn_newUser_back\", \"click\", function(event) {\r\n  resetNewUserScreen();\r\n  setScreen(\"screen_login\");\r\n});\r\n\r\n// Event handlers for screen_userProfile buttons\r\nonEvent(\"btn_profile_logOut\", \"click\", function(event) {\r\n  // To log out, reset logged_in boolean and redirect to login screen\r\n  logged_in = false;\r\n  currentUsername = \"\";\r\n  setScreen(\"screen_login\");\r\n});\r\n\r\n// Reset text fields for screen_login\r\nfunction resetLoginScreen() {\r\n  setText(\"input_username\", \"\");\r\n  setText(\"input_password\", \"\");\r\n  setText(\"login_messageLabel\", \"\");\r\n}\r\n// Reset text fields for screen_newUser\r\nfunction resetNewUserScreen() {\r\n  setText(\"input_newUsername\", \"\");\r\n  setText(\"input_newPassword\", \"\");\r\n  setText(\"newUser_messageLabel\", \"\");\r\n}\r\n\r\n",
    "is_k1": "false",
    "skip_instructions_popup": "false",
    "never_autoplay_video": "false",
    "disable_param_editing": "true",
    "disable_variable_editing": "false",
    "use_modal_function_editor": "false",
    "use_contract_editor": "false",
    "contract_highlight": "false",
    "contract_collapse": "false",
    "examples_highlight": "false",
    "examples_collapse": "false",
    "examples_required": "false",
    "definition_highlight": "false",
    "definition_collapse": "false",
    "disable_examples": "false",
    "droplet_tooltips_disabled": "false",
    "lock_zero_param_functions": "false",
    "free_play": "false",
    "show_turtle_before_run": "false",
    "autocomplete_palette_apis_only": "false",
    "execute_palette_apis_only": "false",
    "text_mode_at_start": "false",
    "design_mode_at_start": "false",
    "hide_design_mode": "false",
    "beginner_mode": "false",
    "start_html": "<div xmlns=\"http://www.w3.org/1999/xhtml\" id=\"designModeViz\" class=\"appModern\" style=\"display: none; width: 320px; height: 450px;\"><div class=\"screen\" tabindex=\"1\" id=\"screen_login\" style=\"height: 450px; width: 320px; left: 0px; top: 0px; position: absolute; z-index: 0;\"><input id=\"input_username\" style=\"margin: 0px; width: 200px; height: 30px; color: rgb(0, 0, 0); position: absolute; left: 55px; top: 95px;\" placeholder=\"Username\" /><input id=\"input_password\" style=\"margin: 0px; width: 200px; height: 30px; color: rgb(0, 0, 0); position: absolute; left: 55px; top: 145px;\" placeholder=\"Password\" /><button id=\"btn_login\" style=\"padding: 0px; margin: 0px; height: 50px; width: 150px; font-size: 21px; color: rgb(255, 255, 255); position: absolute; left: 85px; top: 210px; background-color: rgb(26, 102, 189);\">Log In</button><button id=\"btn_createAccount\" style=\"padding: 0px; margin: 0px; height: 40px; width: 265px; font-size: 14px; color: rgb(255, 255, 255); position: absolute; left: 30px; top: 385px; background-color: rgb(80, 186, 74);\">New User? Create an account.</button><label style=\"margin: 0px; padding: 2px; line-height: 1; font-size: 24px; overflow: hidden; word-wrap: break-word; color: rgb(51, 51, 51); max-width: 320px; width: 172px; height: 29px; position: absolute; left: 70px; top: 45px;\" id=\"label1\">Please sign in:</label><label style=\"margin: 0px; padding: 2px; line-height: 1; font-size: 14px; overflow: hidden; word-wrap: break-word; color: rgb(51, 51, 51); max-width: 320px; width: 245px; height: 90px; position: absolute; left: 40px; top: 280px;\" id=\"login_messageLabel\"></label></div><div class=\"screen\" tabindex=\"1\" id=\"screen_newUser\" style=\"display: none; height: 450px; width: 320px; left: 0px; top: 0px; position: absolute; z-index: 0;\"><button id=\"btn_newUser_back\" style=\"padding: 0px; margin: 0px; height: 30px; width: 80px; font-size: 14px; color: rgb(255, 255, 255); position: absolute; left: 0px; top: 0px; background-color: rgb(189, 26, 26);\">Back</button><label style=\"margin: 0px; padding: 2px; line-height: 1; font-size: 24px; overflow: hidden; word-wrap: break-word; color: rgb(51, 51, 51); max-width: 320px; width: 250px; height: 55px; position: absolute; left: 45px; top: 55px;\" id=\"label2\">Create an account:</label><input id=\"input_newUsername\" style=\"margin: 0px; width: 200px; height: 30px; color: rgb(0, 0, 0); position: absolute; left: 60px; top: 165px;\" placeholder=\"Username\" /><input id=\"input_newPassword\" style=\"margin: 0px; width: 200px; height: 30px; color: rgb(0, 0, 0); position: absolute; left: 60px; top: 215px;\" placeholder=\"Password\" /><button id=\"btn_newUser_submit\" style=\"padding: 0px; margin: 0px; height: 50px; width: 125px; font-size: 20px; color: rgb(255, 255, 255); position: absolute; left: 95px; top: 355px; background-color: rgb(26, 188, 156);\">Submit</button><label style=\"margin: 0px; padding: 2px; line-height: 1; font-size: 14px; overflow: hidden; word-wrap: break-word; color: rgb(255, 0, 0); max-width: 320px; width: 260px; height: 61px; position: absolute; left: 35px; top: 85px;\" id=\"label3\">WARNING: Your password will not be encrypted, so DO NOT choose a password you use with other applications.</label><label style=\"margin: 0px; padding: 2px; line-height: 1; font-size: 14px; overflow: hidden; word-wrap: break-word; color: rgb(51, 51, 51); max-width: 320px; width: 260px; height: 70px; position: absolute; left: 30px; top: 270px;\" id=\"newUser_messageLabel\"></label></div><div class=\"screen\" tabindex=\"1\" id=\"screen_userProfile\" style=\"display: none; height: 450px; width: 320px; left: 0px; top: 0px; position: absolute; z-index: 0;\"><label style=\"margin: 0px; padding: 2px; line-height: 1; font-size: 14px; overflow: hidden; word-wrap: break-word; color: rgb(51, 51, 51); max-width: 320px; width: 126px; height: 19px; position: absolute; left: 65px; top: 80px;\" id=\"label6\">You've logged in!</label><button id=\"btn_profile_logOut\" style=\"padding: 0px; margin: 0px; height: 30px; width: 80px; font-size: 14px; color: rgb(255, 255, 255); position: absolute; left: 4.44089e-16px; top: 0px; background-color: rgb(189, 26, 26);\">Log Out</button><label style=\"margin: 0px; padding: 2px; line-height: 1; font-size: 14px; overflow: hidden; word-wrap: break-word; color: rgb(51, 51, 51); max-width: 320px; width: 180px; height: 135px; position: absolute; left: 65px; top: 115px;\" id=\"profile_messageLabel\">Welcome, [USERNAME]</label></div></div>",
    "submittable": "false",
    "hide_view_data_button": "false",
    "debugger_disabled": "false"
  },
  "published": true
}]]></config>
  <blocks/>
</Applab>