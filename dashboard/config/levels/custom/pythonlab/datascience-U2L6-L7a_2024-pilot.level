<Pythonlab>
  <config><![CDATA[{
  "game_id": 72,
  "created_at": "2024-09-16T16:44:06.000Z",
  "level_num": "custom",
  "user_id": 18602,
  "properties": {
    "encrypted": "false",
    "long_instructions": "# Sea Ice Change\r\n\r\n::: details [**✅ Step 1**]\r\nLoad the data and print the `head()`.\r\n:::\r\n\r\n::: details [**✅ Step 2**]\r\nGroup the data by the **Decade** attribute and use **aggregations** to answer the following data question:\r\n- *How has the average sea ice extent changed from the 1980s to the 2010s?*\r\n:::\r\n\r\n::: details [**✅ Step 3**]\r\nPrint your answer (e.g. *\"Between the 1980s and 2010s, average sea ice extent has change by xxx million square km.\"*)\r\n:::\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "ai_tutor_available": "false",
    "submittable": "false",
    "hide_share_and_remix": "false",
    "predict_settings": {
      "isPredictLevel": false
    },
    "start_sources": {
      "files": {
        "0": {
          "id": "0",
          "name": "main.py",
          "language": "py",
          "contents": "import pandas as pd\n\n\n# Step 1\n\n\n# Step 2\n\n\n# Step 3\n",
          "folderId": "0",
          "active": true,
          "open": true
        },
        "1": {
          "id": "1",
          "name": "sea_ice.csv",
          "language": "csv",
          "contents": "ID,Year,Decade,Month,Extent,Area\n0,1979,1970,9,7.05,4.58\n1,1980,1980,9,7.67,4.87\n2,1981,1980,9,7.14,4.44\n3,1982,1980,9,7.3,4.43\n4,1983,1980,9,7.39,4.7\n5,1984,1980,9,6.81,4.11\n6,1985,1980,9,6.7,4.23\n7,1986,1980,9,7.41,4.72\n8,1987,1980,9,7.28,5.64\n9,1988,1980,9,7.37,5.36\n10,1989,1980,9,7.01,4.86\n11,1990,1990,9,6.14,4.55\n12,1991,1990,9,6.47,4.51\n13,1992,1990,9,7.47,5.43\n14,1993,1990,9,6.4,4.58\n15,1994,1990,9,7.14,5.13\n16,1995,1990,9,6.08,4.43\n17,1996,1990,9,7.58,5.62\n18,1997,1990,9,6.69,4.89\n19,1998,1990,9,6.54,4.3\n20,1999,1990,9,6.12,4.29\n21,2000,2000,9,6.25,4.35\n22,2001,2000,9,6.73,4.59\n23,2002,2000,9,5.83,4.03\n24,2003,2000,9,6.12,4.05\n25,2004,2000,9,5.98,4.39\n26,2005,2000,9,5.5,4.07\n27,2006,2000,9,5.86,4.01\n28,2007,2000,9,4.27,2.82\n29,2008,2000,9,4.69,3.26\n30,2009,2000,9,5.26,3.76\n31,2010,2010,9,4.87,3.34\n32,2011,2010,9,4.56,3.21\n33,2012,2010,9,3.57,2.41\n34,2013,2010,9,5.21,3.78\n35,2014,2010,9,5.22,3.74\n36,2015,2010,9,4.62,3.42\n37,2016,2010,9,4.53,2.91\n38,2017,2010,9,4.82,3.35\n39,2018,2010,9,4.79,3.35\n40,2019,2010,9,4.36,3.17\n41,2020,2020,9,4,2.83\n42,2021,2020,9,4.95,3.47\n43,2022,2020,9,4.87,3.43\n",
          "folderId": "0",
          "active": false,
          "open": true
        }
      },
      "folders": {
      },
      "openFiles": [
        "0",
        "1"
      ]
    },
    "display_name": "Sea Ice Change",
    "teacher_markdown": "When using groupby, ensure students understand the importance of using the correct column names. They might encounter errors if the column names are misspelled or if the dataset doesn't contain the expected columns.\r\n\r\nEncourage students to check the dataset structure with methods like head(), info(), and describe() to familiarize themselves with the data as needed.\r\n",
    "bubble_choice_description": "Calculate the difference in average sea ice extent between the 1980s and the 2020s.",
    "thumbnail_url": "https://images.code.org/0bd2397b8ac3c9f2123c7d106c15f900-glacier.png",
    "validation_file": {
      "id": "2",
      "name": "test.py",
      "language": "py",
      "contents": "import unittest\nfrom io import StringIO\nimport sys\nimport ast\nimport pandas as pd\n\nclass TestSeaIceExtentModifications(unittest.TestCase):\n\n    def setUp(self):\n        # Setup to capture the print output if needed later\n        self.captured_output = StringIO()\n        sys.stdout = self.captured_output\n\n    def tearDown(self):\n        # Reset redirect and clear print capture\n        sys.stdout = sys.__stdout__\n\n    def test_step_1(self):\n        \"\"\"A DataFrame is loaded and .head() is called to confirm the data is read successfully\"\"\"\n        with open('main.py') as f:\n            script_content = f.read()\n\n        # Parse the script to check for '.head()' being called using AST\n        tree = ast.parse(script_content)\n\n        # Traverse the AST to look for '.head()' method calls on a DataFrame\n        head_called = False\n        for node in ast.walk(tree):\n            if isinstance(node, ast.Call) and isinstance(node.func, ast.Attribute):\n                if node.func.attr == 'head':\n                    head_called = True\n                    break\n\n        # Assert that head() is called at least once\n        self.assertTrue(head_called, \"The code should call '.head()' on a DataFrame in Step 1 to confirm data is loaded correctly.\")\n\n    def test_step_2(self):\n        \"\"\"The DataFrame is grouped by 'Decade' and 'Extent' is used in the aggregation\"\"\"\n        with open('main.py') as f:\n            script_content = f.read()\n\n        # Parse the script using AST\n        tree = ast.parse(script_content)\n\n        # Flags to track detection of `groupby` and `Extent`\n        groupby_detected = False\n        extent_detected = False\n\n        # Traverse the AST to find relevant nodes\n        for node in ast.walk(tree):\n            # Check for `groupby` on 'Decade'\n            if isinstance(node, ast.Call) and isinstance(node.func, ast.Attribute):\n                if node.func.attr == 'groupby' and len(node.args) > 0:\n                    if isinstance(node.args[0], ast.Str) and node.args[0].s == 'Decade':\n                        groupby_detected = True\n\n            # Check for `Extent` usage (either as `['Extent']` or `df.Extent`)\n            if isinstance(node, ast.Str) and node.s == 'Extent':\n                extent_detected = True\n\n        # Validation messages focused on learning objectives\n        self.assertTrue(groupby_detected, \"The code should group the DataFrame by the 'Decade' attribute to analyze changes over time.\")\n        self.assertTrue(extent_detected, \"The code should use the 'Extent' attribute for calculating average ice extent over the decades.\")\n\n    def test_step_3(self):\n        \"\"\"The printed message contains the correct decades and calculated change in sea ice extent\"\"\"\n        with open('main.py') as f:\n            script_content = f.read()\n\n        # Execute the script to capture the print output\n        local_vars = {}\n        exec(script_content, local_vars)\n\n        # Retrieve the print output\n        printed_output = self.captured_output.getvalue().strip()\n\n        # Check if the printed message contains the correct decade references and a numeric value for the change\n        self.assertIn(\"1980s\", printed_output, \"The printed message should mention the '1980s' to reflect the grouping by decade.\")\n        self.assertIn(\"2010s\", printed_output, \"The printed message should mention the '2010s' to reflect the grouping by decade.\")\n        self.assertRegex(printed_output, r\"\\d+(\\.\\d+)?\", \"The printed message should include a numeric value representing the change in sea ice extent.\")\n\nif __name__ == \"__main__\":\n    unittest.main()\n",
      "folderId": "0",
      "active": false,
      "open": false,
      "type": "validation"
    }
  },
  "published": true,
  "audit_log": "[{\"changed_at\":\"2024-09-16T16:44:06.307+00:00\",\"changed\":[\"cloned from \\\"datascience-U2L5-L8d_2024-pilot\\\"\"],\"cloned_from\":\"datascience-U2L5-L8d_2024-pilot\"},{\"changed_at\":\"2024-09-16 16:48:13 +0000\",\"changed\":[\"long_instructions\",\"predict_settings\",\"display_name\",\"teacher_markdown\",\"bubble_choice_description\",\"thumbnail_url\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-16 16:50:38 +0000\",\"changed\":[\"start_sources\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-16 16:51:13 +0000\",\"changed\":[\"predict_settings\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:24:58 +0000\",\"changed\":[\"start_sources\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:25:02 +0000\",\"changed\":[\"predict_settings\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:25:12 +0000\",\"changed\":[\"start_sources\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:29:56 +0000\",\"changed\":[\"start_sources\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:30:08 +0000\",\"changed\":[\"predict_settings\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:43:41 +0000\",\"changed\":[\"start_sources\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:43:50 +0000\",\"changed\":[\"predict_settings\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:45:14 +0000\",\"changed\":[\"start_sources\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:45:25 +0000\",\"changed\":[\"predict_settings\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:47:09 +0000\",\"changed\":[\"start_sources\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:47:19 +0000\",\"changed\":[\"predict_settings\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:48:16 +0000\",\"changed\":[\"start_sources\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:48:25 +0000\",\"changed\":[\"predict_settings\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:50:00 +0000\",\"changed\":[\"start_sources\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:50:05 +0000\",\"changed\":[\"predict_settings\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:51:59 +0000\",\"changed\":[\"start_sources\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:52:05 +0000\",\"changed\":[\"predict_settings\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:53:37 +0000\",\"changed\":[\"start_sources\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:53:47 +0000\",\"changed\":[\"predict_settings\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:55:24 +0000\",\"changed\":[\"start_sources\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:55:35 +0000\",\"changed\":[\"predict_settings\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:56:53 +0000\",\"changed\":[\"start_sources\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:56:58 +0000\",\"changed\":[\"predict_settings\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:58:28 +0000\",\"changed\":[\"start_sources\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:58:34 +0000\",\"changed\":[\"predict_settings\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 19:59:54 +0000\",\"changed\":[\"start_sources\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 20:00:01 +0000\",\"changed\":[\"predict_settings\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 20:03:44 +0000\",\"changed\":[\"start_sources\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 20:04:12 +0000\",\"changed\":[\"predict_settings\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 20:05:59 +0000\",\"changed\":[\"start_sources\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 20:06:05 +0000\",\"changed\":[\"predict_settings\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 20:07:06 +0000\",\"changed\":[\"start_sources\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 20:07:12 +0000\",\"changed\":[\"predict_settings\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 20:08:34 +0000\",\"changed\":[\"start_sources\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 20:08:39 +0000\",\"changed\":[\"predict_settings\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 20:10:36 +0000\",\"changed\":[\"start_sources\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 20:10:42 +0000\",\"changed\":[\"predict_settings\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 20:21:47 +0000\",\"changed\":[\"start_sources\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-09-28 20:21:58 +0000\",\"changed\":[\"predict_settings\"],\"changed_by_id\":18602,\"changed_by_email\":\"angelina+levelbuilder@code.org\"},{\"changed_at\":\"2024-10-03 16:23:10 +0000\",\"changed\":[\"start_sources\"],\"changed_by_id\":18753,\"changed_by_email\":\"molly+levelbuilder@code.org\"}]"
}]]></config>
</Pythonlab>
