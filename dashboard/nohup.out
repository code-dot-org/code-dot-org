GetSecretValue: staging/cdo/slack_token
GetSecretValue: staging/cdo/mapbox_access_token
rake aborted!
Errno::EBADF: Bad file descriptor @ io_fillbuf - fd:0 <STDIN>
/home/ubuntu/staging/dashboard/lib/tasks/lesson_plan_pdfs.rake:56:in `gets'
/home/ubuntu/staging/dashboard/lib/tasks/lesson_plan_pdfs.rake:56:in `block (2 levels) in <top (required)>'
/var/lib/gems/2.5.0/gems/rake-11.3.0/exe/rake:27:in `<top (required)>'
Tasks: TOP => lesson_plan_pdfs:generate_all_pdfs
(See full trace by running task with --trace)
GetSecretValue: staging/cdo/dashboard_devise_secret
GetSecretValue: staging/cdo/dashboard_devise_pepper
GetSecretValue: staging/cdo/dashboard_facebook_key
GetSecretValue: staging/cdo/dashboard_facebook_secret
GetSecretValue: staging/cdo/dashboard_google_key
GetSecretValue: staging/cdo/dashboard_google_secret
GetSecretValue: staging/cdo/dashboard_windowslive_key
GetSecretValue: staging/cdo/dashboard_windowslive_secret
GetSecretValue: staging/cdo/dashboard_microsoft_key
GetSecretValue: staging/cdo/dashboard_microsoft_secret
GetSecretValue: staging/cdo/dashboard_clever_key
GetSecretValue: staging/cdo/dashboard_clever_secret
GetSecretValue: staging/cdo/dashboard_schoolproject_key
GetSecretValue: staging/cdo/dashboard_schoolproject_secret
GetSecretValue: staging/cdo/recaptcha_site_key
GetSecretValue: staging/cdo/recaptcha_secret_key
GetSecretValue: staging/cdo/dashboard_secret_key_base
GetSecretValue: staging/cdo/zendesk_dev_token
GetSecretValue: staging/cdo/dashboard_honeybadger_api_key
About to (re)generate all PDFs for all scripts.
As of Feb 2021, we expect this operation to take about half an hour. We expect it to take longer the more content we've added since that date.
Are you sure you want to proceed? (y/N)
GetSecretValue: staging/cdo/slack_token
GetSecretValue: staging/cdo/mapbox_access_token
rake aborted!
SignalException: SIGTERM
/home/ubuntu/staging/lib/cdo/yaml.rb:18:in `load_file'
/var/lib/gems/2.5.0/gems/i18n-1.6.0/lib/i18n/backend/base.rb:242:in `load_yml'
/var/lib/gems/2.5.0/gems/i18n-1.6.0/lib/i18n/backend/base.rb:225:in `load_file'
/var/lib/gems/2.5.0/gems/i18n-1.6.0/lib/i18n/backend/base.rb:18:in `block in load_translations'
/var/lib/gems/2.5.0/gems/i18n-1.6.0/lib/i18n/backend/base.rb:18:in `each'
/var/lib/gems/2.5.0/gems/i18n-1.6.0/lib/i18n/backend/base.rb:18:in `load_translations'
/var/lib/gems/2.5.0/gems/i18n-1.6.0/lib/i18n/backend/simple.rb:82:in `init_translations'
/var/lib/gems/2.5.0/gems/i18n-1.6.0/lib/i18n/backend/simple.rb:92:in `lookup'
/var/lib/gems/2.5.0/gems/i18n-1.6.0/lib/i18n/backend/base.rb:32:in `translate'
/home/ubuntu/staging/lib/cdo/i18n_backend.rb:16:in `translate'
/home/ubuntu/staging/lib/cdo/i18n_backend.rb:66:in `translate'
/home/ubuntu/staging/lib/cdo/i18n_backend.rb:123:in `translate'
/home/ubuntu/staging/lib/cdo/i18n_backend.rb:147:in `translate'
/var/lib/gems/2.5.0/gems/i18n-1.6.0/lib/i18n/backend/fallbacks.rb:48:in `block (2 levels) in translate'
/var/lib/gems/2.5.0/gems/i18n-1.6.0/lib/i18n/backend/fallbacks.rb:47:in `catch'
/var/lib/gems/2.5.0/gems/i18n-1.6.0/lib/i18n/backend/fallbacks.rb:47:in `block in translate'
/var/lib/gems/2.5.0/gems/i18n-1.6.0/lib/i18n/backend/fallbacks.rb:45:in `each'
/var/lib/gems/2.5.0/gems/i18n-1.6.0/lib/i18n/backend/fallbacks.rb:45:in `translate'
/var/lib/gems/2.5.0/gems/i18n-1.6.0/lib/i18n.rb:190:in `block in translate'
/var/lib/gems/2.5.0/gems/i18n-1.6.0/lib/i18n.rb:186:in `catch'
/var/lib/gems/2.5.0/gems/i18n-1.6.0/lib/i18n.rb:186:in `translate'
/home/ubuntu/staging/dashboard/config/initializers/fast_localization.rb:14:in `block in <top (required)>'
/var/lib/gems/2.5.0/gems/activesupport-5.2.4.4/lib/active_support/lazy_load_hooks.rb:69:in `block in execute_hook'
/var/lib/gems/2.5.0/gems/activesupport-5.2.4.4/lib/active_support/lazy_load_hooks.rb:62:in `with_execution_control'
/var/lib/gems/2.5.0/gems/activesupport-5.2.4.4/lib/active_support/lazy_load_hooks.rb:67:in `execute_hook'
/var/lib/gems/2.5.0/gems/activesupport-5.2.4.4/lib/active_support/lazy_load_hooks.rb:52:in `block in run_load_hooks'
/var/lib/gems/2.5.0/gems/activesupport-5.2.4.4/lib/active_support/lazy_load_hooks.rb:51:in `each'
/var/lib/gems/2.5.0/gems/activesupport-5.2.4.4/lib/active_support/lazy_load_hooks.rb:51:in `run_load_hooks'
/var/lib/gems/2.5.0/gems/railties-5.2.4.4/lib/rails/application/finisher.rb:75:in `block in <module:Finisher>'
/var/lib/gems/2.5.0/gems/railties-5.2.4.4/lib/rails/initializable.rb:32:in `instance_exec'
/var/lib/gems/2.5.0/gems/railties-5.2.4.4/lib/rails/initializable.rb:32:in `run'
/var/lib/gems/2.5.0/gems/railties-5.2.4.4/lib/rails/initializable.rb:61:in `block in run_initializers'
/var/lib/gems/2.5.0/gems/railties-5.2.4.4/lib/rails/initializable.rb:60:in `run_initializers'
/var/lib/gems/2.5.0/gems/railties-5.2.4.4/lib/rails/application.rb:361:in `initialize!'
/var/lib/gems/2.5.0/gems/railties-5.2.4.4/lib/rails/railtie.rb:190:in `public_send'
/var/lib/gems/2.5.0/gems/railties-5.2.4.4/lib/rails/railtie.rb:190:in `method_missing'
/home/ubuntu/staging/dashboard/config/environment.rb:13:in `<top (required)>'
/var/lib/gems/2.5.0/gems/activesupport-5.2.4.4/lib/active_support/dependencies.rb:291:in `require'
/var/lib/gems/2.5.0/gems/activesupport-5.2.4.4/lib/active_support/dependencies.rb:291:in `block in require'
/var/lib/gems/2.5.0/gems/activesupport-5.2.4.4/lib/active_support/dependencies.rb:257:in `load_dependency'
/var/lib/gems/2.5.0/gems/activesupport-5.2.4.4/lib/active_support/dependencies.rb:291:in `require'
/var/lib/gems/2.5.0/gems/railties-5.2.4.4/lib/rails/application.rb:337:in `require_environment!'
/var/lib/gems/2.5.0/gems/railties-5.2.4.4/lib/rails/application.rb:520:in `block in run_tasks_blocks'
/var/lib/gems/2.5.0/gems/rake-11.3.0/exe/rake:27:in `<top (required)>'
Tasks: TOP => lesson_plan_pdfs:generate_all_pdfs => environment
(See full trace by running task with --trace)
GetSecretValue: staging/cdo/dashboard_devise_secret
GetSecretValue: staging/cdo/dashboard_devise_pepper
GetSecretValue: staging/cdo/dashboard_facebook_key
GetSecretValue: staging/cdo/dashboard_facebook_secret
GetSecretValue: staging/cdo/dashboard_google_key
GetSecretValue: staging/cdo/dashboard_google_secret
GetSecretValue: staging/cdo/dashboard_windowslive_key
GetSecretValue: staging/cdo/dashboard_windowslive_secret
GetSecretValue: staging/cdo/dashboard_microsoft_key
GetSecretValue: staging/cdo/dashboard_microsoft_secret
GetSecretValue: staging/cdo/dashboard_clever_key
GetSecretValue: staging/cdo/dashboard_clever_secret
GetSecretValue: staging/cdo/dashboard_schoolproject_key
GetSecretValue: staging/cdo/dashboard_schoolproject_secret
GetSecretValue: staging/cdo/recaptcha_site_key
GetSecretValue: staging/cdo/recaptcha_secret_key
GetSecretValue: staging/cdo/dashboard_secret_key_base
GetSecretValue: staging/cdo/zendesk_dev_token
GetSecretValue: staging/cdo/dashboard_honeybadger_api_key
GetSecretValue: staging/cdo/slack_token
GetSecretValue: staging/cdo/mapbox_access_token
GetSecretValue: staging/cdo/dashboard_devise_secret
GetSecretValue: staging/cdo/dashboard_devise_pepper
GetSecretValue: staging/cdo/dashboard_facebook_key
GetSecretValue: staging/cdo/dashboard_facebook_secret
GetSecretValue: staging/cdo/dashboard_google_key
GetSecretValue: staging/cdo/dashboard_google_secret
GetSecretValue: staging/cdo/dashboard_windowslive_key
GetSecretValue: staging/cdo/dashboard_windowslive_secret
GetSecretValue: staging/cdo/dashboard_microsoft_key
GetSecretValue: staging/cdo/dashboard_microsoft_secret
GetSecretValue: staging/cdo/dashboard_clever_key
GetSecretValue: staging/cdo/dashboard_clever_secret
GetSecretValue: staging/cdo/dashboard_schoolproject_key
GetSecretValue: staging/cdo/dashboard_schoolproject_secret
GetSecretValue: staging/cdo/recaptcha_site_key
GetSecretValue: staging/cdo/recaptcha_secret_key
GetSecretValue: staging/cdo/dashboard_secret_key_base
GetSecretValue: staging/cdo/zendesk_dev_token
GetSecretValue: staging/cdo/dashboard_honeybadger_api_key
About to (re)generate all PDFs for all scripts.
As of Feb 2021, we expect this operation to take about half an hour. We expect it to take longer the more content we've added since that date.
generating PDFs for coursea-2021
GetSecretValue: staging/cdo/slack_endpoint
generating PDFs for courseb-2021
generating PDFs for coursec-2021
generating PDFs for coursed-2021
generating PDFs for coursee-2021
generating PDFs for coursef-2021
generating PDFs for csd1-2021
generating PDFs for csd2-2021
generating PDFs for csd3-2021
generating PDFs for csd4-2021
generating PDFs for csd5-2021
generating PDFs for csd6-2021
generating PDFs for csp1-2021
generating PDFs for csp10-2021
generating PDFs for csp2-2021
generating PDFs for csp3-2021
generating PDFs for csp4-2021
(node:22745) UnhandledPromiseRejectionWarning: TimeoutError: Navigation Timeout Exceeded: 30000ms exceeded
    at Promise.then (/home/ubuntu/staging/bin/generate-pdf/node_modules/puppeteer/lib/LifecycleWatcher.js:142:21)
    at <anonymous>
  -- ASYNC --
    at Frame.<anonymous> (/home/ubuntu/staging/bin/generate-pdf/node_modules/puppeteer/lib/helper.js:111:15)
    at Page.goto (/home/ubuntu/staging/bin/generate-pdf/node_modules/puppeteer/lib/Page.js:674:49)
    at Page.<anonymous> (/home/ubuntu/staging/bin/generate-pdf/node_modules/puppeteer/lib/helper.js:112:23)
    at /home/ubuntu/staging/bin/generate-pdf/generatePdf.js:21:14
    at <anonymous>
    at process._tickCallback (internal/process/next_tick.js:189:7)
(node:22745) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)
(node:22745) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.
