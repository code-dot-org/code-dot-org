- if @script && Gatekeeper.allows?('requires_hoc_secret', where: {script_name: @script.name})
  :javascript
    //<![CDATA[
    if (CryptoJS.MD5(localStorage.getItem('hoc_secret')).toString() !=
        '#{Digest::MD5.hexdigest(DCDO.get("hoc_secret", nil))}') {
      document.location = '/';
    }
    //]]>
