- homepage_data = {courses: @recent_courses}
- if current_user.teacher?
  - homepage_data[:sections] = @sections
- homepage_data[:codeorgurlprefix] = CDO.code_org_url

- content_for(:head) do
  %script{src: minifiable_asset_path('js/home/_homepage.js'), data: {homepage: homepage_data.to_json}}

-# Components generated by HAML which might be pulled in and displayed by the React model.
.hiddenComponents{style: "display: none"}
  -if current_user && !current_user.teacher?
    #user_hero
      = render template: 'api/user_hero'

.clear{style: "clear: both"}

#homepage-container

#admin-extras
  -if current_user.admin?
    %a{href: CDO.code_org_url('/ops-dashboard#/districts'), style: 'text-decoration: none;'}
      %h2
        Manage Districts
  -if current_user.admin? || has_permission?('facilitator')
    %a{href: CDO.code_org_url('/ops-dashboard#/workshops'), style: 'text-decoration: none;'}
      %h2
        Manage PD Workshops
  -elsif has_permission?('district_contact')
    %a{href: CDO.code_org_url('/ops-dashboard#/workshops'), style: 'text-decoration: none;'}
      %h2
        View PD Workshops
  -if current_user.admin? || has_permission?('district_contact')
    %a{href: CDO.code_org_url('/ops-dashboard#/teacher-cohorts'), style: 'text-decoration: none;'}
      %h2
        Manage Teacher Cohorts
