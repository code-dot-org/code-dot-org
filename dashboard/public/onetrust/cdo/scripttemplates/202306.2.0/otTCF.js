var otTCF=function(P){"use strict";function e(e){e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")&&e.default}function t(e,t){return e(t={exports:{}},t.exports),t.exports}var B=t(function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=(Object.defineProperty(t,"__esModule",{value:!0}),n=Error,r(i,n),i);function i(e){e=n.call(this,e)||this;return e.name="DecodingError",e}t.DecodingError=r}),N=(e(B),B.DecodingError,t(function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=(Object.defineProperty(t,"__esModule",{value:!0}),n=Error,r(i,n),i);function i(e){e=n.call(this,e)||this;return e.name="EncodingError",e}t.EncodingError=r})),x=(e(N),N.EncodingError,t(function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=(Object.defineProperty(t,"__esModule",{value:!0}),n=Error,r(i,n),i);function i(e){e=n.call(this,e)||this;return e.name="GVLError",e}t.GVLError=r})),U=(e(x),x.GVLError,t(function(e,t){var o,r,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),n=(Object.defineProperty(t,"__esModule",{value:!0}),r=Error,n(i,r),i);function i(e,t,n){t=r.call(this,"invalid value "+t+" passed for "+e+" "+(n=void 0===n?"":n))||this;return t.name="TCModelError",t}t.TCModelError=n})),h=(e(U),U.TCModelError,t(function(e,n){function t(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),t(B),t(N),t(x),t(U)})),u=(e(h),t(function(e,t){function n(){}Object.defineProperty(t,"__esModule",{value:!0}),n.encode=function(e){if(!/^[0-1]+$/.test(e))throw new h.EncodingError("Invalid bitField");var t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";for(var n="",o=0;o<e.length;o+=this.BASIS)n+=this.DICT[parseInt(e.substr(o,this.BASIS),2)];return n},n.decode=function(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new h.DecodingError("Invalidly encoded Base64URL string");for(var t="",n=0;n<e.length;n++){var o=this.REVERSE_DICT.get(e[n]).toString(2);t+="0".repeat(this.BASIS-o.length)+o}return t},n.DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",n.REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]),n.BASIS=6,n.LCM=24,t.Base64Url=n})),a=(e(u),u.Base64Url,t(function(e,t){var p=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&o>=e.length?void 0:e)&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function n(){}Object.defineProperty(t,"__esModule",{value:!0}),n.prototype.clone=function(){var n=this,o=new this.constructor;return Object.keys(this).forEach(function(e){var t=n.deepClone(n[e]);void 0!==t&&(o[e]=t)}),o},n.prototype.deepClone=function(e){var t,n,o=typeof e;if("number"==o||"string"==o||"boolean"==o)return e;if(null!==e&&"object"==o){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){var r=[];try{for(var i=p(e),s=i.next();!s.done;s=i.next()){var c=s.value;r.push(this.deepClone(c))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return e instanceof Array?r:new e.constructor(r)}var u,a={};for(u in e)e.hasOwnProperty(u)&&(a[u]=this.deepClone(e[u]));return a}},t.Cloneable=n})),c=(e(a),a.Cloneable,t(function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=(Object.defineProperty(t,"__esModule",{value:!0}),n=a.Cloneable,r(i,n),i.prototype.isEmpty=function(){return!this.root},i.prototype.add=function(e){var t,n={value:e,left:null,right:null};if(this.isEmpty())this.root=n;else for(t=this.root;;)if(e<t.value){if(null===t.left){t.left=n;break}t=t.left}else{if(!(e>t.value))break;if(null===t.right){t.right=n;break}t=t.right}},i.prototype.get=function(){for(var e=[],t=this.root;t;)if(t.left){for(var n=t.left;n.right&&n.right!=t;)n=n.right;t=n.right==t?(n.right=null,e.push(t.value),t.right):(n.right=t).left}else e.push(t.value),t=t.right;return e},i.prototype.contains=function(e){for(var t=!1,n=this.root;n;){if(n.value===e){t=!0;break}e>n.value?n=n.right:e<n.value&&(n=n.left)}return t},i.prototype.min=function(e){var t;for(void 0===e&&(e=this.root);e;)e=e.left||(t=e.value,null);return t},i.prototype.max=function(e){var t;for(void 0===e&&(e=this.root);e;)e=e.right||(t=e.value,null);return t},i.prototype.remove=function(e,t){void 0===t&&(t=this.root);for(var n,o=null,r="left";t;)e<t.value?(t=(o=t).left,r="left"):e>t.value?(t=(o=t).right,r="right"):(t.left||t.right?t.left?t.right?(n=this.min(t.right),this.remove(n,t.right),t.value=n):o?o[r]=t.left:this.root=t.left:o?o[r]=t.right:this.root=t.right:o?o[r]=null:this.root=null,t=null)},i);function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.root=null,e}t.BinarySearchTree=r})),G=(e(c),c.BinarySearchTree,t(function(e,t){function n(){}Object.defineProperty(t,"__esModule",{value:!0}),n.prototype.has=function(e){return n.langSet.has(e)},n.prototype.forEach=function(e){n.langSet.forEach(e)},Object.defineProperty(n.prototype,"size",{get:function(){return n.langSet.size},enumerable:!0,configurable:!0}),n.langSet=new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]),t.ConsentLanguages=n})),p=(e(G),G.ConsentLanguages,t(function(e,t){function n(){}Object.defineProperty(t,"__esModule",{value:!0}),n.cmpId="cmpId",n.cmpVersion="cmpVersion",n.consentLanguage="consentLanguage",n.consentScreen="consentScreen",n.created="created",n.supportOOB="supportOOB",n.isServiceSpecific="isServiceSpecific",n.lastUpdated="lastUpdated",n.numCustomPurposes="numCustomPurposes",n.policyVersion="policyVersion",n.publisherCountryCode="publisherCountryCode",n.publisherCustomConsents="publisherCustomConsents",n.publisherCustomLegitimateInterests="publisherCustomLegitimateInterests",n.publisherLegitimateInterests="publisherLegitimateInterests",n.publisherConsents="publisherConsents",n.publisherRestrictions="publisherRestrictions",n.purposeConsents="purposeConsents",n.purposeLegitimateInterests="purposeLegitimateInterests",n.purposeOneTreatment="purposeOneTreatment",n.specialFeatureOptins="specialFeatureOptins",n.useNonStandardStacks="useNonStandardStacks",n.vendorConsents="vendorConsents",n.vendorLegitimateInterests="vendorLegitimateInterests",n.vendorListVersion="vendorListVersion",n.vendorsAllowed="vendorsAllowed",n.vendorsDisclosed="vendorsDisclosed",n.version="version",t.Fields=n})),l=(e(p),p.Fields,t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.RestrictionType||(t.RestrictionType={}))[t.NOT_ALLOWED=0]="NOT_ALLOWED",t[t.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",t[t.REQUIRE_LI=2]="REQUIRE_LI"})),d=(e(l),l.RestrictionType,t(function(e,t){var o,r,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),n=(Object.defineProperty(t,"__esModule",{value:!0}),r=a.Cloneable,n(i,r),i.unHash=function(e){var t=e.split(this.hashSeparator),n=new i;if(2!==t.length)throw new h.TCModelError("hash",e);return n.purposeId=parseInt(t[0],10),n.restrictionType=parseInt(t[1],10),n},Object.defineProperty(i.prototype,"hash",{get:function(){if(this.isValid())return""+this.purposeId+i.hashSeparator+this.restrictionType;throw new Error("cannot hash invalid PurposeRestriction")},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"purposeId",{get:function(){return this.purposeId_},set:function(e){this.purposeId_=e},enumerable:!0,configurable:!0}),i.prototype.isValid=function(){return Number.isInteger(this.purposeId)&&0<this.purposeId&&(this.restrictionType===l.RestrictionType.NOT_ALLOWED||this.restrictionType===l.RestrictionType.REQUIRE_CONSENT||this.restrictionType===l.RestrictionType.REQUIRE_LI)},i.prototype.isSameAs=function(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType},i.hashSeparator="-",i);function i(e,t){var n=r.call(this)||this;return void 0!==e&&(n.purposeId=e),void 0!==t&&(n.restrictionType=t),n}t.PurposeRestriction=n})),k=(e(d),d.PurposeRestriction,t(function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&o>=e.length?void 0:e)&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},r=(Object.defineProperty(t,"__esModule",{value:!0}),n=a.Cloneable,r(i,n),i.prototype.has=function(e){return this.map.has(e)},i.prototype.isOkToHave=function(e,t,n){var o,r=!0;if(null!=(o=this.gvl)&&o.vendors){var i=this.gvl.vendors[n];if(i)if(e===l.RestrictionType.NOT_ALLOWED)r=i.legIntPurposes.includes(t)||i.purposes.includes(t);else if(i.flexiblePurposes.length)switch(e){case l.RestrictionType.REQUIRE_CONSENT:r=i.flexiblePurposes.includes(t)&&i.legIntPurposes.includes(t);break;case l.RestrictionType.REQUIRE_LI:r=i.flexiblePurposes.includes(t)&&i.purposes.includes(t)}else r=!1;else r=!1}return r},i.prototype.add=function(e,t){this.isOkToHave(t.restrictionType,t.purposeId,e)&&(t=t.hash,this.has(t)||(this.map.set(t,new c.BinarySearchTree),this.bitLength=0),this.map.get(t).add(e))},i.prototype.restrictPurposeToLegalBasis=function(e){for(var i=this.gvl.vendorIds,t=e.hash,n=function(){var t,e,n;try{for(var o=s(i),r=o.next();!r.done;r=o.next())n=r.value}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return n}(),o=1;o<=n;o++)this.has(t)||(this.map.set(t,new c.BinarySearchTree),this.bitLength=0),this.map.get(t).add(o)},i.prototype.getVendors=function(e){var t,n=[];return e?(e=e.hash,this.has(e)&&(n=this.map.get(e).get())):(t=new Set,this.map.forEach(function(e){e.get().forEach(function(e){t.add(e)})}),n=Array.from(t)),n},i.prototype.getRestrictionType=function(e,t){var n;return this.getRestrictions(e).forEach(function(e){e.purposeId===t&&(void 0===n||n>e.restrictionType)&&(n=e.restrictionType)}),n},i.prototype.vendorHasRestriction=function(e,t){for(var n=!1,o=this.getRestrictions(e),r=0;r<o.length&&!n;r++)n=t.isSameAs(o[r]);return n},i.prototype.getMaxVendorId=function(){var t=0;return this.map.forEach(function(e){t=Math.max(e.max(),t)}),t},i.prototype.getRestrictions=function(n){var o=[];return this.map.forEach(function(e,t){n&&!e.contains(n)||o.push(d.PurposeRestriction.unHash(t))}),o},i.prototype.getPurposes=function(){var n=new Set;return this.map.forEach(function(e,t){n.add(d.PurposeRestriction.unHash(t).purposeId)}),Array.from(n)},i.prototype.remove=function(e,t){var t=t.hash,n=this.map.get(t);n&&(n.remove(e),n.isEmpty())&&(this.map.delete(t),this.bitLength=0)},Object.defineProperty(i.prototype,"gvl",{get:function(){return this.gvl_},set:function(e){var o=this;this.gvl_||(this.gvl_=e,this.map.forEach(function(t,e){var n=d.PurposeRestriction.unHash(e);t.get().forEach(function(e){o.isOkToHave(n.restrictionType,n.purposeId,e)||t.remove(e)})}))},enumerable:!0,configurable:!0}),i.prototype.isEmpty=function(){return 0===this.map.size},Object.defineProperty(i.prototype,"numRestrictions",{get:function(){return this.map.size},enumerable:!0,configurable:!0}),i);function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.bitLength=0,e.map=new Map,e}t.PurposeRestrictionVector=r})),H=(e(k),k.PurposeRestrictionVector,t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.DeviceDisclosureStorageAccessType||(t.DeviceDisclosureStorageAccessType={})).COOKIE="cookie",t.WEB="web",t.APP="app"})),r=(e(H),H.DeviceDisclosureStorageAccessType,t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.Segment||(t.Segment={})).CORE="core",t.VENDORS_DISCLOSED="vendorsDisclosed",t.VENDORS_ALLOWED="vendorsAllowed",t.PUBLISHER_TC="publisherTC"})),Q=(e(r),r.Segment,t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),o.ID_TO_KEY=[r.Segment.CORE,r.Segment.VENDORS_DISCLOSED,r.Segment.VENDORS_ALLOWED,r.Segment.PUBLISHER_TC],o.KEY_TO_ID=((n={})[r.Segment.CORE]=0,n[r.Segment.VENDORS_DISCLOSED]=1,n[r.Segment.VENDORS_ALLOWED]=2,n[r.Segment.PUBLISHER_TC]=3,n);var n=o;function o(){}t.SegmentIDs=n})),J=(e(Q),Q.SegmentIDs,t(function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__generator||function(o,r){var i,s,c,u={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,s&&(c=2&t[0]?s.return:t[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,t[1])).done)return c;switch(s=0,(t=c?[2&t[0],c.value]:t)[0]){case 0:case 1:c=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,s=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(c=0<(c=u.trys).length&&c[c.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!c||t[1]>c[0]&&t[1]<c[3]))u.label=t[1];else if(6===t[0]&&u.label<c[1])u.label=c[1],c=t;else{if(!(c&&u.label<c[2])){c[2]&&u.ops.pop(),u.trys.pop();continue}u.label=c[2],u.ops.push(t)}}t=r.call(o,u)}catch(e){t=[6,e],s=0}finally{i=c=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},r=(Object.defineProperty(t,"__esModule",{value:!0}),n=a.Cloneable,r(s,n),s.prototype[Symbol.iterator]=function(){var t;return i(this,function(e){switch(e.label){case 0:t=1,e.label=1;case 1:return t<=this.maxId?[4,[t,this.has(t)]]:[3,4];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})},s.prototype.values=function(){return this.set_.values()},Object.defineProperty(s.prototype,"maxId",{get:function(){return this.maxId_},enumerable:!0,configurable:!0}),s.prototype.has=function(e){return this.set_.has(e)},s.prototype.unset=function(e){var t=this;Array.isArray(e)?e.forEach(function(e){return t.unset(e)}):"object"==typeof e?this.unset(Object.keys(e).map(function(e){return+e})):(this.set_.delete(e),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach(function(e){t.maxId_=Math.max(t.maxId,e)})))},s.prototype.isIntMap=function(n){var o=this,e="object"==typeof n;return e&&Object.keys(n).every(function(e){var t=Number.isInteger(parseInt(e,10));return(t=t&&o.isValidNumber(n[e].id))&&void 0!==n[e].name})},s.prototype.isValidNumber=function(e){return 0<parseInt(e,10)},s.prototype.isSet=function(e){var t=!1;return t=e instanceof Set?Array.from(e).every(this.isValidNumber):t},s.prototype.set=function(e){var t=this;if(Array.isArray(e))e.forEach(function(e){return t.set(e)});else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map(function(e){return+e}));else{if(!this.isValidNumber(e))throw new h.TCModelError("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}},s.prototype.empty=function(){this.set_=new Set},s.prototype.forEach=function(e){for(var t=1;t<=this.maxId;t++)e(this.has(t),t)},Object.defineProperty(s.prototype,"size",{get:function(){return this.set_.size},enumerable:!0,configurable:!0}),s.prototype.setAll=function(e){this.set(e)},s);function s(){var e=null!==n&&n.apply(this,arguments)||this;return e.bitLength=0,e.maxId_=0,e.set_=new Set,e}t.Vector=r})),A=(e(J),J.Vector,t(function(e,n){function t(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),t(c),t(G),t(p),t(d),t(k),t(H),t(l),t(r),t(Q),t(J)})),m=(e(A),t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});_=A.Fields.cmpId,n=A.Fields.cmpVersion,o=A.Fields.consentLanguage,r=A.Fields.consentScreen,i=A.Fields.created,s=A.Fields.isServiceSpecific,c=A.Fields.lastUpdated,u=A.Fields.policyVersion,a=A.Fields.publisherCountryCode,p=A.Fields.publisherLegitimateInterests,l=A.Fields.publisherConsents,d=A.Fields.purposeConsents,f=A.Fields.purposeLegitimateInterests,h=A.Fields.purposeOneTreatment,m=A.Fields.specialFeatureOptins,y=A.Fields.useNonStandardStacks,v=A.Fields.vendorListVersion,g=A.Fields.version,E[_]=12,E[n]=12,E[o]=12,E[r]=6,E[i]=36,E[s]=1,E[c]=36,E[u]=6,E[a]=12,E[p]=24,E[l]=24,E[d]=24,E[f]=24,E[h]=1,E[m]=12,E[y]=1,E[v]=12,E[g]=6,E.anyBoolean=1,E.encodingType=1,E.maxId=16,E.numCustomPurposes=6,E.numEntries=12,E.numRestrictions=12,E.purposeId=6,E.restrictionType=2,E.segmentType=3,E.singleOrRange=1,E.vendorId=16;var n,o,r,i,s,c,u,a,p,l,d,f,h,m,y,v,g,_=E;function E(){}t.BitLength=_})),V=(e(m),m.BitLength,t(function(e,t){function n(){}Object.defineProperty(t,"__esModule",{value:!0}),n.encode=function(e){return+e+""},n.decode=function(e){return"1"===e},t.BooleanEncoder=n})),T=(e(V),V.BooleanEncoder,t(function(e,t){function n(){}Object.defineProperty(t,"__esModule",{value:!0}),n.encode=function(e,t){var n;if((n=(e="string"==typeof e?parseInt(e,10):e).toString(2)).length>t||e<0)throw new h.EncodingError(e+" too large to encode into "+t);return n=n.length<t?"0".repeat(t-n.length)+n:n},n.decode=function(e,t){if(t!==e.length)throw new h.DecodingError("invalid bit length");return parseInt(e,2)},t.IntEncoder=n})),M=(e(T),T.IntEncoder,t(function(e,t){function n(){}Object.defineProperty(t,"__esModule",{value:!0}),n.encode=function(e,t){return T.IntEncoder.encode(Math.round(e.getTime()/100),t)},n.decode=function(e,t){if(t!==e.length)throw new h.DecodingError("invalid bit length");var n=new Date;return n.setTime(100*T.IntEncoder.decode(e,t)),n},t.DateEncoder=n})),F=(e(M),M.DateEncoder,t(function(e,t){function n(){}Object.defineProperty(t,"__esModule",{value:!0}),n.encode=function(e,t){for(var n="",o=1;o<=t;o++)n+=V.BooleanEncoder.encode(e.has(o));return n},n.decode=function(e,t){if(e.length!==t)throw new h.DecodingError("bitfield encoding length mismatch");for(var n=new A.Vector,o=1;o<=t;o++)V.BooleanEncoder.decode(e[o-1])&&n.set(o);return n.bitLength=e.length,n},t.FixedVectorEncoder=n})),R=(e(F),F.FixedVectorEncoder,t(function(e,t){function n(){}Object.defineProperty(t,"__esModule",{value:!0}),n.encode=function(e,t){var n=(e=e.toUpperCase()).charCodeAt(0)-65,o=e.charCodeAt(1)-65;if(n<0||25<n||o<0||25<o)throw new h.EncodingError("invalid language code: "+e);if(t%2==1)throw new h.EncodingError("numBits must be even, "+t+" is not valid");return T.IntEncoder.encode(n,t/=2)+T.IntEncoder.encode(o,t)},n.decode=function(e,t){if(t!==e.length||e.length%2)throw new h.DecodingError("invalid bit length for language");var t=e.length/2,n=T.IntEncoder.decode(e.slice(0,t),t)+65,e=T.IntEncoder.decode(e.slice(t),t)+65;return String.fromCharCode(n)+String.fromCharCode(e)},t.LangEncoder=n})),D=(e(R),R.LangEncoder,t(function(e,t){function n(){}Object.defineProperty(t,"__esModule",{value:!0}),n.encode=function(l){var d=T.IntEncoder.encode(l.numRestrictions,m.BitLength.numRestrictions);return l.isEmpty()||l.getRestrictions().forEach(function(e){d=(d+=T.IntEncoder.encode(e.purposeId,m.BitLength.purposeId))+T.IntEncoder.encode(e.restrictionType,m.BitLength.restrictionType);for(var t,n,o,r,i=l.getVendors(e),s=i.length,c=0,u=0,a="",p=0;p<s;p++)r=o=n=void 0,n=i[t=p],0===u&&(c++,u=n),o=i[s-1],r=l.gvl.vendorIds,(t===s-1||i[t+1]>function(e){for(;++e<=o&&!r.has(e););return e}(n))&&(t=!(n===u),a=(a+=V.BooleanEncoder.encode(t))+T.IntEncoder.encode(u,m.BitLength.vendorId),t&&(a+=T.IntEncoder.encode(n,m.BitLength.vendorId)),u=0);d=(d+=T.IntEncoder.encode(c,m.BitLength.numEntries))+a}),d},n.decode=function(e){var t=0,n=new A.PurposeRestrictionVector,o=T.IntEncoder.decode(e.substr(t,m.BitLength.numRestrictions),m.BitLength.numRestrictions);t+=m.BitLength.numRestrictions;for(var r=0;r<o;r++){var i=T.IntEncoder.decode(e.substr(t,m.BitLength.purposeId),m.BitLength.purposeId),s=(t+=m.BitLength.purposeId,T.IntEncoder.decode(e.substr(t,m.BitLength.restrictionType),m.BitLength.restrictionType)),c=(t+=m.BitLength.restrictionType,new A.PurposeRestriction(i,s)),u=T.IntEncoder.decode(e.substr(t,m.BitLength.numEntries),m.BitLength.numEntries);t+=m.BitLength.numEntries;for(var a=0;a<u;a++){var p=V.BooleanEncoder.decode(e.substr(t,m.BitLength.anyBoolean)),l=(t+=m.BitLength.anyBoolean,T.IntEncoder.decode(e.substr(t,m.BitLength.vendorId),m.BitLength.vendorId));if(t+=m.BitLength.vendorId,p){var d=T.IntEncoder.decode(e.substr(t,m.BitLength.vendorId),m.BitLength.vendorId);if(t+=m.BitLength.vendorId,d<l)throw new h.DecodingError("Invalid RangeEntry: endVendorId "+d+" is less than "+l);for(var f=l;f<=d;f++)n.add(f,c)}else n.add(l,c)}}return n.bitLength=t,n},t.PurposeRestrictionVectorEncoder=n})),f=(e(D),D.PurposeRestrictionVectorEncoder,t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.VectorEncodingType||(t.VectorEncodingType={}))[t.FIELD=0]="FIELD",t[t.RANGE=1]="RANGE"})),j=(e(f),f.VectorEncodingType,t(function(e,t){function n(){}Object.defineProperty(t,"__esModule",{value:!0}),n.encode=function(n){var o,r=[],i=[],e=T.IntEncoder.encode(n.maxId,v.BitLength.maxId),s="",t=v.BitLength.maxId+v.BitLength.encodingType,c=t+n.maxId,u=2*v.BitLength.vendorId+v.BitLength.singleOrRange+v.BitLength.numEntries,a=t+v.BitLength.numEntries;return n.forEach(function(e,t){s+=V.BooleanEncoder.encode(e),(o=n.maxId>u&&a<c)&&e&&(n.has(t+1)?0===i.length&&(i.push(t),a=(a+=v.BitLength.singleOrRange)+v.BitLength.vendorId):(i.push(t),a+=v.BitLength.vendorId,r.push(i),i=[]))}),o?e=(e+=f.VectorEncodingType.RANGE+"")+this.buildRangeEncoding(r):e=(e+=f.VectorEncodingType.FIELD+"")+s,e},n.decode=function(e,t){var n,o=0,r=T.IntEncoder.decode(e.substr(o,v.BitLength.maxId),v.BitLength.maxId),i=(o+=v.BitLength.maxId,T.IntEncoder.decode(e.charAt(o),v.BitLength.encodingType));if(o+=v.BitLength.encodingType,i===f.VectorEncodingType.RANGE){if(n=new A.Vector,1===t){if("1"===e.substr(o,1))throw new h.DecodingError("Unable to decode default consent=1");o++}var s=T.IntEncoder.decode(e.substr(o,v.BitLength.numEntries),v.BitLength.numEntries);o+=v.BitLength.numEntries;for(var c=0;c<s;c++){var u=V.BooleanEncoder.decode(e.charAt(o)),a=(o+=v.BitLength.singleOrRange,T.IntEncoder.decode(e.substr(o,v.BitLength.vendorId),v.BitLength.vendorId));if(o+=v.BitLength.vendorId,u){var p=T.IntEncoder.decode(e.substr(o,v.BitLength.vendorId),v.BitLength.vendorId);o+=v.BitLength.vendorId;for(var l=a;l<=p;l++)n.set(l)}else n.set(a)}}else{i=e.substr(o,r);o+=r,n=F.FixedVectorEncoder.decode(i,r)}return n.bitLength=o,n},n.buildRangeEncoding=function(e){var t=e.length,n=T.IntEncoder.encode(t,v.BitLength.numEntries);return e.forEach(function(e){var t=1===e.length;n=(n+=V.BooleanEncoder.encode(!t))+T.IntEncoder.encode(e[0],v.BitLength.vendorId),t||(n+=T.IntEncoder.encode(e[1],v.BitLength.vendorId))}),n},t.VendorVectorEncoder=n})),K=(e(j),j.VendorVectorEncoder,t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});w=A.Fields.version,n=A.Fields.created,o=A.Fields.lastUpdated,r=A.Fields.cmpId,i=A.Fields.cmpVersion,s=A.Fields.consentScreen,c=A.Fields.consentLanguage,u=A.Fields.vendorListVersion,a=A.Fields.policyVersion,p=A.Fields.isServiceSpecific,l=A.Fields.useNonStandardStacks,d=A.Fields.specialFeatureOptins,f=A.Fields.purposeConsents,h=A.Fields.purposeLegitimateInterests,m=A.Fields.purposeOneTreatment,y=A.Fields.publisherCountryCode,v=A.Fields.vendorConsents,g=A.Fields.vendorLegitimateInterests,_=A.Fields.publisherRestrictions,E=A.Fields.vendorsDisclosed,C=A.Fields.vendorsAllowed,b=A.Fields.publisherConsents,O=A.Fields.publisherLegitimateInterests,I=A.Fields.numCustomPurposes,S=A.Fields.publisherCustomConsents,L=A.Fields.publisherCustomLegitimateInterests,P[w]=T.IntEncoder,P[n]=M.DateEncoder,P[o]=M.DateEncoder,P[r]=T.IntEncoder,P[i]=T.IntEncoder,P[s]=T.IntEncoder,P[c]=R.LangEncoder,P[u]=T.IntEncoder,P[a]=T.IntEncoder,P[p]=V.BooleanEncoder,P[l]=V.BooleanEncoder,P[d]=F.FixedVectorEncoder,P[f]=F.FixedVectorEncoder,P[h]=F.FixedVectorEncoder,P[m]=V.BooleanEncoder,P[y]=R.LangEncoder,P[v]=j.VendorVectorEncoder,P[g]=j.VendorVectorEncoder,P[_]=D.PurposeRestrictionVectorEncoder,P.segmentType=T.IntEncoder,P[E]=j.VendorVectorEncoder,P[C]=j.VendorVectorEncoder,P[b]=F.FixedVectorEncoder,P[O]=F.FixedVectorEncoder,P[I]=T.IntEncoder,P[S]=F.FixedVectorEncoder,P[L]=F.FixedVectorEncoder;var n,o,r,i,s,c,u,a,p,l,d,f,h,m,y,v,g,_,E,C,b,O,I,S,L,w=P;function P(){}t.FieldEncoderMap=w})),y=(e(K),K.FieldEncoderMap,t(function(e,n){function t(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),t(V),t(M),t(K),t(F),t(T),t(R),t(D),t(f),t(j)})),W=(e(y),t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.FieldSequence=function(){var e;this[1]=((e={})[A.Segment.CORE]=[A.Fields.version,A.Fields.created,A.Fields.lastUpdated,A.Fields.cmpId,A.Fields.cmpVersion,A.Fields.consentScreen,A.Fields.consentLanguage,A.Fields.vendorListVersion,A.Fields.purposeConsents,A.Fields.vendorConsents],e),this[2]=((e={})[A.Segment.CORE]=[A.Fields.version,A.Fields.created,A.Fields.lastUpdated,A.Fields.cmpId,A.Fields.cmpVersion,A.Fields.consentScreen,A.Fields.consentLanguage,A.Fields.vendorListVersion,A.Fields.policyVersion,A.Fields.isServiceSpecific,A.Fields.useNonStandardStacks,A.Fields.specialFeatureOptins,A.Fields.purposeConsents,A.Fields.purposeLegitimateInterests,A.Fields.purposeOneTreatment,A.Fields.publisherCountryCode,A.Fields.vendorConsents,A.Fields.vendorLegitimateInterests,A.Fields.publisherRestrictions],e[A.Segment.PUBLISHER_TC]=[A.Fields.publisherConsents,A.Fields.publisherLegitimateInterests,A.Fields.numCustomPurposes,A.Fields.publisherCustomConsents,A.Fields.publisherCustomLegitimateInterests],e[A.Segment.VENDORS_ALLOWED]=[A.Fields.vendorsAllowed],e[A.Segment.VENDORS_DISCLOSED]=[A.Fields.vendorsDisclosed],e)}})),Y=(e(W),W.FieldSequence,t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.SegmentSequence=function(e,t){this[1]=[A.Segment.CORE],this[2]=[A.Segment.CORE],2===e.version&&(e.isServiceSpecific?this[2].push(A.Segment.PUBLISHER_TC):((t=!(!t||!t.isForVendors))&&!0!==e[A.Fields.supportOOB]||this[2].push(A.Segment.VENDORS_DISCLOSED),t&&(e[A.Fields.supportOOB]&&0<e[A.Fields.vendorsAllowed].size&&this[2].push(A.Segment.VENDORS_ALLOWED),this[2].push(A.Segment.PUBLISHER_TC))))}})),q=(e(Y),Y.SegmentSequence,t(function(e,n){function t(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),t(W),t(Y)})),z=(e(q),t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});o.encode=function(r,i){var e,s=this;try{e=this.fieldSequence[""+r.version][i]}catch(e){throw new h.EncodingError("Unable to encode version: "+r.version+", segment: "+i)}var c="";return i!==A.Segment.CORE&&(c=y.IntEncoder.encode(A.SegmentIDs.KEY_TO_ID[i],m.BitLength.segmentType)),e.forEach(function(t){var e=r[t],n=y.FieldEncoderMap[t],o=m.BitLength[t];void 0===o&&s.isPublisherCustom(t)&&(o=+r[p.Fields.numCustomPurposes]);try{c+=n.encode(e,o)}catch(e){throw new h.EncodingError("Error encoding "+i+"->"+t+": "+e.message)}}),u.Base64Url.encode(c)},o.decode=function(e,r,t){var i=this,s=u.Base64Url.decode(e),c=0;return t===A.Segment.CORE&&(r.version=y.IntEncoder.decode(s.substr(c,m.BitLength[p.Fields.version]),m.BitLength[p.Fields.version])),t!==A.Segment.CORE&&(c+=m.BitLength.segmentType),this.fieldSequence[""+r.version][t].forEach(function(e){var t=y.FieldEncoderMap[e],n=m.BitLength[e];if(0!==(n=void 0===n&&i.isPublisherCustom(e)?+r[p.Fields.numCustomPurposes]:n)){var o=s.substr(c,n);if(t===y.VendorVectorEncoder?r[e]=t.decode(o,r.version):r[e]=t.decode(o,n),Number.isInteger(n))c+=n;else{if(!Number.isInteger(r[e].bitLength))throw new h.DecodingError(e);c+=r[e].bitLength}}}),r},o.isPublisherCustom=function(e){return 0===e.indexOf("publisherCustom")},o.fieldSequence=new q.FieldSequence;var n=o;function o(){}t.SegmentEncoder=n})),X=(e(z),z.SegmentEncoder,t(function(e,t){function n(){}Object.defineProperty(t,"__esModule",{value:!0}),n.process=function(e,t){var n=e.gvl;if(!n)throw new h.EncodingError("Unable to encode TCModel without a GVL");if(!n.isReady)throw new h.EncodingError("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=n.language.toUpperCase(),0<(null==(o=t)?void 0:o.version)&&(null==(o=t)?void 0:o.version)<=this.processor.length?e.version=t.version:e.version=this.processor.length;var o=e.version-1;if(this.processor[o])return this.processor[o](e,n);throw new h.EncodingError("Invalid version: "+e.version)},n.processor=[function(e){return e},function(u,a){u.publisherRestrictions.gvl=a,u.purposeLegitimateInterests.unset(1);var e=new Map;return e.set("legIntPurposes",u.vendorLegitimateInterests),e.set("purposes",u.vendorConsents),e.forEach(function(s,c){s.forEach(function(e,t){if(e){e=a.vendors[t];if(!e||e.deletedDate)s.unset(t);else if(0===e[c].length&&!("legIntPurposes"===c&&0===e.purposes.length&&0===e.legIntPurposes.length&&0<e.specialPurposes.length))if(u.isServiceSpecific)if(0===e.flexiblePurposes.length)s.unset(t);else{for(var n=u.publisherRestrictions.getRestrictions(t),o=!1,r=0,i=n.length;r<i&&!o;r++)o=n[r].restrictionType===A.RestrictionType.REQUIRE_CONSENT&&"purposes"===c||n[r].restrictionType===A.RestrictionType.REQUIRE_LI&&"legIntPurposes"===c;o||s.unset(t)}else s.unset(t)}})}),u.vendorsDisclosed.set(a.vendors),u}],t.SemanticPreEncoder=n})),v=(e(X),X.SemanticPreEncoder,t(function(e,n){function t(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),t(u),t(m),t(z),t(X),t(y),t(q)})),Z=(e(v),t(function(e,t){function n(){}Object.defineProperty(t,"__esModule",{value:!0}),n.absCall=function(e,r,i,s){return new Promise(function(t,n){var o=new XMLHttpRequest;o.withCredentials=i,o.addEventListener("load",function(){if(o.readyState==XMLHttpRequest.DONE)if(200<=o.status&&o.status<300){var e=o.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}t(e)}else n(new Error("HTTP Status: "+o.status+" response type: "+o.responseType))}),o.addEventListener("error",function(){n(new Error("error"))}),o.addEventListener("abort",function(){n(new Error("aborted"))}),null===r?o.open("GET",e,!0):o.open("POST",e,!0),o.responseType="json",o.timeout=s,o.ontimeout=function(){n(new Error("Timeout "+s+"ms "+e))},o.send(r)})},n.post=function(e,t,n,o){return void 0===n&&(n=!1),void 0===o&&(o=0),this.absCall(e,JSON.stringify(t),n,o)},n.fetch=function(e,t,n){return this.absCall(e,null,t=void 0===t?!1:t,n=void 0===n?0:n)},t.Json=n})),s=(e(Z),Z.Json,t(function(e,t){var o,r,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__awaiter||function(e,s,c,u){return new(c=c||Promise)(function(n,t){function o(e){try{i(u.next(e))}catch(e){t(e)}}function r(e){try{i(u.throw(e))}catch(e){t(e)}}function i(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(o,r)}i((u=u.apply(e,s||[])).next())})},c=this&&this.__generator||function(o,r){var i,s,c,u={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(n){return function(e){var t=[n,e];if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,s&&(c=2&t[0]?s.return:t[0]?s.throw||((c=s.return)&&c.call(s),0):s.next)&&!(c=c.call(s,t[1])).done)return c;switch(s=0,(t=c?[2&t[0],c.value]:t)[0]){case 0:case 1:c=t;break;case 4:return u.label++,{value:t[1],done:!1};case 5:u.label++,s=t[1],t=[0];continue;case 7:t=u.ops.pop(),u.trys.pop();continue;default:if(!(c=0<(c=u.trys).length&&c[c.length-1])&&(6===t[0]||2===t[0])){u=0;continue}if(3===t[0]&&(!c||t[1]>c[0]&&t[1]<c[3]))u.label=t[1];else if(6===t[0]&&u.label<c[1])u.label=c[1],c=t;else{if(!(c&&u.label<c[2])){c[2]&&u.ops.pop(),u.trys.pop();continue}u.label=c[2],u.ops.push(t)}}t=r.call(o,u)}catch(e){t=[6,e],s=0}finally{i=c=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},n=(Object.defineProperty(t,"__esModule",{value:!0}),r=a.Cloneable,n(u,r),Object.defineProperty(u,"baseUrl",{get:function(){return this.baseUrl_},set:function(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new h.GVLError("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");0<e.length&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e},enumerable:!0,configurable:!0}),u.emptyLanguageCache=function(e){var t=!1;return void 0===e&&0<u.LANGUAGE_CACHE.size?(u.LANGUAGE_CACHE=new Map,t=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(u.LANGUAGE_CACHE.delete(e.toUpperCase()),t=!0),t},u.emptyCache=function(e){var t=!1;return Number.isInteger(e)&&0<=e?(u.CACHE.delete(e),t=!0):void 0===e&&(u.CACHE=new Map,t=!0),t},u.prototype.cacheLanguage=function(){u.LANGUAGE_CACHE.has(this.lang_)||u.LANGUAGE_CACHE.set(this.lang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks})},u.prototype.fetchJson=function(o){return s(this,void 0,void 0,function(){var t,n;return c(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),t=this.populate,[4,Z.Json.fetch(o)];case 1:return t.apply(this,[e.sent()]),[3,3];case 2:throw n=e.sent(),new h.GVLError(n.message);case 3:return[2]}})})},u.prototype.getJson=function(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,vendors:this.fullVendorList}))},u.prototype.changeLanguage=function(i){return s(this,void 0,void 0,function(){var t,n,o,r;return c(this,function(e){switch(e.label){case 0:if(r=i.toUpperCase(),!u.consentLanguages.has(r))return[3,6];if(r!==this.lang_){if(this.lang_=r,!u.LANGUAGE_CACHE.has(r))return[3,1];for(n in t=u.LANGUAGE_CACHE.get(r))t.hasOwnProperty(n)&&(this[n]=t[n])}return[3,5];case 1:o=u.baseUrl+u.languageFilename.replace("[LANG]",i),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,this.fetchJson(o)];case 3:return e.sent(),this.cacheLanguage(),[3,5];case 4:throw r=e.sent(),new h.GVLError("unable to load language: "+r.message);case 5:return[3,7];case 6:throw new h.GVLError("unsupported language "+i);case 7:return[2]}})})},Object.defineProperty(u.prototype,"language",{get:function(){return this.lang_},enumerable:!0,configurable:!0}),u.prototype.isVendorList=function(e){return void 0!==e&&void 0!==e.vendors},u.prototype.populate=function(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&u.CACHE.set(u.LATEST_CACHE_KEY,this.getJson()),u.CACHE.has(this.vendorListVersion)||u.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()},u.prototype.mapVendors=function(e){var o=this;this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach(function(e){o.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}}),Object.keys(this.specialPurposes).forEach(function(e){o.bySpecialPurposeVendorMap[e]=new Set}),Object.keys(this.features).forEach(function(e){o.byFeatureVendorMap[e]=new Set}),Object.keys(this.specialFeatures).forEach(function(e){o.bySpecialFeatureVendorMap[e]=new Set}),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map(function(e){return+e})),this.vendorIds=new Set(e),this.vendors_=e.reduce(function(e,t){var n=o.vendors_[""+t];return n&&void 0===n.deletedDate&&(n.purposes.forEach(function(e){o.byPurposeVendorMap[e+""].consent.add(t)}),n.specialPurposes.forEach(function(e){o.bySpecialPurposeVendorMap[e+""].add(t)}),n.legIntPurposes.forEach(function(e){o.byPurposeVendorMap[e+""].legInt.add(t)}),n.flexiblePurposes&&n.flexiblePurposes.forEach(function(e){o.byPurposeVendorMap[e+""].flexible.add(t)}),n.features.forEach(function(e){o.byFeatureVendorMap[e+""].add(t)}),n.specialFeatures.forEach(function(e){o.bySpecialFeatureVendorMap[e+""].add(t)}),e[t]=n),e},{})},u.prototype.getFilteredVendors=function(e,t,n,o){var r=this,i=e.charAt(0).toUpperCase()+e.slice(1),s={};return("purpose"===e&&n?this["by"+i+"VendorMap"][t+""][n]:this["by"+(o?"Special":"")+i+"VendorMap"][t+""]).forEach(function(e){s[e+""]=r.vendors[e+""]}),s},u.prototype.getVendorsWithConsentPurpose=function(e){return this.getFilteredVendors("purpose",e,"consent")},u.prototype.getVendorsWithLegIntPurpose=function(e){return this.getFilteredVendors("purpose",e,"legInt")},u.prototype.getVendorsWithFlexiblePurpose=function(e){return this.getFilteredVendors("purpose",e,"flexible")},u.prototype.getVendorsWithSpecialPurpose=function(e){return this.getFilteredVendors("purpose",e,void 0,!0)},u.prototype.getVendorsWithFeature=function(e){return this.getFilteredVendors("feature",e)},u.prototype.getVendorsWithSpecialFeature=function(e){return this.getFilteredVendors("feature",e,void 0,!0)},Object.defineProperty(u.prototype,"vendors",{get:function(){return this.vendors_},enumerable:!0,configurable:!0}),u.prototype.narrowVendorsTo=function(e){this.mapVendors(e)},Object.defineProperty(u.prototype,"isReady",{get:function(){return this.isReady_},enumerable:!0,configurable:!0}),u.prototype.clone=function(){var e=new u(this.getJson());return this.lang_!==u.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e},u.isInstanceOf=function(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo},u.LANGUAGE_CACHE=new Map,u.CACHE=new Map,u.LATEST_CACHE_KEY=0,u.DEFAULT_LANGUAGE="EN",u.consentLanguages=new A.ConsentLanguages,u.latestFilename="vendor-list.json",u.versionedFilename="archives/vendor-list-v[VERSION].json",u.languageFilename="purposes-[LANG].json",u);function u(e){var t=r.call(this)||this,n=(t.isReady_=!1,t.isLatest=!1,u.baseUrl);if(t.lang_=u.DEFAULT_LANGUAGE,t.isVendorList(e))t.populate(e),t.readyPromise=Promise.resolve();else{if(!n)throw new h.GVLError("must specify GVL.baseUrl before loading GVL json");0<e?u.CACHE.has(e=e)?(t.populate(u.CACHE.get(e)),t.readyPromise=Promise.resolve()):(n+=u.versionedFilename.replace("[VERSION]",e+""),t.readyPromise=t.fetchJson(n)):u.CACHE.has(u.LATEST_CACHE_KEY)?(t.populate(u.CACHE.get(u.LATEST_CACHE_KEY)),t.readyPromise=Promise.resolve()):(t.isLatest=!0,t.readyPromise=t.fetchJson(n+u.latestFilename))}return t}t.GVL=n})),$=(e(s),s.GVL,t(function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=(Object.defineProperty(t,"__esModule",{value:!0}),n=a.Cloneable,r(i,n),Object.defineProperty(i.prototype,"gvl",{get:function(){return this.gvl_},set:function(e){s.GVL.isInstanceOf(e)||(e=new s.GVL(e)),this.gvl_=e,this.publisherRestrictions.gvl=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cmpId",{get:function(){return this.cmpId_},set:function(e){if(!(Number.isInteger(+e)&&1<e))throw new h.TCModelError("cmpId",e);this.cmpId_=+e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cmpVersion",{get:function(){return this.cmpVersion_},set:function(e){if(!(Number.isInteger(+e)&&-1<e))throw new h.TCModelError("cmpVersion",e);this.cmpVersion_=+e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"consentScreen",{get:function(){return this.consentScreen_},set:function(e){if(!(Number.isInteger(+e)&&-1<e))throw new h.TCModelError("consentScreen",e);this.consentScreen_=+e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"consentLanguage",{get:function(){return this.consentLanguage_},set:function(e){this.consentLanguage_=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"publisherCountryCode",{get:function(){return this.publisherCountryCode_},set:function(e){if(!/^([A-z]){2}$/.test(e))throw new h.TCModelError("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"vendorListVersion",{get:function(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_},set:function(e){if((e=+e>>0)<0)throw new h.TCModelError("vendorListVersion",e);this.vendorListVersion_=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"policyVersion",{get:function(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_},set:function(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new h.TCModelError("policyVersion",e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"version",{get:function(){return this.version_},set:function(e){this.version_=parseInt(e,10)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isServiceSpecific",{get:function(){return this.isServiceSpecific_},set:function(e){this.isServiceSpecific_=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"useNonStandardStacks",{get:function(){return this.useNonStandardStacks_},set:function(e){this.useNonStandardStacks_=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"supportOOB",{get:function(){return this.supportOOB_},set:function(e){this.supportOOB_=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"purposeOneTreatment",{get:function(){return this.purposeOneTreatment_},set:function(e){this.purposeOneTreatment_=e},enumerable:!0,configurable:!0}),i.prototype.setAllVendorConsents=function(){this.vendorConsents.set(this.gvl.vendors)},i.prototype.unsetAllVendorConsents=function(){this.vendorConsents.empty()},i.prototype.setAllVendorsDisclosed=function(){this.vendorsDisclosed.set(this.gvl.vendors)},i.prototype.unsetAllVendorsDisclosed=function(){this.vendorsDisclosed.empty()},i.prototype.setAllVendorsAllowed=function(){this.vendorsAllowed.set(this.gvl.vendors)},i.prototype.unsetAllVendorsAllowed=function(){this.vendorsAllowed.empty()},i.prototype.setAllVendorLegitimateInterests=function(){this.vendorLegitimateInterests.set(this.gvl.vendors)},i.prototype.unsetAllVendorLegitimateInterests=function(){this.vendorLegitimateInterests.empty()},i.prototype.setAllPurposeConsents=function(){this.purposeConsents.set(this.gvl.purposes)},i.prototype.unsetAllPurposeConsents=function(){this.purposeConsents.empty()},i.prototype.setAllPurposeLegitimateInterests=function(){this.purposeLegitimateInterests.set(this.gvl.purposes)},i.prototype.unsetAllPurposeLegitimateInterests=function(){this.purposeLegitimateInterests.empty()},i.prototype.setAllSpecialFeatureOptins=function(){this.specialFeatureOptins.set(this.gvl.specialFeatures)},i.prototype.unsetAllSpecialFeatureOptins=function(){this.specialFeatureOptins.empty()},i.prototype.setAll=function(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()},i.prototype.unsetAll=function(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()},Object.defineProperty(i.prototype,"numCustomPurposes",{get:function(){var e,t=this.numCustomPurposes_;return"object"==typeof this.customPurposes&&(e=Object.keys(this.customPurposes).sort(function(e,t){return+e-+t}),t=parseInt(e.pop(),10)),t},set:function(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new h.TCModelError("numCustomPurposes",e)},enumerable:!0,configurable:!0}),i.prototype.updated=function(){var e=new Date,e=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=e,this.lastUpdated=e},i.consentLanguages=s.GVL.consentLanguages,i);function i(e){var t=n.call(this)||this;return t.isServiceSpecific_=!1,t.supportOOB_=!0,t.useNonStandardStacks_=!1,t.purposeOneTreatment_=!1,t.publisherCountryCode_="AA",t.version_=2,t.consentScreen_=0,t.policyVersion_=2,t.consentLanguage_="EN",t.cmpId_=0,t.cmpVersion_=0,t.vendorListVersion_=0,t.numCustomPurposes_=0,t.specialFeatureOptins=new A.Vector,t.purposeConsents=new A.Vector,t.purposeLegitimateInterests=new A.Vector,t.publisherConsents=new A.Vector,t.publisherLegitimateInterests=new A.Vector,t.publisherCustomConsents=new A.Vector,t.publisherCustomLegitimateInterests=new A.Vector,t.vendorConsents=new A.Vector,t.vendorLegitimateInterests=new A.Vector,t.vendorsDisclosed=new A.Vector,t.vendorsAllowed=new A.Vector,t.publisherRestrictions=new A.PurposeRestrictionVector,e&&(t.gvl=e),t.updated(),t}t.TCModel=r})),ee=(e($),$.TCModel,t(function(e,t){function n(){}Object.defineProperty(t,"__esModule",{value:!0}),n.encode=function(o,e){var t,r,i="";return o=v.SemanticPreEncoder.process(o,e),(r=Array.isArray(null==(t=e)?void 0:t.segments)?e.segments:new v.SegmentSequence(o,e)[""+o.version]).forEach(function(e,t){var n="";t<r.length-1&&(n="."),i+=v.SegmentEncoder.encode(o,e)+n}),i},n.decode=function(e,t){var n=e.split("."),o=n.length;t=t||new $.TCModel;for(var r=0;r<o;r++){var i=n[r],s=v.Base64Url.decode(i.charAt(0)).substr(0,v.BitLength.segmentType),s=A.SegmentIDs.ID_TO_KEY[T.IntEncoder.decode(s,v.BitLength.segmentType).toString()];v.SegmentEncoder.decode(i,t,s)}return t},t.TCString=n})),g=(e(ee),ee.TCString,t(function(e,n){function t(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),t(v),t(h),t(A),t(a),t(s),t(Z),t($),t(ee)})),te=(e(g),g.TCString),ne=g.GVL,oe=g.TCModel,re=g.PurposeRestriction,_=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.TCFCommand||(t.TCFCommand={})).PING="ping",t.GET_TC_DATA="getTCData",t.GET_IN_APP_TC_DATA="getInAppTCData",t.GET_VENDOR_LIST="getVendorList",t.ADD_EVENT_LISTENER="addEventListener",t.REMOVE_EVENT_LISTENER="removeEventListener"}),E=(e(_),_.TCFCommand,t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,o=_;for(n in o)t.hasOwnProperty(n)||(t[n]=o[n])})),ie=(e(E),t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.CmpStatus||(t.CmpStatus={})).STUB="stub",t.LOADING="loading",t.LOADED="loaded",t.ERROR="error"})),se=(e(ie),ie.CmpStatus,t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.DisplayStatus||(t.DisplayStatus={})).VISIBLE="visible",t.HIDDEN="hidden",t.DISABLED="disabled"})),ce=(e(se),se.DisplayStatus,t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),(t=t.EventStatus||(t.EventStatus={})).TC_LOADED="tcloaded",t.CMP_UI_SHOWN="cmpuishown",t.USER_ACTION_COMPLETE="useractioncomplete"})),C=(e(ce),ce.EventStatus,t(function(e,n){function t(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),t(ie),t(se),t(ce)})),b=(e(C),t(function(e,t){function n(e,t,n,o){this.success=!0,Object.assign(this,{callback:e,listenerId:n,param:t,next:o});try{this.respond()}catch(e){this.invokeCallback(null)}}Object.defineProperty(t,"__esModule",{value:!0}),n.prototype.invokeCallback=function(e){var t=null!==e;"function"==typeof this.next?this.callback(this.next,e,t):this.callback(e,t)},t.Command=n})),O=(e(b),b.Command,t(function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=(Object.defineProperty(t,"__esModule",{value:!0}),n=b.Command,r(i,n),i.prototype.respond=function(){this.throwIfParamInvalid(),this.invokeCallback(new L.TCData(this.param,this.listenerId))},i.prototype.throwIfParamInvalid=function(){if(!(void 0===this.param||Array.isArray(this.param)&&this.param.every(Number.isInteger)))throw new Error("Invalid Parameter")},i);function i(){return null!==n&&n.apply(this,arguments)||this}t.GetTCDataCommand=r})),ue=(e(O),O.GetTCDataCommand,t(function(e,t){function n(){this.eventQueue=new Map,this.queueNumber=0}Object.defineProperty(t,"__esModule",{value:!0}),n.prototype.add=function(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++},n.prototype.remove=function(e){return this.eventQueue.delete(e)},n.prototype.exec=function(){this.eventQueue.forEach(function(e,t){new O.GetTCDataCommand(e.callback,e.param,t,e.next)})},n.prototype.clear=function(){this.queueNumber=0,this.eventQueue.clear()},Object.defineProperty(n.prototype,"size",{get:function(){return this.eventQueue.size},enumerable:!0,configurable:!0}),t.EventListenerQueue=n})),I=(e(ue),ue.EventListenerQueue,t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});o.reset=function(){delete this.cmpId,delete this.cmpVersion,delete this.eventStatus,delete this.gdprApplies,delete this.tcModel,delete this.tcString,delete this.tcfPolicyVersion,this.cmpStatus=C.CmpStatus.LOADING,this.disabled=!1,this.displayStatus=C.DisplayStatus.HIDDEN,this.eventQueue.clear()},o.apiVersion="2",o.eventQueue=new ue.EventListenerQueue,o.cmpStatus=C.CmpStatus.LOADING,o.disabled=!1,o.displayStatus=C.DisplayStatus.HIDDEN;var n=o;function o(){}t.CmpApiModel=n})),S=(e(I),I.CmpApiModel,t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.Response=function(){this.cmpId=I.CmpApiModel.cmpId,this.cmpVersion=I.CmpApiModel.cmpVersion,this.gdprApplies=I.CmpApiModel.gdprApplies,this.tcfPolicyVersion=I.CmpApiModel.tcfPolicyVersion}})),ae=(e(S),S.Response,t(function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=(Object.defineProperty(t,"__esModule",{value:!0}),n=S.Response,r(i,n),i);function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.cmpStatus=C.CmpStatus.ERROR,e}t.Disabled=r})),pe=(e(ae),ae.Disabled,t(function(e,t){var o,r,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},n=(Object.defineProperty(t,"__esModule",{value:!0}),r=S.Response,n(c,r),c.prototype.createRestrictions=function(t){var o={};if(0<t.numRestrictions)for(var e=t.getMaxVendorId(),n=1;n<=e;n++)!function(e){var n=e.toString();t.getRestrictions(e).forEach(function(e){var t=e.purposeId.toString();o[t]||(o[t]={}),o[t][n]=e.restrictionType})}(n);return o},c.prototype.createVectorField=function(n,e){return e?e.reduce(function(e,t){return e[t+""]=n.has(+t),e},{}):s(n).reduce(function(e,t){return e[t[0].toString(10)]=t[1],e},{})},c);function c(e,t){var n=r.call(this)||this;return n.eventStatus=I.CmpApiModel.eventStatus,n.cmpStatus=I.CmpApiModel.cmpStatus,n.listenerId=t,I.CmpApiModel.gdprApplies&&(t=I.CmpApiModel.tcModel,n.tcString=I.CmpApiModel.tcString,n.isServiceSpecific=t.isServiceSpecific,n.useNonStandardStacks=t.useNonStandardStacks,n.purposeOneTreatment=t.purposeOneTreatment,n.publisherCC=t.publisherCountryCode,n.outOfBand={allowedVendors:n.createVectorField(t.vendorsAllowed,e),disclosedVendors:n.createVectorField(t.vendorsDisclosed,e)},n.purpose={consents:n.createVectorField(t.purposeConsents),legitimateInterests:n.createVectorField(t.purposeLegitimateInterests)},n.vendor={consents:n.createVectorField(t.vendorConsents,e),legitimateInterests:n.createVectorField(t.vendorLegitimateInterests,e)},n.specialFeatureOptins=n.createVectorField(t.specialFeatureOptins),n.publisher={consents:n.createVectorField(t.publisherConsents),legitimateInterests:n.createVectorField(t.publisherLegitimateInterests),customPurpose:{consents:n.createVectorField(t.publisherCustomConsents),legitimateInterests:n.createVectorField(t.publisherCustomLegitimateInterests)},restrictions:n.createRestrictions(t.publisherRestrictions)}),n}t.TCData=n})),le=(e(pe),pe.TCData,t(function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},r=(Object.defineProperty(t,"__esModule",{value:!0}),n=pe.TCData,r(c,n),c.prototype.createVectorField=function(e){return s(e).reduce(function(e,t){return e+(t[1]?"1":"0")},"")},c.prototype.createRestrictions=function(e){var i={};if(0<e.numRestrictions){var t=e.getMaxVendorId();e.getRestrictions().forEach(function(e){i[e.purposeId.toString()]="_".repeat(t)});for(var n=0;n<t;n++)!function(r){e.getRestrictions(r+1).forEach(function(e){var t=e.restrictionType.toString(),e=e.purposeId.toString(),n=i[e].substr(0,r),o=i[e].substr(r+1);i[e]=n+t+o})}(n)}return i},c);function c(e){e=n.call(this,e)||this;return delete e.outOfBand,e}t.InAppTCData=r})),de=(e(le),le.InAppTCData,t(function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=(Object.defineProperty(t,"__esModule",{value:!0}),n=S.Response,r(i,n),i);function i(){var e=n.call(this)||this;return e.cmpLoaded=!0,e.cmpStatus=I.CmpApiModel.cmpStatus,e.displayStatus=I.CmpApiModel.displayStatus,e.apiVersion=""+I.CmpApiModel.apiVersion,I.CmpApiModel.tcModel&&I.CmpApiModel.tcModel.vendorListVersion&&(e.gvlVersion=+I.CmpApiModel.tcModel.vendorListVersion),e}t.Ping=r})),L=(e(de),de.Ping,t(function(e,n){function t(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),t(ae),t(le),t(de),t(S),t(pe)})),fe=(e(L),t(function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=(Object.defineProperty(t,"__esModule",{value:!0}),n=b.Command,r(i,n),i.prototype.respond=function(){this.invokeCallback(new L.Ping)},i);function i(){return null!==n&&n.apply(this,arguments)||this}t.PingCommand=r})),he=(e(fe),fe.PingCommand,t(function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=(Object.defineProperty(t,"__esModule",{value:!0}),n=O.GetTCDataCommand,r(i,n),i.prototype.respond=function(){this.throwIfParamInvalid(),this.invokeCallback(new L.InAppTCData(this.param))},i);function i(){return null!==n&&n.apply(this,arguments)||this}t.GetInAppTCDataCommand=r})),me=(e(he),he.GetInAppTCDataCommand,t(function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=(Object.defineProperty(t,"__esModule",{value:!0}),n=b.Command,r(i,n),i.prototype.respond=function(){var e,t=this,n=I.CmpApiModel.tcModel,o=n.vendorListVersion;void 0===this.param&&(this.param=o),(e=this.param===o&&n.gvl?n.gvl:new g.GVL(this.param)).readyPromise.then(function(){t.invokeCallback(e.getJson())})},i);function i(){return null!==n&&n.apply(this,arguments)||this}t.GetVendorListCommand=r})),ye=(e(me),me.GetVendorListCommand,t(function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=(Object.defineProperty(t,"__esModule",{value:!0}),n=O.GetTCDataCommand,r(i,n),i.prototype.respond=function(){this.listenerId=I.CmpApiModel.eventQueue.add({callback:this.callback,param:this.param,next:this.next}),n.prototype.respond.call(this)},i);function i(){return null!==n&&n.apply(this,arguments)||this}t.AddEventListenerCommand=r})),ve=(e(ye),ye.AddEventListenerCommand,t(function(e,t){var o,n,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=(Object.defineProperty(t,"__esModule",{value:!0}),n=b.Command,r(i,n),i.prototype.respond=function(){this.invokeCallback(I.CmpApiModel.eventQueue.remove(this.param))},i);function i(){return null!==n&&n.apply(this,arguments)||this}t.RemoveEventListenerCommand=r})),w=(e(ve),ve.RemoveEventListenerCommand,t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});c=_.TCFCommand.PING,n=_.TCFCommand.GET_TC_DATA,o=_.TCFCommand.GET_IN_APP_TC_DATA,r=_.TCFCommand.GET_VENDOR_LIST,i=_.TCFCommand.ADD_EVENT_LISTENER,s=_.TCFCommand.REMOVE_EVENT_LISTENER,u[c]=fe.PingCommand,u[n]=O.GetTCDataCommand,u[o]=he.GetInAppTCDataCommand,u[r]=me.GetVendorListCommand,u[i]=ye.AddEventListenerCommand,u[s]=ve.RemoveEventListenerCommand;var n,o,r,i,s,c=u;function u(){}t.CommandMap=c})),ge=(e(w),w.CommandMap,t(function(e,t){function n(){}Object.defineProperty(t,"__esModule",{value:!0}),n.has=function(e){return this.set_.has(e="string"==typeof e?+e:e)},n.set_=new Set([0,2,void 0,null]),t.SupportedVersions=n})),i=(e(ge),ge.SupportedVersions,t(function(e,o){var n=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e},t=(Object.defineProperty(o,"__esModule",{value:!0}),o.API_KEY="__tcfapi",r.prototype.apiCall=function(e,t,n){for(var o,r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];if("string"!=typeof e)n(null,!1);else if(ge.SupportedVersions.has(t)){if("function"!=typeof n)throw new Error("invalid callback function");I.CmpApiModel.disabled?n(new ae.Disabled,!1):this.isCustomCommand(e)||this.isBuiltInCommand(e)?this.isCustomCommand(e)&&!this.isBuiltInCommand(e)?(o=this.customCommands)[e].apply(o,s([n],r)):e===E.TCFCommand.PING?this.isCustomCommand(e)?new w.CommandMap[e](this.customCommands[e],r[0],null,n):new w.CommandMap[e](n,r[0]):void 0===I.CmpApiModel.tcModel?this.callQueue.push(s([e,t,n],r)):this.isCustomCommand(e)&&this.isBuiltInCommand(e)?new w.CommandMap[e](this.customCommands[e],r[0],null,n):new w.CommandMap[e](n,r[0]):n(null,!1)}else n(null,!1)},r.prototype.purgeQueuedCalls=function(){var e=this.callQueue;this.callQueue=[],e.forEach(function(e){window[o.API_KEY].apply(window,s(e))})},r.prototype.isCustomCommand=function(e){return this.customCommands&&"function"==typeof this.customCommands[e]},r.prototype.isBuiltInCommand=function(e){return void 0!==w.CommandMap[e]},r);function r(e){var t;if(e){var n=E.TCFCommand.ADD_EVENT_LISTENER;if(null!=(t=e)&&t[n])throw new Error("Built-In Custom Commmand for "+n+" not allowed: Use "+E.TCFCommand.GET_TC_DATA+" instead");if(n=E.TCFCommand.REMOVE_EVENT_LISTENER,null!=(t=e)&&t[n])throw new Error("Built-In Custom Commmand for "+n+" not allowed");null!=(t=e)&&t[E.TCFCommand.GET_TC_DATA]&&(e[E.TCFCommand.ADD_EVENT_LISTENER]=e[E.TCFCommand.GET_TC_DATA],e[E.TCFCommand.REMOVE_EVENT_LISTENER]=e[E.TCFCommand.GET_TC_DATA]),this.customCommands=e}try{this.callQueue=window[o.API_KEY]()||[]}catch(e){this.callQueue=[]}finally{window[o.API_KEY]=this.apiCall.bind(this),this.purgeQueuedCalls()}}o.CallResponder=t})),_e=(e(i),i.API_KEY,i.CallResponder,t(function(e,t){function n(e,t,n,o){void 0===n&&(n=!1),this.numUpdates=0,this.throwIfInvalidInt(e,"cmpId",2),this.throwIfInvalidInt(t,"cmpVersion",0),I.CmpApiModel.cmpId=e,I.CmpApiModel.cmpVersion=t,I.CmpApiModel.tcfPolicyVersion=2,this.isServiceSpecific=!!n,this.callResponder=new i.CallResponder(o)}Object.defineProperty(t,"__esModule",{value:!0}),n.prototype.throwIfInvalidInt=function(e,t,n){if(!("number"==typeof e&&Number.isInteger(e)&&n<=e))throw new Error("Invalid "+t+": "+e)},n.prototype.update=function(e,t){if(void 0===t&&(t=!1),I.CmpApiModel.disabled)throw new Error("CmpApi Disabled");I.CmpApiModel.cmpStatus=C.CmpStatus.LOADED,t?(I.CmpApiModel.displayStatus=C.DisplayStatus.VISIBLE,I.CmpApiModel.eventStatus=C.EventStatus.CMP_UI_SHOWN):void 0===I.CmpApiModel.tcModel?(I.CmpApiModel.displayStatus=C.DisplayStatus.DISABLED,I.CmpApiModel.eventStatus=C.EventStatus.TC_LOADED):(I.CmpApiModel.displayStatus=C.DisplayStatus.HIDDEN,I.CmpApiModel.eventStatus=C.EventStatus.USER_ACTION_COMPLETE),I.CmpApiModel.gdprApplies=null!==e,I.CmpApiModel.gdprApplies?(""===e?(I.CmpApiModel.tcModel=new g.TCModel,I.CmpApiModel.tcModel.cmpId=I.CmpApiModel.cmpId,I.CmpApiModel.tcModel.cmpVersion=I.CmpApiModel.cmpVersion):I.CmpApiModel.tcModel=g.TCString.decode(e),I.CmpApiModel.tcModel.isServiceSpecific=this.isServiceSpecific,I.CmpApiModel.tcfPolicyVersion=+I.CmpApiModel.tcModel.policyVersion,I.CmpApiModel.tcString=e):I.CmpApiModel.tcModel=null,0===this.numUpdates?this.callResponder.purgeQueuedCalls():I.CmpApiModel.eventQueue.exec(),this.numUpdates++},n.prototype.disable=function(){I.CmpApiModel.disabled=!0,I.CmpApiModel.cmpStatus=C.CmpStatus.ERROR},t.CmpApi=n})),Ee=(e(_e),_e.CmpApi,t(function(e,n){function t(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),t(E),t(L),t(C),t(_e),n.API_KEY=i.API_KEY})),Ce=(e(Ee),Ee.CmpApi);Ee.CmpService,Ee.API_KEY;function n(){}n.prototype.receiveMessage=function(n){var o,r,e,t,i="string"==typeof n.data,s={};try{s=i?JSON.parse(n.data):n.data}catch(e){}s&&s.__tcfapiCall?(o=s.__tcfapiCall.callId,r=s.__tcfapiCall.command,e=s.__tcfapiCall.parameter,t=s.__tcfapiCall.version,window.__tcfapi.apply(window,[r,t,function(e,t){e={__tcfapiReturn:{returnValue:e,success:t,callId:o,command:r}};n&&n.source&&n.source.postMessage&&n.source.postMessage(i?JSON.stringify(e):e,"*")},e])):s&&s.hasOwnProperty("OnetrustIABCookies")&&("blocked"===s.OnetrustIABCookies&&(s.OnetrustIABCookies=null),window.OneTrust.updateConsentFromCookies(s.OnetrustIABCookies))},n.prototype.initializeTCF=function(){window.removeEventListener("message",window.receiveOTMessage),delete window.receiveOTMessage,(window.attachEvent||window.addEventListener)("message",function(e){return o.receiveMessage(e)},!1)},n.prototype.getGVLObject=function(e,t){var n;return e&&(n=e.substr(e.lastIndexOf("/")+1),ne.baseUrl=e.replace("/"+n,""),ne.latestFilename=n),new ne(t)},n.prototype.getTCModelObject=function(e){return new oe(e)},n.prototype.getTCStringObject=function(){return te},n.prototype.getCmpApi=function(e,t,n,o){return new Ce(e,t,n,o=void 0===o?{}:o)},n.prototype.getPurposeRestriction=function(e,t){return new re(e,t)};var o=new n;return o.initializeTCF(),window.otIabModule={tcfSdkRef:{gvl:o.getGVLObject,tcModel:o.getTCModelObject,tcString:o.getTCStringObject,cmpApi:o.getCmpApi,purposeRestriction:o.getPurposeRestriction}},P.otTCFObj=o,P}({});
