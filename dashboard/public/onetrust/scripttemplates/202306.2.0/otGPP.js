(()=>{var je=Object.defineProperty;var Xe=(o,e,t)=>e in o?je(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var E=(o,e,t)=>(Xe(o,typeof e!="symbol"?e+"":e,t),t);var L=class{callback;parameter;success=!0;cmpApiContext;constructor(e,t,s){this.cmpApiContext=e,Object.assign(this,{callback:t,parameter:s})}execute(){try{return this.respond()}catch{return this.invokeCallback(null),null}}invokeCallback(e){let t=e!==null;this.callback&&this.callback(e,t)}};var xe=class extends L{respond(){return{eventName:"listenerRegistered",listenerId:this.cmpApiContext.eventQueue.add({callback:this.callback,parameter:this.parameter}),data:!0,pingData:{gppVersion:this.cmpApiContext.gppVersion,cmpStatus:this.cmpApiContext.cmpStatus,cmpDisplayStatus:this.cmpApiContext.cmpDisplayStatus,apiSupport:this.cmpApiContext.apiSupport,currentAPI:this.cmpApiContext.currentAPI,cmpId:this.cmpApiContext.cmpId,cmpVersion:this.cmpApiContext.cmpVersion}}}};var we=class extends L{respond(){let e={gppVersion:this.cmpApiContext.gppVersion,cmpStatus:this.cmpApiContext.cmpStatus,cmpDisplayStatus:this.cmpApiContext.cmpDisplayStatus,apiSupport:this.cmpApiContext.apiSupport,currentAPI:this.cmpApiContext.currentAPI,cmpId:this.cmpApiContext.cmpId,cmpVersion:this.cmpApiContext.cmpVersion};return this.invokeCallback(e),e}};var Ve=class extends L{respond(){if(!this.parameter||this.parameter.length===0)throw new Error("<section>.<field> parameter required");let e=this.parameter.split(".");if(e.length!=2)throw new Error("Field name must be in the format <section>.<fieldName>");let t=e[0],s=e[1],r=this.cmpApiContext.gppModel.getFieldValue(t,s);return this.invokeCallback(r),r}};var Le=class extends L{respond(){let e=this.cmpApiContext.gppModel.getHeader(),t={sectionId:e.Id,gppVersion:this.cmpApiContext.gppVersion,sectionList:e.SectionIds,applicableSections:this.cmpApiContext.applicableSections,gppString:this.cmpApiContext.gppModel.encode(),pingData:{gppVersion:this.cmpApiContext.gppVersion,cmpStatus:this.cmpApiContext.cmpStatus,cmpDisplayStatus:this.cmpApiContext.cmpDisplayStatus,apiSupport:this.cmpApiContext.apiSupport,currentAPI:this.cmpApiContext.currentAPI,cmpId:this.cmpApiContext.cmpId,cmpVersion:this.cmpApiContext.cmpVersion}};return this.invokeCallback(t),t}};var Ue=class extends L{respond(){if(!this.parameter||this.parameter.length===0)throw new Error("<section> parameter required");let e=null;return this.cmpApiContext.gppModel.hasSection(this.parameter)&&(e=this.cmpApiContext.gppModel.getSection(this.parameter)),this.invokeCallback(e),e}};var Ge=class extends L{respond(){if(!this.parameter||this.parameter.length===0)throw new Error("<section>[.version] parameter required");let e=this.cmpApiContext.gppModel.hasSection(this.parameter);return this.invokeCallback(e),e}};var v;(function(o){o.ADD_EVENT_LISTENER="addEventListener",o.GET_FIELD="getField",o.GET_GPP_DATA="getGPPData",o.GET_SECTION="getSection",o.GET_TC_DATA="getTCData",o.HAS_SECTION="hasSection",o.PING="ping",o.REMOVE_EVENT_LISTENER="removeEventListener"})(v||(v={}));var be=class extends L{respond(){let e=this.parameter;return this.cmpApiContext.eventQueue.remove(e)?{eventName:"listenerRemoved",listenerId:e,data:!0,pingData:{gppVersion:this.cmpApiContext.gppVersion,cmpStatus:this.cmpApiContext.cmpStatus,cmpDisplayStatus:this.cmpApiContext.cmpDisplayStatus,apiSupport:this.cmpApiContext.apiSupport,currentAPI:this.cmpApiContext.currentAPI,cmpId:this.cmpApiContext.cmpId,cmpVersion:this.cmpApiContext.cmpVersion}}:{eventName:"listenerRemoved",listenerId:e,data:!1,pingData:{gppVersion:this.cmpApiContext.gppVersion,cmpStatus:this.cmpApiContext.cmpStatus,cmpDisplayStatus:this.cmpApiContext.cmpDisplayStatus,apiSupport:this.cmpApiContext.apiSupport,currentAPI:this.cmpApiContext.currentAPI,cmpId:this.cmpApiContext.cmpId,cmpVersion:this.cmpApiContext.cmpVersion}}}};var ve=class extends L{respond(){let e=null;return this.cmpApiContext.gppModel.hasSection("tcfeuvs")&&(e=this.cmpApiContext.gppModel.getSection("tcfeuv2")),this.invokeCallback(e),e}};var $e,qe,Je,ze,Ze,et,tt,st,F=class{};$e=v.ADD_EVENT_LISTENER,qe=v.GET_FIELD,Je=v.GET_GPP_DATA,ze=v.GET_SECTION,Ze=v.GET_TC_DATA,et=v.HAS_SECTION,tt=v.PING,st=v.REMOVE_EVENT_LISTENER,E(F,$e,xe),E(F,qe,Ve),E(F,Je,Le),E(F,ze,Ue),E(F,Ze,ve),E(F,et,Ge),E(F,tt,we),E(F,st,be);var ee;(function(o){o.STUB="stub",o.LOADING="loading",o.LOADED="loaded",o.ERROR="error"})(ee||(ee={}));var te;(function(o){o.VISIBLE="visible",o.HIDDEN="hidden",o.DISABLED="disabled"})(te||(te={}));var Qe;(function(o){o.GPP_LOADED="gpploaded",o.CMP_UI_SHOWN="cmpuishown",o.USER_ACTION_COMPLETE="useractioncomplete"})(Qe||(Qe={}));var Be=class{callQueue;customCommands;cmpApiContext;constructor(e,t){if(this.cmpApiContext=e,t){let s=v.ADD_EVENT_LISTENER;if(t?.[s])throw new Error(`Built-In Custom Commmand for ${s} not allowed`);if(s=v.REMOVE_EVENT_LISTENER,t?.[s])throw new Error(`Built-In Custom Commmand for ${s} not allowed`);this.customCommands=t}try{this.callQueue=window.__gpp()||[]}catch{this.callQueue=[]}finally{window.__gpp=this.apiCall.bind(this),this.purgeQueuedCalls()}}apiCall(e,t,s,r){if(typeof e!="string")return t(null,!1);if(t&&typeof t!="function")throw new Error("invalid callback function");if(this.isCustomCommand(e))return this.customCommands[e](t,s);if(this.isBuiltInCommand(e))return new F[e](this.cmpApiContext,t,s).execute();if(t)return t(null,!1)}purgeQueuedCalls(){let e=this.callQueue;this.callQueue=[],e.forEach(t=>{window.__gpp(...t)})}isCustomCommand(e){return this.customCommands&&typeof this.customCommands[e]=="function"}isBuiltInCommand(e){return F[e]!==void 0}};var ye=class{eventQueue=new Map;queueNumber=1e3;cmpApiContext;constructor(e){this.cmpApiContext=e;try{let s=window.__gpp("events")||[];for(var t=0;t<s.length;t++){let r=s[t];this.eventQueue.set(r.id,{callback:r.callback,parameter:r.parameter})}}catch(s){console.log(s)}}add(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}get(e){return this.eventQueue.get(e)}remove(e){return this.eventQueue.delete(e)}exec(e,t){this.eventQueue.forEach((s,r)=>{s.callback({eventName:e,listenerId:r,data:t,pingData:{gppVersion:this.cmpApiContext.gppVersion,cmpStatus:this.cmpApiContext.cmpStatus,cmpDisplayStatus:this.cmpApiContext.cmpDisplayStatus,apiSupport:this.cmpApiContext.apiSupport,currentAPI:this.cmpApiContext.currentAPI,cmpId:this.cmpApiContext.cmpId,cmpVersion:this.cmpApiContext.cmpVersion}})})}clear(){this.queueNumber=1e3,this.eventQueue.clear()}get size(){return this.eventQueue.size}};var g=class extends Error{constructor(e){super(e),this.name="DecodingError"}};var d=class{static encode(e,t){let s=[];if(e>=1)for(s.push(1);e>=s[0]*2;)s.unshift(s[0]*2);let r="";for(let n=0;n<s.length;n++){let i=s[n];e>=i?(r+="1",e-=i):r+="0"}for(;r.length<t;)r="0"+r;return r}static decode(e){if(!/^[0-1]*$/.test(e))throw new g("Undecodable FixedInteger '"+e+"'");let t=0,s=[];for(let r=0;r<e.length;r++)r===0?s[e.length-(r+1)]=1:s[e.length-(r+1)]=s[e.length-r]*2;for(let r=0;r<e.length;r++)e.charAt(r)==="1"&&(t+=s[r]);return t}};var j=class extends Error{constructor(e){super(e),this.name="EncodingError"}};var He=class{encode(e){if(!/^[0-1]*$/.test(e))throw new j("Unencodable Base64Url '"+e+"'");e=this.pad(e);let t="",s=0;for(;s<=e.length-6;){let r=e.substring(s,s+6);try{let n=d.decode(r),i=He.DICT.charAt(n);t+=i,s+=6}catch{throw new j("Unencodable Base64Url '"+e+"'")}}return t}decode(e){if(!/^[A-Za-z0-9\-_]*$/.test(e))throw new g("Undecodable Base64URL string");let t="";for(let s=0;s<e.length;s++){let r=e.charAt(s),n=He.REVERSE_DICT.get(r),i=d.encode(n,6);t+=i}return t}},$=He;E($,"DICT","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),E($,"REVERSE_DICT",new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]));var U=class extends ${pad(e){for(;e.length%8>0;)e+="0";for(;e.length%6>0;)e+="0";return e}};var W=class{static encode(e){let t=[];if(e>=1&&(t.push(1),e>=2)){t.push(2);let r=2;for(;e>=t[r-1]+t[r-2];)t.push(t[r-1]+t[r-2]),r++}let s="1";for(let r=t.length-1;r>=0;r--){let n=t[r];e>=n?(s="1"+s,e-=n):s="0"+s}return s}static decode(e){if(!/^[0-1]*$/.test(e)||e.length<2||e.indexOf("11")!==e.length-2)throw new g("Undecodable FibonacciInteger '"+e+"'");let t=0,s=[];for(let r=0;r<e.length-1;r++)r===0?s.push(1):r===1?s.push(2):s.push(s[r-1]+s[r-2]);for(let r=0;r<e.length-1;r++)e.charAt(r)==="1"&&(t+=s[r]);return t}};var k=class{static encode(e){if(e===!0)return"1";if(e===!1)return"0";throw new j("Unencodable Boolean '"+e+"'")}static decode(e){if(e==="1")return!0;if(e==="0")return!1;throw new g("Undecodable Boolean '"+e+"'")}};var oe=class{static encode(e){e=e.sort((i,p)=>i-p);let t=[],s=0,r=0;for(;r<e.length;){let i=r;for(;i<e.length-1&&e[i]+1===e[i+1];)i++;t.push(e.slice(r,i+1)),r=i+1}let n=d.encode(t.length,12);for(let i=0;i<t.length;i++)if(t[i].length==1){let p=t[i][0]-s;s=t[i][0],n+="0"+W.encode(p)}else{let p=t[i][0]-s;s=t[i][0];let I=t[i][t[i].length-1]-s;s=t[i][t[i].length-1],n+="1"+W.encode(p)+W.encode(I)}return n}static decode(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new g("Undecodable FibonacciIntegerRange '"+e+"'");let t=[],s=d.decode(e.substring(0,12)),r=0,n=12;for(let i=0;i<s;i++){let p=k.decode(e.substring(n,n+1));if(n++,p===!0){let I=e.indexOf("11",n),H=W.decode(e.substring(n,I+2))+r;r=H,n=I+2,I=e.indexOf("11",n);let Re=W.decode(e.substring(n,I+2))+r;r=Re,n=I+2;for(let ae=H;ae<=Re;ae++)t.push(ae)}else{let I=e.indexOf("11",n),H=W.decode(e.substring(n,I+2))+r;r=H,t.push(H),n=I+2}}return t}};var h=class{value;hasValue(){return this.value!==void 0&&this.value!==null}getValue(){return this.value}setValue(e){this.value=e}};var pe=class extends h{constructor(e){super(),this.setValue(e)}encode(){return oe.encode(this.value)}decode(e){this.value=oe.decode(e)}substring(e,t){let s=d.decode(e.substring(t,t+12)),r=t+12;for(let n=0;n<s;n++)e.charAt(r)==="1"?r=e.indexOf("11",e.indexOf("11",r+1)+2)+2:r=e.indexOf("11",r+1)+2;return e.substring(t,r)}getValue(){return[...super.getValue()]}setValue(e){super.setValue([...new Set(e)].sort((t,s)=>t-s))}};var l=class extends h{bitStringLength;constructor(e,t){super(),this.bitStringLength=e,this.setValue(t)}encode(){return d.encode(this.value,this.bitStringLength)}decode(e){this.value=d.decode(e)}substring(e,t){return e.substring(t,t+this.bitStringLength)}};var X;(function(o){o.ID="Id",o.VERSION="Version",o.SECTION_IDS="SectionIds"})(X||(X={}));var q=class{fields;fieldOrder;constructor(e,t){this.fields=e,this.fieldOrder=t}hasField(e){return this.fields.has(e)}getFieldValue(e){return this.fields.has(e)?this.fields.get(e).getValue():null}setFieldValue(e,t){if(this.fields.has(e))this.fields.get(e).setValue(t);else throw new Error(e+" not found")}getFieldOrder(){return this.fieldOrder}encodeToBitString(){let e="";for(let t=0;t<this.fieldOrder.length;t++){let s=this.fieldOrder[t];if(this.fields.has(s)){let r=this.fields.get(s);e+=r.encode()}else throw new Error("Field not found: '"+s+"'")}return e}decodeFromBitString(e){let t=0;for(let s=0;s<this.fieldOrder.length;s++){let r=this.fieldOrder[s];if(this.fields.has(r)){let n=this.fields.get(r),i=n.substring(e,t);n.decode(i),t+=i.length}else throw new Error("Field not found: '"+r+"'")}}toObj(){let e={};for(let t=0;t<this.fieldOrder.length;t++){let s=this.fieldOrder[t];if(this.fields.has(s)){let n=this.fields.get(s).getValue();e[s]=n}}return e}};var ne=class extends q{base64UrlEncoder=new U;constructor(e){let t=new Map;t.set(X.ID.toString(),new l(6,ne.ID)),t.set(X.VERSION.toString(),new l(6,ne.VERSION)),t.set(X.SECTION_IDS.toString(),new pe([]));let s=[X.ID.toString(),X.VERSION.toString(),X.SECTION_IDS.toString()];super(t,s),e&&e.length>0&&this.decode(e)}encode(){let e=this.encodeToBitString();return this.base64UrlEncoder.encode(e)}decode(e){let t=this.base64UrlEncoder.decode(e);this.decodeFromBitString(t)}getId(){return ne.ID}getName(){return ne.NAME}},K=ne;E(K,"ID",3),E(K,"VERSION",1),E(K,"NAME","header");var V=class extends h{constructor(e){super(),this.setValue(e)}encode(){return k.encode(this.value)}decode(e){this.value=k.decode(e)}substring(e,t){return e.substring(t,t+1)}};var ce=class{static encode(e){return e?d.encode(Math.round(e.getTime()/100),36):d.encode(0,36)}static decode(e){if(!/^[0-1]*$/.test(e)||e.length!==36)throw new g("Undecodable Datetime '"+e+"'");return new Date(d.decode(e)*100)}};var J=class extends h{constructor(e){super(),this.setValue(e)}encode(){return ce.encode(this.value)}decode(e){this.value=ce.decode(e)}substring(e,t){return e.substring(t,t+36)}};var Y=class{static encode(e,t){let s="";for(let r=0;r<e.length;r++)s+=k.encode(e[r]);for(;s.length<t;)s+="0";return s}static decode(e){if(!/^[0-1]*$/.test(e))throw new g("Undecodable FixedBitfield '"+e+"'");let t=[];for(let s=0;s<e.length;s++)t.push(k.decode(e.substring(s,s+1)));return t}};var z=class extends h{getLength;constructor(e,t){super(),this.getLength=e,this.setValue(t)}encode(){return Y.encode(this.value,this.getLength())}decode(e){this.value=Y.decode(e)}substring(e,t){return e.substring(t,t+this.getLength())}getValue(){return[...super.getValue()]}setValue(e){let t=this.getLength(),s=[...e];for(let r=s.length;r<t;r++)s.push(!1);s.length>t&&(s=s.slice(0,t)),super.setValue([...s])}};var B=class extends h{numElements;constructor(e){super(),this.numElements=e.length,this.setValue(e)}encode(){return Y.encode(this.value,this.numElements)}decode(e){this.value=Y.decode(e)}substring(e,t){return e.substring(t,t+this.numElements)}getValue(){return[...super.getValue()]}setValue(e){let t=[...e];for(let s=t.length;s<this.numElements;s++)t.push(!1);t.length>this.numElements&&(t=t.slice(0,this.numElements)),super.setValue(t)}};var de=class{static encode(e,t){for(;e.length<t;)e+=" ";let s="";for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);if(n===32)s+=d.encode(63,6);else if(n>=65)s+=d.encode(e.charCodeAt(r)-65,6);else throw new j("Unencodable FixedString '"+e+"'")}return s}static decode(e){if(!/^[0-1]*$/.test(e)||e.length%6!==0)throw new g("Undecodable FixedString '"+e+"'");let t="";for(let s=0;s<e.length;s+=6){let r=d.decode(e.substring(s,s+6));r===63?t+=" ":t+=String.fromCharCode(r+65)}return t.trim()}};var se=class extends h{stringLength;constructor(e,t){super(),this.stringLength=e,this.setValue(t)}encode(){return de.encode(this.value,this.stringLength)}decode(e){this.value=de.decode(e)}substring(e,t){return e.substring(t,t+this.stringLength*6)}};var y=class{fields;segments;constructor(e,t){this.fields=e,this.segments=t}hasField(e){return this.fields.has(e)}getFieldValue(e){return this.fields.has(e)?this.fields.get(e).getValue():null}setFieldValue(e,t){if(this.fields.has(e))this.fields.get(e).setValue(t);else throw new Error(e+" not found")}getSegments(){return this.segments}encodeSegmentsToBitStrings(){let e=[];for(let t=0;t<this.segments.length;t++){let s="";for(let r=0;r<this.segments[t].length;r++){let n=this.segments[t][r];if(this.fields.has(n))try{let i=this.fields.get(n);s+=i.encode()}catch{throw new Error("Unable to encode "+n)}else throw new Error("Field not found: '"+n+"'")}e.push(s)}return e}decodeSegmentsFromBitStrings(e){for(let t=0;t<this.segments.length&&t<e.length;t++){let s=e[t];if(s&&s.length>0){let r=0;for(let n=0;n<this.segments[t].length;n++){let i=this.segments[t][n];if(this.fields.has(i))try{let p=this.fields.get(i),I=p.substring(s,r);p.decode(I),r+=I.length}catch{throw new Error("Unable to decode "+i)}else throw new Error("Field not found: '"+i+"'")}}}}toObj(){let e={};for(let t=0;t<this.segments.length;t++)for(let s=0;s<this.segments[t].length;s++){let r=this.segments[t][s];if(this.fields.has(r)){let i=this.fields.get(r).getValue();e[r]=i}}return e}};var Z=class{static encode(e){e.sort((n,i)=>n-i);let t=[],s=0;for(;s<e.length;){let n=s;for(;n<e.length-1&&e[n]+1===e[n+1];)n++;t.push(e.slice(s,n+1)),s=n+1}let r=d.encode(t.length,12);for(let n=0;n<t.length;n++)t[n].length===1?r+="0"+d.encode(t[n][0],16):r+="1"+d.encode(t[n][0],16)+d.encode(t[n][t[n].length-1],16);return r}static decode(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new g("Undecodable FixedIntegerRange '"+e+"'");let t=[],s=d.decode(e.substring(0,12)),r=12;for(let n=0;n<s;n++){let i=k.decode(e.substring(r,r+1));if(r++,i===!0){let p=d.decode(e.substring(r,r+16));r+=16;let I=d.decode(e.substring(r,r+16));r+=16;for(let H=p;H<=I;H++)t.push(H)}else{let p=d.decode(e.substring(r,r+16));t.push(p),r+=16}}return t}};var ie=class extends h{constructor(e){super(),this.setValue(e)}encode(){return Z.encode(this.value)}decode(e){this.value=Z.decode(e)}substring(e,t){let s=d.decode(e.substring(t,t+12)),r=t+12;for(let n=0;n<s;n++)e.charAt(r)==="1"?r+=33:r+=17;return e.substring(t,r)}getValue(){return[...super.getValue()]}setValue(e){super.setValue([...new Set(e)].sort((t,s)=>t-s))}};var Q=class extends h{constructor(e){super(),this.setValue(e)}encode(){let e=this.value.length>0?this.value[this.value.length-1]:0,t=Z.encode(this.value),s=t.length,r=e;if(s<=r)return d.encode(e,16)+"1"+t;{let n=[],i=0;for(let p=0;p<e;p++)p===this.value[i]-1?(n[p]=!0,i++):n[p]=!1;return d.encode(e,16)+"0"+Y.encode(n,r)}}decode(e){if(e.charAt(16)==="1")this.value=Z.decode(e.substring(17));else{let t=[],s=Y.decode(e.substring(17));for(let r=0;r<s.length;r++)s[r]===!0&&t.push(r+1);this.value=t}}substring(e,t){let s=d.decode(e.substring(t,t+16));return e.charAt(t+16)==="1"?e.substring(t,t+17)+new ie([]).substring(e,t+17):e.substring(t,t+17+s)}getValue(){return[...super.getValue()]}setValue(e){super.setValue([...new Set(e)].sort((t,s)=>t-s))}};var S;(function(o){o.VERSION="Version",o.CREATED="Created",o.LAST_UPDATED="LastUpdated",o.CMP_ID="CmpId",o.CMP_VERSION="CmpVersion",o.CONSENT_SCREEN="ConsentScreen",o.CONSENT_LANGUAGE="ConsentLanguage",o.VENDOR_LIST_VERSION="VendorListVersion",o.POLICY_VERSION="PolicyVersion",o.IS_SERVICE_SPECIFIC="IsServiceSpecific",o.USE_NON_STANDARD_STACKS="UseNonStandardStacks",o.SPECIAL_FEATURE_OPTINS="SpecialFeatureOptins",o.PURPOSE_CONSENTS="PurposeConsents",o.PURPOSE_LEGITIMATE_INTERESTS="PurposeLegitimateInterests",o.PURPOSE_ONE_TREATMENT="PurposeOneTreatment",o.PUBLISHER_COUNTRY_CODE="PublisherCountryCode",o.VENDOR_CONSENTS="VendorConsents",o.VENDOR_LEGITIMATE_INTERESTS="VendorLegitimateInterests",o.PUBLISHER_RESTRICTIONS="PublisherRestrictions",o.PUBLISHER_PURPOSES_SEGMENT_TYPE="PublisherPurposesSegmentType",o.PUBLISHER_CONSENTS="PublisherConsents",o.PUBLISHER_LEGITIMATE_INTERESTS="PublisherLegitimateInterests",o.NUM_CUSTOM_PURPOSES="NumCustomPurposes",o.PUBLISHER_CUSTOM_CONSENTS="PublisherCustomConsents",o.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS="PublisherCustomLegitimateInterests",o.VENDORS_ALLOWED_SEGMENT_TYPE="VendorsAllowedSegmentType",o.VENDORS_ALLOWED="VendorsAllowed",o.VENDORS_DISCLOSED_SEGMENT_TYPE="VendorsDisclosedSegmentType",o.VENDORS_DISCLOSED="VendorsDisclosed"})(S||(S={}));var Fe=class extends ${pad(e){for(;e.length%24>0;)e+="0";return e}};var ge=class extends y{base64UrlEncoder=new Fe;constructor(e){let t=new Map,s=new Date;t.set(S.VERSION.toString(),new l(6,ge.VERSION)),t.set(S.CREATED.toString(),new J(s)),t.set(S.LAST_UPDATED.toString(),new J(s)),t.set(S.CMP_ID.toString(),new l(12,0)),t.set(S.CMP_VERSION.toString(),new l(12,0)),t.set(S.CONSENT_SCREEN.toString(),new l(6,0)),t.set(S.CONSENT_LANGUAGE.toString(),new se(2,"EN")),t.set(S.VENDOR_LIST_VERSION.toString(),new l(12,0)),t.set(S.POLICY_VERSION.toString(),new l(6,2)),t.set(S.IS_SERVICE_SPECIFIC.toString(),new V(!1)),t.set(S.USE_NON_STANDARD_STACKS.toString(),new V(!1)),t.set(S.SPECIAL_FEATURE_OPTINS.toString(),new B([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(S.PURPOSE_CONSENTS.toString(),new B([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(S.PURPOSE_LEGITIMATE_INTERESTS.toString(),new B([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(S.PURPOSE_ONE_TREATMENT.toString(),new V(!1)),t.set(S.PUBLISHER_COUNTRY_CODE.toString(),new se(2,"AA")),t.set(S.VENDOR_CONSENTS.toString(),new Q([])),t.set(S.VENDOR_LEGITIMATE_INTERESTS.toString(),new Q([])),t.set(S.PUBLISHER_RESTRICTIONS.toString(),new ie([])),t.set(S.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),new l(3,3)),t.set(S.PUBLISHER_CONSENTS.toString(),new B([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(S.PUBLISHER_LEGITIMATE_INTERESTS.toString(),new B([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));let r=new l(6,0);t.set(S.NUM_CUSTOM_PURPOSES.toString(),r),t.set(S.PUBLISHER_CUSTOM_CONSENTS.toString(),new z(()=>r.getValue(),[])),t.set(S.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString(),new z(()=>r.getValue(),[])),t.set(S.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),new l(3,2)),t.set(S.VENDORS_ALLOWED.toString(),new Q([])),t.set(S.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),new l(3,1)),t.set(S.VENDORS_DISCLOSED.toString(),new Q([]));let n=[S.VERSION.toString(),S.CREATED.toString(),S.LAST_UPDATED.toString(),S.CMP_ID.toString(),S.CMP_VERSION.toString(),S.CONSENT_SCREEN.toString(),S.CONSENT_LANGUAGE.toString(),S.VENDOR_LIST_VERSION.toString(),S.POLICY_VERSION.toString(),S.IS_SERVICE_SPECIFIC.toString(),S.USE_NON_STANDARD_STACKS.toString(),S.SPECIAL_FEATURE_OPTINS.toString(),S.PURPOSE_CONSENTS.toString(),S.PURPOSE_LEGITIMATE_INTERESTS.toString(),S.PURPOSE_ONE_TREATMENT.toString(),S.PUBLISHER_COUNTRY_CODE.toString(),S.VENDOR_CONSENTS.toString(),S.VENDOR_LEGITIMATE_INTERESTS.toString(),S.PUBLISHER_RESTRICTIONS.toString()],i=[S.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),S.PUBLISHER_CONSENTS.toString(),S.PUBLISHER_LEGITIMATE_INTERESTS.toString(),S.NUM_CUSTOM_PURPOSES.toString(),S.PUBLISHER_CUSTOM_CONSENTS.toString(),S.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString()],p=[S.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),S.VENDORS_ALLOWED.toString()],I=[S.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),S.VENDORS_DISCLOSED.toString()],H=[n,i,p,I];super(t,H),e&&e.length>0&&this.decode(e)}encode(){let e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),this.getFieldValue(S.IS_SERVICE_SPECIFIC.toString())?e[1]&&e[1].length>0&&t.push(this.base64UrlEncoder.encode(e[1])):(e[2]&&e[2].length>0&&t.push(this.base64UrlEncoder.encode(e[2])),e[3]&&e[3].length>0&&t.push(this.base64UrlEncoder.encode(e[3]))),t.join(".")}decode(e){let t=e.split("."),s=[];for(let r=0;r<t.length;r++){let n=this.base64UrlEncoder.decode(t[r]);switch(n.substring(0,3)){case"000":{s[0]=n;break}case"001":{s[3]=n;break}case"010":{s[2]=n;break}case"011":{s[1]=n;break}default:throw new g("Unable to decode segment '"+t[r]+"'")}}this.decodeSegmentsFromBitStrings(s)}setFieldValue(e,t){if(super.setFieldValue(e,t),e!==S.CREATED.toString()&&e!==S.LAST_UPDATED.toString()){let s=new Date,r=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()));this.setFieldValue(S.CREATED.toString(),r),this.setFieldValue(S.LAST_UPDATED.toString(),r)}}getId(){return ge.ID}getName(){return ge.NAME}},N=ge;E(N,"ID",2),E(N,"VERSION",2),E(N,"NAME","tcfeuv2");var a;(function(o){o.VERSION="Version",o.CREATED="Created",o.LAST_UPDATED="LastUpdated",o.CMP_ID="CmpId",o.CMP_VERSION="CmpVersion",o.CONSENT_SCREEN="ConsentScreen",o.CONSENT_LANGUAGE="ConsentLanguage",o.VENDOR_LIST_VERSION="VendorListVersion",o.TCF_POLICY_VERSION="TcfPolicyVersion",o.USE_NON_STANDARD_STACKS="UseNonStandardStacks",o.SPECIAL_FEATURE_EXPRESS_CONSENT="SpecialFeatureExpressConsent",o.PURPOSES_EXPRESS_CONSENT="PurposesExpressConsent",o.PURPOSES_IMPLIED_CONSENT="PurposesImpliedConsent",o.VENDOR_EXPRESS_CONSENT="VendorExpressConsent",o.VENDOR_IMPLIED_CONSENT="VendorImpliedConsent",o.SEGMENT_TYPE="SegmentType",o.PUB_PURPOSES_EXPRESS_CONSENT="PubPurposesExpressConsent",o.PUB_PURPOSES_IMPLIED_CONSENT="PubPurposesImpliedConsent",o.NUM_CUSTOM_PURPOSES="NumCustomPurposes",o.CUSTOM_PURPOSES_EXPRESS_CONSENT="CustomPurposesExpressConsent",o.CUSTOM_PURPOSES_IMPLIED_CONSENT="CustomPurposesImpliedConsent"})(a||(a={}));var _e=class extends y{base64UrlEncoder=new U;constructor(e){let t=new Map,s=new Date;t.set(a.VERSION.toString(),new l(6,_e.VERSION)),t.set(a.CREATED.toString(),new J(s)),t.set(a.LAST_UPDATED.toString(),new J(s)),t.set(a.CMP_ID.toString(),new l(12,0)),t.set(a.CMP_VERSION.toString(),new l(12,0)),t.set(a.CONSENT_SCREEN.toString(),new l(6,0)),t.set(a.CONSENT_LANGUAGE.toString(),new se(2,"EN")),t.set(a.VENDOR_LIST_VERSION.toString(),new l(12,0)),t.set(a.TCF_POLICY_VERSION.toString(),new l(6,2)),t.set(a.USE_NON_STANDARD_STACKS.toString(),new V(!1)),t.set(a.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),new B([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(a.PURPOSES_EXPRESS_CONSENT.toString(),new B([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(a.PURPOSES_IMPLIED_CONSENT.toString(),new B([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(a.VENDOR_EXPRESS_CONSENT.toString(),new Q([])),t.set(a.VENDOR_IMPLIED_CONSENT.toString(),new Q([])),t.set(a.SEGMENT_TYPE.toString(),new l(3,3)),t.set(a.PUB_PURPOSES_EXPRESS_CONSENT.toString(),new B([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(a.PUB_PURPOSES_IMPLIED_CONSENT.toString(),new B([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));let r=new l(6,0);t.set(a.NUM_CUSTOM_PURPOSES.toString(),r),t.set(a.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),new z(()=>r.getValue(),[])),t.set(a.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString(),new z(()=>r.getValue(),[]));let n=[a.VERSION.toString(),a.CREATED.toString(),a.LAST_UPDATED.toString(),a.CMP_ID.toString(),a.CMP_VERSION.toString(),a.CONSENT_SCREEN.toString(),a.CONSENT_LANGUAGE.toString(),a.VENDOR_LIST_VERSION.toString(),a.TCF_POLICY_VERSION.toString(),a.USE_NON_STANDARD_STACKS.toString(),a.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),a.PURPOSES_EXPRESS_CONSENT.toString(),a.PURPOSES_IMPLIED_CONSENT.toString(),a.VENDOR_EXPRESS_CONSENT.toString(),a.VENDOR_IMPLIED_CONSENT.toString()],i=[a.SEGMENT_TYPE.toString(),a.PUB_PURPOSES_EXPRESS_CONSENT.toString(),a.PUB_PURPOSES_IMPLIED_CONSENT.toString(),a.NUM_CUSTOM_PURPOSES.toString(),a.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),a.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString()],p=[n,i];super(t,p),e&&e.length>0&&this.decode(e)}encode(){let e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}decode(e){let t=e.split("."),s=[];for(let r=0;r<t.length;r++){let n=this.base64UrlEncoder.decode(t[r]);switch(n.substring(0,3)){case"000":{s[0]=n;break}case"011":{s[1]=n;break}default:throw new g("Unable to decode segment '"+t[r]+"'")}}this.decodeSegmentsFromBitStrings(s)}setFieldValue(e,t){if(super.setFieldValue(e,t),e!==a.CREATED.toString()&&e!==a.LAST_UPDATED.toString()){let s=new Date,r=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()));this.setFieldValue(a.CREATED.toString(),r),this.setFieldValue(a.LAST_UPDATED.toString(),r)}}getId(){return _e.ID}getName(){return _e.NAME}},A=_e;E(A,"ID",5),E(A,"VERSION",2),E(A,"NAME","tcfcav1");var le=class extends Error{constructor(e){super(e),this.name="InvalidFieldError"}};var b;(function(o){o.VERSION="Version",o.NOTICE="Notice",o.OPT_OUT_SALE="OptOutSale",o.LSPA_COVERED="LspaCovered"})(b||(b={}));var ue=class{fields;constructor(e){this.fields=new Map,this.fields.set(b.VERSION.toString(),ue.VERSION),this.fields.set(b.NOTICE.toString(),"-"),this.fields.set(b.OPT_OUT_SALE.toString(),"-"),this.fields.set(b.LSPA_COVERED.toString(),"-"),e&&e.length>0&&this.decode(e)}hasField(e){return this.fields.has(e)}getFieldValue(e){return this.fields.has(e)?this.fields.get(e):null}setFieldValue(e,t){if(this.fields.has(e))this.fields.set(e,t);else throw new le(e+" not found")}toObj(){let e={};for(let t of this.fields.keys()){let s=this.fields.get(t);e[t.toString()]=s}return e}encode(){let e="";return e+=this.getFieldValue(b.VERSION.toString()),e+=this.getFieldValue(b.NOTICE.toString()),e+=this.getFieldValue(b.OPT_OUT_SALE.toString()),e+=this.getFieldValue(b.LSPA_COVERED.toString()),e}decode(e){this.setFieldValue(b.VERSION.toString(),parseInt(e.charAt(0))),this.setFieldValue(b.NOTICE.toString(),e.charAt(1)),this.setFieldValue(b.OPT_OUT_SALE.toString(),e.charAt(2)),this.setFieldValue(b.LSPA_COVERED.toString(),e.charAt(3))}getId(){return ue.ID}getName(){return ue.NAME}},C=ue;E(C,"ID",6),E(C,"VERSION",1),E(C,"NAME","uspv1");var Te=class{static encode(e,t,s){let r="";for(let n=0;n<e.length;n++)r+=d.encode(e[n],t);for(;r.length<t*s;)r+="0";return r}static decode(e,t,s){if(!/^[0-1]*$/.test(e))throw new g("Undecodable FixedInteger '"+e+"'");if(e.length>t*s)throw new g("Undecodable FixedIntegerList '"+e+"'");if(e.length%t!=0)throw new g("Undecodable FixedIntegerList '"+e+"'");for(;e.length<t*s;)e+="0";e.length>t*s&&(e=e.substring(0,t*s));let r=[];for(let n=0;n<e.length;n+=t)r.push(d.decode(e.substring(n,n+t)));for(;r.length<s;)r.push(0);return r}};var G=class extends h{elementBitStringLength;numElements;constructor(e,t){super(),this.elementBitStringLength=e,this.numElements=t.length,this.setValue(t)}encode(){return Te.encode(this.value,this.elementBitStringLength,this.numElements)}decode(e){this.value=Te.decode(e,this.elementBitStringLength,this.numElements)}substring(e,t){return e.substring(t,t+this.elementBitStringLength*this.numElements)}getValue(){return[...super.getValue()]}setValue(e){let t=[...e];for(let s=t.length;s<this.numElements;s++)t.push(0);t.length>this.numElements&&(t=t.slice(0,this.numElements)),super.setValue(t)}};var c;(function(o){o.VERSION="Version",o.SHARING_NOTICE="SharingNotice",o.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",o.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",o.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",o.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",o.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",o.SALE_OPT_OUT="SaleOptOut",o.SHARING_OPT_OUT="SharingOptOut",o.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",o.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",o.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",o.PERSONAL_DATA_CONSENTS="PersonalDataConsents",o.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",o.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",o.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",o.GPC_SEGMENT_TYPE="GpcSegmentType",o.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",o.GPC="Gpc"})(c||(c={}));var Oe=class extends y{base64UrlEncoder=new U;constructor(e){let t=new Map;t.set(c.VERSION.toString(),new l(6,Oe.VERSION)),t.set(c.SHARING_NOTICE.toString(),new l(2,0)),t.set(c.SALE_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(c.SHARING_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(c.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(c.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(c.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new l(2,0)),t.set(c.SALE_OPT_OUT.toString(),new l(2,0)),t.set(c.SHARING_OPT_OUT.toString(),new l(2,0)),t.set(c.TARGETED_ADVERTISING_OPT_OUT.toString(),new l(2,0)),t.set(c.SENSITIVE_DATA_PROCESSING.toString(),new G(2,[0,0,0,0,0,0,0,0,0,0,0,0])),t.set(c.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new G(2,[0,0])),t.set(c.PERSONAL_DATA_CONSENTS.toString(),new l(2,0)),t.set(c.MSPA_COVERED_TRANSACTION.toString(),new l(2,0)),t.set(c.MSPA_OPT_OUT_OPTION_MODE.toString(),new l(2,0)),t.set(c.MSPA_SERVICE_PROVIDER_MODE.toString(),new l(2,0)),t.set(c.GPC_SEGMENT_TYPE.toString(),new l(2,1)),t.set(c.GPC_SEGMENT_INCLUDED.toString(),new V(!0)),t.set(c.GPC.toString(),new V(!1));let s=[c.VERSION.toString(),c.SHARING_NOTICE.toString(),c.SALE_OPT_OUT_NOTICE.toString(),c.SHARING_OPT_OUT_NOTICE.toString(),c.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),c.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),c.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),c.SALE_OPT_OUT.toString(),c.SHARING_OPT_OUT.toString(),c.TARGETED_ADVERTISING_OPT_OUT.toString(),c.SENSITIVE_DATA_PROCESSING.toString(),c.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),c.PERSONAL_DATA_CONSENTS.toString(),c.MSPA_COVERED_TRANSACTION.toString(),c.MSPA_OPT_OUT_OPTION_MODE.toString(),c.MSPA_SERVICE_PROVIDER_MODE.toString()],r=[c.GPC_SEGMENT_TYPE.toString(),c.GPC.toString()],n=[s,r];super(t,n),e&&e.length>0&&this.decode(e)}encode(){let e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&this.fields.get(c.GPC_SEGMENT_INCLUDED).getValue()===!0&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}decode(e){let t=e.split("."),s=[],r=!1;for(let n=0;n<t.length;n++){let i=this.base64UrlEncoder.decode(t[n]);switch(i.substring(0,2)){case"00":{s[0]=i;break}case"01":{r=!0,s[1]=i;break}default:throw new g("Unable to decode segment '"+t[n]+"'")}}this.decodeSegmentsFromBitStrings(s),this.fields.get(c.GPC_SEGMENT_INCLUDED).setValue(r)}getId(){return Oe.ID}getName(){return Oe.NAME}},P=Oe;E(P,"ID",7),E(P,"VERSION",1),E(P,"NAME","uspnatv1");var _;(function(o){o.VERSION="Version",o.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",o.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",o.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",o.SALE_OPT_OUT="SaleOptOut",o.SHARING_OPT_OUT="SharingOptOut",o.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",o.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",o.PERSONAL_DATA_CONSENTS="PersonalDataConsents",o.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",o.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",o.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",o.GPC_SEGMENT_TYPE="GpcSegmentType",o.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",o.GPC="Gpc"})(_||(_={}));var me=class extends y{base64UrlEncoder=new U;constructor(e){let t=new Map;t.set(_.VERSION.toString(),new l(6,me.VERSION)),t.set(_.SALE_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(_.SHARING_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(_.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new l(2,0)),t.set(_.SALE_OPT_OUT.toString(),new l(2,0)),t.set(_.SHARING_OPT_OUT.toString(),new l(2,0)),t.set(_.SENSITIVE_DATA_PROCESSING.toString(),new G(2,[0,0,0,0,0,0,0,0,0])),t.set(_.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new G(2,[0,0])),t.set(_.PERSONAL_DATA_CONSENTS.toString(),new l(2,0)),t.set(_.MSPA_COVERED_TRANSACTION.toString(),new l(2,0)),t.set(_.MSPA_OPT_OUT_OPTION_MODE.toString(),new l(2,0)),t.set(_.MSPA_SERVICE_PROVIDER_MODE.toString(),new l(2,0)),t.set(_.GPC_SEGMENT_TYPE.toString(),new l(2,1)),t.set(_.GPC_SEGMENT_INCLUDED.toString(),new V(!0)),t.set(_.GPC.toString(),new V(!1));let s=[_.VERSION.toString(),_.SALE_OPT_OUT_NOTICE.toString(),_.SHARING_OPT_OUT_NOTICE.toString(),_.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),_.SALE_OPT_OUT.toString(),_.SHARING_OPT_OUT.toString(),_.SENSITIVE_DATA_PROCESSING.toString(),_.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),_.PERSONAL_DATA_CONSENTS.toString(),_.MSPA_COVERED_TRANSACTION.toString(),_.MSPA_OPT_OUT_OPTION_MODE.toString(),_.MSPA_SERVICE_PROVIDER_MODE.toString()],r=[_.GPC_SEGMENT_TYPE.toString(),_.GPC.toString()],n=[s,r];super(t,n),e&&e.length>0&&this.decode(e)}encode(){let e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&this.fields.get(_.GPC_SEGMENT_INCLUDED).getValue()===!0&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}decode(e){let t=e.split("."),s=[],r=!1;for(let n=0;n<t.length;n++){let i=this.base64UrlEncoder.decode(t[n]);switch(i.substring(0,2)){case"00":{s[0]=i;break}case"01":{r=!0,s[1]=i;break}default:throw new g("Unable to decode segment '"+t[n]+"'")}}this.decodeSegmentsFromBitStrings(s),this.fields.get(_.GPC_SEGMENT_INCLUDED).setValue(r)}getId(){return me.ID}getName(){return me.NAME}},D=me;E(D,"ID",8),E(D,"VERSION",1),E(D,"NAME","uspcav1");var f;(function(o){o.VERSION="Version",o.SHARING_NOTICE="SharingNotice",o.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",o.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",o.SALE_OPT_OUT="SaleOptOut",o.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",o.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",o.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",o.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",o.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",o.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode"})(f||(f={}));var fe=class extends q{base64UrlEncoder=new U;constructor(e){let t=new Map;t.set(f.VERSION.toString(),new l(6,fe.VERSION)),t.set(f.SHARING_NOTICE.toString(),new l(2,0)),t.set(f.SALE_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(f.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(f.SALE_OPT_OUT.toString(),new l(2,0)),t.set(f.TARGETED_ADVERTISING_OPT_OUT.toString(),new l(2,0)),t.set(f.SENSITIVE_DATA_PROCESSING.toString(),new G(2,[0,0,0,0,0,0,0,0])),t.set(f.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new l(2,0)),t.set(f.MSPA_COVERED_TRANSACTION.toString(),new l(2,0)),t.set(f.MSPA_OPT_OUT_OPTION_MODE.toString(),new l(2,0)),t.set(f.MSPA_SERVICE_PROVIDER_MODE.toString(),new l(2,0));let s=[f.VERSION.toString(),f.SHARING_NOTICE.toString(),f.SALE_OPT_OUT_NOTICE.toString(),f.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),f.SALE_OPT_OUT.toString(),f.TARGETED_ADVERTISING_OPT_OUT.toString(),f.SENSITIVE_DATA_PROCESSING.toString(),f.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),f.MSPA_COVERED_TRANSACTION.toString(),f.MSPA_OPT_OUT_OPTION_MODE.toString(),f.MSPA_SERVICE_PROVIDER_MODE.toString()];super(t,s),e&&e.length>0&&this.decode(e)}encode(){return this.base64UrlEncoder.encode(this.encodeToBitString())}decode(e){this.decodeFromBitString(this.base64UrlEncoder.decode(e))}getId(){return fe.ID}getName(){return fe.NAME}},R=fe;E(R,"ID",9),E(R,"VERSION",1),E(R,"NAME","uspvav1");var u;(function(o){o.VERSION="Version",o.SHARING_NOTICE="SharingNotice",o.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",o.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",o.SALE_OPT_OUT="SaleOptOut",o.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",o.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",o.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",o.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",o.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",o.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",o.GPC_SEGMENT_TYPE="GpcSegmentType",o.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",o.GPC="Gpc"})(u||(u={}));var he=class extends y{base64UrlEncoder=new U;constructor(e){let t=new Map;t.set(u.VERSION.toString(),new l(6,he.VERSION)),t.set(u.SHARING_NOTICE.toString(),new l(2,0)),t.set(u.SALE_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(u.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(u.SALE_OPT_OUT.toString(),new l(2,0)),t.set(u.TARGETED_ADVERTISING_OPT_OUT.toString(),new l(2,0)),t.set(u.SENSITIVE_DATA_PROCESSING.toString(),new G(2,[0,0,0,0,0,0,0])),t.set(u.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new l(2,0)),t.set(u.MSPA_COVERED_TRANSACTION.toString(),new l(2,0)),t.set(u.MSPA_OPT_OUT_OPTION_MODE.toString(),new l(2,0)),t.set(u.MSPA_SERVICE_PROVIDER_MODE.toString(),new l(2,0)),t.set(u.GPC_SEGMENT_TYPE.toString(),new l(2,1)),t.set(u.GPC_SEGMENT_INCLUDED.toString(),new V(!0)),t.set(u.GPC.toString(),new V(!1));let s=[u.VERSION.toString(),u.SHARING_NOTICE.toString(),u.SALE_OPT_OUT_NOTICE.toString(),u.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),u.SALE_OPT_OUT.toString(),u.TARGETED_ADVERTISING_OPT_OUT.toString(),u.SENSITIVE_DATA_PROCESSING.toString(),u.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),u.MSPA_COVERED_TRANSACTION.toString(),u.MSPA_OPT_OUT_OPTION_MODE.toString(),u.MSPA_SERVICE_PROVIDER_MODE.toString()],r=[u.GPC_SEGMENT_TYPE.toString(),u.GPC.toString()],n=[s,r];super(t,n),e&&e.length>0&&this.decode(e)}encode(){let e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&this.fields.get(u.GPC_SEGMENT_INCLUDED).getValue()===!0&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}decode(e){let t=e.split("."),s=[],r=!1;for(let n=0;n<t.length;n++){let i=this.base64UrlEncoder.decode(t[n]);switch(i.substring(0,2)){case"00":{s[0]=i;break}case"01":{r=!0,s[1]=i;break}default:throw new g("Unable to decode segment '"+t[n]+"'")}}this.decodeSegmentsFromBitStrings(s),this.fields.get(u.GPC_SEGMENT_INCLUDED).setValue(r)}getId(){return he.ID}getName(){return he.NAME}},M=he;E(M,"ID",10),E(M,"VERSION",1),E(M,"NAME","uspcov1");var O;(function(o){o.VERSION="Version",o.SHARING_NOTICE="SharingNotice",o.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",o.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",o.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",o.SALE_OPT_OUT="SaleOptOut",o.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",o.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",o.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",o.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",o.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",o.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode"})(O||(O={}));var Ie=class extends q{base64UrlEncoder=new U;constructor(e){let t=new Map;t.set(O.VERSION.toString(),new l(6,Ie.VERSION)),t.set(O.SHARING_NOTICE.toString(),new l(2,0)),t.set(O.SALE_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(O.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(O.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(O.SALE_OPT_OUT.toString(),new l(2,0)),t.set(O.TARGETED_ADVERTISING_OPT_OUT.toString(),new l(2,0)),t.set(O.SENSITIVE_DATA_PROCESSING.toString(),new G(2,[0,0,0,0,0,0,0,0])),t.set(O.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new l(2,0)),t.set(O.MSPA_COVERED_TRANSACTION.toString(),new l(2,0)),t.set(O.MSPA_OPT_OUT_OPTION_MODE.toString(),new l(2,0)),t.set(O.MSPA_SERVICE_PROVIDER_MODE.toString(),new l(2,0));let s=[O.VERSION.toString(),O.SHARING_NOTICE.toString(),O.SALE_OPT_OUT_NOTICE.toString(),O.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),O.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),O.SALE_OPT_OUT.toString(),O.TARGETED_ADVERTISING_OPT_OUT.toString(),O.SENSITIVE_DATA_PROCESSING.toString(),O.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),O.MSPA_COVERED_TRANSACTION.toString(),O.MSPA_OPT_OUT_OPTION_MODE.toString(),O.MSPA_SERVICE_PROVIDER_MODE.toString()];super(t,s),e&&e.length>0&&this.decode(e)}encode(){return this.base64UrlEncoder.encode(this.encodeToBitString())}decode(e){this.decodeFromBitString(this.base64UrlEncoder.decode(e))}getId(){return Ie.ID}getName(){return Ie.NAME}},x=Ie;E(x,"ID",11),E(x,"VERSION",1),E(x,"NAME","usputv1");var T;(function(o){o.VERSION="Version",o.SHARING_NOTICE="SharingNotice",o.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",o.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",o.SALE_OPT_OUT="SaleOptOut",o.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",o.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",o.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",o.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",o.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",o.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",o.GPC_SEGMENT_TYPE="GpcSegmentType",o.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",o.GPC="Gpc"})(T||(T={}));var Ne=class extends y{base64UrlEncoder=new U;constructor(e){let t=new Map;t.set(T.VERSION.toString(),new l(6,Ne.VERSION)),t.set(T.SHARING_NOTICE.toString(),new l(2,0)),t.set(T.SALE_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(T.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new l(2,0)),t.set(T.SALE_OPT_OUT.toString(),new l(2,0)),t.set(T.TARGETED_ADVERTISING_OPT_OUT.toString(),new l(2,0)),t.set(T.SENSITIVE_DATA_PROCESSING.toString(),new G(2,[0,0,0,0,0,0,0,0])),t.set(T.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new G(2,[0,0,0])),t.set(T.MSPA_COVERED_TRANSACTION.toString(),new l(2,0)),t.set(T.MSPA_OPT_OUT_OPTION_MODE.toString(),new l(2,0)),t.set(T.MSPA_SERVICE_PROVIDER_MODE.toString(),new l(2,0)),t.set(T.GPC_SEGMENT_TYPE.toString(),new l(2,1)),t.set(T.GPC_SEGMENT_INCLUDED.toString(),new V(!0)),t.set(T.GPC.toString(),new V(!1));let s=[T.VERSION.toString(),T.SHARING_NOTICE.toString(),T.SALE_OPT_OUT_NOTICE.toString(),T.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),T.SALE_OPT_OUT.toString(),T.TARGETED_ADVERTISING_OPT_OUT.toString(),T.SENSITIVE_DATA_PROCESSING.toString(),T.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),T.MSPA_COVERED_TRANSACTION.toString(),T.MSPA_OPT_OUT_OPTION_MODE.toString(),T.MSPA_SERVICE_PROVIDER_MODE.toString()],r=[T.GPC_SEGMENT_TYPE.toString(),T.GPC.toString()],n=[s,r];super(t,n),e&&e.length>0&&this.decode(e)}encode(){let e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&this.fields.get(T.GPC_SEGMENT_INCLUDED).getValue()===!0&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}decode(e){let t=e.split("."),s=[],r=!1;for(let n=0;n<t.length;n++){let i=this.base64UrlEncoder.decode(t[n]);switch(i.substring(0,2)){case"00":{s[0]=i;break}case"01":{r=!0,s[1]=i;break}default:throw new g("Unable to decode segment '"+t[n]+"'")}}this.decodeSegmentsFromBitStrings(s),this.fields.get(T.GPC_SEGMENT_INCLUDED).setValue(r)}getId(){return Ne.ID}getName(){return Ne.NAME}},w=Ne;E(w,"ID",12),E(w,"VERSION",1),E(w,"NAME","uspctv1");var m=class{};E(m,"SECTION_ID_NAME_MAP",new Map([[N.ID,N.NAME],[A.ID,A.NAME],[C.ID,C.NAME],[P.ID,P.NAME],[D.ID,D.NAME],[R.ID,R.NAME],[M.ID,M.NAME],[x.ID,x.NAME],[w.ID,w.NAME]])),E(m,"SECTION_ORDER",[N.NAME,A.NAME,C.NAME,P.NAME,D.NAME,R.NAME,M.NAME,x.NAME,w.NAME]);var Ae=class{sections=new Map;constructor(e){e&&e.length>0&&this.decode(e)}setFieldValue(e,t,s){let r=null;if(this.sections.has(e)?r=this.sections.get(e):e===A.NAME?(r=new A,this.sections.set(A.NAME,r)):e===N.NAME?(r=new N,this.sections.set(N.NAME,r)):e===C.NAME?(r=new C,this.sections.set(C.NAME,r)):e===P.NAME?(r=new P,this.sections.set(P.NAME,r)):e===D.NAME?(r=new D,this.sections.set(D.NAME,r)):e===R.NAME?(r=new R,this.sections.set(R.NAME,r)):e===M.NAME?(r=new M,this.sections.set(M.NAME,r)):e===x.NAME?(r=new x,this.sections.set(x.NAME,r)):e===w.NAME&&(r=new w,this.sections.set(w.NAME,r)),r)r.setFieldValue(t,s);else throw new le(e+"."+t+" not found")}setFieldValueBySectionId(e,t,s){this.setFieldValue(m.SECTION_ID_NAME_MAP.get(e),t,s)}getFieldValue(e,t){return this.sections.has(e)?this.sections.get(e).getFieldValue(t):null}getFieldValueBySectionId(e,t){return this.getFieldValue(m.SECTION_ID_NAME_MAP.get(e),t)}hasField(e,t){return this.sections.has(e)?this.sections.get(e).hasField(t):!1}hasFieldBySectionId(e,t){return this.hasField(m.SECTION_ID_NAME_MAP.get(e),t)}hasSection(e){return this.sections.has(e)}hasSectionId(e){return this.hasSection(m.SECTION_ID_NAME_MAP.get(e))}deleteSection(e){this.sections.delete(e)}deleteSectionById(e){this.deleteSection(m.SECTION_ID_NAME_MAP.get(e))}clear(){this.sections.clear()}getHeader(){let e=new K;return e.setFieldValue("SectionIds",this.getSectionIds()),e.toObj()}getSection(e){return this.sections.has(e)?this.sections.get(e).toObj():null}getSectionIds(){let e=[];for(let t=0;t<m.SECTION_ORDER.length;t++){let s=m.SECTION_ORDER[t];if(this.sections.has(s)){let r=this.sections.get(s);e.push(r.getId())}}return e}encode(){let e=[],t=[];for(let n=0;n<m.SECTION_ORDER.length;n++){let i=m.SECTION_ORDER[n];if(this.sections.has(i)){let p=this.sections.get(i);e.push(p.encode()),t.push(p.getId())}}let s=new K;return s.setFieldValue("SectionIds",this.getSectionIds()),e.unshift(s.encode()),e.join("~")}decode(e){this.sections.clear();let t=e.split("~"),s=new K(t[0]);this.sections.set(K.NAME,s);let r=s.getFieldValue("SectionIds");for(let n=0;n<r.length;n++)if(r[n]===A.ID){let i=new A(t[n+1]);this.sections.set(A.NAME,i)}else if(r[n]===N.ID){let i=new N(t[n+1]);this.sections.set(N.NAME,i)}else if(r[n]===C.ID){let i=new C(t[n+1]);this.sections.set(C.NAME,i)}else if(r[n]===P.ID){let i=new P(t[n+1]);this.sections.set(P.NAME,i)}else if(r[n]===D.ID){let i=new D(t[n+1]);this.sections.set(D.NAME,i)}else if(r[n]===R.ID){let i=new R(t[n+1]);this.sections.set(R.NAME,i)}else if(r[n]===M.ID){let i=new M(t[n+1]);this.sections.set(M.NAME,i)}else if(r[n]===x.ID){let i=new x(t[n+1]);this.sections.set(x.NAME,i)}else if(r[n]===w.ID){let i=new w(t[n+1]);this.sections.set(w.NAME,i)}}encodeSection(e){return this.sections.has(e)?this.sections.get(e).encode():null}encodeSectionById(e){return this.encodeSection(m.SECTION_ID_NAME_MAP.get(e))}decodeSection(e,t){let s=null;this.sections.has(e)?s=this.sections.get(e):e===A.NAME?(s=new A,this.sections.set(A.NAME,s)):e===N.NAME?(s=new N,this.sections.set(N.NAME,s)):e===C.NAME?(s=new C,this.sections.set(C.NAME,s)):e===P.NAME?(s=new P,this.sections.set(P.NAME,s)):e===D.NAME?(s=new D,this.sections.set(D.NAME,s)):e===R.NAME?(s=new R,this.sections.set(R.NAME,s)):e===M.NAME?(s=new M,this.sections.set(M.NAME,s)):e===x.NAME?(s=new x,this.sections.set(x.NAME,s)):e===w.NAME&&(s=new w,this.sections.set(w.NAME,s)),s&&s.decode(t)}decodeSectionById(e,t){this.decodeSection(m.SECTION_ID_NAME_MAP.get(e),t)}toObject(){let e={};for(let t=0;t<m.SECTION_ORDER.length;t++){let s=m.SECTION_ORDER[t];this.sections.has(s)&&(e[s]=this.sections.get(s).toObj())}return e}};var ke=class{gppVersion="1.0";apiSupport=[N.NAME,A.NAME,C.NAME,P.NAME,D.NAME,R.NAME,M.NAME,x.NAME,w.NAME];eventQueue=new ye(this);cmpStatus=ee.LOADING;cmpDisplayStatus=te.HIDDEN;applicableSections=[];gppModel=new Ae;cmpId;cmpVersion;currentAPI;eventStatus;reset(){delete this.cmpId,delete this.cmpVersion,delete this.currentAPI,delete this.eventStatus,this.gppModel=new Ae,this.cmpStatus=ee.LOADING,this.cmpDisplayStatus=te.HIDDEN,this.eventQueue.clear()}};var Se=class{static absCall(e,t,s,r){return new Promise((n,i)=>{let p=new XMLHttpRequest,I=()=>{if(p.readyState==XMLHttpRequest.DONE)if(p.status>=200&&p.status<300){let Me=p.response;if(typeof Me=="string")try{Me=JSON.parse(Me)}catch{}n(Me)}else i(new Error(`HTTP Status: ${p.status} response type: ${p.responseType}`))},H=()=>{i(new Error("error"))},Re=()=>{i(new Error("aborted"))},ae=()=>{i(new Error("Timeout "+r+"ms "+e))};p.withCredentials=s,p.addEventListener("load",I),p.addEventListener("error",H),p.addEventListener("abort",Re),t===null?p.open("GET",e,!0):p.open("POST",e,!0),p.responseType="json",p.timeout=r,p.ontimeout=ae,p.send(t)})}static post(e,t,s=!1,r=0){return this.absCall(e,JSON.stringify(t),s,r)}static fetch(e,t=!1,s=0){return this.absCall(e,null,t,s)}};var re=class extends Error{constructor(e){super(e),this.name="GvlError"}};var Pe=class{has(e){return Pe.langSet.has(e)}forEach(e){Pe.langSet.forEach(e)}get size(){return Pe.langSet.size}},Ce=Pe;E(Ce,"langSet",new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]));var De=class{vendors;consentLanguages=new Ce;gvlSpecificationVersion;vendorListVersion;tcfPolicyVersion;lastUpdated;purposes;specialPurposes;features;specialFeatures;stacks;language=De.DEFAULT_LANGUAGE;vendorIds;ready=!1;fullVendorList;byPurposeVendorMap;bySpecialPurposeVendorMap;byFeatureVendorMap;bySpecialFeatureVendorMap;baseUrl;languageFilename="purposes-[LANG].json";static fromVendorList(e){let t=new De;return t.populate(e),t}static async fromUrl(e){let t=e.baseUrl;if(!t||t.length===0)throw new re("Invalid baseUrl: '"+t+"'");if(/^https?:\/\/vendorlist\.consensu\.org\//.test(t))throw new re("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");t.length>0&&t[t.length-1]!=="/"&&(t+="/");let s=new De;if(s.baseUrl=t,e.languageFilename?s.languageFilename=e.languageFilename:s.languageFilename="purposes-[LANG].json",e.version>0){let r=e.versionedFilename;r||(r="archives/vendor-list-v[VERSION].json");let n=t+r.replace("[VERSION]",String(e.version));s.populate(await Se.fetch(n))}else{let r=e.latestFilename;r||(r="vendor-list.json");let n=t+r;s.populate(await Se.fetch(n))}return s}async changeLanguage(e){let t=e.toUpperCase();if(this.consentLanguages.has(t)){if(t!==this.language){this.language=t;let s=this.baseUrl+this.languageFilename.replace("[LANG]",e);try{this.populate(await Se.fetch(s))}catch(r){throw new re("unable to load language: "+r.message)}}}else throw new re(`unsupported language ${e}`)}getJson(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,vendors:this.fullVendorList}))}isVendorList(e){return e!==void 0&&e.vendors!==void 0}populate(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,typeof this.lastUpdated=="string"&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.ready=!0)}mapVendors(e){this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach(t=>{this.byPurposeVendorMap[t]={legInt:new Set,consent:new Set,flexible:new Set}}),Object.keys(this.specialPurposes).forEach(t=>{this.bySpecialPurposeVendorMap[t]=new Set}),Object.keys(this.features).forEach(t=>{this.byFeatureVendorMap[t]=new Set}),Object.keys(this.specialFeatures).forEach(t=>{this.bySpecialFeatureVendorMap[t]=new Set}),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map(t=>+t)),this.vendorIds=new Set(e),this.vendors=e.reduce((t,s)=>{let r=this.vendors[String(s)];return r&&r.deletedDate===void 0&&(r.purposes.forEach(n=>{this.byPurposeVendorMap[String(n)].consent.add(s)}),r.specialPurposes.forEach(n=>{this.bySpecialPurposeVendorMap[String(n)].add(s)}),r.legIntPurposes.forEach(n=>{this.byPurposeVendorMap[String(n)].legInt.add(s)}),r.flexiblePurposes&&r.flexiblePurposes.forEach(n=>{this.byPurposeVendorMap[String(n)].flexible.add(s)}),r.features.forEach(n=>{this.byFeatureVendorMap[String(n)].add(s)}),r.specialFeatures.forEach(n=>{this.bySpecialFeatureVendorMap[String(n)].add(s)}),t[s]=r),t},{})}getFilteredVendors(e,t,s,r){let n=e.charAt(0).toUpperCase()+e.slice(1),i,p={};return e==="purpose"&&s?i=this["by"+n+"VendorMap"][String(t)][s]:i=this["by"+(r?"Special":"")+n+"VendorMap"][String(t)],i.forEach(I=>{p[String(I)]=this.vendors[String(I)]}),p}getVendorsWithConsentPurpose(e){return this.getFilteredVendors("purpose",e,"consent")}getVendorsWithLegIntPurpose(e){return this.getFilteredVendors("purpose",e,"legInt")}getVendorsWithFlexiblePurpose(e){return this.getFilteredVendors("purpose",e,"flexible")}getVendorsWithSpecialPurpose(e){return this.getFilteredVendors("purpose",e,void 0,!0)}getVendorsWithFeature(e){return this.getFilteredVendors("feature",e)}getVendorsWithSpecialFeature(e){return this.getFilteredVendors("feature",e,void 0,!0)}narrowVendorsTo(e){this.mapVendors(e)}get isReady(){return this.ready}static isInstanceOf(e){return typeof e=="object"&&typeof e.narrowVendorsTo=="function"}},Ee=De;E(Ee,"DEFAULT_LANGUAGE","EN");var Ye=class{callResponder;cmpApiContext;constructor(e,t,s){this.cmpApiContext=new ke,this.cmpApiContext.cmpId=e,this.cmpApiContext.cmpVersion=t,this.callResponder=new Be(this.cmpApiContext,s)}fireEvent(e,t){this.cmpApiContext.eventQueue.exec(e,t)}fireErrorEvent(e){this.cmpApiContext.eventQueue.exec("error",e)}fireSectionChange(e){this.cmpApiContext.eventQueue.exec("sectionChange",e)}getEventStatus(){return this.cmpApiContext.eventStatus}setEventStatus(e){this.cmpApiContext.eventStatus=e}getCmpStatus(){return this.cmpApiContext.cmpStatus}setCmpStatus(e){this.cmpApiContext.cmpStatus=e,this.cmpApiContext.eventQueue.exec("cmpStatus",e)}getCmpDisplayStatus(){return this.cmpApiContext.cmpDisplayStatus}setCmpDisplayStatus(e){this.cmpApiContext.cmpDisplayStatus=e,this.cmpApiContext.eventQueue.exec("cmpDisplayStatus",e)}getApplicableSections(){return this.cmpApiContext.applicableSections}setApplicableSections(e){this.cmpApiContext.applicableSections=e}getCurrentAPI(){return this.cmpApiContext.currentAPI}setCurrentAPI(e){this.cmpApiContext.currentAPI=e}setGppString(e){this.cmpApiContext.gppModel.decode(e)}getGppString(){return this.cmpApiContext.gppModel.encode()}setSectionString(e,t){this.cmpApiContext.gppModel.decodeSection(e,t)}setSectionStringById(e,t){this.setSectionString(m.SECTION_ID_NAME_MAP.get(e),t)}getSectionString(e){return this.cmpApiContext.gppModel.encodeSection(e)}getSectionStringById(e){return this.getSectionString(m.SECTION_ID_NAME_MAP.get(e))}setFieldValue(e,t,s){this.cmpApiContext.gppModel.setFieldValue(e,t,s)}setFieldValueBySectionId(e,t,s){this.setFieldValue(m.SECTION_ID_NAME_MAP.get(e),t,s)}getFieldValue(e,t){return this.cmpApiContext.gppModel.getFieldValue(e,t)}getFieldValueBySectionId(e,t){return this.getFieldValue(m.SECTION_ID_NAME_MAP.get(e),t)}getSection(e){return this.cmpApiContext.gppModel.getSection(e)}getSectionById(e){return this.getSection(m.SECTION_ID_NAME_MAP.get(e))}hasSection(e){return this.cmpApiContext.gppModel.hasSection(e)}hasSectionId(e){return this.hasSection(m.SECTION_ID_NAME_MAP.get(e))}deleteSection(e){this.cmpApiContext.gppModel.deleteSection(e)}deleteSectionById(e){this.deleteSection(m.SECTION_ID_NAME_MAP.get(e))}clear(){this.cmpApiContext.gppModel.clear()}getObject(){return this.cmpApiContext.gppModel.toObject()}getGvlFromVendorList(e){return Ee.fromVendorList(e)}async getGvlFromUrl(e){return Ee.fromUrl(e)}};var Ke=class{constructor(){this.cmpStatus=ee;this.displayStatus=te}getCmpApi(e,t,s){return new Ye(e,t,s)}},We=new Ke;window.otIabModule={gppSdkRef:{gppCmpApi:We.getCmpApi,cmpStatus:We.cmpStatus,displayStatus:We.displayStatus}};})();
