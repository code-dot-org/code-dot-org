/*! ice-editor 2014-09-28 */

!function(a){function b(c,e){if(!(this instanceof b))return new b(c,e);var f=this;d(f),f.q=f.c="",f.bufferCheckPosition=a.MAX_BUFFER_LENGTH,f.opt=e||{},f.opt.lowercase=f.opt.lowercase||f.opt.lowercasetags,f.looseCase=f.opt.lowercase?"toLowerCase":"toUpperCase",f.tags=[],f.closed=f.closedRoot=f.sawRoot=!1,f.tag=f.error=null,f.strict=!!c,f.noscript=!(!c&&!f.opt.noscript),f.state=Q.BEGIN,f.ENTITIES=Object.create(a.ENTITIES),f.attribList=[],f.opt.xmlns&&(f.ns=Object.create(N)),f.trackPosition=f.opt.position!==!1,f.trackPosition&&(f.position=f.line=f.column=0),l(f,"onready")}function c(b){for(var c=Math.max(a.MAX_BUFFER_LENGTH,10),d=0,e=0,f=z.length;f>e;e++){var g=b[z[e]].length;if(g>c)switch(z[e]){case"textNode":n(b);break;case"cdata":m(b,"oncdata",b.cdata),b.cdata="";break;case"script":m(b,"onscript",b.script),b.script="";break;default:p(b,"Max buffer length exceeded: "+z[e])}d=Math.max(d,g)}b.bufferCheckPosition=a.MAX_BUFFER_LENGTH-d+b.position}function d(a){for(var b=0,c=z.length;c>b;b++)a[z[b]]=""}function e(a){n(a),""!==a.cdata&&(m(a,"oncdata",a.cdata),a.cdata=""),""!==a.script&&(m(a,"onscript",a.script),a.script="")}function f(a,b){return new g(a,b)}function g(a,c){if(!(this instanceof g))return new g(a,c);A.apply(this),this._parser=new b(a,c),this.writable=!0,this.readable=!0;var d=this;this._parser.onend=function(){d.emit("end")},this._parser.onerror=function(a){d.emit("error",a),d._parser.error=null},this._decoder=null,C.forEach(function(a){Object.defineProperty(d,"on"+a,{get:function(){return d._parser["on"+a]},set:function(b){return b?void d.on(a,b):(d.removeAllListeners(a),d._parser["on"+a]=b)},enumerable:!0,configurable:!1})})}function h(a){return a.split("").reduce(function(a,b){return a[b]=!0,a},{})}function i(a){return"[object RegExp]"===Object.prototype.toString.call(a)}function j(a,b){return i(a)?!!b.match(a):a[b]}function k(a,b){return!j(a,b)}function l(a,b,c){a[b]&&a[b](c)}function m(a,b,c){a.textNode&&n(a),l(a,b,c)}function n(a){a.textNode=o(a.opt,a.textNode),a.textNode&&l(a,"ontext",a.textNode),a.textNode=""}function o(a,b){return a.trim&&(b=b.trim()),a.normalize&&(b=b.replace(/\s+/g," ")),b}function p(a,b){return n(a),a.trackPosition&&(b+="\nLine: "+a.line+"\nColumn: "+a.column+"\nChar: "+a.c),b=new Error(b),a.error=b,l(a,"onerror",b),a}function q(a){return a.closedRoot||r(a,"Unclosed root tag"),a.state!==Q.BEGIN&&a.state!==Q.TEXT&&p(a,"Unexpected end"),n(a),a.c="",a.closed=!0,l(a,"onend"),b.call(a,a.strict,a.opt),a}function r(a,c){if("object"!=typeof a||!(a instanceof b))throw new Error("bad call to strictFail");a.strict&&p(a,c)}function s(a){a.strict||(a.tagName=a.tagName[a.looseCase]());var b=a.tags[a.tags.length-1]||a,c=a.tag={name:a.tagName,attributes:{}};a.opt.xmlns&&(c.ns=b.ns),a.attribList.length=0}function t(a,b){var c=a.indexOf(":"),d=0>c?["",a]:a.split(":"),e=d[0],f=d[1];return b&&"xmlns"===a&&(e="xmlns",f=""),{prefix:e,local:f}}function u(a){if(a.strict||(a.attribName=a.attribName[a.looseCase]()),-1!==a.attribList.indexOf(a.attribName)||a.tag.attributes.hasOwnProperty(a.attribName))return a.attribName=a.attribValue="";if(a.opt.xmlns){var b=t(a.attribName,!0),c=b.prefix,d=b.local;if("xmlns"===c)if("xml"===d&&a.attribValue!==L)r(a,"xml: prefix must be bound to "+L+"\nActual: "+a.attribValue);else if("xmlns"===d&&a.attribValue!==M)r(a,"xmlns: prefix must be bound to "+M+"\nActual: "+a.attribValue);else{var e=a.tag,f=a.tags[a.tags.length-1]||a;e.ns===f.ns&&(e.ns=Object.create(f.ns)),e.ns[d]=a.attribValue}a.attribList.push([a.attribName,a.attribValue])}else a.tag.attributes[a.attribName]=a.attribValue,m(a,"onattribute",{name:a.attribName,value:a.attribValue});a.attribName=a.attribValue=""}function v(a,b){if(a.opt.xmlns){var c=a.tag,d=t(a.tagName);c.prefix=d.prefix,c.local=d.local,c.uri=c.ns[d.prefix]||"",c.prefix&&!c.uri&&(r(a,"Unbound namespace prefix: "+JSON.stringify(a.tagName)),c.uri=d.prefix);var e=a.tags[a.tags.length-1]||a;c.ns&&e.ns!==c.ns&&Object.keys(c.ns).forEach(function(b){m(a,"onopennamespace",{prefix:b,uri:c.ns[b]})});for(var f=0,g=a.attribList.length;g>f;f++){var h=a.attribList[f],i=h[0],j=h[1],k=t(i,!0),l=k.prefix,n=k.local,o=""==l?"":c.ns[l]||"",p={name:i,value:j,prefix:l,local:n,uri:o};l&&"xmlns"!=l&&!o&&(r(a,"Unbound namespace prefix: "+JSON.stringify(l)),p.uri=l),a.tag.attributes[i]=p,m(a,"onattribute",p)}a.attribList.length=0}a.tag.isSelfClosing=!!b,a.sawRoot=!0,a.tags.push(a.tag),m(a,"onopentag",a.tag),b||(a.state=a.noscript||"script"!==a.tagName.toLowerCase()?Q.TEXT:Q.SCRIPT,a.tag=null,a.tagName=""),a.attribName=a.attribValue="",a.attribList.length=0}function w(a){if(!a.tagName)return r(a,"Weird empty close tag."),a.textNode+="</>",void(a.state=Q.TEXT);if(a.script){if("script"!==a.tagName)return a.script+="</"+a.tagName+">",a.tagName="",void(a.state=Q.SCRIPT);m(a,"onscript",a.script),a.script=""}var b=a.tags.length,c=a.tagName;a.strict||(c=c[a.looseCase]());for(var d=c;b--;){var e=a.tags[b];if(e.name===d)break;r(a,"Unexpected close tag")}if(0>b)return r(a,"Unmatched closing tag: "+a.tagName),a.textNode+="</"+a.tagName+">",void(a.state=Q.TEXT);a.tagName=c;for(var f=a.tags.length;f-->b;){var g=a.tag=a.tags.pop();a.tagName=a.tag.name,m(a,"onclosetag",a.tagName);var h={};for(var i in g.ns)h[i]=g.ns[i];var j=a.tags[a.tags.length-1]||a;a.opt.xmlns&&g.ns!==j.ns&&Object.keys(g.ns).forEach(function(b){var c=g.ns[b];m(a,"onclosenamespace",{prefix:b,uri:c})})}0===b&&(a.closedRoot=!0),a.tagName=a.attribValue=a.attribName="",a.attribList.length=0,a.state=Q.TEXT}function x(a){var b,c=a.entity,d=c.toLowerCase(),e="";return a.ENTITIES[c]?a.ENTITIES[c]:a.ENTITIES[d]?a.ENTITIES[d]:(c=d,"#"===c.charAt(0)&&("x"===c.charAt(1)?(c=c.slice(2),b=parseInt(c,16),e=b.toString(16)):(c=c.slice(1),b=parseInt(c,10),e=b.toString(10))),c=c.replace(/^0+/,""),e.toLowerCase()!==c?(r(a,"Invalid character entity"),"&"+a.entity+";"):String.fromCodePoint(b))}function y(a){var b=this;if(this.error)throw this.error;if(b.closed)return p(b,"Cannot write after close. Assign an onready handler.");if(null===a)return q(b);for(var d=0,e="";b.c=e=a.charAt(d++);)switch(b.trackPosition&&(b.position++,"\n"===e?(b.line++,b.column=0):b.column++),b.state){case Q.BEGIN:"<"===e?(b.state=Q.OPEN_WAKA,b.startTagPosition=b.position):k(D,e)&&(r(b,"Non-whitespace before first tag."),b.textNode=e,b.state=Q.TEXT);continue;case Q.TEXT:if(b.sawRoot&&!b.closedRoot){for(var f=d-1;e&&"<"!==e&&"&"!==e;)e=a.charAt(d++),e&&b.trackPosition&&(b.position++,"\n"===e?(b.line++,b.column=0):b.column++);b.textNode+=a.substring(f,d-1)}"<"===e?(b.state=Q.OPEN_WAKA,b.startTagPosition=b.position):(!k(D,e)||b.sawRoot&&!b.closedRoot||r(b,"Text data outside of root node."),"&"===e?b.state=Q.TEXT_ENTITY:b.textNode+=e);continue;case Q.SCRIPT:"<"===e?b.state=Q.SCRIPT_ENDING:b.script+=e;continue;case Q.SCRIPT_ENDING:"/"===e?b.state=Q.CLOSE_TAG:(b.script+="<"+e,b.state=Q.SCRIPT);continue;case Q.OPEN_WAKA:if("!"===e)b.state=Q.SGML_DECL,b.sgmlDecl="";else if(j(D,e));else if(j(O,e))b.state=Q.OPEN_TAG,b.tagName=e;else if("/"===e)b.state=Q.CLOSE_TAG,b.tagName="";else if("?"===e)b.state=Q.PROC_INST,b.procInstName=b.procInstBody="";else{if(r(b,"Unencoded <"),b.startTagPosition+1<b.position){var g=b.position-b.startTagPosition;e=new Array(g).join(" ")+e}b.textNode+="<"+e,b.state=Q.TEXT}continue;case Q.SGML_DECL:(b.sgmlDecl+e).toUpperCase()===J?(m(b,"onopencdata"),b.state=Q.CDATA,b.sgmlDecl="",b.cdata=""):b.sgmlDecl+e==="--"?(b.state=Q.COMMENT,b.comment="",b.sgmlDecl=""):(b.sgmlDecl+e).toUpperCase()===K?(b.state=Q.DOCTYPE,(b.doctype||b.sawRoot)&&r(b,"Inappropriately located doctype declaration"),b.doctype="",b.sgmlDecl=""):">"===e?(m(b,"onsgmldeclaration",b.sgmlDecl),b.sgmlDecl="",b.state=Q.TEXT):j(G,e)?(b.state=Q.SGML_DECL_QUOTED,b.sgmlDecl+=e):b.sgmlDecl+=e;continue;case Q.SGML_DECL_QUOTED:e===b.q&&(b.state=Q.SGML_DECL,b.q=""),b.sgmlDecl+=e;continue;case Q.DOCTYPE:">"===e?(b.state=Q.TEXT,m(b,"ondoctype",b.doctype),b.doctype=!0):(b.doctype+=e,"["===e?b.state=Q.DOCTYPE_DTD:j(G,e)&&(b.state=Q.DOCTYPE_QUOTED,b.q=e));continue;case Q.DOCTYPE_QUOTED:b.doctype+=e,e===b.q&&(b.q="",b.state=Q.DOCTYPE);continue;case Q.DOCTYPE_DTD:b.doctype+=e,"]"===e?b.state=Q.DOCTYPE:j(G,e)&&(b.state=Q.DOCTYPE_DTD_QUOTED,b.q=e);continue;case Q.DOCTYPE_DTD_QUOTED:b.doctype+=e,e===b.q&&(b.state=Q.DOCTYPE_DTD,b.q="");continue;case Q.COMMENT:"-"===e?b.state=Q.COMMENT_ENDING:b.comment+=e;continue;case Q.COMMENT_ENDING:"-"===e?(b.state=Q.COMMENT_ENDED,b.comment=o(b.opt,b.comment),b.comment&&m(b,"oncomment",b.comment),b.comment=""):(b.comment+="-"+e,b.state=Q.COMMENT);continue;case Q.COMMENT_ENDED:">"!==e?(r(b,"Malformed comment"),b.comment+="--"+e,b.state=Q.COMMENT):b.state=Q.TEXT;continue;case Q.CDATA:"]"===e?b.state=Q.CDATA_ENDING:b.cdata+=e;continue;case Q.CDATA_ENDING:"]"===e?b.state=Q.CDATA_ENDING_2:(b.cdata+="]"+e,b.state=Q.CDATA);continue;case Q.CDATA_ENDING_2:">"===e?(b.cdata&&m(b,"oncdata",b.cdata),m(b,"onclosecdata"),b.cdata="",b.state=Q.TEXT):"]"===e?b.cdata+="]":(b.cdata+="]]"+e,b.state=Q.CDATA);continue;case Q.PROC_INST:"?"===e?b.state=Q.PROC_INST_ENDING:j(D,e)?b.state=Q.PROC_INST_BODY:b.procInstName+=e;continue;case Q.PROC_INST_BODY:if(!b.procInstBody&&j(D,e))continue;"?"===e?b.state=Q.PROC_INST_ENDING:b.procInstBody+=e;continue;case Q.PROC_INST_ENDING:">"===e?(m(b,"onprocessinginstruction",{name:b.procInstName,body:b.procInstBody}),b.procInstName=b.procInstBody="",b.state=Q.TEXT):(b.procInstBody+="?"+e,b.state=Q.PROC_INST_BODY);continue;case Q.OPEN_TAG:j(P,e)?b.tagName+=e:(s(b),">"===e?v(b):"/"===e?b.state=Q.OPEN_TAG_SLASH:(k(D,e)&&r(b,"Invalid character in tag name"),b.state=Q.ATTRIB));continue;case Q.OPEN_TAG_SLASH:">"===e?(v(b,!0),w(b)):(r(b,"Forward-slash in opening tag not followed by >"),b.state=Q.ATTRIB);continue;case Q.ATTRIB:if(j(D,e))continue;">"===e?v(b):"/"===e?b.state=Q.OPEN_TAG_SLASH:j(O,e)?(b.attribName=e,b.attribValue="",b.state=Q.ATTRIB_NAME):r(b,"Invalid attribute name");continue;case Q.ATTRIB_NAME:"="===e?b.state=Q.ATTRIB_VALUE:">"===e?(r(b,"Attribute without value"),b.attribValue=b.attribName,u(b),v(b)):j(D,e)?b.state=Q.ATTRIB_NAME_SAW_WHITE:j(P,e)?b.attribName+=e:r(b,"Invalid attribute name");continue;case Q.ATTRIB_NAME_SAW_WHITE:if("="===e)b.state=Q.ATTRIB_VALUE;else{if(j(D,e))continue;r(b,"Attribute without value"),b.tag.attributes[b.attribName]="",b.attribValue="",m(b,"onattribute",{name:b.attribName,value:""}),b.attribName="",">"===e?v(b):j(O,e)?(b.attribName=e,b.state=Q.ATTRIB_NAME):(r(b,"Invalid attribute name"),b.state=Q.ATTRIB)}continue;case Q.ATTRIB_VALUE:if(j(D,e))continue;j(G,e)?(b.q=e,b.state=Q.ATTRIB_VALUE_QUOTED):(r(b,"Unquoted attribute value"),b.state=Q.ATTRIB_VALUE_UNQUOTED,b.attribValue=e);continue;case Q.ATTRIB_VALUE_QUOTED:if(e!==b.q){"&"===e?b.state=Q.ATTRIB_VALUE_ENTITY_Q:b.attribValue+=e;continue}u(b),b.q="",b.state=Q.ATTRIB_VALUE_CLOSED;continue;case Q.ATTRIB_VALUE_CLOSED:j(D,e)?b.state=Q.ATTRIB:">"===e?v(b):"/"===e?b.state=Q.OPEN_TAG_SLASH:j(O,e)?(r(b,"No whitespace between attributes"),b.attribName=e,b.attribValue="",b.state=Q.ATTRIB_NAME):r(b,"Invalid attribute name");continue;case Q.ATTRIB_VALUE_UNQUOTED:if(k(I,e)){"&"===e?b.state=Q.ATTRIB_VALUE_ENTITY_U:b.attribValue+=e;continue}u(b),">"===e?v(b):b.state=Q.ATTRIB;continue;case Q.CLOSE_TAG:if(b.tagName)">"===e?w(b):j(P,e)?b.tagName+=e:b.script?(b.script+="</"+b.tagName,b.tagName="",b.state=Q.SCRIPT):(k(D,e)&&r(b,"Invalid tagname in closing tag"),b.state=Q.CLOSE_TAG_SAW_WHITE);else{if(j(D,e))continue;k(O,e)?b.script?(b.script+="</"+e,b.state=Q.SCRIPT):r(b,"Invalid tagname in closing tag."):b.tagName=e}continue;case Q.CLOSE_TAG_SAW_WHITE:if(j(D,e))continue;">"===e?w(b):r(b,"Invalid characters in closing tag");continue;case Q.TEXT_ENTITY:case Q.ATTRIB_VALUE_ENTITY_Q:case Q.ATTRIB_VALUE_ENTITY_U:switch(b.state){case Q.TEXT_ENTITY:var h=Q.TEXT,i="textNode";break;case Q.ATTRIB_VALUE_ENTITY_Q:var h=Q.ATTRIB_VALUE_QUOTED,i="attribValue";break;case Q.ATTRIB_VALUE_ENTITY_U:var h=Q.ATTRIB_VALUE_UNQUOTED,i="attribValue"}";"===e?(b[i]+=x(b),b.entity="",b.state=h):j(H,e)?b.entity+=e:(r(b,"Invalid character entity"),b[i]+="&"+b.entity+e,b.entity="",b.state=h);continue;default:throw new Error(b,"Unknown state: "+b.state)}return b.position>=b.bufferCheckPosition&&c(b),b}a.parser=function(a,c){return new b(a,c)},a.SAXParser=b,a.SAXStream=g,a.createStream=f,a.MAX_BUFFER_LENGTH=65536;var z=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];a.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(a){function b(){this.__proto__=a}return b.prototype=a,new b}),Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__}),Object.keys||(Object.keys=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}),b.prototype={end:function(){q(this)},write:y,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){e(this)}};try{var A=require("stream").Stream}catch(B){var A=function(){}}var C=a.EVENTS.filter(function(a){return"error"!==a&&"end"!==a});g.prototype=Object.create(A.prototype,{constructor:{value:g}}),g.prototype.write=function(a){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(a)){if(!this._decoder){var b=require("string_decoder").StringDecoder;this._decoder=new b("utf8")}a=this._decoder.write(a)}return this._parser.write(a.toString()),this.emit("data",a),!0},g.prototype.end=function(a){return a&&a.length&&this.write(a),this._parser.end(),!0},g.prototype.on=function(a,b){var c=this;return c._parser["on"+a]||-1===C.indexOf(a)||(c._parser["on"+a]=function(){var b=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);b.splice(0,0,a),c.emit.apply(c,b)}),A.prototype.on.call(c,a,b)};var D="\r\n	 ",E="0124356789",F="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",G="'\"",H=E+F+"#",I=D+">",J="[CDATA[",K="DOCTYPE",L="http://www.w3.org/XML/1998/namespace",M="http://www.w3.org/2000/xmlns/",N={xml:L,xmlns:M};D=h(D),E=h(E),F=h(F);var O=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,P=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;G=h(G),H=h(H),I=h(I);var Q=0;a.STATE={BEGIN:Q++,TEXT:Q++,TEXT_ENTITY:Q++,OPEN_WAKA:Q++,SGML_DECL:Q++,SGML_DECL_QUOTED:Q++,DOCTYPE:Q++,DOCTYPE_QUOTED:Q++,DOCTYPE_DTD:Q++,DOCTYPE_DTD_QUOTED:Q++,COMMENT_STARTING:Q++,COMMENT:Q++,COMMENT_ENDING:Q++,COMMENT_ENDED:Q++,CDATA:Q++,CDATA_ENDING:Q++,CDATA_ENDING_2:Q++,PROC_INST:Q++,PROC_INST_BODY:Q++,PROC_INST_ENDING:Q++,OPEN_TAG:Q++,OPEN_TAG_SLASH:Q++,ATTRIB:Q++,ATTRIB_NAME:Q++,ATTRIB_NAME_SAW_WHITE:Q++,ATTRIB_VALUE:Q++,ATTRIB_VALUE_QUOTED:Q++,ATTRIB_VALUE_CLOSED:Q++,ATTRIB_VALUE_UNQUOTED:Q++,ATTRIB_VALUE_ENTITY_Q:Q++,ATTRIB_VALUE_ENTITY_U:Q++,CLOSE_TAG:Q++,CLOSE_TAG_SAW_WHITE:Q++,SCRIPT:Q++,SCRIPT_ENDING:Q++},a.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(a.ENTITIES).forEach(function(b){var c=a.ENTITIES[b],d="number"==typeof c?String.fromCharCode(c):c;a.ENTITIES[b]=d});for(var Q in a.STATE)a.STATE[a.STATE[Q]]=Q;Q=a.STATE,String.fromCodePoint||!function(){var a=String.fromCharCode,b=Math.floor,c=function(){var c,d,e=16384,f=[],g=-1,h=arguments.length;if(!h)return"";for(var i="";++g<h;){var j=Number(arguments[g]);if(!isFinite(j)||0>j||j>1114111||b(j)!=j)throw RangeError("Invalid code point: "+j);65535>=j?f.push(j):(j-=65536,c=(j>>10)+55296,d=j%1024+56320,f.push(c,d)),(g+1==h||f.length>e)&&(i+=a.apply(null,f),f.length=0)}return i};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:c,configurable:!0,writable:!0}):String.fromCodePoint=c}()}("undefined"==typeof exports?sax={}:exports);var QUAD={};QUAD.init=function(a){var b,c=0,d=1,e=2,f=3,g=4;return a.maxChildren=a.maxChildren||2,a.maxDepth=a.maxDepth||4,b=function(a,h,i,j,k,l,m){var n=[],o=[];return{x:a,y:h,w:i,h:j,depth:k,retrieve:function(a,b,c){for(var d=0;d<n.length;++d)c?b.call(c,n[d]):b(n[d]);o.length&&this.findOverlappingNodes(a,function(d){o[d].retrieve(a,b,c)})},insert:function(a){var b;o.length?(b=this.findInsertNode(a),b===g?n.push(a):o[b].insert(a)):(n.push(a),n.length>l&&this.depth<m&&this.divide())},findInsertNode:function(b){return b.x+b.w<a+i/2?b.y+b.h<h+j/2?c:b.y>=h+j/2?e:g:b.x>=a+i/2?b.y+b.h<h+j/2?d:b.y>=h+j/2?f:g:g},findOverlappingNodes:function(b,g){b.x<a+i/2&&(b.y<h+j/2&&g(c),b.y+b.h>=h+j/2&&g(e)),b.x+b.w>=a+i/2&&(b.y<h+j/2&&g(d),b.y+b.h>=h+j/2&&g(f))},divide:function(){var a,c,d,e,f=this.depth+1;for(a=i/2,c=j/2,o.push(b(this.x,this.y,a,c,f,l,m)),o.push(b(this.x+a,this.y,a,c,f,l,m)),o.push(b(this.x,this.y+c,a,c,f,l,m)),o.push(b(this.x+a,this.y+c,a,c,f,l,m)),e=n,n=[],d=0;d<e.length;d++)this.insert(e[d])},clear:function(){var a;for(a=0;a<o.length;a++)o[a].clear();n.length=0,o.length=0},getNodes:function(){return o.length?o:!1}}},{root:function(){return b(a.x,a.y,a.w,a.h,0,a.maxChildren,a.maxDepth)}(),insert:function(a){var b,c;if(a instanceof Array)for(b=a.length,c=0;b>c;c++)this.root.insert(a[c]);else this.root.insert(a)},retrieve:function(a,b,c){return this.root.retrieve(a,b,c)},clear:function(){this.root.clear()}}},function(){define("droplet-helper",[],function(){var a,b,c;return a={},a.ANY_DROP=0,a.BLOCK_ONLY=1,a.MOSTLY_BLOCK=2,a.MOSTLY_VALUE=3,a.VALUE_ONLY=4,a.ENCOURAGE=1,a.DISCOURAGE=0,a.FORBID=-1,"undefined"!=typeof window&&null!==window&&(window.String.prototype.trimLeft=function(){return this.replace(/^\s+/,"")},window.String.prototype.trimRight=function(){return this.replace(/\s+$/,"")}),a.xmlPrettyPrint=function(b){var c,d;return c="",d=sax.parser(!0),d.ontext=function(b){return c+=a.escapeXMLText(b)},d.onopentag=function(a){var b,d,e;c+="<"+a.name,e=a.attributes;for(b in e)d=e[b],c+="\n  "+b+"="+JSON.stringify(d);return c+=">"},d.onclosetag=function(a){return c+="</"+a+">"},d.write(b).close(),c},c={},a.fontMetrics=b=function(a,b){var d,e,f,g,h,i,j,k,l,m,n,o,p;return i=""+b+"px "+a,n=c[i],o=function(a){var b,c,d,e,f,h,i,j,l;for(g.fillStyle="black",g.fillRect(0,0,p,k),g.textBaseline="top",g.fillStyle="white",g.fillText(a,0,0),h=Math.ceil(g.measureText(a).width),f=g.getImageData(0,0,p,k).data,c=-1,e=k,i=j=0;k>=0?k>j:j>k;i=k>=0?++j:--j){for(b=l=1;h>=1?h>l:l>h;b=h>=1?++l:--l)if(d=4*(i*p+b),0!==f[d]){0>c&&(c=i);break}if(c>=0&&b>=h){e=i;break}}return{top:c,bottom:e}},n||(e=document.createElement("canvas"),g=e.getContext("2d"),g.font=i,m=g.measureText("Hg"),(e.height<2*b||e.width<m.width)&&(e.width=Math.ceil(m.width),e.height=2*b,g=e.getContext("2d"),g.font=i),p=e.width,k=e.height,f=o("H"),h=o("x"),l=o("lf"),j=o("g"),d=f.bottom,n={ascent:l.top,capital:f.top,ex:h.top,baseline:f.bottom,descent:j.bottom},n.prettytop=Math.max(0,Math.min(n.ascent,n.ex-(n.descent-n.baseline))),c[i]=n),n},a.getFontHeight=function(a,c){var d;return d=b(a,c),d.descent-d.prettytop},a.escapeXMLText=function(a){return a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},a.serializeShallowDict=function(a){var b,c,d;c=[];for(b in a)d=a[b],c.push(b+":"+d);return c.join(";")},a.deserializeShallowDict=function(a){var b,c,d,e,f,g,h,i;if(null==a)return void 0;for(b={},e=a.split(";"),g=0,h=e.length;h>g;g++)d=e[g],i=d.split(":"),c=i[0],f=i[1],b[c]=f;return b},a})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b};define("droplet-draw",["droplet-helper"],function(c){var d,e,f,g,h,i,j,k,l,m,n,o;return f={},n=function(a,b,c){return(b.x-a.x)*(c.y-a.y)-(c.x-a.x)*(b.y-a.y)},o=function(a,b,c,d){return n(a,b,c)>0!=n(a,b,d)>0&&n(c,d,a)>0!=n(c,d,b)>0},g=function(a,b){return a>b?a:b},i=function(a,b){return b>a?a:b},k=function(a){var b,c,d,e;return 4===a.length&&(a=function(){var b,d,e;for(e=[],b=0,d=a.length;d>b;b++)c=a[b],e.push(c+c);return e}().join("").slice(1)),e=parseInt(a.slice(1,3),16),d=parseInt(a.slice(3,5),16),b=parseInt(a.slice(5,7),16),[e,d,b]},m=function(a,b){return a.length<b?function(){var c,d,e;for(e=[],c=d=a.length;b>=d?b>c:c>b;b>=d?c++:c--)e.push("0");return e}().join("")+a:a},l=function(a){return m(Math.round(a).toString(16),2)},j=function(a){var b;return"#"+function(){var c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(l(b));return e}().join("")},h={},e=function(a,b,c){var d,e,f,g;return d=a+","+b+","+c,d in h?h[d]:(a=k(a),c=k(c),g=function(){var d,g,h;for(h=[],e=d=0,g=a.length;g>d;e=++d)f=a[e],h.push(a[e]*b+c[e]*(1-b));return h}(),h[d]=j(g))},f.Draw=d=function(){function d(){var c,d,f,h,j,k,l;this.ctx=null,this.fontSize=15,this.fontFamily="Courier New, monospace",this.fontAscent=2,l=this,this.Point=f=function(){function a(a,b){this.x=a,this.y=b}return a.prototype.clone=function(){return new a(this.x,this.y)},a.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},a.prototype.translate=function(a){return this.x+=a.x,this.y+=a.y},a.prototype.add=function(a,b){return this.x+=a,this.y+=b},a.prototype.plus=function(b){var c,d;return c=b.x,d=b.y,new a(this.x+c,this.y+d)},a.prototype.toMagnitude=function(b){var c;return c=b/this.magnitude(),new a(this.x*c,this.y*c)},a.prototype.copy=function(a){return this.x=a.x,this.y=a.y},a.prototype.from=function(b){return new a(this.x-b.x,this.y-b.y)},a.prototype.clear=function(){return this.x=this.y=0},a.prototype.equals=function(a){return a.x===this.x&&a.y===this.y},a}(),this.Size=j=function(){function a(a,b){this.width=a,this.height=b}return a.prototype.equals=function(a){return this.width===a.width&&this.height===a.height},a.copy=function(b){return new a(b.width,b.height)},a}(),this.Rectangle=h=function(){function a(a,b,c,d){this.x=a,this.y=b,this.width=c,this.height=d}return a.prototype.contains=function(a){return null!=this.x&&null!=this.y&&!(a.x<this.x||a.x>this.x+this.width||a.y<this.y||a.y>this.y+this.height)},a.prototype.identical=function(a){return this.x===a.x&&this.y===a.y&&this.width===a.width&&this.height===a.height},a.prototype.copy=function(a){return this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height},a.prototype.clip=function(a){return a.rect(this.x,this.y,this.width,this.height),a.clip()},a.prototype.clone=function(){var b;return b=new a(0,0,0,0),b.copy(this),b},a.prototype.clear=function(){return this.width=this.height=0,this.x=this.y=null},a.prototype.bottom=function(){return this.y+this.height},a.prototype.right=function(){return this.x+this.width},a.prototype.fill=function(a,b){return a.fillStyle=b,a.fillRect(this.x,this.y,this.width,this.height)},a.prototype.unite=function(a){return null==this.x||null==this.y?this.copy(a):null!=a.x&&null!=a.y?(this.width=g(this.right(),a.right())-(this.x=i(this.x,a.x)),this.height=g(this.bottom(),a.bottom())-(this.y=i(this.y,a.y))):void 0},a.prototype.swallow=function(b){return null==this.x||null==this.y?this.copy(new a(b.x,b.y,0,0)):(this.width=g(this.right(),b.x)-(this.x=i(this.x,b.x)),this.height=g(this.bottom(),b.y)-(this.y=i(this.y,b.y)))},a.prototype.overlap=function(a){return null!=this.x&&null!=this.y&&!(a.right()<this.x||a.bottom()<this.y||a.x>this.right()||a.y>this.bottom())},a.prototype.translate=function(a){return this.x+=a.x,this.y+=a.y},a.prototype.stroke=function(a,b){return a.strokeStyle=b,a.strokeRect(this.x,this.y,this.width,this.height)},a.prototype.fill=function(a,b){return a.fillStyle=b,a.fillRect(this.x,this.y,this.width,this.height)},a.prototype.upperLeftCorner=function(){return new f(this.x,this.y)},a.prototype.toPath=function(){var a,b,c,e,g;for(a=new d,g=[[this.x,this.y],[this.x,this.bottom()],[this.right(),this.bottom()],[this.right(),this.y]],c=0,e=g.length;e>c;c++)b=g[c],a.push(new f(b[0],b[1]));return a},a}(),this.NoRectangle=c=function(a){function c(){c.__super__.constructor.call(this,null,null,0,0)}return b(c,a),c}(h),this.Path=d=function(){function b(){this._points=[],this._cachedTranslation=new f(0,0),this._cacheFlag=!1,this._bounds=new c,this.style={strokeColor:"#000",lineWidth:1,fillColor:null}}return b.prototype._clearCache=function(){var a,b,c,d,e,f,h,j;if(this._cacheFlag){for(c=d=1/0,a=b=0,j=this._points,f=0,h=j.length;h>f;f++)e=j[f],c=i(c,e.x),a=g(a,e.x),d=i(d,e.y),b=g(b,e.y);return this._bounds.x=c,this._bounds.y=d,this._bounds.width=a-c,this._bounds.height=b-d,this._cacheFlag=!1}},b.prototype.push=function(a){return this._points.push(a),this._cacheFlag=!0},b.prototype.unshift=function(a){return this._points.unshift(a),this._cacheFlag=!0},b.prototype.contains=function(a){var b,c,d,e,g,h,i;if(this._clearCache(),0===this._points.length)return!1;if(!this._bounds.contains(a))return!1;for(c=new f(this._bounds.x-10,a.y),b=0,e=this._points[this._points.length-1],i=this._points,g=0,h=i.length;h>g;g++)d=i[g],o(e,d,a,c)&&(b+=1),e=d;return b%2===1},b.prototype.intersects=function(a){var b,c,d,e,g,h,i,j,k,l;if(this._clearCache(),0===this._points.length)return!1;if(a.overlap(this._bounds)){for(c=this._points[this._points.length-1],e=[new f(a.x,a.y),new f(a.right(),a.y),new f(a.right(),a.bottom()),new f(a.x,a.bottom())],l=this._points,h=0,j=l.length;j>h;h++){for(b=l[h],d=e[e.length-1],i=0,k=e.length;k>i;i++){if(g=e[i],o(c,b,d,g))return!0;d=g}c=b}return this.contains(e[0])?!0:a.contains(this._points[0])?!0:!1}return!1},b.prototype.bounds=function(){return this._clearCache(),this._bounds},b.prototype.translate=function(a){return this._cachedTranslation.translate(a),this._cacheFlag=!0},b.prototype.draw=function(a){var b,c,d,f,g,h,i,j,k,l,m;if(this._clearCache(),0!==this._points.length){for(a.strokeStyle=this.style.strokeColor,a.lineWidth=this.style.lineWidth,null!=this.style.fillColor&&(a.fillStyle=this.style.fillColor),a.beginPath(),a.moveTo(this._points[0].x,this._points[0].y),k=this._points,d=0,h=k.length;h>d;d++)c=k[d],a.lineTo(c.x,c.y);if(a.lineTo(this._points[0].x,this._points[0].y),this._points.length>1&&a.lineTo(this._points[1].x,this._points[1].y),null!=this.style.fillColor&&a.fill(),a.save(),this.noclip||a.clip(),this.bevel){for(a.beginPath(),a.moveTo(this._points[0].x,this._points[0].y),l=this._points.slice(1),b=f=0,i=l.length;i>f;b=++f)c=l[b],c.x<this._points[b].x&&c.y>=this._points[b].y||c.y>this._points[b].y&&c.x<=this._points[b].x?a.lineTo(c.x,c.y):c.equals(this._points[b])||a.moveTo(c.x,c.y);for(this._points[0].x>this._points[this._points.length-1].x||this._points[0].y<this._points[this._points.length-1].y||a.lineTo(this._points[0].x,this._points[0].y),a.lineWidth=4,a.strokeStyle=e(this.style.fillColor,.85,"#000"),a.stroke(),a.lineWidth=2,a.strokeStyle=e(this.style.fillColor,.7,"#000"),a.stroke(),a.beginPath(),a.moveTo(this._points[0].x,this._points[0].y),m=this._points.slice(1),b=g=0,j=m.length;j>g;b=++g)c=m[b],c.x>this._points[b].x&&c.y<=this._points[b].y||c.y<this._points[b].y&&c.x>=this._points[b].x?a.lineTo(c.x,c.y):c.equals(this._points[b])||a.moveTo(c.x,c.y);(this._points[0].x>this._points[this._points.length-1].x||this._points[0].y<this._points[this._points.length-1].y)&&a.lineTo(this._points[0].x,this._points[0].y),a.lineWidth=4,a.strokeStyle=e(this.style.fillColor,.85,"#FFF"),a.stroke(),a.lineWidth=2,a.strokeStyle=e(this.style.fillColor,.7,"#FFF"),a.stroke()}else a.stroke();return a.restore()}},b.prototype.clone=function(){var a,c,d,e,f;for(a=new b,f=this._points,d=0,e=f.length;e>d;d++)c=f[d],a.push(c);return a},b.prototype.drawShadow=function(b,c,d,e){var f,g,h,i,j,k,l,m;if(this._clearCache(),b.fillStyle=this.style.fillColor,0!==this._points.length){for(g={shadowColor:b.shadowColor,shadowBlur:b.shadowBlur,shadowOffsetY:b.shadowOffsetY,shadowOffsetX:b.shadowOffsetX,globalAlpha:b.globalAlpha},b.globalAlpha=.5,b.shadowColor="#000",b.shadowBlur=e,b.shadowOffsetX=c,b.shadowOffsetY=d,b.beginPath(),b.moveTo(this._points[0].x,this._points[0].y),l=this._points,j=0,k=l.length;k>j;j++)h=l[j],b.lineTo(h.x,h.y);b.lineTo(this._points[0].x,this._points[0].y),b.fill(),m=[];for(f in g)a.call(g,f)&&(i=g[f],m.push(b[f]=i));return m}},b}(),this.Text=k=function(){function a(a,b){this.point=a,this.value=b,this.wantedFont=l.fontSize+"px "+l.fontFamily,l.ctx.font!==this.wantedFont&&(l.ctx.font=l.fontSize+"px "+l.fontFamily),this._bounds=new h(this.point.x,this.point.y,l.ctx.measureText(this.value).width,l.fontSize)}return a.prototype.bounds=function(){return this._bounds},a.prototype.contains=function(a){return this._bounds.contains(a)},a.prototype.translate=function(a){return this.point.translate(a),this._bounds.translate(a)},a.prototype.setPosition=function(a){return this.translate(a.from(this.point))},a.prototype.draw=function(a){return a.textBaseline="top",a.font=l.fontSize+"px "+l.fontFamily,a.fillStyle="#000",a.fillText(this.value,this.point.x,this.point.y-l.fontAscent)},a}()}return d.prototype.refreshFontCapital=function(){return this.fontAscent=c.fontMetrics(this.fontFamily,this.fontSize).prettytop},d.prototype.setCtx=function(a){return this.ctx=a},d.prototype.setGlobalFontSize=function(a){return this.fontSize=a,this.refreshFontCapital()},d.prototype.setGlobalFontFamily=function(a){return this.fontFamily=a,this.refreshFontCapital()},d.prototype.getGlobalFontSize=function(){return this.fontSize},d}(),f})}.call(this),function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;
return-1},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a};define("droplet-model",["droplet-helper"],function(b){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;return A={},z=function(){return!0},n=function(){return!1},o={"default":b.NORMAL},j={"default":b.FORBID},C=0,Function.prototype.trigger=function(a,b,c){return Object.defineProperty(this.prototype,a,{get:b,set:c})},A.isTreeValid=function(a){var b,c,d,e,f,g,h,j,k;for(f=b=a.start.next,e=[];;){if(f=f.next,d=b,b=b.next,null==b)throw window._ice_debug_lastHare=d,new Error("Ran off the end of the document before EOF");if(d!==b.prev)throw new Error("Linked list is not properly bidirectional");if(b===a.end){if(e.length>0)throw new Error("Document ended before: "+function(){var a,b,d;for(d=[],a=0,b=e.length;b>a;a++)c=e[a],d.push(c.type);return d}().join(","));break}if(b instanceof w)e.push(b.container);else if(b instanceof i){if(e[e.length-1]!==b.container)throw new Error("Stack does not align "+(null!=(g=e[e.length-1])?g.type:void 0)+" != "+(null!=(h=b.container)?h.type:void 0));e.pop()}if(d=b,b=b.next,null==b)throw window._ice_debug_lastHare=d,new Error("Ran off the end of the document before EOF");if(d!==b.prev)throw new Error("Linked list is not properly bidirectional");if(b===a.end){if(e.length>0)throw new Error("Document ended before: "+function(){var a,b,d;for(d=[],a=0,b=e.length;b>a;a++)c=e[a],d.push(c.type);return d}().join(","));break}if(b instanceof w)e.push(b.container);else if(b instanceof i){if(e[e.length-1]!==b.container)throw new Error("Stack does not align "+(null!=(j=e[e.length-1])?j.type:void 0)+" != "+(null!=(k=b.container)?k.type:void 0));e.pop()}if(f===b)throw new Error("Linked list loops")}return!0},A.Container=g=function(){function b(){null==this.start&&null==this.end&&(this.start=new w(this),this.end=new i(this),this.type="container"),this.id=++C,this.parent=null,this.version=0,this.start.append(this.end),this.ephemeral=!1,this.lineMarkStyles=[]}return b.prototype._cloneEmpty=function(){return new b},b.prototype.getReader=function(){return{id:this.id,type:this.type,precedence:this.precedence,classes:this.classes}},b.prototype.hasParent=function(a){var b;for(b=this;b!==a&&null!==b;)b=b.parent;return b===a},b.prototype.getCommonParent=function(a){var b;for(b=this;!a.hasParent(b);)b=b.parent;return b},b.prototype.getLinesToParent=function(){var a,b;for(a=this.start,b=0;a!==this.parent.start;)"newline"===a.type&&b++,a=a.prev;return b},b.prototype.hasCommonParent=function(a){var b;for(b=this;!a.hasParent(b);)b=b.parent;return null!=b},b.prototype.rawReplace=function(a){return null!=a.start.prev&&a.start.prev.append(this.start),null!=a.end.next&&this.end.append(a.end.next),this.start.parent=this.end.parent=this.parent=a.parent,a.parent=a.start.parent=a.end.parent=null,a.start.prev=a.end.next=null,this.notifyChange()},b.prototype.getLeadingText=function(){return"text"===this.start.next.type?this.start.next.value:""},b.prototype.getTrailingText=function(){return"text"===this.end.prev.type?this.end.prev.value:""},b.prototype.setLeadingText=function(a){return"text"===this.start.next.type?0===a.length?this.start.next.remove():this.start.next.value=a:0!==a.length?this.start.insert(new x(a)):void 0},b.prototype.setTrailingText=function(a){return"text"===this.end.prev.type?0===a.length?this.end.prev.remove():this.end.prev.value=a:0!==a.length?this.end.insertBefore(new x(a)):void 0},b.prototype.clone=function(){var a,b;return b=this._cloneEmpty(),a=b.start,this.traverseOneLevel(function(){return function(b,c){var d;return c?(d=b.clone(),a.append(d.start),a=d.end):"cursor"!==b.type?a=a.append(b.clone()):void 0}}(this)),a.append(b.end),b.correctParentTree(),b},b.prototype.stringify=function(a){var b,c,d;for(null==a&&(a=""),d="",b=this.start.next,c={indent:"",emptyToken:a};b!==this.end;)d+=b.stringify(c),b=b.next;return d},b.prototype.serialize=function(){var a;return a=this._serialize_header(),this.traverseOneLevel(function(b){return a+=b.serialize()}),a+=this._serialize_footer()},b.prototype._serialize_header="<container>",b.prototype._serialize_header="</container>",b.prototype.contents=function(){var a;return a=this.clone(),a.start.next===a.end?null:(a.start.next.prev=null,a.end.prev.next=null,a.start.next)},b.prototype.spliceOut=function(){var a,b,c,d,e,f;for(a=this.start.previousVisibleToken(),b=this.end.nextVisibleToken();!("newline"!==(null!=a?a.type:void 0)||void 0!==(c=null!=b?b.type:void 0)&&"newline"!==c&&"indentEnd"!==c&&"segmentEnd"!==c||"indentStart"===(null!=(d=a.previousVisibleToken())?d.type:void 0)&&a.previousVisibleToken().container.end===b);)a=a.previousVisibleToken(),a.nextVisibleToken().remove();for(;"newline"===(null!=b?b.type:void 0)&&("newline"===(null!=b&&null!=(e=b.nextVisibleToken())?e.type:void 0)||void 0===(f=null!=a?a.type:void 0)||"segmentStart"===f);)b=b.nextVisibleToken(),b.previousVisibleToken().remove();return this.notifyChange(),null!=this.start.prev?this.start.prev.append(this.end.next):null!=this.end.next&&(this.end.next.prev=null),this.start.prev=this.end.next=null,this.start.parent=this.end.parent=this.parent=null},b.prototype.spliceIn=function(a){for(var b,c,d;"cursor"===a.type;)a=a.prev;switch(this.ephemeral=!1,a.type){case"indentStart":for(b=a.container.end.prev;"cursor"===(d=b.type)||"segmentEnd"===d||"segmentStart"===d;)b=b.prev;a="newline"===b.type?a.next:a.insert(new p);break;case"blockEnd":a=a.insert(new p);break;case"segmentStart":a.nextVisibleToken()!==a.container.end&&a.insert(new p);break;case"socketStart":a.append(a.container.end)}return c=a.next,a.append(this.start),this.start.parent=this.end.parent=this.parent,this.end.append(c),this.notifyChange()},b.prototype.moveTo=function(a,b){var c,d,e,f,g;return(null!=this.start.prev||null!=this.end.next)&&(c=this.getLeadingText(),d=this.getTrailingText(),e=b.parens(c,d,this,null),c=e[0],d=e[1],this.setLeadingText(c),this.setTrailingText(d),this.spliceOut()),null!=a?(c=this.getLeadingText(),d=this.getTrailingText(),g=b.parens(c,d,this,null!=(f=a.container)?f:a.parent),c=g[0],d=g[1],this.setLeadingText(c),this.setTrailingText(d),this.spliceIn(a)):void 0},b.prototype.notifyChange=function(){var a,b;for(a=this,b=[];null!=a;)a.version++,b.push(a=a.parent);return b},b.prototype.wrap=function(a,b){return this.parent=this.start.parent=this.end.parent=a.parent,a.prev.append(this.start),this.start.append(a),this.end.append(b.next),b.append(this.end),B(a,function(a){return function(b){return b.parent=a}}(this)),this.notifyChange()},b.prototype.correctParentTree=function(){return this.traverseOneLevel(function(a){return function(b,c){return b.parent=a,c?(b.start.parent=b.end.parent=a,b.correctParentTree()):void 0}}(this))},b.prototype.find=function(b,c){var d,e,f;for(null==c&&(c=[]),e=this.start;e!==this.end;){if(d=e instanceof w?e.container:e,a.call(c,d)>=0&&(e=d.end),!(e instanceof i||"newline"===(f=e.type)||"cursor"===f)&&b(d))return d;e=e.next}return b(this)?this:void 0},b.prototype.getTokenAtLocation=function(a){var b,c;if(null==a)return null;if(0===a)return this.start;for(c=this.start,b=1;b!==a&&c!==this.end;)"cursor"!==(null!=c?c.type:void 0)&&b++,c=c.next;for(;"cursor"===(null!=c?c.type:void 0);)c=c.next;return c},b.prototype.getBlockOnLine=function(a){var b,c,d,e;for(b=this.start,c=0,d=[];c!==a&&null!=b;){switch(b.type){case"newline":c++;break;case"blockStart":d.push(b.container);break;case"blockEnd":d.pop()}b=b.next}for(;"newline"===(e=null!=b?b.type:void 0)||"cursor"===e||"segmentStart"===e||"segmentEnd"===e;)b=b.next;return"blockStart"===(null!=b?b.type:void 0)&&d.push(b.container),d[d.length-1]},b.prototype.traverseOneLevel=function(a){return B(this.start.next,a)},b.prototype.isFirstOnLine=function(){var a,b,c,d,e;return(a=this.start.previousVisibleToken())===(null!=(b=this.parent)?b.start:void 0)||a===(null!=(c=this.parent)&&null!=(d=c.parent)?d.start:void 0)||null===a||"newline"===(null!=(e=this.start.previousVisibleToken())?e.type:void 0)},b.prototype.isLastOnLine=function(){var a,b,c,d,e,f;return(a=this.end.nextVisibleToken())===(null!=(b=this.parent)?b.end:void 0)||a===(null!=(c=this.parent)&&null!=(d=c.parent)?d.end:void 0)||null===a||"newline"===(e=null!=(f=this.end.nextVisibleToken())?f.type:void 0)||"indentStart"===e||"indentEnd"===e},b.prototype.visParent=function(){var a;for(a=this.parent;"segment"===(null!=a?a.type:void 0)&&a.isLassoSegment;)a=a.parent;return a},b.prototype.addLineMark=function(a){return this.lineMarkStyles.push(a)},b.prototype.removeLineMark=function(a){var b;return this.lineMarkStyles=function(){var c,d,e,f;for(e=this.lineMarkStyles,f=[],c=0,d=e.length;d>c;c++)b=e[c],b.tag!==a&&f.push(b);return f}.call(this)},b.prototype.clearLineMarks=function(){return this.lineMarkStyles=[]},b}(),A.Token=y=function(){function a(){this.id=++C,this.prev=this.next=this.parent=null,this.version=0}return a.prototype.hasParent=function(a){var b;for(b=this;b!==a&&null!==b;)b=b.parent;return b===a},a.prototype.visParent=function(){var a;for(a=this.parent;"segment"===(null!=a?a.type:void 0)&&a.isLassoSegment;)a=a.parent;return a},a.prototype.getCommonParent=function(a){var b;for(b=this;!a.hasParent(b);)b=b.parent;return b},a.prototype.hasCommonParent=function(a){var b;for(b=this;!a.hasParent(b);)b=b.parent;return null!=b},a.prototype.append=function(a){return this.next=a,a?(a.prev=this,a.parent!==this.parent&&B(a,function(a){return function(b){return b.parent=a.parent}}(this)),a):void 0},a.prototype.insert=function(a){return(a instanceof w||a instanceof i)&&console.warn('"insert"-ing a container can cause problems'),a.next=this.next,a.prev=this,this.next.prev=a,this.next=a,a.parent=this.parent,a},a.prototype.insertBefore=function(a){return null!=this.prev?this.prev.insert(a):(this.prev=a,a.next=this,a.parent=this.parent)},a.prototype.remove=function(){return null!=this.prev?this.prev.append(this.next):null!=this.next&&(this.next.prev=null),this.prev=this.next=this.parent=null},a.prototype.isVisible=z,a.prototype.isAffect=z,a.prototype.previousVisibleToken=function(){var a;for(a=this.prev;null!=a&&!a.isVisible();)a=a.prev;return a},a.prototype.nextVisibleToken=function(){var a;for(a=this.next;null!=a&&!a.isVisible();)a=a.next;return a},a.prototype.previousAffectToken=function(){var a;for(a=this.prev;null!=a&&!a.isAffect();)a=a.prev;return a},a.prototype.nextAffectToken=function(){var a;for(a=this.next;null!=a&&!a.isAffect();)a=a.next;return a},a.prototype.notifyChange=function(){var a;for(a=this;null!=a;)a.version++,a=a.parent;return null},a.prototype.isFirstOnLine=function(){var a,b;return this.previousVisibleToken()===(null!=(a=this.parent)?a.start:void 0)||"newline"===(null!=(b=this.previousVisibleToken())?b.type:void 0)},a.prototype.isLastOnLine=function(){var a,b,c;return this.nextVisibleToken()===(null!=(a=this.parent)?a.end:void 0)||"newline"===(b=null!=(c=this.nextVisibleToken())?c.type:void 0)||"indentEnd"===b},a.prototype.getSerializedLocation=function(){var a,b;for(b=this,a=0;null!==b;)"cursor"!==b.type&&a++,b=b.prev;return a},a.prototype.stringify=function(){return""},a.prototype.serialize=function(){return""},a}(),A.StartToken=w=function(a){function b(a){this.container=a,b.__super__.constructor.apply(this,arguments),this.markup="begin"}return c(b,a),b.prototype.append=function(a){return this.next=a,null!=a?(a.prev=this,B(a,function(a){return function(b){return b.parent=a.container}}(this)),a):void 0},b.prototype.insert=function(a){return(a instanceof b||a instanceof i)&&console.warn('"insert"-ing a container can cause problems'),a.next=this.next,a.prev=this,this.next.prev=a,this.next=a,a.parent=this.container,a},b.prototype.serialize=function(){return"<container>"},b}(y),A.EndToken=i=function(a){function b(a){this.container=a,b.__super__.constructor.apply(this,arguments),this.markup="end"}return c(b,a),b.prototype.append=function(a){return this.next=a,null!=a?(a.prev=this,B(a,function(a){return function(b){return b.parent=a.container.parent}}(this)),a):void 0},b.prototype.insert=function(a){return(a instanceof w||a instanceof b)&&console.warn('"insert"-ing a container can cause problems'),a.next=this.next,a.prev=this,this.next.prev=a,this.next=a,a.parent=this.container.parent,a},b.prototype.serialize=function(){return"</container>"},b}(y),A.BlockStartToken=f=function(a){function b(a){this.container=a,b.__super__.constructor.apply(this,arguments),this.type="blockStart"}return c(b,a),b}(w),A.BlockEndToken=e=function(a){function b(a){this.container=a,b.__super__.constructor.apply(this,arguments),this.type="blockEnd"}return c(b,a),b.prototype.serialize=function(){return"</block>"},b}(i),A.Block=d=function(a){function d(a,c,g,h){this.precedence=null!=a?a:0,this.color=null!=c?c:"blank",this.socketLevel=null!=g?g:b.ANY_DROP,this.classes=null!=h?h:[],this.start=new f(this),this.end=new e(this),this.type="block",d.__super__.constructor.apply(this,arguments)}return c(d,a),d.prototype._cloneEmpty=function(){var a;return a=new d(this.precedence,this.color,this.socketLevel,this.classes),a.currentlyParenWrapped=this.currentlyParenWrapped,a},d.prototype._serialize_header=function(){var a,b;return'<block precedence="'+this.precedence+'" color="'+this.color+'" socketLevel="'+this.socketLevel+'" classes="'+(null!=(a=null!=(b=this.classes)&&"function"==typeof b.join?b.join(" "):void 0)?a:"")+'" >'},d.prototype._serialize_footer=function(){return"</block>"},d}(g),A.SocketStartToken=v=function(a){function b(a){this.container=a,b.__super__.constructor.apply(this,arguments),this.type="socketStart"}return c(b,a),b.prototype.stringify=function(a){return this.next===this.container.end||"text"===this.next.type&&""===this.next.value?a.emptyToken:""},b}(w),A.SocketEndToken=u=function(a){function b(a){this.container=a,b.__super__.constructor.apply(this,arguments),this.type="socketEnd"}return c(b,a),b}(i),A.Socket=t=function(a){function b(a,c,d){this.precedence=null!=a?a:0,this.handwritten=null!=c?c:!1,this.classes=null!=d?d:[],this.start=new v(this),this.end=new u(this),this.type="socket",b.__super__.constructor.apply(this,arguments)}return c(b,a),b.prototype._cloneEmpty=function(){return new b(this.precedence,this.handwritten,this.accepts)},b.prototype._serialize_header=function(){var a,b;return'<socket precedence="'+this.precedence+'" handwritten="'+this.handwritten+'" classes="'+(null!=(a=null!=(b=this.classes)&&"function"==typeof b.join?b.join(" "):void 0)?a:"")+'">'},b.prototype._serialize_footer=function(){return"</socket>"},b}(g),A.IndentStartToken=m=function(a){function b(a){this.container=a,b.__super__.constructor.apply(this,arguments),this.type="indentStart"}return c(b,a),b.prototype.stringify=function(a){return a.indent+=this.container.prefix,""},b}(w),A.IndentEndToken=l=function(a){function b(a){this.container=a,b.__super__.constructor.apply(this,arguments),this.type="indentEnd"}return c(b,a),b.prototype.stringify=function(a){return 0!==this.container.prefix.length&&(a.indent=a.indent.slice(0,-this.container.prefix.length)),this.previousVisibleToken().previousVisibleToken()===this.container.start?a.emptyToken:""},b.prototype.serialize=function(){return"</indent>"},b}(i),A.Indent=k=function(a){function b(a,c){this.prefix=null!=a?a:"",this.classes=null!=c?c:[],this.start=new m(this),this.end=new l(this),this.type="indent",this.depth=this.prefix.length,b.__super__.constructor.apply(this,arguments)}return c(b,a),b.prototype._cloneEmpty=function(){return new b(this.prefix)},b.prototype._serialize_header=function(){var a,b;return'<indent prefix="'+this.prefix+'" classes="'+(null!=(a=null!=(b=this.classes)&&"function"==typeof b.join?b.join(" "):void 0)?a:"")+'">'},b.prototype._serialize_footer=function(){return"</indent>"},b}(g),A.SegmentStartToken=s=function(a){function b(a){this.container=a,b.__super__.constructor.apply(this,arguments),this.type="segmentStart"}return c(b,a),b.prototype.isVisible=function(){return this.container.isRoot},b.prototype.serialize=function(){return"<segment>"},b}(w),A.SegmentEndToken=r=function(a){function b(a){this.container=a,b.__super__.constructor.apply(this,arguments),this.type="segmentEnd"}return c(b,a),b.prototype.isVisible=function(){return this.container.isRoot},b.prototype.serialize=function(){return"</segment>"},b}(i),A.Segment=q=function(a){function b(a){this.isLassoSegment=null!=a?a:!1,this.start=new s(this),this.end=new r(this),this.isRoot=!1,this.classes=["__segment"],this.type="segment",b.__super__.constructor.apply(this,arguments)}return c(b,a),b.prototype._cloneEmpty=function(){return new b(this.isLassoSegment)},b.prototype.unwrap=function(){return this.notifyChange(),this.traverseOneLevel(function(a){return function(b){return b.parent=a.parent}}(this)),this.start.remove(),this.end.remove()},b.prototype._serialize_header=function(){return'<segment isLassoSegment="'+this.isLassoSegment+'">'},b.prototype._serialize_footer=function(){return"</segment>"},b}(g),A.TextToken=x=function(a){function d(a){this._value=a,d.__super__.constructor.apply(this,arguments),this.type="text"}return c(d,a),d.trigger("value",function(){return this._value},function(a){return this._value=a,this.notifyChange()}),d.prototype.stringify=function(){return this._value},d.prototype.serialize=function(){return b.escapeXMLText(this._value)},d.prototype.clone=function(){return new d(this._value)},d}(y),A.NewlineToken=p=function(a){function b(a){this.specialIndent=a,b.__super__.constructor.apply(this,arguments),this.type="newline"}return c(b,a),b.prototype.stringify=function(a){var b;return"\n"+(null!=(b=this.specialIndent)?b:a.indent)},b.prototype.serialize=function(){return"\n"},b.prototype.clone=function(){return new b(this.specialIndent)},b}(y),A.CursorToken=h=function(a){function b(){b.__super__.constructor.apply(this,arguments),this.type="cursor"}return c(b,a),b.prototype.isVisible=n,b.prototype.isAffect=n,b.prototype.serialize=function(){return"<cursor/>"},b.prototype.clone=function(){return new b},b}(y),B=function(a,b){var c;for(c=[];;){if(a instanceof i||null==a)break;a instanceof w?(b(a.container,!0),a=a.container.end):b(a,!1),c.push(a=a.next)}return c},A})}.call(this),function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},b={}.hasOwnProperty,c=function(a,c){function d(){this.constructor=a}for(var e in c)b.call(c,e)&&(a[e]=c[e]);return d.prototype=c.prototype,a.prototype=new d,a.__super__=c.prototype,a},d=function(a,b){return(a%b+ +b)%b};define("droplet-view",["droplet-helper","droplet-draw","droplet-model"],function(b,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;return t=0,r=1,q=2,o=3,p=4,f=b.ANY_DROP,g=b.BLOCK_ONLY,m=b.MOSTLY_BLOCK,n=b.MOSTLY_VALUE,u=b.VALUE_ONLY,j=0,h=1,i=2,k=3,l={padding:5,indentWidth:10,indentTongueHeight:10,tabOffset:10,tabWidth:15,tabHeight:5,tabSideWidth:.125,dropAreaHeight:20,indentDropAreaMinWidth:50,minSocketWidth:10,textHeight:15,textPadding:1,emptyLineWidth:50,highlightAreaHeight:10,bevelClip:3,shadowBlur:5,ctx:document.createElement("canvas").getContext("2d"),colors:{error:"#ff0000","return":"#ecec79",control:"#efcf8f",value:"#8cec79",command:"#8fbfef",red:"#f2a6a6",orange:"#efcf8f",yellow:"#ecec79",green:"#8cec79",cyan:"#79ecd9",blue:"#8fbfef",violet:"#bfa6f2",magenta:"#f2a6e5"}},w=function(){return!0},s=function(){return!1},A={},z=function(){return{selected:0,grayscale:0}},x=function(a,b){var c,d;return a.length!==b.length?!1:function(){var e,f,g;for(g=[],c=e=0,f=a.length;f>e;c=++e)d=a[c],g.push(d!==b[c]);return g}()?!1:!0},A.View=v=function(){function b(a){var b,c;this.opts=null!=a?a:{},this.map={},this.draw=null!=(c=this.opts.draw)?c:new e.Draw;for(b in l)b in this.opts||(this.opts[b]=l[b]);this.draw.setCtx(this.opts.ctx)}var f,g,m,n,u,v,w,A;return b.prototype.clearCache=function(){return this.map={}},b.prototype.getViewNodeFor=function(a){return a.id in this.map?this.map[a.id]:this.createView(a)},b.prototype.hasViewNodeFor=function(a){return null!=a&&a.id in this.map},b.prototype.createView=function(a){switch(a.type){case"text":return new A(a,this);case"block":return new f(a,this);case"indent":return new u(a,this);case"socket":return new w(a,this);case"segment":return new v(a,this);case"cursor":return new m(a,this)}},n=function(){function b(a,b){this.model=a,this.view=b,this.view.map[this.model.id]=this,this.invalidate=!1,this.lineLength=0,this.children=[],this.lineChildren=[],this.multilineChildrenData=[],this.margins={left:0,right:0,top:0,bottom:0},this.topLineSticksToBottom=!1,this.bottomLineSticksToTop=!1,this.minDimensions=[],this.minDistanceToBase=[],this.dimensions=[],this.distanceToBase=[],this.bevels={topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1},this.bounds=[],this.changedBoundingBox=!0,this.glue={},this.path=new this.view.draw.Path,this.dropArea=this.highlightArea=null,this.computedVersion=-1}return b.prototype.serialize=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;for(e=[],s=["lineLength","margins","topLineSticksToBottom","bottomLineSticksToTop","changedBoundingBox","path","highlightArea","computedVersion","carriageArrow","bevels"],f=0,j=s.length;j>f;f++)d=s[f],e.push(d+": "+JSON.stringify(this[d]));for(t=this.children,c=g=0,k=t.length;k>g;c=++g)b=t[c],e.push("child "+c+": {startLine: "+b.startLine+", "+("endLine: "+b.endLine+"}"));if(null!=a){for(u=["multilineChildrenData","minDimensions","minDistanceToBase","dimensions","distanceToBase","bounds","glue"],h=0,l=u.length;l>h;h++)d=u[h],e.push(""+d+" "+a+": "+JSON.stringify(this[d][a]));for(v=this.lineChildren[a],c=i=0,m=v.length;m>i;c=++i)b=v[c],e.push("line "+a+" child "+c+": "+("{startLine: "+b.startLine+", ")+("endLine: "+b.endLine+"}}"))}else for(a=p=0,w=this.lineLength;w>=0?w>p:p>w;a=w>=0?++p:--p){for(x=["multilineChildrenData","minDimensions","minDistanceToBase","dimensions","distanceToBase","bounds","glue"],q=0,n=x.length;n>q;q++)d=x[q],e.push(""+d+" "+a+": "+JSON.stringify(this[d][a]));for(y=this.lineChildren[a],c=r=0,o=y.length;o>r;c=++r)b=y[c],e.push("line "+a+" child "+c+": "+("{startLine: "+b.startLine+", ")+("endLine: "+b.endLine+"}}"))}return e.join("\n")},b.prototype.computeChildren=function(){return this.lineLength},b.prototype.computeCarriageArrow=function(){return this.carriageArrow=i},b.prototype.computeMargins=function(){var a,b,c,d,e,f,g,h,i;if(this.computedVersion===this.model.version&&(null==this.model.parent||this.model.parent.version===this.view.getViewNodeFor(this.model.parent).computedVersion))return this.margins;for(d=null!=(h=this.model.parent)?h.type:void 0,c=this.view.opts.padding,b=this.model.isFirstOnLine()||this.lineLength>1?c:0,e=this.model.isLastOnLine()||this.lineLength>1?c:0,this.margins="block"===d&&"indent"===this.model.type?{top:this.view.opts.padding,bottom:this.lineLength>1?this.view.opts.indentTongueHeight:this.view.opts.padding,firstLeft:0,midLeft:this.view.opts.indentWidth,lastLeft:this.view.opts.indentWidth,firstRight:0,midRight:0,lastRight:c}:"text"===this.model.type&&"socket"===d?{top:this.view.opts.textPadding,bottom:this.view.opts.textPadding,firstLeft:this.view.opts.textPadding,midLeft:this.view.opts.textPadding,lastLeft:this.view.opts.textPadding,firstRight:this.view.opts.textPadding,midRight:this.view.opts.textPadding,lastRight:this.view.opts.textPadding}:"text"===this.model.type&&"block"===d?{top:c,bottom:c,firstLeft:b,midLeft:b,lastLeft:b,firstRight:e,midRight:e,lastRight:e}:"block"===d?{top:c,bottom:c,firstLeft:b,midLeft:c,lastLeft:c,firstRight:e,midRight:0,lastRight:e}:{firstLeft:0,midLeft:0,lastLeft:0,firstRight:0,midRight:0,lastRight:0,top:0,bottom:0},this.firstMargins={left:this.margins.firstLeft,right:this.margins.firstRight,top:this.margins.top,bottom:1===this.lineLength?this.margins.bottom:0},this.midMargins={left:this.margins.midLeft,right:this.margins.midRight,top:0,bottom:0},this.lastMargins={left:this.margins.lastLeft,right:this.margins.lastRight,top:1===this.lineLength?this.margins.top:0,bottom:this.margins.bottom},i=this.children,f=0,g=i.length;g>f;f++)a=i[f],this.view.getViewNodeFor(a.child).computeMargins();return null},b.prototype.getMargins=function(a){return 0===a?this.firstMargins:a===this.lineLength-1?this.lastMargins:this.midMargins},b.prototype.computeBevels=function(){return this.bevels={topLeft:!1,topRight:!1,bottomLeft:!1,bottomRight:!1}},b.prototype.computeMinDimensions=function(){var a,b,c;if(this.minDimensions.length>this.lineLength)this.minDimensions.length=this.minDistanceToBase.length=this.lineLength;else for(;this.minDimensions.length!==this.lineLength;)this.minDimensions.push(new this.view.draw.Size(0,0)),this.minDistanceToBase.push({above:0,below:0});for(a=b=0,c=this.lineLength;c>=0?c>b:b>c;a=c>=0?++b:--b)this.minDimensions[a].width=this.minDimensions[a].height=0,this.minDistanceToBase[a].above=this.minDistanceToBase[a].below=0;return null},b.prototype.computeDimensions=function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;if(null==d&&(d=!1),this.computedVersion!==this.model.version||c||this.invalidate){for(k=this.dimensions,l=this.distanceToBase,this.dimensions=function(){var a,b,c;for(c=[],a=0,b=this.lineLength;b>=0?b>a:a>b;b>=0?a++:a--)c.push(new this.view.draw.Size(0,0));return c}.call(this),this.distanceToBase=function(){var a,b,c;for(c=[],a=0,b=this.lineLength;b>=0?b>a:a>b;b>=0?a++:a--)c.push({above:0,below:0});return c}.call(this),t=this.minDimensions,h=o=0,r=t.length;r>o;h=++o)n=t[h],this.dimensions[h].width=n.width,this.dimensions[h].height=n.height,this.distanceToBase[h].above=this.minDistanceToBase[h].above,this.distanceToBase[h].below=this.minDistanceToBase[h].below;if(null!=this.model.parent&&!d&&(this.topLineSticksToBottom||this.bottomLineSticksToTop||this.lineLength>1&&!this.model.isLastOnLine())&&(m=this.view.getViewNodeFor(this.model.parent),this.topLineSticksToBottom&&(g=this.distanceToBase[0],g.below=Math.max(g.below,m.distanceToBase[b].below),this.dimensions[0]=new this.view.draw.Size(this.dimensions[0].width,g.below+g.above)),this.bottomLineSticksToTop&&(j=this.distanceToBase.length,g=this.distanceToBase[j-1],g.above=Math.max(g.above,m.distanceToBase[b+j-1].above),this.dimensions[j-1]=new this.view.draw.Size(this.dimensions[j-1].width,g.below+g.above)),this.lineLength>1&&!this.model.isLastOnLine()&&"block"===this.model.type&&(g=this.distanceToBase[this.lineLength-1],g.below=m.distanceToBase[b+this.lineLength-1].below,this.dimensions[j-1]=new this.view.draw.Size(this.dimensions[j-1].width,g.below+g.above))),e=k.length!==this.lineLength,!e)for(i=p=0,u=this.lineLength;u>=0?u>p:p>u;i=u>=0?++p:--p)if(!k[i].equals(this.dimensions[i])||l[i].above!==this.distanceToBase[i].above||l[i].below!==this.distanceToBase[i].below){e=!0;break}for(this.changedBoundingBox||(this.changedBoundingBox=e),v=this.children,q=0,s=v.length;s>q;q++)f=v[q],a.call(this.lineChildren[0],f)>=0||a.call(this.lineChildren[this.lineLength-1],f)>=0?this.view.getViewNodeFor(f.child).computeDimensions(f.startLine,e):this.view.getViewNodeFor(f.child).computeDimensions(f.startLine,!1);return null}},b.prototype.computeBoundingBoxX=function(a,b){var c,d,e;return this.computedVersion===this.model.version&&a===(null!=(c=this.bounds[b])?c.x:void 0)&&!this.changedBoundingBox||(null!=(d=this.bounds[b])?d.x:void 0)===a&&(null!=(e=this.bounds[b])?e.width:void 0)===this.dimensions[b].width?this.bounds[b]:(this.changedBoundingBox=!0,null!=this.bounds[b]?(this.bounds[b].x=a,this.bounds[b].width=this.dimensions[b].width):this.bounds[b]=new this.view.draw.Rectangle(a,0,this.dimensions[b].width,0),this.bounds[b])},b.prototype.computeAllBoundingBoxX=function(a){var b,c,d,e,f;for(null==a&&(a=0),f=this.dimensions,b=d=0,e=f.length;e>d;b=++d)c=f[b],this.computeBoundingBoxX(a,b);return this.bounds},b.prototype.computeGlue=function(){return this.glue={}},b.prototype.computeBoundingBoxY=function(a,b){var c;return this.computedVersion===this.model.version&&a===(null!=(c=this.bounds[b])?c.y:void 0)&&!this.changedBoundingBox||this.bounds[b].y===a&&this.bounds[b].height===this.dimensions[b].height?this.bounds[b]:(this.changedBoundingBox=!0,this.bounds[b].y=a,this.bounds[b].height=this.dimensions[b].height,this.bounds[b])},b.prototype.computeAllBoundingBoxY=function(a){var b,c,d,e,f;for(null==a&&(a=0),f=this.dimensions,b=d=0,e=f.length;e>d;b=++d)c=f[b],this.computeBoundingBoxY(a,b),a+=c.height,b in this.glue&&(a+=this.glue[b].height);return this.bounds},b.prototype.getBounds=function(){return this.totalBounds},b.prototype.computeOwnPath=function(){return this.path=new this.view.draw.Path},b.prototype.computePath=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;if(this.computedVersion===this.model.version&&this.model.isLastOnLine()===this.lastComputedLinePredicate&&!this.changedBoundingBox)return null;for(k=this.children,e=0,h=k.length;h>e;e++)c=k[e],this.view.getViewNodeFor(c.child).computePath();if(this.changedBoundingBox||this.model.isLastOnLine()!==this.lastComputedLinePredicate){if(this.computeOwnPath(),this.totalBounds=new this.view.draw.NoRectangle,this.bounds.length>0&&(this.totalBounds.unite(this.bounds[0]),this.totalBounds.unite(this.bounds[this.bounds.length-1])),this.bounds.length>this.children.length)for(l=this.children,f=0,i=l.length;i>f;f++)b=l[f],this.totalBounds.unite(this.view.getViewNodeFor(b.child).totalBounds);else{for(d=this.totalBounds.right(),m=this.bounds,g=0,j=m.length;j>g;g++)a=m[g],this.totalBounds.x=Math.min(this.totalBounds.x,a.x),d=Math.max(d,a.right());this.totalBounds.width=d-this.totalBounds.x}this.totalBounds.unite(this.path.bounds())}return this.lastComputedLinePredicate=this.model.isLastOnLine(),null},b.prototype.computeOwnDropArea=function(){},b.prototype.computeDropAreas=function(){var a,b,c,d;if(this.computedVersion===this.model.version&&!this.changedBoundingBox)return null;for(this.computeOwnDropArea(),d=this.children,b=0,c=d.length;c>b;b++)a=d[b],this.view.getViewNodeFor(a.child).computeDropAreas();return null},b.prototype.computeNewVersionNumber=function(){var a,b,c,d;if(this.computedVersion===this.model.version&&!this.changedBoundingBox)return null;for(this.changedBoundingBox=!1,this.invalidate=!1,this.computedVersion=this.model.version,d=this.children,b=0,c=d.length;c>b;b++)a=d[b],this.view.getViewNodeFor(a.child).computeNewVersionNumber();return null},b.prototype.drawSelf=function(){},b.prototype.draw=function(a,b,c){var d,e,f,g;if(this.totalBounds.overlap(b)){for(null==c&&(c=z()),this.model.ephemeral&&this.view.opts.respectEphemeral&&c.grayscale++,this.drawSelf(a,c),g=this.children,e=0,f=g.length;f>e;e++)d=g[e],this.view.getViewNodeFor(d.child).draw(a,b,c);this.model.ephemeral&&this.view.opts.respectEphemeral&&c.grayscale--}return null},b.prototype.drawShadow=function(){},b.prototype.debugDimensions=function(a,b,c,d){var e,f,g,h,i,j;for(d.fillStyle="#00F",d.strokeStyle="#000",d.lineWidth=1,d.fillRect(a,b,this.dimensions[c].width,this.dimensions[c].height),d.strokeRect(a,b,this.dimensions[c].width,this.dimensions[c].height),i=this.lineChildren[c],j=[],g=0,h=i.length;h>g;g++)e=i[g],f=this.view.getViewNodeFor(e.child),a+=f.getMargins(c).left,f.debugDimensions(a,b,c-e.startLine,d),j.push(a+=f.dimensions[c-e.startLine].width+f.getMargins(c).right);return j},b.prototype.debugAllDimensions=function(a){var b,c,d,e,f,g;for(a.globalAlpha=.1,d=0,g=this.dimensions,b=e=0,f=g.length;f>e;b=++e)c=g[b],this.debugDimensions(0,d,b,a),d+=c.height;return a.globalAlpha=1},b.prototype.debugAllBoundingBoxes=function(a){var b,c,d,e,f,g,h,i;for(a.globalAlpha=.1,h=this.bounds,d=0,f=h.length;f>d;d++)b=h[d],b.fill(a,"#00F"),b.stroke(a,"#000");for(i=this.children,e=0,g=i.length;g>e;e++)c=i[e],this.view.getViewNodeFor(c.child).debugAllBoundingBoxes(a);return a.globalAlpha=1},b}(),g=function(a){function b(a,c){this.model=a,this.view=c,b.__super__.constructor.apply(this,arguments)}return c(b,a),b.prototype.computeChildren=function(){var a,b,c,d,e;if(this.computedVersion===this.model.version)return this.lineLength;for(this.lineLength=0,this.lineChildren=[[]],this.children=[],this.multilineChildrenData=[],this.topLineSticksToBottom=!1,this.bottomLineSticksToTop=!1,b=0,this.model.traverseOneLevel(function(a){return function(c){var d,e,f,g,h,i,j,k,l,m,n;
if("newline"===c.type)return b+=1,null!=(h=a.lineChildren)[b]?h[b]:h[b]=[];for(g=a.view.getViewNodeFor(c),d=g.computeChildren(),e={child:c,startLine:b,endLine:b+d-1},a.children.push(e),f=j=b,l=b+d;l>=b?l>j:j>l;f=l>=b?++j:--j)null==(i=a.lineChildren)[f]&&(i[f]=[]),"cursor"!==c.type&&a.lineChildren[f].push(e);if(g.lineLength>1){for(a.multilineChildrenData[b]=a.multilineChildrenData[b]===o?p:r,f=k=m=b+1,n=b+d-1;n>=m?n>k:k>n;f=n>=m?++k:--k)a.multilineChildrenData[f]=q;a.multilineChildrenData[b+d-1]=o}return b+=d-1}}(this)),this.lineLength=b+1,this.bounds.length!==this.lineLength&&(this.changedBoundingBox=!0,this.bounds=this.bounds.slice(0,this.lineLength)),a=d=0,e=this.lineLength;e>=0?e>d:d>e;a=e>=0?++d:--d)null==(c=this.multilineChildrenData)[a]&&(c[a]=t);return this.lineLength>1&&(this.topLineSticksToBottom=!0,this.bottomLineSticksToTop=!0),this.lineLength},b.prototype.computeCarriageArrow=function(a){var b,c,d,e,f,g,l;if(null==a&&(a=!1),d=this.carriageArrow,this.carriageArrow=i,e=this.model.visParent(),!a&&"indent"===(null!=e?e.type:void 0)&&this.view.getViewNodeFor(e).lineLength>1&&1===this.lineLength){for(c=this.model.start;c!==e.start&&"newline"!==c.type;)c=c.prev;c===e.start?this.carriageArrow=this.model.isLastOnLine()?h:k:this.model.isFirstOnLine()||(this.carriageArrow=j)}if(this.carriageArrow!==d&&(this.changedBoundingBox=!0),this.computedVersion===this.model.version&&(null==this.model.parent||this.model.parent.version===this.view.getViewNodeFor(this.model.parent).computedVersion))return null;for(l=this.children,f=0,g=l.length;g>f;f++)b=l[f],this.view.getViewNodeFor(b.child).computeCarriageArrow();return null},b.prototype.computeBevels=function(){var a,b,c,d,e,f,g,h,i,j,k,l;if(b=this.bevels,this.bevels={top:!0,bottom:!0},("indent"===(null!=(e=this.model.visParent())?e.type:void 0)||(null!=(f=this.model.visParent())?f.isRoot:void 0))&&"newline"===(null!=(g=this.model.start.previousAffectToken())?g.type:void 0)&&(null!=(h=this.model.start.previousAffectToken())?h.previousAffectToken():void 0)!==this.model.visParent().start&&(this.bevels.top=!1),("indent"===(null!=(i=this.model.visParent())?i.type:void 0)||(null!=(j=this.model.visParent())?j.isRoot:void 0))&&"newline"===(null!=(k=this.model.end.nextAffectToken())?k.type:void 0)&&(this.bevels.bottom=!1),(b.top!==this.bevels.top||b.bottom!==this.bevels.bottom)&&(this.changedBoundingBox=!0),this.computedVersion===this.model.version)return null;for(l=this.children,c=0,d=l.length;d>c;c++)a=l[c],this.view.getViewNodeFor(a.child).computeBevels();return null},b.prototype.computeMinDimensions=function(){var a,c,d,e,f,g,h,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;if(this.computedVersion===this.model.version)return null;for(b.__super__.computeMinDimensions.apply(this,arguments),j=[],o=[],C=this.children,q=0,u=C.length;u>q;q++)for(d=C[q],c=this.view.getViewNodeFor(d.child),c.computeMinDimensions(),m=c.minDimensions,n=c.minDistanceToBase,f=r=0,v=m.length;v>r;f=++r)p=m[f],e=f+d.startLine,k=c.getMargins(f),this.minDimensions[e].width+=p.width+k.left+k.right,"indent"===d.child.type&&f===m.length-1&&e<this.lineLength-1?(a=0,j.push(e+1)):"indent"===d.child.type&&0===f?(o.push(e),a=k.bottom):a=k.bottom,this.minDistanceToBase[e].above=Math.max(this.minDistanceToBase[e].above,n[f].above+k.top),this.minDistanceToBase[e].below=Math.max(this.minDistanceToBase[e].below,n[f].below+a);for(D=this.minDimensions,f=s=0,w=D.length;w>s;f=++s)l=D[f],0===this.lineChildren[f].length&&("socket"===this.model.type?(this.minDistanceToBase[f].above=this.view.opts.textHeight*this.view.opts.textPadding,this.minDistanceToBase[f].above=this.view.opts.textPadding):(this.minDistanceToBase[f].above=this.view.opts.textHeight+this.view.opts.padding,this.minDistanceToBase[f].below=this.view.opts.padding)),l.height=this.minDistanceToBase[f].above+this.minDistanceToBase[f].below;for(t=0,x=j.length;x>t;t++)f=j[t],this.minDimensions[f].width=Math.max(this.minDimensions[f].width,this.minDimensions[f-1].width);for(A=0,y=o.length;y>A;A++)f=o[A],this.minDimensions[f].width=Math.max(this.minDimensions[f].width,this.view.opts.indentWidth+this.view.opts.tabWidth+this.view.opts.tabOffset+this.view.opts.bevelClip);for(E=this.lineChildren[this.lineLength-1],B=0,z=E.length;z>B;B++)if(g=E[B],h=this.view.getViewNodeFor(g.child),h.carriageArrow!==i){this.minDistanceToBase[this.lineLength-1].below+=this.view.opts.padding,this.minDimensions[this.lineLength-1].height=this.minDistanceToBase[this.lineLength-1].above+this.minDistanceToBase[this.lineLength-1].below;break}return null},b.prototype.computeBoundingBoxX=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;if(this.computedVersion===this.model.version&&a===(null!=(k=this.bounds[b])?k.x:void 0)&&!this.changedBoundingBox)return this.bounds[b];for(((null!=(l=this.bounds[b])?l.x:void 0)!==a||(null!=(m=this.bounds[b])?m.width:void 0)!==this.dimensions[b].width)&&(null!=this.bounds[b]?(this.bounds[b].x=a,this.bounds[b].width=this.dimensions[b].width):this.bounds[b]=new this.view.draw.Rectangle(a,0,this.dimensions[b].width,0),this.changedBoundingBox=!0),c=a,n=this.lineChildren[b],g=i=0,j=n.length;j>i;g=++i)h=n[g],f=this.view.getViewNodeFor(h.child),d=b-h.startLine,e=f.getMargins(d),c+=e.left,f.computeBoundingBoxX(c,d),c+=f.dimensions[d].width+e.right;return this.bounds[b]},b.prototype.computeGlue=function(){var a,b,c,d,e,f,g,h,j,k,l,m,n,o,s,t,u;if(this.computedVersion===this.model.version&&!this.changedBoundingBox)return this.glue;for(o=this.children,h=0,l=o.length;l>h;h++)c=o[h],this.view.getViewNodeFor(c.child).computeGlue();for(this.glue={},s=this.bounds,e=j=0,m=s.length;m>j;e=++j)if(a=s[e],e<this.bounds.length-1){for(this.glue[e]={type:"normal",height:0,draw:!1},t=this.lineChildren[e],k=0,n=t.length;n>k;k++)f=t[k],d=this.view.getViewNodeFor(f.child),b=e-f.startLine,b in d.glue&&(this.glue[e].height=Math.max(this.glue[e].height,d.glue[b].height)),d.carriageArrow!==i&&(this.glue[e].height=Math.max(this.glue[e].height,this.view.opts.padding));this.multilineChildrenData[e]!==q&&"segment"!==this.model.type&&(g=Math.min(this.bounds[e].right()-this.bounds[e+1].x,this.bounds[e+1].right()-this.bounds[e].x),((u=this.multilineChildrenData[e])===r||u===p)&&(g=Math.min(g,this.bounds[e+1].x+this.view.opts.indentWidth-this.bounds[e].x)),g<this.view.opts.padding&&"indent"!==this.model.type&&(this.glue[e].height+=this.view.opts.padding,this.glue[e].draw=!0))}return this.glue},b.prototype.computeBoundingBoxY=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;if(this.computedVersion===this.model.version&&a===(null!=(k=this.bounds[b])?k.y:void 0)&&!this.changedBoundingBox)return this.bounds[b];for(((null!=(l=this.bounds[b])?l.y:void 0)!==a||(null!=(m=this.bounds[b])?m.height:void 0)!==this.dimensions[b].height)&&(this.bounds[b].y=a,this.bounds[b].height=this.dimensions[b].height,this.changedBoundingBox=!0),c=this.distanceToBase[b].above,n=this.lineChildren[b],g=i=0,j=n.length;j>i;g=++i)h=n[g],f=this.view.getViewNodeFor(h.child),e=b-h.startLine,d=f.distanceToBase[e].above,f.computeBoundingBoxY(a+c-d,e);return this.bounds[b]},b.prototype.layout=function(a,b){var c;return null==a&&(a=0),null==b&&(b=0),this.computeChildren(),this.computeCarriageArrow(!0),this.computeMargins(),this.computeBevels(),this.computeMinDimensions(),this.computeDimensions(0,!1,!0),this.computeAllBoundingBoxX(a),this.computeGlue(),this.computeAllBoundingBoxY(b),this.computePath(),this.computeDropAreas(),c=this.changedBoundingBox,this.computeNewVersionNumber(),c},b.prototype.computeOwnPath=function(){var a,b,c,e,f,g,l,m,n,s,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S;for(m=[],E=[],this.shouldAddTab()&&this.model.isFirstOnLine()&&this.carriageArrow!==j&&this.addTabReverse(E,new this.view.draw.Point(this.bounds[0].x+this.view.opts.tabOffset,this.bounds[0].y)),M=this.bounds,s=G=0,J=M.length;J>G;s=++G)a=M[s],this.multilineChildrenData[s]===t&&(m.push(new this.view.draw.Point(a.x,a.y)),m.push(new this.view.draw.Point(a.x,a.bottom())),E.push(new this.view.draw.Point(a.right(),a.y)),E.push(new this.view.draw.Point(a.right(),a.bottom()))),this.multilineChildrenData[s]===r&&(m.push(new this.view.draw.Point(a.x,a.y)),m.push(new this.view.draw.Point(a.x,a.bottom())),v=this.lineChildren[s][this.lineChildren[s].length-1],x=this.view.getViewNodeFor(v.child),u=x.bounds[s-v.startLine],0===u.width?E.push(new this.view.draw.Point(a.right(),a.y)):(E.push(new this.view.draw.Point(a.right(),a.y)),E.push(new this.view.draw.Point(a.right(),u.y)),"indent"===v.child.type&&this.addTab(E,new this.view.draw.Point(u.x+this.view.opts.tabOffset,u.y)),E.push(new this.view.draw.Point(u.x,u.y)),E.push(new this.view.draw.Point(u.x,u.bottom())))),this.multilineChildrenData[s]===q&&(v=this.lineChildren[s][0],u=this.view.getViewNodeFor(v.child).bounds[s-v.startLine],m.push(new this.view.draw.Point(a.x,a.y)),m.push(new this.view.draw.Point(a.x,a.bottom())),((N=this.multilineChildrenData[s-1])!==r&&N!==p||"indent"!==v.child.type)&&E.push(new this.view.draw.Point(u.x,a.y)),E.push(new this.view.draw.Point(u.x,a.bottom()))),((O=this.multilineChildrenData[s])===o||O===p)&&(m.push(new this.view.draw.Point(a.x,a.y)),m.push(new this.view.draw.Point(a.x,a.bottom())),v=this.lineChildren[s][0],u=this.view.getViewNodeFor(v.child).bounds[s-v.startLine],((P=this.multilineChildrenData[s-1])!==r&&P!==p||"indent"!==v.child.type)&&E.push(new this.view.draw.Point(u.x,u.y)),E.push(new this.view.draw.Point(u.x,u.bottom())),"indent"===v.child.type&&this.addTabReverse(E,new this.view.draw.Point(u.x+this.view.opts.tabOffset,u.bottom())),E.push(new this.view.draw.Point(u.right(),u.bottom())),this.lineChildren[s].length>1?(E.push(new this.view.draw.Point(u.right(),u.y)),this.multilineChildrenData[s]===o?(E.push(new this.view.draw.Point(a.right(),a.y)),E.push(new this.view.draw.Point(a.right(),a.bottom()))):(v=this.lineChildren[s][this.lineChildren[s].length-1],x=this.view.getViewNodeFor(v.child),u=x.bounds[s-v.startLine],E.push(new this.view.draw.Point(a.right(),a.y)),0===u.width?(E.push(new this.view.draw.Point(a.right(),a.y)),E.push(new this.view.draw.Point(a.right(),a.bottom()))):(E.push(new this.view.draw.Point(a.right(),u.y)),E.push(new this.view.draw.Point(u.x,u.y)),E.push(new this.view.draw.Point(u.x,u.bottom()))))):(E.push(new this.view.draw.Point(a.right(),u.bottom())),E.push(new this.view.draw.Point(a.right(),a.bottom())))),s<this.lineLength-1&&s in this.glue&&this.glue[s].draw?(e=this.bounds[s+1].y-this.glue[s].height,n=Math.min(this.bounds[s+1].x,this.bounds[s].x),F=Math.max(this.bounds[s+1].right(),this.bounds[s].right()),m.push(new this.view.draw.Point(this.bounds[s].x,e)),m.push(new this.view.draw.Point(n,e)),m.push(new this.view.draw.Point(n,e+this.view.opts.padding)),this.multilineChildrenData[s]!==r&&(E.push(new this.view.draw.Point(this.bounds[s].right(),e)),E.push(new this.view.draw.Point(F,e)),E.push(new this.view.draw.Point(F,e+this.view.opts.padding)))):null!=this.bounds[s+1]&&this.multilineChildrenData[s]!==q?(g=Math.max(this.bounds[s+1].x,this.bounds[s].x),l=Math.min(this.bounds[s+1].right(),this.bounds[s].right()),m.push(new this.view.draw.Point(g,this.bounds[s].bottom())),m.push(new this.view.draw.Point(g,this.bounds[s+1].y)),(Q=this.multilineChildrenData[s])!==r&&Q!==p&&(E.push(new this.view.draw.Point(l,this.bounds[s].bottom())),E.push(new this.view.draw.Point(l,this.bounds[s+1].y)))):this.carriageArrow===k?(A=this.view.getViewNodeFor(this.model.visParent()),b=A.bounds[1],E.push(new this.view.draw.Point(this.bounds[s].right(),b.y-this.view.opts.padding)),m.push(new this.view.draw.Point(this.bounds[s].x,b.y-this.view.opts.padding))):this.carriageArrow===h?(A=this.view.getViewNodeFor(this.model.visParent()),b=A.bounds[1],E.push(new this.view.draw.Point(this.bounds[s].right(),b.y)),E.push(new this.view.draw.Point(b.x+this.view.opts.tabOffset+this.view.opts.tabWidth,b.y)),m.push(new this.view.draw.Point(this.bounds[s].x,b.y-this.view.opts.padding)),m.push(new this.view.draw.Point(b.x,b.y-this.view.opts.padding)),m.push(new this.view.draw.Point(b.x,b.y)),this.addTab(E,new this.view.draw.Point(b.x+this.view.opts.tabOffset,b.y))):this.carriageArrow===j&&this.model.isLastOnLine()&&(A=this.view.getViewNodeFor(this.model.visParent()),b=A.bounds[this.model.getLinesToParent()],E.push(new this.view.draw.Point(this.bounds[s].right(),b.bottom()+this.view.opts.padding)),E.push(new this.view.draw.Point(b.x+this.view.opts.tabOffset+this.view.opts.tabWidth,b.bottom()+this.view.opts.padding)),m.push(new this.view.draw.Point(this.bounds[s].x,b.bottom())),m.push(new this.view.draw.Point(b.x,b.bottom())),m.push(new this.view.draw.Point(b.x,b.bottom()+this.view.opts.padding)),this.addTab(E,new this.view.draw.Point(b.x+this.view.opts.tabOffset,b.bottom()+this.view.opts.padding))),((R=this.multilineChildrenData[s])===r||R===p)&&(v=this.lineChildren[s][this.lineChildren[s].length-1],w=this.view.getViewNodeFor(v.child),u=w.bounds[s-v.startLine],e=(null!=(S=this.glue[s])?S.draw:void 0)?this.bounds[s+1].y-this.glue[s].height+this.view.opts.padding:this.bounds[s].bottom(),"indent"===v.child.type&&"newline"===v.child.start.next.type?(E.push(new this.view.draw.Point(this.bounds[s].right(),e)),this.addTab(E,new this.view.draw.Point(this.bounds[s+1].x+this.view.opts.indentWidth+this.view.opts.tabOffset,e),!0)):E.push(new this.view.draw.Point(u.x,e)),e!==this.bounds[s+1].y&&E.push(new this.view.draw.Point(w.bounds[s-v.startLine+1].x,e)),E.push(new this.view.draw.Point(w.bounds[s-v.startLine+1].x,this.bounds[s+1].y)));for(this.shouldAddTab()&&this.model.isLastOnLine()&&this.carriageArrow===i&&this.addTab(E,new this.view.draw.Point(this.bounds[this.lineLength-1].x+this.view.opts.tabOffset,this.bounds[this.lineLength-1].bottom())),B=m.reverse().concat(E),y=[],f=H=0,K=B.length;K>H;f=++H)C=B[f],(0!==f||this.bevels.bottom)&&(f!==m.length-1||this.bevels.top)?(z=B[d(f+1,B.length)],D=B[d(f-1,B.length)],C.x===z.x!=(C.y===z.y)&&C.x===D.x!=(C.y===D.y)?(y.push(C.plus(C.from(D).toMagnitude(-this.view.opts.bevelClip))),y.push(C.plus(C.from(z).toMagnitude(-this.view.opts.bevelClip)))):y.push(C)):y.push(C);for(this.path=new this.view.draw.Path,I=0,L=y.length;L>I;I++)c=y[I],this.path.push(c);return this.path},b.prototype.addTab=function(a,b){return a.push(new this.view.draw.Point(b.x+this.view.opts.tabWidth,b.y)),a.push(new this.view.draw.Point(b.x+this.view.opts.tabWidth*(1-this.view.opts.tabSideWidth),b.y+this.view.opts.tabHeight)),a.push(new this.view.draw.Point(b.x+this.view.opts.tabWidth*this.view.opts.tabSideWidth,b.y+this.view.opts.tabHeight)),a.push(new this.view.draw.Point(b.x,b.y)),a.push(b)},b.prototype.addTabReverse=function(a,b){return a.push(b),a.push(new this.view.draw.Point(b.x,b.y)),a.push(new this.view.draw.Point(b.x+this.view.opts.tabWidth*this.view.opts.tabSideWidth,b.y+this.view.opts.tabHeight)),a.push(new this.view.draw.Point(b.x+this.view.opts.tabWidth*(1-this.view.opts.tabSideWidth),b.y+this.view.opts.tabHeight)),a.push(new this.view.draw.Point(b.x+this.view.opts.tabWidth,b.y))},b.prototype.computeOwnDropArea=function(){return this.dropArea=this.highlightArea=null},b.prototype.shouldAddTab=s,b.prototype.drawSelf=function(a,b){var c,d;return c=this.path.style.fillColor,d=this.path.style.strokeColor,b.grayscale>0&&(this.path.style.fillColor=y(this.path.style.fillColor,.5,"#888"),this.path.style.strokeColor=y(this.path.style.strokeColor,.5,"#888")),b.selected>0&&(this.path.style.fillColor=y(this.path.style.fillColor,.7,"#00F"),this.path.style.strokeColor=y(this.path.style.strokeColor,.7,"#00F")),this.path.draw(a),this.path.style.fillColor=c,this.path.style.strokeColor=d,null},b.prototype.drawShadow=function(a,b,c){var d,e,f,g;for(this.path.drawShadow(a,b,c,this.view.opts.shadowBlur),g=this.children,e=0,f=g.length;f>e;e++)d=g[e],this.view.getViewNodeFor(d.child).drawShadow(a,b,c);return null},b}(n),f=function(b){function d(){d.__super__.constructor.apply(this,arguments)}return c(d,b),d.prototype.computeMinDimensions=function(){var a,b,c,e,f;if(this.computedVersion===this.model.version)return null;for(d.__super__.computeMinDimensions.apply(this,arguments),f=this.minDimensions,a=c=0,e=f.length;e>c;a=++c)b=f[a],b.width=Math.max(b.width,this.view.opts.tabWidth+this.view.opts.tabOffset);return null},d.prototype.shouldAddTab=function(){var b;return null!=this.model.parent?(b=this.model.visParent(),"socket"!==(null!=b?b.type:void 0)):!(a.call(this.model.classes,"mostly-value")>=0||a.call(this.model.classes,"value-only")>=0)},d.prototype.computeOwnPath=function(){var a;return d.__super__.computeOwnPath.apply(this,arguments),this.path.style.fillColor=null!=(a=this.view.opts.colors[this.model.color])?a:"#ffffff",this.path.style.strokeColor="#888",this.path.bevel=!0,this.path},d.prototype.computeOwnDropArea=function(){var a,b,c,d,e,f,g,i;for(this.carriageArrow===h?(e=this.view.getViewNodeFor(this.model.visParent()),a=e.bounds[1],this.dropPoint=new this.view.draw.Point(a.x,a.y),c=a.x,d=a.right()):this.carriageArrow===j?(e=this.view.getViewNodeFor(this.model.visParent()),a=e.bounds[1],this.dropPoint=new this.view.draw.Point(a.x,this.bounds[this.lineLength-1].bottom()+this.view.opts.padding),c=a.x,d=this.bounds[this.lineLength-1].right()):(this.dropPoint=new this.view.draw.Point(this.bounds[this.lineLength-1].x,this.bounds[this.lineLength-1].bottom()),c=this.bounds[this.lineLength-1].x,d=this.bounds[this.lineLength-1].right()),this.highlightArea=new this.view.draw.Path,b=[],b.push(new this.view.draw.Point(c,this.dropPoint.y-this.view.opts.highlightAreaHeight/2+this.view.opts.bevelClip)),b.push(new this.view.draw.Point(c+this.view.opts.bevelClip,this.dropPoint.y-this.view.opts.highlightAreaHeight/2)),this.addTabReverse(b,new this.view.draw.Point(c+this.view.opts.tabOffset,this.dropPoint.y-this.view.opts.highlightAreaHeight/2)),b.push(new this.view.draw.Point(d-this.view.opts.bevelClip,this.dropPoint.y-this.view.opts.highlightAreaHeight/2)),b.push(new this.view.draw.Point(d,this.dropPoint.y-this.view.opts.highlightAreaHeight/2+this.view.opts.bevelClip)),b.push(new this.view.draw.Point(d,this.dropPoint.y+this.view.opts.highlightAreaHeight/2-this.view.opts.bevelClip)),b.push(new this.view.draw.Point(d-this.view.opts.bevelClip,this.dropPoint.y+this.view.opts.highlightAreaHeight/2)),this.addTab(b,new this.view.draw.Point(c+this.view.opts.tabOffset,this.dropPoint.y+this.view.opts.highlightAreaHeight/2)),b.push(new this.view.draw.Point(c+this.view.opts.bevelClip,this.dropPoint.y+this.view.opts.highlightAreaHeight/2)),b.push(new this.view.draw.Point(c,this.dropPoint.y+this.view.opts.highlightAreaHeight/2-this.view.opts.bevelClip)),g=0,i=b.length;i>g;g++)f=b[g],this.highlightArea.push(f);return this.highlightArea.style.lineWidth=1,this.highlightArea.style.strokeColor="#ff0",this.highlightArea.style.fillColor="#ff0"},d}(g),w=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return c(b,a),b.prototype.shouldAddTab=s,b.prototype.computeMinDimensions=function(){var a,c,d,e;if(this.computedVersion===this.model.version)return null;for(b.__super__.computeMinDimensions.apply(this,arguments),this.minDistanceToBase[0].above=Math.max(this.minDistanceToBase[0].above,this.view.opts.textHeight+this.view.opts.textPadding),this.minDistanceToBase[0].below=Math.max(this.minDistanceToBase[0].below,this.view.opts.textPadding),this.minDimensions[0].height=this.minDistanceToBase[0].above+this.minDistanceToBase[0].below,e=this.minDimensions,c=0,d=e.length;d>c;c++)a=e[c],a.width=Math.max(a.width,this.view.opts.minSocketWidth);return null},b.prototype.computeGlue=function(){var a;return this.computedVersion!==this.model.version||this.changedBoundingBox?"blockStart"===this.model.start.nextVisibleToken().type?(a=this.view.getViewNodeFor(this.model.start.next.container),this.glue=a.computeGlue()):b.__super__.computeGlue.apply(this,arguments):this.glue},b.prototype.computeOwnPath=function(){var a;return this.computedVersion!==this.model.version||this.changedBoundingBox?("blockStart"===this.model.start.next.type?(a=this.view.getViewNodeFor(this.model.start.next.container),this.path=a.computeOwnPath().clone()):b.__super__.computeOwnPath.apply(this,arguments),this.path.style.fillColor="#FFF",this.path.style.strokeColor="#FFF",this.path):this.path},b.prototype.computeOwnDropArea=function(){return"blockStart"===this.model.start.next.type?this.dropArea=this.highlightArea=null:(this.dropPoint=this.bounds[0].upperLeftCorner(),this.highlightArea=this.path.clone(),this.highlightArea.noclip=!0,this.highlightArea.style.strokeColor="#FF0",this.highlightArea.style.lineWidth=this.view.opts.padding)},b}(g),u=function(a){function b(){b.__super__.constructor.apply(this,arguments),this.lastFirstChildren=[],this.lastLastChildren=[]}return c(b,a),b.prototype.computeOwnPath=function(){return this.path=new this.view.draw.Path},b.prototype.computeChildren=function(){var a,c,d,e,f,g,h,i,j,k,l,m;if(b.__super__.computeChildren.apply(this,arguments),!x(this.lineChildren[0],this.lastFirstChildren)||!x(this.lineChildren[this.lineLength-1],this.lastLastChildren))for(k=this.children,e=0,h=k.length;h>e;e++)a=k[e],d=this.view.getViewNodeFor(a.child),(d.topLineSticksToBottom||d.bottomLineSticksToTop)&&(d.invalidate=!0),1===d.lineLength&&(d.topLineSticksToBottom=d.bottomLineSticksToTop=!1);for(l=this.lineChildren[0],f=0,i=l.length;i>f;f++)c=l[f],d=this.view.getViewNodeFor(c.child),d.topLineSticksToBottom||(d.invalidate=!0),d.topLineSticksToBottom=!0;for(m=this.lineChildren[this.lineChildren.length-1],g=0,j=m.length;j>g;g++)c=m[g],d=this.view.getViewNodeFor(c.child),d.bottomLineSticksToTop||(d.invalidate=!0),d.bottomLineSticksToTop=!0;return this.lineLength},b.prototype.computeMinDimensions=function(){var a,c,d,e,f,g;for(b.__super__.computeMinDimensions.apply(this,arguments),f=this.minDimensions.slice(1),g=[],a=d=0,e=f.length;e>d;a=++d)c=f[a],0===c.width&&g.push(c.width=this.view.opts.emptyLineWidth);return g},b.prototype.drawSelf=function(){return null},b.prototype.computeOwnDropArea=function(){var a,b,c,d,e;for(b=new this.view.draw.NoRectangle,"newline"===this.model.start.next.type?(this.dropPoint=this.bounds[1].upperLeftCorner(),b.copy(this.bounds[1])):(this.dropPoint=this.bounds[0].upperLeftCorner(),b.copy(this.bounds[0])),b.width=Math.max(b.width,this.view.opts.indentDropAreaMinWidth),this.highlightArea=new this.view.draw.Path,a=[],a.push(new this.view.draw.Point(b.x,b.y-this.view.opts.highlightAreaHeight/2+this.view.opts.bevelClip)),a.push(new this.view.draw.Point(b.x+this.view.opts.bevelClip,b.y-this.view.opts.highlightAreaHeight/2)),this.addTabReverse(a,new this.view.draw.Point(b.x+this.view.opts.tabOffset,b.y-this.view.opts.highlightAreaHeight/2)),a.push(new this.view.draw.Point(b.right()-this.view.opts.bevelClip,b.y-this.view.opts.highlightAreaHeight/2)),a.push(new this.view.draw.Point(b.right(),b.y-this.view.opts.highlightAreaHeight/2+this.view.opts.bevelClip)),a.push(new this.view.draw.Point(b.right(),b.y+this.view.opts.highlightAreaHeight/2-this.view.opts.bevelClip)),a.push(new this.view.draw.Point(b.right()-this.view.opts.bevelClip,b.y+this.view.opts.highlightAreaHeight/2)),this.addTab(a,new this.view.draw.Point(b.x+this.view.opts.tabOffset,b.y+this.view.opts.highlightAreaHeight/2)),a.push(new this.view.draw.Point(b.x+this.view.opts.bevelClip,b.y+this.view.opts.highlightAreaHeight/2)),a.push(new this.view.draw.Point(b.x,b.y+this.view.opts.highlightAreaHeight/2-this.view.opts.bevelClip)),d=0,e=a.length;e>d;d++)c=a[d],this.highlightArea.push(c);return this.highlightArea.style.lineWidth=1,this.highlightArea.style.strokeColor="#ff0",this.highlightArea.style.fillColor="#ff0"},b}(g),v=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return c(b,a),b.prototype.computeOwnPath=function(){return this.path=new this.view.draw.Path},b.prototype.computeOwnDropArea=function(){var a,b,c,d,e;if(this.model.isLassoSegment)return this.dropArea=null;for(this.dropPoint=this.bounds[0].upperLeftCorner(),this.highlightArea=new this.view.draw.Path,a=[],b=new this.view.draw.NoRectangle,b.copy(this.bounds[0]),b.width=Math.max(b.width,this.view.opts.indentDropAreaMinWidth),a.push(new this.view.draw.Point(b.x,b.y-this.view.opts.highlightAreaHeight/2+this.view.opts.bevelClip)),a.push(new this.view.draw.Point(b.x+this.view.opts.bevelClip,b.y-this.view.opts.highlightAreaHeight/2)),this.addTabReverse(a,new this.view.draw.Point(b.x+this.view.opts.tabOffset,b.y-this.view.opts.highlightAreaHeight/2)),a.push(new this.view.draw.Point(b.right()-this.view.opts.bevelClip,b.y-this.view.opts.highlightAreaHeight/2)),a.push(new this.view.draw.Point(b.right(),b.y-this.view.opts.highlightAreaHeight/2+this.view.opts.bevelClip)),a.push(new this.view.draw.Point(b.right(),b.y+this.view.opts.highlightAreaHeight/2-this.view.opts.bevelClip)),a.push(new this.view.draw.Point(b.right()-this.view.opts.bevelClip,b.y+this.view.opts.highlightAreaHeight/2)),this.addTab(a,new this.view.draw.Point(b.x+this.view.opts.tabOffset,b.y+this.view.opts.highlightAreaHeight/2)),a.push(new this.view.draw.Point(b.x+this.view.opts.bevelClip,b.y+this.view.opts.highlightAreaHeight/2)),a.push(new this.view.draw.Point(b.x,b.y+this.view.opts.highlightAreaHeight/2-this.view.opts.bevelClip)),d=0,e=a.length;e>d;d++)c=a[d],this.highlightArea.push(c);return this.highlightArea.style.fillColor="#ff0",this.highlightArea.style.strokeColor="#ff0",null},b.prototype.drawSelf=function(){return null},b.prototype.draw=function(a,c,d){return null==d&&(d=z()),this.model.isLassoSegment&&d.selected++,b.__super__.draw.apply(this,arguments),this.model.isLassoSegment?d.selected--:void 0},b}(g),A=function(a){function b(a,c){this.model=a,this.view=c,b.__super__.constructor.apply(this,arguments)}return c(b,a),b.prototype.computeChildren=function(){return this.multilineChildrenData=[t],this.lineLength=1},b.prototype.computeMinDimensions=function(){var a;return this.computedVersion===this.model.version?null:(this.textElement=new this.view.draw.Text(new this.view.draw.Point(0,0),this.model.value),a=this.view.opts.textHeight,this.minDimensions[0]=new this.view.draw.Size(this.textElement.bounds().width,a),this.minDistanceToBase[0]={above:a,below:0},null)},b.prototype.computeBoundingBoxX=function(a){return this.textElement.point.x=a,b.__super__.computeBoundingBoxX.apply(this,arguments)},b.prototype.computeBoundingBoxY=function(a){return this.textElement.point.y=a,b.__super__.computeBoundingBoxY.apply(this,arguments)},b.prototype.drawSelf=function(a,b){return b.noText||this.textElement.draw(a),null},b.prototype.debugDimensions=function(a,b,c,d){var e;return d.globalAlpha=1,e=this.textElement.point,this.textElement.point=new this.view.draw.Point(a,b),this.textElement.draw(d),this.textElement.point=e,d.globalAlpha=.1},b.prototype.debugAllBoundingBoxes=function(a){return a.globalAlpha=1,this.computeOwnPath(),this.textElement.draw(a),a.globalAlpha=.1},b}(n),m=function(a){function b(a,c){this.model=a,this.view=c,b.__super__.constructor.apply(this,arguments)}return c(b,a),b.prototype.computeChildren=function(){return this.multilineChildrenData=[0],1},b.prototype.computeBoundingBox=function(){},b}(n),b}(),C=function(a){var b,c,d,e;return 4===a.length&&(a=function(){var b,d,e;for(e=[],b=0,d=a.length;d>b;b++)c=a[b],e.push(c+c);return e}().join("").slice(1)),e=parseInt(a.slice(1,3),16),d=parseInt(a.slice(3,5),16),b=parseInt(a.slice(5,7),16),[e,d,b]},E=function(a,b){return a.length<b?function(){var c,d,e;for(e=[],c=d=a.length;b>=d?b>c:c>b;b>=d?c++:c--)e.push("0");return e}().join("")+a:a},D=function(a){return E(Math.round(a).toString(16),2)},B=function(a){var b;return"#"+function(){var c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(D(b));return e}().join("")},y=function(a,b,c){var d,e,f;return a=C(a),c=C(c),f=function(){var f,g,h;for(h=[],d=f=0,g=a.length;g>f;d=++f)e=a[d],h.push(a[d]*b+c[d]*(1-b));return h}(),B(f)},A})}.call(this),function(){define("droplet-parser",["droplet-helper","droplet-model"],function(a,b){var c,d,e,f,g,h;return e={},h=function(a,b){var c,d;if(null==a)return b;for(c in b)d=b[c],c in a||(a[c]=d);return a},d=function(){return!0},e.Parser=c=function(){function c(a){this.text=a,this.originalText=this.text,this.markup=[]}return c.prototype._parse=function(a){var b;return a=h(a,{wrapAtRoot:!0}),this.markRoot(),this.sortMarkup(),b=this.applyMarkup(a),this.detectParenWrap(b),g(b),b.correctParentTree(),b.isRoot=!0,b},c.prototype.markRoot=function(){},c.prototype.isParenWrapped=function(a){return"text"===a.start.next.type&&"("===a.start.next.value[0]&&"text"===a.end.prev.type&&")"===a.end.prev.value[a.end.prev.value.length-1]},c.prototype.detectParenWrap=function(a){var b;for(b=a.start;b!==a.end;)b=b.next,"blockStart"===b.type&&this.isParenWrapped(b.container)&&(b.container.currentlyParenWrapped=!0);return a},c.prototype.addBlock=function(a){var c;return c=new b.Block(a.precedence,a.color,a.socketLevel,a.classes,!1),this.addMarkup(c,a.bounds,a.depth)},c.prototype.addSocket=function(a){var c;return c=new b.Socket(a.precedence,!1,a.classes),this.addMarkup(c,a.bounds,a.depth)},c.prototype.addIndent=function(a){var c;return c=new b.Indent(a.prefix,a.classes),this.addMarkup(c,a.bounds,a.depth)},c.prototype.addMarkup=function(a,b,c){return this.markup.push({token:a.start,location:b.start,depth:c,start:!0}),this.markup.push({token:a.end,location:b.end,depth:c,start:!1}),a},c.prototype.sortMarkup=function(){return this.markup.sort(function(a,b){var c;return a.location.line>b.location.line?1:b.location.line>a.location.line?-1:a.location.column>b.location.column?1:b.location.column>a.location.column?-1:(c=1,a.token.container===b.token.container&&(c=-1),a.start&&!b.start?c:b.start&&!a.start?-c:a.start&&b.start?a.depth>b.depth?1:-1:a.start||b.start?void 0:a.depth>b.depth?-1:1)})},c.prototype.constructHandwrittenBlock=function(c){var d,e,f;return d=new b.Block(0,"blank",a.ANY_DROP,!1),e=new b.Socket(0,!0),f=new b.TextToken(c),d.start.append(e.start),e.start.append(f),f.append(e.end),e.end.append(d.end),this.isComment(c)&&(d.socketLevel=a.BLOCK_ONLY),d},c.prototype.applyMarkup=function(c){var d,e,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;for(n={},w=this.markup,p=0,s=w.length;s>p;p++)m=w[p],null==n[v=m.location.line]&&(n[v]=[]),n[m.location.line].push(m);for(l=this.text.split("\n"),i=0,o=[],e=new b.Segment,g=e.start,h=q=0,t=l.length;t>q;h=++q)if(k=l[h],h in n){for(i>=k.length||k.slice(0,i).trim().length>0?(j=k.length-k.trimLeft().length,g.specialIndent=k.slice(0,j)):j=i,A=n[h],r=0,u=A.length;u>r;r++){switch(m=A[r],j>=m.location.column||j>=k.length||(c.wrapAtRoot&&0===o.length||"indent"===(null!=(B=o[o.length-1])?B.type:void 0)?(d=this.constructHandwrittenBlock(k.slice(j,m.location.column)),g.append(d.start),g=d.end):g=g.append(new b.TextToken(k.slice(j,m.location.column)))),m.token.type){case"indentStart":if("block"!==(null!=o&&null!=(C=o[o.length-1])?C.type:void 0))throw new Error("Improper parser: indent must be inside block, but is inside "+(null!=o&&null!=(D=o[o.length-1])?D.type:void 0));i+=m.token.container.prefix.length;break;case"blockStart":if("block"===(null!=(E=o[o.length-1])?E.type:void 0))throw new Error("Improper parser: block cannot nest immediately inside another block.");break;case"socketStart":if("block"!==(null!=(F=o[o.length-1])?F.type:void 0))throw new Error("Improper parser: socket must be immediately inside a block.");break;case"indentEnd":i-=m.token.container.prefix.length}if(m.token instanceof b.StartToken)o.push(m.token.container);else if(m.token instanceof b.EndToken){if(m.token.container!==o[o.length-1])throw new Error("Improper parser: "+g.container.type+" ended too early.");o.pop()}g=g.append(m.token),j=m.location.column}j>=k.length||(g=g.append(new b.TextToken(k.slice(j,k.length)))),g=g.append(new b.NewlineToken)}else i>=k.length||k.slice(0,i).trim().length>0?(g.specialIndent=function(){var a,b,c;for(c=[],a=0,b=k.length-k.trimLeft().length;b>=0?b>a:a>b;b>=0?a++:a--)c.push(" ");return c}().join(""),k=k.trimLeft()):k=k.slice(i),k.length>0?c.wrapAtRoot&&0===o.length||"indent"===(null!=(x=o[o.length-1])?x.type:void 0)?(d=this.constructHandwrittenBlock(k),g.append(d.start),g=d.end):g=g.append(new b.TextToken(k)):"indent"!==(y=null!=(z=o[o.length-1])?z.type:void 0)&&"segment"!==y&&void 0!==y||!f(l,h)||(d=new b.Block(0,"yellow",a.BLOCK_ONLY),g=g.append(d.start),g=g.append(d.end)),g=g.append(new b.NewlineToken);
return g=g.prev,g.next.remove(),g=g.append(e.end),e},c}(),e.parseXML=function(a){var c,d,e,f;return e=new b.Segment,c=e.start,f=[],d=sax.parser(!0),d.ontext=function(a){var d,e,f,g,h,i;for(f=a.split("\n"),i=[],d=g=0,h=f.length;h>g;d=++g)e=f[d],0!==e.length&&(c=c.append(new b.TextToken(e))),i.push(d!==f.length-1?c=c.append(new b.NewlineToken):void 0);return i},d.onopentag=function(a){var d,e,g,h,i;switch(d=a.attributes,a.name){case"block":e=new b.Block(d.precedence,d.color,d.socketLevel,null!=(g=d.classes)&&"function"==typeof g.split?g.split(" "):void 0);break;case"socket":e=new b.Socket(d.precedence,d.handritten,null!=(h=d.classes)&&"function"==typeof h.split?h.split(" "):void 0);break;case"indent":e=new b.Indent(d.prefix,null!=(i=d.classe)&&"function"==typeof i.split?i.split(" "):void 0);break;case"segment":0!==f.length&&(e=new b.Segment);break;case"br":return c=c.append(new b.NewlineToken),null}return null!=e?(f.push({node:a,container:e}),c=c.append(e.start)):void 0},d.onclosetag=function(a){return f.length>0&&a===f[f.length-1].node.name?(c=c.append(f[f.length-1].container.end),f.pop()):void 0},d.onerror=function(a){throw a},d.write(a).close(),c=c.append(e.end),e},f=function(a,b){for(;b!==a.length;){if(a[b].length>0)return!0;b+=1}return!1},g=function(a){var c,d,e,f,g;for(d=a.start,g=[];d!==a.end;)d instanceof b.StartToken&&d.container.flagToRemove?(c=d.container,d=c.end.next,g.push(c.spliceOut())):d instanceof b.StartToken&&d.container.flagToStrip?(null!=(f=d.container.parent)&&(f.color="error"),e=d.next,e.value=e.value.substring(d.container.flagToStrip.left,e.value.length-d.container.flagToStrip.right),g.push(d=e.next)):g.push(d=d.next);return g},c.parens=function(a,b,c,d){if(null===d||"socket"!==d.type||(null!=d?d.precedence:void 0)<c.precedence)for(;;){if(null==a.match(/^\s*\(/)||null==b.match(/\)\s*/))break;a=a.replace(/^\s*\(\s*/,""),b=b.replace(/^\s*\)\s*/,"")}else a="("+a,b+=")";return[a,b]},c.drop=function(b,c){return"segment"===b.type&&"socket"===c.tpye?a.FORBID:a.ENCOURAGE},c.empty="",c.parse=function(){},e.makeParser=function(a){return a.parse=function(b,c){var d;return null==c&&(c={wrapAtRoot:!0}),d=new a(b),d._parse(c)}},e.makeParser(c),e})}.call(this),function(root){var CoffeeScript=function(){function require(a){return require[a]}return require["./helpers"]=function(){var a={},b={exports:a};return function(){var b,c,d,e,f,g,h;a.starts=function(a,b,c){return b===a.substr(c,b.length)},a.ends=function(a,b,c){var d;return d=b.length,b===a.substr(a.length-d-(c||0),d)},a.repeat=f=function(a,b){var c;for(c="";b>0;)1&b&&(c+=a),b>>>=1,a+=a;return c},a.compact=function(a){var b,c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],b&&e.push(b);return e},a.count=function(a,b){var c,d;if(c=d=0,!b.length)return 1/0;for(;d=1+a.indexOf(b,d);)c++;return c},a.merge=function(a,b){return c(c({},a),b)},c=a.extend=function(a,b){var c,d;for(c in b)d=b[c],a[c]=d;return a},a.flatten=d=function(a){var b,c,e,f;for(c=[],e=0,f=a.length;f>e;e++)b=a[e],b instanceof Array?c=c.concat(d(b)):c.push(b);return c},a.del=function(a,b){var c;return c=a[b],delete a[b],c},a.last=e=function(a,b){return a[a.length-(b||0)-1]},a.some=null!=(h=Array.prototype.some)?h:function(a){var b,c,d;for(c=0,d=this.length;d>c;c++)if(b=this[c],a(b))return!0;return!1},a.invertLiterate=function(a){var b,c,d;return d=!0,c=function(){var c,e,f,g;for(f=a.split("\n"),g=[],c=0,e=f.length;e>c;c++)b=f[c],g.push(d&&/^([ ]{4}|[ ]{0,3}\t)/.test(b)?b:(d=/^\s*$/.test(b))?b:"# "+b);return g}(),c.join("\n")},b=function(a,b){return b?{first_line:a.first_line,first_column:a.first_column,last_line:b.last_line,last_column:b.last_column}:a},a.addLocationDataFn=function(a,c){return function(d){return"object"==typeof d&&d.updateLocationDataIfMissing&&d.updateLocationDataIfMissing(b(a,c)),d}},a.locationDataToString=function(a){var b;return"2"in a&&"first_line"in a[2]?b=a[2]:"first_line"in a&&(b=a),b?""+(b.first_line+1)+":"+(b.first_column+1)+"-"+(""+(b.last_line+1)+":"+(b.last_column+1)):"No location data"},a.baseFileName=function(a,b,c){var d,e;return null==b&&(b=!1),null==c&&(c=!1),e=c?/\\|\//:/\//,d=a.split(e),a=d[d.length-1],b&&a.indexOf(".")>=0?(d=a.split("."),d.pop(),"coffee"===d[d.length-1]&&d.length>1&&d.pop(),d.join(".")):a},a.isCoffee=function(a){return/\.((lit)?coffee|coffee\.md)$/.test(a)},a.isLiterate=function(a){return/\.(litcoffee|coffee\.md)$/.test(a)},a.throwSyntaxError=function(a,b){var c;throw c=new SyntaxError(a),c.location=b,c.toString=g,c.stack=""+c,c},a.updateSyntaxError=function(a,b,c){return a.toString===g&&(a.code||(a.code=b),a.filename||(a.filename=c),a.stack=""+a),a},g=function(){var a,b,c,d,e,g,h,i,j,k,l,m,n;return this.code&&this.location?(m=this.location,h=m.first_line,g=m.first_column,j=m.last_line,i=m.last_column,null==j&&(j=h),null==i&&(i=g),e=this.filename||"[stdin]",a=this.code.split("\n")[h],l=g,d=h===j?i+1:a.length,k=a.slice(0,l).replace(/[^\s]/g," ")+f("^",d-l),"undefined"!=typeof process&&null!==process&&(c=process.stdout.isTTY&&!process.env.NODE_DISABLE_COLORS),(null!=(n=this.colorful)?n:c)&&(b=function(a){return"[1;31m"+a+"[0m"},a=a.slice(0,l)+b(a.slice(l,d))+a.slice(d),k=b(k)),""+e+":"+(h+1)+":"+(g+1)+": error: "+this.message+"\n"+a+"\n"+k):Error.prototype.toString.call(this)},a.nameWhitespaceCharacter=function(a){switch(a){case" ":return"space";case"\n":return"newline";case"\r":return"carriage return";case"	":return"tab";default:return a}}}.call(this),b.exports}(),require["./rewriter"]=function(){var a={},b={exports:a};return function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},v=[].slice;for(o=function(a,b,c){var d;return d=[a,b],d.generated=!0,c&&(d.origin=c),d},a.Rewriter=function(){function a(){}return a.prototype.rewrite=function(a){return this.tokens=a,this.removeLeadingNewlines(),this.closeOpenCalls(),this.closeOpenIndexes(),this.normalizeLines(),this.tagPostfixConditionals(),this.addImplicitBracesAndParens(),this.addLocationDataToGeneratedTokens(),this.tokens},a.prototype.scanTokens=function(a){var b,c,d;for(d=this.tokens,b=0;c=d[b];)b+=a.call(this,c,b,d);return!0},a.prototype.detectEnd=function(a,b,c){var d,g,h,i,j;for(h=this.tokens,d=0;g=h[a];){if(0===d&&b.call(this,g,a))return c.call(this,g,a);if(!g||0>d)return c.call(this,g,a-1);i=g[0],u.call(f,i)>=0?d+=1:(j=g[0],u.call(e,j)>=0&&(d-=1)),a+=1}return a-1},a.prototype.removeLeadingNewlines=function(){var a,b,c,d,e;for(e=this.tokens,a=c=0,d=e.length;d>c&&(b=e[a][0],"TERMINATOR"===b);a=++c);return a?this.tokens.splice(0,a):void 0},a.prototype.closeOpenCalls=function(){var a,b;return b=function(a,b){var c;return")"===(c=a[0])||"CALL_END"===c||"OUTDENT"===a[0]&&")"===this.tag(b-1)},a=function(a,b){return this.tokens["OUTDENT"===a[0]?b-1:b][0]="CALL_END"},this.scanTokens(function(c,d){return"CALL_START"===c[0]&&this.detectEnd(d+1,b,a),1})},a.prototype.closeOpenIndexes=function(){var a,b;return b=function(a){var b;return"]"===(b=a[0])||"INDEX_END"===b},a=function(a){return a[0]="INDEX_END"},this.scanTokens(function(c,d){return"INDEX_START"===c[0]&&this.detectEnd(d+1,b,a),1})},a.prototype.matchTags=function(){var a,b,c,d,e,f,g;for(b=arguments[0],d=arguments.length>=2?v.call(arguments,1):[],a=0,c=e=0,f=d.length;f>=0?f>e:e>f;c=f>=0?++e:--e){for(;"HERECOMMENT"===this.tag(b+c+a);)a+=2;if(null!=d[c]&&("string"==typeof d[c]&&(d[c]=[d[c]]),g=this.tag(b+c+a),0>u.call(d[c],g)))return!1}return!0},a.prototype.looksObjectish=function(a){return this.matchTags(a,"@",null,":")||this.matchTags(a,null,":")},a.prototype.findTagsBackwards=function(a,b){var c,d,g,h,i,j,k;for(c=[];a>=0&&(c.length||(h=this.tag(a),0>u.call(b,h)&&(i=this.tag(a),0>u.call(f,i)||this.tokens[a].generated)&&(j=this.tag(a),0>u.call(l,j))));)d=this.tag(a),u.call(e,d)>=0&&c.push(this.tag(a)),g=this.tag(a),u.call(f,g)>=0&&c.length&&c.pop(),a-=1;return k=this.tag(a),u.call(b,k)>=0},a.prototype.addImplicitBracesAndParens=function(){var a;return a=[],this.scanTokens(function(b,d,k){var m,n,p,q,r,s,t,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P;if(J=b[0],y=(z=d>0?k[d-1]:[])[0],w=(k.length-1>d?k[d+1]:[])[0],E=function(){return a[a.length-1]},F=d,p=function(a){return d-F+a},q=function(){var a,b;return null!=(a=E())&&null!=(b=a[2])?b.ours:void 0},r=function(){var a;return q()&&"("===(null!=(a=E())?a[0]:void 0)},t=function(){var a;return q()&&"{"===(null!=(a=E())?a[0]:void 0)},s=function(){var a;return q&&"CONTROL"===(null!=(a=E())?a[0]:void 0)},G=function(b){var c;return c=null!=b?b:d,a.push(["(",c,{ours:!0}]),k.splice(c,0,o("CALL_START","(")),null==b?d+=1:void 0},m=function(){return a.pop(),k.splice(d,0,o("CALL_END",")")),d+=1},H=function(c,e){var f;return null==e&&(e=!0),f=null!=c?c:d,a.push(["{",f,{sameLine:!0,startsLine:e,ours:!0}]),k.splice(f,0,o("{",o(new String("{")),b)),null==c?d+=1:void 0},n=function(c){return c=null!=c?c:d,a.pop(),k.splice(c,0,o("}","}",b)),d+=1},r()&&("IF"===J||"TRY"===J||"FINALLY"===J||"CATCH"===J||"CLASS"===J||"SWITCH"===J))return a.push(["CONTROL",d,{ours:!0}]),p(1);if("INDENT"===J&&q()){if("=>"!==y&&"->"!==y&&"["!==y&&"("!==y&&","!==y&&"{"!==y&&"TRY"!==y&&"ELSE"!==y&&"="!==y)for(;r();)m();return s()&&a.pop(),a.push([J,d]),p(1)}if(u.call(f,J)>=0)return a.push([J,d]),p(1);if(u.call(e,J)>=0){for(;q();)r()?m():t()?n():a.pop();a.pop()}if((u.call(i,J)>=0&&b.spaced&&!b.stringEnd||"?"===J&&d>0&&!k[d-1].spaced)&&(u.call(g,w)>=0||u.call(j,w)>=0&&!(null!=(K=k[d+1])?K.spaced:void 0)&&!(null!=(L=k[d+1])?L.newLine:void 0)))return"?"===J&&(J=b[0]="FUNC_EXIST"),G(d+1),p(2);if(u.call(i,J)>=0&&this.matchTags(d+1,"INDENT",null,":")&&!this.findTagsBackwards(d,["CLASS","EXTENDS","IF","CATCH","SWITCH","LEADING_WHEN","FOR","WHILE","UNTIL"]))return G(d+1),a.push(["INDENT",d+2]),p(3);if(":"===J){for(A="@"===this.tag(d-2)?d-2:d-1;"HERECOMMENT"===this.tag(A-2);)A-=2;return this.insideForDeclaration="FOR"===w,I=0===A||(M=this.tag(A-1),u.call(l,M)>=0)||k[A-1].newLine,E()&&(N=E(),D=N[0],C=N[1],("{"===D||"INDENT"===D&&"{"===this.tag(C-1))&&(I||","===this.tag(A-1)||"{"===this.tag(A-1)))?p(1):(H(A,!!I),p(2))}if(t()&&u.call(l,J)>=0&&(E()[2].sameLine=!1),v="OUTDENT"===y||z.newLine,u.call(h,J)>=0||u.call(c,J)>=0&&v)for(;q();)if(O=E(),D=O[0],C=O[1],P=O[2],B=P.sameLine,I=P.startsLine,r()&&","!==y)m();else if(t()&&!this.insideForDeclaration&&B&&"TERMINATOR"!==J&&":"!==y&&n());else{if(!t()||"TERMINATOR"!==J||","===y||I&&this.looksObjectish(d+1))break;n()}if(!(","!==J||this.looksObjectish(d+1)||!t()||this.insideForDeclaration||"TERMINATOR"===w&&this.looksObjectish(d+2)))for(x="OUTDENT"===w?1:0;t();)n(d+x);return p(1)})},a.prototype.addLocationDataToGeneratedTokens=function(){return this.scanTokens(function(a,b,c){var d,e,f,g,h,i;return a[2]?1:a.generated||a.explicit?("{"===a[0]&&(f=null!=(h=c[b+1])?h[2]:void 0)?(e=f.first_line,d=f.first_column):(g=null!=(i=c[b-1])?i[2]:void 0)?(e=g.last_line,d=g.last_column):e=d=0,a[2]={first_line:e,first_column:d,last_line:e,last_column:d},1):1})},a.prototype.normalizeLines=function(){var a,b,e,f,g;return g=e=f=null,b=function(a,b){var e,f,h,i;return";"!==a[1]&&(e=a[0],u.call(m,e)>=0)&&!("TERMINATOR"===a[0]&&(f=this.tag(b+1),u.call(d,f)>=0))&&!("ELSE"===a[0]&&"THEN"!==g)&&!!("CATCH"!==(h=a[0])&&"FINALLY"!==h||"->"!==g&&"=>"!==g)||(i=a[0],u.call(c,i)>=0&&this.tokens[b-1].newLine)},a=function(a,b){return this.tokens.splice(","===this.tag(b-1)?b-1:b,0,f)},this.scanTokens(function(c,h,i){var j,k,l,m,o,p;if(k=c[0],"TERMINATOR"===k){if("ELSE"===this.tag(h+1)&&"OUTDENT"!==this.tag(h-1))return i.splice.apply(i,[h,1].concat(v.call(this.indentation()))),1;if(m=this.tag(h+1),u.call(d,m)>=0)return i.splice(h,1),0}if("CATCH"===k)for(j=l=1;2>=l;j=++l)if("OUTDENT"===(o=this.tag(h+j))||"TERMINATOR"===o||"FINALLY"===o)return i.splice.apply(i,[h+j,0].concat(v.call(this.indentation()))),2+j;return u.call(n,k)>=0&&"INDENT"!==this.tag(h+1)&&("ELSE"!==k||"IF"!==this.tag(h+1))?(g=k,p=this.indentation(i[h]),e=p[0],f=p[1],"THEN"===g&&(e.fromThen=!0),i.splice(h+1,0,e),this.detectEnd(h+2,b,a),"THEN"===k&&i.splice(h,1),1):1})},a.prototype.tagPostfixConditionals=function(){var a,b,c;return c=null,b=function(a,b){var c,d;return d=a[0],c=this.tokens[b-1][0],"TERMINATOR"===d||"INDENT"===d&&0>u.call(n,c)},a=function(a){return"INDENT"!==a[0]||a.generated&&!a.fromThen?c[0]="POST_"+c[0]:void 0},this.scanTokens(function(d,e){return"IF"!==d[0]?1:(c=d,this.detectEnd(e+1,b,a),1)})},a.prototype.indentation=function(a){var b,c;return b=["INDENT",2],c=["OUTDENT",2],a?(b.generated=c.generated=!0,b.origin=c.origin=a):b.explicit=c.explicit=!0,[b,c]},a.prototype.generate=o,a.prototype.tag=function(a){var b;return null!=(b=this.tokens[a])?b[0]:void 0},a}(),b=[["(",")"],["[","]"],["{","}"],["INDENT","OUTDENT"],["CALL_START","CALL_END"],["PARAM_START","PARAM_END"],["INDEX_START","INDEX_END"]],a.INVERSES=k={},f=[],e=[],r=0,s=b.length;s>r;r++)t=b[r],p=t[0],q=t[1],f.push(k[q]=p),e.push(k[p]=q);d=["CATCH","THEN","ELSE","FINALLY"].concat(e),i=["IDENTIFIER","SUPER",")","CALL_END","]","INDEX_END","@","THIS"],g=["IDENTIFIER","NUMBER","STRING","JS","REGEX","NEW","PARAM_START","CLASS","IF","TRY","SWITCH","THIS","BOOL","NULL","UNDEFINED","UNARY","UNARY_MATH","SUPER","THROW","@","->","=>","[","(","{","--","++"],j=["+","-"],h=["POST_IF","FOR","WHILE","UNTIL","WHEN","BY","LOOP","TERMINATOR"],n=["ELSE","->","=>","TRY","FINALLY","THEN"],m=["TERMINATOR","CATCH","FINALLY","ELSE","OUTDENT","LEADING_WHEN"],l=["TERMINATOR","INDENT","OUTDENT"],c=[".","?.","::","?::"]}.call(this),b.exports}(),require["./lexer"]=function(){var a={},b={exports:a};return function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};ab=require("./rewriter"),L=ab.Rewriter,t=ab.INVERSES,bb=require("./helpers"),U=bb.count,$=bb.starts,T=bb.compact,X=bb.last,Z=bb.repeat,V=bb.invertLiterate,Y=bb.locationDataToString,_=bb.throwSyntaxError,a.Lexer=A=function(){function a(){}return a.prototype.tokenize=function(a,b){var c,d,e,f,g;for(null==b&&(b={}),this.literate=b.literate,this.preserveComments=null!=(f=b.preserveComments)?f:!1,this.indent=0,this.baseIndent=0,this.indebt=0,this.outdebt=0,this.indents=[],this.ends=[],this.tokens=[],this.chunkLine=b.line||0,this.chunkColumn=b.column||0,a=this.clean(a),d=0;this.chunk=a.slice(d);)c=this.identifierToken()||this.commentToken()||this.whitespaceToken()||this.lineToken()||this.heredocToken()||this.stringToken()||this.numberToken()||this.regexToken()||this.jsToken()||this.literalToken(),g=this.getLineAndColumnFromChunk(c),this.chunkLine=g[0],this.chunkColumn=g[1],d+=c;return this.closeIndentation(),(e=this.ends.pop())&&this.error("missing "+e),b.rewrite===!1?this.tokens:(new L).rewrite(this.tokens)},a.prototype.clean=function(a){return a.charCodeAt(0)===b&&(a=a.slice(1)),a=a.replace(/\r/g,"").replace(P,""),S.test(a)&&(a="\n"+a,this.chunkLine--),this.literate&&(a=V(a)),a},a.prototype.identifierToken=function(){var a,b,c,d,e,i,j,k,l,m,n,o,p,r;return(j=q.exec(this.chunk))?(i=j[0],d=j[1],a=j[2],e=d.length,k=void 0,"own"===d&&"FOR"===this.tag()?(this.token("OWN",d),d.length):(c=a||(l=X(this.tokens))&&("."===(o=l[0])||"?."===o||"::"===o||"?::"===o||!l.spaced&&"@"===l[0]),m="IDENTIFIER",!c&&(cb.call(w,d)>=0||cb.call(h,d)>=0)&&(m=d.toUpperCase(),"WHEN"===m&&(p=this.tag(),cb.call(x,p)>=0)?m="LEADING_WHEN":"FOR"===m?this.seenFor=!0:"UNLESS"===m?m="IF":cb.call(Q,m)>=0?m="UNARY":cb.call(J,m)>=0&&("INSTANCEOF"!==m&&this.seenFor?(m="FOR"+m,this.seenFor=!1):(m="RELATION","!"===this.value()&&(k=this.tokens.pop(),d="!"+d)))),cb.call(v,d)>=0&&(c?(m="IDENTIFIER",d=new String(d),d.reserved=!0):cb.call(K,d)>=0&&this.error('reserved word "'+d+'"')),c||(cb.call(f,d)>=0&&(d=g[d]),m=function(){switch(d){case"!":return"UNARY";case"==":case"!=":return"COMPARE";case"&&":case"||":return"LOGIC";case"true":case"false":return"BOOL";case"break":case"continue":return"STATEMENT";default:return m}}()),n=this.token(m,d,0,e),k&&(r=[k[2].first_line,k[2].first_column],n[2].first_line=r[0],n[2].first_column=r[1]),a&&(b=i.lastIndexOf(":"),this.token(":",":",b,a.length)),i.length)):0},a.prototype.numberToken=function(){var a,b,c,d,e;return(c=G.exec(this.chunk))?(d=c[0],/^0[BOX]/.test(d)?this.error("radix prefix '"+d+"' must be lowercase"):/E/.test(d)&&!/^0x/.test(d)?this.error("exponential notation '"+d+"' must be indicated with a lowercase 'e'"):/^0\d*[89]/.test(d)?this.error("decimal literal '"+d+"' must not be prefixed with '0'"):/^0\d+/.test(d)&&this.error("octal literal '"+d+"' must be prefixed with '0o'"),b=d.length,(e=/^0o([0-7]+)/.exec(d))&&(d="0x"+parseInt(e[1],8).toString(16)),(a=/^0b([01]+)/.exec(d))&&(d="0x"+parseInt(a[1],2).toString(16)),this.token("NUMBER",d,0,b),b):0},a.prototype.stringToken=function(){var a,b,c,d,e,f,g,h;switch(f=this.chunk.charAt(0)){case"'":g=(N.exec(this.chunk)||[])[0];break;case'"':g=this.balancedString(this.chunk,'"')}if(!g)return 0;if(a=g.slice(1,-1),h=this.removeNewlines(a),'"'===f&&g.indexOf("#{",1)>0){for(c=e=0,b=a.length;"\n"===a.charAt(e++)&&b>e;)c++;this.interpolateString(h,{strOffset:1+c,lexedLength:g.length})}else this.token("STRING",f+this.escapeLines(h)+f,0,g.length);return(d=/^(?:\\.|[^\\])*\\(?:0[0-7]|[1-7])/.test(g))&&this.error("octal escape sequences "+g+" are not allowed"),g.length},a.prototype.heredocToken=function(){var a,b,c,d,e;return(c=l.exec(this.chunk))?(b=c[0],d=b.charAt(0),a=this.sanitizeHeredoc(c[2],{quote:d,indent:null}),'"'===d&&a.indexOf("#{")>=0?(e="\n"===c[2].charAt(0)?4:3,this.interpolateString(a,{heredoc:!0,strOffset:e,lexedLength:b.length})):this.token("STRING",this.makeString(a,d,!0),0,b.length),b.length):0},a.prototype.commentToken=function(){var a,b,c;return(c=this.chunk.match(i))?(a=c[0],b=c[1],b?this.token("HERECOMMENT",this.sanitizeHeredoc(b,{herecomment:!0,indent:Z(" ",this.indent)}),0,a.length):this.preserveComments&&this.token("COMMENT",a,0,a.length),a.length):0},a.prototype.jsToken=function(){var a,b;return"`"===this.chunk.charAt(0)&&(a=u.exec(this.chunk))?(this.token("JS",(b=a[0]).slice(1,-1),0,b.length),b.length):0},a.prototype.regexToken=function(){var a,b,c,d,e,f,g;return"/"!==this.chunk.charAt(0)?0:(b=this.heregexToken())?b:(d=X(this.tokens),d&&(f=d[0],cb.call(d.spaced?E:F,f)>=0)?0:(c=I.exec(this.chunk))?(g=c,c=g[0],e=g[1],a=g[2],"//"===e?0:("/*"===e.slice(0,2)&&this.error("regular expressions cannot begin with `*`"),this.token("REGEX",""+e+a,0,c.length),c.length)):0)},a.prototype.heregexToken=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,q,r,s;if(!(e=o.exec(this.chunk)))return 0;if(d=e[0],a=e[1],b=e[2],0>a.indexOf("#{"))return h=this.escapeLines(a.replace(p,"$1$2").replace(/\//g,"\\/"),!0),h.match(/^\*/)&&this.error("regular expressions cannot begin with `*`"),this.token("REGEX","/"+(h||"(?:)")+"/"+b,0,d.length),d.length;for(this.token("IDENTIFIER","RegExp",0,0),this.token("CALL_START","(",0,0),k=[],q=this.interpolateString(a,{regex:!0,strOffset:3}),m=0,n=q.length;n>m;m++){if(j=q[m],i=j[0],l=j[1],"TOKENS"===i)k.push.apply(k,l);else if("NEOSTRING"===i){if(!(l=l.replace(p,"$1$2")))continue;l=l.replace(/\\/g,"\\\\"),j[0]="STRING",j[1]=this.makeString(l,'"',!0),k.push(j)}else this.error("Unexpected "+i);g=X(this.tokens),f=["+","+"],f[2]=g[2],k.push(f)}return k.pop(),"STRING"!==(null!=(r=k[0])?r[0]:void 0)&&(this.token("STRING",'""',0,0),this.token("+","+",0,0)),(s=this.tokens).push.apply(s,k),b&&(c=d.lastIndexOf(b),this.token(",",",",c,0),this.token("STRING",'"'+b+'"',c,b.length)),this.token(")",")",d.length-1,0),d.length},a.prototype.lineToken=function(){var a,b,c,d,e;if(!(c=D.exec(this.chunk)))return 0;if(b=c[0],this.seenFor=!1,e=b.length-1-b.lastIndexOf("\n"),d=this.unfinished(),e-this.indebt===this.indent)return d?this.suppressNewlines():this.newlineToken(0),b.length;if(e>this.indent){if(d)return this.indebt=e-this.indent,this.suppressNewlines(),b.length;if(!this.tokens.length)return this.baseIndent=this.indent=e,b.length;a=e-this.indent+this.outdebt,this.token("INDENT",a,b.length-e,e),this.indents.push(a),this.ends.push("OUTDENT"),this.outdebt=this.indebt=0,this.indent=e}else this.baseIndent>e?this.error("missing indentation",b.length):(this.indebt=0,this.outdentToken(this.indent-e,d,b.length));return b.length},a.prototype.outdentToken=function(a,b,c){var d,e,f,g;for(d=this.indent-a;a>0;)f=this.indents[this.indents.length-1],f?f===this.outdebt?(a-=this.outdebt,this.outdebt=0):this.outdebt>f?(this.outdebt-=f,a-=f):(e=this.indents.pop()+this.outdebt,c&&(g=this.chunk[c],cb.call(r,g)>=0)&&(d-=e-a,a=e),this.outdebt=0,this.pair("OUTDENT"),this.token("OUTDENT",a,0,1),a-=e):a=0;for(e&&(this.outdebt-=a);";"===this.value();)this.tokens.pop();return"TERMINATOR"===this.tag()||b||this.token("TERMINATOR","\n",c,0),this.indent=d,this},a.prototype.whitespaceToken=function(){var a,b,c;return(a=S.exec(this.chunk))||(b="\n"===this.chunk.charAt(0))?(c=X(this.tokens),c&&(c[a?"spaced":"newLine"]=!0),a?a[0].length:0):0},a.prototype.newlineToken=function(a){for(;";"===this.value();)this.tokens.pop();return"TERMINATOR"!==this.tag()&&this.token("TERMINATOR","\n",a,0),this},a.prototype.suppressNewlines=function(){return"\\"===this.value()&&this.tokens.pop(),this},a.prototype.literalToken=function(){var a,b,c,f,g,h,i,l;if((a=H.exec(this.chunk))?(f=a[0],e.test(f)&&this.tagParameters()):f=this.chunk.charAt(0),c=f,b=X(this.tokens),"="===f&&b&&(!b[1].reserved&&(g=b[1],cb.call(v,g)>=0)&&this.error('reserved word "'+this.value()+"\" can't be assigned"),"||"===(h=b[1])||"&&"===h))return b[0]="COMPOUND_ASSIGN",b[1]+="=",f.length;if(";"===f)this.seenFor=!1,c="TERMINATOR";else if(cb.call(B,f)>=0)c="MATH";else if(cb.call(j,f)>=0)c="COMPARE";else if(cb.call(k,f)>=0)c="COMPOUND_ASSIGN";else if(cb.call(Q,f)>=0)c="UNARY";else if(cb.call(R,f)>=0)c="UNARY_MATH";else if(cb.call(M,f)>=0)c="SHIFT";else if(cb.call(z,f)>=0||"?"===f&&(null!=b?b.spaced:void 0))c="LOGIC";else if(b&&!b.spaced)if("("===f&&(i=b[0],cb.call(d,i)>=0))"?"===b[0]&&(b[0]="FUNC_EXIST"),c="CALL_START";else if("["===f&&(l=b[0],cb.call(s,l)>=0))switch(c="INDEX_START",b[0]){case"?":b[0]="INDEX_SOAK"}switch(f){case"(":case"{":case"[":this.ends.push(t[f]);break;case")":case"}":case"]":this.pair(f)}return this.token(c,f),f.length},a.prototype.sanitizeHeredoc=function(a,b){var c,d,e,f,g;if(e=b.indent,d=b.herecomment){if(m.test(a)&&this.error('block comment cannot contain "*/", starting'),0>a.indexOf("\n"))return a}else for(;f=n.exec(a);)c=f[1],(null===e||(g=c.length)>0&&e.length>g)&&(e=c);return e&&(a=a.replace(RegExp("\\n"+e,"g"),"\n")),d||(a=a.replace(/^\n/,"")),a},a.prototype.tagParameters=function(){var a,b,c,d;if(")"!==this.tag())return this;for(b=[],d=this.tokens,a=d.length,d[--a][0]="PARAM_END";c=d[--a];)switch(c[0]){case")":b.push(c);break;case"(":case"CALL_START":if(!b.length)return"("===c[0]?(c[0]="PARAM_START",this):this;b.pop()}return this},a.prototype.closeIndentation=function(){return this.outdentToken(this.indent)},a.prototype.balancedString=function(a,b){var c,d,e,f,g,h,i,j;for(c=0,h=[b],d=i=1,j=a.length;j>=1?j>i:i>j;d=j>=1?++i:--i)if(c)--c;else{switch(e=a.charAt(d)){case"\\":++c;continue;case b:if(h.pop(),!h.length)return a.slice(0,+d+1||9e9);b=h[h.length-1];continue}"}"!==b||'"'!==e&&"'"!==e?"}"===b&&"/"===e&&(f=o.exec(a.slice(d))||I.exec(a.slice(d)))?c+=f[0].length-1:"}"===b&&"{"===e?h.push(b="}"):'"'===b&&"#"===g&&"{"===e&&h.push(b="}"):h.push(b=e),g=e}return this.error("missing "+h.pop()+", starting")},a.prototype.interpolateString=function(b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F;for(null==c&&(c={}),g=c.heredoc,u=c.regex,q=c.offsetInChunk,w=c.strOffset,m=c.lexedLength,q||(q=0),w||(w=0),m||(m=b.length),z=[],r=0,h=-1;l=b.charAt(h+=1);)"\\"!==l?"#"===l&&"{"===b.charAt(h+1)&&(f=this.balancedString(b.slice(h+1),"}"))&&(h>r&&z.push(this.makeToken("NEOSTRING",b.slice(r,h),w+r)),e||(e=this.makeToken("","string interpolation",q+h+1,2)),i=f.slice(1,-1),i.length&&(D=this.getLineAndColumnFromChunk(w+h+2),n=D[0],d=D[1],p=(new a).tokenize(i,{line:n,column:d,rewrite:!1}),t=p.pop(),"TERMINATOR"===(null!=(E=p[0])?E[0]:void 0)&&(t=p.shift()),(k=p.length)&&(k>1&&(p.unshift(this.makeToken("(","(",w+h+1,0)),p.push(this.makeToken(")",")",w+h+1+i.length,0))),z.push(["TOKENS",p]))),h+=f.length,r=h+1):h+=1;if(h>r&&b.length>r&&z.push(this.makeToken("NEOSTRING",b.slice(r),w+r)),u)return z;if(!z.length)return this.token("STRING",'""',q,m);for("NEOSTRING"!==z[0][0]&&z.unshift(this.makeToken("NEOSTRING","",q)),(j=z.length>1)&&this.token("(","(",q,0,e),h=B=0,C=z.length;C>B;h=++B)y=z[h],x=y[0],A=y[1],h&&(h&&(s=this.token("+","+")),o="TOKENS"===x?A[0]:y,s[2]={first_line:o[2].first_line,first_column:o[2].first_column,last_line:o[2].first_line,last_column:o[2].first_column}),"TOKENS"===x?(F=this.tokens).push.apply(F,A):"NEOSTRING"===x?(y[0]="STRING",y[1]=this.makeString(A,'"',g),this.tokens.push(y)):this.error("Unexpected "+x);return j&&(v=this.makeToken(")",")",q+m,0),v.stringEnd=!0,this.tokens.push(v)),z},a.prototype.pair=function(a){var b;return a!==(b=X(this.ends))?("OUTDENT"!==b&&this.error("unmatched "+a),this.outdentToken(X(this.indents),!0),this.pair(a)):this.ends.pop()},a.prototype.getLineAndColumnFromChunk=function(a){var b,c,d,e;return 0===a?[this.chunkLine,this.chunkColumn]:(e=a>=this.chunk.length?this.chunk:this.chunk.slice(0,+(a-1)+1||9e9),c=U(e,"\n"),b=this.chunkColumn,c>0?(d=e.split("\n"),b=X(d).length):b+=e.length,[this.chunkLine+c,b])},a.prototype.makeToken=function(a,b,c,d){var e,f,g,h,i;return null==c&&(c=0),null==d&&(d=b.length),f={},h=this.getLineAndColumnFromChunk(c),f.first_line=h[0],f.first_column=h[1],e=Math.max(0,d-1),i=this.getLineAndColumnFromChunk(c+e),f.last_line=i[0],f.last_column=i[1],g=[a,b,f]},a.prototype.token=function(a,b,c,d,e){var f;return f=this.makeToken(a,b,c,d),e&&(f.origin=e),this.tokens.push(f),f},a.prototype.tag=function(a,b){var c;return(c=X(this.tokens,a))&&(b?c[0]=b:c[0])},a.prototype.value=function(a,b){var c;return(c=X(this.tokens,a))&&(b?c[1]=b:c[1])},a.prototype.unfinished=function(){var a;return y.test(this.chunk)||"\\"===(a=this.tag())||"."===a||"?."===a||"?::"===a||"UNARY"===a||"MATH"===a||"UNARY_MATH"===a||"+"===a||"-"===a||"**"===a||"SHIFT"===a||"RELATION"===a||"COMPARE"===a||"LOGIC"===a||"THROW"===a||"EXTENDS"===a},a.prototype.removeNewlines=function(a){return a.replace(/^\s*\n\s*/,"").replace(/([^\\]|\\\\)\s*\n\s*$/,"$1")},a.prototype.escapeLines=function(a,b){return a=a.replace(/\\[^\S\n]*(\n|\\)\s*/g,function(a,b){return"\n"===b?"":a}),b?a.replace(C,"\\n"):a.replace(/\s*\n\s*/g," ")},a.prototype.makeString=function(a,b,c){return a?(a=a.replace(RegExp("\\\\("+b+"|\\\\)","g"),function(a,c){return c===b?c:a}),a=a.replace(RegExp(""+b,"g"),"\\$&"),b+this.escapeLines(a,c)+b):b+b},a.prototype.error=function(a,b){var c,d,e;return null==b&&(b=0),e=this.getLineAndColumnFromChunk(b),d=e[0],c=e[1],_(a,{first_line:d,first_column:c})},a}(),w=["true","false","null","this","new","delete","typeof","in","instanceof","return","throw","break","continue","debugger","if","else","switch","for","while","do","try","catch","finally","class","extends","super"],h=["undefined","then","unless","until","loop","of","by","when"],g={and:"&&",or:"||",is:"==",isnt:"!=",not:"!",yes:"true",no:"false",on:"true",off:"false"},f=function(){var a;a=[];for(W in g)a.push(W);return a}(),h=h.concat(f),K=["case","default","function","var","void","with","const","let","enum","export","import","native","__hasProp","__extends","__slice","__bind","__indexOf","implements","interface","package","private","protected","public","static","yield"],O=["arguments","eval"],v=w.concat(K).concat(O),a.RESERVED=K.concat(w).concat(h).concat(O),a.STRICT_PROSCRIBED=O,b=65279,q=/^([$A-Za-z_\x7f-\uffff][$\w\x7f-\uffff]*)([^\n\S]*:(?!:))?/,G=/^0b[01]+|^0o[0-7]+|^0x[\da-f]+|^\d*\.?\d+(?:e[+-]?\d+)?/i,l=/^("""|''')((?:\\[\s\S]|[^\\])*?)(?:\n[^\n\S]*)?\1/,H=/^(?:[-=]>|[-+*\/%<>&|^!?=]=|>>>=?|([-+:])\1|([&|<>*\/%])\2=?|\?(\.|::)|\.{2,3})/,S=/^[^\n\S]+/,i=/^###([^#][\s\S]*?)(?:###[^\n\S]*|###$)|^(?:\s*#(?!##[^#]).*)+/,e=/^[-=]>/,D=/^(?:\n[^\n\S]*)+/,N=/^'[^\\']*(?:\\[\s\S][^\\']*)*'/,u=/^`[^\\`]*(?:\\.[^\\`]*)*`/,I=/^(\/(?![\s=])[^[\/\n\\]*(?:(?:\\[\s\S]|\[[^\]\n\\]*(?:\\[\s\S][^\]\n\\]*)*])[^[\/\n\\]*)*\/)([imgy]{0,4})(?!\w)/,o=/^\/{3}((?:\\?[\s\S])+?)\/{3}([imgy]{0,4})(?!\w)/,p=/((?:\\\\)+)|\\(\s|\/)|\s+(?:#.*)?/g,C=/\n/g,n=/\n+([^\n\S]*)/g,m=/\*\//,y=/^\s*(?:,|\??\.(?![.\d])|::)/,P=/\s+$/,k=["-=","+=","/=","*=","%=","||=","&&=","?=","<<=",">>=",">>>=","&=","^=","|=","**=","//=","%%="],Q=["NEW","TYPEOF","DELETE","DO"],R=["!","~"],z=["&&","||","&","|","^"],M=["<<",">>",">>>"],j=["==","!=","<",">","<=",">="],B=["*","/","%","//","%%"],J=["IN","OF","INSTANCEOF"],c=["TRUE","FALSE"],E=["NUMBER","REGEX","BOOL","NULL","UNDEFINED","++","--"],F=E.concat(")","}","THIS","IDENTIFIER","STRING","]"),d=["IDENTIFIER","STRING","REGEX",")","]","}","?","::","@","THIS","SUPER"],s=d.concat("NUMBER","BOOL","NULL","UNDEFINED"),x=["INDENT","OUTDENT","TERMINATOR"],r=[")","}","]"]}.call(this),b.exports}(),require["./parser"]=function(){var a={},b={exports:a},c=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,Root:3,Body:4,Line:5,TERMINATOR:6,Expression:7,Statement:8,Return:9,Comment:10,STATEMENT:11,Value:12,Invocation:13,Code:14,Operation:15,Assign:16,If:17,Try:18,While:19,For:20,Switch:21,Class:22,Throw:23,Block:24,INDENT:25,OUTDENT:26,Identifier:27,IDENTIFIER:28,AlphaNumeric:29,NUMBER:30,STRING:31,Literal:32,JS:33,REGEX:34,DEBUGGER:35,UNDEFINED:36,NULL:37,BOOL:38,Assignable:39,"=":40,AssignObj:41,ObjAssignable:42,":":43,ThisProperty:44,RETURN:45,HERECOMMENT:46,PARAM_START:47,ParamList:48,PARAM_END:49,FuncGlyph:50,"->":51,"=>":52,OptComma:53,",":54,Param:55,ParamVar:56,"...":57,Array:58,Object:59,Splat:60,SimpleAssignable:61,Accessor:62,Parenthetical:63,Range:64,This:65,".":66,"?.":67,"::":68,"?::":69,Index:70,INDEX_START:71,IndexValue:72,INDEX_END:73,INDEX_SOAK:74,Slice:75,"{":76,AssignList:77,"}":78,CLASS:79,EXTENDS:80,OptFuncExist:81,Arguments:82,SUPER:83,FUNC_EXIST:84,CALL_START:85,CALL_END:86,ArgList:87,THIS:88,"@":89,"[":90,"]":91,RangeDots:92,"..":93,Arg:94,SimpleArgs:95,TRY:96,Catch:97,FINALLY:98,CATCH:99,THROW:100,"(":101,")":102,WhileSource:103,WHILE:104,WHEN:105,UNTIL:106,Loop:107,LOOP:108,ForBody:109,FOR:110,ForStart:111,ForSource:112,ForVariables:113,OWN:114,ForValue:115,FORIN:116,FOROF:117,BY:118,SWITCH:119,Whens:120,ELSE:121,When:122,LEADING_WHEN:123,IfBlock:124,IF:125,POST_IF:126,UNARY:127,UNARY_MATH:128,"-":129,"+":130,"--":131,"++":132,"?":133,MATH:134,"**":135,SHIFT:136,COMPARE:137,LOGIC:138,RELATION:139,COMPOUND_ASSIGN:140,$accept:0,$end:1},terminals_:{2:"error",6:"TERMINATOR",11:"STATEMENT",25:"INDENT",26:"OUTDENT",28:"IDENTIFIER",30:"NUMBER",31:"STRING",33:"JS",34:"REGEX",35:"DEBUGGER",36:"UNDEFINED",37:"NULL",38:"BOOL",40:"=",43:":",45:"RETURN",46:"HERECOMMENT",47:"PARAM_START",49:"PARAM_END",51:"->",52:"=>",54:",",57:"...",66:".",67:"?.",68:"::",69:"?::",71:"INDEX_START",73:"INDEX_END",74:"INDEX_SOAK",76:"{",78:"}",79:"CLASS",80:"EXTENDS",83:"SUPER",84:"FUNC_EXIST",85:"CALL_START",86:"CALL_END",88:"THIS",89:"@",90:"[",91:"]",93:"..",96:"TRY",98:"FINALLY",99:"CATCH",100:"THROW",101:"(",102:")",104:"WHILE",105:"WHEN",106:"UNTIL",108:"LOOP",110:"FOR",114:"OWN",116:"FORIN",117:"FOROF",118:"BY",119:"SWITCH",121:"ELSE",123:"LEADING_WHEN",125:"IF",126:"POST_IF",127:"UNARY",128:"UNARY_MATH",129:"-",130:"+",131:"--",132:"++",133:"?",134:"MATH",135:"**",136:"SHIFT",137:"COMPARE",138:"LOGIC",139:"RELATION",140:"COMPOUND_ASSIGN"},productions_:[0,[3,0],[3,1],[4,1],[4,3],[4,2],[5,1],[5,1],[8,1],[8,1],[8,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[24,2],[24,3],[27,1],[29,1],[29,1],[32,1],[32,1],[32,1],[32,1],[32,1],[32,1],[32,1],[16,3],[16,4],[16,5],[41,1],[41,3],[41,5],[41,1],[42,1],[42,1],[42,1],[9,2],[9,1],[10,1],[14,5],[14,2],[50,1],[50,1],[53,0],[53,1],[48,0],[48,1],[48,3],[48,4],[48,6],[55,1],[55,2],[55,3],[55,1],[56,1],[56,1],[56,1],[56,1],[60,2],[61,1],[61,2],[61,2],[61,1],[39,1],[39,1],[39,1],[12,1],[12,1],[12,1],[12,1],[12,1],[62,2],[62,2],[62,2],[62,2],[62,1],[62,1],[70,3],[70,2],[72,1],[72,1],[59,4],[77,0],[77,1],[77,3],[77,4],[77,6],[22,1],[22,2],[22,3],[22,4],[22,2],[22,3],[22,4],[22,5],[13,3],[13,3],[13,1],[13,2],[81,0],[81,1],[82,2],[82,4],[65,1],[65,1],[44,2],[58,2],[58,4],[92,1],[92,1],[64,5],[75,3],[75,2],[75,2],[75,1],[87,1],[87,3],[87,4],[87,4],[87,6],[94,1],[94,1],[94,1],[95,1],[95,3],[18,2],[18,3],[18,4],[18,5],[97,3],[97,3],[97,2],[23,2],[63,3],[63,5],[103,2],[103,4],[103,2],[103,4],[19,2],[19,2],[19,2],[19,1],[107,2],[107,2],[20,2],[20,2],[20,2],[109,2],[109,2],[111,2],[111,3],[115,1],[115,1],[115,1],[115,1],[113,1],[113,3],[112,2],[112,2],[112,4],[112,4],[112,4],[112,6],[112,6],[21,5],[21,7],[21,4],[21,6],[120,1],[120,2],[122,3],[122,4],[124,3],[124,5],[17,1],[17,3],[17,3],[17,3],[15,2],[15,2],[15,2],[15,2],[15,2],[15,2],[15,2],[15,2],[15,2],[15,3],[15,3],[15,3],[15,3],[15,3],[15,3],[15,3],[15,3],[15,3],[15,5],[15,4],[15,3]],performAction:function(a,b,c,d,e,f,g){var h=f.length-1;
switch(e){case 1:return this.$=d.addLocationDataFn(g[h],g[h])(new d.Block);case 2:return this.$=f[h];case 3:this.$=d.addLocationDataFn(g[h],g[h])(d.Block.wrap([f[h]]));break;case 4:this.$=d.addLocationDataFn(g[h-2],g[h])(f[h-2].push(f[h]));break;case 5:this.$=f[h-1];break;case 6:this.$=f[h];break;case 7:this.$=f[h];break;case 8:this.$=f[h];break;case 9:this.$=f[h];break;case 10:this.$=d.addLocationDataFn(g[h],g[h])(new d.Literal(f[h]));break;case 11:this.$=f[h];break;case 12:this.$=f[h];break;case 13:this.$=f[h];break;case 14:this.$=f[h];break;case 15:this.$=f[h];break;case 16:this.$=f[h];break;case 17:this.$=f[h];break;case 18:this.$=f[h];break;case 19:this.$=f[h];break;case 20:this.$=f[h];break;case 21:this.$=f[h];break;case 22:this.$=f[h];break;case 23:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Block);break;case 24:this.$=d.addLocationDataFn(g[h-2],g[h])(f[h-1]);break;case 25:this.$=d.addLocationDataFn(g[h],g[h])(new d.Literal(f[h]));break;case 26:this.$=d.addLocationDataFn(g[h],g[h])(new d.Literal(f[h]));break;case 27:this.$=d.addLocationDataFn(g[h],g[h])(new d.Literal(f[h]));break;case 28:this.$=f[h];break;case 29:this.$=d.addLocationDataFn(g[h],g[h])(new d.Literal(f[h]));break;case 30:this.$=d.addLocationDataFn(g[h],g[h])(new d.Literal(f[h]));break;case 31:this.$=d.addLocationDataFn(g[h],g[h])(new d.Literal(f[h]));break;case 32:this.$=d.addLocationDataFn(g[h],g[h])(new d.Undefined);break;case 33:this.$=d.addLocationDataFn(g[h],g[h])(new d.Null);break;case 34:this.$=d.addLocationDataFn(g[h],g[h])(new d.Bool(f[h]));break;case 35:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Assign(f[h-2],f[h]));break;case 36:this.$=d.addLocationDataFn(g[h-3],g[h])(new d.Assign(f[h-3],f[h]));break;case 37:this.$=d.addLocationDataFn(g[h-4],g[h])(new d.Assign(f[h-4],f[h-1]));break;case 38:this.$=d.addLocationDataFn(g[h],g[h])(new d.Value(f[h]));break;case 39:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Assign(d.addLocationDataFn(g[h-2])(new d.Value(f[h-2])),f[h],"object"));break;case 40:this.$=d.addLocationDataFn(g[h-4],g[h])(new d.Assign(d.addLocationDataFn(g[h-4])(new d.Value(f[h-4])),f[h-1],"object"));break;case 41:this.$=f[h];break;case 42:this.$=f[h];break;case 43:this.$=f[h];break;case 44:this.$=f[h];break;case 45:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Return(f[h]));break;case 46:this.$=d.addLocationDataFn(g[h],g[h])(new d.Return);break;case 47:this.$=d.addLocationDataFn(g[h],g[h])(new d.Comment(f[h]));break;case 48:this.$=d.addLocationDataFn(g[h-4],g[h])(new d.Code(f[h-3],f[h],f[h-1]));break;case 49:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Code([],f[h],f[h-1]));break;case 50:this.$=d.addLocationDataFn(g[h],g[h])("func");break;case 51:this.$=d.addLocationDataFn(g[h],g[h])("boundfunc");break;case 52:this.$=f[h];break;case 53:this.$=f[h];break;case 54:this.$=d.addLocationDataFn(g[h],g[h])([]);break;case 55:this.$=d.addLocationDataFn(g[h],g[h])([f[h]]);break;case 56:this.$=d.addLocationDataFn(g[h-2],g[h])(f[h-2].concat(f[h]));break;case 57:this.$=d.addLocationDataFn(g[h-3],g[h])(f[h-3].concat(f[h]));break;case 58:this.$=d.addLocationDataFn(g[h-5],g[h])(f[h-5].concat(f[h-2]));break;case 59:this.$=d.addLocationDataFn(g[h],g[h])(new d.Param(f[h]));break;case 60:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Param(f[h-1],null,!0));break;case 61:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Param(f[h-2],f[h]));break;case 62:this.$=d.addLocationDataFn(g[h],g[h])(new d.Expansion);break;case 63:this.$=f[h];break;case 64:this.$=f[h];break;case 65:this.$=f[h];break;case 66:this.$=f[h];break;case 67:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Splat(f[h-1]));break;case 68:this.$=d.addLocationDataFn(g[h],g[h])(new d.Value(f[h]));break;case 69:this.$=d.addLocationDataFn(g[h-1],g[h])(f[h-1].add(f[h]));break;case 70:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Value(f[h-1],[].concat(f[h])));break;case 71:this.$=f[h];break;case 72:this.$=f[h];break;case 73:this.$=d.addLocationDataFn(g[h],g[h])(new d.Value(f[h]));break;case 74:this.$=d.addLocationDataFn(g[h],g[h])(new d.Value(f[h]));break;case 75:this.$=f[h];break;case 76:this.$=d.addLocationDataFn(g[h],g[h])(new d.Value(f[h]));break;case 77:this.$=d.addLocationDataFn(g[h],g[h])(new d.Value(f[h]));break;case 78:this.$=d.addLocationDataFn(g[h],g[h])(new d.Value(f[h]));break;case 79:this.$=f[h];break;case 80:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Access(f[h]));break;case 81:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Access(f[h],"soak"));break;case 82:this.$=d.addLocationDataFn(g[h-1],g[h])([d.addLocationDataFn(g[h-1])(new d.Access(new d.Literal("prototype"))),d.addLocationDataFn(g[h])(new d.Access(f[h]))]);break;case 83:this.$=d.addLocationDataFn(g[h-1],g[h])([d.addLocationDataFn(g[h-1])(new d.Access(new d.Literal("prototype"),"soak")),d.addLocationDataFn(g[h])(new d.Access(f[h]))]);break;case 84:this.$=d.addLocationDataFn(g[h],g[h])(new d.Access(new d.Literal("prototype")));break;case 85:this.$=f[h];break;case 86:this.$=d.addLocationDataFn(g[h-2],g[h])(f[h-1].wipeLocationData());break;case 87:this.$=d.addLocationDataFn(g[h-1],g[h])(d.extend(f[h],{soak:!0}));break;case 88:this.$=d.addLocationDataFn(g[h],g[h])(new d.Index(f[h]));break;case 89:this.$=d.addLocationDataFn(g[h],g[h])(new d.Slice(f[h]));break;case 90:this.$=d.addLocationDataFn(g[h-3],g[h])(new d.Obj(f[h-2],f[h-3].generated));break;case 91:this.$=d.addLocationDataFn(g[h],g[h])([]);break;case 92:this.$=d.addLocationDataFn(g[h],g[h])([f[h]]);break;case 93:this.$=d.addLocationDataFn(g[h-2],g[h])(f[h-2].concat(f[h]));break;case 94:this.$=d.addLocationDataFn(g[h-3],g[h])(f[h-3].concat(f[h]));break;case 95:this.$=d.addLocationDataFn(g[h-5],g[h])(f[h-5].concat(f[h-2]));break;case 96:this.$=d.addLocationDataFn(g[h],g[h])(new d.Class);break;case 97:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Class(null,null,f[h]));break;case 98:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Class(null,f[h]));break;case 99:this.$=d.addLocationDataFn(g[h-3],g[h])(new d.Class(null,f[h-1],f[h]));break;case 100:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Class(f[h]));break;case 101:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Class(f[h-1],null,f[h]));break;case 102:this.$=d.addLocationDataFn(g[h-3],g[h])(new d.Class(f[h-2],f[h]));break;case 103:this.$=d.addLocationDataFn(g[h-4],g[h])(new d.Class(f[h-3],f[h-1],f[h]));break;case 104:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Call(f[h-2],f[h],f[h-1]));break;case 105:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Call(f[h-2],f[h],f[h-1]));break;case 106:this.$=d.addLocationDataFn(g[h],g[h])(new d.Call("super",[new d.Splat(new d.Literal("arguments"))]));break;case 107:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Call("super",f[h]));break;case 108:this.$=d.addLocationDataFn(g[h],g[h])(!1);break;case 109:this.$=d.addLocationDataFn(g[h],g[h])(!0);break;case 110:this.$=d.addLocationDataFn(g[h-1],g[h])([]);break;case 111:this.$=d.addLocationDataFn(g[h-3],g[h])(f[h-2]);break;case 112:this.$=d.addLocationDataFn(g[h],g[h])(new d.Value(new d.Literal("this")));break;case 113:this.$=d.addLocationDataFn(g[h],g[h])(new d.Value(new d.Literal("this")));break;case 114:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Value(d.addLocationDataFn(g[h-1])(new d.Literal("this")),[d.addLocationDataFn(g[h])(new d.Access(f[h]))],"this"));break;case 115:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Arr([]));break;case 116:this.$=d.addLocationDataFn(g[h-3],g[h])(new d.Arr(f[h-2]));break;case 117:this.$=d.addLocationDataFn(g[h],g[h])("inclusive");break;case 118:this.$=d.addLocationDataFn(g[h],g[h])("exclusive");break;case 119:this.$=d.addLocationDataFn(g[h-4],g[h])(new d.Range(f[h-3],f[h-1],f[h-2]));break;case 120:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Range(f[h-2],f[h],f[h-1]));break;case 121:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Range(f[h-1],null,f[h]));break;case 122:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Range(null,f[h],f[h-1]));break;case 123:this.$=d.addLocationDataFn(g[h],g[h])(new d.Range(null,null,f[h]));break;case 124:this.$=d.addLocationDataFn(g[h],g[h])([f[h]]);break;case 125:this.$=d.addLocationDataFn(g[h-2],g[h])(f[h-2].concat(f[h]));break;case 126:this.$=d.addLocationDataFn(g[h-3],g[h])(f[h-3].concat(f[h]));break;case 127:this.$=d.addLocationDataFn(g[h-3],g[h])(f[h-2]);break;case 128:this.$=d.addLocationDataFn(g[h-5],g[h])(f[h-5].concat(f[h-2]));break;case 129:this.$=f[h];break;case 130:this.$=f[h];break;case 131:this.$=d.addLocationDataFn(g[h],g[h])(new d.Expansion);break;case 132:this.$=f[h];break;case 133:this.$=d.addLocationDataFn(g[h-2],g[h])([].concat(f[h-2],f[h]));break;case 134:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Try(f[h]));break;case 135:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Try(f[h-1],f[h][0],f[h][1]));break;case 136:this.$=d.addLocationDataFn(g[h-3],g[h])(new d.Try(f[h-2],null,null,f[h]));break;case 137:this.$=d.addLocationDataFn(g[h-4],g[h])(new d.Try(f[h-3],f[h-2][0],f[h-2][1],f[h]));break;case 138:this.$=d.addLocationDataFn(g[h-2],g[h])([f[h-1],f[h]]);break;case 139:this.$=d.addLocationDataFn(g[h-2],g[h])([d.addLocationDataFn(g[h-1])(new d.Value(f[h-1])),f[h]]);break;case 140:this.$=d.addLocationDataFn(g[h-1],g[h])([null,f[h]]);break;case 141:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Throw(f[h]));break;case 142:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Parens(f[h-1]));break;case 143:this.$=d.addLocationDataFn(g[h-4],g[h])(new d.Parens(f[h-2]));break;case 144:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.While(f[h]));break;case 145:this.$=d.addLocationDataFn(g[h-3],g[h])(new d.While(f[h-2],{guard:f[h]}));break;case 146:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.While(f[h],{invert:!0}));break;case 147:this.$=d.addLocationDataFn(g[h-3],g[h])(new d.While(f[h-2],{invert:!0,guard:f[h]}));break;case 148:this.$=d.addLocationDataFn(g[h-1],g[h])(f[h-1].addBody(f[h]));break;case 149:this.$=d.addLocationDataFn(g[h-1],g[h])(f[h].addBody(d.addLocationDataFn(g[h-1])(d.Block.wrap([f[h-1]]))));break;case 150:this.$=d.addLocationDataFn(g[h-1],g[h])(f[h].addBody(d.addLocationDataFn(g[h-1])(d.Block.wrap([f[h-1]]))));break;case 151:this.$=d.addLocationDataFn(g[h],g[h])(f[h]);break;case 152:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.While(d.addLocationDataFn(g[h-1])(new d.Literal("true"))).addBody(f[h]));break;case 153:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.While(d.addLocationDataFn(g[h-1])(new d.Literal("true"))).addBody(d.addLocationDataFn(g[h])(d.Block.wrap([f[h]]))));break;case 154:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.For(f[h-1],f[h]));break;case 155:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.For(f[h-1],f[h]));break;case 156:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.For(f[h],f[h-1]));break;case 157:this.$=d.addLocationDataFn(g[h-1],g[h])({source:d.addLocationDataFn(g[h])(new d.Value(f[h]))});break;case 158:this.$=d.addLocationDataFn(g[h-1],g[h])(function(){return f[h].own=f[h-1].own,f[h].name=f[h-1][0],f[h].index=f[h-1][1],f[h]}());break;case 159:this.$=d.addLocationDataFn(g[h-1],g[h])(f[h]);break;case 160:this.$=d.addLocationDataFn(g[h-2],g[h])(function(){return f[h].own=!0,f[h]}());break;case 161:this.$=f[h];break;case 162:this.$=f[h];break;case 163:this.$=d.addLocationDataFn(g[h],g[h])(new d.Value(f[h]));break;case 164:this.$=d.addLocationDataFn(g[h],g[h])(new d.Value(f[h]));break;case 165:this.$=d.addLocationDataFn(g[h],g[h])([f[h]]);break;case 166:this.$=d.addLocationDataFn(g[h-2],g[h])([f[h-2],f[h]]);break;case 167:this.$=d.addLocationDataFn(g[h-1],g[h])({source:f[h]});break;case 168:this.$=d.addLocationDataFn(g[h-1],g[h])({source:f[h],object:!0});break;case 169:this.$=d.addLocationDataFn(g[h-3],g[h])({source:f[h-2],guard:f[h]});break;case 170:this.$=d.addLocationDataFn(g[h-3],g[h])({source:f[h-2],guard:f[h],object:!0});break;case 171:this.$=d.addLocationDataFn(g[h-3],g[h])({source:f[h-2],step:f[h]});break;case 172:this.$=d.addLocationDataFn(g[h-5],g[h])({source:f[h-4],guard:f[h-2],step:f[h]});break;case 173:this.$=d.addLocationDataFn(g[h-5],g[h])({source:f[h-4],step:f[h-2],guard:f[h]});break;case 174:this.$=d.addLocationDataFn(g[h-4],g[h])(new d.Switch(f[h-3],f[h-1]));break;case 175:this.$=d.addLocationDataFn(g[h-6],g[h])(new d.Switch(f[h-5],f[h-3],f[h-1]));break;case 176:this.$=d.addLocationDataFn(g[h-3],g[h])(new d.Switch(null,f[h-1]));break;case 177:this.$=d.addLocationDataFn(g[h-5],g[h])(new d.Switch(null,f[h-3],f[h-1]));break;case 178:this.$=f[h];break;case 179:this.$=d.addLocationDataFn(g[h-1],g[h])(f[h-1].concat(f[h]));break;case 180:this.$=d.addLocationDataFn(g[h-2],g[h])([[f[h-1],f[h]]]);break;case 181:this.$=d.addLocationDataFn(g[h-3],g[h])([[f[h-2],f[h-1]]]);break;case 182:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.If(f[h-1],f[h],{type:f[h-2]}));break;case 183:this.$=d.addLocationDataFn(g[h-4],g[h])(f[h-4].addElse(d.addLocationDataFn(g[h-2],g[h])(new d.If(f[h-1],f[h],{type:f[h-2]})),g[h-3]));break;case 184:this.$=f[h];break;case 185:this.$=d.addLocationDataFn(g[h-2],g[h])(f[h-2].addElse(f[h],g[h-1]));break;case 186:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.If(f[h],d.addLocationDataFn(g[h-2])(d.Block.wrap([f[h-2]])),{type:f[h-1],statement:!0}));break;case 187:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.If(f[h],d.addLocationDataFn(g[h-2])(d.Block.wrap([f[h-2]])),{type:f[h-1],statement:!0}));break;case 188:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Op(f[h-1],f[h]));break;case 189:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Op(f[h-1],f[h]));break;case 190:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Op("-",f[h]));break;case 191:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Op("+",f[h]));break;case 192:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Op("--",f[h]));break;case 193:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Op("++",f[h]));break;case 194:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Op("--",f[h-1],null,!0));break;case 195:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Op("++",f[h-1],null,!0));break;case 196:this.$=d.addLocationDataFn(g[h-1],g[h])(new d.Existence(f[h-1]));break;case 197:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Op("+",f[h-2],f[h]));break;case 198:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Op("-",f[h-2],f[h]));break;case 199:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Op(f[h-1],f[h-2],f[h]));break;case 200:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Op(f[h-1],f[h-2],f[h]));break;case 201:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Op(f[h-1],f[h-2],f[h]));break;case 202:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Op(f[h-1],f[h-2],f[h]));break;case 203:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Op(f[h-1],f[h-2],f[h]));break;case 204:this.$=d.addLocationDataFn(g[h-2],g[h])(function(){return"!"===f[h-1].charAt(0)?new d.Op(f[h-1].slice(1),f[h-2],f[h]).invert():new d.Op(f[h-1],f[h-2],f[h])}());break;case 205:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Assign(f[h-2],f[h],f[h-1]));break;case 206:this.$=d.addLocationDataFn(g[h-4],g[h])(new d.Assign(f[h-4],f[h-1],f[h-3]));break;case 207:this.$=d.addLocationDataFn(g[h-3],g[h])(new d.Assign(f[h-3],f[h],f[h-2]));break;case 208:this.$=d.addLocationDataFn(g[h-2],g[h])(new d.Extends(f[h-2],f[h]))}},table:[{1:[2,1],3:1,4:2,5:3,7:4,8:5,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[3]},{1:[2,2],6:[1,73]},{1:[2,3],6:[2,3],26:[2,3],102:[2,3]},{1:[2,6],6:[2,6],26:[2,6],102:[2,6],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,7],6:[2,7],26:[2,7],102:[2,7],103:87,104:[1,64],106:[1,65],109:88,110:[1,67],111:68,126:[1,86]},{1:[2,11],6:[2,11],25:[2,11],26:[2,11],49:[2,11],54:[2,11],57:[2,11],62:90,66:[1,92],67:[1,93],68:[1,94],69:[1,95],70:96,71:[1,97],73:[2,11],74:[1,98],78:[2,11],81:89,84:[1,91],85:[2,108],86:[2,11],91:[2,11],93:[2,11],102:[2,11],104:[2,11],105:[2,11],106:[2,11],110:[2,11],118:[2,11],126:[2,11],129:[2,11],130:[2,11],133:[2,11],134:[2,11],135:[2,11],136:[2,11],137:[2,11],138:[2,11],139:[2,11]},{1:[2,12],6:[2,12],25:[2,12],26:[2,12],49:[2,12],54:[2,12],57:[2,12],62:100,66:[1,92],67:[1,93],68:[1,94],69:[1,95],70:96,71:[1,97],73:[2,12],74:[1,98],78:[2,12],81:99,84:[1,91],85:[2,108],86:[2,12],91:[2,12],93:[2,12],102:[2,12],104:[2,12],105:[2,12],106:[2,12],110:[2,12],118:[2,12],126:[2,12],129:[2,12],130:[2,12],133:[2,12],134:[2,12],135:[2,12],136:[2,12],137:[2,12],138:[2,12],139:[2,12]},{1:[2,13],6:[2,13],25:[2,13],26:[2,13],49:[2,13],54:[2,13],57:[2,13],73:[2,13],78:[2,13],86:[2,13],91:[2,13],93:[2,13],102:[2,13],104:[2,13],105:[2,13],106:[2,13],110:[2,13],118:[2,13],126:[2,13],129:[2,13],130:[2,13],133:[2,13],134:[2,13],135:[2,13],136:[2,13],137:[2,13],138:[2,13],139:[2,13]},{1:[2,14],6:[2,14],25:[2,14],26:[2,14],49:[2,14],54:[2,14],57:[2,14],73:[2,14],78:[2,14],86:[2,14],91:[2,14],93:[2,14],102:[2,14],104:[2,14],105:[2,14],106:[2,14],110:[2,14],118:[2,14],126:[2,14],129:[2,14],130:[2,14],133:[2,14],134:[2,14],135:[2,14],136:[2,14],137:[2,14],138:[2,14],139:[2,14]},{1:[2,15],6:[2,15],25:[2,15],26:[2,15],49:[2,15],54:[2,15],57:[2,15],73:[2,15],78:[2,15],86:[2,15],91:[2,15],93:[2,15],102:[2,15],104:[2,15],105:[2,15],106:[2,15],110:[2,15],118:[2,15],126:[2,15],129:[2,15],130:[2,15],133:[2,15],134:[2,15],135:[2,15],136:[2,15],137:[2,15],138:[2,15],139:[2,15]},{1:[2,16],6:[2,16],25:[2,16],26:[2,16],49:[2,16],54:[2,16],57:[2,16],73:[2,16],78:[2,16],86:[2,16],91:[2,16],93:[2,16],102:[2,16],104:[2,16],105:[2,16],106:[2,16],110:[2,16],118:[2,16],126:[2,16],129:[2,16],130:[2,16],133:[2,16],134:[2,16],135:[2,16],136:[2,16],137:[2,16],138:[2,16],139:[2,16]},{1:[2,17],6:[2,17],25:[2,17],26:[2,17],49:[2,17],54:[2,17],57:[2,17],73:[2,17],78:[2,17],86:[2,17],91:[2,17],93:[2,17],102:[2,17],104:[2,17],105:[2,17],106:[2,17],110:[2,17],118:[2,17],126:[2,17],129:[2,17],130:[2,17],133:[2,17],134:[2,17],135:[2,17],136:[2,17],137:[2,17],138:[2,17],139:[2,17]},{1:[2,18],6:[2,18],25:[2,18],26:[2,18],49:[2,18],54:[2,18],57:[2,18],73:[2,18],78:[2,18],86:[2,18],91:[2,18],93:[2,18],102:[2,18],104:[2,18],105:[2,18],106:[2,18],110:[2,18],118:[2,18],126:[2,18],129:[2,18],130:[2,18],133:[2,18],134:[2,18],135:[2,18],136:[2,18],137:[2,18],138:[2,18],139:[2,18]},{1:[2,19],6:[2,19],25:[2,19],26:[2,19],49:[2,19],54:[2,19],57:[2,19],73:[2,19],78:[2,19],86:[2,19],91:[2,19],93:[2,19],102:[2,19],104:[2,19],105:[2,19],106:[2,19],110:[2,19],118:[2,19],126:[2,19],129:[2,19],130:[2,19],133:[2,19],134:[2,19],135:[2,19],136:[2,19],137:[2,19],138:[2,19],139:[2,19]},{1:[2,20],6:[2,20],25:[2,20],26:[2,20],49:[2,20],54:[2,20],57:[2,20],73:[2,20],78:[2,20],86:[2,20],91:[2,20],93:[2,20],102:[2,20],104:[2,20],105:[2,20],106:[2,20],110:[2,20],118:[2,20],126:[2,20],129:[2,20],130:[2,20],133:[2,20],134:[2,20],135:[2,20],136:[2,20],137:[2,20],138:[2,20],139:[2,20]},{1:[2,21],6:[2,21],25:[2,21],26:[2,21],49:[2,21],54:[2,21],57:[2,21],73:[2,21],78:[2,21],86:[2,21],91:[2,21],93:[2,21],102:[2,21],104:[2,21],105:[2,21],106:[2,21],110:[2,21],118:[2,21],126:[2,21],129:[2,21],130:[2,21],133:[2,21],134:[2,21],135:[2,21],136:[2,21],137:[2,21],138:[2,21],139:[2,21]},{1:[2,22],6:[2,22],25:[2,22],26:[2,22],49:[2,22],54:[2,22],57:[2,22],73:[2,22],78:[2,22],86:[2,22],91:[2,22],93:[2,22],102:[2,22],104:[2,22],105:[2,22],106:[2,22],110:[2,22],118:[2,22],126:[2,22],129:[2,22],130:[2,22],133:[2,22],134:[2,22],135:[2,22],136:[2,22],137:[2,22],138:[2,22],139:[2,22]},{1:[2,8],6:[2,8],26:[2,8],102:[2,8],104:[2,8],106:[2,8],110:[2,8],126:[2,8]},{1:[2,9],6:[2,9],26:[2,9],102:[2,9],104:[2,9],106:[2,9],110:[2,9],126:[2,9]},{1:[2,10],6:[2,10],26:[2,10],102:[2,10],104:[2,10],106:[2,10],110:[2,10],126:[2,10]},{1:[2,75],6:[2,75],25:[2,75],26:[2,75],40:[1,101],49:[2,75],54:[2,75],57:[2,75],66:[2,75],67:[2,75],68:[2,75],69:[2,75],71:[2,75],73:[2,75],74:[2,75],78:[2,75],84:[2,75],85:[2,75],86:[2,75],91:[2,75],93:[2,75],102:[2,75],104:[2,75],105:[2,75],106:[2,75],110:[2,75],118:[2,75],126:[2,75],129:[2,75],130:[2,75],133:[2,75],134:[2,75],135:[2,75],136:[2,75],137:[2,75],138:[2,75],139:[2,75]},{1:[2,76],6:[2,76],25:[2,76],26:[2,76],49:[2,76],54:[2,76],57:[2,76],66:[2,76],67:[2,76],68:[2,76],69:[2,76],71:[2,76],73:[2,76],74:[2,76],78:[2,76],84:[2,76],85:[2,76],86:[2,76],91:[2,76],93:[2,76],102:[2,76],104:[2,76],105:[2,76],106:[2,76],110:[2,76],118:[2,76],126:[2,76],129:[2,76],130:[2,76],133:[2,76],134:[2,76],135:[2,76],136:[2,76],137:[2,76],138:[2,76],139:[2,76]},{1:[2,77],6:[2,77],25:[2,77],26:[2,77],49:[2,77],54:[2,77],57:[2,77],66:[2,77],67:[2,77],68:[2,77],69:[2,77],71:[2,77],73:[2,77],74:[2,77],78:[2,77],84:[2,77],85:[2,77],86:[2,77],91:[2,77],93:[2,77],102:[2,77],104:[2,77],105:[2,77],106:[2,77],110:[2,77],118:[2,77],126:[2,77],129:[2,77],130:[2,77],133:[2,77],134:[2,77],135:[2,77],136:[2,77],137:[2,77],138:[2,77],139:[2,77]},{1:[2,78],6:[2,78],25:[2,78],26:[2,78],49:[2,78],54:[2,78],57:[2,78],66:[2,78],67:[2,78],68:[2,78],69:[2,78],71:[2,78],73:[2,78],74:[2,78],78:[2,78],84:[2,78],85:[2,78],86:[2,78],91:[2,78],93:[2,78],102:[2,78],104:[2,78],105:[2,78],106:[2,78],110:[2,78],118:[2,78],126:[2,78],129:[2,78],130:[2,78],133:[2,78],134:[2,78],135:[2,78],136:[2,78],137:[2,78],138:[2,78],139:[2,78]},{1:[2,79],6:[2,79],25:[2,79],26:[2,79],49:[2,79],54:[2,79],57:[2,79],66:[2,79],67:[2,79],68:[2,79],69:[2,79],71:[2,79],73:[2,79],74:[2,79],78:[2,79],84:[2,79],85:[2,79],86:[2,79],91:[2,79],93:[2,79],102:[2,79],104:[2,79],105:[2,79],106:[2,79],110:[2,79],118:[2,79],126:[2,79],129:[2,79],130:[2,79],133:[2,79],134:[2,79],135:[2,79],136:[2,79],137:[2,79],138:[2,79],139:[2,79]},{1:[2,106],6:[2,106],25:[2,106],26:[2,106],49:[2,106],54:[2,106],57:[2,106],66:[2,106],67:[2,106],68:[2,106],69:[2,106],71:[2,106],73:[2,106],74:[2,106],78:[2,106],82:102,84:[2,106],85:[1,103],86:[2,106],91:[2,106],93:[2,106],102:[2,106],104:[2,106],105:[2,106],106:[2,106],110:[2,106],118:[2,106],126:[2,106],129:[2,106],130:[2,106],133:[2,106],134:[2,106],135:[2,106],136:[2,106],137:[2,106],138:[2,106],139:[2,106]},{6:[2,54],25:[2,54],27:108,28:[1,72],44:109,48:104,49:[2,54],54:[2,54],55:105,56:106,57:[1,107],58:110,59:111,76:[1,69],89:[1,112],90:[1,113]},{24:114,25:[1,115]},{7:116,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:118,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:119,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:120,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{12:122,13:123,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:124,44:62,58:46,59:47,61:121,63:23,64:24,65:25,76:[1,69],83:[1,26],88:[1,57],89:[1,58],90:[1,56],101:[1,55]},{12:122,13:123,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:124,44:62,58:46,59:47,61:125,63:23,64:24,65:25,76:[1,69],83:[1,26],88:[1,57],89:[1,58],90:[1,56],101:[1,55]},{1:[2,72],6:[2,72],25:[2,72],26:[2,72],40:[2,72],49:[2,72],54:[2,72],57:[2,72],66:[2,72],67:[2,72],68:[2,72],69:[2,72],71:[2,72],73:[2,72],74:[2,72],78:[2,72],80:[1,129],84:[2,72],85:[2,72],86:[2,72],91:[2,72],93:[2,72],102:[2,72],104:[2,72],105:[2,72],106:[2,72],110:[2,72],118:[2,72],126:[2,72],129:[2,72],130:[2,72],131:[1,126],132:[1,127],133:[2,72],134:[2,72],135:[2,72],136:[2,72],137:[2,72],138:[2,72],139:[2,72],140:[1,128]},{1:[2,184],6:[2,184],25:[2,184],26:[2,184],49:[2,184],54:[2,184],57:[2,184],73:[2,184],78:[2,184],86:[2,184],91:[2,184],93:[2,184],102:[2,184],104:[2,184],105:[2,184],106:[2,184],110:[2,184],118:[2,184],121:[1,130],126:[2,184],129:[2,184],130:[2,184],133:[2,184],134:[2,184],135:[2,184],136:[2,184],137:[2,184],138:[2,184],139:[2,184]},{24:131,25:[1,115]},{24:132,25:[1,115]},{1:[2,151],6:[2,151],25:[2,151],26:[2,151],49:[2,151],54:[2,151],57:[2,151],73:[2,151],78:[2,151],86:[2,151],91:[2,151],93:[2,151],102:[2,151],104:[2,151],105:[2,151],106:[2,151],110:[2,151],118:[2,151],126:[2,151],129:[2,151],130:[2,151],133:[2,151],134:[2,151],135:[2,151],136:[2,151],137:[2,151],138:[2,151],139:[2,151]},{24:133,25:[1,115]},{7:134,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,135],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,96],6:[2,96],12:122,13:123,24:136,25:[1,115],26:[2,96],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:124,44:62,49:[2,96],54:[2,96],57:[2,96],58:46,59:47,61:138,63:23,64:24,65:25,73:[2,96],76:[1,69],78:[2,96],80:[1,137],83:[1,26],86:[2,96],88:[1,57],89:[1,58],90:[1,56],91:[2,96],93:[2,96],101:[1,55],102:[2,96],104:[2,96],105:[2,96],106:[2,96],110:[2,96],118:[2,96],126:[2,96],129:[2,96],130:[2,96],133:[2,96],134:[2,96],135:[2,96],136:[2,96],137:[2,96],138:[2,96],139:[2,96]},{7:139,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,46],6:[2,46],7:140,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,26:[2,46],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],102:[2,46],103:38,104:[2,46],106:[2,46],107:39,108:[1,66],109:40,110:[2,46],111:68,119:[1,41],124:36,125:[1,63],126:[2,46],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,47],6:[2,47],25:[2,47],26:[2,47],54:[2,47],78:[2,47],102:[2,47],104:[2,47],106:[2,47],110:[2,47],126:[2,47]},{1:[2,73],6:[2,73],25:[2,73],26:[2,73],40:[2,73],49:[2,73],54:[2,73],57:[2,73],66:[2,73],67:[2,73],68:[2,73],69:[2,73],71:[2,73],73:[2,73],74:[2,73],78:[2,73],84:[2,73],85:[2,73],86:[2,73],91:[2,73],93:[2,73],102:[2,73],104:[2,73],105:[2,73],106:[2,73],110:[2,73],118:[2,73],126:[2,73],129:[2,73],130:[2,73],133:[2,73],134:[2,73],135:[2,73],136:[2,73],137:[2,73],138:[2,73],139:[2,73]},{1:[2,74],6:[2,74],25:[2,74],26:[2,74],40:[2,74],49:[2,74],54:[2,74],57:[2,74],66:[2,74],67:[2,74],68:[2,74],69:[2,74],71:[2,74],73:[2,74],74:[2,74],78:[2,74],84:[2,74],85:[2,74],86:[2,74],91:[2,74],93:[2,74],102:[2,74],104:[2,74],105:[2,74],106:[2,74],110:[2,74],118:[2,74],126:[2,74],129:[2,74],130:[2,74],133:[2,74],134:[2,74],135:[2,74],136:[2,74],137:[2,74],138:[2,74],139:[2,74]},{1:[2,28],6:[2,28],25:[2,28],26:[2,28],49:[2,28],54:[2,28],57:[2,28],66:[2,28],67:[2,28],68:[2,28],69:[2,28],71:[2,28],73:[2,28],74:[2,28],78:[2,28],84:[2,28],85:[2,28],86:[2,28],91:[2,28],93:[2,28],102:[2,28],104:[2,28],105:[2,28],106:[2,28],110:[2,28],118:[2,28],126:[2,28],129:[2,28],130:[2,28],133:[2,28],134:[2,28],135:[2,28],136:[2,28],137:[2,28],138:[2,28],139:[2,28]},{1:[2,29],6:[2,29],25:[2,29],26:[2,29],49:[2,29],54:[2,29],57:[2,29],66:[2,29],67:[2,29],68:[2,29],69:[2,29],71:[2,29],73:[2,29],74:[2,29],78:[2,29],84:[2,29],85:[2,29],86:[2,29],91:[2,29],93:[2,29],102:[2,29],104:[2,29],105:[2,29],106:[2,29],110:[2,29],118:[2,29],126:[2,29],129:[2,29],130:[2,29],133:[2,29],134:[2,29],135:[2,29],136:[2,29],137:[2,29],138:[2,29],139:[2,29]},{1:[2,30],6:[2,30],25:[2,30],26:[2,30],49:[2,30],54:[2,30],57:[2,30],66:[2,30],67:[2,30],68:[2,30],69:[2,30],71:[2,30],73:[2,30],74:[2,30],78:[2,30],84:[2,30],85:[2,30],86:[2,30],91:[2,30],93:[2,30],102:[2,30],104:[2,30],105:[2,30],106:[2,30],110:[2,30],118:[2,30],126:[2,30],129:[2,30],130:[2,30],133:[2,30],134:[2,30],135:[2,30],136:[2,30],137:[2,30],138:[2,30],139:[2,30]},{1:[2,31],6:[2,31],25:[2,31],26:[2,31],49:[2,31],54:[2,31],57:[2,31],66:[2,31],67:[2,31],68:[2,31],69:[2,31],71:[2,31],73:[2,31],74:[2,31],78:[2,31],84:[2,31],85:[2,31],86:[2,31],91:[2,31],93:[2,31],102:[2,31],104:[2,31],105:[2,31],106:[2,31],110:[2,31],118:[2,31],126:[2,31],129:[2,31],130:[2,31],133:[2,31],134:[2,31],135:[2,31],136:[2,31],137:[2,31],138:[2,31],139:[2,31]},{1:[2,32],6:[2,32],25:[2,32],26:[2,32],49:[2,32],54:[2,32],57:[2,32],66:[2,32],67:[2,32],68:[2,32],69:[2,32],71:[2,32],73:[2,32],74:[2,32],78:[2,32],84:[2,32],85:[2,32],86:[2,32],91:[2,32],93:[2,32],102:[2,32],104:[2,32],105:[2,32],106:[2,32],110:[2,32],118:[2,32],126:[2,32],129:[2,32],130:[2,32],133:[2,32],134:[2,32],135:[2,32],136:[2,32],137:[2,32],138:[2,32],139:[2,32]},{1:[2,33],6:[2,33],25:[2,33],26:[2,33],49:[2,33],54:[2,33],57:[2,33],66:[2,33],67:[2,33],68:[2,33],69:[2,33],71:[2,33],73:[2,33],74:[2,33],78:[2,33],84:[2,33],85:[2,33],86:[2,33],91:[2,33],93:[2,33],102:[2,33],104:[2,33],105:[2,33],106:[2,33],110:[2,33],118:[2,33],126:[2,33],129:[2,33],130:[2,33],133:[2,33],134:[2,33],135:[2,33],136:[2,33],137:[2,33],138:[2,33],139:[2,33]},{1:[2,34],6:[2,34],25:[2,34],26:[2,34],49:[2,34],54:[2,34],57:[2,34],66:[2,34],67:[2,34],68:[2,34],69:[2,34],71:[2,34],73:[2,34],74:[2,34],78:[2,34],84:[2,34],85:[2,34],86:[2,34],91:[2,34],93:[2,34],102:[2,34],104:[2,34],105:[2,34],106:[2,34],110:[2,34],118:[2,34],126:[2,34],129:[2,34],130:[2,34],133:[2,34],134:[2,34],135:[2,34],136:[2,34],137:[2,34],138:[2,34],139:[2,34]},{4:141,5:3,7:4,8:5,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,142],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:143,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,147],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,149],58:46,59:47,60:148,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],87:145,88:[1,57],89:[1,58],90:[1,56],91:[1,144],94:146,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,112],6:[2,112],25:[2,112],26:[2,112],49:[2,112],54:[2,112],57:[2,112],66:[2,112],67:[2,112],68:[2,112],69:[2,112],71:[2,112],73:[2,112],74:[2,112],78:[2,112],84:[2,112],85:[2,112],86:[2,112],91:[2,112],93:[2,112],102:[2,112],104:[2,112],105:[2,112],106:[2,112],110:[2,112],118:[2,112],126:[2,112],129:[2,112],130:[2,112],133:[2,112],134:[2,112],135:[2,112],136:[2,112],137:[2,112],138:[2,112],139:[2,112]},{1:[2,113],6:[2,113],25:[2,113],26:[2,113],27:150,28:[1,72],49:[2,113],54:[2,113],57:[2,113],66:[2,113],67:[2,113],68:[2,113],69:[2,113],71:[2,113],73:[2,113],74:[2,113],78:[2,113],84:[2,113],85:[2,113],86:[2,113],91:[2,113],93:[2,113],102:[2,113],104:[2,113],105:[2,113],106:[2,113],110:[2,113],118:[2,113],126:[2,113],129:[2,113],130:[2,113],133:[2,113],134:[2,113],135:[2,113],136:[2,113],137:[2,113],138:[2,113],139:[2,113]},{25:[2,50]},{25:[2,51]},{1:[2,68],6:[2,68],25:[2,68],26:[2,68],40:[2,68],49:[2,68],54:[2,68],57:[2,68],66:[2,68],67:[2,68],68:[2,68],69:[2,68],71:[2,68],73:[2,68],74:[2,68],78:[2,68],80:[2,68],84:[2,68],85:[2,68],86:[2,68],91:[2,68],93:[2,68],102:[2,68],104:[2,68],105:[2,68],106:[2,68],110:[2,68],118:[2,68],126:[2,68],129:[2,68],130:[2,68],131:[2,68],132:[2,68],133:[2,68],134:[2,68],135:[2,68],136:[2,68],137:[2,68],138:[2,68],139:[2,68],140:[2,68]},{1:[2,71],6:[2,71],25:[2,71],26:[2,71],40:[2,71],49:[2,71],54:[2,71],57:[2,71],66:[2,71],67:[2,71],68:[2,71],69:[2,71],71:[2,71],73:[2,71],74:[2,71],78:[2,71],80:[2,71],84:[2,71],85:[2,71],86:[2,71],91:[2,71],93:[2,71],102:[2,71],104:[2,71],105:[2,71],106:[2,71],110:[2,71],118:[2,71],126:[2,71],129:[2,71],130:[2,71],131:[2,71],132:[2,71],133:[2,71],134:[2,71],135:[2,71],136:[2,71],137:[2,71],138:[2,71],139:[2,71],140:[2,71]},{7:151,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:152,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:153,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:155,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,24:154,25:[1,115],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{27:160,28:[1,72],44:161,58:162,59:163,64:156,76:[1,69],89:[1,112],90:[1,56],113:157,114:[1,158],115:159},{112:164,116:[1,165],117:[1,166]},{6:[2,91],10:170,25:[2,91],27:171,28:[1,72],29:172,30:[1,70],31:[1,71],41:168,42:169,44:173,46:[1,45],54:[2,91],77:167,78:[2,91],89:[1,112]},{1:[2,26],6:[2,26],25:[2,26],26:[2,26],43:[2,26],49:[2,26],54:[2,26],57:[2,26],66:[2,26],67:[2,26],68:[2,26],69:[2,26],71:[2,26],73:[2,26],74:[2,26],78:[2,26],84:[2,26],85:[2,26],86:[2,26],91:[2,26],93:[2,26],102:[2,26],104:[2,26],105:[2,26],106:[2,26],110:[2,26],118:[2,26],126:[2,26],129:[2,26],130:[2,26],133:[2,26],134:[2,26],135:[2,26],136:[2,26],137:[2,26],138:[2,26],139:[2,26]},{1:[2,27],6:[2,27],25:[2,27],26:[2,27],43:[2,27],49:[2,27],54:[2,27],57:[2,27],66:[2,27],67:[2,27],68:[2,27],69:[2,27],71:[2,27],73:[2,27],74:[2,27],78:[2,27],84:[2,27],85:[2,27],86:[2,27],91:[2,27],93:[2,27],102:[2,27],104:[2,27],105:[2,27],106:[2,27],110:[2,27],118:[2,27],126:[2,27],129:[2,27],130:[2,27],133:[2,27],134:[2,27],135:[2,27],136:[2,27],137:[2,27],138:[2,27],139:[2,27]},{1:[2,25],6:[2,25],25:[2,25],26:[2,25],40:[2,25],43:[2,25],49:[2,25],54:[2,25],57:[2,25],66:[2,25],67:[2,25],68:[2,25],69:[2,25],71:[2,25],73:[2,25],74:[2,25],78:[2,25],80:[2,25],84:[2,25],85:[2,25],86:[2,25],91:[2,25],93:[2,25],102:[2,25],104:[2,25],105:[2,25],106:[2,25],110:[2,25],116:[2,25],117:[2,25],118:[2,25],126:[2,25],129:[2,25],130:[2,25],131:[2,25],132:[2,25],133:[2,25],134:[2,25],135:[2,25],136:[2,25],137:[2,25],138:[2,25],139:[2,25],140:[2,25]},{1:[2,5],5:174,6:[2,5],7:4,8:5,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,26:[2,5],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],102:[2,5],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,196],6:[2,196],25:[2,196],26:[2,196],49:[2,196],54:[2,196],57:[2,196],73:[2,196],78:[2,196],86:[2,196],91:[2,196],93:[2,196],102:[2,196],104:[2,196],105:[2,196],106:[2,196],110:[2,196],118:[2,196],126:[2,196],129:[2,196],130:[2,196],133:[2,196],134:[2,196],135:[2,196],136:[2,196],137:[2,196],138:[2,196],139:[2,196]},{7:175,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:176,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:177,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:178,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:179,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:180,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:181,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:182,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:183,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,150],6:[2,150],25:[2,150],26:[2,150],49:[2,150],54:[2,150],57:[2,150],73:[2,150],78:[2,150],86:[2,150],91:[2,150],93:[2,150],102:[2,150],104:[2,150],105:[2,150],106:[2,150],110:[2,150],118:[2,150],126:[2,150],129:[2,150],130:[2,150],133:[2,150],134:[2,150],135:[2,150],136:[2,150],137:[2,150],138:[2,150],139:[2,150]},{1:[2,155],6:[2,155],25:[2,155],26:[2,155],49:[2,155],54:[2,155],57:[2,155],73:[2,155],78:[2,155],86:[2,155],91:[2,155],93:[2,155],102:[2,155],104:[2,155],105:[2,155],106:[2,155],110:[2,155],118:[2,155],126:[2,155],129:[2,155],130:[2,155],133:[2,155],134:[2,155],135:[2,155],136:[2,155],137:[2,155],138:[2,155],139:[2,155]},{7:184,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,149],6:[2,149],25:[2,149],26:[2,149],49:[2,149],54:[2,149],57:[2,149],73:[2,149],78:[2,149],86:[2,149],91:[2,149],93:[2,149],102:[2,149],104:[2,149],105:[2,149],106:[2,149],110:[2,149],118:[2,149],126:[2,149],129:[2,149],130:[2,149],133:[2,149],134:[2,149],135:[2,149],136:[2,149],137:[2,149],138:[2,149],139:[2,149]},{1:[2,154],6:[2,154],25:[2,154],26:[2,154],49:[2,154],54:[2,154],57:[2,154],73:[2,154],78:[2,154],86:[2,154],91:[2,154],93:[2,154],102:[2,154],104:[2,154],105:[2,154],106:[2,154],110:[2,154],118:[2,154],126:[2,154],129:[2,154],130:[2,154],133:[2,154],134:[2,154],135:[2,154],136:[2,154],137:[2,154],138:[2,154],139:[2,154]},{82:185,85:[1,103]},{1:[2,69],6:[2,69],25:[2,69],26:[2,69],40:[2,69],49:[2,69],54:[2,69],57:[2,69],66:[2,69],67:[2,69],68:[2,69],69:[2,69],71:[2,69],73:[2,69],74:[2,69],78:[2,69],80:[2,69],84:[2,69],85:[2,69],86:[2,69],91:[2,69],93:[2,69],102:[2,69],104:[2,69],105:[2,69],106:[2,69],110:[2,69],118:[2,69],126:[2,69],129:[2,69],130:[2,69],131:[2,69],132:[2,69],133:[2,69],134:[2,69],135:[2,69],136:[2,69],137:[2,69],138:[2,69],139:[2,69],140:[2,69]},{85:[2,109]},{27:186,28:[1,72]},{27:187,28:[1,72]},{1:[2,84],6:[2,84],25:[2,84],26:[2,84],27:188,28:[1,72],40:[2,84],49:[2,84],54:[2,84],57:[2,84],66:[2,84],67:[2,84],68:[2,84],69:[2,84],71:[2,84],73:[2,84],74:[2,84],78:[2,84],80:[2,84],84:[2,84],85:[2,84],86:[2,84],91:[2,84],93:[2,84],102:[2,84],104:[2,84],105:[2,84],106:[2,84],110:[2,84],118:[2,84],126:[2,84],129:[2,84],130:[2,84],131:[2,84],132:[2,84],133:[2,84],134:[2,84],135:[2,84],136:[2,84],137:[2,84],138:[2,84],139:[2,84],140:[2,84]},{27:189,28:[1,72]},{1:[2,85],6:[2,85],25:[2,85],26:[2,85],40:[2,85],49:[2,85],54:[2,85],57:[2,85],66:[2,85],67:[2,85],68:[2,85],69:[2,85],71:[2,85],73:[2,85],74:[2,85],78:[2,85],80:[2,85],84:[2,85],85:[2,85],86:[2,85],91:[2,85],93:[2,85],102:[2,85],104:[2,85],105:[2,85],106:[2,85],110:[2,85],118:[2,85],126:[2,85],129:[2,85],130:[2,85],131:[2,85],132:[2,85],133:[2,85],134:[2,85],135:[2,85],136:[2,85],137:[2,85],138:[2,85],139:[2,85],140:[2,85]},{7:191,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,195],58:46,59:47,61:35,63:23,64:24,65:25,72:190,75:192,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],92:193,93:[1,194],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{70:196,71:[1,97],74:[1,98]},{82:197,85:[1,103]},{1:[2,70],6:[2,70],25:[2,70],26:[2,70],40:[2,70],49:[2,70],54:[2,70],57:[2,70],66:[2,70],67:[2,70],68:[2,70],69:[2,70],71:[2,70],73:[2,70],74:[2,70],78:[2,70],80:[2,70],84:[2,70],85:[2,70],86:[2,70],91:[2,70],93:[2,70],102:[2,70],104:[2,70],105:[2,70],106:[2,70],110:[2,70],118:[2,70],126:[2,70],129:[2,70],130:[2,70],131:[2,70],132:[2,70],133:[2,70],134:[2,70],135:[2,70],136:[2,70],137:[2,70],138:[2,70],139:[2,70],140:[2,70]},{6:[1,199],7:198,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,200],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,107],6:[2,107],25:[2,107],26:[2,107],49:[2,107],54:[2,107],57:[2,107],66:[2,107],67:[2,107],68:[2,107],69:[2,107],71:[2,107],73:[2,107],74:[2,107],78:[2,107],84:[2,107],85:[2,107],86:[2,107],91:[2,107],93:[2,107],102:[2,107],104:[2,107],105:[2,107],106:[2,107],110:[2,107],118:[2,107],126:[2,107],129:[2,107],130:[2,107],133:[2,107],134:[2,107],135:[2,107],136:[2,107],137:[2,107],138:[2,107],139:[2,107]},{7:203,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,147],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,149],58:46,59:47,60:148,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],86:[1,201],87:202,88:[1,57],89:[1,58],90:[1,56],94:146,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[2,52],25:[2,52],49:[1,204],53:206,54:[1,205]},{6:[2,55],25:[2,55],26:[2,55],49:[2,55],54:[2,55]},{6:[2,59],25:[2,59],26:[2,59],40:[1,208],49:[2,59],54:[2,59],57:[1,207]},{6:[2,62],25:[2,62],26:[2,62],49:[2,62],54:[2,62]},{6:[2,63],25:[2,63],26:[2,63],40:[2,63],49:[2,63],54:[2,63],57:[2,63]},{6:[2,64],25:[2,64],26:[2,64],40:[2,64],49:[2,64],54:[2,64],57:[2,64]},{6:[2,65],25:[2,65],26:[2,65],40:[2,65],49:[2,65],54:[2,65],57:[2,65]},{6:[2,66],25:[2,66],26:[2,66],40:[2,66],49:[2,66],54:[2,66],57:[2,66]},{27:150,28:[1,72]},{7:203,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,147],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,149],58:46,59:47,60:148,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],87:145,88:[1,57],89:[1,58],90:[1,56],91:[1,144],94:146,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,49],6:[2,49],25:[2,49],26:[2,49],49:[2,49],54:[2,49],57:[2,49],73:[2,49],78:[2,49],86:[2,49],91:[2,49],93:[2,49],102:[2,49],104:[2,49],105:[2,49],106:[2,49],110:[2,49],118:[2,49],126:[2,49],129:[2,49],130:[2,49],133:[2,49],134:[2,49],135:[2,49],136:[2,49],137:[2,49],138:[2,49],139:[2,49]},{4:210,5:3,7:4,8:5,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,26:[1,209],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,188],6:[2,188],25:[2,188],26:[2,188],49:[2,188],54:[2,188],57:[2,188],73:[2,188],78:[2,188],86:[2,188],91:[2,188],93:[2,188],102:[2,188],103:84,104:[2,188],105:[2,188],106:[2,188],109:85,110:[2,188],111:68,118:[2,188],126:[2,188],129:[2,188],130:[2,188],133:[1,74],134:[2,188],135:[2,188],136:[2,188],137:[2,188],138:[2,188],139:[2,188]},{103:87,104:[1,64],106:[1,65],109:88,110:[1,67],111:68,126:[1,86]},{1:[2,189],6:[2,189],25:[2,189],26:[2,189],49:[2,189],54:[2,189],57:[2,189],73:[2,189],78:[2,189],86:[2,189],91:[2,189],93:[2,189],102:[2,189],103:84,104:[2,189],105:[2,189],106:[2,189],109:85,110:[2,189],111:68,118:[2,189],126:[2,189],129:[2,189],130:[2,189],133:[1,74],134:[2,189],135:[1,78],136:[2,189],137:[2,189],138:[2,189],139:[2,189]},{1:[2,190],6:[2,190],25:[2,190],26:[2,190],49:[2,190],54:[2,190],57:[2,190],73:[2,190],78:[2,190],86:[2,190],91:[2,190],93:[2,190],102:[2,190],103:84,104:[2,190],105:[2,190],106:[2,190],109:85,110:[2,190],111:68,118:[2,190],126:[2,190],129:[2,190],130:[2,190],133:[1,74],134:[2,190],135:[1,78],136:[2,190],137:[2,190],138:[2,190],139:[2,190]},{1:[2,191],6:[2,191],25:[2,191],26:[2,191],49:[2,191],54:[2,191],57:[2,191],73:[2,191],78:[2,191],86:[2,191],91:[2,191],93:[2,191],102:[2,191],103:84,104:[2,191],105:[2,191],106:[2,191],109:85,110:[2,191],111:68,118:[2,191],126:[2,191],129:[2,191],130:[2,191],133:[1,74],134:[2,191],135:[1,78],136:[2,191],137:[2,191],138:[2,191],139:[2,191]},{1:[2,192],6:[2,192],25:[2,192],26:[2,192],49:[2,192],54:[2,192],57:[2,192],66:[2,72],67:[2,72],68:[2,72],69:[2,72],71:[2,72],73:[2,192],74:[2,72],78:[2,192],84:[2,72],85:[2,72],86:[2,192],91:[2,192],93:[2,192],102:[2,192],104:[2,192],105:[2,192],106:[2,192],110:[2,192],118:[2,192],126:[2,192],129:[2,192],130:[2,192],133:[2,192],134:[2,192],135:[2,192],136:[2,192],137:[2,192],138:[2,192],139:[2,192]},{62:90,66:[1,92],67:[1,93],68:[1,94],69:[1,95],70:96,71:[1,97],74:[1,98],81:89,84:[1,91],85:[2,108]},{62:100,66:[1,92],67:[1,93],68:[1,94],69:[1,95],70:96,71:[1,97],74:[1,98],81:99,84:[1,91],85:[2,108]},{66:[2,75],67:[2,75],68:[2,75],69:[2,75],71:[2,75],74:[2,75],84:[2,75],85:[2,75]},{1:[2,193],6:[2,193],25:[2,193],26:[2,193],49:[2,193],54:[2,193],57:[2,193],66:[2,72],67:[2,72],68:[2,72],69:[2,72],71:[2,72],73:[2,193],74:[2,72],78:[2,193],84:[2,72],85:[2,72],86:[2,193],91:[2,193],93:[2,193],102:[2,193],104:[2,193],105:[2,193],106:[2,193],110:[2,193],118:[2,193],126:[2,193],129:[2,193],130:[2,193],133:[2,193],134:[2,193],135:[2,193],136:[2,193],137:[2,193],138:[2,193],139:[2,193]},{1:[2,194],6:[2,194],25:[2,194],26:[2,194],49:[2,194],54:[2,194],57:[2,194],73:[2,194],78:[2,194],86:[2,194],91:[2,194],93:[2,194],102:[2,194],104:[2,194],105:[2,194],106:[2,194],110:[2,194],118:[2,194],126:[2,194],129:[2,194],130:[2,194],133:[2,194],134:[2,194],135:[2,194],136:[2,194],137:[2,194],138:[2,194],139:[2,194]},{1:[2,195],6:[2,195],25:[2,195],26:[2,195],49:[2,195],54:[2,195],57:[2,195],73:[2,195],78:[2,195],86:[2,195],91:[2,195],93:[2,195],102:[2,195],104:[2,195],105:[2,195],106:[2,195],110:[2,195],118:[2,195],126:[2,195],129:[2,195],130:[2,195],133:[2,195],134:[2,195],135:[2,195],136:[2,195],137:[2,195],138:[2,195],139:[2,195]},{6:[1,213],7:211,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,212],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:214,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{24:215,25:[1,115],125:[1,216]},{1:[2,134],6:[2,134],25:[2,134],26:[2,134],49:[2,134],54:[2,134],57:[2,134],73:[2,134],78:[2,134],86:[2,134],91:[2,134],93:[2,134],97:217,98:[1,218],99:[1,219],102:[2,134],104:[2,134],105:[2,134],106:[2,134],110:[2,134],118:[2,134],126:[2,134],129:[2,134],130:[2,134],133:[2,134],134:[2,134],135:[2,134],136:[2,134],137:[2,134],138:[2,134],139:[2,134]},{1:[2,148],6:[2,148],25:[2,148],26:[2,148],49:[2,148],54:[2,148],57:[2,148],73:[2,148],78:[2,148],86:[2,148],91:[2,148],93:[2,148],102:[2,148],104:[2,148],105:[2,148],106:[2,148],110:[2,148],118:[2,148],126:[2,148],129:[2,148],130:[2,148],133:[2,148],134:[2,148],135:[2,148],136:[2,148],137:[2,148],138:[2,148],139:[2,148]},{1:[2,156],6:[2,156],25:[2,156],26:[2,156],49:[2,156],54:[2,156],57:[2,156],73:[2,156],78:[2,156],86:[2,156],91:[2,156],93:[2,156],102:[2,156],104:[2,156],105:[2,156],106:[2,156],110:[2,156],118:[2,156],126:[2,156],129:[2,156],130:[2,156],133:[2,156],134:[2,156],135:[2,156],136:[2,156],137:[2,156],138:[2,156],139:[2,156]},{25:[1,220],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{120:221,122:222,123:[1,223]},{1:[2,97],6:[2,97],25:[2,97],26:[2,97],49:[2,97],54:[2,97],57:[2,97],73:[2,97],78:[2,97],86:[2,97],91:[2,97],93:[2,97],102:[2,97],104:[2,97],105:[2,97],106:[2,97],110:[2,97],118:[2,97],126:[2,97],129:[2,97],130:[2,97],133:[2,97],134:[2,97],135:[2,97],136:[2,97],137:[2,97],138:[2,97],139:[2,97]},{7:224,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,100],6:[2,100],24:225,25:[1,115],26:[2,100],49:[2,100],54:[2,100],57:[2,100],66:[2,72],67:[2,72],68:[2,72],69:[2,72],71:[2,72],73:[2,100],74:[2,72],78:[2,100],80:[1,226],84:[2,72],85:[2,72],86:[2,100],91:[2,100],93:[2,100],102:[2,100],104:[2,100],105:[2,100],106:[2,100],110:[2,100],118:[2,100],126:[2,100],129:[2,100],130:[2,100],133:[2,100],134:[2,100],135:[2,100],136:[2,100],137:[2,100],138:[2,100],139:[2,100]},{1:[2,141],6:[2,141],25:[2,141],26:[2,141],49:[2,141],54:[2,141],57:[2,141],73:[2,141],78:[2,141],86:[2,141],91:[2,141],93:[2,141],102:[2,141],103:84,104:[2,141],105:[2,141],106:[2,141],109:85,110:[2,141],111:68,118:[2,141],126:[2,141],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,45],6:[2,45],26:[2,45],102:[2,45],103:84,104:[2,45],106:[2,45],109:85,110:[2,45],111:68,126:[2,45],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{6:[1,73],102:[1,227]},{4:228,5:3,7:4,8:5,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[2,129],25:[2,129],54:[2,129],57:[1,230],91:[2,129],92:229,93:[1,194],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,115],6:[2,115],25:[2,115],26:[2,115],40:[2,115],49:[2,115],54:[2,115],57:[2,115],66:[2,115],67:[2,115],68:[2,115],69:[2,115],71:[2,115],73:[2,115],74:[2,115],78:[2,115],84:[2,115],85:[2,115],86:[2,115],91:[2,115],93:[2,115],102:[2,115],104:[2,115],105:[2,115],106:[2,115],110:[2,115],116:[2,115],117:[2,115],118:[2,115],126:[2,115],129:[2,115],130:[2,115],133:[2,115],134:[2,115],135:[2,115],136:[2,115],137:[2,115],138:[2,115],139:[2,115]},{6:[2,52],25:[2,52],53:231,54:[1,232],91:[2,52]},{6:[2,124],25:[2,124],26:[2,124],54:[2,124],86:[2,124],91:[2,124]},{7:203,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,147],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,149],58:46,59:47,60:148,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],87:233,88:[1,57],89:[1,58],90:[1,56],94:146,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[2,130],25:[2,130],26:[2,130],54:[2,130],86:[2,130],91:[2,130]},{6:[2,131],25:[2,131],26:[2,131],54:[2,131],86:[2,131],91:[2,131]},{1:[2,114],6:[2,114],25:[2,114],26:[2,114],40:[2,114],43:[2,114],49:[2,114],54:[2,114],57:[2,114],66:[2,114],67:[2,114],68:[2,114],69:[2,114],71:[2,114],73:[2,114],74:[2,114],78:[2,114],80:[2,114],84:[2,114],85:[2,114],86:[2,114],91:[2,114],93:[2,114],102:[2,114],104:[2,114],105:[2,114],106:[2,114],110:[2,114],116:[2,114],117:[2,114],118:[2,114],126:[2,114],129:[2,114],130:[2,114],131:[2,114],132:[2,114],133:[2,114],134:[2,114],135:[2,114],136:[2,114],137:[2,114],138:[2,114],139:[2,114],140:[2,114]},{24:234,25:[1,115],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,144],6:[2,144],25:[2,144],26:[2,144],49:[2,144],54:[2,144],57:[2,144],73:[2,144],78:[2,144],86:[2,144],91:[2,144],93:[2,144],102:[2,144],103:84,104:[1,64],105:[1,235],106:[1,65],109:85,110:[1,67],111:68,118:[2,144],126:[2,144],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,146],6:[2,146],25:[2,146],26:[2,146],49:[2,146],54:[2,146],57:[2,146],73:[2,146],78:[2,146],86:[2,146],91:[2,146],93:[2,146],102:[2,146],103:84,104:[1,64],105:[1,236],106:[1,65],109:85,110:[1,67],111:68,118:[2,146],126:[2,146],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,152],6:[2,152],25:[2,152],26:[2,152],49:[2,152],54:[2,152],57:[2,152],73:[2,152],78:[2,152],86:[2,152],91:[2,152],93:[2,152],102:[2,152],104:[2,152],105:[2,152],106:[2,152],110:[2,152],118:[2,152],126:[2,152],129:[2,152],130:[2,152],133:[2,152],134:[2,152],135:[2,152],136:[2,152],137:[2,152],138:[2,152],139:[2,152]},{1:[2,153],6:[2,153],25:[2,153],26:[2,153],49:[2,153],54:[2,153],57:[2,153],73:[2,153],78:[2,153],86:[2,153],91:[2,153],93:[2,153],102:[2,153],103:84,104:[1,64],105:[2,153],106:[1,65],109:85,110:[1,67],111:68,118:[2,153],126:[2,153],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,157],6:[2,157],25:[2,157],26:[2,157],49:[2,157],54:[2,157],57:[2,157],73:[2,157],78:[2,157],86:[2,157],91:[2,157],93:[2,157],102:[2,157],104:[2,157],105:[2,157],106:[2,157],110:[2,157],118:[2,157],126:[2,157],129:[2,157],130:[2,157],133:[2,157],134:[2,157],135:[2,157],136:[2,157],137:[2,157],138:[2,157],139:[2,157]},{116:[2,159],117:[2,159]},{27:160,28:[1,72],44:161,58:162,59:163,76:[1,69],89:[1,112],90:[1,113],113:237,115:159},{54:[1,238],116:[2,165],117:[2,165]},{54:[2,161],116:[2,161],117:[2,161]},{54:[2,162],116:[2,162],117:[2,162]},{54:[2,163],116:[2,163],117:[2,163]},{54:[2,164],116:[2,164],117:[2,164]},{1:[2,158],6:[2,158],25:[2,158],26:[2,158],49:[2,158],54:[2,158],57:[2,158],73:[2,158],78:[2,158],86:[2,158],91:[2,158],93:[2,158],102:[2,158],104:[2,158],105:[2,158],106:[2,158],110:[2,158],118:[2,158],126:[2,158],129:[2,158],130:[2,158],133:[2,158],134:[2,158],135:[2,158],136:[2,158],137:[2,158],138:[2,158],139:[2,158]},{7:239,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:240,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[2,52],25:[2,52],53:241,54:[1,242],78:[2,52]},{6:[2,92],25:[2,92],26:[2,92],54:[2,92],78:[2,92]},{6:[2,38],25:[2,38],26:[2,38],43:[1,243],54:[2,38],78:[2,38]},{6:[2,41],25:[2,41],26:[2,41],54:[2,41],78:[2,41]},{6:[2,42],25:[2,42],26:[2,42],43:[2,42],54:[2,42],78:[2,42]},{6:[2,43],25:[2,43],26:[2,43],43:[2,43],54:[2,43],78:[2,43]},{6:[2,44],25:[2,44],26:[2,44],43:[2,44],54:[2,44],78:[2,44]},{1:[2,4],6:[2,4],26:[2,4],102:[2,4]},{1:[2,197],6:[2,197],25:[2,197],26:[2,197],49:[2,197],54:[2,197],57:[2,197],73:[2,197],78:[2,197],86:[2,197],91:[2,197],93:[2,197],102:[2,197],103:84,104:[2,197],105:[2,197],106:[2,197],109:85,110:[2,197],111:68,118:[2,197],126:[2,197],129:[2,197],130:[2,197],133:[1,74],134:[1,77],135:[1,78],136:[2,197],137:[2,197],138:[2,197],139:[2,197]},{1:[2,198],6:[2,198],25:[2,198],26:[2,198],49:[2,198],54:[2,198],57:[2,198],73:[2,198],78:[2,198],86:[2,198],91:[2,198],93:[2,198],102:[2,198],103:84,104:[2,198],105:[2,198],106:[2,198],109:85,110:[2,198],111:68,118:[2,198],126:[2,198],129:[2,198],130:[2,198],133:[1,74],134:[1,77],135:[1,78],136:[2,198],137:[2,198],138:[2,198],139:[2,198]},{1:[2,199],6:[2,199],25:[2,199],26:[2,199],49:[2,199],54:[2,199],57:[2,199],73:[2,199],78:[2,199],86:[2,199],91:[2,199],93:[2,199],102:[2,199],103:84,104:[2,199],105:[2,199],106:[2,199],109:85,110:[2,199],111:68,118:[2,199],126:[2,199],129:[2,199],130:[2,199],133:[1,74],134:[2,199],135:[1,78],136:[2,199],137:[2,199],138:[2,199],139:[2,199]},{1:[2,200],6:[2,200],25:[2,200],26:[2,200],49:[2,200],54:[2,200],57:[2,200],73:[2,200],78:[2,200],86:[2,200],91:[2,200],93:[2,200],102:[2,200],103:84,104:[2,200],105:[2,200],106:[2,200],109:85,110:[2,200],111:68,118:[2,200],126:[2,200],129:[2,200],130:[2,200],133:[1,74],134:[2,200],135:[1,78],136:[2,200],137:[2,200],138:[2,200],139:[2,200]},{1:[2,201],6:[2,201],25:[2,201],26:[2,201],49:[2,201],54:[2,201],57:[2,201],73:[2,201],78:[2,201],86:[2,201],91:[2,201],93:[2,201],102:[2,201],103:84,104:[2,201],105:[2,201],106:[2,201],109:85,110:[2,201],111:68,118:[2,201],126:[2,201],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[2,201],137:[2,201],138:[2,201],139:[2,201]},{1:[2,202],6:[2,202],25:[2,202],26:[2,202],49:[2,202],54:[2,202],57:[2,202],73:[2,202],78:[2,202],86:[2,202],91:[2,202],93:[2,202],102:[2,202],103:84,104:[2,202],105:[2,202],106:[2,202],109:85,110:[2,202],111:68,118:[2,202],126:[2,202],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[2,202],138:[2,202],139:[1,82]},{1:[2,203],6:[2,203],25:[2,203],26:[2,203],49:[2,203],54:[2,203],57:[2,203],73:[2,203],78:[2,203],86:[2,203],91:[2,203],93:[2,203],102:[2,203],103:84,104:[2,203],105:[2,203],106:[2,203],109:85,110:[2,203],111:68,118:[2,203],126:[2,203],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[2,203],139:[1,82]},{1:[2,204],6:[2,204],25:[2,204],26:[2,204],49:[2,204],54:[2,204],57:[2,204],73:[2,204],78:[2,204],86:[2,204],91:[2,204],93:[2,204],102:[2,204],103:84,104:[2,204],105:[2,204],106:[2,204],109:85,110:[2,204],111:68,118:[2,204],126:[2,204],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[2,204],138:[2,204],139:[2,204]},{1:[2,187],6:[2,187],25:[2,187],26:[2,187],49:[2,187],54:[2,187],57:[2,187],73:[2,187],78:[2,187],86:[2,187],91:[2,187],93:[2,187],102:[2,187],103:84,104:[1,64],105:[2,187],106:[1,65],109:85,110:[1,67],111:68,118:[2,187],126:[2,187],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,186],6:[2,186],25:[2,186],26:[2,186],49:[2,186],54:[2,186],57:[2,186],73:[2,186],78:[2,186],86:[2,186],91:[2,186],93:[2,186],102:[2,186],103:84,104:[1,64],105:[2,186],106:[1,65],109:85,110:[1,67],111:68,118:[2,186],126:[2,186],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,104],6:[2,104],25:[2,104],26:[2,104],49:[2,104],54:[2,104],57:[2,104],66:[2,104],67:[2,104],68:[2,104],69:[2,104],71:[2,104],73:[2,104],74:[2,104],78:[2,104],84:[2,104],85:[2,104],86:[2,104],91:[2,104],93:[2,104],102:[2,104],104:[2,104],105:[2,104],106:[2,104],110:[2,104],118:[2,104],126:[2,104],129:[2,104],130:[2,104],133:[2,104],134:[2,104],135:[2,104],136:[2,104],137:[2,104],138:[2,104],139:[2,104]},{1:[2,80],6:[2,80],25:[2,80],26:[2,80],40:[2,80],49:[2,80],54:[2,80],57:[2,80],66:[2,80],67:[2,80],68:[2,80],69:[2,80],71:[2,80],73:[2,80],74:[2,80],78:[2,80],80:[2,80],84:[2,80],85:[2,80],86:[2,80],91:[2,80],93:[2,80],102:[2,80],104:[2,80],105:[2,80],106:[2,80],110:[2,80],118:[2,80],126:[2,80],129:[2,80],130:[2,80],131:[2,80],132:[2,80],133:[2,80],134:[2,80],135:[2,80],136:[2,80],137:[2,80],138:[2,80],139:[2,80],140:[2,80]},{1:[2,81],6:[2,81],25:[2,81],26:[2,81],40:[2,81],49:[2,81],54:[2,81],57:[2,81],66:[2,81],67:[2,81],68:[2,81],69:[2,81],71:[2,81],73:[2,81],74:[2,81],78:[2,81],80:[2,81],84:[2,81],85:[2,81],86:[2,81],91:[2,81],93:[2,81],102:[2,81],104:[2,81],105:[2,81],106:[2,81],110:[2,81],118:[2,81],126:[2,81],129:[2,81],130:[2,81],131:[2,81],132:[2,81],133:[2,81],134:[2,81],135:[2,81],136:[2,81],137:[2,81],138:[2,81],139:[2,81],140:[2,81]},{1:[2,82],6:[2,82],25:[2,82],26:[2,82],40:[2,82],49:[2,82],54:[2,82],57:[2,82],66:[2,82],67:[2,82],68:[2,82],69:[2,82],71:[2,82],73:[2,82],74:[2,82],78:[2,82],80:[2,82],84:[2,82],85:[2,82],86:[2,82],91:[2,82],93:[2,82],102:[2,82],104:[2,82],105:[2,82],106:[2,82],110:[2,82],118:[2,82],126:[2,82],129:[2,82],130:[2,82],131:[2,82],132:[2,82],133:[2,82],134:[2,82],135:[2,82],136:[2,82],137:[2,82],138:[2,82],139:[2,82],140:[2,82]},{1:[2,83],6:[2,83],25:[2,83],26:[2,83],40:[2,83],49:[2,83],54:[2,83],57:[2,83],66:[2,83],67:[2,83],68:[2,83],69:[2,83],71:[2,83],73:[2,83],74:[2,83],78:[2,83],80:[2,83],84:[2,83],85:[2,83],86:[2,83],91:[2,83],93:[2,83],102:[2,83],104:[2,83],105:[2,83],106:[2,83],110:[2,83],118:[2,83],126:[2,83],129:[2,83],130:[2,83],131:[2,83],132:[2,83],133:[2,83],134:[2,83],135:[2,83],136:[2,83],137:[2,83],138:[2,83],139:[2,83],140:[2,83]},{73:[1,244]},{57:[1,195],73:[2,88],92:245,93:[1,194],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{73:[2,89]},{7:246,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,73:[2,123],76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{11:[2,117],28:[2,117],30:[2,117],31:[2,117],33:[2,117],34:[2,117],35:[2,117],36:[2,117],37:[2,117],38:[2,117],45:[2,117],46:[2,117],47:[2,117],51:[2,117],52:[2,117],73:[2,117],76:[2,117],79:[2,117],83:[2,117],88:[2,117],89:[2,117],90:[2,117],96:[2,117],100:[2,117],101:[2,117],104:[2,117],106:[2,117],108:[2,117],110:[2,117],119:[2,117],125:[2,117],127:[2,117],128:[2,117],129:[2,117],130:[2,117],131:[2,117],132:[2,117]},{11:[2,118],28:[2,118],30:[2,118],31:[2,118],33:[2,118],34:[2,118],35:[2,118],36:[2,118],37:[2,118],38:[2,118],45:[2,118],46:[2,118],47:[2,118],51:[2,118],52:[2,118],73:[2,118],76:[2,118],79:[2,118],83:[2,118],88:[2,118],89:[2,118],90:[2,118],96:[2,118],100:[2,118],101:[2,118],104:[2,118],106:[2,118],108:[2,118],110:[2,118],119:[2,118],125:[2,118],127:[2,118],128:[2,118],129:[2,118],130:[2,118],131:[2,118],132:[2,118]},{1:[2,87],6:[2,87],25:[2,87],26:[2,87],40:[2,87],49:[2,87],54:[2,87],57:[2,87],66:[2,87],67:[2,87],68:[2,87],69:[2,87],71:[2,87],73:[2,87],74:[2,87],78:[2,87],80:[2,87],84:[2,87],85:[2,87],86:[2,87],91:[2,87],93:[2,87],102:[2,87],104:[2,87],105:[2,87],106:[2,87],110:[2,87],118:[2,87],126:[2,87],129:[2,87],130:[2,87],131:[2,87],132:[2,87],133:[2,87],134:[2,87],135:[2,87],136:[2,87],137:[2,87],138:[2,87],139:[2,87],140:[2,87]},{1:[2,105],6:[2,105],25:[2,105],26:[2,105],49:[2,105],54:[2,105],57:[2,105],66:[2,105],67:[2,105],68:[2,105],69:[2,105],71:[2,105],73:[2,105],74:[2,105],78:[2,105],84:[2,105],85:[2,105],86:[2,105],91:[2,105],93:[2,105],102:[2,105],104:[2,105],105:[2,105],106:[2,105],110:[2,105],118:[2,105],126:[2,105],129:[2,105],130:[2,105],133:[2,105],134:[2,105],135:[2,105],136:[2,105],137:[2,105],138:[2,105],139:[2,105]},{1:[2,35],6:[2,35],25:[2,35],26:[2,35],49:[2,35],54:[2,35],57:[2,35],73:[2,35],78:[2,35],86:[2,35],91:[2,35],93:[2,35],102:[2,35],103:84,104:[2,35],105:[2,35],106:[2,35],109:85,110:[2,35],111:68,118:[2,35],126:[2,35],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{7:247,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:248,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,110],6:[2,110],25:[2,110],26:[2,110],49:[2,110],54:[2,110],57:[2,110],66:[2,110],67:[2,110],68:[2,110],69:[2,110],71:[2,110],73:[2,110],74:[2,110],78:[2,110],84:[2,110],85:[2,110],86:[2,110],91:[2,110],93:[2,110],102:[2,110],104:[2,110],105:[2,110],106:[2,110],110:[2,110],118:[2,110],126:[2,110],129:[2,110],130:[2,110],133:[2,110],134:[2,110],135:[2,110],136:[2,110],137:[2,110],138:[2,110],139:[2,110]},{6:[2,52],25:[2,52],53:249,54:[1,232],86:[2,52]},{6:[2,129],25:[2,129],26:[2,129],54:[2,129],57:[1,250],86:[2,129],91:[2,129],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{50:251,51:[1,59],52:[1,60]},{6:[2,53],25:[2,53],26:[2,53],27:108,28:[1,72],44:109,55:252,56:106,57:[1,107],58:110,59:111,76:[1,69],89:[1,112],90:[1,113]},{6:[1,253],25:[1,254]},{6:[2,60],25:[2,60],26:[2,60],49:[2,60],54:[2,60]},{7:255,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,23],6:[2,23],25:[2,23],26:[2,23],49:[2,23],54:[2,23],57:[2,23],73:[2,23],78:[2,23],86:[2,23],91:[2,23],93:[2,23],98:[2,23],99:[2,23],102:[2,23],104:[2,23],105:[2,23],106:[2,23],110:[2,23],118:[2,23],121:[2,23],123:[2,23],126:[2,23],129:[2,23],130:[2,23],133:[2,23],134:[2,23],135:[2,23],136:[2,23],137:[2,23],138:[2,23],139:[2,23]},{6:[1,73],26:[1,256]},{1:[2,205],6:[2,205],25:[2,205],26:[2,205],49:[2,205],54:[2,205],57:[2,205],73:[2,205],78:[2,205],86:[2,205],91:[2,205],93:[2,205],102:[2,205],103:84,104:[2,205],105:[2,205],106:[2,205],109:85,110:[2,205],111:68,118:[2,205],126:[2,205],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{7:257,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:258,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,208],6:[2,208],25:[2,208],26:[2,208],49:[2,208],54:[2,208],57:[2,208],73:[2,208],78:[2,208],86:[2,208],91:[2,208],93:[2,208],102:[2,208],103:84,104:[2,208],105:[2,208],106:[2,208],109:85,110:[2,208],111:68,118:[2,208],126:[2,208],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,185],6:[2,185],25:[2,185],26:[2,185],49:[2,185],54:[2,185],57:[2,185],73:[2,185],78:[2,185],86:[2,185],91:[2,185],93:[2,185],102:[2,185],104:[2,185],105:[2,185],106:[2,185],110:[2,185],118:[2,185],126:[2,185],129:[2,185],130:[2,185],133:[2,185],134:[2,185],135:[2,185],136:[2,185],137:[2,185],138:[2,185],139:[2,185]},{7:259,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,135],6:[2,135],25:[2,135],26:[2,135],49:[2,135],54:[2,135],57:[2,135],73:[2,135],78:[2,135],86:[2,135],91:[2,135],93:[2,135],98:[1,260],102:[2,135],104:[2,135],105:[2,135],106:[2,135],110:[2,135],118:[2,135],126:[2,135],129:[2,135],130:[2,135],133:[2,135],134:[2,135],135:[2,135],136:[2,135],137:[2,135],138:[2,135],139:[2,135]},{24:261,25:[1,115]},{24:264,25:[1,115],27:262,28:[1,72],59:263,76:[1,69]},{120:265,122:222,123:[1,223]},{26:[1,266],121:[1,267],122:268,123:[1,223]},{26:[2,178],121:[2,178],123:[2,178]},{7:270,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],95:269,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,98],6:[2,98],24:271,25:[1,115],26:[2,98],49:[2,98],54:[2,98],57:[2,98],73:[2,98],78:[2,98],86:[2,98],91:[2,98],93:[2,98],102:[2,98],103:84,104:[1,64],105:[2,98],106:[1,65],109:85,110:[1,67],111:68,118:[2,98],126:[2,98],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,101],6:[2,101],25:[2,101],26:[2,101],49:[2,101],54:[2,101],57:[2,101],73:[2,101],78:[2,101],86:[2,101],91:[2,101],93:[2,101],102:[2,101],104:[2,101],105:[2,101],106:[2,101],110:[2,101],118:[2,101],126:[2,101],129:[2,101],130:[2,101],133:[2,101],134:[2,101],135:[2,101],136:[2,101],137:[2,101],138:[2,101],139:[2,101]},{7:272,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,142],6:[2,142],25:[2,142],26:[2,142],49:[2,142],54:[2,142],57:[2,142],66:[2,142],67:[2,142],68:[2,142],69:[2,142],71:[2,142],73:[2,142],74:[2,142],78:[2,142],84:[2,142],85:[2,142],86:[2,142],91:[2,142],93:[2,142],102:[2,142],104:[2,142],105:[2,142],106:[2,142],110:[2,142],118:[2,142],126:[2,142],129:[2,142],130:[2,142],133:[2,142],134:[2,142],135:[2,142],136:[2,142],137:[2,142],138:[2,142],139:[2,142]},{6:[1,73],26:[1,273]},{7:274,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[2,67],11:[2,118],25:[2,67],28:[2,118],30:[2,118],31:[2,118],33:[2,118],34:[2,118],35:[2,118],36:[2,118],37:[2,118],38:[2,118],45:[2,118],46:[2,118],47:[2,118],51:[2,118],52:[2,118],54:[2,67],76:[2,118],79:[2,118],83:[2,118],88:[2,118],89:[2,118],90:[2,118],91:[2,67],96:[2,118],100:[2,118],101:[2,118],104:[2,118],106:[2,118],108:[2,118],110:[2,118],119:[2,118],125:[2,118],127:[2,118],128:[2,118],129:[2,118],130:[2,118],131:[2,118],132:[2,118]},{6:[1,276],25:[1,277],91:[1,275]},{6:[2,53],7:203,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[2,53],26:[2,53],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,149],58:46,59:47,60:148,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],86:[2,53],88:[1,57],89:[1,58],90:[1,56],91:[2,53],94:278,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[2,52],25:[2,52],26:[2,52],53:279,54:[1,232]},{1:[2,182],6:[2,182],25:[2,182],26:[2,182],49:[2,182],54:[2,182],57:[2,182],73:[2,182],78:[2,182],86:[2,182],91:[2,182],93:[2,182],102:[2,182],104:[2,182],105:[2,182],106:[2,182],110:[2,182],118:[2,182],121:[2,182],126:[2,182],129:[2,182],130:[2,182],133:[2,182],134:[2,182],135:[2,182],136:[2,182],137:[2,182],138:[2,182],139:[2,182]},{7:280,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:281,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{116:[2,160],117:[2,160]},{27:160,28:[1,72],44:161,58:162,59:163,76:[1,69],89:[1,112],90:[1,113],115:282},{1:[2,167],6:[2,167],25:[2,167],26:[2,167],49:[2,167],54:[2,167],57:[2,167],73:[2,167],78:[2,167],86:[2,167],91:[2,167],93:[2,167],102:[2,167],103:84,104:[2,167],105:[1,283],106:[2,167],109:85,110:[2,167],111:68,118:[1,284],126:[2,167],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,168],6:[2,168],25:[2,168],26:[2,168],49:[2,168],54:[2,168],57:[2,168],73:[2,168],78:[2,168],86:[2,168],91:[2,168],93:[2,168],102:[2,168],103:84,104:[2,168],105:[1,285],106:[2,168],109:85,110:[2,168],111:68,118:[2,168],126:[2,168],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{6:[1,287],25:[1,288],78:[1,286]},{6:[2,53],10:170,25:[2,53],26:[2,53],27:171,28:[1,72],29:172,30:[1,70],31:[1,71],41:289,42:169,44:173,46:[1,45],78:[2,53],89:[1,112]},{7:290,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,291],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,86],6:[2,86],25:[2,86],26:[2,86],40:[2,86],49:[2,86],54:[2,86],57:[2,86],66:[2,86],67:[2,86],68:[2,86],69:[2,86],71:[2,86],73:[2,86],74:[2,86],78:[2,86],80:[2,86],84:[2,86],85:[2,86],86:[2,86],91:[2,86],93:[2,86],102:[2,86],104:[2,86],105:[2,86],106:[2,86],110:[2,86],118:[2,86],126:[2,86],129:[2,86],130:[2,86],131:[2,86],132:[2,86],133:[2,86],134:[2,86],135:[2,86],136:[2,86],137:[2,86],138:[2,86],139:[2,86],140:[2,86]},{7:292,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,73:[2,121],76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{73:[2,122],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,36],6:[2,36],25:[2,36],26:[2,36],49:[2,36],54:[2,36],57:[2,36],73:[2,36],78:[2,36],86:[2,36],91:[2,36],93:[2,36],102:[2,36],103:84,104:[2,36],105:[2,36],106:[2,36],109:85,110:[2,36],111:68,118:[2,36],126:[2,36],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{26:[1,293],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{6:[1,276],25:[1,277],86:[1,294]},{6:[2,67],25:[2,67],26:[2,67],54:[2,67],86:[2,67],91:[2,67]},{24:295,25:[1,115]},{6:[2,56],25:[2,56],26:[2,56],49:[2,56],54:[2,56]},{27:108,28:[1,72],44:109,55:296,56:106,57:[1,107],58:110,59:111,76:[1,69],89:[1,112],90:[1,113]},{6:[2,54],25:[2,54],26:[2,54],27:108,28:[1,72],44:109,48:297,54:[2,54],55:105,56:106,57:[1,107],58:110,59:111,76:[1,69],89:[1,112],90:[1,113]},{6:[2,61],25:[2,61],26:[2,61],49:[2,61],54:[2,61],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,24],6:[2,24],25:[2,24],26:[2,24],49:[2,24],54:[2,24],57:[2,24],73:[2,24],78:[2,24],86:[2,24],91:[2,24],93:[2,24],98:[2,24],99:[2,24],102:[2,24],104:[2,24],105:[2,24],106:[2,24],110:[2,24],118:[2,24],121:[2,24],123:[2,24],126:[2,24],129:[2,24],130:[2,24],133:[2,24],134:[2,24],135:[2,24],136:[2,24],137:[2,24],138:[2,24],139:[2,24]},{26:[1,298],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,207],6:[2,207],25:[2,207],26:[2,207],49:[2,207],54:[2,207],57:[2,207],73:[2,207],78:[2,207],86:[2,207],91:[2,207],93:[2,207],102:[2,207],103:84,104:[2,207],105:[2,207],106:[2,207],109:85,110:[2,207],111:68,118:[2,207],126:[2,207],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{24:299,25:[1,115],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{24:300,25:[1,115]},{1:[2,136],6:[2,136],25:[2,136],26:[2,136],49:[2,136],54:[2,136],57:[2,136],73:[2,136],78:[2,136],86:[2,136],91:[2,136],93:[2,136],102:[2,136],104:[2,136],105:[2,136],106:[2,136],110:[2,136],118:[2,136],126:[2,136],129:[2,136],130:[2,136],133:[2,136],134:[2,136],135:[2,136],136:[2,136],137:[2,136],138:[2,136],139:[2,136]},{24:301,25:[1,115]},{24:302,25:[1,115]},{1:[2,140],6:[2,140],25:[2,140],26:[2,140],49:[2,140],54:[2,140],57:[2,140],73:[2,140],78:[2,140],86:[2,140],91:[2,140],93:[2,140],98:[2,140],102:[2,140],104:[2,140],105:[2,140],106:[2,140],110:[2,140],118:[2,140],126:[2,140],129:[2,140],130:[2,140],133:[2,140],134:[2,140],135:[2,140],136:[2,140],137:[2,140],138:[2,140],139:[2,140]},{26:[1,303],121:[1,304],122:268,123:[1,223]},{1:[2,176],6:[2,176],25:[2,176],26:[2,176],49:[2,176],54:[2,176],57:[2,176],73:[2,176],78:[2,176],86:[2,176],91:[2,176],93:[2,176],102:[2,176],104:[2,176],105:[2,176],106:[2,176],110:[2,176],118:[2,176],126:[2,176],129:[2,176],130:[2,176],133:[2,176],134:[2,176],135:[2,176],136:[2,176],137:[2,176],138:[2,176],139:[2,176]},{24:305,25:[1,115]},{26:[2,179],121:[2,179],123:[2,179]},{24:306,25:[1,115],54:[1,307]},{25:[2,132],54:[2,132],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,99],6:[2,99],25:[2,99],26:[2,99],49:[2,99],54:[2,99],57:[2,99],73:[2,99],78:[2,99],86:[2,99],91:[2,99],93:[2,99],102:[2,99],104:[2,99],105:[2,99],106:[2,99],110:[2,99],118:[2,99],126:[2,99],129:[2,99],130:[2,99],133:[2,99],134:[2,99],135:[2,99],136:[2,99],137:[2,99],138:[2,99],139:[2,99]},{1:[2,102],6:[2,102],24:308,25:[1,115],26:[2,102],49:[2,102],54:[2,102],57:[2,102],73:[2,102],78:[2,102],86:[2,102],91:[2,102],93:[2,102],102:[2,102],103:84,104:[1,64],105:[2,102],106:[1,65],109:85,110:[1,67],111:68,118:[2,102],126:[2,102],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{102:[1,309]},{91:[1,310],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,116],6:[2,116],25:[2,116],26:[2,116],40:[2,116],49:[2,116],54:[2,116],57:[2,116],66:[2,116],67:[2,116],68:[2,116],69:[2,116],71:[2,116],73:[2,116],74:[2,116],78:[2,116],84:[2,116],85:[2,116],86:[2,116],91:[2,116],93:[2,116],102:[2,116],104:[2,116],105:[2,116],106:[2,116],110:[2,116],116:[2,116],117:[2,116],118:[2,116],126:[2,116],129:[2,116],130:[2,116],133:[2,116],134:[2,116],135:[2,116],136:[2,116],137:[2,116],138:[2,116],139:[2,116]},{7:203,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,149],58:46,59:47,60:148,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],94:311,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:203,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,147],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,149],58:46,59:47,60:148,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],87:312,88:[1,57],89:[1,58],90:[1,56],94:146,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[2,125],25:[2,125],26:[2,125],54:[2,125],86:[2,125],91:[2,125]},{6:[1,276],25:[1,277],26:[1,313]},{1:[2,145],6:[2,145],25:[2,145],26:[2,145],49:[2,145],54:[2,145],57:[2,145],73:[2,145],78:[2,145],86:[2,145],91:[2,145],93:[2,145],102:[2,145],103:84,104:[1,64],105:[2,145],106:[1,65],109:85,110:[1,67],111:68,118:[2,145],126:[2,145],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,147],6:[2,147],25:[2,147],26:[2,147],49:[2,147],54:[2,147],57:[2,147],73:[2,147],78:[2,147],86:[2,147],91:[2,147],93:[2,147],102:[2,147],103:84,104:[1,64],105:[2,147],106:[1,65],109:85,110:[1,67],111:68,118:[2,147],126:[2,147],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{116:[2,166],117:[2,166]},{7:314,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:315,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:316,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,90],6:[2,90],25:[2,90],26:[2,90],40:[2,90],49:[2,90],54:[2,90],57:[2,90],66:[2,90],67:[2,90],68:[2,90],69:[2,90],71:[2,90],73:[2,90],74:[2,90],78:[2,90],84:[2,90],85:[2,90],86:[2,90],91:[2,90],93:[2,90],102:[2,90],104:[2,90],105:[2,90],106:[2,90],110:[2,90],116:[2,90],117:[2,90],118:[2,90],126:[2,90],129:[2,90],130:[2,90],133:[2,90],134:[2,90],135:[2,90],136:[2,90],137:[2,90],138:[2,90],139:[2,90]},{10:170,27:171,28:[1,72],29:172,30:[1,70],31:[1,71],41:317,42:169,44:173,46:[1,45],89:[1,112]},{6:[2,91],10:170,25:[2,91],26:[2,91],27:171,28:[1,72],29:172,30:[1,70],31:[1,71],41:168,42:169,44:173,46:[1,45],54:[2,91],77:318,89:[1,112]},{6:[2,93],25:[2,93],26:[2,93],54:[2,93],78:[2,93]},{6:[2,39],25:[2,39],26:[2,39],54:[2,39],78:[2,39],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{7:319,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{73:[2,120],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,37],6:[2,37],25:[2,37],26:[2,37],49:[2,37],54:[2,37],57:[2,37],73:[2,37],78:[2,37],86:[2,37],91:[2,37],93:[2,37],102:[2,37],104:[2,37],105:[2,37],106:[2,37],110:[2,37],118:[2,37],126:[2,37],129:[2,37],130:[2,37],133:[2,37],134:[2,37],135:[2,37],136:[2,37],137:[2,37],138:[2,37],139:[2,37]},{1:[2,111],6:[2,111],25:[2,111],26:[2,111],49:[2,111],54:[2,111],57:[2,111],66:[2,111],67:[2,111],68:[2,111],69:[2,111],71:[2,111],73:[2,111],74:[2,111],78:[2,111],84:[2,111],85:[2,111],86:[2,111],91:[2,111],93:[2,111],102:[2,111],104:[2,111],105:[2,111],106:[2,111],110:[2,111],118:[2,111],126:[2,111],129:[2,111],130:[2,111],133:[2,111],134:[2,111],135:[2,111],136:[2,111],137:[2,111],138:[2,111],139:[2,111]},{1:[2,48],6:[2,48],25:[2,48],26:[2,48],49:[2,48],54:[2,48],57:[2,48],73:[2,48],78:[2,48],86:[2,48],91:[2,48],93:[2,48],102:[2,48],104:[2,48],105:[2,48],106:[2,48],110:[2,48],118:[2,48],126:[2,48],129:[2,48],130:[2,48],133:[2,48],134:[2,48],135:[2,48],136:[2,48],137:[2,48],138:[2,48],139:[2,48]},{6:[2,57],25:[2,57],26:[2,57],49:[2,57],54:[2,57]},{6:[2,52],25:[2,52],26:[2,52],53:320,54:[1,205]},{1:[2,206],6:[2,206],25:[2,206],26:[2,206],49:[2,206],54:[2,206],57:[2,206],73:[2,206],78:[2,206],86:[2,206],91:[2,206],93:[2,206],102:[2,206],104:[2,206],105:[2,206],106:[2,206],110:[2,206],118:[2,206],126:[2,206],129:[2,206],130:[2,206],133:[2,206],134:[2,206],135:[2,206],136:[2,206],137:[2,206],138:[2,206],139:[2,206]},{1:[2,183],6:[2,183],25:[2,183],26:[2,183],49:[2,183],54:[2,183],57:[2,183],73:[2,183],78:[2,183],86:[2,183],91:[2,183],93:[2,183],102:[2,183],104:[2,183],105:[2,183],106:[2,183],110:[2,183],118:[2,183],121:[2,183],126:[2,183],129:[2,183],130:[2,183],133:[2,183],134:[2,183],135:[2,183],136:[2,183],137:[2,183],138:[2,183],139:[2,183]},{1:[2,137],6:[2,137],25:[2,137],26:[2,137],49:[2,137],54:[2,137],57:[2,137],73:[2,137],78:[2,137],86:[2,137],91:[2,137],93:[2,137],102:[2,137],104:[2,137],105:[2,137],106:[2,137],110:[2,137],118:[2,137],126:[2,137],129:[2,137],130:[2,137],133:[2,137],134:[2,137],135:[2,137],136:[2,137],137:[2,137],138:[2,137],139:[2,137]},{1:[2,138],6:[2,138],25:[2,138],26:[2,138],49:[2,138],54:[2,138],57:[2,138],73:[2,138],78:[2,138],86:[2,138],91:[2,138],93:[2,138],98:[2,138],102:[2,138],104:[2,138],105:[2,138],106:[2,138],110:[2,138],118:[2,138],126:[2,138],129:[2,138],130:[2,138],133:[2,138],134:[2,138],135:[2,138],136:[2,138],137:[2,138],138:[2,138],139:[2,138]},{1:[2,139],6:[2,139],25:[2,139],26:[2,139],49:[2,139],54:[2,139],57:[2,139],73:[2,139],78:[2,139],86:[2,139],91:[2,139],93:[2,139],98:[2,139],102:[2,139],104:[2,139],105:[2,139],106:[2,139],110:[2,139],118:[2,139],126:[2,139],129:[2,139],130:[2,139],133:[2,139],134:[2,139],135:[2,139],136:[2,139],137:[2,139],138:[2,139],139:[2,139]},{1:[2,174],6:[2,174],25:[2,174],26:[2,174],49:[2,174],54:[2,174],57:[2,174],73:[2,174],78:[2,174],86:[2,174],91:[2,174],93:[2,174],102:[2,174],104:[2,174],105:[2,174],106:[2,174],110:[2,174],118:[2,174],126:[2,174],129:[2,174],130:[2,174],133:[2,174],134:[2,174],135:[2,174],136:[2,174],137:[2,174],138:[2,174],139:[2,174]},{24:321,25:[1,115]},{26:[1,322]},{6:[1,323],26:[2,180],121:[2,180],123:[2,180]},{7:324,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,103],6:[2,103],25:[2,103],26:[2,103],49:[2,103],54:[2,103],57:[2,103],73:[2,103],78:[2,103],86:[2,103],91:[2,103],93:[2,103],102:[2,103],104:[2,103],105:[2,103],106:[2,103],110:[2,103],118:[2,103],126:[2,103],129:[2,103],130:[2,103],133:[2,103],134:[2,103],135:[2,103],136:[2,103],137:[2,103],138:[2,103],139:[2,103]},{1:[2,143],6:[2,143],25:[2,143],26:[2,143],49:[2,143],54:[2,143],57:[2,143],66:[2,143],67:[2,143],68:[2,143],69:[2,143],71:[2,143],73:[2,143],74:[2,143],78:[2,143],84:[2,143],85:[2,143],86:[2,143],91:[2,143],93:[2,143],102:[2,143],104:[2,143],105:[2,143],106:[2,143],110:[2,143],118:[2,143],126:[2,143],129:[2,143],130:[2,143],133:[2,143],134:[2,143],135:[2,143],136:[2,143],137:[2,143],138:[2,143],139:[2,143]},{1:[2,119],6:[2,119],25:[2,119],26:[2,119],49:[2,119],54:[2,119],57:[2,119],66:[2,119],67:[2,119],68:[2,119],69:[2,119],71:[2,119],73:[2,119],74:[2,119],78:[2,119],84:[2,119],85:[2,119],86:[2,119],91:[2,119],93:[2,119],102:[2,119],104:[2,119],105:[2,119],106:[2,119],110:[2,119],118:[2,119],126:[2,119],129:[2,119],130:[2,119],133:[2,119],134:[2,119],135:[2,119],136:[2,119],137:[2,119],138:[2,119],139:[2,119]},{6:[2,126],25:[2,126],26:[2,126],54:[2,126],86:[2,126],91:[2,126]},{6:[2,52],25:[2,52],26:[2,52],53:325,54:[1,232]},{6:[2,127],25:[2,127],26:[2,127],54:[2,127],86:[2,127],91:[2,127]},{1:[2,169],6:[2,169],25:[2,169],26:[2,169],49:[2,169],54:[2,169],57:[2,169],73:[2,169],78:[2,169],86:[2,169],91:[2,169],93:[2,169],102:[2,169],103:84,104:[2,169],105:[2,169],106:[2,169],109:85,110:[2,169],111:68,118:[1,326],126:[2,169],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,171],6:[2,171],25:[2,171],26:[2,171],49:[2,171],54:[2,171],57:[2,171],73:[2,171],78:[2,171],86:[2,171],91:[2,171],93:[2,171],102:[2,171],103:84,104:[2,171],105:[1,327],106:[2,171],109:85,110:[2,171],111:68,118:[2,171],126:[2,171],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,170],6:[2,170],25:[2,170],26:[2,170],49:[2,170],54:[2,170],57:[2,170],73:[2,170],78:[2,170],86:[2,170],91:[2,170],93:[2,170],102:[2,170],103:84,104:[2,170],105:[2,170],106:[2,170],109:85,110:[2,170],111:68,118:[2,170],126:[2,170],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{6:[2,94],25:[2,94],26:[2,94],54:[2,94],78:[2,94]},{6:[2,52],25:[2,52],26:[2,52],53:328,54:[1,242]},{26:[1,329],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{6:[1,253],25:[1,254],26:[1,330]},{26:[1,331]},{1:[2,177],6:[2,177],25:[2,177],26:[2,177],49:[2,177],54:[2,177],57:[2,177],73:[2,177],78:[2,177],86:[2,177],91:[2,177],93:[2,177],102:[2,177],104:[2,177],105:[2,177],106:[2,177],110:[2,177],118:[2,177],126:[2,177],129:[2,177],130:[2,177],133:[2,177],134:[2,177],135:[2,177],136:[2,177],137:[2,177],138:[2,177],139:[2,177]},{26:[2,181],121:[2,181],123:[2,181]},{25:[2,133],54:[2,133],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{6:[1,276],25:[1,277],26:[1,332]},{7:333,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:334,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[1,287],25:[1,288],26:[1,335]},{6:[2,40],25:[2,40],26:[2,40],54:[2,40],78:[2,40]},{6:[2,58],25:[2,58],26:[2,58],49:[2,58],54:[2,58]},{1:[2,175],6:[2,175],25:[2,175],26:[2,175],49:[2,175],54:[2,175],57:[2,175],73:[2,175],78:[2,175],86:[2,175],91:[2,175],93:[2,175],102:[2,175],104:[2,175],105:[2,175],106:[2,175],110:[2,175],118:[2,175],126:[2,175],129:[2,175],130:[2,175],133:[2,175],134:[2,175],135:[2,175],136:[2,175],137:[2,175],138:[2,175],139:[2,175]},{6:[2,128],25:[2,128],26:[2,128],54:[2,128],86:[2,128],91:[2,128]},{1:[2,172],6:[2,172],25:[2,172],26:[2,172],49:[2,172],54:[2,172],57:[2,172],73:[2,172],78:[2,172],86:[2,172],91:[2,172],93:[2,172],102:[2,172],103:84,104:[2,172],105:[2,172],106:[2,172],109:85,110:[2,172],111:68,118:[2,172],126:[2,172],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,173],6:[2,173],25:[2,173],26:[2,173],49:[2,173],54:[2,173],57:[2,173],73:[2,173],78:[2,173],86:[2,173],91:[2,173],93:[2,173],102:[2,173],103:84,104:[2,173],105:[2,173],106:[2,173],109:85,110:[2,173],111:68,118:[2,173],126:[2,173],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{6:[2,95],25:[2,95],26:[2,95],54:[2,95],78:[2,95]}],defaultActions:{59:[2,50],60:[2,51],91:[2,109],192:[2,89]},parseError:function(a,b){if(!b.recoverable)throw Error(a);
this.trace(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||m,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0,l=2,m=1,n=f.slice.call(arguments,1);this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var o=this.lexer.yylloc;f.push(o);var p=this.lexer.options&&this.lexer.options.ranges;this.parseError="function"==typeof this.yy.parseError?this.yy.parseError:Object.getPrototypeOf(this).parseError;for(var q,r,s,t,u,v,w,x,y,z={};;){if(s=d[d.length-1],this.defaultActions[s]?t=this.defaultActions[s]:((null===q||void 0===q)&&(q=b()),t=g[s]&&g[s][q]),void 0===t||!t.length||!t[0]){var A="";y=[];for(v in g[s])this.terminals_[v]&&v>l&&y.push("'"+this.terminals_[v]+"'");A=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+y.join(", ")+", got '"+(this.terminals_[q]||q)+"'":"Parse error on line "+(i+1)+": Unexpected "+(q==m?"end of input":"'"+(this.terminals_[q]||q)+"'"),this.parseError(A,{text:this.lexer.match,token:this.terminals_[q]||q,line:this.lexer.yylineno,loc:o,expected:y})}if(t[0]instanceof Array&&t.length>1)throw Error("Parse Error: multiple actions possible at state: "+s+", token: "+q);switch(t[0]){case 1:d.push(q),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(t[1]),q=null,r?(q=r,r=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,o=this.lexer.yylloc,k>0&&k--);break;case 2:if(w=this.productions_[t[1]][1],z.$=e[e.length-w],z._$={first_line:f[f.length-(w||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(w||1)].first_column,last_column:f[f.length-1].last_column},p&&(z._$.range=[f[f.length-(w||1)].range[0],f[f.length-1].range[1]]),u=this.performAction.apply(z,[h,j,i,this.yy,t[1],e,f].concat(n)),void 0!==u)return u;w&&(d=d.slice(0,-2*w),e=e.slice(0,-1*w),f=f.slice(0,-1*w)),d.push(this.productions_[t[1]][0]),e.push(z.$),f.push(z._$),x=g[d[d.length-2]][d[d.length-1]],d.push(x);break;case 3:return!0}}return!0}};return a.prototype=b,b.Parser=a,new a}();return void 0!==require&&void 0!==a&&(a.parser=c,a.Parser=c.Parser,a.parse=function(){return c.parse.apply(c,arguments)},a.main=function(b){b[1]||(console.log("Usage: "+b[0]+" FILE"),process.exit(1));var c=require("fs").readFileSync(require("path").normalize(b[1]),"utf8");return a.parser.parse(c)},void 0!==b&&require.main===b&&a.main(process.argv.slice(1))),b.exports}(),require["./scope"]=function(){var a={},b={exports:a};return function(){var b,c,d,e;e=require("./helpers"),c=e.extend,d=e.last,a.Scope=b=function(){function a(b,c,d){this.parent=b,this.expressions=c,this.method=d,this.variables=[{name:"arguments",type:"arguments"}],this.positions={},this.parent||(a.root=this)}return a.root=null,a.prototype.add=function(a,b,c){return this.shared&&!c?this.parent.add(a,b,c):Object.prototype.hasOwnProperty.call(this.positions,a)?this.variables[this.positions[a]].type=b:this.positions[a]=this.variables.push({name:a,type:b})-1},a.prototype.namedMethod=function(){var a;return(null!=(a=this.method)?a.name:void 0)||!this.parent?this.method:this.parent.namedMethod()},a.prototype.find=function(a){return this.check(a)?!0:(this.add(a,"var"),!1)},a.prototype.parameter=function(a){return this.shared&&this.parent.check(a,!0)?void 0:this.add(a,"param")},a.prototype.check=function(a){var b;return!!(this.type(a)||(null!=(b=this.parent)?b.check(a):void 0))},a.prototype.temporary=function(a,b){return a.length>1?"_"+a+(b>1?b-1:""):"_"+(b+parseInt(a,36)).toString(36).replace(/\d/g,"a")},a.prototype.type=function(a){var b,c,d,e;for(e=this.variables,c=0,d=e.length;d>c;c++)if(b=e[c],b.name===a)return b.type;return null},a.prototype.freeVariable=function(a,b){var c,d;for(null==b&&(b=!0),c=0;this.check(d=this.temporary(a,c));)c++;return b&&this.add(d,"var",!0),d},a.prototype.assign=function(a,b){return this.add(a,{value:b,assigned:!0},!0),this.hasAssignments=!0},a.prototype.hasDeclarations=function(){return!!this.declaredVariables().length},a.prototype.declaredVariables=function(){var a,b,c,d,e,f;for(a=[],b=[],f=this.variables,d=0,e=f.length;e>d;d++)c=f[d],"var"===c.type&&("_"===c.name.charAt(0)?b:a).push(c.name);return a.sort().concat(b.sort())},a.prototype.assignedVariables=function(){var a,b,c,d,e;for(d=this.variables,e=[],b=0,c=d.length;c>b;b++)a=d[b],a.type.assigned&&e.push(""+a.name+" = "+a.type.value);return e},a}()}.call(this),b.exports}(),require["./nodes"]=function(){var a={},b={exports:a};return function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb={}.hasOwnProperty,xb=function(a,b){function c(){this.constructor=a}for(var d in b)wb.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},yb=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1},zb=[].slice;Error.stackTraceLimit=1/0,R=require("./scope").Scope,ub=require("./lexer"),M=ub.RESERVED,Q=ub.STRICT_PROSCRIBED,vb=require("./helpers"),cb=vb.compact,gb=vb.flatten,fb=vb.extend,mb=vb.merge,db=vb.del,qb=vb.starts,eb=vb.ends,kb=vb.last,pb=vb.some,bb=vb.addLocationDataFn,lb=vb.locationDataToString,rb=vb.throwSyntaxError,a.extend=fb,a.addLocationDataFn=bb,ab=function(){return!0},G=function(){return!1},W=function(){return this},F=function(){return this.negated=!this.negated,this},a.CodeFragment=j=function(){function a(a,b){var c;this.code=""+b,this.locationData=null!=a?a.locationData:void 0,this.type=(null!=a&&null!=(c=a.constructor)?c.name:void 0)||"unknown"}return a.prototype.nodeType=function(){return"CodeFragment"},a.prototype.toString=function(){return""+this.code+(this.locationData?": "+lb(this.locationData):"")},a}(),hb=function(a){var b;return function(){var c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(b.code);return e}().join("")},a.Base=e=function(){function a(){}return a.prototype.nodeType=function(){return"Base"},a.prototype.compile=function(a,b){return hb(this.compileToFragments(a,b))},a.prototype.wipeLocationData=function(){return this.locationData=void 0,this},a.prototype.compileToFragments=function(a,b){var c;return a=fb({},a),b&&(a.level=b),c=this.unfoldSoak(a)||this,c.tab=a.indent,a.level!==C&&c.isStatement(a)?c.compileClosure(a):c.compileNode(a)},a.prototype.compileClosure=function(a){var c,d,e,h,j;return(h=this.jumps())&&h.error("cannot use a pure statement in an expression"),a.sharedScope=!0,e=new i([],f.wrap([this])),c=[],((d=this.contains(ib))||this.contains(jb))&&(c=[new D("this")],d?(j="apply",c.push(new D("arguments"))):j="call",e=new $(e,[new b(new D(j))])),new g(e,c).compileNode(a)},a.prototype.cache=function(a,b,c){var e,f;return this.isComplex()?(e=new D(c||a.scope.freeVariable("ref")),f=new d(e,this),b?[f.compileToFragments(a,b),[this.makeCode(e.value)]]:[f,e]):(e=b?this.compileToFragments(a,b):this,[e,e])},a.prototype.cacheToCodeFragments=function(a){return[hb(a[0]),hb(a[1])]},a.prototype.makeReturn=function(a){var b;return b=this.unwrapAll(),a?new g(new D(""+a+".push"),[b]):new O(b)},a.prototype.contains=function(a){var b;return b=void 0,this.traverseChildren(!1,function(c){return a(c)?(b=c,!1):void 0}),b},a.prototype.lastNonComment=function(a){var b;for(b=a.length;b--;)if(!(a[b]instanceof k))return a[b];return null},a.prototype.toString=function(a,b){var c;return null==a&&(a=""),null==b&&(b=this.constructor.name),c="\n"+a+b,this.soak&&(c+="?"),this.eachChild(function(b){return c+=b.toString(a+V)}),c},a.prototype.eachChild=function(a){var b,c,d,e,f,g,h,i;if(!this.children)return this;for(h=this.children,d=0,f=h.length;f>d;d++)if(b=h[d],this[b])for(i=gb([this[b]]),e=0,g=i.length;g>e;e++)if(c=i[e],a(c)===!1)return this;return this},a.prototype.traverseChildren=function(a,b){return this.eachChild(function(c){var d;return d=b(c),d!==!1?c.traverseChildren(a,b):void 0})},a.prototype.invert=function(){return new J("!",this)},a.prototype.unwrapAll=function(){var a;for(a=this;a!==(a=a.unwrap()););return a},a.prototype.children=[],a.prototype.isStatement=G,a.prototype.jumps=G,a.prototype.isComplex=ab,a.prototype.isChainable=G,a.prototype.isAssignable=G,a.prototype.unwrap=W,a.prototype.unfoldSoak=G,a.prototype.assigns=G,a.prototype.updateLocationDataIfMissing=function(a){return this.locationData?this:(this.locationData=a,this.eachChild(function(b){return b.updateLocationDataIfMissing(a)}))},a.prototype.error=function(a){return rb(a,this.locationData)},a.prototype.makeCode=function(a){return new j(this,a)},a.prototype.wrapInBraces=function(a){return[].concat(this.makeCode("("),a,this.makeCode(")"))},a.prototype.joinFragmentArrays=function(a,b){var c,d,e,f,g;for(c=[],e=f=0,g=a.length;g>f;e=++f)d=a[e],e&&c.push(this.makeCode(b)),c=c.concat(d);return c},a}(),a.Block=f=function(a){function b(a){this.expressions=cb(gb(a||[]))}return xb(b,a),b.prototype.nodeType=function(){return"Block"},b.prototype.children=["expressions"],b.prototype.push=function(a){return this.expressions.push(a),this},b.prototype.pop=function(){return this.expressions.pop()},b.prototype.unshift=function(a){return this.expressions.unshift(a),this},b.prototype.unwrap=function(){return 1===this.expressions.length?this.expressions[0]:this},b.prototype.isEmpty=function(){return!this.expressions.length},b.prototype.isStatement=function(a){var b,c,d,e;for(e=this.expressions,c=0,d=e.length;d>c;c++)if(b=e[c],b.isStatement(a))return!0;return!1},b.prototype.jumps=function(a){var b,c,d,e,f;for(f=this.expressions,d=0,e=f.length;e>d;d++)if(b=f[d],c=b.jumps(a))return c},b.prototype.makeReturn=function(a){var b,c;for(c=this.expressions.length;c--;)if(b=this.expressions[c],!(b instanceof k)){this.expressions[c]=b.makeReturn(a),b instanceof O&&!b.expression&&this.expressions.splice(c,1);break}return this},b.prototype.compileToFragments=function(a,c){return null==a&&(a={}),a.scope?b.__super__.compileToFragments.call(this,a,c):this.compileRoot(a)},b.prototype.compileNode=function(a){var c,d,e,f,g,h,i,j,k;for(this.tab=a.indent,h=a.level===C,d=[],k=this.expressions,f=i=0,j=k.length;j>i;f=++i)g=k[f],g=g.unwrapAll(),g=g.unfoldSoak(a)||g,g instanceof b?d.push(g.compileNode(a)):h?(g.front=!0,e=g.compileToFragments(a),g.isStatement(a)||(e.unshift(this.makeCode(""+this.tab)),e.push(this.makeCode(";"))),d.push(e)):d.push(g.compileToFragments(a,z));return h?this.spaced?[].concat(this.joinFragmentArrays(d,"\n\n"),this.makeCode("\n")):this.joinFragmentArrays(d,"\n"):(c=d.length?this.joinFragmentArrays(d,", "):[this.makeCode("void 0")],d.length>1&&a.level>=z?this.wrapInBraces(c):c)},b.prototype.compileRoot=function(a){var b,c,d,e,f,g,h,i,j,l;for(a.indent=a.bare?"":V,a.level=C,this.spaced=!0,a.scope=new R(null,this,null),l=a.locals||[],i=0,j=l.length;j>i;i++)e=l[i],a.scope.parameter(e);return f=[],a.bare||(g=function(){var a,c,e,f;for(e=this.expressions,f=[],d=a=0,c=e.length;c>a&&(b=e[d],b.unwrap()instanceof k);d=++a)f.push(b);return f}.call(this),h=this.expressions.slice(g.length),this.expressions=g,g.length&&(f=this.compileNode(mb(a,{indent:""})),f.push(this.makeCode("\n"))),this.expressions=h),c=this.compileWithDeclarations(a),a.bare?c:[].concat(f,this.makeCode("(function() {\n"),c,this.makeCode("\n}).call(this);\n"))},b.prototype.compileWithDeclarations=function(a){var b,c,d,e,f,g,h,i,j,l,m,n,o,p;for(e=[],g=[],n=this.expressions,f=l=0,m=n.length;m>l&&(d=n[f],d=d.unwrap(),d instanceof k||d instanceof D);f=++l);return a=mb(a,{level:C}),f&&(h=this.expressions.splice(f,9e9),o=[this.spaced,!1],j=o[0],this.spaced=o[1],p=[this.compileNode(a),j],e=p[0],this.spaced=p[1],this.expressions=h),g=this.compileNode(a),i=a.scope,i.expressions===this&&(c=a.scope.hasDeclarations(),b=i.hasAssignments,c||b?(f&&e.push(this.makeCode("\n")),e.push(this.makeCode(""+this.tab+"var ")),c&&e.push(this.makeCode(i.declaredVariables().join(", "))),b&&(c&&e.push(this.makeCode(",\n"+(this.tab+V))),e.push(this.makeCode(i.assignedVariables().join(",\n"+(this.tab+V))))),e.push(this.makeCode(";\n"+(this.spaced?"\n":"")))):e.length&&g.length&&e.push(this.makeCode("\n"))),e.concat(g)},b.wrap=function(a){return 1===a.length&&a[0]instanceof b?a[0]:new b(a)},b}(e),a.Literal=D=function(a){function b(a){this.value=a}return xb(b,a),b.prototype.nodeType=function(){return"Literal"},b.prototype.makeReturn=function(){return this.isStatement()?this:b.__super__.makeReturn.apply(this,arguments)},b.prototype.isAssignable=function(){return q.test(this.value)},b.prototype.isStatement=function(){var a;return"break"===(a=this.value)||"continue"===a||"debugger"===a},b.prototype.isComplex=G,b.prototype.assigns=function(a){return a===this.value},b.prototype.jumps=function(a){return("break"!==this.value||(null!=a?a.loop:void 0)||(null!=a?a.block:void 0))&&("continue"!==this.value||(null!=a?a.loop:void 0))?void 0:this},b.prototype.compileNode=function(a){var b,c,d;return c="this"===this.value?(null!=(d=a.scope.method)?d.bound:void 0)?a.scope.method.context:this.value:this.value.reserved?'"'+this.value+'"':this.value,b=this.isStatement()?""+this.tab+c+";":c,[this.makeCode(b)]},b.prototype.toString=function(){return' "'+this.value+'"'},b}(e),a.Undefined=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return xb(b,a),b.prototype.isAssignable=G,b.prototype.isComplex=G,b.prototype.compileNode=function(a){return[this.makeCode(a.level>=x?"(void 0)":"void 0")]},b}(e),a.Null=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return xb(b,a),b.prototype.isAssignable=G,b.prototype.isComplex=G,b.prototype.compileNode=function(){return[this.makeCode("null")]},b}(e),a.Bool=function(a){function b(a){this.val=a}return xb(b,a),b.prototype.isAssignable=G,b.prototype.isComplex=G,b.prototype.compileNode=function(){return[this.makeCode(this.val)]},b}(e),a.Return=O=function(a){function b(a){this.expression=a}return xb(b,a),b.prototype.nodeType=function(){return"Return"},b.prototype.children=["expression"],b.prototype.isStatement=ab,b.prototype.makeReturn=W,b.prototype.jumps=W,b.prototype.compileToFragments=function(a,c){var d,e;return d=null!=(e=this.expression)?e.makeReturn():void 0,!d||d instanceof b?b.__super__.compileToFragments.call(this,a,c):d.compileToFragments(a,c)},b.prototype.compileNode=function(a){var b;return b=[],b.push(this.makeCode(this.tab+("return"+(this.expression?" ":"")))),this.expression&&(b=b.concat(this.expression.compileToFragments(a,B))),b.push(this.makeCode(";")),b},b}(e),a.Value=$=function(a){function b(a,c,d){return!c&&a instanceof b?a:(this.base=a,this.properties=c||[],d&&(this[d]=!0),this)}return xb(b,a),b.prototype.nodeType=function(){return"Value"},b.prototype.children=["base","properties"],b.prototype.add=function(a){return this.properties=this.properties.concat(a),this},b.prototype.hasProperties=function(){return!!this.properties.length},b.prototype.bareLiteral=function(a){return!this.properties.length&&this.base instanceof a},b.prototype.isArray=function(){return this.bareLiteral(c)},b.prototype.isRange=function(){return this.bareLiteral(N)},b.prototype.isComplex=function(){return this.hasProperties()||this.base.isComplex()},b.prototype.isAssignable=function(){return this.hasProperties()||this.base.isAssignable()},b.prototype.isSimpleNumber=function(){return this.bareLiteral(D)&&P.test(this.base.value)},b.prototype.isString=function(){return this.bareLiteral(D)&&t.test(this.base.value)},b.prototype.isRegex=function(){return this.bareLiteral(D)&&s.test(this.base.value)},b.prototype.isAtomic=function(){var a,b,c,d;for(d=this.properties.concat(this.base),b=0,c=d.length;c>b;b++)if(a=d[b],a.soak||a instanceof g)return!1;return!0},b.prototype.isNotCallable=function(){return this.isSimpleNumber()||this.isString()||this.isRegex()||this.isArray()||this.isRange()||this.isSplice()||this.isObject()},b.prototype.isStatement=function(a){return!this.properties.length&&this.base.isStatement(a)},b.prototype.assigns=function(a){return!this.properties.length&&this.base.assigns(a)},b.prototype.jumps=function(a){return!this.properties.length&&this.base.jumps(a)},b.prototype.isObject=function(a){return this.properties.length?!1:this.base instanceof I&&(!a||this.base.generated)},b.prototype.isSplice=function(){return kb(this.properties)instanceof S},b.prototype.looksStatic=function(a){var b;return this.base.value===a&&this.properties.length&&"prototype"!==(null!=(b=this.properties[0].name)?b.value:void 0)},b.prototype.unwrap=function(){return this.properties.length?this:this.base},b.prototype.cacheReference=function(a){var c,e,f,g;return f=kb(this.properties),2>this.properties.length&&!this.base.isComplex()&&!(null!=f?f.isComplex():void 0)?[this,this]:(c=new b(this.base,this.properties.slice(0,-1)),c.isComplex()&&(e=new D(a.scope.freeVariable("base")),c=new b(new L(new d(e,c)))),f?(f.isComplex()&&(g=new D(a.scope.freeVariable("name")),f=new w(new d(g,f.index)),g=new w(g)),[c.add(f),new b(e||c.base,[g||f])]):[c,e])},b.prototype.compileNode=function(a){var b,c,d,e,f;for(this.base.front=this.front,d=this.properties,b=this.base.compileToFragments(a,d.length?x:null),(this.base instanceof L||d.length)&&P.test(hb(b))&&b.push(this.makeCode(".")),e=0,f=d.length;f>e;e++)c=d[e],b.push.apply(b,c.compileToFragments(a));return b},b.prototype.unfoldSoak=function(a){return null!=this.unfoldedSoak?this.unfoldedSoak:this.unfoldedSoak=function(c){return function(){var e,f,g,h,i,j,k,m,n,o;if(g=c.base.unfoldSoak(a))return(n=g.body.properties).push.apply(n,c.properties),g;for(o=c.properties,f=k=0,m=o.length;m>k;f=++k)if(h=o[f],h.soak)return h.soak=!1,e=new b(c.base,c.properties.slice(0,f)),j=new b(c.base,c.properties.slice(f)),e.isComplex()&&(i=new D(a.scope.freeVariable("ref")),e=new L(new d(i,e)),j.base=i),new u(new l(e),j,{soak:!0});return!1}}(this)()},b}(e),a.Comment=k=function(a){function b(a){this.comment=a}return xb(b,a),b.prototype.nodeType=function(){return"Comment"},b.prototype.isStatement=ab,b.prototype.makeReturn=W,b.prototype.compileNode=function(a,b){var c,d;return d=this.comment.replace(/^(\s*)#/gm,"$1 *"),c="/*"+nb(d,this.tab)+(yb.call(d,"\n")>=0?"\n"+this.tab:"")+" */",(b||a.level)===C&&(c=a.indent+c),[this.makeCode("\n"),this.makeCode(c)]},b}(e),a.Call=g=function(a){function c(a,b,c){this.args=null!=b?b:[],this.soak=c,this.isNew=!1,this.isSuper="super"===a,this.variable=this.isSuper?null:a,a instanceof $&&a.isNotCallable()&&a.error("literal is not a function")}return xb(c,a),c.prototype.nodeType=function(){return"Call"},c.prototype.children=["variable","args"],c.prototype.newInstance=function(){var a,b;return a=(null!=(b=this.variable)?b.base:void 0)||this.variable,a instanceof c&&!a.isNew?a.newInstance():this.isNew=!0,this},c.prototype.superReference=function(a){var c,d;return d=a.scope.namedMethod(),(null!=d?d.klass:void 0)?(c=[new b(new D("__super__"))],d["static"]&&c.push(new b(new D("constructor"))),c.push(new b(new D(d.name))),new $(new D(d.klass),c).compile(a)):(null!=d?d.ctor:void 0)?""+d.name+".__super__.constructor":this.error("cannot call super outside of an instance method.")},c.prototype.superThis=function(a){var b;return b=a.scope.method,b&&!b.klass&&b.context||"this"},c.prototype.unfoldSoak=function(a){var b,d,e,f,g,h,i,j,k;if(this.soak){if(this.variable){if(d=sb(a,this,"variable"))return d;j=new $(this.variable).cacheReference(a),e=j[0],g=j[1]}else e=new D(this.superReference(a)),g=new $(e);return g=new c(g,this.args),g.isNew=this.isNew,e=new D("typeof "+e.compile(a)+' === "function"'),new u(e,new $(g),{soak:!0})}for(b=this,f=[];;)if(b.variable instanceof c)f.push(b),b=b.variable;else{if(!(b.variable instanceof $))break;if(f.push(b),!((b=b.variable.base)instanceof c))break}for(k=f.reverse(),h=0,i=k.length;i>h;h++)b=k[h],d&&(b.variable instanceof c?b.variable=d:b.variable.base=d),d=sb(a,b,"variable");return d},c.prototype.compileNode=function(a){var b,c,d,e,f,g,h,i,j,k;if(null!=(j=this.variable)&&(j.front=this.front),e=T.compileSplattedArray(a,this.args,!0),e.length)return this.compileSplat(a,e);for(d=[],k=this.args,c=h=0,i=k.length;i>h;c=++h)b=k[c],c&&d.push(this.makeCode(", ")),d.push.apply(d,b.compileToFragments(a,z));return f=[],this.isSuper?(g=this.superReference(a)+(".call("+this.superThis(a)),d.length&&(g+=", "),f.push(this.makeCode(g))):(this.isNew&&f.push(this.makeCode("new ")),f.push.apply(f,this.variable.compileToFragments(a,x)),f.push(this.makeCode("("))),f.push.apply(f,d),f.push(this.makeCode(")")),f},c.prototype.compileSplat=function(a,b){var c,d,e,f,g,h;return this.isSuper?[].concat(this.makeCode(""+this.superReference(a)+".apply("+this.superThis(a)+", "),b,this.makeCode(")")):this.isNew?(f=this.tab+V,[].concat(this.makeCode("(function(func, args, ctor) {\n"+f+"ctor.prototype = func.prototype;\n"+f+"var child = new ctor, result = func.apply(child, args);\n"+f+"return Object(result) === result ? result : child;\n"+this.tab+"})("),this.variable.compileToFragments(a,z),this.makeCode(", "),b,this.makeCode(", function(){})"))):(c=[],d=new $(this.variable),(g=d.properties.pop())&&d.isComplex()?(h=a.scope.freeVariable("ref"),c=c.concat(this.makeCode("("+h+" = "),d.compileToFragments(a,z),this.makeCode(")"),g.compileToFragments(a))):(e=d.compileToFragments(a,x),P.test(hb(e))&&(e=this.wrapInBraces(e)),g?(h=hb(e),e.push.apply(e,g.compileToFragments(a))):h="null",c=c.concat(e)),c=c.concat(this.makeCode(".apply("+h+", "),b,this.makeCode(")")))},c}(e),a.Extends=n=function(a){function b(a,b){this.child=a,this.parent=b}return xb(b,a),b.prototype.nodeType=function(){return"Extends"},b.prototype.children=["child","parent"],b.prototype.compileToFragments=function(a){return new g(new $(new D(tb("extends"))),[this.child,this.parent]).compileToFragments(a)},b}(e),a.Access=b=function(a){function b(a,b){this.name=a,this.name.asKey=!0,this.soak="soak"===b}return xb(b,a),b.prototype.nodeType=function(){return"Access"},b.prototype.children=["name"],b.prototype.compileToFragments=function(a){var b;return b=this.name.compileToFragments(a),q.test(hb(b))?b.unshift(this.makeCode(".")):(b.unshift(this.makeCode("[")),b.push(this.makeCode("]"))),b},b.prototype.isComplex=G,b}(e),a.Index=w=function(a){function b(a){this.index=a}return xb(b,a),b.prototype.nodeType=function(){return"Index"},b.prototype.children=["index"],b.prototype.compileToFragments=function(a){return[].concat(this.makeCode("["),this.index.compileToFragments(a,B),this.makeCode("]"))},b.prototype.isComplex=function(){return this.index.isComplex()},b}(e),a.Range=N=function(a){function b(a,b,c){this.from=a,this.to=b,this.exclusive="exclusive"===c,this.equals=this.exclusive?"":"="}return xb(b,a),b.prototype.nodeType=function(){return"Range"},b.prototype.children=["from","to"],b.prototype.compileVariables=function(a){var b,c,d,e,f;return a=mb(a,{top:!0}),c=this.cacheToCodeFragments(this.from.cache(a,z)),this.fromC=c[0],this.fromVar=c[1],d=this.cacheToCodeFragments(this.to.cache(a,z)),this.toC=d[0],this.toVar=d[1],(b=db(a,"step"))&&(e=this.cacheToCodeFragments(b.cache(a,z)),this.step=e[0],this.stepVar=e[1]),f=[this.fromVar.match(H),this.toVar.match(H)],this.fromNum=f[0],this.toNum=f[1],this.stepVar?this.stepNum=this.stepVar.match(H):void 0},b.prototype.compileNode=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;return this.fromVar||this.compileVariables(a),a.index?(h=this.fromNum&&this.toNum,f=db(a,"index"),g=db(a,"name"),j=g&&g!==f,m=""+f+" = "+this.fromC,this.toC!==this.toVar&&(m+=", "+this.toC),this.step!==this.stepVar&&(m+=", "+this.step),n=[""+f+" <"+this.equals,""+f+" >"+this.equals],i=n[0],e=n[1],c=this.stepNum?ob(this.stepNum[0])>0?""+i+" "+this.toVar:""+e+" "+this.toVar:h?(o=[ob(this.fromNum[0]),ob(this.toNum[0])],d=o[0],l=o[1],l>=d?""+i+" "+l:""+e+" "+l):(b=this.stepVar?""+this.stepVar+" > 0":""+this.fromVar+" <= "+this.toVar,""+b+" ? "+i+" "+this.toVar+" : "+e+" "+this.toVar),k=this.stepVar?""+f+" += "+this.stepVar:h?j?l>=d?"++"+f:"--"+f:l>=d?""+f+"++":""+f+"--":j?""+b+" ? ++"+f+" : --"+f:""+b+" ? "+f+"++ : "+f+"--",j&&(m=""+g+" = "+m),j&&(k=""+g+" = "+k),[this.makeCode(""+m+"; "+c+"; "+k)]):this.compileArray(a)},b.prototype.compileArray=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n;return this.fromNum&&this.toNum&&20>=Math.abs(this.fromNum-this.toNum)?(j=function(){n=[];for(var a=m=+this.fromNum,b=+this.toNum;b>=m?b>=a:a>=b;b>=m?a++:a--)n.push(a);return n}.apply(this),this.exclusive&&j.pop(),[this.makeCode("["+j.join(", ")+"]")]):(g=this.tab+V,f=a.scope.freeVariable("i"),k=a.scope.freeVariable("results"),i="\n"+g+k+" = [];",this.fromNum&&this.toNum?(a.index=f,c=hb(this.compileNode(a))):(l=""+f+" = "+this.fromC+(this.toC!==this.toVar?", "+this.toC:""),d=""+this.fromVar+" <= "+this.toVar,c="var "+l+"; "+d+" ? "+f+" <"+this.equals+" "+this.toVar+" : "+f+" >"+this.equals+" "+this.toVar+"; "+d+" ? "+f+"++ : "+f+"--"),h="{ "+k+".push("+f+"); }\n"+g+"return "+k+";\n"+a.indent,e=function(a){return null!=a?a.contains(ib):void 0},(e(this.from)||e(this.to))&&(b=", arguments"),[this.makeCode("(function() {"+i+"\n"+g+"for ("+c+")"+h+"}).apply(this"+(null!=b?b:"")+")")])},b}(e),a.Slice=S=function(a){function b(a){this.range=a,b.__super__.constructor.call(this)}return xb(b,a),b.prototype.nodeType=function(){return"Slice"},b.prototype.children=["range"],b.prototype.compileNode=function(a){var b,c,d,e,f,g,h;return h=this.range,f=h.to,d=h.from,e=d&&d.compileToFragments(a,B)||[this.makeCode("0")],f&&(b=f.compileToFragments(a,B),c=hb(b),(this.range.exclusive||-1!==+c)&&(g=", "+(this.range.exclusive?c:P.test(c)?""+(+c+1):(b=f.compileToFragments(a,x),"+"+hb(b)+" + 1 || 9e9")))),[this.makeCode(".slice("+hb(e)+(g||"")+")")]},b}(e),a.Obj=I=function(a){function b(a,b){this.generated=null!=b?b:!1,this.objects=this.properties=a||[]}return xb(b,a),b.prototype.nodeType=function(){return"Obj"},b.prototype.children=["properties"],b.prototype.compileNode=function(a){var b,c,e,f,g,h,i,j,l,m,n,o,p;if(l=this.properties,!l.length)return[this.makeCode(this.front?"({})":"{}")];if(this.generated)for(m=0,o=l.length;o>m;m++)i=l[m],i instanceof $&&i.error("cannot have an implicit value in an implicit object");for(e=a.indent+=V,h=this.lastNonComment(this.properties),b=[],c=n=0,p=l.length;p>n;c=++n)j=l[c],g=c===l.length-1?"":j===h||j instanceof k?"\n":",\n",f=j instanceof k?"":e,j instanceof d&&j.variable instanceof $&&j.variable.hasProperties()&&j.variable.error("Invalid object key"),j instanceof $&&j["this"]&&(j=new d(j.properties[0].name,j,"object")),j instanceof k||(j instanceof d||(j=new d(j,j,"object")),(j.variable.base||j.variable).asKey=!0),f&&b.push(this.makeCode(f)),b.push.apply(b,j.compileToFragments(a,C)),g&&b.push(this.makeCode(g));return b.unshift(this.makeCode("{"+(l.length&&"\n"))),b.push(this.makeCode(""+(l.length&&"\n"+this.tab)+"}")),this.front?this.wrapInBraces(b):b},b.prototype.assigns=function(a){var b,c,d,e;for(e=this.properties,c=0,d=e.length;d>c;c++)if(b=e[c],b.assigns(a))return!0;return!1},b}(e),a.Arr=c=function(a){function b(a){this.objects=a||[]}return xb(b,a),b.prototype.nodeType=function(){return"Arr"},b.prototype.children=["objects"],b.prototype.compileNode=function(a){var b,c,d,e,f,g,h;if(!this.objects.length)return[this.makeCode("[]")];if(a.indent+=V,b=T.compileSplattedArray(a,this.objects),b.length)return b;for(b=[],c=function(){var b,c,d,e;for(d=this.objects,e=[],b=0,c=d.length;c>b;b++)f=d[b],e.push(f.compileToFragments(a,z));return e}.call(this),e=g=0,h=c.length;h>g;e=++g)d=c[e],e&&b.push(this.makeCode(", ")),b.push.apply(b,d);return hb(b).indexOf("\n")>=0?(b.unshift(this.makeCode("[\n"+a.indent)),b.push(this.makeCode("\n"+this.tab+"]"))):(b.unshift(this.makeCode("[")),b.push(this.makeCode("]"))),b},b.prototype.assigns=function(a){var b,c,d,e;for(e=this.objects,c=0,d=e.length;d>c;c++)if(b=e[c],b.assigns(a))return!0;return!1},b}(e),a.Class=h=function(a){function c(a,b,c){this.variable=a,this.parent=b,this.body=null!=c?c:new f,this.boundFuncs=[],this.body.classBody=!0}return xb(c,a),c.prototype.nodeType=function(){return"Class"},c.prototype.children=["variable","parent","body"],c.prototype.determineName=function(){var a,c;return this.variable?(a=(c=kb(this.variable.properties))?c instanceof b&&c.name.value:this.variable.base.value,yb.call(Q,a)>=0&&this.variable.error("class variable name may not be "+a),a&&(a=q.test(a)&&a)):null},c.prototype.setContext=function(a){return this.body.traverseChildren(!1,function(b){return b.classBody?!1:b instanceof D&&"this"===b.value?b.value=a:b instanceof i&&(b.klass=a,b.bound)?b.context=a:void 0})},c.prototype.addBoundFunctions=function(a){var c,d,e,f,g;for(g=this.boundFuncs,e=0,f=g.length;f>e;e++)c=g[e],d=new $(new D("this"),[new b(c)]).compile(a),this.ctor.body.unshift(new D(""+d+" = "+tb("bind")+"("+d+", this)"))},c.prototype.addProperties=function(a,c,e){var f,g,h,j,k;return k=a.base.properties.slice(0),h=function(){var a;for(a=[];f=k.shift();)f instanceof d&&(g=f.variable.base,delete f.context,j=f.value,"constructor"===g.value?(this.ctor&&f.error("cannot define more than one constructor in a class"),j.bound&&f.error("cannot define a constructor as a bound function"),j instanceof i?f=this.ctor=j:(this.externalCtor=e.classScope.freeVariable("class"),f=new d(new D(this.externalCtor),j))):f.variable["this"]?j["static"]=!0:(f.variable=new $(new D(c),[new b(new D("prototype")),new b(g)]),j instanceof i&&j.bound&&(this.boundFuncs.push(g),j.bound=!1))),a.push(f);return a}.call(this),cb(h)},c.prototype.walkBody=function(a,b){return this.traverseChildren(!1,function(e){return function(g){var h,i,j,k,l,m,n;if(h=!0,g instanceof c)return!1;if(g instanceof f){for(n=i=g.expressions,j=l=0,m=n.length;m>l;j=++l)k=n[j],k instanceof d&&k.variable.looksStatic(a)?k.value["static"]=!0:k instanceof $&&k.isObject(!0)&&(h=!1,i[j]=e.addProperties(k,a,b));g.expressions=i=gb(i)}return h&&!(g instanceof c)}}(this))},c.prototype.hoistDirectivePrologue=function(){var a,b,c;for(b=0,a=this.body.expressions;(c=a[b])&&c instanceof k||c instanceof $&&c.isString();)++b;return this.directives=a.splice(0,b)},c.prototype.ensureConstructor=function(a){return this.ctor||(this.ctor=new i,this.externalCtor?this.ctor.body.push(new D(""+this.externalCtor+".apply(this, arguments)")):this.parent&&this.ctor.body.push(new D(""+a+".__super__.constructor.apply(this, arguments)")),this.ctor.body.makeReturn(),this.body.expressions.unshift(this.ctor)),this.ctor.ctor=this.ctor.name=a,this.ctor.klass=null,this.ctor.noReturn=!0},c.prototype.compileNode=function(a){var b,c,e,h,j,k,l,m,o;return(h=this.body.jumps())&&h.error("Class bodies cannot contain pure statements"),(c=this.body.contains(ib))&&c.error("Class bodies shouldn't reference arguments"),l=this.determineName()||"_Class",l.reserved&&(l="_"+l),k=new D(l),e=new i([],f.wrap([this.body])),b=[],a.classScope=e.makeScope(a.scope),this.hoistDirectivePrologue(),this.setContext(l),this.walkBody(l,a),this.ensureConstructor(l),this.addBoundFunctions(a),this.body.spaced=!0,this.body.expressions.push(k),this.parent&&(m=new D(a.classScope.freeVariable("super",!1)),this.body.expressions.unshift(new n(k,m)),e.params.push(new K(m)),b.push(this.parent)),(o=this.body.expressions).unshift.apply(o,this.directives),j=new L(new g(e,b)),this.variable&&(j=new d(this.variable,j)),j.compileToFragments(a)},c}(e),a.Assign=d=function(a){function c(a,b,c,d){var e,f,g;this.variable=a,this.value=b,this.context=c,this.param=d&&d.param,this.subpattern=d&&d.subpattern,g=f=this.variable.unwrapAll().value,e=yb.call(Q,g)>=0,e&&"object"!==this.context&&this.variable.error('variable name may not be "'+f+'"')}return xb(c,a),c.prototype.nodeType=function(){return"Assign"},c.prototype.children=["variable","value"],c.prototype.isStatement=function(a){return(null!=a?a.level:void 0)===C&&null!=this.context&&yb.call(this.context,"?")>=0},c.prototype.assigns=function(a){return this["object"===this.context?"value":"variable"].assigns(a)},c.prototype.unfoldSoak=function(a){return sb(a,this,"variable")},c.prototype.compileNode=function(a){var b,c,d,e,f,g,h,j,k,l,m;
if(d=this.variable instanceof $){if(this.variable.isArray()||this.variable.isObject())return this.compilePatternMatch(a);if(this.variable.isSplice())return this.compileSplice(a);if("||="===(j=this.context)||"&&="===j||"?="===j)return this.compileConditional(a);if("**="===(k=this.context)||"//="===k||"%%="===k)return this.compileSpecialMath(a)}return c=this.variable.compileToFragments(a,z),f=hb(c),this.context||(h=this.variable.unwrapAll(),h.isAssignable()||this.variable.error('"'+this.variable.compile(a)+'" cannot be assigned'),("function"==typeof h.hasProperties?h.hasProperties():void 0)||(this.param?a.scope.add(f,"var"):a.scope.find(f))),this.value instanceof i&&(e=E.exec(f))&&(e[2]&&(this.value.klass=e[1]),this.value.name=null!=(l=null!=(m=e[3])?m:e[4])?l:e[5]),g=this.value.compileToFragments(a,z),"object"===this.context?c.concat(this.makeCode(": "),g):(b=c.concat(this.makeCode(" "+(this.context||"=")+" "),g),z>=a.level?b:this.wrapInBraces(b))},c.prototype.compilePatternMatch=function(a){var d,e,f,g,h,i,j,k,l,n,o,p,r,s,t,u,v,x,y,B,E,F,G,H,I,J,K,N;if(u=a.level===C,x=this.value,p=this.variable.base.objects,!(r=p.length))return f=x.compileToFragments(a),a.level>=A?this.wrapInBraces(f):f;if(k=this.variable.isObject(),u&&1===r&&!((o=p[0])instanceof T))return o instanceof c?(G=o,H=G.variable,j=H.base,o=G.value):j=k?o["this"]?o.properties[0].name:o:new D(0),d=q.test(j.unwrap().value||0),x=new $(x),x.properties.push(new(d?b:w)(j)),I=o.unwrap().value,yb.call(M,I)>=0&&o.error("assignment to a reserved word: "+o.compile(a)),new c(o,x,null,{param:this.param}).compileToFragments(a,C);for(y=x.compileToFragments(a,z),B=hb(y),e=[],g=!1,(!q.test(B)||this.variable.assigns(B))&&(e.push([this.makeCode(""+(s=a.scope.freeVariable("ref"))+" = ")].concat(zb.call(y))),y=[this.makeCode(s)],B=s),i=E=0,F=p.length;F>E;i=++E){if(o=p[i],j=i,k&&(o instanceof c?(J=o,K=J.variable,j=K.base,o=J.value):o.base instanceof L?(N=new $(o.unwrapAll()).cacheReference(a),o=N[0],j=N[1]):j=o["this"]?o.properties[0].name:o),!g&&o instanceof T)n=o.name.unwrap().value,o=o.unwrap(),v=""+r+" <= "+B+".length ? "+tb("slice")+".call("+B+", "+i,(t=r-i-1)?(l=a.scope.freeVariable("i"),v+=", "+l+" = "+B+".length - "+t+") : ("+l+" = "+i+", [])"):v+=") : []",v=new D(v),g=""+l+"++";else{if(!g&&o instanceof m){(t=r-i-1)&&(1===t?g=""+B+".length - 1":(l=a.scope.freeVariable("i"),v=new D(""+l+" = "+B+".length - "+t),g=""+l+"++",e.push(v.compileToFragments(a,z))));continue}n=o.unwrap().value,(o instanceof T||o instanceof m)&&o.error("multiple splats/expansions are disallowed in an assignment"),"number"==typeof j?(j=new D(g||j),d=!1):d=k&&q.test(j.unwrap().value||0),v=new $(new D(B),[new(d?b:w)(j)])}null!=n&&yb.call(M,n)>=0&&o.error("assignment to a reserved word: "+o.compile(a)),e.push(new c(o,v,null,{param:this.param,subpattern:!0}).compileToFragments(a,z))}return u||this.subpattern||e.push(y),h=this.joinFragmentArrays(e,", "),z>a.level?h:this.wrapInBraces(h)},c.prototype.compileConditional=function(a){var b,d,e,f;return f=this.variable.cacheReference(a),d=f[0],e=f[1],!d.properties.length&&d.base instanceof D&&"this"!==d.base.value&&!a.scope.check(d.base.value)&&this.variable.error('the variable "'+d.base.value+"\" can't be assigned with "+this.context+" because it has not been declared before"),yb.call(this.context,"?")>=0?(a.isExistentialEquals=!0,new u(new l(d),e,{type:"if"}).addElse(new c(e,this.value,"=")).compileToFragments(a)):(b=new J(this.context.slice(0,-1),d,new c(e,this.value,"=")).compileToFragments(a),z>=a.level?b:this.wrapInBraces(b))},c.prototype.compileSpecialMath=function(a){var b,d,e;return e=this.variable.cacheReference(a),b=e[0],d=e[1],new c(b,new J(this.context.slice(0,-1),d,this.value)).compileToFragments(a)},c.prototype.compileSplice=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;return k=this.variable.properties.pop().range,d=k.from,h=k.to,c=k.exclusive,g=this.variable.compile(a),d?(l=this.cacheToCodeFragments(d.cache(a,A)),e=l[0],f=l[1]):e=f="0",h?d instanceof $&&d.isSimpleNumber()&&h instanceof $&&h.isSimpleNumber()?(h=h.compile(a)-f,c||(h+=1)):(h=h.compile(a,x)+" - "+f,c||(h+=" + 1")):h="9e9",m=this.value.cache(a,z),i=m[0],j=m[1],b=[].concat(this.makeCode("[].splice.apply("+g+", ["+e+", "+h+"].concat("),i,this.makeCode(")), "),j),a.level>C?this.wrapInBraces(b):b},c}(e),a.Code=i=function(a){function b(a,b,c){this.params=a||[],this.body=b||new f,this.bound="boundfunc"===c}return xb(b,a),b.prototype.nodeType=function(){return"Code"},b.prototype.children=["params","body"],b.prototype.isStatement=function(){return!!this.ctor},b.prototype.jumps=G,b.prototype.makeScope=function(a){return new R(a,this.body,this)},b.prototype.compileNode=function(a){var e,h,i,j,k,l,n,o,p,q,r,s,t,v,w,y,z,A,B,C,E,F,G,H,I,L,M,N,O,P,Q,R,S;if(this.bound&&(null!=(N=a.scope.method)?N.bound:void 0)&&(this.context=a.scope.method.context),this.bound&&!this.context)return this.context="_this",w=new b([new K(new D(this.context))],new f([this])),h=new g(w,[new D("this")]),h.updateLocationDataIfMissing(this.locationData),h.compileNode(a);for(a.scope=db(a,"classScope")||this.makeScope(a.scope),a.scope.shared=db(a,"sharedScope"),a.indent+=V,delete a.bare,delete a.isExistentialEquals,p=[],j=[],O=this.params,y=0,C=O.length;C>y;y++)o=O[y],o instanceof m||a.scope.parameter(o.asReference(a));for(P=this.params,z=0,E=P.length;E>z;z++)if(o=P[z],o.splat||o instanceof m){for(Q=this.params,A=0,F=Q.length;F>A;A++)n=Q[A].name,o instanceof m||(n["this"]&&(n=n.properties[0].name),n.value&&a.scope.add(n.value,"var",!0));r=new d(new $(new c(function(){var b,c,d,e;for(d=this.params,e=[],b=0,c=d.length;c>b;b++)n=d[b],e.push(n.asReference(a));return e}.call(this))),new $(new D("arguments")));break}for(R=this.params,B=0,G=R.length;G>B;B++)o=R[B],o.isComplex()?(t=q=o.asReference(a),o.value&&(t=new J("?",q,o.value)),j.push(new d(new $(o.name),t,"=",{param:!0}))):(q=o,o.value&&(l=new D(q.name.value+" == null"),t=new d(new $(o.name),o.value,"="),j.push(new u(l,t)))),r||p.push(q);for(v=this.body.isEmpty(),r&&j.unshift(r),j.length&&(S=this.body.expressions).unshift.apply(S,j),k=L=0,H=p.length;H>L;k=++L)n=p[k],p[k]=n.compileToFragments(a),a.scope.parameter(hb(p[k]));for(s=[],this.eachParamName(function(a,b){return yb.call(s,a)>=0&&b.error("multiple parameters named '"+a+"'"),s.push(a)}),v||this.noReturn||this.body.makeReturn(),i="function",this.ctor&&(i+=" "+this.name),i+="(",e=[this.makeCode(i)],k=M=0,I=p.length;I>M;k=++M)n=p[k],k&&e.push(this.makeCode(", ")),e.push.apply(e,n);return e.push(this.makeCode(") {")),this.body.isEmpty()||(e=e.concat(this.makeCode("\n"),this.body.compileWithDeclarations(a),this.makeCode("\n"+this.tab))),e.push(this.makeCode("}")),this.ctor?[this.makeCode(this.tab)].concat(zb.call(e)):this.front||a.level>=x?this.wrapInBraces(e):e},b.prototype.eachParamName=function(a){var b,c,d,e,f;for(e=this.params,f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(b.eachName(a));return f},b.prototype.traverseChildren=function(a,c){return a?b.__super__.traverseChildren.call(this,a,c):void 0},b}(e),a.Param=K=function(a){function b(a,b,c){var d;this.name=a,this.value=b,this.splat=c,d=a=this.name.unwrapAll().value,yb.call(Q,d)>=0&&this.name.error('parameter name "'+a+'" is not allowed')}return xb(b,a),b.prototype.nodeType=function(){return"Param"},b.prototype.children=["name","value"],b.prototype.compileToFragments=function(a){return this.name.compileToFragments(a,z)},b.prototype.asReference=function(a){var b;return this.reference?this.reference:(b=this.name,b["this"]?(b=b.properties[0].name,b.value.reserved&&(b=new D(a.scope.freeVariable(b.value)))):b.isComplex()&&(b=new D(a.scope.freeVariable("arg"))),b=new $(b),this.splat&&(b=new T(b)),b.updateLocationDataIfMissing(this.locationData),this.reference=b)},b.prototype.isComplex=function(){return this.name.isComplex()},b.prototype.eachName=function(a,b){var c,e,f,g,h,i;if(null==b&&(b=this.name),c=function(b){var c;return c=b.properties[0].name,c.value.reserved?void 0:a(c.value,c)},b instanceof D)return a(b.value,b);if(b instanceof $)return c(b);for(i=b.objects,g=0,h=i.length;h>g;g++)f=i[g],f instanceof d?this.eachName(a,f.value.unwrap()):f instanceof T?(e=f.name.unwrap(),a(e.value,e)):f instanceof $?f.isArray()||f.isObject()?this.eachName(a,f.base):f["this"]?c(f):a(f.base.value,f.base):f instanceof m||f.error("illegal parameter "+f.compile())},b}(e),a.Splat=T=function(a){function b(a){this.name=a.compile?a:new D(a)}return xb(b,a),b.prototype.nodeType=function(){return"Splat"},b.prototype.children=["name"],b.prototype.isAssignable=ab,b.prototype.assigns=function(a){return this.name.assigns(a)},b.prototype.compileToFragments=function(a){return this.name.compileToFragments(a)},b.prototype.unwrap=function(){return this.name},b.compileSplattedArray=function(a,c,d){var e,f,g,h,i,j,k,l,m,n;for(k=-1;(l=c[++k])&&!(l instanceof b););if(k>=c.length)return[];if(1===c.length)return l=c[0],i=l.compileToFragments(a,z),d?i:[].concat(l.makeCode(""+tb("slice")+".call("),i,l.makeCode(")"));for(e=c.slice(k),j=m=0,n=e.length;n>m;j=++m)l=e[j],g=l.compileToFragments(a,z),e[j]=l instanceof b?[].concat(l.makeCode(""+tb("slice")+".call("),g,l.makeCode(")")):[].concat(l.makeCode("["),g,l.makeCode("]"));return 0===k?(l=c[0],h=l.joinFragmentArrays(e.slice(1),", "),e[0].concat(l.makeCode(".concat("),h,l.makeCode(")"))):(f=function(){var b,d,e,f;for(e=c.slice(0,k),f=[],b=0,d=e.length;d>b;b++)l=e[b],f.push(l.compileToFragments(a,z));return f}(),f=c[0].joinFragmentArrays(f,", "),h=c[k].joinFragmentArrays(e,", "),[].concat(c[0].makeCode("["),f,c[k].makeCode("].concat("),h,kb(c).makeCode(")")))},b}(e),a.Expansion=m=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return xb(b,a),b.prototype.nodeType=function(){return"Expansion"},b.prototype.isComplex=G,b.prototype.compileNode=function(){return this.error("Expansion must be used inside a destructuring assignment or parameter list")},b.prototype.asReference=function(){return this},b.prototype.eachName=function(){},b}(e),a.While=_=function(a){function b(a,b){this.rawCondition=a,this.condition=(null!=b?b.invert:void 0)?a.invert():a,this.guard=null!=b?b.guard:void 0}return xb(b,a),b.prototype.nodeType=function(){return"While"},b.prototype.children=["condition","guard","body"],b.prototype.isStatement=ab,b.prototype.makeReturn=function(a){return a?b.__super__.makeReturn.apply(this,arguments):(this.returns=!this.jumps({loop:!0}),this)},b.prototype.addBody=function(a){return this.body=a,this},b.prototype.jumps=function(){var a,b,c,d,e;if(a=this.body.expressions,!a.length)return!1;for(d=0,e=a.length;e>d;d++)if(c=a[d],b=c.jumps({loop:!0}))return b;return!1},b.prototype.compileNode=function(a){var b,c,d,e;return a.indent+=V,e="",c=this.body,c.isEmpty()?c=this.makeCode(""):(this.returns&&(c.makeReturn(d=a.scope.freeVariable("results")),e=""+this.tab+d+" = [];\n"),this.guard&&(c.expressions.length>1?c.expressions.unshift(new u(new L(this.guard).invert(),new D("continue"))):this.guard&&(c=f.wrap([new u(this.guard,c)]))),c=[].concat(this.makeCode("\n"),c.compileToFragments(a,C),this.makeCode("\n"+this.tab))),b=[].concat(this.makeCode(e+this.tab+"while ("),this.condition.compileToFragments(a,B),this.makeCode(") {"),c,this.makeCode("}")),this.returns&&b.push(this.makeCode("\n"+this.tab+"return "+d+";")),b},b}(e),a.Op=J=function(a){function c(a,b,c,d){if("in"===a)return new v(b,c);if("do"===a)return this.generateDo(b);if("new"===a){if(b instanceof g&&!b["do"]&&!b.isNew)return b.locationData=void 0,b.newInstance();(b instanceof i&&b.bound||b["do"])&&(b=new L(b))}return this.operator=e[a]||a,this.first=b,this.second=c,this.flip=!!d,this}var e,f;return xb(c,a),c.prototype.nodeType=function(){return"Op"},e={"==":"===","!=":"!==",of:"in"},f={"!==":"===","===":"!=="},c.prototype.children=["first","second"],c.prototype.isSimpleNumber=G,c.prototype.isUnary=function(){return!this.second},c.prototype.isComplex=function(){var a;return!(this.isUnary()&&("+"===(a=this.operator)||"-"===a))||this.first.isComplex()},c.prototype.isChainable=function(){var a;return"<"===(a=this.operator)||">"===a||">="===a||"<="===a||"==="===a||"!=="===a},c.prototype.invert=function(){var a,b,d,e,g;if(this.isChainable()&&this.first.isChainable()){for(a=!0,b=this;b&&b.operator;)a&&(a=b.operator in f),b=b.first;if(!a)return new L(this).invert();for(b=this;b&&b.operator;)b.invert=!b.invert,b.operator=f[b.operator],b=b.first;return this}return(e=f[this.operator])?(this.operator=e,this.first.unwrap()instanceof c&&this.first.invert(),this):this.second?new L(this).invert():"!"===this.operator&&(d=this.first.unwrap())instanceof c&&("!"===(g=d.operator)||"in"===g||"instanceof"===g)?d:new c("!",this)},c.prototype.unfoldSoak=function(a){var b;return("++"===(b=this.operator)||"--"===b||"delete"===b)&&sb(a,this,"first")},c.prototype.generateDo=function(a){var b,c,e,f,h,j,k,l;for(f=[],c=a instanceof d&&(h=a.value.unwrap())instanceof i?h:a,l=c.params||[],j=0,k=l.length;k>j;j++)e=l[j],e.value?(f.push(e.value),delete e.value):f.push(e);return b=new g(a,f),b["do"]=!0,b},c.prototype.compileNode=function(a){var b,c,d,e,f,g;if(c=this.isChainable()&&this.first.isChainable(),c||(this.first.front=this.front),"delete"===this.operator&&a.scope.check(this.first.unwrapAll().value)&&this.error("delete operand may not be argument or var"),("--"===(f=this.operator)||"++"===f)&&(g=this.first.unwrapAll().value,yb.call(Q,g)>=0)&&this.error('cannot increment/decrement "'+this.first.unwrapAll().value+'"'),this.isUnary())return this.compileUnary(a);if(c)return this.compileChain(a);switch(this.operator){case"?":return this.compileExistence(a);case"**":return this.compilePower(a);case"//":return this.compileFloorDivision(a);case"%%":return this.compileModulo(a);default:return d=this.first.compileToFragments(a,A),e=this.second.compileToFragments(a,A),b=[].concat(d,this.makeCode(" "+this.operator+" "),e),A>=a.level?b:this.wrapInBraces(b)}},c.prototype.compileChain=function(a){var b,c,d,e;return e=this.first.second.cache(a),this.first.second=e[0],d=e[1],c=this.first.compileToFragments(a,A),b=c.concat(this.makeCode(" "+(this.invert?"&&":"||")+" "),d.compileToFragments(a),this.makeCode(" "+this.operator+" "),this.second.compileToFragments(a,A)),this.wrapInBraces(b)},c.prototype.compileExistence=function(a){var b,c;return this.first.isComplex()?(c=new D(a.scope.freeVariable("ref")),b=new L(new d(c,this.first))):(b=this.first,c=b),new u(new l(b),c,{type:"if"}).addElse(this.second).compileToFragments(a)},c.prototype.compileUnary=function(a){var b,d,e;return d=[],b=this.operator,d.push([this.makeCode(b)]),"!"===b&&this.first instanceof l?(this.first.negated=!this.first.negated,this.first.compileToFragments(a)):a.level>=x?new L(this).compileToFragments(a):(e="+"===b||"-"===b,("new"===b||"typeof"===b||"delete"===b||e&&this.first instanceof c&&this.first.operator===b)&&d.push([this.makeCode(" ")]),(e&&this.first instanceof c||"new"===b&&this.first.isStatement(a))&&(this.first=new L(this.first)),d.push(this.first.compileToFragments(a,A)),this.flip&&d.reverse(),this.joinFragmentArrays(d,""))},c.prototype.compilePower=function(a){var c;return c=new $(new D("Math"),[new b(new D("pow"))]),new g(c,[this.first,this.second]).compileToFragments(a)},c.prototype.compileFloorDivision=function(a){var d,e;return e=new $(new D("Math"),[new b(new D("floor"))]),d=new c("/",this.first,this.second),new g(e,[d]).compileToFragments(a)},c.prototype.compileModulo=function(a){var b;return b=new $(new D(tb("modulo"))),new g(b,[this.first,this.second]).compileToFragments(a)},c.prototype.toString=function(a){return c.__super__.toString.call(this,a,this.constructor.name+" "+this.operator)},c}(e),a.In=v=function(a){function b(a,b){this.object=a,this.array=b}return xb(b,a),b.prototype.nodeType=function(){return"In"},b.prototype.children=["object","array"],b.prototype.invert=F,b.prototype.compileNode=function(a){var b,c,d,e,f;if(this.array instanceof $&&this.array.isArray()&&this.array.base.objects.length){for(f=this.array.base.objects,d=0,e=f.length;e>d;d++)if(c=f[d],c instanceof T){b=!0;break}if(!b)return this.compileOrTest(a)}return this.compileLoopTest(a)},b.prototype.compileOrTest=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;for(k=this.object.cache(a,A),g=k[0],f=k[1],l=this.negated?[" !== "," && "]:[" === "," || "],b=l[0],c=l[1],h=[],m=this.array.base.objects,d=i=0,j=m.length;j>i;d=++i)e=m[d],d&&h.push(this.makeCode(c)),h=h.concat(d?f:g,this.makeCode(b),e.compileToFragments(a,x));return A>a.level?h:this.wrapInBraces(h)},b.prototype.compileLoopTest=function(a){var b,c,d,e;return e=this.object.cache(a,z),d=e[0],c=e[1],b=[].concat(this.makeCode(tb("indexOf")+".call("),this.array.compileToFragments(a,z),this.makeCode(", "),c,this.makeCode(") "+(this.negated?"< 0":">= 0"))),hb(d)===hb(c)?b:(b=d.concat(this.makeCode(", "),b),z>a.level?b:this.wrapInBraces(b))},b.prototype.toString=function(a){return b.__super__.toString.call(this,a,this.constructor.name+(this.negated?"!":""))},b}(e),a.Try=Y=function(a){function b(a,b,c,d){this.attempt=a,this.errorVariable=b,this.recovery=c,this.ensure=d}return xb(b,a),b.prototype.nodeType=function(){return"Try"},b.prototype.children=["attempt","recovery","ensure"],b.prototype.isStatement=ab,b.prototype.jumps=function(a){var b;return this.attempt.jumps(a)||(null!=(b=this.recovery)?b.jumps(a):void 0)},b.prototype.makeReturn=function(a){return this.attempt&&(this.attempt=this.attempt.makeReturn(a)),this.recovery&&(this.recovery=this.recovery.makeReturn(a)),this},b.prototype.compileNode=function(a){var b,c,e,f;return a.indent+=V,f=this.attempt.compileToFragments(a,C),b=this.recovery?(e=new D("_error"),this.errorVariable?this.recovery.unshift(new d(this.errorVariable,e)):void 0,[].concat(this.makeCode(" catch ("),e.compileToFragments(a),this.makeCode(") {\n"),this.recovery.compileToFragments(a,C),this.makeCode("\n"+this.tab+"}"))):this.ensure||this.recovery?[]:[this.makeCode(" catch (_error) {}")],c=this.ensure?[].concat(this.makeCode(" finally {\n"),this.ensure.compileToFragments(a,C),this.makeCode("\n"+this.tab+"}")):[],[].concat(this.makeCode(""+this.tab+"try {\n"),f,this.makeCode("\n"+this.tab+"}"),b,c)},b}(e),a.Throw=X=function(a){function b(a){this.expression=a}return xb(b,a),b.prototype.nodeType=function(){return"Throw"},b.prototype.children=["expression"],b.prototype.isStatement=ab,b.prototype.jumps=G,b.prototype.makeReturn=W,b.prototype.compileNode=function(a){return[].concat(this.makeCode(this.tab+"throw "),this.expression.compileToFragments(a),this.makeCode(";"))},b}(e),a.Existence=l=function(a){function b(a){this.expression=a}return xb(b,a),b.prototype.nodeType=function(){return"Existence"},b.prototype.children=["expression"],b.prototype.invert=F,b.prototype.compileNode=function(a){var b,c,d,e;return this.expression.front=this.front,d=this.expression.compile(a,A),q.test(d)&&!a.scope.check(d)?(e=this.negated?["===","||"]:["!==","&&"],b=e[0],c=e[1],d="typeof "+d+" "+b+' "undefined" '+c+" "+d+" "+b+" null"):d=""+d+" "+(this.negated?"==":"!=")+" null",[this.makeCode(y>=a.level?d:"("+d+")")]},b}(e),a.Parens=L=function(a){function b(a){this.body=a}return xb(b,a),b.prototype.nodeType=function(){return"Parens"},b.prototype.children=["body"],b.prototype.unwrap=function(){return this.body},b.prototype.isComplex=function(){return this.body.isComplex()},b.prototype.compileNode=function(a){var b,c,d;return c=this.body.unwrap(),c instanceof $&&c.isAtomic()?(c.front=this.front,c.compileToFragments(a)):(d=c.compileToFragments(a,B),b=A>a.level&&(c instanceof J||c instanceof g||c instanceof o&&c.returns),b?d:this.wrapInBraces(d))},b}(e),a.For=o=function(a){function b(a,b){var c;this.source=b.source,this.guard=b.guard,this.step=b.step,this.name=b.name,this.index=b.index,this.body=f.wrap([a]),this.own=!!b.own,this.object=!!b.object,this.object&&(c=[this.index,this.name],this.name=c[0],this.index=c[1]),this.index instanceof $&&this.index.error("index cannot be a pattern matching expression"),this.range=this.source instanceof $&&this.source.base instanceof N&&!this.source.properties.length,this.pattern=this.name instanceof $,this.range&&this.index&&this.index.error("indexes do not apply to range loops"),this.range&&this.pattern&&this.name.error("cannot pattern match over range loops"),this.own&&!this.object&&this.name.error("cannot use own with for-in"),this.returns=!1}return xb(b,a),b.prototype.nodeType=function(){return"For"},b.prototype.children=["body","source","guard","step"],b.prototype.compileNode=function(a){var b,c,e,g,h,i,j,k,l,m,n,o,p,r,s,t,v,w,x,y,A,B,E,F,G,I,J,K,M,N,P,Q,R,S;return b=f.wrap([this.body]),w=null!=(R=kb(b.expressions))?R.jumps():void 0,w&&w instanceof O&&(this.returns=!1),J=this.range?this.source.base:this.source,I=a.scope,this.pattern||(y=this.name&&this.name.compile(a,z)),r=this.index&&this.index.compile(a,z),y&&!this.pattern&&I.find(y),r&&I.find(r),this.returns&&(G=I.freeVariable("results")),s=this.object&&r||I.freeVariable("i"),t=this.range&&y||r||s,v=t!==s?""+t+" = ":"",this.step&&!this.range&&(S=this.cacheToCodeFragments(this.step.cache(a,z)),K=S[0],N=S[1],M=N.match(H)),this.pattern&&(y=s),Q="",n="",j="",o=this.tab+V,this.range?m=J.compileToFragments(mb(a,{index:s,name:y,step:this.step})):(P=this.source.compile(a,z),!y&&!this.own||q.test(P)||(j+=""+this.tab+(B=I.freeVariable("ref"))+" = "+P+";\n",P=B),y&&!this.pattern&&(A=""+y+" = "+P+"["+t+"]"),this.object||(K!==N&&(j+=""+this.tab+K+";\n"),this.step&&M&&(l=0>ob(M[0]))||(x=I.freeVariable("len")),h=""+v+s+" = 0, "+x+" = "+P+".length",i=""+v+s+" = "+P+".length - 1",e=""+s+" < "+x,g=""+s+" >= 0",this.step?(M?l&&(e=g,h=i):(e=""+N+" > 0 ? "+e+" : "+g,h="("+N+" > 0 ? ("+h+") : "+i+")"),p=""+s+" += "+N):p=""+(t!==s?"++"+s:""+s+"++"),m=[this.makeCode(""+h+"; "+e+"; "+v+p)])),this.returns&&(E=""+this.tab+G+" = [];\n",F="\n"+this.tab+"return "+G+";",b.makeReturn(G)),this.guard&&(b.expressions.length>1?b.expressions.unshift(new u(new L(this.guard).invert(),new D("continue"))):this.guard&&(b=f.wrap([new u(this.guard,b)]))),this.pattern&&b.expressions.unshift(new d(this.name,new D(""+P+"["+t+"]"))),k=[].concat(this.makeCode(j),this.pluckDirectCall(a,b)),A&&(Q="\n"+o+A+";"),this.object&&(m=[this.makeCode(""+t+" in "+P)],this.own&&(n="\n"+o+"if (!"+tb("hasProp")+".call("+P+", "+t+")) continue;")),c=b.compileToFragments(mb(a,{indent:o}),C),c&&c.length>0&&(c=[].concat(this.makeCode("\n"),c,this.makeCode("\n"))),[].concat(k,this.makeCode(""+(E||"")+this.tab+"for ("),m,this.makeCode(") {"+n+Q),c,this.makeCode(""+this.tab+"}"+(F||"")))},b.prototype.pluckDirectCall=function(a,b){var c,e,f,h,j,k,l,m,n,o,p,q,r,s,t,u;for(e=[],o=b.expressions,j=m=0,n=o.length;n>m;j=++m)f=o[j],f=f.unwrapAll(),f instanceof g&&(l=null!=(p=f.variable)?p.unwrapAll():void 0,(l instanceof i||l instanceof $&&(null!=(q=l.base)?q.unwrapAll():void 0)instanceof i&&1===l.properties.length&&("call"===(r=null!=(s=l.properties[0].name)?s.value:void 0)||"apply"===r))&&(h=(null!=(t=l.base)?t.unwrapAll():void 0)||l,k=new D(a.scope.freeVariable("fn")),c=new $(k),l.base&&(u=[c,l],l.base=u[0],c=u[1]),b.expressions[j]=new g(c,f.args),e=e.concat(this.makeCode(this.tab),new d(k,h).compileToFragments(a,C),this.makeCode(";\n"))));return e},b}(_),a.Switch=U=function(a){function b(a,b,c){this.subject=a,this.cases=b,this.otherwise=c}return xb(b,a),b.prototype.nodeType=function(){return"Switch"},b.prototype.children=["subject","cases","otherwise"],b.prototype.isStatement=ab,b.prototype.jumps=function(a){var b,c,d,e,f,g,h,i;for(null==a&&(a={block:!0}),g=this.cases,e=0,f=g.length;f>e;e++)if(h=g[e],c=h[0],b=h[1],d=b.jumps(a))return d;return null!=(i=this.otherwise)?i.jumps(a):void 0},b.prototype.makeReturn=function(a){var b,c,d,e,g;for(e=this.cases,c=0,d=e.length;d>c;c++)b=e[c],b[1].makeReturn(a);return a&&(this.otherwise||(this.otherwise=new f([new D("void 0")]))),null!=(g=this.otherwise)&&g.makeReturn(a),this},b.prototype.compileNode=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;for(i=a.indent+V,j=a.indent=i+V,g=[].concat(this.makeCode(this.tab+"switch ("),this.subject?this.subject.compileToFragments(a,B):this.makeCode("false"),this.makeCode(") {\n")),o=this.cases,h=k=0,m=o.length;m>k;h=++k){for(p=o[h],e=p[0],b=p[1],q=gb([e]),l=0,n=q.length;n>l;l++)d=q[l],this.subject||(d=d.invert()),g=g.concat(this.makeCode(i+"case "),d.compileToFragments(a,B),this.makeCode(":\n"));if((c=b.compileToFragments(a,C)).length>0&&(g=g.concat(c,this.makeCode("\n"))),h===this.cases.length-1&&!this.otherwise)break;f=this.lastNonComment(b.expressions),f instanceof O||f instanceof D&&f.jumps()&&"debugger"!==f.value||g.push(d.makeCode(j+"break;\n"))}return this.otherwise&&this.otherwise.expressions.length&&g.push.apply(g,[this.makeCode(i+"default:\n")].concat(zb.call(this.otherwise.compileToFragments(a,C)),[this.makeCode("\n")])),g.push(this.makeCode(this.tab+"}")),g},b}(e),a.If=u=function(a){function b(a,b,c){this.body=b,null==c&&(c={}),this.rawCondition=a,this.condition="unless"===c.type?a.invert():a,this.elseBody=null,this.elseToken=null,this.isChain=!1,this.soak=c.soak}return xb(b,a),b.prototype.nodeType=function(){return"If"},b.prototype.children=["condition","body","elseBody"],b.prototype.bodyNode=function(){var a;return null!=(a=this.body)?a.unwrap():void 0},b.prototype.elseBodyNode=function(){var a;return null!=(a=this.elseBody)?a.unwrap():void 0},b.prototype.addElse=function(a,c){return this.isChain?this.elseBodyNode().addElse(a,c):(this.isChain=a instanceof b,this.elseBody=this.ensureBlock(a),this.elseBody.updateLocationDataIfMissing(a.locationData),this.elseToken=c),this},b.prototype.isStatement=function(a){var b;return(null!=a?a.level:void 0)===C||this.bodyNode().isStatement(a)||(null!=(b=this.elseBodyNode())?b.isStatement(a):void 0)},b.prototype.jumps=function(a){var b;return this.body.jumps(a)||(null!=(b=this.elseBody)?b.jumps(a):void 0)},b.prototype.compileNode=function(a){return this.isStatement(a)?this.compileStatement(a):this.compileExpression(a)},b.prototype.makeReturn=function(a){return a&&(this.elseBody||(this.elseBody=new f([new D("void 0")]))),this.body&&(this.body=new f([this.body.makeReturn(a)])),this.elseBody&&(this.elseBody=new f([this.elseBody.makeReturn(a)])),this},b.prototype.ensureBlock=function(a){return a instanceof f?a:new f([a])},b.prototype.compileStatement=function(a){var c,d,e,f,g,h,i;return e=db(a,"chainChild"),(g=db(a,"isExistentialEquals"))?new b(this.condition.invert(),this.elseBodyNode(),{type:"if"}).compileToFragments(a):(i=a.indent+V,f=this.condition.compileToFragments(a,B),d=this.ensureBlock(this.body).compileToFragments(mb(a,{indent:i})),h=[].concat(this.makeCode("if ("),f,this.makeCode(") {\n"),d,this.makeCode("\n"+this.tab+"}")),e||h.unshift(this.makeCode(this.tab)),this.elseBody?(c=h.concat(this.makeCode(" else ")),this.isChain?(a.chainChild=!0,c=c.concat(this.elseBody.unwrap().compileToFragments(a,C))):c=c.concat(this.makeCode("{\n"),this.elseBody.compileToFragments(mb(a,{indent:i}),C),this.makeCode("\n"+this.tab+"}")),c):h)},b.prototype.compileExpression=function(a){var b,c,d,e;return d=this.condition.compileToFragments(a,y),c=this.bodyNode().compileToFragments(a,z),b=this.elseBodyNode()?this.elseBodyNode().compileToFragments(a,z):[this.makeCode("void 0")],e=d.concat(this.makeCode(" ? "),c,this.makeCode(" : "),b),a.level>=y?this.wrapInBraces(e):e},b.prototype.unfoldSoak=function(){return this.soak&&this},b}(e),Z={"extends":function(){return"function(child, parent) { for (var key in parent) { if ("+tb("hasProp")+".call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; }"},bind:function(){return"function(fn, me){ return function(){ return fn.apply(me, arguments); }; }"},indexOf:function(){return"[].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; }"},modulo:function(){return"function(a, b) { return (+a % (b = +b) + b) % b; }"},hasProp:function(){return"{}.hasOwnProperty"},slice:function(){return"[].slice"}},C=1,B=2,z=3,y=4,A=5,x=6,V="  ",r="[$A-Za-z_\\x7f-\\uffff][$\\w\\x7f-\\uffff]*",q=RegExp("^"+r+"$"),P=/^[+-]?\d+$/,p=/^[+-]?0x[\da-f]+/i,H=/^[+-]?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)$/i,E=RegExp("^("+r+")(\\.prototype)?(?:\\.("+r+")|\\[(\"(?:[^\\\\\"\\r\\n]|\\\\.)*\"|'(?:[^\\\\'\\r\\n]|\\\\.)*')\\]|\\[(0x[\\da-fA-F]+|\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\])$"),t=/^['"]/,s=/^\//,tb=function(a){var b;return b="__"+a,R.root.assign(b,Z[a]()),b},nb=function(a,b){return a=a.replace(/\n/g,"$&"+b),a.replace(/\s+$/,"")},ob=function(a){return null==a?0:a.match(p)?parseInt(a,16):parseFloat(a)},ib=function(a){return a instanceof D&&"arguments"===a.value&&!a.asKey},jb=function(a){return a instanceof D&&"this"===a.value&&!a.asKey||a instanceof i&&a.bound||a instanceof g&&a.isSuper},sb=function(a,b,c){var d;return(d=b[c].unfoldSoak(a))?(b[c]=d.body,d.body=new $(b),d):void 0}}.call(this),b.exports}(),require["./sourcemap"]=function(){var a={},b={exports:a};return function(){var a,c;a=function(){function a(a){this.line=a,this.columns=[]}return a.prototype.add=function(a,b,c){var d,e;return e=b[0],d=b[1],null==c&&(c={}),this.columns[a]&&c.noReplace?void 0:this.columns[a]={line:this.line,column:a,sourceLine:e,sourceColumn:d}},a.prototype.sourceLocation=function(a){for(var b;!((b=this.columns[a])||0>=a);)a--;return b&&[b.sourceLine,b.sourceColumn]},a}(),c=function(){function b(){this.lines=[]}var c,d,e,f;return b.prototype.add=function(b,c,d){var e,f,g,h;return null==d&&(d={}),f=c[0],e=c[1],g=(h=this.lines)[f]||(h[f]=new a(f)),g.add(e,b,d)},b.prototype.sourceLocation=function(a){var b,c,d;for(c=a[0],b=a[1];!((d=this.lines[c])||0>=c);)c--;return d&&d.sourceLocation(b)},b.prototype.generate=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;for(null==a&&(a={}),null==b&&(b=null),l=0,d=0,f=0,e=0,j=!1,c="",q=this.lines,h=m=0,o=q.length;o>m;h=++m)if(g=q[h])for(r=g.columns,n=0,p=r.length;p>n;n++)if(i=r[n]){for(;i.line>l;)d=0,j=!1,c+=";",l++;j&&(c+=",",j=!1),c+=this.encodeVlq(i.column-d),d=i.column,c+=this.encodeVlq(0),c+=this.encodeVlq(i.sourceLine-f),f=i.sourceLine,c+=this.encodeVlq(i.sourceColumn-e),e=i.sourceColumn,j=!0}return k={version:3,file:a.generatedFile||"",sourceRoot:a.sourceRoot||"",sources:a.sourceFiles||[""],names:[],mappings:c},a.inline&&(k.sourcesContent=[b]),JSON.stringify(k,null,2)},e=5,d=1<<e,f=d-1,b.prototype.encodeVlq=function(a){var b,c,g,h;for(b="",g=0>a?1:0,h=(Math.abs(a)<<1)+g;h||!b;)c=h&f,h>>=e,h&&(c|=d),b+=this.encodeBase64(c);return b},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b.prototype.encodeBase64=function(a){return c[a]||function(){throw Error("Cannot Base64 encode value: "+a)}()},b}(),b.exports=c}.call(this),b.exports}(),require["./coffee-script"]=function(){var a={},b={exports:a};return function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t={}.hasOwnProperty,u=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};if(g=require("fs"),n=require("vm"),l=require("path"),b=require("./lexer").Lexer,k=require("./parser").parser,i=require("./helpers"),c=require("./sourcemap"),a.VERSION="1.7.1",a.FILE_EXTENSIONS=[".coffee",".litcoffee",".coffee.md"],a.helpers=i,o=function(a){return function(b,c){var d;null==c&&(c={});try{return a.call(this,b,c)}catch(e){throw d=e,i.updateSyntaxError(d,b,c.filename)}}},a.compile=d=o(function(a,b){var d,e,f,g,h,l,m,n,o,p,q,r,s;for(p=i.merge,g=i.extend,b=g({},b),b.sourceMap&&(o=new c),l=k.parse(j.tokenize(a,b)).compileToFragments(b),f=0,b.header&&(f+=1),b.shiftLine&&(f+=1),e=0,n="",r=0,s=l.length;s>r;r++)h=l[r],b.sourceMap&&(h.locationData&&o.add([h.locationData.first_line,h.locationData.first_column],[f,e],{noReplace:!0}),q=i.count(h.code,"\n"),f+=q,q?e=h.code.length-(h.code.lastIndexOf("\n")+1):e+=h.code.length),n+=h.code;return b.header&&(m="Generated by CoffeeScript "+this.VERSION,n="// "+m+"\n"+n),b.sourceMap?(d={js:n},d.sourceMap=o,d.v3SourceMap=o.generate(b,a),d):n
}),a.tokens=o(function(a,b){return j.tokenize(a,b)}),a.nodes=o(function(a,b){return k.parse("string"==typeof a?j.tokenize(a,b):a)}),a.run=function(a,b){var c,e,f,h;return null==b&&(b={}),f=require.main,f.filename=process.argv[1]=b.filename?g.realpathSync(b.filename):".",f.moduleCache&&(f.moduleCache={}),e=b.filename?l.dirname(g.realpathSync(b.filename)):g.realpathSync("."),f.paths=require("module")._nodeModulePaths(e),(!i.isCoffee(f.filename)||require.extensions)&&(c=d(a,b),a=null!=(h=c.js)?h:c),f._compile(a,f.filename)},a.eval=function(a,b){var c,e,f,g,h,i,j,k,m,o,p,q,r,s;if(null==b&&(b={}),a=a.trim()){if(e=n.Script){if(null!=b.sandbox){if(b.sandbox instanceof e.createContext().constructor)j=b.sandbox;else{j=e.createContext(),q=b.sandbox;for(g in q)t.call(q,g)&&(k=q[g],j[g]=k)}j.global=j.root=j.GLOBAL=j}else j=global;if(j.__filename=b.filename||"eval",j.__dirname=l.dirname(j.__filename),j===global&&!j.module&&!j.require){for(c=require("module"),j.module=p=new c(b.modulename||"eval"),j.require=s=function(a){return c._load(a,p,!0)},p.filename=j.__filename,r=Object.getOwnPropertyNames(require),m=0,o=r.length;o>m;m++)i=r[m],"paths"!==i&&(s[i]=require[i]);s.paths=p.paths=c._nodeModulePaths(process.cwd()),s.resolve=function(a){return c._resolveFilename(a,p)}}}h={};for(g in b)t.call(b,g)&&(k=b[g],h[g]=k);return h.bare=!0,f=d(a,h),j===global?n.runInThisContext(f):n.runInContext(f,j)}},a.register=function(){return require("./register")},require.extensions)for(s=this.FILE_EXTENSIONS,q=0,r=s.length;r>q;q++)e=s[q],null==(p=require.extensions)[e]&&(p[e]=function(){throw Error("Use CoffeeScript.register() or require the coffee-script/register module to require "+e+" files.")});a._compileFile=function(a,b){var c,e,f,h;null==b&&(b=!1),f=g.readFileSync(a,"utf8"),h=65279===f.charCodeAt(0)?f.substring(1):f;try{c=d(h,{filename:a,sourceMap:b,literate:i.isLiterate(a)})}catch(j){throw e=j,i.updateSyntaxError(e,h,a)}return c},j=new b,k.lexer={lex:function(){var a,b;return b=this.tokens[this.pos++],b?(a=b[0],this.yytext=b[1],this.yylloc=b[2],this.errorToken=b.origin||b,this.yylineno=this.yylloc.first_line):a="",a},setInput:function(a){return this.tokens=a,this.pos=0},upcomingInput:function(){return""}},k.yy=require("./nodes"),k.yy.parseError=function(a,b){var c,d,e,f,g,h,j;return g=b.token,j=k.lexer,f=j.errorToken,h=j.tokens,d=f[0],e=f[1],c=f[2],e=f===h[h.length-1]?"end of input":"INDENT"===d||"OUTDENT"===d?"indentation":i.nameWhitespaceCharacter(e),i.throwSyntaxError("unexpected "+e,c)},f=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n;return f=void 0,e="",a.isNative()?e="native":(a.isEval()?(f=a.getScriptNameOrSourceURL(),f||(e=""+a.getEvalOrigin()+", ")):f=a.getFileName(),f||(f="<anonymous>"),j=a.getLineNumber(),d=a.getColumnNumber(),l=b(f,j,d),e=l?""+f+":"+l[0]+":"+l[1]:""+f+":"+j+":"+d),g=a.getFunctionName(),h=a.isConstructor(),i=!(a.isToplevel()||h),i?(k=a.getMethodName(),n=a.getTypeName(),g?(m=c="",n&&g.indexOf(n)&&(m=""+n+"."),k&&g.indexOf("."+k)!==g.length-k.length-1&&(c=" [as "+k+"]"),""+m+g+c+" ("+e+")"):""+n+"."+(k||"<anonymous>")+" ("+e+")"):h?"new "+(g||"<anonymous>")+" ("+e+")":g?""+g+" ("+e+")":e},m={},h=function(b){var c,d;return m[b]?m[b]:(d=null!=l?l.extname(b):void 0,0>u.call(a.FILE_EXTENSIONS,d)?void 0:(c=a._compileFile(b,!0),m[b]=c.sourceMap))},Error.prepareStackTrace=function(b,c){var d,e,g;return g=function(a,b,c){var d,e;return e=h(a),e&&(d=e.sourceLocation([b-1,c-1])),d?[d[0]+1,d[1]+1]:null},e=function(){var b,e,h;for(h=[],b=0,e=c.length;e>b&&(d=c[b],d.getFunction()!==a.run);b++)h.push("  at "+f(d,g));return h}(),""+b+"\n"+e.join("\n")+"\n"}}.call(this),b.exports}(),require["./browser"]=function(){var exports={},module={exports:exports};return function(){var CoffeeScript,compile,runScripts,__indexOf=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};CoffeeScript=require("./coffee-script"),CoffeeScript.require=require,compile=CoffeeScript.compile,CoffeeScript.eval=function(code,options){return null==options&&(options={}),null==options.bare&&(options.bare=!0),eval(compile(code,options))},CoffeeScript.run=function(a,b){return null==b&&(b={}),b.bare=!0,b.shiftLine=!0,Function(compile(a,b))()},"undefined"!=typeof window&&null!==window&&("undefined"!=typeof btoa&&null!==btoa&&"undefined"!=typeof JSON&&null!==JSON&&"undefined"!=typeof unescape&&null!==unescape&&"undefined"!=typeof encodeURIComponent&&null!==encodeURIComponent&&(compile=function(a,b){var c,d,e;return null==b&&(b={}),b.sourceMap=!0,b.inline=!0,e=CoffeeScript.compile(a,b),c=e.js,d=e.v3SourceMap,""+c+"\n//# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(d)))+"\n//# sourceURL=coffeescript"}),CoffeeScript.load=function(a,b,c,d){var e;return null==c&&(c={}),null==d&&(d=!1),c.sourceFiles=[a],e=window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLHTTP"):new window.XMLHttpRequest,e.open("GET",a,!0),"overrideMimeType"in e&&e.overrideMimeType("text/plain"),e.onreadystatechange=function(){var f,g;if(4===e.readyState){if(0!==(g=e.status)&&200!==g)throw Error("Could not load "+a);if(f=[e.responseText,c],d||CoffeeScript.run.apply(CoffeeScript,f),b)return b(f)}},e.send(null)},runScripts=function(){var a,b,c,d,e,f,g,h,i,j,k;for(h=window.document.getElementsByTagName("script"),b=["text/coffeescript","text/literate-coffeescript"],a=function(){var a,c,d,e;for(e=[],a=0,c=h.length;c>a;a++)f=h[a],d=f.type,__indexOf.call(b,d)>=0&&e.push(f);return e}(),e=0,c=function(){var b;return b=a[e],b instanceof Array?(CoffeeScript.run.apply(CoffeeScript,b),e++,c()):void 0},i=function(d,e){var f;return f={literate:d.type===b[1]},d.src?CoffeeScript.load(d.src,function(b){return a[e]=b,c()},f,!0):(f.sourceFiles=["embedded"],a[e]=[d.innerHTML,f])},d=j=0,k=a.length;k>j;d=++j)g=a[d],i(g,d);return c()},window.addEventListener?window.addEventListener("DOMContentLoaded",runScripts,!1):window.attachEvent("onload",runScripts))}.call(this),module.exports}(),require["./coffee-script"]}();"function"==typeof define&&define.amd?define("coffee-script",[],function(){return CoffeeScript}):root.CoffeeScript=CoffeeScript}(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b},c=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};define("droplet-coffee",["droplet-helper","droplet-model","droplet-parser","coffee-script"],function(a,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;return z={},g=["any-drop"],i=["block-only"],n=["mostly-block"],o=["mostly-value"],u=["value-only"],m=["lvalue"],l=["forbid-all"],r=["prop-access"],h=["fd","bk","rt","lt","slide","movexy","moveto","jump","jumpto","turnto","home","pen","fill","dot","box","mirror","twist","scale","pause","st","ht","cs","cg","ct","pu","pd","pe","pf","play","tone","silence","speed","wear","drawon","label","reload","see","sync","send","recv","click","mousemove","mouseup","mousedown","keyup","keydown","keypress","alert","prompt","done","tick"],t=["abs","acos","asin","atan","atan2","cos","sin","tan","ceil","floor","round","exp","ln","log10","pow","sqrt","max","min","random","pagexy","getxy","direction","distance","shown","hidden","inside","touches","within","notwithin","nearest","pressed","canvas","hsl","hsla","rgb","rgba","cell"],k=["button","read","readstr","readnum","write","table","append","finish","loadscript"],s=["break","continue"],q={"||":1,"&&":2,"instanceof":3,"===":3,"!==":3,">":3,"<":3,">=":3,"<=":3,"+":4,"-":4,"*":5,"/":5,"%":6,"**":7,"%%":7},v=function(){return!0},p=function(){return!1},D=function(a){return function(){var b,c,d;for(d=[],b=0,c=Math.max(0,a);c>=0?c>b:b>c;c>=0?b++:b--)d.push(" ");return d}().join("")},C=function(a){var b;return b=[],b.push(a.nodeType()),"Call"!==a.nodeType()||a["do"]||a.isNew||b.push("works-as-method-call"),b},x=function(a){return a.eachChild(function(b){return b.dropletParent=a,x(b)}),a},z.CoffeeScriptParser=j=function(a){function d(a){var b,c,e,f,g;for(this.text=a,d.__super__.constructor.apply(this,arguments),this.lines=this.text.split("\n"),this.hasLineBeenMarked={},g=this.lines,b=e=0,f=g.length;f>e;b=++e)c=g[b],this.hasLineBeenMarked[b]=!1}return b(d,a),d.prototype.markRoot=function(){var a,b,c,d,e,g,h,i;for(this.stripComments(),e=Math.max(1,Math.min(5,Math.ceil(this.lines.length/2))),b=null;;){try{g=f.nodes(this.text),x(g),d=g.expressions;break}catch(j){if(a=j,null==b&&(b=a),!(e>0&&B(this.lines,a)))throw b.location&&(b.loc={line:b.location.first_line,column:b.location.first_column}),b;this.text=this.lines.join("\n")}e-=1}for(h=0,i=d.length;i>h;h++)c=d[h],this.mark(c,3,0,null,0);return this.wrapSemicolons(d,0)},d.prototype.isComment=function(a){return null!=a.match(/^\s*#.*$/)},d.prototype.stripComments=function(){var a,b,c,d,e,g,h,i,j,k;try{e=f.tokens(this.text,{rewrite:!1,preserveComments:!0})}catch(l){throw c=l,c.location&&(c.loc={line:c.location.first_line,column:c.location.first_column}),c}for(g=0,i=e.length;i>g;g++)if(d=e[g],"COMMENT"===d[0])if(d[2].first_line===d[2].last_line)b=this.lines[d[2].first_line],this.lines[d[2].first_line]=b.slice(0,d[2].first_column)+D(d[2].last_column-d[2].first_column+1)+b.slice(d[2].last_column);else for(b=this.lines[d[2].first_line],this.lines[d[2].first_line]=b.slice(0,d[2].first_column)+D(b.length-d[2].first_column),this.lines[d[2].last_line]=D(d[2].last_column+1)+this.lines[d[2].last_line].slice(d[2].last_column+1),a=h=j=d[2].first_line+1,k=d[2].last_line;k>=j?k>h:h>k;a=k>=j?++h:--h)this.lines[a]=D(this.lines[a].length);return null},d.prototype.mark=function(a,b,d,e,f){var j,p,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob;switch(a.nodeType()){case"Block":if(0===a.expressions.length)return;for(p=this.getBounds(a),L=!1,D=Q=jb=p.start.line,kb=p.end.line;kb>=jb?kb>=Q:Q>=kb;D=kb>=jb?++Q:--Q)L||(L=this.hasLineBeenMarked[D]);if(0!==this.lines[p.start.line].slice(0,p.start.column).trim().length&&(L=!0),L)this.csSocket(a,b,0);else{for(N=this.lines[a.locationData.first_line],O=N.length-N.trimLeft().length;p.start.line>0&&0===this.lines[p.start.line-1].trim().length;)p.start.line-=1,p.start.column=this.lines[p.start.line].length+1;p.start.line-=1,p.start.column=this.lines[p.start.line].length+1,this.addIndent({depth:b,bounds:p,prefix:this.lines[a.locationData.first_line].slice(f,O)}),f=O}for(vb=a.expressions,R=0,U=vb.length;U>R;R++)y=vb[R],this.mark(y,b+3,0,null,f);return this.wrapSemicolons(a.expressions,b);case"Parens":if(null!=a.body){if("Block"!==a.body.nodeType())return this.mark(a.body,b+1,0,null!=e?e:a,f);if(a.body.unwrap()===a.body){for(this.csBlock(a,b,-2,"command",null,n),Bb=a.body.expressions,Ib=[],S=0,V=Bb.length;V>S;S++)y=Bb[S],Ib.push(this.csSocketAndMark(y,b+1,-2,f));return Ib}return this.mark(a.body.unwrap(),b+1,0,null!=e?e:a,f)}break;case"Op":if(null!=a.first&&null!=a.second&&"+"===a.operator&&(A=this.getBounds(a.first),K=this.getBounds(a.second),E=this.lines.slice(A.end.line,+K.start.line+1||9e9).join("\n"),C=E.slice(A.end.column,-(this.lines[K.start.line].length-K.start.column)),-1===C.indexOf("+")))return;if(a.first&&!a.second&&("+"===(Cb=a.operator)||"-"===Cb)&&"Literal"===(null!=(Db=a.first)&&null!=(Eb=Db.base)&&"function"==typeof Eb.nodeType?Eb.nodeType():void 0))return;if(this.csBlock(a,b,q[a.operator],"value",e,u),this.csSocketAndMark(a.first,b+1,q[a.operator],f),null!=a.second)return this.csSocketAndMark(a.second,b+1,q[a.operator],f);break;case"Existence":return this.csBlock(a,b,100,"value",e,u),this.csSocketAndMark(a.expression,b+1,101,f);case"In":return this.csBlock(a,b,0,"value",e,u),this.csSocketAndMark(a.object,b+1,0,f),this.csSocketAndMark(a.array,b+1,0,f);case"Value":if(null!=a.properties&&a.properties.length>0){for(this.csBlock(a,b,0,"value",e,o),this.csSocketAndMark(a.base,b+1,0,f),Fb=a.properties,Jb=[],T=0,X=Fb.length;X>T;T++)J=Fb[T],Jb.push("Access"===J.nodeType()?this.csSocketAndMark(J.name,b+1,-2,f,r):"Index"===J.nodeType()?this.csSocketAndMark(J.index,b+1,0,f):void 0);return Jb}return"Literal"===a.base.nodeType()&&""===a.base.value?(z=this.csBlock(a.base,b,0,"value",e,g),z.flagToRemove=!0):"Literal"===a.base.nodeType()&&/^#/.test(a.base.value)?(this.csBlock(a.base,b,0,"blank",e,g),x=this.csSocket(a.base,b+1,-2),x.flagToStrip={left:2,right:1}):this.mark(a.base,b+1,0,e,f);case"Literal":return Gb=a.value,c.call(s,Gb)>=0?this.csBlock(a,b,0,"return",e,i):0;case"Literal":case"Bool":case"Undefined":case"Null":return 0;case"Call":if(null!=a.variable?(F=null,P=!1,(null!=(Hb=a.variable.properties)?Hb.length:void 0)>0?(F=null!=(lb=a.variable.properties[a.variable.properties.length-1].name)?lb.value:void 0,G=a.variable.properties[a.variable.properties.length-1].name):(null!=(mb=a.variable.base)?mb.value:void 0)&&(F=a.variable.base.value,G=a.variable.base),c.call(h,F)>=0?this.csBlock(a,b,0,"command",e,n):c.call(t,F)>=0?this.csBlock(a,b,0,"value",e,o):(this.csBlock(a,b,0,"command",e,g),P=!(c.call(k,F)>=0)),("Literal"!==(null!=(nb=a.variable.base)?nb.nodeType():void 0)||(null!=(ob=a.variable.properties)?ob.length:void 0)>1)&&(P=!0),(null!=F?F.length:void 0)>1&&(null!=G?G.locationData:void 0)&&G.locationData.first_column===G.locationData.last_column&&G.locationData.first_line===G.locationData.last_line&&(P=!1),P?this.csSocketAndMark(a.variable,b+1,0,f):(null!=(pb=a.variable.properties)?pb.length:void 0)>0&&this.csSocketAndMark(a.variable.base,b+1,0,f)):this.csBlock(a,b,0,"command",e,g),!a["do"]){for(qb=a.args,Kb=[],B=db=0,Y=qb.length;Y>db;B=++db)j=qb[B],d=0,B===a.args.length-1&&(d=-1),Kb.push(this.csSocketAndMark(j,b+1,d,f));return Kb}break;case"Code":for(this.csBlock(a,b,0,"value",e,u),rb=a.params,eb=0,Z=rb.length;Z>eb;eb++)I=rb[eb],this.csSocketAndMark(I,b+1,0,f,l);return this.mark(a.body,b+1,0,null,f);case"Assign":return this.csBlock(a,b,0,"command",e,n),this.csSocketAndMark(a.variable,b+1,0,f,m),this.csSocketAndMark(a.value,b+1,0,f);case"For":for(this.csBlock(a,b,-3,"control",e,n),sb=["source","from","guard","step"],fb=0,$=sb.length;$>fb;fb++)v=sb[fb],null!=a[v]&&this.csSocketAndMark(a[v],b+1,0,f);for(tb=["index","name"],gb=0,_=tb.length;_>gb;gb++)v=tb[gb],null!=a[v]&&this.csSocketAndMark(a[v],b+1,0,f,l);return this.mark(a.body,b+1,0,null,f);case"Range":return this.csBlock(a,b,100,"value",e,u),this.csSocketAndMark(a.from,b,0,f),this.csSocketAndMark(a.to,b,0,f);case"If":if(this.csBlock(a,b,0,"control",e,n),this.csSocketAndMark(a.rawCondition,b+1,0,f),this.mark(a.body,b+1,0,null,f),null!=a.elseBody)return this.flagLineAsMarked(a.elseToken.first_line),this.mark(a.elseBody,b+1,0,null,f);break;case"Arr":for(this.csBlock(a,b,100,"violet",e,u),a.objects.length>0&&this.csIndentAndMark(f,a.objects,b+1),ub=a.objects,Lb=[],hb=0,ab=ub.length;ab>hb;hb++)H=ub[hb],Lb.push("Value"!==H.nodeType()||"Literal"!==H.base.nodeType()||0!==(wb=null!=(xb=H.properties)?xb.length:void 0)&&void 0!==wb?void 0:this.csBlock(H,b+2,100,"return",null,u));return Lb;case"Return":if(this.csBlock(a,b,0,"return",e,i),null!=a.expression)return this.csSocketAndMark(a.expression,b+1,0,f);break;case"While":return this.csBlock(a,b,-3,"control",e,n),this.csSocketAndMark(a.rawCondition,b+1,0,f),null!=a.guard&&this.csSocketAndMark(a.guard,b+1,0,f),this.mark(a.body,b+1,0,null,f);case"Switch":for(this.csBlock(a,b,0,"control",e,n),null!=a.subject&&this.csSocketAndMark(a.subject,b+1,0,f),yb=a.cases,ib=0,bb=yb.length;bb>ib;ib++){if(M=yb[ib],M[0].constructor===Array)for(zb=M[0],Nb=0,cb=zb.length;cb>Nb;Nb++)w=zb[Nb],this.csSocketAndMark(w,b+1,0,f);else this.csSocketAndMark(M[0],b+1,0,f);this.mark(M[1],b+1,0,null,f)}if(null!=a.otherwise)return this.mark(a.otherwise,b+1,0,null,f);break;case"Class":if(this.csBlock(a,b,0,"control",e,g),null!=a.variable&&this.csSocketAndMark(a.variable,b+1,0,f,l),null!=a.parent&&this.csSocketAndMark(a.parent,b+1,0,f),null!=a.body)return this.mark(a.body,b+1,0,null,f);break;case"Obj":for(this.csBlock(a,b,0,"violet",e,u),Ab=a.properties,Mb=[],Ob=0,W=Ab.length;W>Ob;Ob++)J=Ab[Ob],"Assign"===J.nodeType()?(this.csSocketAndMark(J.variable,b+1,0,f,l),Mb.push(this.csSocketAndMark(J.value,b+1,0,f))):Mb.push(void 0);return Mb}},d.prototype.locationsAreIdentical=function(a,b){return a.line===b.line&&a.column===b.column},d.prototype.boundMin=function(a,b){return a.line<b.line?a:b.line<a.line?b:a.column<b.column?a:b},d.prototype.boundMax=function(a,b){return a.line<b.line?b:b.line<a.line?a:a.column<b.column?b:a},d.prototype.getBounds=function(a){var b,c,d,e,f,g,h,i,j;for(b={start:{line:a.locationData.first_line,column:a.locationData.first_column},end:{line:a.locationData.last_line,column:a.locationData.last_column+1}},"Block"===a.nodeType()&&(a.expressions.length>0?b.end=this.getBounds(a.expressions[a.expressions.length-1]).end:b.start=b.end),"If"===a.nodeType()&&(b.start=this.boundMin(b.start,this.getBounds(a.body).start),b.end=this.boundMax(this.getBounds(a.rawCondition).end,this.getBounds(a.body).end),null!=a.elseBody&&(b.end=this.boundMax(b.end,this.getBounds(a.elseBody).end))),"While"===a.nodeType()&&(b.start=this.boundMin(b.start,this.getBounds(a.body).start),b.end=this.boundMax(b.end,this.getBounds(a.body).end),null!=a.guard&&(b.end=this.boundMax(b.end,this.getBounds(a.guard).end))),"Code"===a.nodeType()&&null!=a.body&&(b.end=this.getBounds(a.body).end);0===this.lines[b.end.line].slice(0,b.end.column).trim().length;)b.end.line-=1,b.end.column=this.lines[b.end.line].length+1;if("Value"===a.nodeType()&&(b=this.getBounds(a.base),null!=a.properties&&a.properties.length>0))for(g=a.properties,e=0,f=g.length;f>e;e++)d=g[e],b.end=this.boundMax(b.end,this.getBounds(d).end);return("Arr"===(null!=(h=a.dropletParent)&&"function"==typeof h.nodeType?h.nodeType():void 0)||"Value"===(null!=(i=a.dropletParent)&&"function"==typeof i.nodeType?i.nodeType():void 0)&&"Arr"===(null!=(j=a.dropletParent.dropletParent)&&"function"==typeof j.nodeType?j.nodeType():void 0))&&(c=this.lines[b.end.line].slice(b.end.column).match(/^\s*,\s*/),null!=c&&(b.end.column+=c[0].length)),b},d.prototype.flagLineAsMarked=function(a){var b;for(this.hasLineBeenMarked[a]=!0,b=[];"\\"===this.lines[a][this.lines[a].length-1];)a+=1,b.push(this.hasLineBeenMarked[a]=!0);return b},d.prototype.addMarkup=function(a,b){return d.__super__.addMarkup.apply(this,arguments),this.flagLineAsMarked(b.start.line),a},d.prototype.csBlock=function(a,b,c,d,e,f){return null==f&&(f=[]),this.addBlock({bounds:this.getBounds(null!=e?e:a),depth:b,precedence:c,color:d,classes:C(a).concat(f),parenWrapped:null!=e})},d.prototype.csIndent=function(a,b,c,d){var e,f,g,h;return e=this.getBounds(b).start,f=this.getBounds(c).end,0===this.lines[e.line].slice(0,e.column).trim().length&&(e.line-=1,e.column=this.lines[e.line].length),e.line!==f.line?(h=this.lines[f.line].length-this.lines[f.line].trimLeft().length,g=this.lines[f.line].slice(a,h)):(h=a+2,g="  "),this.addIndent({bounds:{start:e,end:f},depth:d,prefix:g}),h},d.prototype.csIndentAndMark=function(a,b,c){var d,e,f,g,h;for(e=this.csIndent(a,b[0],b[b.length-1],c),h=[],f=0,g=b.length;g>f;f++)d=b[f],h.push(this.mark(d,c+1,0,null,e));return h},d.prototype.csSocket=function(a,b,c,d){return null==d&&(d=[]),this.addSocket({bounds:this.getBounds(a),depth:b,precedence:c,classes:C(a).concat(d)})},d.prototype.csSocketAndMark=function(a,b,c,d,e){var f;return f=this.csSocket(a,b,c,e),this.mark(a,b+1,c,null,d),f},d.prototype.wrapSemicolonLine=function(a,b,c,d){var e,f,h,i,j;for(f={start:a.start,end:b.end},this.addBlock({bounds:f,depth:d+1,precedence:-2,color:"command",socketLevel:g,classes:["semicolon"]}),j=[],h=0,i=c.length;i>h;h++)e=c[h],j.push(this.csSocket(e,d+2,-2));return j},d.prototype.wrapSemicolons=function(a,b){var c,d,e,f,g,h,i,j,k;for(f=h=e=g=null,i=[],j=0,k=a.length;k>j;j++)d=a[j],c=this.getBounds(d),c.start.line===(null!=e?e.end.line:void 0)?(h=d,g=c,i.push(d)):(null!=h&&this.wrapSemicolonLine(e,g,i,b),f=d,h=null,e=this.getBounds(d),g=null,i=[d]);return null!=h?this.wrapSemicolonLine(e,g,i,b):void 0},d}(e.Parser),B=function(a,b){var d;return/unexpected\s*(?:newline|if|for|while|switch|unless|end of input)/.test(b.message)&&/^\s*(?:if|for|while|unless)\s+\S+/.test(a[b.location.first_line])?w(a,b.location.first_line):/unexpected/.test(b.message)?y(a,b.location.first_line):/missing "/.test(b.message)&&c.call(a[b.location.first_line],'"')>=0?y(a,b.location.first_line):/unmatched|missing \)/.test(b.message)&&(d=A(a,b.location.first_line),null!==d)?y(a,d):null},A=function(){return null},y=function(a,b){return 0>b||b>=a.length?!1:/`/.test(a[b])||/^\s*$/.test(a[b])?!1:(a[b]=a[b].replace(/^(\s*)(\S.*\S|\S)(\s*)$/,"$1`#$2`$3"),!0)},w=function(a,b){var c;return 0>b||b>=a.length?!1:b+1<a.length&&/^\s*``$/.test(a[b+1])?!1:(c=/^\s*/.exec(a[b]),!c||c[0].length>=a[b].length?!1:a.splice(b+1,0,c[0]+"  ``"))},j.empty="``",j.drop=function(b,d){var e,f;if("socket"===d.type){if(c.call(d.classes,"lvalue")>=0)return c.call(b.classes,"Value")>=0&&(null!=(e=b.properties)?e.length:void 0)>0?a.ENCOURAGE:a.FORBID;if(c.call(d.classes,"property-access")>=0)return c.call(b.classes,"works-as-method-call")>=0?a.ENCOURAGE:a.FORBID;if(c.call(b.classes,"value-only")>=0||c.call(b.classes,"mostly-value")>=0||c.call(b.classes,"any-drop")>=0)return a.ENCOURAGE;if(c.call(b.classes,"mostly-block")>=0)return a.DISCOURAGE}else if("indent"===(f=d.type)||"segment"===f){if(c.call(b.classes,"block-only")>=0||c.call(b.classes,"mostly-block")>=0||c.call(b.classes,"any-drop")>=0||"segment"===b.type)return a.ENCOURAGE;if(c.call(b.classes,"mostly-value")>=0)return a.DISCOURAGE}return a.DISCOURAGE},j.parens=function(a,b,c,d){if(b=b.replace(/\s*,\s*$/,""),null===d||"socket"!==d.type||d.precedence<c.precedence)for(;;){if(null==a.match(/^\s*\(/)||null==b.match(/\)\s*/))break;a=a.replace(/^\s*\(\s*/,""),b=b.replace(/^\s*\)\s*/,"")}else a="("+a,b+=")";return[a,b]},e.makeParser(j),j})}.call(this),function(a,b){return"object"==typeof exports&&"object"==typeof module?b(exports):"function"==typeof define&&define.amd?define("acorn",["exports"],b):void b(a.acorn||(a.acorn={}))}(this,function(a){function b(a){Yb=a||{};for(var b in ac)U(Yb,b)||(Yb[b]=ac[b]);_b=Yb.sourceFile||null,Vd=Yb.ecmaVersion>=6?Ud:Td}function c(a,b){var c=bc(Zb,a);b+=" ("+c.line+":"+c.column+")";var d=new SyntaxError(b);throw d.pos=a,d.loc=c,d.raisedAt=dc,d}function d(a){function b(a){if(1==a.length)return c+="return str === "+JSON.stringify(a[0])+";";c+="switch(str){";for(var b=0;b<a.length;++b)c+="case "+JSON.stringify(a[b])+":";c+="return true}return false;"}a=a.split(" ");var c="",d=[];a:for(var e=0;e<a.length;++e){for(var f=0;f<d.length;++f)if(d[f][0].length==a[e].length){d[f].push(a[e]);continue a}d.push([a[e]])}if(d.length>3){d.sort(function(a,b){return b.length-a.length}),c+="switch(str.length){";for(var e=0;e<d.length;++e){var g=d[e];c+="case "+g[0].length+":",b(g)}c+="}"}else b(a);return new Function("str",c)}function e(){this.line=lc,this.column=dc-mc}function f(){lc=Yb.line,dc=mc=0,kc=!0,uc=0,vc=!1,j()}function g(a,b,c){fc=dc,Yb.locations&&(hc=new e),ic=a,c!==!1&&j(),jc=b,kc=a.beforeExpr,Yb.onToken&&Yb.onToken(cc())}function h(){var a=Yb.onComment&&Yb.locations&&new e,b=dc,d=Zb.indexOf("*/",dc+=2);if(-1===d&&c(dc-2,"Unterminated comment"),dc=d+2,Yb.locations){ae.lastIndex=b;for(var f;(f=ae.exec(Zb))&&f.index<dc;)++lc,mc=f.index+f[0].length}Yb.onComment&&Yb.onComment(!0,Zb.slice(b+2,d),b,dc,a,Yb.locations&&new e)}function i(){for(var a=dc,b=Yb.onComment&&Yb.locations&&new e,c=Zb.charCodeAt(dc+=2);$b>dc&&10!==c&&13!==c&&8232!==c&&8233!==c;)++dc,c=Zb.charCodeAt(dc);Yb.onComment&&Yb.onComment(!1,Zb.slice(a+2,dc),a,dc,b,Yb.locations&&new e)}function j(){for(;$b>dc;){var a=Zb.charCodeAt(dc);if(32===a)++dc;else if(13===a){++dc;var b=Zb.charCodeAt(dc);10===b&&++dc,Yb.locations&&(++lc,mc=dc)}else if(10===a||8232===a||8233===a)++dc,Yb.locations&&(++lc,mc=dc);else if(a>8&&14>a)++dc;else if(47===a){var b=Zb.charCodeAt(dc+1);if(42===b)h();else{if(47!==b)break;i()}}else if(160===a)++dc;else{if(!(a>=5760&&Wd.test(String.fromCharCode(a))))break;++dc}}}function k(){var a=Zb.charCodeAt(dc+1);if(a>=48&&57>=a)return z(!0);var b=Zb.charCodeAt(dc+2);return Yb.ecmaVersion>=6&&46===a&&46===b?(dc+=3,g(rd)):(++dc,g(qd))}function l(){var a=Zb.charCodeAt(dc+1);return kc?(++dc,w()):61===a?v(yd,2):v(wd,1)}function m(a){var b=Zb.charCodeAt(dc+1);return 61===b?v(yd,2):v(42===a?Ld:Kd,1)}function n(a){var b=Zb.charCodeAt(dc+1);return b===a?v(124===a?Bd:Cd,2):61===b?v(yd,2):v(124===a?Dd:Fd,1)}function o(){var a=Zb.charCodeAt(dc+1);return 61===a?v(yd,2):v(Ed,1)}function p(a){var b=Zb.charCodeAt(dc+1);return b===a?45==b&&62==Zb.charCodeAt(dc+2)&&_d.test(Zb.slice(oc,dc))?(dc+=3,i(),j(),u()):v(zd,2):61===b?v(yd,2):v(Jd,1)}function q(a){var b=Zb.charCodeAt(dc+1),c=1;return b===a?(c=62===a&&62===Zb.charCodeAt(dc+2)?3:2,61===Zb.charCodeAt(dc+c)?v(yd,c+1):v(Id,c)):33==b&&60==a&&45==Zb.charCodeAt(dc+2)&&45==Zb.charCodeAt(dc+3)?(dc+=4,i(),j(),u()):(61===b&&(c=61===Zb.charCodeAt(dc+2)?3:2),v(Hd,c))}function r(a){var b=Zb.charCodeAt(dc+1);return 61===b?v(Gd,61===Zb.charCodeAt(dc+2)?3:2):61===a&&62===b&&Yb.ecmaVersion>=6?(dc+=2,g(td)):v(61===a?xd:Ad,1)}function s(a){if(ic===zc){if(96===a)return++dc,g(ud);if(36===a&&123===Zb.charCodeAt(dc+1))return dc+=2,g(vd)}return 125===a?(++dc,g(kd,void 0,!1)):C()}function t(a){switch(a){case 46:return k();case 40:return++dc,g(ld);case 41:return++dc,g(md);case 59:return++dc,g(od);case 44:return++dc,g(nd);case 91:return++dc,g(hd);case 93:return++dc,g(id);case 123:return++dc,g(jd);case 125:return++dc,g(kd);case 58:return++dc,g(pd);case 63:return++dc,g(sd);case 96:if(Yb.ecmaVersion>=6)return++dc,g(ud,void 0,!1);case 48:var b=Zb.charCodeAt(dc+1);if(120===b||88===b)return y(16);if(Yb.ecmaVersion>=6){if(111===b||79===b)return y(8);if(98===b||66===b)return y(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return z(!1);case 34:case 39:return B(a);case 47:return l();case 37:case 42:return m(a);case 124:case 38:return n(a);case 94:return o();case 43:case 45:return p(a);case 60:case 62:return q(a);case 61:case 33:return r(a);case 126:return v(Ad,1)}return!1}function u(a){if(a?dc=ec+1:ec=dc,Yb.locations&&(gc=new e),a)return w();if(dc>=$b)return g(Bc);var b=Zb.charCodeAt(dc);if(vc)return s(b);if(be(b)||92===b)return G();var d=t(b);if(d===!1){var f=String.fromCharCode(b);if("\\"===f||Zd.test(f))return G();c(dc,"Unexpected character '"+f+"'")}return d}function v(a,b){var c=Zb.slice(dc,dc+b);dc+=b,g(a,c)}function w(){for(var a,b,d="",e=dc;;){dc>=$b&&c(e,"Unterminated regular expression");var f=Zb.charAt(dc);if(_d.test(f)&&c(e,"Unterminated regular expression"),a)a=!1;else{if("["===f)b=!0;else if("]"===f&&b)b=!1;else if("/"===f&&!b)break;a="\\"===f}++dc}var d=Zb.slice(e,dc);++dc;var h=F();h&&!/^[gmsiy]*$/.test(h)&&c(e,"Invalid regular expression flag");try{var i=new RegExp(d,h)}catch(j){j instanceof SyntaxError&&c(e,"Error parsing regular expression: "+j.message),c(j)}return g(yc,i)}function x(a,b){for(var c=dc,d=0,e=0,f=null==b?1/0:b;f>e;++e){var g,h=Zb.charCodeAt(dc);if(g=h>=97?h-97+10:h>=65?h-65+10:h>=48&&57>=h?h-48:1/0,g>=a)break;++dc,d=d*a+g}return dc===c||null!=b&&dc-c!==b?null:d}function y(a){dc+=2;var b=x(a);return null==b&&c(ec+2,"Expected number in radix "+a),be(Zb.charCodeAt(dc))&&c(dc,"Identifier directly after number"),g(xc,b)}function z(a){var b=dc,d=!1,e=48===Zb.charCodeAt(dc);a||null!==x(10)||c(b,"Invalid number"),46===Zb.charCodeAt(dc)&&(++dc,x(10),d=!0);var f=Zb.charCodeAt(dc);(69===f||101===f)&&(f=Zb.charCodeAt(++dc),(43===f||45===f)&&++dc,null===x(10)&&c(b,"Invalid number"),d=!0),be(Zb.charCodeAt(dc))&&c(dc,"Identifier directly after number");var h,i=Zb.slice(b,dc);return d?h=parseFloat(i):e&&1!==i.length?/[89]/.test(i)||tc?c(b,"Invalid number"):h=parseInt(i,8):h=parseInt(i,10),g(xc,h)}function A(){var a,b=Zb.charCodeAt(dc);if(123===b?(Yb.ecmaVersion<6&&T(),++dc,a=E(Zb.indexOf("}",dc)-dc),++dc,a>1114111&&T()):a=E(4),65535>=a)return String.fromCharCode(a);var c=(a-65536>>10)+55296,d=(a-65536&1023)+56320;return String.fromCharCode(c,d)}function B(a){++dc;for(var b="";;){dc>=$b&&c(ec,"Unterminated string constant");var d=Zb.charCodeAt(dc);if(d===a)return++dc,g(zc,b);92===d?b+=D():(++dc,_d.test(String.fromCharCode(d))&&c(ec,"Unterminated string constant"),b+=String.fromCharCode(d))}}function C(){for(var a="";;){dc>=$b&&c(ec,"Unterminated string constant");var b=Zb.charCodeAt(dc);if(96===b||36===b&&123===Zb.charCodeAt(dc+1))return g(zc,a);92===b?a+=D():(++dc,_d.test(String.fromCharCode(b))&&(13===b&&10===Zb.charCodeAt(dc)&&(++dc,b=10),Yb.locations&&(++lc,mc=dc)),a+=String.fromCharCode(b))}}function D(){var a=Zb.charCodeAt(++dc),b=/^[0-7]+/.exec(Zb.slice(dc,dc+3));for(b&&(b=b[0]);b&&parseInt(b,8)>255;)b=b.slice(0,-1);if("0"===b&&(b=null),++dc,b)return tc&&c(dc-2,"Octal literal in strict mode"),dc+=b.length-1,String.fromCharCode(parseInt(b,8));switch(a){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(E(2));case 117:return A();case 85:return String.fromCharCode(E(8));case 116:return"	";case 98:return"\b";case 118:return"";case 102:return"\f";case 48:return"\x00";case 13:10===Zb.charCodeAt(dc)&&++dc;case 10:return Yb.locations&&(mc=dc,++lc),"";default:return String.fromCharCode(a)}}function E(a){var b=x(16,a);return null===b&&c(ec,"Bad character escape sequence"),b}function F(){Nd=!1;for(var a,b=!0,d=dc;;){var e=Zb.charCodeAt(dc);if(ce(e))Nd&&(a+=Zb.charAt(dc)),++dc;else{if(92!==e)break;Nd||(a=Zb.slice(d,dc)),Nd=!0,117!=Zb.charCodeAt(++dc)&&c(dc,"Expecting Unicode escape sequence \\uXXXX"),++dc;var f=E(4),g=String.fromCharCode(f);g||c(dc-1,"Invalid Unicode escape"),(b?be(f):ce(f))||c(dc-4,"Invalid Unicode escape"),a+=g}b=!1}return Nd?a:Zb.slice(d,dc)}function G(){var a=F(),b=Ac;return!Nd&&Vd(a)&&(b=gd[a]),g(b,a)}function H(){nc=ec,oc=fc,pc=hc,u()}function I(a){if(tc=a,dc=ec,Yb.locations)for(;mc>dc;)mc=Zb.lastIndexOf("\n",mc-2)+1,--lc;j(),u()}function J(){this.type=null,this.start=ec,this.end=null}function K(){this.start=gc,this.end=null,null!==_b&&(this.source=_b)}function L(){var a=new J;return Yb.locations&&(a.loc=new K),Yb.directSourceFile&&(a.sourceFile=Yb.directSourceFile),Yb.ranges&&(a.range=[ec,0]),a}function M(a){var b=new J;return b.start=a.start,Yb.locations&&(b.loc=new K,b.loc.start=a.loc.start),Yb.ranges&&(b.range=[a.range[0],0]),b}function N(a,b){return a.type=b,a.end=oc,Yb.locations&&(a.loc.end=pc),Yb.ranges&&(a.range[1]=oc),a}function O(a){return Yb.ecmaVersion>=5&&"ExpressionStatement"===a.type&&"Literal"===a.expression.type&&"use strict"===a.expression.value}function P(a){return ic===a?(H(),!0):!1}function Q(){return!Yb.strictSemicolons&&(ic===Bc||ic===kd||_d.test(Zb.slice(oc,ec)))}function R(){P(od)||Q()||T()}function S(a){P(a)||T()}function T(a){c(null!=a?a:ec,"Unexpected token")}function U(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function V(a,b,c){if(Yb.ecmaVersion>=6&&a)switch(a.type){case"Identifier":case"MemberExpression":break;case"ObjectExpression":a.type="ObjectPattern";for(var d=0;d<a.properties.length;d++){var e=a.properties[d];"init"!==e.kind&&T(e.key.start),V(e.value,!1,c)}break;case"ArrayExpression":a.type="ArrayPattern";for(var d=0,f=a.elements.length-1;f>=d;d++)V(a.elements[d],d===f,c);break;case"SpreadElement":b?(V(a.argument,!1,c),W(a.argument)):T(a.start);break;default:c&&T(a.start)}return a}function W(a){"Identifier"!==a.type&&"ArrayPattern"!==a.type&&T(a.start)}function X(a,b){switch(a.type){case"Identifier":(Qd(a.name)||Rd(a.name))&&c(a.start,"Defining '"+a.name+"' in strict mode"),U(b,a.name)&&c(a.start,"Argument name clash in strict mode"),b[a.name]=!0;break;case"ObjectPattern":for(var d=0;d<a.properties.length;d++)X(a.properties[d].value,b);break;case"ArrayPattern":for(var d=0;d<a.elements.length;d++)X(a.elements[d],b)}}function Y(a,b){if(!a.computed){var d,e=a.key;switch(e.type){case"Identifier":d=e.name;break;case"Literal":d=String(e.value);
break;default:return}var f,g=a.kind||"init";if(U(b,d)){f=b[d];var h="init"!==g;((tc||h)&&f[g]||!(h^f.init))&&c(e.start,"Redefinition of property")}else f=b[d]={init:!1,get:!1,set:!1};f[g]=!0}}function Z(a,b){switch(a.type){case"Identifier":tc&&(Rd(a.name)||Qd(a.name))&&c(a.start,b?"Binding "+a.name+" in strict mode":"Assigning to "+a.name+" in strict mode");break;case"MemberExpression":if(!b)break;case"ObjectPattern":for(var d=0;d<a.properties.length;d++)Z(a.properties[d].value,b);break;case"ArrayPattern":for(var d=0;d<a.elements.length;d++){var e=a.elements[d];e&&Z(e,b)}break;case"SpreadElement":break;default:c(a.start,"Assigning to rvalue")}}function $(a){nc=oc=dc,Yb.locations&&(pc=new e),qc=rc=tc=null,sc=[],u();var b=a||L(),c=!0;for(a||(b.body=[]);ic!==Bc;){var d=_();b.body.push(d),c&&O(d)&&I(!0),c=!1}return N(b,"Program")}function _(){(ic===wd||ic===yd&&"/="==jc)&&u(!0);var a=ic,b=L();switch(a){case Cc:case Fc:return ab(b,a.keyword);case Gc:return bb(b);case Ic:return cb(b);case Lc:return db(b);case Mc:return eb(b);case Zc:return Pb(b,!0);case Nc:return fb(b);case Oc:return gb(b);case Pc:return hb(b);case Qc:return ib(b);case Rc:return jb(b);case Sc:case Tc:case Uc:return kb(b,a.keyword);case Vc:return lb(b);case Wc:return mb(b);case jd:return rb();case od:return nb(b);case _c:return Sb(b);case ad:return Ub(b);default:var c=jc,d=vb();return a===Ac&&"Identifier"===d.type&&P(pd)?ob(b,c,d):pb(b,d)}}function ab(a,b){var d="break"==b;H(),P(od)||Q()?a.label=null:ic!==Ac?T():(a.label=Rb(),R());for(var e=0;e<sc.length;++e){var f=sc[e];if(null==a.label||f.name===a.label.name){if(null!=f.kind&&(d||"loop"===f.kind))break;if(a.label&&d)break}}return e===sc.length&&c(a.start,"Unsyntactic "+b),N(a,d?"BreakStatement":"ContinueStatement")}function bb(a){return H(),R(),N(a,"DebuggerStatement")}function cb(a){return H(),sc.push(de),a.body=_(),sc.pop(),S(Vc),a.test=qb(),R(),N(a,"DoWhileStatement")}function db(a){if(H(),sc.push(de),S(ld),ic===od)return sb(a,null);if(ic===Sc||ic===Tc){var b=L(),c=ic.keyword,d=ic===Tc;return H(),ub(b,!0,c),N(b,"VariableDeclaration"),ic!==fd&&(ic!==Ac||"of"!==jc)||1!==b.declarations.length||d&&b.declarations[0].init?sb(a,b):tb(a,b)}var b=vb(!1,!0);return ic===fd||ic===Ac&&"of"===jc?(Z(b),tb(a,b)):sb(a,b)}function eb(a){return H(),Kb(a,!0)}function fb(a){return H(),a.test=qb(),a.consequent=_(),a.alternate=P(Jc)?_():null,N(a,"IfStatement")}function gb(a){return qc||Yb.allowReturnOutsideFunction||c(ec,"'return' outside of function"),H(),P(od)||Q()?a.argument=null:(a.argument=vb(),R()),N(a,"ReturnStatement")}function hb(a){H(),a.discriminant=qb(),a.cases=[],S(jd),sc.push(ee);for(var b,d;ic!=kd;)if(ic===Dc||ic===Hc){var e=ic===Dc;b&&N(b,"SwitchCase"),a.cases.push(b=L()),b.consequent=[],H(),e?b.test=vb():(d&&c(nc,"Multiple default clauses"),d=!0,b.test=null),S(pd)}else b||T(),b.consequent.push(_());return b&&N(b,"SwitchCase"),H(),sc.pop(),N(a,"SwitchStatement")}function ib(a){return H(),_d.test(Zb.slice(oc,ec))&&c(oc,"Illegal newline after throw"),a.argument=vb(),R(),N(a,"ThrowStatement")}function jb(a){if(H(),a.block=rb(),a.handler=null,ic===Ec){var b=L();H(),S(ld),b.param=Rb(),tc&&Rd(b.param.name)&&c(b.param.start,"Binding "+b.param.name+" in strict mode"),S(md),b.guard=null,b.body=rb(),a.handler=N(b,"CatchClause")}return a.guardedHandlers=wc,a.finalizer=P(Kc)?rb():null,a.handler||a.finalizer||c(a.start,"Missing catch or finally clause"),N(a,"TryStatement")}function kb(a,b){return H(),ub(a,!1,b),R(),N(a,"VariableDeclaration")}function lb(a){return H(),a.test=qb(),sc.push(de),a.body=_(),sc.pop(),N(a,"WhileStatement")}function mb(a){return tc&&c(ec,"'with' in strict mode"),H(),a.object=qb(),a.body=_(),N(a,"WithStatement")}function nb(a){return H(),N(a,"EmptyStatement")}function ob(a,b,d){for(var e=0;e<sc.length;++e)sc[e].name===b&&c(d.start,"Label '"+b+"' is already declared");var f=ic.isLoop?"loop":ic===Pc?"switch":null;return sc.push({name:b,kind:f}),a.body=_(),sc.pop(),a.label=d,N(a,"LabeledStatement")}function pb(a,b){return a.expression=b,R(),N(a,"ExpressionStatement")}function qb(){S(ld);var a=vb();return S(md),a}function rb(a){var b,c=L(),d=!0,e=!1;for(c.body=[],S(jd);!P(kd);){var f=_();c.body.push(f),d&&a&&O(f)&&(b=e,I(e=!0)),d=!1}return e&&!b&&I(!1),N(c,"BlockStatement")}function sb(a,b){return a.init=b,S(od),a.test=ic===od?null:vb(),S(od),a.update=ic===md?null:vb(),S(md),a.body=_(),sc.pop(),N(a,"ForStatement")}function tb(a,b){var c=ic===fd?"ForInStatement":"ForOfStatement";return H(),a.left=b,a.right=vb(),S(md),a.body=_(),sc.pop(),N(a,c)}function ub(a,b,c){for(a.declarations=[],a.kind=c;;){var d=L();if(d.id=Yb.ecmaVersion>=6?V(Db()):Rb(),Z(d.id,!0),d.init=P(xd)?vb(!0,b):c===Uc.keyword?T():null,a.declarations.push(N(d,"VariableDeclarator")),!P(nd))break}return a}function vb(a,b){var c=wb(b);if(!a&&ic===nd){var d=M(c);for(d.expressions=[c];P(nd);)d.expressions.push(wb(b));return N(d,"SequenceExpression")}return c}function wb(a){var b=xb(a);if(ic.isAssign){var c=M(b);return c.operator=jc,c.left=ic===xd?V(b):b,Z(b),H(),c.right=wb(a),N(c,"AssignmentExpression")}return b}function xb(a){var b=yb(a);if(P(sd)){var c=M(b);return c.test=b,c.consequent=vb(!0),S(pd),c.alternate=vb(!0,a),N(c,"ConditionalExpression")}return b}function yb(a){return zb(Ab(),-1,a)}function zb(a,b,c){var d=ic.binop;if(null!=d&&(!c||ic!==fd)&&d>b){var e=M(a);e.left=a,e.operator=jc;var f=ic;H(),e.right=zb(Ab(),d,c);var g=N(e,f===Bd||f===Cd?"LogicalExpression":"BinaryExpression");return zb(g,b,c)}return a}function Ab(){if(ic.prefix){var a=L(),b=ic.isUpdate;return a.operator=jc,a.prefix=!0,kc=!0,H(),a.argument=Ab(),b?Z(a.argument):tc&&"delete"===a.operator&&"Identifier"===a.argument.type&&c(a.start,"Deleting local variable in strict mode"),N(a,b?"UpdateExpression":"UnaryExpression")}for(var d=Bb();ic.postfix&&!Q();){var a=M(d);a.operator=jc,a.prefix=!1,a.argument=d,Z(d),H(),d=N(a,"UpdateExpression")}return d}function Bb(){return Cb(Db())}function Cb(a,b){if(P(qd)){var c=M(a);return c.object=a,c.property=Rb(!0),c.computed=!1,Cb(N(c,"MemberExpression"),b)}if(P(hd)){var c=M(a);return c.object=a,c.property=vb(),c.computed=!0,S(id),Cb(N(c,"MemberExpression"),b)}if(!b&&P(ld)){var c=M(a);return c.callee=a,c.arguments=Qb(md,!1),Cb(N(c,"CallExpression"),b)}if(ic===ud){var c=M(a);return c.tag=a,c.quasi=Gb(),Cb(N(c,"TaggedTemplateExpression"),b)}return a}function Db(){switch(ic){case Yc:var a=L();return H(),N(a,"ThisExpression");case bd:if(rc)return Wb();case Ac:var b=Rb(ic!==Ac);return P(td)?Mb(M(b),[b]):b;case xc:case zc:case yc:var a=L();return a.value=jc,a.raw=Zb.slice(ec,fc),H(),N(a,"Literal");case cd:case dd:case ed:var a=L();return a.value=ic.atomValue,a.raw=ic.keyword,H(),N(a,"Literal");case ld:var c,d,e=gc,f=ec;if(H(),Yb.ecmaVersion>=6&&ic===Lc)c=Xb(L(),!0);else{var g=++uc;if(ic!==md?(c=vb(),d="SequenceExpression"===c.type?c.expressions:[c]):d=[],S(md),uc===g&&P(td))c=Mb(L(),d);else if(c||T(nc),Yb.ecmaVersion>=6)for(var h=0;h<d.length;h++)"SpreadElement"===d[h].type&&T()}return c.start=f,c.end=oc,Yb.locations&&(c.loc.start=e,c.loc.end=pc),Yb.ranges&&(c.range=[f,oc]),c;case hd:var a=L();return H(),Yb.ecmaVersion>=6&&ic===Lc?Xb(a,!1):(a.elements=Qb(id,!0,!0),N(a,"ArrayExpression"));case jd:return Hb();case Mc:var a=L();return H(),Kb(a,!1);case Zc:return Pb(L(),!1);case Xc:return Eb();case rd:return Fb();case ud:return Gb();default:T()}}function Eb(){var a=L();return H(),a.callee=Cb(Db(),!0),a.arguments=P(ld)?Qb(md,!1):wc,N(a,"NewExpression")}function Fb(){var a=L();return H(),a.argument=vb(!0),N(a,"SpreadElement")}function Gb(){var a=L();for(a.expressions=[],a.quasis=[],vc=!0,H();;){var b=L();if(b.value={cooked:jc,raw:Zb.slice(ec,fc)},b.tail=!1,H(),a.quasis.push(N(b,"TemplateElement")),P(ud)){b.tail=!0;break}vc=!1,S(vd),a.expressions.push(vb()),vc=!0,S(kd)}return vc=!1,N(a,"TemplateLiteral")}function Hb(){var a=L(),b=!0,c={};for(a.properties=[],H();!P(kd);){if(b)b=!1;else if(S(nd),Yb.allowTrailingCommas&&P(kd))break;var d,e=L();Yb.ecmaVersion>=6&&(e.method=!1,e.shorthand=!1,d=P(Ld)),Ib(e),P(pd)?(e.value=vb(!0),e.kind="init"):Yb.ecmaVersion>=6&&ic===ld?(e.kind="init",e.method=!0,e.value=Lb(d)):Yb.ecmaVersion>=5&&!e.computed&&"Identifier"===e.key.type&&("get"===e.key.name||"set"===e.key.name)?(d&&T(),e.kind=e.key.name,Ib(e),e.value=Lb(!1)):Yb.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?(e.kind="init",e.value=e.key,e.shorthand=!0):T(),Y(e,c),a.properties.push(N(e,"Property"))}return N(a,"ObjectExpression")}function Ib(a){if(Yb.ecmaVersion>=6){if(P(hd))return a.computed=!0,a.key=vb(),void S(id);a.computed=!1}a.key=ic===xc||ic===zc?Db():Rb(!0)}function Jb(a){a.id=null,a.params=[],Yb.ecmaVersion>=6&&(a.defaults=[],a.rest=null,a.generator=!1)}function Kb(a,b,c){return Jb(a),Yb.ecmaVersion>=6&&(a.generator=P(Ld)),(b||ic===Ac)&&(a.id=Rb()),Nb(a),Ob(a,c),N(a,b?"FunctionDeclaration":"FunctionExpression")}function Lb(a){var b=L();Jb(b),Nb(b);var c;return Yb.ecmaVersion>=6?(b.generator=a,c=!0):c=!1,Ob(b,c),N(b,"FunctionExpression")}function Mb(a,b){Jb(a);for(var c=a.defaults,d=!1,e=0,f=b.length-1;f>=e;e++){var g=b[e];if("AssignmentExpression"===g.type&&"="===g.operator)d=!0,b[e]=g.left,c.push(g.right);else if(V(g,e===f,!0),c.push(null),"SpreadElement"===g.type){b.length--,a.rest=g.argument;break}}return a.params=b,d||(a.defaults=[]),Ob(a,!0),N(a,"ArrowFunctionExpression")}function Nb(a){var b=[],c=!1;for(S(ld);!P(md);){if(Yb.ecmaVersion>=6&&P(rd)){a.rest=V(Db(),!1,!0),W(a.rest),S(md);break}if(a.params.push(Yb.ecmaVersion>=6?V(Db(),!1,!0):Rb()),Yb.ecmaVersion>=6&&ic===xd&&(H(),c=!0,b.push(vb(!0))),!P(nd)){S(md);break}}c&&(a.defaults=b)}function Ob(a,b){var c=b&&ic!==jd;if(c)a.body=vb(!0),a.expression=!0;else{var d=qc,e=rc,f=sc;qc=!0,rc=a.generator,sc=[],a.body=rb(!0),a.expression=!1,qc=d,rc=e,sc=f}if(tc||!c&&a.body.body.length&&O(a.body.body[0])){var g={};a.id&&X(a.id,g);for(var h=0;h<a.params.length;h++)X(a.params[h],g);a.rest&&X(a.rest,g)}}function Pb(a,b){H(),a.id=ic===Ac?Rb():b?T():null,a.superClass=P($c)?vb():null;var c=L(),d={},e={};for(c.body=[],S(jd);!P(kd);){var f=L();ic===Ac&&"static"===jc?(H(),f["static"]=!0):f["static"]=!1;var g=P(Ld);Ib(f),ic!==Ac||f.computed||"Identifier"!==f.key.type||"get"!==f.key.name&&"set"!==f.key.name?f.kind="":(g&&T(),f.kind=f.key.name,Ib(f)),f.value=Lb(g),Y(f,f["static"]?e:d),c.body.push(N(f,"MethodDefinition")),P(od)}return a.body=N(c,"ClassBody"),N(a,b?"ClassDeclaration":"ClassExpression")}function Qb(a,b,c){for(var d=[],e=!0;!P(a);){if(e)e=!1;else if(S(nd),b&&Yb.allowTrailingCommas&&P(a))break;d.push(c&&ic===nd?null:vb(!0))}return d}function Rb(a){var b=L();return a&&"everywhere"==Yb.forbidReserved&&(a=!1),ic===Ac?(!a&&(Yb.forbidReserved&&(3===Yb.ecmaVersion?Od:Pd)(jc)||tc&&Qd(jc))&&-1==Zb.slice(ec,fc).indexOf("\\")&&c(ec,"The keyword '"+jc+"' is reserved"),b.name=jc):a&&ic.keyword?b.name=ic.keyword:T(),kc=!1,H(),N(b,"Identifier")}function Sb(a){if(H(),ic===Sc||ic===Uc||ic===Tc||ic===Mc||ic===Zc)a.declaration=_(),a["default"]=!1,a.specifiers=null,a.source=null;else if(P(Hc))a.declaration=vb(!0),a["default"]=!0,a.specifiers=null,a.source=null,R();else{var b=ic===Ld;a.declaration=null,a["default"]=!1,a.specifiers=Tb(),ic===Ac&&"from"===jc?(H(),a.source=ic===zc?Db():T()):(b&&T(),a.source=null)}return N(a,"ExportDeclaration")}function Tb(){var a=[],b=!0;if(ic===Ld){var c=L();H(),a.push(N(c,"ExportBatchSpecifier"))}else for(S(jd);!P(kd);){if(b)b=!1;else if(S(nd),Yb.allowTrailingCommas&&P(kd))break;var c=L();c.id=Rb(),ic===Ac&&"as"===jc?(H(),c.name=Rb(!0)):c.name=null,a.push(N(c,"ExportSpecifier"))}return a}function Ub(a){return H(),ic===zc?(a.specifiers=[],a.source=Db(),a.kind=""):(a.specifiers=Vb(),(ic!==Ac||"from"!==jc)&&T(),H(),a.source=ic===zc?Db():T(),a.kind=a.specifiers[0]["default"]?"default":"named"),N(a,"ImportDeclaration")}function Vb(){var a=[],b=!0;if(ic===Ld){var c=L();return H(),(ic!==Ac||"as"!==jc)&&T(),H(),c.name=Rb(),Z(c.name,!0),a.push(N(c,"ImportBatchSpecifier")),a}if(ic===Ac){var c=L();if(c.id=Rb(),Z(c.id,!0),c.name=null,c["default"]=!0,a.push(N(c,"ImportSpecifier")),!P(nd))return a}for(S(jd);!P(kd);){if(b)b=!1;else if(S(nd),Yb.allowTrailingCommas&&P(kd))break;var c=L();c.id=Rb(!0),ic===Ac&&"as"===jc?(H(),c.name=Rb()):c.name=null,Z(c.name||c.id,!0),c["default"]=!1,a.push(N(c,"ImportSpecifier"))}return a}function Wb(){var a=L();return H(),P(od)||Q()?(a.delegate=!1,a.argument=null):(a.delegate=P(Ld),a.argument=vb(!0)),N(a,"YieldExpression")}function Xb(a,b){for(a.blocks=[];ic===Lc;){var c=L();H(),S(ld),c.left=V(Db()),Z(c.left,!0),(ic!==Ac||"of"!==jc)&&T(),H(),c.of=!0,c.right=vb(),S(md),a.blocks.push(N(c,"ComprehensionBlock"))}return a.filter=P(Nc)?qb():null,a.body=vb(),S(b?md:id),a.generator=b,N(a,"ComprehensionExpression")}a.version="0.7.1";var Yb,Zb,$b,_b;a.parse=function(a,c){return Zb=String(a),$b=Zb.length,b(c),f(),$(Yb.program)};var ac=a.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,allowReturnOutsideFunction:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,line:1},bc=a.getLineInfo=function(a,b){for(var c=Yb.line,d=0;;){ae.lastIndex=d;var e=ae.exec(a);if(!(e&&e.index<b))break;++c,d=e.index+e[0].length}return{line:c,column:b-d}},cc=function(){var a={type:ic,value:jc,start:ec,end:fc};return Yb.locations&&(a.startLoc=gc,a.endLoc=hc),a};a.tokenize=function(a,c){function d(a){return oc=fc,u(a),cc()}return Zb=String(a),$b=Zb.length,b(c),f(),d.jumpTo=function(a,b){if(dc=a,Yb.locations){lc=Yb.line,mc=ae.lastIndex=0;for(var c;(c=ae.exec(Zb))&&c.index<a;)++lc,mc=c.index+c[0].length}kc=b,j()},d};var dc,ec,fc,gc,hc,ic,jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc=[],xc={type:"num"},yc={type:"regexp"},zc={type:"string"},Ac={type:"name"},Bc={type:"eof"},Cc={keyword:"break"},Dc={keyword:"case",beforeExpr:!0},Ec={keyword:"catch"},Fc={keyword:"continue"},Gc={keyword:"debugger"},Hc={keyword:"default"},Ic={keyword:"do",isLoop:!0},Jc={keyword:"else",beforeExpr:!0},Kc={keyword:"finally"},Lc={keyword:"for",isLoop:!0},Mc={keyword:"function"},Nc={keyword:"if"},Oc={keyword:"return",beforeExpr:!0},Pc={keyword:"switch"},Qc={keyword:"throw",beforeExpr:!0},Rc={keyword:"try"},Sc={keyword:"var"},Tc={keyword:"let"},Uc={keyword:"const"},Vc={keyword:"while",isLoop:!0},Wc={keyword:"with"},Xc={keyword:"new",beforeExpr:!0},Yc={keyword:"this"},Zc={keyword:"class"},$c={keyword:"extends",beforeExpr:!0},_c={keyword:"export"},ad={keyword:"import"},bd={keyword:"yield",beforeExpr:!0},cd={keyword:"null",atomValue:null},dd={keyword:"true",atomValue:!0},ed={keyword:"false",atomValue:!1},fd={keyword:"in",binop:7,beforeExpr:!0},gd={"break":Cc,"case":Dc,"catch":Ec,"continue":Fc,"debugger":Gc,"default":Hc,"do":Ic,"else":Jc,"finally":Kc,"for":Lc,"function":Mc,"if":Nc,"return":Oc,"switch":Pc,"throw":Qc,"try":Rc,"var":Sc,let:Tc,"const":Uc,"while":Vc,"with":Wc,"null":cd,"true":dd,"false":ed,"new":Xc,"in":fd,"instanceof":{keyword:"instanceof",binop:7,beforeExpr:!0},"this":Yc,"typeof":{keyword:"typeof",prefix:!0,beforeExpr:!0},"void":{keyword:"void",prefix:!0,beforeExpr:!0},"delete":{keyword:"delete",prefix:!0,beforeExpr:!0},"class":Zc,"extends":$c,"export":_c,"import":ad,"yield":bd},hd={type:"[",beforeExpr:!0},id={type:"]"},jd={type:"{",beforeExpr:!0},kd={type:"}"},ld={type:"(",beforeExpr:!0},md={type:")"},nd={type:",",beforeExpr:!0},od={type:";",beforeExpr:!0},pd={type:":",beforeExpr:!0},qd={type:"."},rd={type:"..."},sd={type:"?",beforeExpr:!0},td={type:"=>",beforeExpr:!0},ud={type:"`"},vd={type:"${",beforeExpr:!0},wd={binop:10,beforeExpr:!0},xd={isAssign:!0,beforeExpr:!0},yd={isAssign:!0,beforeExpr:!0},zd={postfix:!0,prefix:!0,isUpdate:!0},Ad={prefix:!0,beforeExpr:!0},Bd={binop:1,beforeExpr:!0},Cd={binop:2,beforeExpr:!0},Dd={binop:3,beforeExpr:!0},Ed={binop:4,beforeExpr:!0},Fd={binop:5,beforeExpr:!0},Gd={binop:6,beforeExpr:!0},Hd={binop:7,beforeExpr:!0},Id={binop:8,beforeExpr:!0},Jd={binop:9,prefix:!0,beforeExpr:!0},Kd={binop:10,beforeExpr:!0},Ld={binop:10,beforeExpr:!0};a.tokTypes={bracketL:hd,bracketR:id,braceL:jd,braceR:kd,parenL:ld,parenR:md,comma:nd,semi:od,colon:pd,dot:qd,ellipsis:rd,question:sd,slash:wd,eq:xd,name:Ac,eof:Bc,num:xc,regexp:yc,string:zc,arrow:td,bquote:ud,dollarBraceL:vd};for(var Md in gd)a.tokTypes["_"+Md]=gd[Md];var Nd,Od=d("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Pd=d("class enum extends super const export import"),Qd=d("implements interface let package private protected public static yield"),Rd=d("eval arguments"),Sd="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",Td=d(Sd),Ud=d(Sd+" let const class extends export import yield"),Vd=Td,Wd=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Xd="--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",Yd="------------------------------------------------------------------------------------------------------------------------------------------------",Zd=new RegExp("["+Xd+"]"),$d=new RegExp("["+Xd+Yd+"]"),_d=/[\n\r\u2028\u2029]/,ae=/\r\n|[\n\r\u2028\u2029]/g,be=a.isIdentifierStart=function(a){return 65>a?36===a:91>a?!0:97>a?95===a:123>a?!0:a>=170&&Zd.test(String.fromCharCode(a))},ce=a.isIdentifierChar=function(a){return 48>a?36===a:58>a?!0:65>a?!1:91>a?!0:97>a?95===a:123>a?!0:a>=170&&$d.test(String.fromCharCode(a))};a.Node=J;var de={kind:"loop"},ee={kind:"switch"}}),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b},c=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};define("droplet-javascript",["droplet-helper","droplet-model","droplet-parser","acorn"],function(a,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r;return r={},p=["ExpressionStatement","ReturnStatement","BreakStatement","ThrowStatement"],n=100,g=["fd","bk","rt","lt","slide","movexy","moveto","jump","jumpto","turnto","home","pen","fill","dot","box","mirror","twist","scale","pause","st","ht","cs","cg","ct","pu","pd","pe","pf","play","tone","silence","speed","wear","write","drawon","label","reload","see","sync","send","recv","click","mousemove","mouseup","mousedown","keyup","keydown","keypress","alert"],q=["abs","acos","asin","atan","atan2","cos","sin","tan","ceil","floor","round","exp","ln","log10","pow","sqrt","max","min","random","pagexy","getxy","direction","distance","shown","hidden","inside","touches","within","notwithin","nearest","pressed","canvas","hsl","hsla","rgb","rgba","cell"],k=["button","read","readstr","readnum","table","append","finish","loadscript"],l=g.concat(k).concat(q),i={BinaryExpression:"value",FunctionExpression:"value",FunctionDeclaration:"violet",AssignmentExpression:"command",CallExpression:"command",ReturnStatement:"return",MemberExpression:"value",IfStatement:"control",ForStatement:"control",UpdateExpression:"command",VariableDeclaration:"command",LogicalExpression:"value",WhileStatement:"control",DoWhileStatement:"control",ObjectExpression:"value",SwitchStatement:"control",BreakStatement:"return",NewExpression:"command",ThrowStatement:"return",TryStatement:"control",ArrayExpression:"value",SequenceExpression:"command",ConditionalExpression:"value"},o={"*":5,"/":5,"%":5,"+":6,"-":6,"<<":7,">>":7,">>>":7,"<":8,">":8,">=":8,"in":8,"instanceof":8,"==":9,"!=":9,"===":9,"!==":9,"&":10,"^":10,"|":10,"&&":10,"||":10},h={ForStatement:["ends-with-brace","block-only"],FunctionDeclaration:["ends-with-brace","block-only"],IfStatement:["ends-with-brace","block-only"],WhileStatement:["ends-with-brace","block-only"],DoWhileStatement:["ends-with-brace","block-only"],SwitchStatement:["ends-with-brace","block-only"],AssignmentExpression:["mostly-block"]},j="  ",r.JavaScriptParser=m=function(d){function e(){e.__super__.constructor.apply(this,arguments),this.lines=this.text.split("\n")}return b(e,d),e.prototype.markRoot=function(){var a;return a=f.parse(this.text,{locations:!0,line:0}),this.mark(0,a,0,null)},e.prototype.getAcceptsRule=function(){return{"default":a.NORMAL}},e.prototype.getClasses=function(a){var b,d;return a.type in h?h[a.type].concat([a.type]):"CallExpression"===a.type?"Identifier"===a.callee.type&&(b=a.callee.name,c.call(g,b)>=0)?[a.type,"mostly-block"]:(d=a.callee.name,c.call(q,d)>=0?[a.type,"mostly-value"]:[a.type,"any-drop"]):null!=a.type.match(/Expression$/)?[a.type,"mostly-value"]:null!=a.type.match(/(Statement|Declaration)$/)?[a.type,"mostly-block"]:[a.type,"any-drop"]},e.prototype.getPrecedence=function(a){switch(a.type){case"BinaryExpression":return o[a.operator];case"AssignStatement":return 17;case"CallExpression":return 2;case"ExpressionStatement":return this.getPrecedence(a.expression);default:return 0}},e.prototype.getColor=function(a){var b,d;switch(a.type){case"ExpressionStatement":return this.getColor(a.expression);case"CallExpression":if("Identifier"===a.callee.type)return b=a.callee.name,c.call(g,b)>=0?"command":(d=a.callee.name,c.call(q,d)>=0?"value":"violet");break;default:return i[a.type]}},e.prototype.getSocketLevel=function(){return a.ANY_DROP},e.prototype.getBounds=function(a){var b,d,e,f,g;return"BlockStatement"===a.type?(b={start:{line:a.loc.start.line,column:a.loc.start.column+1},end:{line:a.loc.end.line,column:a.loc.end.column-1}},0===this.lines[b.end.line].slice(0,b.end.column).trim().length&&(b.end.line-=1,b.end.column=this.lines[b.end.line].length),b):(g=a.type,c.call(p,g)>=0&&(d=this.lines[a.loc.end.line],e=this.lines[a.loc.end.line].slice(a.loc.end.column-1).indexOf(";"),e>=0)?(f=this.lines[a.loc.end.line].slice(a.loc.end.column-1).match(/;\s*/)[0].length,{start:{line:a.loc.start.line,column:a.loc.start.column},end:{line:a.loc.end.line,column:a.loc.end.column+e+f-1}}):{start:{line:a.loc.start.line,column:a.loc.start.column},end:{line:a.loc.end.line,column:a.loc.end.column}})},e.prototype.getCaseIndentBounds=function(a){var b;return b={start:this.getBounds(a.consequent[0]).start,end:this.getBounds(a.consequent[a.consequent.length-1]).end},0===this.lines[b.start.line].slice(0,b.start.column).trim().length&&(b.start.line-=1,b.start.column=this.lines[b.start.line].length),0===this.lines[b.end.line].slice(0,b.end.column).trim().length&&(b.end.line-=1,b.end.column=this.lines[b.end.line].length),b},e.prototype.getIndentPrefix=function(a,b){var c;return a.end.line-a.start.line<1?j:(c=this.lines[a.start.line+1],c.slice(b,c.length-c.trimLeft().length))},e.prototype.isComment=function(a){return a.match(/^\s*\/\/.*$/)},e.prototype.mark=function(a,b,d,e){var f,g,h,i,j,k,m,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib;switch(b.type){case"Program":for(N=b.body,Z=[],s=0,w=N.length;w>s;s++)q=N[s],Z.push(this.mark(a,q,d+1,null));return Z;case"Function":return this.jsBlock(b,d,e),this.mark(a,b.body,d+1,null);case"SequenceExpression":for(this.jsBlock(b,d,e),O=b.expressions,$=[],t=0,x=O.length;x>t;t++)j=O[t],$.push(this.jsSocketAndMark(a,j,d+1,null));return $;case"FunctionDeclaration":for(this.jsBlock(b,d,e),this.mark(a,b.body,d+1,null),this.jsSocketAndMark(a,b.id,d+1,null,null,["no-drop"]),R=b.params,ab=[],u=0,z=R.length;z>u;u++)k=R[u],ab.push(this.jsSocketAndMark(a,k,d+1,null,null,["no-drop"]));return ab;case"FunctionExpression":for(this.jsBlock(b,d,e),this.mark(a,b.body,d+1,null),null!=b.id&&this.jsSocketAndMark(a,b.id,d+1,null,null,["no-drop"]),S=b.params,bb=[],v=0,A=S.length;A>v;v++)k=S[v],bb.push(this.jsSocketAndMark(a,k,d+1,null,null,["no-drop"]));return bb;case"AssignmentExpression":return this.jsBlock(b,d,e),this.jsSocketAndMark(a,b.left,d+1,null),this.jsSocketAndMark(a,b.right,d+1,null);case"ReturnStatement":if(this.jsBlock(b,d,e),null!=b.argument)return this.jsSocketAndMark(a,b.argument,d+1,null);break;case"BreakStatement":case"ContinueStatement":if(this.jsBlock(b,d,e),null!=b.label)return this.jsSocketAndMark(a,b.label,d+1,null);break;case"ThrowStatement":return this.jsBlock(b,d,e),this.jsSocketAndMark(a,b.argument,d+1,null);case"IfStatement":case"ConditionalExpression":if(this.jsBlock(b,d,e),this.jsSocketAndMark(a,b.test,d+1,n),this.jsSocketAndMark(a,b.consequent,d+1,null),null!=b.alternate)return this.jsSocketAndMark(a,b.alternate,d+1,10);break;case"ForStatement":return this.jsBlock(b,d,e),null!=b.init&&this.jsSocketAndMark(a,b.init,d+1,n,null,["for-statement-init"]),null!=b.test&&this.jsSocketAndMark(a,b.test,d+1,10),null!=b.update&&this.jsSocketAndMark(a,b.update,d+1,10),this.mark(a,b.body,d+1);case"BlockStatement":for(m=this.getIndentPrefix(this.getBounds(b),a),a+=m.length,this.addIndent({bounds:this.getBounds(b),depth:d,prefix:m}),T=b.body,cb=[],H=0,B=T.length;B>H;H++)q=T[H],cb.push(this.mark(a,q,d+1,null));return cb;case"BinaryExpression":return this.jsBlock(b,d,e),this.jsSocketAndMark(a,b.left,d+1,o[b.operator]),this.jsSocketAndMark(a,b.right,d+1,o[b.operator]);case"ExpressionStatement":return this.mark(a,b.expression,d+1,this.getBounds(b));case"Identifier":if("__"===b.name)return g=this.jsBlock(b,d,e),g.flagToRemove=!0;break;case"CallExpression":case"NewExpression":for(this.jsBlock(b,d,e),("Identifier"!==b.callee.type||(U=b.callee.name,c.call(l,U)<0))&&this.jsSocketAndMark(a,b.callee,d+1,n),V=b.arguments,db=[],I=0,C=V.length;C>I;I++)f=V[I],db.push(this.jsSocketAndMark(a,f,d+1,n));return db;case"MemberExpression":return this.jsBlock(b,d,e),this.jsSocketAndMark(a,b.object,d+1),this.jsSocketAndMark(a,b.property,d+1);case"UpdateExpression":return this.jsBlock(b,d,e),this.jsSocketAndMark(a,b.argument,d+1);case"VariableDeclaration":for(this.jsBlock(b,d,e),W=b.declarations,eb=[],J=0,D=W.length;D>J;J++)h=W[J],eb.push(this.mark(a,h,d+1));return eb;case"VariableDeclarator":if(this.jsSocketAndMark(a,b.id,d),null!=b.init)return this.jsSocketAndMark(a,b.init,d);break;case"LogicalExpression":return this.jsBlock(b,d,e),this.jsSocketAndMark(a,b.left,d+1),this.jsSocketAndMark(a,b.right,d+1);case"WhileStatement":case"DoWhileStatement":return this.jsBlock(b,d,e),this.jsSocketAndMark(a,b.body,d+1),this.jsSocketAndMark(a,b.test,d+1);case"ObjectExpression":for(this.jsBlock(b,d,e),X=b.properties,fb=[],K=0,E=X.length;E>K;K++)p=X[K],this.jsSocketAndMark(a,p.key,d+1),fb.push(this.jsSocketAndMark(a,p.value,d+1));return fb;case"SwitchStatement":for(this.jsBlock(b,d,e),this.jsSocketAndMark(a,b.discriminant,d+1),Y=b.cases,gb=[],L=0,F=Y.length;F>L;L++)r=Y[L],gb.push(this.mark(a,r,d+1,null));return gb;case"SwitchCase":if(null!=b.test&&this.jsSocketAndMark(a,b.test,d+1),b.consequent.length>0){for(e=this.getCaseIndentBounds(b),m=this.getIndentPrefix(this.getBounds(b),a),a+=m.length,this.addIndent({bounds:e,depth:d+1,prefix:m}),P=b.consequent,hb=[],M=0,G=P.length;G>M;M++)q=P[M],hb.push(this.mark(a,q,d+2));return hb}break;case"TryStatement":if(this.jsBlock(b,d,e),this.jsSocketAndMark(a,b.block,d+1,null),null!=b.handler&&(null!=b.handler.guard&&this.jsSocketAndMark(a,b.handler.guard,d+1,null),null!=b.handler.param&&this.jsSocketAndMark(a,b.handler.param,d+1,null),this.jsSocketAndMark(a,b.handler.body,d+1,null)),null!=b.finalizer)return this.jsSocketAndMark(a,b.finalizer,d+1,null);break;case"ArrayExpression":for(this.jsBlock(b,d,e),Q=b.elements,_=[],ib=0,y=Q.length;y>ib;ib++)i=Q[ib],_.push(null!=i?this.jsSocketAndMark(a,i,d+1,null):void 0);return _}},e.prototype.jsBlock=function(a,b,c){return this.addBlock({bounds:null!=c?c:this.getBounds(a),depth:b,precedence:this.getPrecedence(a),color:this.getColor(a),classes:this.getClasses(a),socketLevel:this.getSocketLevel(a)})},e.prototype.jsSocketAndMark=function(a,b,c,d,e,f){return"BlockStatement"!==b.type&&this.addSocket({bounds:null!=e?e:this.getBounds(b),depth:c,precedence:d,classes:null!=f?f:[],accepts:this.getAcceptsRule(b)}),this.mark(a,b,c+1,e)},e}(e.Parser),m.parens=function(a,b,d,e){if(b="socket"===(null!=e?e.type:void 0)||null==e&&c.call(d.classes,"mostly-value")>=0||c.call(d.classes,"value-only")>=0||c.call(d.classes,"ends-with-brace")>=0||"segment"===d.type?b.replace(/;?\s*$/,""):b.replace(/;?\s*$/,";"),null===e||"socket"!==e.type||e.precedence>d.precedence)for(;;){if(null==a.match(/^\s*\(/)||null==b.match(/\)\s*/))break;a=a.replace(/^\s*\(\s*/,""),b=b.replace(/^\s*\)\s*/,"")}else a="("+a,b+=")";return[a,b]},m.drop=function(b,d){var e,f;if("socket"===d.type){if(c.call(d.classes,"lvalue")>=0)return c.call(b.classes,"Value")>=0&&(null!=(e=b.properties)?e.length:void 0)>0?a.ENCOURAGE:a.FORBID;if(c.call(d.classes,"no-drop")>=0)return a.FORBID;if(c.call(d.classes,"property-access")>=0)return c.call(b.classes,"works-as-method-call")>=0?a.ENCOURAGE:a.FORBID;if(c.call(b.classes,"value-only")>=0||c.call(b.classes,"mostly-value")>=0||c.call(b.classes,"any-drop")>=0||c.call(d.classes,"for-statement-init")>=0)return a.ENCOURAGE;if(c.call(b.classes,"mostly-block")>=0)return a.DISCOURAGE}else if("indent"===(f=d.type)||"segment"===f){if(c.call(b.classes,"block-only")>=0||c.call(b.classes,"mostly-block")>=0||c.call(b.classes,"any-drop")>=0||"segment"===b.type)return a.ENCOURAGE;if(c.call(b.classes,"mostly-value")>=0)return a.DISCOURAGE}return a.DISCOURAGE},m.empty="__",e.makeParser(m),m})}.call(this),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b},c=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};define("droplet-controller",["droplet-helper","droplet-coffee","droplet-javascript","droplet-draw","droplet-model","droplet-view"],function(d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb;rb={coffeescript:e,coffee:e,javascript:f},L=5,K=5,G=1,J=5,u="  ",j=60,v=1e3,E=100,r=3,p=2,q=.5,t=!1,k=d.ANY_DROP,n=d.BLOCK_ONLY,H=d.MOSTLY_BLOCK,I=d.MOSTLY_VALUE,X=d.VALUE_ONLY,m=8,Q=9,z=13,D=37,V=38,N=39,w=40,Y=90,F=[91,92,93,223,224],o=[17,162,163],ub="","undefined"!=typeof window&&(null!=(yb=window.navigator)?yb.userAgent:void 0)&&(ub=window.navigator.userAgent),nb=/OS X/.test(ub),$=nb?F:o,_=function(a){return nb?a.metaKey:a.ctrlKey},fb={},gb=function(a,b){var c,d,e;d={};for(c in a)e=a[c],d[c]=e;for(c in b)e=b[c],d[c]=e;return d},bb=function(a){var b,c,d;if(a instanceof Object){c={};for(b in a)d=a[b],c[b]=bb(d);return c}return a},cb=function(b,c){var d,e;if(b instanceof Object){for(d in b)if(a.call(b,d)&&(e=b[d],!cb(c[d],e)))return!1;for(d in c)if(a.call(c,d)&&(e=c[d],!d in b&&!cb(b[d],e)))return!1;return!0}return b===c
},tb={populate:[],resize:[],resize_palette:[],redraw_main:[],redraw_palette:[],set_palette:[],mousedown:[],mousemove:[],mouseup:[],dblclick:[],keydown:[],keyup:[]},db={},mb=function(a,b,c){return tb[a].push({priority:b,fn:c})},fb.Editor=A=function(){function a(a,b){var c,e,f,j,k,l,m,n,o,p,q,r;for(this.wrapperElement=a,this.options=b,this.paletteGroups=this.options.palette,this.options.mode=this.options.mode.replace(/$\/ace\/mode\//,""),this.mode=null!=(p=rb[this.options.mode])?p:null,this.draw=new g.Draw,this.debugging=!0,this.dropletElement=document.createElement("div"),this.dropletElement.className="droplet-wrapper-div",this.dropletElement.tabIndex=0,this.wrapperElement.appendChild(this.dropletElement),this.wrapperElement.style.backgroundColor="#FFF",this.mainCanvas=document.createElement("canvas"),this.mainCanvas.className="droplet-main-canvas",this.mainCanvas.width=this.mainCanvas.height=0,this.mainCtx=this.mainCanvas.getContext("2d"),this.dropletElement.appendChild(this.mainCanvas),this.paletteWrapper=this.paletteElement=document.createElement("div"),this.paletteWrapper.className="droplet-palette-wrapper",this.paletteCanvas=document.createElement("canvas"),this.paletteCanvas.className="droplet-palette-canvas",this.paletteCanvas.height=this.paletteCanvas.width=0,this.paletteCtx=this.paletteCanvas.getContext("2d"),this.paletteWrapper.appendChild(this.paletteCanvas),this.paletteElement.style.position="absolute",this.paletteElement.style.left="0px",this.paletteElement.style.top="0px",this.paletteElement.style.bottom="0px",this.paletteElement.style.width="270px",this.dropletElement.style.left=this.paletteElement.offsetWidth+"px",this.wrapperElement.appendChild(this.paletteElement),this.draw.refreshFontCapital(),this.standardViewSettings={padding:5,indentWidth:20,textHeight:d.getFontHeight("Courier New",15),indentTongueHeight:20,tabOffset:10,tabWidth:15,tabHeight:4,tabSideWidth:.25,dropAreaHeight:20,indentDropAreaMinWidth:50,emptySocketWidth:20,emptyLineHeight:25,highlightAreaHeight:10,shadowBlur:5,ctx:this.mainCtx,draw:this.draw},this.view=new i.View(gb(this.standardViewSettings,{respectEphemeral:!0})),this.dragView=new i.View(gb(this.standardViewSettings,{respectEphemeral:!1})),e=[],q=db.populate,n=0,o=q.length;o>n;n++)c=q[n],c.call(this);window.addEventListener("resize",function(a){return function(){return a.resizeBlockMode()}}(this)),j=function(a){return function(b){var c,d,e,f,g,h;if("mousemove"===b.type||1===b.which){for(e=new a.draw.Point(b.pageX,b.pageY),d={},h=db[b.type],f=0,g=h.length;g>f;f++)c=h[f],c.call(a,e,b,d);return"mousedown"===b.type?("function"==typeof b.stopPropagation&&b.stopPropagation(),"function"==typeof b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,b.returnValue=!1,!1):void 0}}}(this),f=function(a){return function(b){var c,d,e,f,g,h;for(d={},g=db[b.type],h=[],e=0,f=g.length;f>e;e++)c=g[e],h.push(c.call(a,b,d));return h}}(this),r={keydown:[this.dropletElement,this.paletteElement],keyup:[this.dropletElement,this.paletteElement],mousedown:[this.dropletElement,this.paletteElement,this.dragCover],dblclick:[this.dropletElement,this.paletteElement,this.dragCover],mouseup:[window],mousemove:[window]},m=function(){return function(a,b){var c,d,e,g;for(g=[],d=0,e=b.length;e>d;d++)c=b[d],g.push(/^key/.test(a)?c.addEventListener(a,f):c.addEventListener(a,j));return g}}(this);for(l in r)k=r[l],m(l,k);return this.tree=new h.Segment,this.tree.start.insert(this.cursor),this.resizeBlockMode(),this.redrawMain(),this.redrawPalette(),null==this.mode&&this.setEditorState(!1),this}return a.prototype.setMode=function(a){var b;return this.mode=null!=(b=rb[this.options.mode=a])?b:null,this.setValue(this.getValue())},a.prototype.resizeTextMode=function(){return this.resizeAceElement(),this.aceEditor.resize(!0)},a.prototype.resizeBlockMode=function(){return this.resizeTextMode(),this.resizeGutter(),this.dropletElement.style.left=""+this.paletteElement.offsetWidth+"px",this.dropletElement.style.height=""+this.wrapperElement.offsetHeight+"px",this.dropletElement.style.width=""+(this.wrapperElement.offsetWidth-this.paletteWrapper.offsetWidth)+"px",this.mainCanvas.height=this.dropletElement.offsetHeight,this.mainCanvas.width=this.dropletElement.offsetWidth-this.gutter.offsetWidth,this.mainCanvas.style.height=""+this.mainCanvas.height+"px",this.mainCanvas.style.width=""+this.mainCanvas.width+"px",this.mainCanvas.style.left=""+this.gutter.offsetWidth+"px",this.transitionContainer.style.left=""+this.gutter.offsetWidth+"px",this.resizePalette(),this.resizePaletteHighlight(),this.resizeNubby(),this.resizeMainScroller(),this.resizeLassoCanvas(),this.resizeCursorCanvas(),this.resizeDragCanvas(),this.scrollOffsets.main.y=this.mainScroller.scrollTop,this.scrollOffsets.main.x=this.mainScroller.scrollLeft,this.mainCtx.setTransform(1,0,0,1,-this.scrollOffsets.main.x,-this.scrollOffsets.main.y),this.highlightCtx.setTransform(1,0,0,1,-this.scrollOffsets.main.x,-this.scrollOffsets.main.y),this.cursorCtx.setTransform(1,0,0,1,-this.scrollOffsets.main.x,-this.scrollOffsets.main.y),this.redrawMain()},a.prototype.resizePalette=function(){var a,b,c,d;for(this.paletteCanvas.style.top=""+this.paletteHeader.offsetHeight+"px",this.paletteCanvas.height=this.paletteWrapper.offsetHeight-this.paletteHeader.offsetHeight,this.paletteCanvas.width=this.paletteWrapper.offsetWidth,this.paletteCanvas.style.height=""+this.paletteCanvas.height+"px",this.paletteCanvas.style.width=""+this.paletteCanvas.width+"px",d=db.resize_palette,b=0,c=d.length;c>b;b++)a=d[b],a.call(this);return this.paletteCtx.setTransform(1,0,0,1,-this.scrollOffsets.palette.x,-this.scrollOffsets.palette.y),this.paletteHighlightCtx.setTransform(1,0,0,1,-this.scrollOffsets.palette.x,-this.scrollOffsets.palette.y),this.redrawPalette()},a}(),A.prototype.resize=function(){return this.currentlyUsingBlocks?this.resizeBlockMode():this.resizeTextMode()},A.prototype.clearMain=function(a){return null!=a.boundingRectangle?this.mainCtx.clearRect(a.boundingRectangle.x,a.boundingRectangle.y,a.boundingRectangle.width,a.boundingRectangle.height):this.mainCtx.clearRect(this.scrollOffsets.main.x,this.scrollOffsets.main.y,this.mainCanvas.width,this.mainCanvas.height)},A.prototype.setTopNubbyStyle=function(a,b){return null==a&&(a=10),null==b&&(b="#EBEBEB"),this.nubbyHeight=Math.max(0,a),this.nubbyColor=b,this.topNubbyPath=new this.draw.Path,a>=0&&(this.topNubbyPath.bevel=!0,this.topNubbyPath.push(new this.draw.Point(this.mainCanvas.width,-5)),this.topNubbyPath.push(new this.draw.Point(this.mainCanvas.width,a)),this.topNubbyPath.push(new this.draw.Point(this.view.opts.tabOffset+this.view.opts.tabWidth,a)),this.topNubbyPath.push(new this.draw.Point(this.view.opts.tabOffset+this.view.opts.tabWidth*(1-this.view.opts.tabSideWidth),this.view.opts.tabHeight+a)),this.topNubbyPath.push(new this.draw.Point(this.view.opts.tabOffset+this.view.opts.tabWidth*this.view.opts.tabSideWidth,this.view.opts.tabHeight+a)),this.topNubbyPath.push(new this.draw.Point(this.view.opts.tabOffset,a)),this.topNubbyPath.push(new this.draw.Point(-5,a)),this.topNubbyPath.push(new this.draw.Point(-5,-5)),this.topNubbyPath.style.fillColor=b),this.redrawMain()},A.prototype.resizeNubby=function(){return this.setTopNubbyStyle(this.nubbyHeight,this.nubbyColor)},A.prototype.redrawMain=function(a){var b,c,d,e,f,g,h,i;if(null==a&&(a={}),!this.currentlyAnimating_suprressRedraw){for(this.draw.setGlobalFontSize(this.fontSize),this.draw.setCtx(this.mainCtx),this.clearMain(a),this.topNubbyPath.draw(this.mainCtx),null!=a.boundingRectangle&&(this.mainCtx.save(),a.boundingRectangle.clip(this.mainCtx)),c=this.view.getViewNodeFor(this.tree).layout(0,this.nubbyHeight),this.view.getViewNodeFor(this.tree).draw(this.mainCtx,null!=(g=a.boundingRectangle)?g:new this.draw.Rectangle(this.scrollOffsets.main.x,this.scrollOffsets.main.y,this.mainCanvas.width,this.mainCanvas.height),{grayscale:0,selected:0,noText:null!=(h=a.noText)?h:!1}),this.redrawCursors(),this.redrawHighlights(),null!=a.boundingRectangle&&this.mainCtx.restore(),i=db.redraw_main,e=0,f=i.length;f>e;e++)b=i[e],b.call(this,c);return this.changeEventVersion!==this.tree.version&&(this.changeEventVersion=this.tree.version,this.suppressAceChangeEvent=!0,d=this.aceEditor.session.getScrollTop(),this.setAceValue(this.getValue()),this.suppressAceChangeEvent=!1,this.aceEditor.session.setScrollTop(d),this.fireEvent("change",[])),null}},A.prototype.redrawHighlights=function(){var a,b,c,d,e,f;this.clearHighlightCanvas(),e=this.markedLines;for(c in e)b=e[c],this.inTree(b.model)?(d=this.getHighlightPath(b.model,b.style),d.draw(this.highlightCtx)):delete this.markedLines[c];f=this.extraMarks;for(a in f)b=f[a],this.inTree(b.model)?(d=this.getHighlightPath(b.model,b.style),d.draw(this.highlightCtx)):delete this.extraMarks[a];return this.redrawCursors()},A.prototype.clearCursorCanvas=function(){return this.cursorCtx.clearRect(this.scrollOffsets.main.x,this.scrollOffsets.main.y,this.cursorCanvas.width,this.cursorCanvas.height)},A.prototype.redrawCursors=function(){return this.clearCursorCanvas(),null!=this.textFocus?this.redrawTextHighlights():null==this.lassoSegment?this.drawCursor():void 0},A.prototype.drawCursor=function(){return this.strokeCursor(this.determineCursorPosition())},A.prototype.clearPalette=function(){return this.paletteCtx.clearRect(this.scrollOffsets.palette.x,this.scrollOffsets.palette.y,this.paletteCanvas.width,this.paletteCanvas.height)},A.prototype.clearPaletteHighlightCanvas=function(){return this.paletteHighlightCtx.clearRect(this.scrollOffsets.palette.x,this.scrollOffsets.palette.y,this.paletteHighlightCanvas.width,this.paletteHighlightCanvas.height)},A.prototype.redrawPalette=function(){var a,b,c,d,e,f,g,h,i,j,k,l;for(this.clearPalette(),c=L,b=new this.draw.Rectangle(this.scrollOffsets.palette.x,this.scrollOffsets.palette.y,this.paletteCanvas.width,this.paletteCanvas.height),j=this.currentPaletteBlocks,f=0,h=j.length;h>f;f++)d=j[f],e=this.view.getViewNodeFor(d),e.layout(J,c),e.draw(this.paletteCtx,b),c=e.getBounds().bottom()+K;for(k=db.redraw_palette,l=[],g=0,i=k.length;i>g;g++)a=k[g],l.push(a.call(this));return l},A.prototype.absoluteOffset=function(a){var b;for(b=new this.draw.Point(a.offsetLeft,a.offsetTop),a=a.offsetParent;a!==document.body&&null!=a;)b.x+=a.offsetLeft-a.scrollLeft,b.y+=a.offsetTop-a.scrollTop,a=a.offsetParent;return b},A.prototype.trackerPointToMain=function(a){var b;return null==this.mainCanvas.offsetParent?new this.draw.Point(0/0,0/0):(b=this.mainCanvas.getBoundingClientRect(),new this.draw.Point(a.x-b.left+this.scrollOffsets.main.x,a.y-b.top+this.scrollOffsets.main.y))},A.prototype.trackerPointToPalette=function(a){var b;return null==this.paletteCanvas.offsetParent?new this.draw.Point(0/0,0/0):(b=this.paletteCanvas.getBoundingClientRect(),new this.draw.Point(a.x-b.left+this.scrollOffsets.palette.x,a.y-b.top+this.scrollOffsets.palette.y))},A.prototype.trackerPointIsInMain=function(a){var b;return null==this.mainCanvas.offsetParent?!1:(b=this.mainCanvas.getBoundingClientRect(),a.x>=b.left&&a.x<b.right&&a.y>=b.top&&a.y<b.bottom)},A.prototype.trackerPointIsInMainScroller=function(a){var b;return null==this.mainScroller.offsetParent?!1:(b=this.mainScroller.getBoundingClientRect(),a.x>=b.left&&a.x<b.right&&a.y>=b.top&&a.y<b.bottom)},A.prototype.trackerPointIsInPalette=function(a){var b;return null==this.paletteCanvas.offsetParent?!1:(b=this.paletteCanvas.getBoundingClientRect(),a.x>=b.left&&a.x<b.right&&a.y>=b.top&&a.y<b.bottom)},A.prototype.hitTest=function(a,b){var c,d;for(c=b.start,d=b.end;c!==d;)"blockStart"===c.type&&this.view.getViewNodeFor(c.container).path.contains(a)&&(d=c.container.end),c=c.next;return c!==b.end?c.container:"block"===b.type&&this.view.getViewNodeFor(b).path.contains(a)?b:null},mb("mousedown",10,function(){return this.dropletElement.focus()}),mb("populate",0,function(){return this.undoStack=[],this.changeEventVersion=0}),W=function(){function a(){}return a.prototype.undo=function(a){return a.tree.start},a.prototype.redo=function(a){return a.tree.start},a}(),A.prototype.removeBlankLines=function(){var a,b,c;for(a=this.tree.end.previousVisibleToken(),c=[];"newline"===(null!=a?a.type:void 0);)b=a.previousVisibleToken(),a.remove(),c.push(a=b);return c},A.prototype.addMicroUndoOperation=function(a){return this.undoStack.push(a),this.removeBlankLines()},A.prototype.undo=function(){var a;if(0!==this.undoStack.length&&(a=this.undoStack.pop(),"CAPTURE_POINT"!==a))return this.moveCursorTo(a.undo(this)),this.undo(),this.redrawMain()},A.prototype.clearUndoStack=function(){return this.undoStack.length=0},mb("keydown",0,function(a){return a.which===Y&&_(a)?this.undo():void 0}),M=function(a){function c(a){var b,c,d;for(this.block=a.clone(),b=a.start.prev;null!=(null!=b?b.prev:void 0)&&("newline"===(c=b.type)||"segmentStart"===c||"cursor"===c);)b=b.prev;this.before=null!=(d=null!=b?b.getSerializedLocation():void 0)?d:null}return b(c,a),c.prototype.undo=function(a){var b;if(null!=this.before)return a.spliceIn(b=this.block.clone(),a.tree.getTokenAtLocation(this.before)),"segment"===this.block.type&&this.block.isLassoSegment&&(a.lassoSegment=this.block),b.end},c.prototype.redo=function(a){var b;if(null!=this.before){for(b=a.tree.getTokenAtLocation(this.before);b.type!==this.block.start.type;)b=b.next;return a.spliceOut("segment"===this.block.start.type?b.container:b.container),a.tree.getTokenAtLocation(this.before)}},c}(W),y=function(a){function c(a,b){var c;this.block=a.clone(),this.dest=null!=(c=null!=b?b.getSerializedLocation():void 0)?c:null,this.displacedSocketText="socketStart"===(null!=b?b.type:void 0)?b.container.contents():null}return b(c,a),c.prototype.undo=function(a){var b;if(null!=this.dest){for(b=a.tree.getTokenAtLocation(this.dest);b.type!==this.block.start.type;)b=b.next;return a.spliceOut(b.container),null!=this.displacedSocketText&&a.tree.getTokenAtLocation(this.dest).insert(this.displacedSocketText.clone()),a.tree.getTokenAtLocation(this.dest)}},c.prototype.redo=function(a){var b;if(null!=this.dest)return a.spliceIn(b=this.block.clone(),a.tree.getTokenAtLocation(this.dest)),b.end},c}(W),A.prototype.spliceOut=function(a){var b,c,d;return b=a.getLeadingText(),c=a.getTrailingText(),d=this.mode.parens(b,c,a.getReader(),null),b=d[0],c=d[1],a.setLeadingText(b),a.setTrailingText(c),a.spliceOut()},A.prototype.spliceIn=function(a,b){var c,d,e,f,g,h,i;return d=a.getLeadingText(),e=a.getTrailingText(),c=null!=(f=b.container)?f:b.visParent(),i=this.mode.parens(d,e,a.getReader(),null!=(g=null!=(h="block"===c.type?c.visParent():c)&&"function"==typeof h.getReader?h.getReader():void 0)?g:null),d=i[0],e=i[1],a.setLeadingText(d),a.setTrailingText(e),a.spliceIn(b)},mb("populate",0,function(){return this.clickedPoint=null,this.clickedBlock=null,this.clickedBlockIsPaletteBlock=!1,this.draggingBlock=null,this.draggingOffset=null,this.lastHighlight=null,this.dragCanvas=document.createElement("canvas"),this.dragCanvas.className="droplet-drag-canvas",this.dragCanvas.style.left="-9999px",this.dragCanvas.style.top="-9999px",this.dragCtx=this.dragCanvas.getContext("2d"),this.highlightCanvas=document.createElement("canvas"),this.highlightCanvas.className="droplet-highlight-canvas",this.highlightCtx=this.highlightCanvas.getContext("2d"),document.body.appendChild(this.dragCanvas),this.dropletElement.appendChild(this.highlightCanvas)}),A.prototype.clearHighlightCanvas=function(){return this.highlightCtx.clearRect(this.scrollOffsets.main.x,this.scrollOffsets.main.y,this.highlightCanvas.width,this.highlightCanvas.height)},A.prototype.clearDrag=function(){return this.dragCtx.clearRect(0,0,this.dragCanvas.width,this.dragCanvas.height)},A.prototype.resizeDragCanvas=function(){return this.dragCanvas.width=0,this.dragCanvas.height=0,this.highlightCanvas.width=this.dropletElement.offsetWidth,this.highlightCanvas.style.width=""+this.highlightCanvas.width+"px",this.highlightCanvas.height=this.dropletElement.offsetHeight,this.highlightCanvas.style.height=""+this.highlightCanvas.height+"px",this.highlightCanvas.style.left=""+this.mainCanvas.offsetLeft+"px"},mb("mousedown",1,function(a,b,c){var d,e,f,g,h,i,j,k,l;if(!c.consumedHitTest&&this.trackerPointIsInMain(a)){if(h=this.trackerPointToMain(a),e=this.hitTest(h,this.tree),this.debugging&&b.shiftKey){for(g=null,i=this.view.getViewNodeFor(e),l=i.bounds,f=j=0,k=l.length;k>j;f=++j)if(d=l[f],d.contains(h)){g=f;break}this.dumpNodeForDebug(e,g)}return null!=e?(this.clickedBlock=e,this.clickedBlockIsPaletteBlock=!1,this.moveCursorTo(this.clickedBlock.start.next),this.clickedPoint=a,c.consumedHitTest=!0):void 0}}),mb("mouseup",0,function(){return null!=this.clickedBlock?(this.clickedBlock=null,this.clickedPoint=null):void 0}),A.prototype.wouldDelete=function(a){var b,c,d,e,f,g;return b=this.trackerPointToMain(a),c=this.trackerPointToPalette(a),!this.lastHighlight&&!(this.mainCanvas.width+this.scrollOffsets.main.x>(d=b.x)&&d>this.scrollOffsets.main.x&&this.mainCanvas.height+this.scrollOffsets.main.y>(e=b.y)&&e>this.scrollOffsets.main.y)||this.paletteCanvas.width+this.scrollOffsets.palette.x>(f=c.x)&&f>this.scrollOffsets.palette.x&&this.paletteCanvas.height+this.scrollOffsets.palette.y>(g=c.y)&&g>this.scrollOffsets.palette.y},mb("mousemove",1,function(a,b,c){var e,f,g,i,j,k,l,m,n,o,p,q;if(!c.capturedPickup&&null!=this.clickedBlock&&a.from(this.clickedPoint).magnitude()>G){if(this.draggingBlock=this.clickedBlock,this.clickedBlockIsPaletteBlock)this.draggingOffset=this.view.getViewNodeFor(this.draggingBlock).bounds[0].upperLeftCorner().from(this.trackerPointToPalette(this.clickedPoint)),this.draggingBlock=this.draggingBlock.clone();else{for(l=this.trackerPointToMain(this.clickedPoint),n=this.view.getViewNodeFor(this.draggingBlock),this.draggingOffset=null,q=n.bounds,k=o=0,p=q.length;p>o;k=++o)if(f=q[k],f.contains(l)){this.draggingOffset=f.upperLeftCorner().from(l),this.draggingOffset.y+=n.bounds[0].y-f.y;break}null==this.draggingOffset&&(this.draggingOffset=n.bounds[0].upperLeftCorner().from(l))}for(this.draggingBlock.ephemeral=!0,this.draggingBlock.clearLineMarks(),g=this.dragView.getViewNodeFor(this.draggingBlock),g.layout(1,1),this.dragCanvas.width=Math.min(g.totalBounds.width+10,window.screen.width),this.dragCanvas.height=Math.min(g.totalBounds.height+10,window.screen.height),g.drawShadow(this.dragCtx,5,5),g.draw(this.dragCtx,new this.draw.Rectangle(0,0,this.dragCanvas.width,this.dragCanvas.height)),m=new this.draw.Point(a.x+this.draggingOffset.x,a.y+this.draggingOffset.y),this.dropPointQuadTree=QUAD.init({x:this.scrollOffsets.main.x,y:this.scrollOffsets.main.y,w:this.mainCanvas.width,h:this.mainCanvas.height}),j=this.tree.start;j!==this.tree.end;)j===this.draggingBlock.start&&(j=this.draggingBlock.end),j instanceof h.StartToken&&(e=this.getAcceptLevel(this.draggingBlock,j.container),e!==d.FORBID&&(i=this.view.getViewNodeFor(j.container).dropPoint,null!=i&&this.dropPointQuadTree.insert({x:i.x,y:i.y,w:0,h:0,acceptLevel:e,_ice_node:j.container}))),j=j.next;return this.dragCanvas.style.top=""+(m.y+kb(this.dropletElement))+"px",this.dragCanvas.style.left=""+(m.x+jb(this.dropletElement))+"px",this.clickedPoint=this.clickedBlock=null,this.clickedBlockIsPaletteBlock=!1,this.begunTrash=this.wouldDelete(m),this.redrawMain()}}),A.prototype.getAcceptLevel=function(a,b){return"socket"===b.type?"segment"===a.type?d.FORBID:this.mode.drop(a.getReader(),b.getReader(),null):"block"===b.type?"socket"===b.visParent().type?d.FORBID:this.mode.drop(a.getReader(),b.visParent().getReader(),b):this.mode.drop(a.getReader(),b.getReader(),b.getReader())},mb("mousemove",0,function(a,b){var c,e,f,g,h,i,j,k,l,m;if(null!=this.draggingBlock){for(i=new this.draw.Point(a.x+this.draggingOffset.x,a.y+this.draggingOffset.y),this.dragCanvas.style.top=""+i.y+"px",this.dragCanvas.style.left=""+i.x+"px",f=this.trackerPointToMain(i),c=null,g=1/0,e=this.tree.start.next;"newline"===(k=e.type)||"cursor"===k||"text"===e.type&&""===e.value;)e=e.next;return e===this.tree.end&&this.mainCanvas.width+this.scrollOffsets.main.x>(l=f.x)&&l>this.scrollOffsets.main.x-this.gutter.offsetWidth&&this.mainCanvas.height+this.scrollOffsets.main.y>(m=f.y)&&m>this.scrollOffsets.main.y?(this.view.getViewNodeFor(this.tree).highlightArea.draw(this.highlightCtx),this.lastHighlight=this.tree):(j=this.dropPointQuadTree.retrieve({x:f.x-E,y:f.y-E,w:2*E,h:2*E},function(a){return function(e){var h;return(e.acceptLevel!==d.DISCOURAGE||b.shiftKey)&&(h=f.from(e),h.y*=2,h=h.magnitude(),g>h&&f.from(e).magnitude()<E&&null!=a.view.getViewNodeFor(e._ice_node).highlightArea)?(c=e._ice_node,g=h):void 0}}(this)),c!==this.lastHighlight&&(this.clearHighlightCanvas(),null!=c&&this.view.getViewNodeFor(c).highlightArea.draw(this.highlightCtx),this.lastHighlight=c)),h=this.trackerPointToPalette(i),this.wouldDelete(i)?this.dragCanvas.style.opacity=this.begunTrash?.85:.3:(this.dragCanvas.style.opacity=.85,this.begunTrash=!1)}}),mb("mouseup",0,function(){return clearTimeout(this.discourageDropTimeout),this.discourageDropTimeout=null}),mb("mouseup",1,function(){if(null!=this.draggingBlock&&null!=this.lastHighlight){switch(this.inTree(this.draggingBlock)&&(this.addMicroUndoOperation("CAPTURE_POINT"),this.addMicroUndoOperation(new M(this.draggingBlock)),this.spliceOut(this.draggingBlock)),this.clearHighlightCanvas(),this.lastHighlight.type){case"indent":case"socket":this.addMicroUndoOperation(new y(this.draggingBlock,this.lastHighlight.start)),this.spliceIn(this.draggingBlock,this.lastHighlight.start);break;case"block":this.addMicroUndoOperation(new y(this.draggingBlock,this.lastHighlight.end)),this.spliceIn(this.draggingBlock,this.lastHighlight.end);break;default:this.lastHighlight===this.tree&&(this.addMicroUndoOperation(new y(this.draggingBlock,this.tree.start)),this.spliceIn(this.draggingBlock,this.tree.start))}return this.moveCursorTo(this.draggingBlock.end,!0),"socket"===this.lastHighlight.type&&this.reparseRawReplace(this.draggingBlock.parent.parent),this.endDrag()}}),A.prototype.reparseRawReplace=function(a){var b,c,d,e;try{if(d=this.mode.parse(a.stringify(this.mode.empty),{wrapAtRoot:!0}),c=d.start.next.container,d.start.next.container.end===d.end.prev&&"block"===(null!=c?c.type:void 0))return this.addMicroUndoOperation(new O(a,c)),this.cursor.hasParent(a)?(e=this.getRecoverableCursorPosition(),c.rawReplace(a),this.recoverCursorPosition(e)):c.rawReplace(a)}catch(f){throw b=f}},A.prototype.findForReal=function(a){var b,c;for(b=this.tree.start,c=0;b!==a&&b!==this.tree.end&&null!=b;)b=b.next,c++;return b===a?c:null},mb("populate",0,function(){return this.floatingBlocks=[]}),B=function(){function a(a,b){this.block=a,this.position=b}return a}(),U=function(a){function c(a,b,d){this.position=new d.draw.Point(b.x,b.y),c.__super__.constructor.call(this,a,null)}return b(c,a),c.prototype.undo=function(a){return a.floatingBlocks.pop(),c.__super__.undo.apply(this,arguments)},c.prototype.redo=function(a){return a.floatingBlocks.push(new B(this.block.clone(),this.position)),c.__super__.redo.apply(this,arguments)},c}(y),C=function(){function a(a,b){this.position=new b.draw.Point(a.position.x,a.position.y),this.block=a.block.clone()}return a.prototype.undo=function(a){return a.floatingBlocks.push(new B(this.block.clone(),this.position)),null},a.prototype.redo=function(a){return a.floatingBlocks.pop(),null},a}(),A.prototype.inTree=function(a){for(null!=a.container&&(a=a.container);a!==this.tree&&null!=a;)a=a.parent;return a===this.tree},mb("mouseup",0,function(a){var b,c,d,e,f,g,h;return null!=this.draggingBlock&&null==this.lastHighlight?(d=new this.draw.Point(a.x+this.draggingOffset.x,a.y+this.draggingOffset.y),c=this.trackerPointToMain(d),b=this.trackerPointToPalette(d),this.inTree(this.draggingBlock)&&(this.moveCursorTo(this.draggingBlock.end),this.addMicroUndoOperation("CAPTURE_POINT"),this.addMicroUndoOperation(new M(this.draggingBlock)),this.spliceOut(this.draggingBlock)),b=this.trackerPointToPalette(a),0<(e=b.x-this.scrollOffsets.palette.x)&&e<this.paletteCanvas.width&&0<(f=b.y-this.scrollOffsets.palette.y)&&f<this.paletteCanvas.height||!(-this.gutter.offsetWidth<(g=c.x-this.scrollOffsets.main.x)&&g<this.mainCanvas.width&&0<(h=c.y-this.scrollOffsets.main.y)&&h<this.mainCanvas.height)?(this.draggingBlock===this.lassoSegment&&(this.lassoSegment=null),void this.endDrag()):(c.x-this.scrollOffsets.main.x<0&&(c.x=this.scrollOffsets.main.x),this.addMicroUndoOperation(new U(this.draggingBlock,c,this)),this.floatingBlocks.push(new B(this.draggingBlock,c)),this.draggingBlock=null,this.draggingOffset=null,this.lastHighlight=null,this.clearDrag(),this.redrawMain(),this.redrawHighlights())):void 0}),mb("mousedown",5,function(a,b,c){var d,e,f,g,h,i,j;if(!c.consumedHitTest&&this.trackerPointIsInMain(a)){for(i=this.floatingBlocks,j=[],e=g=0,h=i.length;h>g;e=++g)f=i[e],d=this.hitTest(this.trackerPointToMain(a),f.block),null!=d?(this.clickedBlock=f.block,this.clickedPoint=a,c.consumedHitTest=!0,j.push(this.redrawMain())):j.push(void 0);return j}}),mb("mousemove",7,function(a,b,c){var d,e,f,g,h;if(null!=this.clickedBlock&&a.from(this.clickedPoint).magnitude()>G)for(h=this.floatingBlocks,d=f=0,g=h.length;g>f;d=++f)if(e=h[d],e.block===this.clickedBlock)return c.addedCapturePoint||(this.addMicroUndoOperation("CAPTURE_POINT"),c.addedCapturePoint=!0),this.addMicroUndoOperation(new C(e,this)),this.floatingBlocks.splice(d,1),void this.redrawMain()}),mb("redraw_main",7,function(){var a,b,c,d,e,f,g;for(b=new this.draw.Rectangle(this.scrollOffsets.main.x,this.scrollOffsets.main.y,this.mainCanvas.width,this.mainCanvas.height),f=this.floatingBlocks,g=[],d=0,e=f.length;e>d;d++)c=f[d],a=this.view.getViewNodeFor(c.block),a.layout(c.position.x,c.position.y),g.push(a.draw(this.mainCtx,b));return g}),mb("populate",0,function(){return this.paletteHeader=document.createElement("div"),this.paletteHeader.className="droplet-palette-header",this.paletteWrapper.appendChild(this.paletteHeader),this.setPalette(this.paletteGroups)}),A.prototype.setPalette=function(a){var b,c,d,e,f,g,h;for(this.paletteHeader.innerHTML="",this.paletteGroups=a,this.currentPaletteBlocks=[],this.currentPaletteMetadata=[],d=null,h=this.paletteGroups,e=function(a){return function(b,c){var e,f,g,h,i,j,k,l,m,n;for(c%2===0&&(d=document.createElement("div"),d.className="droplet-palette-header-row",a.paletteHeader.appendChild(d)),j=document.createElement("div"),j.className="droplet-palette-group-header",j.innerText=j.textContent=j.textContent=b.name,b.color&&(j.className+=" "+b.color),d.appendChild(j),h=[],n=b.blocks,l=0,m=n.length;m>l;l++)f=n[l],g=a.mode.parse(f.block).start.next.container,g.spliceOut(),g.parent=null,h.push({block:g,title:f.title});return i=h,k=function(){var d;return a.currentPaletteGroup=b.name,a.currentPaletteBlocks=i.map(function(a){return a.block}),a.currentPaletteMetadata=i,null!=(d=a.currentPaletteGroupHeader)&&(d.className=a.currentPaletteGroupHeader.className.replace(/\s[-\w]*-selected\b/,"")),a.currentPaletteGroupHeader=j,a.currentPaletteIndex=c,a.currentPaletteGroupHeader.className+=" droplet-palette-group-header-selected",a.redrawPalette()},e=function(){var b,c,d,e,f;for(k(),e=db.set_palette,f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(b.call(a));return f},j.addEventListener("click",e),j.addEventListener("touchstart",e),0===c?k():void 0}}(this),b=f=0,g=h.length;g>f;b=++f)c=h[b],e(c,b);return this.resizePalette()},mb("mousedown",6,function(a,b,c){var d,e,f,g,h,i,j,k;if(!c.consumedHitTest&&this.trackerPointIsInPalette(a)){if(f=this.trackerPointToPalette(a),this.scrollOffsets.palette.y<(i=f.y)&&i<this.scrollOffsets.palette.y+this.paletteCanvas.height&&this.scrollOffsets.palette.x<(j=f.x)&&j<this.scrollOffsets.palette.x+this.paletteCanvas.width)for(k=this.currentPaletteBlocks,g=0,h=k.length;h>g;g++)if(d=k[g],e=this.hitTest(f,d),null!=e)return this.clickedBlock=d,this.clickedPoint=a,this.clickedBlockIsPaletteBlock=!0,void(c.consumedHitTest=!0);return this.clickedBlockIsPaletteBlock=!1}}),mb("populate",1,function(){return this.paletteHighlightCanvas=document.createElement("canvas"),this.paletteHighlightCanvas.className="droplet-palette-highlight-canvas",this.paletteHighlightCtx=this.paletteHighlightCanvas.getContext("2d"),this.paletteHighlightPath=null,this.currentHighlightedPaletteBlock=null,this.paletteWrapper.appendChild(this.paletteHighlightCanvas)}),A.prototype.resizePaletteHighlight=function(){return this.paletteHighlightCanvas.style.top=this.paletteHeader.offsetHeight+"px",this.paletteHighlightCanvas.width=this.paletteCanvas.width,this.paletteHighlightCanvas.height=this.paletteCanvas.height},mb("redraw_palette",0,function(){return this.clearPaletteHighlightCanvas(),null!=this.currentHighlightedPaletteBlock?this.paletteHighlightPath.draw(this.paletteHighlightCtx):void 0}),mb("redraw_palette",0,function(){var a,b,c,d,e,f,g,h,i,j;for(this.paletteScrollerStuffing.innerHTML="",this.currentHighlightedPaletteBlock=null,h=this.currentPaletteMetadata,e=function(a){return function(b){return d.addEventListener("mousemove",function(c){var d;if(d=a.trackerPointToPalette(new a.draw.Point(c.pageX,c.pageY)),a.mainViewOrChildrenContains(b,d)){if(b!==a.currentHighlightedPaletteBlock)return a.clearPaletteHighlightCanvas(),a.paletteHighlightPath=a.getHighlightPath(b,{color:"#FF0"}),a.paletteHighlightPath.draw(a.paletteHighlightCtx),a.currentHighlightedPaletteBlock=b}else if(b===a.currentHighlightedPaletteBlock)return a.currentHighlightedPaletteBlock=null,a.clearPaletteHighlightCanvas()}),d.addEventListener("mouseout",function(){return b===a.currentHighlightedPaletteBlock?(a.currentHighlightedPaletteBlock=null,a.paletteHighlightCtx.clearRect(a.scrollOffsets.palette.x,a.scrollOffsets.palette.y,a.paletteHighlightCanvas.width+a.scrollOffsets.palette.x,a.paletteHighlightCanvas.height+a.scrollOffsets.palette.y)):void 0})}}(this),j=[],f=0,g=h.length;g>f;f++)c=h[f],a=c.block,d=document.createElement("div"),d.className="droplet-hover-div",d.title=null!=(i=c.title)?i:a.stringify(this.mode.empty),b=this.view.getViewNodeFor(a).totalBounds,d.style.top=""+b.y+"px",d.style.left=""+b.x+"px",d.style.width=""+Math.min(b.width,1/0)+"px",d.style.height=""+b.height+"px",e(a),j.push(this.paletteScrollerStuffing.appendChild(d));return j}),S=function(a){function c(a,b,c){this.before=b,this.after=a.stringify(c.mode.empty),this.socket=a.start.getSerializedLocation()}return b(c,a),c.prototype.undo=function(a){var b;return b=a.tree.getTokenAtLocation(this.socket).container,a.populateSocket(b,this.before)},c.prototype.redo=function(a){var b;return b=a.tree.getTokenAtLocation(this.socket).container,a.populateSocket(this.socket,this.after)},c}(W),T=function(a){function c(a,b){this.before=b,this.after=a.start.next.container,this.socket=a.start.getSerializedLocation()}return b(c,a),c.prototype.undo=function(a){var b;return b=a.tree.getTokenAtLocation(this.socket).container,a.spliceOut(b.start.next.container),b.start.insert(new h.TextToken(this.before))},c.prototype.redo=function(a){var b;return b=a.tree.getTokenAtLocation(this.socket).container,b.start.append(b.end),b.notifyChange(),a.spliceIn(this.after.clone(),b)},c}(W),mb("populate",1,function(){var a,b,c,d,e;for(this.hiddenInput=document.createElement("textarea"),this.hiddenInput.className="droplet-hidden-input",this.dropletElement.appendChild(this.hiddenInput),this.textFocus=null,this.textFocus=null,this.textInputAnchor=null,this.textInputSelecting=!1,this.oldFocusValue=null,this.hiddenInput.addEventListener("keydown",function(a){return function(b){var c;return 8===b.keyCode&&a.hiddenInput.value.length>1&&a.hiddenInput.value[0]===a.hiddenInput.value[a.hiddenInput.value.length-1]&&("'"===(c=a.hiddenInput.value[0])||'"'===c)&&1===a.hiddenInput.selectionEnd?b.preventDefault():void 0}}(this)),d=["input","keyup","keydown","select"],e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(this.hiddenInput.addEventListener(a,function(a){return function(){return a.highlightFlashShow(),null!=a.textFocus?(a.populateSocket(a.textFocus,a.hiddenInput.value),a.redrawTextInput()):void 0
}}(this)));return e}),A.prototype.resizeAceElement=function(){return this.aceElement.style.width=""+this.wrapperElement.offsetWidth+"px",this.aceElement.style.height=""+this.wrapperElement.offsetHeight+"px"},qb=function(a){return a[a.length-1]},A.prototype.redrawTextInput=function(){var a,b,c,d,e,f,g,h,i,j;if(g=this.textFocus.stringify(this.mode.empty).split("\n").length===this.hiddenInput.value.split("\n").length,this.populateSocket(this.textFocus,this.hiddenInput.value),i=this.view.getViewNodeFor(this.textFocus),h=this.textFocus.stringify(this.mode.empty).slice(0,this.hiddenInput.selectionStart).split("\n").length-1,a=this.textFocus.stringify(this.mode.empty).slice(0,this.hiddenInput.selectionEnd).split("\n").length-1,g&&h===a){for(c=a,b=this.textFocus.start;b!==this.tree.start;)b=b.prev,"newline"===b.type&&c++;return j=this.view.getViewNodeFor(this.tree),e=bb([j.glue[c-1],j.glue[c],j.bounds[c].height]),j.layout(0,this.nubbyHeight),d=bb([j.glue[c-1],j.glue[c],j.bounds[c].height]),cb(d,e)?(f=new this.draw.NoRectangle,c>0&&f.unite(j.bounds[c-1]),f.unite(j.bounds[c]),c+1<j.bounds.length&&f.unite(j.bounds[c+1]),f.width=Math.max(f.width,this.mainCanvas.width),this.redrawMain({boundingRectangle:f})):this.redrawMain()}return this.redrawMain()},A.prototype.redrawTextHighlights=function(a){var b,c,d,e,f,g,h,i,j;if(null==a&&(a=!1),h=this.view.getViewNodeFor(this.textFocus),g=this.textFocus.stringify(this.mode.empty).slice(0,this.hiddenInput.selectionStart).split("\n").length-1,c=this.textFocus.stringify(this.mode.empty).slice(0,this.hiddenInput.selectionEnd).split("\n").length-1,e=this.textFocus.stringify(this.mode.empty).split("\n"),f=h.bounds[g].x+this.view.opts.textPadding+this.mainCtx.measureText(qb(this.textFocus.stringify(this.mode.empty).slice(0,this.hiddenInput.selectionStart).split("\n"))).width,b=h.bounds[c].x+this.view.opts.textPadding+this.mainCtx.measureText(qb(this.textFocus.stringify(this.mode.empty).slice(0,this.hiddenInput.selectionEnd).split("\n"))).width,this.hiddenInput.selectionStart===this.hiddenInput.selectionEnd)this.cursorCtx.lineWidth=1,this.cursorCtx.strokeStyle="#000",this.cursorCtx.strokeRect(f,h.bounds[g].y,0,this.view.opts.textHeight),this.textInputHighlighted=!1;else if(this.textInputHighlighted=!0,this.cursorCtx.fillStyle="rgba(0, 0, 256, 0.3)",g===c)this.cursorCtx.fillRect(f,h.bounds[g].y+this.view.opts.textPadding,b-f,this.view.opts.textHeight);else{for(this.cursorCtx.fillRect(f,h.bounds[g].y+this.view.opts.textPadding,h.bounds[g].right()-this.view.opts.textPadding-f,this.view.opts.textHeight),d=i=j=g+1;c>=j?c>i:i>c;d=c>=j?++i:--i)this.cursorCtx.fillRect(h.bounds[d].x,h.bounds[d].y+this.view.opts.textPadding,h.bounds[d].width,this.view.opts.textHeight);this.cursorCtx.fillRect(h.bounds[c].x,h.bounds[c].y+this.view.opts.textPadding,b-h.bounds[c].x,this.view.opts.textHeight)}return a&&b>this.scrollOffsets.main.x+this.mainCanvas.width?this.mainScroller.scrollLeft=b-this.mainCanvas.width+this.view.opts.padding:void 0},eb=function(a){return a[0]+a.slice(1,-1).replace(/(\'|\"|\n)/g,"\\$1")+a[a.length-1]},A.prototype.setTextInputFocus=function(a,b,c){var d,e,f,g,h,i,j,k,l,m;if(null==b&&(b=null),null==c&&(c=null),(null!=a?a.id:void 0)in this.extraMarks&&delete this.extraMarks[null!=a?a.id:void 0],null!=this.textFocus&&this.textFocus!==a){if(this.addMicroUndoOperation("CAPTURE_POINT"),this.addMicroUndoOperation(new S(this.textFocus,this.oldFocusValue,this)),this.oldFocusValue=null,g=this.textFocus.stringify(this.mode.empty),h=!1,i=!1,e=d=null,this.cursor.hasParent(this.textFocus.parent)&&(i=!0,e=this.getRecoverableCursorPosition()),!this.textFocus.handwritten){f=null,j=this.textFocus.stringify(this.mode.empty).trim();try{f=this.mode.parse(k=j,{wrapAtRoot:!1})}catch(n){if(j[0]===j[j.length-1]&&('"'===(l=j[0])||"'"===l))try{j=eb(j),f=this.mode.parse(k=j,{wrapAtRoot:!1}),this.populateSocket(this.textFocus,j)}catch(n){}}null!=f&&"blockStart"===f.start.next.type&&f.start.next.container.end.next===f.end&&(this.textFocus.start.append(this.textFocus.end),this.spliceIn(f.start.next.container,this.textFocus.start),this.addMicroUndoOperation(new T(this.textFocus,k)),h=!0)}this.reparseRawReplace(this.textFocus.parent)||(this.populateSocket(this.textFocus,g),h&&this.undoStack.pop(),this.redrawMain())}return i&&this.recoverCursorPosition(e),null==a?(this.textFocus=null,this.redrawMain(),this.hiddenInput.blur(),void this.dropletElement.focus()):(this.oldFocusValue=a.stringify(this.mode.empty),this.textFocus=a,this.populateSocket(a,a.stringify(this.mode.empty)),this.textFocus.notifyChange(),this.moveCursorTo(a.end),this.hiddenInput.value=this.textFocus.stringify(this.mode.empty),null!=b&&null==c&&(c=b),null!=this.textFocus&&(this.hiddenInput.focus(),null!=b&&null!=c?this.hiddenInput.setSelectionRange(b,c):this.hiddenInput.value[0]!==this.hiddenInput.value[this.hiddenInput.value.length-1]||"'"!==(m=this.hiddenInput.value[0])&&'"'!==m?this.hiddenInput.setSelectionRange(0,this.hiddenInput.value.length):this.hiddenInput.setSelectionRange(1,this.hiddenInput.value.length-1),this.redrawTextInput()),this.redrawMain(),this.redrawTextInput())},A.prototype.populateSocket=function(a,b){var c,d,e,f,g,i;for(f=b.split("\n"),a.start.append(a.end),c=a.start,d=g=0,i=f.length;i>g;d=++g)e=f[d],c=c.insert(new h.TextToken(e)),d+1!==f.length&&(c=c.insert(new h.NewlineToken));return a.notifyChange()},A.prototype.hitTestTextInput=function(a,b){var c,d;for(c=b.start;null!=c;){if("socketStart"===c.type&&("text"===(d=c.next.type)||"socketEnd"===d)&&this.view.getViewNodeFor(c.container).path.contains(a))return c.container;c=c.next}return null},A.prototype.getTextPosition=function(a){var b,c,d,e;return e=this.view.getViewNodeFor(this.textFocus),d=Math.floor((a.y-e.bounds[0].y)/(this.fontSize+2*this.view.opts.padding)),d=Math.max(d,0),d=Math.min(d,e.lineLength-1),b=Math.max(0,Math.round((a.x-e.bounds[d].x-this.view.opts.textPadding)/this.mainCtx.measureText(" ").width)),c=this.textFocus.stringify(this.mode.empty).split("\n").slice(0,+d+1||9e9),c[c.length-1]=c[c.length-1].slice(0,b),c.join("\n").length},A.prototype.setTextInputAnchor=function(a){return this.textInputAnchor=this.textInputHead=this.getTextPosition(a),this.hiddenInput.setSelectionRange(this.textInputAnchor,this.textInputHead)},A.prototype.selectDoubleClick=function(a){var b,c,d,e,f,g,h;return d=this.getTextPosition(a),c=null!=(e=null!=(f=this.textFocus.stringify(this.mode.empty).slice(0,d).match(/\w*$/)[0])?f.length:void 0)?e:0,b=null!=(g=null!=(h=this.textFocus.stringify(this.mode.empty).slice(d).match(/^\w*/)[0])?h.length:void 0)?g:0,this.textInputAnchor=d-c,this.textInputHead=d+b,this.hiddenInput.setSelectionRange(this.textInputAnchor,this.textInputHead)},A.prototype.setTextInputHead=function(a){return this.textInputHead=this.getTextPosition(a),this.hiddenInput.setSelectionRange(Math.min(this.textInputAnchor,this.textInputHead),Math.max(this.textInputAnchor,this.textInputHead))},mb("mousedown",2,function(a,b,c){var d,e;if(!c.consumedHitTest)return e=this.trackerPointToMain(a),d=this.hitTestTextInput(e,this.tree),d!==this.textFocus&&(this.setTextInputFocus(null),this.redrawMain(),d=this.hitTestTextInput(e,this.tree)),null!=d?(this.hiddenInput.focus(),d!==this.textFocus?(this.setTextInputFocus(d),this.redrawMain(),this.textInputSelecting=!1):(this.setTextInputAnchor(e),this.redrawTextInput(),this.textInputSelecting=!0),c.consumedHitTest=!0):void 0}),mb("dblclick",0,function(a,b,c){var d,e;if(!c.consumedHitTest)return e=this.trackerPointToMain(a),d=this.hitTestTextInput(e,this.tree),d!==this.textFocus&&(this.setTextInputFocus(null),this.redrawMain(),d=this.hitTestTextInput(e,this.tree)),null!=d?(this.setTextInputFocus(d),this.redrawMain(),setTimeout(function(a){return function(){return a.selectDoubleClick(e),a.redrawTextInput(),a.textInputSelecting=!1}}(this),0),c.consumedHitTest=!0):void 0}),mb("mousemove",0,function(a){var b;return this.textInputSelecting?null==this.textFocus?void(this.textInputSelecting=!1):(b=this.trackerPointToMain(a),this.setTextInputHead(b),this.redrawTextInput()):void 0}),mb("mouseup",0,function(a){var b;return this.textInputSelecting?(b=this.trackerPointToMain(a),this.setTextInputHead(b),this.redrawTextInput(),this.textInputSelecting=!1):void 0}),s=function(a){function c(a){this.first=a.start.getSerializedLocation(),this.last=a.end.getSerializedLocation()-2,this.lassoSelect=a.isLassoSegment}return b(c,a),c.prototype.undo=function(a){return a.tree.getTokenAtLocation(this.first).container.unwrap(),a.tree.getTokenAtLocation(this.first)},c.prototype.redo=function(a){var b;return b=new h.Segment,b.isLassoSegment=this.lassoSelect,b.wrap(a.tree.getTokenAtLocation(this.first),a.tree.getTokenAtLocation(this.last)),b.end},c}(W),x=function(a){function c(a){this.first=a.start.getSerializedLocation(),this.last=a.end.getSerializedLocation()-2,this.lassoSelect=a.isLassoSegment}return b(c,a),c.prototype.undo=function(a){var b;return b=new h.Segment,b.isLassoSegment=this.lassoSelect,b.wrap(a.tree.getTokenAtLocation(this.first),a.tree.getTokenAtLocation(this.last)),this.lassoSelect&&(a.lassoSegment=b),b.end},c.prototype.redo=function(a){return a.tree.getTokenAtLocation(this.first).container.unwrap(),a.tree.getTokenAtLocation(this.first)},c}(W),mb("populate",0,function(){return this.lassoSelectCanvas=document.createElement("canvas"),this.lassoSelectCanvas.className="droplet-lasso-select-canvas",this.lassoSelectCtx=this.lassoSelectCanvas.getContext("2d"),this.lassoSelectAnchor=null,this.lassoSegment=null,this.dropletElement.appendChild(this.lassoSelectCanvas)}),A.prototype.clearLassoSelectCanvas=function(){return this.lassoSelectCtx.clearRect(0,0,this.lassoSelectCanvas.width,this.lassoSelectCanvas.height)},A.prototype.resizeLassoCanvas=function(){return this.lassoSelectCanvas.width=this.dropletElement.offsetWidth,this.lassoSelectCanvas.style.width=""+this.lassoSelectCanvas.width+"px",this.lassoSelectCanvas.height=this.dropletElement.offsetHeight,this.lassoSelectCanvas.style.height=""+this.lassoSelectCanvas.height+"px",this.lassoSelectCanvas.style.left=""+this.mainCanvas.offsetLeft+"px"},A.prototype.clearLassoSelection=function(){var a,b,c;for(this.lassoSegment=null,a=this.tree.start,b=!1;a!==this.tree.end;)"segmentStart"===a.type&&a.container.isLassoSegment?(c=a.next,this.addMicroUndoOperation(new x(a.container)),a.container.unwrap(),b=!0,a=c):a=a.next;return b?this.redrawMain():void 0},mb("mousedown",0,function(a,b,c){var d,e;return c.clickedLassoSegment||this.clearLassoSelection(),c.consumedHitTest||c.suppressLassoSelect||!this.trackerPointIsInMain(a)||this.trackerPointIsInPalette(a)?void 0:(d=this.trackerPointToMain(a).from(this.scrollOffsets.main),e=this.trackerPointToPalette(a).from(this.scrollOffsets.palette),this.lassoSelectAnchor=this.trackerPointToMain(a))}),mb("mousemove",0,function(a){var b,c,d,e,f;if(null!=this.lassoSelectAnchor){for(e=this.trackerPointToMain(a),this.clearLassoSelectCanvas(),c=new this.draw.Rectangle(Math.min(this.lassoSelectAnchor.x,e.x),Math.min(this.lassoSelectAnchor.y,e.y),Math.abs(this.lassoSelectAnchor.x-e.x),Math.abs(this.lassoSelectAnchor.y-e.y)),b=this.tree.start;!(null==b||"blockStart"===b.type&&this.view.getViewNodeFor(b.container).path.intersects(c));)b=b.next;for(d=this.tree.end;!(null==d||"blockEnd"===d.type&&this.view.getViewNodeFor(d.container).path.intersects(c));)d=d.prev;if(this.clearLassoSelectCanvas(),this.clearHighlightCanvas(),this.lassoSelectCtx.strokeStyle="#00f",this.lassoSelectCtx.strokeRect(c.x-this.scrollOffsets.main.x,c.y-this.scrollOffsets.main.y,c.width,c.height),b&&null!=d)return f=vb(this.tree,b,d),b=f[0],d=f[1],this.drawTemporaryLasso(b,d)}}),A.prototype.drawTemporaryLasso=function(a,b){var c,d,e;for(d=new this.draw.Rectangle(this.scrollOffsets.main.x,this.scrollOffsets.main.y,this.mainCanvas.width,this.mainCanvas.height),c=a,e=[];c!==b;)c instanceof h.StartToken?(this.view.getViewNodeFor(c.container).draw(this.highlightCtx,d,{selected:1/0}),e.push(c=c.container.end)):e.push(c=c.next);return e},vb=function(a,b,d){var e,f;for(f=[],e=b;e!==d.next;)(e instanceof h.StartToken||e instanceof h.EndToken)&&(f.push(e.container.start),f.push(e.container.end)),e=e.next;for(b=a.start;c.call(f,b)<0;)b=b.next;for(d=a.end;c.call(f,d)<0;)d=d.prev;for(;"blockStart"!==b.type;)b=b.prev,"blockEnd"===b.type&&(b=b.container.start.prev);for(;"blockEnd"!==d.type;)d=d.next,"blockStart"===d.type&&(d=d.container.end.next);return[b,d]},mb("mouseup",0,function(a){var b,c,d,e,f;if(null!=this.lassoSelectAnchor){for(e=this.trackerPointToMain(a),c=new this.draw.Rectangle(Math.min(this.lassoSelectAnchor.x,e.x),Math.min(this.lassoSelectAnchor.y,e.y),Math.abs(this.lassoSelectAnchor.x-e.x),Math.abs(this.lassoSelectAnchor.y-e.y)),this.lassoSelectAnchor=null,this.clearLassoSelectCanvas(),b=this.tree.start;!(null==b||"blockStart"===b.type&&this.view.getViewNodeFor(b.container).path.intersects(c));)b=b.next;for(d=this.tree.end;!(null==d||"blockEnd"===d.type&&this.view.getViewNodeFor(d.container).path.intersects(c));)d=d.prev;if(null==b||null==d)return;return f=vb(this.tree,b,d),b=f[0],d=f[1],this.lassoSegment=new h.Segment,this.lassoSegment.isLassoSegment=!0,this.lassoSegment.wrap(b,d),this.addMicroUndoOperation(new s(this.lassoSegment)),this.moveCursorTo(this.lassoSegment.end.nextVisibleToken(),!0),this.redrawMain()}}),mb("mousedown",3,function(a,b,c){return c.consumedHitTest?void 0:null!=this.lassoSegment&&null!=this.hitTest(this.trackerPointToMain(a),this.lassoSegment)?(this.clickedBlock=this.lassoSegment,this.clickedBlockIsPaletteBlock=!1,this.clickedPoint=a,c.consumedHitTest=!0,c.clickedLassoSegment=!0):void 0}),mb("populate",0,function(){return this.cursor=new h.CursorToken}),ob=function(a){var b;return"indent"===(b=a.parent.type)||"segment"===b},A.prototype.moveCursorTo=function(a,b){var c,d;if(null==b&&(b=!1),this.redrawMain(),null==a){if(t)throw new Error("Cannot move cursor to null");return null}if(!this.inTree(a)){if(t)throw new Error("Cannot move cursor to a place not in the main tree");return null}if(this.highlightFlashShow(),this.cursor.remove(),a===this.tree.start)a.insert(this.cursor);else{for(c=a;"newline"!==(d=c.type)&&"indentEnd"!==d&&c!==this.tree.end;)c=c.next;"newline"===c.type?c.insert(this.cursor):c.insertBefore(this.cursor)}return ob(this.cursor)||this.moveCursorTo(this.cursor.next),this.redrawHighlights()},A.prototype.moveCursorUp=function(){var a,b,c;if(null!=this.cursor.prev&&(a=null!=(b=this.cursor.prev)?b.prev:void 0,this.highlightFlashShow(),null!=a)){for(;"newline"!==(c=a.type)&&"indentEnd"!==c&&a!==this.tree.start;)a=a.prev;return this.cursor.remove(),"newline"===a.type||a===this.tree.start?a.insert(this.cursor):a.insertBefore(this.cursor),ob(this.cursor)||this.moveCursorUp(),this.redrawHighlights(),this.scrollCursorIntoPosition()}},A.prototype.getRecoverableCursorPosition=function(){var a,b;for(b={lines:0,indents:0},a=this.cursor;"newline"!==a.type&&a!==this.tree.start;)"indentEnd"===a.type&&b.indents++,a=a.prev;for(;a!==this.tree.start;)"newline"===a.type&&b.lines++,a=a.prev;return b},hb=function(a,b){var c,d;for(d=a.start,c=0;!(c>=b);)"text"===d.type&&(c+=d.value.length),d=d.next;return d},A.prototype.recoverCursorPosition=function(a){var b,c;for(b=this.tree.start,c={lines:0,indents:0};b!==this.tree.end&&c.lines!==a.lines;)b=b.next,"newline"===b.type&&c.lines++;for(;b!==this.tree.end&&c.indents!==a.indents;)b=b.next,"indentEnd"===b.type&&c.indents++;return this.cursor.remove(),"newline"===b.type?b.insert(this.cursor):b.insertBefore(this.cursor)},A.prototype.moveCursorHorizontally=function(a){var b,c,d,e,f,g;if(null!=this.textFocus)c="right"===a?this.textFocus.end.next:this.textFocus.start.prev;else{if(this.cursor.prev===this.tree.start&&"left"===a||this.cursor.next===this.tree.end&&"right"===a)return;c="right"===a?this.cursor.next.next:this.cursor.prev.prev}for(;;){if(("newline"===(g=c.type)||"indentEnd"===g||c.container===this.tree)&&(this.cursor.remove(),c===this.tree.start||"newline"===c.type?c.insert(this.cursor):c.insertBefore(this.cursor),this.setTextInputFocus(null),!this.inTree(this.cursor),ob(this.cursor)))break;if("socketStart"===c.type&&("text"===c.next.type||c.next===c.container.end)){null!=this.textFocus&&c.container.hasParent(this.textFocus.parent)?(d=this.textFocus.getCommonParent(c.container).parent,b=ib(d,c.container.start),this.setTextInputFocus(null),f=lb(d,b)):(f=c.container,this.setTextInputFocus(null)),e="right"===a?0:-1,this.setTextInputFocus(f,e,e);break}c="right"===a?c.next:c.prev}return this.redrawMain()},mb("keydown",0,function(a){return a.which===N&&(null==this.textFocus||this.hiddenInput.selectionStart===this.hiddenInput.value.length)?(this.moveCursorHorizontally("right"),a.preventDefault()):void 0}),mb("keydown",0,function(a){return a.which===D&&(null==this.textFocus||0===this.hiddenInput.selectionEnd)?(this.moveCursorHorizontally("left"),a.preventDefault()):void 0}),A.prototype.determineCursorPosition=function(){var a,b,c,d,e;if(null!=this.cursor&&null!=this.cursor.parent){for(this.view.getViewNodeFor(this.tree).layout(0,this.nubbyHeight),b=this.cursor,c=0;b!==this.cursor.parent.start;)b=b.prev,"newline"===b.type&&c++;return a=this.view.getViewNodeFor(this.cursor.parent).bounds[c],"indentEnd"===(null!=(d=this.cursor.nextVisibleToken())?d.type:void 0)&&"indentStart"!==(null!=(e=this.cursor.prev)?e.prev.type:void 0)||this.cursor.next===this.tree.end&&this.cursor.prev!==this.tree.start?new this.draw.Point(a.x,a.bottom()):new this.draw.Point(a.x,a.y)}},A.prototype.scrollCursorIntoPosition=function(){var a;return a=this.determineCursorPosition().y,a-this.scrollOffsets.main.y<0?this.mainScroller.scrollTop=a:a-this.scrollOffsets.main.y>this.mainCanvas.height&&(this.mainScroller.scrollTop=a-this.mainCanvas.height),this.mainScroller.scrollLeft=0},mb("keydown",0,function(a){return a.which===V?(this.clearLassoSelection(),this.setTextInputFocus(null),this.moveCursorUp()):void 0}),mb("keydown",0,function(a){return a.which===w?(null==this.textFocus&&this.moveCursorTo(this.cursor.next.next),this.clearLassoSelection(),this.setTextInputFocus(null),this.scrollCursorIntoPosition()):void 0}),ib=function(a,b){var c,d;for(d=b,c=0;d!==a.start;)"text"===d.type&&(c+=d.value.length),d=d.prev;return c},lb=function(a,b){var c,d;for(d=a.start,c=0;!(c>=b&&"socketStart"===d.type)||"text"!==d.next.type&&d.next!==d.container.end;)"text"===d.type&&(c+=d.value.length),d=d.next;return d.container},mb("keydown",0,function(a){var b,c,d,e;if(a.which===Q){if(a.shiftKey){for(c=null!=this.textFocus?this.textFocus.start:this.cursor;null!=c&&("socketEnd"!==c.type||"text"!==c.container.start.next.type&&c.container.start.next!==c.container.end);)c=c.prev;return null!=c&&(null!=this.textFocus&&c.container.hasParent(this.textFocus.parent)?(d=this.textFocus.getCommonParent(c.container).parent,b=ib(d,c.container.start),this.setTextInputFocus(null),e=lb(d,b)):(e=c.container,this.setTextInputFocus(null)),this.setTextInputFocus(e)),a.preventDefault()}for(c=null!=this.textFocus?this.textFocus.end:this.cursor;null!=c&&("socketStart"!==c.type||"text"!==c.container.start.next.type&&c.container.start.next!==c.container.end);)c=c.next;return null!=c&&(null!=this.textFocus&&c.container.hasParent(this.textFocus.parent)?(d=this.textFocus.getCommonParent(c.container).parent,b=ib(d,c.container.start),this.setTextInputFocus(null),e=lb(d,b)):(e=c.container,this.setTextInputFocus(null)),this.setTextInputFocus(e)),a.preventDefault()}}),A.prototype.deleteAtCursor=function(){var a,b,c,d,e;for(this.setTextInputFocus(null),b=this.cursor.prev;"blockEnd"!==(d=null!=b?b.type:void 0)&&"indentStart"!==d&&void 0!==d;)b=b.prev;if(null!=b){if("blockEnd"===b.type)return this.addMicroUndoOperation(new M(b.container)),this.spliceOut(b.container),this.redrawMain();if("indentStart"===b.type){for(c=b.container.start.nextVisibleToken();"newline"===c.type;)c=c.nextVisibleToken();if(c!==c.container.end)return;for(a=b.container.parent.start;"blockEnd"!==(e=a.type)&&"indentStart"!==e&&"segmentStart"!==e;)a=a.previousVisibleToken();return this.addMicroUndoOperation(new M(b.container.parent)),this.spliceOut(b.container.parent),this.moveCursorTo(a),console.log("moving cursor to",a),this.redrawMain()}}},mb("keydown",0,function(a,b){return a.which!==m||b.capturedBackspace?void 0:null!=this.lassoSegment?(this.addMicroUndoOperation("CAPTURE_POINT"),this.deleteLassoSegment(),a.preventDefault(),!1):null==this.textFocus||0===this.hiddenInput.value.length&&this.textFocus.handwritten?(this.addMicroUndoOperation("CAPTURE_POINT"),this.deleteAtCursor(),b.capturedBackspace=!0,a.preventDefault(),!1):!0}),A.prototype.deleteLassoSegment=function(){if(null==this.lassoSegment){if(t)throw new Error("Cannot delete nonexistent lasso segment");return null}return this.addMicroUndoOperation(new M(this.lassoSegment)),this.spliceOut(this.lassoSegment),this.lassoSegment=null,this.redrawMain()},mb("populate",0,function(){return this.handwrittenBlocks=[]}),mb("keydown",0,function(a){var b,c,d,e;if(a.which===z){if(null==this.textFocus&&!a.shiftKey){for(this.setTextInputFocus(null),c=new h.Block,d=new h.Socket(-1/0),d.spliceIn(c.start),d.handwritten=!0,this.handwrittenBlocks.push(c),b=this.cursor.prev;("newline"===(e=b.type)||"cursor"===e||"segmentStart"===e||"segmentEnd"===e)&&b!==this.tree.start;)b=b.prev;return this.addMicroUndoOperation("CAPTURE_POINT"),this.addMicroUndoOperation(new y(c,b)),this.spliceIn(c,b),this.redrawMain(),this.newHandwrittenSocket=d}if(null!=this.textFocus&&!a.shiftKey)return this.setTextInputFocus(null),this.redrawMain()}}),mb("keyup",0,function(a){return a.which===z&&null!=this.newHandwrittenSocket?(this.setTextInputFocus(this.newHandwrittenSocket),this.newHandwrittenSocket=null):void 0}),ab=function(a){var b;for(b=a.start;b!==a.end;){if("cursor"===b.type)return!0;b=b.next}return!1},O=function(a){function c(a,b){this.before=a.clone(),this.location=a.start.getSerializedLocation(),this.after=b.clone()}return b(c,a),c.prototype.undo=function(a){var b,c;return b=a.tree.getTokenAtLocation(this.location).container,c=this.before.clone(),c.rawReplace(b)},c.prototype.redo=function(a){var b,c;return b=a.tree.getTokenAtLocation(this.location).container,c=this.after.clone(),c.rawReplace(b),c.notifyChange()},c}(W),A.prototype.copyAceEditor=function(){return clearTimeout(this.changeFromAceTimer),this.changeFromAceTimer=null,this.gutter.style.width=this.aceEditor.renderer.$gutterLayer.gutterWidth+"px",this.resizeBlockMode(),this.setValue_raw(this.getAceValue())},A.prototype.changeFromAceEditor=function(){return this.changeFromAceTimer?void 0:this.changeFromAceTimer=setTimeout(function(a){return function(){var b;return b=a.copyAceEditor(),!b.success&&b.error?a.fireEvent("parseerror",[b.error]):void 0}}(this),0)},mb("populate",0,function(){return this.aceElement=document.createElement("div"),this.aceElement.className="droplet-ace",this.wrapperElement.appendChild(this.aceElement),this.aceEditor=ace.edit(this.aceElement),this.aceEditor.setTheme("ace/theme/chrome"),this.aceEditor.setFontSize(15),this.aceEditor.getSession().setMode("ace/mode/coffee"),this.aceEditor.getSession().setTabSize(2),this.aceEditor.on("change",function(a){return function(){return a.suppressAceChangeEvent?void 0:a.currentlyUsingBlocks?a.changeFromAceEditor():a.fireEvent("change",[])}}(this)),this.currentlyUsingBlocks=!0,this.currentlyAnimating=!1,this.transitionContainer=document.createElement("div"),this.transitionContainer.className="droplet-transition-container",this.dropletElement.appendChild(this.transitionContainer)}),kb=function(a){var b;for(b=a.offsetTop;null!=(a=a.offsetParent);)b+=a.offsetTop;return b},jb=function(a){var b;for(b=a.offsetLeft;null!=(a=a.offsetParent);)b+=a.offsetLeft;return b},A.prototype.computePlaintextTranslationVectors=function(){var a,b,c,d,e,f,g,h;for(f=[],g=[],c=this.tree.start,a=this.aceEditor.session,e={x:this.aceEditor.container.getBoundingClientRect().left-jb(this.aceElement)+this.aceEditor.renderer.$gutterLayer.gutterWidth-this.gutter.offsetWidth+5,y:this.aceEditor.container.getBoundingClientRect().top-kb(this.aceElement)-a.getScrollTop(),indent:0,lineHeight:this.aceEditor.renderer.layerConfig.lineHeight,leftEdge:this.aceEditor.container.getBoundingClientRect().left-jb(this.aceElement)+this.aceEditor.renderer.$gutterLayer.gutterWidth-this.gutter.offsetWidth+5},this.mainCtx.font=this.aceFontSize()+" "+this.fontFamily,d=0;c!==this.tree.end;){switch(c.type){case"text":b=this.view.getViewNodeFor(c).bounds[0].upperLeftCorner(),b.x-=this.scrollOffsets.main.x,b.y-=this.scrollOffsets.main.y,g.push(new this.draw.Point(e.x,e.y).from(b)),f.push(this.view.getViewNodeFor(c)),e.x+=this.mainCtx.measureText(c.value).width;break;case"newline":h=Math.max(1,a.documentToScreenRow(d+1,0)-a.documentToScreenRow(d,0)),d+=1,e.y+=e.lineHeight*h,e.x=null!=c.specialIndent?e.leftEdge+this.mainCtx.measureText(c.specialIndent).width:e.leftEdge+e.indent*this.mainCtx.measureText(" ").width;break;case"indentStart":e.indent+=c.container.depth;break;case"indentEnd":e.indent-=c.container.depth}c=c.next}return{textElements:f,translationVectors:g}},l=function(){function a(a,b,c){this.start=a,this.end=b,this.time=c,this.currentRGB=[parseInt(this.start.slice(1,3),16),parseInt(this.start.slice(3,5),16),parseInt(this.start.slice(5,7),16)],this.step=[(parseInt(this.end.slice(1,3),16)-this.currentRGB[0])/this.time,(parseInt(this.end.slice(3,5),16)-this.currentRGB[1])/this.time,(parseInt(this.end.slice(5,7),16)-this.currentRGB[2])/this.time]}return a.prototype.advance=function(){var a,b,c,d,e;for(e=this.currentRGB,a=c=0,d=e.length;d>c;a=++c)b=e[a],this.currentRGB[a]+=this.step[a];return"rgb("+Math.round(this.currentRGB[0])+","+Math.round(this.currentRGB[1])+","+Math.round(this.currentRGB[2])+")"},a}(),A.prototype.performMeltAnimation=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;if(null==a&&(a=500),null==b&&(b=1e3),null==c&&(c=function(){}),this.currentlyUsingBlocks&&!this.currentlyAnimating){for(this.fireEvent("statechange",[!1]),this.setAceValue(this.getValue()),l=this.findLineNumberAtCoordinate(this.scrollOffsets.main.y),this.aceEditor.scrollToLine(l),this.aceEditor.resize(!0),this.redrawMain({noText:!0}),this.textFocus=this.lassoAnchor=null,this.mainScroller.style.overflowX=this.mainScroller.scrollWidth>this.mainScroller.offsetWidth?"scroll":"hidden",this.mainScroller.style.overflowY="hidden",this.dropletElement.style.width=this.wrapperElement.offsetWidth+"px",this.currentlyUsingBlocks=!1,this.currentlyAnimating=this.currentlyAnimating_suppressRedraw=!0,this.paletteHeader.style.zIndex=0,u=this.computePlaintextTranslationVectors(),k=u.textElements,n=u.translationVectors,m=[],p=function(b){return function(c,d,e,f){return setTimeout(function(){return c.style.left=d.bounds[0].x-b.scrollOffsets.main.x+e[f].x+"px",c.style.top=d.bounds[0].y-b.scrollOffsets.main.y+e[f].y+"px",c.style.fontSize=b.aceFontSize()},a)}}(this),g=r=0,t=k.length;t>r;g=++r)j=k[g],0<j.bounds[0].bottom()-this.scrollOffsets.main.y+n[g].y&&j.bounds[0].y-this.scrollOffsets.main.y+n[g].y<this.mainCanvas.height&&(f=document.createElement("div"),f.style.whiteSpace="pre",f.innerText=f.textContent=j.model.value,f.style.font=this.fontSize+"px "+this.fontFamily,f.style.left=""+(j.bounds[0].x-this.scrollOffsets.main.x)+"px",f.style.top=""+(j.bounds[0].y-this.scrollOffsets.main.y-this.fontAscent)+"px",f.className="droplet-transitioning-element",f.style.transition="left "+b+"ms, top "+b+"ms, font-size "+b+"ms",m.push(f),this.transitionContainer.appendChild(f),p(f,j,n,g));for(l=Math.max(this.aceEditor.getFirstVisibleRow(),0),e=Math.min(this.aceEditor.getLastVisibleRow(),this.view.getViewNodeFor(this.tree).lineLength-1),d=this.aceEditor.session.getScrollTop(),o=this.view.getViewNodeFor(this.tree),i=this.aceEditor.renderer.layerConfig.lineHeight,q=function(b){return function(c,e){return setTimeout(function(){return c.style.left="0px",c.style.top=b.aceEditor.session.documentToScreenRow(e,0)*i-d+"px",c.style.fontSize=b.aceFontSize()},a)}}(this),h=s=l;e>=l?e>=s:s>=e;h=e>=l?++s:--s)f=document.createElement("div"),f.style.whiteSpace="pre",f.innerText=f.textContent=h+1,f.style.left=0,f.style.top=""+(o.bounds[h].y+o.distanceToBase[h].above-this.view.opts.textHeight-this.fontAscent-this.scrollOffsets.main.y)+"px",f.style.font=this.fontSize+"px "+this.fontFamily,f.style.width=""+this.gutter.offsetWidth+"px",m.push(f),f.className="droplet-transitioning-element droplet-transitioning-gutter",f.style.transition="left "+b+"ms, top "+b+"ms, font-size "+b+"ms",this.dropletElement.appendChild(f),q(f,h);return this.lineNumberWrapper.style.display="none",this.mainCanvas.style.transition=this.highlightCanvas.style.transition=this.cursorCanvas.style.opacity="opacity "+a+"ms linear",this.mainCanvas.style.opacity=this.highlightCanvas.style.opacity=this.cursorCanvas.style.opacity=0,setTimeout(function(a){return function(){return a.dropletElement.style.transition=a.paletteWrapper.style.transition="left "+b+"ms",a.dropletElement.style.left="0px",a.paletteWrapper.style.left=""+-a.paletteWrapper.offsetWidth+"px"}}(this),a),setTimeout(function(a){return function(){var b,d;for(a.dropletElement.style.transition=a.paletteWrapper.style.transition="",a.dropletElement.style.top="-9999px",a.dropletElement.style.left="-9999px",a.paletteWrapper.style.top="-9999px",a.paletteWrapper.style.left="-9999px",a.aceElement.style.top="0px",a.aceElement.style.left="0px",a.currentlyAnimating=!1,a.mainScroller.style.overflow="auto",b=0,d=m.length;d>b;b++)f=m[b],f.parentNode.removeChild(f);return a.fireEvent("toggledone",[a.currentlyUsingBlocks]),null!=c?c():void 0}}(this),a+b),{success:!0}}},A.prototype.aceFontSize=function(){return parseFloat(this.aceEditor.getFontSize())+"px"},A.prototype.performFreezeAnimation=function(a,b,c){var d;return null==a&&(a=500),null==b&&(b=500),null==c&&(c=function(){}),this.currentlyUsingBlocks||this.currentlyAnimating?void 0:(d=this.copyAceEditor(),d.success?(this.mainScroller.scrollTop=0===this.aceEditor.getFirstVisibleRow()?0:this.view.getViewNodeFor(this.tree).bounds[this.aceEditor.getFirstVisibleRow()].y,this.currentlyUsingBlocks=!0,this.currentlyAnimating=!0,this.fireEvent("statechange",[!0]),setTimeout(function(d){return function(){var e,f,g,h,i,j,k,l,m,n,o,p,r,s,t,u,v,w,x,y,z,A;for(d.mainScroller.style.overflow="hidden",d.dropletElement.style.width=d.wrapperElement.offsetWidth+"px",d.redrawMain({noText:!0}),d.currentlyAnimating_suppressRedraw=!0,d.aceElement.style.top="-9999px",d.aceElement.style.left="-9999px",d.paletteWrapper.style.top="0px",d.paletteWrapper.style.left=""+-d.paletteWrapper.offsetWidth+"px",d.dropletElement.style.top="0px",d.dropletElement.style.left="0px",d.paletteHeader.style.zIndex=0,z=d.computePlaintextTranslationVectors(),m=z.textElements,p=z.translationVectors,o=[],s=function(a,b){return setTimeout(function(){return a.style.left=""+(b.bounds[0].x-d.scrollOffsets.main.x)+"px",a.style.top=""+(b.bounds[0].y-d.scrollOffsets.main.y-d.fontAscent)+"px",a.style.fontSize=d.fontSize+"px"},0)},i=u=0,x=m.length;x>u;i=++u)l=m[i],0<l.bounds[0].bottom()-d.scrollOffsets.main.y+p[i].y&&l.bounds[0].y-d.scrollOffsets.main.y+p[i].y<d.mainCanvas.height&&(g=document.createElement("div"),g.style.whiteSpace="pre",g.innerText=g.textContent=l.model.value,g.style.font=d.aceFontSize()+" "+d.fontFamily,g.style.position="absolute",g.style.left=""+(l.bounds[0].x-d.scrollOffsets.main.x+p[i].x)+"px",g.style.top=""+(l.bounds[0].y-d.scrollOffsets.main.y+p[i].y)+"px",g.className="droplet-transitioning-element",g.style.transition="left "+b+"ms, top "+b+"ms, font-size "+b+"ms",o.push(g),d.transitionContainer.appendChild(g),s(g,l));for(n=Math.max(d.aceEditor.getFirstVisibleRow(),0),f=Math.min(d.aceEditor.getLastVisibleRow(),d.view.getViewNodeFor(d.tree).lineLength-1),r=d.view.getViewNodeFor(d.tree),k=d.aceEditor.renderer.layerConfig.lineHeight,e=d.aceEditor.session.getScrollTop(),t=function(a,b){return setTimeout(function(){return a.style.left=0,a.style.top=""+(r.bounds[b].y+r.distanceToBase[b].above-d.view.opts.textHeight-d.fontAscent-d.scrollOffsets.main.y)+"px",a.style.fontSize=d.fontSize+"px"
},0)},j=v=n;f>=n?f>=v:v>=f;j=f>=n?++v:--v)g=document.createElement("div"),g.style.whiteSpace="pre",g.innerText=g.textContent=j+1,g.style.font=d.aceFontSize()+" "+d.fontFamily,g.style.width=""+d.aceEditor.renderer.$gutter.offsetWidth+"px",g.style.left=0,g.style.top=""+(d.aceEditor.session.documentToScreenRow(j,0)*k-e)+"px",g.className="droplet-transitioning-element droplet-transitioning-gutter",g.style.transition="left "+b+"ms, top "+b+"ms, font-size "+b+"ms",o.push(g),d.dropletElement.appendChild(g),t(g,j);for(A=[d.mainCanvas,d.highlightCanvas,d.cursorCanvas],w=0,y=A.length;y>w;w++)h=A[w],h.style.opacity=0;return setTimeout(function(){var b,c,e;for(e=[d.mainCanvas,d.highlightCanvas,d.cursorCanvas],b=0,c=e.length;c>b;b++)h=e[b],h.style.transition="opacity "+a+"ms linear";return d.mainCanvas.style.opacity=1,d.highlightCanvas.style.opacity=1,d.cursorCanvas.style.opacity=d.editorHasFocus()?1:q},b),d.dropletElement.style.transition=d.paletteWrapper.style.transition="left "+a+"ms",d.dropletElement.style.left=""+d.paletteWrapper.offsetWidth+"px",d.paletteWrapper.style.left="0px",setTimeout(function(){var a,b;for(d.dropletElement.style.transition=d.paletteWrapper.style.transition="",d.mainScroller.style.overflow="auto",d.currentlyAnimating=!1,d.lineNumberWrapper.style.display="block",d.redrawMain(),d.paletteHeader.style.zIndex=257,a=0,b=o.length;b>a;a++)g=o[a],g.parentNode.removeChild(g);return d.resizeBlockMode(),d.fireEvent("toggledone",[d.currentlyUsingBlocks]),null!=c?c():void 0},b+a)}}(this),0),{success:!0}):(d.error&&this.fireEvent("parseerror",[d.error]),d))},A.prototype.toggleBlocks=function(a){return this.currentlyUsingBlocks?this.performMeltAnimation(500,1e3,a):this.performFreezeAnimation(500,500,a)},mb("populate",2,function(){return this.scrollOffsets={main:new this.draw.Point(0,0),palette:new this.draw.Point(0,0)},this.mainScroller=document.createElement("div"),this.mainScroller.className="droplet-main-scroller",this.mainScrollerStuffing=document.createElement("div"),this.mainScrollerStuffing.className="droplet-main-scroller-stuffing",this.mainScroller.appendChild(this.mainScrollerStuffing),this.dropletElement.appendChild(this.mainScroller),this.mainScroller.addEventListener("scroll",function(a){return function(){return a.scrollOffsets.main.y=a.mainScroller.scrollTop,a.scrollOffsets.main.x=a.mainScroller.scrollLeft,a.mainCtx.setTransform(1,0,0,1,-a.scrollOffsets.main.x,-a.scrollOffsets.main.y),a.highlightCtx.setTransform(1,0,0,1,-a.scrollOffsets.main.x,-a.scrollOffsets.main.y),a.cursorCtx.setTransform(1,0,0,1,-a.scrollOffsets.main.x,-a.scrollOffsets.main.y),a.redrawMain()}}(this)),this.paletteScroller=document.createElement("div"),this.paletteScroller.className="droplet-palette-scroller",this.paletteScrollerStuffing=document.createElement("div"),this.paletteScrollerStuffing.className="droplet-palette-scroller-stuffing",this.paletteScroller.appendChild(this.paletteScrollerStuffing),this.paletteWrapper.appendChild(this.paletteScroller),this.paletteScroller.addEventListener("scroll",function(a){return function(){return a.scrollOffsets.palette.y=a.paletteScroller.scrollTop,a.paletteCtx.setTransform(1,0,0,1,-a.scrollOffsets.palette.x,-a.scrollOffsets.palette.y),a.paletteHighlightCtx.setTransform(1,0,0,1,-a.scrollOffsets.palette.x,-a.scrollOffsets.palette.y),a.redrawPalette()}}(this))}),A.prototype.resizeMainScroller=function(){return this.mainScroller.style.width=""+this.dropletElement.offsetWidth+"px",this.mainScroller.style.height=""+this.dropletElement.offsetHeight+"px"},mb("resize_palette",0,function(){return this.paletteScroller.style.top=""+this.paletteHeader.offsetHeight+"px",this.paletteScroller.style.width=""+this.paletteCanvas.offsetWidth+"px",this.paletteScroller.style.height=""+this.paletteCanvas.offsetHeight+"px"}),mb("redraw_main",1,function(){var a,b,c,d,e;for(a=this.view.getViewNodeFor(this.tree).getBounds(),e=this.floatingBlocks,c=0,d=e.length;d>c;c++)b=e[c],a.unite(this.view.getViewNodeFor(b.block).getBounds());return this.mainScrollerStuffing.style.width=""+a.right()+"px",this.mainScrollerStuffing.style.height=""+a.bottom()+"px"}),mb("redraw_palette",0,function(){var a,b,c,d,e;for(b=new this.draw.NoRectangle,e=this.currentPaletteBlocks,c=0,d=e.length;d>c;c++)a=e[c],b.unite(this.view.getViewNodeFor(a).getBounds());return this.paletteScrollerStuffing.style.height=""+b.bottom()+"px"}),mb("populate",0,function(){return this.fontSize=15,this.fontFamily="Courier New",this.fontAscent=d.fontMetrics(this.fontFamily,this.fontSize).prettytop}),A.prototype.setFontSize_raw=function(a){return this.fontSize!==a?(this.fontSize=a,this.paletteHeader.style.fontSize=""+a+"px",this.gutter.style.fontSize=""+a+"px",this.view.opts.textHeight=this.dragView.opts.textHeight=d.getFontHeight(this.fontFamily,this.fontSize),this.fontAscent=d.fontMetrics(this.fontFamily,this.fontSize).prettytop,this.view.clearCache(),this.dragView.clearCache(),this.gutter.style.width=this.aceEditor.renderer.$gutterLayer.gutterWidth+"px",this.redrawMain(),this.redrawPalette()):void 0},A.prototype.setFontFamily=function(a){return this.draw.setGlobalFontFamily(a),this.fontFamily=a,this.view.opts.textHeight=d.getFontHeight(this.fontFamily,this.fontSize),this.fontAscent=d.fontMetrics(this.fontFamily,this.fontSize).prettytop,this.view.clearCache(),this.dragView.clearCache(),this.gutter.style.fontFamily=a,this.redrawMain(),this.redrawPalette()},A.prototype.setFontSize=function(a){return this.setFontSize_raw(a),this.resizeBlockMode()},mb("populate",0,function(){return this.markedLines={},this.extraMarks={}}),A.prototype.getHighlightPath=function(a,b){var c;return c=this.view.getViewNodeFor(a).path.clone(),c.style.fillColor=null,c.style.strokeColor=b.color,c.style.lineWidth=3,c.noclip=!0,c.bevel=!1,c},A.prototype.markLine=function(a,b){var c;return c=this.tree.getBlockOnLine(a),null!=c&&(this.markedLines[a]={model:c,style:b}),this.redrawMain()},A.prototype.unmarkLine=function(a){return delete this.markedLines[a],this.redrawMain()},A.prototype.clearLineMarks=function(){return this.markedLines={},this.redrawMain()},mb("populate",0,function(){return this.lastHoveredLine=null}),mb("mousemove",0,function(a){var b,c,d;if(null==this.draggingBlock&&null==this.clickedBlock&&this.hasEvent("linehover")){if(!this.trackerPointIsInMainScroller(a))return;if(c=this.trackerPointToMain(a),d=this.view.getViewNodeFor(this.tree),null!=this.lastHoveredLine&&null!=d.bounds[this.lastHoveredLine]&&d.bounds[this.lastHoveredLine].contains(c))return;if(b=this.findLineNumberAtCoordinate(c.y),d.bounds[b].contains(c)||(b=null),b!==this.lastHoveredLine)return this.fireEvent("linehover",[{line:this.lastHoveredLine=b}])}}),P=function(a){function c(a,b){this.oldValue=a,this.newValue=b,this.oldValue=this.oldValue.clone(),this.newValue=this.newValue.clone()}return b(c,a),c.prototype.undo=function(a){return a.tree=this.oldValue.clone(),a.tree.start},c.prototype.redo=function(a){return a.tree=this.newValue.clone(),a.tree.start},c}(W),mb("populate",0,function(){return this.trimWhitespace=!1}),A.prototype.setTrimWhitespace=function(a){return this.trimWhitespace=a},A.prototype.setValue_raw=function(a){var b,c;try{return this.trimWhitespace&&(a=a.trim()),c=this.mode.parse(a,{wrapAtRoot:!0}),a!==this.tree.stringify(this.mode.empty)&&this.addMicroUndoOperation("CAPTURE_POINT"),this.addMicroUndoOperation(new P(this.tree,c)),this.tree=c,this.gutterVersion=-1,this.tree.start.insert(this.cursor),this.removeBlankLines(),this.redrawMain(),{success:!0}}catch(d){return b=d,{success:!1,error:b}}},A.prototype.setValue=function(a){var b,c;return b=this.aceEditor.session.getScrollTop(),this.setAceValue(a),this.resizeTextMode(),this.aceEditor.session.setScrollTop(b),this.currentlyUsingBlocks&&(c=this.setValue_raw(a),c.success===!1&&(this.setEditorState(!1),this.aceEditor.setValue(a),c.error))?this.fireEvent("parseerror",[c.error]):void 0},A.prototype.addEmptyLine=function(a){return 0===a.length||"\n"===a[a.length-1]?a:a+"\n"},A.prototype.getValue=function(){return this.currentlyUsingBlocks?this.addEmptyLine(this.tree.stringify(this.mode.empty)):this.getAceValue()},A.prototype.getAceValue=function(){var a;return a=this.aceEditor.getValue(),this.lastAceSeenValue=a},A.prototype.setAceValue=function(a){return a!==this.lastAceSeenValue?(this.aceEditor.setValue(a,1),this.lastAceSeenValue=a):void 0},mb("populate",0,function(){return this.bindings={}}),A.prototype.on=function(a,b){return this.bindings[a]=b},A.prototype.once=function(a,b){return this.bindings[a]=function(){return b.apply(this,arguments),this.bindings[a]=null}},A.prototype.fireEvent=function(a,b){return a in this.bindings?this.bindings[a].apply(this,b):void 0},A.prototype.hasEvent=function(a){return a in this.bindings&&null!=this.bindings[a]},A.prototype.setEditorState=function(a){var b;return a?(this.setValue(this.getAceValue()),this.dropletElement.style.top=this.paletteWrapper.style.top=this.paletteWrapper.style.left="0px",this.dropletElement.style.left=""+this.paletteWrapper.offsetWidth+"px",this.aceElement.style.top=this.aceElement.style.left="-9999px",this.currentlyUsingBlocks=!0,this.lineNumberWrapper.style.display="block",this.mainCanvas.opacity=this.paletteWrapper.opacity=this.highlightCanvas.opacity=1,this.resizeBlockMode(),this.redrawMain()):(b=this.aceEditor.session.getScrollTop(),this.setAceValue(this.getValue()),this.aceEditor.resize(!0),this.aceEditor.session.setScrollTop(b),this.dropletElement.style.top=this.dropletElement.style.left=this.paletteWrapper.style.top=this.paletteWrapper.style.left="-9999px",this.aceElement.style.top=this.aceElement.style.left="0px",this.currentlyUsingBlocks=!1,this.lineNumberWrapper.style.display="none",this.mainCanvas.opacity=this.highlightCanvas.opacity=0,this.resizeBlockMode())},mb("populate",0,function(){return this.dragCover=document.createElement("div"),this.dragCover.className="droplet-drag-cover",this.dragCover.style.display="none",document.body.appendChild(this.dragCover)}),mb("mousedown",-1,function(){return null!=this.clickedBlock?this.dragCover.style.display="block":void 0}),mb("mouseup",0,function(){return this.dragCanvas.style.top=this.dragCanvas.style.left="-9999px",this.dragCover.style.display="none"}),mb("mousedown",10,function(){return null!=this.draggingBlock?this.endDrag():void 0}),A.prototype.endDrag=function(){this.draggingBlock=null,this.draggingOffset=null,this.lastHighlight=null,this.clearDrag(),this.redrawMain()},mb("set_palette",0,function(){return this.fireEvent("changepalette",[])}),sb={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},R=1e3,A.prototype.touchEventToPoint=function(a,b){var c;return c=new this.draw.Point(a.changedTouches[b].pageX,a.changedTouches[b].pageY)},A.prototype.queueLassoMousedown=function(a,b){return this.lassoSelectStartTimeout=setTimeout(function(c){return function(){var d,e,f,g,h,i;for(e={},h=db.mousedown,i=[],f=0,g=h.length;g>f;f++)d=h[f],i.push(d.call(c,a,b,e));return i}}(this),R)},mb("populate",0,function(){return this.touchScrollAnchor=new this.draw.Point(0,0),this.lassoSelectStartTimeout=null,this.wrapperElement.addEventListener("touchstart",function(a){return function(b){var c,d,e,f,g,h;for(clearTimeout(a.lassoSelectStartTimeout),e=a.touchEventToPoint(b,0),d={suppressLassoSelect:!0},h=db.mousedown,f=0,g=h.length;g>f;f++)c=h[f],c.call(a,e,b,d);return d.consumedHitTest?b.preventDefault():a.queueLassoMousedown(e,b)}}(this)),this.wrapperElement.addEventListener("touchmove",function(a){return function(b){var c,d,e,f,g,h;for(clearTimeout(a.lassoSelectStartTimeout),e=a.touchEventToPoint(b,0),null==a.clickedBlock&&null==a.draggingBlock&&a.queueLassoMousedown(e,b),d={},h=db.mousemove,f=0,g=h.length;g>f;f++)c=h[f],c.call(a,e,b,d);return null!=a.clickedBlock||null!=a.draggingBlock||null!=a.lassoSelectAnchor||a.textInputSelecting?b.preventDefault():void 0}}(this)),this.wrapperElement.addEventListener("touchend",function(a){return function(b){var c,d,e,f,g,h;for(clearTimeout(a.lassoSelectStartTimeout),e=a.touchEventToPoint(b,0),d={},h=db.mouseup,f=0,g=h.length;g>f;f++)c=h[f],c.call(a,e,b,d);return b.preventDefault()}}(this))}),mb("populate",0,function(){return this.cursorCanvas=document.createElement("canvas"),this.cursorCanvas.className="droplet-highlight-canvas droplet-cursor-canvas",this.cursorCtx=this.cursorCanvas.getContext("2d"),this.dropletElement.appendChild(this.cursorCanvas)}),A.prototype.resizeCursorCanvas=function(){return this.cursorCanvas.width=this.dropletElement.offsetWidth,this.cursorCanvas.style.width=""+this.cursorCanvas.width+"px",this.cursorCanvas.height=this.dropletElement.offsetHeight,this.cursorCanvas.style.height=""+this.cursorCanvas.height+"px",this.cursorCanvas.style.left=""+this.mainCanvas.offsetLeft+"px"},A.prototype.strokeCursor=function(a){var b,c,d,e,f,g;if(null!=a)return this.cursorCtx.beginPath(),this.cursorCtx.fillStyle=this.cursorCtx.strokeStyle="#000",this.cursorCtx.lineCap="round",this.cursorCtx.lineWidth=3,g=this.view.opts.tabWidth/2-r,e=this.view.opts.tabHeight-p,c=new this.draw.Point(a.x+this.view.opts.tabOffset+g+r,a.y-(g*g+e*e)/(2*e)+e+p/2),b=Math.atan2(g,(g*g+e*e)/(2*e)-e),f=.5*Math.PI-b,d=.5*Math.PI+b,this.cursorCtx.arc(c.x,c.y,(g*g+e*e)/(2*e),f,d),this.cursorCtx.stroke()},A.prototype.highlightFlashShow=function(){return null!=this.flashTimeout&&clearTimeout(this.flashTimeout),this.cursorCanvas.style.display="block",this.highlightsCurrentlyShown=!0,this.flashTimeout=setTimeout(function(a){return function(){return a.flash()}}(this),500)},A.prototype.highlightFlashHide=function(){return null!=this.flashTimeout&&clearTimeout(this.flashTimeout),this.cursorCanvas.style.display="none",this.highlightsCurrentlyShown=!1,this.flashTimeout=setTimeout(function(a){return function(){return a.flash()}}(this),500)},A.prototype.editorHasFocus=function(){var a;return((a=document.activeElement)===this.dropletElement||a===this.hiddenInput||a===this.copyPasteInput)&&document.hasFocus()},A.prototype.flash=function(){return null!=this.lassoSegment||null!=this.draggingBlock||null!=this.textFocus&&this.textInputHighlighted||!this.highlightsCurrentlyShown||!this.editorHasFocus()?this.highlightFlashShow():this.highlightFlashHide()},mb("populate",0,function(){var a,b;return this.highlightsCurrentlyShown=!1,a=function(a){return function(){return a.highlightFlashShow(),a.cursorCanvas.style.transition="",a.cursorCanvas.style.opacity=q}}(this),this.dropletElement.addEventListener("blur",a),this.hiddenInput.addEventListener("blur",a),this.copyPasteInput.addEventListener("blur",a),b=function(a){return function(){return a.highlightFlashShow(),a.cursorCanvas.style.transition="",a.cursorCanvas.style.opacity=1}}(this),this.dropletElement.addEventListener("focus",b),this.hiddenInput.addEventListener("focus",b),this.copyPasteInput.addEventListener("focus",b),this.flashTimeout=setTimeout(function(a){return function(){return a.flash()}}(this),0)}),A.prototype.mainViewOrChildrenContains=function(a,b){var c,d,e,f,g;if(d=this.view.getViewNodeFor(a),d.path.contains(b))return!0;for(g=d.children,e=0,f=g.length;f>e;e++)if(c=g[e],this.mainViewOrChildrenContains(c.child,b))return!0;return!1},mb("mouseup",.5,function(a){var b,c;return null!=this.draggingBlock&&(c=new this.draw.Point(a.x+this.draggingOffset.x,a.y+this.draggingOffset.y),b=this.trackerPointToMain(c),this.inTree(this.draggingBlock)&&this.mainViewOrChildrenContains(this.draggingBlock,b))?(this.draggingBlock.ephemeral=!1,this.endDrag()):void 0}),mb("populate",0,function(){return this.gutter=document.createElement("div"),this.gutter.className="droplet-gutter",this.lineNumberWrapper=document.createElement("div"),this.gutter.appendChild(this.lineNumberWrapper),this.gutterVersion=-1,this.lineNumberTags={},this.dropletElement.appendChild(this.gutter)}),A.prototype.resizeGutter=function(){var a,b;return this.gutter.style.width=this.aceEditor.renderer.$gutterLayer.gutterWidth+"px",this.gutter.style.height=""+Math.max(this.dropletElement.offsetHeight,null!=(a=null!=(b=this.view.getViewNodeFor(this.tree).totalBounds)?b.height:void 0)?a:0)+"px"},A.prototype.addLineNumberForLine=function(a){var b,c;return c=this.view.getViewNodeFor(this.tree),a in this.lineNumberTags?b=this.lineNumberTags[a]:(b=document.createElement("div"),b.className="droplet-gutter-line",b.innerText=b.textContent=a+1,this.lineNumberTags[a]=b),b.style.top=""+(c.bounds[a].y+c.distanceToBase[a].above-this.view.opts.textHeight-this.fontAscent-this.scrollOffsets.main.y)+"px",b.style.height=c.bounds[a].height+"px",b.style.fontSize=this.fontSize+"px",this.lineNumberWrapper.appendChild(b)},A.prototype.findLineNumberAtCoordinate=function(a){var b,c,d,e;for(e=this.view.getViewNodeFor(this.tree),d=0,b=e.bounds.length,c=Math.floor((d+b)/2);e.bounds[c].y!==a&&b>d;){if(d===c||b===c)return c;if(e.bounds[c].y>a?b=c:d=c,0>b)return 0;if(d>=e.bounds.length)return e.bounds.length-1;c=Math.floor((d+b)/2)}return c},mb("redraw_main",0,function(a){var b,c,d,e,f,g,h;for(f=this.view.getViewNodeFor(this.tree),e=this.findLineNumberAtCoordinate(this.scrollOffsets.main.y),b=this.findLineNumberAtCoordinate(this.scrollOffsets.main.y+this.mainCanvas.height),c=g=e;b>=e?b>=g:g>=b;c=b>=e?++g:--g)this.addLineNumberForLine(c);h=this.lineNumberTags;for(c in h)d=h[c],(e>c||c>b)&&(this.lineNumberTags[c].parentNode.removeChild(this.lineNumberTags[c]),delete this.lineNumberTags[c]);return a?this.gutter.style.height=""+Math.max(this.mainScroller.offsetHeight,f.totalBounds.height)+"px":void 0}),A.prototype.setPaletteWidth=function(a){return this.paletteWrapper.style.width=a+"px",this.resizeBlockMode()},mb("populate",1,function(){var a,b;return this.copyPasteInput=document.createElement("textarea"),this.copyPasteInput.style.position="absolute",this.copyPasteInput.style.left=this.copyPasteInput.style.top="-9999px",this.dropletElement.appendChild(this.copyPasteInput),a=!1,b=!1,this.copyPasteInput.addEventListener("keydown",function(c){return 86===c.keyCode?a=!0:88===c.keyCode?b=!0:void 0}),this.copyPasteInput.addEventListener("keyup",function(c){return 86===c.keyCode?a=!1:88===c.keyCode?b=!1:void 0}),this.copyPasteInput.addEventListener("input",function(c){return function(){var d,e,f,g,i,j,k,l,m;if(a){try{for(i=c.copyPasteInput.value,g=1/0,l=i.split("\n"),j=0,k=l.length;k>j;j++)f=l[j],g=Math.min(g,i.length-i.trimLeft().length);i=function(){var a,b,c,d;for(c=i.split("\n"),d=[],a=0,b=c.length;b>a;a++)f=c[a],d.push(f.slice(g));return d}().join("\n"),i=i.replace(/^\n*|\n*$/g,""),d=c.mode.parse(i),c.addMicroUndoOperation("CAPTURE_POINT"),null!=c.lassoSegment&&(c.addMicroUndoOperation(new M(c.lassoSegment)),c.spliceOut(c.lassoSegment),c.lassoSegment=null),c.addMicroUndoOperation(new y(d,c.cursor.previousVisibleToken())),c.spliceIn(d,c.cursor),"newline"!==(m=d.end.nextVisibleToken().type)&&"indentEnd"!==m&&d.end.insert(new h.NewlineToken),c.addMicroUndoOperation(new x(d)),d.unwrap(),c.redrawMain()}catch(n){e=n,console.log(e.stack)}return c.copyPasteInput.setSelectionRange(0,c.copyPasteInput.value.length)}return b&&null!=c.lassoSegment?(c.addMicroUndoOperation("CAPTURE_POINT"),c.addMicroUndoOperation(new M(c.lassoSegment)),c.spliceOut(c.lassoSegment),c.lassoSegment=null,c.redrawMain()):void 0}}(this))}),mb("keydown",0,function(a){var b;return b=a.which,c.call($,b)>=0&&null==this.textFocus?(this.copyPasteInput.focus(),null!=this.lassoSegment&&(this.copyPasteInput.value=this.lassoSegment.stringify(this.mode.empty)),this.copyPasteInput.setSelectionRange(0,this.copyPasteInput.value.length)):void 0}),mb("keyup",0,function(a,b){var d;return d=b.which,c.call($,d)>=0?null!=this.textFocus?this.hiddenInput.focus():this.dropletElement.focus():void 0}),mb("populate",0,function(){return setTimeout(function(a){return function(){return a.cursor.parent=a.tree}}(this),0)}),A.prototype.overflowsX=function(){return this.documentDimensions().width>this.viewportDimensions().width},A.prototype.overflowsY=function(){return this.documentDimensions().height>this.viewportDimensions().height},A.prototype.documentDimensions=function(){var a;return a=this.view.getViewNodeFor(this.tree).totalBounds,{width:a.width,height:a.height}},A.prototype.viewportDimensions=function(){return{width:this.mainCanvas.width,height:this.mainCanvas.height}},A.prototype.dumpNodeForDebug=function(a,b){return console.log("Model node:"),console.log(a.serialize()),console.log("View node:"),console.log(this.view.getViewNodeFor(a).serialize(b))};for(pb in tb)for(tb[pb].sort(function(a,b){return a.priority>b.priority?-1:1}),db[pb]=[],zb=tb[pb],wb=0,xb=zb.length;xb>wb;wb++)Z=zb[wb],db[pb].push(Z.fn);return fb})}.call(this),function(){define("droplet",["droplet-draw","droplet-view","droplet-model","droplet-coffee","droplet-javascript","droplet-controller","droplet-parser"],function(a,b,c,d,e,f,g){return{view:b,draw:a,model:c,parse:d.parse,js_parse:e.parse,parseObj:g.parseObj,Editor:f.Editor}})}.call(this);
//# sourceMappingURL=droplet-full.min.js.map