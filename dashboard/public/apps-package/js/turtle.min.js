require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({"/home/ubuntu/staging/apps/build/js/turtle/main.js":[function(a,b,c){"use strict";var d=a("../appMain"),e=a("../StudioApp").singleton,f=a("./turtle"),g=a("./blocks"),h=a("./skins"),i=a("./levels");window.turtleMain=function(a){a.skinsModule=h,a.blocksModule=g;var b=new f;window.__TestInterface.setSpeedSliderValue=function(a){b.speedSlider.setValue(a)},b.injectStudioApp(e),d(b,i,a)}},{"../StudioApp":"/home/ubuntu/staging/apps/build/js/StudioApp.js","../appMain":"/home/ubuntu/staging/apps/build/js/appMain.js","./blocks":"/home/ubuntu/staging/apps/build/js/turtle/blocks.js","./levels":"/home/ubuntu/staging/apps/build/js/turtle/levels.js","./skins":"/home/ubuntu/staging/apps/build/js/turtle/skins.js","./turtle":"/home/ubuntu/staging/apps/build/js/turtle/turtle.js"}],"/home/ubuntu/staging/apps/build/js/turtle/skins.js":[function(a,b,c){"use strict";var d=a("../skins");c.load=function(a,b){var c=d.load(a,b),e={anna:{speedModifier:10,turtleNumFrames:10,smoothAnimate:!0,consolidateTurnAndMove:!0,annaLine:c.assetUrl("annaline.png"),annaLine_2x:c.assetUrl("annaline_2x.png")},elsa:{speedModifier:10,turtleNumFrames:20,decorationAnimationNumFrames:19,smoothAnimate:!0,consolidateTurnAndMove:!0,elsaLine:c.assetUrl("elsaline.png"),elsaLine_2x:c.assetUrl("elsaline_2x.png")}},f=e[c.id];c.speedModifier=1,c.stampValues=[[c.avatar,"DEFAULT"]];for(var g in f)c[g]=f[g];return c.lineStylePatternOptions=[[c.patternDefault,"DEFAULT"],[c.rainbowMenu,"rainbowLine"],[c.ropeMenu,"ropeLine"],[c.squigglyMenu,"squigglyLine"],[c.swirlyMenu,"swirlyLine"],[c.annaLine,"annaLine"],[c.elsaLine,"elsaLine"],[c.annaLine_2x,"annaLine_2x"],[c.elsaLine_2x,"elsaLine_2x"]],c}},{"../skins":"/home/ubuntu/staging/apps/build/js/skins.js"}],"/home/ubuntu/staging/apps/build/js/turtle/blocks.js":[function(a,b,c){"use strict";var d=a("./colours"),e=a("./locale"),f=a("../locale"),g=a("./customLevelBlocks");a("./turtle");c.install=function(a,b){var c=b.skin,h=a.Generator.get("JavaScript");a.JavaScript=h;var i=function(b){var c=a.Variables.NAME_TYPE;return h.variableDB_.getDistinctName(b,c)};"anna"==c.id||"elsa"==c.id?(a.FieldColour.COLOURS=[d.FROZEN1,d.FROZEN2,d.FROZEN3,d.FROZEN4,d.FROZEN5,d.FROZEN6,d.FROZEN7,d.FROZEN8,d.FROZEN9],a.FieldColour.COLUMNS=3):(a.FieldColour.COLOURS=[d.BLACK,d.GREY,d.KHAKI,d.WHITE,d.RED,d.PINK,d.ORANGE,d.YELLOW,d.GREEN,d.BLUE,d.AQUAMARINE,d.PLUM],a.FieldColour.COLUMNS=4),a.Blocks.draw_move_by_constant={helpUrl:"",init:function(){this.setHSV(184,1,.74),this.appendDummyInput().appendTitle(new a.FieldDropdown(a.Blocks.draw_move.DIRECTIONS),"DIR"),this.appendDummyInput().appendTitle(new a.FieldTextInput("100",a.FieldTextInput.numberValidator),"VALUE").appendTitle(e.dots()),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.moveForwardTooltip())}},a.Blocks.draw_move_by_constant_dropdown={helpUrl:"",init:function(){this.setHSV(184,1,.74),this.appendDummyInput().appendTitle(new a.FieldDropdown(a.Blocks.draw_move.DIRECTIONS),"DIR"),this.appendDummyInput().appendTitle(new a.FieldDropdown,"VALUE").appendTitle(e.dots()),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.moveForwardTooltip())}},h.draw_move_by_constant=function(){var a=window.parseFloat(this.getTitleValue("VALUE"))||0;return"Turtle."+this.getTitleValue("DIR")+"("+a+", 'block_id_"+this.id+"');\n"},h.draw_move_by_constant_dropdown=h.draw_move_by_constant,a.Blocks.draw_turn_by_constant_restricted={helpUrl:"",init:function(){this.setHSV(184,1,.74),this.appendDummyInput().appendTitle(new a.FieldDropdown(a.Blocks.draw_turn.DIRECTIONS),"DIR"),this.appendDummyInput().appendTitle(new a.FieldDropdown(this.VALUE),"VALUE").appendTitle(e.degrees()),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.turnTooltip())}},a.Blocks.draw_turn_by_constant_restricted.VALUE=[30,45,60,90,120,135,150,180].map(function(a){return[String(a),String(a)]}),h.draw_turn_by_constant_restricted=function(){var a=window.parseFloat(this.getTitleValue("VALUE"));return"Turtle."+this.getTitleValue("DIR")+"("+a+", 'block_id_"+this.id+"');\n"},a.Blocks.draw_turn_by_constant={helpUrl:"",init:function(){this.setHSV(184,1,.74),this.appendDummyInput().appendTitle(new a.FieldDropdown(a.Blocks.draw_turn.DIRECTIONS),"DIR"),this.appendDummyInput().appendTitle(new a.FieldTextInput("90",a.FieldTextInput.numberValidator),"VALUE").appendTitle(e.degrees()),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.turnTooltip())}},a.Blocks.draw_turn_by_constant_dropdown={helpUrl:"",init:function(){this.setHSV(184,1,.74),this.appendDummyInput().appendTitle(new a.FieldDropdown(a.Blocks.draw_turn.DIRECTIONS),"DIR"),this.appendDummyInput().appendTitle(new a.FieldDropdown,"VALUE").appendTitle(e.degrees()),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.turnTooltip())}},h.draw_turn_by_constant=function(){var a=window.parseFloat(this.getTitleValue("VALUE"))||0;return"Turtle."+this.getTitleValue("DIR")+"("+a+", 'block_id_"+this.id+"');\n"},h.draw_turn_by_constant_dropdown=h.draw_turn_by_constant,h.draw_move_inline=function(){var a=window.parseFloat(this.getTitleValue("VALUE"));return"Turtle."+this.getTitleValue("DIR")+"("+a+", 'block_id_"+this.id+"');\n"},a.Blocks.draw_turn_inline_restricted={helpUrl:"",init:function(){this.setHSV(184,1,.74),this.appendDummyInput().appendTitle(new a.FieldDropdown(a.Blocks.draw_turn.DIRECTIONS),"DIR"),this.appendDummyInput().appendTitle(new a.FieldDropdown(this.VALUE),"VALUE").appendTitle(e.degrees()),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.turnTooltip())}},a.Blocks.draw_turn_inline_restricted.VALUE=[30,45,60,90,120,135,150,180].map(function(a){return[String(a),String(a)]}),h.draw_turn_inline_restricted=function(){var a=window.parseFloat(this.getTitleValue("VALUE"));return"Turtle."+this.getTitleValue("DIR")+"("+a+", 'block_id_"+this.id+"');\n"},a.Blocks.draw_turn_inline={helpUrl:"",init:function(){this.setHSV(184,1,.74),this.appendDummyInput().appendTitle(new a.FieldDropdown(a.Blocks.draw_turn.DIRECTIONS),"DIR"),this.appendDummyInput().appendTitle(new a.FieldTextInput("90",a.FieldTextInput.numberValidator),"VALUE").appendTitle(e.degrees()),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.turnTooltip())}},h.draw_turn_inline=function(){var a=window.parseFloat(this.getTitleValue("VALUE"));return"Turtle."+this.getTitleValue("DIR")+"("+a+", 'block_id_"+this.id+"');\n"},a.Blocks.variables_get_counter={category:null,helpUrl:a.Msg.VARIABLES_GET_HELPURL,init:function(){this.setHSV(312,.32,.62),this.appendDummyInput().appendTitle(a.Msg.VARIABLES_GET_TITLE).appendTitle(new a.FieldLabel(e.loopVariable()),"VAR"),this.setOutput(!0),this.setTooltip(a.Msg.VARIABLES_GET_TOOLTIP)},getVars:function(){return[this.getTitleValue("VAR")]}},h.variables_get_counter=h.variables_get,a.Blocks.variables_get_length={category:null,helpUrl:a.Msg.VARIABLES_GET_HELPURL,init:function(){this.setHSV(312,.32,.62),this.appendDummyInput().appendTitle(a.Msg.VARIABLES_GET_TITLE).appendTitle(new a.FieldLabel(e.lengthParameter()),"VAR"),this.setOutput(!0),this.setTooltip(a.Msg.VARIABLES_GET_TOOLTIP)},getVars:function(){return[this.getTitleValue("VAR")]}},h.variables_get_length=h.variables_get,a.Blocks.variables_get_sides={category:null,helpUrl:a.Msg.VARIABLES_GET_HELPURL,init:function(){this.setHSV(312,.32,.62),this.appendDummyInput().appendTitle(a.Msg.VARIABLES_GET_TITLE).appendTitle(new a.FieldLabel("sides"),"VAR"),this.setOutput(!0),this.setTooltip(a.Msg.VARIABLES_GET_TOOLTIP)},getVars:function(){return[this.getTitleValue("VAR")]}},h.variables_get_sides=h.variables_get,a.Blocks.draw_a_square={init:function(){this.setHSV(94,.84,.6),this.appendDummyInput().appendTitle(e.drawASquare()),this.appendValueInput("VALUE").setAlign(a.ALIGN_RIGHT).setCheck(a.BlockValueType.NUMBER).appendTitle(e.lengthParameter()+":"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setInputsInline(!0),this.setTooltip("")}},h.draw_a_square=function(){var a=h.valueToCode(this,"VALUE",h.ORDER_ATOMIC)||0,b=i("count");return["// draw_a_square","for (var "+b+" = 0; "+b+" < 4; "+b+"++) {","  Turtle.moveForward("+a+");","  Turtle.turnRight(90);","}\n"].join("\n")},a.Blocks.draw_a_snowman={init:function(){this.setHSV(94,.84,.6),this.appendDummyInput().appendTitle(e.drawASnowman()),this.appendValueInput("VALUE").setAlign(a.ALIGN_RIGHT).setCheck(a.BlockValueType.NUMBER).appendTitle(e.lengthParameter()+":"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("")}},h.draw_a_snowman=function(){var a=h.valueToCode(this,"VALUE",h.ORDER_ATOMIC),b=i("distances"),c=i("counter"),d=i("degree"),e=i("distance");return["// draw_a_snowman","Turtle.turnLeft(90);","var "+b+" = ["+a+" * 0.5, "+a+" * 0.3,"+a+" * 0.2];","for (var "+c+" = 0; "+c+" < 6; "+c+"++) {\n","  var "+e+" = "+b+"["+c+" < 3 ? "+c+": 5 - "+c+"] / 57.5;","  for (var "+d+" = 0; "+d+" < 90; "+d+"++) {","    Turtle.moveForward("+e+");","    Turtle.turnRight(2);","  }","  if ("+c+" != 2) {","    Turtle.turnLeft(180);","  }","}","Turtle.turnLeft(90);\n"].join("\n")},a.Blocks.controls_for_counter={helpUrl:a.Msg.CONTROLS_FOR_HELPURL,init:function(){this.setHSV(322,.9,.95),this.appendDummyInput().appendTitle(a.Msg.CONTROLS_FOR_INPUT_WITH).appendTitle(new a.FieldLabel(e.loopVariable()),"VAR"),this.interpolateMsg(a.Msg.CONTROLS_FOR_INPUT_FROM_TO_BY,["FROM","Number",a.ALIGN_RIGHT],["TO","Number",a.ALIGN_RIGHT],["BY","Number",a.ALIGN_RIGHT],a.ALIGN_RIGHT),this.appendStatementInput("DO").appendTitle(Blockly.Msg.CONTROLS_FOR_INPUT_DO),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setInputsInline(!0),this.setTooltip(a.Msg.CONTROLS_FOR_TOOLTIP.replace("%1",this.getTitleValue("VAR")))},getVars:function(){return[this.getTitleValue("VAR")]},customContextMenu:function(b){var c={enabled:!0},d=this.getTitleValue("VAR");c.text=a.Msg.VARIABLES_SET_CREATE_GET.replace("%1",d);var e=document.createElement("title");e.appendChild(document.createTextNode(d)),e.setAttribute("name","VAR");var f=document.createElement("block");f.appendChild(e),f.setAttribute("type","variables_get_counter"),c.callback=a.ContextMenu.callbackFactory(this,f),b.push(c)},mutationToDom:function(){var a=document.createElement("mutation"),b=this.getTitleValue("VAR");return a.setAttribute("counter",b),a},domToMutation:function(a){var b=a.getAttribute("counter");this.setTitleValue(b,"VAR")}},h.controls_for_counter=h.controls_for,delete a.Blocks.procedures_defreturn,delete a.Blocks.procedures_ifreturn,a.Blocks.draw_move={helpUrl:"",init:function(){this.setHSV(184,1,.74),this.appendValueInput("VALUE").setCheck(a.BlockValueType.NUMBER).appendTitle(new a.FieldDropdown(a.Blocks.draw_move.DIRECTIONS),"DIR"),this.appendDummyInput().appendTitle(e.dots()),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.moveTooltip())}},a.Blocks.draw_move.DIRECTIONS=[[e.moveForward(),"moveForward"],[e.moveBackward(),"moveBackward"]],h.draw_move=function(){var a=h.valueToCode(this,"VALUE",h.ORDER_NONE)||"0";return"Turtle."+this.getTitleValue("DIR")+"("+a+", 'block_id_"+this.id+"');\n"},a.Blocks.jump={helpUrl:"",init:function(){this.setHSV(184,1,.74),this.appendValueInput("VALUE").setCheck(a.BlockValueType.NUMBER).appendTitle(new a.FieldDropdown(a.Blocks.jump.DIRECTIONS),"DIR"),this.appendDummyInput().appendTitle(e.dots()),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.jumpTooltip())}};var j="LONG_MOVE_LENGTH",k="SHORT_MOVE_LENGTH",l=[[c.longLineDraw,j],[c.shortLineDraw,k]],m=[[c.longLineDrawRight,j],[c.shortLineDrawRight,k]],n={DEFAULT_MOVE_LENGTH:50,SHORT_MOVE_LENGTH:50,LONG_MOVE_LENGTH:100,DIRECTION_CONFIGS:{left:{title:f.directionWestLetter(),moveFunction:"moveLeft",tooltip:e.moveWestTooltip(),image:c.westLineDraw,imageDimensions:{width:72,height:56},lengths:l},right:{title:f.directionEastLetter(),moveFunction:"moveRight",tooltip:e.moveEastTooltip(),image:c.eastLineDraw,imageDimensions:{width:72,height:56},lengths:m},up:{title:f.directionNorthLetter(),moveFunction:"moveUp",tooltip:e.moveNorthTooltip(),image:c.northLineDraw,imageDimensions:{width:72,height:56},lengths:l},down:{title:f.directionSouthLetter(),moveFunction:"moveDown",tooltip:e.moveSouthTooltip(),image:c.southLineDraw,imageDimensions:{width:72,height:56},lengths:l},jump_left:{isJump:!0,title:f.directionWestLetter(),moveFunction:"jumpLeft",image:c.leftJumpArrow,tooltip:e.jumpWestTooltip()},jump_right:{isJump:!0,title:f.directionEastLetter(),moveFunction:"jumpRight",image:c.rightJumpArrow,tooltip:e.jumpEastTooltip()},jump_up:{isJump:!0,title:f.directionNorthLetter(),moveFunction:"jumpUp",image:c.upJumpArrow,tooltip:e.jumpNorthTooltip()},jump_down:{isJump:!0,title:f.directionSouthLetter(),moveFunction:"jumpDown",image:c.downJumpArrow,tooltip:e.jumpSouthTooltip()}},generateBlocksForAllDirections:function(){n.generateBlocksForDirection("up"),n.generateBlocksForDirection("down"),n.generateBlocksForDirection("left"),n.generateBlocksForDirection("right")},generateBlocksForDirection:function(b){h["simple_move_"+b]=n.generateCodeGenerator(b),h["simple_jump_"+b]=n.generateCodeGenerator("jump_"+b),h["simple_move_"+b+"_length"]=n.generateCodeGenerator(b,!0),a.Blocks["simple_move_"+b+"_length"]=n.generateMoveBlock(b,!0),a.Blocks["simple_move_"+b]=n.generateMoveBlock(b),a.Blocks["simple_jump_"+b]=n.generateMoveBlock("jump_"+b)},generateMoveBlock:function(b,c){var d=n.DIRECTION_CONFIGS[b],e=12;return{helpUrl:"",init:function(){this.setHSV(184,1,.74);var b=this.appendDummyInput();if(d.isJump&&b.appendTitle(f.jump()),b.appendTitle(new a.FieldLabel(d.title,{fixedSize:{width:e,height:18}})),d.imageDimensions?b.appendTitle(new a.FieldImage(d.image,d.imageDimensions.width,d.imageDimensions.height)):b.appendTitle(new a.FieldImage(d.image)),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(d.tooltip),c){var g=new a.FieldImageDropdown(d.lengths);g.setValue(j),b.appendTitle(g,"length")}}}},generateCodeGenerator:function(a,b,c){return function(){return c=c||n.DEFAULT_MOVE_LENGTH,b&&(c=n[this.getTitleValue("length")]),"Turtle."+n.DIRECTION_CONFIGS[a].moveFunction+"("+c+",'block_id_"+this.id+"');\n"}}};n.generateBlocksForAllDirections(),a.Blocks.jump.DIRECTIONS=[[e.jumpForward(),"jumpForward"],[e.jumpBackward(),"jumpBackward"]],h.jump=function(){var a=h.valueToCode(this,"VALUE",h.ORDER_NONE)||"0";return"Turtle."+this.getTitleValue("DIR")+"("+a+", 'block_id_"+this.id+"');\n"},a.Blocks.jump_by_constant={helpUrl:"",init:function(){this.setHSV(184,1,.74),this.appendDummyInput().appendTitle(new a.FieldDropdown(a.Blocks.jump.DIRECTIONS),"DIR"),this.appendDummyInput().appendTitle(new a.FieldTextInput("100",a.FieldTextInput.numberValidator),"VALUE").appendTitle(e.dots()),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.jumpTooltip())}},a.Blocks.jump_by_constant_dropdown={helpUrl:"",init:function(){this.setHSV(184,1,.74),this.appendDummyInput().appendTitle(new a.FieldDropdown(a.Blocks.jump.DIRECTIONS),"DIR"),this.appendDummyInput().appendTitle(new a.FieldDropdown,"VALUE").appendTitle(e.dots()),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.jumpTooltip())}},h.jump_by_constant=function(){var a=window.parseFloat(this.getTitleValue("VALUE"))||0;return"Turtle."+this.getTitleValue("DIR")+"("+a+", 'block_id_"+this.id+"');\n"},h.jump_by_constant_dropdown=h.jump_by_constant,a.Blocks.draw_turn={helpUrl:"",init:function(){this.setHSV(184,1,.74),this.appendValueInput("VALUE").setCheck(a.BlockValueType.NUMBER).appendTitle(new a.FieldDropdown(a.Blocks.draw_turn.DIRECTIONS),"DIR"),this.appendDummyInput().appendTitle(e.degrees()),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.turnTooltip())}},a.Blocks.draw_turn.DIRECTIONS=[[e.turnRight(),"turnRight"],[e.turnLeft(),"turnLeft"]],h.draw_turn=function(){var a=h.valueToCode(this,"VALUE",h.ORDER_NONE)||"0";return"Turtle."+this.getTitleValue("DIR")+"("+a+", 'block_id_"+this.id+"');\n"},a.Blocks.draw_width={helpUrl:"",init:function(){this.setHSV(184,1,.74),this.appendValueInput("WIDTH").setCheck(a.BlockValueType.NUMBER).appendTitle(e.setWidth()),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.widthTooltip())}},h.draw_width=function(){var a=h.valueToCode(this,"WIDTH",h.ORDER_NONE)||"1";return"Turtle.penWidth("+a+", 'block_id_"+this.id+"');\n"},a.Blocks.draw_width_inline={helpUrl:"",init:function(){this.setHSV(184,1,.74),this.setInputsInline(!0),this.appendDummyInput().appendTitle(e.setWidth()),this.appendDummyInput().appendTitle(new a.FieldTextInput("1",a.FieldTextInput.numberValidator),"WIDTH"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.widthTooltip())}},h.draw_width_inline=function(){var a=this.getTitleValue("WIDTH");return"Turtle.penWidth("+a+", 'block_id_"+this.id+"');\n"},a.Blocks.draw_pen={helpUrl:"",init:function(){this.setHSV(184,1,.74),this.appendDummyInput().appendTitle(new a.FieldDropdown(this.STATE),"PEN"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.penTooltip())}},a.Blocks.draw_pen.STATE=[[e.penUp(),"penUp"],[e.penDown(),"penDown"]],h.draw_pen=function(){return"Turtle."+this.getTitleValue("PEN")+"('block_id_"+this.id+"');\n"},a.Blocks.draw_colour={helpUrl:"",init:function(){this.setHSV(196,1,.79),this.appendValueInput("COLOUR").setCheck(a.BlockValueType.COLOUR).appendTitle(e.setColour()),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setInputsInline(!0),this.setTooltip(e.colourTooltip())}},a.Blocks.alpha={init:function(){this.appendDummyInput().appendTitle(e.setAlpha()),this.appendValueInput("VALUE").setCheck("Number"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setHSV(196,1,.79),this.setTooltip("")}},h.alpha=function(){var a=h.valueToCode(this,"VALUE",Blockly.JavaScript.ORDER_NONE);return"Turtle.globalAlpha("+a+", 'block_id_"+this.id+"');\n"},h.draw_colour=function(){var a=h.valueToCode(this,"COLOUR",h.ORDER_NONE)||"'#000000'";return"Turtle.penColour("+a+", 'block_id_"+this.id+"');\n"},a.Blocks.draw_colour_simple={init:function(){var a=[d.RED,d.BLACK,d.PINK,d.ORANGE,d.YELLOW,d.GREEN,d.BLUE,d.AQUAMARINE,d.PLUM];this.setHSV(196,1,.79);var b=new Blockly.FieldColourDropdown(a,45,35);this.appendDummyInput().appendTitle(e.setColour()).appendTitle(b,"COLOUR"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.colourTooltip())}},h.draw_colour_simple=function(){var a=this.getTitleValue("COLOUR")||"'#000000'";return'Turtle.penColour("'+a+"\", 'block_id_"+this.id+"');\n"},a.Blocks.draw_line_style_pattern={helpUrl:"",init:function(){this.setHSV(184,1,.74),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.appendDummyInput().appendTitle(e.setPattern()).appendTitle(new a.FieldImageDropdown(c.lineStylePatternOptions,150,20),"VALUE"),this.setTooltip(e.setPattern())}},h.draw_line_style_pattern=function(){var a=this.getTitleValue("VALUE")||"'DEFAULT'";return'Turtle.penPattern("'+a+"\", 'block_id_"+this.id+"');\n"},a.Blocks.up_big={helpUrl:"",init:function(){this.setHSV(184,1,.74),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.appendDummyInput().appendTitle(new a.FieldDropdown(this.STATE),"VISIBILITY"),this.setTooltip(e.turtleVisibilityTooltip())}},h.up_big=function(){var a=h.valueToCode(this,"COLOUR",h.ORDER_NONE)||"'#000000'";return"Turtle.penColour("+a+", 'block_id_"+this.id+"');\n"},a.Blocks.turtle_visibility={helpUrl:"",init:function(){this.setHSV(184,1,.74),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.appendDummyInput().appendTitle(new a.FieldDropdown(this.STATE),"VISIBILITY"),this.setTooltip(e.turtleVisibilityTooltip())}},a.Blocks.turtle_visibility.STATE=[[e.hideTurtle(),"hideTurtle"],[e.showTurtle(),"showTurtle"]],h.turtle_visibility=function(){return"Turtle."+this.getTitleValue("VISIBILITY")+"('block_id_"+this.id+"');\n"},a.Blocks.turtle_stamp={helpUrl:"",init:function(){this.setHSV(312,.32,.62);var b,c=this.appendDummyInput();c.appendTitle(e.drawStamp()),b=new a.FieldImageDropdown(this.VALUES,50,30),c.appendTitle(b,"VALUE"),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.drawStamp())}},a.Blocks.turtle_stamp.VALUES=c.stampValues,h.turtle_stamp=function(){return'Turtle.drawStamp("'+this.getTitleValue("VALUE")+"\", 'block_id_"+this.id+"');\n"},g.install(a,h,i)}},{"../locale":"/home/ubuntu/staging/apps/build/js/locale.js","./colours":"/home/ubuntu/staging/apps/build/js/turtle/colours.js","./customLevelBlocks":"/home/ubuntu/staging/apps/build/js/turtle/customLevelBlocks.js","./locale":"/home/ubuntu/staging/apps/build/js/turtle/locale.js","./turtle":"/home/ubuntu/staging/apps/build/js/turtle/turtle.js"}],"/home/ubuntu/staging/apps/build/js/turtle/turtle.js":[function(a,b,c){"use strict";var d=a("../locale"),e=a("./locale"),f=(a("./levels"),a("./colours"),a("../codegen")),g=a("./api"),h=a("../templates/page.html.ejs"),i=a("../utils"),j=a("../dropletUtils"),k=a("../slider"),l=i.getLodash(),m=a("./dropletConfig"),n=400,o=400,p=4,q=5,r=15,s=50,t=[{x:15,when:"after"},{x:26,when:"after"},{x:37,when:"after"},{x:46,when:"after"},{x:60,when:"after"},{x:65,when:"after"},{x:66,when:"after"},{x:64,when:"after"},{x:62,when:"before"},{x:55,when:"before"},{x:48,when:"before"},{x:33,when:"before"},{x:31,when:"before"},{x:22,when:"before"},{x:17,when:"before"},{x:12,when:"before"},{x:8,when:"after"},{x:10,when:"after"}],u=function(){this.skin=null,this.level=null,this.api=new g,this.lineStylePatternOptions=[],this.stamps=[],this.pid=0,this.visible=!0,this.heading=0,this.avatarImage=new Image,this.numberAvatarHeadings=void 0,this.decorationAnimationImage=new Image,this.currentPathPattern=new Image,this.loadedPathPatterns=[],this.isDrawingWithPattern=!1,this.avatarWidth=0,this.avatarHeight=0,this.decorationAnimationWidth=85,this.decorationAnimationHeight=85,this.speedSlider=null,this.ctxAnswer=null,this.ctxImages=null,this.ctxPredraw=null,this.ctxScratch=null,this.ctxPattern=null,this.ctxFeedback=null,this.ctxDisplay=null,this.isDrawingAnswer_=!1,this.isPredrawing_=!1};b.exports=u,u.prototype.injectStudioApp=function(a){this.studioApp_=a,this.studioApp_.reset=l.bind(this.reset,this),this.studioApp_.runButtonClick=l.bind(this.runButtonClick,this),this.studioApp_.setCheckForEmptyBlocks(!0)},u.prototype.init=function(b){if(!this.studioApp_)throw new Error("Artist requires a StudioApp");this.skin=b.skin,this.level=b.level,this.stamps=[];for(var c=0;c<this.skin.stampValues.length;c++){var d=this.skin.stampValues[c][0],e=this.skin.stampValues[c][1],f=new Image;f.src=d,this.stamps[e]=f}("anna"==this.skin.id||"elsa"==this.skin.id)&&(this.level.images=[{}],this.level.images[0].filename="background.jpg",this.level.images[0].position=[0,0],this.level.images[0].scale=1),b.grayOutUndeletableBlocks=!0,b.forceInsertTopBlock="when_run",b.dropletConfig=m,"anna"==this.skin.id?(this.avatarWidth=73,this.avatarHeight=100):"elsa"==this.skin.id?(this.avatarWidth=73,this.avatarHeight=100,this.decorationAnimationWidth=85,this.decorationAnimationHeight=85):(this.avatarWidth=70,this.avatarHeight=51);var g="media/turtle/"+(b.isLegacyShare&&b.hideSource?"icons_white.png":"icons.png");b.html=h({assetUrl:this.studioApp_.assetUrl,data:{visualization:"",localeDirection:this.studioApp_.localeDirection(),controls:a("./controls.html.ejs")({assetUrl:this.studioApp_.assetUrl,iconPath:g}),blockUsed:void 0,idealBlockNumber:void 0,editCode:this.level.editCode,blockCounterClass:"block-counter-default",readonlyWorkspace:b.readonlyWorkspace}}),b.loadAudio=l.bind(this.loadAudio_,this),b.afterInject=l.bind(this.afterInject_,this,b),this.studioApp_.init(b)},u.prototype.loadAudio_=function(){this.studioApp_.loadAudio(this.skin.winSound,"win"),this.studioApp_.loadAudio(this.skin.startSound,"start"),this.studioApp_.loadAudio(this.skin.failureSound,"failure")},u.prototype.afterInject_=function(a){var b=document.getElementById("slider");this.speedSlider=new k(10,35,130,b),a.level.sliderSpeed&&this.speedSlider.setValue(a.level.sliderSpeed),this.studioApp_.isUsingBlockly()&&Blockly.JavaScript.addReservedWords("Turtle,code"),this.ctxAnswer=this.createCanvas_("answer",400,400).getContext("2d"),this.ctxImages=this.createCanvas_("images",400,400).getContext("2d"),this.ctxPredraw=this.createCanvas_("predraw",400,400).getContext("2d"),this.ctxScratch=this.createCanvas_("scratch",400,400).getContext("2d"),this.ctxPattern=this.createCanvas_("pattern",400,400).getContext("2d"),this.ctxFeedback=this.createCanvas_("feedback",154,154).getContext("2d");var c=this.createCanvas_("display",400,400),d=document.getElementById("visualization");if(d.appendChild(c),this.ctxDisplay=c.getContext("2d"),!this.studioApp_.isUsingBlockly()||"anna"!==this.skin.id&&"elsa"!==this.skin.id||(Blockly.JavaScript.colour_random=function(){if(!Blockly.JavaScript.definitions_.colour_random){var a=Blockly.JavaScript.variableDB_.getDistinctName("colour_random",Blockly.Generator.NAME_TYPE);Blockly.JavaScript.colour_random.functionName=a;var b=[];b.push("function "+a+"() {"),b.push("   var colors = "+JSON.stringify(Blockly.FieldColour.COLOURS)+";"),b.push("  return colors[Math.floor(Math.random()*colors.length)];"),b.push("}"),Blockly.JavaScript.definitions_.colour_random=b.join("\n")}var c=Blockly.JavaScript.colour_random.functionName+"()";return[c,Blockly.JavaScript.ORDER_FUNCTION_CALL]}),this.loadDecorationAnimation(),this.loadTurtle(),this.drawImages(),this.isDrawingAnswer_=!0,this.drawAnswer(),this.isDrawingAnswer_=!1,this.level.predrawBlocks&&(this.isPredrawing_=!0,this.drawBlocksOnCanvas(this.level.predrawBlocks,this.ctxPredraw),this.isPredrawing_=!1),"anna"==this.skin.id||"elsa"==this.skin.id){var e=document.createElement("div");e.style.display="none",document.body.appendChild(e);for(var f=0;f<this.skin.lineStylePatternOptions.length;f++){var g=this.skin.lineStylePatternOptions[f][1];if(this.skin[g]){var h=new Image;h.src=this.skin[g],this.loadedPathPatterns[g]=h}}}var i=document.getElementById("visualizationColumn");i.style.width="400px"},u.prototype.drawAnswer=function(){this.level.solutionBlocks?this.drawBlocksOnCanvas(this.level.solutionBlocks,this.ctxAnswer):this.drawLogOnCanvas(this.level.answer,this.ctxAnswer)},u.prototype.drawLogOnCanvas=function(a,b){for(this.studioApp_.reset();a.length;){var c=a.shift();this.step(c[0],c.splice(1),{smoothAnimate:!1}),this.resetStepInfo_()}b.globalCompositeOperation="copy",b.drawImage(this.ctxScratch.canvas,0,0),b.globalCompositeOperation="source-over"},u.prototype.drawBlocksOnCanvas=function(a,b){var c;if(this.studioApp_.isUsingBlockly()){var d=Blockly.Xml.textToDom(a);Blockly.Xml.domToBlockSpace(Blockly.mainBlockSpace,d),c=Blockly.Generator.blockSpaceToCode("JavaScript")}else c=a;this.evalCode(c),this.studioApp_.isUsingBlockly()&&Blockly.mainBlockSpace.clear(),this.drawCurrentBlocksOnCanvas(b)},u.prototype.drawCurrentBlocksOnCanvas=function(a){this.drawLogOnCanvas(this.api.log,a)},u.prototype.placeImage=function(a,b,c){var d=new Image;d.onload=l.bind(function(){0!==d.width&&(c?this.ctxImages.drawImage(d,b[0],b[1],d.width,d.height,0,0,d.width*c,d.height*c):this.ctxImages.drawImage(d,b[0],b[1])),this.display()},this),"anna"==this.skin.id||"elsa"==this.skin.id?d.src=this.skin.assetUrl(a):d.src=this.studioApp_.assetUrl("media/turtle/"+a)},u.prototype.drawImages=function(){if(this.level.images){for(var a=0;a<this.level.images.length;a++){var b=this.level.images[a];this.placeImage(b.filename,b.position,b.scale)}this.ctxImages.globalCompositeOperation="copy",this.ctxImages.drawImage(this.ctxScratch.canvas,0,0),this.ctxImages.globalCompositeOperation="source-over"}},u.prototype.loadTurtle=function(){this.avatarImage.onload=l.bind(this.display,this),this.avatarImage.src=this.skin.avatar,"anna"==this.skin.id?this.numberAvatarHeadings=36:"elsa"==this.skin.id?this.numberAvatarHeadings=18:this.numberAvatarHeadings=180,this.avatarImage.spriteHeight=this.avatarHeight,this.avatarImage.spriteWidth=this.avatarWidth},u.prototype.loadDecorationAnimation=function(){"elsa"==this.skin.id&&(this.decorationAnimationImage.src=this.skin.decorationAnimation,this.decorationAnimationImage.height=this.decorationAnimationHeight,this.decorationAnimationImage.width=this.decorationAnimationWidth)};var v=0;u.prototype.drawTurtle=function(){var a,b=Math.floor(this.heading*this.numberAvatarHeadings/360);("anna"==this.skin.id||"elsa"==this.skin.id)&&(b=this.numberAvatarHeadings-b,b=(b+this.numberAvatarHeadings/2)%this.numberAvatarHeadings);var c=this.avatarImage.spriteWidth*b;"anna"==this.skin.id||"elsa"==this.skin.id?(a=this.avatarImage.spriteHeight*v,v=(v+1)%this.skin.turtleNumFrames):a=0;var d=this.avatarImage.spriteWidth,e=this.avatarImage.spriteHeight,f=this.avatarImage.spriteWidth,g=this.avatarImage.spriteHeight,h=this.x-f/2,i=this.y-g+7;return 0!==this.avatarImage.width&&0!==this.avatarImage.height?0>c||0>a||c+d-0>this.avatarImage.width||a+e>this.avatarImage.height?void(console&&console.log):void(0!==this.avatarImage.width&&this.ctxDisplay.drawImage(this.avatarImage,Math.round(c),Math.round(a),d-0,e,Math.round(h),Math.round(i),f-0,g)):void 0},u.prototype.drawDecorationAnimation=function(a){if("elsa"==this.skin.id){var b=(v+10)%this.skin.decorationAnimationNumFrames,c=Math.floor(this.heading*this.numberAvatarHeadings/360);if(c=this.numberAvatarHeadings-c,c=(c+this.numberAvatarHeadings/2)%this.numberAvatarHeadings,t[c].when==a){var d=this.decorationAnimationImage.width*b,e=0,f=this.decorationAnimationImage.width,g=this.decorationAnimationImage.height,h=f,i=g,j=this.x-h/2-15-15+t[c].x,k=this.y-i/2-100;0!==this.decorationAnimationImage.width&&this.ctxDisplay.drawImage(this.decorationAnimationImage,Math.round(d),Math.round(e),f,g,Math.round(j),Math.round(k),h,i)}}},u.prototype.reset=function(a){this.x=n/2,this.y=o/2,this.heading=void 0!==this.level.startDirection?this.level.startDirection:90,this.penDownValue=!0,this.visible=!0,void 0!==this.level.initialX&&(this.x=this.level.initialX),void 0!==this.level.initialY&&(this.y=this.level.initialY),this.ctxScratch.canvas.width=this.ctxScratch.canvas.width,this.ctxPattern.canvas.width=this.ctxPattern.canvas.width,"anna"==this.skin.id?(this.ctxScratch.strokeStyle="rgb(255,255,255)",this.ctxScratch.fillStyle="rgb(255,255,255)",this.ctxScratch.lineWidth=2):"elsa"==this.skin.id?(this.ctxScratch.strokeStyle="rgb(255,255,255)",this.ctxScratch.fillStyle="rgb(255,255,255)",this.ctxScratch.lineWidth=2):(this.ctxScratch.strokeStyle="#000000",this.ctxScratch.fillStyle="#000000",this.ctxScratch.lineWidth=5),this.ctxScratch.lineCap="round",this.ctxScratch.font="normal 18pt Arial",this.display(),this.ctxFeedback.clearRect(0,0,this.ctxFeedback.canvas.width,this.ctxFeedback.canvas.height),"anna"==this.skin.id?this.setPattern("annaLine"):"elsa"==this.skin.id?this.setPattern("elsaLine"):this.setPattern(null),this.pid&&window.clearTimeout(this.pid),this.pid=0,this.interpreter=null,this.executionError=null,this.studioApp_.stopLoopingAudio("start"),this.resetStepInfo_()},u.prototype.display=function(){var a=this.ctxDisplay.fillStyle;this.ctxDisplay.fillStyle="white",this.ctxDisplay.clearRect(0,0,this.ctxDisplay.canvas.width,this.ctxDisplay.canvas.width),
this.ctxDisplay.fillStyle=a,this.ctxDisplay.globalCompositeOperation="copy",this.ctxDisplay.globalCompositeOperation="source-over",this.ctxDisplay.drawImage(this.ctxImages.canvas,0,0),"anna"==this.skin.id||"elsa"==this.skin.id?this.ctxDisplay.globalAlpha=.4:this.ctxDisplay.globalAlpha=.15,this.ctxDisplay.drawImage(this.ctxAnswer.canvas,0,0),this.ctxDisplay.globalAlpha=1,this.ctxDisplay.globalCompositeOperation="source-over",this.ctxDisplay.drawImage(this.ctxPredraw.canvas,0,0),this.ctxDisplay.globalCompositeOperation="source-over",this.ctxDisplay.drawImage(this.ctxPattern.canvas,0,0),this.ctxDisplay.globalCompositeOperation="source-over",this.ctxDisplay.drawImage(this.ctxScratch.canvas,0,0),this.visible&&(this.drawDecorationAnimation("before"),this.drawTurtle(),this.drawDecorationAnimation("after"))},u.prototype.runButtonClick=function(){this.studioApp_.toggleRunReset("reset"),document.getElementById("spinner").style.visibility="visible",this.studioApp_.isUsingBlockly()&&Blockly.mainBlockSpace.traceOn(!0),this.studioApp_.attempts++,this.execute()},u.prototype.evalCode=function(a){try{f.evalWith(a,{Turtle:this.api})}catch(b){b!==1/0&&(window.onerror&&window.onerror("UserCode:"+b.message,document.URL,0),window.alert(b))}},u.prototype.generateTurtleCodeFromJS_=function(){this.code=j.generateCodeAliases(m,"Turtle"),this.userCodeStartOffset=this.code.length,this.code+=this.studioApp_.editor.getValue(),this.userCodeLength=this.code.length-this.userCodeStartOffset;var a=this.studioApp_.editor.aceEditor.getSession();this.cumulativeLength=f.aceCalculateCumulativeLength(a);var b=l.bind(function(a,b){f.initJSInterpreter(a,null,null,b,{Turtle:this.api})},this);this.interpreter=new window.Interpreter(this.code,b)},u.prototype.execute=function(){return this.api.log=[],this.studioApp_.reset(),this.studioApp_.hasExtraTopBlocks()||this.studioApp_.hasDuplicateVariablesInForLoops()?void this.checkAnswer():(this.level.editCode?this.generateTurtleCodeFromJS_():(this.code=Blockly.Generator.blockSpaceToCode("JavaScript"),this.evalCode(this.code)),this.studioApp_.playAudio("start",{loop:!0}),this.pid=window.setTimeout(l.bind(this.animate,this),100),void(this.studioApp_.isUsingBlockly()&&Blockly.mainBlockSpaceEditor.setEnableToolbox(!1)))},u.prototype.checkforTurnAndMove_=function(){var a=!1,b=this.api.log[0],c=b[0],d=b.slice(1);if("RT"===c){var e=d[0];if(Math.abs(e)<=10&&this.api.log.length>1){var f=this.api.log[1],g=f[0];"FD"===g&&(a=!0)}}return a},u.prototype.executeTuple_=function(){if(0===this.api.log.length)return!1;var a;do{a=!1;var b=this.api.log[0],c=b[0],d=b[b.length-1];this.studioApp_.highlight(String(d)),this.skin.consolidateTurnAndMove&&this.checkforTurnAndMove_()&&(a=!0);var e=this.step(c,b.slice(1),{smoothAnimate:this.skin.smoothAnimate&&!a});this.display(),e&&(this.api.log.shift(),this.resetStepInfo_())}while(a);return!0},u.prototype.finishExecution_=function(){document.getElementById("spinner").style.visibility="hidden",this.studioApp_.isUsingBlockly()&&Blockly.mainBlockSpace.highlightBlock(null),this.checkAnswer()},u.prototype.animate=function(){this.pid=0;var a=1e3*Math.pow(1-this.speedSlider.getValue(),2)/this.skin.speedModifier;if(this.smoothAnimateStepSize=0===a?r:q,this.level.editCode){for(var b=!0;b;){f.selectCurrentCode(this.interpreter,this.cumulativeLength,this.userCodeStartOffset,this.userCodeLength,this.studioApp_.editor);try{b=this.interpreter.step()}catch(c){return this.executionError={err:c,lineNumber:1},void this.finishExecution_()}if(b=this.interpreter.step(),this.executeTuple_())break}if(!b&&!this.executeTuple_())return void this.finishExecution_()}else if(!this.executeTuple_())return void this.finishExecution_();this.pid=window.setTimeout(l.bind(this.animate,this),a)},u.prototype.calculateSmoothAnimate=function(a,b){var c=!0,d=this.stepDistanceCovered;if(a&&a.smoothAnimate){var e=b,f=this.smoothAnimateStepSize;0>e?e>=d-f?(b=e-d,d=e):(b=-f,d-=f,c=!1):d+f>=e?(b=e-d,d=e):(b=f,d+=f,c=!1)}return this.stepDistanceCovered=d,{tupleDone:c,distance:b}},u.prototype.step=function(a,b,c){var d,e,f,g=!0;switch(a){case"FD":e=b[0],d=this.calculateSmoothAnimate(c,e),g=d.tupleDone,this.moveForward_(d.distance);break;case"JF":e=b[0],d=this.calculateSmoothAnimate(c,e),g=d.tupleDone,this.jumpForward_(d.distance);break;case"MV":e=b[0],f=b[1],d=this.calculateSmoothAnimate(c,e),g=d.tupleDone,this.setHeading_(f),this.moveForward_(d.distance);break;case"JD":e=b[0],f=b[1],d=this.calculateSmoothAnimate(c,e),g=d.tupleDone,this.setHeading_(f),this.jumpForward_(d.distance);break;case"RT":e=b[0],d=this.calculateSmoothAnimate(c,e),g=d.tupleDone,this.turnByDegrees_(d.distance);break;case"DP":this.ctxScratch.save(),this.ctxScratch.translate(this.x,this.y),this.ctxScratch.rotate(2*Math.PI*(this.heading-90)/360),this.ctxScratch.fillText(b[0],0,0),this.ctxScratch.restore();break;case"GA":var h=b[0];h=Math.max(0,h),h=Math.min(100,h),this.ctxScratch.globalAlpha=h/100;break;case"DF":this.ctxScratch.font=b[2]+" "+b[1]+"pt "+b[0];break;case"PU":this.penDownValue=!1;break;case"PD":this.penDownValue=!0;break;case"PW":this.ctxScratch.lineWidth=b[0];break;case"PC":this.ctxScratch.strokeStyle=b[0],this.ctxScratch.fillStyle=b[0],"anna"!=this.skin.id&&"elsa"!=this.skin.id&&(this.isDrawingWithPattern=!1);break;case"PS":b[0]&&"DEFAULT"!=b[0]?this.setPattern(b[0]):this.setPattern(null);break;case"HT":this.visible=!1;break;case"ST":this.visible=!0;break;case"stamp":var i=this.stamps[b[0]],j=i.width/2,k=i.height/2,l=this.x-j/2,m=this.y-k/2;0!==i.width&&this.ctxScratch.drawImage(i,l,m,j,k)}return g},u.prototype.setPattern=function(a){this.loadedPathPatterns[a]?(this.currentPathPattern=this.loadedPathPatterns[a],this.isDrawingWithPattern=!0):null===a&&(this.currentPathPattern=new Image,this.isDrawingWithPattern=!1)},u.prototype.jumpForward_=function(a){this.x+=a*Math.sin(2*Math.PI*this.heading/360),this.y-=a*Math.cos(2*Math.PI*this.heading/360)},u.prototype.moveByRelativePosition_=function(a,b){this.x+=a,this.y+=b},u.prototype.dotAt_=function(a,b){var c=.1;this.ctxScratch.lineTo(a+c,b)},u.prototype.circleAt_=function(a,b,c){this.ctxScratch.arc(a,b,c,0,2*Math.PI)},u.prototype.drawToTurtle_=function(a){var b=0===a;b?this.dotAt_(this.x,this.y):this.ctxScratch.lineTo(this.x,this.y)},u.prototype.turnByDegrees_=function(a){this.setHeading_(this.heading+a)},u.prototype.setHeading_=function(a){a=this.constrainDegrees_(a),this.heading=a},u.prototype.constrainDegrees_=function(a){return a%=360,0>a&&(a+=360),a},u.prototype.moveForward_=function(a){return this.penDownValue?void(this.isDrawingWithPattern&&(this.drawForwardLineWithPattern_(a),"elsa"!=this.skin.id&&"anna"!=this.skin.id)||this.drawForward_(a)):void this.jumpForward_(a)},u.prototype.drawForward_=function(a){this.shouldDrawJoints_()?this.drawForwardWithJoints_(a):this.drawForwardLine_(a)},u.prototype.drawForwardWithJoints_=function(a){for(var b=a;b>0;){var c=b>=s,d=c?s:b;b-=d,c&&this.drawJointAtTurtle_(),this.drawForwardLine_(d),c&&this.drawJointAtTurtle_()}},u.prototype.drawForwardLine_=function(a){"anna"==this.skin.id||"elsa"==this.skin.id?(this.ctxScratch.beginPath(),this.ctxScratch.moveTo(this.stepStartX,this.stepStartY),this.jumpForward_(a),this.drawToTurtle_(a),this.ctxScratch.stroke()):(this.ctxScratch.beginPath(),this.ctxScratch.moveTo(this.x,this.y),this.jumpForward_(a),this.drawToTurtle_(a),this.ctxScratch.stroke())},u.prototype.drawForwardLineWithPattern_=function(a){var b,c,d;if("anna"==this.skin.id||"elsa"==this.skin.id){this.ctxPattern.moveTo(this.stepStartX,this.stepStartY),b=this.currentPathPattern,c=this.stepStartX,d=this.stepStartY;var e=Math.abs(this.stepDistanceCovered);this.ctxPattern.save(),this.ctxPattern.translate(c,d),this.ctxPattern.rotate(Math.PI*(this.heading-90)/180);var f;f=e%this.smoothAnimateStepSize===0?this.smoothAnimateStepSize:e>this.smoothAnimateStepSize?e%this.smoothAnimateStepSize:e,0!==b.width&&this.ctxPattern.drawImage(b,Math.round(e),0,f,b.height,Math.round(this.stepDistanceCovered-f-2),Math.round(-18),f,b.height),this.ctxPattern.restore()}else this.ctxScratch.moveTo(this.x,this.y),b=this.currentPathPattern,c=this.x,d=this.y,this.jumpForward_(a),this.ctxScratch.save(),this.ctxScratch.translate(c,d),this.ctxScratch.rotate(Math.PI*(this.heading-90)/180),0!==b.width&&this.ctxScratch.drawImage(b,0,0,a+b.height/2,b.height,-b.height/4,-b.height/2,a+b.height/2,b.height),this.ctxScratch.restore()},u.prototype.shouldDrawJoints_=function(){return this.level.isK1&&!this.isPredrawing_},u.prototype.drawJointAtTurtle_=function(){this.ctxScratch.beginPath(),this.ctxScratch.moveTo(this.x,this.y),this.circleAt_(this.x,this.y,p),this.ctxScratch.stroke()},u.prototype.isCorrect_=function(a,b){return b>=a},u.prototype.displayFeedback_=function(){var a;a="anna"==this.skin.id||"elsa"==this.skin.id?this.ctxDisplay:this.ctxScratch;var b=this.level;this.studioApp_.displayFeedback({app:"turtle",skin:this.skin.id,feedbackType:this.testResults,message:this.message,response:this.response,level:b,feedbackImage:a.canvas.toDataURL("image/png"),showingSharing:!b.disableSharing&&(b.freePlay||b.impressive),alreadySaved:b.impressive,saveToGalleryUrl:b.freePlay&&this.response&&this.response.save_to_gallery_url,appStrings:{reinfFeedbackMsg:e.reinfFeedbackMsg(),sharingText:e.shareDrawing()}})},u.prototype.onReportComplete=function(a){this.response=a;var b=document.getElementById("runButton");b.disabled=!1,this.studioApp_.onReportComplete(a),this.displayFeedback_()};var w=function x(a){return a.replace(x.regex,'">')};w.regex=/_length"><title name="length">.*?<\/title>/,u.prototype.checkAnswer=function(){for(var a=this.ctxScratch.getImageData(0,0,o,n),b=this.ctxAnswer.getImageData(0,0,o,n),c=Math.min(a.data.length,b.data.length),f=0,g=3;c>g;g+=4)Math.abs(a.data[g]-b.data[g])>250&&f++;var h=this.level,i=h.permittedErrors;void 0===i&&(i=150);var j=(h.freePlay||this.isCorrect_(f,i))&&(!h.editCode||!this.executionError);this.testResults=this.studioApp_.getTestResults(j);var k;if(this.studioApp_.isUsingBlockly()){var m=Blockly.Xml.blockSpaceToDom(Blockly.mainBlockSpace);k=Blockly.Xml.domToText(m)}if(this.message=void 0,h.isK1&&!j&&!this.studioApp_.editCode&&h.solutionBlocks&&w(k)===w(h.solutionBlocks)&&(this.testResults=this.studioApp_.TestResults.APP_SPECIFIC_ERROR,this.message=e.lengthFeedback()),h.failForTooManyBlocks&&this.testResults==this.studioApp_.TestResults.TOO_MANY_BLOCKS_FAIL)this.testResults=this.studioApp_.TestResults.TOO_MANY_BLOCKS_FAIL;else if((this.testResults==this.studioApp_.TestResults.TOO_MANY_BLOCKS_FAIL||this.testResults==this.studioApp_.TestResults.ALL_PASS)&&h.failForCircleRepeatValue&&this.studioApp_.isUsingBlockly()){var p=Blockly.Generator.blockSpaceToCode("JavaScript");-1==p.indexOf("count < 3")&&(this.testResults=this.studioApp_.TestResults.APP_SPECIFIC_ACCEPTABLE_FAIL,this.message=d.tooMuchWork())}h.editCode&&(k=this.studioApp_.editor.getValue()),h.freePlay&&(this.testResults=this.studioApp_.TestResults.FREE_PLAY),this.studioApp_.stopLoopingAudio("start"),this.testResults===this.studioApp_.TestResults.FREE_PLAY||this.testResults>=this.studioApp_.TestResults.TOO_MANY_BLOCKS_FAIL?this.studioApp_.playAudio("win"):this.studioApp_.playAudio("failure");var q={app:"turtle",level:h.id,builder:h.builder,result:j,testResult:this.testResults,program:encodeURIComponent(k),onComplete:l.bind(this.onReportComplete,this),save_to_gallery:h.impressive},r="anna"===this.skin.id||"elsa"===this.skin.id;this.testResults>=this.studioApp_.TestResults.TOO_MANY_BLOCKS_FAIL&&!r&&(h.freePlay||h.impressive)&&(q.image=this.getFeedbackImage_()),this.studioApp_.report(q),this.studioApp_.isUsingBlockly()&&Blockly.mainBlockSpaceEditor.setEnableToolbox(!0)},u.prototype.getFeedbackImage_=function(){var a;a="anna"==this.skin.id||"elsa"==this.skin.id?this.ctxDisplay:this.ctxScratch,this.ctxFeedback.globalCompositeOperation="copy",this.ctxFeedback.drawImage(a.canvas,0,0,154,154);var b=this.ctxFeedback.canvas;return encodeURIComponent(b.toDataURL("image/png").split(",")[1])},u.prototype.createCanvas_=function(a,b,c){var d=document.createElement("canvas");return d.id=a,d.width=b,d.height=c,d},u.prototype.resetStepInfo_=function(){this.stepStartX=this.x,this.stepStartY=this.y,this.stepDistanceCovered=0}},{"../codegen":"/home/ubuntu/staging/apps/build/js/codegen.js","../dropletUtils":"/home/ubuntu/staging/apps/build/js/dropletUtils.js","../locale":"/home/ubuntu/staging/apps/build/js/locale.js","../slider":"/home/ubuntu/staging/apps/build/js/slider.js","../templates/page.html.ejs":"/home/ubuntu/staging/apps/build/js/templates/page.html.ejs","../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./api":"/home/ubuntu/staging/apps/build/js/turtle/api.js","./colours":"/home/ubuntu/staging/apps/build/js/turtle/colours.js","./controls.html.ejs":"/home/ubuntu/staging/apps/build/js/turtle/controls.html.ejs","./dropletConfig":"/home/ubuntu/staging/apps/build/js/turtle/dropletConfig.js","./levels":"/home/ubuntu/staging/apps/build/js/turtle/levels.js","./locale":"/home/ubuntu/staging/apps/build/js/turtle/locale.js"}],"/home/ubuntu/staging/apps/build/js/turtle/levels.js":[function(a,b,c){"use strict";var d=a("../level_base"),e=(a("./colours"),a("./answers").answer),f=a("./locale"),g=a("../block_utils"),h=a("../utils"),i=7,j=function(b,c){return a("./toolbox.xml.ejs")({page:b,level:c})},k=function(b,c){return a("./startBlocks.xml.ejs")({page:b,level:c})},l=a("./requiredBlocks"),m=l.makeMathNumber,n=l.simpleBlock,o=l.repeat,p=l.drawASquare,q=l.drawASnowman,r=l.MOVE_FORWARD_INLINE,s=l.MOVE_FORWARD_OR_BACKWARD_INLINE,t=l.moveForwardInline,u=l.MOVE_BACKWARD_INLINE,v=l.turnLeftRestricted,w=l.turnRightRestricted,x=l.turnRightByConstant,y=l.turnRight,z=l.turnLeft,A=l.move,B=l.drawTurnRestricted,C=l.drawTurn,D=(l.SET_COLOUR_PICKER,l.SET_COLOUR_RANDOM,l.defineWithArg),E={SIMPLE_MOVE_UP:g.blockOfType("simple_move_up"),SIMPLE_MOVE_DOWN:g.blockOfType("simple_move_down"),SIMPLE_MOVE_LEFT:g.blockOfType("simple_move_left"),SIMPLE_MOVE_RIGHT:g.blockOfType("simple_move_right"),SIMPLE_JUMP_UP:g.blockOfType("simple_jump_up"),SIMPLE_JUMP_DOWN:g.blockOfType("simple_jump_down"),SIMPLE_JUMP_LEFT:g.blockOfType("simple_jump_left"),SIMPLE_JUMP_RIGHT:g.blockOfType("simple_jump_right"),SIMPLE_MOVE_UP_LENGTH:g.blockOfType("simple_move_up_length"),SIMPLE_MOVE_DOWN_LENGTH:g.blockOfType("simple_move_down_length"),SIMPLE_MOVE_LEFT_LENGTH:g.blockOfType("simple_move_left_length"),SIMPLE_MOVE_RIGHT_LENGTH:g.blockOfType("simple_move_right_length"),simpleMoveBlocks:function(){return this.SIMPLE_MOVE_UP+this.SIMPLE_MOVE_DOWN+this.SIMPLE_MOVE_LEFT+this.SIMPLE_MOVE_RIGHT},simpleJumpBlocks:function(){return this.SIMPLE_JUMP_UP+this.SIMPLE_JUMP_DOWN+this.SIMPLE_JUMP_LEFT+this.SIMPLE_JUMP_RIGHT},simpleMoveLengthBlocks:function(){return this.SIMPLE_MOVE_UP_LENGTH+this.SIMPLE_MOVE_DOWN_LENGTH+this.SIMPLE_MOVE_LEFT_LENGTH+this.SIMPLE_MOVE_RIGHT_LENGTH}},F=b.exports={"1_1":{answer:e(1,1),ideal:4,toolbox:j(1,1),startBlocks:k(1,1),requiredBlocks:[[r],[w(90)]],freePlay:!1},"1_2":{answer:e(1,2),ideal:11,toolbox:j(1,2),startBlocks:k(1,2),requiredBlocks:[[r],[w(90)]],freePlay:!1},"1_3":{answer:e(1,3),ideal:4,toolbox:j(1,3),startBlocks:k(1,3),requiredBlocks:[[r],[w(90)],[o(4)]],freePlay:!1},"1_4":{answer:e(1,4),ideal:6,toolbox:j(1,4),startBlocks:k(1,4),requiredBlocks:[[s],[o(3)],[{test:function(a){return"draw_turn_by_constant_restricted"==a.type},type:"draw_turn_by_constant",titles:{VALUE:"???"}}]],freePlay:!1},"1_5":{answer:e(1,5),ideal:7,toolbox:j(1,5),startBlocks:k(1,5),requiredBlocks:[[o(3)],[w(120)],[r]],freePlay:!1},"1_6":{answer:e(1,6),ideal:8,toolbox:j(1,6),startBlocks:k(1,6),requiredBlocks:[[o(3)],[w(120),v(120)],[r,u]],freePlay:!1},"1_7":{answer:e(1,7),ideal:13,toolbox:j(1,7),startBlocks:k(1,7),requiredBlocks:[[B(90)],[r],[o(4)],[u,r]],freePlay:!1,startDirection:0},"1_8":{answer:e(1,8),ideal:7,toolbox:j(1,8),startBlocks:k(1,8),requiredBlocks:[[o(8)]],freePlay:!1},"1_9":{answer:e(1,9),ideal:6,toolbox:j(1,9),startBlocks:k(1,9),requiredBlocks:[],freePlay:!1,sliderSpeed:.9,permittedErrors:10,failForCircleRepeatValue:!0},"1_10":{answer:e(1,10),toolbox:j(1,10),startBlocks:k(1,10),requiredBlocks:[],freePlay:!0},"2_1":{answer:e(2,1),ideal:8,toolbox:j(2,1),startBlocks:k(2,1),requiredBlocks:[[o(4)],[{test:function(a){return"draw_turn"==a.type},type:"draw_turn",titles:{DIR:"turnRight"},values:{VALUE:m(90)}}],[{test:function(a){return"draw_move"==a.type},type:"draw_move",values:{VALUE:m(100)}}]],freePlay:!1},"2_2":{answer:e(2,2),ideal:5,toolbox:j(2,2),startBlocks:k(2,2),requiredBlocks:[[p("??")]],freePlay:!1},"2_3":{answer:e(2,3),ideal:8,toolbox:j(2,3),startBlocks:k(2,3),requiredBlocks:[[o(3)],[p(100)],[C()]],freePlay:!1},"2_4":{answer:e(2,4),ideal:8,toolbox:j(2,4),startBlocks:k(2,4),freePlay:!1,impressive:!0},"2_5":{answer:e(2,5),ideal:11,toolbox:j(2,5),startBlocks:k(2,5),requiredBlocks:[[p("??")]],freePlay:!1},"2_6":{answer:e(2,6),ideal:7,toolbox:j(2,6),startBlocks:k(2,6),requiredBlocks:[[n("variables_get_counter")]],freePlay:!1},"2_7":{minWorkspaceHeight:1200,answer:e(2,7),ideal:9,toolbox:j(2,7),startBlocks:k(2,7),requiredBlocks:[[n("controls_for_counter")],[A("??")],[n("variables_get_counter")],[y(90)]],freePlay:!1},"2_7_5":{answer:e(2,7.5),initialY:300,ideal:5,toolbox:j(2,8),startBlocks:k(2,7.5),requiredBlocks:[[q(250)],[q(100)]],freePlay:!1,sliderSpeed:.9,startDirection:0},"2_8":{answer:e(2,8),initialX:100,ideal:12,toolbox:j(2,8),startBlocks:k(2,8),requiredBlocks:[[q(150)],[y(90)],[z(90)],[{test:"jump",type:"jump",values:{VALUE:m(100)}}],[n("jump")],[o(3)]],freePlay:!1,sliderSpeed:.9,startDirection:0},"2_9":{answer:e(2,9),initialX:100,ideal:15,toolbox:j(2,9),startBlocks:k(2,9),requiredBlocks:[[q("??")],[n("controls_for_counter")],[n("variables_get_counter")],[y(90)],[z(90)],[{test:"jump",type:"jump",values:{VALUE:m(60)}}]],freePlay:!1,sliderSpeed:.9,startDirection:0},"2_10":{answer:e(2,10),freePlay:!0,toolbox:j(2,10),startBlocks:k(2,10)},"3_1":{answer:e(3,1),ideal:14,toolbox:j(3,1),startBlocks:k(3,1),requiredBlocks:[[d.call(f.drawASquare())]],freePlay:!1},"3_2":{answer:e(3,2),ideal:14,toolbox:j(3,2),startBlocks:k(3,2),requiredBlocks:[[o(3)],[A(100)],[y(120)],[d.call(f.drawATriangle())]],freePlay:!1},"3_3":{answer:e(3,3),initialY:350,ideal:20,toolbox:j(3,3),startBlocks:k(3,3),requiredBlocks:[[d.call(f.drawATriangle())],[A(100)],[d.call(f.drawASquare())]],freePlay:!1,images:[{filename:"cat.svg",position:[170,247]},{filename:"cat.svg",position:[170,47]},{filename:"cow.svg",position:[182,147]}],startDirection:0},"3_4":{answer:e(3,4),ideal:19,toolbox:j(3,4),startBlocks:k(3,4),requiredBlocks:[[d.call(f.drawASquare())],[A(100)],[y(30)],[d.call(f.drawATriangle())]],freePlay:!1,images:[{filename:"lion.svg",position:[195,97]}],startDirection:0},"3_5":{answer:e(3,5),ideal:21,toolbox:j(3,5),startBlocks:k(3,5),requiredBlocks:[[d.define(f.drawAHouse())],[d.call(f.drawASquare())],[A(100)],[y(30)],[d.call(f.drawATriangle())],[d.call(f.drawAHouse())]],freePlay:!1,images:[{filename:"cat.svg",position:[170,90]},{filename:"cat.svg",position:[222,90]}],startDirection:0},"3_6":{answer:e(3,6),initialY:350,ideal:23,toolbox:j(3,6),startBlocks:k(3,6),requiredBlocks:[[D(f.drawATriangle(),f.lengthParameter())],[n("variables_get_length")],[d.callWithArg(f.drawATriangle(),f.lengthParameter())]],disableParamEditing:!1,freePlay:!1,images:[{filename:"lion.svg",position:[185,100]},{filename:"cat.svg",position:[175,248]}],startDirection:0},"3_7":{answer:e(3,7),initialY:350,ideal:24,toolbox:j(3,7),startBlocks:k(3,7),requiredBlocks:[[D(f.drawAHouse(),f.lengthParameter())],[d.callWithArg(f.drawASquare(),f.lengthParameter())],[d.callWithArg(f.drawATriangle(),f.lengthParameter())],[n("variables_get_length")],[d.callWithArg(f.drawAHouse(),f.lengthParameter())]],freePlay:!1,images:[{filename:"elephant.svg",position:[205,220]}],startDirection:0,disableParamEditing:!1},"3_8":{minWorkspaceHeight:1200,answer:e(3,8),initialX:20,initialY:350,ideal:40,toolbox:j(3,8),startBlocks:k(3,8),freePlay:!1,images:[{filename:"cat.svg",position:[16,170]},{filename:"lion.svg",position:[15,250]},{filename:"elephant.svg",position:[127,220]},{filename:"cow.svg",position:[255,250]}],startDirection:0,disableParamEditing:!1},"3_9":{minWorkspaceHeight:1200,answer:e(3,9),initialX:20,initialY:350,ideal:40,toolbox:j(3,9),startBlocks:k(3,9),requiredBlocks:[[D(f.drawAHouse(),f.lengthParameter())],[d.callWithArg(f.drawASquare(),f.lengthParameter())],[d.callWithArg(f.drawATriangle(),f.lengthParameter())],[n("variables_get_length")],[d.callWithArg(f.drawAHouse(),f.lengthParameter())]],freePlay:!1,images:[{filename:"cat.svg",position:[-10,270]},{filename:"cow.svg",position:[53,250]},{filename:"elephant.svg",position:[175,220]}],failForTooManyBlocks:!0,startDirection:0,disableParamEditing:!1},"3_10":{minWorkspaceHeight:1600,answer:e(3,10),freePlay:!0,toolbox:j(3,10),startBlocks:k(3,10)},"4_1":{answer:e(4,1),ideal:4,toolbox:j(4,1),startBlocks:k(4,1),requiredBlocks:[[s],[o(3)],[{test:function(a){return"draw_turn_by_constant"==a.type},type:"draw_turn_by_constant",titles:{VALUE:"???"}}]]},"4_2":{answer:e(4,2),ideal:12,toolbox:j(4,2),startBlocks:k(4,2),requiredBlocks:[[x("???")]],sliderSpeed:.5},"4_3":{answer:e(4,3),ideal:8,toolbox:j(4,3),startBlocks:k(4,3),requiredBlocks:[[o(4)],[x("???")]],sliderSpeed:.7},"4_4":{answer:e(4,4),ideal:8,toolbox:j(4,4),startBlocks:k(4,4),requiredBlocks:[[o("???")]],sliderSpeed:.7,impressive:!0},"4_5":{answer:e(4,5),ideal:8,toolbox:j(4,5),startBlocks:k(4,5),requiredBlocks:[[x("???")]],sliderSpeed:.9,impressive:!0},"4_6":{answer:e(4,6),ideal:4,toolbox:j(4,6),startBlocks:k(4,6),requiredBlocks:[[t(20)],[o(4)],[{test:"turnRight",type:"draw_turn_by_constant",titles:{VALUE:"???"}}]],permittedErrors:10,startDirection:0},"4_7":{answer:e(4,7),initialY:300,ideal:8,toolbox:j(4,7),startBlocks:k(4,7),requiredBlocks:[[t(20)],[o(10)]],startDirection:0,sliderSpeed:.7},"4_8":{answer:e(4,8),initialX:100,initialY:300,ideal:10,toolbox:j(4,8),startBlocks:k(4,8),requiredBlocks:[[o(4)],[x("???")]],startDirection:0,sliderSpeed:.9},"4_9":{answer:e(4,9),initialX:150,initialY:350,ideal:10,toolbox:j(4,9),startBlocks:k(4,9),requiredBlocks:[[x("???")]],startDirection:330,sliderSpeed:.9},"4_10":{answer:e(4,10),initialX:75,initialY:300,ideal:10,toolbox:j(4,10),startBlocks:k(4,10),requiredBlocks:[[o("???")]],startDirection:0,sliderSpeed:.9,impressive:!0},"4_11":{answer:e(4,11),freePlay:!0,initialX:75,initialY:300,toolbox:j(4,11),startBlocks:k(4,11),requiredBlocks:[],startDirection:0,sliderSpeed:.9},"5_1":{minWorkspaceHeight:1200,answer:e(5,1),freePlay:!0,toolbox:j(5,1),startBlocks:k(5,1),sliderSpeed:.9},"5_2":{minWorkspaceHeight:1200,answer:e(5,2),freePlay:!0,toolbox:j(5,2),startBlocks:k(5,2),sliderSpeed:1},"5_3":{minWorkspaceHeight:1200,answer:e(5,3),freePlay:!0,toolbox:j(5,3),startBlocks:k(5,3),sliderSpeed:1},"5_4":{minWorkspaceHeight:1600,answer:e(5,4),freePlay:!0,toolbox:j(5,4),startBlocks:k(5,4),sliderSpeed:1},"5_5":{minWorkspaceHeight:1600,answer:e(5,5),freePlay:!0,toolbox:j(5,5),startBlocks:k(5,5),sliderSpeed:1},"5_6":{minWorkspaceHeight:1600,answer:e(5,6),freePlay:!0,initialY:300,toolbox:j(5,6),startBlocks:k(5,6),startDirection:0,sliderSpeed:1},builder:{answer:[],freePlay:!0,initialY:300,toolbox:j(5,i),startBlocks:"",startDirection:0,sliderSpeed:1},custom:{answer:[],freePlay:!1,initialY:300,toolbox:j(5,i),startBlocks:"",startDirection:0,sliderSpeed:1},k1_demo:{answer:[],freePlay:!1,initialY:300,isK1:!0,toolbox:g.createToolbox(E.simpleMoveBlocks()+E.simpleJumpBlocks()+E.simpleMoveLengthBlocks()+g.blockOfType("controls_repeat_simplified")+g.blockOfType("draw_colour_simple")),startBlocks:"",startDirection:0,sliderSpeed:1}};F.ec_1_1=h.extend(F["1_1"],{editCode:!0,codeFunctions:{moveForward:null,turnRight:null},startBlocks:"moveForward(100);\n"}),F.ec_1_2=h.extend(F["1_2"],{editCode:!0,codeFunctions:{moveForward:null,turnRight:null,penColour:null},startBlocks:"penColour('#ff0000');\nmoveForward(100);\n"}),F.ec_1_3=h.extend(F["1_3"],{editCode:!0,codeFunctions:{moveForward:null,turnRight:null,penColour:null,forLoop_i_0_4:{category:"Artist"}},startBlocks:"for (var i = 0; i < 4; i++) {\n  __\n}\n"}),F.ec_1_4=h.extend(F["1_4"],{editCode:!0,codeFunctions:{moveForward:null,turnRight:null,penColour:null,forLoop_i_0_4:{category:"Artist"}},startBlocks:"for (var i = 0; i < 3; i++) {\n  penColour('#ff0000');\n}\n"}),F.ec_1_10=h.extend(F["1_10"],{editCode:!0,codeFunctions:{moveForward:null,turnRight:null,penColour:null,penWidth:null,forLoop_i_0_4:{category:"Artist"}},startBlocks:"moveForward(100);\n"})},{"../block_utils":"/home/ubuntu/staging/apps/build/js/block_utils.js","../level_base":"/home/ubuntu/staging/apps/build/js/level_base.js","../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./answers":"/home/ubuntu/staging/apps/build/js/turtle/answers.js","./colours":"/home/ubuntu/staging/apps/build/js/turtle/colours.js","./locale":"/home/ubuntu/staging/apps/build/js/turtle/locale.js","./requiredBlocks":"/home/ubuntu/staging/apps/build/js/turtle/requiredBlocks.js","./startBlocks.xml.ejs":"/home/ubuntu/staging/apps/build/js/turtle/startBlocks.xml.ejs","./toolbox.xml.ejs":"/home/ubuntu/staging/apps/build/js/turtle/toolbox.xml.ejs"}],"/home/ubuntu/staging/apps/build/js/turtle/toolbox.xml.ejs":[function(require,module,exports){module.exports=function(){var t=function anonymous(locals,filters,escape){escape=escape||function(a){return String(a).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var buf=[];with(locals||{})!function(){buf.push("");var a=require("./locale"),b=7;buf.push('<xml id="toolbox" style="display: none;">\n  '),1==page?(buf.push('    <block type="draw_move_by_constant"></block>\n    <block type="draw_turn_by_constant'),level<=8&&buf.push("_restricted"),buf.push('">\n      <title name="VALUE">90</title>\n    </block>\n    '),level>=2&&buf.push('      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_picker"></block>\n        </value>\n      </block>\n    '),buf.push("    "),level>=4&&buf.push('      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_random"></block>\n        </value>\n      </block>\n    '),buf.push("    "),level>=3&&buf.push('      <block type="controls_repeat">\n        <title name="TIMES">4</title>\n      </block>\n    '),buf.push("    "),10==level&&buf.push('      <block id="draw-width" type="draw_width_inline" x="158" y="67">\n        <title name="WIDTH">1</title>\n      </block>\n    '),buf.push("  ")):2==page||3==page?(buf.push("    "),buf.push('    <category id="actions" name="',escape(a.catTurtle()),'">\n      <block type="draw_move">\n        <value name="VALUE">\n          <block type="math_number">\n            <title name="NUM">100</title>\n          </block>\n        </value>\n      </block>\n      '),2==page&&level>=8&&buf.push('        <block type="jump">\n          <value name="VALUE">\n            <block type="math_number">\n              <title name="NUM">50</title>\n            </block>\n          </value>\n        </block>\n      '),buf.push('      <block type="draw_turn">\n        <value name="VALUE">\n          <block type="math_number">\n            <title name="NUM">90</title>\n          </block>\n        </value>\n      </block>\n      '),10==level&&buf.push('        <block id="draw-width" type="draw_width_inline">\n          <title name="WIDTH">1</title>\n        </block>\n      '),buf.push("    </category>\n    "),buf.push('    <category name="',escape(a.catColour()),'">\n      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_picker"></block>\n        </value>\n      </block>\n      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_random"></block>\n        </value>\n      </block>\n    </category>\n    '),buf.push("    "),2==page&&level>=2?(buf.push('      <category name="',escape(a.catProcedures()),'">\n        <block type="draw_a_square" inline="true">\n          <value name="VALUE">\n            <block type="math_number">\n              <title name="NUM">100</title>\n            </block>\n          </value>\n        </block>\n        '),level>=8&&buf.push('          <block type="draw_a_snowman" inline="true">\n            <value name="VALUE">\n              <block type="math_number">\n                <title name="NUM">100</title>\n              </block>\n            </value>\n          </block>\n        '),buf.push("      </category>\n    ")):3==page&&(buf.push("      "),1==level?(buf.push("        "),buf.push('        <category name="',escape(a.catProcedures()),'">\n          <block type="procedures_callnoreturn">\n            <mutation name="',escape(a.drawACircle()),'"></mutation>\n          </block>\n          <block type="procedures_callnoreturn">\n            <mutation name="',escape(a.drawASquare()),'"></mutation>\n          </block>\n        </category>\n      ')):buf.push('\n        <category name="',escape(a.catProcedures()),'" custom="PROCEDURE"></category>\n      '),buf.push("    ")),buf.push("    "),buf.push('    <category name="',escape(a.catControl()),'">\n      '),(2==page&&level>=6||3==page&&level>=9)&&buf.push('        <block type="controls_for_counter">\n          <value name="FROM">\n            <block type="math_number">\n              <title name="NUM">1</title>\n            </block>\n          </value>\n          <value name="TO">\n            <block type="math_number">\n              <title name="NUM">100</title>\n            </block>\n          </value>\n          <value name="BY">\n            <block type="math_number">\n              <title name="NUM">10</title>\n            </block>\n          </value>\n        </block>\n      '),buf.push('      <block type="controls_repeat">\n        <title name="TIMES">4</title>\n      </block>\n    </category>\n    '),buf.push('    <category name="',escape(a.catMath()),'">\n      <block type="math_number"></block>\n      '),10==level&&buf.push('        <block type="math_arithmetic" inline="true"></block>\n        <block type="math_random_int">\n          <value name="FROM">\n            <block type="math_number">\n              <title name="NUM">1</title>\n            </block>\n          </value>\n          <value name="TO">\n            <block type="math_number">\n              <title name="NUM">100</title>\n            </block>\n        </value>\n      </block>\n      <block type="math_random_float"></block>\n    '),buf.push("    </category>\n    "),buf.push("    "),buf.push("    "),2==page&&level>=6?buf.push('      <category name="',escape(a.catVariables()),'">\n        <block type="variables_get_counter"></block>\n      </category>\n    '):3==page&&level>=6&&level<10?(buf.push('      <category name="',escape(a.catVariables()),'">\n        '),level>=9&&buf.push('          <block type="variables_get_counter"></block>\n        '),buf.push("        "),level>=6&&buf.push('          <block type="variables_get_length"></block>\n        '),buf.push("      </category>\n    ")):3==page&&10==level&&buf.push('      <category name="',escape(a.catVariables()),'" custom="VARIABLE">\n      </category>\n    '),buf.push("  ")):4==page?(buf.push("    "),buf.push('    <block type="draw_move_by_constant"></block>\n    <block type="draw_turn_by_constant">\n      <title name="VALUE">90</title>\n    </block>\n    '),11==level&&buf.push('    <block id="draw-width" type="draw_width_inline">\n      <title name="WIDTH">1</title>\n    </block>\n    '),buf.push("    "),buf.push('    <block id="draw-color" type="draw_colour">\n      <value name="COLOUR">\n        <block type="colour_picker"></block>\n      </value>\n    </block>\n    <block id="draw-color" type="draw_colour">\n      <value name="COLOUR">\n        <block type="colour_random"></block>\n      </value>\n    </block>\n    <block type="controls_repeat">\n      <title name="TIMES">4</title>\n    </block>\n  ')):5==page&&(buf.push("  "),
buf.push("    "),level===b&&buf.push('      <category name="K1 Simplified">\n        <block type="controls_repeat_simplified">\n          <title name="TIMES">5</title>\n        </block>\n        <block type="draw_colour_simple"></block>\n        <block type="simple_move_up"></block>\n        <block type="simple_move_down"></block>\n        <block type="simple_move_left"></block>\n        <block type="simple_move_right"></block>\n        <block type="simple_move_up_length"></block>\n        <block type="simple_move_down_length"></block>\n        <block type="simple_move_left_length"></block>\n        <block type="simple_move_right_length"></block>\n        <block type="simple_jump_up"></block>\n        <block type="simple_jump_down"></block>\n        <block type="simple_jump_left"></block>\n        <block type="simple_jump_right"></block>\n      </category>\n    '),buf.push("    "),buf.push('    <category id="actions" name="',escape(a.catTurtle()),'">\n      <block type="draw_move">\n        <value name="VALUE">\n          <block type="math_number">\n            <title name="NUM">100</title>\n          </block>\n        </value>\n      </block>\n      <block type="jump">\n        <value name="VALUE">\n          <block type="math_number">\n            <title name="NUM">50</title>\n          </block>\n        </value>\n      </block>\n      <block type="draw_turn">\n        <value name="VALUE">\n          <block type="math_number">\n            <title name="NUM">90</title>\n          </block>\n        </value>\n      </block>\n      <block type="draw_pen"></block>\n      <block id="draw-width" type="draw_width_inline">\n        <title name="WIDTH">1</title>\n      </block>\n    </category>\n    '),buf.push('    <category name="',escape(a.catColour()),'">\n      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_picker"></block>\n        </value>\n      </block>\n      <block id="draw-color" type="draw_colour">\n        <value name="COLOUR">\n          <block type="colour_random"></block>\n        </value>\n      </block>\n    </category>\n    '),buf.push('    <category name="',escape(a.catProcedures()),'" custom="PROCEDURE"></category>\n    '),level===b&&buf.push('    <category name="Prebuilt">\n      <block type="draw_a_triangle"></block>\n      <block type="draw_a_square_custom"></block>\n      <block type="draw_a_house"></block>\n      <block type="draw_a_flower"></block>\n      <block type="draw_a_snowflake"></block>\n      <block type="draw_a_snowman"></block>\n      <block type="draw_a_hexagon"></block>\n      <block type="draw_a_star"></block>\n      <block type="draw_a_robot"></block>\n      <block type="draw_a_rocket"></block>\n      <block type="draw_a_planet"></block>\n      <block type="draw_a_rhombus"></block>\n      <block type="draw_upper_wave"></block>\n      <block type="draw_lower_wave"></block>\n    </category>\n    '),buf.push("    "),buf.push('    <category name="',escape(a.catControl()),'">\n      <block type="controls_for_counter">\n        <value name="FROM">\n          <block type="math_number">\n            <title name="NUM">1</title>\n          </block>\n        </value>\n        <value name="TO">\n          <block type="math_number">\n            <title name="NUM">100</title>\n          </block>\n        </value>\n        <value name="BY">\n          <block type="math_number">\n            <title name="NUM">10</title>\n          </block>\n        </value>\n      </block>\n      '),level<6?buf.push('        <block type="controls_repeat">\n          <title name="TIMES">4</title>\n        </block>\n      '):buf.push('        <block type="controls_repeat_ext">\n          <value name="TIMES">\n            <block type="math_number">\n              <title name="NUM">10</title>\n            </block>\n          </value>\n        </block>\n      '),buf.push("    </category>\n  "),buf.push('    <category name="',escape(a.catLogic()),'">\n      <block type="controls_if"></block>\n      <block type="logic_compare"></block>\n      <block type="logic_operation"></block>\n      <block type="logic_negate"></block>\n      <block type="logic_boolean"></block>\n      <block type="logic_null"></block>\n      <block type="logic_ternary"></block>\n    </category>\n    '),buf.push('    <category name="',escape(a.catMath()),'">\n      <block type="math_number"></block>\n      <block type="math_arithmetic" inline="true"></block>\n      <block type="math_random_int">\n        <value name="FROM">\n          <block type="math_number">\n            <title name="NUM">1</title>\n          </block>\n        </value>\n        <value name="TO">\n          <block type="math_number">\n            <title name="NUM">100</title>\n          </block>\n        </value>\n      </block>\n      <block type="math_random_float"></block>\n     </category>\n    '),buf.push('    <category name="',escape(a.catVariables()),'" custom="VARIABLE">\n    </category>\n  ')),buf.push("</xml>\n")}();return buf.join("")};return function(a){return t(a,require("ejs").filters)}}()},{"./locale":"/home/ubuntu/staging/apps/build/js/turtle/locale.js",ejs:"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/turtle/startBlocks.xml.ejs":[function(require,module,exports){module.exports=function(){var t=function anonymous(locals,filters,escape){escape=escape||function(a){return String(a).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var buf=[];with(locals||{})!function(){buf.push("");var a=require("./locale"),b=function(b){buf.push('<block type="procedures_defnoreturn" ',b.modifiers,">\n    <mutation>\n      "),0==b.length&&buf.push('        <arg name="',escape(a.lengthParameter()),'"></arg>\n      '),buf.push('    </mutation>\n    <title name="NAME">',escape(b.title),'</title>\n    <statement name="STACK">\n      <block type="controls_repeat" ',b.modifiers,'>\n        <title name="TIMES">',escape(b.sides),'</title>\n        <statement name="DO">\n          <block type="draw_move" ',b.modifiers,'>\n            <value name="VALUE">\n              '),0==b.length?buf.push('                <block type="variables_get_length" ',b.modifiers,"></block>\n              "):buf.push('                <block type="math_number" ',b.modifiers,'>\n                  <title name="NUM">',escape(b.length),"</title>\n                </block>\n              "),buf.push('            </value>\n            <next>\n              <block type="draw_turn" ',b.modifiers,'>\n                <value name="VALUE">\n                  <block type="math_number" ',b.modifiers,'>\n                    <title name="NUM">',escape(360/b.sides),"</title>\n                  </block>\n                </value>\n              </block>\n            </next>\n          </block>\n        </statement>\n      </block>\n    </statement>\n  </block>\n")};buf.push("\n");var c=function(a){buf.push("  "),60>=a&&(buf.push('    <block type="draw_move" '),25==a&&buf.push('x="300" y="100"'),buf.push(' inline="false" editable="false" deletable="false" disabled="true">\n      <title name="DIR">moveForward</title>\n      <value name="VALUE">\n        <block type="math_number" editable="false" deletable="false" disabled="true">\n          <title name="NUM">',escape(a),'</title>\n        </block>\n      </value>\n      <next>\n        <block type="draw_turn" inline="false" editable="false" deletable="false" disabled="true">\n          <title name="DIR">turnRight</title>\n          <value name="VALUE">\n            <block type="math_number" editable="false" deletable="false" disabled="true">\n              <title name="NUM">90</title>\n            </block>\n          </value>\n          <next>\n            '),c(a+5),buf.push("          </next>\n        </block>\n      </next>\n    </block>\n  ")),buf.push("\n")};buf.push("\n"),buf.push("\n"),1==page?(buf.push("  "),1==level?buf.push('    <block type="draw_move_by_constant" x="20" y="20"></block>\n  '):2==level?buf.push('    <block type="draw_colour" inline="true" x="20" y="20">\n      <value name="COLOUR">\n        <block type="colour_picker">\n          <title name="COLOUR">#ff0000</title>\n        </block>\n      </value>\n      <next>\n        <block type="draw_move_by_constant"></block>\n      </next>\n    </block>\n  '):4==level?buf.push('    <block type="controls_repeat" x="20" y="20">\n      <title name="TIMES">3</title>\n      <statement name="DO">\n        <block type="draw_colour" inline="true">\n          <value name="COLOUR">\n            <block type="colour_random"></block>\n          </value>\n        </block>\n      </statement>\n    </block>\n  '):3==level||5==level||6==level?(buf.push('    <block type="controls_repeat" x="20" y="20">\n      <title name="TIMES">'),3==level?buf.push("4"):buf.push("3"),buf.push("</title>\n    </block>\n  ")):7==level?buf.push('    <block type="draw_turn_by_constant_restricted" x="20" y="20">\n      <title name="DIR">turnRight</title>\n      <title name="VALUE">90</title>\n    </block>\n  '):8==level?buf.push('    <block id="set-color" type="draw_colour" x="20" y="100">\n      <value name="COLOUR">\n        <block type="colour_random"></block>\n      </value>\n      <next>\n        <block type="draw_move_by_constant">\n          <title name="DIR">moveForward</title>\n          <title name="VALUE">100</title>\n          <next>\n            <block type="draw_move_by_constant">\n              <title name="DIR">moveBackward</title>\n              <title name="VALUE">100</title>\n              <next>\n                <block type="draw_turn_by_constant">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">45</title>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </next>\n    </block>\n  '):9==level?buf.push('    <block type="controls_repeat" deletable="false"  x="20" y="20">\n      <title name="TIMES">??</title>\n      <statement name="DO">\n        <block type="draw_move" editable="false" deletable="false">\n          <value name="VALUE">\n            <block type="math_number" editable="false" deletable="false">\n              <title name="NUM">1</title>\n            </block>\n          </value>\n          <next>\n            <block type="draw_turn" editable="false" deletable="false">\n              <value name="VALUE">\n                <block type="math_number" editable="false" deletable="false">\n                  <title name="NUM">1</title>\n                </block>\n              </value>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '):10==level&&buf.push('    <block type="draw_move_by_constant" x="20" y="20">\n      <title name="DIR">moveForward</title>\n      <title name="VALUE">100</title>\n    </block>\n  '),buf.push("")):2==page?(buf.push("  "),buf.push("  "),3==level||5==level?(buf.push("    "),buf.push('    <block type="draw_a_square" inline="true" x="20" y="20">\n      <value name="VALUE">\n        <block type="math_number">\n          <title name="NUM">'),3==level?buf.push("100"):buf.push("50"),buf.push("</title>\n        </block>\n      </value>\n    </block>\n  ")):4==level?(buf.push("    "),buf.push('    <block type="controls_repeat" deletable="false"  x="20" y="20">\n      <title name="TIMES">???</title>\n      <statement name="DO">\n        <block id="set-color" type="draw_colour" deletable="false">\n          <value name="COLOUR">\n            <block type="colour_random" deletable="false">\n            </block>\n          </value>\n          <next>\n            <block type="draw_a_square" inline="true" editable="false" deletable="false">\n              <value name="VALUE">\n                <block type="math_number" deletable="false">\n                  <title name="NUM">???</title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" editable="false" deletable="false">\n                  <value name="VALUE">\n                    <block type="math_number" deletable="false">\n                      <title name="NUM">???</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  ')):6==level?(buf.push('    <block type="controls_for_counter" inline="true" x="20" y="20">\n    <title name="VAR">',escape(a.loopVariable()),'</title>\n      <value name="FROM">\n        <block type="math_number">\n          <title name="NUM">'),6==level?buf.push("50"):buf.push("10"),buf.push('</title>\n        </block>\n      </value>\n      <value name="TO">\n        <block type="math_number">\n          <title name="NUM">'),6==level?buf.push("90"):buf.push("100"),buf.push('</title>\n        </block>\n      </value>\n      <value name="BY">\n        <block type="math_number">\n          <title name="NUM">10</title>\n        </block>\n      </value>\n      <statement name="DO">\n        <block type="draw_a_square" inline="true">\n        </block>\n      </statement>\n    </block>\n  ')):7==level?(buf.push("    "),c(25),buf.push("  ")):7.5==level?buf.push('    <block type="draw_a_snowman" x="20" y="20" inline="true">\n      <value name="VALUE">\n        <block type="math_number">\n          <title name="NUM">250</title>\n        </block>\n      </value>\n    </block>\n  '):8==level||9==level?buf.push('    <block type="draw_a_snowman" x="20" y="20" inline="true">\n      <value name="VALUE">\n        <block type="math_number">\n          <title name="NUM">150</title>\n        </block>\n      </value>\n    </block>\n  '):10==level&&buf.push('    <block id="draw-width" type="draw_width_inline" x="158" y="67">\n      <title name="WIDTH">1</title>\n      <next>\n        <block type="controls_for_counter" inline="true">\n          <value name="FROM">\n            <block type="math_number">\n              <title name="NUM">1</title>\n            </block>\n          </value>\n          <value name="TO">\n            <block type="math_number">\n              <title name="NUM">100</title>\n            </block>\n          </value>\n          <value name="BY">\n            <block type="math_number">\n              <title name="NUM">1</title>\n            </block>\n          </value>\n          <statement name="DO">\n            <block type="draw_move" inline="false">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get_counter"></block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="false">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">91</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </next>\n    </block>\n  '),buf.push("")):3==page?(buf.push("  "),buf.push("  ",b({title:a.drawASquare(),modifiers:(8==level?"":'x="220" y="40"')+' editable="false" deletable="false"',sides:4,length:level>=6?0:100}),"  "),1==level&&(buf.push("    "),buf.push("    ",b({title:a.drawACircle(),modifiers:'x="220" y="250" editable="false" deletable="false"',sides:360,length:1}),"  ")),buf.push("  "),2==level?buf.push('    <block type="procedures_defnoreturn" x="220" y="250">\n      <title name="NAME">',escape(a.drawATriangle()),"</title>\n    </block>\n  "):level>=3&&(buf.push("    "),buf.push("    ",b({title:a.drawATriangle(),modifiers:(8==level?"":'x="220" y="250"')+(6==level?"":' editable="false" deletable="false"'),sides:3,length:level>=7?0:100}),"  ")),buf.push("  "),8==level&&buf.push('    <block type="procedures_callnoreturn" inline="false">\n      <mutation name="',escape(a.drawAHouse()),'">\n        <arg name="',escape(a.lengthParameter()),'"></arg>\n      </mutation>\n        <value name="ARG0">\n          <block type="math_number">\n            <title name="NUM">100</title>\n          </block>\n        </value>\n    </block>\n  '),buf.push("  "),(7==level||8==level)&&(buf.push("    "),buf.push('    <block type="procedures_defnoreturn" '),7==level&&buf.push('x="220" y="460"'),buf.push(">      <mutation>\n        "),8==level&&buf.push('<arg name="',escape(a.lengthParameter()),'"></arg>'),buf.push('      </mutation>\n      <title name="NAME">',escape(a.drawAHouse()),'</title>\n      <statement name="STACK">\n        <block type="procedures_callnoreturn" inline="false">\n          <mutation name="',escape(a.drawASquare()),'">\n            <arg name="',escape(a.lengthParameter()),'"/>\n          </mutation>\n          <value name="ARG0">\n            '),8==level?buf.push('              <block type="variables_get">\n                <title name="VAR">',escape(a.lengthParameter()),"</title>\n              </block>\n            "):buf.push('              <block type="math_number">\n                <title name="NUM">100</title>\n              </block>\n            '),buf.push('          </value>\n          <next>\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                '),8==level?buf.push('                  <block type="variables_get">\n                    <title name="VAR">',escape(a.lengthParameter()),"</title>\n                  </block>\n                "):buf.push('                  <block type="math_number">\n                    <title name="NUM">100</title>\n                  </block>\n                '),buf.push('              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">30</title>\n                    </block>\n                  </value>\n                  <next>\n                    <block type="procedures_callnoreturn" inline="false">\n                      <mutation name="',escape(a.drawATriangle()),'">\n                        <arg name="',escape(a.lengthParameter()),'"></arg>\n                      </mutation>\n                      <value name="ARG0">\n                        '),8==level?buf.push('                          <block type="variables_get">\n                            <title name="VAR">',escape(a.lengthParameter()),"</title>\n                          </block>\n                        "):buf.push('                          <block type="math_number">\n                            <title name="NUM">100</title>\n                          </block>\n                        '),buf.push("                      </value>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  ")),buf.push("")):4==page?(buf.push("  "),2==level?buf.push('    <block type="draw_colour" inline="true" x="70" y="70" editable="false" deletable="false" movable="true">\n      <value name="COLOUR">\n        <block type="colour_random" editable="false" deletable="false" movable="true"></block>\n      </value>\n      <next>\n        <block type="controls_repeat" editable="false" deletable="false" movable="true">\n          <title name="TIMES">3</title>\n          <statement name="DO">\n            <block type="draw_move_by_constant" editable="false" deletable="false" movable="true">\n              <title name="DIR">moveForward</title>\n              <title name="VALUE">100</title>\n              <next>\n                <block type="draw_turn_by_constant" editable="false" deletable="false" movable="true">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">120</title>\n                </block>\n              </next>\n            </block>\n          </statement>\n          <next>\n            <block type="draw_colour" inline="true" x="70" y="230" editable="false" deletable="false" movable="true">\n              <value name="COLOUR">\n                <block type="colour_random" editable="false" deletable="false" movable="true"></block>\n              </value>\n              <next>\n                <block type="controls_repeat" editable="false" deletable="false" movable="true">\n                  <title name="TIMES">3</title>\n                  <statement name="DO">\n                    <block type="draw_move_by_constant" editable="false" deletable="false" movable="true">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">100</title>\n                      <next>\n                        <block type="draw_turn_by_constant" editable="false" deletable="false" movable="true">\n                          <title name="DIR">turnRight</title>\n                          <title name="VALUE">120</title>\n                        </block>\n                      </next>\n                    </block>\n                  </statement>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </next>\n    </block>\n  '):3==level?buf.push('    <block type="draw_colour" inline="true" x="70" y="70" editable="false" deletable="false">\n      <value name="COLOUR">\n        <block type="colour_random" editable="false" deletable="false"></block>\n      </value>\n      <next>\n        <block type="controls_repeat" editable="false" deletable="false">\n          <title name="TIMES">3</title>\n          <statement name="DO">\n            <block type="draw_move_by_constant" editable="false" deletable="false">\n              <title name="DIR">moveForward</title>\n              <title name="VALUE">100</title>\n              <next>\n                <block type="draw_turn_by_constant" editable="false" deletable="false">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">120</title>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </next>\n    </block>\n  '):4==level?buf.push('    <block type="controls_repeat" x="70" y="70">\n      <title name="TIMES">???</title>\n      <statement name="DO">\n        <block type="draw_colour" inline="true" editable="false" deletable="false">\n          <value name="COLOUR">\n            <block type="colour_random" editable="false" deletable="false"></block>\n          </value>\n          <next>\n            <block type="controls_repeat" editable="false" deletable="false">\n              <title name="TIMES">3</title>\n              <statement name="DO">\n                <block type="draw_move_by_constant" editable="false" deletable="false">\n                  <title name="DIR">moveForward</title>\n                  <title name="VALUE">100</title>\n                  <next>\n                    <block type="draw_turn_by_constant" editable="false" deletable="false">\n                      <title name="DIR">turnRight</title>\n                      <title name="VALUE">120</title>\n                    </block>\n                  </next>\n                </block>\n              </statement>\n              <next>\n                <block type="draw_turn_by_constant" editable="false" deletable="false">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">36</title>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '):5==level?buf.push('    <block type="controls_repeat" x="70" y="70" editable="false" deletable="false">\n      <title name="TIMES">36</title>\n      <statement name="DO">\n        <block type="draw_colour" inline="true" editable="false" deletable="false">\n          <value name="COLOUR">\n            <block type="colour_random" editable="false" deletable="false"></block>\n          </value>\n          <next>\n            <block type="controls_repeat" editable="false" deletable="false">\n              <title name="TIMES">3</title>\n              <statement name="DO">\n                <block type="draw_move_by_constant" editable="false" deletable="false">\n                  <title name="DIR">moveForward</title>\n                  <title name="VALUE">100</title>\n                  <next>\n                    <block type="draw_turn_by_constant" editable="false" deletable="false">\n                      <title name="DIR">turnRight</title>\n                      <title name="VALUE">120</title>\n                    </block>\n                  </next>\n                </block>\n              </statement>\n              <next>\n                <block type="draw_turn_by_constant">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">???</title>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '):7==level?buf.push('    <block type="draw_colour" inline="true" x="70" y="70" editable="false" deletable="false">\n      <value name="COLOUR">\n        <block type="colour_random" editable="false" deletable="false"></block>\n      </value>\n      <next>\n        <block type="controls_repeat" editable="false" deletable="false">\n          <title name="TIMES">4</title>\n          <statement name="DO">\n            <block type="draw_move_by_constant" editable="false" deletable="false">\n              <title name="DIR">moveForward</title>\n              <title name="VALUE">20</title>\n              <next>\n                <block type="draw_turn_by_constant" editable="false" deletable="false">\n                  <title name="DIR">turnRight</title>\n                  <title name="VALUE">90</title>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </next>\n    </block>\n  '):8==level?buf.push('    <block type="controls_repeat" x="70" y="70" editable="false" deletable="false">\n      <title name="TIMES">10</title>\n      <statement name="DO">\n        <block type="draw_colour" inline="true" editable="false" deletable="false">\n          <value name="COLOUR">\n            <block type="colour_random" editable="false" deletable="false"></block>\n          </value>\n          <next>\n            <block type="controls_repeat" editable="false" deletable="false">\n              <title name="TIMES">4</title>\n              <statement name="DO">\n                <block type="draw_move_by_constant" editable="false" deletable="false">\n                  <title name="DIR">moveForward</title>\n                  <title name="VALUE">20</title>\n                  <next>\n                    <block type="draw_turn_by_constant" editable="false" deletable="false">\n                      <title name="DIR">turnRight</title>\n                      <title name="VALUE">90</title>\n                    </block>\n                  </next>\n                </block>\n              </statement>\n              <next>\n                <block type="draw_move_by_constant" editable="false" deletable="false">\n                  <title name="DIR">moveForward</title>\n                  <title name="VALUE">20</title>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '):9==level?buf.push('    <block type="controls_repeat" x="70" y="70" editable="false" deletable="false">\n      <title name="TIMES">4</title>\n      <statement name="DO">\n        <block type="controls_repeat" editable="false" deletable="false">\n          <title name="TIMES">10</title>\n          <statement name="DO">\n            <block type="draw_colour" inline="true" editable="false" deletable="false">\n              <value name="COLOUR">\n                <block type="colour_random" editable="false" deletable="false"></block>\n              </value>\n              <next>\n                <block type="controls_repeat" editable="false" deletable="false">\n                  <title name="TIMES">4</title>\n                  <statement name="DO">\n                    <block type="draw_move_by_constant" editable="false" deletable="false">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                      <next>\n                        <block type="draw_turn_by_constant" editable="false" deletable="false">\n                          <title name="DIR">turnRight</title>\n                          <title name="VALUE">90</title>\n                        </block>\n                      </next>\n                    </block>\n                  </statement>\n                  <next>\n                    <block type="draw_move_by_constant" editable="false" deletable="false">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </statement>\n          <next>\n            <block type="draw_turn_by_constant">\n              <title name="DIR">turnRight</title>\n              <title name="VALUE">???</title>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '):10==level?buf.push('    <block type="controls_repeat" x="70" y="70">\n      <title name="TIMES">???</title>\n      <statement name="DO">\n        <block type="controls_repeat" editable="false" deletable="false">\n          <title name="TIMES">10</title>\n          <statement name="DO">\n            <block type="draw_colour" inline="true" editable="false" deletable="false">\n              <value name="COLOUR">\n                <block type="colour_random" editable="false" deletable="false"></block>\n              </value>\n              <next>\n                <block type="controls_repeat" editable="false" deletable="false">\n                  <title name="TIMES">4</title>\n                  <statement name="DO">\n                    <block type="draw_move_by_constant" editable="false" deletable="false">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                      <next>\n                        <block type="draw_turn_by_constant" editable="false" deletable="false">\n                          <title name="DIR">turnRight</title>\n                          <title name="VALUE">90</title>\n                        </block>\n                      </next>\n                    </block>\n                  </statement>\n                  <next>\n                    <block type="draw_move_by_constant" editable="false" deletable="false">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </statement>\n          <next>\n            <block type="draw_turn_by_constant" editable="false" deletable="false">\n              <title name="DIR">turnRight</title>\n              <title name="VALUE">80</title>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '):11==level&&buf.push('    <block type="controls_repeat" x="70" y="70">\n      <title name="TIMES">???</title>\n      <statement name="DO">\n        <block type="controls_repeat">\n          <title name="TIMES">10</title>\n          <statement name="DO">\n            <block type="draw_colour" inline="true">\n              <value name="COLOUR">\n                <block type="colour_random"></block>\n              </value>\n              <next>\n                <block type="controls_repeat">\n                  <title name="TIMES">4</title>\n                  <statement name="DO">\n                    <block type="draw_move_by_constant">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                      <next>\n                        <block type="draw_turn_by_constant">\n                          <title name="DIR">turnRight</title>\n                          <title name="VALUE">90</title>\n                        </block>\n                      </next>\n                    </block>\n                  </statement>\n                  <next>\n                    <block type="draw_move_by_constant">\n                      <title name="DIR">moveForward</title>\n                      <title name="VALUE">20</title>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </statement>\n          <next>\n            <block type="draw_turn_by_constant">\n              <title name="DIR">turnRight</title>\n              <title name="VALUE">???</title>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '),
buf.push("")):5==page&&(buf.push("  "),1==level?buf.push('    <block type="controls_for_counter" inline="true" x="70" y="70">\n      <value name="FROM">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <value name="TO">\n        <block type="math_number">\n          <title name="NUM">200</title>\n        </block>\n      </value>\n      <value name="BY">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <statement name="DO">\n        <block type="draw_colour" inline="true">\n          <value name="COLOUR">\n            <block type="colour_random"></block>\n          </value>\n          <next>\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get">\n                  <title name="VAR">',escape(a.loopVariable()),'</title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">90</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '):2==level?buf.push('    <block type="controls_for_counter" inline="true" x="70" y="70">\n      <value name="FROM">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <value name="TO">\n        <block type="math_number">\n          <title name="NUM">300</title>\n        </block>\n      </value>\n      <value name="BY">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <statement name="DO">\n        <block type="draw_colour" inline="true">\n          <value name="COLOUR">\n            <block type="colour_random"></block>\n          </value>\n          <next>\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get">\n                  <title name="VAR">',escape(a.loopVariable()),'</title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">121</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '):3==level?buf.push('    <block type="controls_for_counter" inline="true" x="70" y="70">\n      <value name="FROM">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <value name="TO">\n        <block type="math_number">\n          <title name="NUM">300</title>\n        </block>\n      </value>\n      <value name="BY">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <statement name="DO">\n        <block type="draw_colour" inline="true">\n          <value name="COLOUR">\n            <block type="colour_random"></block>\n          </value>\n          <next>\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get">\n                  <title name="VAR">',escape(a.loopVariable()),'</title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">134</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '):4==level?buf.push('    <block type="controls_repeat" x="70" y="20">\n      <title name="TIMES">10</title>\n      <statement name="DO">\n        <block type="draw_colour" inline="true">\n          <value name="COLOUR">\n            <block type="colour_random"></block>\n          </value>\n          <next>\n            <block type="procedures_callnoreturn" inline="false">\n              <mutation name="',escape(a.drawACircle()),'">\n                <arg name="',escape(a.step()),'"></arg>\n              </mutation>\n              <value name="ARG0">\n                <block type="math_number">\n                  <title name="NUM">6</title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">36</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n    <block type="procedures_defnoreturn" x="70" y="270">\n      <mutation>\n        <arg name="',escape(a.step()),'"></arg>\n      </mutation>\n      <title name="NAME">',escape(a.drawACircle()),'</title>\n      <statement name="STACK">\n        <block type="controls_repeat">\n          <title name="TIMES">60</title>\n          <statement name="DO">\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get">\n                  <title name="VAR">',escape(a.step()),'</title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">6</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </statement>\n    </block>\n  '):5==level?buf.push('    <block type="controls_for_counter" inline="true" x="70" y="20">\n      <value name="FROM">\n        <block type="math_number">\n          <title name="NUM">4</title>\n        </block>\n      </value>\n      <value name="TO">\n        <block type="math_number">\n          <title name="NUM">8</title>\n        </block>\n      </value>\n      <value name="BY">\n        <block type="math_number">\n          <title name="NUM">4</title>\n        </block>\n      </value>\n      <statement name="DO">\n        <block type="controls_repeat">\n          <title name="TIMES">10</title>\n          <statement name="DO">\n            <block type="draw_colour" inline="true">\n              <value name="COLOUR">\n                <block type="colour_random"></block>\n              </value>\n              <next>\n                <block type="procedures_callnoreturn" inline="false">\n                  <mutation name="',escape(a.drawACircle()),'">\n                    <arg name="',escape(a.step()),'"></arg>\n                  </mutation>\n                  <value name="ARG0">\n                    <block type="variables_get">\n                      <title name="VAR">',escape(a.loopVariable()),'</title>\n                    </block>\n                  </value>\n                  <next>\n                    <block type="draw_turn" inline="true">\n                      <title name="DIR">turnRight</title>\n                      <value name="VALUE">\n                        <block type="math_number">\n                          <title name="NUM">36</title>\n                        </block>\n                      </value>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </statement>\n    </block>\n    <block type="procedures_defnoreturn" x="70" y="320">\n      <mutation>\n        <arg name="',escape(a.step()),'"></arg>\n      </mutation>\n      <title name="NAME">',escape(a.drawACircle()),'</title>\n      <statement name="STACK">\n        <block type="controls_repeat">\n          <title name="TIMES">60</title>\n          <statement name="DO">\n            <block type="draw_move" inline="true">\n              <title name="DIR">moveForward</title>\n              <value name="VALUE">\n                <block type="variables_get">\n                  <title name="VAR">',escape(a.step()),'</title>\n                </block>\n              </value>\n              <next>\n                <block type="draw_turn" inline="true">\n                  <title name="DIR">turnRight</title>\n                  <value name="VALUE">\n                    <block type="math_number">\n                      <title name="NUM">6</title>\n                    </block>\n                  </value>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </statement>\n    </block>\n  '):6==level&&buf.push('    <block type="procedures_callnoreturn" inline="false" x="70" y="20">\n      <mutation name="',escape(a.drawATree()),'">\n        <arg name="',escape(a.depth()),'"></arg>\n        <arg name="',escape(a.branches()),'"></arg>\n      </mutation>\n      <value name="ARG0">\n        <block type="math_number">\n          <title name="NUM">9</title>\n        </block>\n      </value>\n      <value name="ARG1">\n        <block type="math_number">\n          <title name="NUM">2</title>\n        </block>\n      </value>\n    </block>\n    <block type="procedures_defnoreturn" x="70" y="190">\n      <mutation>\n        <arg name="',escape(a.depth()),'"></arg>\n        <arg name="',escape(a.branches()),'"></arg>\n      </mutation>\n      <title name="NAME">',escape(a.drawATree()),'</title>\n      <statement name="STACK">\n        <block type="controls_if" inline="false">\n          <value name="IF0">\n            <block type="logic_compare" inline="true">\n              <title name="OP">GT</title>\n              <value name="A">\n                <block type="variables_get">\n                  <title name="VAR">',escape(a.depth()),'</title>\n                </block>\n              </value>\n              <value name="B">\n                <block type="math_number">\n                  <title name="NUM">0</title>\n                </block>\n              </value>\n            </block>\n          </value>\n          <statement name="DO0">\n            <block type="draw_colour" inline="true">\n              <value name="COLOUR">\n                <block type="colour_random"></block>\n              </value>\n              <next>\n                <block type="draw_pen">\n                  <title name="PEN">penDown</title>\n                  <next>\n                    <block type="draw_move" inline="true">\n                      <title name="DIR">moveForward</title>\n                      <value name="VALUE">\n                        <block type="math_arithmetic" inline="true">\n                          <title name="OP">MULTIPLY</title>\n                          <value name="A">\n                            <block type="math_number">\n                              <title name="NUM">7</title>\n                            </block>\n                          </value>\n                          <value name="B">\n                            <block type="variables_get">\n                              <title name="VAR">',escape(a.depth()),'</title>\n                            </block>\n                          </value>\n                        </block>\n                      </value>\n                      <next>\n                        <block type="draw_turn" inline="true">\n                          <title name="DIR">turnLeft</title>\n                          <value name="VALUE">\n                            <block type="math_number">\n                              <title name="NUM">130</title>\n                            </block>\n                          </value>\n                          <next>\n                            <block type="controls_repeat_ext" inline="true">\n                              <value name="TIMES">\n                                <block type="variables_get">\n                                  <title name="VAR">',escape(a.branches()),'</title>\n                                </block>\n                              </value>\n                              <statement name="DO">\n                                <block type="draw_turn" inline="true">\n                                  <title name="DIR">turnRight</title>\n                                  <value name="VALUE">\n                                    <block type="math_arithmetic" inline="true">\n                                      <title name="OP">DIVIDE</title>\n                                      <value name="A">\n                                        <block type="math_number">\n                                          <title name="NUM">180</title>\n                                        </block>\n                                      </value>\n                                      <value name="B">\n                                        <block type="variables_get">\n                                          <title name="VAR">',escape(a.branches()),'</title>\n                                        </block>\n                                      </value>\n                                    </block>\n                                  </value>\n                                  <next>\n                                    <block type="procedures_callnoreturn" inline="false">\n                                      <mutation name="',escape(a.drawATree()),'">\n                                        <arg name="',escape(a.depth()),'"></arg>\n                                        <arg name="',escape(a.branches()),'"></arg>\n                                      </mutation>\n                                      <value name="ARG0">\n                                        <block type="math_arithmetic" inline="true">\n                                          <title name="OP">MINUS</title>\n                                          <value name="A">\n                                            <block type="variables_get">\n                                              <title name="VAR">',escape(a.depth()),'</title>\n                                            </block>\n                                          </value>\n                                          <value name="B">\n                                            <block type="math_number">\n                                              <title name="NUM">1</title>\n                                            </block>\n                                          </value>\n                                        </block>\n                                      </value>\n                                      <value name="ARG1">\n                                        <block type="variables_get">\n                                          <title name="VAR">',escape(a.branches()),'</title>\n                                        </block>\n                                      </value>\n                                    </block>\n                                  </next>\n                                </block>\n                              </statement>\n                              <next>\n                                <block type="draw_turn" inline="true">\n                                  <title name="DIR">turnLeft</title>\n                                  <value name="VALUE">\n                                    <block type="math_number">\n                                      <title name="NUM">50</title>\n                                    </block>\n                                  </value>\n                                  <next>\n                                    <block type="draw_pen">\n                                      <title name="PEN">penUp</title>\n                                      <next>\n                                        <block type="draw_move" inline="true">\n                                          <title name="DIR">moveBackward</title>\n                                          <value name="VALUE">\n                                            <block type="math_arithmetic" inline="true">\n                                              <title name="OP">MULTIPLY</title>\n                                              <value name="A">\n                                                <block type="math_number">\n                                                  <title name="NUM">7</title>\n                                                </block>\n                                              </value>\n                                              <value name="B">\n                                                <block type="variables_get">\n                                                  <title name="VAR">',escape(a.depth()),"</title>\n                                                </block>\n                                              </value>\n                                            </block>\n                                          </value>\n                                        </block>\n                                      </next>\n                                    </block>\n                                  </next>\n                                </block>\n                              </next>\n                            </block>\n                          </next>\n                        </block>\n                      </next>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </statement>\n    </block>\n  "),buf.push("")),buf.push("")}();return buf.join("")};return function(a){return t(a,require("ejs").filters)}}()},{"./locale":"/home/ubuntu/staging/apps/build/js/turtle/locale.js",ejs:"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/turtle/requiredBlocks.js":[function(a,b,c){"use strict";function d(a){return{test:"draw_a_square",type:"draw_a_square",values:{VALUE:f.makeMathNumber(a)}}}function e(a){return{test:"draw_a_snowman",type:"draw_a_snowman",values:{VALUE:f.makeMathNumber(a)}}}var f=a("../required_block_utils"),g={test:"moveForward",type:"draw_move_by_constant"},h={test:function(a){return"draw_move_by_constant"==a.type},type:"draw_move_by_constant"},i=function(a){return{test:"moveForward",type:"draw_move_by_constant",titles:{VALUE:a}}},j={test:"moveBackward",type:"draw_move_by_constant",titles:{DIR:"moveBackward"}},k=function(a){return{test:"turnRight(",type:"draw_turn_by_constant_restricted",titles:{VALUE:a}}},l=function(a){return{test:"turnLeft(",type:"draw_turn_by_constant_restricted",titles:{VALUE:a}}},m=function(a){return{test:function(b){return"draw_turn_by_constant"==b.type&&("???"===a||Blockly.JavaScript.valueToCode(b,"VALUE",Blockly.JavaScript.ORDER_NONE)==a)},type:"draw_turn_by_constant",titles:{VALUE:a}}},n=function(a){return{test:function(a){return"draw_turn"==a.type&&"turnRight"==a.getTitleValue("DIR")},type:"draw_turn",titles:{DIR:"turnRight"},values:{VALUE:f.makeMathNumber(a)}}},o=function(a){return{test:function(a){return"draw_turn"==a.type&&"turnLeft"==a.getTitleValue("DIR")},type:"draw_turn",titles:{DIR:"turnLeft"},values:{VALUE:f.makeMathNumber(a)}}},p=function(a){return{test:function(a){return"draw_move"==a.type},type:"draw_move",values:{VALUE:f.makeMathNumber(a)}}},q=function(a){return{test:function(a){return"draw_turn_by_constant_restricted"==a.type},type:"draw_turn_by_constant_restricted",titles:{VALUE:a}}},r=function(){return{test:function(a){return"draw_turn"==a.type},type:"draw_turn",values:{VALUE:f.makeMathNumber("???")}}},s={test:"penColour('#",type:"draw_colour",values:{COLOUR:'<block type="colour_picker"></block>'}},t={test:"penColour(colour_random",type:"draw_colour",values:{COLOUR:'<block type="colour_random"></block>'}},u=function(a,b){return{test:function(c){return"procedures_defnoreturn"==c.type&&c.getTitleValue("NAME")==a&&c.parameterNames_&&c.parameterNames_.length&&c.parameterNames_[0]==b},type:"procedures_defnoreturn",titles:{NAME:a},extra:'<mutation><arg name="'+b+'"></arg></mutation>'}};b.exports={makeMathNumber:f.makeMathNumber,simpleBlock:f.simpleBlock,repeat:f.repeat,drawASquare:d,drawASnowman:e,MOVE_FORWARD_INLINE:g,MOVE_FORWARD_OR_BACKWARD_INLINE:h,moveForwardInline:i,MOVE_BACKWARD_INLINE:j,turnLeftRestricted:l,turnRightRestricted:k,turnRightByConstant:m,turnRight:n,turnLeft:o,move:p,drawTurnRestricted:q,drawTurn:r,SET_COLOUR_PICKER:s,SET_COLOUR_RANDOM:t,defineWithArg:u}},{"../required_block_utils":"/home/ubuntu/staging/apps/build/js/required_block_utils.js"}],"/home/ubuntu/staging/apps/build/js/turtle/dropletConfig.js":[function(a,b,c){"use strict";b.exports.blocks=[{func:"moveForward",category:"Artist",params:["100"],idArgLast:!0},{func:"turnRight",category:"Artist",params:["90"],idArgLast:!0},{func:"penColour",category:"Artist",params:["'#ff0000'"],idArgLast:!0},{func:"penWidth",category:"Artist",params:["1"],idArgLast:!0}],b.exports.categories={Artist:{color:"red",blocks:[]}}},{}],"/home/ubuntu/staging/apps/build/js/turtle/controls.html.ejs":[function(require,module,exports){module.exports=function(){var t=function anonymous(locals,filters,escape){escape=escape||function(a){return String(a).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var buf=[];with(locals||{})!function(){buf.push('<div id="slider-cell">\n  <svg id="slider"\n       xmlns="http://www.w3.org/2000/svg"\n       xmlns:svg="http://www.w3.org/2000/svg"\n       xmlns:xlink="http://www.w3.org/1999/xlink"\n       version="1.1"\n       width="150"\n       height="50">\n      <!-- Slow icon. -->\n      <clipPath id="slowClipPath">\n        <rect width=26 height=12 x=5 y=14 />\n      </clipPath>\n      <image xlink:href="',escape(assetUrl(iconPath)),'" height=42 width=84 x=-21 y=-10\n          clip-path="url(#slowClipPath)" />\n      <!-- Fast icon. -->\n      <clipPath id="fastClipPath">\n        <rect width=26 height=16 x=120 y=10 />\n      </clipPath>\n      <image xlink:href="',escape(assetUrl(iconPath)),'" height=42 width=84 x=120 y=-11\n          clip-path="url(#fastClipPath)" />\n  </svg>\n  <img id="spinner" style="visibility: hidden;" src="',escape(assetUrl("media/turtle/loading.gif")),'" height=15 width=15>\n</div>\n')}();return buf.join("")};return function(a){return t(a,require("ejs").filters)}}()},{ejs:"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/turtle/customLevelBlocks.js":[function(a,b,c){"use strict";function d(a,b,c){var d=b("count");return c=c||"",[c+"// create_a_circle",c+"for (var "+d+" = 0; "+d+" < 36; "+c+d+"++) {",c+"  Turtle.moveForward("+a+");",c+"  Turtle.turnRight(10);",c+"}\n"].join("\n")}function e(a,b,c){a.Blocks.draw_a_square_custom={init:function(){this.setHSV(94,.84,.6),this.appendDummyInput().appendTitle(u.drawASquare()),this.appendValueInput("VALUE").setAlign(a.ALIGN_RIGHT).setCheck(Blockly.BlockValueType.NUMBER).appendTitle(u.lengthParameter()+":"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("")}},b.draw_a_square_custom=function(){var a=b.valueToCode(this,"VALUE",b.ORDER_ATOMIC),d=c("count");return["// draw_a_square","for (var "+d+" = 0; "+d+" < 4; "+d+"++) {","  Turtle.moveForward("+a+");","  Turtle.turnRight(90);","}\n"].join("\n")}}function f(a,b,c){a.Blocks.create_a_circle={init:function(){this.setHSV(94,.84,.6),this.appendDummyInput().appendTitle(u.createACircle()),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("")}},a.Blocks.create_a_circle_size={init:function(){this.setHSV(94,.84,.6),this.appendDummyInput().appendTitle(u.createACircle()),this.appendValueInput("VALUE").setAlign(a.ALIGN_RIGHT).setCheck(Blockly.BlockValueType.NUMBER).appendTitle(u.sizeParameter()+":"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("")}},b.create_a_circle=function(){return d(10,c)},b.create_a_circle_size=function(){var a=b.valueToCode(this,"VALUE",b.ORDER_ATOMIC);return d(a,c)}}function g(a,b,c){a.Blocks.create_a_snowflake_branch={init:function(){this.setHSV(94,.84,.6),this.appendDummyInput().appendTitle(u.createASnowflakeBranch()),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("")}},b.create_a_snowflake_branch=function(){var a=c("count"),b=c("count");return["// create_a_snowflake_branch","Turtle.jumpForward(90);","Turtle.turnLeft(45);","for (var "+a+" = 0; "+a+" < 3; "+a+"++) {","  for (var "+b+" = 0; "+b+" < 3; "+b+"++) {","    Turtle.moveForward(30);","    Turtle.moveBackward(30);","    Turtle.turnRight(45);","  }","  Turtle.turnLeft(90);","  Turtle.moveBackward(30);","  Turtle.turnLeft(45);","}","Turtle.turnRight(45);\n"].join("\n")}}function h(a,b,c){a.Blocks.draw_a_rhombus={init:function(){this.setHSV(94,.84,.6),this.appendDummyInput().appendTitle(u.drawARhombus()),this.appendValueInput("VALUE").setAlign(a.ALIGN_RIGHT).setCheck(Blockly.BlockValueType.NUMBER).appendTitle(u.lengthParameter()+":"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("")}},b.draw_a_rhombus=function(){var a=b.valueToCode(this,"VALUE",b.ORDER_ATOMIC),d=c("count");return["for (var "+d+" = 0; "+d+" < 2; "+d+"++) {","  Turtle.moveForward("+a+");","  Turtle.turnRight(60);","  Turtle.moveForward("+a+");","  Turtle.turnRight(120);","}\n"].join("\n")}}function i(a,b,c){a.Blocks.draw_a_triangle={init:function(){this.setHSV(94,.84,.6),this.appendDummyInput().appendTitle(u.drawATriangle()),this.appendValueInput("VALUE").setAlign(a.ALIGN_RIGHT).setCheck(Blockly.BlockValueType.NUMBER).appendTitle(u.lengthParameter()+":"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("")}},b.draw_a_triangle=function(){var a=b.valueToCode(this,"VALUE",b.ORDER_ATOMIC),d=c("count");return["// draw_a_triangle","for (var "+d+" = 0; "+d+" < 3; "+d+"++) {","  Turtle.moveForward("+a+");","  Turtle.turnLeft(120);","}\n"].join("\n")}}function j(a,b,c){a.Blocks.draw_a_hexagon={init:function(){this.setHSV(94,.84,.6),this.appendDummyInput().appendTitle(u.drawAHexagon()),this.appendValueInput("VALUE").setAlign(a.ALIGN_RIGHT).setCheck(Blockly.BlockValueType.NUMBER).appendTitle(u.lengthParameter()+":"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("")}},b.draw_a_hexagon=function(){var a=b.valueToCode(this,"VALUE",b.ORDER_ATOMIC),d=c("count");return["// draw_a_triangle","for (var "+d+" = 0; "+d+" < 6; "+d+"++) {","  Turtle.moveForward("+a+");","  Turtle.turnLeft(60);","}\n"].join("\n")}}function k(a,b,c){a.Blocks.draw_a_house={init:function(){this.setHSV(94,.84,.6),this.appendDummyInput().appendTitle(u.drawAHouse()),this.appendValueInput("VALUE").setAlign(a.ALIGN_RIGHT).setCheck(Blockly.BlockValueType.NUMBER).appendTitle(u.lengthParameter()+":"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("")}},b.draw_a_house=function(){var a=b.valueToCode(this,"VALUE",b.ORDER_ATOMIC),d=c("count");return["for (var "+d+" = 0; "+d+" < 4; "+d+"++) {","  Turtle.moveForward("+a+");","  Turtle.turnLeft(90);","}","Turtle.turnLeft(90);","Turtle.moveForward("+a+");","Turtle.turnRight(90);","for (var "+d+" = 0; "+d+" < 3; "+d+"++) {","  Turtle.moveForward("+a+");","  Turtle.turnLeft(120);","}","Turtle.turnRight(90);","Turtle.moveForward("+a+");","Turtle.turnLeft(90);\n"].join("\n")}}function l(a,b,c){a.Blocks.draw_a_flower={init:function(){this.setHSV(94,.84,.6),this.appendDummyInput().appendTitle(u.drawAFlower()),this.appendValueInput("VALUE").setAlign(a.ALIGN_RIGHT).setCheck(Blockly.BlockValueType.NUMBER).appendTitle(u.lengthParameter()+":"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("")}},b.draw_a_flower=function(){var a=b.valueToCode(this,"VALUE",b.ORDER_ATOMIC),d=c("count"),e=b.colour_random()[0];return['Turtle.penColour("#228b22");',"Turtle.moveForward("+a+");","Turtle.turnLeft(18);","for (var "+d+" = 0; "+d+" < 10; "+d+"++) {","  Turtle.penColour("+e+");","  Turtle.turnLeft(36);","  Turtle.moveForward("+a+" / 2);","  Turtle.moveBackward("+a+"/ 2);","}","Turtle.turnRight(198);","Turtle.jumpForward("+a+");","Turtle.turnRight(180);\n"].join("\n")}}function m(a,b,c){a.Blocks.draw_a_snowflake={init:function(){this.setHSV(94,.84,.6),this.appendDummyInput().appendTitle(u.drawASnowflake()),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("")}},b.draw_a_snowflake=function(){var a=c("count");b.colour_random()[0];return["for (var "+a+" = 0; "+a+" < 8; "+a+"++) {",'  Turtle.penColour("#7fffd4");',"  Turtle.moveForward(30);","  Turtle.turnRight(90);","  Turtle.moveForward(15);","  Turtle.turnRight(90);",'  Turtle.penColour("#0000cd");',"  Turtle.moveForward(15);","  Turtle.turnRight(90);","  Turtle.moveForward(30);","  Turtle.turnRight(45);","}\n"].join("\n")}}function n(a,b,c){a.Blocks.draw_a_star={init:function(){this.setHSV(94,.84,.6),this.appendDummyInput().appendTitle(u.drawAStar()),this.appendValueInput("VALUE").setAlign(a.ALIGN_RIGHT).setCheck(Blockly.BlockValueType.NUMBER).appendTitle(u.lengthParameter()+":"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("")}},b.draw_a_star=function(){var a=b.valueToCode(this,"VALUE",b.ORDER_ATOMIC),d=c("count");return["Turtle.turnRight(18);","for (var "+d+" = 0; "+d+" < 5; "+d+"++) {","  Turtle.moveForward("+a+");","  Turtle.turnRight(144);","}","Turtle.turnLeft(18);\n"].join("\n")}}function o(a,b,c){a.Blocks.draw_a_robot={init:function(){this.setHSV(94,.84,.6),this.appendDummyInput().appendTitle(u.drawARobot()),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("")}},b.draw_a_robot=function(){var a=c("count");return["Turtle.turnLeft(90);","for (var "+a+" = 0; "+a+" < 4; "+a+"++) {","  Turtle.moveForward(20);","  Turtle.turnRight(90);","}","Turtle.turnRight(90);","Turtle.moveBackward(10);","Turtle.moveForward(40);","Turtle.turnRight(90);","Turtle.moveForward(80);","Turtle.turnRight(90);","Turtle.moveForward(40);","Turtle.turnRight(90);","Turtle.moveForward(80);","Turtle.moveBackward(15);","Turtle.turnLeft(120);","Turtle.moveForward(40);","Turtle.moveBackward(40);","Turtle.turnRight(30);","Turtle.moveBackward(40);","Turtle.turnRight(210);","Turtle.moveForward(40);","Turtle.moveBackward(40);","Turtle.turnRight(60);","Turtle.moveForward(115);","Turtle.moveBackward(50);","Turtle.turnRight(90);","Turtle.moveForward(40);","Turtle.turnLeft(90);","Turtle.moveForward(50);\n"].join("\n")}}function p(a,b,c){a.Blocks.draw_a_rocket={init:function(){this.setHSV(94,.84,.6),this.appendDummyInput().appendTitle(u.drawARocket()),this.appendValueInput("VALUE").setAlign(a.ALIGN_RIGHT).setCheck(Blockly.BlockValueType.NUMBER).appendTitle(u.lengthParameter()+":"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("")}},b.draw_a_rocket=function(){var a=b.valueToCode(this,"VALUE",b.ORDER_ATOMIC),d=c("count"),e=c("count");return['Turtle.penColour("#ff0000");',"for (var "+d+" = 0; "+d+" < 3; "+d+"++) {","  Turtle.moveForward(20);","  Turtle.turnLeft(120);","}",'Turtle.penColour("#000000");',"Turtle.turnLeft(90);","Turtle.jumpForward(20);","Turtle.moveForward("+a+");","Turtle.turnRight(90);","Turtle.moveForward(20);","Turtle.turnRight(90);","Turtle.moveForward("+a+");","Turtle.turnRight(90);","Turtle.moveForward(20);","Turtle.turnRight(90);","Turtle.moveForward("+a+");","Turtle.turnRight(90);","for (var "+e+" = 0; "+e+" < 3; "+e+"++) {","  Turtle.moveForward(20);","  Turtle.turnLeft(120);","}\n"].join("\n");
}}function q(a,b,c){a.Blocks.draw_a_planet={init:function(){this.setHSV(94,.84,.6),this.appendDummyInput().appendTitle(u.drawAPlanet()),this.appendValueInput("VALUE").setAlign(a.ALIGN_RIGHT).setCheck(Blockly.BlockValueType.NUMBER).appendTitle(u.lengthParameter()+":"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("")}},b.draw_a_planet=function(){var a=b.valueToCode(this,"VALUE",b.ORDER_ATOMIC),d=c("count");return['Turtle.penColour("#808080");',"for (var "+d+" = 0; "+d+" < 360; "+d+"++) {","  Turtle.moveForward("+a+");","  Turtle.moveBackward("+a+");","  Turtle.turnRight(1);","}\n"].join("\n")}}function r(a,b,c){a.Blocks.draw_upper_wave={init:function(){this.setHSV(94,.84,.6),this.appendDummyInput().appendTitle(u.drawUpperWave()),this.appendValueInput("VALUE").setAlign(a.ALIGN_RIGHT).setCheck(Blockly.BlockValueType.NUMBER).appendTitle(u.lengthParameter()+":"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("")}},b.draw_upper_wave=function(){var a=b.valueToCode(this,"VALUE",b.ORDER_ATOMIC),d=c("count");return['Turtle.penColour("#0000cd");',"for (var "+d+" = 0; "+d+" < 10; "+d+"++) {","  Turtle.moveForward("+a+");","  Turtle.turnRight(18);","}\n"].join("\n")}}function s(a,b,c){a.Blocks.draw_lower_wave={init:function(){this.setHSV(94,.84,.6),this.appendDummyInput().appendTitle(u.drawLowerWave()),this.appendValueInput("VALUE").setAlign(a.ALIGN_RIGHT).setCheck(Blockly.BlockValueType.NUMBER).appendTitle(u.lengthParameter()+":"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("")}},b.draw_lower_wave=function(){var a=b.valueToCode(this,"VALUE",b.ORDER_ATOMIC),d=c("count");return['Turtle.penColour("#0000cd");',"for (var "+d+" = 0; "+d+" < 10; "+d+"++) {","  Turtle.moveForward("+a+");","  Turtle.turnLeft(18);","}\n"].join("\n")}}function t(a,b,c){var d=[[u.createSnowflakeSquare(),"square"],[u.createSnowflakeParallelogram(),"parallelogram"],[u.createSnowflakeLine(),"line"],[u.createSnowflakeSpiral(),"spiral"],[u.createSnowflakeFlower(),"flower"],[u.createSnowflakeFractal(),"fractal"],[u.createSnowflakeRandom(),"random"]];a.Blocks.create_snowflake_dropdown={init:function(){this.setHSV(94,.84,.6),this.appendDummyInput().appendTitle(new a.FieldDropdown(d),"TYPE"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("")}},b.create_snowflake_dropdown=function(){var a=this.getTitleValue("TYPE");return"Turtle.drawSnowflake('"+a+"', 'block_id_"+this.id+"');"}}var u=a("./locale"),v=a("../utils");v.getLodash();c.install=function(a,b,c){e(a,b,c),f(a,b,c),g(a,b,c),i(a,b,c),k(a,b,c),l(a,b,c),m(a,b,c),j(a,b,c),n(a,b,c),o(a,b,c),p(a,b,c),q(a,b,c),h(a,b,c),r(a,b,c),s(a,b,c),t(a,b,c)}},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./locale":"/home/ubuntu/staging/apps/build/js/turtle/locale.js"}],"/home/ubuntu/staging/apps/build/js/turtle/locale.js":[function(a,b,c){"use strict";b.exports=window.blockly.turtle_locale},{}],"/home/ubuntu/staging/apps/build/js/turtle/colours.js":[function(a,b,c){"use strict";var d={BLACK:"#000000",GREY:"#808080",KHAKI:"#c3b091",WHITE:"#ffffff",RED:"#ff0000",PINK:"#ff77ff",ORANGE:"#ffa000",YELLOW:"#ffff00",GREEN:"#228b22",BLUE:"#0000cd",AQUAMARINE:"#7fffd4",PLUM:"#843179",FROZEN1:"#d0fdfd",FROZEN2:"#d0fdd0",FROZEN3:"#d0d0fd",FROZEN4:"#e0e0e0",FROZEN5:"#ffffff",FROZEN6:"#e8e8e8",FROZEN7:"#bbd1e4",FROZEN8:"#fdd0fd",FROZEN9:"#aea4ff"};b.exports=d},{}],"/home/ubuntu/staging/apps/build/js/turtle/answers.js":[function(a,b,c){"use strict";var d=a("./api"),e=new d,f=function(){var a=Math.floor(Math.random()*Math.pow(2,24));a&=10452895;var b="#"+("00000"+a.toString(16)).substr(-6);e.penColour(b)},g=function(a,b){for(var c=0;4>c;c++)b&&f(),e.moveForward(a),e.turnRight(90)},h=function(a,b){for(var c=0;3>c;c++)b&&f(),e.moveForward(a),e.turnRight(120)},i=function(a){e.turnLeft(90);for(var b=[.5*a,.3*a,.2*a],c=0;6>c;c++){for(var d=b[3>c?c:5-c]/57.5,f=0;180>f;f+=2)e.moveForward(d),e.turnRight(2);2!=c&&e.turnRight(180)}e.turnLeft(90)},j=function(a){g(a),e.moveForward(a),e.turnRight(30),h(a),e.turnRight(60),e.moveForward(a),e.turnLeft(90),e.moveBackward(a)};c.answer=function(a,b){e.log=[];var c,d,k;if(1==a)switch(b){case 1:e.moveForward(100),e.turnRight(90),e.moveForward(100);break;case 2:f(),g(100,!1);break;case 3:g(100,!1);break;case 4:h(100,!0);break;case 5:g(100),h(100);break;case 6:h(100),e.turnRight(180),g(100);break;case 7:e.penColour("#00cc00"),e.turnRight(90),g(100),e.moveBackward(150),g(100);break;case 8:for(c=0;8>c;c++)f(),e.moveForward(100),e.moveBackward(100),e.turnRight(45);break;case 9:for(c=0;360>c;c++)e.moveForward(1),e.turnRight(1)}else if(2==a)switch(b){case 1:f(),g(100);break;case 2:e.penColour("#00ff00"),g(50);break;case 3:for(c=0;3>c;c++)f(),g(100),e.turnRight(120);break;case 4:for(c=0;36>c;c++)f(),g(100),e.turnRight(10);break;case 5:case 6:for(k=50;90>=k;k+=10)g(k);break;case 7:for(k=25;60>=k;k+=5)e.moveForward(k),e.turnRight(90);break;case 7.5:i(250),i(100);break;case 8:for(var l=0;3>l;l++)f(),i(150),e.turnRight(90),e.jumpForward(100),e.turnLeft(90);break;case 9:for(var m=110;m>=70;m-=10)f(),i(m),e.turnRight(90),e.jumpForward(60),e.turnLeft(90)}else if(3==a)switch(b){case 1:g(100);break;case 2:h(100);break;case 3:h(100),e.moveForward(100),g(100),e.moveForward(100),h(100);break;case 4:j(100);break;case 5:j(100);break;case 6:f(),h(100),e.moveForward(100),f(),h(200);break;case 7:j(150);break;case 8:j(100),j(150),j(100);break;case 9:for(c=50;150>=c;c+=50)f(),j(c)}else if(4==a)switch(b){case 1:h(100);break;case 2:for(c=0;2>c;c++)f(),h(100),e.turnRight(90);break;case 3:for(c=0;4>c;c++)f(),h(100),e.turnRight(90);break;case 4:for(c=0;10>c;c++)f(),h(100),e.turnRight(36);break;case 5:for(c=0;36>c;c++)f(),h(100),e.turnRight(10);break;case 6:g(20);break;case 7:for(c=0;10>c;c++)f(),g(20),e.moveForward(20);break;case 8:for(d=0;4>d;d++){for(c=0;10>c;c++)f(),g(20),e.moveForward(20);e.turnRight(90)}break;case 9:for(d=0;4>d;d++){for(c=0;10>c;c++)f(),g(20),e.moveForward(20);e.turnRight(80)}break;case 10:for(d=0;9>d;d++){for(c=0;10>c;c++)f(),g(20),e.moveForward(20);e.turnRight(80)}}return e.log}},{"./api":"/home/ubuntu/staging/apps/build/js/turtle/api.js"}],"/home/ubuntu/staging/apps/build/js/turtle/api.js":[function(a,b,c){"use strict";var d=a("../utils"),e=d.getLodash(),f=function(){this.log=[]};b.exports=f,f.prototype.drawCircle=function(a,b){for(var c=0;36>c;c++)this.moveForward(a,b),this.turnRight(10,b)},f.prototype.drawSnowflake=function(a,b){var c,d,f,g=function(){var a=Blockly.FieldColour.COLOURS;return a[Math.floor(Math.random()*a.length)]};switch("random"===a&&(a=e.sample(["fractal","flower","spiral","line","parallelogram","square"])),a){case"fractal":for(c=0;8>c;c++){for(this.jumpForward(45,b),this.turnLeft(45,b),d=0;3>d;d++){for(f=0;3>f;f++)this.moveForward(15,b),this.moveBackward(15,b),this.turnRight(45,b);this.turnLeft(90,b),this.moveBackward(15,b),this.turnLeft(45,b)}this.turnRight(90,b)}break;case"flower":for(c=0;5>c;c++)this.drawCircle(2,b),this.drawCircle(4,b),this.turnRight(72,b);break;case"spiral":for(c=0;20>c;c++)this.drawCircle(3,b),this.moveForward(20,b),this.turnRight(18,b);break;case"line":for(c=0;90>c;c++)this.penColour(g()),this.moveForward(50,b),this.moveBackward(50,b),this.turnRight(4,b);this.penColour("#FFFFFF",b);break;case"parallelogram":for(c=0;10>c;c++){for(d=0;2>d;d++)this.moveForward(50,b),this.turnRight(60,b),this.moveForward(50,b),this.turnRight(120,b);this.turnRight(36,b)}break;case"square":for(c=0;10>c;c++){for(d=0;4>d;d++)this.moveForward(50,b),this.turnRight(90,b);this.turnRight(36,b)}}},f.prototype.moveForward=function(a,b){this.log.push(["FD",a,b])},f.prototype.moveBackward=function(a,b){this.log.push(["FD",-a,b])},f.prototype.moveUp=function(a,b){this.log.push(["MV",a,0,b])},f.prototype.moveDown=function(a,b){this.log.push(["MV",a,180,b])},f.prototype.moveLeft=function(a,b){this.log.push(["MV",a,270,b])},f.prototype.moveRight=function(a,b){this.log.push(["MV",a,90,b])},f.prototype.jumpUp=function(a,b){this.log.push(["JD",a,0,b])},f.prototype.jumpDown=function(a,b){this.log.push(["JD",a,180,b])},f.prototype.jumpLeft=function(a,b){this.log.push(["JD",a,270,b])},f.prototype.jumpRight=function(a,b){this.log.push(["JD",a,90,b])},f.prototype.jumpForward=function(a,b){this.log.push(["JF",a,b])},f.prototype.jumpBackward=function(a,b){this.log.push(["JF",-a,b])},f.prototype.turnRight=function(a,b){this.log.push(["RT",a,b])},f.prototype.turnLeft=function(a,b){this.log.push(["RT",-a,b])},f.prototype.globalAlpha=function(a,b){this.log.push(["GA",a,b])},f.prototype.penUp=function(a){this.log.push(["PU",a])},f.prototype.penDown=function(a){this.log.push(["PD",a])},f.prototype.penWidth=function(a,b){this.log.push(["PW",Math.max(a,0),b])},f.prototype.penColour=function(a,b){this.log.push(["PC",a,b])},f.prototype.penPattern=function(a,b){this.log.push(["PS",a,b])},f.prototype.hideTurtle=function(a){this.log.push(["HT",a])},f.prototype.showTurtle=function(a){this.log.push(["ST",a])},f.prototype.drawStamp=function(a,b){this.log.push(["stamp",a,b])}},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js"}]},{},["/home/ubuntu/staging/apps/build/js/turtle/main.js"]);