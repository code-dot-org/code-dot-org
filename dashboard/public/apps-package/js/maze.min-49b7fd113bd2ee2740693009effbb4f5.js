require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({166:[function(a){(function(b){var c=a("../appMain");window.Maze=a("./maze"),"undefined"!=typeof b&&(b.Maze=window.Maze);var d=a("./blocks"),e=a("./levels"),f=a("./skins");window.mazeMain=function(a){a.skinsModule=f,a.blocksModule=d,c(window.Maze,e,a)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../appMain":9,"./blocks":156,"./levels":164,"./maze":167,"./skins":171}],171:[function(a,b,c){function d(a,b){var c=b.match(/^(.*)\.mp3$/)[1];return[a.assetUrl(b),a.assetUrl(c+".ogg")]}var e=a("../skins"),f=a("../utils"),g=f.getLodash(),h={letters:{nonDisappearingPegmanHittingObstacle:!0,pegmanHeight:50,pegmanWidth:50,danceOnLoad:!1,goal:"",idlePegmanAnimation:"idle_avatar.gif",movePegmanAnimation:"move_avatar.png",movePegmanAnimationSpeedScale:1.5,movePegmanAnimationFrameNumber:9,hideInstructions:!0},bee:{obstacleAnimation:"",obstacleIdle:"obstacle.png",redFlower:"redFlower.png",purpleFlower:"purpleFlower.png",honey:"honey.png",cloud:"cloud.png",cloudAnimation:"cloud_hide.gif",beeSound:!0,nectarSound:"getNectar.mp3",honeySound:"makeHoney.mp3",look:"#000",nonDisappearingPegmanHittingObstacle:!0,idlePegmanAnimation:"idle_avatar.gif",wallPegmanAnimation:"wall_avatar.png",movePegmanAnimation:"move_avatar.png",hittingWallAnimation:"wall.gif",movePegmanAnimationSpeedScale:1.5,movePegmanAnimationFrameNumber:9,pegmanYOffset:0,tileSheetWidth:5,pegmanHeight:50,pegmanWidth:50},farmer:{obstacleIdle:"obstacle.png",dirt:"dirt.png",fillSound:"fill.mp3",digSound:"dig.mp3",look:"#000",transparentTileEnding:!0,nonDisappearingPegmanHittingObstacle:!0,background:"background"+g.sample([0,1,2,3])+".png",dirtSound:!0,pegmanYOffset:-8,danceOnLoad:!0},pvz:{goalIdle:"goalIdle.gif",obstacleIdle:"obstacleIdle.gif",goalAnimation:"goal.gif",maze_forever:"maze_forever.png",obstacleScale:1.4,pegmanYOffset:-8,danceOnLoad:!0},birds:{goalIdle:"goalIdle.gif",obstacleIdle:"obstacle.png",goalAnimation:"goal.gif",maze_forever:"maze_forever.png",largerObstacleAnimationTiles:"tiles-broken.png",obstacleScale:1.2,additionalSound:!0,idlePegmanAnimation:"idle_avatar.gif",wallPegmanAnimation:"wall_avatar.png",movePegmanAnimation:"move_avatar.png",movePegmanAnimationSpeedScale:1.5,movePegmanAnimationFrameNumber:9,hittingWallAnimation:"wall.gif",approachingGoalAnimation:"close_goal.png",pegmanHeight:68,pegmanWidth:51,pegmanYOffset:-14,turnAfterVictory:!0},scrat:{goalIdle:"goal.png",obstacleIdle:"obstacle.png",goalAnimation:"goal.png",maze_forever:"maze_forever.png",largerObstacleAnimationTiles:"tiles-broken.png",obstacleScale:1.2,additionalSound:!0,idlePegmanAnimation:"idle_avatar_sheet.png",idlePegmanAnimationSpeedScale:1.5,idlePegmanCol:4,idlePegmanRow:11,hittingWallAnimation:"wall_avatar_sheet.png",hittingWallAnimationFrameNumber:20,hittingWallAnimationSpeedScale:1.5,hittingWallPegmanCol:1,hittingWallPegmanRow:20,celebrateAnimation:"jump_acorn_sheet.png",celebratePegmanCol:1,celebratePegmanRow:9,movePegmanAnimation:"move_avatar.png",movePegmanAnimationSpeedScale:1.5,movePegmanAnimationFrameNumber:9,approachingGoalAnimation:"close_goal.png",pegmanHeight:107,pegmanWidth:80,pegmanXOffset:-12,pegmanYOffset:-30,turnAfterVictory:!0}};h.bee_night=h.bee,h.farmer_night=h.farmer,c.load=function(a,b){var c=e.load(a,b),f=h[c.id];c.obstacleScale=1,c.obstacleAnimation=c.assetUrl("obstacle.gif"),c.movePegmanAnimationSpeedScale=1,c.look="#FFF",c.background=c.assetUrl("background.png"),c.pegmanHeight=52,c.pegmanWidth=49,c.pegmanYOffset=0,c.turnAfterVictory=!1,c.danceOnLoad=!1,c.obstacleSound=d(c,"obstacle.mp3"),c.wallSound=d(c,"wall.mp3"),c.winGoalSound=d(c,"win_goal.mp3"),c.wall0Sound=d(c,"wall0.mp3"),c.wall1Sound=d(c,"wall1.mp3"),c.wall2Sound=d(c,"wall2.mp3"),c.wall3Sound=d(c,"wall3.mp3"),c.wall4Sound=d(c,"wall4.mp3");var g=/\.\S{3}$/,i=/^(.*)\.mp3$/;for(var j in f){var k=f[j];i.test(k)?k=d(c,k):g.test(k)&&(k=c.assetUrl(k)),c[j]=k}return c}},{"../skins":268,"../utils":318}],167:[function(a,b){"use strict";function c(){var a,b,c,d=document.getElementById("svgMaze"),e=document.createElementNS(S,"rect");e.setAttribute("width",T.MAZE_WIDTH),e.setAttribute("height",T.MAZE_HEIGHT),e.setAttribute("fill","#F1EEE7"),e.setAttribute("stroke-width",1),e.setAttribute("stroke","#CCB"),d.appendChild(e),d.setAttribute("width",T.MAZE_WIDTH),d.setAttribute("height",T.MAZE_HEIGHT);var g=document.getElementById("visualizationColumn");g.style.width=T.MAZE_WIDTH+"px",v.background&&(c=document.createElementNS(S,"image"),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v.background),c.setAttribute("height",T.MAZE_HEIGHT),c.setAttribute("width",T.MAZE_WIDTH),c.setAttribute("x",0),c.setAttribute("y",0),d.appendChild(c)),f(d);var h=document.createElementNS(S,"clipPath");h.setAttribute("id","pegmanClipPath");var i=document.createElementNS(S,"rect");i.setAttribute("id","clipRect"),i.setAttribute("width",T.PEGMAN_WIDTH),i.setAttribute("height",T.PEGMAN_HEIGHT),h.appendChild(i),d.appendChild(h);var j=document.createElementNS(S,"image");j.setAttribute("id","pegman"),j.setAttribute("class","pegman-location"),j.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v.avatar),j.setAttribute("height",T.PEGMAN_HEIGHT),j.setAttribute("width",21*T.PEGMAN_WIDTH),j.setAttribute("clip-path","url(#pegmanClipPath)"),d.appendChild(j);var k=document.createElementNS(S,"animate");if(k.setAttribute("id","pegmanFadeoutAnimation"),k.setAttribute("attributeType","CSS"),k.setAttribute("attributeName","opacity"),k.setAttribute("from",1),k.setAttribute("to",0),k.setAttribute("dur","1s"),k.setAttribute("begin","indefinite"),j.appendChild(k),T.finish_&&v.goalIdle){var l=document.createElementNS(S,"image");l.setAttribute("id","finish"),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v.goalIdle),l.setAttribute("height",T.MARKER_HEIGHT),l.setAttribute("width",T.MARKER_WIDTH),d.appendChild(l)}if(v.hittingWallAnimation){var m=document.createElementNS(S,"image");m.setAttribute("id","wallAnimation"),m.setAttribute("height",T.SQUARE_SIZE),m.setAttribute("width",T.SQUARE_SIZE),m.setAttribute("visibility","hidden"),d.appendChild(m)}var n=0;for(b=0;b<T.ROWS;b++)for(a=0;a<T.COLS;a++){if(T.map[b][a]==O.OBSTACLE){var o=document.createElementNS(S,"image");o.setAttribute("id","obstacle"+n),o.setAttribute("height",T.MARKER_HEIGHT*v.obstacleScale),o.setAttribute("width",T.MARKER_WIDTH*v.obstacleScale),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v.obstacleIdle),o.setAttribute("x",T.SQUARE_SIZE*(a+.5)-o.getAttribute("width")/2),o.setAttribute("y",T.SQUARE_SIZE*(b+.9)-o.getAttribute("height")),d.appendChild(o)}++n}if(v.idlePegmanAnimation&&(ab({idStr:"idle",pegmanImage:v.idlePegmanAnimation,row:T.start_.y,col:T.start_.x,direction:T.startDirection,numColPegman:v.idlePegmanCol,numRowPegman:v.idlePegmanRow}),v.idlePegmanCol>1||v.idlePegmanRow>1)){var p=v.idlePegmanRow,q=document.getElementById("idlePegman"),r=600,s=0;setInterval(function(){"visible"===q.getAttribute("visibility")&&(bb({idStr:"idle",row:T.start_.y,col:T.start_.x,direction:T.startDirection,animationRow:s}),s=(s+1)%p)},r)}v.celebrateAnimation&&ab({idStr:"celebrate",pegmanImage:v.celebrateAnimation,row:T.start_.y,col:T.start_.x,direction:N.NORTH,numColPegman:v.celebratePegmanCol,numRowPegman:v.celebratePegmanRow}),v.wallPegmanAnimation&&ab({idStr:"wall",pegmanImage:v.wallPegmanAnimation}),v.hittingWallAnimation&&v.hittingWallAnimationFrameNumber&&(ab({idStr:"wall",pegmanImage:v.hittingWallAnimation,numColPegman:v.hittingWallPegmanCol,numRowPegman:v.hittingWallPegmanRow}),document.getElementById("wallPegman").setAttribute("visibility","hidden")),v.movePegmanAnimation&&ab({idStr:"move",pegmanImage:v.movePegmanAnimation,numColPegman:4,numRowPegman:9})}function d(a,b){return void 0===T.map[b]||void 0===T.map[b][a]||T.map[b][a]===O.WALL}function e(a,b){return d(a,b)?"0":"1"}function f(a){if(T.wordSearch)return T.wordSearch.drawMapTiles(a);if(E.isScratSkin(v.id))return J.drawMapTiles(a);for(var b,c=0,d=0;d<T.ROWS;d++)for(var f=0;f<T.COLS;f++){b=e(f,d)+e(f,d-1)+e(f+1,d)+e(f,d+1)+e(f-1,d);var g="00000"!==b;if(!Z[b])if(E.isBeeSkin(v.id)){for(var h=["null3","null4","null0"],i="null1",j=g?2*h.length:6*h.length,k=0;j>k;k++)h.push(i);b=F.sample(h)}else{if(!g&&Math.random()>.3)T.wallMap[d][f]=0,b="null0";else{var l=Math.floor(1+4*Math.random());T.wallMap[d][f]=l,b="null"+l}("2_1"==u.id||"2_2"==u.id||"2_3"==u.id)&&(T.wallMap[d][f]=0,b="null0")}if(T.drawTile(a,Z[b],d,f,c),T.gridItemDrawer instanceof L&&(f+d)%2===0){var m=!/null/.test(b);T.gridItemDrawer.addCheckerboardTile(d,f,m)}c++}}function g(){if(T.initialDirtMap)for(var a=0;a<T.ROWS;a++)T.dirt_[a]=T.initialDirtMap[a].slice(0)}function h(a){for(var b=0;b<T.ROWS;b++)for(var c=0;c<T.COLS;c++)void 0!==V(T.dirt_,c,b)&&T.gridItemDrawer.updateItemImage(b,c,a)}function i(){var a=document.getElementById("stepButton");a.setAttribute("disabled",""),T.animating_?T.scheduleAnimations(!0):T.execute(!0)}function j(){for(var a=0,b=0;b<T.ROWS;b++)for(var c=0;c<T.COLS;c++){var d=document.getElementById("tileClipPath"+a);d.setAttribute("visibility","visible");var e=document.getElementById("tileElement"+a);e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v.tiles),e.setAttribute("opacity",1),a++}}function k(){var a=document.getElementById("runButton"),b=document.getElementById("resetButton");b.style.minWidth||(b.style.minWidth=a.offsetWidth+"px"),w.toggleRunReset("reset"),w.isUsingBlockly()&&Blockly.mainBlockSpace.traceOn(!0),w.reset(!1),w.attempts++}function l(){T.cachedBlockStates&&(T.cachedBlockStates.forEach(function(a){a.block.setMovable(a.movable),a.block.setDeletable(a.deletable),a.block.setEditable(a.editable)}),T.cachedBlockStates=[])}function m(a,b,c){switch(a.blockId&&w.highlight(String(a.blockId),b),a.command){case"north":n(N.NORTH,c);break;case"east":n(N.EAST,c);break;case"south":n(N.SOUTH,c);break;case"west":n(N.WEST,c);break;case"look_north":T.scheduleLook(N.NORTH);break;case"look_east":T.scheduleLook(N.EAST);break;case"look_south":T.scheduleLook(N.SOUTH);break;case"look_west":T.scheduleLook(N.WEST);break;case"fail_forward":T.scheduleFail(!0);break;case"fail_backward":T.scheduleFail(!1);break;case"left":var d=T.pegmanD+P.LEFT;T.scheduleTurn(d),T.pegmanD=x.constrainDirection4(d);break;case"right":d=T.pegmanD+P.RIGHT,T.scheduleTurn(d),T.pegmanD=x.constrainDirection4(d);break;case"finish":switch(T.testResults){case R.FREE_PLAY:case R.TOO_MANY_BLOCKS_FAIL:case R.ALL_PASS:r(!0,c);break;default:Y.setTimeout(function(){w.playAudio("failure")},U)}break;case"putdown":T.scheduleFill();break;case"pickup":T.scheduleDig();break;case"nectar":T.bee.animateGetNectar();break;case"honey":T.bee.animateMakeHoney()}}function n(a,b){var c=x.directionToDxDy(a),d=T.pegmanX+c.dx,e=T.pegmanY+c.dy;o(d,e,b),T.pegmanX=d,T.pegmanY=e}function o(a,b,c){var d,e,f=T.pegmanX,g=T.pegmanY,h=T.pegmanD,i=a-f,j=b-g;if(v.movePegmanAnimation){d=v.movePegmanAnimationFrameNumber;var k=document.getElementById("pegman"),l=document.getElementById("movePegman");e=c/d,T.scheduleSheetedMovement({x:f,y:g},{x:i,y:j},d,e,"move",h,!0),Y.setTimeout(function(){l.setAttribute("visibility","hidden"),k.setAttribute("visibility","visible"),T.displayPegman(a,b,x.directionToFrame(h)),T.wordSearch&&T.wordSearch.markTileVisited(b,a,!0)},e*d)}else d=4,e=c/d,C.range(1,d).forEach(function(a){Y.setTimeout(function(){T.displayPegman(f+i*a/d,g+j*a/d,x.directionToFrame(h))},e*a)});if(v.approachingGoalAnimation){var m=document.getElementById("finish");T.finish_&&Math.abs(a-T.finish_.x)<=1&&Math.abs(b-T.finish_.y)<=1?m.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v.approachingGoalAnimation):m.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v.goalIdle)}}function p(){for(var a=0,b=0;b<T.ROWS;b++)for(var c=0;c<T.COLS;c++){var d=document.getElementById("tileElement"+a),e=document.getElementById("tileAnimation"+a);d&&d.setAttribute("opacity",0),e&&e.beginElement&&e.beginElement(),a++}}function q(){var a=document.getElementById("pegmanFadeoutAnimation"),b=document.getElementById("pegman");b&&b.setAttribute("opacity",0),a&&a.beginElement&&a.beginElement()}function r(a,b){if(E.isScratSkin(v.id))return void J.scheduleDance(a,b,v);var c=x.directionToFrame(T.pegmanD);T.displayPegman(T.pegmanX,T.pegmanY,16);var d=document.getElementById("finish");a&&d&&(w.playAudio("winGoal"),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v.goalAnimation)),a&&w.playAudio("win");var e=b/5;Y.setTimeout(function(){T.displayPegman(T.pegmanX,T.pegmanY,18)},e),Y.setTimeout(function(){T.displayPegman(T.pegmanX,T.pegmanY,20)},2*e),Y.setTimeout(function(){T.displayPegman(T.pegmanX,T.pegmanY,18)},3*e),Y.setTimeout(function(){T.displayPegman(T.pegmanX,T.pegmanY,20)},4*e),Y.setTimeout(function(){(!a||v.turnAfterVictory)&&T.displayPegman(T.pegmanX,T.pegmanY,c),a&&v.transparentTileEnding&&p(),T.wordSearch&&q()},5*e)}function s(){return!T.finish_||T.pegmanX==T.finish_.x&&T.pegmanY==T.finish_.y}function t(){if(!T.dirt_)return!0;for(var a=0;a<T.ROWS;a++)for(var b=0;b<T.COLS;b++)if(0!==V(T.dirt_,b,a))return!1;return!0}var u,v,w=a("../StudioApp").singleton,x=(a("../locale"),a("./tiles")),y=a("../codegen"),z=a("./api"),A=a("../templates/page.html.ejs"),B=a("../dom"),C=a("../utils"),D=a("../dropletUtils"),E=a("./mazeUtils"),F=C.getLodash(),G=a("./dropletConfig"),H=a("./bee"),I=a("./wordsearch"),J=a("./scrat"),K=a("./dirtDrawer"),L=a("./beeItemDrawer"),M=a("./executionInfo"),N=x.Direction,O=x.SquareType,P=x.TurnDirection,Q=w.ResultType,R=w.TestResults,S="http://www.w3.org/2000/svg",T=b.exports,U=100;w.setCheckForEmptyBlocks(!0);var V=function(a,b,c){return a&&a[c]?a[c][b]:void 0};T.scale={snapRadius:1,stepSpeed:5};var W=function(){T.map=u.map,T.initialDirtMap=u.initialDirt,T.startDirection=u.startDirection,T.animating_=!1;for(var a in u.scale)T.scale[a]=u.scale[a];T.ROWS=T.map.length,T.COLS=T.map[0].length,X(),T.SQUARE_SIZE=50,T.PEGMAN_HEIGHT=v.pegmanHeight,T.PEGMAN_WIDTH=v.pegmanWidth,T.PEGMAN_X_OFFSET=v.pegmanXOffset||0,T.PEGMAN_Y_OFFSET=v.pegmanYOffset,T.MARKER_HEIGHT=43,T.MARKER_WIDTH=50,T.MAZE_WIDTH=T.SQUARE_SIZE*T.COLS,T.MAZE_HEIGHT=T.SQUARE_SIZE*T.ROWS,T.PATH_WIDTH=T.SQUARE_SIZE/3,T.initialDirtMap&&(T.dirt_=new Array(T.ROWS))},X=function(){T.wallMap=new Array(T.ROWS);for(var a=0;a<T.ROWS;a++)T.wallMap[a]=new Array(T.COLS)},Y=a("../timeoutList"),Z={10010:[4,0],10001:[3,3],11000:[0,1],10100:[0,2],11010:[4,1],10101:[3,2],10110:[0,0],10011:[2,0],11001:[4,2],11100:[2,3],11110:[1,1],10111:[1,0],11011:[2,1],11101:[1,2],11111:[2,2],null0:[4,3],null1:[3,0],null2:[3,1],null3:[0,3],null4:[1,3]};T.drawTile=function(a,b,c,d,e){var f=b[0],g=b[1],h=5*T.SQUARE_SIZE,i=4*T.SQUARE_SIZE,j=document.createElementNS(S,"clipPath");j.setAttribute("id","tileClipPath"+e);var k=document.createElementNS(S,"rect");k.setAttribute("width",T.SQUARE_SIZE),k.setAttribute("height",T.SQUARE_SIZE),k.setAttribute("x",d*T.SQUARE_SIZE),k.setAttribute("y",c*T.SQUARE_SIZE),j.appendChild(k),a.appendChild(j);var l=document.createElementNS(S,"image");l.setAttribute("id","tileElement"+e),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v.tiles),l.setAttribute("height",i),l.setAttribute("width",h),l.setAttribute("clip-path","url(#tileClipPath"+e+")"),l.setAttribute("x",(d-f)*T.SQUARE_SIZE),l.setAttribute("y",(c-g)*T.SQUARE_SIZE),a.appendChild(l);var m=document.createElementNS(S,"animate");m.setAttribute("id","tileAnimation"+e),m.setAttribute("attributeType","CSS"),m.setAttribute("attributeName","opacity"),m.setAttribute("from",1),m.setAttribute("to",0),m.setAttribute("dur","1s"),m.setAttribute("begin","indefinite"),l.appendChild(m)},T.init=function(b){w.runButtonClick=this.runButtonClick.bind(this),w.reset=this.reset.bind(this);var d=null;v=b.skin,u=b.level,b.grayOutUndeletableBlocks=!0,b.forceInsertTopBlock="when_run",b.dropletConfig=G,E.isBeeSkin(b.skinId)?(T.bee=new H(T,w,b),T.scale.stepSpeed=2):"letters"===b.skinId&&(T.wordSearch=new I(u.searchWord,u.map,T.drawTile),d=a("./extraControlRows.html.ejs")({assetUrl:w.assetUrl,searchWord:u.searchWord})),W(),T.cachedBlockStates=[],b.html=A({assetUrl:w.assetUrl,data:{localeDirection:w.localeDirection(),visualization:a("./visualization.html.ejs")(),controls:a("./controls.html.ejs")({assetUrl:w.assetUrl,showStepButton:u.step&&!u.edit_blocks}),extraControlRows:d,blockUsed:void 0,idealBlockNumber:void 0,editCode:u.editCode,blockCounterClass:"block-counter-default",readonlyWorkspace:b.readonlyWorkspace},hideRunButton:u.stepOnly&&!u.edit_blocks}),b.loadAudio=function(){w.loadAudio(v.winSound,"win"),w.loadAudio(v.startSound,"start"),w.loadAudio(v.failureSound,"failure"),w.loadAudio(v.obstacleSound,"obstacle"),w.loadAudio(v.wallSound,"wall"),v.additionalSound&&(w.loadAudio(v.wall0Sound,"wall0"),w.loadAudio(v.wall1Sound,"wall1"),w.loadAudio(v.wall2Sound,"wall2"),w.loadAudio(v.wall3Sound,"wall3"),w.loadAudio(v.wall4Sound,"wall4"),w.loadAudio(v.winGoalSound,"winGoal")),v.dirtSound&&(w.loadAudio(v.fillSound,"fill"),w.loadAudio(v.digSound,"dig")),v.beeSound&&(w.loadAudio(v.nectarSound,"nectar"),w.loadAudio(v.honeySound,"honey"))},b.afterInject=function(){w.isUsingBlockly()&&(Blockly.HSV_SATURATION=.6,Blockly.SNAP_RADIUS*=T.scale.snapRadius,Blockly.JavaScript.INFINITE_LOOP_TRAP=y.loopHighlight("Maze")),T.start_=void 0,T.finish_=void 0;for(var a=0;a<T.ROWS;a++)for(var d=0;d<T.COLS;d++){var e=T.map[a][d];e==O.START?T.start_={x:d,y:a}:e===O.FINISH?T.finish_={x:d,y:a}:e==O.STARTANDFINISH&&(T.start_={x:d,y:a},T.finish_={x:d,y:a})}g(),T.gridItemDrawer=E.isBeeSkin(b.skinId)?new L(T.dirt_,v,T.initialDirtMap,T.bee):new K(T.dirt_,v.dirt),c();var f=document.getElementById("stepButton");B.addClickTouchEvent(f,i);var h=document.getElementById("resetButton");B.addClickTouchEvent(h,T.resetButtonClick),v.hideInstructions&&(document.getElementById("bubble").style.display="none")},w.init(b)};var $=function(a){var b=T.SQUARE_SIZE*(a+.5)-T.PEGMAN_HEIGHT/2+T.PEGMAN_Y_OFFSET;return Math.floor(b)},_=function(a){return a=a||0,a*T.PEGMAN_HEIGHT},ab=function(a){var b=document.getElementById("svgMaze"),c=document.createElementNS(S,"clipPath");c.setAttribute("id",a.idStr+"PegmanClip");var d=document.createElementNS(S,"rect");d.setAttribute("id",a.idStr+"PegmanClipRect"),void 0!==a.col&&d.setAttribute("x",a.col*T.SQUARE_SIZE+1+T.PEGMAN_X_OFFSET),void 0!==a.row&&d.setAttribute("y",$(a.row)),d.setAttribute("width",T.PEGMAN_WIDTH),d.setAttribute("height",T.PEGMAN_HEIGHT),c.appendChild(d),b.appendChild(c);var e=a.pegmanImage+"?time="+(new Date).getTime(),f=document.createElementNS(S,"image");if(f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e),f.setAttribute("height",T.PEGMAN_HEIGHT*(a.numRowPegman||1)),f.setAttribute("width",T.PEGMAN_WIDTH*(a.numColPegman||4)),f.setAttribute("clip-path","url(#"+a.idStr+"PegmanClip)"),f.setAttribute("id",a.idStr+"Pegman"),b.appendChild(f),void 0!==a.col&&void 0!==a.direction){var g=T.SQUARE_SIZE*a.col-a.direction*T.PEGMAN_WIDTH+1+T.PEGMAN_X_OFFSET;f.setAttribute("x",g)}void 0!==a.row&&f.setAttribute("y",$(a.row))},bb=function(a){var b=document.getElementById(a.idStr+"PegmanClipRect");b.setAttribute("x",a.col*T.SQUARE_SIZE+1+T.PEGMAN_X_OFFSET),b.setAttribute("y",$(a.row));var c=document.getElementById(a.idStr+"Pegman"),d=T.SQUARE_SIZE*a.col-a.direction*T.PEGMAN_WIDTH+1+T.PEGMAN_X_OFFSET;c.setAttribute("x",d);var e=$(a.row)-_(a.animationRow);c.setAttribute("y",e),c.setAttribute("visibility","visible")};T.reset=function(a){T.bee&&T.bee.reset();var b;if(Y.clearTimeouts(),T.animating_=!1,T.pegmanX=T.start_.x,T.pegmanY=T.start_.y,T.pegmanD=T.startDirection,a){var c=750;v.danceOnLoad&&r(!1,c),Y.setTimeout(function(){U=100,T.scheduleTurn(T.startDirection)},c+150)}else T.displayPegman(T.pegmanX,T.pegmanY,x.directionToFrame(T.pegmanD));var d=(document.getElementById("svgMaze"),document.getElementById("finish"));d&&(d.setAttribute("x",T.SQUARE_SIZE*(T.finish_.x+.5)-d.getAttribute("width")/2),d.setAttribute("y",T.SQUARE_SIZE*(T.finish_.y+.9)-d.getAttribute("height")),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v.goalIdle),d.setAttribute("visibility","visible"));var e=document.getElementById("look");e.style.display="none",e.parentNode.appendChild(e);var f=e.getElementsByTagName("path");for(b=0;b<f.length;b++){var i=f[b];i.setAttribute("stroke",v.look)}var k=document.getElementById("pegman");if(k.setAttribute("opacity",1),v.idlePegmanAnimation){k.setAttribute("visibility","hidden");var l=document.getElementById("idlePegman");l.setAttribute("visibility","visible")}else k.setAttribute("visibility","visible");if(v.wallPegmanAnimation){var m=document.getElementById("wallPegman");m.setAttribute("visibility","hidden")}if(v.movePegmanAnimation){var n=document.getElementById("movePegman");n.setAttribute("visibility","hidden")}if(v.celebrateAnimation){var o=document.getElementById("celebratePegman");o.setAttribute("visibility","hidden")}g(),h(!1);var p,q,s=0;for(q=0;q<T.ROWS;q++)for(p=0;p<T.COLS;p++){var t=document.getElementById("obstacle"+s);t&&t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v.obstacleIdle),++s}T.wordSearch?T.wordSearch.resetTiles():j()},T.runButtonClick=function(){var a=document.getElementById("stepButton");a&&a.setAttribute("disabled",""),T.execute(!1)},T.resetButtonClick=function(){var a=document.getElementById("stepButton");a.removeAttribute("disabled"),l()};var cb=function(){if(!T.waitingForReport&&!T.animating_){var a={app:"maze",skin:v.id,feedbackType:T.testResults,response:T.response,level:u};if(T.testResults===R.APP_SPECIFIC_FAIL&&T.bee){var b=T.bee.getMessage(T.executionInfo.terminationValue());b&&(a.message=b)}w.displayFeedback(a)}};T.onReportComplete=function(a){T.response=a,T.waitingForReport=!1,cb()},T.execute=function(a){k(),T.executionInfo=new M({ticks:100}),T.result=Q.UNSET,T.testResults=R.NO_TESTS_RUN,T.waitingForReport=!1,T.animating_=!1,T.response=null;var b;w.isUsingBlockly()?b=Blockly.Generator.blockSpaceToCode("JavaScript"):(b=D.generateCodeAliases(G,"Maze"),b+=w.editor.getValue()),w.playAudio("start");try{var c=!u.edit_blocks;switch(c&&y.evalWith(b,{StudioApp:w,Maze:z,executionInfo:T.executionInfo}),T.onExecutionFinish(),T.executionInfo.terminationValue()){case null:T.executionInfo.queueAction("finish",null),T.result=Q.FAILURE,U=150;break;case 1/0:T.result=Q.TIMEOUT,U=0;break;case!0:T.result=Q.SUCCESS,U=100;break;case!1:T.result=Q.ERROR,U=150;break;default:T.result=Q.ERROR,T.bee&&(T.testResults=T.bee.getTestResults(T.executionInfo.terminationValue()))}}catch(d){return T.result=Q.ERROR,console.error("Unexpected exception: "+d+"\n"+d.stack),void(window.onerror&&window.onerror("UserCode:"+d.message,document.URL,0))}var e=T.result===Q.SUCCESS;T.testResults===R.NO_TESTS_RUN&&(T.testResults=w.getTestResults(e));var f;if(u.editCode)f=w.editor.getValue();else{var g=Blockly.Xml.blockSpaceToDom(Blockly.mainBlockSpace);f=Blockly.Xml.domToText(g)}if(T.waitingForReport=!0,w.report({app:"maze",level:u.id,result:T.result===Q.SUCCESS,testResult:T.testResults,program:encodeURIComponent(f),onComplete:T.onReportComplete}),w.reset(!1),h(!0),T.testResults===R.EXTRA_TOP_BLOCKS_FAIL)return T.result=Q.ERROR,void cb();if(T.animating_=!0,w.isUsingBlockly()&&(Blockly.mainBlockSpaceEditor.setEnableToolbox(!1),a)){if(0!==T.cachedBlockStates.length)throw new Error("Unexpected cachedBlockStates");Blockly.mainBlockSpace.getAllBlocks().forEach(function(a){T.cachedBlockStates.push({block:a,movable:a.isMovable(),deletable:a.isDeletable(),editable:a.isEditable()}),a.setMovable(!1),a.setDeletable(!1),a.setEditable(!1)})}if(v.idlePegmanAnimation){var i=document.getElementById("pegman"),j=document.getElementById("idlePegman");j.setAttribute("visibility","hidden"),i.setAttribute("visibility","visible")}var l=U*T.scale.stepSpeed*v.movePegmanAnimationSpeedScale;Y.setTimeout(function(){T.scheduleAnimations(a)},l)},T.scheduleAnimations=function(a){function b(d){return d>=f.length?void c():(m(f[d],a,e),void Y.setTimeout(function(){b(d+1)},e))}function c(){var b=T.executionInfo.stepsRemaining(),c=b?0:1e3;Y.setTimeout(function(){b?d.removeAttribute("disabled"):(T.animating_=!1,w.isUsingBlockly()&&Blockly.mainBlockSpaceEditor.setEnableToolbox(!0),a&&T.result!==Q.SUCCESS||(l(),w.clearHighlighting()),cb())},c)}var d=document.getElementById("stepButton");Y.clearTimeouts();var e=U*T.scale.stepSpeed*v.movePegmanAnimationSpeedScale,f=T.executionInfo.getActions(a);b(0)},T.scheduleSheetedMovement=function(a,b,c,d,e,f,g){var h=document.getElementById("pegman");C.range(0,c-1).forEach(function(i){Y.setTimeout(function(){g&&h.setAttribute("visibility","hidden"),bb({idStr:e,col:a.x+b.x*i/c,row:a.y+b.y*i/c,direction:f,animationRow:i})},d*i)})},T.scheduleTurn=function(a){var b=4,c=T.pegmanD,d=a-c;C.range(1,b).forEach(function(a){Y.setTimeout(function(){T.displayPegman(T.pegmanX,T.pegmanY,x.directionToFrame(c+d*a/b))},U*(a-1))})},T.updateSurroundingTiles=function(a,b,c){for(var d=[[a-1,b-1],[a-1,b],[a-1,b+1],[a,b-1],[a,b],[a,b+1],[a+1,b-1],[a+1,b],[a+1,b+1]],e=0;e<d.length;++e){var f=d[e][1]+T.COLS*d[e][0],g=document.getElementById("tileElement"+f);g&&g.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c)}},T.scheduleFail=function(a){var b=x.directionToDxDy(T.pegmanD),c=b.dx,d=b.dy;a||(c=-c,d=-d);var e=T.pegmanX+c,f=T.pegmanY+d,g=x.directionToFrame(T.pegmanD);T.displayPegman(T.pegmanX+c/4,T.pegmanY+d/4,g);var h=T.map[f]&&T.map[f][e];if(h===O.WALL||void 0===h){if(w.playAudio("wall"),void 0!==h&&w.playAudio("wall"+T.wallMap[f][e]),v.hittingWallAnimation){var i=document.getElementById("wallAnimation"),j=v.hittingWallAnimationFrameNumber||0;if(j>1){d>=0&&(d+=1);var k=100;T.scheduleSheetedMovement({x:T.pegmanX,y:T.pegmanY},{x:c,y:d},j,k,"wall",N.NORTH,!0),setTimeout(function(){document.getElementById("wallPegman").setAttribute("visibility","hidden")},j*k)}else Y.setTimeout(function(){i.setAttribute("x",T.SQUARE_SIZE*(T.pegmanX+.5+.5*c)-i.getAttribute("width")/2),i.setAttribute("y",T.SQUARE_SIZE*(T.pegmanY+1+.5*d)-i.getAttribute("height")),i.setAttribute("visibility","visible"),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v.hittingWallAnimation)},U/2)}Y.setTimeout(function(){T.displayPegman(T.pegmanX,T.pegmanY,g)},U),Y.setTimeout(function(){T.displayPegman(T.pegmanX+c/4,T.pegmanY+d/4,g),w.playAudio("failure")},2*U),Y.setTimeout(function(){T.displayPegman(T.pegmanX,T.pegmanY,g)},3*U),v.wallPegmanAnimation&&Y.setTimeout(function(){var a=document.getElementById("pegman");a.setAttribute("visibility","hidden"),bb({idStr:"wall",row:T.pegmanY,col:T.pegmanX,direction:T.pegmanD})},4*U)}else if(h==O.OBSTACLE){w.playAudio("obstacle");var l=e+T.COLS*f,m=document.getElementById("obstacle"+l);if(m.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v.obstacleAnimation),Y.setTimeout(function(){T.displayPegman(T.pegmanX+c/2,T.pegmanY+d/2,g)},U),v.largerObstacleAnimationTiles&&Y.setTimeout(function(){T.updateSurroundingTiles(f,e,v.largerObstacleAnimationTiles)},U),!v.nonDisappearingPegmanHittingObstacle){var n=(document.getElementById("svgMaze"),document.getElementById("pegman"));Y.setTimeout(function(){n.setAttribute("visibility","hidden")},2*U)}Y.setTimeout(function(){w.playAudio("failure")},U)}},T.displayPegman=function(a,b,c){var d=document.getElementById("pegman");d.setAttribute("x",a*T.SQUARE_SIZE-c*T.PEGMAN_WIDTH+1+T.PEGMAN_X_OFFSET),d.setAttribute("y",$(b));var e=document.getElementById("clipRect");e.setAttribute("x",a*T.SQUARE_SIZE+1+T.PEGMAN_X_OFFSET),e.setAttribute("y",d.getAttribute("y"))};var db=function(a){var b=T.pegmanX,c=T.pegmanY;T.dirt_[c][b]+=a.amount,T.gridItemDrawer.updateItemImage(c,b,!0),w.playAudio(a.sound)};T.scheduleFill=function(){db({amount:1,sound:"fill"})},T.scheduleDig=function(){db({amount:-1,sound:"dig"})},T.scheduleLook=function(a){var b=T.pegmanX,c=T.pegmanY;switch(a){case N.NORTH:b+=.5;break;case N.EAST:b+=1,c+=.5;break;case N.SOUTH:b+=.5,c+=1;break;case N.WEST:c+=.5}b*=T.SQUARE_SIZE,c*=T.SQUARE_SIZE,a=90*a-45;var d=document.getElementById("look");d.setAttribute("transform","translate("+b+", "+c+") rotate("+a+" 0 0) scale(.4)");var e=d.getElementsByTagName("path");d.style.display="inline";for(var f=0;f<e.length;f++){var g=e[f];T.scheduleLookStep(g,U*f)}},T.scheduleLookStep=function(a,b){Y.setTimeout(function(){a.style.display="inline",window.setTimeout(function(){a.style.display="none"},2*U)},b)},T.checkSuccess=function(){var a;return a=s()?T.bee?T.bee.finished():T.wordSearch?T.wordSearch.finished():t():!1,a&&(T.executionInfo.queueAction("finish",null),T.executionInfo.terminateWithValue(!0)),a},T.onExecutionFinish=function(){T.executionInfo.isTerminated()||T.checkSuccess(),T.bee&&T.bee.onExecutionFinish()}},{"../StudioApp":5,"../codegen":106,"../dom":108,"../dropletUtils":109,"../locale":150,"../templates/page.html.ejs":296,"../timeoutList":302,"../utils":318,"./api":152,"./bee":153,"./beeItemDrawer":155,"./controls.html.ejs":157,"./dirtDrawer":158,"./dropletConfig":159,"./executionInfo":160,"./extraControlRows.html.ejs":161,"./mazeUtils":168,"./scrat":170,"./tiles":173,"./visualization.html.ejs":178,"./wordsearch":179}],179:[function(a,b){function c(a){if("number"==typeof a)return l;if("string"==typeof a)return 2===a.length&&"_"===a[0]?a[1]:a[0];throw new Error("unexpected value for letterValue")}function d(a){var b;if(a){var c=a||[];c.unshift(k),b=f.without.apply(null,c)}else b=k;return f.sample(b)}var e=a("../utils"),f=e.getLodash(),g=a("./mazeUtils").cellId,h=a("./tiles").SquareType,i="http://www.w3.org/2000/svg",j=b.exports=function(a,b){this.goal_=a,this.visited_="",this.map_=b},k=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],l="-",m="_",n=50;j.prototype.drawMapTiles=function(a){for(var b,e,f=0;f<this.map_.length;f++)for(var g=0;g<this.map_[f].length;g++){var h=this.map_[f][g];h===m?(e=this.restrictedValues_(f,g),b=d(e)):b=c(h,!0),this.drawTile_(a,b,f,g)}},j.prototype.finished=function(){return this.visited_===this.goal_},j.prototype.isOpen_=function(a,b){var c=this.map_;return void 0!==c[a]&&void 0!==c[a][b]&&c[a][b]!==h.WALL},j.prototype.openNeighbors_=function(a,b){var c=[];return this.isOpen_(a+1,b)&&c.push([a+1,b]),this.isOpen_(a-1,b)&&c.push([a-1,b]),this.isOpen_(a,b+1)&&c.push([a,b+1]),this.isOpen_(a,b-1)&&c.push([a,b-1]),c},j.prototype.restrictedValues_=function(a,b){for(var d=this.map_,e=this.openNeighbors_(a,b),f=[],g=0;g<e.length;g++)for(var h=this.openNeighbors_(e[g][0],e[g][1]),i=0;i<h.length;i++){var j=h[i][0],k=h[i][1],l=c(d[j][k],!1);f.push(l,!1)}return f},j.prototype.drawTile_=function(a,b,c,d){var e=g("backgroundLetter",c,d),f=g("letter",c,d),h=document.createElementNS(i,"g"),j=document.createElementNS(i,"rect");j.setAttribute("id",e),j.setAttribute("width",n),j.setAttribute("height",n),j.setAttribute("x",d*n),j.setAttribute("y",c*n),j.setAttribute("stroke","#000000"),j.setAttribute("stroke-width",3),h.appendChild(j);var k=document.createElementNS(i,"text");k.setAttribute("id",f),k.setAttribute("class","search-letter"),k.setAttribute("width",n),k.setAttribute("height",n),k.setAttribute("x",(d+.5)*n),k.setAttribute("y",(c+.5)*n),k.setAttribute("font-size",32),k.setAttribute("text-anchor","middle"),k.setAttribute("font-family","Verdana"),k.textContent=b,h.appendChild(k),a.appendChild(h)},j.prototype.resetTiles=function(){for(var a=0;a<this.map_.length;a++)for(var b=0;b<this.map_[a].length;b++)this.updateTileHighlight_(a,b,!1);document.getElementById("currentWordContents").textContent="",this.visited_=""},j.prototype.updateTileHighlight_=function(a,b,c){var d=(a+b)%2===0?"#dae3f3":"#ffffff",e=c?"white":"black";c&&(d="#00b050");
var f=g("backgroundLetter",a,b),h=g("letter",a,b);document.getElementById(f).setAttribute("fill",d);var i=document.getElementById(h);if(i.setAttribute("fill",e),i.getBBox){var j=i.getBBox(),k=n-j.height,l=a*n+k/2,m=l-j.y;i.setAttribute("transform","translate(0, "+m+")")}},j.prototype.markTileVisited=function(a,b,c){var d=document.getElementById(g("letter",a,b)).textContent;this.visited_+=d,c&&(this.updateTileHighlight_(a,b,!0),document.getElementById("currentWordContents").textContent=this.visited_)},j.__testonly__={letterValue:c,randomLetter:d,START_CHAR:l,EMPTY_CHAR:m}},{"../utils":318,"./mazeUtils":168,"./tiles":173}],178:[function(require,module,exports){module.exports=function(){var t=function anonymous(locals,filters,escape){escape=escape||function(a){return String(a).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var buf=[];with(locals||{})!function(){buf.push('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svgMaze">\n  <g id="look">\n    <path d="M 0,-15 a 15 15 0 0 1 15 15" />\n    <path d="M 0,-35 a 35 35 0 0 1 35 35" />\n    <path d="M 0,-55 a 55 55 0 0 1 55 55" />\n  </g>\n</svg>\n<div id="capacityBubble">\n  <div id="capacity"></div>\n</div>\n')}();return buf.join("")};return function(a){return t(a,require("ejs").filters)}}()},{ejs:492}],170:[function(a,b){function c(a,b){return void 0===Maze.map[b]||void 0===Maze.map[b][a]||Maze.map[b][a]===e.WALL}function d(a,b){return void 0!==Maze.map[b]&&Maze.map[b][a]===e.WALL}var e=a("./tiles").SquareType,f=a("./tiles").Direction,g=a("../utils"),h=g.getLodash(),i={log:[0,0],lily1:[1,0],land1:[2,0],island_start:[0,1],island_topRight:[1,1],island_botLeft:[0,2],island_botRight:[1,2],water:[4,0],lily2:[2,1],lily3:[3,1],lily4:[2,2],lily5:[3,2],ice:[3,0],empty:[4,0]};b.exports.drawMapTiles=function(a){var b,e,f=[];for(b=0;b<Maze.ROWS;b++)for(e=0;e<Maze.COLS;e++)d(e,b)&&d(e+1,b)&&d(e,b+1)&&d(e+1,b+1)&&f.push({row:b,col:e});var g=h.sample(f),j={};g&&(j[g.row+0+"_"+(g.col+0)]="island_start",j[g.row+1+"_"+(g.col+0)]="island_botLeft",j[g.row+0+"_"+(g.col+1)]="island_topRight",j[g.row+1+"_"+(g.col+1)]="island_botRight");var k,l=0;for(b=0;b<Maze.ROWS;b++)for(e=0;e<Maze.COLS;e++){if(c(e,b)){var m=!(c(e,b-1)&&c(e+1,b)&&c(e,b+1)&&c(e-1,b));k="water",k=j[b+"_"+e],k||(k=h.sample(["empty","empty","empty","empty","empty","lily2","lily3","lily4","lily5","lily1","log","lily1","land1"])),m&&"land1"===k&&(k="empty")}else k="ice";Maze.drawTile(a,i[k],b,e,l),l++}},b.exports.scheduleDance=function(a,b,c){var d=document.getElementById("finish");d&&d.setAttribute("visibility","hidden");var e=c.celebratePegmanRow,g=b/e,h={x:Maze.pegmanX,y:Maze.pegmanY};Maze.scheduleSheetedMovement({x:h.x,y:h.y},{x:0,y:0},e,g,"celebrate",f.NORTH,!0)}},{"../utils":318,"./tiles":173}],164:[function(a,b){function c(a,c,d){var e=i.extend({},b.exports[a]);e.step=c,e.stepOnly=d,b.exports[a+"_step"]=e}var d=a("./tiles").Direction,e=a("./karelLevels"),f=a("./wordsearchLevels"),g=a("./requiredBlocks"),h=a("../block_utils"),i=a("../utils"),j=a("./locale"),k=function(b,c){return a("./toolboxes/maze.xml.ejs")({page:b,level:c})},l=function(b,c){return a("./startBlocks.xml.ejs")({page:b,level:c})};b.exports={"2_1":{toolbox:k(2,1),ideal:4,requiredBlocks:[[g.MOVE_FORWARD]],startDirection:d.EAST,map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,2,1,1,3,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],startBlocks:l(2,1)},k1_demo:{toolbox:h.createToolbox(h.blockOfType("maze_moveNorth")+h.blockOfType("maze_moveSouth")+h.blockOfType("maze_moveEast")+h.blockOfType("maze_moveWest")+h.blockOfType("controls_repeat_simplified")),ideal:4,requiredBlocks:[[g.MOVE_FORWARD]],startDirection:d.EAST,map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,2,1,1,3,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],startBlocks:l(2,1)},"2_2":{toolbox:k(2,2),ideal:3,requiredBlocks:[[g.MOVE_FORWARD]],startDirection:d.SOUTH,map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,2,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,3,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],startBlocks:l(2,2)},"2_2_5":{toolbox:k(2,3),ideal:5,requiredBlocks:[[g.MOVE_FORWARD],[g.TURN_RIGHT]],startDirection:d.EAST,map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,4,0,0,0],[0,0,2,1,1,0,0,0],[0,0,4,0,3,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],startBlocks:l(2,3)},"2_3":{toolbox:k(2,3),ideal:6,requiredBlocks:[[g.MOVE_FORWARD],[g.TURN_LEFT],[g.TURN_RIGHT]],startDirection:d.EAST,map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,4,1,3,0,0,0],[0,0,2,1,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],startBlocks:l(2,3)},"2_4":{toolbox:k(2,4),ideal:9,requiredBlocks:[[g.MOVE_FORWARD],[g.TURN_LEFT],[g.TURN_RIGHT]],startDirection:d.EAST,map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,2,4,0,3,0,0],[0,0,1,1,1,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},"2_5":{toolbox:k(2,5),ideal:3,requiredBlocks:[[g.MOVE_FORWARD],[g.FOR_LOOP]],startDirection:d.EAST,map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,2,1,1,1,1,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},"2_6":{toolbox:k(2,6),ideal:4,requiredBlocks:[[g.TURN_RIGHT],[g.MOVE_FORWARD],[g.FOR_LOOP]],startDirection:d.EAST,map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,2,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,3,0,0,0]]},"2_7":{toolbox:k(2,7),ideal:6,requiredBlocks:[[g.MOVE_FORWARD],[g.FOR_LOOP],[g.TURN_LEFT]],startDirection:d.EAST,map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,3,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,1,0],[0,0,0,0,0,0,1,0],[0,0,2,1,1,1,1,0],[0,0,0,0,0,0,0,0]]},"2_8":{toolbox:k(2,8),ideal:5,requiredBlocks:[[g.MOVE_FORWARD],[g.FOR_LOOP],[g.TURN_RIGHT]],startDirection:d.EAST,map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,2,1,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,3,1,1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],startBlocks:l(2,8),levelIncompleteError:j.repeatCarefullyError(),tooFewBlocksMsg:j.repeatCarefullyError()},"2_9":{toolbox:k(2,9),ideal:3,requiredBlocks:[[g.MOVE_FORWARD],[g.WHILE_LOOP]],startDirection:d.EAST,map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,2,1,1,1,1,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},"2_10":{toolbox:k(2,10),ideal:5,requiredBlocks:[[g.MOVE_FORWARD],[g.TURN_LEFT],[g.WHILE_LOOP]],startDirection:d.EAST,map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,3,1,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,2,1,1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},"2_11":{toolbox:k(2,11),ideal:6,scale:{stepSpeed:3},requiredBlocks:[[g.MOVE_FORWARD],[g.WHILE_LOOP],[g.TURN_LEFT],[g.TURN_RIGHT]],startDirection:d.EAST,map:[[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,3,1],[0,0,0,0,0,1,1,0],[0,0,0,0,1,1,0,0],[0,0,0,1,1,0,0,0],[0,0,1,1,0,0,0,0],[0,1,1,0,0,0,0,0],[2,1,0,0,0,0,0,0]]},"2_12":{toolbox:k(2,12),ideal:6,scale:{stepSpeed:3},requiredBlocks:[[g.MOVE_FORWARD],[g.WHILE_LOOP],[g.TURN_LEFT],[g.TURN_RIGHT]],startDirection:d.EAST,map:[[1,0,0,0,0,0,0,0],[1,2,4,0,0,0,0,0],[0,1,1,0,0,0,0,0],[0,0,1,1,0,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,0,1,1,0,0],[0,0,0,0,0,1,3,0],[0,0,0,0,0,0,1,1]]},"2_13":{toolbox:k(2,13),ideal:5,requiredBlocks:[[g.TURN_LEFT]],startDirection:d.EAST,map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,3,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,2,1,1,0,0],[0,0,0,0,0,4,0,0]],startBlocks:l(2,13)},"2_14":{toolbox:k(2,14),ideal:5,scale:{stepSpeed:2},requiredBlocks:[[g.MOVE_FORWARD],[g.TURN_RIGHT],[g.IS_PATH_RIGHT],[g.WHILE_LOOP]],startDirection:d.EAST,map:[[0,0,0,4,0,0,0,0],[0,0,0,1,0,1,0,0],[0,0,2,1,1,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,1,4],[0,0,0,0,0,1,0,0],[0,3,1,1,1,1,0,0],[0,0,0,0,0,0,0,0]],levelIncompleteError:j.ifInRepeatError(),showPreviousLevelButton:!0},"2_15":{toolbox:k(2,15),ideal:5,scale:{stepSpeed:2},requiredBlocks:[[g.MOVE_FORWARD],[g.TURN_LEFT],[g.IS_PATH_LEFT],[g.WHILE_LOOP]],startDirection:d.NORTH,map:[[0,0,0,4,0,0,0,0],[0,0,0,1,0,0,0,0],[0,1,1,1,1,1,0,0],[0,1,0,0,0,1,0,0],[0,1,0,3,0,1,0,0],[0,1,0,1,0,1,1,4],[0,1,1,1,0,2,0,0],[0,0,0,0,0,0,0,0]]},"2_16":{toolbox:k(2,16),ideal:5,scale:{stepSpeed:2},requiredBlocks:[[g.MOVE_FORWARD],[g.TURN_RIGHT],[g.IS_PATH_RIGHT],[g.WHILE_LOOP]],startDirection:d.SOUTH,map:[[0,0,0,4,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,1,1,1,2,0,0],[0,0,0,0,0,1,1,4],[0,1,1,3,0,1,0,4],[0,1,0,0,0,1,0,1],[0,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,0]]},"2_17":{toolbox:k(2,17),ideal:5,scale:{stepSpeed:2},requiredBlocks:[[g.MOVE_FORWARD],[g.IS_PATH_FORWARD],[g.TURN_LEFT],[g.WHILE_LOOP]],startDirection:d.EAST,map:[[0,0,0,0,0,0,0,0],[0,1,4,1,1,1,0,0],[0,0,1,0,0,0,0,0],[3,1,1,1,1,1,1,0],[0,1,0,1,0,0,1,0],[1,1,1,4,1,0,1,0],[0,1,0,1,0,2,1,0],[0,0,0,0,0,0,0,0]]},"2_18":{toolbox:k(2,18),ideal:5,scale:{stepSpeed:2},requiredBlocks:[[g.MOVE_FORWARD],[g.IS_PATH_FORWARD],[g.TURN_RIGHT],[g.WHILE_LOOP]],startDirection:d.EAST,map:[[0,0,4,0,4,0,4,0],[0,0,1,0,1,0,1,0],[0,2,1,1,1,1,1,0],[0,0,1,1,0,1,1,0],[0,0,0,0,0,0,1,0],[0,0,1,1,0,1,1,0],[0,1,3,1,1,1,1,0],[0,0,0,0,0,0,0,0]]},"2_19":{toolbox:k(2,19),ideal:7,scale:{stepSpeed:2},requiredBlocks:[[g.MOVE_FORWARD],[g.TURN_LEFT],[g.TURN_RIGHT]],startDirection:d.NORTH,map:[[1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,1],[1,0,1,1,1,1,1,1],[1,0,1,0,0,0,0,0],[1,0,1,0,1,1,1,1],[1,0,1,0,3,0,0,1],[1,0,1,0,0,0,0,1],[2,0,1,1,1,1,1,1]],startBlocks:l(2,19)},"3_1":{toolbox:k(3,1),ideal:3,editCode:!0,codeFunctions:{moveForward:null,turnLeft:null,turnRight:null},requiredBlocks:[[g.MOVE_FORWARD]],startDirection:d.EAST,map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,2,1,3,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},"3_2":{toolbox:k(3,2),ideal:4,editCode:!0,codeFunctions:{moveForward:null,turnLeft:null,turnRight:null},requiredBlocks:[[g.MOVE_FORWARD]],startDirection:d.SOUTH,map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,2,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,3,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},"3_3":{toolbox:k(3,3),ideal:6,editCode:!0,codeFunctions:{moveForward:null,turnLeft:null,turnRight:null},requiredBlocks:[[g.MOVE_FORWARD],[g.TURN_LEFT],[g.TURN_RIGHT]],startDirection:d.EAST,map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,4,1,3,0,0,0],[0,0,2,1,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},"3_4":{toolbox:k(3,4),ideal:8,editCode:!0,codeFunctions:{moveForward:null,turnLeft:null,turnRight:null},requiredBlocks:[[g.MOVE_FORWARD],[g.TURN_LEFT]],startDirection:d.EAST,map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,2,4,3,0,0,0],[0,0,1,1,1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},custom:{toolbox:k(3,4),requiredBlocks:[],startDirection:d.EAST,map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,2,4,3,0,0,0],[0,0,1,1,1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]}};for(var m in e)b.exports["karel_"+m]=e[m];for(var m in f)b.exports["wordsearch_"+m]=f[m];c("2_1",!0,!0),c("2_2",!0,!1),c("2_17",!0,!1),c("karel_1_9",!0,!1),c("karel_2_9",!0,!1)},{"../block_utils":77,"../utils":318,"./karelLevels":162,"./locale":165,"./requiredBlocks":169,"./startBlocks.xml.ejs":172,"./tiles":173,"./toolboxes/maze.xml.ejs":177,"./wordsearchLevels":180}],180:[function(a,b){var c=a("./tiles").Direction,d=a("./requiredBlocks"),e=a("../block_utils"),f=function(){return e.createToolbox(e.blockOfType("maze_moveNorth")+e.blockOfType("maze_moveSouth")+e.blockOfType("maze_moveEast")+e.blockOfType("maze_moveWest"))};b.exports={k_1:{isK1:!0,toolbox:f(),ideal:5,requiredBlocks:[[d.moveEast]],startDirection:c.EAST,searchWord:"EAST",step:!0,map:[["_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_"],["_","_",2,"E","A","S","T","_"],["_","_","_","_","_","_","_","_"],["_","K","E","L","L","Y","B","_"],["_","_","_","_","_","_","_","_"]],startBlocks:e.blockOfType("maze_moveEast")},k_2:{isK1:!0,toolbox:f(),ideal:6,requiredBlocks:[[d.moveSouth]],searchWord:"SOUTH",startDirection:c.SOUTH,step:!0,map:[["_","_","_","_","_","_","_","_"],["A","N","G","I","E","D","O","G"],["_","_","_",2,"_","_","_","_"],["_","_","_","S","_","_","_","_"],["_","_","_","O","_","_","_","_"],["_","_","_","U","_","_","_","_"],["_","_","_","T","_","_","_","_"],["_","_","_","H","_","_","_","_"]],startBlocks:e.blockOfType("maze_moveSouth")},k_3:{isK1:!0,toolbox:f(),ideal:5,requiredBlocks:[[d.moveWest]],searchWord:"WEST",startDirection:c.WEST,step:!0,map:[["_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_"],["L","E","V","E","N","S","O","N"],["_","_","_","_","_","_","_","_"],["_","_","T","S","E","W",2,"_"],["_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_"]],startBlocks:e.blockOfType("maze_moveWest")},k_4:{isK1:!0,toolbox:f(),ideal:6,requiredBlocks:[[d.moveNorth]],searchWord:"NORTH",startDirection:c.NORTH,step:!0,map:[["_","_","_","_","G","_","_","_"],["_","_","H","_","O","_","_","_"],["_","_","T","_","_4","_","_","_"],["_","_","R","_","I","_","_","_"],["_","_","O","_","T","_","_","_"],["_","_","N","_","J","_","_","_"],["_","_",2,"_","R","_","_","_"],["_","_","_","_","F","_","_","_"]]},k_6:{isK1:!0,toolbox:f(),ideal:5,requiredBlocks:[[d.moveEast],[d.moveSouth]],searchWord:"JUMP",startDirection:c.EAST,step:!0,map:[["_","_","_","_","_","_","_","_"],["S","_","_","_","_","_","_","_"],["A","_","_","_","_","_","_","_"],["Y","_",2,"J","U","M","_","_"],["E","_","_","_","_","P","_","_"],["E","_","_","_","_","_","_","_"],["D","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_"]]},k_9:{toolbox:f(),ideal:5,requiredBlocks:[[d.moveEast],[d.moveNorth]],searchWord:"CODE",startDirection:c.EAST,step:!0,map:[["_","_","_","_","_","_","M","_"],["_","_","_","_","_","_","A","_"],["_","_","_","_","_","_","R","_"],["_","_","_","D","E","_","K","_"],["_",2,"C","O","_","_","N","_"],["_","_","_","_","_","_","P","_"],["_","_","_","_","_","_","A","_"],["_","_","_","_","_","_","M","_"]]},k_13:{isK1:!0,toolbox:f(),ideal:6,requiredBlocks:[[d.moveEast],[d.moveSouth]],searchWord:"DEBUG",startDirection:c.EAST,step:!0,map:[["_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_"],["_",2,"D","E","_","_","_","_"],["_","_","_","B","_","_","_","_"],["_","_","_","U","G","_","_","_"],["_","_","_","_","_","_","_","_"],["_","_","_","H","E","N","R","Y"],["_","_","_","_","_","_","_","_"]]},k_15:{isK1:!0,toolbox:f(),ideal:6,requiredBlocks:[[d.moveSouth],[d.moveEast]],searchWord:"ABOVE",startDirection:c.SOUTH,step:!0,map:[["_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_"],["_","_",2,"_","_","_","_","_"],["_","_","A","_","_","_","_","_"],["_","_","B","O","_","_","_","_"],["_","_","_","V","E","_","_","_"],["_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_"]]},k_16:{isK1:!0,toolbox:f(),ideal:6,requiredBlocks:[[d.moveEast],[d.moveNorth]],searchWord:"BELOW",startDirection:c.EAST,step:!0,map:[["_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_"],["_","_","_","_","W","_","_","_"],["_","_","_","_","O","_","_","_"],["_","_","_","E","L","_","_","_"],["_","_",2,"B","_","_","_","_"],["_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_"]]},k_20:{isK1:!0,toolbox:f(),ideal:6,requiredBlocks:[[d.moveEast],[d.moveSouth]],searchWord:"STORY",startDirection:c.EAST,step:!0,map:[["_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_"],["_","_",2,"S","T","_","_","_"],["_","_","_","_","O","_","_","_"],["_","_","_","_","R","_","_","_"],["_","_","_","_","Y","_","_","_"],["_","_","_","_","_","_","_","_"],["_","_","_","_","_","_","_","_"]]}}},{"../block_utils":77,"./requiredBlocks":169,"./tiles":173}],177:[function(require,module,exports){module.exports=function(){var t=function anonymous(locals,filters,escape){escape=escape||function(a){return String(a).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var buf=[];with(locals||{})!function(){buf.push('<xml id="toolbox" style="display: none;">\n  <block type="maze_moveForward"></block>\n  <block type="maze_turn"><title name="DIR">turnLeft</title></block>\n  <block type="maze_turn"><title name="DIR">turnRight</title></block>\n  '),1==page?(buf.push("    "),level>2&&(buf.push('      <block type="maze_forever"></block>\n      '),5==level?buf.push('        <block type="maze_if"><title name="DIR">isPathLeft</title></block>\n      '):level>5&&level<9&&buf.push('        <block type="maze_if"></block>\n      '),buf.push("      "),level>8&&buf.push('       <block type="maze_ifElse"></block>\n      '),buf.push("    ")),buf.push("  ")):2==page&&(buf.push("    "),level>4&&level<9&&buf.push('      <block type="controls_repeat">\n        <title name="TIMES">5</title>\n      </block>\n    '),buf.push("    "),level>8&&(buf.push('      <block type="maze_forever"></block>\n      '),13==level||15==level?buf.push('        <block type="maze_if"><title name="DIR">isPathLeft</title></block>\n      '):(14==level||16==level)&&buf.push('        <block type="maze_if"><title name="DIR">isPathRight</title></block>\n      '),buf.push("      "),level>16&&buf.push('       <block type="maze_ifElse"></block>\n      '),buf.push("    ")),buf.push("  ")),buf.push("</xml>\n")}();return buf.join("")};return function(a){return t(a,require("ejs").filters)}}()},{ejs:492}],172:[function(require,module,exports){module.exports=function(){var t=function anonymous(locals,filters,escape){escape=escape||function(a){return String(a).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var buf=[];with(locals||{})!function(){buf.push(""),2==page&&(buf.push("  "),level<4?buf.push('    <block type="maze_moveForward" x="70" y="70"></block>\n  '):8==level?buf.push('    <block type="controls_repeat" x="70" y="70" editable="false"\n      deletable="false">\n      <title name="TIMES">3</title>\n    </block>\n  '):13==level?buf.push('    <block type="maze_forever" x="20" y="70" editable="false" deletable="false">\n      <statement name="DO">\n        <block type="maze_moveForward" editable="false" deletable="false">\n          <next>\n            <block type="maze_if" editable="false" deletable="false">\n              <title name="DIR">isPathLeft</title>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '):19==level&&buf.push('    <block type="maze_forever" x="20" y="70" editable="false" deletable="false">\n      <statement name="DO">\n        <block type="maze_ifElse" editable="false" deletable="false">\n          <title name="DIR">isPathForward</title>\n          <statement name="ELSE">\n            <block type="maze_ifElse" editable="false" deletable="false">\n              <title name="DIR">isPathRight</title>\n            </block>\n          </statement>\n        </block>\n      </statement>\n    </block>\n  '),buf.push("")),buf.push("")}();return buf.join("")};return function(a){return t(a,require("ejs").filters)}}()},{ejs:492}],169:[function(a,b){var c=a("../required_block_utils"),d={test:"moveForward",type:"maze_moveForward"},e={test:"turnLeft",type:"maze_turn",titles:{DIR:"turnLeft"}},f={test:"turnRight",type:"maze_turn",titles:{DIR:"turnRight"}},g={test:"while",type:"maze_forever"},h={test:"isPathLeft",type:"maze_if",titles:{DIR:"isPathLeft"}},i={test:"isPathRight",type:"maze_if",titles:{DIR:"isPathRight"}},j={test:"isPathForward",type:"maze_ifElse",titles:{DIR:"isPathForward"}},k={test:"for",type:"controls_repeat",titles:{TIMES:"???"}};b.exports={moveNorth:c.simpleBlock("maze_moveNorth"),moveSouth:c.simpleBlock("maze_moveSouth"),moveEast:c.simpleBlock("maze_moveEast"),moveWest:c.simpleBlock("maze_moveWest"),controls_repeat_simplified:c.repeatSimpleBlock("???"),MOVE_FORWARD:d,TURN_LEFT:e,TURN_RIGHT:f,WHILE_LOOP:g,IS_PATH_LEFT:h,IS_PATH_RIGHT:i,IS_PATH_FORWARD:j,FOR_LOOP:k}},{"../required_block_utils":266}],162:[function(a,b){var c=a("../level_base"),d=a("./tiles").Direction,e=a("./locale"),f=a("../block_utils"),g=function(b,c){var d;switch(b){case 1:d=a("./toolboxes/karel1.xml.ejs");break;case 2:d=a("./toolboxes/karel2.xml.ejs");break;case 3:d=a("./toolboxes/karel3.xml.ejs")}return d({level:c})},h=function(b,c){return a("./karelStartBlocks.xml.ejs")({page:b,level:c})},i={test:function(a){return"maze_moveForward"==a.type},type:"maze_moveForward"},j={test:"dig",type:"maze_dig"},k={test:"fill",type:"maze_fill"},l={test:function(a){return"controls_repeat"==a.type},type:"controls_repeat",titles:{TIMES:"???"}},m={test:function(a){return"controls_repeat_ext"==a.type},type:"controls_repeat_ext"},n={test:function(a){return"controls_for"==a.type},type:"controls_for"},o={test:function(a){return"variables_get"==a.type},type:"variables_get",titles:{VAR:"i"}},p={test:"turnLeft",type:"maze_turn",titles:{DIR:"turnLeft"}},q={test:"turnRight",type:"maze_turn",titles:{DIR:"turnRight"}},r={test:"while (Maze.isPathForward",type:"maze_untilBlocked"},s={test:"while (Maze.pilePresent",type:"maze_untilBlockedOrNotClear",titles:{DIR:"pilePresent"}},t={test:"while (Maze.holePresent",type:"maze_untilBlockedOrNotClear",titles:{DIR:"holePresent"}},u={test:"while (Maze.isPathForward",type:"maze_untilBlockedOrNotClear",titles:{DIR:"isPathForward"}},v={test:"if (Maze.pilePresent",type:"karel_if",titles:{DIR:"pilePresent"}},w={test:"if (Maze.holePresent",type:"karel_if",titles:{DIR:"holePresent"}},x={test:"} else {",type:"karel_ifElse"},y=function(a){return{test:function(b){return b.getTitleValue("NAME")==e.fillN({shovelfuls:a})},type:"procedures_callnoreturn",titles:{NAME:e.fillN({shovelfuls:a})}}},z=function(a){return{test:function(b){return b.getTitleValue("NAME")==e.removeN({shovelfuls:a})},type:"procedures_callnoreturn",titles:{NAME:e.removeN({shovelfuls:a})}}},A={test:function(a){return a.getTitleValue("NAME")==e.avoidCowAndRemove()},type:"procedures_callnoreturn",titles:{NAME:e.avoidCowAndRemove()}},B=({test:function(a){return a.getTitleValue("NAME")==e.removeAndAvoidTheCow()},type:"procedures_callnoreturn",titles:{NAME:e.removeAndAvoidTheCow()}},{test:function(a){return a.getTitleValue("NAME")==e.removeStack({shovelfuls:4})},type:"procedures_callnoreturn",titles:{NAME:e.removeStack({shovelfuls:4})}}),C={test:function(a){return a.getTitleValue("NAME")==e.fillStack({shovelfuls:2})},type:"procedures_callnoreturn",titles:{NAME:e.fillStack({shovelfuls:2})}};b.exports={"1_1":{toolbox:g(1,1),startBlocks:h(1,1),ideal:6,requiredBlocks:[[i],[j]],scale:{snapRadius:2},map:[[0,0,0,0,0,1,1,1],[0,1,1,0,0,1,1,1],[0,0,0,0,0,1,1,1],[0,0,0,0,0,0,0,0],[2,1,1,1,1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,1,1,0,0,0,0],[0,0,1,1,0,0,0,0]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},"1_2":{toolbox:g(1,2),startBlocks:h(1,2),ideal:4,requiredBlocks:[[i],[k]],map:[[0,0,0,0,0,0,1,1],[0,0,0,0,0,0,1,1],[0,0,0,0,0,0,0,0],[0,1,1,1,0,0,0,0],[0,1,2,1,0,0,0,0],[0,1,1,1,0,1,1,1],[0,0,0,0,0,1,1,1],[0,0,0,0,0,1,1,1]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,-2,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},"1_3":{toolbox:g(1,3),startBlocks:h(1,3),ideal:4,requiredBlocks:[[i],[j],[l]],map:[[1,1,1,0,0,0,0,0],[1,1,1,0,0,0,0,0],[1,1,1,0,1,1,1,0],[0,0,0,0,1,2,1,0],[0,0,0,0,1,1,1,0],[0,0,0,0,0,0,0,0],[1,1,0,0,0,0,0,0],[1,1,0,0,0,0,0,0]],startDirection:d.SOUTH,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,10,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},"1_4":{toolbox:g(1,4),ideal:5,requiredBlocks:[[i],[j],[p],[l]],map:[[0,0,0,0,0,0,1,1],[0,0,0,0,0,0,1,1],[0,0,0,0,0,0,1,1],[0,0,0,1,1,0,0,0],[0,0,0,2,1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[1,1,1,1,1,1,1,1]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},"1_5":{toolbox:g(1,5),startBlocks:h(1,5),ideal:6,requiredBlocks:[[i],[k],[l],[r]],scale:{stepSpeed:2},map:[[1,1,0,0,0,0,0,0],[1,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,1,1,0,0],[0,0,0,0,1,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[2,1,1,1,1,1,0,0]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,-5,-5,-5,-5,-5,0,0]]},"1_6":{toolbox:g(1,6),ideal:4,requiredBlocks:[[i],[j],[s,l,u]],scale:{stepSpeed:3},map:[[1,1,0,1,1,0,1,1],[1,1,0,2,1,0,1,1],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[1,1,0,1,1,0,1,1],[1,1,0,1,1,0,1,1]],startDirection:d.SOUTH,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,1,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},"1_7":{toolbox:g(1,7),startBlocks:h(1,7),ideal:5,requiredBlocks:[[q],[i],[k],[t]],scale:{stepSpeed:2},map:[[1,1,0,0,0,0,1,1],[1,1,1,0,0,0,0,1],[0,1,1,2,0,0,0,0],[0,0,1,1,1,0,0,0],[0,0,0,1,1,1,0,0],[0,0,0,0,1,1,1,0],[1,0,0,0,0,1,1,1],[1,1,0,0,0,0,1,1]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,-18,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},"1_8":{toolbox:g(1,8),ideal:4,requiredBlocks:[[i],[k],[u,l]],scale:{stepSpeed:3},map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[1,1,1,1,1,1,1,1],[2,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,-1],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},"1_9":{toolbox:g(1,9),ideal:10,requiredBlocks:[[i],[j],[u,l],[p]],scale:{stepSpeed:2.5},map:[[0,0,0,0,0,0,1,1],[0,0,0,0,0,0,1,1],[0,0,0,0,1,0,0,0],[0,1,1,0,1,0,0,0],[0,1,1,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[2,1,1,1,1,0,0,0]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,1,0,0,0],[0,1,1,1,1,0,0,0]]},"1_10":{toolbox:g(1,10),startBlocks:h(1,10),ideal:5,requiredBlocks:[[i],[j],[v],[r,l]],scale:{stepSpeed:2.5},map:[[1,1,0,0,0,0,1,1],[1,1,0,0,0,0,1,1],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[2,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,0],[1,1,0,0,0,0,1,1],[1,1,0,0,0,0,1,1]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,0,0,1,1,0,1],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},"1_11":{toolbox:g(1,11),startBlocks:h(1,11),ideal:7,requiredBlocks:[[i],[j],[k],[v],[w],[r,l]],scale:{stepSpeed:2.5},map:[[1,1,0,0,0,0,1,1],[1,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,0],[2,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,0],[1,0,0,0,0,0,0,1],[1,1,0,0,0,0,1,1],[1,1,1,0,0,1,1,1]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,-1,0,0,-1,1,1,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},"2_1":{toolbox:g(2,1),startBlocks:h(2,1),ideal:null,requiredBlocks:[[i],[j],[k],[p,q]],scale:{stepSpeed:3},map:[[0,0,0,0,0,0,1,1],[0,0,0,0,0,0,1,1],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[1,1,1,0,0,0,0,0],[1,1,1,0,0,0,0,0],[1,1,1,0,0,0,0,0],[2,1,1,0,0,0,0,0]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[1,0,1,0,0,0,0,0],[1,0,1,0,0,0,0,0],[1,-1,1,0,0,0,0,0],[1,-1,1,0,0,0,0,0]]},"2_2":{toolbox:g(2,2),startBlocks:h(2,2),ideal:6,requiredBlocks:[[i],[y(5)]],map:[[0,0,0,0,0,0,0,0],[0,1,1,1,1,1,1,0],[0,1,0,0,0,0,1,0],[0,1,0,2,1,0,1,0],[0,1,0,1,1,0,1,0],[0,1,0,0,0,0,1,0],[0,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,-5,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},"2_3":{toolbox:g(2,3),startBlocks:h(2,3),ideal:8,requiredBlocks:[[i],[y(5)],[r,l]],scale:{stepSpeed:2},map:[[0,1,1,1,1,1,1,0],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,1],[0,2,1,1,1,1,1,0]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,-5,-5,-5,-5,-5,0]]},"2_4":{toolbox:g(2,4),startBlocks:h(2,4),ideal:13,requiredBlocks:[[j],[l],[z(7)],[i],[p],[q]],scale:{stepSpeed:3},map:[[1,1,1,1,0,0,1,1],[1,1,1,0,0,1,1,1],[1,1,0,0,1,1,1,0],[1,0,0,1,1,1,0,0],[0,0,1,1,1,0,0,1],[0,1,2,1,0,0,1,1],[1,1,1,0,0,1,1,1],[1,1,0,0,1,1,1,1]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,7,0,0],[0,0,0,0,7,0,0,0],[0,0,0,7,0,0,0,0],[0,0,7,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},"2_5":{toolbox:g(2,5),startBlocks:h(2,5),ideal:8,requiredBlocks:[[j],[l],[z(6)],[i]],scale:{stepSpeed:3},map:[[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[1,2,1,1,1,1,1,1],[1,1,1,1,1,1,1,1],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,6,0,6,0,6,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},"2_6":{toolbox:g(2,6),startBlocks:h(2,6),ideal:11,requiredBlocks:[[z(8)],[y(8)],[i],[r,l]],scale:{stepSpeed:3},map:[[0,0,1,1,0,0,0,0],[0,0,1,1,0,0,0,0],[0,0,0,0,0,0,0,0],[2,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,0],[0,0,0,0,1,1,1,0],[0,0,0,0,1,1,1,0],[0,0,0,0,1,1,1,0]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[8,0,0,0,0,0,0,-8],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},"2_7":{toolbox:g(2,7),startBlocks:h(2,7),ideal:11,requiredBlocks:[[p],[i],[q],[j]],map:[[1,1,0,0,0,1,1,1],[1,1,0,0,0,0,1,1],[0,0,0,0,0,0,0,0],[0,0,1,1,1,0,0,0],[0,0,2,4,1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,1,1,0,0,0,0],[0,0,1,1,0,0,0,0]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},"2_8":{toolbox:g(2,8),startBlocks:h(2,8),ideal:13,requiredBlocks:[[l],[A]],scale:{stepSpeed:3},map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[1,1,1,1,1,1,1,1],[2,4,1,4,1,4,1,1],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,1,0,1,0,1,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},"2_9":{toolbox:g(2,9),startBlocks:h(2,9),ideal:14,requiredBlocks:[[B],[i],[r,l]],scale:{stepSpeed:3},map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1],[2,1,1,1,1,1,1,1]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[1,1,1,1,1,1,0,0],[1,1,1,1,1,1,0,0],[1,1,1,1,1,1,0,0],[1,1,1,1,1,1,0,0]]},"2_10":{toolbox:g(2,10),startBlocks:h(2,10),ideal:27,requiredBlocks:[[B],[i],[C],[v,x],[r,l]],scale:{stepSpeed:3},map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1],[1,1,1,1,1,1,1,1],[2,1,1,1,1,1,1,1]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[1,0,1,0,0,1,0,0],[1,0,1,0,0,1,0,0],[1,-1,1,-1,-1,1,-1,0],[1,-1,1,-1,-1,1,-1,0]]},debug_seq_1:{toolbox:g(3,1),startBlocks:h(3,1),ideal:8,requiredBlocks:[[i],[j],[k],[p],[q]],map:[[0,0,0,0,0,0,0,0],[0,0,0,0,1,1,0,0],[0,0,0,0,1,1,0,0],[0,0,0,0,0,0,0,0],[0,0,4,1,1,0,0,0],[0,0,2,1,4,0,0,0],[1,1,0,0,0,1,1,0],[1,1,0,0,0,0,0,0]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,-1,1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},debug_seq_2:{toolbox:g(3,2),startBlocks:h(3,2),ideal:7,requiredBlocks:[[i],[j],[p]],map:[[1,1,0,0,0,0,0,0],[1,1,0,0,0,0,0,0],[0,0,0,0,0,0,1,0],[0,0,2,1,1,0,1,0],[0,0,1,1,1,0,1,0],[0,0,1,1,1,0,0,0],[1,0,0,0,0,0,0,1],[1,1,0,0,0,0,0,1]],startDirection:d.SOUTH,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},debug_repeat:{toolbox:g(3,3),startBlocks:h(3,3),ideal:12,requiredBlocks:[[i],[j],[p],[q],[l]],scale:{stepSpeed:3},map:[[1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,1],[1,0,1,1,1,1,0,1],[1,0,1,2,1,1,0,1],[1,0,1,1,1,1,0,1],[1,0,1,1,1,1,0,1],[1,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1]],startDirection:d.SOUTH,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,5,0,0,0],[0,0,0,0,0,7,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},debug_while:{toolbox:g(3,4),startBlocks:h(3,4),ideal:5,requiredBlocks:[[i],[l],[k],[t]],scale:{stepSpeed:3},map:[[0,0,0,0,0,1,1,0],[0,0,1,0,0,1,1,0],[0,0,1,0,0,1,1,0],[0,0,0,0,0,0,0,0],[0,2,1,1,1,1,1,0],[0,0,0,0,0,0,0,0],[1,1,0,0,0,0,0,0],[1,1,0,0,0,0,0,0]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,-15,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},debug_if:{toolbox:g(3,5),startBlocks:h(3,5),ideal:8,requiredBlocks:[[i],[p],[q],[l],[j],[v]],scale:{stepSpeed:3},map:[[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,1],[0,0,0,0,0,1,1,0],[0,0,0,0,1,1,0,1],[0,0,0,1,1,0,1,1],[0,0,1,1,0,1,1,0],[0,1,1,0,1,1,0,1],[2,1,0,1,1,0,1,1]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,1,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},debug_if_else:{toolbox:g(3,6),startBlocks:h(3,6),ideal:10,requiredBlocks:[[i],[p],[q],[l],[j],[k],[x,w]],scale:{stepSpeed:3},map:[[0,0,0,0,1,1,0,1],[0,0,0,1,1,0,1,1],[0,0,1,1,0,1,1,0],[0,1,1,0,1,1,0,1],[1,1,0,1,1,0,1,1],[1,0,1,1,0,1,1,0],[0,1,1,0,1,1,0,0],[2,1,0,1,1,0,0,0]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,-1],[0,0,0,0,0,0,1,0],[0,0,0,0,0,1,0,0],[0,0,0,0,-1,0,0,0],[0,0,0,-1,0,0,0,0],[0,0,1,0,0,0,0,0],[0,-1,0,0,0,0,0,0]]},debug_function_1:{toolbox:g(3,7),startBlocks:h(3,7),ideal:8,requiredBlocks:[[i],[p],[l],[j]],scale:{stepSpeed:3},map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,1,1,1,1,0,0],[0,0,1,0,0,1,0,0],[0,0,1,0,0,1,0,0],[0,0,2,1,1,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,1,1,1,1,0,0],[0,0,1,0,0,1,0,0],[0,0,1,0,0,1,0,0],[0,0,1,1,1,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},debug_function_2:{toolbox:g(3,8),startBlocks:h(3,8),ideal:17,requiredBlocks:[[i],[p],[l],[j],[k],[c.call(e.fillSquare())],[c.call(e.removeSquare())]],scale:{stepSpeed:3},map:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[1,1,1,1,1,1,1,1],[1,0,1,0,0,1,0,1],[2,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[1,1,1,0,0,-1,-1,-1],[1,0,1,0,0,-1,0,-1],[1,1,1,0,0,-1,-1,-1],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},debug_function_3:{toolbox:g(3,9),startBlocks:h(3,9),ideal:12,requiredBlocks:[[i],[m],[j],[n],[c.callWithArg(e.removePile(),e.heightParameter())],[o]],scale:{stepSpeed:2},map:[[0,0,0,0,0,0,0,0],[0,1,1,0,0,0,0,0],[0,1,1,0,0,0,1,1],[0,0,0,0,0,0,1,1],[0,0,0,0,0,0,0,0],[1,2,1,1,1,1,1,1],[0,0,0,0,0,0,0,0],[0,0,0,0,1,1,0,0]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,2,3,4,5,6,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]},bee_1:{toolbox:f.createToolbox('      <block type="maze_moveForward"></block>      <block type="maze_turn"><title name="DIR">turnLeft</title></block>      <block type="maze_turn"><title name="DIR">turnRight</title></block>      <block type="maze_nectar"></block>      <block type="maze_honey"></block>      <block type="math_number"><title name="NUM">0</title></block>      <block type="bee_ifNectarAmount"></block>      <block type="bee_ifTotalNectar"></block>      <block type="bee_ifFlower"></block>      <block type="bee_whileNectarAmount"></block>'),startBlocks:h(1,1),requiredBlocks:[],scale:{snapRadius:2},honeyGoal:1,step:!0,map:[[0,0,0,0,0,1,1,1],[0,1,1,0,0,1,1,1],[0,0,0,0,0,1,1,1],[0,0,0,0,0,0,0,0],[2,"P",1,1,1,0,0,0],[0,0,0,0,0,0,0,0],[0,0,1,1,0,0,0,0],[0,0,1,1,0,0,0,0]],startDirection:d.EAST,initialDirt:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,3,-1,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]}}
},{"../block_utils":77,"../level_base":149,"./karelStartBlocks.xml.ejs":163,"./locale":165,"./tiles":173,"./toolboxes/karel1.xml.ejs":174,"./toolboxes/karel2.xml.ejs":175,"./toolboxes/karel3.xml.ejs":176}],176:[function(require,module,exports){module.exports=function(){var t=function anonymous(locals,filters,escape){escape=escape||function(a){return String(a).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var buf=[];with(locals||{})!function(){buf.push("");var a=require("../../locale"),b=function(){buf.push('  <category name="',escape(a.catProcedures()),'" custom="PROCEDURE"></category>\n  <category name="',escape(a.catLogic()),'">\n    <block type="karel_if"></block>\n    <block type="karel_ifElse"></block>\n  </category>\n')};buf.push("\n");var c=function(a,b){buf.push('  <block type="controls_for">\n    <value name="FROM">\n      <block type="math_number">\n        <title name="NUM">1</title>\n      </block>\n    </value>\n    <value name="TO">\n      <block type="math_number">\n        <title name="NUM">\n          ',escape(b||10),'        </title>\n      </block>\n    </value>\n    <value name="BY">\n      <block type="math_number">\n        <title name="NUM">1</title>\n      </block>\n    </value>\n    '),a&&(buf.push('      <statement name="DO">\n        '),a(),buf.push("\n      </statement>\n    ")),buf.push("  </block>\n")};buf.push('\n<xml id="toolbox" style="display: none;">\n  <category name="',escape(a.catActions()),'">\n    <block type="maze_moveForward"></block>\n    <block type="maze_turn"><title name="DIR">turnLeft</title></block>\n    <block type="maze_turn"><title name="DIR">turnRight</title></block>\n    <block type="maze_dig"></block>\n    <block type="maze_fill"></block>\n  </category>\n  '),b(),buf.push('  <category name="',escape(a.catLoops()),'">\n    <block type="maze_untilBlockedOrNotClear"></block>\n    '),buf.push(level<9?'      <block type="controls_repeat"></block>\n    ':'      <block type="controls_repeat_ext">\n        <value name="TIMES">\n          <block type="math_number">\n            <title name="NUM">10</title>\n          </block>\n        </value>\n      </block>\n    '),buf.push("    "),c(),buf.push('  </category>\n  <category name="',escape(a.catMath()),'">\n    <block type="math_number"></block>\n  </category>\n  <category name="',escape(a.catVariables()),'" custom="VARIABLE">\n  </category>\n</xml>\n')}();return buf.join("")};return function(a){return t(a,require("ejs").filters)}}()},{"../../locale":150,ejs:492}],175:[function(require,module,exports){module.exports=function(){var t=function anonymous(locals,filters,escape){escape=escape||function(a){return String(a).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var buf=[];with(locals||{})!function(){buf.push("");var a=require("../../locale"),b=require(".././locale"),c=function(){buf.push("  "),level>3?buf.push('    <category name="',escape(a.catProcedures()),'" custom="PROCEDURE"></category>\n  '):(2==level||3==level)&&buf.push('    <category name="',escape(a.catProcedures()),'">\n      <block type="procedures_callnoreturn">\n        <mutation name="',escape(b.fillN({shovelfuls:5})),'"></mutation>\n      </block>\n    </category>\n  '),buf.push("  "),level<9?buf.push('    <category name="',escape(a.catLogic()),'">\n      <block type="karel_if"></block>\n    </category>\n  '):level>8&&buf.push('    <category name="',escape(a.catLogic()),'">\n      <block type="karel_if"></block>\n      <block type="karel_ifElse"></block>\n    </category>\n  '),buf.push("")};buf.push('\n<xml id="toolbox" style="display: none;">\n  <category name="',escape(a.catActions()),'">\n    <block type="maze_moveForward"></block>\n    <block type="maze_turn"><title name="DIR">turnLeft</title></block>\n    <block type="maze_turn"><title name="DIR">turnRight</title></block>\n    <block type="maze_dig"></block>\n    <block type="maze_fill"></block>\n  </category>\n  '),c(),buf.push('  <category name="',escape(a.catLoops()),'">\n    <block type="maze_untilBlocked"></block>\n    <block type="controls_repeat"></block>\n  </category>\n</xml>\n')}();return buf.join("")};return function(a){return t(a,require("ejs").filters)}}()},{"../../locale":150,".././locale":165,ejs:492}],174:[function(require,module,exports){module.exports=function(){var t=function anonymous(locals,filters,escape){escape=escape||function(a){return String(a).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var buf=[];with(locals||{})!function(){buf.push('<xml id="toolbox" style="display: none;">\n  <block type="maze_moveForward"></block>\n  <block type="maze_turn"><title name="DIR">turnLeft</title></block>\n  <block type="maze_turn"><title name="DIR">turnRight</title></block>\n  <block type="maze_dig"></block>\n  '),level>1&&(buf.push('    <block type="maze_fill"></block>\n    '),level>2&&(buf.push('      <block type="controls_repeat">\n        <title name="TIMES">5</title>\n      </block>\n      '),level>9&&buf.push('        <block type="karel_if"></block>\n      '),buf.push("    ")),buf.push("    "),(5==level||10==level||11==level)&&buf.push('      <block type="maze_untilBlocked"></block>\n    '),buf.push("    "),level>5&&level<8&&buf.push('      <block type="maze_untilBlockedOrNotClear"></block>\n    '),buf.push("    "),(8==level||9==level)&&buf.push('      <block type="maze_untilBlockedOrNotClear">\n        <title name="DIR">isPathForward</title>\n      </block>\n    '),buf.push("  ")),buf.push("</xml>\n")}();return buf.join("")};return function(a){return t(a,require("ejs").filters)}}()},{ejs:492}],163:[function(require,module,exports){module.exports=function(){var t=function anonymous(locals,filters,escape){escape=escape||function(a){return String(a).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var buf=[];with(locals||{})!function(){buf.push("");var a=require("./locale"),b=function(b){buf.push('  <block type="procedures_defnoreturn" x="20" y="200" editable="false"\n    deletable="false">\n    <mutation></mutation>\n    <title name="NAME">',escape(a.fillN({shovelfuls:b})),'</title>\n    <statement name="STACK">\n      <block type="controls_repeat" editable="false" deletable="false">\n        <title name="TIMES">',escape(b),'</title>\n        <statement name="DO">\n          <block type="maze_fill" editable="false" deletable="false">\n          </block>\n        </statement>\n       </block>\n    </statement>\n  </block>\n')};buf.push("\n");var c=function(b){buf.push('  <block type="procedures_defnoreturn" x="300" y="200" editable="false"\n    deletable="false">\n    <mutation></mutation>\n    <title name="NAME">',escape(a.removeN({shovelfuls:b})),'</title>\n    <statement name="STACK">\n      <block type="controls_repeat" editable="false" deletable="false">\n        <title name="TIMES">',escape(b),'</title>\n        <statement name="DO">\n          <block type="maze_dig" editable="false" deletable="false">\n          </block>\n        </statement>\n       </block>\n    </statement>\n  </block>\n')};buf.push("\n\n"),1==page?(buf.push("  "),1==level?buf.push('    <block type="maze_moveForward" x="70" y="70"></block>\n  '):2==level?buf.push('    <block type="maze_moveForward" x="70" y="70"></block>\n  '):3==level?buf.push('    <block type="maze_moveForward" x="70" y="70"></block>\n  '):4==level?buf.push('    <block type="maze_moveForward" x="70" y="70"></block>\n  '):5==level?buf.push('    <block type="maze_untilBlocked" x="70" y="70"></block>\n  '):6==level?buf.push('    <block type="maze_dig" x="70" y="70"></block>\n  '):7==level?buf.push('    <block type="maze_turn" x="70" y="70">\n          <title name="DIR">turnRight</title>\n    </block>\n  '):8==level?buf.push('    <block type="maze_moveForward" x="70" y="70"></block>\n  '):9==level?buf.push('    <block type="maze_moveForward" x="70" y="70"></block>\n  '):10==level?buf.push('    <block type="maze_untilBlocked" x="70" y="70"></block>\n  '):11==level&&buf.push('    <block type="maze_untilBlocked" x="70" y="70"></block>\n  '),buf.push("")):2==page?(buf.push("  "),2==level?(buf.push('    <block type="maze_moveForward" x="20" y="70"></block>\n    '),b(5),buf.push("  ")):3==level?(buf.push("    "),b(5),buf.push("  ")):4==level?(buf.push("    "),b(5),buf.push('    <block type="procedures_defnoreturn" x="300" y="200" editable="false"\n      deletable="false">\n      <mutation></mutation>\n      <title name="NAME">',escape(a.removeN({shovelfuls:7})),"</title>\n    </block>\n  ")):5==level?buf.push('    <block type="procedures_defnoreturn" x="20" y="200" editable="false"\n      deletable="false">\n      <mutation></mutation>\n      <title name="NAME">',escape(a.removeN({shovelfuls:6})),"</title>\n    </block>\n  "):6==level?(buf.push("    "),b(8),buf.push("    "),c(8),buf.push("  ")):7==level?buf.push('    <block type="procedures_callnoreturn" x="20" y="70" editable="false"\n      deletable="false">\n      <mutation name="',escape(a.avoidCowAndRemove()),'"></mutation>\n    </block>\n    <block type="procedures_defnoreturn" x="20" y="200" editable="false"\n      deletable="false">\n      <mutation></mutation>\n      <title name="NAME">',escape(a.avoidCowAndRemove()),"</title>\n    </block>\n  "):8==level?buf.push('    <block type="procedures_defnoreturn" x="20" y="200" editable="false"\n      deletable="false">\n      <mutation></mutation>\n      <title name="NAME">',escape(a.avoidCowAndRemove()),'</title>\n      <statement name="STACK">\n        <block type="maze_turn" editable="false" deletable="false">\n          <title name="DIR">turnLeft</title>\n          <next>\n            <block type="maze_moveForward" editable="false" deletable="false">\n              <next>\n                <block type="maze_turn" editable="false" deletable="false">\n                  <title name="DIR">turnRight</title>\n                  <next>\n                    <block type="maze_moveForward" editable="false"\n                      deletable="false">\n                      <next>\n                        <block type="maze_moveForward" editable="false"\n                          deletable="false">\n                          <next>\n                            <block type="maze_turn" editable="false"\n                              deletable="false">\n                              <title name="DIR">turnRight</title>\n                              <next>\n                                <block type="maze_moveForward"\n                                  editable="false" deletable="false">\n                                  <next>\n                                    <block type="maze_dig"\n                                      editable="false" deletable="false">\n                                      <next>\n                                        <block type="maze_turn"\n                                          editable="false" deletable="false">\n                                          <title name="DIR">turnLeft</title>\n                                        </block>\n                                      </next>\n                                    </block>\n                                  </next>\n                                </block>\n                              </next>\n                            </block>\n                          </next>\n                        </block>\n                      </next>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '):9==level?buf.push('    <block type="procedures_defnoreturn" x="20" y="200" editable="false"\n      deletable="false">\n      <mutation></mutation>\n      <title name="NAME">',escape(a.removeStack({shovelfuls:4})),'</title>\n      <statement name="STACK">\n        <block type="maze_turn" editable="false" deletable="false">\n          <title name="DIR">turnLeft</title>\n          <next>\n            <block type="controls_repeat" editable="false" deletable="false">\n              <title name="TIMES">4</title>\n              <statement name="DO">\n                <block type="maze_dig" editable="false"\n                  deletable="false">\n                  <next>\n                    <block type="maze_moveForward" editable="false"\n                      deletable="false"></block>\n                  </next>\n                </block>\n              </statement>\n              <next>\n                <block type="maze_turn" editable="false" deletable="false">\n                  <title name="DIR">turnRight</title>\n                  <next>\n                    <block type="maze_turn" editable="false" deletable="false">\n                      <title name="DIR">turnRight</title>\n                      <next>\n                        <block type="controls_repeat" editable="false"\n                          deletable="false">\n                          <title name="TIMES">4</title>\n                          <statement name="DO">\n                            <block type="maze_moveForward" editable="false"\n                              deletable="false"></block>\n                          </statement>\n                          <next>\n                            <block type="maze_turn" editable="false"\n                              deletable="false">\n                              <title name="DIR">turnLeft</title>\n                            </block>\n                          </next>\n                        </block>\n                      </next>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '):10==level?buf.push('    <block type="procedures_defnoreturn" x="20" y="200" editable="false"\n      deletable="false">\n      <mutation></mutation>\n      <title name="NAME">',escape(a.removeStack({shovelfuls:4})),'</title>\n      <statement name="STACK">\n        <block type="maze_turn" editable="false" deletable="false">\n          <title name="DIR">turnLeft</title>\n          <next>\n            <block type="controls_repeat" editable="false" deletable="false">\n              <title name="TIMES">4</title>\n              <statement name="DO">\n                <block type="maze_dig" editable="false"\n                  deletable="false">\n                  <next>\n                    <block type="maze_moveForward" editable="false"\n                      deletable="false"></block>\n                  </next>\n                </block>\n              </statement>\n              <next>\n                <block type="maze_turn" editable="false" deletable="false">\n                  <title name="DIR">turnRight</title>\n                  <next>\n                    <block type="maze_turn" editable="false" deletable="false">\n                      <title name="DIR">turnRight</title>\n                      <next>\n                        <block type="controls_repeat" editable="false"\n                          deletable="false">\n                          <title name="TIMES">4</title>\n                          <statement name="DO">\n                            <block type="maze_moveForward" editable="false"\n                              deletable="false"></block>\n                          </statement>\n                          <next>\n                            <block type="maze_turn" editable="false"\n                              deletable="false">\n                              <title name="DIR">turnLeft</title>\n                            </block>\n                          </next>\n                        </block>\n                      </next>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n    <block type="procedures_defnoreturn" x="300" y="200" editable="false"\n      deletable="false">\n      <mutation></mutation>\n      <title name="NAME">',escape(a.fillStack({shovelfuls:2})),'</title>\n      <statement name="STACK">\n        <block type="maze_turn" editable="false" deletable="false">\n          <title name="DIR">turnLeft</title>\n          <next>\n            <block type="controls_repeat" editable="false" deletable="false">\n              <title name="TIMES">2</title>\n              <statement name="DO">\n                <block type="maze_fill" editable="false"\n                  deletable="false">\n                  <next>\n                    <block type="maze_moveForward" editable="false"\n                      deletable="false"></block>\n                  </next>\n                </block>\n              </statement>\n              <next>\n                <block type="maze_turn" editable="false" deletable="false">\n                  <title name="DIR">turnRight</title>\n                  <next>\n                    <block type="maze_turn" editable="false" deletable="false">\n                      <title name="DIR">turnRight</title>\n                      <next>\n                        <block type="controls_repeat" editable="false"\n                          deletable="false">\n                          <title name="TIMES">2</title>\n                          <statement name="DO">\n                            <block type="maze_moveForward" editable="false"\n                              deletable="false"></block>\n                          </statement>\n                          <next>\n                            <block type="maze_turn" editable="false"\n                              deletable="false">\n                              <title name="DIR">turnLeft</title>\n                            </block>\n                          </next>\n                        </block>\n                      </next>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '):11==level&&buf.push('    <block type="procedures_defnoreturn" x="20" y="200" editable="false"\n      deletable="false">\n      <mutation></mutation>\n      <title name="NAME">',escape(a.removeAndAvoidTheCow()),'</title>\n      <statement name="STACK">\n        <block type="maze_dig" editable="false" deletable="false">\n          <next>\n            <block type="maze_turn" editable="false" deletable="false">\n              <title name="DIR">turnLeft</title>\n              <next>\n                <block type="maze_moveForward" editable="false"\n                  deletable="false">\n                  <next>\n                    <block type="maze_turn" editable="false" deletable="false">\n                      <title name="DIR">turnRight</title>\n                      <next>\n                        <block type="maze_moveForward" editable="false"\n                          deletable="false">\n                          <next>\n                            <block type="maze_moveForward" editable="false"\n                              deletable="false">\n                              <next>\n                                <block type="maze_turn" editable="false"\n                                  deletable="false">\n                                  <title name="DIR">turnRight</title>\n                                  <next>\n                                    <block type="maze_moveForward"\n                                      editable="false" deletable="false">\n                                      <next>\n                                        <block type="maze_turn"\n                                          editable="false" deletable="false">\n                                          <title name="DIR">turnLeft\n                                          </title>\n                                        </block>\n                                      </next>\n                                    </block>\n                                  </next>\n                                </block>\n                              </next>\n                            </block>\n                          </next>\n                        </block>\n                      </next>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '),buf.push("")):3==page&&(buf.push("  "),1==level?buf.push('    <block type="maze_moveForward" x="70" y="70">\n      <next>\n        <block type="maze_turn">\n          <title name="DIR">turnLeft</title>\n          <next>\n            <block type="maze_moveForward">\n              <next>\n                <block type="maze_dig">\n                  <next>\n                    <block type="maze_turn">\n                      <title name="DIR">turnRight</title>\n                      <next>\n                        <block type="maze_moveForward">\n                          <next>\n                            <block type="maze_fill"></block>\n                          </next>\n                        </block>\n                      </next>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </next>\n    </block>\n  '):2==level?buf.push('    <block type="maze_moveForward" x="70" y="70">\n      <next>\n        <block type="maze_moveForward">\n          <next>\n            <block type="maze_moveForward">\n              <next>\n                <block type="maze_moveForward">\n                  <next>\n                    <block type="maze_dig"></block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </next>\n    </block>\n  '):3==level?buf.push('    <block type="maze_moveForward" x="70" y="70">\n      <next>\n        <block type="maze_turn">\n          <title name="DIR">turnLeft</title>\n          <next>\n            <block type="maze_moveForward">\n              <next>\n                <block type="controls_repeat">\n                  <title name="TIMES">10</title>\n                  <statement name="DO">\n                    <block type="maze_dig"></block>\n                  </statement>\n                  <next>\n                    <block type="maze_turn">\n                      <title name="DIR">turnRight</title>\n                      <next>\n                        <block type="maze_moveForward">\n                          <next>\n                            <block type="maze_turn">\n                              <title name="DIR">turnLeft</title>\n                              <next>\n                                <block type="maze_moveForward">\n                                  <next>\n                                    <block type="controls_repeat">\n                                      <title name="TIMES">10</title>\n                                      <statement name="DO">\n                                        <block type="maze_dig"></block>\n                                      </statement>\n                                    </block>\n                                  </next>\n                                </block>\n                              </next>\n                            </block>\n                          </next>\n                        </block>\n                      </next>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </next>\n    </block>\n  '):4==level?buf.push('    <block type="controls_repeat" x="70" y="70">\n      <title name="TIMES">5</title>\n      <statement name="DO">\n        <block type="maze_moveForward"></block>\n      </statement>\n      <next>\n        <block type="maze_untilBlockedOrNotClear">\n          <title name="DIR">pilePresent</title>\n          <statement name="DO">\n            <block type="maze_fill"></block>\n          </statement>\n        </block>\n      </next>\n    </block>\n  '):5==level?buf.push('    <block type="controls_repeat" x="70" y="70">\n      <title name="TIMES">7</title>\n      <statement name="DO">\n        <block type="maze_moveForward">\n          <next>\n            <block type="maze_dig">\n              <next>\n                <block type="maze_turn">\n                  <title name="DIR">turnLeft</title>\n                  <next>\n                    <block type="maze_moveForward">\n                      <next>\n                        <block type="maze_turn">\n                          <title name="DIR">turnRight</title>\n                        </block>\n                      </next>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '):6==level?buf.push('    <block type="controls_repeat" x="70" y="70">\n      <title name="TIMES">7</title>\n      <statement name="DO">\n        <block type="maze_moveForward">\n          <next>\n            <block type="karel_if">\n              <title name="DIR">pilePresent</title>\n              <statement name="DO">\n                <block type="maze_dig"></block>\n              </statement>\n              <next>\n                <block type="maze_turn">\n                  <title name="DIR">turnLeft</title>\n                  <next>\n                    <block type="maze_moveForward">\n                      <next>\n                        <block type="maze_turn">\n                          <title name="DIR">turnRight</title>\n                        </block>\n                      </next>\n                    </block>\n                  </next>\n                </block>\n              </next>\n            </block>\n          </next>\n        </block>\n      </statement>\n    </block>\n  '):7==level?buf.push('    <block type="procedures_callnoreturn" x="20" y="70"\n      editable="false" deletable="false">\n      <mutation name="',escape(a.removeSquare()),'"></mutation>\n    </block>\n    <block type="procedures_defnoreturn" x="20" y="200" editable="false" deletable="false">\n      <mutation></mutation>\n      <title name="NAME">',escape(a.removeSquare()),'</title>\n      <statement name="STACK">\n        <block type="controls_repeat">\n          <title name="TIMES">4</title>\n          <statement name="DO">\n            <block type="controls_repeat">\n              <title name="TIMES">2</title>\n              <statement name="DO">\n                <block type="maze_moveForward">\n                  <next>\n                    <block type="maze_dig"></block>\n                  </next>\n                </block>\n              </statement>\n              <next>\n                <block type="maze_turn">\n                  <title name="DIR">turnLeft</title>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </statement>\n    </block>\n  '):8==level?buf.push('    <block type="procedures_callnoreturn" x="20" y="70">\n      <mutation name="',escape(a.fillSquare()),'"></mutation>\n      <next>\n        <block type="controls_repeat">\n          <title name="TIMES">5</title>\n          <statement name="DO">\n            <block type="maze_moveForward"></block>\n          </statement>\n          <next>\n            <block type="procedures_callnoreturn">\n              <mutation name="',escape(a.removeSquare()),'"></mutation>\n            </block>\n          </next>\n        </block>\n      </next>\n    </block>\n    <block type="procedures_defnoreturn" deletable="false"\n      editable="false" x="20" y="250">\n      <mutation></mutation>\n      <title name="NAME">',escape(a.removeSquare()),'</title>\n      <statement name="STACK">\n        <block type="controls_repeat">\n          <title name="TIMES">4</title>\n          <statement name="DO">\n            <block type="controls_repeat">\n              <title name="TIMES">2</title>\n              <statement name="DO">\n                <block type="maze_moveForward">\n                  <next>\n                    <block type="maze_dig"></block>\n                  </next>\n                </block>\n              </statement>\n              <next>\n                <block type="maze_turn">\n                  <title name="DIR">turnLeft</title>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </statement>\n    </block>\n    <block type="procedures_defnoreturn" deletable="false"\n      editable="false" x="350" y="250">\n      <mutation></mutation>\n      <title name="NAME">',escape(a.fillSquare()),'</title>\n      <statement name="STACK">\n        <block type="controls_repeat">\n          <title name="TIMES">4</title>\n          <statement name="DO">\n            <block type="controls_repeat">\n              <title name="TIMES">2</title>\n              <statement name="DO">\n                <block type="maze_moveForward">\n                  <next>\n                    <block type="maze_fill"></block>\n                  </next>\n                </block>\n              </statement>\n              <next>\n                <block type="maze_turn">\n                  <title name="DIR">turnLeft</title>\n                </block>\n              </next>\n            </block>\n          </statement>\n        </block>\n      </statement>\n    </block>\n  '):9==level&&buf.push('    <block type="controls_for" inline="true" x="20" y="70">\n      <title name="VAR">counter</title>\n      <value name="FROM">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <value name="TO">\n        <block type="math_number">\n          <title name="NUM">6</title>\n        </block>\n      </value>\n      <value name="BY">\n        <block type="math_number">\n          <title name="NUM">1</title>\n        </block>\n      </value>\n      <statement name="DO">\n        <block type="procedures_callnoreturn" inline="false">\n          <mutation name="',escape(a.removePile()),'">\n            <arg name="',escape(a.heightParameter()),'"></arg>\n          </mutation>\n          <value name="ARG0">\n            <block type="math_number">\n              <title name="NUM">1</title>\n            </block>\n          </value>\n          <next>\n            <block type="maze_moveForward"></block>\n          </next>\n        </block>\n      </statement>\n    </block>\n    <block type="procedures_defnoreturn" x="20" y="250" editable="false" deletable="false">\n      <mutation>\n        <arg name="',escape(a.heightParameter()),'"></arg>\n      </mutation>\n      <title name="NAME">',escape(a.removePile()),'</title>\n      <statement name="STACK">\n        <block type="controls_repeat_ext" inline="true">\n          <value name="TIMES">\n            <block type="math_number">\n              <title name="NUM">1</title>\n            </block>\n          </value>\n          <statement name="DO">\n            <block type="maze_dig"></block>\n          </statement>\n        </block>\n      </statement>\n    </block>\n  '),buf.push("")),buf.push("")}();return buf.join("")};return function(a){return t(a,require("ejs").filters)}}()},{"./locale":165,ejs:492}],161:[function(require,module,exports){module.exports=function(){var t=function anonymous(locals,filters,escape){escape=escape||function(a){return String(a).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var buf=[];with(locals||{})!function(){buf.push("");var a=require("./locale");buf.push('\n<div id="spelling-table-wrapper">\n  <table id="spelling-table" class="float-right">\n    <tr>\n      <td class="spellingTextCell">',escape(a.word()),':</td>\n      <td class="spellingButtonCell">\n        <button id="searchWord" class="spellingButton" disabled>\n          '),buf.push('\n          <img src="',escape(assetUrl("media/1x1.gif")),'"/>',escape(searchWord),'\n        </button>\n      </td>\n    </tr>\n    <tr>\n      <td class="spellingTextCell">',escape(a.youSpelled()),':</td>\n      <td class="spellingButtonCell">\n        <button id="currentWord" class="spellingButton" disabled>\n          '),buf.push('\n          <img src="',escape(assetUrl("media/1x1.gif")),'"><span id="currentWordContents"></span>\n        </button>\n      </td>\n    </tr>\n  </table>\n</div>\n')
}();return buf.join("")};return function(a){return t(a,require("ejs").filters)}}()},{"./locale":165,ejs:492}],160:[function(a,b){function c(a){if(0===a.length)return!0;if(1===a.length){var b=a[0];if(1===b.length&&"finish"===b[0].command)return!0}return!1}var d=a("../utils"),e=d.getLodash(),f=function(a){a=a||{},this.terminated_=!1,this.terminationValue_=null,this.steps_=[],this.ticks=a.ticks||1/0,this.collection_=null};b.exports=f,f.prototype.terminateWithValue=function(a){this.terminated_||(this.terminationValue_=a),this.terminated_=!0},f.prototype.isTerminated=function(){return this.terminated_},f.prototype.terminationValue=function(){return this.terminationValue_},f.prototype.queueAction=function(a,b){var c={command:a,blockId:b};this.collection_?this.collection_.push(c):this.steps_.push([c])},f.prototype.getActions=function(a){var b=[];return a?(b.push(this.steps_.shift()),c(this.steps_)&&b.push(this.steps_.splice(0))):b.push(this.steps_.splice(0)),e.flatten(b)},f.prototype.stepsRemaining=function(){return this.steps_.length>0},f.prototype.collectActions=function(){if(this.collection_)throw new Error("Already collecting");this.collection_=[]},f.prototype.stopCollecting=function(){if(!this.collection_)throw new Error("Not currently collecting");this.steps_.push(this.collection_),this.collection_=null},f.prototype.checkTimeout=function(){this.ticks--<0&&this.terminateWithValue(1/0)}},{"../utils":318}],159:[function(a,b){a("./locale");b.exports.blocks=[{func:"moveForward",category:"Movement"},{func:"turnLeft",category:"Movement"},{func:"turnRight",category:"Movement"}],b.exports.categories={Movement:{color:"red",blocks:[]}}},{"./locale":165}],157:[function(require,module,exports){module.exports=function(){var t=function anonymous(locals,filters,escape){escape=escape||function(a){return String(a).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var buf=[];with(locals||{})!function(){buf.push("");var a=require("./locale");buf.push('\n\n<button id="stepButton" class="launch ',escape(showStepButton?"":"hide"),' float-right">\n  '),buf.push('\n  <img src="',escape(assetUrl("media/1x1.gif")),'">',escape(a.step()),"\n</button>\n\n")}();return buf.join("")};return function(a){return t(a,require("ejs").filters)}}()},{"./locale":165,ejs:492}],156:[function(a,b,c){"use strict";var d=a("./locale"),e=a("../locale"),f=a("../codegen"),g=a("../block_utils"),h=a("./mazeUtils");c.install=function(b,c){var i=c.skin,j=b.Generator.get("JavaScript");b.JavaScript=j,h.isBeeSkin(i.id)&&a("./beeBlocks").install(b,c);var k={DIRECTION_CONFIGS:{West:{letter:e.directionWestLetter(),image:i.leftArrow,tooltip:d.moveWestTooltip()},East:{letter:e.directionEastLetter(),image:i.rightArrow,tooltip:d.moveEastTooltip()},North:{letter:e.directionNorthLetter(),image:i.upArrow,tooltip:d.moveNorthTooltip()},South:{letter:e.directionSouthLetter(),image:i.downArrow,tooltip:d.moveSouthTooltip()}},generateBlocksForAllDirections:function(){k.generateBlocksForDirection("North"),k.generateBlocksForDirection("South"),k.generateBlocksForDirection("West"),k.generateBlocksForDirection("East")},generateBlocksForDirection:function(a){j["maze_move"+a]=k.generateCodeGenerator(a),b.Blocks["maze_move"+a]=k.generateMoveBlock(a)},generateMoveBlock:function(a){var c=k.DIRECTION_CONFIGS[a];return{helpUrl:"",init:function(){this.setHSV(184,1,.74),this.appendDummyInput().appendTitle(new b.FieldLabel(c.letter,{fixedSize:{width:12,height:18}})).appendTitle(new b.FieldImage(c.image)),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(c.tooltip)}}},generateCodeGenerator:function(a){return function(){return"Maze.move"+a+"('block_id_"+this.id+"');\n"}}};k.generateBlocksForAllDirections(),g.generateSimpleBlock(b,j,{name:"maze_moveForward",helpUrl:"http://code.google.com/p/blockly/wiki/Move",title:d.moveForward(),tooltip:d.moveForwardTooltip(),functionName:"Maze.moveForward"}),g.generateSimpleBlock(b,j,{name:"maze_fill",helpUrl:"http://code.google.com/p/blockly/wiki/PutDown",title:d.fill(),tooltip:d.fillTooltip(),functionName:"Maze.fill"}),g.generateSimpleBlock(b,j,{name:"maze_dig",helpUrl:"http://code.google.com/p/blockly/wiki/PickUp",title:d.dig(),tooltip:d.digTooltip(),functionName:"Maze.dig"}),b.Blocks.maze_move={helpUrl:"http://code.google.com/p/blockly/wiki/Move",init:function(){this.setHSV(184,1,.74),this.appendDummyInput().appendTitle(new b.FieldDropdown(this.DIRECTIONS),"DIR"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(d.moveTooltip())}},b.Blocks.maze_move.DIRECTIONS=[[d.moveForward(),"moveForward"],[d.moveBackward(),"moveBackward"]],j.maze_move=function(){var a=this.getTitleValue("DIR");return"Maze."+a+"('block_id_"+this.id+"');\n"},b.Blocks.maze_turn={helpUrl:"http://code.google.com/p/blockly/wiki/Turn",init:function(){this.setHSV(184,1,.74),this.appendDummyInput().appendTitle(new b.FieldDropdown(this.DIRECTIONS),"DIR"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(d.turnTooltip())}},b.Blocks.maze_turn.DIRECTIONS=[[d.turnLeft()+" ↺","turnLeft"],[d.turnRight()+" ↻","turnRight"]],j.maze_turn=function(){var a=this.getTitleValue("DIR");return"Maze."+a+"('block_id_"+this.id+"');\n"},b.Blocks.maze_isPath={helpUrl:"",init:function(){this.setHSV(196,1,.79),this.setOutput(!0,b.BlockValueType.NUMBER),this.appendDummyInput().appendTitle(new b.FieldDropdown(this.DIRECTIONS),"DIR"),this.setTooltip(d.isPathTooltip())}},b.Blocks.maze_isPath.DIRECTIONS=[[d.ifPathAhead(),"isPathForward"],[d.pathLeft()+" ↺","isPathLeft"],[d.pathRight()+" ↻","isPathRight"]],j.maze_isPath=function(){var a="Maze."+this.getTitleValue("DIR")+"()";return[a,j.ORDER_FUNCTION_CALL]},b.Blocks.maze_if={helpUrl:"",init:function(){this.setHSV(196,1,.79),this.appendDummyInput().appendTitle(new b.FieldDropdown(this.DIRECTIONS),"DIR"),this.setInputsInline(!0),this.appendStatementInput("DO").appendTitle(d.doCode()),this.setTooltip(d.ifTooltip()),this.setPreviousStatement(!0),this.setNextStatement(!0)}},b.Blocks.maze_if.DIRECTIONS=b.Blocks.maze_isPath.DIRECTIONS,j.maze_if=function(){var a="Maze."+this.getTitleValue("DIR")+"('block_id_"+this.id+"')",b=j.statementToCode(this,"DO"),c="if ("+a+") {\n"+b+"}\n";return c},b.Blocks.maze_ifElse={helpUrl:"",init:function(){this.setHSV(196,1,.79),this.appendDummyInput().appendTitle(new b.FieldDropdown(this.DIRECTIONS),"DIR"),this.setInputsInline(!0),this.appendStatementInput("DO").appendTitle(d.doCode()),this.appendStatementInput("ELSE").appendTitle(d.elseCode()),this.setTooltip(d.ifelseTooltip()),this.setPreviousStatement(!0),this.setNextStatement(!0)}},b.Blocks.maze_ifElse.DIRECTIONS=b.Blocks.maze_isPath.DIRECTIONS,j.maze_ifElse=function(){var a="Maze."+this.getTitleValue("DIR")+"('block_id_"+this.id+"')",b=j.statementToCode(this,"DO"),c=j.statementToCode(this,"ELSE"),d="if ("+a+") {\n"+b+"} else {\n"+c+"}\n";return d},b.Blocks.karel_if={helpUrl:"",init:function(){this.setHSV(196,1,.79),this.appendDummyInput().appendTitle(d.ifCode()),this.appendDummyInput().appendTitle(new b.FieldDropdown(this.DIRECTIONS),"DIR"),this.setInputsInline(!0),this.appendStatementInput("DO").appendTitle(d.doCode()),this.setTooltip(d.ifTooltip()),this.setPreviousStatement(!0),this.setNextStatement(!0)}},j.karel_if=function(){var a="Maze."+this.getTitleValue("DIR")+"('block_id_"+this.id+"')",b=j.statementToCode(this,"DO"),c="if ("+a+") {\n"+b+"}\n";return c},b.Blocks.karel_if.DIRECTIONS=[[d.pilePresent(),"pilePresent"],[d.holePresent(),"holePresent"],[d.pathAhead(),"isPathForward"]],b.Blocks.karel_ifElse={helpUrl:"",init:function(){this.setHSV(196,1,.79),this.appendDummyInput().appendTitle(d.ifCode()),this.appendDummyInput().appendTitle(new b.FieldDropdown(this.DIRECTIONS),"DIR"),this.setInputsInline(!0),this.appendStatementInput("DO").appendTitle(d.doCode()),this.appendStatementInput("ELSE").appendTitle(d.elseCode()),this.setTooltip(d.ifelseTooltip()),this.setPreviousStatement(!0),this.setNextStatement(!0)}},j.karel_ifElse=function(){var a="Maze."+this.getTitleValue("DIR")+"('block_id_"+this.id+"')",b=j.statementToCode(this,"DO"),c=j.statementToCode(this,"ELSE"),d="if ("+a+") {\n"+b+"} else {\n"+c+"}\n";return d},b.Blocks.karel_ifElse.DIRECTIONS=b.Blocks.karel_if.DIRECTIONS,b.Blocks.maze_whileNotClear={helpUrl:"http://code.google.com/p/blockly/wiki/Repeat",init:function(){this.setHSV(322,.9,.95),this.appendDummyInput().appendTitle(new b.FieldDropdown(this.DIRECTIONS),"DIR"),this.appendStatementInput("DO").appendTitle(d.doCode()),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(d.whileTooltip())}},j.maze_whileNotClear=function(){var a="Maze."+this.getTitleValue("DIR")+"('block_id_"+this.id+"')",b=j.statementToCode(this,"DO");return b=f.loopTrap()+b,"while ("+a+") {\n"+b+"}\n"},b.Blocks.maze_whileNotClear.DIRECTIONS=[[d.whileMsg()+" "+d.pilePresent(),"pilePresent"],[d.whileMsg()+" "+d.holePresent(),"holePresent"]],b.Blocks.maze_untilBlocked={helpUrl:"http://code.google.com/p/blockly/wiki/Repeat",init:function(){this.setHSV(322,.9,.95),this.appendDummyInput().appendTitle(d.repeatUntilBlocked()),this.appendStatementInput("DO").appendTitle(d.doCode()),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(d.whileTooltip())}},j.maze_untilBlocked=function(){var a="Maze.isPathForward('block_id_"+this.id+"')",b=j.statementToCode(this,"DO");return b=f.loopTrap()+b,"while ("+a+") {\n"+b+"}\n"},b.Blocks.maze_forever={helpUrl:"http://code.google.com/p/blockly/wiki/Repeat",init:function(){this.setHSV(322,.9,.95),this.appendDummyInput().appendTitle(d.repeatUntil()).appendTitle(new b.FieldImage(i.maze_forever,35,35)),this.appendStatementInput("DO").appendTitle(d.doCode()),this.setPreviousStatement(!0),this.setTooltip(d.whileTooltip())}},j.maze_forever=function(){var a=j.statementToCode(this,"DO");return a=f.loopTrap()+f.loopHighlight("Maze",this.id)+a,"while (Maze.notFinished()) {\n"+a+"}\n"},b.Blocks.maze_untilBlockedOrNotClear={helpUrl:"http://code.google.com/p/blockly/wiki/Repeat",init:function(){this.setHSV(322,.9,.95),this.appendDummyInput().appendTitle(new b.FieldDropdown(this.DIRECTIONS),"DIR"),this.appendStatementInput("DO").appendTitle(d.doCode()),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(d.whileTooltip())}},j.maze_untilBlockedOrNotClear=function(){var a="Maze."+this.getTitleValue("DIR")+"('block_id_"+this.id+"')",b=j.statementToCode(this,"DO");return b=f.loopTrap()+b,"while ("+a+") {\n"+b+"}\n"},b.Blocks.maze_untilBlockedOrNotClear.DIRECTIONS=[[d.whileMsg()+" "+d.pilePresent(),"pilePresent"],[d.whileMsg()+" "+d.holePresent(),"holePresent"],[d.repeatUntilBlocked(),"isPathForward"]],delete b.Blocks.procedures_defreturn,delete b.Blocks.procedures_ifreturn}},{"../block_utils":77,"../codegen":106,"../locale":150,"./beeBlocks":154,"./locale":165,"./mazeUtils":168}],155:[function(a,b){function c(a,b,d,f){this.__base=c.superPrototype,e.call(this,a,""),this.skin_=b,this.initialDirt_=d,this.bee_=f,this.honeyImages_=[],this.nectarImages_=[],this.svg_=null,this.pegman_=null,this.clouded_=a.map(function(){return[]})}function d(a,b,c,d){var e=document.getElementsByClassName("pegman-location")[0],i=document.getElementById("svgMaze"),j=2,k=2,l=document.createElementNS(h,"text");return l.setAttribute("x",(c+1)*g-j),l.setAttribute("y",(b+1)*g-k),l.setAttribute("id",f(a,b,c)),l.setAttribute("class","bee-counter-text"),l.appendChild(document.createTextNode(d)),i.insertBefore(l,e),l}var e=a("./dirtDrawer");a("../utils");var f=a("./mazeUtils").cellId,g=50,h="http://www.w3.org/2000/svg";c.inherits(e),b.exports=c,c.prototype.updateItemImage=function(a,b,c){var d={href:null,unclippedWidth:g};this.initialDirt_[a][b]<0?d.href=this.skin_.honey:this.initialDirt_[a][b]>0&&(d.href=this.flowerImageHref_(a,b));var e,f=this.bee_.isCloudable(a,b),h=!c&&f,i=f&&this.clouded_[a][b]===!0,j=99,k=98,l=Math.abs(this.dirtMap_[a][b]);e=h?"":c||d.href!==this.skin_.purpleFlower?l===j?"":l===k?"0":""+l:"?",d.href&&(this.updateImageWithIndex_("beeItem",a,b,d,0),this.updateCounter_("counter",a,b,e),h?(this.showCloud_(a,b),this.clouded_[a][b]=!0):i&&(this.hideCloud_(a,b),this.clouded_[a][b]=!1))},c.prototype.updateCounter_=function(a,b,c,e){var g=document.getElementById(f(a,b,c));g||(g=d(a,b,c,e)),g.firstChild.nodeValue=e},c.prototype.createCounterImage_=function(a,b,c,d){var e=a+(b+1),f=document.createElementNS(h,"image");return f.setAttribute("id",e),f.setAttribute("width",g),f.setAttribute("height",g),f.setAttribute("y",c*g),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d),this.getSvg_().insertBefore(f,this.getPegmanElement_()),f},c.prototype.flowerImageHref_=function(a,b){return this.bee_.isRedFlower(a,b)?this.skin_.redFlower:this.skin_.purpleFlower},c.prototype.updateHoneyCounter=function(a){for(var b=0;a>b;b++){this.honeyImages_[b]||(this.honeyImages_[b]=this.createCounterImage_("honey",b,1,this.skin_.honey));var c=g;a>8&&(c=7*g/(a-1)),this.honeyImages_[b].setAttribute("x",b*c)}for(b=0;b<this.honeyImages_.length;b++)this.honeyImages_[b].setAttribute("display",a>b?"block":"none")},c.prototype.updateNectarCounter=function(a){for(var b=a.length,c=0;b>c;c++){var d=this.flowerImageHref_(a[c].row,a[c].col);this.nectarImages_[c]||(this.nectarImages_[c]=this.createCounterImage_("nectar",c,0,d));var e=g;b>8&&(e=7*g/(b-1)),this.nectarImages_[c].setAttribute("x",c*e),this.nectarImages_[c].setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d)}for(c=0;c<this.nectarImages_.length;c++)this.nectarImages_[c].setAttribute("display",b>c?"block":"none")},c.prototype.getSvg_=function(){return this.svg_||(this.svg_=document.getElementById("svgMaze")),this.svg_},c.prototype.getPegmanElement_=function(){return this.pegman_||(this.pegman_=document.getElementsByClassName("pegman-location")[0]),this.pegman_},c.prototype.showCloud_=function(a,b){var c={href:this.skin_.cloud,unclippedWidth:50};this.updateImageWithIndex_("cloud",a,b,c,0),this.displayCloudAnimation_(a,b,!1)},c.prototype.hideCloud_=function(a,b){var c=document.getElementById(f("cloud",a,b));c&&c.setAttribute("visibility","hidden"),this.displayCloudAnimation_(a,b,!0)},c.prototype.displayCloudAnimation_=function(a,b,c){var d=f("cloudAnimation",a,b),e=document.getElementById(d);if(!e){var i=document.getElementsByClassName("pegman-location")[0],j=document.getElementById("svgMaze");e=document.createElementNS(h,"image"),e.setAttribute("id",d),e.setAttribute("height",g),e.setAttribute("width",g),e.setAttribute("x",b*g),e.setAttribute("y",a*g),e.setAttribute("visibility","hidden"),j.appendChild(e,i)}e.setAttribute("visibility",c?"visible":"hidden"),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.skin_.cloudAnimation)},c.prototype.addCheckerboardTile=function(a,b,c){var d=document.getElementById("svgMaze"),e=document.createElementNS(h,"rect");if(e.setAttribute("width",g),e.setAttribute("height",g),e.setAttribute("x",b*g),e.setAttribute("y",a*g),e.setAttribute("fill","#78bb29"),e.setAttribute("opacity",c?.2:.5),c)d.appendChild(e);else{var f=document.getElementById("tileElement"+(8*a+b));d.insertBefore(e,f)}}},{"../utils":318,"./dirtDrawer":158,"./mazeUtils":168}],158:[function(a,b){function c(a,b,c,d){var f=document.getElementsByClassName("pegman-location")[0],g=document.getElementById("svgMaze"),j=e(a+"Clip",b,c),k=e(a,b,c),l=document.createElementNS(i,"clipPath");l.setAttribute("id",j);var m=document.createElementNS(i,"rect");m.setAttribute("x",c*h),m.setAttribute("y",b*h),m.setAttribute("width",h),m.setAttribute("height",h),l.appendChild(m),g.insertBefore(l,f);var n=document.createElementNS(i,"image");return n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d.href),n.setAttribute("height",h),n.setAttribute("width",d.unclippedWidth),n.setAttribute("clip-path","url(#"+j+")"),n.setAttribute("id",k),g.insertBefore(n,f),n}function d(a){var b;return 0===a?b=-1:-f>a?b=0:0>a?b=f+a+1:a>f?b=g-1:a>0&&(b=f+a),b}var e=a("./mazeUtils").cellId,f=10,g=2*f+2,h=50,i="http://www.w3.org/2000/svg",j=b.exports=function(a,b){this.dirtMap_=a,this.dirtImageInfo_={href:b,unclippedWidth:h*g}};j.prototype.updateItemImage=function(a,b){var c=this.dirtMap_[a][b];this.updateImageWithIndex_("dirt",a,b,this.dirtImageInfo_,d(c))},j.prototype.updateImageWithIndex_=function(a,b,d,f,g){var i=0>g,j=document.getElementById(e(a,b,d));if(!j){if(i)return;j=c(a,b,d,f)}j.setAttribute("visibility",i?"hidden":"visible"),i||(j.setAttribute("x",h*(d-g)),j.setAttribute("y",h*b))},j.__testonly__={spriteIndexForDirt:d,createImage:c}},{"./mazeUtils":168}],168:[function(a,b,c){c.cellId=function(a,b,c){return a+"_"+b+"_"+c},c.isBeeSkin=function(a){return/bee(_night)?/.test(a)},c.isScratSkin=function(a){return/scrat/.test(a)}},{}],154:[function(a,b,c){function d(a,b){a.Blocks.bee_ifFlower={helpUrl:"",init:function(){var b=[[g.atFlower(),"atFlower"],[g.atHoneycomb(),"atHoneycomb"]];this.setHSV(196,1,.79),this.appendDummyInput().appendTitle(g.ifCode()),this.appendDummyInput().appendTitle(new a.FieldDropdown(b),"LOC"),this.setInputsInline(!0),this.appendStatementInput("DO").appendTitle(g.doCode()),this.setTooltip(g.ifFlowerTooltip()),this.setPreviousStatement(!0),this.setNextStatement(!0)}},b.bee_ifFlower=function(){var a="Maze."+this.getTitleValue("LOC")+"('block_id_"+this.id+"')",c=b.statementToCode(this,"DO"),d="if ("+a+") {\n"+c+"}\n";return d}}function e(a,b){a.Blocks.bee_ifElseFlower={helpUrl:"",init:function(){var b=[[g.atFlower(),"atFlower"],[g.atHoneycomb(),"atHoneycomb"]];this.setHSV(196,1,.79),this.appendDummyInput().appendTitle(g.ifCode()),this.appendDummyInput().appendTitle(new a.FieldDropdown(b),"LOC"),this.setInputsInline(!0),this.appendStatementInput("DO").appendTitle(g.doCode()),this.appendStatementInput("ELSE").appendTitle(g.elseCode()),this.setTooltip(g.ifelseFlowerTooltip()),this.setPreviousStatement(!0),this.setNextStatement(!0)}},b.bee_ifElseFlower=function(){var a="Maze."+this.getTitleValue("LOC")+"('block_id_"+this.id+"')",c=b.statementToCode(this,"DO"),d=b.statementToCode(this,"ELSE"),e="if ("+a+") {\n"+c+"} else {\n"+d+"}\n";return e}}function f(a,b,c,d,e){a.Blocks[c]={helpUrl:"",init:function(){var b,c=this;switch(d){case"if":b=g.ifCode(),this.setHSV(196,1,.79);break;case"ifelse":b=g.ifCode(),this.setHSV(196,1,.79);break;case"while":b=g.whileMsg(),this.setHSV(322,.9,.95);break;default:throw"Unexpcted type for addConditionalComparisonBlock"}this.appendDummyInput().appendTitle(b),this.appendDummyInput().appendTitle(new a.FieldDropdown(e),"ARG1"),this.appendDummyInput().appendTitle(" "),this.appendDummyInput().appendTitle(new a.FieldDropdown(i),"OP"),this.appendDummyInput().appendTitle(" "),this.appendDummyInput().appendTitle(new a.FieldTextInput("0",a.FieldTextInput.numberValidator),"ARG2"),this.setInputsInline(!0),this.appendStatementInput("DO").appendTitle(g.doCode()),"ifelse"===d&&this.appendStatementInput("ELSE").appendTitle(g.elseCode()),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(function(){var a=c.getTitleValue("OP");return j[a]})}},b[c]=function(){var a="Maze."+this.getTitleValue("ARG1")+"('block_id_"+this.id+"')",c=this.getTitleValue("OP"),e=("=="===c||"!="===c?Blockly.JavaScript.ORDER_EQUALITY:Blockly.JavaScript.ORDER_RELATIONAL,this.getTitleValue("ARG2")),f=b.statementToCode(this,"DO"),g="";if("ifelse"===d){var h=b.statementToCode(this,"ELSE");g=" else {\n"+h+"}"}var i=d;return"ifelse"===d&&(i="if"),i+" ("+a+" "+c+" "+e+") {\n"+f+"}"+g+"\n"}}var g=a("./locale"),h=(a("../codegen"),a("../block_utils")),i=[["=","=="],["<","<"],[">",">"]],j={"==":Blockly.Msg.LOGIC_COMPARE_TOOLTIP_EQ,"<":Blockly.Msg.LOGIC_COMPARE_TOOLTIP_LT,">":Blockly.Msg.LOGIC_COMPARE_TOOLTIP_GT};c.install=function(a,b){var c=b.skin,i=b.isK1,j=a.Generator.get("JavaScript");a.JavaScript=j,d(a,j),e(a,j),f(a,j,"bee_ifNectarAmount","if",[[g.nectarRemaining(),"nectarRemaining"],[g.honeyAvailable(),"honeyAvailable"]]),f(a,j,"bee_ifelseNectarAmount","ifelse",[[g.nectarRemaining(),"nectarRemaining"],[g.honeyAvailable(),"honeyAvailable"]]),f(a,j,"bee_ifTotalNectar","if",[[g.totalNectar(),"nectarCollected"],[g.totalHoney(),"honeyCreated"]]),f(a,j,"bee_ifelseTotalNectar","ifelse",[[g.totalNectar(),"nectarCollected"],[g.totalHoney(),"honeyCreated"]]),f(a,j,"bee_whileNectarAmount","while",[[g.nectarRemaining(),"nectarRemaining"],[g.honeyAvailable(),"honeyAvailable"]]),h.generateSimpleBlock(a,j,{name:"maze_nectar",helpUrl:"",title:i?g.get():g.nectar(),titleImage:i?c.redFlower:void 0,tooltip:g.nectarTooltip(),functionName:"Maze.getNectar"}),h.generateSimpleBlock(a,j,{name:"maze_honey",helpUrl:"",title:i?g.make():g.honey(),titleImage:i?c.honey:void 0,tooltip:g.honeyTooltip(),functionName:"Maze.makeHoney"})}},{"../block_utils":77,"../codegen":106,"./locale":165}],152:[function(a,b,c){function d(a,b){return b===h.constrainDirection4(a+k.LEFT)}function e(a,b){return b===h.constrainDirection4(a+k.RIGHT)}function f(a,b){return Math.abs(a-b)==j.BACKWARD}function g(a,b){Maze.executionInfo.collectActions(),r(a,b),p(j.FORWARD,b),Maze.executionInfo.stopCollecting()}var h=a("./tiles"),i=h.Direction,j=h.MoveDirection,k=h.TurnDirection,l=h.SquareType,m=a("../utils"),n=(a("./bee"),function(a){return m.executeIfConditional(function(){return!Maze.executionInfo.isTerminated()},a)}),o=function(a,b){var c,d,e=Maze.pegmanD+a;switch(h.constrainDirection4(e)){case i.NORTH:c=Maze.map[Maze.pegmanY-1]&&Maze.map[Maze.pegmanY-1][Maze.pegmanX],d="look_north";break;case i.EAST:c=Maze.map[Maze.pegmanY][Maze.pegmanX+1],d="look_east";break;case i.SOUTH:c=Maze.map[Maze.pegmanY+1]&&Maze.map[Maze.pegmanY+1][Maze.pegmanX],d="look_south";break;case i.WEST:c=Maze.map[Maze.pegmanY][Maze.pegmanX-1],d="look_west"}return b&&Maze.executionInfo.queueAction(d,b),c!==l.WALL&&c!==l.OBSTACLE&&void 0!==c},p=function(a,b){if(!o(a,null))return Maze.executionInfo.queueAction("fail_"+(a?"backward":"forward"),b),void Maze.executionInfo.terminateWithValue(!1);var c,d=Maze.pegmanD+a;switch(h.constrainDirection4(d)){case i.NORTH:Maze.pegmanY--,c="north";break;case i.EAST:Maze.pegmanX++,c="east";break;case i.SOUTH:Maze.pegmanY++,c="south";break;case i.WEST:Maze.pegmanX--,c="west"}return Maze.executionInfo.queueAction(c,b),Maze.wordSearch?void Maze.wordSearch.markTileVisited(Maze.pegmanY,Maze.pegmanX,!1):void Maze.checkSuccess()},q=function(a,b){a==k.RIGHT?(Maze.pegmanD+=k.RIGHT,Maze.executionInfo.queueAction("right",b)):(Maze.pegmanD+=k.LEFT,Maze.executionInfo.queueAction("left",b)),Maze.pegmanD=h.constrainDirection4(Maze.pegmanD)},r=function(a,b){var c=Maze.pegmanD;if(f(c,a)){var g=0>c-a,h=g?k.RIGHT:k.LEFT;q(h,b),q(h,b)}else e(c,a)?q(k.RIGHT,b):d(c,a)&&q(k.LEFT,b)};c.moveForward=n(function(a){p(j.FORWARD,a)}),c.moveBackward=n(function(a){p(j.BACKWARD,a)}),c.moveNorth=n(function(a){g(i.NORTH,a)}),c.moveSouth=n(function(a){g(i.SOUTH,a)}),c.moveEast=n(function(a){g(i.EAST,a)}),c.moveWest=n(function(a){g(i.WEST,a)}),c.turnLeft=n(function(a){q(k.LEFT,a)}),c.turnRight=n(function(a){q(k.RIGHT,a)}),c.isPathForward=n(function(a){return o(j.FORWARD,a)}),c.noPathForward=n(function(a){return!o(j.FORWARD,a)}),c.isPathRight=n(function(a){return o(j.RIGHT,a)}),c.isPathBackward=n(function(a){return o(j.BACKWARD,a)}),c.isPathLeft=n(function(a){return o(j.LEFT,a)}),c.pilePresent=n(function(){var a=Maze.pegmanX,b=Maze.pegmanY;return Maze.dirt_[b][a]>0}),c.holePresent=n(function(){var a=Maze.pegmanX,b=Maze.pegmanY;return Maze.dirt_[b][a]<0}),c.currentPositionNotClear=n(function(){var a=Maze.pegmanX,b=Maze.pegmanY;return 0!==Maze.dirt_[b][a]}),c.fill=n(function(a){Maze.executionInfo.queueAction("putdown",a);var b=Maze.pegmanX,c=Maze.pegmanY;Maze.dirt_[c][b]=Maze.dirt_[c][b]+1}),c.dig=n(function(a){Maze.executionInfo.queueAction("pickup",a);var b=Maze.pegmanX,c=Maze.pegmanY;Maze.dirt_[c][b]=Maze.dirt_[c][b]-1}),c.notFinished=n(function(){return!Maze.checkSuccess()}),c.loopHighlight=n(function(a){Maze.executionInfo.queueAction("null",a)}),c.getNectar=n(function(a){Maze.bee.getNectar(a)}),c.makeHoney=n(function(a){Maze.bee.makeHoney(a)}),c.atFlower=n(function(a){var b=Maze.pegmanX,c=Maze.pegmanY;return Maze.executionInfo.queueAction("at_flower",a),Maze.bee.isFlower(c,b,!0)}),c.atHoneycomb=n(function(a){var b=Maze.pegmanX,c=Maze.pegmanY;return Maze.executionInfo.queueAction("at_honeycomb",a),Maze.bee.isHive(c,b,!0)}),c.nectarRemaining=n(function(a){return Maze.executionInfo.queueAction("nectar_remaining",a),Maze.bee.nectarRemaining(!0)}),c.honeyAvailable=n(function(a){return Maze.executionInfo.queueAction("honey_available",a),Maze.bee.honeyAvailable()}),c.nectarCollected=n(function(a){return Maze.executionInfo.queueAction("nectar_collected",a),Maze.bee.nectars_.length}),c.honeyCreated=n(function(a){return Maze.executionInfo.queueAction("honey_created",a),Maze.bee.honey_})},{"../utils":318,"./bee":153,"./tiles":173}],173:[function(a,b){"use strict";var c=a("../utils"),d=b.exports;d.Direction={NORTH:0,EAST:1,SOUTH:2,WEST:3},d.SquareType={WALL:0,OPEN:1,START:2,FINISH:3,OBSTACLE:4,STARTANDFINISH:5},d.TurnDirection={LEFT:-1,RIGHT:1},d.MoveDirection={FORWARD:0,RIGHT:1,BACKWARD:2,LEFT:3},d.directionToDxDy=function(a){switch(a){case d.Direction.NORTH:return{dx:0,dy:-1};case d.Direction.EAST:return{dx:1,dy:0};case d.Direction.SOUTH:return{dx:0,dy:1};case d.Direction.WEST:return{dx:-1,dy:0}}throw new Error("Invalid direction value"+a)},d.directionToFrame=function(a){return c.mod(4*a,16)},d.constrainDirection4=function(a){return c.mod(a,4)}},{"../utils":318}],153:[function(a,b){var c=a("../utils"),d=a("./locale"),e=a("../constants.js").TestResults,f=a("../constants.js").BeeTerminationValue,g=-99,h=99,i=-98,j=98,k="FC",l=function(a,b,d){if(this.maze_=a,this.studioApp_=b,this.skin_=d.skin,this.defaultFlowerColor_="redWithNectar"===d.level.flowerType?"red":"purple","purple"===this.defaultFlowerColor_&&"purpleNectarHidden"!==d.level.flowerType)throw new Error("bad flowerType for Bee: "+d.level.flowerType);this.nectarGoal_=d.level.nectarGoal||0,this.honeyGoal_=d.level.honeyGoal||0,this.initialDirt_=c.cloneWithoutFunctions(d.level.initialDirt),this.userChecks_=[]};b.exports=l,l.prototype.reset=function(){this.honey_=0,this.nectars_=[];for(var a=0;a<this.initialDirt_.length;a++){this.userChecks_[a]=[];for(var b=0;b<this.initialDirt_[a].length;b++)this.userChecks_[a][b]={checkedForFlower:!1,checkedForNectar:!1}}this.maze_.gridItemDrawer.updateNectarCounter(this.nectars_),this.maze_.gridItemDrawer.updateHoneyCounter(this.honey_)},l.prototype.finished=function(){return this.honey_<this.honeyGoal_||this.nectars_.length<this.nectarGoal_?!1:this.checkedAllClouded()&&this.checkedAllPurple()?!0:!1},l.prototype.onExecutionFinish=function(){var a=this.maze_.executionInfo;a.isTerminated()||this.finished()||(this.nectars_.length<this.nectarGoal_?a.terminateWithValue(f.INSUFFICIENT_NECTAR):this.honey_<this.honeyGoal_?a.terminateWithValue(f.INSUFFICIENT_HONEY):this.checkedAllClouded()?this.checkedAllPurple()||a.terminateWithValue(f.UNCHECKED_PURPLE):a.terminateWithValue(f.UNCHECKED_CLOUD))},l.prototype.checkedAllClouded=function(){for(var a=0;a<this.initialDirt_.length;a++)for(var b=0;b<this.initialDirt_[a].length;b++)if(this.isCloudable(a,b)&&!this.userChecks_[a][b].checkedForFlower)return!1;return!0},l.prototype.checkedAllPurple=function(){for(var a=0;a<this.initialDirt_.length;a++)for(var b=0;b<this.initialDirt_[a].length;b++)if(this.isPurpleFlower(a,b)&&!this.userChecks_[a][b].checkedForNectar)return!1;return!0},l.prototype.getTestResults=function(a){switch(a){case f.NOT_AT_FLOWER:case f.FLOWER_EMPTY:case f.NOT_AT_HONEYCOMB:case f.HONEYCOMB_FULL:return e.APP_SPECIFIC_FAIL;case f.UNCHECKED_CLOUD:case f.UNCHECKED_PURPLE:case f.INSUFFICIENT_NECTAR:case f.INSUFFICIENT_HONEY:var b=this.studioApp_.getTestResults(!0);return b>=e.TOO_MANY_BLOCKS_FAIL&&(b=e.APP_SPECIFIC_FAIL),b}return this.studioApp_.getTestResults(!1)},l.prototype.getMessage=function(a){switch(a){case f.NOT_AT_FLOWER:return d.notAtFlowerError();case f.FLOWER_EMPTY:return d.flowerEmptyError();case f.NOT_AT_HONEYCOMB:return d.notAtHoneycombError();case f.HONEYCOMB_FULL:return d.honeycombFullError();case f.UNCHECKED_CLOUD:return d.uncheckedCloudError();case f.UNCHECKED_PURPLE:return d.uncheckedPurpleError();case f.INSUFFICIENT_NECTAR:return d.insufficientNectar();case f.INSUFFICIENT_HONEY:return d.insufficientHoney();default:return null}},l.prototype.isHive=function(a,b,c){return c=c||!1,c&&(this.userChecks_[a][b].checkedForFlower=!0),this.initialDirt_[a][b]<0},l.prototype.isFlower=function(a,b,c){return c=c||!1,c&&(this.userChecks_[a][b].checkedForFlower=!0),this.initialDirt_[a][b]>0},l.prototype.isCloudable=function(a,b){return this.maze_.map[a][b]===k},l.prototype.isRedFlower=function(a,b){if(!this.isFlower(a,b))return!1;var c=/^R|P$/.exec(this.maze_.map[a][b]);return c&&"R"===c[0]?!0:c||"red"!==this.defaultFlowerColor_?!1:!0},l.prototype.isPurpleFlower=function(a,b){return this.isFlower(a,b,!1)&&!this.isRedFlower(a,b)},l.prototype.hiveGoal=function(a,b){var c=this.initialDirt_[a][b];return c>=-1?0:Math.abs(c)-1},l.prototype.hiveRemainingCapacity=function(a,b){if(!this.isHive(a,b))return 0;var c=this.maze_.dirt_[a][b];return c===g?1/0:c===i?0:-c},l.prototype.flowerRemainingCapacity=function(a,b){var c=this.maze_.dirt_[a][b];return 0>c?0:c===h?1/0:c===j?0:c},l.prototype.madeHoneyAt=function(a,b){this.maze_.dirt_[a][b]!==g&&(this.maze_.dirt_[a][b]+=1),this.honey_+=1},l.prototype.gotNectarAt=function(a,b){this.maze_.dirt_[a][b]!==h&&(this.maze_.dirt_[a][b]-=1),this.nectars_.push({row:a,col:b})},l.prototype.getNectar=function(a){var b=this.maze_.pegmanX,c=this.maze_.pegmanY;return this.isFlower(c,b)?0===this.flowerRemainingCapacity(c,b)?void this.maze_.executionInfo.terminateWithValue(f.FLOWER_EMPTY):(this.maze_.executionInfo.queueAction("nectar",a),void this.gotNectarAt(c,b)):void this.maze_.executionInfo.terminateWithValue(f.NOT_AT_FLOWER)},l.prototype.makeHoney=function(a){var b=this.maze_.pegmanX,c=this.maze_.pegmanY;return this.isHive(c,b)?0===this.hiveRemainingCapacity(c,b)?void this.maze_.executionInfo.terminateWithValue(f.HONEYCOMB_FULL):(this.maze_.executionInfo.queueAction("honey",a),void this.madeHoneyAt(c,b)):void this.maze_.executionInfo.terminateWithValue(f.NOT_AT_HONEYCOMB)},l.prototype.nectarRemaining=function(a){a=a||!1;var b=this.maze_.pegmanX,c=this.maze_.pegmanY;return a&&(this.userChecks_[c][b].checkedForNectar=!0),this.flowerRemainingCapacity(c,b)},l.prototype.honeyAvailable=function(){var a=this.maze_.pegmanX,b=this.maze_.pegmanY;return this.hiveRemainingCapacity(b,a)},l.prototype.playAudio_=function(a){this.studioApp_&&this.studioApp_.playAudio(a)},l.prototype.animateGetNectar=function(){var a=this.maze_.pegmanX,b=this.maze_.pegmanY;if(this.maze_.dirt_[b][a]<=0)throw new Error("Shouldn't be able to end up with a nectar animation if there was no nectar to be had");this.playAudio_("nectar"),this.gotNectarAt(b,a),this.maze_.gridItemDrawer.updateItemImage(b,a,!0),this.maze_.gridItemDrawer.updateNectarCounter(this.nectars_)},l.prototype.animateMakeHoney=function(){var a=this.maze_.pegmanX,b=this.maze_.pegmanY;if(!this.isHive(b,a))throw new Error("Shouldn't be able to end up with a honey animation if we arent at a hive or dont have nectar");this.playAudio_("honey"),this.madeHoneyAt(b,a),this.maze_.gridItemDrawer.updateItemImage(b,a,!0),this.maze_.gridItemDrawer.updateHoneyCounter(this.honey_)}},{"../constants.js":107,"../utils":318,"./locale":165}],165:[function(a,b){b.exports=window.blockly.maze_locale},{}]},{},[166]);