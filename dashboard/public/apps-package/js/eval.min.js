require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({75:[function(a){var b=a("../appMain");window.Eval=a("./eval");var c=a("./blocks"),d=a("../skins"),e=a("./levels");window.evalMain=function(a){a.skinsModule=d,a.blocksModule=c,b(window.Eval,e,a)}},{"../appMain":5,"../skins":197,"./blocks":60,"./eval":62,"./levels":74}],62:[function(a,b){(function(c){"use strict";function d(a){try{o.evalWith(a,{StudioApp:l,Eval:p});var b=k.displayedObject;return k.displayedObject=null,b}catch(c){return c instanceof t?c:v.isInfiniteRecursionError(c)?new t(t.Type.InfiniteRecursion,null):(window.onerror&&window.onerror("UserCode:"+c.message,document.URL,0),console&&console.log&&console.log(c),new t(t.Type.UserCodeException,null))}}function e(){var a=Blockly.Generator.blockSpaceToCode("JavaScript",["functional_display","functional_definition"]),b=d(a);return b}function f(a){if(0!==Blockly.mainBlockSpace.getTopBlocks().length)throw new Error("getDrawableFromBlocks shouldn't be called with blocks if we already have blocks in the workspace");l.loadBlocks(a);var b=e();return Blockly.mainBlockSpace.getTopBlocks().forEach(function(a){a.dispose()}),b}function g(a){var b=document.createElement("div");return b.appendChild(a.cloneNode(!0)),b.innerHTML}function h(a){var b=document.createElement("canvas");b.width=k.CANVAS_WIDTH,b.height=k.CANVAS_HEIGHT,A(b,g(document.getElementById(a))),b.svg.stop();var c=b.getContext("2d");return c.getImageData(0,0,k.CANVAS_WIDTH,k.CANVAS_HEIGHT)}function i(){for(var a=h("user"),b=h("answer"),c=0;c<a.data.length;c++)if(0!==Math.abs(a.data[c]-b.data[c]))return!1;return!0}function j(a){var b=document.getElementById("runButton");b.disabled=!1,setTimeout(function(){B(a)},2e3)}var k=b.exports,l=a("../StudioApp").singleton,k=b.exports,m=a("../../locale/current/common"),n=a("../../locale/current/eval"),o=(a("../skins"),a("./levels"),a("../codegen")),p=a("./api"),q=a("../templates/page.html"),r=a("../dom"),s=a("../block_utils"),t=a("./evalError"),u=a("./evalText"),v=a("../utils"),w=l.ResultType,x=l.TestResults;a("../canvg/canvg.js"),"undefined"!=typeof SVGElement&&(a("../canvg/rgbcolor.js"),a("../canvg/StackBlur.js"),a("../canvg/svg_todataurl"));var y,z,A=window.canvg||c.canvg;l.setCheckForEmptyBlocks(!1),k.CANVAS_HEIGHT=400,k.CANVAS_WIDTH=400,k.displayedObject=null,k.answerObject=null,k.feedbackImage=null,k.encodedFeedbackImage=null,k.init=function(b){z=b.skin,y=b.level,b.grayOutUndeletableBlocks=!0,b.forceInsertTopBlock="functional_display",b.enableShowCode=!1,b.html=q({assetUrl:l.assetUrl,data:{localeDirection:l.localeDirection(),visualization:a("./visualization.html")(),controls:a("./controls.html")({assetUrl:l.assetUrl}),blockUsed:void 0,idealBlockNumber:void 0,editCode:y.editCode,blockCounterClass:"block-counter-default"}}),b.loadAudio=function(){l.loadAudio(z.winSound,"win"),l.loadAudio(z.startSound,"start"),l.loadAudio(z.failureSound,"failure")},b.afterInject=function(){var a=document.getElementById("svgEval");if(!a)throw"something bad happened";if(a.setAttribute("width",k.CANVAS_WIDTH),a.setAttribute("height",k.CANVAS_HEIGHT),Blockly.BROKEN_CONTROL_POINTS=!1,Blockly.JavaScript.addReservedWords("Eval,code"),y.coordinateGridBackground){var c=document.getElementById("background");c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",z.assetUrl("background_grid.png")),l.createCoordinateGridBackground({svg:"svgEval",origin:-200,firstLabel:-100,lastLabel:100,increment:100}),c.setAttribute("visibility","visible")}if(y.solutionBlocks){var d=s.forceInsertTopBlock(y.solutionBlocks,b.forceInsertTopBlock),e=f(d);e&&e.draw&&(k.answerObject=e,e.draw(document.getElementById("answer")))}var g=document.getElementById("visualizationColumn");g.style.width="400px";var h=document.getElementById("resetButton");r.addClickTouchEvent(h,k.resetButtonClick)},l.init(b)},l.runButtonClick=function(){l.toggleRunReset("reset"),Blockly.mainBlockSpace.traceOn(!0),l.attempts++,k.execute()},k.resetButtonClick=function(){for(var a=document.getElementById("user");a.firstChild;)a.removeChild(a.firstChild);k.feedbackImage=null,k.encodedFeedbackImage=null},k.getTextStringsFromObject_=function(a){if(!a)return[];var b=[];return a instanceof u&&b.push(a.getText()),a.getChildren().forEach(function(a){b=b.concat(k.getTextStringsFromObject_(a))}),b},k.haveCaseMismatch_=function(a,b){var c=k.getTextStringsFromObject_(a),d=k.getTextStringsFromObject_(b);if(c.length!==d.length)return!1;c.sort(),d.sort();for(var e=!1,f=0;f<c.length;f++){var g=c[f],h=d[f];if(g!==h){if(g.toLowerCase()!==h.toLowerCase())return!1;e=!0}}return e},k.haveBooleanMismatch_=function(a,b){var c=k.getTextStringsFromObject_(a),d=k.getTextStringsFromObject_(b);if(1!==c.length||1!==d.length)return!1;var e=c[0],f=d[0];return"true"===e&&"false"===f||"false"===e&&"true"===f?!0:!1},k.execute=function(){if(k.result=w.UNSET,k.testResults=x.NO_TESTS_RUN,k.message=void 0,l.hasUnfilledFunctionalBlock())k.result=!1,k.testResults=x.EMPTY_FUNCTIONAL_BLOCK,k.message=m.emptyFunctionalBlock();else if(l.hasQuestionMarksInNumberField())k.result=!1,k.testResults=x.QUESTION_MARKS_IN_NUMBER_FIELD;else{var a=e();a&&a.draw&&a.draw(document.getElementById("user")),a instanceof t?(k.result=!1,k.testResults=x.APP_SPECIFIC_FAIL,k.message=a.feedbackMessage):k.haveCaseMismatch_(a,k.answerObject)?(k.result=!1,k.testResults=x.APP_SPECIFIC_FAIL,k.message=n.stringMismatchError()):k.haveBooleanMismatch_(a,k.answerObject)?(k.result=!1,k.testResults=x.APP_SPECIFIC_FAIL,k.message=n.wrongBooleanError()):(k.result=i(),k.testResults=l.getTestResults(k.result),y.freePlay&&(k.result=!0,k.testResults=x.FREE_PLAY))}var b=Blockly.Xml.blockSpaceToDom(Blockly.mainBlockSpace),c=Blockly.Xml.domToText(b),d={app:"eval",level:y.id,builder:y.builder,result:k.result,testResult:k.testResults,program:encodeURIComponent(c),onComplete:j,image:k.encodedFeedbackImage};"undefined"==typeof document.getElementById("svgEval").toDataURL?l.report(d):document.getElementById("svgEval").toDataURL("image/png",{callback:function(a){k.feedbackImage=a,k.encodedFeedbackImage=encodeURIComponent(k.feedbackImage.split(",")[1]),l.report(d)}}),l.playAudio(k.result?"win":"failure")};var B=function(a){y.extraTopBlocks=n.extraTopBlocks();var b={app:"eval",skin:z.id,feedbackType:k.testResults,response:a,level:y,tryAgainText:y.freePlay?m.keepPlaying():void 0,showingSharing:!y.disableSharing&&y.freePlay,saveToGalleryUrl:y.freePlay&&k.response&&k.response.save_to_gallery_url,feedbackImage:k.feedbackImage,appStrings:{reinfFeedbackMsg:n.reinfFeedbackMsg()}};k.message&&!y.edit_blocks&&(b.message=k.message),l.displayFeedback(b)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../locale/current/common":248,"../../locale/current/eval":249,"../StudioApp":4,"../block_utils":26,"../canvg/StackBlur.js":49,"../canvg/canvg.js":50,"../canvg/rgbcolor.js":51,"../canvg/svg_todataurl":52,"../codegen":54,"../dom":57,"../skins":197,"../templates/page.html":222,"../utils":243,"./api":59,"./controls.html":61,"./evalError":65,"./evalText":71,"./levels":74,"./visualization.html":76}],76:[function(require,module,exports){module.exports=function(){var t=function anonymous(locals,filters,escape){escape=escape||function(a){return String(a).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var buf=[];with(locals||{})!function(){buf.push('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svgEval">\n  <image id="background" visibility="hidden" height="400" width="400" x="0" y="0" ></image>\n  <g id="answer">\n  </g>\n  <g id="user">\n  </g>\n</svg>\n')}();return buf.join("")};return function(a){return t(a,require("ejs").filters)}}()},{ejs:264}],74:[function(a,b){var c=(a("../../locale/current/eval"),a("../block_utils"));b.exports={eval1:{solutionBlocks:c.mathBlockXml("functional_star",{COLOR:c.mathBlockXml("functional_string",null,{VAL:"green"}),STYLE:c.mathBlockXml("functional_string",null,{VAL:"solid"}),SIZE:c.mathBlockXml("functional_math_number",null,{NUM:200})}),ideal:1/0,toolbox:c.createToolbox(c.blockOfType("functional_plus")+c.blockOfType("functional_minus")+c.blockOfType("functional_times")+c.blockOfType("functional_dividedby")+c.blockOfType("functional_math_number")+c.blockOfType("functional_string")+c.blockOfType("functional_style")+c.blockOfType("functional_circle")+c.blockOfType("functional_triangle")+c.blockOfType("functional_square")+c.blockOfType("functional_rectangle")+c.blockOfType("functional_ellipse")+c.blockOfType("functional_star")+c.blockOfType("functional_radial_star")+c.blockOfType("functional_polygon")+c.blockOfType("place_image")+c.blockOfType("offset")+c.blockOfType("overlay")+c.blockOfType("underlay")+c.blockOfType("rotate")+c.blockOfType("scale")+c.blockOfType("functional_text")+c.blockOfType("string_append")+c.blockOfType("string_length")+c.blockOfType("functional_greater_than")+c.blockOfType("functional_less_than")+c.blockOfType("functional_number_equals")+c.blockOfType("functional_string_equals")+c.blockOfType("functional_logical_and")+c.blockOfType("functional_logical_or")+c.blockOfType("functional_logical_not")+c.blockOfType("functional_boolean")),startBlocks:c.mathBlockXml("functional_star",{COLOR:c.mathBlockXml("functional_string",null,{VAL:"black"}),STYLE:c.mathBlockXml("functional_string",null,{VAL:"solid"}),SIZE:c.mathBlockXml("functional_math_number",null,{NUM:200})}),requiredBlocks:"",freePlay:!1},custom:{answer:"",ideal:1/0,toolbox:"",startBlocks:"",requiredBlocks:"",freePlay:!1}}},{"../../locale/current/eval":249,"../block_utils":26}],61:[function(require,module,exports){module.exports=function(){var t=function anonymous(locals,filters,escape){escape=escape||function(a){return String(a).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var buf=[];with(locals||{})!function(){buf.push("");var a=(require("../../locale/current/eval"),require("../../locale/current/common"));buf.push('\n\n<button id="continueButton" class="launch hide float-right">\n  <img src="',escape(assetUrl("media/1x1.gif")),'">',escape(a["continue"]()),"\n</button>\n")}();return buf.join("")};return function(a){return t(a,require("ejs").filters)}}()},{"../../locale/current/common":248,"../../locale/current/eval":249,ejs:264}],60:[function(a,b,c){"use strict";function d(a,b,c,d){var e=d.blockName,f=d.blockTitle,g=d.apiName,h=d.args,i=d.returnType||a.BlockValueType.IMAGE;a.Blocks[e]={init:function(){a.FunctionalBlockUtils.initTitledFunctionalBlock(this,f,i,h)}},b[e]=function(){for(var b=[],c=0;c<h.length;c++){var d=h[c],e=Blockly.JavaScript.statementToCode(this,d.name,!1);e||(d.type===a.BlockValueType.NUMBER?e="0":"STYLE"===d.name?e=a.JavaScript.quote_("solid"):"COLOR"===d.name&&(e=a.JavaScript.quote_("black"))),b.push(e)}return"Eval."+g+"("+b.join(", ")+")"}}var e=a("../../locale/current/eval"),f=(a("../../locale/current/common"),a("./evalUtils"),a("../sharedFunctionalBlocks"));c.install=function(a,b){var c=(b.skin,a.Generator.get("JavaScript"));a.JavaScript=c;var g=function(b){var d=a.Variables.NAME_TYPE;return c.variableDB_.getDistinctName(b,d)};f.install(a,c,g),d(a,c,g,{blockName:"functional_display",blockTitle:e.displayBlockTitle(),apiName:"display",returnType:a.BlockValueType.NONE,args:[{name:"ARG1",type:a.BlockValueType.NONE}]}),d(a,c,g,{blockName:"functional_circle",blockTitle:e.circleBlockTitle(),apiName:"circle",args:[{name:"SIZE",type:a.BlockValueType.NUMBER},{name:"STYLE",type:a.BlockValueType.STRING},{name:"COLOR",type:a.BlockValueType.STRING}]}),d(a,c,g,{blockName:"functional_triangle",blockTitle:e.triangleBlockTitle(),apiName:"triangle",args:[{name:"SIZE",type:a.BlockValueType.NUMBER},{name:"STYLE",type:a.BlockValueType.STRING},{name:"COLOR",type:a.BlockValueType.STRING}]}),d(a,c,g,{blockName:"functional_square",blockTitle:e.squareBlockTitle(),apiName:"square",args:[{name:"SIZE",type:a.BlockValueType.NUMBER},{name:"STYLE",type:a.BlockValueType.STRING},{name:"COLOR",type:a.BlockValueType.STRING}]}),d(a,c,g,{blockName:"functional_rectangle",blockTitle:e.rectangleBlockTitle(),apiName:"rectangle",args:[{name:"WIDTH",type:a.BlockValueType.NUMBER},{name:"HEIGHT",type:a.BlockValueType.NUMBER},{name:"STYLE",type:a.BlockValueType.STRING},{name:"COLOR",type:a.BlockValueType.STRING}]}),d(a,c,g,{blockName:"functional_ellipse",blockTitle:e.ellipseBlockTitle(),apiName:"ellipse",args:[{name:"WIDTH",type:a.BlockValueType.NUMBER},{name:"HEIGHT",type:a.BlockValueType.NUMBER},{name:"STYLE",type:a.BlockValueType.STRING},{name:"COLOR",type:a.BlockValueType.STRING}]}),d(a,c,g,{blockName:"functional_star",blockTitle:e.starBlockTitle(),apiName:"star",args:[{name:"SIZE",type:a.BlockValueType.NUMBER},{name:"STYLE",type:a.BlockValueType.STRING},{name:"COLOR",type:a.BlockValueType.STRING}]}),d(a,c,g,{blockName:"functional_radial_star",blockTitle:e.radialStarBlockTitle(),apiName:"radialStar",args:[{name:"POINTS",type:a.BlockValueType.NUMBER},{name:"INNER",type:a.BlockValueType.NUMBER},{name:"OUTER",type:a.BlockValueType.NUMBER},{name:"STYLE",type:a.BlockValueType.STRING},{name:"COLOR",type:a.BlockValueType.STRING}]}),d(a,c,g,{blockName:"functional_polygon",blockTitle:e.polygonBlockTitle(),apiName:"polygon",args:[{name:"SIDES",type:a.BlockValueType.NUMBER},{name:"LENGTH",type:a.BlockValueType.NUMBER},{name:"STYLE",type:a.BlockValueType.STRING},{name:"COLOR",type:a.BlockValueType.STRING}]}),d(a,c,g,{blockName:"functional_text",blockTitle:e.textBlockTitle(),apiName:"text",args:[{name:"TEXT",type:a.BlockValueType.STRING},{name:"SIZE",type:a.BlockValueType.NUMBER},{name:"COLOR",type:a.BlockValueType.STRING}]}),d(a,c,g,{blockName:"overlay",blockTitle:e.overlayBlockTitle(),apiName:"overlay",args:[{name:"TOP",type:a.BlockValueType.IMAGE},{name:"BOTTOM",type:a.BlockValueType.IMAGE}]}),d(a,c,g,{blockName:"underlay",blockTitle:e.underlayBlockTitle(),apiName:"underlay",args:[{name:"BOTTOM",type:a.BlockValueType.IMAGE},{name:"TOP",type:a.BlockValueType.IMAGE}]}),d(a,c,g,{blockName:"place_image",blockTitle:e.placeImageBlockTitle(),apiName:"placeImage",args:[{name:"X",type:a.BlockValueType.NUMBER},{name:"Y",type:a.BlockValueType.NUMBER},{name:"IMAGE",type:a.BlockValueType.IMAGE}]}),d(a,c,g,{blockName:"offset",blockTitle:e.offsetBlockTitle(),apiName:"offset",args:[{name:"X",type:a.BlockValueType.NUMBER},{name:"Y",type:a.BlockValueType.NUMBER},{name:"IMAGE",type:a.BlockValueType.IMAGE}]}),d(a,c,g,{blockName:"rotate",blockTitle:e.rotateImageBlockTitle(),apiName:"rotateImage",args:[{name:"DEGREES",type:a.BlockValueType.NUMBER},{name:"IMAGE",type:a.BlockValueType.IMAGE}]}),d(a,c,g,{blockName:"scale",blockTitle:e.scaleImageBlockTitle(),apiName:"scaleImage",args:[{name:"FACTOR",type:a.BlockValueType.NUMBER},{name:"IMAGE",type:a.BlockValueType.IMAGE}]}),d(a,c,g,{blockName:"string_append",blockTitle:e.stringAppendBlockTitle(),apiName:"stringAppend",returnType:a.BlockValueType.STRING,args:[{name:"FIRST",type:a.BlockValueType.STRING},{name:"SECOND",type:a.BlockValueType.STRING}]}),d(a,c,g,{blockName:"string_length",blockTitle:e.stringLengthBlockTitle(),apiName:"stringLength",returnType:a.BlockValueType.NUMBER,args:[{name:"STR",type:a.BlockValueType.STRING}]}),a.FunctionalBlockUtils.installStringPicker(a,c,{blockName:"functional_style",values:[[e.solid(),"solid"],["75%","75%"],["50%","50%"],["25%","25%"],[e.outline(),"outline"]]})}},{"../../locale/current/common":248,"../../locale/current/eval":249,"../sharedFunctionalBlocks":196,"./evalUtils":73}],59:[function(a,b,c){var d=a("./evalUtils"),e=a("./evalImage"),f=a("./evalText"),g=a("./evalCircle"),h=a("./evalTriangle"),i=a("./evalMulti"),j=a("./evalRect"),k=a("./evalEllipse"),f=a("./evalText"),l=a("./evalStar"),m=a("./evalPolygon");c.display=function(a){void 0===a&&(a=""),a.draw||(a=new f(a.toString(),12,"black")),Eval.displayedObject=a},c.circle=function(a,b,c){return new g(a,b,c)},c.triangle=function(a,b,c){return new h(a,b,c)},c.overlay=function(a,b){return new i(a,b)},c.underlay=function(a,b){return new i(b,a)},c.square=function(a,b,c){return new j(a,a,b,c)},c.rectangle=function(a,b,c,d){return new j(a,b,c,d)},c.ellipse=function(a,b,c,d){return new k(a,b,c,d)},c.text=function(a,b,c){return new f(a,b,c)},c.star=function(a,b,c){var d=(3-Math.sqrt(5))/2*a;return new l(5,d,a,b,c)},c.radialStar=function(a,b,c,d,e){return new l(a,b,c,d,e)},c.polygon=function(a,b,c,d){return new m(a,b,c,d)},c.placeImage=function(a,b,c){return d.ensureNumber(a),d.ensureNumber(b),d.ensureType(c,e),a+=Eval.CANVAS_WIDTH/2,b+=Eval.CANVAS_HEIGHT/2,b=d.cartesianToPixel(b),c.place(a,b),c},c.offset=function(a,b,c){return d.ensureNumber(a),d.ensureNumber(b),d.ensureType(c,e),a=c.x_+a,b=c.y_-b,c.place(a,b),c},c.rotateImage=function(a,b){return d.ensureNumber(a),b.rotate(a),b},c.scaleImage=function(a,b){return b.scale(a,a),b},c.stringAppend=function(a,b){return d.ensureString(a),d.ensureString(b),a+b},c.stringLength=function(a){return d.ensureString(a),a.length}},{"./evalCircle":63,"./evalEllipse":64,"./evalImage":66,"./evalMulti":67,"./evalPolygon":68,"./evalRect":69,"./evalStar":70,"./evalText":71,"./evalTriangle":72,"./evalUtils":73}],72:[function(a,b){var c=a("./evalImage"),d=a("./evalUtils"),e=function(a,b,e){d.ensureNumber(a),d.ensureStyle(b),d.ensureColor(e),c.apply(this,[b,e]),this.edge_=a,this.element_=null};e.inherits(c),b.exports=e,e.prototype.draw=function(a){this.element_||(this.element_=document.createElementNS(Blockly.SVG_NS,"polygon"),a.appendChild(this.element_));var b=Math.sqrt(3)/2*this.edge_,d={x:-this.edge_/2,y:b/3},e={x:this.edge_/2,y:b/3},f={x:0,y:2*-b/3};this.element_.setAttribute("points",d.x+","+d.y+" "+e.x+","+e.y+" "+f.x+","+f.y),c.prototype.draw.apply(this,arguments)}},{"./evalImage":66,"./evalUtils":73}],71:[function(a,b){var c=a("./evalImage"),d=a("./evalUtils"),e=function(a,b,e){d.ensureString(a),d.ensureNumber(b),d.ensureColor(e),c.apply(this,["solid",e]),this.text_=a,this.fontSize_=b,this.element_=null};e.inherits(c),b.exports=e,e.prototype.draw=function(a){this.element_||(this.element_=document.createElementNS(Blockly.SVG_NS,"text"),a.appendChild(this.element_)),this.element_.textContent=this.text_,this.element_.setAttribute("style","font-size: "+this.fontSize_+"pt");var b=this.element_.getBBox();this.element_.setAttribute("x",-b.width/2),this.element_.setAttribute("y",-b.height/2),c.prototype.draw.apply(this,arguments)},e.prototype.getText=function(){return this.text_}},{"./evalImage":66,"./evalUtils":73}],70:[function(a,b){var c=a("./evalImage"),d=a("./evalUtils"),e=function(a,b,e,f,g){d.ensureNumber(a),d.ensureNumber(b),d.ensureNumber(e),d.ensureStyle(f),d.ensureColor(g),c.apply(this,[f,g]),this.outer_=e,this.inner_=b,this.pointCount_=a,this.element_=null};e.inherits(c),b.exports=e,e.prototype.draw=function(a){this.element_||(this.element_=document.createElementNS(Blockly.SVG_NS,"polygon"),a.appendChild(this.element_));for(var b=[],d=this.outer_,e=this.inner_,f=2*Math.PI/this.pointCount_,g=0;g<2*Math.PI;g+=f)b.push(d*Math.cos(g)+","+d*Math.sin(g)),b.push(e*Math.cos(g+f/2)+","+e*Math.sin(g+f/2));this.element_.setAttribute("points",b.join(" ")),this.pointCount_%2==1&&this.rotate(-90/this.pointCount_),c.prototype.draw.apply(this,arguments)}},{"./evalImage":66,"./evalUtils":73}],69:[function(a,b){var c=a("./evalImage"),d=a("./evalUtils"),e=function(a,b,e,f){d.ensureNumber(a),d.ensureNumber(b),d.ensureStyle(e),d.ensureColor(f),c.apply(this,[e,f]),this.width_=a,this.height_=b,this.element_=null};e.inherits(c),b.exports=e,e.prototype.draw=function(a){this.element_||(this.element_=document.createElementNS(Blockly.SVG_NS,"rect"),a.appendChild(this.element_)),this.element_.setAttribute("x",-this.width_/2),this.element_.setAttribute("y",-this.height_/2),this.element_.setAttribute("width",this.width_),this.element_.setAttribute("height",this.height_),c.prototype.draw.apply(this,arguments)}},{"./evalImage":66,"./evalUtils":73}],68:[function(a,b){var c=a("./evalImage"),d=a("./evalUtils"),e=function(a,b,e,f){d.ensureNumber(a),d.ensureNumber(b),d.ensureStyle(e),d.ensureColor(f),c.apply(this,[e,f]),this.radius_=b/(2*Math.sin(Math.PI/a)),this.pointCount_=a,this.element_=null};e.inherits(c),b.exports=e,e.prototype.draw=function(a){this.element_||(this.element_=document.createElementNS(Blockly.SVG_NS,"polygon"),a.appendChild(this.element_));for(var b=[],d=this.radius_,e=2*Math.PI/this.pointCount_,f=1;f<=this.pointCount_;f++)b.push(d*Math.cos(f*e)+","+d*Math.sin(f*e));this.element_.setAttribute("points",b.join(" ")),c.prototype.draw.apply(this,arguments)}},{"./evalImage":66,"./evalUtils":73}],67:[function(a,b){var c=a("./evalImage"),d=a("./evalUtils"),e=function(a,b){d.ensureType(a,c),d.ensureType(b,c),c.apply(this),this.image1_=a,this.image2_=b;var e,f;e=this.image1_.x_-this.x_,f=this.image1_.y_-this.y_,this.image1_.updatePosition(e,f),e=this.image2_.x_-this.x_,f=this.image2_.y_-this.y_,this.image2_.updatePosition(e,f),this.element_=null};e.inherits(c),b.exports=e,e.prototype.draw=function(a){if(!this.element_){this.element_=document.createElementNS(Blockly.SVG_NS,"g"),a.appendChild(this.element_)}this.image2_.draw(this.element_),this.image1_.draw(this.element_),c.prototype.draw.apply(this,arguments)},c.prototype.getChildren=function(){return[this.image1_,this.image2_]}},{"./evalImage":66,"./evalUtils":73}],64:[function(a,b){var c=a("./evalImage"),d=a("./evalUtils"),e=function(a,b,e,f){d.ensureNumber(a),d.ensureNumber(b),d.ensureStyle(e),d.ensureColor(f),c.apply(this,[e,f]),this.width_=a,this.height_=b,this.element_=null};e.inherits(c),b.exports=e,e.prototype.draw=function(a){this.element_||(this.element_=document.createElementNS(Blockly.SVG_NS,"ellipse"),a.appendChild(this.element_)),this.element_.setAttribute("cx",0),this.element_.setAttribute("cy",0),this.element_.setAttribute("rx",this.width_/2),this.element_.setAttribute("ry",this.height_/2),c.prototype.draw.apply(this,arguments)}},{"./evalImage":66,"./evalUtils":73}],63:[function(a,b){var c=a("./evalImage"),d=a("./evalUtils"),e=function(a,b,e){d.ensureNumber(a),d.ensureStyle(b),d.ensureColor(e),c.apply(this,[b,e]),this.radius_=a,this.element_=null};e.inherits(c),b.exports=e,e.prototype.draw=function(a){this.element_||(this.element_=document.createElementNS(Blockly.SVG_NS,"circle"),a.appendChild(this.element_)),this.element_.setAttribute("cx",0),this.element_.setAttribute("cy",0),this.element_.setAttribute("r",this.radius_),c.prototype.draw.apply(this,arguments)},e.prototype.rotate=function(){}},{"./evalImage":66,"./evalUtils":73}],66:[function(a,b){var c=a("./evalUtils"),d=function(a,b){this.x_=200,this.y_=200,this.rotation_=0,this.scaleX_=1,this.scaleY=1,this.style_=a,this.color_=b};b.exports=d,d.prototype.updatePosition=function(a,b){this.x_=a,this.y_=b},d.prototype.draw=function(){this.style_&&this.color_&&(this.element_.setAttribute("fill",c.getFill(this.style_,this.color_)),this.element_.setAttribute("stroke",c.getStroke(this.style_,this.color_)),this.element_.setAttribute("opacity",c.getOpacity(this.style_,this.color_)));var a="";a+=" translate("+this.x_+" "+this.y_+")",(1!==this.scaleX_||1!==this.scaleY)&&(a+=" scale("+this.scaleX_+" "+this.scaleY_+")"),0!==this.rotation_&&(a+=" rotate("+this.rotation_+")"),""===a?this.element_.removeAttribute("transform"):this.element_.setAttribute("transform",a)},d.prototype.place=function(a,b){this.x_=a,this.y_=b},d.prototype.rotate=function(a){this.rotation_+=a},d.prototype.scale=function(a,b){this.scaleX_=a,this.scaleY_=b},d.prototype.getChildren=function(){return[]}},{"./evalUtils":73}],73:[function(a,b){var c=a("./evalError"),d=a("../utils"),e=d.getLodash();b.exports.ensureString=function(a){return b.exports.ensureType(a,"string")},b.exports.ensureNumber=function(a){return b.exports.ensureType(a,"number")},b.exports.ensureStyle=function(a){if("%"===a.slice(-1)){var d=b.exports.getOpacity(a);if(d>=0&&1>=d)return}if(!e.contains(["outline","solid"],a))throw new c(c.Type.BadStyle,a)},b.exports.ensureColor=function(a){var b=document.createElement("div");if(b.style.color=a,!b.style.color)throw new c(c.Type.BadColor,a)},b.exports.ensureType=function(a,b){if("string"==typeof b){if(typeof a!==b)throw new Error("expected type: "+b+"\ngot type: "+typeof a)}else if(!(a instanceof b))throw new Error("unexpected object")},b.exports.getFill=function(a,b){return"outline"===a?"none":b},b.exports.getStroke=function(a,b){return"outline"===a?b:"none"},b.exports.getOpacity=function(a){var b=1;return"%"===a.slice(-1)&&(b=parseInt(a.slice(0,-1),10)/100),b},b.exports.cartesianToPixel=function(a){return 400-a}},{"../utils":243,"./evalError":65}],65:[function(a,b){var c=a("../../locale/current/eval"),d=function(a,b){switch(this.type=a,a){case d.Type.BadStyle:this.feedbackMessage=c.badStyleStringError({val:b});break;case d.Type.BadColor:this.feedbackMessage=c.badColorStringError({val:b});break;case d.Type.InfiniteRecursion:this.feedbackMessage=c.infiniteRecursionError();break;case d.Type.UserCodeException:this.feedbackMessage=c.userCodeException();break;default:this.feedbackMessag=""}};b.exports=d,d.Type={BadStyle:0,BadColor:1,InfiniteRecursion:2,UserCodeException:3}},{"../../locale/current/eval":249}],249:[function(a,b){b.exports=window.blockly.appLocale},{}]},{},[75]);