require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({"/home/ubuntu/staging/apps/build/js/gamelab/main.js":[function(a,b,c){"use strict";var d=a("../appMain"),e=a("../StudioApp").singleton,f=a("./GameLab"),g=a("./blocks"),h=a("./skins"),i=a("./levels");window.gamelabMain=function(a){a.skinsModule=h,a.blocksModule=g;var b=new f;b.injectStudioApp(e),d(b,i,a)}},{"../StudioApp":"/home/ubuntu/staging/apps/build/js/StudioApp.js","../appMain":"/home/ubuntu/staging/apps/build/js/appMain.js","./GameLab":"/home/ubuntu/staging/apps/build/js/gamelab/GameLab.js","./blocks":"/home/ubuntu/staging/apps/build/js/gamelab/blocks.js","./levels":"/home/ubuntu/staging/apps/build/js/gamelab/levels.js","./skins":"/home/ubuntu/staging/apps/build/js/gamelab/skins.js"}],"/home/ubuntu/staging/apps/build/js/gamelab/skins.js":[function(a,b,c){"use strict";var d=a("../skins");c.load=function(a,b){var c=d.load(a,b);return c}},{"../skins":"/home/ubuntu/staging/apps/build/js/skins.js"}],"/home/ubuntu/staging/apps/build/js/gamelab/blocks.js":[function(a,b,c){"use strict";var d=a("./locale");a("../locale"),a("./GameLab");c.install=function(a,b){var c=(b.skin,a.Generator.get("JavaScript"));a.JavaScript=c,a.Blocks.gamelab_foo={helpUrl:"",init:function(){this.setHSV(184,1,.74),this.appendDummyInput().appendTitle(d.foo()),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(d.fooTooltip())}},c.gamelab_foo=function(){return"GameLab.foo();\n"}}},{"../locale":"/home/ubuntu/staging/apps/build/js/locale.js","./GameLab":"/home/ubuntu/staging/apps/build/js/gamelab/GameLab.js","./locale":"/home/ubuntu/staging/apps/build/js/gamelab/locale.js"}],"/home/ubuntu/staging/apps/build/js/gamelab/GameLab.js":[function(a,b,c){"use strict";var d=(a("../locale"),a("./locale")),e=(a("./levels"),a("../codegen")),f=a("./api"),g=a("./apiJavascript"),h=a("../templates/page.html.ejs"),i=a("../utils"),j=(a("../dropletUtils"),i.getLodash()),k=a("./dropletConfig"),l=a("../JsDebuggerUi"),m=a("../JSInterpreter"),n=a("../JsInterpreterLogger"),o=a("./GameLabP5"),p=(a("../assetManagement/assetPrefix"),5e5),q=function(){this.skin=null,this.level=null,this.tickIntervalId=0,this.tickCount=0,this.studioApp_=null,this.JSInterpreter=null,this.consoleLogger_=new n(window.console),this.debugger_=new l(this.runButtonClick.bind(this)),this.eventHandlers={},this.Globals={},this.currentCmdQueue=null,this.drawInProgress=!1,this.setupInProgress=!1,this.startedHandlingEvents=!1,this.gameLabP5=new o,this.api=f,this.api.injectGameLab(this),this.apiJS=g,this.apiJS.injectGameLab(this),k.injectGameLab(this)};b.exports=q,q.prototype.injectStudioApp=function(a){this.studioApp_=a,this.studioApp_.reset=j.bind(this.reset,this),this.studioApp_.runButtonClick=j.bind(this.runButtonClick,this),this.studioApp_.setCheckForEmptyBlocks(!0)},q.baseP5loadImage=null,q.prototype.init=function(b){if(!this.studioApp_)throw new Error("GameLab requires a StudioApp");this.skin=b.skin,this.level=b.level,b.usesAssets=!0,this.gameLabP5.init({onExecutionStarting:this.onP5ExecutionStarting.bind(this),onPreload:this.onP5Preload.bind(this),onSetup:this.onP5Setup.bind(this),onDraw:this.onP5Draw.bind(this)}),b.dropletConfig=k,b.appMsg=d;var c=!this.level.isProjectLevel,e=j.isEmpty(this.level.softButtons),f=!0,g=a("./controls.html.ejs")({assetUrl:this.studioApp_.assetUrl,finishButton:e&&c}),i=this.debugger_.getMarkup(this.studioApp_.assetUrl,{showButtons:!0,showConsole:!0});b.html=h({assetUrl:this.studioApp_.assetUrl,data:{visualization:a("./visualization.html.ejs")(),localeDirection:this.studioApp_.localeDirection(),controls:g,extraControlRows:i,blockUsed:void 0,idealBlockNumber:void 0,editCode:this.level.editCode,blockCounterClass:"block-counter-default",pinWorkspaceToBottom:!0,readonlyWorkspace:b.readonlyWorkspace}}),b.loadAudio=this.loadAudio_.bind(this),b.afterInject=this.afterInject_.bind(this,b),b.afterEditorReady=this.afterEditorReady_.bind(this,f),b.unusedConfig=this.p5specialFunctions,this.studioApp_.init(b),this.debugger_.initializeAfterDomCreated({defaultStepSpeed:1})},q.prototype.loadAudio_=function(){this.studioApp_.loadAudio(this.skin.winSound,"win"),this.studioApp_.loadAudio(this.skin.startSound,"start"),this.studioApp_.loadAudio(this.skin.failureSound,"failure")},q.prototype.afterInject_=function(a){this.studioApp_.isUsingBlockly()&&Blockly.JavaScript.addReservedWords("GameLab,code");var b=document.getElementById("visualizationColumn");b.style.width="400px";var c=document.getElementById("divGameLab");c.style.width="400px",c.style.height="400px"},q.prototype.afterEditorReady_=function(a){a&&this.studioApp_.enableBreakpoints()},q.prototype.reset=function(a){this.eventHandlers={},window.clearInterval(this.tickIntervalId),this.tickIntervalId=0,this.tickCount=0,this.gameLabP5.resetExecution(),this.drawInProgress=!1,this.setupInProgress=!1,this.startedHandlingEvents=!1,this.debugger_.detach(),this.consoleLogger_.detach(),this.JSInterpreter&&(this.JSInterpreter.deinitialize(),this.JSInterpreter=null),this.executionError=null},q.prototype.runButtonClick=function(){this.studioApp_.toggleRunReset("reset"),this.studioApp_.isUsingBlockly()&&Blockly.mainBlockSpace.traceOn(!0),this.studioApp_.attempts++,this.execute()},q.prototype.evalCode=function(a){try{e.evalWith(a,{GameLab:this.api})}catch(b){b!==1/0&&(window.onerror&&window.onerror("UserCode:"+b.message,document.URL,0),window.alert(b))}},q.prototype.execute=function(){return this.studioApp_.reset(),this.studioApp_.isUsingBlockly()&&(this.studioApp_.hasExtraTopBlocks()||this.studioApp_.hasDuplicateVariablesInForLoops())?void this.checkAnswer():(this.gameLabP5.startExecution(),this.level.editCode||(this.code=Blockly.Generator.blockSpaceToCode("JavaScript"),this.evalCode(this.code)),this.studioApp_.playAudio("start"),this.studioApp_.isUsingBlockly()&&Blockly.mainBlockSpaceEditor.setEnableToolbox(!1),void(this.tickIntervalId=window.setInterval(j.bind(this.onTick,this),1)))},q.prototype.initInterpreter=function(){if(this.level.editCode&&(this.JSInterpreter=new m({studioApp:this.studioApp_,maxInterpreterStepsPerTick:p,customMarshalGlobalProperties:this.gameLabP5.getCustomMarshalGlobalProperties()}),this.JSInterpreter.onExecutionError.register(this.handleExecutionError.bind(this)),this.consoleLogger_.attachTo(this.JSInterpreter),this.debugger_.attachTo(this.JSInterpreter),this.JSInterpreter.parse({code:this.studioApp_.getCode(),blocks:k.blocks,blockFilter:this.level.executePaletteApisOnly&&this.level.codeFunctions,enableEvents:!0}),this.JSInterpreter.initialized())){this.gameLabP5.p5specialFunctions.forEach(function(a){var b=this.JSInterpreter.findGlobalFunction(a);b&&(this.eventHandlers[a]=e.createNativeFunctionFromInterpreterFunction(b))},this),e.customMarshalObjectList=this.gameLabP5.getCustomMarshalObjectList(),e.customMarshalModifiedObjectList=this.gameLabP5.getCustomMarshalModifiedObjectList();var a=this.gameLabP5.getGlobalPropertyList();for(var b in a)this.JSInterpreter.createGlobalProperty(b,a[b][0],a[b][1])}},q.prototype.onTick=function(){this.tickCount++,this.JSInterpreter&&(this.JSInterpreter.executeInterpreter(),!this.startedHandlingEvents&&this.JSInterpreter.startedHandlingEvents&&(this.startedHandlingEvents=!0,this.gameLabP5.notifyUserGlobalCodeComplete()),this.completeSetupIfSetupComplete(),this.completeRedrawIfDrawComplete())},q.prototype.onP5ExecutionStarting=function(){this.gameLabP5.p5eventNames.forEach(function(a){window[a]=function(){this.JSInterpreter&&this.eventHandlers[a]&&this.eventHandlers[a].apply(null)}.bind(this)},this)},q.prototype.onP5Preload=function(){this.initInterpreter(),this.JSInterpreter&&this.JSInterpreter.initialized()&&(this.JSInterpreter.executeInterpreter(!0),this.eventHandlers.preload&&this.eventHandlers.preload.apply(null))},q.prototype.onP5Setup=function(){if(this.JSInterpreter){for(var a in this.gameLabP5.p5._preloadMethods)this.JSInterpreter.createGlobalProperty(a,this.gameLabP5.p5[a],this.gameLabP5.p5);this.eventHandlers.setup&&(this.setupInProgress=!0,this.eventHandlers.setup.apply(null)),this.completeSetupIfSetupComplete()}},q.prototype.completeSetupIfSetupComplete=function(){this.setupInProgress&&this.JSInterpreter.seenReturnFromCallbackDuringExecution&&(this.gameLabP5.afterSetupComplete(),this.setupInProgress=!1)},q.prototype.onP5Draw=function(){this.JSInterpreter&&this.eventHandlers.draw&&(this.drawInProgress=!0,this.eventHandlers.draw.apply(null)),this.completeRedrawIfDrawComplete()},q.prototype.completeRedrawIfDrawComplete=function(){this.drawInProgress&&this.JSInterpreter.seenReturnFromCallbackDuringExecution&&(this.gameLabP5.afterDrawComplete(),this.drawInProgress=!1,$("#bubble").text("FPS: "+this.gameLabP5.getFrameRate().toFixed(0)))},q.prototype.handleExecutionError=function(a,b){throw this.consoleLogger_.log(a),a},q.prototype.executeCmd=function(a,b,c){console.log("GameLab executeCmd "+b)},q.prototype.finishExecution_=function(){this.studioApp_.isUsingBlockly()&&Blockly.mainBlockSpace.highlightBlock(null),this.checkAnswer()},q.prototype.displayFeedback_=function(){var a=this.level;this.studioApp_.displayFeedback({app:"gamelab",skin:this.skin.id,feedbackType:this.testResults,message:this.message,response:this.response,level:a,showingSharing:!a.disableSharing&&a.freePlay,saveToGalleryUrl:a.freePlay&&this.response&&this.response.save_to_gallery_url,appStrings:{reinfFeedbackMsg:d.reinfFeedbackMsg(),sharingText:d.shareDrawing()}})},q.prototype.onReportComplete=function(a){this.response=a;var b=document.getElementById("runButton");b.disabled=!1,this.displayFeedback_()},q.prototype.checkAnswer=function(){var a=this.level,b=a.freePlay&&(!a.editCode||!this.executionError);this.testResults=this.studioApp_.getTestResults(b);var c;if(this.studioApp_.isUsingBlockly()){var d=Blockly.Xml.blockSpaceToDom(Blockly.mainBlockSpace);c=Blockly.Xml.domToText(d)}this.message=void 0,a.editCode&&(c=this.studioApp_.editor.getValue()),a.freePlay&&(this.testResults=this.studioApp_.TestResults.FREE_PLAY),this.studioApp_.stopLoopingAudio("start"),this.testResults===this.studioApp_.TestResults.FREE_PLAY||this.testResults>=this.studioApp_.TestResults.TOO_MANY_BLOCKS_FAIL?this.studioApp_.playAudio("win"):this.studioApp_.playAudio("failure");var e={app:"gamelab",level:a.id,builder:a.builder,result:b,testResult:this.testResults,program:encodeURIComponent(c),onComplete:j.bind(this.onReportComplete,this)};this.studioApp_.report(e),this.studioApp_.isUsingBlockly()&&Blockly.mainBlockSpaceEditor.setEnableToolbox(!0)}},{"../JSInterpreter":"/home/ubuntu/staging/apps/build/js/JSInterpreter.js","../JsDebuggerUi":"/home/ubuntu/staging/apps/build/js/JsDebuggerUi.js","../JsInterpreterLogger":"/home/ubuntu/staging/apps/build/js/JsInterpreterLogger.js","../assetManagement/assetPrefix":"/home/ubuntu/staging/apps/build/js/assetManagement/assetPrefix.js","../codegen":"/home/ubuntu/staging/apps/build/js/codegen.js","../dropletUtils":"/home/ubuntu/staging/apps/build/js/dropletUtils.js","../locale":"/home/ubuntu/staging/apps/build/js/locale.js","../templates/page.html.ejs":"/home/ubuntu/staging/apps/build/js/templates/page.html.ejs","../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./GameLabP5":"/home/ubuntu/staging/apps/build/js/gamelab/GameLabP5.js","./api":"/home/ubuntu/staging/apps/build/js/gamelab/api.js","./apiJavascript":"/home/ubuntu/staging/apps/build/js/gamelab/apiJavascript.js","./controls.html.ejs":"/home/ubuntu/staging/apps/build/js/gamelab/controls.html.ejs","./dropletConfig":"/home/ubuntu/staging/apps/build/js/gamelab/dropletConfig.js","./levels":"/home/ubuntu/staging/apps/build/js/gamelab/levels.js","./locale":"/home/ubuntu/staging/apps/build/js/gamelab/locale.js","./visualization.html.ejs":"/home/ubuntu/staging/apps/build/js/gamelab/visualization.html.ejs"}],"/home/ubuntu/staging/apps/build/js/gamelab/visualization.html.ejs":[function(require,module,exports){module.exports=function(){var t=function anonymous(locals,filters,escape){escape=escape||function(a){return String(a).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var buf=[];with(locals||{})!function(){buf.push('<div id="divGameLab" tabindex="1">\n</div>\n')}();return buf.join("")};return function(a){return t(a,require("ejs").filters)}}()},{ejs:"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/gamelab/levels.js":[function(a,b,c){"use strict";var d=(a("./locale"),a("../utils")),e=a("../block_utils"),f=e.createToolbox,g=e.blockOfType,h=(e.createCategory,b.exports={});h.sandbox={ideal:1/0,requiredBlocks:[],scale:{snapRadius:2},softButtons:["leftButton","rightButton","downButton","upButton"],freePlay:!0,toolbox:f(g("gamelab_foo")),startBlocks:'<block type="when_run" deletable="false" x="20" y="20"></block>'},h.custom=d.extend(h.sandbox,{editCode:!0,codeFunctions:{var_loadImage:null,image:null,fill:null,noFill:null,stroke:null,noStroke:null,arc:null,ellipse:null,line:null,point:null,rect:null,triangle:null,text:null,textAlign:null,textSize:null,drawSprites:null,allSprites:null,background:null,width:null,height:null,camera:null,"camera.on":null,"camera.off":null,"camera.active":null,"camera.mouseX":null,"camera.mouseY":null,"camera.position.x":null,"camera.position.y":null,"camera.zoom":null,var_createSprite:null,"sprite.setSpeed":null,"sprite.getAnimationLabel":null,"sprite.getDirection":null,"sprite.getSpeed":null,"sprite.remove":null,"sprite.addAnimation":null,"sprite.addImage":null,"sprite.addSpeed":null,"sprite.addToGroup":null,"sprite.changeAnimation":null,"sprite.changeImage":null,"sprite.attractionPoint":null,"sprite.limitSpeed":null,"sprite.setCollider":null,"sprite.setVelocity":null,"sprite.height":null,"sprite.width":null,"sprite.animation":null,"sprite.depth":null,"sprite.friction":null,"sprite.immovable":null,"sprite.life":null,"sprite.mass":null,"sprite.maxSpeed":null,"sprite.position.x":null,"sprite.position.y":null,"sprite.previousPosition.x":null,"sprite.previousPosition.y":null,"sprite.removed":null,"sprite.restitution":null,"sprite.rotateToDirection":null,"sprite.rotation":null,"sprite.rotationSpeed":null,"sprite.scale":null,"sprite.shapeColor":null,"sprite.touching":null,"sprite.velocity.x":null,"sprite.velocity.y":null,"sprite.visible":null,var_loadAnimation:null,animation:null,"anim.changeFrame":null,"anim.nextFrame":null,"anim.previousFrame":null,"anim.clone":null,"anim.getFrame":null,"anim.getLastFrame":null,"anim.goToFrame":null,"anim.play":null,"anim.rewind":null,"anim.stop":null,"anim.frameChanged":null,"anim.frameDelay":null,"anim.images":null,"anim.looping":null,"anim.playing":null,"anim.visible":null,Group:null,"group.add":null,"group.remove":null,"group.clear":null,"group.contains":null,"group.get":null,"group.maxDepth":null,"group.minDepth":null,keyIsPressed:null,key:null,keyCode:null,keyPressed:null,keyReleased:null,keyTyped:null,keyDown:null,keyWentDown:null,keyWentUp:null,mouseX:null,mouseY:null,pmouseX:null,pmouseY:null,mouseButton:null,mouseIsPressed:null,mouseMoved:null,mouseDragged:null,mousePressed:null,mouseReleased:null,mouseClicked:null,mouseWheel:null,forLoop_i_0_4:null,ifBlock:null,ifElseBlock:null,whileBlock:null,addOperator:null,subtractOperator:null,multiplyOperator:null,divideOperator:null,equalityOperator:null,inequalityOperator:null,greaterThanOperator:null,greaterThanOrEqualOperator:null,lessThanOperator:null,lessThanOrEqualOperator:null,andOperator:null,orOperator:null,notOperator:null,randomNumber_min_max:null,mathRound:null,mathAbs:null,mathMax:null,mathMin:null,mathRandom:null,declareAssign_x:null,declareNoAssign_x:null,assign_x:null,declareAssign_str_hello_world:null,substring:null,indexOf:null,includes:null,length:null,toUpperCase:null,toLowerCase:null,declareAssign_list_abd:null,listLength:null,functionParams_none:null,functionParams_n:null,callMyFunction:null,callMyFunction_n:null,"return":null},startBlocks:["function setup() {","  ","}","function draw() {","  ","}",""].join("\n")}),h.ec_sandbox=d.extend(h.custom,{})},{"../block_utils":"/home/ubuntu/staging/apps/build/js/block_utils.js","../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./locale":"/home/ubuntu/staging/apps/build/js/gamelab/locale.js"}],"/home/ubuntu/staging/apps/build/js/gamelab/dropletConfig.js":[function(a,b,c){"use strict";function d(a,b){f(b,a)}var e,f=(a("./locale"),a("./apiJavascript.js"),a("../assetManagement/show")),g=a("../assetManagement/getAssetDropdown"),h="#D3E965",i="#19C3E1",j="#F78183",k="#4DD0E1",l="#FFF176",m="#68D995",i="#64B5F6";c.injectGameLab=function(a){e=a},b.exports.blocks=[{func:"loadImage",category:"Game Lab",paletteParams:["url"],params:['"https://code.org/images/logo.png"'],type:"either",dropdown:{0:function(){return g("image")}},assetTooltip:{0:d.bind(null,"image")}},{func:"var_loadImage",category:"Game Lab",blockPrefix:"var img = loadImage",paletteParams:["url"],params:['"https://code.org/images/logo.png"'],noAutocomplete:!0},{func:"image",category:"Game Lab",paletteParams:["image","srcX","srcY","srcW","srcH","x","y","w","h"],params:["img","0","0","img.width","img.height","0","0","img.width","img.height"]},{func:"fill",category:"Game Lab",paletteParams:["color"],params:["'yellow'"]},{func:"noFill",category:"Game Lab"},{func:"stroke",category:"Game Lab",paletteParams:["color"],params:["'blue'"]},{func:"noStroke",category:"Game Lab"},{func:"arc",category:"Game Lab",paletteParams:["x","y","w","h","start","stop"],params:["0","0","800","800","0","HALF_PI"]},{func:"ellipse",category:"Game Lab",paletteParams:["x","y","w","h"],params:["200","200","400","400"]},{func:"line",category:"Game Lab",paletteParams:["x1","y1","x2","y2"],params:["0","0","400","400"]},{func:"point",category:"Game Lab",paletteParams:["x","y"],params:["200","200"]},{func:"rect",category:"Game Lab",paletteParams:["x","y","w","h"],params:["100","100","200","200"]},{func:"triangle",category:"Game Lab",paletteParams:["x1","y1","x2","y2","x3","y3"],params:["200","0","0","400","400","400"]},{func:"text",category:"Game Lab",paletteParams:["str","x","y","w","h"],params:["'text'","0","0","400","100"]},{func:"textAlign",category:"Game Lab",paletteParams:["horiz","vert"],params:["CENTER","TOP"]},{func:"textSize",category:"Game Lab",paletteParams:["pixels"],params:["12"]},{func:"drawSprites",category:"Game Lab"},{func:"allSprites",category:"Game Lab",block:"allSprites",type:"property"},{func:"background",category:"Game Lab",paletteParams:["color"],params:["'black'"]},{func:"width",category:"Game Lab",type:"property"},{func:"height",category:"Game Lab",type:"property"},{func:"camera",category:"Game Lab",type:"property"},{func:"camera.on",category:"Game Lab"},{func:"camera.off",category:"Game Lab"},{func:"camera.active",category:"Game Lab",type:"property"},{func:"camera.mouseX",category:"Game Lab",type:"property"},{func:"camera.mouseY",category:"Game Lab",type:"property"},{func:"camera.position.x",category:"Game Lab",type:"property"},{func:"camera.position.y",category:"Game Lab",type:"property"},{func:"camera.zoom",category:"Game Lab",type:"property"},{func:"createSprite",category:"Sprites",paletteParams:["x","y","width","height"],params:["200","200","30","30"],type:"either"},{func:"var_createSprite",category:"Sprites",blockPrefix:"var sprite = createSprite",paletteParams:["x","y","width","height"],params:["200","200","30","30"],noAutocomplete:!0},{func:"sprite.setSpeed",category:"Sprites",paletteParams:["speed","angle"],params:["1","90"],modeOptionName:"*.setSpeed"},{func:"sprite.getAnimationLabel",category:"Sprites",modeOptionName:"*.getAnimationLabel",type:"value"},{func:"sprite.getDirection",category:"Sprites",modeOptionName:"*.getDirection",type:"value"},{func:"sprite.getSpeed",category:"Sprites",modeOptionName:"*.getSpeed",type:"value"},{func:"sprite.remove",category:"Sprites",modeOptionName:"*.remove"},{func:"sprite.addAnimation",category:"Sprites",paletteParams:["label","animation"],params:['"anim1"',"anim"],modeOptionName:"*.addAnimation"},{func:"sprite.addImage",category:"Sprites",paletteParams:["label","image"],params:['"img1"',"img"],modeOptionName:"*.addImage"},{func:"sprite.addSpeed",category:"Sprites",paletteParams:["speed","angle"],params:["1","90"],modeOptionName:"*.addSpeed"},{func:"sprite.addToGroup",category:"Sprites",paletteParams:["group"],params:["group"],modeOptionName:"*.addToGroup"},{func:"sprite.changeAnimation",category:"Sprites",paletteParams:["label"],params:['"anim1"'],modeOptionName:"*.changeAnimation"},{func:"sprite.changeImage",category:"Sprites",paletteParams:["label"],params:['"img1"'],modeOptionName:"*.changeImage"},{func:"sprite.attractionPoint",category:"Sprites",paletteParams:["speed","x","y"],params:["1","200","200"],modeOptionName:"*.attractionPoint"},{func:"sprite.limitSpeed",category:"Sprites",paletteParams:["max"],params:["3"],modeOptionName:"*.limitSpeed"},{func:"sprite.setCollider",category:"Sprites",paletteParams:["type","x","y","w","h"],params:['"rectangle"',"0","0","20","20"],modeOptionName:"*.setCollider"},{func:"sprite.setVelocity",category:"Sprites",paletteParams:["x","y"],params:["1","1"],modeOptionName:"*.setVelocity"},{func:"sprite.height",category:"Sprites",modeOptionName:"*.height",type:"property"},{func:"sprite.width",category:"Sprites",modeOptionName:"*.width",type:"property"},{func:"sprite.animation",category:"Sprites",modeOptionName:"*.animation",type:"property"},{func:"sprite.depth",category:"Sprites",modeOptionName:"*.depth",type:"property"},{func:"sprite.friction",category:"Sprites",modeOptionName:"*.friction",type:"property"},{func:"sprite.immovable",category:"Sprites",modeOptionName:"*.immovable",type:"property"},{func:"sprite.life",category:"Sprites",modeOptionName:"*.life",type:"property"},{func:"sprite.mass",category:"Sprites",modeOptionName:"*.mass",type:"property"},{func:"sprite.maxSpeed",category:"Sprites",modeOptionName:"*.maxSpeed",type:"property"},{func:"sprite.position",category:"Sprites",modeOptionName:"*.position",type:"property"},{func:"sprite.position.x",category:"Sprites",modeOptionName:"*.x",type:"property"},{func:"sprite.position.y",category:"Sprites",modeOptionName:"*.y",type:"property"},{func:"sprite.previousPosition",category:"Sprites",modeOptionName:"*.previousPosition",type:"property"},{func:"sprite.previousPosition.x",category:"Sprites",modeOptionName:"*.x",type:"property"},{func:"sprite.previousPosition.y",category:"Sprites",modeOptionName:"*.y",type:"property"},{func:"sprite.removed",category:"Sprites",modeOptionName:"*.removed",type:"property"},{func:"sprite.restitution",category:"Sprites",modeOptionName:"*.restitution",type:"property"},{func:"sprite.rotateToDirection",category:"Sprites",modeOptionName:"*.rotateToDirection",type:"property"},{func:"sprite.rotation",category:"Sprites",modeOptionName:"*.rotation",type:"property"},{func:"sprite.rotationSpeed",category:"Sprites",modeOptionName:"*.rotationSpeed",type:"property"},{func:"sprite.scale",category:"Sprites",modeOptionName:"*.scale",type:"property"},{func:"sprite.shapeColor",category:"Sprites",modeOptionName:"*.shapeColor",type:"property"},{func:"sprite.touching",category:"Sprites",modeOptionName:"*.touching",type:"property"},{func:"sprite.velocity",category:"Sprites",modeOptionName:"*.velocity",type:"property"},{func:"sprite.velocity.x",category:"Sprites",modeOptionName:"*.x",type:"property"},{func:"sprite.velocity.y",category:"Sprites",modeOptionName:"*.y",type:"property"},{func:"sprite.visible",category:"Sprites",modeOptionName:"*.visible",type:"property"},{func:"loadAnimation",category:"Animations",paletteParams:["url1","url2"],params:['"http://p5play.molleindustria.org/examples/assets/ghost_standing0001.png"','"http://p5play.molleindustria.org/examples/assets/ghost_standing0002.png"'],type:"either"},{func:"var_loadAnimation",category:"Animations",blockPrefix:"var anim = loadAnimation",paletteParams:["url1","url2"],params:['"http://p5play.molleindustria.org/examples/assets/ghost_standing0001.png"','"http://p5play.molleindustria.org/examples/assets/ghost_standing0002.png"'],noAutocomplete:!0},{func:"animation",category:"Animations",paletteParams:["animation","x","y"],params:["anim","50","50"]},{func:"anim.changeFrame",category:"Animations",paletteParams:["frame"],params:["0"],modeOptionName:"*.changeFrame"},{func:"anim.nextFrame",category:"Animations",modeOptionName:"*.nextFrame"},{func:"anim.previousFrame",category:"Animations",modeOptionName:"*.previousFrame"},{func:"anim.clone",category:"Animations",modeOptionName:"*.clone",type:"value"},{func:"anim.getFrame",category:"Animations",modeOptionName:"*.getFrame",type:"value"},{func:"anim.getLastFrame",category:"Animations",modeOptionName:"*.getLastFrame",type:"value"},{func:"anim.goToFrame",category:"Animations",paletteParams:["frame"],params:["1"],modeOptionName:"*.goToFrame"},{func:"anim.play",category:"Animations",modeOptionName:"*.play"},{func:"anim.rewind",category:"Animations",modeOptionName:"*.rewind"},{func:"anim.stop",category:"Animations",modeOptionName:"*.stop"},{func:"anim.frameChanged",category:"Animations",modeOptionName:"*.frameChanged",type:"property"},{func:"anim.frameDelay",category:"Animations",modeOptionName:"*.frameDelay",type:"property"},{func:"anim.images",category:"Animations",modeOptionName:"*.images",type:"property"},{func:"anim.looping",category:"Animations",modeOptionName:"*.looping",type:"property"},{func:"anim.playing",category:"Animations",modeOptionName:"*.playing",type:"property"},{func:"anim.visible",category:"Animations",modeOptionName:"*.visible",type:"property"},{func:"Group",blockPrefix:"var group = new Group",category:"Groups",type:"either"},{func:"group.add",category:"Groups",paletteParams:["sprite"],params:["sprite"],modeOptionName:"*.add"},{func:"group.remove",category:"Groups",paletteParams:["sprite"],params:["sprite"],modeOptionName:"*.remove"},{func:"group.clear",category:"Groups",modeOptionName:"*.clear"},{func:"group.contains",category:"Groups",paletteParams:["sprite"],params:["sprite"],modeOptionName:"*.contains",type:"value"},{func:"group.get",category:"Groups",paletteParams:["i"],params:["0"],modeOptionName:"*.get",type:"value"},{func:"group.maxDepth",category:"Groups",modeOptionName:"*.maxDepth",type:"value"},{func:"group.minDepth",category:"Groups",modeOptionName:"*.minDepth",type:"value"},{func:"keyIsPressed",category:"Events",type:"property"},{func:"key",category:"Events",type:"property"},{func:"keyCode",category:"Events",type:"property"},{func:"keyDown",paletteParams:["code"],params:["UP_ARROW"],category:"Events",type:"value"},{func:"keyWentDown",paletteParams:["code"],params:["UP_ARROW"],category:"Events",type:"value"},{func:"keyWentUp",paletteParams:["code"],params:["UP_ARROW"],category:"Events",type:"value"},{func:"keyPressed",block:"function keyPressed() {}",expansion:"function keyPressed() {\n  __;\n}",category:"Events"},{func:"keyReleased",block:"function keyReleased() {}",expansion:"function keyReleased() {\n  __;\n}",category:"Events"},{func:"keyTyped",block:"function keyTyped() {}",expansion:"function keyTyped() {\n  __;\n}",category:"Events"},{func:"mouseX",category:"Events",type:"property"},{func:"mouseY",category:"Events",type:"property"},{func:"pmouseX",category:"Events",type:"property"},{func:"pmouseY",category:"Events",type:"property"},{func:"mouseButton",category:"Events",type:"property"},{func:"mouseIsPressed",category:"Events",type:"property"},{func:"mouseMoved",block:"function mouseMoved() {}",expansion:"function mouseMoved() {\n  __;\n}",category:"Events"},{func:"mouseDragged",block:"function mouseDragged() {}",expansion:"function mouseDragged() {\n  __;\n}",category:"Events"},{func:"mousePressed",block:"function mousePressed() {}",expansion:"function mousePressed() {\n  __;\n}",category:"Events"},{func:"mouseReleased",block:"function mouseReleased() {}",expansion:"function mouseReleased() {\n  __;\n}",category:"Events"},{func:"mouseClicked",block:"function mouseClicked() {}",expansion:"function mouseClicked() {\n  __;\n}",category:"Events"},{func:"mouseWheel",block:"function mouseWheel() {}",expansion:"function mouseWheel() {\n  __;\n}",category:"Events"},{func:"sin",category:"Math",paletteParams:["angle"],params:["0"],type:"value"},{func:"cos",category:"Math",paletteParams:["angle"],params:["0"],type:"value"},{func:"tan",category:"Math",paletteParams:["angle"],params:["0"],type:"value"},{func:"asin",category:"Math",paletteParams:["value"],params:["0"],type:"value"},{func:"acos",category:"Math",paletteParams:["value"],params:["0"],type:"value"},{func:"atan",category:"Math",paletteParams:["value"],params:["0"],type:"value"},{func:"atan2",category:"Math",paletteParams:["y","x"],params:["10","10"],type:"value"},{func:"degrees",category:"Math",paletteParams:["radians"],params:["0"],type:"value"},{func:"radians",category:"Math",paletteParams:["degrees"],params:["0"],type:"value"},{func:"angleMode",category:"Math",paletteParams:["mode"],params:["DEGREES"]},{func:"random",category:"Math",paletteParams:["min","max"],params:["1","5"],type:"value"},{func:"randomGaussian",category:"Math",paletteParams:["mean","sd"],params:["0","15"],type:"value"},{func:"randomSeed",category:"Math",paletteParams:["seed"],params:["99"]},{func:"abs",category:"Math",paletteParams:["num"],params:["-1"],type:"value"},{func:"ceil",category:"Math",paletteParams:["num"],params:["0.1"],type:"value"},{func:"constrain",category:"Math",paletteParams:["num","low","high"],params:["1.1","0","1"],type:"value"},{func:"dist",category:"Math",paletteParams:["x1","y1","x2","y2"],params:["0","0","100","100"],type:"value"},{func:"exp",category:"Math",paletteParams:["num"],params:["1"],type:"value"},{func:"floor",category:"Math",paletteParams:["num"],params:["0.9"],type:"value"},{func:"lerp",category:"Math",paletteParams:["start","stop","amt"],params:["0","100","0.1"],type:"value"},{func:"log",category:"Math",paletteParams:["num"],params:["1"],type:"value"},{func:"mag",category:"Math",paletteParams:["a","b"],params:["100","100"],type:"value"},{func:"map",category:"Math",paletteParams:["value","start1","stop1","start2","stop"],params:["0.9","0","1","0","100"],type:"value"},{func:"max",category:"Math",paletteParams:["n1","n2"],params:["1","3"],type:"value"},{func:"min",category:"Math",paletteParams:["n1","n2"],params:["1","3"],type:"value"},{func:"norm",category:"Math",paletteParams:["value","start","stop"],params:["90","0","100"],type:"value"},{func:"pow",category:"Math",paletteParams:["n","e"],params:["10","2"],type:"value"},{func:"round",category:"Math",paletteParams:["num"],params:["0.9"],type:"value"},{func:"sq",category:"Math",paletteParams:["num"],params:["2"],type:"value"},{func:"sqrt",category:"Math",paletteParams:["num"],params:["9"],type:"value"}],b.exports.categories={"Game Lab":{color:"yellow",rgb:l,blocks:[]},Sprites:{color:"red",rgb:j,blocks:[]},Animations:{color:"red",rgb:j,blocks:[]},Groups:{color:"red",rgb:j,blocks:[]},Data:{color:"lightgreen",rgb:h,blocks:[]},Drawing:{color:"cyan",rgb:k,blocks:[]},Events:{color:"green",rgb:m,blocks:[]},Advanced:{color:"blue",rgb:i,blocks:[]}},b.exports.additionalPredefValues=["P2D","WEBGL","ARROW","CROSS","HAND","MOVE","TEXT","WAIT","HALF_PI","PI","QUARTER_PI","TAU","TWO_PI","DEGREES","RADIANS","CORNER","CORNERS","RADIUS","RIGHT","LEFT","CENTER","TOP","BOTTOM","BASELINE","POINTS","LINES","TRIANGLES","TRIANGLE_FAN","TRIANGLE_STRIP","QUADS","QUAD_STRIP","CLOSE","OPEN","CHORD","PIE","PROJECT","SQUARE","ROUND","BEVEL","MITER","RGB","HSB","HSL","AUTO","ALT","BACKSPACE","CONTROL","DELETE","DOWN_ARROW","ENTER","ESCAPE","LEFT_ARROW","OPTION","RETURN","RIGHT_ARROW","SHIFT","TAB","UP_ARROW","BLEND","ADD","DARKEST","LIGHTEST","DIFFERENCE","EXCLUSION","MULTIPLY","SCREEN","REPLACE","OVERLAY","HARD_LIGHT","SOFT_LIGHT","DODGE","BURN","THRESHOLD","GRAY","OPAQUE","INVERT","POSTERIZE","DILATE","ERODE","BLUR","NORMAL","ITALIC","BOLD","_DEFAULT_TEXT_FILL","_DEFAULT_LEADMULT","_CTX_MIDDLE","LINEAR","QUADRATIC","BEZIER","CURVE","_DEFAULT_STROKE","_DEFAULT_FILL"],
b.exports.showParamDropdowns=!0},{"../assetManagement/getAssetDropdown":"/home/ubuntu/staging/apps/build/js/assetManagement/getAssetDropdown.js","../assetManagement/show":"/home/ubuntu/staging/apps/build/js/assetManagement/show.js","./apiJavascript.js":"/home/ubuntu/staging/apps/build/js/gamelab/apiJavascript.js","./locale":"/home/ubuntu/staging/apps/build/js/gamelab/locale.js"}],"/home/ubuntu/staging/apps/build/js/gamelab/locale.js":[function(a,b,c){"use strict";b.exports=window.blockly.gamelab_locale},{}],"/home/ubuntu/staging/apps/build/js/gamelab/controls.html.ejs":[function(require,module,exports){module.exports=function(){var t=function anonymous(locals,filters,escape){escape=escape||function(a){return String(a).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var buf=[];with(locals||{})!function(){buf.push("");var a=require("../locale");buf.push("\n"),buf.push('\n\n<div id="soft-buttons" class="soft-buttons-none">\n  <button id="leftButton" disabled=true class="arrow">\n    <img src="',escape(assetUrl("media/1x1.gif")),'" class="left-btn icon21">\n  </button>\n  <button id="rightButton" disabled=true class="arrow">\n    <img src="',escape(assetUrl("media/1x1.gif")),'" class="right-btn icon21">\n  </button>\n  <button id="upButton" disabled=true class="arrow">\n    <img src="',escape(assetUrl("media/1x1.gif")),'" class="up-btn icon21">\n  </button>\n  <button id="downButton" disabled=true class="arrow">\n    <img src="',escape(assetUrl("media/1x1.gif")),'" class="down-btn icon21">\n  </button>\n</div>\n\n'),finishButton&&buf.push('\n  <div id="share-cell" class="share-cell-none">\n    <button id="finishButton" class="share">\n      <img src="',escape(assetUrl("media/1x1.gif")),'">',escape(a.finish()),"\n    </button>\n  </div>\n"),buf.push("\n")}();return buf.join("")};return function(a){return t(a,require("ejs").filters)}}()},{"../locale":"/home/ubuntu/staging/apps/build/js/locale.js",ejs:"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/gamelab/apiJavascript.js":[function(a,b,c){"use strict";var d;c.injectGameLab=function(a){d=a},c.foo=function(){d.executeCmd(null,"foo")}},{}],"/home/ubuntu/staging/apps/build/js/gamelab/api.js":[function(a,b,c){"use strict";var d;c.injectGameLab=function(a){d=a}},{}],"/home/ubuntu/staging/apps/build/js/gamelab/GameLabP5.js":[function(a,b,c){"use strict";var d=a("../assetManagement/assetPrefix"),e=function(){this.p5=null,this.p5decrementPreload=null,this.p5eventNames=["mouseMoved","mouseDragged","mousePressed","mouseReleased","mouseClicked","mouseWheel","keyPressed","keyReleased","keyTyped"],this.p5specialFunctions=["preload","draw","setup"].concat(this.p5eventNames)};b.exports=e,e.baseP5loadImage=null,e.prototype.init=function(a){this.onExecutionStarting=a.onExecutionStarting,this.onPreload=a.onPreload,this.onSetup=a.onSetup,this.onDraw=a.onDraw,window.p5.prototype.setupGlobalMode=function(){var a=window.p5;this._isGlobal=!0;for(var b in a.prototype)if("function"==typeof a.prototype[b]){var c=b.substring(2);this._events.hasOwnProperty(c)||(window[b]=a.prototype[b].bind(this))}else window[b]=a.prototype[b];for(var d in this)this.hasOwnProperty(d)&&(window[d]=this[d])},e.baseP5loadImage||(e.baseP5loadImage=window.p5.prototype.loadImage,window.p5.prototype.loadImage=function(a,b,c){return a=d.fixPath(a),e.baseP5loadImage.call(this,a,b,c)}),window.p5.prototype.redraw=function(){var a=this.setup||window.setup,b=this.draw||window.draw;if("function"==typeof b){this.push(),"undefined"==typeof a&&this.scale(this.pixelDensity,this.pixelDensity);var c=this;this._registeredMethods.pre.forEach(function(a){a.call(c)}),b()}},window.p5.prototype.afterUserDraw=function(){var a=this;this._registeredMethods.post.forEach(function(b){b.call(a)}),this.pop()}},e.prototype.resetExecution=function(){if(this.p5){this.p5.remove(),this.p5=null,this.p5decrementPreload=null;for(var a in window.p5.prototype._registeredMethods)delete window.p5.prototype._registeredMethods[a];window.p5.prototype._registeredMethods={pre:[],post:[],remove:[]},delete window.p5.prototype._registeredPreloadMethods.gamelabPreload,window.p5.prototype.allSprites=new window.Group,window.p5.prototype.spriteUpdate=!0,window.p5.prototype.camera=new window.Camera(0,0,1),window.p5.prototype.camera.init=!1,window.p5.prototype.registerMethod("pre",window.p5.prototype.readPresses),window.p5.prototype.registerMethod("pre",window.p5.prototype.updateSprites),window.p5.prototype.registerMethod("post",window.updateTree),window.p5.prototype.registerMethod("pre",window.cameraPush),window.p5.prototype.registerMethod("post",window.cameraPop)}this.drawInProgress=!1,this.setupInProgress=!1,window.p5.prototype.gamelabPreload=function(){this.p5decrementPreload=window.p5._getDecrementPreload(arguments,this.p5)}.bind(this)},e.prototype.startExecution=function(){new window.p5(function(a){this.p5=a,a.registerPreloadMethod("gamelabPreload",window.p5.prototype),a._draw=function(){this._thisFrameTime=window.performance.now();var a=this._thisFrameTime-this._lastFrameTime,b=1e3/this._targetFrameRate,c=5;!this.loop||a>=b-c?(this._setProperty("frameCount",this.frameCount+1),this.redraw()):this._drawEpilogue()}.bind(a),a.afterRedraw=function(){this._updatePAccelerations(),this._updatePRotations(),this._updatePMouseCoords(),this._updatePTouchCoords(),this._frameRate=1e3/(this._thisFrameTime-this._lastFrameTime),this._lastFrameTime=this._thisFrameTime,this._drawEpilogue()}.bind(a),a._drawEpilogue=function(){this._renderer.isP3D&&this._renderer._update(),this._loop&&(this._requestAnimId=window.requestAnimationFrame(this._draw))}.bind(a),a._setup=function(){var a=this._isGlobal?window:this;if("function"==typeof a.preload)for(var b in this._preloadMethods)a[b]=this._preloadMethods[b][b];"function"==typeof a.setup?a.setup():this._setupEpilogue()}.bind(a),a._setupEpilogue=function(){for(var a=new RegExp(/(^|\s)p5_hidden(?!\S)/g),b=document.getElementsByClassName("p5_hidden"),c=0;c<b.length;c++){var d=b[c];d.style.visibility="",d.className=d.className.replace(a,"")}this._setupDone=!0}.bind(a),a.setupGlobalMode(),window.preload=function(){window.gamelabPreload();for(var a in this.p5._preloadMethods)this.p5[a]=window[a];this.onPreload()}.bind(this),window.setup=function(){for(var b in this.p5._preloadMethods)this.p5[b]=window[b];a.createCanvas(400,400),this.onSetup()}.bind(this),window.draw=this.onDraw.bind(this),this.onExecutionStarting()}.bind(this),"divGameLab")},e.prototype.notifyUserGlobalCodeComplete=function(){this.p5decrementPreload&&(this.p5decrementPreload(),this.p5decrementPreload=null)},e.prototype.getCustomMarshalGlobalProperties=function(){return{width:this.p5,height:this.p5,displayWidth:this.p5,displayHeight:this.p5,windowWidth:this.p5,windowHeight:this.p5,focused:this.p5,frameCount:this.p5,keyIsPressed:this.p5,key:this.p5,keyCode:this.p5,mouseX:this.p5,mouseY:this.p5,pmouseX:this.p5,pmouseY:this.p5,winMouseX:this.p5,winMouseY:this.p5,pwinMouseX:this.p5,pwinMouseY:this.p5,mouseButton:this.p5,mouseIsPressed:this.p5,touchX:this.p5,touchY:this.p5,ptouchX:this.p5,ptouchY:this.p5,touches:this.p5,touchIsDown:this.p5,pixels:this.p5,deviceOrientation:this.p5,accelerationX:this.p5,accelerationY:this.p5,accelerationZ:this.p5,pAccelerationX:this.p5,pAccelerationY:this.p5,pAccelerationZ:this.p5,rotationX:this.p5,rotationY:this.p5,rotationZ:this.p5,pRotationX:this.p5,pRotationY:this.p5,pRotationZ:this.p5}},e.prototype.getCustomMarshalObjectList=function(){return[window.p5,window.Sprite,window.Camera,window.Animation,window.p5.Vector,window.p5.Color,window.p5.Image,window.p5.Renderer,window.p5.Graphics,window.p5.Font,window.p5.Table,window.p5.TableRow,window.p5.Element]},e.prototype.getCustomMarshalModifiedObjectList=function(){return[{instance:Array,methodName:"draw"}]},e.prototype.getGlobalPropertyList=function(){var a={};for(var b in this.p5)a[b]=[this.p5[b],this.p5];return a.Group=[window.Group,window],a.p5=[{Vector:window.p5.Vector},window],a},e.prototype.getFrameRate=function(){return this.p5?this.p5.frameRate():0},e.prototype.afterDrawComplete=function(){this.p5.afterUserDraw(),this.p5.afterRedraw()},e.prototype.afterSetupComplete=function(){this.p5._setupEpilogue()}},{"../assetManagement/assetPrefix":"/home/ubuntu/staging/apps/build/js/assetManagement/assetPrefix.js"}]},{},["/home/ubuntu/staging/apps/build/js/gamelab/main.js"]);