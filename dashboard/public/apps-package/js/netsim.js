require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({"/home/ubuntu/staging/apps/build/js/netsim/main.js":[function(require,module,exports){
'use strict';

var appMain = require('../appMain');
var studioApp = require('../StudioApp').singleton;
var NetSim = require('./netsim');

var levels = require('./levels');
var skins = require('./skins');

window.netsimMain = function (options) {
  options.skinsModule = skins;
  options.isEditorless = true;

  var netSim = new NetSim();
  netSim.injectStudioApp(studioApp);
  appMain(netSim, levels, options);
};

},{"../StudioApp":"/home/ubuntu/staging/apps/build/js/StudioApp.js","../appMain":"/home/ubuntu/staging/apps/build/js/appMain.js","./levels":"/home/ubuntu/staging/apps/build/js/netsim/levels.js","./netsim":"/home/ubuntu/staging/apps/build/js/netsim/netsim.js","./skins":"/home/ubuntu/staging/apps/build/js/netsim/skins.js"}],"/home/ubuntu/staging/apps/build/js/netsim/skins.js":[function(require,module,exports){
'use strict';

var skinBase = require('../skins');

exports.load = function (assetUrl, id) {
  var skin = skinBase.load(assetUrl, id);
  return skin;
};

},{"../skins":"/home/ubuntu/staging/apps/build/js/skins.js"}],"/home/ubuntu/staging/apps/build/js/netsim/netsim.js":[function(require,module,exports){
/**
 * @overview Internet Simulator app for Code.org.
 *           This file is the main entry point for the Internet Simulator.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
*/
/* global -Blockly */
/* global sendReport */
/* global confirm */
'use strict';

var utils = require('../utils');
var _ = utils.getLodash();
var i18n = require('./locale');
var ObservableEvent = require('../ObservableEvent');
var RunLoop = require('../RunLoop');
var page = require('./page.html.ejs');
var NetSimAlert = require('./NetSimAlert');
var NetSimConstants = require('./NetSimConstants');
var NetSimUtils = require('./NetSimUtils');
var DashboardUser = require('./DashboardUser');
var NetSimBitLogPanel = require('./NetSimBitLogPanel');
var NetSimLobby = require('./NetSimLobby');
var NetSimLocalClientNode = require('./NetSimLocalClientNode');
var NetSimLogger = require('./NetSimLogger');
var NetSimLogPanel = require('./NetSimLogPanel');
var NetSimRouterLogModal = require('./NetSimRouterLogModal');
var NetSimRouterNode = require('./NetSimRouterNode');
var NetSimSendPanel = require('./NetSimSendPanel');
var NetSimShard = require('./NetSimShard');
var NetSimStatusPanel = require('./NetSimStatusPanel');
var NetSimTabsComponent = require('./NetSimTabsComponent');
var NetSimVisualization = require('./NetSimVisualization');

var DnsMode = NetSimConstants.DnsMode;
var MessageGranularity = NetSimConstants.MessageGranularity;

var logger = NetSimLogger.getSingleton();
var NetSimGlobals = require('./NetSimGlobals');

/**
 * The top-level Internet Simulator controller.
 * @param {StudioApp} studioApp The studioApp instance to build upon.
 */
var NetSim = module.exports = function () {
  /**
   * @type {Object}
   */
  this.skin = null;

  /**
   * @type {NetSimLevelConfiguration}
   */
  this.level = {};

  /**
   * @type {number}
   */
  this.heading = 0;

  /**
   * Current user object which asynchronously grabs the current user's
   * info from the dashboard API.
   * @type {DashboardUser}
   * @private
   */
  this.currentUser_ = DashboardUser.getCurrentUser();

  /**
   * Accessor object for select simulation shard's tables, where an shard
   * is a group of tables shared by a group of users, allowing them to observe
   * a common network state.
   *
   * See en.wikipedia.org/wiki/Instance_dungeon for a popular example of this
   * concept.
   *
   * @type {NetSimShard}
   * @private
   */
  this.shard_ = null;

  /**
   * The local client's node representation within the shard.
   * @type {NetSimLocalClientNode}
   */
  this.myNode = null;

  /**
   * Tick and Render loop manager for the simulator
   * @type {RunLoop}
   * @private
   */
  this.runLoop_ = new RunLoop();

  /**
   * Current chunk size (bytesize)
   * @type {number}
   * @private
   */
  this.chunkSize_ = 8;

  /**
   * The "my device" bitrate in bits per second
   * @type {number}
   * @private
   */
  this.myDeviceBitRate_ = Infinity;

  /**
   * Currently enabled encoding types.
   * @type {EncodingType[]}
   * @private
   */
  this.enabledEncodings_ = [];

  /**
   * Current dns mode.
   * @type {DnsMode}
   * @private
   */
  this.dnsMode_ = DnsMode.NONE;

  // -- Components --
  /**
   * @type {INetSimLogPanel}
   * @private
   */
  this.receivedMessageLog_ = null;

  /**
   * @type {INetSimLogPanel}
   * @private
   */
  this.sentMessageLog_ = null;

  /**
   * Event: Connected to, or disconnected from, a shard.
   * Specifically, added or removed our client node from the shard's node table.
   * @type {ObservableEvent}
   */
  this.shardChange = new ObservableEvent();
  this.shardChange.register(this.onShardChange_.bind(this));

  /**
   * Untyped storage for information about which events we have currently bound.
   * @type {Object}
   */
  this.eventKeys = {};
};

NetSim.prototype.injectStudioApp = function (studioApp) {
  this.studioApp_ = studioApp;
};

/**
 * Called on page load.
 * @param {Object} config
 * @param {Object} config.skin
 * @param {NetSimLevelConfiguration} config.level
 * @param {string} config.rackEnv - development/production/etc.
 * @param {boolean} config.enableShowCode - Always false for NetSim
 * @param {function} config.loadAudio
 * @param {string} config.html - rendered markup to be created inside this method
 */
NetSim.prototype.init = function (config) {
  if (!this.studioApp_) {
    throw new Error("NetSim requires a StudioApp");
  }

  // Set up global singleton for easy access to simulator-wide settings
  NetSimGlobals.setRootControllers(this.studioApp_, this);

  // Remove icon from all NetSim instructions dialogs
  config.skin.staticAvatar = null;
  config.skin.smallStaticAvatar = null;
  config.skin.failureAvatar = null;
  config.skin.winAvatar = null;

  /**
   * Skin for the loaded level
   * @type {Object}
   */
  this.skin = config.skin;

  /**
   * Configuration for the loaded level
   * @type {NetSimLevelConfiguration}
   */
  this.level = NetSimUtils.scrubLevelConfiguration_(config.level);

  /**
   * Current operating environment, used to drive certain configuration.
   * @type {string} one of "development"|"staging"|"test"|"production"
   */
  this.environment = config.rackEnv;

  /**
   * Whether NetSim should subscribe to events using Pusher.
   * @type {boolean}
   */
  this.usePusher = config.usePusher;

  /**
   * The public application key for the Pusher service. (Not used if not using
   * Pusher).
   * @type {string}
   */
  this.pusherApplicationKey = config.pusherApplicationKey;

  /**
   * The strict maximum number of routers per shard.  Note the real maximum
   * may be lower if bounded by addressable space.
   * @type {number}
   */
  this.globalMaxRouters = config.netsimMaxRouters;

  /**
   * Configuration for reporting level completion
   * @type {Object}
   */
  this.reportingInfo_ = config.report;

  config.html = page({
    assetUrl: this.studioApp_.assetUrl,
    data: {
      visualization: '',
      localeDirection: this.studioApp_.localeDirection(),
      controls: require('./controls.html.ejs')({ assetUrl: this.studioApp_.assetUrl })
    },
    hideRunButton: true
  });

  config.enableShowCode = false;
  config.pinWorkspaceToBottom = true;
  config.loadAudio = this.loadAudio_.bind(this);

  // Override certain StudioApp methods - netsim does a lot of configuration
  // itself, because of its nonstandard layout.
  this.studioApp_.configureDom = NetSim.configureDomOverride_.bind(this.studioApp_);
  this.studioApp_.onResize = NetSim.onResizeOverride_.bind(this.studioApp_);

  this.studioApp_.init(config);

  // Create netsim lobby widget in page
  this.currentUser_.whenReady((function () {
    this.initWithUser_(this.currentUser_);
  }).bind(this));

  // Begin the main simulation loop
  this.runLoop_.tick.register(this.tick.bind(this));
  this.runLoop_.begin();
};

/**
 * @param {RunLoop.Clock} clock
 */
NetSim.prototype.tick = function (clock) {
  if (this.isConnectedToShard()) {
    this.myNode.tick(clock);
    this.shard_.tick(clock);
  }
};

/**
 * Pull an identifier from the URL that separates this level's shard from others.
 * @returns {string}
 */
NetSim.prototype.getUniqueLevelKey = function () {
  return location.pathname.substr(1).replace(/\W/g, '-');
};

/**
 * Extracts query parameters from a full URL and returns them as a simple
 * object.
 * @returns {*}
 */
NetSim.prototype.getOverrideShardID = function () {
  var parts = location.search.split('?');
  if (parts.length === 1) {
    return undefined;
  }

  var shardID;
  parts[1].split('&').forEach(function (param) {
    var sides = param.split('=');
    if (sides.length > 1 && sides[0] === 's') {
      shardID = sides[1];
    }
  });
  return shardID;
};

/**
 * @returns {boolean} TRUE if the level is configured to show any tabs.
 */
NetSim.prototype.shouldShowAnyTabs = function () {
  return this.level.showTabs.length > 0;
};

/**
 * Initialization that can happen once we have a user name.
 * Could collapse this back into init if at some point we can guarantee that
 * user name is available on load.
 * @param {DashboardUser} user
 * @private
 */
NetSim.prototype.initWithUser_ = function (user) {
  this.mainContainer_ = $('#netsim');

  // Create log panels according to level configuration
  if (this.level.messageGranularity === MessageGranularity.PACKETS) {
    this.receivedMessageLog_ = new NetSimLogPanel($('#netsim-received'), {
      logTitle: i18n.receivedMessageLog(),
      isMinimized: false,
      hasUnreadMessages: true,
      packetSpec: this.level.clientInitialPacketHeader
    });

    this.sentMessageLog_ = new NetSimLogPanel($('#netsim-sent'), {
      logTitle: i18n.sentMessageLog(),
      isMinimized: true,
      hasUnreadMessages: false,
      packetSpec: this.level.clientInitialPacketHeader
    });
  } else if (this.level.messageGranularity === MessageGranularity.BITS) {
    this.receivedMessageLog_ = new NetSimBitLogPanel($('#netsim-received'), {
      logTitle: i18n.receiveBits(),
      isMinimized: false,
      netsim: this,
      showReadWireButton: true
    });

    this.sentMessageLog_ = new NetSimBitLogPanel($('#netsim-sent'), {
      logTitle: i18n.sentBitsLog(),
      isMinimized: false,
      netsim: this
    });
  }

  this.statusPanel_ = new NetSimStatusPanel($('#netsim-status'), {
    disconnectCallback: this.disconnectFromRemote.bind(this, function () {})
  });

  this.routerLogModal_ = new NetSimRouterLogModal($('#router-log-modal'));

  this.visualization_ = new NetSimVisualization($('#netsim-visualization'), this.runLoop_);

  // Lobby panel: Controls for picking a remote node and connecting to it.
  this.lobby_ = new NetSimLobby($('.lobby-panel'), this, {
    user: user,
    levelKey: this.getUniqueLevelKey(),
    sharedShardSeed: this.getOverrideShardID()
  });

  // Tab panel - contains instructions, my device, router, dns
  if (this.shouldShowAnyTabs()) {
    this.tabs_ = new NetSimTabsComponent($('#netsim-tabs'), this.runLoop_, {
      chunkSizeSliderChangeCallback: this.setChunkSize.bind(this),
      myDeviceBitRateChangeCallback: this.setMyDeviceBitRate.bind(this),
      encodingChangeCallback: this.changeEncodings.bind(this),
      routerBandwidthSliderChangeCallback: this.setRouterBandwidth.bind(this),
      routerBandwidthSliderStopCallback: this.changeRemoteRouterBandwidth.bind(this),
      routerMemorySliderChangeCallback: this.setRouterMemory.bind(this),
      routerMemorySliderStopCallback: this.changeRemoteRouterMemory.bind(this),
      dnsModeChangeCallback: this.changeRemoteDnsMode.bind(this),
      becomeDnsCallback: this.becomeDnsNode.bind(this)
    });
    this.tabs_.attachToRunLoop(this.runLoop_);
  }

  this.sendPanel_ = new NetSimSendPanel($('#netsim-send'), this.level, this);

  this.changeEncodings(this.level.defaultEnabledEncodings);
  this.setChunkSize(this.level.defaultChunkSizeBits);
  this.setMyDeviceBitRate(this.level.defaultBitRateBitsPerSecond);
  this.setRouterBandwidth(this.level.defaultRouterBandwidth);
  this.setRouterMemory(this.level.defaultRouterMemory);
  this.setDnsMode(this.level.defaultDnsMode);
  this.render();

  // Try and gracefully disconnect when closing the window
  window.addEventListener('beforeunload', this.onBeforeUnload_.bind(this));
  window.addEventListener('unload', this.onUnload_.bind(this));
  window.addEventListener('resize', _.debounce(this.updateLayout.bind(this), 250));
};

/**
 * Before-unload handler, used to warn the user (if necessary) of what they
 * are abandoning if they navigate away from the page.
 *
 * This event has some weird special properties and inconsistent behavior
 * across browsers
 *
 * See:
 * https://developer.mozilla.org/en-US/docs/Web/Events/beforeunload
 * http://www.zachleat.com/web/dont-let-the-door-hit-you-onunload-and-onbeforeunload/
 * http://www.hunlock.com/blogs/Mastering_The_Back_Button_With_Javascript
 *
 * @param {Event} event
 * @returns {string|undefined} If we want to warn the user before they leave
 *          the page, this method will return a warning string, which may or
 *          may not actually be used by the browser to present a warning.  If
 *          we don't want to warn the user, this method doesn't return anything.
 * @private
 */
NetSim.prototype.onBeforeUnload_ = function (event) {
  if (window.__TestInterface && window.__TestInterface.ignoreOnBeforeUnload) {
    return;
  }

  // No need to warn about navigating away if the student is not connected,
  // or is still in the lobby.
  if (this.isConnectedToRemote()) {
    event.returnValue = i18n.onBeforeUnloadWarning();
    return i18n.onBeforeUnloadWarning();
  }
};

/**
 * Unload handler.  Used to attempt a clean disconnect from the simulation
 * using synchronous AJAX calls to remove our own rows from remote storage.
 *
 * See:
 * https://developer.mozilla.org/en-US/docs/Web/Events/unload
 *
 * @private
 */
NetSim.prototype.onUnload_ = function () {
  if (this.isConnectedToShard()) {
    this.synchronousDisconnectFromShard_();
  }
};

/**
 * Whether we are currently connected to a netsim shard
 * @returns {boolean}
 */
NetSim.prototype.isConnectedToShard = function () {
  return null !== this.myNode;
};

/**
 * Whether we are currently connected to a shard with the given ID
 * @param {string} shardID
 * @returns {boolean}
 */
NetSim.prototype.isConnectedToShardID = function (shardID) {
  return this.isConnectedToShard() && this.shard_.id === shardID;
};

/**
 * Establishes a new connection to a netsim shard, closing the old one
 * if present.
 * @param {!string} shardID
 * @param {!string} displayName
 */
NetSim.prototype.connectToShard = function (shardID, displayName) {
  if (this.isConnectedToShard()) {
    logger.warn("Auto-closing previous connection...");
    this.disconnectFromShard(this.connectToShard.bind(this, shardID, displayName));
    return;
  }

  this.shard_ = new NetSimShard(shardID, NetSimGlobals.getPubSubConfig());
  this.createMyClientNode_(displayName, (function (err, myNode) {
    this.myNode = myNode;
    this.shardChange.notifyObservers(this.shard_, this.myNode);
  }).bind(this));
};

/**
 * Given a lobby table has already been configured, connects to that table
 * by inserting a row for ourselves into that table and saving the row ID.
 * @param {!string} displayName
 * @param {!NodeStyleCallback} onComplete - result is new local node
 * @private
 */
NetSim.prototype.createMyClientNode_ = function (displayName, onComplete) {
  NetSimLocalClientNode.create(this.shard_, displayName, (function (err, node) {
    if (err) {
      logger.error("Failed to create client node; " + err.message);
      NetSimAlert.error(i18n.createMyClientNodeError());
      onComplete(err, null);
      return;
    }

    node.setLostConnectionCallback((function () {
      NetSimAlert.warn(i18n.alertConnectionReset());
      this.disconnectFromShard();
    }).bind(this));
    node.initializeSimulation(this.sentMessageLog_, this.receivedMessageLog_);
    onComplete(err, node);
  }).bind(this));
};

/**
 * Synchronous disconnect, for use when navigating away from the page
 * @private
 */
NetSim.prototype.synchronousDisconnectFromShard_ = function () {
  this.myNode.stopSimulation();
  this.myNode.synchronousDestroy();
  this.myNode = null;
  // Don't notify observers, this should only be used when navigating away
  // from the page.
};

/**
 * Ends the connection to the netsim shard.
 * @param {NodeStyleCallback} [onComplete]
 */
NetSim.prototype.disconnectFromShard = function (onComplete) {
  onComplete = onComplete || function () {};

  if (!this.isConnectedToShard()) {
    logger.warn("Redundant disconnect call.");
    onComplete(null, null);
    return;
  }

  if (this.isConnectedToRemote()) {
    // Disconnect, from the remote node, and try this again on completion.
    this.disconnectFromRemote(this.disconnectFromShard.bind(this, onComplete));
    return;
  }

  this.myNode.stopSimulation();
  this.myNode.destroy((function (err, result) {
    if (err) {
      logger.warn('Error destroying node:' + err.message);
      // Don't stop disconnecting on an error here; we make a good-faith
      // effort to clean up after ourselves, and let the cleaning system take
      // care of the rest.
    }

    this.myNode = null;
    this.shard_.disconnect();
    this.shard_ = null;
    this.shardChange.notifyObservers(null, null);
    onComplete(err, result);
  }).bind(this));
};

/**
 * @returns {boolean} Whether the local client is connected to a remote node
 */
NetSim.prototype.isConnectedToRemote = function () {
  return this.isConnectedToClient() || this.isConnectedToRouter();
};

/**
 * @returns {NetSimNode} the remote node our client is connected to, or null if
 *          not connected
 */
NetSim.prototype.getConnectedRemoteNode = function () {
  var client = this.getConnectedClient();
  var router = this.getConnectedRouter();
  return client ? client : router;
};

/**
 * @returns {boolean} Whether the local client has a mutual P2P connection to
 *          another client.
 */
NetSim.prototype.isConnectedToClient = function () {
  return !!this.getConnectedClient();
};

/**
 * @returns {NetSimClientNode} the client node our client is connected to, or
 *          null if not connected to another client.
 */
NetSim.prototype.getConnectedClient = function () {
  if (this.isConnectedToShard()) {
    return this.myNode.myRemoteClient;
  }
  return null;
};

/**
 * Whether our client node is connected to a router node.
 * @returns {boolean}
 */
NetSim.prototype.isConnectedToRouter = function () {
  return !!this.getConnectedRouter();
};

/**
 * @returns {NetSimRouterNode} the router node our client is connected to, or
 *          null if not connected to a router.
 */
NetSim.prototype.getConnectedRouter = function () {
  if (this.isConnectedToShard()) {
    return this.myNode.getMyRouter();
  }
  return null;
};

/**
 * Establish a connection between the local client and the given
 * simulated router.
 * @param {number} routerID
 * @param {NodeStyleCallback} onComplete
 */
NetSim.prototype.connectToRouter = function (routerID, onComplete) {
  if (this.isConnectedToRemote()) {
    // Disconnect and try to connect again when we're done.
    logger.warn("Auto-disconnecting from previous router.");
    this.disconnectFromRemote(this.connectToRouter.bind(this, routerID, onComplete));
    return;
  }

  var self = this;
  NetSimRouterNode.get(routerID, this.shard_, function (err, router) {
    if (err) {
      logger.warn('Failed to find router with ID ' + routerID + '; ' + err.message);
      onComplete(err);
      return;
    }

    self.myNode.connectToRouter(router, function (err) {
      if (err) {
        logger.warn('Failed to connect to ' + router.getDisplayName() + '; ' + err.message);
      }
      onComplete(err, router);
    });
  });
};

/**
 * Disconnects our client node from the currently connected remote node.
 * Destroys the shared wire.
 * @param {NodeStyleCallback} [onComplete] optional function to call when
 *        disconnect is complete
 */
NetSim.prototype.disconnectFromRemote = function (onComplete) {
  onComplete = utils.valueOr(onComplete, function () {});
  this.myNode.disconnectRemote(onComplete);
};

/**
 * Asynchronous fetch of the latest message shared between the local
 * node and its connected remote.
 * Used only in simplex & bit-granular mode.
 * @param {!NodeStyleCallback} onComplete
 */
NetSim.prototype.receiveBit = function (onComplete) {
  this.myNode.getLatestMessageOnSimplexWire(onComplete);
};

/**
 * Update encoding-view setting across the whole app.
 *
 * Propagates the change down into relevant child components, possibly
 * including the control that initiated the change; in that case, re-setting
 * the value should be a no-op and safe to do.
 *
 * @param {EncodingType[]} newEncodings
 */
NetSim.prototype.changeEncodings = function (newEncodings) {
  this.enabledEncodings_ = newEncodings;
  if (this.tabs_) {
    this.tabs_.setEncodings(newEncodings);
  }
  this.receivedMessageLog_.setEncodings(newEncodings);
  this.sentMessageLog_.setEncodings(newEncodings);
  this.sendPanel_.setEncodings(newEncodings);
  this.visualization_.setEncodings(newEncodings);
  this.updateLayout();
};

/**
 * Get the currently enabled encoding types.
 * @returns {EncodingType[]}
 */
NetSim.prototype.getEncodings = function () {
  return this.enabledEncodings_;
};

/**
 * Update chunk-size/bytesize setting across the whole app.
 *
 * Propagates the change down into relevant child components, possibly
 * including the control that initiated the change; in that case, re-setting
 * the value should be a no-op and safe to do.
 *
 * @param {number} newChunkSize
 */
NetSim.prototype.setChunkSize = function (newChunkSize) {
  this.chunkSize_ = newChunkSize;
  if (this.tabs_) {
    this.tabs_.setChunkSize(newChunkSize);
  }
  this.receivedMessageLog_.setChunkSize(newChunkSize);
  this.sentMessageLog_.setChunkSize(newChunkSize);
  this.sendPanel_.setChunkSize(newChunkSize);
};

/**
 * Update bitrate for the local device, which affects send-animation speed.
 * @param {number} newBitRate in bits per second
 */
NetSim.prototype.setMyDeviceBitRate = function (newBitRate) {
  this.myDeviceBitRate_ = newBitRate;
  if (this.tabs_) {
    this.tabs_.setMyDeviceBitRate(newBitRate);
  }
  this.sendPanel_.setBitRate(newBitRate);
};

/** @param {number} creationTimestampMs */
NetSim.prototype.setRouterCreationTime = function (creationTimestampMs) {
  if (this.tabs_) {
    this.tabs_.setRouterCreationTime(creationTimestampMs);
  }
};

/**
 * Update router bandwidth across the app.
 *
 * Propagates the change down into relevant child components, possibly including
 * the control that initiated the change; in that case, re-setting the value
 * should be a no-op and safe to do.
 *
 * @param {number} newBandwidth in bits/second
 */
NetSim.prototype.setRouterBandwidth = function (newBandwidth) {
  if (this.tabs_) {
    this.tabs_.setRouterBandwidth(newBandwidth);
  }
};

/**
 * Sets router bandwidth across the simulation, proagating the change to other
 * clients.
 * @param {number} newBandwidth in bits/second
 */
NetSim.prototype.changeRemoteRouterBandwidth = function (newBandwidth) {
  this.setRouterBandwidth(newBandwidth);
  if (this.isConnectedToRouter()) {
    this.getConnectedRouter().setBandwidth(newBandwidth);
  }
};

/**
 * Update router memory across the app.
 *
 * Propagates the change down into relevant child components, possibly including
 * the control that initiated the change; in that case, re-setting the value
 * should be a no-op and safe to do.
 *
 * @param {number} newMemory in bits
 */
NetSim.prototype.setRouterMemory = function (newMemory) {
  if (this.tabs_) {
    this.tabs_.setRouterMemory(newMemory);
  }
};

/**
 * Sets router memory capacity across the simulation, propagating the change
 * to other clients.
 * @param {number} newMemory in bits
 */
NetSim.prototype.changeRemoteRouterMemory = function (newMemory) {
  this.setRouterMemory(newMemory);
  if (this.isConnectedToRouter()) {
    this.getConnectedRouter().setMemory(newMemory);
  }
};

/**
 * Update DNS mode across the whole app.
 *
 * Propagates the change down into relevant child components, possibly
 * including the control that initiated the change; in that case, re-setting
 * the value should be a no-op and safe to do.
 *
 * @param {DnsMode} newDnsMode
 */
NetSim.prototype.setDnsMode = function (newDnsMode) {
  this.dnsMode_ = newDnsMode;
  if (this.tabs_) {
    this.tabs_.setDnsMode(newDnsMode);
  }
  this.visualization_.setDnsMode(newDnsMode);
};

/**
 * Get current DNS mode.
 * @returns {DnsMode}
 */
NetSim.prototype.getDnsMode = function () {
  return this.dnsMode_;
};

/**
 * Sets DNS mode across the whole simulation, propagating the change
 * to other clients.
 * @param {DnsMode} newDnsMode
 */
NetSim.prototype.changeRemoteDnsMode = function (newDnsMode) {
  this.setDnsMode(newDnsMode);
  if (this.isConnectedToRouter()) {
    this.getConnectedRouter().setDnsMode(newDnsMode);
  }
};

/**
 * @param {boolean} isDnsNode
 */
NetSim.prototype.setIsDnsNode = function (isDnsNode) {
  if (this.tabs_) {
    this.tabs_.setIsDnsNode(isDnsNode);
  }

  if (this.isConnectedToRouter()) {
    this.setDnsTableContents(this.getConnectedRouter().getAddressTable());
  }
};

/**
 * @param {number} dnsNodeID
 */
NetSim.prototype.setDnsNodeID = function (dnsNodeID) {
  this.visualization_.setDnsNodeID(dnsNodeID);
};

/**
 * Tells simulation that we want to become the DNS node for our
 * connected router.
 */
NetSim.prototype.becomeDnsNode = function () {
  this.setIsDnsNode(true);
  if (this.myNode && this.myNode.getMyRouter()) {
    // STATE IS THE ROOT OF ALL EVIL
    var myNode = this.myNode;
    var router = myNode.getMyRouter();
    router.dnsNodeID = myNode.entityID;
    router.update();
  }
};

/**
 * @param {Array} tableContents
 */
NetSim.prototype.setDnsTableContents = function (tableContents) {
  if (this.tabs_) {
    this.tabs_.setDnsTableContents(tableContents);
  }
};

/**
 * @param {Array} logData
 */
NetSim.prototype.setRouterLogData = function (logData) {
  if (this.tabs_) {
    this.tabs_.setRouterLogData(logData);
  }
};

/**
 * @param {number} queuedPacketCount
 * @private
 */
NetSim.prototype.setRouterQueuedPacketCount_ = function (queuedPacketCount) {
  if (this.tabs_) {
    this.tabs_.setRouterQueuedPacketCount(queuedPacketCount);
  }
};

/**
 * @param {number} usedMemoryInBits
 * @private
 */
NetSim.prototype.setRouterMemoryInUse_ = function (usedMemoryInBits) {
  if (this.tabs_) {
    this.tabs_.setRouterMemoryInUse(usedMemoryInBits);
  }
};

/**
 * @param {number} dataRateBitsPerSecond
 * @private
 */
NetSim.prototype.setRouterDataRate_ = function (dataRateBitsPerSecond) {
  if (this.tabs_) {
    this.tabs_.setRouterDataRate(dataRateBitsPerSecond);
  }
};

/**
 * Load audio assets for this app
 * TODO (bbuchanan): Ought to pull this into an audio management module
 * @private
 */
NetSim.prototype.loadAudio_ = function () {};

/**
 * Replaces StudioApp.configureDom.
 * Should be bound against StudioApp instance.
 * @param {Object} config Should at least contain
 *   containerId: ID of a parent DOM element for app content
 *   html: Content to put inside #containerId
 * @private
 */
NetSim.configureDomOverride_ = function (config) {
  var container = document.getElementById(config.containerId);
  container.innerHTML = config.html;

  var vizHeight = this.MIN_WORKSPACE_HEIGHT;
  var visualizationColumn = document.getElementById('netsim-leftcol');

  if (config.pinWorkspaceToBottom) {
    document.body.style.overflow = "hidden";
    container.className = container.className + " pin_bottom";
    visualizationColumn.className = visualizationColumn.className + " pin_bottom";
  } else {
    visualizationColumn.style.minHeight = vizHeight + 'px';
    container.style.minHeight = vizHeight + 'px';
  }
};

/**
 * Resize the left column so it pins above the footer.
 */
function resizeLeftColumnToSitAboveFooter() {
  var pinnedLeftColumn = document.querySelector('#netsim-leftcol.pin_bottom');
  if (!pinnedLeftColumn) {
    return;
  }

  var smallFooter = document.querySelector('#page-small-footer .small-footer-base');

  var bottom = 0;
  if (smallFooter) {
    var codeApp = $('#codeApp');
    bottom += $(smallFooter).outerHeight(true);
    // Footer is relative to the document, not codeApp, so we need to
    // remove the codeApp bottom offset to get the correct margin.
    bottom -= parseInt(codeApp.css('bottom'), 10);
  }

  pinnedLeftColumn.style.bottom = bottom + 'px';
}

function resizeFooterToFitToLeftOfContent() {
  var leftColumn = document.querySelector('#netsim-leftcol.pin_bottom');
  var instructions = document.querySelector('.instructions');
  var smallFooter = document.querySelector('#page-small-footer .small-footer-base');

  if (!smallFooter) {
    return;
  }

  var padding = parseInt(window.getComputedStyle(smallFooter)["padding-left"]);

  var boundingWidth;
  if (leftColumn && $(leftColumn).is(':visible')) {
    boundingWidth = leftColumn.getBoundingClientRect().right;
  } else if (instructions && $(instructions).is(':visible')) {
    boundingWidth = instructions.getBoundingClientRect().right;
  }

  smallFooter.style.maxWidth = boundingWidth ? boundingWidth - padding + 'px' : null;
}

var netsimDebouncedResizeFooter = _.debounce(function () {
  resizeFooterToFitToLeftOfContent();
  resizeLeftColumnToSitAboveFooter();
}, 10);

/**
 * Replaces StudioApp.onResize
 * Should be bound against StudioApp instance.
 * @private
 */
NetSim.onResizeOverride_ = function () {
  var div = document.getElementById('appcontainer');
  var divParent = div.parentNode;
  var parentStyle = window.getComputedStyle(divParent);
  var parentWidth = parseInt(parentStyle.width, 10);
  div.style.top = divParent.offsetTop + 'px';
  div.style.width = parentWidth + 'px';

  netsimDebouncedResizeFooter();
};

/**
 * Passthrough to local "static" netsimDebounceResizeFooter method
 */
NetSim.prototype.debouncedResizeFooter = function () {
  netsimDebouncedResizeFooter();
};

/**
 * Re-render parts of the page that can be re-rendered in place.
 */
NetSim.prototype.render = function () {
  if (this.isConnectedToRemote()) {
    var myAddress = this.myNode.getAddress();

    // Swap in 'connected' div
    this.mainContainer_.find('#netsim-disconnected').hide();
    this.mainContainer_.find('#netsim-connected').show();

    // Render right column
    this.sendPanel_.setFromAddress(myAddress);

    // Render left column
    if (this.statusPanel_) {
      this.statusPanel_.render({
        myHostname: this.myNode.getHostname(),
        myAddress: myAddress,
        remoteNodeName: this.getConnectedRemoteNode().getDisplayName(),
        shareLink: this.lobby_.getShareLink()
      });
    }
  } else {
    // Swap in 'disconnected' div
    this.mainContainer_.find('#netsim-disconnected').show();
    this.mainContainer_.find('#netsim-connected').hide();

    // Render lobby
    this.lobby_.render();
  }

  if (this.routerLogModal_) {
    this.routerLogModal_.render();
  }

  this.updateLayout();
};

/**
 * Called whenever the connection notifies us that we've connected to,
 * or disconnected from, a shard.
 * @param {NetSimShard} shard - null if disconnected.
 * @param {NetSimLocalClientNode} localNode - null if disconnected
 * @private
 */
NetSim.prototype.onShardChange_ = function (shard, localNode) {
  // Unregister old handlers
  if (this.eventKeys.registeredWithLocalNode) {
    this.eventKeys.registeredWithLocalNode.remoteChange.unregister(this.eventKeys.remoteChange);
    this.eventKeys.registeredWithLocalNode = null;
  }

  // Register new handlers
  if (localNode) {
    this.eventKeys.remoteChange = localNode.remoteChange.register(this.onRemoteChange_.bind(this));
    this.eventKeys.registeredWithLocalNode = localNode;
  }

  // Update the log viewer's shard reference so it can get current data.
  if (this.routerLogModal_) {
    this.routerLogModal_.setShard(shard);
  }

  // Shard changes almost ALWAYS require a re-render
  this.visualization_.setShard(shard);
  this.visualization_.setLocalNode(localNode);
  this.render();
};

/**
 * Called whenever the local node notifies that we've been connected to,
 * or disconnected from, a router.
 * @param {NetSimWire} wire - null if disconnected.
 * @param {NetSimNode} remoteNode - null if disconnected
 * @private
 */
NetSim.prototype.onRemoteChange_ = function (wire, remoteNode) {
  var routerConnectEvent = remoteNode && remoteNode instanceof NetSimRouterNode;
  var routerDisconnectEvent = !remoteNode && this.eventKeys.registeredWithRouter;

  // Unhook old handlers
  if (this.eventKeys.registeredWithRouter) {
    this.eventKeys.registeredWithRouter.stateChange.unregister(this.eventKeys.routerStateChange);
    this.eventKeys.registeredWithRouter.statsChange.unregister(this.eventKeys.routerStatsChange);
    this.eventKeys.registeredWithRouter.wiresChange.unregister(this.eventKeys.routerWiresChange);
    this.eventKeys.registeredWithRouter.logChange.unregister(this.eventKeys.routerLogChange);
    this.eventKeys.registeredWithRouter = null;
  }

  // Hook up new handlers
  if (routerConnectEvent) {
    this.eventKeys.routerStateChange = remoteNode.stateChange.register(this.onRouterStateChange_.bind(this));
    this.eventKeys.routerStatsChange = remoteNode.statsChange.register(this.onRouterStatsChange_.bind(this));
    this.eventKeys.routerWiresChange = remoteNode.wiresChange.register(this.onRouterWiresChange_.bind(this));
    this.eventKeys.routerLogChange = remoteNode.logChange.register(this.onRouterLogChange_.bind(this));
    this.eventKeys.registeredWithRouter = remoteNode;
  }

  this.render();

  if (routerConnectEvent) {
    this.onRouterConnect_(remoteNode);
  } else if (routerDisconnectEvent) {
    this.onRouterDisconnect_();
  }
};

/**
 * Steps to take when we were not connected to a router and now we are.
 * @param {NetSimRouterNode} router that we are now connected to
 * @private
 */
NetSim.prototype.onRouterConnect_ = function (router) {
  this.onRouterStateChange_(router);
  this.onRouterStatsChange_(router);
  this.setRouterLogData(router.getLog());
  this.routerLogModal_.setRouter(router);
};

/**
 * Steps to take when we were connected to a router and now we are not.
 * @private
 */
NetSim.prototype.onRouterDisconnect_ = function () {
  this.setRouterCreationTime(0);
  this.setRouterQueuedPacketCount_(0);
  this.setRouterMemoryInUse_(0);
  this.setRouterDataRate_(0);
  this.setRouterLogData([]);
  this.routerLogModal_.setRouter(null);
};

/**
 * Local response to router state changing, which may have been triggered
 * locally or remotely.
 * @param {NetSimRouterNode} router
 * @private
 */
NetSim.prototype.onRouterStateChange_ = function (router) {
  var myNode = {};
  if (this.myNode) {
    myNode = this.myNode;
  }

  this.setRouterCreationTime(router.creationTime);
  this.setRouterBandwidth(router.bandwidth);
  this.setRouterMemory(router.memory);
  this.setDnsMode(router.dnsMode);
  this.setDnsNodeID(router.dnsMode === DnsMode.NONE ? undefined : router.dnsNodeID);
  this.setIsDnsNode(router.dnsMode === DnsMode.MANUAL && router.dnsNodeID === myNode.entityID);
};

/**
 * Isolates updates that we should do when a router's stats change, since
 * these happen a lot more often.
 * @param {NetSimRouterNode} router
 * @private
 */
NetSim.prototype.onRouterStatsChange_ = function (router) {
  this.setRouterQueuedPacketCount_(router.getQueuedPacketCount());
  this.setRouterMemoryInUse_(router.getMemoryInUse());
  this.setRouterDataRate_(router.getCurrentDataRate());
};

/**
 * What to do when our connected router's local network changes.
 * @private
 */
NetSim.prototype.onRouterWiresChange_ = function () {
  if (this.isConnectedToRouter()) {
    this.setDnsTableContents(this.getConnectedRouter().getAddressTable());
  }
};

/**
 * What to do when our connected router's logs change.
 * @private
 */
NetSim.prototype.onRouterLogChange_ = function () {
  if (this.isConnectedToRouter()) {
    this.setRouterLogData(this.getConnectedRouter().getLog());
  }
};

/**
 * Kick off an animation that shows the local node setting the state of a
 * simplex wire.
 * @param {"0"|"1"} newState
 */
NetSim.prototype.animateSetWireState = function (newState) {
  this.visualization_.animateSetWireState(newState);
};

/**
 * Kick off an animation that shows the local node reading the state of a
 * simplex wire.
 * @param {"0"|"1"} newState
 */
NetSim.prototype.animateReadWireState = function (newState) {
  this.visualization_.animateReadWireState(newState);
};

/**
 * Specifically, update the layout of the right column when connected,
 * and change how the three panels there (received log, sent log, send controls)
 * share the current vertical space in the viewport.
 *
 * We're trying to use the following rules:
 *
 * 1. The send controls panel is fixed to the bottom of the viewport, and will
 *    size upwards to fit its contents up to a maximum height.
 * 2. The log widgets use the remaining vertical space
 *    a) If only one log widget is open, it fills the vertical space (except
 *       leaves enough room to see the other header)
 *    b) If both log widgets are open, they share the vertical space 50/50
 *    c) If both log widgets are closed, they float at the top of the space.
 */
NetSim.prototype.updateLayout = function () {
  var rightColumn = $('#netsim-rightcol');
  var sendPanel = $('#netsim-send');
  var logWrap = $('#netsim-logs');

  netsimDebouncedResizeFooter();

  if (this.lobby_) {
    this.lobby_.updateLayout();
  }

  if (!rightColumn.is(':visible')) {
    return;
  }

  // Right column wrapper and the send panel are both sized by CSS
  var rightColumnHeight = rightColumn.height();
  var sendPanelHeight = sendPanel.height();
  var logsSharedVerticalSpace = rightColumnHeight - sendPanelHeight;

  var showingSent = !this.sentMessageLog_.isMinimized();
  var showingReceived = !this.receivedMessageLog_.isMinimized();
  if (showingReceived && showingSent) {
    var halfHeight = Math.floor(logsSharedVerticalSpace / 2);
    this.receivedMessageLog_.setHeight(halfHeight);
    this.sentMessageLog_.setHeight(halfHeight);
  } else if (showingReceived) {
    this.receivedMessageLog_.setHeight(Math.floor(logsSharedVerticalSpace - this.sentMessageLog_.getHeight()));
  } else if (showingSent) {
    this.sentMessageLog_.setHeight(Math.floor(logsSharedVerticalSpace - this.receivedMessageLog_.getHeight()));
  }

  // Manually adjust the logwrap to the remaining height
  logWrap.css('height', rightColumnHeight - sendPanelHeight);
};

/**
 * Appropriate steps for when the student hits the "Continue to next level"
 * button.  Should mark the level as complete and navigate to the next level.
 */
NetSim.prototype.completeLevelAndContinue = function () {
  if (this.isConnectedToRemote() && !confirm(i18n.onBeforeUnloadWarning())) {
    return;
  }

  // Avoid multiple simultaneous submissions.
  $('.submitButton').attr('disabled', true);

  sendReport({
    fallbackResponse: this.reportingInfo_.fallback_response,
    callback: this.reportingInfo_.callback,
    app: 'netsim',
    level: this.level.id,
    result: true,
    testResult: 100,
    onComplete: (function (serverResponse) {

      // Re-enable submit button, in case there's nowhere to go.
      $('.submitButton').attr('disabled', false);

      // If there's somewhere to go, disconnect and go!
      if (serverResponse.redirect) {
        if (this.isConnectedToRemote()) {
          this.disconnectFromRemote(function () {
            window.location.href = serverResponse.redirect;
          });
        } else {
          window.location.href = serverResponse.redirect;
        }
      }
    }).bind(this)
  });
};

/**
 * Attempt to reset the simulation shard, kicking all users out and resetting
 * all data.
 */
NetSim.prototype.resetShard = function () {
  if (this.shard_ && confirm(i18n.shardResetConfirmation())) {
    this.shard_.resetEverything((function (err) {
      if (err) {
        logger.error(err);
        NetSimAlert.error(i18n.shardResetError());
        return;
      }
    }).bind(this));
  }
};

},{"../ObservableEvent":"/home/ubuntu/staging/apps/build/js/ObservableEvent.js","../RunLoop":"/home/ubuntu/staging/apps/build/js/RunLoop.js","../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./DashboardUser":"/home/ubuntu/staging/apps/build/js/netsim/DashboardUser.js","./NetSimAlert":"/home/ubuntu/staging/apps/build/js/netsim/NetSimAlert.js","./NetSimBitLogPanel":"/home/ubuntu/staging/apps/build/js/netsim/NetSimBitLogPanel.js","./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js","./NetSimLobby":"/home/ubuntu/staging/apps/build/js/netsim/NetSimLobby.js","./NetSimLocalClientNode":"/home/ubuntu/staging/apps/build/js/netsim/NetSimLocalClientNode.js","./NetSimLogPanel":"/home/ubuntu/staging/apps/build/js/netsim/NetSimLogPanel.js","./NetSimLogger":"/home/ubuntu/staging/apps/build/js/netsim/NetSimLogger.js","./NetSimRouterLogModal":"/home/ubuntu/staging/apps/build/js/netsim/NetSimRouterLogModal.js","./NetSimRouterNode":"/home/ubuntu/staging/apps/build/js/netsim/NetSimRouterNode.js","./NetSimSendPanel":"/home/ubuntu/staging/apps/build/js/netsim/NetSimSendPanel.js","./NetSimShard":"/home/ubuntu/staging/apps/build/js/netsim/NetSimShard.js","./NetSimStatusPanel":"/home/ubuntu/staging/apps/build/js/netsim/NetSimStatusPanel.js","./NetSimTabsComponent":"/home/ubuntu/staging/apps/build/js/netsim/NetSimTabsComponent.js","./NetSimUtils":"/home/ubuntu/staging/apps/build/js/netsim/NetSimUtils.js","./NetSimVisualization":"/home/ubuntu/staging/apps/build/js/netsim/NetSimVisualization.js","./controls.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/controls.html.ejs","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js","./page.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/page.html.ejs"}],"/home/ubuntu/staging/apps/build/js/netsim/page.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('');1;
  var msg = require('../locale');
; buf.push('\n\n<div id="rotateContainer" style="background-image: url(', escape((5,  assetUrl('media/turnphone_horizontal.png') )), ')">\n  <div id="rotateText">\n    <p>', escape((7,  msg.rotateText() )), '<br>', escape((7,  msg.orientationLock() )), '</p>\n  </div>\n</div>\n\n');11; var instructions = function() {; buf.push('  <div id="bubble" class="clearfix">\n    <table id="prompt-table">\n      <tr>\n        <td id="prompt-icon-cell">\n          <img id="prompt-icon"/>\n        </td>\n        <td id="prompt-cell">\n          <p id="prompt">\n          </p>\n        </td>\n      </tr>\n    </table>\n    <div id="ani-gif-preview-wrapper">\n      <div id="ani-gif-preview">\n      </div>\n    </div>\n  </div>\n');28; };; buf.push('\n<div id="appcontainer">\n  <!-- Should disable spell-check on all netsim elements -->\n  <div id="netsim" autocapitalize="false" autocorrect="false" autocomplete="false" spellcheck="false">\n\n    <div id="netsim-disconnected">\n      <div class="lobby-panel"></div>\n    </div>\n\n\n    <div id="netsim-connected">\n      <div id="netsim-leftcol">\n        <div class="column-width-limiter">\n\n          <div id="netsim-status"></div>\n\n          <div id="netsim-visualization"></div>\n\n          <div id="netsim-tabs"></div>\n\n        </div>\n      </div>\n\n      <div id="netsim-rightcol">\n        <div id="netsim-logs">\n          <div id="netsim-received"></div>\n          <div id="netsim-sent"></div>\n        </div>\n        <div id="netsim-send"></div>\n      </div>\n    </div>\n\n    <div id="router-log-modal" class="modal fade"></div>\n\n  </div>\n  <div id="footers" dir="', escape((63,  data.localeDirection )), '">\n  </div>\n  <div class="hidden">\n    ');66; instructions(); ; buf.push('\n  </div>\n</div>\n\n<div class="clear"></div>\n'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"../locale":"/home/ubuntu/staging/apps/build/js/locale.js","ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/levels.js":[function(require,module,exports){
/*jshint multistr: true */
/**
 * @overview Type documentation for a NetSim level configuration object,
 *           and default values for that object.
 */

'use strict';

var NetSimConstants = require('./NetSimConstants');
var Packet = require('./Packet');
var BITS_PER_NIBBLE = NetSimConstants.BITS_PER_NIBBLE;
var MessageGranularity = NetSimConstants.MessageGranularity;
var DnsMode = NetSimConstants.DnsMode;
var EncodingType = NetSimConstants.EncodingType;
var NetSimTabType = NetSimConstants.NetSimTabType;

/**
 * A level configuration that can be used by NetSim
 * @typedef {Object} NetSimLevelConfiguration
 *
 * @property {string} instructions - Inherited from blockly level configuration.
 *
 * @property {boolean} showClientsInLobby - Whether client nodes should appear
 *           in the lobby list at all.
 *
 * @property {boolean} showRoutersInLobby - Whether router nodes should appear
 *           in the lobby list at all.
 *
 * @property {boolean} canConnectToClients - Whether client nodes are selectable
 *           and can be connected to
 *
 * @property {boolean} canConnectToRouters - Whether router nodes are selectable
 *           and can be connected to
 *
 * @property {boolean} showAddRouterButton - Whether the "Add Router" button
 *           should appear above the lobby list.
 *
 * @property {boolean} showLogBrowserButton - Whether the "Log Browser" is
 *           available in the lobby.
 *
 * @property {MessageGranularity} messageGranularity - Whether the simulator
 *           puts a single bit into storage at a time, or a whole packet.
 *           Should use 'bits' for variant 1 (levels about the coordination
 *           problem), and 'packets' for levels where the coordination problem
 *           is abstracted away.
 *
 * @property {boolean} automaticReceive - Whether the local node will
 *           automatically pick up messages to itself from the message table,
 *           and dump them to the received message log.  If false, some other
 *           method must be used for receiving messages.
 *
 * @property {boolean} broadcastMode - Enabling this option turns "routers"
 *           into "rooms" and makes it so every message sent in the room
 *           will be received by every other person in that room.
 *
 * @property {boolean} connectedRouters - When false (default), each router or
 *           room exists in isolation and will have no contact with other routers
 *           or rooms.  When true, it is possible for messages to travel between
 *           routers, connecting the whole shard.
 *
 * @property {number} minimumExtraHops - Fewest non-destination routers an
 *           inter-router message should try to visit before going to its
 *           destination router.  Number of hops can be lower if network
 *           conditions don't allow it.
 *
 * @property {number} maximumExtraHops - Most non-destination routers an
 *           inter-router message should try to visit before going to its
 *           destination router.
 *
 * @property {AddressHeaderFormat} addressFormat - Specify how many bits wide
 *           an address is within the simulation and how it should be divided
 *           up into a hierarchy. Format resembles IPv4 dot-decimal notation,
 *           but the numbers specify the number of bits for each section.
 *           Examples:
 *           "8.8" - 16-bit address, represented as two 8-bit integers.
 *           "4" - 4 bit address represented as one 4-bit integer.
 *           "8.4" - 12-bit address, represented as an 8-bit integer followed
 *                   by a 4-bit integer
 *            This format will be applied to any "fromAddress" or "toAddress"
 *            header fields in the packet specification, and will determine
 *            how routers assign addresses.
 *
 * @property {number} packetCountBitWidth - How many bits should be allocated
 *           for any "packetIndex" or "packetCount" fields in the packet
 *           specification.
 *
 * @property {Packet.HeaderType[]} routerExpectsPacketHeader - The header format
 *           the router uses to parse incoming packets and figure out where
 *           to route them.
 *
 * @property {Packet.HeaderType[]} clientInitialPacketHeader - The header format
 *           used by the local client node when generating/parsing packets,
 *           which affects the layout of the send panel and log panels.
 *
 * @property {boolean} showHostnameInGraph - If false, student display name
 *           is used in the network graph.  If true, their generated hostname
 *           is displayed.
 *
 * @property {boolean} showAddPacketButton - Whether the "Add Packet" button
 *           should appear in the send widget.
 *
 * @property {boolean} showPacketSizeControl - Whether the packet size slider
 *           should appear in the send widget.
 *
 * @property {number} defaultPacketSizeLimit - Initial maximum packet size.
 *
 * @property {NetSimTabType[]} showTabs - Which tabs should appear beneath the
 *           network visualization.  Does not determine tab order; tabs always
 *           appear in the order "Instructions, My Device, Router, DNS."
 *
 * @property {number} defaultTabIndex - The zero-based index of the tab
 *           that should be active by default, which depends on which tabs
 *           you have enabled.
 *
 * @property {boolean} showPulseRateSlider - Whether the pulse rate slider
 *           is visible on the "My Device" tab.  This control is a different
 *           view on the bitrate, given in seconds-per-pulse; in fact, if both
 *           this and the bitrate slider are visible, dragging one will change
 *           the other.
 *
 * @property {boolean} showMetronome - Whether the metronome should show up on
 *           the "My Device" tab.
 *
 * @property {EncodingType[]} showEncodingControls - Which encodings, (ASCII,
 *           binary, etc.) should have visible controls on the "My Device" tab.
 *
 * @property {EncodingType[]} defaultEnabledEncodings - Which encodings should
 *           be enabled on page load.  Note: An encoding enabled here but not
 *           included in the visible controls will be enabled and cannot be
 *           disabled by the student.
 *
 * @property {boolean} showBitRateControl - Whether the bit rate slider should
 *           be displayed on the "My Device" tab.
 *
 * @property {boolean} lockBitRateControl - Whether the bit rate slider should
 *           be adjustable by the student.
 *
 * @property {number} defaultBitRateBitsPerSecond - Default bit rate on level
 *           load.  Also sets the pulse rate for levels with the metronome.
 *
 * @property {boolean} showChunkSizeControl - Whether the chunk size slider
 *           should be displayed on the "My Device" tab.
 *
 * @property {boolean} lockChunkSizeControl - Whether the chunk size slider
 *           should be adjustable by the student.
 *
 * @property {number} defaultChunkSizeBits- Default chunk size on level load.
 *
 * @property {boolean} showRouterBandwidthControl - Whether students should be
 *           able to see and manipulate the slider that adjusts the router's
 *           max throughput speed.
 *
 * @property {number} defaultRouterBandwidth - How fast the router should be
 *           able to process packets, on initial level load.
 *
 * @property {boolean} showRouterMemoryControl - Whether students should be
 *           able to see and manipulate the slider that adjusts the router's
 *           maximum queue memory.
 *
 * @property {number} defaultRouterMemory - How much data the router packet
 *           queue is able to hold before it starts dropping packets, in bits.
 *
 * @property {number} defaultRandomDropChance - Odds that the router will drop
 *           the packet for no reason while routing it.  Value in range
 *           0 (no drops) to 1 (drop everything)
 *
 * @property {boolean} showDnsModeControl - Whether the DNS mode controls will
 *           be available to the student.
 *
 * @property {DnsMode} defaultDnsMode - Which DNS mode the simulator should
 *           initialize into.
 */

/*
 * Configuration for all levels.
 */
var levels = module.exports = {};

/**
 * A default level configuration so that we can define the others by delta.
 * This default configuration enables everything possible, so other configs
 * should start with this one and disable features.
 * @type {NetSimLevelConfiguration}
 */
levels.custom = {

  // Lobby configuration
  showClientsInLobby: false,
  showRoutersInLobby: false,
  canConnectToClients: false,
  canConnectToRouters: false,
  showAddRouterButton: false,
  showLogBrowserButton: false,

  // Simulator-wide setup
  messageGranularity: MessageGranularity.BITS,
  automaticReceive: false,
  broadcastMode: false,
  connectedRouters: false,
  minimumExtraHops: 0,
  maximumExtraHops: 0,

  // Packet header specification
  addressFormat: '4',
  packetCountBitWidth: 4,
  routerExpectsPacketHeader: [],
  clientInitialPacketHeader: [],

  // Visualization configuration
  showHostnameInGraph: false,

  // Send widget configuration
  showAddPacketButton: false,
  showPacketSizeControl: false,
  defaultPacketSizeLimit: 8192,

  // Tab-panel control
  showTabs: [],
  defaultTabIndex: 0,

  // Instructions tab and its controls
  // Note: Uses the blockly-standard level.instructions value, which should
  //       be localized by the time it gets here.

  // "My Device" tab and its controls
  showPulseRateSlider: false,
  showMetronome: false,
  showEncodingControls: [],
  defaultEnabledEncodings: [],
  showBitRateControl: false,
  lockBitRateControl: false,
  defaultBitRateBitsPerSecond: Infinity,
  showChunkSizeControl: false,
  lockChunkSizeControl: false,
  defaultChunkSizeBits: 8,

  // Router tab and its controls
  showRouterBandwidthControl: false,
  defaultRouterBandwidth: Infinity,
  showRouterMemoryControl: false,
  defaultRouterMemory: Infinity,
  defaultRandomDropChance: 0,

  // DNS tab and its controls
  showDnsModeControl: false,
  defaultDnsMode: DnsMode.NONE
};

/**
 * Special level configuration for use with 'grunt dev' standalone mode.
 * Never used when serving NetSim levels through dashboard.
 * @type {NetSimLevelConfiguration}
 */
levels.playground = {

  // Lobby configuration
  showClientsInLobby: false,
  showRoutersInLobby: true,
  canConnectToClients: false,
  canConnectToRouters: true,
  showAddRouterButton: true,
  showLogBrowserButton: true,

  // Simulator-wide setup
  messageGranularity: MessageGranularity.PACKETS,
  automaticReceive: true,
  broadcastMode: false,
  connectedRouters: false,
  minimumExtraHops: 0,
  maximumExtraHops: 0,

  // Packet header specification
  addressFormat: '4',
  packetCountBitWidth: 4,
  routerExpectsPacketHeader: ['toAddress', 'fromAddress'],
  clientInitialPacketHeader: ['toAddress', 'fromAddress'],

  // Visualization configuration
  showHostnameInGraph: false,

  // Send widget configuration
  showAddPacketButton: false,
  showPacketSizeControl: false,
  defaultPacketSizeLimit: 8192,

  // Tab-panel control
  showTabs: ['instructions', 'my_device', 'router', 'dns'],
  defaultTabIndex: 0,

  // Instructions tab and its controls
  // Note: Uses the blockly-standard level.instructions value, which should
  //       be localized by the time it gets here.

  // "My Device" tab and its controls
  showPulseRateSlider: false,
  showMetronome: false,
  showEncodingControls: ['a_and_b', 'binary', 'hexadecimal', 'decimal', 'ascii'],
  defaultEnabledEncodings: ['a_and_b', 'binary', 'hexadecimal', 'decimal', 'ascii'],
  showBitRateControl: true,
  lockBitRateControl: false,
  defaultBitRateBitsPerSecond: Infinity,
  showChunkSizeControl: true,
  lockChunkSizeControl: false,
  defaultChunkSizeBits: 8,

  // Router tab and its controls
  showRouterBandwidthControl: true,
  defaultRouterBandwidth: Infinity,
  showRouterMemoryControl: true,
  defaultRouterMemory: Infinity,
  defaultRandomDropChance: 0,

  // DNS tab and its controls
  showDnsModeControl: true,
  defaultDnsMode: DnsMode.NONE
};

},{"./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./Packet":"/home/ubuntu/staging/apps/build/js/netsim/Packet.js"}],"/home/ubuntu/staging/apps/build/js/netsim/controls.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('<div id="slider-cell">\n  <img id="spinner" style="visibility: hidden;" src="', escape((2,  assetUrl('media/netsim/loading.gif') )), '" height=15 width=15>\n</div>\n'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimVisualization.js":[function(require,module,exports){
/**
 * @overview Top-level controller for the network visualization.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var utils = require('../utils');
var _ = utils.getLodash();
var visualizationMarkup = require('./NetSimVisualization.html.ejs');
var NetSimNodeFactory = require('./NetSimNodeFactory');
var NetSimWire = require('./NetSimWire');
var NetSimVizAutoDnsNode = require('./NetSimVizAutoDnsNode');
var NetSimVizNode = require('./NetSimVizNode');
var NetSimVizSimulationNode = require('./NetSimVizSimulationNode');
var NetSimVizSimulationWire = require('./NetSimVizSimulationWire');
var NetSimVizWire = require('./NetSimVizWire');
var NetSimGlobals = require('./NetSimGlobals');
var tweens = require('./tweens');
var NetSimConstants = require('./NetSimConstants');
var DnsMode = NetSimConstants.DnsMode;
var NodeType = NetSimConstants.NodeType;

/**
 * Whether the blurred visualization background should be shown.
 * @const {boolean}
 */
var SHOW_BACKGROUND = false;

/**
 * Top-level controller for the network visualization.
 *
 * For the most part, the visualization attaches to the raw network state
 * representation (the storage tables) and updates to reflect that state,
 * independent of the rest of the controls on the page.  This separation means
 * that the visualization always has one canonical state to observe.
 *
 * @param {jQuery} rootDiv - The <div> tag within which the visualization
 *        will be created.
 * @param {RunLoop} runLoop - Loop providing tick and render events that the
 *        visualization can hook up to and respond to.
 * @constructor
 */
var NetSimVisualization = module.exports = function (rootDiv, runLoop) {
  /**
   * @private {jQuery}
   */
  this.rootDiv_ = rootDiv;

  // Immediately, drop our SVG canvas and basic groups into the DOM
  this.rootDiv_.html(visualizationMarkup({
    showBackground: SHOW_BACKGROUND
  }));

  /**
   * @private {jQuery}
   */
  this.svgRoot_ = this.rootDiv_.find('svg');

  /**
   * Background group never goes away, so search for it once and cache
   * it here.
   * @private {jQuery}
   */
  this.backgroundGroup_ = this.svgRoot_.find('#background-group');

  /**
   * Foreground group never goes away, so search for it once and cache
   * it here.
   * @private {jQuery}
   */
  this.foregroundGroup_ = this.svgRoot_.find('#foreground-group');

  /**
   * The shard currently being represented.
   * We don't have a shard now, but we register with the connection manager
   * to find out when we have one.
   * @private {NetSimShard}
   */
  this.shard_ = null;

  /**
   * List of VizEntities, which are all the elements that will actually show up
   * in our visualization.
   * @private {NetSimVizElement[]}
   */
  this.elements_ = [];

  /**
   * Reference to the local node viz element, the anchor for the visualization.
   * @type {NetSimVizSimulationNode}
   */
  this.localNode = null;

  /**
   * Width (in svg-units) of visualization
   * @type {number}
   */
  this.visualizationWidth = 300;

  /**
   * Height (in svg-units) of visualization
   * @type {number}
   */
  this.visualizationHeight = 300;

  /**
  * Last known DNS mode, so that new elements can be created with the
  * correct default
  * @type {DnsMode}
  */
  this.dnsMode_ = null;

  /**
   * Reference to visualized auto-DNS node, a fake node (not mapped to the
   * simulation in a normal way) that also lives in our elements_ collection.
   * @type {NetSimVizAutoDnsNode}
   * @private
   */
  this.autoDnsNode_ = null;

  /**
   * Reference to wire between the auto-DNS node and the foreground router.
   * Managed manually so we keep a handle on it, but also lives in the elements_
   * collection.
   * @type {NetSimVizWire}
   * @private
   */
  this.autoDnsWire_ = null;

  /**
   * Event registration information
   * @type {Object}
   */
  this.eventKeys = {};

  /**
   * Last known encodings set, so that new elements can be created with
   * the correct default
   * @type {EncodingType[]}
   */
  this.encodings_ = [];

  // Hook up tick and render methods
  runLoop.tick.register(this.tick.bind(this));
  runLoop.render.register(this.render.bind(this));
};

/**
 * Tick: Update all vizentities, giving them an opportunity to recalculate
 *       their internal state, and remove any dead entities from the
 *       visualization.
 * @param {RunLoop.Clock} clock
 */
NetSimVisualization.prototype.tick = function (clock) {
  // Everyone gets an update
  this.elements_.forEach(function (element) {
    element.tick(clock);
  });

  // Tear out dead entities.
  this.elements_ = this.elements_.filter(function (element) {
    if (element.isDead()) {
      element.getRoot().remove();
      return false;
    }
    return true;
  });
};

/**
 * Render: Let all vizentities "redraw" (or in our case, touch the DOM)
 * @param {RunLoop.Clock} clock
 */
NetSimVisualization.prototype.render = function (clock) {
  this.elements_.forEach(function (element) {
    element.render(clock);
  });
};

/**
 * Change the shard this visualization will source its data from.
 * Re-attaches table change listeners for all the tables we need to monitor.
 * @param {?NetSimShard} newShard - null if disconnected
 */
NetSimVisualization.prototype.setShard = function (newShard) {
  this.shard_ = newShard;

  // If we were registered for shard events, unregister old handlers.
  if (this.eventKeys.registeredWithShard) {
    this.eventKeys.registeredWithShard.nodeTable.tableChange.unregister(this.eventKeys.nodeTable);
    this.eventKeys.registeredWithShard.wireTable.tableChange.unregister(this.eventKeys.wireTable);
    this.eventKeys.registeredWithShard = null;
  }

  // If we have a new shard, register new handlers.
  if (newShard) {
    this.eventKeys.nodeTable = newShard.nodeTable.tableChange.register(this.onNodeTableChange_.bind(this));
    this.eventKeys.wireTable = newShard.wireTable.tableChange.register(this.onWireTableChange_.bind(this));
    this.eventKeys.registeredWithShard = newShard;
  }
};

/**
 * Change which node we consider the 'local node' in the visualization.
 * We go through a special creation process for this node, so that it
 * looks and behaves differently.
 * @param {?NetSimLocalClientNode} newLocalNode - null if disconnected
 */
NetSimVisualization.prototype.setLocalNode = function (newLocalNode) {
  // Unregister old handlers
  if (this.eventKeys.registeredWithLocalNode) {
    this.eventKeys.registeredWithLocalNode.remoteChange.unregister(this.eventKeys.remoteChange);
    this.eventKeys.registeredWithLocalNode = null;
  }

  // Register new handlers
  if (newLocalNode) {
    this.eventKeys.remoteChange = newLocalNode.remoteChange.register(this.onRemoteChange_.bind(this));
    this.eventKeys.registeredWithLocalNode = newLocalNode;
  }

  // Create viznode for local node
  if (newLocalNode) {
    if (this.localNode) {
      this.localNode.configureFrom(newLocalNode);
    } else {
      this.localNode = new NetSimVizSimulationNode(newLocalNode, SHOW_BACKGROUND);
      this.elements_.push(this.localNode);
      this.backgroundGroup_.append(this.localNode.getRoot());
    }
    this.localNode.setIsLocalNode();
  } else {
    if (this.localNode) {
      this.localNode.kill();
      this.localNode = null;
    }
  }
  this.pullElementsToForeground();
};

/**
 * Called whenever the local node notifies that we've been connected to,
 * or disconnected from, a router.
 * @private
 */
NetSimVisualization.prototype.onRemoteChange_ = function () {
  this.pullElementsToForeground();
  this.distributeForegroundNodes();
};

/**
 * Find a particular VizElement in the visualization, by type and ID.
 * @param {function} elementType - constructor of element we're looking for
 * @param {number} entityID - ID, with corresponds to NetSimEntity.entityID
 * @returns {NetSimVizElement} or undefined if not found
 */
NetSimVisualization.prototype.getElementByEntityID = function (elementType, entityID) {
  return _.find(this.elements_, function (element) {
    return element instanceof elementType && element.getCorrespondingEntityId && element.getCorrespondingEntityId() === entityID;
  });
};

/**
 * Gets the set of VizWires directly attached to the given VizNode on
 * the local end for which there are also corresponding VizWires coming
 * from the opposite end. Note that if the VizNode is a router, we
 * consider all attached wires to be reciprocated.
 * @param {NetSimVizSimulationNode} vizNode
 * @returns {Array.<NetSimVizSimulationWire>} the attached wires
 */
NetSimVisualization.prototype.getReciprocatedWiresAttachedToNode = function (vizNode) {

  if (vizNode.isRouter) {
    return this.getWiresAttachedToNode(vizNode);
  }

  var localWires = this.getLocalWiresAttachedToNode(vizNode);

  return localWires.filter(function (localWire) {

    if (localWire.remoteVizNode.isRouter) {
      return true;
    }

    return this.getWiresAttachedToNode(localWire.remoteVizNode).some(function (wire) {
      return wire.remoteVizNode === vizNode;
    });
  }, this);
};

/**
 * Gets the set of VizWires directly attached to the given VizNode on the local end
 * @param {NetSimVizSimulationNode} vizNode
 * @returns {Array.<NetSimVizSimulationWire>} the attached wires
 */
NetSimVisualization.prototype.getLocalWiresAttachedToNode = function (vizNode) {
  return this.elements_.filter(function (element) {
    return element instanceof NetSimVizWire && element.localVizNode === vizNode;
  });
};

/**
 * Gets the set of VizWires directly attached to the given VizNode, (either
 * on the local end or remote end)
 * @param {NetSimVizSimulationNode} vizNode
 * @returns {Array.<NetSimVizSimulationWire>} the attached wires
 */
NetSimVisualization.prototype.getWiresAttachedToNode = function (vizNode) {
  return this.elements_.filter(function (element) {
    return element instanceof NetSimVizWire && (element.localVizNode === vizNode || element.remoteVizNode === vizNode);
  });
};

/**
 * Handle notification that node table contents have changed.
 * @private
 */
NetSimVisualization.prototype.onNodeTableChange_ = function () {
  // Convert rows to correctly-typed objects
  var tableNodes = NetSimNodeFactory.nodesFromRows(this.shard_, this.shard_.nodeTable.readAll());

  // Update collection of VizNodes from source data
  this.updateVizEntitiesOfType_(NetSimVizSimulationNode, tableNodes, (function (node) {
    var newVizNode = new NetSimVizSimulationNode(node, SHOW_BACKGROUND);
    newVizNode.setDnsMode(this.dnsMode_);
    newVizNode.snapToPosition(Math.random() * this.visualizationWidth - this.visualizationWidth / 2, Math.random() * this.visualizationHeight - this.visualizationHeight / 2);
    return newVizNode;
  }).bind(this));
};

/**
 * Handle notification that wire table contents have changed.
 * @private
 */
NetSimVisualization.prototype.onWireTableChange_ = function () {
  // Convert rows to correctly-typed objects
  var tableWires = this.shard_.wireTable.readAll().map(function (row) {
    return new NetSimWire(this.shard_, row);
  }, this);

  // Update collection of VizWires from source data
  this.updateVizEntitiesOfType_(NetSimVizSimulationWire, tableWires, (function (wire) {
    var newVizWire = new NetSimVizSimulationWire(wire, this.getElementByEntityID.bind(this));
    newVizWire.setEncodings(this.encodings_);
    return newVizWire;
  }).bind(this));

  // In broadcast mode we hide the real wires and router, and overlay a set
  // of fake wires showing everybody connected to everybody else.
  if (NetSimGlobals.getLevelConfig().broadcastMode) {
    this.updateBroadcastModeWires_();
  }

  // Since the wires table determines simulated connectivity, we trigger a
  // recalculation of which nodes are in the local network (should be in the
  // foreground) and then re-layout the foreground nodes.
  this.pullElementsToForeground();
  this.distributeForegroundNodes();
};

/**
 * Based on new connectivity information, recalculate which 'fake' connections
 * we need to display to show all nodes in a 'room' having direct wires to
 * one another.
 * @private
 */
NetSimVisualization.prototype.updateBroadcastModeWires_ = function () {
  // Kill all fake wires
  this.elements_.forEach(function (vizElement) {
    if (vizElement instanceof NetSimVizWire && !(vizElement instanceof NetSimVizSimulationWire)) {
      vizElement.kill();
    }
  }, this);

  // Generate new wires
  var connections = this.generateBroadcastModeConnections_();
  connections.forEach(function (connectedPair) {
    var newFakeWire = new NetSimVizWire(connectedPair.nodeA, connectedPair.nodeB);
    this.addVizElement_(newFakeWire);
  }, this);
};

/**
 * Using the cached node and wire data, generates the set of all node pairs (A,B)
 * on the shard such that both A and B are client nodes, and A is reachable
 * from B.
 * @returns {Array.<{nodeA:{number}, nodeB:{number}}>}
 * @private
 */
NetSimVisualization.prototype.generateBroadcastModeConnections_ = function () {
  var nodeRows = this.shard_.nodeTable.readAll();
  var wireRows = this.shard_.wireTable.readAll();
  var nodeCount = nodeRows.length;

  // Generate a reverse mapping for lookups
  var nodeIDToIndex = {};
  for (var matrixIndex = 0; matrixIndex < nodeCount; matrixIndex++) {
    nodeIDToIndex[nodeRows[matrixIndex].id] = matrixIndex;
  }

  // Generate empty graph matrix initialized with no connections.
  var graph = new Array(nodeCount);
  for (var x = 0; x < nodeCount; x++) {
    graph[x] = new Array(nodeCount);
    for (var y = 0; y < nodeCount; y++) {
      graph[x][y] = false;
    }
  }

  // Apply real connections (wires) to the graph matrix
  wireRows.forEach(function (wireRow) {
    var localNodeIndex = nodeIDToIndex[wireRow.localNodeID];
    var remoteNodeIndex = nodeIDToIndex[wireRow.remoteNodeID];
    if (localNodeIndex !== undefined && remoteNodeIndex !== undefined) {
      graph[localNodeIndex][remoteNodeIndex] = true;
      graph[remoteNodeIndex][localNodeIndex] = true;
    }
  });

  // Use simple Floyd-Warshall to complete the transitive closure graph
  for (var k = 0; k < nodeCount; k++) {
    for (var i = 0; i < nodeCount; i++) {
      for (var j = 0; j < nodeCount; j++) {
        if (graph[i][k] && graph[k][j]) {
          graph[i][j] = true;
        }
      }
    }
  }

  // Now, generate unique pairs doing lookup on our transitive closure graph
  var connections = [];
  for (var from = 0; from < nodeCount - 1; from++) {
    for (var to = from + 1; to < nodeCount; to++) {
      // leave router connections out of this list
      var clientToClient = nodeRows[from].type === NodeType.CLIENT && nodeRows[to].type === NodeType.CLIENT;
      // Must be reachable
      var reachable = graph[from][to];
      if (clientToClient && reachable) {
        connections.push({
          nodeA: this.getElementByEntityID(NetSimVizSimulationNode, nodeRows[from].id),
          nodeB: this.getElementByEntityID(NetSimVizSimulationNode, nodeRows[to].id)
        });
      }
    }
  }
  return connections;
};

/**
 * Compares VizEntities of the given type that are currently in the
 * visualization to the source data given, and creates/updates/removes
 * VizEntities so that the visualization reflects the new source data.
 *
 * @param {function} vizElementType
 * @param {Array.<NetSimEntity>} entityCollection
 * @param {function} creationMethod
 * @private
 */
NetSimVisualization.prototype.updateVizEntitiesOfType_ = function (vizElementType, entityCollection, creationMethod) {

  // 1. Kill VizEntities that are no longer in the source data
  this.killVizEntitiesOfTypeMissingMatch_(vizElementType, entityCollection);

  entityCollection.forEach(function (entity) {
    var vizElement = this.getElementByEntityID(vizElementType, entity.entityID);
    if (vizElement) {
      // 2. Update existing VizEntities from their source data
      vizElement.configureFrom(entity);
    } else {
      // 3. Create new VizEntities for new source data
      this.addVizElement_(creationMethod(entity));
    }
  }, this);
};

/**
 * Call kill() on any vizentities that match the given type and don't map to
 * a NetSimEntity in the provided collection.
 * @param {function} vizElementType
 * @param {Array.<NetSimEntity>} entityCollection
 * @private
 */
NetSimVisualization.prototype.killVizEntitiesOfTypeMissingMatch_ = function (vizElementType, entityCollection) {
  this.elements_.forEach(function (vizElement) {
    var isCorrectType = vizElement instanceof vizElementType;
    var foundMatch = entityCollection.some(function (entity) {
      return vizElement.representsEntity && vizElement.representsEntity(entity);
    });

    if (isCorrectType && !foundMatch) {
      vizElement.kill();
    }
  });
};

/**
 * Adds a VizElement to the visualization.
 * @param {NetSimVizElement} vizElement
 * @private
 */
NetSimVisualization.prototype.addVizElement_ = function (vizElement) {
  this.elements_.push(vizElement);
  this.backgroundGroup_.prepend(vizElement.getRoot());
};

/**
 * If we do need a DOM change, detach the element and reattach it to the new
 * layer. Special rule (for now): Prepend wires so that they show up behind
 * nodes.  Will need a better solution for this if/when the viz gets more
 * complex.
 * @param {NetSimVizElement} vizElement
 * @param {jQuery} newParent
 */
var moveVizElementToGroup = function moveVizElementToGroup(vizElement, newParent) {
  vizElement.getRoot().detach();
  if (vizElement instanceof NetSimVizWire) {
    vizElement.getRoot().prependTo(newParent);
  } else {
    vizElement.getRoot().appendTo(newParent);
  }
};

/**
 * Recalculate which nodes should be in the foreground layer by doing a full
 * traversal starting with the local node.  In short, everything reachable
 * from the local node belongs in the foreground.
 */
NetSimVisualization.prototype.pullElementsToForeground = function () {
  // Begin by marking all entities background (unvisited)
  this.elements_.forEach(function (vizElement) {
    vizElement.visited = false;
  });

  var toExplore = [];
  if (this.localNode) {
    toExplore.push(this.localNode);
  }

  // While there are still nodes that need visiting,
  // visit the next node, marking it as "foreground/visited" and
  // pushing all of its unvisited connections onto the stack.
  var currentVizElement;
  while (toExplore.length > 0) {
    currentVizElement = toExplore.pop();
    currentVizElement.visited = true;
    toExplore = toExplore.concat(this.getUnvisitedNeighborsOf_(currentVizElement));
  }

  // Now, visited nodes belong in the foreground.
  // Move all nodes to their new, correct layers
  // Possible optimization: Can we do this with just one operation on the live DOM?
  var foreground = this.foregroundGroup_;
  var background = this.backgroundGroup_;
  this.elements_.forEach(function (vizElement) {
    var isForeground = $.contains(foreground[0], vizElement.getRoot()[0]);

    // Check whether a change should occur.  If not, we leave
    // newParent undefined so that we don't make unneeded DOM changes.
    if (vizElement.visited && !isForeground) {
      moveVizElementToGroup(vizElement, foreground);
      vizElement.onDepthChange(true);
    } else if (!vizElement.visited && isForeground) {
      moveVizElementToGroup(vizElement, background);
      vizElement.onDepthChange(false);
    }
  }, this);

  this.updateAutoDnsNode();
};

/**
 * Visit method for pullElementsToForeground, not used anywhere else.
 * Notes that the current element is should be foreground when we're all done,
 * finds the current element's unvisited connections,
 * pushes those connections onto the stack.
 * @param {NetSimVizSimulationNode|NetSimVizSimulationWire} vizElement
 * @returns {Array.<NetSimVizElement>}
 * @private
 */
NetSimVisualization.prototype.getUnvisitedNeighborsOf_ = function (vizElement) {
  // Find new entities to explore based on node type and connections
  var neighbors = [];

  if (vizElement instanceof NetSimVizSimulationNode) {

    // In broadcast mode we display "fake," unidirectional wires. In
    // regular mode, we only want to display wires connecting us to
    // nodes that are also connected back.
    if (NetSimGlobals.getLevelConfig().broadcastMode) {
      neighbors = this.getWiresAttachedToNode(vizElement);
    } else {
      neighbors = this.getReciprocatedWiresAttachedToNode(vizElement);
    }

    // Special case: The DNS node fake is a neighbor of a visited router
    if (vizElement.isRouter && this.autoDnsNode_) {
      neighbors.push(this.autoDnsNode_);
      neighbors.push(this.autoDnsWire_);
    }
  } else if (vizElement instanceof NetSimVizWire) {
    if (vizElement.localVizNode) {
      neighbors.push(vizElement.localVizNode);
    }

    if (vizElement.remoteVizNode) {
      neighbors.push(vizElement.remoteVizNode);
    }
  }

  return neighbors.filter(function (vizElement) {
    return !vizElement.visited;
  });
};

/**
 * Explicitly control VizNodes in the foreground, moving them into a desired
 * configuration based on their number and types.  Nodes are given animation
 * commands (via tweenToPosition) so that they interpolate nicely to their target
 * positions.
 *
 * Configurations:
 * One node (local node): Centered on the screen.
 *   |  L  |
 *
 * Two nodes: Local node on left, remote node on right, nothing in the middle.
 *   | L-R |
 *
 * Three or more nodes: Local node on left, router in the middle, other
 * nodes distributed evenly around the router in a circle
 * 3:         4:    O    5:  O      6:O   O    7:O   O
 *                 /         |         \ /        \ /
 *   L-R-0      L-R        L-R-O      L-R        L-R-O
 *                 \         |         / \        / \
 *                  O        O        O   O      O   O
 */
NetSimVisualization.prototype.distributeForegroundNodes = function () {
  if (NetSimGlobals.getLevelConfig().broadcastMode) {
    this.distributeForegroundNodesForBroadcast_();
    return;
  }

  /** @type {Array.<NetSimVizSimulationNode>} */
  var foregroundNodes = this.elements_.filter(function (element) {
    return element instanceof NetSimVizNode && element.isForeground;
  });

  // Sometimes, there's no work to do.
  if (foregroundNodes.length === 0) {
    return;
  }

  // One node: Centered on screen
  if (foregroundNodes.length === 1) {
    foregroundNodes[0].tweenToPosition(0, 0, 600, tweens.easeOutQuad);
    return;
  }

  var myNode;

  // Two nodes: Placed across from each other, local node on left
  if (foregroundNodes.length === 2) {
    myNode = this.localNode;
    var otherNode = _.find(foregroundNodes, function (node) {
      return node !== myNode;
    });
    myNode.tweenToPosition(-75, 0, 400, tweens.easeOutQuad);
    otherNode.tweenToPosition(75, 0, 600, tweens.easeOutQuad);
    return;
  }

  // Three or more nodes:
  // * Local node on left
  // * Router in the middle
  // * Other nodes evenly distributed in a circle
  myNode = this.localNode;
  var routerNode = _.find(foregroundNodes, function (node) {
    return node.isRouter;
  });
  var otherNodes = foregroundNodes.filter(function (node) {
    return node !== myNode && node !== routerNode;
  });

  myNode.tweenToPosition(-100, 0, 400, tweens.easeOutQuad);
  routerNode.tweenToPosition(0, 0, 500, tweens.easeOutQuad);
  var radiansBetweenNodes = 2 * Math.PI / (otherNodes.length + 1); // Include myNode!
  for (var i = 0; i < otherNodes.length; i++) {
    // sin(rad) = o/h
    var h = 100;
    // Extra Math.PI here puts 0deg on the left.
    var rad = Math.PI + (i + 1) * radiansBetweenNodes;
    var x = Math.cos(rad) * h;
    var y = Math.sin(rad) * h;
    otherNodes[i].tweenToPosition(x, y, 600, tweens.easeOutQuad);
  }
};

/**
 * Explicitly control VizNodes in the foreground, moving them into a desired
 * configuration based on their number and types.  Nodes are given animation
 * commands (via tweenToPosition) so that they interpolate nicely to their target
 * positions.
 *
 * Configurations:
 * One node (local node): Centered on the screen.
 *   |  L  |
 *
 * Two nodes: Local node on left, remote node on right, nothing in the middle.
 *   | L-R |
 *
 * Three or more nodes: Distributed around center of frame
 * 3:    O    4:  O      5: O  O    6: O O
 *   L          L   O      L          L   O
 *       O        O         O  O       O O
 */
NetSimVisualization.prototype.distributeForegroundNodesForBroadcast_ = function () {
  /** @type {Array.<NetSimVizSimulationNode>} */
  var foregroundNodes = this.elements_.filter(function (element) {
    return element instanceof NetSimVizSimulationNode && element.isForeground && !element.isRouter;
  });

  // Sometimes, there's no work to do.
  if (foregroundNodes.length === 0) {
    return;
  }

  // One node: Centered on screen
  if (foregroundNodes.length === 1) {
    foregroundNodes[0].tweenToPosition(0, 0, 600, tweens.easeOutQuad);
    return;
  }

  var myNode;

  // Two nodes: Placed across from each other, local node on left
  if (foregroundNodes.length === 2) {
    myNode = this.localNode;
    var otherNode = _.find(foregroundNodes, function (node) {
      return node !== myNode;
    });
    myNode.tweenToPosition(-75, 0, 400, tweens.easeOutQuad);
    otherNode.tweenToPosition(75, 0, 600, tweens.easeOutQuad);
    return;
  }

  // Three or more nodes:
  // * Local node on left
  // * Other nodes evenly distributed in a circle
  myNode = this.localNode;
  var otherNodes = foregroundNodes.filter(function (node) {
    return node !== myNode;
  });

  myNode.tweenToPosition(-100, 0, 400, tweens.easeOutQuad);
  var radiansBetweenNodes = 2 * Math.PI / (otherNodes.length + 1); // Include myNode!
  for (var i = 0; i < otherNodes.length; i++) {
    // sin(rad) = o/h
    var h = 100;
    // Extra Math.PI here puts 0deg on the left.
    var rad = Math.PI + (i + 1) * radiansBetweenNodes;
    var x = Math.cos(rad) * h;
    var y = Math.sin(rad) * h;
    otherNodes[i].tweenToPosition(x, y, 600, tweens.easeOutQuad);
  }
};

/**
 * @param {DnsMode} newDnsMode
 */
NetSimVisualization.prototype.setDnsMode = function (newDnsMode) {

  this.dnsMode_ = newDnsMode;

  // Show/hide the auto-DNS node according to the new state
  if (newDnsMode === DnsMode.AUTOMATIC) {
    this.makeAutoDnsNode();
  } else {
    this.destroyAutoDnsNode();
  }

  // Tell all nodes about the new DNS mode, so they can decide whether to
  // show or hide their address.
  this.elements_.forEach(function (vizElement) {
    if (vizElement instanceof NetSimVizSimulationNode) {
      vizElement.setDnsMode(newDnsMode);
    }
  });

  // Update layering and layout since we just added/removed a node.
  this.pullElementsToForeground();
  this.distributeForegroundNodes();
};

/**
 * If it doesn't already exist, create an auto-DNS node and corresponding
 * wire.
 */
NetSimVisualization.prototype.makeAutoDnsNode = function () {
  if (!this.autoDnsNode_) {
    this.autoDnsNode_ = new NetSimVizAutoDnsNode(SHOW_BACKGROUND);
    this.addVizElement_(this.autoDnsNode_);

    this.autoDnsWire_ = new NetSimVizWire(this.autoDnsNode_, null);
    this.addVizElement_(this.autoDnsWire_);
  }
};

/**
 * Manually update the auto-DNS node and wire to match the foreground router.
 */
NetSimVisualization.prototype.updateAutoDnsNode = function () {
  if (!this.autoDnsNode_) {
    return;
  }

  var foregroundRouterNode = _.find(this.elements_, function (element) {
    return element instanceof NetSimVizSimulationNode && element.isRouter && element.isForeground;
  });

  // Update address to match foreground router
  if (foregroundRouterNode) {
    this.autoDnsNode_.setAddress(foregroundRouterNode.autoDnsAddress);
  }

  // Update wire endpoints
  this.autoDnsWire_.localVizNode = this.autoDnsNode_;
  this.autoDnsWire_.remoteVizNode = foregroundRouterNode;
};

/**
 * Remove the auto-DNS node and wire.
 */
NetSimVisualization.prototype.destroyAutoDnsNode = function () {
  if (this.autoDnsNode_) {
    this.autoDnsNode_.kill();
    this.autoDnsNode_ = null;
  }

  if (this.autoDnsWire_) {
    this.autoDnsWire_.kill();
    this.autoDnsWire_ = null;
  }
};

/**
 * @param {number} dnsNodeID
 */
NetSimVisualization.prototype.setDnsNodeID = function (dnsNodeID) {
  this.elements_.forEach(function (vizElement) {
    if (vizElement instanceof NetSimVizSimulationNode) {
      vizElement.setIsDnsNode(vizElement.getCorrespondingEntityId() === dnsNodeID);
    }
  });
};

/**
 * Update encoding-view setting across the visualization.
 *
 * @param {EncodingType[]} newEncodings
 */
NetSimVisualization.prototype.setEncodings = function (newEncodings) {
  this.encodings_ = newEncodings;
  this.elements_.forEach(function (vizElement) {
    if (vizElement instanceof NetSimVizSimulationWire) {
      vizElement.setEncodings(newEncodings);
    }
  });
};

/**
 * Kick off an animation that will show the state of the simplex wire being
 * set by the local node.
 * @param {"0"|"1"} newState
 */
NetSimVisualization.prototype.animateSetWireState = function (newState) {
  // Assumptions - we are talking about the wire between the local node
  // and its remote partner.
  // This only gets used in peer-to-peer mode, so there should be an incoming
  // wire too, which we should hide.
  // This is a no-op if no such wire exists.
  // We can stop any previous animation on the wire if this is called

  var vizWire = this.getVizWireToRemote();
  var incomingWire = this.getVizWireFromRemote();
  if (!(vizWire && incomingWire)) {
    return;
  }

  // Hide the incoming wire because we are in simplex mode.
  incomingWire.hide();
  // Animate the outgoing wire
  vizWire.animateSetState(newState);
};

/**
 * Kick off an animation that will show the state of the simplex wire being
 * read by the local node.
 * @param {"0"|"1"} newState
 */
NetSimVisualization.prototype.animateReadWireState = function (newState) {
  // Assumes we are in simplex P2P mode and talking about the wire between
  // the local node and its remote partner.  This is a no-op if no such wire
  // exists.  We can stop any previous animation on the wire if this is called.

  var vizWire = this.getVizWireToRemote();
  var incomingWire = this.getVizWireFromRemote();
  if (!(vizWire && incomingWire)) {
    return;
  }

  // Hide the incoming wire because we are in simplex mode.
  incomingWire.hide();
  // Animate the outgoing wire
  vizWire.animateReadState(newState);
};

/**
 * Find the outgoing wire from the local node to a remote node.
 * @returns {NetSimVizSimulationWire|null} null if no outgoing connection is established.
 */
NetSimVisualization.prototype.getVizWireToRemote = function () {
  if (!this.localNode) {
    return null;
  }

  var outgoingWires = this.elements_.filter(function (element) {
    return element instanceof NetSimVizSimulationWire && element.localVizNode === this.localNode;
  }, this);

  if (outgoingWires.length === 0) {
    return null;
  }

  return outgoingWires[0];
};

/**
 * Find the incoming wire from a remote node to the local node.
 * @returns {NetSimVizSimulationWire|null} null if no incoming connection is established.
 */
NetSimVisualization.prototype.getVizWireFromRemote = function () {
  if (!this.localNode) {
    return null;
  }

  var incomingWires = this.elements_.filter(function (element) {
    return element instanceof NetSimVizSimulationWire && element.remoteVizNode === this.localNode;
  }, this);

  if (incomingWires.length === 0) {
    return null;
  }

  return incomingWires[0];
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js","./NetSimNodeFactory":"/home/ubuntu/staging/apps/build/js/netsim/NetSimNodeFactory.js","./NetSimVisualization.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/NetSimVisualization.html.ejs","./NetSimVizAutoDnsNode":"/home/ubuntu/staging/apps/build/js/netsim/NetSimVizAutoDnsNode.js","./NetSimVizNode":"/home/ubuntu/staging/apps/build/js/netsim/NetSimVizNode.js","./NetSimVizSimulationNode":"/home/ubuntu/staging/apps/build/js/netsim/NetSimVizSimulationNode.js","./NetSimVizSimulationWire":"/home/ubuntu/staging/apps/build/js/netsim/NetSimVizSimulationWire.js","./NetSimVizWire":"/home/ubuntu/staging/apps/build/js/netsim/NetSimVizWire.js","./NetSimWire":"/home/ubuntu/staging/apps/build/js/netsim/NetSimWire.js","./tweens":"/home/ubuntu/staging/apps/build/js/netsim/tweens.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimVizSimulationWire.js":[function(require,module,exports){
/**
 * @overview Wires in the visualization that map to simulation entities.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

require('../utils');
var NetSimGlobals = require('./NetSimGlobals');
var NetSimVizNode = require('./NetSimVizNode');
var NetSimVizWire = require('./NetSimVizWire');

/**
 * @param {NetSimWire} sourceWire
 * @param {function} getElementByEntityID - Allows this wire to search
 *        for other entities in the simulation
 * @constructor
 * @augments NetSimVizWire
 */
var NetSimVizSimulationWire = module.exports = function (sourceWire, getElementByEntityId) {
  var localNode = getElementByEntityId(NetSimVizNode, sourceWire.localNodeID);
  var remoteNode = getElementByEntityId(NetSimVizNode, sourceWire.remoteNodeID);
  NetSimVizWire.call(this, localNode, remoteNode);

  /**
   * ID of the NetSimWire that this NetSimVizSimulationWire maps to.
   * @type {number}
   */
  this.correspondingWireId_ = sourceWire.entityID;

  /**
   * UUID of the NetSimWire that this NetSimVizSimulationWire maps to.
   * @type {number}
   */
  this.correspondingWireUuid_ = sourceWire.uuid;

  /**
   * Bound getElementByEntityId method from vizualization controller;
   * we hold on to this so that calls to configureFrom can find nodes later.
   * @type {Function}
   * @private
   */
  this.getElementByEntityId_ = getElementByEntityId;

  this.configureFrom(sourceWire);
  this.render();
};
NetSimVizSimulationWire.inherits(NetSimVizWire);

/**
 * Configuring a wire means looking up the viz nodes that will be its endpoints.
 * @param {NetSimWire} sourceWire
 */
NetSimVizSimulationWire.prototype.configureFrom = function (sourceWire) {
  this.correspondingWireId_ = sourceWire.entityID;
  this.correspondingWireUuid_ = sourceWire.uuid;

  this.localVizNode = this.getElementByEntityId_(NetSimVizNode, sourceWire.localNodeID);
  this.remoteVizNode = this.getElementByEntityId_(NetSimVizNode, sourceWire.remoteNodeID);

  if (this.localVizNode) {
    this.localVizNode.setAddress(sourceWire.localAddress);
  }

  if (this.remoteVizNode) {
    this.remoteVizNode.setAddress(sourceWire.remoteAddress);
  }

  if (NetSimGlobals.getLevelConfig().broadcastMode) {
    this.getRoot().css('display', 'none');
  }
};

/**
 * ID of the NetSimEntity that maps to this visualization element.
 * @returns {number}
 */
NetSimVizSimulationWire.prototype.getCorrespondingEntityId = function () {
  return this.correspondingWireId_;
};

/**
 * @param {NetSimEntity} entity
 * @returns {boolean} TRUE if this VizElement represents the given NetSimEntity.
 */
NetSimVizSimulationWire.prototype.representsEntity = function (entity) {
  return this.correspondingWireId_ === entity.entityID && this.correspondingWireUuid_ === entity.uuid;
};

/**
 * Killing a visualization node removes its ID so that it won't conflict with
 * another viznode of matching ID being added, and begins its exit animation.
 * @override
 */
NetSimVizSimulationWire.prototype.kill = function () {
  NetSimVizSimulationWire.superPrototype.kill.call(this);
  this.correspondingWireId_ = undefined;
  this.correspondingWireUuid_ = undefined;
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js","./NetSimVizNode":"/home/ubuntu/staging/apps/build/js/netsim/NetSimVizNode.js","./NetSimVizWire":"/home/ubuntu/staging/apps/build/js/netsim/NetSimVizWire.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimVizWire.js":[function(require,module,exports){
/**
 * @overview Wires in the visualization.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

require('../utils');
var jQuerySvgElement = require('./NetSimUtils').jQuerySvgElement;
var NetSimVizElement = require('./NetSimVizElement');
var tweens = require('./tweens');
var DataConverters = require('./DataConverters');
var NetSimConstants = require('./NetSimConstants');

var EncodingType = NetSimConstants.EncodingType;

var binaryToAB = DataConverters.binaryToAB;

/**
 * How far the flying label should rest above the wire.
 * @type {number}
 * @const
 */
var TEXT_FINAL_VERTICAL_OFFSET = -10;

/**
 * @param {NetSimVizNode} localNode
 * @param {NetSimVizNode} remoteNode
 * @constructor
 * @augments NetSimVizElement
 */
var NetSimVizWire = module.exports = function (localNode, remoteNode) {
  NetSimVizElement.call(this);

  var root = this.getRoot();
  root.addClass('viz-wire');

  /**
   * @type {jQuery} wrapped around a SVGPathElement
   * @private
   */
  this.line_ = jQuerySvgElement('path').appendTo(root);

  /**
   * @type {jQuery} wrapped around a SVGTextElement
   * @private
   */
  this.questionMark_ = jQuerySvgElement('text').text('?').addClass('question-mark').appendTo(root);

  /**
   * @type {jQuery} wrapped around a SVGTextElement
   * @private
   */
  this.text_ = jQuerySvgElement('text').addClass('state-label').appendTo(root);

  /**
   * X-coordinate of text label, for animation.
   * @type {number}
   * @private
   */
  this.textPosX_ = 0;

  /**
   * Y-coordinate of text label, for animation.
   * @type {number}
   * @private
   */
  this.textPosY_ = 0;

  /**
   * Flag that allows us to force an update of the text position; used
   * when we move text without tweens because that method prevents us
   * from being able to detect normally that something has changed
   * @type {boolean}
   * @private
   */
  this.forceTextPosRender_ = false;

  /**
   * SVG Path Description of this.line_, for animation
   * @type {string}
   * @private
   */
  this.pathData_ = '';

  /**
   * `TEXT_FINAL_VERTICAL_OFFSET`-offset X and Y coordinates for the
   * center of the wire; used for positioning the question mark
   * @type {{x:number, y:number}}
   * @private
   */
  this.wireCenter_ = { x: 0, y: 0 };

  /**
   * Enabled encoding types.
   * @type {EncodingType[]}
   * @private
   */
  this.encodings_ = [];

  this.localVizNode = localNode;
  this.remoteVizNode = remoteNode;

  this.render();
};
NetSimVizWire.inherits(NetSimVizElement);

/**
 * Update path data for wire if we can detect pending changes
 * @param {RunLoop.Clock} [clock] - somtimes omitted during setup
 */
NetSimVizWire.prototype.render = function (clock) {

  // Cache the local position values here, so we can check later if
  // anything has changed before making an expensive `.attr` call
  var textPosX = this.textPosX_;
  var textPosY = this.textPosY_;
  var pathData = this.pathData_;
  var wireCenter = this.wireCenter_;

  // Make the call to super to update everything we can, then
  // recalculate the values of ours that are dependent on the movement
  // of our connected nodes
  NetSimVizWire.superPrototype.render.call(this, clock);

  if (this.localVizNode && this.remoteVizNode) {
    this.pathData_ = ['M', this.localVizNode.posX, this.localVizNode.posY, 'L', this.remoteVizNode.posX, this.remoteVizNode.posY].join(' ');
    this.wireCenter_ = this.getWireCenterPosition();
  }

  // Finally, if and only if any of the values we care about have
  // changed, update our element in the DOM
  if (this.forceTextPosRender_ || textPosX !== this.textPosX_ || textPosY !== this.textPosY_) {
    this.text_.attr('x', this.textPosX_).attr('y', this.textPosY_);
    this.forceTextPosRender_ = false;
  }
  if (pathData !== this.pathData_) {
    this.line_.attr('d', this.pathData_);
  }
  if (wireCenter.x !== this.wireCenter_.x || wireCenter.y !== this.wireCenter_.y) {
    this.questionMark_.attr('x', this.wireCenter_.x).attr('y', this.wireCenter_.y);
  }
};

/**
 * Hide this wire - used to hide the incoming wire when we're trying to show
 * simplex mode.
 */
NetSimVizWire.prototype.hide = function () {
  this.getRoot().addClass('hidden-wire');
};

/**
 * Killing a visualization node removes its ID so that it won't conflict with
 * another node of matching ID being added, and begins its exit animation.
 * @override
 */
NetSimVizWire.prototype.kill = function () {
  NetSimVizWire.superPrototype.kill.call(this);
  this.localVizNode = null;
  this.remoteVizNode = null;
};

/**
 * Update encoding-view settings.  Determines how bit sets/reads are
 * displayed when animating above the wire.
 *
 * @param {EncodingType[]} newEncodings
 */
NetSimVizWire.prototype.setEncodings = function (newEncodings) {
  this.encodings_ = newEncodings;
};

/**
 * Kick off an animation of the wire state being set by the local viznode.
 * @param {"0"|"1"} newState
 */
NetSimVizWire.prototype.animateSetState = function (newState) {
  if (!(this.localVizNode && this.remoteVizNode)) {
    return;
  }

  var flyOutMs = 300;
  var holdPositionMs = 300;

  this.stopAllAnimation();
  this.setWireClasses_(newState);
  this.text_.text(this.getDisplayBit_(newState));
  this.snapTextToPosition(this.getLocalNodePosition());
  this.tweenTextToPosition(this.getWireCenterPosition(), flyOutMs, tweens.easeOutQuad);
  this.doAfterDelay(flyOutMs + holdPositionMs, (function () {
    this.setWireClasses_('unknown');
  }).bind(this));
};

/**
 * Kick off an animation of the wire state being read by the local viznode.
 * @param {"0"|"1"} newState
 */
NetSimVizWire.prototype.animateReadState = function (newState) {
  if (!(this.localVizNode && this.remoteVizNode)) {
    return;
  }

  var holdPositionMs = 300;
  var flyToNodeMs = 300;

  this.stopAllAnimation();
  this.setWireClasses_(newState);
  this.text_.text(this.getDisplayBit_(newState));
  this.snapTextToPosition(this.getWireCenterPosition());
  this.doAfterDelay(holdPositionMs, (function () {
    this.tweenTextToPosition(this.getLocalNodePosition(), flyToNodeMs, tweens.easeOutQuad);
    this.setWireClasses_('unknown');
  }).bind(this));
};

/**
 * Adds/removes classes from the SVG root according to the given wire state.
 * Passing anything other than "1" or "0" will put the wire in an "unknown"
 * state, which begins a CSS transition fade back to gray.
 * @param {"0"|"1"|*} newState
 * @private
 */
NetSimVizWire.prototype.setWireClasses_ = function (newState) {
  var stateOff = newState === '0';
  var stateOn = !stateOff && newState === '1';
  var stateUnknown = !stateOff && !stateOn;

  this.getRoot().toggleClass('state-on', stateOn);
  this.getRoot().toggleClass('state-off', stateOff);
  this.getRoot().toggleClass('state-unknown', stateUnknown);
};

/**
 * Get an appropriate "display bit" to show above the wire, given the
 * current enabled encodings (should match the "set wire" button label)
 * @param {"0"|"1"} wireState
 * @returns {string} a display bit appropriate to the enabled encodings.
 * @private
 */
NetSimVizWire.prototype.getDisplayBit_ = function (wireState) {
  if (this.isEncodingEnabled_(EncodingType.A_AND_B) && !this.isEncodingEnabled_(EncodingType.BINARY)) {
    wireState = binaryToAB(wireState);
  }
  return wireState;
};

/**
 * Check whether the given encoding is currently displayed by the panel.
 * @param {EncodingType} queryEncoding
 * @returns {boolean}
 * @private
 */
NetSimVizWire.prototype.isEncodingEnabled_ = function (queryEncoding) {
  return this.encodings_.some(function (enabledEncoding) {
    return enabledEncoding === queryEncoding;
  });
};

/**
 * Creates an animated motion from the text's current position to the
 * given coordinates.
 * @param {{x:number, y:number}} destination
 * @param {number} [duration=600] in milliseconds
 * @param {TweenFunction} [tweenFunction=linear]
 */
NetSimVizWire.prototype.tweenTextToPosition = function (destination, duration, tweenFunction) {
  if (duration > 0) {
    this.tweens_.push(new tweens.TweenValueTo(this, 'textPosX_', destination.x, duration, tweenFunction));
    this.tweens_.push(new tweens.TweenValueTo(this, 'textPosY_', destination.y, duration, tweenFunction));
  } else {
    this.textPosX_ = destination.x;
    this.textPosY_ = destination.y;
    this.forceTextPosRender_ = true;
  }
};

/**
 * Snaps the text to the given position.
 * @param {{x:number, y:number}} destination
 */
NetSimVizWire.prototype.snapTextToPosition = function (destination) {
  this.tweenTextToPosition(destination, 0);
};

/**
 * @returns {{x:number, y:number}}
 */
NetSimVizWire.prototype.getLocalNodePosition = function () {
  return {
    x: this.localVizNode.posX,
    y: this.localVizNode.posY
  };
};

/**
 * @returns {{x:number, y:number}}
 */
NetSimVizWire.prototype.getWireCenterPosition = function () {
  return {
    x: (this.remoteVizNode.posX - this.localVizNode.posX) / 2 + this.localVizNode.posX,
    y: (this.remoteVizNode.posY - this.remoteVizNode.posY) / 2 + this.localVizNode.posY + TEXT_FINAL_VERTICAL_OFFSET
  };
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./DataConverters":"/home/ubuntu/staging/apps/build/js/netsim/DataConverters.js","./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimUtils":"/home/ubuntu/staging/apps/build/js/netsim/NetSimUtils.js","./NetSimVizElement":"/home/ubuntu/staging/apps/build/js/netsim/NetSimVizElement.js","./tweens":"/home/ubuntu/staging/apps/build/js/netsim/tweens.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimVizSimulationNode.js":[function(require,module,exports){
/**
 * @overview Nodes in the visualization that map to simulation entities.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

require('../utils');
var NetSimConstants = require('./NetSimConstants');
var NetSimVizNode = require('./NetSimVizNode');

var NodeType = NetSimConstants.NodeType;

var NetSimGlobals = require('./NetSimGlobals');

/**
 * @param {NetSimNode} sourceNode
 * @param {boolean} useBackgroundAnimation - changes the behavior of this node
 *        when it's in the background layer
 * @constructor
 * @augments NetSimVizNode
 */
var NetSimVizSimulationNode = module.exports = function (sourceNode, useBackgroundAnimation) {
  NetSimVizNode.call(this, useBackgroundAnimation);

  /**
   * ID of the NetSimNode that this NetSimVizSimulationNode represents.
   * @type {number}
   */
  this.correspondingNodeID_ = sourceNode.entityID;

  /**
   * UUID of the NetSimNode that this NetSimVizSimulationNode represents.
   * @type {string}
   */
  this.correspondingNodeUuid_ = sourceNode.uuid;

  /**
   * If we end up representing a router, we may need to hold the auto-dns address
   * to pass to a fake auto-dns node.
   * @type {string}
   */
  this.autoDnsAddress = undefined;

  this.configureFrom(sourceNode);
  this.render();
};
NetSimVizSimulationNode.inherits(NetSimVizNode);

/**
 *
 * @param {NetSimNode} sourceNode
 */
NetSimVizSimulationNode.prototype.configureFrom = function (sourceNode) {
  this.correspondingNodeId_ = sourceNode.entityID;
  this.correspondingNodeUuid_ = sourceNode.uuid;

  var levelConfig = NetSimGlobals.getLevelConfig();
  if (levelConfig.showHostnameInGraph) {
    this.setName(sourceNode.getHostname());
  } else {
    this.setName(sourceNode.getShortDisplayName());
  }

  if (sourceNode.getNodeType() === NodeType.ROUTER) {
    this.isRouter = true;
    this.getRoot().addClass('router-node');
    this.autoDnsAddress = sourceNode.getAutoDnsAddress();
    if (levelConfig.broadcastMode) {
      this.getRoot().css('display', 'none');
    }
  }
};

/**
 * ID of the simulation entity that maps to this one.
 * @returns {number}
 */
NetSimVizSimulationNode.prototype.getCorrespondingEntityId = function () {
  return this.correspondingNodeId_;
};

/**
 * @param {NetSimEntity} entity
 * @returns {boolean} TRUE of this VizElement represents the given Entity.
 */
NetSimVizSimulationNode.prototype.representsEntity = function (entity) {
  return this.correspondingNodeId_ === entity.entityID && this.correspondingNodeUuid_ === entity.uuid;
};

/**
 * Killing a visualization node removes its ID so that it won't conflict with
 * another node of matching ID being added, and begins its exit animation.
 * @override
 */
NetSimVizSimulationNode.prototype.kill = function () {
  NetSimVizSimulationNode.superPrototype.kill.call(this);
  this.correspondingNodeId_ = undefined;
  this.correspondingNodeUuid_ = undefined;
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js","./NetSimVizNode":"/home/ubuntu/staging/apps/build/js/netsim/NetSimVizNode.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimVizAutoDnsNode.js":[function(require,module,exports){
/**
 * @overview Visualization auto-dns node.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

require('../utils');
var NetSimGlobals = require('./NetSimGlobals');
var NetSimVizNode = require('./NetSimVizNode');

/**
 * @param {boolean} useBackgroundAnimation - changes the behavior of this node
 *        when it's in the background layer
 * @constructor
 * @augments NetSimVizNode
 */
var NetSimVizAutoDnsNode = module.exports = function (useBackgroundAnimation) {
  NetSimVizNode.call(this, useBackgroundAnimation);

  this.getRoot().addClass('auto-dns-node');

  var levelConfig = NetSimGlobals.getLevelConfig();
  if (levelConfig.showHostnameInGraph) {
    this.setName('dns');
  } else {
    this.setName('DNS');
  }

  this.setIsDnsNode(true);
  this.render();
};
NetSimVizAutoDnsNode.inherits(NetSimVizNode);

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js","./NetSimVizNode":"/home/ubuntu/staging/apps/build/js/netsim/NetSimVizNode.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimVizNode.js":[function(require,module,exports){
/**
 * @overview Nodes in the visualization.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

require('../utils');
var NetSimConstants = require('./NetSimConstants');
var jQuerySvgElement = require('./NetSimUtils').jQuerySvgElement;
var NetSimVizElement = require('./NetSimVizElement');
var tweens = require('./tweens');

var DnsMode = NetSimConstants.DnsMode;

var NetSimGlobals = require('./NetSimGlobals');

/**
 * The narrowest that a text bubble is allowed to be.
 * @type {number}
 * @const
 */
var TEXT_MIN_WIDTH = 30;

/**
 * Width to add to the bubble beyond the width of the student's name.
 * @type {number}
 * @const
 */
var TEXT_PADDING_X = 20;

/**
 * Height to add to the bubble beyond the height of the student's name.
 * @type {number}
 * @const
 */
var TEXT_PADDING_Y = 10;

/**
 * @param {boolean} useBackgroundAnimation - changes the behavior of this node
 *        when it's in the background layer.
 * @constructor
 * @augments NetSimVizElement
 */
var NetSimVizNode = module.exports = function (useBackgroundAnimation) {
  NetSimVizElement.call(this);

  /**
   * @private {string}
   */
  this.address_ = undefined;

  /**
   * @private {DnsMode}
   */
  this.dnsMode_ = undefined;

  /**
   * Whether to start or update any tweens while the node is in the background
   * layer.
   * @private {boolean}
   */
  this.useBackgroundAnimation_ = useBackgroundAnimation;

  /**
   * @type {boolean}
   */
  this.isRouter = false;

  /**
   * @type {boolean}
   */
  this.isLocalNode = false;

  /**
   * @type {boolean}
   */
  this.isDnsNode = false;

  // Give our root node a useful class
  var root = this.getRoot();
  root.addClass('viz-node');

  // Going for a diameter of _close_ to 75
  var radius = 37;
  var textVerticalOffset = 4;

  /**
   *
   * @type {jQuery}
   * @private
   */
  jQuerySvgElement('circle').attr('cx', 0).attr('cy', 0).attr('r', radius).appendTo(root);

  this.nameGroup_ = jQuerySvgElement('g').attr('transform', 'translate(0,0)').appendTo(root);

  this.displayName_ = jQuerySvgElement('text').attr('x', 0).attr('y', textVerticalOffset);

  this.nameBox_ = jQuerySvgElement('rect').addClass('name-box');

  this.nameGroup_.append(this.nameBox_).append(this.displayName_);

  this.addressGroup_ = jQuerySvgElement('g').attr('transform', 'translate(0,30)').hide().appendTo(root);

  this.addressBox_ = jQuerySvgElement('rect').addClass('address-box').appendTo(this.addressGroup_);

  this.addressText_ = jQuerySvgElement('text').addClass('address-box').attr('x', 0).attr('y', textVerticalOffset).text('?').appendTo(this.addressGroup_);

  // Set an initial default tween for zooming in from nothing.
  if (this.useBackgroundAnimation_) {
    this.snapToScale(0);
    this.tweenToScale(0.5, 800, tweens.easeOutElastic);
  } else {
    this.snapToScale(0.5);
  }
};
NetSimVizNode.inherits(NetSimVizElement);

/**
 * Flag this viz node as the simulation local node.
 */
NetSimVizNode.prototype.setIsLocalNode = function () {
  this.isLocalNode = true;
  this.getRoot().addClass('local-node');
};

/**
 * Change the display name of the viz node
 * @param {string} newName
 */
NetSimVizNode.prototype.setName = function (newName) {
  this.displayName_.text(newName);
  this.resizeNameBox_();
};

/** @private */
NetSimVizNode.prototype.resizeNameBox_ = function () {
  this.resizeRectToText_(this.nameBox_, this.displayName_);
};

/** @private */
NetSimVizNode.prototype.resizeAddressBox_ = function () {
  this.resizeRectToText_(this.addressBox_, this.addressText_);
};

/**
 * Utility for resizing a background rounded-rect to fit the given text element.
 * @param {jQuery} rect
 * @param {jQuery} text
 * @private
 */
NetSimVizNode.prototype.resizeRectToText_ = function (rect, text) {
  try {
    var box = text[0].getBBox();
    var width = Math.max(TEXT_MIN_WIDTH, box.width + TEXT_PADDING_X);
    var height = box.height + TEXT_PADDING_Y;
    var halfWidth = width / 2;
    var halfHeight = height / 2;
    rect.attr('x', -halfWidth).attr('y', -halfHeight).attr('rx', halfHeight).attr('ry', halfHeight).attr('width', width).attr('height', height);
  } catch (e) {
    // Just allow this to be a no-op if it fails.  In some browsers,
    // getBBox will throw if the element is not yet in the DOM.
  }
};

/**
 * Killing a visualization node removes its ID so that it won't conflict with
 * another node of matching ID being added, and begins its exit animation.
 * @override
 */
NetSimVizNode.prototype.kill = function () {
  NetSimVizNode.superPrototype.kill.call(this);
  this.stopAllAnimation();
  this.tweenToScale(0, 200, tweens.easeInQuad);
};

/**
 * Provides drifting animation for nodes in the background.
 * @param {RunLoop.Clock} clock
 */
NetSimVizNode.prototype.tick = function (clock) {
  NetSimVizNode.superPrototype.tick.call(this, clock);

  // Trigger a new drift if we're in the background and the last one finished.
  if (this.useBackgroundAnimation_ && !this.isForeground && this.tweens_.length === 0) {
    var randomX = 300 * Math.random() - 150;
    var randomY = 300 * Math.random() - 150;
    this.tweenToPosition(randomX, randomY, 20000, tweens.easeInOutQuad);
  }
};

/**
 * When visible, runs every frame
 * @param {RunLoop.Clock} [clock]
 */
NetSimVizNode.prototype.render = function (clock) {
  NetSimVizNode.superPrototype.render.call(this, clock);

  // If currently animating, adjust text box sizes to match
  if (this.isForeground && this.tweens_.length > 0) {
    this.resizeNameBox_();
    this.resizeAddressBox_();
  }
};

/**
 * @param {boolean} isForeground
 */
NetSimVizNode.prototype.onDepthChange = function (isForeground) {
  NetSimVizNode.superPrototype.onDepthChange.call(this, isForeground);

  // Don't add tweens if this node has been killed
  if (this.isDying() || this.isDead()) {
    return;
  }

  this.tweens_.length = 0;
  if (isForeground) {
    this.tweenToScale(1, 600, tweens.easeOutElastic);
  } else if (this.useBackgroundAnimation_) {
    this.tweenToScale(0.5, 600, tweens.easeOutElastic);
  } else {
    this.snapToScale(0.5);
  }
};

/**
 * @param {string} address
 */
NetSimVizNode.prototype.setAddress = function (address) {
  this.address_ = address;
  this.updateAddressDisplay();
};

/**
 * @param {DNSMode} newDnsMode
 */
NetSimVizNode.prototype.setDnsMode = function (newDnsMode) {
  this.dnsMode_ = newDnsMode;
  this.updateAddressDisplay();
};

/**
 * @param {boolean} isDnsNode
 */
NetSimVizNode.prototype.setIsDnsNode = function (isDnsNode) {
  this.isDnsNode = isDnsNode;
  this.updateAddressDisplay();
};

NetSimVizNode.prototype.updateAddressDisplay = function () {
  var levelConfig = NetSimGlobals.getLevelConfig();

  // If we are never assigned an address, don't try to show one.
  // In broadcast mode we will be assigned addresses but never use them, so
  //   they should be hidden.
  // Routers never show their address.
  if (this.address_ === undefined || levelConfig.broadcastMode || this.isRouter) {
    this.addressGroup_.hide();
    return;
  }

  this.addressGroup_.show();
  if (this.dnsMode_ === DnsMode.NONE) {
    this.addressText_.text(this.address_ !== undefined ? this.address_ : '?');
  } else {
    this.addressText_.text(this.isLocalNode || this.isDnsNode ? this.address_ : '?');
  }
  this.resizeAddressBox_();
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js","./NetSimUtils":"/home/ubuntu/staging/apps/build/js/netsim/NetSimUtils.js","./NetSimVizElement":"/home/ubuntu/staging/apps/build/js/netsim/NetSimVizElement.js","./tweens":"/home/ubuntu/staging/apps/build/js/netsim/tweens.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimVizElement.js":[function(require,module,exports){
/**
 * @overview Base type for visible elements in the visualization.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var jQuerySvgElement = require('./NetSimUtils').jQuerySvgElement;
var tweens = require('./tweens');

/**
 * A VizElement is an object that  has a representation in the network
 * visualization.  Its role is to maintain that visual representation.
 * A VizElement has helpers for positioning, scaling and tweening.
 * Every VizElement has a root element which is a <g> tag, an SVG "group"
 * that contains the other components that will actually draw.
 *
 * @constructor
 */
var NetSimVizElement = module.exports = function () {
  /**
   * @type {number}
   */
  this.posX = 0;

  /**
   * @type {number}
   */
  this.posY = 0;

  /**
   * @type {number}
   */
  this.scale = 1;

  /**
   * @type {boolean}
   */
  this.isForeground = false;

  /**
   * Root SVG <g> (group) element for this object.
   * @type {jQuery}
   * @private
   */
  this.rootGroup_ = jQuerySvgElement('g');

  /**
   * Set of tweens we should currently be running on this node.
   * Processed by tick()
   * @type {Array.<exports.TweenValueTo>}
   * @private
   */
  this.tweens_ = [];

  /**
   * @type {boolean}
   * @private
   */
  this.isDead_ = false;
};

/**
 * @returns {jQuery} wrapper around root <g> element
 */
NetSimVizElement.prototype.getRoot = function () {
  return this.rootGroup_;
};

/**
 * Begins the process of destroying this VizElement.  Once started, this
 * process cannot be stopped.
 * This method can be overridden to trigger an "on-death" animation.
 */
NetSimVizElement.prototype.kill = function () {
  this.isDead_ = true;
};

/**
 * @returns {boolean} whether this entity is done with its death animation
 *          and is ready to be cleaned up by the visualization manager.
 *          The default implementation here returns TRUE as soon as kill()
 *          is called and all animations are completed.
 */
NetSimVizElement.prototype.isDead = function () {
  return this.isDead_ && this.tweens_.length === 0;
};

/**
 * @returns {boolean} whether this entity is playing its final animation
 *          and will be ready to be cleaned up by the visualization manager
 *          soon.
 */
NetSimVizElement.prototype.isDying = function () {
  return this.isDead_ && this.tweens_.length > 0;
};

/**
 * Update all of the tweens currently running on this VizElement (which will
 * probably modify its properties) and then remove any tweens that are completed
 * from the list.
 */
NetSimVizElement.prototype.tick = function () {};

/**
 * Update the root group's properties to reflect our current position
 * and scale.
 * @param {RunLoop.Clock} [clock] - sometimes omitted during setup
 */
NetSimVizElement.prototype.render = function (clock) {
  if (!clock) {
    return;
  }

  // cache initial settings here; we check them later to see if anything
  // has actually changed
  var posX = this.posX;
  var posY = this.posY;
  var scale = this.scale;

  // Update tweens in the render loop so they are very smooth
  this.tweens_.forEach(function (tween) {
    tween.tick(clock);
  });
  this.tweens_ = this.tweens_.filter(function (tween) {
    return !tween.isFinished;
  });

  // If nothing has changed, don't bother to update transform
  if (posX !== this.posX || posY !== this.posY || scale !== this.scale) {
    var transform = 'translate(' + this.posX + ' ' + this.posY + ')' + ' scale(' + this.scale + ')';
    this.rootGroup_.attr('transform', transform);
  }
};

/**
 * @param {boolean} isForeground
 */
NetSimVizElement.prototype.onDepthChange = function (isForeground) {
  this.isForeground = isForeground;
};

/**
 * Throw away all existing tweens on this object.
 */
NetSimVizElement.prototype.stopAllAnimation = function () {
  this.tweens_.length = 0;
};

/**
 * Stops any existing motion animation and begins an animated motion to the
 * given coordinates.  Note: This animates the VizElement's root group.
 * @param {number} newX given in SVG points
 * @param {number} newY given in SVG points
 * @param {number} [duration=600] in milliseconds
 * @param {TweenFunction} [tweenFunction=linear]
 */
NetSimVizElement.prototype.tweenToPosition = function (newX, newY, duration, tweenFunction) {
  // Don't accept new animation commands if we've already been killed
  if (this.isDying() || this.isDead()) {
    return;
  }

  // Remove any existing tweens controlling posX or posY
  this.removeAllTweensOnProperties(['posX', 'posY']);

  // Add two new tweens, one for each axis
  if (duration > 0) {
    this.tweens_.push(new tweens.TweenValueTo(this, 'posX', newX, duration, tweenFunction));
    this.tweens_.push(new tweens.TweenValueTo(this, 'posY', newY, duration, tweenFunction));
  } else {
    this.posX = newX;
    this.posY = newY;
  }
};

/**
 * Alias for calling tweenToPosition with a zero duration
 * @param {number} newX given in SVG points
 * @param {number} newY given in SVG points
 */
NetSimVizElement.prototype.snapToPosition = function (newX, newY) {
  this.tweenToPosition(newX, newY, 0);
};

/**
 * Stops any existing animation of the entity's scale and begins an animated
 * change to the given target scale value.  Note: this animates the VizElement's
 * root group.
 * @param {number} newScale where 1.0 is 100% (unscaled)
 * @param {number} [duration=600] in milliseconds
 * @param {TweenFunction} [tweenFunction=linear]
 */
NetSimVizElement.prototype.tweenToScale = function (newScale, duration, tweenFunction) {
  // Remove existing scale tweens
  this.removeAllTweensOnProperty('scale');

  // On nonzero duration, add tween to target scale.  Otherwise just set it.
  if (duration > 0) {
    this.tweens_.push(new tweens.TweenValueTo(this, 'scale', newScale, duration, tweenFunction));
  } else {
    this.scale = newScale;
  }
};

NetSimVizElement.prototype.doAfterDelay = function (delay, callback) {
  if (delay > 0) {
    this.tweens_.push(new tweens.DoAfterDelay(this, delay, callback));
  } else {
    callback();
  }
};

/**
 * Remove (stop) all active tweens that control the given property on this
 * visualization entity.
 * @param {string} propertyName
 */
NetSimVizElement.prototype.removeAllTweensOnProperty = function (propertyName) {
  this.removeAllTweensOnProperties([propertyName]);
};

/**
 * Remove (stop) all active tweens that control any of the given properties
 * on this visualization entity.
 * @param {string[]} propertyNames
 */
NetSimVizElement.prototype.removeAllTweensOnProperties = function (propertyNames) {
  this.tweens_ = this.tweens_.filter(function (tween) {
    var targetsThisEntity = tween.target === this;
    var isRemovableProperty = propertyNames.some(function (name) {
      return tween.propertyName === name;
    });

    // Invert for filter() because we want to keep everything BUT the matched
    // properties
    return !(targetsThisEntity && isRemovableProperty);
  }, this);
};

/**
 * Alias for calling tweenToScale with a zero duration.
 * @param {number} newScale where 1.0 is 100% (unscaled)
 */
NetSimVizElement.prototype.snapToScale = function (newScale) {
  this.tweenToScale(newScale, 0);
};

},{"./NetSimUtils":"/home/ubuntu/staging/apps/build/js/netsim/NetSimUtils.js","./tweens":"/home/ubuntu/staging/apps/build/js/netsim/tweens.js"}],"/home/ubuntu/staging/apps/build/js/netsim/tweens.js":[function(require,module,exports){
/**
 * @overview Tween functions used to animate visualization elements.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var valueOr = require('../utils').valueOr;

/**
 * Default tween duration in milliseconds
 * @type {number}
 * @const
 */
var DEFAULT_TWEEN_DURATION = 600;

/**
 * A four-arg interpolation function.
 *
 * @typedef {function} TweenFunction
 * @param {number} t - current Time, in milliseconds since tween began
 * @param {number} b - Begin value
 * @param {number} c - final Change in value
 * @param {number} d - total tween Duration
 * @returns {number} the interpolated value for the current time
 */

/**
 * Interpolates with a little back-and-forth over the target value at the end.
 * @type {TweenFunction}
 */
exports.easeOutElastic = function (t, b, c, d) {
  var s, p, a;
  s = 1.70158;
  p = 0;
  a = c;
  if (t === 0) {
    return b;
  }
  if ((t /= d) === 1) {
    return b + c;
  }
  if (!p) {
    p = d * 0.3;
  }
  if (a < Math.abs(c)) {
    a = c;
    s = p / 4;
  } else {
    s = p / (2 * Math.PI) * Math.asin(c / a);
  }
  return a * Math.pow(2, -10 * t) * Math.sin((t * d - s) * (2 * Math.PI) / p) + c + b;
};

/**
 * Interpolates, accelerating as it goes.
 * @type {TweenFunction}
 */
exports.easeInQuad = function (t, b, c, d) {
  return c * (t /= d) * t + b;
};

/**
 * Interpolates, decelerating as it goes.
 * @type {TweenFunction}
 */
exports.easeOutQuad = function (t, b, c, d) {
  return -c * (t /= d) * (t - 2) + b;
};

exports.easeInOutQuad = function (t, b, c, d) {
  if ((t /= d / 2) < 1) {
    return c / 2 * t * t + b;
  }
  return -c / 2 * (--t * (t - 2) - 1) + b;
};

/**
 * Linear interpolation
 * @type {TweenFunction}
 */
exports.linear = function (t, b, c, d) {
  return c * (t / d) + b;
};

/**
 * Wraps a tween method with the state it needs to animate a property.
 * On creation, assumes that property's current value for start values.
 * Must be ticked to progress toward completion.
 *
 * @param {!Object} target - The object owning the property we want to animate
 * @param {!string} propertyName - Must be a valid property on target
 * @param {!number} endValue - The desired final value of the property
 * @param {number} [duration] - How long the tween should take in milliseconds,
 *        default 600ms
 * @param {TweenFunction} [tweenFunction] - A tween function, default linear
 * @constructor
 */
exports.TweenValueTo = function (target, propertyName, endValue, duration, tweenFunction) {
  /**
   * Will be set to TRUE when tween is completed.
   * @type {boolean}
   */
  this.isFinished = false;

  /**
   * Will be set on our first tick.
   * @type {number}
   * @private
   */
  this.startTime_ = undefined;

  /**
   * @type {Object}
   */
  this.target = target;

  /**
   * @type {string}
   * @private
   */
  this.propertyName = propertyName;

  /**
   * @type {TweenFunction}
   * @private
   */
  this.tweenFunction_ = valueOr(tweenFunction, exports.linear);

  /**
   * @type {number}
   * @private
   */
  this.startValue_ = target[propertyName];

  /**
   * @type {number}
   * @private
   */
  this.deltaValue_ = endValue - this.startValue_;

  /**
   * Duration of tween in milliseconds
   * @type {number}
   * @private
   */
  this.duration_ = valueOr(duration, DEFAULT_TWEEN_DURATION);
};

/**
 * @param {RunLoop.clock} clock
 */
exports.TweenValueTo.prototype.tick = function (clock) {
  if (this.startTime_ === undefined) {
    this.startTime_ = clock.time;
  }

  var timeSinceStart = clock.time - this.startTime_;

  if (this.deltaValue_ !== 0) {
    this.target[this.propertyName] = this.tweenFunction_(timeSinceStart, this.startValue_, this.deltaValue_, this.duration_);
  }

  if (timeSinceStart >= this.duration_) {
    this.target[this.propertyName] = this.startValue_ + this.deltaValue_;
    this.isFinished = true;
  }
};

exports.DoAfterDelay = function (target, duration, callback) {
  /**
   * Will be set to TRUE when tween is completed.
   * @type {boolean}
   */
  this.isFinished = false;

  /**
   * Will be set on our first tick.
   * @type {number}
   * @private
   */
  this.startTime_ = undefined;

  /**
   * @type {Object}
   */
  this.target = target;

  /**
   * @type {string}
   * @private
   */
  this.propertyName = null;

  /**
   * Duration of tween in milliseconds
   * @type {number}
   * @private
   */
  this.duration_ = duration;

  /**
   * Function to call when the duration has elapsed.
   * @type {function}
   */
  this.callback_ = callback;
};

/**
 * @param {RunLoop.clock} clock
 */
exports.DoAfterDelay.prototype.tick = function (clock) {
  if (this.startTime_ === undefined) {
    this.startTime_ = clock.time;
  }

  var timeSinceStart = clock.time - this.startTime_;
  if (timeSinceStart >= this.duration_) {
    this.callback_();
    this.isFinished = true;
  }
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimVisualization.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('');1;
/**
 * Whether the blurred background layer should be visible.
 * @name showBackground
 * @type {boolean}
 */
; buf.push('\n<svg version="1.1" width="298" height="298" xmlns="http://www.w3.org/2000/svg">\n\n  ');10; if (showBackground) { ; buf.push('\n    <filter id="backgroundBlur">\n      <feGaussianBlur in="SourceGraphic" stdDeviation="5" />\n      <feComponentTransfer>\n        <feFuncA slope="0.5" type="linear"></feFuncA>\n      </feComponentTransfer>\n    </filter>\n  ');17; } ; buf.push('\n\n  <g id="centered-group" transform="translate(150,150)">\n    <g id="background-group"\n       ');21; if (showBackground) { ; buf.push('\n         filter="url(#backgroundBlur)"\n       ');23; } else { ; buf.push('\n         visibility="hidden"\n       ');25; } ; buf.push('\n        ></g>\n\n    <g id="foreground-group"></g>\n  </g>\n</svg>\n'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimTabsComponent.js":[function(require,module,exports){
/**
 * @overview UI controller for tabs area in left column
 *           Directly controls the instructions tab, others are delegated.
 * @see NetSimMyDeviceTab
 * @see NetSimRouterTab
 * @see NetSimDnsTab
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var buildMarkup = require('./NetSimTabsComponent.html.ejs');
var NetSimRouterTab = require('./NetSimRouterTab');
var NetSimMyDeviceTab = require('./NetSimMyDeviceTab');
var NetSimDnsTab = require('./NetSimDnsTab');
var NetSimTabType = require('./NetSimConstants').NetSimTabType;
var shouldShowTab = require('./NetSimUtils').shouldShowTab;
var NetSimGlobals = require('./NetSimGlobals');

/**
 * Wrapper component for tabs panel on the right side of the page.
 * @param {jQuery} rootDiv
 * @param {RunLoop} runLoop
 * @param {Object} callbacks
 * @param {function} callbacks.chunkSizeSliderChangeCallback
 * @param {function} callbacks.myDeviceBitRateChangeCallback
 * @param {function} callbacks.encodingChangeCallback
 * @param {function} callbacks.routerBandwidthSliderChangeCallback
 * @param {function} callbacks.routerBandwidthSliderStopCallback
 * @param {function} callbacks.routerMemorySliderChangeCallback
 * @param {function} callbacks.routerMemorySliderStopCallback
 * @param {function} callbacks.dnsModeChangeCallback
 * @param {function} callbacks.becomeDnsCallback
 * @constructor
 */
var NetSimTabsComponent = module.exports = function (rootDiv, runLoop, callbacks) {
  /**
   * Component root, which we fill whenever we call render()
   * @type {jQuery}
   * @private
   */
  this.rootDiv_ = rootDiv;

  /**
   * @type {RunLoop}
   * @private
   */
  this.runLoop_ = runLoop;

  /**
   * @type {function}
   * @private
   */
  this.chunkSizeSliderChangeCallback_ = callbacks.chunkSizeSliderChangeCallback;

  /**
   * @type {function}
   * @private
   */
  this.myDeviceBitRateChangeCallback_ = callbacks.myDeviceBitRateChangeCallback;

  /**
   * @type {function}
   * @private
   */
  this.encodingChangeCallback_ = callbacks.encodingChangeCallback;

  /**
   * @type {function}
   * @private
   */
  this.routerBandwidthSliderChangeCallback_ = callbacks.routerBandwidthSliderChangeCallback;

  /**
   * @type {function}
   * @private
   */
  this.routerBandwidthSliderStopCallback_ = callbacks.routerBandwidthSliderStopCallback;

  /**
   * @type {function}
   * @private
   */
  this.routerMemorySliderChangeCallback_ = callbacks.routerMemorySliderChangeCallback;

  /**
   * @type {function}
   * @private
   */
  this.routerMemorySliderStopCallback_ = callbacks.routerMemorySliderStopCallback;

  /**
   * @type {function}
   * @private
   */
  this.dnsModeChangeCallback_ = callbacks.dnsModeChangeCallback;

  /**
   * @type {function}
   * @private
   */
  this.becomeDnsCallback_ = callbacks.becomeDnsCallback;

  /**
   * @type {NetSimRouterTab}
   * @private
   */
  this.routerTab_ = null;

  /**
   * @type {NetSimMyDeviceTab}
   * @private
   */
  this.myDeviceTab_ = null;

  /**
   * @type {NetSimDnsTab}
   * @private
   */
  this.dnsTab_ = null;

  // Initial render
  this.render();
};

/**
 * @param {RunLoop} runLoop
 */
NetSimTabsComponent.prototype.attachToRunLoop = function (runLoop) {
  if (this.routerTab_) {
    this.routerTab_.attachToRunLoop(runLoop);
  }
};

/**
 * Fill the root div with new elements reflecting the current state
 */
NetSimTabsComponent.prototype.render = function () {
  var levelConfig = NetSimGlobals.getLevelConfig();
  // Clone the reference area (with handlers) before we re-render
  var referenceArea = $('#reference_area').first().clone(true);

  // Remove the instructions area, to reattach in a minute.
  var instructionsArea = $('#bubble').first().detach();

  var rawMarkup = buildMarkup({
    level: levelConfig
  });
  var jQueryWrap = $(rawMarkup);
  this.rootDiv_.html(jQueryWrap);

  this.rootDiv_.find('.netsim-tabs').tabs({
    active: levelConfig.defaultTabIndex
  });

  if (shouldShowTab(levelConfig, NetSimTabType.INSTRUCTIONS) && referenceArea) {
    var instructionsTab = this.rootDiv_.find('#tab_instructions').first();
    instructionsArea.appendTo(instructionsTab);
    referenceArea.appendTo(instructionsTab);
  }

  if (shouldShowTab(levelConfig, NetSimTabType.MY_DEVICE)) {
    this.myDeviceTab_ = new NetSimMyDeviceTab(this.rootDiv_.find('#tab_my_device'), this.runLoop_, {
      chunkSizeChangeCallback: this.chunkSizeSliderChangeCallback_,
      bitRateChangeCallback: this.myDeviceBitRateChangeCallback_,
      encodingChangeCallback: this.encodingChangeCallback_
    });
  }

  if (shouldShowTab(levelConfig, NetSimTabType.ROUTER)) {
    this.routerTab_ = new NetSimRouterTab(this.rootDiv_.find('#tab_router'), {
      bandwidthSliderChangeCallback: this.routerBandwidthSliderChangeCallback_,
      bandwidthSliderStopCallback: this.routerBandwidthSliderStopCallback_,
      memorySliderChangeCallback: this.routerMemorySliderChangeCallback_,
      memorySliderStopCallback: this.routerMemorySliderStopCallback_
    });
  }

  if (shouldShowTab(levelConfig, NetSimTabType.DNS)) {
    this.dnsTab_ = new NetSimDnsTab(this.rootDiv_.find('#tab_dns'), this.dnsModeChangeCallback_, this.becomeDnsCallback_);
  }
};

/** @param {number} newChunkSize */
NetSimTabsComponent.prototype.setChunkSize = function (newChunkSize) {
  if (this.myDeviceTab_) {
    this.myDeviceTab_.setChunkSize(newChunkSize);
  }
};

/** @param {number} newBitRate in bits per second */
NetSimTabsComponent.prototype.setMyDeviceBitRate = function (newBitRate) {
  if (this.myDeviceTab_) {
    this.myDeviceTab_.setBitRate(newBitRate);
  }
};

/** @param {EncodingType[]} newEncodings */
NetSimTabsComponent.prototype.setEncodings = function (newEncodings) {
  if (this.myDeviceTab_) {
    this.myDeviceTab_.setEncodings(newEncodings);
  }
};

/** @param {number} creationTimestampMs */
NetSimTabsComponent.prototype.setRouterCreationTime = function (creationTimestampMs) {
  if (this.routerTab_) {
    this.routerTab_.setRouterCreationTime(creationTimestampMs);
  }
};

/** @param {number} newBandwidth in bits/second */
NetSimTabsComponent.prototype.setRouterBandwidth = function (newBandwidth) {
  if (this.routerTab_) {
    this.routerTab_.setBandwidth(newBandwidth);
  }
};

/** @param {number} newMemory in bits */
NetSimTabsComponent.prototype.setRouterMemory = function (newMemory) {
  if (this.routerTab_) {
    this.routerTab_.setMemory(newMemory);
  }
};

/**
 * @param {number} queuedPacketCount
 */
NetSimTabsComponent.prototype.setRouterQueuedPacketCount = function (queuedPacketCount) {
  if (this.routerTab_) {
    this.routerTab_.setRouterQueuedPacketCount(queuedPacketCount);
  }
};

/** @param {number} usedMemoryInBits */
NetSimTabsComponent.prototype.setRouterMemoryInUse = function (usedMemoryInBits) {
  if (this.routerTab_) {
    this.routerTab_.setMemoryInUse(usedMemoryInBits);
  }
};

NetSimTabsComponent.prototype.setRouterDataRate = function (dataRateBitsPerSecond) {
  if (this.routerTab_) {
    this.routerTab_.setDataRate(dataRateBitsPerSecond);
  }
};

/** @param {string} newDnsMode */
NetSimTabsComponent.prototype.setDnsMode = function (newDnsMode) {
  if (this.dnsTab_) {
    this.dnsTab_.setDnsMode(newDnsMode);
  }
};

/** @param {boolean} isDnsNode */
NetSimTabsComponent.prototype.setIsDnsNode = function (isDnsNode) {
  if (this.dnsTab_) {
    this.dnsTab_.setIsDnsNode(isDnsNode);
  }
};

/** @param {Array} tableContents */
NetSimTabsComponent.prototype.setDnsTableContents = function (tableContents) {
  if (this.dnsTab_) {
    this.dnsTab_.setDnsTableContents(tableContents);
  }
};

/** @param {Array} logData */
NetSimTabsComponent.prototype.setRouterLogData = function (logData) {
  if (this.routerTab_) {
    this.routerTab_.setRouterLogData(logData);
  }
};

},{"./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimDnsTab":"/home/ubuntu/staging/apps/build/js/netsim/NetSimDnsTab.js","./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js","./NetSimMyDeviceTab":"/home/ubuntu/staging/apps/build/js/netsim/NetSimMyDeviceTab.js","./NetSimRouterTab":"/home/ubuntu/staging/apps/build/js/netsim/NetSimRouterTab.js","./NetSimTabsComponent.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/NetSimTabsComponent.html.ejs","./NetSimUtils":"/home/ubuntu/staging/apps/build/js/netsim/NetSimUtils.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimTabsComponent.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('');1;
  var i18n = require('./locale');

  var shouldShowTab = require('./NetSimUtils').shouldShowTab;
  var NetSimTabType = require('./NetSimConstants').NetSimTabType;

  var showInstructions = shouldShowTab(level, NetSimTabType.INSTRUCTIONS);
  var showMyDevice = shouldShowTab(level, NetSimTabType.MY_DEVICE);
  var showRouter = shouldShowTab(level, NetSimTabType.ROUTER);
  var showDns = shouldShowTab(level, NetSimTabType.DNS);
; buf.push('\n<div class="netsim-tabs">\n  <ul>\n    ');14; if (showInstructions) { ; buf.push('\n    <li><a href="#tab_instructions">', escape((15,  i18n.instructions() )), '</a></li>\n    ');16; } ; buf.push('\n    ');17; if (showMyDevice) { ; buf.push('\n      <li><a href="#tab_my_device">', escape((18,  i18n.myDevice() )), '</a></li>\n    ');19; } ; buf.push('\n    ');20; if (showRouter) { ; buf.push('\n      <li><a href="#tab_router">', escape((21,  i18n.router() )), '</a></li>\n    ');22; } ; buf.push('\n    ');23; if (showDns) { ; buf.push('\n      <li><a href="#tab_dns">', escape((24,  i18n.dns() )), '</a></li>\n    ');25; } ; buf.push('\n  </ul>\n  ');27; if (showInstructions) { ; buf.push('\n    <div id="tab_instructions"></div>\n  ');29; } ; buf.push('\n  ');30; if (showMyDevice) { ; buf.push('\n    <div id="tab_my_device"></div>\n  ');32; } ; buf.push('\n  ');33; if (showRouter) { ; buf.push('\n    <div id="tab_router"></div>\n  ');35; } ; buf.push('\n  ');36; if (showDns) { ; buf.push('\n    <div id="tab_dns"></div>\n  ');38; } ; buf.push('\n</div>'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimUtils":"/home/ubuntu/staging/apps/build/js/netsim/NetSimUtils.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js","ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimStatusPanel.js":[function(require,module,exports){
/**
 * @overview UI component: The small expandable box above the visualization,
 *           used to show debug and diagnostic information.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

require('../utils'); // For Function.prototype.inherits()
var i18n = require('./locale');
var markup = require('./NetSimStatusPanel.html.ejs');
var NetSimPanel = require('./NetSimPanel.js');
var NetSimUtils = require('./NetSimUtils');

/**
 * Generator and controller for connection status panel
 * in left column, displayed while connected.
 * @param {jQuery} rootDiv
 * @param {Object} callbacks
 * @param {function} callbacks.disconnectCallback - method to call when disconnect button
 *        is clicked.
 * @constructor
 * @augments NetSimPanel
 */
var NetSimStatusPanel = module.exports = function (rootDiv, callbacks) {
  /**
   * @type {function}
   * @private
   */
  this.disconnectCallback_ = callbacks.disconnectCallback;

  // Superclass constructor
  NetSimPanel.call(this, rootDiv, {
    className: 'netsim_status_panel',
    panelTitle: 'Status',
    userToggleable: false,
    beginMinimized: true
  });
};
NetSimStatusPanel.inherits(NetSimPanel);

/**
 * @param {Object} [data]
 * @param {string} [data.remoteNodeName] - Display name of remote node.
 * @param {string} [data.myHostname] - Hostname of local node
 * @param {number} [data.myAddress] - Local node address assigned by router
 * @param {string} [data.shareLink] - URL for sharing private shard
 */
NetSimStatusPanel.prototype.render = function (data) {
  data = data || {};

  // Capture title before we render the wrapper panel.
  this.setPanelTitle(data.remoteNodeName);

  // Render boilerplate panel stuff
  NetSimStatusPanel.superPrototype.render.call(this);

  // Put our own content into the panel body
  var newMarkup = $(markup({
    myHostname: data.myHostname,
    myAddress: data.myAddress,
    shareLink: data.shareLink
  }));
  this.getBody().html(newMarkup);

  // Add a button to the panel header
  this.addButton(i18n.disconnectButton({ caret: '<i class="fa fa-caret-left"></i>' }), this.disconnectCallback_);

  // Button that takes you to the next level.
  NetSimUtils.makeContinueButton(this);
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./NetSimPanel.js":"/home/ubuntu/staging/apps/build/js/netsim/NetSimPanel.js","./NetSimStatusPanel.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/NetSimStatusPanel.html.ejs","./NetSimUtils":"/home/ubuntu/staging/apps/build/js/netsim/NetSimUtils.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimStatusPanel.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('');1;
var i18n = require('./locale');
; buf.push('\n<div class="content-wrap">\n  ');5; if (myHostname) { ; buf.push('\n  <p>My hostname: ', escape((6,  myHostname )), '</p>\n  ');7; } ; buf.push('\n\n  ');9; if (myAddress) { ; buf.push('\n  <p>My address: ', escape((10,  myAddress )), '</p>\n  ');11; } ; buf.push('\n\n  ');13; if (shareLink) { ; buf.push('\n  <p><a href="', escape((14,  shareLink )), '">', escape((14,  i18n.shareThisNetwork() )), '</a></p>\n  ');15; } ; buf.push('\n</div>\n'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js","ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimShard.js":[function(require,module,exports){
/**
 * @overview Represents a collection of tables that map to a particular
 *           class section's simulation, isolated from other class sections.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var NetSimTable = require('./NetSimTable');
var PubSubService = require('./PubSubService');

/**
 * PubSub event key for events invalidating all tables.
 * @const {string}
 */
var WHOLE_SHARD_EVENT = 'all_tables';

/**
 * A shard is an isolated, complete simulation state shared by a subset of
 * users.  It's made of a set of storage tables set apart by a particular
 * shard ID in their names.  We use shards to allow students to interact only
 * with their particular class while still storing all NetSim tables under
 * the same App ID.
 *
 * @param {!string} shardID
 * @param {!PubSubConfig} pubSubConfig
 * @constructor
 */
var NetSimShard = module.exports = function (shardID, pubSubConfig) {
  /** @type {string} */
  this.id = shardID;

  /** @type {PubSubService} */
  this.pubSub = PubSubService.create(pubSubConfig);

  /** @type {PubSubChannel} */
  this.pubSubChannel = this.pubSub.subscribe(this.id);
  this.pubSubChannel.subscribe(WHOLE_SHARD_EVENT, NetSimShard.prototype.onPubSubEvent_.bind(this));

  /**
   * Collection of client (user) nodes and router nodes on the shard.
   * Each client node corresponds to a user (or browser tab, to be specific).
   * Router nodes are not associated with a particular user.
   *
   * All entities in this table descend from NetSimNode, and can be deserialized
   * via utilities in NetSimNodeFactory
   *
   * Rows in this table are
   * - inserted when a node is created (such as when a user connects)
   * - updated for certain changes to node status or router configuration
   * - deleted when a node is destroyed (such as when a user disconnects)
   *
   * @type {NetSimTable}
   * @see {NetSimNode}
   * @see {NetSimClientNode}
   * @see {NetSimRouterNode}
   * @see {NetSimLocalClientNode}
   * @see {NetSimNodeFactory}
   */
  this.nodeTable = new NetSimTable(this.pubSubChannel, shardID, 'n');

  /**
   * Collection of wires on the shard.  Wires document the connections between
   * nodes and certain node metadata, like hostnames and addresses.  Wires
   * reference node IDs, and are therefore referentially dependent on the node
   * table.
   *
   * All entities in this table deserialize into NetSimWire.
   *
   * Rows in this table are
   * - inserted when two nodes are connected
   * - updated when assigning an address
   * - deleted when two nodes are disconnected
   *
   * @type {NetSimTable}
   * @see {NetSimWire}
   */
  this.wireTable = new NetSimTable(this.pubSubChannel, shardID, 'w');

  /**
   * Collection of messages (enqueued or in-flight) on the shard.  Messages
   * reference node IDs, and are therefore referentially dependent on the node
   * table.
   *
   * All entities in this table deserialize into NetSimMessage.
   *
   * Rows in this table are
   * - inserted when a message is sent
   * - never updated
   * - deleted when a message is received
   *
   * @type {NetSimTable}
   * @see {NetSimMessage}
   */
  this.messageTable = new NetSimTable(this.pubSubChannel, shardID, 'm');

  /**
   * Collection of log entries for nodes on the shard.  Logs reference node IDs,
   * and are therefore referentially dependent on the node table (but we should
   * change this).channel
   *
   * All entities in this table deserialize into NetSimLogEntry.
   *
   * Rows in this table are
   * - inserted when a router routes or drops a message
   * - never updated
   * - never deleted
   *
   * @type {NetSimTable}
   * @see {NetSimLogEntry}
   */
  this.logTable = new NetSimTable(this.pubSubChannel, shardID, 'l', {
    // This is only safe to do because we never update or delete rows in this table.
    useIncrementalRefresh: true
  });
  this.logTable.unsubscribe();
};

/**
 * Necessary tear-down for shard.  In particular, disconnecting
 * from pubsub service.
 */
NetSimShard.prototype.disconnect = function () {
  this.nodeTable.unsubscribe();
  this.wireTable.unsubscribe();
  this.messageTable.unsubscribe();
  this.logTable.unsubscribe();
  this.pubSubChannel.unsubscribe(WHOLE_SHARD_EVENT);
  this.pubSubChannel = null;
  this.pubSub.unsubscribe(this.id);
};

/**
 * This tick allows our tables to poll the server for changes.
 * @param {!RunLoop.Clock} clock
 */
NetSimShard.prototype.tick = function (clock) {
  this.nodeTable.tick(clock);
  this.wireTable.tick(clock);
  this.messageTable.tick(clock);
  this.logTable.tick(clock);
};

/**
 * The "panic button" option - clears all data on the shard, kicking all
 * users out and starting over.
 * @param {NodeStyleCallback} onComplete
 */
NetSimShard.prototype.resetEverything = function (onComplete) {
  $.ajax({
    url: '/v3/netsim/' + this.id,
    type: 'delete',
    contentType: 'application/json; charset=utf-8',
    dataType: "json"
  }).done(function () {
    onComplete(null, true);
  }).fail(function (request, status, error) {
    var err = new Error('status: ' + status + '; error: ' + error);
    onComplete(err, false);
  });
};

/**
 * Called when the PubSub service fires an event that applies to all tables
 * @private
 */
NetSimShard.prototype.onPubSubEvent_ = function () {
  // Right now, the only all_tables event is the shard reset.
  // Refreshing the node table informs our node that a reset has occurred.
  // TODO: Use a "disconnect from shard" callback instead here.
  this.nodeTable.refresh();
};

},{"./NetSimTable":"/home/ubuntu/staging/apps/build/js/netsim/NetSimTable.js","./PubSubService":"/home/ubuntu/staging/apps/build/js/netsim/PubSubService.js"}],"/home/ubuntu/staging/apps/build/js/netsim/PubSubService.js":[function(require,module,exports){
/**
 * @overview Wrapped pub/sub service client APIs (like Pusher)
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,

 maxlen: 120
 */
/* global Pusher */
'use strict';

var PubSubChannel = require('./PubSubChannel');

/**
 * JavaScript interface for a publish/subscribe service provider.
 * @param {string} applicationKey
 * @interface
 */
var PubSubService = exports;

/**
 * @typedef {Object} PubSubConfig
 * @property {boolean} usePusher - Whether to use Pusher's API, or a null
 *           implementation.
 * @property {string} pusherApplicationKey - If using Pusher, the public key
 *           required to initialize the Pusher API.
 */

/**
 * Create an API instance appropriate to the current configuration.
 * @param {!PubSubConfig} pubSubConfig
 * @returns {PubSubService}
 */
PubSubService.create = function (pubSubConfig) {
  if (pubSubConfig.usePusher) {
    return new PubSubService.PusherService(pubSubConfig.pusherApplicationKey);
  }

  return new PubSubService.NullService();
};

/**
 * @function
 * @name PubSubService#subscribe
 * @param {string} channelID - Channel to which we subscribe.
 * @returns {PubSubChannel}
 */

/**
 * @function
 * @name PubSubService#unsubscribe
 * @param {string} channelID - Channel from which we unsubscribe.
 */

/**
 * Stub implementation of PubSub API.
 * @constructor
 * @implements PubSubService
 */
// Disable "unused variable" errors for null implementation declarations
/* jshint unused:false */
PubSubService.NullService = function () {};

/**
 * Subscribe to events on a particular channel.
 * @param {string} channelID
 * @returns {PubSubChannel}
 */
PubSubService.NullService.prototype.subscribe = function (channelID) {
  return new PubSubChannel.NullChannel();
};

/**
 * Unsubscribe from events on a particular channel.
 * @param {string} channelID
 */
PubSubService.NullService.prototype.unsubscribe = function (channelID) {};

// Re-enable "unused variable" error
/* jshint unused:true */

/**
 * Wrapped Pusher.com API.
 * @param {string} applicationKey
 * @constructor
 * @implements PubSubService
 */
PubSubService.PusherService = function (applicationKey) {
  /**
   * Instance of actual Pusher JavaScript API.
   * @type {Pusher}
   * @private
   */
  this.api_ = new Pusher(applicationKey, { encrypted: true });
};

/**
 * Subscribe to events on a particular channel.
 * @param {string} channelID
 * @returns {PubSubChannel}
 */
PubSubService.PusherService.prototype.subscribe = function (channelID) {
  return new PubSubChannel.PusherChannel(this.api_.subscribe(channelID));
};

/**
 * Unsubscribe from events on a particular channel.
 * @param {string} channelID
 */
PubSubService.PusherService.prototype.unsubscribe = function (channelID) {
  this.api_.unsubscribe(channelID);
};

},{"./PubSubChannel":"/home/ubuntu/staging/apps/build/js/netsim/PubSubChannel.js"}],"/home/ubuntu/staging/apps/build/js/netsim/PubSubChannel.js":[function(require,module,exports){
/**
 * @overview Wrapped pub/sub service channel APIs (like Pusher's Channel)
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

/**
 * Javascript interface for a publish/subscribe channel.
 * @interface
 */
var PubSubChannel = exports;

/**
 * Subscribe to an event, so that the given callback is called when the
 * event occurs.
 * @function
 * @name PubSubChannel#subscribe
 * @param {string} eventName - The name of the event to bind to.
 * @param {function} callback - A function to be called whenever the event is
 *        triggered.
 */

// Disable "unused variable" errors for null implementation declarations
/* jshint unused:false */

/**
 * @constructor
 * @implements PubSubChannel
 */
PubSubChannel.NullChannel = function () {};

/**
 * Subscribe to an event so the given callback is called when the event occurs.
 * @param {string} eventName - The name of the event to bind to.
 * @param {function} callback - A function to be called whenever the event is
 *        triggered.
 */
PubSubChannel.NullChannel.prototype.subscribe = function (eventName, callback) {};

/**
 * Unsubscribe a given callback from a given event
 * @param {string} eventName
 */
PubSubChannel.NullChannel.prototype.unsubscribe = function (eventName) {};

// Re-enable "unused variable" error
/* jshint unused:true */

/**
 * @constructor
 * @implements PubSubChannel
 */
PubSubChannel.PusherChannel = function (pusherApiChannel) {
  /**
   * The actual Pusher API's channel.
   * @private {Channel}
   */
  this.pusherChannel_ = pusherApiChannel;

  /**
   * Cache provided callbacks for easy unsubscribe.
   * Maps event name to callback.
   * @type {Object}
   * @private
   */
  this.callbacks_ = {};
};

/**
 * Subscribe to an event so the given callback is called when the event occurs.
 * @param {string} eventName
 * @param {function()} callback
 * @throws {Error} on double-subscribe.
 */
PubSubChannel.PusherChannel.prototype.subscribe = function (eventName, callback) {
  this.pusherChannel_.bind(eventName, callback);
  if (this.callbacks_[eventName] !== undefined) {
    throw new Error("Already subscribed to event " + eventName);
  }
  this.callbacks_[eventName] = callback;
};

/**
 * Unsubscribe a given callback from a given event
 * @param {string} eventName
 */
PubSubChannel.PusherChannel.prototype.unsubscribe = function (eventName) {
  this.pusherChannel_.unbind(eventName, this.callbacks_[eventName]);
  delete this.callbacks_[eventName];
};

},{}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimTable.js":[function(require,module,exports){
/**
 * @overview Wraps remote storage interface and polling behavior.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var _ = require('../utils').getLodash();
var ObservableEvent = require('../ObservableEvent');
var NetSimApi = require('./NetSimApi');
var NetSimGlobals = require('./NetSimGlobals');
var ArgumentUtils = require('./ArgumentUtils');

/**
 * Maximum time (in milliseconds) that tables should wait between full cache
 * updates from the server.
 * @type {number}
 */
var DEFAULT_POLLING_DELAY_MS = 10000;

/**
 * Minimum time (in ms) to wait after an invalidation event before attempting
 * to trigger a refresh request.  This produces a window in which clustered
 * invalidations can be captured and coalesced together.
 * @type {number}
 */
var DEFAULT_MINIMUM_DELAY_BEFORE_REFRESH_MS = 250;

/**
 * Maximum additional random delay (in ms) to add before the refresh request.
 * Helps spread out requests from different clients responding to the same
 * invalidation events.
 * @type {number}
 */
var DEFAULT_MAXIMUM_DELAY_JITTER_MS = 200;

/**
 * Minimum time (in ms) to wait between refresh requests, regardless of how
 * many invalidation events occur.
 * @type {number}
 */
var DEFAULT_MINIMUM_DELAY_BETWEEN_REFRESHES_MS = 2500;

/**
 * Wraps the app storage table API in an object with local
 * caching and callbacks, which provides a notification API to the rest
 * of the NetSim code.
 * @param {!PubSubChannel} channel - The pubsub channel used to listen
 *        for changes to the table.cellPadding
 * @param {!string} shardID - The shard ID specific to this class' NetSim instance.
 * @param {!string} tableName - The name of the remote storage table to wrap.
 * @param {Object} [options] - Additional table configuration options
 * @param {boolean} [options.useIncrementalRefresh] - defaults to FALSE.  If
 *        TRUE, this table will only request content that is new since its
 *        last refresh, not the entire table contents.  Currently this option
 *        is not safe to use if you care about updates or deletes in the table.
 * @param {number} [options.minimumDelayBeforeRefresh] - Minimum time (in ms)
 *        to wait after an invalidation event before attempting to trigger a
 *        refresh request.  This produces a window in which clustered
 *        invalidations can be captured and coalesced together.
 * @param {number} [options.maximumJitterDelay] - Maximum additional random
 *        delay (in ms) to add before the refresh request.  Helps spread out
 *        requests from different clients responding to the same invalidation
 *        events.
 * @param {number} [options.minimumDelayBetweenRefreshes] - Minimum time (in ms)
 *        to wait between refresh requests, regardless of how many invalidation
 *        events occur.
 * @constructor
 * @throws {Error} if wrong number of arguments are provided.
 * @throws {TypeError} if invalid types are passed in the options object.
 */
var NetSimTable = module.exports = function (channel, shardID, tableName, options) {
  ArgumentUtils.validateRequired(channel, 'channel');
  ArgumentUtils.validateRequired(shardID, 'shardID', ArgumentUtils.isString);
  ArgumentUtils.validateRequired(tableName, 'tableName', ArgumentUtils.isString);
  options = ArgumentUtils.extendOptionsObject(options);

  /**
   * @private {string}
   */
  this.tableName_ = tableName;

  /**
   * @private {PubSubChannel}
   */
  this.channel_ = channel;
  this.subscribe();

  /**
   * API object for making remote calls
   * @type {NetSimApi}
   * @private
   */
  this.api_ = NetSimApi.makeTableApi(shardID, tableName);

  /**
   * Event that fires when full table updates indicate a change,
   * when rows are added, or when rows are removed, or when rows change.
   * @type {ObservableEvent}
   */
  this.tableChange = new ObservableEvent();

  /**
   * Store table contents locally, so we can detect when changes occur.
   * @private {Object}
   */
  this.cache_ = {};

  /**
   * The row ID of the most recently inserted row retrieved from remote storage.
   * @type {number}
   * @private
   */
  this.latestRowID_ = 0;

  /**
   * Unix timestamp for last time this table's cache contents were fully
   * updated.  Used to determine when to poll the server for changes.
   * @private {number}
   */
  this.lastRefreshTime_ = 0;

  /**
   * If TRUE, will only request deltas from remote storage.  Currently
   * unsafe if we care about more than inserts to the table.
   * @type {boolean}
   * @private
   */
  this.useIncrementalRefresh_ = options.get('useIncrementalRefresh', ArgumentUtils.isBoolean, false);

  /**
   * Minimum time (in ms) to wait after an invalidation event before attempting
   * to trigger a refresh request.  This produces a window in which clustered
   * invalidations can be captured and coalesced together.
   * @private {number}
   */
  this.minimumDelayBeforeRefresh_ = options.get('minimumDelayBeforeRefresh', ArgumentUtils.isPositiveNoninfiniteNumber, DEFAULT_MINIMUM_DELAY_BEFORE_REFRESH_MS);

  /**
   * Maximum additional random delay (in ms) to add before the refresh request.
   * Helps spread out requests from different clients responding to the same
   * invalidation events.
   * @private {number}
   */
  this.maximumJitterDelay_ = options.get('maximumJitterDelay', ArgumentUtils.isPositiveNoninfiniteNumber, DEFAULT_MAXIMUM_DELAY_JITTER_MS);

  /**
   * Minimum time (in ms) to wait between refresh requests, regardless of how
   * many invalidation events occur.
   * @private {number}
   */
  this.minimumDelayBetweenRefreshes_ = options.get('minimumDelayBetweenRefreshes', ArgumentUtils.isPositiveNoninfiniteNumber, DEFAULT_MINIMUM_DELAY_BETWEEN_REFRESHES_MS);

  /**
   * Minimum time (in milliseconds) to wait between pulling full table contents
   * from remote storage.
   * @private {number}
   */
  this.pollingInterval_ = DEFAULT_POLLING_DELAY_MS;

  /**
   * Throttled version (specific to this instance) of the refresh operation,
   * used to coalesce refresh requests.
   * @private {function}
   */
  this.refreshTable_ = this.makeThrottledRefresh_();
};

/**
 * @returns {string} the configured table name.
 */
NetSimTable.prototype.getTableName = function () {
  return this.tableName_;
};

/**
 * Subscribes this table's onPubSubEvent method to events for this table
 * on our local channel.
 */
NetSimTable.prototype.subscribe = function () {
  this.channel_.subscribe(this.tableName_, NetSimTable.prototype.onPubSubEvent_.bind(this));
};

/**
 * Unubscribes the saved callback from events for this table on our
 * local channel.
 */
NetSimTable.prototype.unsubscribe = function () {
  this.channel_.unsubscribe(this.tableName_);
};

/**
 * Asynchronously retrieve new/updated table content from the server, using
 * whatever method is most appropriate to this table's configuration.
 * When done, updates the local cache and hits the provided callback to
 * indicate completion.
 * @param {NodeStyleCallback} [callback] - indicates completion of the operation.
 * @returns {jQuery.Promise} Guaranteed to resolve after the cache update,
 *          so .done() operations can interact with the cache.
 */
NetSimTable.prototype.refresh = function (callback) {
  callback = callback || function () {};
  var deferred = $.Deferred();

  // Which API call to make
  var apiCall = this.useIncrementalRefresh_ ? this.api_.allRowsFromID.bind(this.api_, this.latestRowID_ + 1) : this.api_.allRows.bind(this.api_);

  // How to update the cache (depends on what we expect to get back)
  var cacheUpdate = this.useIncrementalRefresh_ ? this.incrementalCacheUpdate_.bind(this) : this.fullCacheUpdate_.bind(this);

  // What should happen when the API call completes.
  var apiCallCallback = function apiCallCallback(err, data) {
    if (err) {
      callback(err, data);
      deferred.reject(err);
    } else {
      cacheUpdate(data);
      callback(err, data);
      deferred.resolve();
    }
  };

  // Do we fire the API call now, or after a random delay?
  if (this.maximumJitterDelay_ === 0) {
    apiCall(apiCallCallback);
  } else {
    var jitterTime = NetSimGlobals.randomIntInRange(0, this.maximumJitterDelay_);
    setTimeout(apiCall.bind(this, apiCallCallback), jitterTime);
  }

  return deferred.promise();
};

/**
 * Generate throttled refresh function which will generate actual server
 * requests at the maximum given rate no matter how fast it is called. This
 * allows us to coalesce refreshAll events and reduce server load.
 *
 * How this works:
 * Wraps a longer throttle with leading and trailing events in a shorter debounce
 * with a maximum wait time.  This gives grouped events a chance to coalesce
 * without triggering an unneeded trailing event on the longer throttle.
 *
 * Here are some examples of what's going on, if using a 1000ms throttle
 * wrapped in a 250ms debounce.
 *
 * In low traffic we collapse two groups of events to just two events.
 *
 * original events   :   || |                     | |
 * debounced         :   -250>|                   -250>|
 * then throttled    :        |--------------1000->    |--------------1000->
 *
 * In higher traffic we collapse the groups but still keep events at least
 * one second apart.
 *
 * original events   :   || |        |     |      | |
 * debounced         :   -250>|      -250>|-250>| -250>|
 * then throttled    :        |--------------1000->|--------------1000->|
 *
 * @returns {function()}
 * @private
 */
NetSimTable.prototype.makeThrottledRefresh_ = function () {
  var throttledRefresh = _.throttle(this.refresh.bind(this), this.minimumDelayBetweenRefreshes_);
  return _.debounce(throttledRefresh, this.minimumDelayBeforeRefresh_, { maxWait: this.minimumDelayBeforeRefresh_ });
};

/**
 * @returns {Array} all locally cached table rows
 */
NetSimTable.prototype.readAll = function () {
  return this.arrayFromCache_();
};

/**
 * @param {!number} firstRowID
 * @returns {Array} all locally cached table rows having row ID >= firstRowID
 */
NetSimTable.prototype.readAllFromID = function (firstRowID) {
  return this.arrayFromCache_(function (key) {
    return key >= firstRowID;
  });
};

/**
 * @param {!number} id
 * @param {!NodeStyleCallback} callback
 */
NetSimTable.prototype.read = function (id, callback) {
  this.api_.fetchRow(id, (function (err, data) {
    if (err === null) {
      this.updateCacheRow_(id, data);
    }
    callback(err, data);
  }).bind(this));
};

/**
 * @param {Object} value
 * @param {!NodeStyleCallback} callback
 */
NetSimTable.prototype.create = function (value, callback) {
  this.api_.createRow(value, (function (err, data) {
    if (err === null) {
      this.addRowToCache_(data);
    }
    callback(err, data);
  }).bind(this));
};

/**
 * @param {Object[]} values
 * @param {!NodeStyleCallback} callback
 */
NetSimTable.prototype.multiCreate = function (values, callback) {
  this.api_.createRow(values, (function (err, datas) {
    if (err === null) {
      datas.forEach(function (data) {
        this.addRowToCache_(data);
      }, this);
    }
    callback(err, datas);
  }).bind(this));
};

/**
 * @param {!number} id
 * @param {Object} value
 * @param {!NodeStyleCallback} callback
 */
NetSimTable.prototype.update = function (id, value, callback) {
  this.api_.updateRow(id, value, (function (err, success) {
    if (err === null) {
      this.updateCacheRow_(id, value);
    }
    callback(err, success);
  }).bind(this));
};

/**
 * @param {!number} id
 * @param {!NodeStyleCallback} callback
 */
NetSimTable.prototype['delete'] = function (id, callback) {
  this.deleteMany([id], callback);
};

/**
 * Deletes multiple rows from the table.
 * @param {!number[]} ids
 * @param {!NodeStyleCallback} callback
 */
NetSimTable.prototype.deleteMany = function (ids, callback) {
  this.api_.deleteRows(ids, (function (err, success) {
    if (err === null) {
      this.removeRowsFromCache_(ids);
    }
    callback(err, success);
  }).bind(this));
};

/**
 * Delete a row using a synchronous call. For use when navigating away from
 * the page; most of the time an asynchronous call is preferred.
 * @param {!number} id
 */
NetSimTable.prototype.synchronousDelete = function (id) {
  var async = false; // Force synchronous request
  this.api_.deleteRows([id], (function (err) {
    if (err) {
      // Nothing we can really do with the error, as we're in the process of
      // navigating away. Throw so that high incidence rates will show up in
      // new relic.
      throw err;
    }
    this.removeRowsFromCache_([id]);
  }).bind(this), async);
};

/**
 * @param {Array} allRows
 * @private
 */
NetSimTable.prototype.fullCacheUpdate_ = function (allRows) {
  // Rebuild entire cache
  var maxRowID = 0;
  var newCache = allRows.reduce(function (prev, currentRow) {
    prev[currentRow.id] = currentRow;
    if (currentRow.id > maxRowID) {
      maxRowID = currentRow.id;
    }
    return prev;
  }, {});

  // Check for changes, if anything changed notify all observers on table.
  if (!_.isEqual(this.cache_, newCache)) {
    this.cache_ = newCache;
    this.latestRowID_ = maxRowID;
    this.tableChange.notifyObservers();
  }

  this.lastRefreshTime_ = Date.now();
};

/**
 * Add and update rows in the local cache from the given set of new rows
 * (probably retrieved from the server).
 * @param {Array} newRows
 * @private
 */
NetSimTable.prototype.incrementalCacheUpdate_ = function (newRows) {
  if (newRows.length > 0) {
    var maxRowID = 0;
    newRows.forEach(function (row) {
      this.cache_[row.id] = row;
      maxRowID = Math.max(maxRowID, row.id);
    }, this);
    this.latestRowID_ = maxRowID;
    this.tableChange.notifyObservers();
  }

  this.lastRefreshTime_ = Date.now();
};

/**
 * @param {!Object} row
 * @param {!number} row.id
 * @private
 */
NetSimTable.prototype.addRowToCache_ = function (row) {
  this.cache_[row.id] = row;
  this.tableChange.notifyObservers();
};

/**
 * @param {!number[]} ids
 * @private
 */
NetSimTable.prototype.removeRowsFromCache_ = function (ids) {
  var cacheChanged = false;
  ids.forEach(function (id) {
    if (this.cache_[id] !== undefined) {
      delete this.cache_[id];
      cacheChanged = true;
    }
  }, this);

  if (cacheChanged) {
    this.tableChange.notifyObservers();
  }
};

/**
 * @param {!number} id
 * @param {!Object} row
 * @private
 */
NetSimTable.prototype.updateCacheRow_ = function (id, row) {
  var oldRow = this.cache_[id];
  var newRow = row;

  // Manually apply IDs which should be present in row.
  newRow.id = id;
  newRow.uuid = oldRow.uuid;

  if (!_.isEqual(oldRow, newRow)) {
    this.cache_[id] = newRow;
    this.tableChange.notifyObservers();
  }
};

/**
 * @param {function(key, value)} [predicate] - A condition on returning the row.
 * @returns {Array}
 * @private
 */
NetSimTable.prototype.arrayFromCache_ = function (predicate) {
  predicate = predicate || function () {
    return true;
  };
  var result = [];
  for (var k in this.cache_) {
    if (this.cache_.hasOwnProperty(k) && predicate(k, this.cache_[k])) {
      result.push(this.cache_[k]);
    }
  }
  return result;
};

/**
 * Changes how often this table fetches a full table update from the
 * server.
 * @param {number} intervalMs - milliseconds of delay between updates.
 */
NetSimTable.prototype.setPollingInterval = function (intervalMs) {
  this.pollingInterval_ = intervalMs;
};

/**
 * Change the maximum rate at which the refresh operation for this table
 * will _actually_ be executed, no matter how fast we receive invalidations.
 * @param {number} delayMs - Minimum number of milliseconds
 *        between invalidation-triggered requests to the server.
 */
NetSimTable.prototype.setMinimumDelayBetweenRefreshes = function (delayMs) {
  // To do this, we just replace the throttled refresh function with a new one.
  this.minimumDelayBetweenRefreshes_ = delayMs;
  this.refreshTable_ = this.makeThrottledRefresh_();
};

/**
 * Change the minimum time (in ms) to wait after an invalidation event before
 * attempting to trigger a refresh request.  This produces a window in which
 * clustered invalidations can be captured and coalesced together.
 * @param {number} delayMs - Minimum number of milliseconds between first
 *        invalidation and request to server.
 */
NetSimTable.prototype.setMinimumDelayBeforeRefresh = function (delayMs) {
  // To do this, we just replace the throttled refresh function with a new one.
  this.minimumDelayBeforeRefresh_ = delayMs;
  this.refreshTable_ = this.makeThrottledRefresh_();
};

/**
 * Change the Maximum additional random delay (in ms) to add before the refresh
 * request.  Helps spread out requests from different clients responding to the
 * same events.
 * @param {number} delayMs - Maximum number of milliseconds to add before
 *        refresh request fires.
 */
NetSimTable.prototype.setMaximumJitterDelay = function (delayMs) {
  // To do this, we just replace the throttled refresh function with a new one.
  this.maximumJitterDelay_ = delayMs;
};

/** Polls server for updates, if it's been long enough. */
NetSimTable.prototype.tick = function () {
  var now = Date.now();
  if (now - this.lastRefreshTime_ >= this.pollingInterval_) {
    this.lastRefreshTime_ = now;
    this.refreshTable_();
  }
};

/**
 * Called when the PubSub service fires an event that this table is subscribed to.
 * @private
 */
NetSimTable.prototype.onPubSubEvent_ = function () {
  this.refreshTable_();
};

},{"../ObservableEvent":"/home/ubuntu/staging/apps/build/js/ObservableEvent.js","../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./ArgumentUtils":"/home/ubuntu/staging/apps/build/js/netsim/ArgumentUtils.js","./NetSimApi":"/home/ubuntu/staging/apps/build/js/netsim/NetSimApi.js","./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimSendPanel.js":[function(require,module,exports){
/**
 * @overview UI controller for the send panel (the bottom panel on the right)
 *           which is used to transmit packets.
 * @see NetSimPacketEditor which is used extensively here.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var utils = require('../utils');
var i18n = require('./locale');
var markup = require('./NetSimSendPanel.html.ejs');
var NetSimPanel = require('./NetSimPanel');
var NetSimPacketEditor = require('./NetSimPacketEditor');
var NetSimPacketSizeControl = require('./NetSimPacketSizeControl');
var Packet = require('./Packet');
var DataConverters = require('./DataConverters');
var NetSimConstants = require('./NetSimConstants');
var NetSimGlobals = require('./NetSimGlobals');

var EncodingType = NetSimConstants.EncodingType;
var MessageGranularity = NetSimConstants.MessageGranularity;
var BITS_PER_BYTE = NetSimConstants.BITS_PER_BYTE;

var binaryToAB = DataConverters.binaryToAB;

var logger = require('./NetSimLogger').getSingleton();

/**
 * Generator and controller for message sending view.
 * @param {jQuery} rootDiv
 * @param {NetSimLevelConfiguration} levelConfig
 * @param {NetSim} netsim
 * @constructor
 * @augments NetSimPanel
 */
var NetSimSendPanel = module.exports = function (rootDiv, levelConfig, netsim) {

  /**
   * @type {NetSimLevelConfiguration}
   * @private
   */
  this.levelConfig_ = levelConfig;

  /**
   * @type {Packet.HeaderType[]}
   * @private
   */
  this.packetSpec_ = levelConfig.clientInitialPacketHeader;

  /**
   * Connection that owns the router we will represent / manipulate
   * @type {NetSim}
   * @private
   */
  this.netsim_ = netsim;

  /**
   * List of controllers for packets currently being edited.
   * @type {NetSimPacketEditor[]}
   * @private
   */
  this.packets_ = [];

  /**
   * Our local node's address, zero until assigned by a router.
   * @type {number}
   * @private
   */
  this.fromAddress_ = 0;

  /**
   * Maximum packet length configurable by slider.
   * @type {number}
   * @private
   */
  this.maxPacketSize_ = levelConfig.defaultPacketSizeLimit;

  /**
   * Byte-size used for formatting binary and for interpreting it
   * to decimal or ASCII.
   * @type {number}
   * @private
   */
  this.chunkSize_ = BITS_PER_BYTE;

  /**
   * Local device bitrate in bits-per-second, which affects send animation
   * speed.
   * @type {number}
   * @private
   */
  this.bitRate_ = Infinity;

  /**
   * What encodings are currently selected and displayed in each
   * packet and packet editor.
   * @type {EncodingType[]}
   * @private
   */
  this.enabledEncodings_ = levelConfig.defaultEnabledEncodings;

  /**
   * Reference to parent div of packet editor list, for adding and
   * removing packet editors.
   * @type {jQuery}
   * @private
   */
  this.packetsDiv_ = null;

  /**
   * @type {NetSimPacketSizeControl}
   * @private
   */
  this.packetSizeControl_ = null;

  /**
   * Flag for whether this panel is in "sending" mode, non-interactive while
   * it animates the send process for the current message.
   * @type {boolean}
   * @private
   */
  this.isPlayingSendAnimation_ = false;

  var panelTitle = levelConfig.messageGranularity === MessageGranularity.PACKETS ? i18n.sendAMessage() : i18n.sendBits();

  // TODO: Bad private member access
  this.netsim_.runLoop_.tick.register(this.tick.bind(this));

  NetSimPanel.call(this, rootDiv, {
    className: 'netsim-send-panel',
    panelTitle: panelTitle
  });
};
NetSimSendPanel.inherits(NetSimPanel);

/**
 * Puts send panel in a "sending packets" noninteractive state and begins
 * sending packets to remote.
 * @private
 */
NetSimSendPanel.prototype.beginSendingPackets_ = function () {
  if (0 === this.packets_.length) {
    return;
  }

  this.isPlayingSendAnimation_ = true;
  this.disableEverything();
  this.packets_[0].beginSending(this.netsim_.myNode);
};

/**
 * Callback for when an individual packet finishes its send animation.
 * Most of the time the packet gets removed and the next packet begins its
 * animation.
 * If it's the last packet, we finish sending and perform a packet editor
 * reset instead.
 * @param {NetSimPacketEditor} packet
 * @private
 */
NetSimSendPanel.prototype.doneSendingPacket_ = function (packet) {
  // If it's the last packet, we're done sending altogether.
  if (1 === this.packets_.length) {
    this.resetPackets_();
    this.enableEverything();
    this.packets_[0].getFirstVisibleMessageBox().focus();
    this.isPlayingSendAnimation_ = false;
    return;
  }

  // Remove the completed packet and start sending the next one.
  this.removePacket_(packet);
  this.packets_[0].beginSending(this.netsim_.myNode);
};

/**
 * Send panel uses its tick to "send" packets at different bitrates, animating
 * the binary draining out of the widget and actually posting each packet
 * to storage as it completes.
 * @param {RunLoop.Clock} clock
 */
NetSimSendPanel.prototype.tick = function (clock) {
  if (this.isPlayingSendAnimation_ && this.packets_.length > 0) {
    this.packets_[0].tick(clock);
  }
};

/** Replace contents of our root element with our own markup. */
NetSimSendPanel.prototype.render = function () {
  // Render boilerplate panel stuff
  NetSimSendPanel.superPrototype.render.call(this);

  // Put our own content into the panel body
  var newMarkup = $(markup({
    level: this.levelConfig_
  }));
  this.getBody().html(newMarkup);

  // Add packet size slider control
  if (this.levelConfig_.showPacketSizeControl) {
    var level = NetSimGlobals.getLevelConfig();
    var encoder = new Packet.Encoder(level.addressFormat, level.packetCountBitWidth, this.packetSpec_);
    this.packetSizeControl_ = new NetSimPacketSizeControl(this.rootDiv_.find('.packet-size'), this.packetSizeChangeCallback_.bind(this), {
      minimumPacketSize: encoder.getHeaderLength(),
      sliderStepValue: 1
    });
    this.packetSizeControl_.setValue(this.maxPacketSize_);
  }

  // Bind useful elements and add handlers
  this.packetsDiv_ = this.getBody().find('.send-panel-packets');
  this.getBody().find('#add-packet-button').click(this.onAddPacketButtonPress_.bind(this));
  // TODO: NetSim buttons in this panel need to do nothing if disabled!
  this.getBody().find('#send-button').click(this.onSendEventTriggered_.bind(this));
  this.getBody().find('#set-wire-button').click(this.onSendEventTriggered_.bind(this));

  // Note: At some point, we might want to replace this with something
  // that nicely re-renders the contents of this.packets_... for now,
  // we only call render for set-up, so it's okay.
  this.resetPackets_();
};

/**
 * Add a new, blank packet to the set of packets being edited.
 * @private
 */
NetSimSendPanel.prototype.addPacket_ = function () {
  var newPacketCount = this.packets_.length + 1;

  // Update the total packet count on all existing packets
  this.packets_.forEach(function (packetEditor) {
    packetEditor.setPacketCount(newPacketCount);
  });

  // Copy the to address of the previous packet if it exists. Otherwise
  // use the last address sent.
  // TODO: Do we need to lock the toAddress for all of these packets together?
  var newPacketToAddress;
  if (this.packets_.length > 0) {
    newPacketToAddress = this.packets_[this.packets_.length - 1].toAddress;
  } else {
    newPacketToAddress = '0';
  }

  // Create a new packet
  var newPacket = new NetSimPacketEditor({
    messageGranularity: this.levelConfig_.messageGranularity,
    packetSpec: this.packetSpec_,
    toAddress: newPacketToAddress,
    fromAddress: this.fromAddress_,
    packetIndex: newPacketCount,
    packetCount: newPacketCount,
    maxPacketSize: this.maxPacketSize_,
    chunkSize: this.chunkSize_,
    bitRate: this.bitRate_,
    enabledEncodings: this.enabledEncodings_,
    removePacketCallback: this.removePacket_.bind(this),
    doneSendingCallback: this.doneSendingPacket_.bind(this),
    contentChangeCallback: this.onContentChange_.bind(this),
    enterKeyPressedCallback: this.onSendEventTriggered_.bind(this)
  });

  // Attach the new packet to this SendPanel
  var updateLayout = this.netsim_.updateLayout.bind(this.netsim_);
  newPacket.getRoot().appendTo(this.packetsDiv_);
  newPacket.getRoot().hide().slideDown('fast', function () {
    newPacket.getFirstVisibleMessageBox().focus();
    updateLayout();
  });
  this.packets_.push(newPacket);
};

/**
 * Remove a packet from the send panel, and adjust other packets for
 * consistency.
 * @param {NetSimPacketEditor} packet
 * @private
 */
NetSimSendPanel.prototype.removePacket_ = function (packet) {
  // Remove from DOM
  var updateLayout = this.netsim_.updateLayout.bind(this.netsim_);
  packet.getRoot().slideUp('fast', function () {
    $(this).remove();
    updateLayout();
  });

  // Remove from internal collection
  this.packets_ = this.packets_.filter(function (packetEditor) {
    return packetEditor !== packet;
  });

  // Adjust numbering of remaining packets if we're not mid-send
  if (!this.isPlayingSendAnimation_) {
    var packetCount = this.packets_.length;
    var packetIndex;
    for (var i = 0; i < packetCount; i++) {
      packetIndex = i + 1;
      this.packets_[i].setPacketIndex(packetIndex);
      this.packets_[i].setPacketCount(packetCount);
    }
  }
};

/**
 * Reset the editor to its 'empty' state: Remove all but the first packet,
 * and reset the first packet to empty.
 * @private
 */
NetSimSendPanel.prototype.resetPackets_ = function () {
  if (this.packets_.length > 0) {
    this.packetsDiv_.children().slice(1).remove();
    this.packets_.length = Math.min(1, this.packets_.length);
    this.packets_[0].resetPacket();
  } else {
    this.addPacket_();
  }
};

/**
 * When any packet editor's binary content changes, we may want
 * to update UI wrapper elements (like the "set next bit" button)
 * in response
 * @private
 */
NetSimSendPanel.prototype.onContentChange_ = function () {
  var nextBit = this.getNextBit_();

  if (nextBit === undefined) {
    // If there are no bits queued up, disable the button
    this.getSetWireButton().text(i18n.setWire());
    this.conditionallyToggleSetWireButton();
  } else {
    // Special case: If we have the "A/B" encoding enabled but _not_ "Binary",
    // format this button label using the "A/B" convention
    if (this.isEncodingEnabled_(EncodingType.A_AND_B) && !this.isEncodingEnabled_(EncodingType.BINARY)) {
      nextBit = binaryToAB(nextBit);
    }

    this.getSetWireButton().text(i18n.setWireToValue({ value: nextBit }));
    this.conditionallyToggleSetWireButton();
  }
};

/**
 * Check whether the given encoding is currently displayed by the panel.
 * @param {EncodingType} queryEncoding
 * @returns {boolean}
 * @private
 */
NetSimSendPanel.prototype.isEncodingEnabled_ = function (queryEncoding) {
  return this.enabledEncodings_.some(function (enabledEncoding) {
    return enabledEncoding === queryEncoding;
  });
};

/**
 * Update from address for the panel, update all the packets to reflect this.
 * @param {number} [fromAddress] default zero
 */
NetSimSendPanel.prototype.setFromAddress = function (fromAddress) {
  // fromAddress can be undefined for other parts of the sim, but within
  // the send panel we just set it to zero.
  this.fromAddress_ = utils.valueOr(fromAddress, 0);

  this.packets_.forEach((function (packetEditor) {
    packetEditor.setFromAddress(this.fromAddress_);
  }).bind(this));
};

/**
 * @param {Event} jQueryEvent
 * @private
 */
NetSimSendPanel.prototype.onAddPacketButtonPress_ = function (jQueryEvent) {
  var thisButton = $(jQueryEvent.target);
  if (thisButton.is('[disabled]')) {
    return;
  }

  this.addPacket_();

  // Scroll to end of packet area
  var scrollingArea = this.getBody().find('.send-panel-packets');
  scrollingArea.animate({ scrollTop: scrollingArea[0].scrollHeight }, 'fast');
};

/**
 * Send message to connected remote
 * @param {Event} jQueryEvent
 * @private
 */
NetSimSendPanel.prototype.onSendEventTriggered_ = function (jQueryEvent) {
  var triggeringTarget = $(jQueryEvent.target);
  if (triggeringTarget.is('[disabled]')) {
    return;
  }

  var level = NetSimGlobals.getLevelConfig();
  if (level.messageGranularity === MessageGranularity.PACKETS) {
    this.beginSendingPackets_();
  } else if (level.messageGranularity === MessageGranularity.BITS) {
    this.sendOneBit_();
  }
};

/**
 * Send a single bit, manually 'setting the wire state'.
 * @private
 */
NetSimSendPanel.prototype.sendOneBit_ = function () {
  var myNode = this.netsim_.myNode;
  if (!myNode) {
    throw new Error("Tried to set wire state when no connection is established.");
  }

  // Find the first bit of the first packet. Disallow setting the wire
  // if there is no first bit.
  var nextBit = this.getNextBit_();
  if (nextBit === undefined) {
    throw new Error("Tried to set wire state when no bit is queued.");
  } else {
    this.disableEverything();
    this.netsim_.animateSetWireState(nextBit);
    myNode.setSimplexWireState(nextBit, (function (err) {
      if (err) {
        logger.warn(err.message);
        return;
      }

      this.consumeFirstBit();
      this.enableEverything();
      this.conditionallyToggleSetWireButton();
    }).bind(this));
  }
};

/**
 * Get the next bit that would be sent, if sending the entered message one
 * bit at a time.
 * @returns {string|undefined} single bit as a "0" or "1" if there are
 * bits to be sent, or undefined otherwise
 * @private
 */
NetSimSendPanel.prototype.getNextBit_ = function () {
  return this.packets_.length > 0 ? this.packets_[0].getFirstBit() : undefined;
};

/** Disable all controls in this panel, usually during network activity. */
NetSimSendPanel.prototype.disableEverything = function () {
  this.getBody().find('input, textarea').prop('disabled', true);
  this.getBody().find('.netsim-button').attr('disabled', 'disabled');
  if (this.packetSizeControl_) {
    this.packetSizeControl_.disable();
  }
};

/**
 * Finds the button used to set the wire state
 * @returns {jQuery}
 */
NetSimSendPanel.prototype.getSetWireButton = function () {
  return this.getBody().find('#set-wire-button');
};

/** Enables the setWireButton if there is another bit in the queue,
 * disables it otherwise.
 * @returns {jQuery}
 */
NetSimSendPanel.prototype.conditionallyToggleSetWireButton = function () {
  var setWireButton = this.getSetWireButton();
  if (this.getNextBit_() === undefined) {
    setWireButton.attr('disabled', 'disabled');
  } else {
    setWireButton.removeAttr('disabled');
  }
  return setWireButton;
};

/** Enable all controls in this panel, usually after network activity. */
NetSimSendPanel.prototype.enableEverything = function () {
  this.getBody().find('input, textarea').prop('disabled', false);
  this.getBody().find('.netsim-button').removeAttr('disabled');
  if (this.packetSizeControl_) {
    this.packetSizeControl_.enable();
  }
};

/**
 * Remove the first bit of the first packet, usually because we just sent
 * a single bit in variant 1.
 */
NetSimSendPanel.prototype.consumeFirstBit = function () {
  if (this.packets_.length > 0) {
    this.packets_[0].consumeFirstBit();
    if (this.packets_[0].getPacketBinary() === '' && this.packets_.length > 1) {
      this.removePacket_(this.packets_[0]);
    }
  }
};

/**
 * Show or hide parts of the send UI based on the currently selected encoding
 * mode.
 * @param {EncodingType[]} newEncodings
 */
NetSimSendPanel.prototype.setEncodings = function (newEncodings) {
  this.enabledEncodings_ = newEncodings;
  this.packets_.forEach(function (packetEditor) {
    packetEditor.setEncodings(newEncodings);
  });
  this.onContentChange_();
};

/**
 * Change how data is interpreted and formatted by this component, triggering
 * an update of all input fields.
 * @param {number} newChunkSize
 */
NetSimSendPanel.prototype.setChunkSize = function (newChunkSize) {
  this.chunkSize_ = newChunkSize;
  this.packets_.forEach(function (packetEditor) {
    packetEditor.setChunkSize(newChunkSize);
  });
};

/**
 * Change the local device bitrate which affects send animation speed.
 * @param {number} newBitRate in bits per second
 */
NetSimSendPanel.prototype.setBitRate = function (newBitRate) {
  this.bitRate_ = newBitRate;
  this.packets_.forEach(function (packetEditor) {
    packetEditor.setBitRate(newBitRate);
  });
};

/**
 * Callback passed down into packet size control, called when packet size
 * is changed by the user.
 * @param {number} newPacketSize
 * @private
 */
NetSimSendPanel.prototype.packetSizeChangeCallback_ = function (newPacketSize) {
  this.maxPacketSize_ = newPacketSize;
  this.packets_.forEach(function (packetEditor) {
    packetEditor.setMaxPacketSize(newPacketSize);
  });
};

/**
 * After toggling panel visibility, trigger a layout update so send/log panel
 * space is shared correctly.
 * @private
 * @override
 */
NetSimSendPanel.prototype.onMinimizerClick_ = function () {
  NetSimSendPanel.superPrototype.onMinimizerClick_.call(this);
  this.netsim_.updateLayout();
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./DataConverters":"/home/ubuntu/staging/apps/build/js/netsim/DataConverters.js","./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js","./NetSimLogger":"/home/ubuntu/staging/apps/build/js/netsim/NetSimLogger.js","./NetSimPacketEditor":"/home/ubuntu/staging/apps/build/js/netsim/NetSimPacketEditor.js","./NetSimPacketSizeControl":"/home/ubuntu/staging/apps/build/js/netsim/NetSimPacketSizeControl.js","./NetSimPanel":"/home/ubuntu/staging/apps/build/js/netsim/NetSimPanel.js","./NetSimSendPanel.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/NetSimSendPanel.html.ejs","./Packet":"/home/ubuntu/staging/apps/build/js/netsim/Packet.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimSendPanel.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('');1;
  var i18n = require('./locale');
  var MessageGranularity = require('./NetSimConstants').MessageGranularity;
; buf.push('\n<div class="send-panel-packets"></div>\n<div class="panel-footer">\n  <div class="right-side-controls">\n    ');8; if (level.showAddPacketButton) { ; buf.push('\n      <span class="netsim-button secondary large-button" id="add-packet-button">', escape((9,  i18n.addPacket() )), '</span>\n    ');10; } ; buf.push('\n    ');11; if (level.messageGranularity === MessageGranularity.PACKETS) { ; buf.push('\n      <span class="netsim-button large-button" id="send-button">', escape((12,  i18n.send() )), '</span>\n    ');13; } else if (level.messageGranularity === MessageGranularity.BITS) { ; buf.push('\n      <span class="netsim-button large-button" id="set-wire-button">', escape((14,  i18n.setWire() )), '</span>\n    ');15; } ; buf.push('\n  </div>\n  <div class="packet-size"></div>\n</div>\n'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js","ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimRouterTab.js":[function(require,module,exports){
/**
 * @overview UI controller for the "Router" tab in the left column.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var markup = require('./NetSimRouterTab.html.ejs');
var NetSimBandwidthControl = require('./NetSimBandwidthControl');
var NetSimMemoryControl = require('./NetSimMemoryControl');
var NetSimRouterStatsTable = require('./NetSimRouterStatsTable');
var NetSimGlobals = require('./NetSimGlobals');

/**
 * Generator and controller for router information view.
 * @param {jQuery} rootDiv - Parent element for this component.
 * @param {Object} callbacks
 * @param {function} callbacks.bandwidthSliderChangeCallback
 * @param {function} callbacks.bandwidthSliderStopCallback
 * @param {function} callbacks.memorySliderChangeCallback
 * @param {function} callbacks.memorySliderStopCallback
 * @constructor
 */
var NetSimRouterTab = module.exports = function (rootDiv, callbacks) {
  /**
   * Component root, which we fill whenever we call render()
   * @type {jQuery}
   * @private
   */
  this.rootDiv_ = rootDiv;

  /**
   * @type {function}
   * @private
   */
  this.bandwidthSliderChangeCallback_ = callbacks.bandwidthSliderChangeCallback;

  /**
   * @type {function}
   * @private
   */
  this.bandwidthSliderStopCallback_ = callbacks.bandwidthSliderStopCallback;

  /**
   * @type {function}
   * @private
   */
  this.memorySliderChangeCallback_ = callbacks.memorySliderChangeCallback;

  /**
   * @type {function}
   * @private
   */
  this.memorySliderStopCallback_ = callbacks.memorySliderStopCallback;

  /**
   * @type {NetSimRouterStatsTable}
   * @private
   */
  this.routerStatsTable_ = null;

  /**
   * @type {NetSimBandwidthControl}
   * @private
   */
  this.bandwidthControl_ = null;

  /**
   * @type {NetSimMemoryControl}
   * @private
   */
  this.memoryControl_ = null;

  // Initial render
  this.render();
};

/**
 * @param {RunLoop} runLoop
 */
NetSimRouterTab.prototype.attachToRunLoop = function (runLoop) {
  if (this.routerStatsTable_) {
    this.routerStatsTable_.attachToRunLoop(runLoop);
  }
};

/**
 * Fill the root div with new elements reflecting the current state.
 */
NetSimRouterTab.prototype.render = function () {
  var levelConfig = NetSimGlobals.getLevelConfig();

  var renderedMarkup = $(markup({
    level: levelConfig
  }));
  this.rootDiv_.html(renderedMarkup);
  this.routerStatsTable_ = new NetSimRouterStatsTable(this.rootDiv_.find('.router-stats'));
  if (levelConfig.showRouterBandwidthControl) {
    this.bandwidthControl_ = new NetSimBandwidthControl(this.rootDiv_.find('.bandwidth-control'), this.bandwidthSliderChangeCallback_, this.bandwidthSliderStopCallback_);
  }
  if (levelConfig.showRouterMemoryControl) {
    this.memoryControl_ = new NetSimMemoryControl(this.rootDiv_.find('.memory-control'), this.memorySliderChangeCallback_, this.memorySliderStopCallback_);
  }
};

/**
 * @param {NetSimLogEntry[]} logData
 */
NetSimRouterTab.prototype.setRouterLogData = function (logData) {
  if (this.routerStatsTable_) {
    this.routerStatsTable_.setRouterLogData(logData);
  }
};

/** @param {number} creationTimestampMs */
NetSimRouterTab.prototype.setRouterCreationTime = function (creationTimestampMs) {
  if (this.routerStatsTable_) {
    this.routerStatsTable_.setRouterCreationTime(creationTimestampMs);
  }
};

/**
 * @param {number} newBandwidth in bits/second
 */
NetSimRouterTab.prototype.setBandwidth = function (newBandwidth) {
  if (this.bandwidthControl_) {
    this.bandwidthControl_.setValue(newBandwidth);
  }
  if (this.routerStatsTable_) {
    this.routerStatsTable_.setBandwidth(newBandwidth);
  }
};

/** @param {number} newMemory in bits/second */
NetSimRouterTab.prototype.setMemory = function (newMemory) {
  if (this.memoryControl_) {
    this.memoryControl_.setValue(newMemory);
  }
  if (this.routerStatsTable_) {
    this.routerStatsTable_.setTotalMemory(newMemory);
  }
};

/**
 * @param {number} queuedPacketCount
 */
NetSimRouterTab.prototype.setRouterQueuedPacketCount = function (queuedPacketCount) {
  if (this.routerStatsTable_) {
    this.routerStatsTable_.setRouterQueuedPacketCount(queuedPacketCount);
  }
};

/** @param {number} usedMemoryInBits */
NetSimRouterTab.prototype.setMemoryInUse = function (usedMemoryInBits) {
  if (this.routerStatsTable_) {
    this.routerStatsTable_.setMemoryInUse(usedMemoryInBits);
  }
};

/** @param {number} dataRateBitsPerSecond */
NetSimRouterTab.prototype.setDataRate = function (dataRateBitsPerSecond) {
  if (this.routerStatsTable_) {
    this.routerStatsTable_.setDataRate(dataRateBitsPerSecond);
  }
};

},{"./NetSimBandwidthControl":"/home/ubuntu/staging/apps/build/js/netsim/NetSimBandwidthControl.js","./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js","./NetSimMemoryControl":"/home/ubuntu/staging/apps/build/js/netsim/NetSimMemoryControl.js","./NetSimRouterStatsTable":"/home/ubuntu/staging/apps/build/js/netsim/NetSimRouterStatsTable.js","./NetSimRouterTab.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/NetSimRouterTab.html.ejs"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimRouterTab.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('');1;
var i18n = require('./locale');
; buf.push('\n<div class="netsim-router-tab">\n  <h1>', escape((5,  i18n.routerTab_stats() )), '</h1>\n  <div class="router-stats"></div>\n  ');7; if (level.showRouterBandwidthControl) { ; buf.push('\n    <h1>', escape((8,  i18n.routerTab_bandwidth() )), '</h1>\n    <div class="bandwidth-control"></div>\n  ');10; } ; buf.push('\n  ');11; if (level.showRouterMemoryControl) { ; buf.push('\n    <h1>', escape((12,  i18n.routerTab_memory() )), '</h1>\n    <div class="memory-control"></div>\n  ');14; } ; buf.push('\n  <h1>', escape((15,  i18n.routerTab_logs() )), '</h1>\n  <span class="secondary netsim-button large-button" id="show-router-log-modal-two" data-toggle="modal" data-target="#router-log-modal">', escape((16,  i18n.logBrowserButton() )), '</span>\n</div>\n'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js","ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimRouterStatsTable.js":[function(require,module,exports){
/**
 * @overview UI component displaying router stats on the "Router" tab.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var markup = require('./NetSimRouterStatsTable.html.ejs');
var NetSimUtils = require('./NetSimUtils');
var NetSimLogEntry = require('./NetSimLogEntry');

/**
 * Render every half-second, minimum.
 * @type {number}
 * @const
 */
var MAX_RENDER_DELAY_MS = 500;

/**
 * @type {number}
 * @const
 */
var MILLIS_PER_SECOND = 1000;

/**
 * @type {number}
 * @const
 */
var SECONDS_PER_MINUTE = 60;

/**
 * @type {number}
 * @const
 */
var MILLIS_PER_MINUTE = MILLIS_PER_SECOND * SECONDS_PER_MINUTE;

/**
 * @type {number}
 * @const
 */
var MINUTES_PER_HOUR = 60;

/**
 * @type {number}
 * @const
 */
var MILLIS_PER_HOUR = MILLIS_PER_MINUTE * MINUTES_PER_HOUR;

/**
 * Generator and controller for DNS network lookup table component.
 * Shows different amounts of information depending on the DNS mode.
 *
 * @param {jQuery} rootDiv
 * @constructor
 */
var NetSimRouterStatsTable = module.exports = function (rootDiv) {
  /**
   * Component root, which we fill whenever we call render()
   * @type {jQuery}
   * @private
   */
  this.rootDiv_ = rootDiv;

  /**
   * Last render time, in simulation-time.
   * @type {number}
   * @private
   */
  this.lastRenderTime_ = null;

  /**
   * Unix timestamp (local) of router creation time
   * @type {number}
   * @private
   */
  this.routerCreationTime_ = 0;

  /**
   * Total count of packets this router has received.
   * @type {number}
   * @private
   */
  this.totalPackets_ = 0;

  /**
   * Total count of packets this router has successfully processed.
   * @type {number}
   * @private
   */
  this.successfulPackets_ = 0;

  /**
   * Total size of all packets received by this router, in bits.
   * @type {number}
   * @private
   */
  this.totalData_ = 0;

  /**
   * Total size of all packets successfully processed by this router, in bits.
   * @type {number}
   * @private
   */
  this.successfulData_ = 0;

  /**
   * Maximum rate of data transfer (in bits per second)
   * @type {number}
   * @private
   */
  this.bandwidthLimit_ = 0;

  /**
   * Average rate of data transfer (in bits per second) over the last
   * DATA_RATE_WINDOW_MS milliseconds.
   * @type {number}
   * @private
   */
  this.dataRate_ = 0;

  /**
   * Router's total memory capacity, in bits.
   * @type {number}
   * @private
   */
  this.totalMemory_ = 0;

  /**
   * Number of packets in the router's queue.
   * @type {number}
   * @private
   */
  this.queuedPackets_ = 0;

  /**
   * Current size of the router's packet queue, in bits.
   * @type {number}
   * @private
   */
  this.usedMemory_ = 0;

  this.render({});
};

/**
 * @param {RunLoop} runLoop
 */
NetSimRouterStatsTable.prototype.attachToRunLoop = function (runLoop) {
  runLoop.render.register(this.render.bind(this));
};

/**
 * Fill the root div with new elements reflecting the current state
 * @param {RunLoop.Clock} clock
 */
NetSimRouterStatsTable.prototype.render = function (clock) {
  if (!this.needsRender(clock)) {
    return;
  }

  var renderedMarkup = $(markup({
    uptime: this.getLocalizedUptime(),
    queuedPackets: this.queuedPackets_,
    totalPackets: this.totalPackets_,
    successfulPackets: this.successfulPackets_,
    totalData: this.totalData_,
    successfulData: this.successfulData_,
    bandwidthLimit: this.bandwidthLimit_,
    dataRate: this.dataRate_,
    totalMemory: this.totalMemory_,
    usedMemory: this.usedMemory_
  }));
  this.rootDiv_.html(renderedMarkup);
  this.lastRenderTime_ = clock.time;
};

/**
 * @param {RunLoop.Clock} clock
 * @returns {boolean} whether a render operation is needed.
 */
NetSimRouterStatsTable.prototype.needsRender = function (clock) {
  return !this.lastRenderTime_ || clock.time - this.lastRenderTime_ > MAX_RENDER_DELAY_MS;
};

/**
 * Mark the router log data dirty, so that it will re-render on the
 * next frame.
 */
NetSimRouterStatsTable.prototype.setNeedsRender = function () {
  this.lastRenderTime_ = null;
};

/**
 * Get a duration string for the current router uptime.
 * @returns {string}
 */
NetSimRouterStatsTable.prototype.getLocalizedUptime = function () {
  var hoursUptime = 0;
  var minutesUptime = 0;
  var secondsUptime = 0;
  if (this.routerCreationTime_ > 0) {
    var millisecondsUptime = Date.now() - this.routerCreationTime_;
    hoursUptime = Math.floor(millisecondsUptime / MILLIS_PER_HOUR);
    millisecondsUptime -= hoursUptime * MILLIS_PER_HOUR;
    minutesUptime = Math.floor(millisecondsUptime / MILLIS_PER_MINUTE);
    millisecondsUptime -= minutesUptime * MILLIS_PER_MINUTE;
    secondsUptime = Math.floor(millisecondsUptime / MILLIS_PER_SECOND);
  }
  return hoursUptime.toString() + ':' + NetSimUtils.zeroPadLeft(minutesUptime, 2) + ':' + NetSimUtils.zeroPadLeft(secondsUptime, 2);
};

/**
 * @param {NetSimLogEntry[]} logEntries
 * @returns {number} total data size, in bits, of packets represented by the
 *          given log entries.
 */
var totalSizeOfPackets = function totalSizeOfPackets(logEntries) {
  return logEntries.reduce(function (prev, cur) {
    return prev + cur.binary.length;
  }, 0);
};

/**
 * @param {NetSimLogEntry[]} logData
 */
NetSimRouterStatsTable.prototype.setRouterLogData = function (logData) {
  var successLogs = logData.filter(function (logEntry) {
    return logEntry.status === NetSimLogEntry.LogStatus.SUCCESS;
  });

  this.totalPackets_ = logData.length;
  this.successfulPackets_ = successLogs.length;

  this.totalData_ = totalSizeOfPackets(logData);
  this.successfulData_ = totalSizeOfPackets(successLogs);

  this.setNeedsRender();
};

/** @param {number} creationTimestampMs */
NetSimRouterStatsTable.prototype.setRouterCreationTime = function (creationTimestampMs) {
  this.routerCreationTime_ = creationTimestampMs;
  this.setNeedsRender();
};

/** @param {number} newBandwidth in bits per second */
NetSimRouterStatsTable.prototype.setBandwidth = function (newBandwidth) {
  this.bandwidthLimit_ = newBandwidth;
  this.setNeedsRender();
};

/** @param {number} totalMemoryInBits */
NetSimRouterStatsTable.prototype.setTotalMemory = function (totalMemoryInBits) {
  this.totalMemory_ = totalMemoryInBits;
  this.setNeedsRender();
};

/**
 * @param {number} queuedPacketCount
 */
NetSimRouterStatsTable.prototype.setRouterQueuedPacketCount = function (queuedPacketCount) {
  this.queuedPackets_ = queuedPacketCount;
  this.setNeedsRender();
};

/** @param {number} usedMemoryInBits */
NetSimRouterStatsTable.prototype.setMemoryInUse = function (usedMemoryInBits) {
  this.usedMemory_ = usedMemoryInBits;
  this.setNeedsRender();
};

/** @param {number} dataRateBitsPerSecond */
NetSimRouterStatsTable.prototype.setDataRate = function (dataRateBitsPerSecond) {
  this.dataRate_ = dataRateBitsPerSecond;
  this.setNeedsRender();
};

},{"./NetSimLogEntry":"/home/ubuntu/staging/apps/build/js/netsim/NetSimLogEntry.js","./NetSimRouterStatsTable.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/NetSimRouterStatsTable.html.ejs","./NetSimUtils":"/home/ubuntu/staging/apps/build/js/netsim/NetSimUtils.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimRouterStatsTable.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('');1;
  var utils = require('../utils');
  var NetSimUtils = require('./NetSimUtils');

  /**
   * Write a stats row with the given title and value.
   * @param {string} title - localized name of the statistic (the header column contents)
   * @param {*} statValue - the value of the statistic
   */
  var writeStatRow = function (title, statValue) {
    ; buf.push('\n      <tr>\n        <th nowrap>', escape((13,  title )), '</th>\n        <td>', escape((14,  statValue )), '</td>\n      </tr>\n    ');16;
  };

  /**
   * Write a stats row that displays a fraction and also its percentage form.
   * @param {string} title - localized name of the statistic (the header column contents)
   * @param {number} partValue - numerator of the stat
   * @param {number} totalValue - denominator of the stat
   * @param {function} [toStringFunction] method for converting numerator and denominator to display format
   */
  var fractionStatRow = function (title, partValue, totalValue, toStringFunction) {
    toStringFunction = utils.valueOr(toStringFunction, function (x) { return x; });
    var valueString = toStringFunction(partValue) + ' / ' + toStringFunction(totalValue);
    if (totalValue > 0 && totalValue < Infinity) {
      valueString += ' (' + Math.round(100 * partValue / totalValue) + '%)';
    }
    writeStatRow(title, valueString);
  };
; buf.push('\n<table>\n  <tbody>\n    ');37; writeStatRow('Uptime', uptime); ; buf.push('\n    ');38; writeStatRow('Queued Packets', queuedPackets); ; buf.push('\n    ');39; fractionStatRow('Memory Use', usedMemory, totalMemory, NetSimUtils.bitsToLocalizedRoundedBytesize); ; buf.push('\n    ');40; fractionStatRow('Throughput', dataRate, bandwidthLimit, NetSimUtils.bitrateToLocalizedRoundedBitrate); ; buf.push('\n    ');41; fractionStatRow('Routed Packets', successfulPackets, totalPackets); ; buf.push('\n    ');42; fractionStatRow('Routed Data', successfulData, totalData, NetSimUtils.bitsToLocalizedRoundedBytesize); ; buf.push('\n  </tbody>\n</table>\n'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./NetSimUtils":"/home/ubuntu/staging/apps/build/js/netsim/NetSimUtils.js","ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimRouterLogModal.js":[function(require,module,exports){
/**
 * @overview a modal dialog showing the union of all router logs for the
 *           current shard.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var i18n = require('./locale');
var NetSimLogEntry = require('./NetSimLogEntry');
var Packet = require('./Packet');
var markup = require('./NetSimRouterLogModal.html.ejs');
var NetSimGlobals = require('./NetSimGlobals');

/** @const {string} */
var LOG_ENTRY_DATA_KEY = 'LogEntry';

/** @const {number} */
var MAXIMUM_ROWS_IN_FULL_RENDER = 500;

/**
 * Generator and controller for contents of modal dialog that reveals
 * all router logs together, in a searchable/sortable/filterable manner.
 *
 * @param {jQuery} rootDiv
 * @constructor
 */
var NetSimRouterLogModal = module.exports = function (rootDiv) {

  /**
   * Component root, which we fill whenever we call render()
   * @private {jQuery}
   */
  this.rootDiv_ = rootDiv;

  /**
   * Hidden by default.
   * @private {boolean}
   */
  this.isVisible_ = false;

  // Attach handlers for showing and hiding the modal
  this.rootDiv_.on('shown.bs.modal', this.onShow_.bind(this));
  this.rootDiv_.on('hidden.bs.modal', this.onHide_.bind(this));

  /**
   * @private {NetSimShard}
   */
  this.shard_ = null;

  /**
   * @private {NetSimRouterNode}
   */
  this.router_ = null;

  /**
   * @private {NetSimLogEntry}
   */
  this.logEntries_ = [];

  /**
   * The highest log row ID stored in logEntries_, used to only retrieve new
   * log rows, we don't need to retrieve everything.
   * @private {number}
   */
  this.latestRowID_ = 0;

  /**
   * Tracking information for which events we're registered to, so we can
   * perform cleanup as needed.
   * @private {Object}
   */
  this.eventKeys_ = {};

  /**
   * Sorting key, changed by user interaction, which determines which sort
   * we use on render.
   * @private {string}
   */
  this.sortBy_ = 'timestamp';

  /**
   * Whether currently using a descending sort.
   * @private {boolean}
   */
  this.sortDescending_ = true;

  /**
   * Whether we are currently in "All-Router" mode or dealing with a
   * single router.  Always initializes to true because we never initialize
   * connected to a single router.
   * @private {boolean}
   */
  this.isAllRouterLogMode_ = true;

  this.render();
};

/**
 * Create a comparator function that can be used to sort log entries, configured
 * to sort according to the log browser's current configuration.
 * @returns {function(NetSimLogEntry, NetSimLogEntry)} compares two log entries,
 *          returns -1 if the first one belongs before the second one, 1 if
 *          the first one belongs after the second one, and 0 if they have the
 *          same sort position.
 * @private
 */
NetSimRouterLogModal.prototype.getSortComparator_ = function () {
  var getSortValue = NetSimRouterLogModal.sortKeyToSortValueGetterMap[this.sortBy_];
  var invertMultiplier = this.sortDescending_ ? -1 : 1;
  return function (a, b) {
    var x = getSortValue(a);
    var y = getSortValue(b);
    return (x < y ? -1 : x > y ? 1 : 0) * invertMultiplier;
  };
};

NetSimRouterLogModal.sortKeyToSortValueGetterMap = {

  'timestamp': function timestamp(logEntry) {
    return logEntry.timestamp;
  },

  'logged-by': function loggedBy(logEntry) {
    var originNode = logEntry.getOriginNode();
    if (originNode) {
      return originNode.getDisplayName();
    }
    return logEntry.nodeID.toString(10);
  },

  'status': function status(logEntry) {
    return logEntry.getLocalizedStatus();
  },

  'from-address': function fromAddress(logEntry) {
    return logEntry.getHeaderField(Packet.HeaderType.FROM_ADDRESS);
  },

  'to-address': function toAddress(logEntry) {
    return logEntry.getHeaderField(Packet.HeaderType.TO_ADDRESS);
  },

  'packet-info': function packetInfo(logEntry) {
    return logEntry.getLocalizedPacketInfo();
  },

  'message': function message(logEntry) {
    return logEntry.getMessageAscii();
  }

};

/**
 * State changes that occur when shoing the log.
 * @private
 */
NetSimRouterLogModal.prototype.onShow_ = function () {
  if (this.shard_) {
    this.shard_.logTable.subscribe();
  }
  this.isVisible_ = true;
  this.render();
};

/**
 * State changes that occur when hiding the log.
 * @private
 */
NetSimRouterLogModal.prototype.onHide_ = function () {
  if (this.shard_) {
    this.shard_.logTable.unsubscribe();
  }
  this.isVisible_ = false;
};

/**
 * @returns {boolean} TRUE if the modal is currently showing.
 */
NetSimRouterLogModal.prototype.isVisible = function () {
  return this.isVisible_;
};

/**
 * Fill the root div with new elements reflecting the current state
 */
NetSimRouterLogModal.prototype.render = function () {
  // Be lazy, don't render if not visible.
  if (!this.isVisible()) {
    return;
  }

  // Re-render entire log browser UI
  var renderedMarkup = $(markup({
    isAllRouterLogMode: this.isAllRouterLogMode_,
    canToggleRouterLogMode: this.canToggleRouterLogMode_(),
    sortBy: this.sortBy_,
    sortDescending: this.sortDescending_
  }));
  this.rootDiv_.html(renderedMarkup);

  // Add input handlers
  this.getRouterLogToggleButton().one('click', (function () {
    this.toggleRouterLogMode_();
    this.render();
  }).bind(this));

  this.rootDiv_.find('th').click((function (event) {
    this.onSortHeaderClick_($(event.target).attr('data-sort-key'));
  }).bind(this));

  // Add rows to the table
  var rows = this.getSortedFilteredLogEntries(this.logEntries_).slice(0, MAXIMUM_ROWS_IN_FULL_RENDER).map(this.makeTableRow_.bind(this));
  this.rootDiv_.find('tbody').append(rows);

  if (rows.length === MAXIMUM_ROWS_IN_FULL_RENDER) {
    var maxRenderedWarning = document.createElement('div');
    maxRenderedWarning.className = 'log-browser-limit-message';
    maxRenderedWarning.textContent = i18n.showingFirstXLogEntries({
      x: MAXIMUM_ROWS_IN_FULL_RENDER
    });
    this.rootDiv_.find('table').after(maxRenderedWarning);
  }
};

/**
 * Convert the given set of log entries to table rows and insert them
 * into the DOM, instead of re-rendering the whole table.
 * @param {!NetSimLogEntry[]} newEntries
 * @private
 */
NetSimRouterLogModal.prototype.renderNewLogEntries_ = function (newEntries) {
  // Be lazy, don't render at all if not visible.
  if (!this.isVisible() || newEntries.length === 0) {
    return;
  }

  /** @type {jQuery} Table body element. */
  var tbody = this.rootDiv_.find('tbody');

  // Get existing table row elements, which are already sorted and filtered.
  var oldRows = tbody.find('tr');

  // Sort and filter the new entries, and generate DOM rows for them.
  newEntries = this.getSortedFilteredLogEntries(newEntries);
  var newRows = $(newEntries.map(this.makeTableRow_.bind(this)));

  // Walk both collections to merge new rows into the DOM
  var nextOld = getNextInfo(oldRows, 0);
  var nextNew = getNextInfo(newRows, 0);
  var comparator = this.getSortComparator_();
  while (nextNew.index < newRows.length && nextOld.index < oldRows.length) {
    if (comparator(nextNew.logEntry, nextOld.logEntry) <= 0) {
      nextNew.tableRow.insertBefore(nextOld.tableRow);
      nextNew = getNextInfo(newRows, nextNew.index + 1);
    } else {
      nextOld = getNextInfo(oldRows, nextOld.index + 1);
    }
  }

  // Put whatever's left on the end of the table
  tbody.append(newRows.slice(nextNew.index));
};

/**
 * Generates a helper object for performing the log row merge.
 * @param {jQuery} rows - Wrapped collection of table rows.
 * @param {!number} atIndex - Index into `rows` at which info should be generated.
 * @returns {{index: number, tableRow: jQuery, logEntry: NetSimLogEntry}}
 */
function getNextInfo(rows, atIndex) {
  var row = rows.eq(atIndex);
  return {
    index: atIndex,
    tableRow: row,
    logEntry: row.length > 0 ? row.data(LOG_ENTRY_DATA_KEY) : {}
  };
}

/**
 * @param {!NetSimLogEntry[]} logEntries
 * @returns {NetSimLogEntry[]} subset of logEntries, sorted and filtered
 *          according to the log browser's current settings.
 */
NetSimRouterLogModal.prototype.getSortedFilteredLogEntries = function (logEntries) {
  // Filter entries to current log browser filter mode
  var filteredLogEntries = this.isAllRouterLogMode_ ? logEntries : logEntries.filter(function (entry) {
    return entry.nodeID === this.router_.entityID;
  }, this);

  return filteredLogEntries.sort(this.getSortComparator_());
};

/**
 * Given a log entry, generate a table row that can be added to the log modal.
 * @param {!NetSimLogEntry} logEntry
 * @returns {Element} a tr element.
 * @private
 */
NetSimRouterLogModal.prototype.makeTableRow_ = function (logEntry) {
  var headerFields = NetSimGlobals.getLevelConfig().routerExpectsPacketHeader;

  var showToAddress = headerFields.indexOf(Packet.HeaderType.TO_ADDRESS) > -1;

  var showFromAddress = headerFields.indexOf(Packet.HeaderType.FROM_ADDRESS) > -1;

  var showPacketInfo = headerFields.indexOf(Packet.HeaderType.PACKET_INDEX) > -1 && headerFields.indexOf(Packet.HeaderType.PACKET_COUNT) > -1;

  var originNode = logEntry.getOriginNode();

  var row = document.createElement('tr');

  // Store the actual logEntry on the row for sorting/merging later.
  $(row).data(LOG_ENTRY_DATA_KEY, logEntry);

  row.appendChild(makeCell(logEntry.getTimeString()));

  row.appendChild(makeCell(originNode ? originNode.getDisplayName() : logEntry.nodeID));

  row.appendChild(makeCell(logEntry.getLocalizedStatus()));

  if (showFromAddress) {
    row.appendChild(makeCell(logEntry.getHeaderField(Packet.HeaderType.FROM_ADDRESS)));
  }

  if (showToAddress) {
    row.appendChild(makeCell(logEntry.getHeaderField(Packet.HeaderType.TO_ADDRESS)));
  }

  if (showPacketInfo) {
    row.appendChild(makeCell(logEntry.getLocalizedPacketInfo()));
  }

  var tdMessageBody = makeCell(logEntry.getMessageAscii());
  tdMessageBody.className = 'message';
  row.appendChild(tdMessageBody);

  return row;
};

/**
 * @param {!string} text
 * @returns {HTMLElement} the new TD element.
 */
function makeCell(text) {
  var td = document.createElement('td');
  td.style.whiteSpace = 'nowrap';
  td.textContent = text;
  return td;
}

/**
 * Change the sort settings and re-render the log table.
 * @param {!string} sortKey
 * @private
 */
NetSimRouterLogModal.prototype.onSortHeaderClick_ = function (sortKey) {
  if (!sortKey) {
    return;
  }

  if (this.sortBy_ === sortKey) {
    this.sortDescending_ = !this.sortDescending_;
  } else {
    this.sortBy_ = sortKey;
    this.sortDescending_ = false;
  }
  this.render();
};

/**
 * Called by the sumulation's onRouterConnect and onRouterDisconnect
 * methods, this locally remembers the current router state and triggers
 * a rerender
 * @param {NetSimRouterNode} router
 */
NetSimRouterLogModal.prototype.setRouter = function (router) {
  this.router_ = router;
  this.isAllRouterLogMode_ = !this.hasLocalRouter_();
  this.render();
};

/**
 * Whether we are currently capable of logging all routers or not.
 * Is always true if we are in a level with connected routers.
 * Otherwise, is only true if we are not locally connected to a router.
 * @returns {boolean}
 * @private
 */
NetSimRouterLogModal.prototype.canLogAllRouters_ = function () {
  return NetSimGlobals.getLevelConfig().connectedRouters || !this.hasLocalRouter_();
};

/**
 * Returns true iff we are locally connected to a router.
 * @returns {boolean}
 * @private
 */
NetSimRouterLogModal.prototype.hasLocalRouter_ = function () {
  return !!this.router_;
};

/**
 * Whether or not we can switch between all-router and single-router log
 * mode. We can switch to single-router iff we have a local router, and
 * we can switch to all-router iff we are capable of logging all routers
 * @returns {boolean}
 * @private
 */
NetSimRouterLogModal.prototype.canToggleRouterLogMode_ = function () {
  if (this.isAllRouterLogMode_) {
    return this.hasLocalRouter_();
  } else {
    return this.canLogAllRouters_();
  }
};

/**
 * Toggles this.isAllRouterLogMode_ between `true` and `false`
 * @private
 */
NetSimRouterLogModal.prototype.toggleRouterLogMode_ = function () {
  this.isAllRouterLogMode_ = !this.isAllRouterLogMode_;
};

/**
 * Finds the button used to toggle between router log modes
 * @returns {jQuery}
 * @private
 */
NetSimRouterLogModal.prototype.getRouterLogToggleButton = function () {
  return this.rootDiv_.find('button#routerlog-toggle');
};

/**
 * Give the log browser a reference to the shard, so that it can query the
 * log table.  Or, pass null when disconnecting from a shard.
 * @param {NetSimShard|null} newShard
 */
NetSimRouterLogModal.prototype.setShard = function (newShard) {

  if (this.eventKeys_.registeredWithShard) {
    this.eventKeys_.registeredWithShard.logTable.tableChange.unregister(this.eventKeys_.logTableChange);
    this.eventKeys_.registeredWithShard = null;
  }

  if (newShard) {
    this.eventKeys_.logTableChange = newShard.logTable.tableChange.register(this.onLogTableChange_.bind(this));
    this.eventKeys_.registeredWithShard = newShard;
  }

  // When changing shards, reset log so we fetch the whole thing next time.
  this.logEntries_.length = 0;
  this.latestRowID_ = 0;
  this.shard_ = newShard;
};

/**
 * Handle log table changes.
 * @private
 */
NetSimRouterLogModal.prototype.onLogTableChange_ = function () {
  var headerSpec = NetSimGlobals.getLevelConfig().routerExpectsPacketHeader;
  var newRows = this.shard_.logTable.readAllFromID(this.latestRowID_ + 1);
  var newLogEntries = newRows.map(function (row) {
    this.latestRowID_ = Math.max(row.id, this.latestRowID_);
    return new NetSimLogEntry(this.shard_, row, headerSpec);
  }, this);
  // Modify this.logEntries_ in-place, appending new log entries
  Array.prototype.push.apply(this.logEntries_, newLogEntries);
  this.renderNewLogEntries_(newLogEntries);
};

},{"./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js","./NetSimLogEntry":"/home/ubuntu/staging/apps/build/js/netsim/NetSimLogEntry.js","./NetSimRouterLogModal.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/NetSimRouterLogModal.html.ejs","./Packet":"/home/ubuntu/staging/apps/build/js/netsim/Packet.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimRouterLogModal.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('');1;
var Packet = require('./Packet');
var i18n = require('./locale');
var NetSimGlobals = require('./NetSimGlobals');

var headerFields = NetSimGlobals.getLevelConfig().routerExpectsPacketHeader;

/** @type {boolean} */
var showToAddress = headerFields.indexOf(Packet.HeaderType.TO_ADDRESS) > -1;

/** @type {boolean} */
var showFromAddress = headerFields.indexOf(Packet.HeaderType.FROM_ADDRESS) > -1;

/** @type {boolean} */
var showPacketInfo = headerFields.indexOf(Packet.HeaderType.PACKET_INDEX) > -1 &&
    headerFields.indexOf(Packet.HeaderType.PACKET_COUNT) > -1;

/**
 * @name isAllRouterLogMode
 * @type {boolean}
 */

/**
 * @name sortBy
 * @type {string}
 */

/**
 * @name sortDescending
 * @type {boolean}
 */

function sortMarkupFor(sortKey) {
  if (sortKey === sortBy) {
    if (sortDescending) {
      return '<i class="fa fa-sort-desc"></i>';
    } else {
      return '<i class="fa fa-sort-asc"></i>';
    }
  }
  return '';
}
; buf.push('\n<div class="modal-dialog modal-lg">\n    <div class="modal-header">\n      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n\n      ');48; if (canToggleRouterLogMode) { ; buf.push('\n        <button type="button" id="routerlog-toggle" class="pull-right btn btn-primary btn-mini">', escape((49,  (isAllRouterLogMode) ? i18n.logBrowserHeader_toggleMine() : i18n.logBrowserHeader_toggleAll() )), '</button>\n      ');50; } ; buf.push('\n\n      ');52; if (isAllRouterLogMode) { ; buf.push('\n        <h4 class="modal-title">', escape((53,  i18n.logBrowserHeader_all() )), '</h4>\n      ');54; } else { ; buf.push('\n        <h4 class="modal-title">', escape((55,  i18n.logBrowserHeader_mine() )), '</h4>\n      ');56; } ; buf.push('\n    </div>\n    <div class="modal-body">\n      <table>\n        <thead>\n          <tr>\n            <th nowrap data-sort-key="timestamp">', escape((62,  i18n.time() )), ' ', (62,  sortMarkupFor('timestamp') ), '</th>\n            <th nowrap data-sort-key="logged-by">', escape((63,  i18n.loggedByNode() )), ' ', (63,  sortMarkupFor('logged-by') ), '</th>\n            <th nowrap data-sort-key="status">', escape((64,  i18n.status() )), ' ', (64,  sortMarkupFor('status') ), '</th>\n            ');65; if (showFromAddress) { ; buf.push('\n              <th nowrap data-sort-key="from-address">', escape((66,  i18n.from() )), ' ', (66,  sortMarkupFor('from-address') ), '</th>\n            ');67; } ; buf.push('\n            ');68; if (showToAddress) { ; buf.push('\n              <th nowrap data-sort-key="to-address">', escape((69,  i18n.to() )), ' ', (69,  sortMarkupFor('to-address') ), '</th>\n            ');70; } ; buf.push('\n            ');71; if (showPacketInfo) { ; buf.push('\n              <th nowrap data-sort-key="packet-info">', escape((72,  i18n.packet() )), ' ', (72,  sortMarkupFor('packet-info') ), '</th>\n            ');73; } ; buf.push('\n            <th nowrap data-sort-key="message">', escape((74,  i18n.message() )), ' ', (74,  sortMarkupFor('message') ), '</th>\n          </tr>\n        </thead>\n        <tbody>\n        </tbody>\n      </table>\n    </div>\n    <div class="modal-footer">\n      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n    </div>\n</div>\n'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js","./Packet":"/home/ubuntu/staging/apps/build/js/netsim/Packet.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js","ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimPacketSizeControl.js":[function(require,module,exports){
/**
 * @overview UI slider used to change maximum packet length.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,

 maxlen: 120
 */
'use strict';

var i18n = require('./locale');
var NetSimSlider = require('./NetSimSlider');

/**
 * Generator and controller for packet size slider/selector
 * @param {jQuery} rootDiv
 * @param {function} packetSizeChangeCallback
 * @param {Object} options
 * @param {number} options.minimumPacketSize
 * @constructor
 * @augments NetSimSlider
 */
var NetSimPacketSizeControl = module.exports = function (rootDiv, packetSizeChangeCallback, options) {
  NetSimSlider.call(this, rootDiv, {
    onChange: packetSizeChangeCallback,
    min: options.minimumPacketSize,
    max: 8192,
    upperBoundInfinite: false
  });

  // Auto-render, unlike our base class
  this.render();
};
NetSimPacketSizeControl.inherits(NetSimSlider);

/**
 * Get localized packet size description for the given packet size.
 * @param {number} packetSize
 * @returns {string}
 */
NetSimPacketSizeControl.prototype.getPacketSizeText = function (packetSize) {
  return i18n.numBitsPerPacket({ numBits: packetSize });
};

/**
 * Converts a numeric value (in bits) into a compact localized string
 * representation of that value.
 * @param {number} val - numeric value of the control
 * @returns {string} - localized string representation of value
 * @override
 */
NetSimPacketSizeControl.prototype.valueToLabel = function (val) {
  if (val === Infinity) {
    return i18n.unlimited();
  }
  return i18n.numBitsPerPacket({ numBits: val });
};

/**
 * Get labels for end sliders
 * @param {number} val
 * @returns {string}
 * @override
 */
NetSimPacketSizeControl.prototype.valueToShortLabel = function (val) {
  if (val === Infinity) {
    return i18n.unlimited();
  }
  return val;
};

},{"./NetSimSlider":"/home/ubuntu/staging/apps/build/js/netsim/NetSimSlider.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimPacketEditor.js":[function(require,module,exports){
/**
 * @overview UI controller for the packet editor which allows editing multiple
 *           encodings at once and lives inside the send panel.
 * @see NetSimSendPanel for how this is used.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

require('../utils'); // For Function.prototype.inherits()
var netsimMsg = require('./locale');
var markup = require('./NetSimPacketEditor.html.ejs');
var KeyCodes = require('../constants').KeyCodes;
var NetSimEncodingControl = require('./NetSimEncodingControl');
var NetSimLogPanel = require('./NetSimLogPanel');
var Packet = require('./Packet');
var DataConverters = require('./DataConverters');
var NetSimConstants = require('./NetSimConstants');
var NetSimGlobals = require('./NetSimGlobals');

var EncodingType = NetSimConstants.EncodingType;
var BITS_PER_BYTE = NetSimConstants.BITS_PER_BYTE;

var minifyBinary = DataConverters.minifyBinary;
var formatAB = DataConverters.formatAB;
var formatBinary = DataConverters.formatBinary;
var formatHex = DataConverters.formatHex;
var alignDecimal = DataConverters.alignDecimal;
var abToBinary = DataConverters.abToBinary;
var abToInt = DataConverters.abToInt;
var binaryToAB = DataConverters.binaryToAB;
var binaryToHex = DataConverters.binaryToHex;
var binaryToInt = DataConverters.binaryToInt;
var binaryToDecimal = DataConverters.binaryToDecimal;
var binaryToAscii = DataConverters.binaryToAscii;
var hexToBinary = DataConverters.hexToBinary;
var intToAB = DataConverters.intToAB;
var intToBinary = DataConverters.intToBinary;
var intToHex = DataConverters.intToHex;
var decimalToBinary = DataConverters.decimalToBinary;
var asciiToBinary = DataConverters.asciiToBinary;

/**
 * Type for tructured access to jQuery-wrapped DOM elements.  Two layers deep;
 * can be used for quick access to one of the fields in the packet editor grid
 * by referencing via row and column.
 *
 * Map keys at the first layer correspond to NetSimConstants.EncodingType.
 * Map keys at the second layer correspond to Packet.HeaderType, plus the
 *   'message' field.
 *
 * Usage:
 *   map.binary.fromAddress
 *   map['binary']['fromAddress']
 *   map[EncodingType.BINARY][Packet.HeaderType.FROM_ADDRESS]
 *
 * @typedef {Object} UIMap
 * @property {UIRowMap} a_and_b
 * @property {UIRowMap} binary
 * @property {UIRowMap} hexadecimal
 * @property {UIRowMap} decimal
 * @property {UIRowMap} ascii
 */

/**
 * @typedef {Object} UIRowMap
 * @property {jQuery} toAddress
 * @property {jQuery} fromAddress
 * @property {jQuery} packetIndex
 * @property {jQuery} packetCount
 * @property {jQuery} message
 */

/**
 * Generator and controller for message sending view.
 * @param {Object} initialConfig
 * @param {MessageGranularity} initialConfig.messageGranularity
 * @param {Packet.HeaderType[]} initialConfig.packetSpec
 * @param {number} [initialConfig.toAddress]
 * @param {number} [initialConfig.fromAddress]
 * @param {number} [initialConfig.packetIndex]
 * @param {number} [initialConfig.packetCount]
 * @param {string} [initialConfig.message]
 * @param {number} [initialConfig.maxPacketSize]
 * @param {number} [initialConfig.chunkSize]
 * @param {number} [initialConfig.bitRate]
 * @param {EncodingType[]} [initialConfig.enabledEncodings]
 * @param {function} initialConfig.removePacketCallback
 * @param {function} initialConfig.doneSendingCallback
 * @param {function} initialConfig.contentChangeCallback
 * @param {function} initialConfig.enterKeyPressedCallback
 * @constructor
 */
var NetSimPacketEditor = module.exports = function (initialConfig) {
  var level = NetSimGlobals.getLevelConfig();

  /**
   * @type {RowType[]}
   * @const
   */
  this.ROW_TYPES = [{
    typeName: EncodingType.A_AND_B,
    addressFieldAllowedCharacters: /[AB\s]/i,
    addressFieldConversion: function addressFieldConversion(abString) {
      return DataConverters.binaryToAddressString(DataConverters.abToBinary(abString), level.addressFormat);
    },
    shortNumberAllowedCharacters: /[AB]/i,
    shortNumberConversion: truncatedABToInt,
    messageAllowedCharacters: /[AB\s]/i,
    messageConversion: abToBinary
  }, {
    typeName: EncodingType.BINARY,
    addressFieldAllowedCharacters: /[01\s]/i,
    addressFieldConversion: function addressFieldConversion(binaryString) {
      return DataConverters.binaryToAddressString(binaryString, level.addressFormat);
    },
    shortNumberAllowedCharacters: /[01]/,
    shortNumberConversion: truncatedBinaryToInt,
    messageAllowedCharacters: /[01\s]/,
    messageConversion: minifyBinary
  }, {
    typeName: EncodingType.HEXADECIMAL,
    addressFieldAllowedCharacters: /[0-9a-f\s]/i,
    addressFieldConversion: function addressFieldConversion(hexString) {
      return DataConverters.binaryToAddressString(DataConverters.hexToBinary(hexString), level.addressFormat);
    },
    shortNumberAllowedCharacters: /[0-9a-f]/i,
    shortNumberConversion: truncatedHexToInt,
    messageAllowedCharacters: /[0-9a-f\s]/i,
    messageConversion: hexToBinary
  }, {
    typeName: EncodingType.DECIMAL,
    addressFieldAllowedCharacters: /[0-9.\s]/i,
    addressFieldConversion: cleanAddressString,
    shortNumberAllowedCharacters: /[0-9]/,
    shortNumberConversion: truncatedDecimalToInt,
    messageAllowedCharacters: /[0-9\s]/,
    messageConversion: (function (decimalString) {
      return decimalToBinary(decimalString, this.currentChunkSize_);
    }).bind(this)
  }, {
    typeName: EncodingType.ASCII,
    addressFieldAllowedCharacters: /[0-9.\s]/i,
    addressFieldConversion: cleanAddressString,
    shortNumberAllowedCharacters: /[0-9]/,
    shortNumberConversion: truncatedDecimalToInt,
    messageAllowedCharacters: /./,
    messageConversion: (function (asciiString) {
      return asciiToBinary(asciiString, this.currentChunkSize_);
    }).bind(this)
  }];

  /**
   * @type {jQuery}
   * @private
   */
  this.rootDiv_ = $('<div>').addClass('netsim-packet');

  /**
   * @type {MessageGranularity}
   * @private
   */
  this.messageGranularity_ = initialConfig.messageGranularity;

  /**
   * @type {Packet.HeaderType[]}
   * @private
   */
  this.packetSpec_ = initialConfig.packetSpec;

  /** @type {string} */
  this.toAddress = initialConfig.toAddress || DataConverters.binaryToAddressString('0', level.addressFormat);

  /** @type {string} */
  this.fromAddress = initialConfig.fromAddress || DataConverters.binaryToAddressString('0', level.addressFormat);

  /** @type {number} */
  this.packetIndex = initialConfig.packetIndex !== undefined ? initialConfig.packetIndex : 1;

  /** @type {number} */
  this.packetCount = initialConfig.packetCount !== undefined ? initialConfig.packetCount : 1;

  /**
   * Binary string of message body, live-interpreted to other values.
   * @type {string}
   */
  this.message = initialConfig.message || '';

  /**
   * Maximum packet length configurable by slider.
   * @type {Number}
   * @private
   */
  this.maxPacketSize_ = initialConfig.maxPacketSize || 8192;

  /**
   * Bits per chunk/byte for parsing and formatting purposes.
   * @type {number}
   * @private
   */
  this.currentChunkSize_ = initialConfig.chunkSize || BITS_PER_BYTE;

  /**
   * Local device bitrate (bps), which affects send-animation speed.
   * @type {number}
   * @private
   */
  this.bitRate_ = initialConfig.bitRate || Infinity;

  var encodings = initialConfig.enabledEncodings || [];
  /**
   * Which encodings should be visible in the editor.
   * @type {Object.<EncodingType, boolean>}
   * @private
   */
  this.enabledEncodingsHash_ = NetSimEncodingControl.encodingsAsHash(encodings);

  /**
   * Method to call in order to remove this packet from its parent.
   * Function should take this PacketEditor as an argument.
   * @type {function}
   * @private
   */
  this.removePacketCallback_ = initialConfig.removePacketCallback;

  /**
   * Method to call when this packet is done playing its sending animation.
   * Function should take this PacketEditor as an argument.
   * @type {function}
   * @private
   */
  this.doneSendingCallback_ = initialConfig.doneSendingCallback;

  /**
   * Method to notify our parent container that the packet's binary
   * content has changed.
   * @type {function}
   * @private
   */
  this.contentChangeCallback_ = initialConfig.contentChangeCallback;

  /**
   * Method to notify our parent container that the enter key has been
   * pressed
   * @type {function}
   * @private
   */
  this.enterKeyPressedCallback_ = initialConfig.enterKeyPressedCallback;

  /**
   * @type {jQuery}
   * @private
   */
  this.removePacketButton_ = null;

  /**
   * @type {jQuery}
   * @private
   */
  this.bitCounter_ = null;

  /**
   * Flag noting whether this packet editor is in a non-interactive mode
   * where it animates bits draining/being sent.
   * @type {boolean}
   * @private
   */
  this.isPlayingSendAnimation_ = false;

  /**
   * Flag for whether this editor is in the middle of an async send command.
   * @type {boolean}
   * @private
   */
  this.isSendingPacketToRemote_ = false;

  /**
   * Reference to local client node, used for sending messages.
   * @type {NetSimLocalClientNode}
   * @private
   */
  this.myNode_ = null;

  /**
   * Capture packet binary before the send animation begins so that we can
   * send the whole packet to remote storage when the animation is done.
   * @type {string}
   * @private
   */
  this.originalBinary_ = '';

  /**
   * Index into original binary indicating how many bits have been 'sent'
   * in the animation.
   * @type {number}
   * @private
   */
  this.sendAnimationIndex_ = 0;

  /**
   * Simulation-time timestamp (ms) of the last bit-send animation.
   * @type {number}
   * @private
   */
  this.lastBitSentTime_ = undefined;

  /**
   * Map of bound UI elements manipulated by this editor.  Provides quick
   * access to input elements in the editor grid.  See type notes for usage.
   *
   * Populated dynamically in `bindElements_` during `render`.  May not include
   * all fields, as we try to optimize and omit fields not enabled in the level.
   *
   * @type {UIMap}
   * @private
   */
  this.ui_ = {};

  this.render();
};

/**
 * Return root div, for hooking up to a parent element.
 * @returns {jQuery}
 */
NetSimPacketEditor.prototype.getRoot = function () {
  return this.rootDiv_;
};

/**
 * Clear the packet payload and put the editor back in a state where it's
 * ready for composing a new packet.
 * Intentionally preserves toAddress and fromAddress.
 */
NetSimPacketEditor.prototype.resetPacket = function () {
  this.message = '';
  this.packetIndex = 1;
  this.packetCount = 1;
  this.originalBinary_ = '';
  this.sendAnimationIndex_ = 0;
  this.lastBitSentTime_ = undefined;
  this.updateFields_();
  this.updateRemoveButtonVisibility_();
};

/**
 * Returns the first visible message box, so that we can focus() on it
 * @returns {jQuery}
 */
NetSimPacketEditor.prototype.getFirstVisibleMessageBox = function () {
  return this.getRoot().find('textarea.message:visible').first();
};

/** Replace contents of our root element with our own markup. */
NetSimPacketEditor.prototype.render = function () {
  var newMarkup = $(markup({
    messageGranularity: this.messageGranularity_,
    packetSpec: this.packetSpec_,
    enabledEncodingsHash: this.enabledEncodingsHash_
  }));
  this.rootDiv_.html(newMarkup);
  this.bindElements_();
  this.updateFields_();
  this.updateRemoveButtonVisibility_();
  NetSimLogPanel.adjustHeaderColumnWidths(this.rootDiv_);
  NetSimEncodingControl.hideRowsByEncoding(this.rootDiv_, Object.keys(this.enabledEncodingsHash_));
};

/**
 * Put this packet in a mode where it's not editable.  Instead, it will drain
 * its binary at the current bitrate and call the given callback when all
 * of the binary has been drained/"sent"
 * @param {NetSimLocalClientNode} myNode
 */
NetSimPacketEditor.prototype.beginSending = function (myNode) {
  this.isPlayingSendAnimation_ = true;
  this.originalBinary_ = this.getPacketBinary().substr(0, this.maxPacketSize_);
  this.sendAnimationIndex_ = 0;
  this.myNode_ = myNode;

  // Finish now if the packet is empty.
  if (0 === this.originalBinary_.length) {
    this.finishSending();
  }
};

/**
 * Kick off the async send-to-remote operation for the original packet binary.
 * When it's done, remove this now-empty packet.
 */
NetSimPacketEditor.prototype.finishSending = function () {
  this.isPlayingSendAnimation_ = false;
  this.isSendingPacketToRemote_ = true;
  this.myNode_.sendMessage(this.originalBinary_, (function () {
    this.isSendingPacketToRemote_ = false;
    this.doneSendingCallback_(this);
  }).bind(this));
};

/**
 * @returns {boolean} TRUE if this packet is currently being sent.
 */
NetSimPacketEditor.prototype.isSending = function () {
  return this.isPlayingSendAnimation_ || this.isSendingPacketToRemote_;
};

/**
 * Packet Editor tick is called (manually by the NetSimSendPanel) to advance
 * its sending animation.
 * @param {RunLoop.Clock} clock
 */
NetSimPacketEditor.prototype.tick = function (clock) {
  // Before we start animating, or after we are done animating, do nothing.
  if (!this.isPlayingSendAnimation_ || this.isSendingPacketToRemote_) {
    return;
  }

  if (!this.lastBitSentTime_) {
    this.lastBitSentTime_ = clock.time;
  }

  // How many characters should be consumed this tick?
  var msPerBit = 1000 * (1 / this.bitRate_);
  var maxBitsToSendThisTick = Infinity;
  if (msPerBit > 0) {
    var msSinceLastBitConsumed = clock.time - this.lastBitSentTime_;
    maxBitsToSendThisTick = Math.floor(msSinceLastBitConsumed / msPerBit);
  }

  if (maxBitsToSendThisTick > 0) {
    this.lastBitSentTime_ = clock.time;
    this.sendAnimationIndex_ += maxBitsToSendThisTick;
    this.updateForAnimation_();
    if (this.sendAnimationIndex_ >= this.originalBinary_.length) {
      this.finishSending();
    }
  }
};

/**
 * Focus event handler.  If the target element has a 'watermark' class then
 * it contains text we intend to clear before any editing occurs.  This
 * handler clears that text and removes the class.
 * @param focusEvent
 */
var removeWatermark = function removeWatermark(focusEvent) {
  var target = $(focusEvent.target);
  if (target.hasClass('watermark')) {
    target.val('');
    target.removeClass('watermark');
  }
};

/**
 * Helper method for determining if a given keyPress event represents a
 * CLEAN enter press. As in, one without the Shift or Control modifiers.
 * @param {Event} jqueryEvent
 * @returns {boolean} true iff the given event represents a clean enter
 */
var isUnmodifiedEnterPress = function isUnmodifiedEnterPress(jqueryEvent) {
  return jqueryEvent.keyCode === KeyCodes.ENTER && !(jqueryEvent.ctrlKey || jqueryEvent.shiftKey);
};

/**
 * Creates a keyPress handler that allows only the given characters to be
 * typed into a text field.
 * @param {RegExp} whitelistRegex
 * @return {function} appropriate to pass to .keypress()
 */
var makeKeypressHandlerWithWhitelist = function makeKeypressHandlerWithWhitelist(whitelistRegex) {
  /**
   * A keyPress handler that blocks all visible characters except those
   * matching the whitelist.  Passes through invisible characters (backspace,
   * delete) and control combinations (copy, paste).
   *
   * @param keyEvent
   * @returns {boolean} - Whether to propagate this event.  Should return
   *          FALSE if we handle the event and don't want to pass it on, TRUE
   *          if we are not handling the event.
   */
  return function (keyEvent) {

    // Don't block control combinations (copy, paste, etc.)
    if (keyEvent.metaKey || keyEvent.ctrlKey) {
      return true;
    }

    // Don't block invisible characters; we want to allow backspace, delete, etc.
    if (keyEvent.which < KeyCodes.SPACE || keyEvent.which >= KeyCodes.DELETE) {
      return true;
    }

    // At this point, if the character doesn't match, we should block it.
    var key = String.fromCharCode(keyEvent.which);
    if (!whitelistRegex.test(key)) {
      keyEvent.preventDefault();
      return false;
    }
  };
};

/**
 * Generate a jQuery-appropriate keyup handler for a text field.
 * Grabs the new value of the text field, runs it through the provided
 * converter function, sets the result on the SendWidget's internal state
 * and triggers a field update on the widget that skips the field being edited.
 *
 * Similar to makeBlurHandler, but does not update the field currently
 * being edited.
 *
 * @param {string} fieldName - name of internal state field that the text
 *        field should update.
 * @param {function} converterFunction - Takes the text field's value and
 *        converts it to a format appropriate to the internal state field.
 * @param {number} [fieldWidth] - maximum number of bits for field, passed
 *        through as second argument to converter function.
 * @returns {function} that can be passed to $.keyup()
 */
NetSimPacketEditor.prototype.makeKeyupHandler = function (fieldName, converterFunction, fieldWidth) {
  return (function (jqueryEvent) {
    var newValue = converterFunction(jqueryEvent.target.value, fieldWidth);
    if (typeof newValue === 'string' || !isNaN(newValue)) {
      this[fieldName] = newValue;
      this.updateFields_(jqueryEvent.target);
    }
  }).bind(this);
};

/**
 * Generate a jQuery-appropriate blur handler for a text field.
 * Grabs the new value of the text field, runs it through the provided
 * converter function, sets the result on the SendWidget's internal state
 * and triggers a full field update of the widget (including the field that was
 * just edited).
 *
 * Similar to makeKeyupHandler, but also updates the field that was
 * just edited.
 *
 * @param {string} fieldName - name of internal state field that the text
 *        field should update.
 * @param {function} converterFunction - Takes the text field's value and
 *        converts it to a format appropriate to the internal state field.
 * @param {number} [fieldWidth] - maximum number of bits for field, passed
 *        through as second argument to converter function.
 * @returns {function} that can be passed to $.blur()
 */
NetSimPacketEditor.prototype.makeBlurHandler = function (fieldName, converterFunction, fieldWidth) {
  return (function (jqueryEvent) {
    var newValue = converterFunction(jqueryEvent.target.value, fieldWidth);
    if (typeof newValue === 'number' && isNaN(newValue)) {
      newValue = converterFunction('0');
    }
    this[fieldName] = newValue;
    this.updateFields_();
  }).bind(this);
};

/**
 * Specification for an encoding row in the editor, which designates character
 * whitelists to limit typing in certain fields, and rules for intepreting the
 * field from binary.
 * @typedef {Object} RowType
 * @property {EncodingType} typeName
 * @property {RegExp} addressFieldAllowedCharacters - Whitelist of characters
 *           that may be typed into an address field.
 * @property {function} addressFieldConversion - How to convert from binary
 *           to an address string in this row when the binary is updated.
 * @property {RegExp} shortNumberAllowedCharacters - Whitelist of characters
 *           that may be typed into a header field.
 * @property {function} shortNumberConversion - How to convert from binary
 *           to a header value in this row when the binary is updated.
 * @property {RegExp} messageAllowedCharacters - Whitelist of characters
 *           that may be typed into the message field.
 * @property {function} messageConversion - How to convert from binary to
 *           the message value in this row when the binary is updated.
 */

/**
 * Convert binary to an integer, intentionally limiting the binary width so
 * that overflow can occur.
 * @param {string} binaryString (interpreted as unsigned)
 * @param {number} maxWidth in bits
 * @returns {number}
 */
var truncatedBinaryToInt = function truncatedBinaryToInt(binaryString, maxWidth) {
  return binaryToInt(binaryString.substr(-maxWidth));
};

/**
 * Convert ABs to an integer, intentionally limiting the width so that overflow
 * can occur (analagous to truncatedBinaryToInt).  A is treated as zero, B as
 * one.
 * @param {string} abString
 * @param {number} maxWidth in bits
 * @returns {number}
 */
var truncatedABToInt = function truncatedABToInt(abString, maxWidth) {
  return abToInt(abString.substr(-maxWidth));
};

/**
 * Convert a hexadecimal string to a single integer, intentionally limiting
 * the bit-width to so that overflow can occur.
 * @param {string} hexString
 * @param {number} maxWidth in bits
 * @returns {number}
 */
var truncatedHexToInt = function truncatedHexToInt(hexString, maxWidth) {
  return truncatedBinaryToInt(hexToBinary(hexString), maxWidth);
};

/**
 * Convert a decimal string to an integer, intentionally limiting the bit-width
 * so that overflow can occur.
 * @param {string} decimalString
 * @param {number} maxWidth in bits
 * @returns {number}
 */
var truncatedDecimalToInt = function truncatedDecimalToInt(decimalString, maxWidth) {
  return truncatedBinaryToInt(intToBinary(parseInt(decimalString, 10)), maxWidth);
};

/**
 * Convert an address string to binary and back using the level's address
 * format, which coerces it to the exact format the level wants.
 * @param {string} originalString
 * @returns {string}
 */
var cleanAddressString = function cleanAddressString(originalString) {
  var level = NetSimGlobals.getLevelConfig();
  var binaryForm = DataConverters.addressStringToBinary(originalString, level.addressFormat);
  return DataConverters.binaryToAddressString(binaryForm, level.addressFormat);
};

/**
 * Helper method to filter this.ROW_TYPES by enabled encodings
 * @private
 * @returns {RowType[]}
 */
NetSimPacketEditor.prototype.getEnabledRowTypes_ = function () {
  return this.ROW_TYPES.filter(function (rowType) {
    return this.isEncodingEnabled_(rowType.typeName);
  }, this);
};

/**
 * Get relevant elements from the page and bind them to local variables.
 * @private
 */
NetSimPacketEditor.prototype.bindElements_ = function () {
  var level = NetSimGlobals.getLevelConfig();
  var encoder = new Packet.Encoder(level.addressFormat, level.packetCountBitWidth, this.packetSpec_);
  var rootDiv = this.rootDiv_;

  this.getEnabledRowTypes_().forEach(function (rowType) {
    var tr = rootDiv.find('tr.' + rowType.typeName);
    this.ui_[rowType.typeName] = {};
    var rowFields = this.ui_[rowType.typeName];

    // We attach focus (sometimes) to clear the field watermark, if present
    // We attach keypress to block certain characters
    // We attach keyup to live-update the widget as the user types
    // We attach blur to reformat the edited field when the user leaves it,
    //    and to catch non-keyup cases like copy/paste.

    this.packetSpec_.forEach(function (fieldSpec) {
      /** @type {Packet.HeaderType} */
      var fieldName = fieldSpec;
      /** @type {number} */
      var fieldWidth = encoder.getFieldBitWidth(fieldName);

      var allowedCharacterFunction, conversionFunction;
      if (Packet.isAddressField(fieldName)) {
        allowedCharacterFunction = rowType.addressFieldAllowedCharacters;
        conversionFunction = rowType.addressFieldConversion;
      } else {
        allowedCharacterFunction = rowType.shortNumberAllowedCharacters;
        conversionFunction = rowType.shortNumberConversion;
      }

      rowFields[fieldName] = tr.find('input.' + fieldName);
      rowFields[fieldName].keypress(makeKeypressHandlerWithWhitelist(allowedCharacterFunction));
      rowFields[fieldName].keyup(this.makeKeyupHandler(fieldName, conversionFunction, fieldWidth));
      rowFields[fieldName].blur(this.makeBlurHandler(fieldName, conversionFunction, fieldWidth));
    }, this);

    rowFields.message = tr.find('textarea.message');
    rowFields.message.focus(removeWatermark);
    rowFields.message.keypress(makeKeypressHandlerWithWhitelist(rowType.messageAllowedCharacters));
    rowFields.message.keydown((function (jqueryEvent) {
      if (isUnmodifiedEnterPress(jqueryEvent)) {
        this.enterKeyPressedCallback_(jqueryEvent);
      }
    }).bind(this));
    rowFields.message.keyup(this.makeKeyupHandler('message', rowType.messageConversion));
    rowFields.message.blur(this.makeBlurHandler('message', rowType.messageConversion));
  }, this);

  this.removePacketButton_ = rootDiv.find('.remove-packet-button');
  this.removePacketButton_.click(this.onRemovePacketButtonClick_.bind(this));
  this.bitCounter_ = rootDiv.find('.bit-counter');
};

/**
 * Special update method called during send animation that changes the editor
 * display to show each field left-truncated at an appropriate amount for the
 * simulated send progress.
 *
 * This works differently for different fields:
 *  - Binary and A/B fields send a single bit at a time.
 *  - Hex sends a single hex digit at a time, but at the correct slower rate.
 *  - Decimal and ASCII send one chunk at a time, which depends on the current
 *    chunk size, and is adjusted to the correct slower rate as well.  For
 *    ASCII this maps to one character at a time.  For decimal, it's one
 *    whitespace-delimited number.
 *
 * This avoids the jumbled effect of reinterpreting nonbinary fields using
 * misaligned binary, and communicates in a visual way that it takes longer to
 * send a single character than it does to send a single bit.
 *
 * This method is also designed to send the packet header fields in sequence
 * before sending the packet body.  Body binary is never seen in the header
 * fields, each field is treated as an independent space.
 * @private
 */
NetSimPacketEditor.prototype.updateForAnimation_ = function () {
  var chunkSize = this.currentChunkSize_;
  var liveFields = [];

  // There may be potential for performance optimization here, but it's not
  // particularly high on our perf list right now.

  var level = NetSimGlobals.getLevelConfig();
  var encoder = new Packet.Encoder(level.addressFormat, level.packetCountBitWidth, this.packetSpec_);

  var fieldStart = 0;

  this.packetSpec_.forEach(function (fieldSpec) {
    /** @type {Packet.HeaderType} */
    var fieldName = fieldSpec;
    /** @type {number} */
    var fieldWidth = encoder.getFieldBitWidth(fieldName);

    if (this.sendAnimationIndex_ < fieldStart + fieldWidth) {
      // Either we haven't reached this field yet or we're currently animating
      // through it; don't do anything to the more complex fields, and animate
      // the binary appropriately.
      var fieldBinary = this.originalBinary_.substr(fieldStart, fieldWidth);
      var truncatedBits = Math.max(0, this.sendAnimationIndex_ - fieldStart);

      if (this.isEncodingEnabled_(EncodingType.A_AND_B)) {
        liveFields.push({
          inputElement: this.ui_[EncodingType.A_AND_B][fieldName],
          newValue: binaryToAB(fieldBinary).substr(truncatedBits)
        });
      }

      if (this.isEncodingEnabled_(EncodingType.BINARY)) {
        liveFields.push({
          inputElement: this.ui_[EncodingType.BINARY][fieldName],
          newValue: fieldBinary.substr(truncatedBits)
        });
      }

      if (this.isEncodingEnabled_(EncodingType.HEXADECIMAL)) {
        var truncatedHexDigits = Math.floor(truncatedBits / 4);
        liveFields.push({
          inputElement: this.ui_[EncodingType.HEXADECIMAL][fieldName],
          newValue: binaryToHex(fieldBinary).substr(truncatedHexDigits)
        });
      }
    } else {
      // We're past this field - it should be blank
      if (this.isEncodingEnabled_(EncodingType.A_AND_B)) {
        liveFields.push({
          inputElement: this.ui_[EncodingType.A_AND_B][fieldName],
          newValue: ''
        });
      }

      if (this.isEncodingEnabled_(EncodingType.BINARY)) {
        liveFields.push({
          inputElement: this.ui_[EncodingType.BINARY][fieldName],
          newValue: ''
        });
      }

      if (this.isEncodingEnabled_(EncodingType.HEXADECIMAL)) {
        liveFields.push({
          inputElement: this.ui_[EncodingType.HEXADECIMAL][fieldName],
          newValue: ''
        });
      }

      if (this.isEncodingEnabled_(EncodingType.DECIMAL)) {
        liveFields.push({
          inputElement: this.ui_[EncodingType.DECIMAL][fieldName],
          newValue: ''
        });
      }

      if (this.isEncodingEnabled_(EncodingType.ASCII)) {
        liveFields.push({
          inputElement: this.ui_[EncodingType.ASCII][fieldName],
          newValue: ''
        });
      }
    }

    // Advance to the next field
    fieldStart += fieldWidth;
  }, this);

  var bodyBinary = this.originalBinary_.substr(fieldStart);
  var truncatedBits = Math.max(0, this.sendAnimationIndex_ - fieldStart);
  var truncatedChunks = Math.floor(truncatedBits / chunkSize);
  var partialBinaryAtChunkSize = bodyBinary.substr(truncatedChunks * chunkSize);

  if (this.isEncodingEnabled_(EncodingType.A_AND_B)) {
    liveFields.push({
      inputElement: this.ui_[EncodingType.A_AND_B].message,
      newValue: formatAB(binaryToAB(bodyBinary).substr(truncatedBits), chunkSize, -truncatedBits),
      watermark: netsimMsg.a_and_b()
    });
  }

  if (this.isEncodingEnabled_(EncodingType.BINARY)) {
    liveFields.push({
      inputElement: this.ui_[EncodingType.BINARY].message,
      newValue: formatBinary(bodyBinary.substr(truncatedBits), chunkSize, -truncatedBits),
      watermark: netsimMsg.binary()
    });
  }

  if (this.isEncodingEnabled_(EncodingType.HEXADECIMAL)) {
    var truncatedHexDigits = Math.floor(truncatedBits / 4);
    liveFields.push({
      inputElement: this.ui_[EncodingType.HEXADECIMAL].message,
      newValue: formatHex(binaryToHex(bodyBinary).substr(truncatedHexDigits), chunkSize, -truncatedHexDigits),
      watermark: netsimMsg.hexadecimal()
    });
  }

  if (this.isEncodingEnabled_(EncodingType.DECIMAL)) {
    liveFields.push({
      inputElement: this.ui_[EncodingType.DECIMAL].message,
      newValue: alignDecimal(binaryToDecimal(partialBinaryAtChunkSize, chunkSize)),
      watermark: netsimMsg.decimal()
    });
  }

  if (this.isEncodingEnabled_(EncodingType.ASCII)) {
    liveFields.push({
      inputElement: this.ui_[EncodingType.ASCII].message,
      newValue: binaryToAscii(partialBinaryAtChunkSize, chunkSize),
      watermark: netsimMsg.ascii()
    });
  }

  liveFields.forEach(function (field) {
    if (field.watermark && field.newValue === '') {
      field.inputElement.val(field.watermark);
      field.inputElement.addClass('watermark');
    } else {
      field.inputElement.val(field.newValue);
      field.inputElement.removeClass('watermark');
    }
  });
};

/**
 * Update send widget display
 * @param {HTMLElement} [skipElement] - A field to skip while updating,
 *        because we don't want to transform content out from under the
 *        user's cursor.
 * @private
 */
NetSimPacketEditor.prototype.updateFields_ = function (skipElement) {
  var chunkSize = this.currentChunkSize_;
  var liveFields = [];

  var level = NetSimGlobals.getLevelConfig();
  var encoder = new Packet.Encoder(level.addressFormat, level.packetCountBitWidth, this.packetSpec_);

  this.packetSpec_.forEach(function (fieldSpec) {
    /** @type {Packet.HeaderType} */
    var fieldName = fieldSpec;
    /** @type {number} */
    var fieldWidth = encoder.getFieldBitWidth(fieldName);

    var abConverter, binaryConverter, hexConverter, decimalConverter, asciiConverter;
    if (Packet.isAddressField(fieldName)) {
      abConverter = function (addressString) {
        return DataConverters.binaryToAB(DataConverters.addressStringToBinary(addressString, level.addressFormat));
      };
      binaryConverter = function (addressString) {
        return DataConverters.formatBinaryForAddressHeader(DataConverters.addressStringToBinary(addressString, level.addressFormat), level.addressFormat);
      };
      hexConverter = function (addressString) {
        return DataConverters.binaryToHex(DataConverters.addressStringToBinary(addressString, level.addressFormat));
      };
      decimalConverter = cleanAddressString;
      asciiConverter = cleanAddressString;
    } else {
      abConverter = intToAB;
      binaryConverter = intToBinary;
      hexConverter = intToHex;
      decimalConverter = function (val) {
        return val.toString(10);
      };
      asciiConverter = decimalConverter;
    }

    if (this.isEncodingEnabled_(EncodingType.A_AND_B)) {
      liveFields.push({
        inputElement: this.ui_[EncodingType.A_AND_B][fieldName],
        newValue: abConverter(this[fieldName], fieldWidth)
      });
    }

    if (this.isEncodingEnabled_(EncodingType.BINARY)) {
      liveFields.push({
        inputElement: this.ui_[EncodingType.BINARY][fieldName],
        newValue: binaryConverter(this[fieldName], fieldWidth)
      });
    }

    if (this.isEncodingEnabled_(EncodingType.HEXADECIMAL)) {
      liveFields.push({
        inputElement: this.ui_[EncodingType.HEXADECIMAL][fieldName],
        newValue: hexConverter(this[fieldName], Math.ceil(fieldWidth / 4))
      });
    }

    if (this.isEncodingEnabled_(EncodingType.DECIMAL)) {
      liveFields.push({
        inputElement: this.ui_[EncodingType.DECIMAL][fieldName],
        newValue: decimalConverter(this[fieldName], fieldWidth)
      });
    }

    if (this.isEncodingEnabled_(EncodingType.ASCII)) {
      liveFields.push({
        inputElement: this.ui_[EncodingType.ASCII][fieldName],
        newValue: asciiConverter(this[fieldName], fieldWidth)
      });
    }
  }, this);

  if (this.isEncodingEnabled_(EncodingType.A_AND_B)) {
    liveFields.push({
      inputElement: this.ui_[EncodingType.A_AND_B].message,
      newValue: formatAB(binaryToAB(this.message), chunkSize),
      watermark: netsimMsg.a_and_b()
    });
  }

  if (this.isEncodingEnabled_(EncodingType.BINARY)) {
    liveFields.push({
      inputElement: this.ui_[EncodingType.BINARY].message,
      newValue: formatBinary(this.message, chunkSize),
      watermark: netsimMsg.binary()
    });
  }

  if (this.isEncodingEnabled_(EncodingType.HEXADECIMAL)) {
    liveFields.push({
      inputElement: this.ui_[EncodingType.HEXADECIMAL].message,
      newValue: formatHex(binaryToHex(this.message), chunkSize),
      watermark: netsimMsg.hexadecimal()
    });
  }

  if (this.isEncodingEnabled_(EncodingType.DECIMAL)) {
    liveFields.push({
      inputElement: this.ui_[EncodingType.DECIMAL].message,
      newValue: alignDecimal(binaryToDecimal(this.message, chunkSize)),
      watermark: netsimMsg.decimal()
    });
  }

  if (this.isEncodingEnabled_(EncodingType.ASCII)) {
    liveFields.push({
      inputElement: this.ui_[EncodingType.ASCII].message,
      newValue: binaryToAscii(this.message, chunkSize),
      watermark: netsimMsg.ascii()
    });
  }

  liveFields.forEach(function (field) {
    if (field.inputElement[0] !== skipElement) {
      if (field.watermark && field.newValue === '') {
        field.inputElement.val(field.watermark);
        field.inputElement.addClass('watermark');
      } else {
        field.inputElement.val(field.newValue);
        field.inputElement.removeClass('watermark');
      }
    }
  });

  this.updateBitCounter();
  this.contentChangeCallback_();
};

/**
 * If there's only one packet, applies "display: none" to the button so the
 * last packet can't be removed.  Otherwise, clears the CSS property override.
 * @private
 */
NetSimPacketEditor.prototype.updateRemoveButtonVisibility_ = function () {
  this.removePacketButton_.css('display', this.packetCount === 1 ? 'none' : '');
};

/**
 * Produces a single binary string in the current packet format, based
 * on the current state of the widget (content of its internal fields).
 * @returns {string} - binary representation of packet
 * @private
 */
NetSimPacketEditor.prototype.getPacketBinary = function () {
  var level = NetSimGlobals.getLevelConfig();
  var encoder = new Packet.Encoder(level.addressFormat, level.packetCountBitWidth, this.packetSpec_);
  return encoder.concatenateBinary(encoder.makeBinaryHeaders({
    toAddress: this.toAddress,
    fromAddress: this.fromAddress,
    packetIndex: this.packetIndex,
    packetCount: this.packetCount
  }), this.message);
};

/**
 * Sets editor fields from a complete packet binary, according to
 * the configured header specification.
 * @param {string} rawBinary
 */
NetSimPacketEditor.prototype.setPacketBinary = function (rawBinary) {
  var packet = new Packet(this.packetSpec_, rawBinary);

  if (this.specContainsHeader_(Packet.HeaderType.TO_ADDRESS)) {
    this.toAddress = packet.getHeaderAsAddressString(Packet.HeaderType.TO_ADDRESS);
  }

  if (this.specContainsHeader_(Packet.HeaderType.FROM_ADDRESS)) {
    this.fromAddress = packet.getHeaderAsAddressString(Packet.HeaderType.FROM_ADDRESS);
  }

  if (this.specContainsHeader_(Packet.HeaderType.PACKET_INDEX)) {
    this.packetIndex = packet.getHeaderAsInt(Packet.HeaderType.PACKET_INDEX);
  }

  if (this.specContainsHeader_(Packet.HeaderType.PACKET_COUNT)) {
    this.packetCount = packet.getHeaderAsInt(Packet.HeaderType.PACKET_COUNT);
  }

  this.message = packet.getBodyAsBinary();

  // Re-render all encodings
  this.updateFields_();
};

/**
 * @param {Packet.HeaderType} headerKey
 * @returns {boolean}
 * @private
 */
NetSimPacketEditor.prototype.specContainsHeader_ = function (headerKey) {
  return this.packetSpec_.some(function (headerSpec) {
    return headerSpec === headerKey;
  });
};

/**
 * Get just the first bit of the packet binary if it exists, for
 * single-bit sending mode.
 * @returns {string|undefined} a single bit if it exists, as "0" or "1",
 * or undefined if none does.
 */
NetSimPacketEditor.prototype.getFirstBit = function () {
  var binary = this.getPacketBinary();
  return binary.length > 0 ? binary.substr(0, 1) : undefined;
};

/** @param {number} fromAddress */
NetSimPacketEditor.prototype.setFromAddress = function (fromAddress) {
  this.fromAddress = fromAddress;
  this.updateFields_();
};

/** @param {number} packetIndex */
NetSimPacketEditor.prototype.setPacketIndex = function (packetIndex) {
  this.packetIndex = packetIndex;
  this.updateFields_();
};

/** @param {number} packetCount */
NetSimPacketEditor.prototype.setPacketCount = function (packetCount) {
  this.packetCount = packetCount;
  this.updateFields_();
  this.updateRemoveButtonVisibility_();
};

/** @param {number} maxPacketSize */
NetSimPacketEditor.prototype.setMaxPacketSize = function (maxPacketSize) {
  this.maxPacketSize_ = maxPacketSize;
  this.updateBitCounter();
};

/**
 * Show or hide parts of the send UI based on the currently selected encoding
 * mode.
 * @param {EncodingType[]} newEncodings
 */
NetSimPacketEditor.prototype.setEncodings = function (newEncodings) {
  this.enabledEncodingsHash_ = NetSimEncodingControl.encodingsAsHash(newEncodings);
  NetSimEncodingControl.hideRowsByEncoding(this.rootDiv_, newEncodings);
  this.render();
};

/**
 * Helper method that checks this.enabledEncodingsHash_ to see if the given
 * encoding is enabled
 * @param {EncodingType} queryEncoding
 * @returns {boolean} whether or not the given encoding is enabled
 * @private
 */
NetSimPacketEditor.prototype.isEncodingEnabled_ = function (queryEncoding) {
  return this.enabledEncodingsHash_[queryEncoding] === true;
};

/**
 * Change how data is interpreted and formatted by this component, triggering
 * an update of all input fields.
 * @param {number} newChunkSize
 */
NetSimPacketEditor.prototype.setChunkSize = function (newChunkSize) {
  this.currentChunkSize_ = newChunkSize;
  this.updateFields_();
};

/**
 * Change local device bitrate which changes send animation speed.
 * @param {number} newBitRate in bits per second
 */
NetSimPacketEditor.prototype.setBitRate = function (newBitRate) {
  this.bitRate_ = newBitRate;
};

/**
 * Update the visual state of the bit counter to reflect the current
 * message binary length and maximum packet size.
 */
NetSimPacketEditor.prototype.updateBitCounter = function () {
  var size = this.getPacketBinary().length;
  var maxSize = this.maxPacketSize_;
  this.bitCounter_.html(netsimMsg.bitCounter({
    x: size,
    y: maxSize
  }));

  this.bitCounter_.toggleClass('oversized', size > this.maxPacketSize_);
};

/**
 * Handler for the "Remove Packet" button. Calls handler provided by
 * parent, passing self, so that parent can remove this packet.
 * @param {Event} jQueryEvent
 * @private
 */
NetSimPacketEditor.prototype.onRemovePacketButtonClick_ = function (jQueryEvent) {
  var thisButton = $(jQueryEvent.target);
  // We also check parent elements here, because this button uses a font-awesome
  // glyph that can receive the event instead of the actual button.
  if (thisButton.is('[disabled]') || thisButton.parents().is('[disabled]')) {
    return;
  }

  this.removePacketCallback_(this);
};

/**
 * Remove the first bit of the packet binary, used when sending one bit
 * at a time.
 */
NetSimPacketEditor.prototype.consumeFirstBit = function () {
  this.setPacketBinary(this.getPacketBinary().substr(1));
};

},{"../constants":"/home/ubuntu/staging/apps/build/js/constants.js","../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./DataConverters":"/home/ubuntu/staging/apps/build/js/netsim/DataConverters.js","./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimEncodingControl":"/home/ubuntu/staging/apps/build/js/netsim/NetSimEncodingControl.js","./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js","./NetSimLogPanel":"/home/ubuntu/staging/apps/build/js/netsim/NetSimLogPanel.js","./NetSimPacketEditor.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/NetSimPacketEditor.html.ejs","./Packet":"/home/ubuntu/staging/apps/build/js/netsim/Packet.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimPacketEditor.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('');1;
  var i18n = require('./locale');
  var NetSimConstants = require('./NetSimConstants');
  var NetSimUtils = require('./NetSimUtils');
  var Packet = require('./Packet');

  var EncodingType = NetSimConstants.EncodingType;
  var MessageGranularity = NetSimConstants.MessageGranularity;
  var PacketUIColumnType = NetSimConstants.PacketUIColumnType;

  var getEncodingLabel = NetSimUtils.getEncodingLabel;
  var forEachEnumValue = NetSimUtils.forEachEnumValue;

  /**
  * @name enabledEncodingsHash
  * @type {Object}
  */

  function isEncodingEnabled(queryEncoding) {
    return enabledEncodingsHash[queryEncoding] === true;
  }

  /** @type {Packet.HeaderType[]} */
  var headerFields = packetSpec;

  /** @type {boolean} */
  var showToAddress = headerFields.indexOf(Packet.HeaderType.TO_ADDRESS) > -1;

  /** @type {boolean} */
  var showFromAddress = headerFields.indexOf(Packet.HeaderType.FROM_ADDRESS) > -1;

  /** @type {boolean} */
  var showPacketInfo = headerFields.indexOf(Packet.HeaderType.PACKET_INDEX) > -1 &&
      headerFields.indexOf(Packet.HeaderType.PACKET_COUNT) > -1;

  /** @type {boolean} */
  var usePacketGranularity = (messageGranularity === MessageGranularity.PACKETS);

  /**
   * Write the table header to the page, with the appropriate packet-header columns enabled.
   */
  function tableHeader() {
    ; buf.push('\n      <thead>\n        <tr>\n          <th nowrap class="', escape((46,  PacketUIColumnType.ENCODING_LABEL )), '"></th>\n          ');47; if (showToAddress) { ; buf.push('\n          <th nowrap class="', escape((48,  PacketUIColumnType.TO_ADDRESS )), '">', escape((48,  i18n.to() )), '</th>\n          ');49; } ; buf.push('\n          ');50; if (showFromAddress) { ; buf.push('\n          <th nowrap class="', escape((51,  PacketUIColumnType.FROM_ADDRESS )), '">', escape((51,  i18n.from() )), '</th>\n          ');52; } ; buf.push('\n          ');53; if (showPacketInfo) { ; buf.push('\n          <th nowrap class="', escape((54,  PacketUIColumnType.PACKET_INFO )), '">', escape((54,  i18n.packet() )), '</th>\n          ');55; } ; buf.push('\n          <th class="', escape((56,  PacketUIColumnType.MESSAGE )), '">\n            ', escape((57,  i18n.message() )), '\n            <div class="packet-controls">\n              <span class="netsim-button secondary remove-packet-button" title="', escape((59,  i18n.removePacket() )), '"><i class="fa fa-times"></i></span>\n            </div>\n          </th>\n        </tr>\n      </thead>\n    ');64;
  }

  /**
   * Write a table row to the page for the given data encoding.
   * @param {EncodingType} encodingType
   */
  function editorRow(encodingType) {
    ; buf.push('\n      <tr class="', escape((73,  encodingType )), '">\n        <th nowrap class="', escape((74,  PacketUIColumnType.ENCODING_LABEL )), '">', escape((74,  getEncodingLabel(encodingType) )), '</th>\n        ');75; if (showToAddress) { ; buf.push('\n        <td nowrap class="', escape((76,  PacketUIColumnType.TO_ADDRESS )), '"><input type="text" class="', escape((76,  Packet.HeaderType.TO_ADDRESS )), '" /></td>\n        ');77; } ; buf.push('\n        ');78; if (showFromAddress) { ; buf.push('\n        <td nowrap class="', escape((79,  PacketUIColumnType.FROM_ADDRESS )), '"><input type="text" readonly class="', escape((79,  Packet.HeaderType.FROM_ADDRESS )), '" /></td>\n        ');80; } ; buf.push('\n        ');81; if (showPacketInfo) { ; buf.push('\n        <td nowrap class="', escape((82,  PacketUIColumnType.PACKET_INFO )), '"><input type="text" readonly class="', escape((82,  Packet.HeaderType.PACKET_INDEX )), '" />', escape((82,  i18n._of_() )), '<input type="text" readonly class="', escape((82,  Packet.HeaderType.PACKET_COUNT )), '" /></td>\n        ');83; } ; buf.push('\n        <td class="', escape((84,  PacketUIColumnType.MESSAGE )), '"><div><textarea class="message"></textarea></div></td>\n      </tr>\n    ');86;
  }
; buf.push('\n<table>\n  ');90;
    // Only write the header row if we are using packets
    if (usePacketGranularity) {
      tableHeader();
    }
  ; buf.push('\n  <tbody>\n    ');97;
      // Write a body row for every packet encoding; we hide some of them post-render.
      forEachEnumValue(EncodingType, function (encodingType) {
        if (isEncodingEnabled(encodingType)) {
          editorRow(encodingType);
        }
      });
    ; buf.push('\n  </tbody>\n</table>\n\n');108; if (usePacketGranularity) { ; buf.push('\n  <div class="bit-counter"></div>\n');110; } ; buf.push('\n'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimUtils":"/home/ubuntu/staging/apps/build/js/netsim/NetSimUtils.js","./Packet":"/home/ubuntu/staging/apps/build/js/netsim/Packet.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js","ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimMyDeviceTab.js":[function(require,module,exports){
/**
 * @overview UI controller for the "My Device" tab in the left column.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var markup = require('./NetSimMyDeviceTab.html.ejs');
var NetSimBitRateControl = require('./NetSimBitRateControl');
var NetSimPulseRateControl = require('./NetSimPulseRateControl');
var NetSimChunkSizeControl = require('./NetSimChunkSizeControl');
var NetSimEncodingControl = require('./NetSimEncodingControl');
var NetSimMetronome = require('./NetSimMetronome');
var NetSimGlobals = require('./NetSimGlobals');

/**
 * Generator and controller for "My Device" tab.
 * @param {jQuery} rootDiv
 * @param {RunLoop} runLoop
 * @param {Object} callbacks
 * @param {function} callbacks.chunkSizeChangeCallback
 * @param {function} callbacks.bitRateChangeCallback
 * @param {function} callbacks.encodingChangeCallback
 * @constructor
 */
var NetSimMyDeviceTab = module.exports = function (rootDiv, runLoop, callbacks) {
  /**
   * Component root, which we fill whenever we call render()
   * @type {jQuery}
   * @private
   */
  this.rootDiv_ = rootDiv;

  /**
   * @type {RunLoop}
   * @private
   */
  this.runLoop_ = runLoop;

  /**
   * Frequency of metronome pulses, in pulses per second
   * @type {number}
   * @private
   */
  this.bitsPerSecond_ = 1;

  /**
   * @type {function}
   * @private
   */
  this.chunkSizeSliderChangeCallback_ = callbacks.chunkSizeChangeCallback;

  /**
   * @type {function}
   * @private
   */
  this.bitRateChangeCallback_ = callbacks.bitRateChangeCallback;

  /**
   * @type {function}
   * @private
   */
  this.encodingChangeCallback_ = callbacks.encodingChangeCallback;

  /**
   * @type {NetSimMetronome}
   * @private
   */
  this.metronome_ = null;

  /**
   * @type {NetSimPulseRateControl}
   * @private
   */
  this.pulseRateControl_ = null;

  /**
   * @type {NetSimBitRateControl}
   * @private
   */
  this.bitRateControl_ = null;

  /**
   * @type {NetSimChunkSizeControl}
   * @private
   */
  this.chunkSizeControl_ = null;

  /**
   * @type {NetSimEncodingControl}
   * @private
   */
  this.encodingControl_ = null;

  this.render();
};

/**
 * Fill the root div with new elements reflecting the current state
 */
NetSimMyDeviceTab.prototype.render = function () {
  var levelConfig = NetSimGlobals.getLevelConfig();

  var renderedMarkup = $(markup({
    level: levelConfig
  }));
  this.rootDiv_.html(renderedMarkup);

  if (levelConfig.showMetronome) {
    this.metronome_ = new NetSimMetronome(this.rootDiv_.find('.metronome'), this.runLoop_);
    this.metronome_.setFrequency(this.bitsPerSecond_);
  }

  if (levelConfig.showPulseRateSlider) {
    this.pulseRateControl_ = new NetSimPulseRateControl(this.rootDiv_.find('.pulse-rate'), 1 / this.bitsPerSecond_, (function (secondsPerBit) {
      this.bitRateChangeCallback_(1 / secondsPerBit);
    }).bind(this));
  }

  if (levelConfig.showBitRateControl) {
    this.bitRateControl_ = new NetSimBitRateControl(this.rootDiv_.find('.bitrate'), this.bitsPerSecond_, this.bitRateChangeCallback_);
    if (levelConfig.lockBitRateControl) {
      this.bitRateControl_.disable();
    }
  }

  if (levelConfig.showChunkSizeControl) {
    this.chunkSizeControl_ = new NetSimChunkSizeControl(this.rootDiv_.find('.chunk-size'), this.chunkSizeSliderChangeCallback_);
    if (levelConfig.lockChunkSizeControl) {
      this.chunkSizeControl_.disable();
    }
  }

  if (levelConfig.showEncodingControls.length > 0) {
    this.encodingControl_ = new NetSimEncodingControl(this.rootDiv_.find('.encoding'), levelConfig, this.encodingChangeCallback_);
  }
};

/**
 * Handler for changing the position of the pulse-rate slider
 * @param {number} secondsPerPulse in seconds per pulse
 * @private
 */
NetSimMyDeviceTab.prototype.pulseRateSliderChange_ = function (secondsPerPulse) {
  this.setBitRate(1 / secondsPerPulse);
};

/**
 * @param {number} bitsPerSecond
 */
NetSimMyDeviceTab.prototype.setBitRate = function (bitsPerSecond) {
  this.bitsPerSecond_ = bitsPerSecond;

  if (this.metronome_) {
    this.metronome_.setFrequency(bitsPerSecond);
  }

  if (this.bitRateControl_) {
    this.bitRateControl_.setValue(bitsPerSecond);
  }

  if (this.pulseRateControl_ && bitsPerSecond < Infinity) {
    this.pulseRateControl_.setValue(1 / bitsPerSecond);
  }
};

/**
 * Update the slider and its label to display the provided value.
 * @param {number} newChunkSize
 */
NetSimMyDeviceTab.prototype.setChunkSize = function (newChunkSize) {
  if (this.chunkSizeControl_) {
    this.chunkSizeControl_.setValue(newChunkSize);
  }
};

/**
 * @param {EncodingType[]} newEncodings
 */
NetSimMyDeviceTab.prototype.setEncodings = function (newEncodings) {
  if (this.encodingControl_) {
    this.encodingControl_.setEncodings(newEncodings);
  }
};

},{"./NetSimBitRateControl":"/home/ubuntu/staging/apps/build/js/netsim/NetSimBitRateControl.js","./NetSimChunkSizeControl":"/home/ubuntu/staging/apps/build/js/netsim/NetSimChunkSizeControl.js","./NetSimEncodingControl":"/home/ubuntu/staging/apps/build/js/netsim/NetSimEncodingControl.js","./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js","./NetSimMetronome":"/home/ubuntu/staging/apps/build/js/netsim/NetSimMetronome.js","./NetSimMyDeviceTab.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/NetSimMyDeviceTab.html.ejs","./NetSimPulseRateControl":"/home/ubuntu/staging/apps/build/js/netsim/NetSimPulseRateControl.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimPulseRateControl.js":[function(require,module,exports){
/**
 * @overview UI slider for changing the pulse rate (bitrate) of the local device.
 *           Differs from the bitrate slider in its scale and units.
 * @see NetSimBitRateControl
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

// Utils required only for Function.prototype.inherits()
require('../utils');
var i18n = require('./locale');
var NetSimSlider = require('./NetSimSlider');

/**
 * Generator and controller for packet size slider/selector
 * @param {jQuery} rootDiv
 * @param {number} initialValue - in seconds per pulse
 * @param {function} sliderChangeCallback
 * @constructor
 */
var NetSimPulseRateControl = module.exports = function (rootDiv, initialValue, sliderChangeCallback) {
  NetSimSlider.DecimalPrecisionSlider.call(this, rootDiv, {
    onChange: sliderChangeCallback,
    value: initialValue,
    min: 0.5,
    max: 5.0,
    step: -0.25
  });

  // Auto-render, unlike our base class
  this.render();
};
NetSimPulseRateControl.inherits(NetSimSlider.DecimalPrecisionSlider);

/**
 * Converts a numeric rate value (in seconds per pulse) into a
 * localized string representation of that value.
 * @param {number} val - numeric value of the control
 * @returns {string} - localized string representation of value
 * @override
 */
NetSimPulseRateControl.prototype.valueToLabel = function (val) {
  var rounded = Math.floor(val * 100) / 100;
  if (rounded === 1) {
    return i18n.xSecondPerPulse({ x: rounded });
  }
  return i18n.xSecondsPerPulse({ x: rounded });
};

/**
 * Converts a numeric rate value (in seconds per pulse) into a compact
 * localized string representation of that value, used for ends of the slider.
 * @param {number} val - numeric value of the control
 * @returns {string} - localized string representation of value
 * @override
 */
NetSimPulseRateControl.prototype.valueToShortLabel = function (val) {
  return val;
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./NetSimSlider":"/home/ubuntu/staging/apps/build/js/netsim/NetSimSlider.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimMyDeviceTab.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('<div class="netsim-my-device-tab">\n\n  ');3; if (level.showMetronome) { ; buf.push('\n    <div class="metronome"></div>\n  ');5; } ; buf.push('\n\n  ');7; if (level.showPulseRateSlider) { ; buf.push('\n    <h1>Pulse rate</h1>\n    <div class="pulse-rate"></div>\n  ');10; } ; buf.push('\n\n  ');12; if (level.showBitRateControl) { ; buf.push('\n    <h1>Bitrate</h1>\n    <div class="bitrate"></div>\n  ');15; } ; buf.push('\n\n  ');17; if (level.showChunkSizeControl) { ; buf.push('\n    <h1>Chunk size</h1>\n    <div class="chunk-size"></div>\n  ');20; } ; buf.push('\n\n  ');22; if (level.showEncodingControls.length > 0) { ; buf.push('\n    <div class="encoding"></div>\n  ');24; } ; buf.push('\n\n</div>\n'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimMetronome.js":[function(require,module,exports){
/**
 * @overview UI component: An animated SVG metronome.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var markup = require('./NetSimMetronome.html.ejs');

/**
 * An SVG "metronome", in the form of a radial meter that fills and resets
 * at a regular interval.
 *
 * @param {jQuery} rootDiv
 * @param {RunLoop} runLoop
 * @constructor
 */
var NetSimMetronome = module.exports = function (rootDiv, runLoop) {
  /**
   * Component root, which we fill whenever we call render()
   * @type {jQuery}
   * @private
   */
  this.rootDiv_ = rootDiv;

  /**
   * Time of last pulse, in RunLoop simulation time
   * @type {number}
   * @private
   */
  this.lastPulseTime_ = undefined;

  /**
   * Milliseconds between metronome pulses
   * @type {number}
   * @private
   */
  this.pulseIntervalMillis_ = 0;

  /**
   * Normalized progress toward the next pulse, from 0.0 to 1.0
   * @type {number}
   * @private
   */
  this.progress_ = 0;

  /**
   * How long it's been since the last pulse in ms
   * @type {number}
   * @private
   */
  this.pulseAge_ = 0;

  // Register with run loop
  runLoop.render.register(this.render.bind(this));
};

/**
 * Fill the root div with new elements reflecting the current state
 * @param {RunLoop.Clock} clock
 */
NetSimMetronome.prototype.render = function (clock) {
  if (!this.lastPulseTime_) {
    this.lastPulseTime_ = clock.time;
  }

  // An infinite interval means we're effectively paused, so snap to zero
  // progress (visualized as an "empty" meter)
  if (this.pulseIntervalMillis_ === Infinity) {
    this.progress_ = 0;
    this.pulseAge_ = Infinity;
  } else {
    // For a non-infinite interval, update the meter progress value according
    // to the current time.
    this.pulseAge_ = clock.time - this.lastPulseTime_;
    this.progress_ = Math.min(this.pulseAge_ / this.pulseIntervalMillis_, 1);

    if (this.pulseAge_ >= this.pulseIntervalMillis_) {
      // Pulse
      var minimumLastPulseTime = clock.time - this.pulseIntervalMillis_;
      while (this.lastPulseTime_ < minimumLastPulseTime) {
        this.lastPulseTime_ += this.pulseIntervalMillis_;
      }
    }
  }

  var renderedMarkup = $(markup({
    progress: this.progress_,
    pulseAge: this.pulseAge_
  }));
  this.rootDiv_.html(renderedMarkup);
};

/**
 * Change the metronome speed
 * @param {number} pulsesPerSecond
 */
NetSimMetronome.prototype.setFrequency = function (pulsesPerSecond) {
  if (pulsesPerSecond === 0 || pulsesPerSecond === Infinity) {
    this.pulseIntervalMillis_ = Infinity;
    return;
  }
  this.pulseIntervalMillis_ = 1000 / pulsesPerSecond;
};

},{"./NetSimMetronome.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/NetSimMetronome.html.ejs"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimMetronome.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('');1;
  function moveCommand(x, y) {
    return 'M' + x + ' ' + y;
  }

  function lineCommand(x, y) {
    return 'L ' + x + ' ' + y;
  }

  function arcCommand(rX, rY, rot, largeArcFlag, sweepFlag, finalX, finalY) {
    return 'A ' + rX + ' ' + rY + ', ' + rot + ', ' + largeArcFlag + ', ' + sweepFlag + ', ' + finalX + ' ' + finalY;
  }

  function closeShapeCommand() {
    return 'Z';
  }

  /**
   * Outer radius of progress meter
   * @type {number}
   * @const
   */
  var OUTER_RADUS = 45;

  /**
   * Inner radius of progress meter, and maximum radius of pulse dot
   * @type {number}
   * @const
   */
  var INNER_RADIUS = 30;

  /**
   * How long (in ms) it takes the pulse circle to shrink back to nothing after it appears
   * @type {number}
   * @const
   */
  var PULSE_FALLOFF_MS = 500;

  /**
   * Radius of the inner pulse dot, based on the pulse age.  Starts full size, then shrinks
   * to r=0 over PULSE_FALLOFF_MS.
   * @type {number}
   */
  var pulseFalloffNormalizedProgress = Math.min(pulseAge/ PULSE_FALLOFF_MS, 1);
  var pulseDotRadius = INNER_RADIUS * (1 - pulseFalloffNormalizedProgress);


  /**
   * Given a certain percentage (as a value in the range [0.0-1.0]) this
   * generates a data string for a "path" svg object that draws a partially-filled arc
   * sweeping the appropriate percentage of a circle.
   * Progress begins its sweep at "east" and proceeds clockwise.
   * @param {number} normalizedProgress - number from 0.0 to 1.0
   * @returns {string} data string of commands for SVG path
   */
  function progressMeterSvgPathData(normalizedProgress) {
    var terminalRadians = 2 * Math.PI * normalizedProgress
    var largeArc = (normalizedProgress >= 0.5) ? 1 : 0;
    var sinAngle = Math.sin(terminalRadians);
    var cosAngle = Math.cos(terminalRadians);
    var outerTerminalX = OUTER_RADUS * cosAngle;
    var outerTerminalY = OUTER_RADUS * sinAngle;
    var innerTerminalX = INNER_RADIUS * cosAngle;
    var innerTerminalY = INNER_RADIUS * sinAngle;
    return [
      moveCommand(OUTER_RADUS, 0),
      arcCommand(OUTER_RADUS, OUTER_RADUS, 0, largeArc, 1, outerTerminalX, outerTerminalY),
      lineCommand(innerTerminalX, innerTerminalY),
      arcCommand(INNER_RADIUS, INNER_RADIUS, 0, largeArc, 0, INNER_RADIUS, 0),
      closeShapeCommand()
    ].join(' ');
  }
; buf.push('\n<div class="netsim-metronome">\n  <svg version="1.1" width="100" height="100" xmlns="http://www.w3.org/2000/svg">\n    <g id="centered-group" transform="translate(50,50)">\n      <circle r="48" cx="0" cy="0" fill="darkgray"></circle>\n      <circle r="48" cx="-1" cy="1" fill="lightgray"></circle>\n      <circle r="46" cx="0" cy="0" fill="#f5f5f5"></circle>\n      <circle class="pulse-dot" r="', escape((80,  pulseDotRadius )), '" cx="0" cy="0"></circle>\n      <g transform="rotate(-90)">\n        <path class="progress-meter" d="', escape((82,  progressMeterSvgPathData(progress) )), '"></path>\n      </g>\n    </g>\n  </svg>\n</div>\n'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimMemoryControl.js":[function(require,module,exports){
/**
 * @overview UI slider used to control router memory size.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

require('../utils');
var NetSimConstants = require('./NetSimConstants');
var NetSimUtils = require('./NetSimUtils');
var NetSimSlider = require('./NetSimSlider');

/**
 * Generator and controller for packet size slider/selector
 * @param {jQuery} rootDiv
 * @param {function} sliderChangeCallback
 * @param {function} sliderStopCallback
 * @constructor
 */
var NetSimMemoryControl = module.exports = function (rootDiv, sliderChangeCallback, sliderStopCallback) {
  NetSimSlider.LogarithmicSlider.call(this, rootDiv, {
    onChange: sliderChangeCallback,
    onStop: sliderStopCallback,
    value: Infinity,
    min: NetSimConstants.BITS_PER_BYTE,
    max: NetSimConstants.BITS_PER_MEGABYTE,
    upperBoundInfinite: true
  });

  // Auto-render, unlike our base class
  this.render();
};
NetSimMemoryControl.inherits(NetSimSlider.LogarithmicSlider);

/**
 * Converts a numeric memory value (in bits) into a compact localized string
 * representation of that value.
 * @param {number} val - numeric value of the control
 * @returns {string} - localized string representation of value
 * @override
 */
NetSimMemoryControl.prototype.valueToLabel = function (val) {
  return NetSimUtils.bitsToLocalizedRoundedBytesize(val);
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimSlider":"/home/ubuntu/staging/apps/build/js/netsim/NetSimSlider.js","./NetSimUtils":"/home/ubuntu/staging/apps/build/js/netsim/NetSimUtils.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimLogPanel.js":[function(require,module,exports){
/**
 * @overview UI component, a log panel (used as "Sent Packets" and
 *           "Received Packets") that is used in the packet-sending
 *           configurations of the simulator.
 *
 * @see INetSimLogPanel for the interface implemented here.
 * @see NetSimBitLogPanel for the component used in bit-sending mode.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var utils = require('../utils');
var i18n = require('./locale');
var markup = require('./NetSimLogPanel.html.ejs');
var Packet = require('./Packet');
var packetMarkup = require('./NetSimLogPacket.html.ejs');
var NetSimPanel = require('./NetSimPanel');
var NetSimEncodingControl = require('./NetSimEncodingControl');
var NetSimGlobals = require('./NetSimGlobals');

/**
 * How long the "entrance" animation for new messages lasts, in milliseconds.
 * @type {number}
 * @const
 */
var MESSAGE_SLIDE_IN_DURATION_MS = 400;

/**
 * How many packets the log may keep in its history (and in the DOM!)
 * @type {number}
 * @const
 */
var DEFAULT_MAXIMUM_LOG_PACKETS = 50;

/**
 * Object that can be sent data to be browsed by the user at their discretion
 * @interface
 * @name INetSimLogPanel
 */

/**
 * Put data into the log
 * @function
 * @name INetSimLogPanel#log
 * @param {string} binary
 */

/**
 * Show or hide parts of the log based on the currently selected encoding mode.
 * @function
 * @name INetSimLogPanel#setEncodings
 * @param {EncodingType[]} newEncodings
 */

/**
 * Change how binary input in interpreted and formatted in the log.
 * @function
 * @name INetSimLogPanel#setChunkSize
 * @param {number} newChunkSize
 */

/**
 * @function
 * @name INetSimLogPanel#getHeight
 * @returns {number} vertical space that panel currently consumes (including
 *          margins) in pixels.
 */

/**
 * Sets the vertical space that this log panel should consume (including margins)
 * @function
 * @name INetSimLogPanel#setHeight
 * @param {number} heightPixels
 */

/**
 * Generator and controller for message log.
 * @param {jQuery} rootDiv
 * @param {Object} options
 * @param {string} options.logTitle
 * @param {boolean} [options.isMinimized] defaults to FALSE
 * @param {boolean} [options.hasUnreadMessages] defaults to FALSE
 * @param {Packet.HeaderType[]} options.packetSpec
 * @param {number} [options.maximumLogPackets] How many packets the log will
 *        keep before it starts dropping the oldest ones.  Defaults to
 *        DEFAULT_MAXIMUM_LOG_PACKETS.
 * @constructor
 * @augments NetSimPanel
 * @implements INetSimLogPanel
 */
var NetSimLogPanel = module.exports = function (rootDiv, options) {
  /**
   * @type {Packet.HeaderType[]}
   * @private
   */
  this.packetSpec_ = options.packetSpec;

  /**
   * List of controllers for currently displayed packets.
   * @type {Array.<NetSimLogPacket>}
   * @private
   */
  this.packets_ = [];

  /**
   * A message encoding (display) setting.
   * @type {string}
   * @private
   */
  this.currentEncodings_ = [];

  /**
   * Current chunk size (bytesize) for interpreting binary in the log.
   * @type {number}
   * @private
   */
  this.currentChunkSize_ = 8;

  /**
   * Localized panel title
   * @type {string}
   * @private
   */
  this.logTitle_ = options.logTitle;

  /**
   * Whether newly logged messages in this log should be marked as unread
   * @type {boolean}
   * @private
   */
  this.hasUnreadMessages_ = !!options.hasUnreadMessages;

  /**
   * The maximum number of packets this log panel will keep in its memory
   * and in the DOM, so we don't have a forever-growing log.
   * @type {number}
   * @private,,
   */
  this.maximumLogPackets_ = utils.valueOr(options.maximumLogPackets, DEFAULT_MAXIMUM_LOG_PACKETS);

  // Initial render
  NetSimPanel.call(this, rootDiv, {
    className: 'netsim-log-panel',
    panelTitle: options.logTitle,
    beginMinimized: options.isMinimized
  });
};
NetSimLogPanel.inherits(NetSimPanel);

NetSimLogPanel.prototype.render = function () {
  // Create boilerplate panel markup
  NetSimLogPanel.superPrototype.render.call(this);

  // Add our own content markup
  var newMarkup = $(markup({}));
  this.getBody().html(newMarkup);

  // Add a clear button to the panel header
  this.addButton(i18n.clear(), this.onClearButtonPress_.bind(this));

  // Bind reference to scrollArea for use when logging.
  this.scrollArea_ = this.getBody().find('.scroll-area');

  this.updateUnreadCount();
};

/**
 * Remove all packets from the log, resetting its state.
 * @private
 */
NetSimLogPanel.prototype.onClearButtonPress_ = function () {
  this.scrollArea_.empty();
  this.packets_.length = 0;

  this.updateUnreadCount();
};

/**
 * Put a message into the log.
 * @param {string} packetBinary
 * @param {number} packetID
 */
NetSimLogPanel.prototype.log = function (packetBinary, packetID) {

  var packetAlreadyInLog = this.packets_.some(function (packet) {
    return packet.packetID === packetID;
  });

  if (packetAlreadyInLog) {
    return;
  }

  // Remove all packets that are beyond our maximum size
  this.packets_.splice(this.maximumLogPackets_ - 1, this.packets_.length).forEach(function (packet) {
    packet.getRoot().remove();
  });

  var newPacket = new NetSimLogPacket(packetBinary, packetID, {
    packetSpec: this.packetSpec_,
    encodings: this.currentEncodings_,
    chunkSize: this.currentChunkSize_,
    isUnread: this.hasUnreadMessages_,
    markAsReadCallback: this.updateUnreadCount.bind(this)
  });

  newPacket.getRoot().prependTo(this.scrollArea_);

  var scrollTop = this.scrollArea_.scrollTop();

  if (scrollTop === 0) {
    // If scrolled to the top, animate a pretty slidedown
    newPacket.getRoot().hide();
    newPacket.getRoot().slideDown(MESSAGE_SLIDE_IN_DURATION_MS);
  } else {
    // If we're somewhere in the middle of the messages, scroll "down"
    // to maintain our place relative to the messages we're looking at

    // Scrolling only takes the bottom margin into account, not top
    var packetHeight = newPacket.getRoot().outerHeight() + parseInt(newPacket.getRoot().css('marginBottom'));

    this.scrollArea_.scrollTop(scrollTop + packetHeight);
  }

  this.packets_.unshift(newPacket);

  this.updateUnreadCount();
};

NetSimLogPanel.prototype.updateUnreadCount = function () {
  var unreadCount = this.packets_.reduce(function (prev, cur) {
    return prev + (cur.isUnread ? 1 : 0);
  }, 0);

  if (unreadCount > 0) {
    this.setPanelTitle(i18n.appendCountToTitle({
      title: this.logTitle_,
      count: unreadCount
    }));
  } else {
    this.setPanelTitle(this.logTitle_);
  }
};

/**
 * Show or hide parts of the send UI based on the currently selected encoding
 * mode.
 * @param {EncodingType[]} newEncodings
 */
NetSimLogPanel.prototype.setEncodings = function (newEncodings) {
  this.currentEncodings_ = newEncodings;
  this.packets_.forEach(function (packet) {
    packet.setEncodings(newEncodings);
  });
};

/**
 * Change how binary input in interpreted and formatted in the log.
 * @param {number} newChunkSize
 */
NetSimLogPanel.prototype.setChunkSize = function (newChunkSize) {
  this.currentChunkSize_ = newChunkSize;
  this.packets_.forEach(function (packet) {
    packet.setChunkSize(newChunkSize);
  });
};

/**
 * A component/controller for display of an individual packet in the log.
 * @param {string} packetBinary - raw packet data
 * @param {Object} options
 * @param {Packet.HeaderType[]} options.packetSpec
 * @param {EncodingType[]} options.encodings - which display style to use initially
 * @param {number} options.chunkSize - (or bytesize) to use when interpreting and
 *        formatting the data.
 * @param {boolean} options.isUnread - whether this packet should be styled
 *        as "unread" and have a "mark as read" button
 * @param {function} options.markAsReadCallback
 * @constructor
 */
var NetSimLogPacket = function NetSimLogPacket(packetBinary, packetID, options) {

  /**
   * @type {number}
   */
  this.packetID = packetID;

  /**
   * @type {string}
   * @private
   */
  this.packetBinary_ = packetBinary;

  /**
   * @type {Packet.HeaderType[]}
   * @private
   */
  this.packetSpec_ = options.packetSpec;

  /**
   * @type {EncodingType[]}
   * @private
   */
  this.encodings_ = options.encodings;

  /**
   * @type {number}
   * @private
   */
  this.chunkSize_ = options.chunkSize;

  /**
   * @type {boolean}
   */
  this.isUnread = options.isUnread;

  /**
   * @type {boolean}
   */
  this.isMinimized = false;

  /**
   * @type {function}
   * @private
   */
  this.markAsReadCallback_ = options.markAsReadCallback;

  /**
   * Wrapper div that we create once, and fill repeatedly with render()
   * @type {jQuery}
   * @private
   */
  this.rootDiv_ = $('<div>').addClass('packet');
  this.rootDiv_.click(this.markAsRead.bind(this));

  // Initial content population
  this.render();
};

/**
 * Re-render div contents to represent the packet in a different way.
 */
NetSimLogPacket.prototype.render = function () {
  var encodingsHash = NetSimEncodingControl.encodingsAsHash(this.encodings_);
  var rawMarkup = packetMarkup({
    packetBinary: this.packetBinary_,
    packetSpec: this.packetSpec_,
    enabledEncodingsHash: encodingsHash,
    chunkSize: this.chunkSize_,
    isMinimized: this.isMinimized
  });
  var jQueryWrap = $(rawMarkup);
  NetSimLogPanel.adjustHeaderColumnWidths(jQueryWrap);
  NetSimEncodingControl.hideRowsByEncoding(jQueryWrap, this.encodings_);
  this.rootDiv_.html(jQueryWrap);
  this.rootDiv_.find('.expander').click(this.toggleMinimized.bind(this));
  this.rootDiv_.toggleClass('unread', this.isUnread);
};

/**
 * Return root div, for hooking up to a parent element.
 * @returns {jQuery}
 */
NetSimLogPacket.prototype.getRoot = function () {
  return this.rootDiv_;
};

/**
 * Beneath the given root element, adjust widths of packet header columns
 * and fields to match the level's configured packet format.
 * @param {jQuery} rootElement
 */
NetSimLogPanel.adjustHeaderColumnWidths = function (rootElement) {
  var level = NetSimGlobals.getLevelConfig();
  var encoder = new Packet.Encoder(level.addressFormat, level.packetCountBitWidth, level.clientInitialPacketHeader);
  var addressBitWidth = encoder.getFieldBitWidth(Packet.HeaderType.TO_ADDRESS);
  var packetInfoBitWidth = encoder.getFieldBitWidth(Packet.HeaderType.PACKET_COUNT);

  // Adjust width of address columns
  // For columns, 50px is sufficient for 4 bits
  var PX_PER_BIT = 50 / 4;
  var addressColumnWidthInPx = PX_PER_BIT * addressBitWidth;

  // Adjust width of address columns
  rootElement.find('td.toAddress, th.toAddress, td.fromAddress, th.fromAddress').css('width', addressColumnWidthInPx + 'px');

  // Adjust width of address input fields
  // For inputs, 3em is sufficient for 4 bits
  var EMS_PER_BIT = 3 / 4;
  var addressFieldWidthInEms = EMS_PER_BIT * addressBitWidth;
  rootElement.find('td.toAddress input, td.fromAddress input').css('width', addressFieldWidthInEms + 'em');

  // Adjust width of packet info column
  // Packet info column uses two fields and an extra 21px for " of "
  var packetInfoColumnWidthInPx = 2 * PX_PER_BIT * packetInfoBitWidth + 21;
  rootElement.find('td.packetInfo, th.packetInfo').css('width', packetInfoColumnWidthInPx + 'px');

  // Adjust width of packet info fields
  var packetInfoFieldWidthInEms = EMS_PER_BIT * packetInfoBitWidth;
  rootElement.find('td.packetInfo input').css('width', packetInfoFieldWidthInEms + 'em');
};

/**
 * Change encoding-display setting and re-render packet contents accordingly.
 * @param {EncodingType[]} newEncodings
 */
NetSimLogPacket.prototype.setEncodings = function (newEncodings) {
  this.encodings_ = newEncodings;
  this.render();
};

/**
 * Change chunk size for interpreting data and re-render packet contents
 * accordingly.
 * @param {number} newChunkSize
 */
NetSimLogPacket.prototype.setChunkSize = function (newChunkSize) {
  this.chunkSize_ = newChunkSize;
  this.render();
};

/**
 * Mark the packet as read, changing its style and removing the "mark as read"
 * button.
 */
NetSimLogPacket.prototype.markAsRead = function () {
  if (this.isUnread) {
    this.isUnread = false;
    this.render();
    this.markAsReadCallback_();
  }
};

NetSimLogPacket.prototype.toggleMinimized = function () {
  this.isMinimized = !this.isMinimized;
  this.render();
};

/**
 * Sets the vertical space that this log panel should consume (including margins)
 * @param {number} heightPixels
 */
NetSimLogPanel.prototype.setHeight = function (heightPixels) {
  var root = this.getRoot().find('.netsim-panel');
  var panelHeader = root.find('h1');
  var panelBody = root.find('.panel-body');

  var panelMargins = parseFloat(root.css('margin-top')) + parseFloat(root.css('margin-bottom'));
  var headerHeight = panelHeader.outerHeight(true);
  var panelBorders = parseFloat(panelBody.css('border-top-width')) + parseFloat(panelBody.css('border-bottom-width'));
  var scrollMargins = parseFloat(this.scrollArea_.css('margin-top')) + parseFloat(this.scrollArea_.css('margin-bottom'));

  // We set the panel height by fixing the size of its inner scrollable
  // area.
  var newScrollViewportHeight = heightPixels - (panelMargins + headerHeight + panelBorders + scrollMargins);
  this.scrollArea_.height(Math.floor(newScrollViewportHeight));
};

/**
 * @returns {number} vertical space that panel currently consumes (including
 *          margins) in pixels.
 */
NetSimLogPanel.prototype.getHeight = function () {
  return this.getRoot().find('.netsim-panel').outerHeight(true);
};

/**
 * After toggling panel visibility, trigger a layout update so send/log panel
 * space is shared correctly.
 * @private
 * @override
 */
NetSimLogPanel.prototype.onMinimizerClick_ = function () {
  NetSimLogPanel.superPrototype.onMinimizerClick_.call(this);
  NetSimGlobals.updateLayout();
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./NetSimEncodingControl":"/home/ubuntu/staging/apps/build/js/netsim/NetSimEncodingControl.js","./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js","./NetSimLogPacket.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/NetSimLogPacket.html.ejs","./NetSimLogPanel.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/NetSimLogPanel.html.ejs","./NetSimPanel":"/home/ubuntu/staging/apps/build/js/netsim/NetSimPanel.js","./Packet":"/home/ubuntu/staging/apps/build/js/netsim/Packet.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimLogPanel.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('<div class="scroll-area">\n</div>\n'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimLogPacket.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('');1;
  var NetSimConstants = require('./NetSimConstants');
  var NetSimGlobals = require('./NetSimGlobals');
  var DataConverters = require('./DataConverters');
  var i18n = require('./locale');
  var getEncodingLabel = require('./NetSimUtils').getEncodingLabel;
  var Packet = require('./Packet');

  var level = NetSimGlobals.getLevelConfig();

  var EncodingType = NetSimConstants.EncodingType;
  var PacketUIColumnType = NetSimConstants.PacketUIColumnType;

  var formatAB = DataConverters.formatAB;
  var formatBinary = DataConverters.formatBinary;
  var formatHex = DataConverters.formatHex;
  var alignDecimal = DataConverters.alignDecimal;
  var binaryToAB = DataConverters.binaryToAB;
  var binaryToInt = DataConverters.binaryToInt;
  var binaryToHex = DataConverters.binaryToHex;
  var binaryToDecimal = DataConverters.binaryToDecimal;
  var binaryToAscii = DataConverters.binaryToAscii;
  var binaryToAddressString = function (binaryString) {
    return DataConverters.binaryToAddressString(binaryString, level.addressFormat);
  };
  var formatBinaryForAddressHeader = function (binaryString) {
    return DataConverters.formatBinaryForAddressHeader(binaryString, level.addressFormat);
  };

  /** @type {Packet} */
  var packet = new Packet(packetSpec, packetBinary);

  /** @type {Packet.HeaderType[]} */
  var headerFields = packetSpec;

  var showToAddress = headerFields.indexOf(Packet.HeaderType.TO_ADDRESS) > -1;
  var showFromAddress = headerFields.indexOf(Packet.HeaderType.FROM_ADDRESS) > -1;
  var showPacketInfo = headerFields.indexOf(Packet.HeaderType.PACKET_INDEX) > -1 &&
      headerFields.indexOf(Packet.HeaderType.PACKET_COUNT) > -1;

  /**
  * @name enabledEncodingsHash
  * @type {Object}
  */

  function isEncodingEnabled(queryEncoding) {
    return enabledEncodingsHash[queryEncoding] === true;
  }

  /**
   * Packet one-line summary should only use the highest-level enabled encoding.
   */
  function getOneLinePacketSummary() {
    var messageBinary = packet.getBodyAsBinary();
    if (isEncodingEnabled(EncodingType.ASCII)) {
      return binaryToAscii(messageBinary, chunkSize);
    } else if (isEncodingEnabled(EncodingType.DECIMAL)) {
      return alignDecimal(binaryToDecimal(messageBinary, chunkSize));
    } else if (isEncodingEnabled(EncodingType.HEXADECIMAL)) {
      return formatHex(binaryToHex(messageBinary), chunkSize);
    } else if (isEncodingEnabled(EncodingType.BINARY)) {
      return formatBinary(messageBinary, chunkSize);
    } else if (isEncodingEnabled(EncodingType.A_AND_B)) {
      return formatAB(binaryToAB(messageBinary), chunkSize);
    }
    return messageBinary;
  }

  /**
   * @param {EncodingType} encodingType
   * @param {string} toAddress
   * @param {string} fromAddress
   * @param {string} packetInfo
   * @param {string} message
   */
  function logRowIfEncodingEnabled(encodingType, toAddress, fromAddress, packetInfo, message) {
    if (isEncodingEnabled(encodingType)) {
      ; buf.push('\n        <tr class="', escape((79,  encodingType )), '">\n          <th nowrap class="', escape((80,  PacketUIColumnType.ENCODING_LABEL )), '">', escape((80,  getEncodingLabel(encodingType) )), '</th>\n          ');81; if (showToAddress) { ; buf.push('\n            <td nowrap class="', escape((82,  PacketUIColumnType.TO_ADDRESS )), '">', escape((82,  toAddress )), '</td>\n          ');83; } ; buf.push('\n          ');84; if (showFromAddress) { ; buf.push('\n            <td nowrap class="', escape((85,  PacketUIColumnType.FROM_ADDRESS )), '">', escape((85,  fromAddress )), '</td>\n          ');86; } ; buf.push('\n          ');87; if (showPacketInfo) { ; buf.push('\n            <td nowrap class="', escape((88,  PacketUIColumnType.PACKET_INFO )), '">', escape((88,  packetInfo )), '</td>\n          ');89; } ; buf.push('\n          <td class="', escape((90,  PacketUIColumnType.MESSAGE )), '">', escape((90,  message )), '</td>\n        </tr>\n    ');92;
    }
  }
 ; buf.push('\n  ');96;
    var toAddress = showToAddress ? packet.getHeaderAsBinary(Packet.HeaderType.TO_ADDRESS) : '';
    var fromAddress = showFromAddress ? packet.getHeaderAsBinary(Packet.HeaderType.FROM_ADDRESS) : '';
    var packetIndex = showPacketInfo ? packet.getHeaderAsBinary(Packet.HeaderType.PACKET_INDEX) : '';
    var packetCount = showPacketInfo ? packet.getHeaderAsBinary(Packet.HeaderType.PACKET_COUNT) : '';
    var message = packet.getBodyAsBinary();
  ; buf.push('\n  ');103; if (isMinimized) { ; buf.push('\n      <div class="minimized-packet single-line-with-ellipsis user-data">\n        <i class="fa fa-plus-square expander"></i>\n        ', escape((106,  getOneLinePacketSummary() )), '\n      </div>\n  ');108; } else { ; buf.push('\n    <table class="maximized-packet">\n      <thead>\n        <tr>\n          <th nowrap class="', escape((112,  PacketUIColumnType.ENCODING_LABEL )), '">\n            <i class="fa fa-minus-square expander"></i>\n          </th>\n          ');115; if (showToAddress) { ; buf.push('\n            <th nowrap class="', escape((116,  PacketUIColumnType.TO_ADDRESS )), '">', escape((116,  i18n.to() )), '</th>\n          ');117; } ; buf.push('\n          ');118; if (showFromAddress) { ; buf.push('\n            <th nowrap class="', escape((119,  PacketUIColumnType.FROM_ADDRESS )), '">', escape((119,  i18n.from() )), '</th>\n          ');120; } ; buf.push('\n          ');121; if (showPacketInfo) { ; buf.push('\n            <th nowrap class="', escape((122,  PacketUIColumnType.PACKET_INFO )), '">', escape((122,  i18n.packet() )), '</th>\n          ');123; } ; buf.push('\n          <th class="', escape((124,  PacketUIColumnType.MESSAGE )), '">\n            ', escape((125,  i18n.message() )), '\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n      ');130;
        logRowIfEncodingEnabled(EncodingType.ASCII,
            binaryToAddressString(toAddress),
            binaryToAddressString(fromAddress),
            i18n.xOfYPackets({
              x: binaryToInt(packetIndex),
              y: binaryToInt(packetCount)
            }),
            binaryToAscii(message, chunkSize));

        logRowIfEncodingEnabled(EncodingType.DECIMAL,
            binaryToAddressString(toAddress),
            binaryToAddressString(fromAddress),
            i18n.xOfYPackets({
              x: binaryToInt(packetIndex),
              y: binaryToInt(packetCount)
            }),
            alignDecimal(binaryToDecimal(message, chunkSize)));

        logRowIfEncodingEnabled(EncodingType.HEXADECIMAL,
            binaryToHex(toAddress),
            binaryToHex(fromAddress),
            i18n.xOfYPackets({
              x: binaryToHex(packetIndex),
              y: binaryToHex(packetCount)
            }),
            formatHex(binaryToHex(message), chunkSize));

        logRowIfEncodingEnabled(EncodingType.BINARY,
            formatBinaryForAddressHeader(toAddress, 4),
            formatBinaryForAddressHeader(fromAddress, 4),
            formatBinary(packetIndex + packetCount, level.packetCountBitWidth),
            formatBinary(message, chunkSize));

        logRowIfEncodingEnabled(EncodingType.A_AND_B,
            binaryToAB(toAddress),
            binaryToAB(fromAddress),
            formatAB(binaryToAB(packetIndex + packetCount), level.packetCountBitWidth),
            formatAB(binaryToAB(message), chunkSize));
       ; buf.push('\n      </tbody>\n    </table>\n  ');172; } ; buf.push('\n'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"./DataConverters":"/home/ubuntu/staging/apps/build/js/netsim/DataConverters.js","./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js","./NetSimUtils":"/home/ubuntu/staging/apps/build/js/netsim/NetSimUtils.js","./Packet":"/home/ubuntu/staging/apps/build/js/netsim/Packet.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js","ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimLocalClientNode.js":[function(require,module,exports){
/**
 * @overview Simulation entity controller reserved for the local client's
 *           simulation node.
 * @see NetSimClientNode for the controller used for other client nodes
 *      in the simulation.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var utils = require('../utils');
var _ = utils.getLodash();
var i18n = require('./locale');
var NetSimClientNode = require('./NetSimClientNode');
var NetSimEntity = require('./NetSimEntity');
var NetSimAlert = require('./NetSimAlert');
var NetSimMessage = require('./NetSimMessage');
var NetSimLogger = require('./NetSimLogger');
var NetSimRouterNode = require('./NetSimRouterNode');
var ObservableEvent = require('../ObservableEvent');

var logger = NetSimLogger.getSingleton();
var NetSimConstants = require('./NetSimConstants');
var NetSimGlobals = require('./NetSimGlobals');

var MessageGranularity = NetSimConstants.MessageGranularity;

/**
 * Client model of node being simulated on the local client.
 *
 * Provides special access for manipulating the locally-owned client node in
 * ways that you aren't allowed to manipulate other client nodes.
 *
 * @param {!NetSimShard} shard
 * @param {Object} [clientRow] - Lobby row for this router.
 * @constructor
 * @augments NetSimClientNode
 */
var NetSimLocalClientNode = module.exports = function (shard, clientRow) {
  NetSimClientNode.call(this, shard, clientRow);

  // TODO (bbuchanan): Consider:
  //      Do we benefit from inheritance here?  Would it be cleaner to make this
  //      not-an-entity that manipulates a stock NetSimClientNode?  Will another
  //      developer find it easy to understand how this class works?

  /**
   * Client nodes can be connected to other clients.
   * @type {NetSimClientNode}
   */
  this.myRemoteClient = null;

  /**
   * ID of the router this client node is connected to.  Undefined if
   * not connected to a router.
   * @type {number|undefined}
   * @private
   */
  this.myRouterID_ = undefined;

  /**
   * Set of router controllers enabled for simulation by this node.
   * @type {NetSimRouterNode[]}
   * @private
   */
  this.routers_ = [];

  /**
   * Widget where we will post sent messages.
   * @type {NetSimLogPanel}
   * @private
   */
  this.sentLog_ = null;

  /**
   * Widget where we will post received messages
   * @type {NetSimLogPanel}
   * @private
   */
  this.receivedLog_ = null;

  /**
   * Change event others can observe, which we will fire when we
   * connect or disconnect from a router or remote client
   * @type {ObservableEvent}
   */
  this.remoteChange = new ObservableEvent();

  /**
   * Callback for when something indicates that this node has been
   * disconnected from the instance.
   * @type {function}
   * @private
   */
  this.onNodeLostConnection_ = function () {};

  /**
   * Event registration information
   * @type {Object}
   */
  this.eventKeys = {};
};
NetSimLocalClientNode.inherits(NetSimClientNode);

/**
 * Static async creation method. See NetSimEntity.create().
 * @param {!NetSimShard} shard
 * @param {string} displayName
 * @param {!NodeStyleCallback} onComplete - Method that will be given the
 *        created entity, or null if entity creation failed.
 */
NetSimLocalClientNode.create = function (shard, displayName, onComplete) {
  // TODO (bbuchanan): Modify and return the template node instead of
  // making two in this method.
  var templateNode = new NetSimLocalClientNode(shard);
  templateNode.displayName_ = displayName;
  templateNode.getTable().create(templateNode.buildRow(), function (err, row) {
    if (err) {
      onComplete(err, null);
      return;
    }

    var newNode = new NetSimLocalClientNode(shard, row);
    onComplete(null, newNode);
  });
};

/** Set node's display name.  Does not trigger an update! */
NetSimLocalClientNode.prototype.setDisplayName = function (displayName) {
  this.displayName_ = displayName;
};

/**
 * Configure this node controller to actively simulate, and to post sent and
 * received messages to the given log widgets.
 * @param {!NetSimLogPanel} sentLog
 * @param {!NetSimLogPanel} receivedLog
 */
NetSimLocalClientNode.prototype.initializeSimulation = function (sentLog, receivedLog) {
  this.sentLog_ = sentLog;
  this.receivedLog_ = receivedLog;

  // Subscribe to table changes
  this.eventKeys.nodeTable = this.shard_.nodeTable.tableChange.register(this.onNodeTableChange_.bind(this));
  this.eventKeys.wireTable = this.shard_.wireTable.tableChange.register(this.onWireTableChange_.bind(this));
  this.eventKeys.messageTable = this.shard_.messageTable.tableChange.register(this.onMessageTableChange_.bind(this));
  this.eventKeys.registeredOnShard = this.shard_;

  // Set up initial state from cached rows
  this.onNodeTableChange_();
};

/**
 * Gives the simulating node a chance to unregister from anything it was
 * observing.
 */
NetSimLocalClientNode.prototype.stopSimulation = function () {
  if (this.eventKeys.registeredOnShard) {
    this.eventKeys.registeredOnShard.nodeTable.tableChange.unregister(this.eventKeys.nodeTable);
    this.eventKeys.registeredOnShard.wireTable.tableChange.unregister(this.eventKeys.wireTable);
    this.eventKeys.registeredOnShard.messageTable.tableChange.unregister(this.eventKeys.messageTable);
    this.eventKeys.registeredOnShard = null;
  }
};

/**
 * Ticks the simulation routers
 * @param {!RunLoop.Clock} clock
 */
NetSimLocalClientNode.prototype.tick = function (clock) {
  // TODO (bbuchanan): Move the router collection and ticking the
  // routers up to netsim.js (or elsewhere)
  this.routers_.forEach(function (router) {
    router.tick(clock);
  });
};

/**
 * Give this node an action to take if it detects that it is no longer part
 * of the shard.
 * @param {function} onNodeLostConnection
 */
NetSimLocalClientNode.prototype.setLostConnectionCallback = function (onNodeLostConnection) {
  this.onNodeLostConnection_ = onNodeLostConnection;
};

/**
 * If a client update fails, should attempt an automatic reconnect.
 * @param {NodeStyleCallback} [onComplete]
 */
NetSimLocalClientNode.prototype.update = function (onComplete) {
  onComplete = onComplete || function () {};

  var self = this;
  NetSimLocalClientNode.superPrototype.update.call(this, function (err, result) {
    if (err) {
      logger.error("Local node update failed: " + err.message);
      self.onNodeLostConnection_();
    }
    onComplete(err, result);
  });
};

/**
 * Connect to a remote client node.
 * @param {NetSimClientNode} client
 * @param {!NodeStyleCallback} onComplete
 */
NetSimLocalClientNode.prototype.connectToClient = function (client, onComplete) {
  this.connectToNode(client, (function (err, wire) {
    if (err) {
      onComplete(err);
      return;
    }

    // Check whether WE just established a mutual connection with a remote client.
    this.shard_.wireTable.refresh().always((function () {
      this.onWireTableChange_(this.shard_.wireTable.readAll());
      onComplete(err, wire);
    }).bind(this));
  }).bind(this));
};

/**
 * @param {!NetSimRouterNode} router
 * @param {NodeStyleCallback} onComplete
 */
NetSimLocalClientNode.prototype.connectToRouter = function (router, onComplete) {
  onComplete = onComplete || function () {};

  logger.info(this.getDisplayName() + ": Connecting to " + router.getDisplayName());
  this.connectToNode(router, (function (err, wire) {
    if (err) {
      onComplete(err);
      return;
    }

    this.myRouterID_ = router.entityID;

    this.remoteChange.notifyObservers(this.getOutgoingWire(), this.getMyRouter());
    onComplete(null, wire);
  }).bind(this));
};

/**
 * Create an appropriate initial wire row for connecting to the given node.
 * Overrides NetSimNode version to add improved connect-to-router functionality.
 * @param {!NetSimNode} otherNode
 * @returns {WireRow}
 * @override
 */
NetSimLocalClientNode.prototype.makeWireRowForConnectingTo = function (otherNode) {
  if (otherNode instanceof NetSimRouterNode) {
    return {
      localNodeID: this.entityID,
      remoteNodeID: otherNode.entityID,
      localAddress: otherNode.getRandomAvailableClientAddress(),
      remoteAddress: otherNode.getAddress(),
      localHostname: this.getHostname(),
      remoteHostname: otherNode.getHostname()
    };
  }
  return NetSimLocalClientNode.superPrototype.makeWireRowForConnectingTo.call(this, otherNode);
};

/**
 * Helper/accessor for router controller instance for the router that this
 * client is directly connected to.
 * @returns {NetSimRouterNode|null} Router we are connected to or null if not
 *          connected to a router at all.
 */
NetSimLocalClientNode.prototype.getMyRouter = function () {
  if (this.myRouterID_ === undefined) {
    return null;
  }

  return _.find(this.routers_, (function (router) {
    return router.entityID === this.myRouterID_;
  }).bind(this));
};

/**
 * @param {NodeStyleCallback} [onComplete]
 */
NetSimLocalClientNode.prototype.disconnectRemote = function (onComplete) {
  onComplete = onComplete || function () {};

  // save the wire so we can destroy it
  var wire = this.getOutgoingWire();

  // remove all local references to connections
  this.cleanUpBeforeDestroyingWire_();

  // destroy wire on API
  wire.destroy((function (err) {
    // We're not going to stop if an error occurred here; the error might
    // just be that the wire was already cleaned up by another node.
    // As long as we make a good-faith disconnect effort, the cleanup system
    // will correct any mistakes and we won't lock up our client trying to
    // re-disconnect.
    if (err) {
      logger.info("Error while disconnecting: " + err.message);
    }
    onComplete(null);
  }).bind(this));
};

/**
 * Common cleanup behavior shared between the synchronous and asynchronous
 * disconnect paths.
 * @private
 */
NetSimLocalClientNode.prototype.cleanUpBeforeDestroyingWire_ = function () {
  this.myRemoteClient = null;
  this.myRouterID_ = undefined;
  this.remoteChange.notifyObservers(null, null);
};

/**
 * Put a message on our outgoing wire, to whatever we are connected to
 * at the moment.
 * @param {string} payload
 * @param {!NodeStyleCallback} onComplete
 */
NetSimLocalClientNode.prototype.sendMessage = function (payload, onComplete) {
  var myWire = this.getOutgoingWire();
  if (!myWire) {
    onComplete(new Error('Cannot send message; not connected.'));
    return;
  }

  var localNodeID = myWire.localNodeID;
  var remoteNodeID = myWire.remoteNodeID;

  // Who will be responsible for picking up/cleaning up this message?
  var simulatingNodeID = this.selectSimulatingNode_(localNodeID, remoteNodeID);
  var levelConfig = NetSimGlobals.getLevelConfig();
  var extraHops = levelConfig.minimumExtraHops;
  if (levelConfig.minimumExtraHops !== levelConfig.maximumExtraHops) {
    extraHops = NetSimGlobals.randomIntInRange(levelConfig.minimumExtraHops, levelConfig.maximumExtraHops + 1);
  }

  var self = this;
  NetSimMessage.send(this.shard_, {
    fromNodeID: localNodeID,
    toNodeID: remoteNodeID,
    simulatedBy: simulatingNodeID,
    payload: payload,
    extraHopsRemaining: extraHops
  }, (function (err, row) {
    if (err) {
      logger.error('Failed to send message: ' + err.message + "\n" + JSON.stringify(payload));
      NetSimAlert.error(i18n.sendMessageError());
      onComplete(err);
      return;
    }

    logger.info(this.getDisplayName() + ': Sent message:' + '\nfrom: ' + localNodeID + '\nto  : ' + remoteNodeID + '\nsim : ' + simulatingNodeID + '\nhops: ' + extraHops);

    if (self.sentLog_) {
      self.sentLog_.log(payload, row.id);
    }
    onComplete(null);
  }).bind(this));
};

/**
 * Decide whether the local node or the remote node will be responsible
 * for picking up and cleaning up this message from remote storage.
 * @param {number} localNodeID
 * @param {number} remoteNodeID
 * @returns {number} one of the two IDs provided
 */
NetSimLocalClientNode.prototype.selectSimulatingNode_ = function (localNodeID, remoteNodeID) {
  if (NetSimGlobals.getLevelConfig().messageGranularity === MessageGranularity.BITS) {
    // In simplex wire mode, the local node cleans up its own messages
    // when it knows they are no longer current.
    return localNodeID;
  } else if (this.myRouterID_ !== undefined && this.myRouterID_ === remoteNodeID) {
    // If sending to a router, we will do our own simulation on the router's
    // behalf
    return localNodeID;
  }
  // Default case: The designated recipient must pick up the message.
  return remoteNodeID;
};

/**
 * Sequentially puts a list of messages onto the outgoing wire, to whatever
 * we are connected to at the moment.
 * @param {string[]} payloads
 * @param {!NodeStyleCallback} onComplete
 */
NetSimLocalClientNode.prototype.sendMessages = function (payloads, onComplete) {
  if (payloads.length === 0) {
    onComplete(null);
    return;
  }

  this.sendMessage(payloads[0], (function (err, result) {
    if (err) {
      onComplete(err, result);
      return;
    }

    this.sendMessages(payloads.slice(1), onComplete);
  }).bind(this));
};

/**
 * Whenever the node table changes, make needed changes to our collection of
 * routers configured to simulate for the local node.
 * @private
 */
NetSimLocalClientNode.prototype.onNodeTableChange_ = function () {
  var nodeRows = this.shard_.nodeTable.readAll();

  // If our own row is gone, drop everything and handle disconnect.
  if (!this.canFindOwnRowIn(nodeRows)) {
    this.onNodeLostConnection_();
    return;
  }

  // Remove simulating routers that have vanished from remote storage.
  this.routers_ = this.routers_.filter(function (simulatingRouter) {
    var stillExists = nodeRows.some(function (row) {
      return row.id === simulatingRouter.entityID;
    });
    if (!stillExists) {
      simulatingRouter.stopSimulation();
      return false;
    }
    return true;
  });

  // Create and simulate new routers
  nodeRows.filter(function (row) {
    return row.type === NetSimConstants.NodeType.ROUTER;
  }).forEach(function (row) {
    var alreadySimulating = this.routers_.some(function (simulatingRouter) {
      return row.id === simulatingRouter.entityID;
    });

    if (!alreadySimulating) {
      var newRouter = new NetSimRouterNode(this.shard_, row);
      newRouter.initializeSimulation(this.entityID);
      this.routers_.push(newRouter);
    }
  }, this);
};

/**
 * @param {Object[]} nodeRows
 * @returns {boolean} TRUE if own row is in given row collection
 */
NetSimLocalClientNode.prototype.canFindOwnRowIn = function (nodeRows) {
  return nodeRows.some(function (row) {
    return row.id === this.entityID && row.uuid === this.uuid;
  }, this);
};

/**
 * Handler for any wire table change.  Used here to detect mutual
 * connections between client nodes that indicate we can move to a
 * "connected" state or stop trying to connect.
 * @private
 */
NetSimLocalClientNode.prototype.onWireTableChange_ = function () {
  var myWire = this.getOutgoingWire();
  if (!myWire) {
    return;
  }

  var wireRows = this.shard_.wireTable.readAll();
  var myConnectionTargetWireRow, isTargetConnectedToSomeoneElse;

  // Look for mutual connection
  var mutualConnectionRow = _.find(wireRows, (function (row) {
    return row.remoteNodeID === myWire.localNodeID && row.localNodeID === myWire.remoteNodeID;
  }).bind(this));

  if (mutualConnectionRow && !this.myRemoteClient) {
    // New mutual connection! Get the node for our own use.
    NetSimClientNode.get(mutualConnectionRow.localNodeID, this.shard_, (function (err, remoteClient) {
      this.myRemoteClient = remoteClient;
      this.remoteChange.notifyObservers(myWire, this.myRemoteClient);
    }).bind(this));
  } else if (!mutualConnectionRow && this.myRemoteClient) {
    // Remote client disconnected or we disconnected; either way we are
    // no longer connected.
    NetSimAlert.info(i18n.alertPartnerDisconnected());
    this.disconnectRemote();
  } else if (!mutualConnectionRow && !this.myRemoteClient) {
    // The client we're trying to connect to might have connected to
    // someone else; check if they did and if so, stop trying to connect
    myConnectionTargetWireRow = _.find(wireRows, (function (row) {
      return row.localNodeID === myWire.remoteNodeID && row.remoteNodeID !== myWire.localNodeID;
    }).bind(this));
    isTargetConnectedToSomeoneElse = myConnectionTargetWireRow ? wireRows.some(function (row) {
      return row.remoteNodeID === myConnectionTargetWireRow.localNodeID && row.localNodeID === myConnectionTargetWireRow.remoteNodeID;
    }) : undefined;
    if (myConnectionTargetWireRow && isTargetConnectedToSomeoneElse) {
      NetSimAlert.info(i18n.alertConnectionRefused());
      this.disconnectRemote();
    }
  }
};

/**
 * Listens for changes to the message table.  Detects and handles messages
 * sent to this node.
 * @private
 */
NetSimLocalClientNode.prototype.onMessageTableChange_ = function () {
  if (!NetSimGlobals.getLevelConfig().automaticReceive) {
    // In this level, we will not automatically pick up messages directed
    // at us.  We must manually call a receive method instead.
    return;
  }

  if (this.isProcessingMessages_) {
    // We're already in this method, getting called recursively because
    // we are making changes to the table.  Ignore this call.
    return;
  }

  var messages = this.shard_.messageTable.readAll().map((function (row) {
    return new NetSimMessage(this.shard_, row);
  }).bind(this)).filter((function (message) {
    return message.toNodeID === this.entityID && message.simulatedBy === this.entityID;
  }).bind(this));

  if (messages.length === 0) {
    // No messages for us, no work to do
    return;
  }

  // Setup (sync): Set processing flag
  logger.info("Local node received " + messages.length + " messages");
  this.isProcessingMessages_ = true;

  // Step 1 (async): Pull all our messages out of storage
  NetSimEntity.destroyEntities(messages, (function (err) {
    if (err) {
      logger.error('Error pulling message off the wire: ' + err.message);
      this.isProcessingMessages_ = false;
      return;
    }

    // Step 2 (sync): Handle all messages
    messages.forEach(function (message) {
      this.handleMessage_(message);
    }, this);

    // Cleanup (sync): Clear processing flag
    logger.info("Local node finished processing " + messages.length + " messages");
    this.isProcessingMessages_ = false;
  }).bind(this));
};

/**
 * Post message to 'received' log.
 * @param {!NetSimMessage} message
 * @private
 */
NetSimLocalClientNode.prototype.handleMessage_ = function (message) {
  logger.info(this.getDisplayName() + ': Handling incoming message');
  // TODO: How much validation should we do here?
  if (this.receivedLog_) {
    this.receivedLog_.log(message.payload, message.entityID);
  }
};

/**
 * Asynchronously receive the latest message shared between this node
 * and its connected remote node.
 * @param {!NodeStyleCallback} onComplete - given the message as a result, or
 *        NULL if no messages exist.
 */
NetSimLocalClientNode.prototype.getLatestMessageOnSimplexWire = function (onComplete) {
  var myWire = this.getOutgoingWire();
  if (!myWire) {
    onComplete(new Error("Unable to retrieve message; not connected."));
    return;
  }

  // Does an asynchronous request to the message table to ensure we have
  // the latest contents
  var messageTable = this.shard_.messageTable;
  messageTable.refresh().fail(onComplete).done((function () {
    // We only care about rows on our (simplex) wire
    var rowsOnWire = messageTable.readAll().filter((function (row) {
      return myWire.isMessageRowOnSimplexWire(row);
    }).bind(this));

    // If there are no rows, complete successfully but pass null result.
    if (rowsOnWire.length === 0) {
      onComplete(null, null);
      return;
    }

    var lastRow = rowsOnWire[rowsOnWire.length - 1];
    onComplete(null, new NetSimMessage(this.shard_, lastRow));
  }).bind(this));
};

/**
 * Asynchronously set the state of the shared wire.
 * @param {string} newState - probably ought to be "0" or "1"
 * @param {!NodeStyleCallback} onComplete
 */
NetSimLocalClientNode.prototype.setSimplexWireState = function (newState, onComplete) {
  this.sendMessage(newState, (function (err) {
    if (err) {
      logger.warn(err.message);
      onComplete(new Error("Failed to set wire state."));
      return;
    }

    // We're not done!  Also do our part to keep the message table clean.
    this.removeMyOldMessagesFromWire_(onComplete);
  }).bind(this));
};

/**
 * Removes all messages on the current wire that are simulated by the local
 * node and are not the latest message on the wire.
 * Used by simplex configurations where we only care about the wire's current
 * (latest) state.
 * @param {!NodeStyleCallback} onComplete
 */
NetSimLocalClientNode.prototype.removeMyOldMessagesFromWire_ = function (onComplete) {
  var myWire = this.getOutgoingWire();
  if (!myWire) {
    onComplete(new Error("Unable to retrieve message; not connected."));
    return;
  }

  // Does an asynchronous request to the message table to ensure we have
  // the latest contents
  var messageTable = this.shard_.messageTable;
  messageTable.refresh().fail(onComplete).done((function () {
    // We only care about rows on our (simplex) wire
    var rowsOnWire = messageTable.readAll().filter(function (row) {
      return myWire.isMessageRowOnSimplexWire(row);
    }, this);

    // "Old" rows are all but the last element (the latest one)
    var oldRowsOnWire = rowsOnWire.slice(0, -1);

    // We are only in charge of deleting messages that we are simulating
    var myOldRowsOnWire = oldRowsOnWire.filter(function (row) {
      return row.simulatedBy === this.entityID;
    }, this);

    // Convert to message entities so we can destroy them
    var myOldMessagesOnWire = myOldRowsOnWire.map(function (row) {
      return new NetSimMessage(this.shard_, row);
    }, this);

    NetSimEntity.destroyEntities(myOldMessagesOnWire, onComplete);
  }).bind(this));
};

},{"../ObservableEvent":"/home/ubuntu/staging/apps/build/js/ObservableEvent.js","../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./NetSimAlert":"/home/ubuntu/staging/apps/build/js/netsim/NetSimAlert.js","./NetSimClientNode":"/home/ubuntu/staging/apps/build/js/netsim/NetSimClientNode.js","./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimEntity":"/home/ubuntu/staging/apps/build/js/netsim/NetSimEntity.js","./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js","./NetSimLogger":"/home/ubuntu/staging/apps/build/js/netsim/NetSimLogger.js","./NetSimMessage":"/home/ubuntu/staging/apps/build/js/netsim/NetSimMessage.js","./NetSimRouterNode":"/home/ubuntu/staging/apps/build/js/netsim/NetSimRouterNode.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimLobby.js":[function(require,module,exports){
/**
 * @overview UI controller for lobby - handles flow for name entry, section
 *           selection, and remote node selection.
 * @see NetSimShardSelectionPanel for name entry and shard selection.
 * @see NetSimRemoteNodeSelectionPanel for implementation of the actual
 *      lobby table.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var utils = require('../utils');
var _ = utils.getLodash();
var i18n = require('./locale');
var NetSimNodeFactory = require('./NetSimNodeFactory');
var NetSimClientNode = require('./NetSimClientNode');
var NetSimAlert = require('./NetSimAlert');
var NetSimApiError = require('./NetSimApiError');
var NetSimRouterNode = require('./NetSimRouterNode');
var NetSimShardSelectionPanel = require('./NetSimShardSelectionPanel');
var NetSimRemoteNodeSelectionPanel = require('./NetSimRemoteNodeSelectionPanel');

var logger = require('./NetSimLogger').getSingleton();
var NetSimGlobals = require('./NetSimGlobals');

/**
 * @typedef {Object} ShardChoice
 * @property {string} shardSeed - unique key for shard within level, used in
 *           share URLs
 * @property {string} shardID - unique key for shard in tables API, used as
 *           prefix to table names.  Must be 48 characters or less, and
 *           consistently generatable from a level ID and seed.
 * @property {string} displayName - localized shard name
 */

/**
 * Generator and controller for lobby/connection controls.
 *
 * @param {jQuery} rootDiv
 * @param {NetSim} connection - The shard connection that this
 *        lobby control will manipulate.
 * @param {Object} options
 * @param {DashboardUser} options.user
 * @param {string} options.levelKey
 * @param {string} options.sharedShardSeed
 * @constructor
 * @augments NetSimPanel
 */
var NetSimLobby = module.exports = function (rootDiv, netsim, options) {
  /**
   * @type {jQuery}
   * @private
   */
  this.rootDiv_ = rootDiv;

  /**
   * Shard connection that this lobby control will manipulate.
   * @type {NetSim}
   * @private
   */
  this.netsim_ = netsim;

  /**
   * @type {string}
   * @private
   */
  this.levelKey_ = options.levelKey;

  /**
   * @type {NetSimShardSelectionPanel}
   * @private
   */
  this.shardSelectionPanel_ = null;

  /**
   * @type {NetSimRemoteNodeSelectionPanel}
   * @private
   */
  this.nodeSelectionPanel_ = null;

  /**
   * @type {NetSimShard}
   * @private
   */
  this.shard_ = null;

  /**
   * @type {NetSimLocalClientNode}
   * @private
   */
  this.myNode_ = null;

  /**
   * Storage for ObservableEvent registration keys, to make sure we
   * can unregister as needed.
   * @type {Object}
   */
  this.eventKeys = {};

  /**
   * @type {DashboardUser}
   * @private
   */
  this.user_ = options.user;

  /**
   * @type {string}
   * @private
   */
  this.displayName_ = options.user.isSignedIn ? options.user.name : '';

  /**
   * Shard options for the current user
   * @type {ShardChoice[]}
   * @private
   */
  this.shardChoices_ = [];

  /**
   * Which shard ID is currently selected
   * @type {string}
   * @private
   */
  this.selectedShardID_ = undefined;

  /**
   * @type {NetSimNode[]}
   * @private
   */
  this.nodesOnShard_ = [];

  /**
   * @type {NetSimNode[]}
   * @private
   */
  this.incomingConnectionNodes_ = [];

  /**
   * @type {NetSimNode}
   * @private
   */
  this.remoteNode_ = null;

  /**
   * Allows multiple methods to have a 'disable' lock on the lobby.
   * @type {Object}
   * @private
   */
  this.disableEverythingKeys_ = {};

  // Figure out the list of user sections, which requires an async request
  // and re-render if the user is signed in.
  if (options.user.isSignedIn) {
    this.getUserSections_((function (sectionList) {
      this.buildShardChoiceList_(sectionList, options.sharedShardSeed);
      this.render();
    }).bind(this));
  } else {
    this.buildShardChoiceList_([], options.sharedShardSeed);
  }

  // Initial render
  this.render();

  // Register for events
  this.netsim_.shardChange.register(this.onShardChange_.bind(this));
};

/**
 * Recreate markup within panel body.
 */
NetSimLobby.prototype.render = function () {
  var isConnectedToShard = this.shard_ !== null;
  if (!isConnectedToShard) {

    // Shard selection panel: Controls for setting display name and picking
    // a section, if they aren't set automatically.
    this.shardSelectionPanel_ = new NetSimShardSelectionPanel(this.rootDiv_, {
      displayName: this.displayName_,
      shardChoices: this.shardChoices_,
      selectedShardID: this.selectedShardID_,
      disableControls: this.isEverythingDisabled()
    }, {
      setNameCallback: this.setDisplayName.bind(this),
      setShardCallback: this.setShardID.bind(this)
    });
  } else {

    // Node selection panel: The lobby list of who we can connect to, and
    // controls for picking one and connecting.
    this.nodeSelectionPanel_ = new NetSimRemoteNodeSelectionPanel(this.rootDiv_, {
      user: this.user_,
      shardID: this.shard_.id,
      nodesOnShard: this.nodesOnShard_,
      incomingConnectionNodes: this.incomingConnectionNodes_,
      remoteNode: this.remoteNode_,
      myNodeID: this.myNode_.entityID,
      disableControls: this.isEverythingDisabled()
    }, {
      addRouterCallback: this.addRouterToLobby.bind(this),
      cancelButtonCallback: this.onCancelButtonClick_.bind(this),
      joinButtonCallback: this.onJoinButtonClick_.bind(this),
      resetShardCallback: this.onResetShardButtonClick_.bind(this)
    });
  }

  this.netsim_.debouncedResizeFooter();
};

NetSimLobby.prototype.updateLayout = function () {
  if (this.nodeSelectionPanel_) {
    this.nodeSelectionPanel_.updateLayout();
  }
};

/**
 * @param {string} displayName
 */
NetSimLobby.prototype.setDisplayName = function (displayName) {
  this.displayName_ = displayName;
  this.render();

  if (this.selectedShardID_ && this.displayName_ && !this.netsim_.isConnectedToShardID(this.selectedShardID_)) {
    this.netsim_.connectToShard(this.selectedShardID_, this.displayName_);
  }
};

/**
 * @param {string} shardID
 */
NetSimLobby.prototype.setShardID = function (shardID) {
  this.selectedShardID_ = shardID;
  this.render();

  if (this.selectedShardID_ && this.displayName_ && !this.netsim_.isConnectedToShardID(this.selectedShardID_)) {
    this.netsim_.connectToShard(this.selectedShardID_, this.displayName_);
  }
};

/**
 * @param {NetSimShard} shard
 * @param {NetSimLocalClientNode} myNode
 * @private
 */
NetSimLobby.prototype.onShardChange_ = function (shard, myNode) {
  // Unregister old handlers
  if (this.eventKeys.registeredShard) {
    this.eventKeys.registeredShard.nodeTable.tableChange.unregister(this.eventKeys.nodeTable);
    this.eventKeys.registeredShard.wireTable.tableChange.unregister(this.eventKeys.wireTable);
    this.registeredShard = undefined;
  }

  this.shard_ = shard;
  this.myNode_ = myNode;

  if (this.shard_) {
    // We got connected to a shard!
    // Register for events
    this.eventKeys.nodeTable = this.shard_.nodeTable.tableChange.register(this.onNodeTableChange_.bind(this));
    this.eventKeys.wireTable = this.shard_.wireTable.tableChange.register(this.onWireTableChange_.bind(this));
    this.eventKeys.registeredShard = this.shard_;

    // Trigger a forced read of the node table
    this.fetchInitialLobbyData_();
  } else {
    // We've been disconnected from a shard
    // Clear our selected shard ID
    this.selectedShardID_ = undefined;

    // Clear cached lobby data
    this.nodesOnShard_.length = 0;
    this.incomingConnectionNodes_.length = 0;

    // Redraw the lobby
    this.render();

    // If there's only one option, try to auto-reconnect
    if (this.shardChoices_.length === 1) {
      this.setShardID(this.shardChoices_[0].shardID);
    }
  }
};

/**
 * Upon connecting to a new shard, we need to trigger a manual read of the
 * node and wire tables to ensure our lobby listing is correct.  Otherwise we'd
 * have to wait until a change was detected in one of those tables.
 * @private
 */
NetSimLobby.prototype.fetchInitialLobbyData_ = function () {
  $.when(this.shard_.nodeTable.refresh(), this.shard_.wireTable.refresh()).fail((function (nodeErr, wireErr) {
    if (nodeErr) {
      logger.warn('Node table refresh failed: ' + nodeErr);
    } else if (wireErr) {
      logger.warn('Wire table refresh failed: ' + wireErr);
    }
  }).bind(this)).done((function () {
    // Because the lobby may not get table-change events from this refresh,
    // manually pass the cached table contents in.
    this.onNodeTableChange_();
    this.onWireTableChange_();

    // If we use routers and there's no router, create a router.
    // TODO: Move this logic to the server, somehow.
    if (NetSimGlobals.getLevelConfig().canConnectToRouters && !this.doesShardContainRouter()) {
      this.addRouterToLobby();
    }
  }).bind(this));
};

/**
 * @returns {boolean} whether the currently cached node data for the shard
 *          includes a router node.
 */
NetSimLobby.prototype.doesShardContainRouter = function () {
  return undefined !== _.find(this.nodesOnShard_, function (shardNode) {
    return shardNode instanceof NetSimRouterNode;
  });
};

/**
 * Generate a new router node, configured according to the current level.
 * The change to the node table should trigger appropriate updates to various
 * UI elements.
 */
NetSimLobby.prototype.addRouterToLobby = function () {
  var enableCallback = this.disableEverything();
  NetSimRouterNode.create(this.shard_, (function (err) {
    enableCallback();
    if (err) {
      var ValidationError = NetSimApiError.ValidationError;
      switch (err.details) {
        case ValidationError.CONFLICT:
          // Another router with the same routerNumber already exists.
          // Ignore this; to the user it looks like it worked!
          logger.warn('Did not create router; ' + 'Another user created a router at the same time.');
          break;

        case ValidationError.LIMIT_REACHED:
          // The server's router limit has been reached.
          // Usually the client will remove the "Add Router" button first.
          logger.warn('Did not create router; Router limit reached.');
          NetSimAlert.warn(i18n.routerLimitReachedError());
          break;

        default:
          // Malformed row or some other unexpected error.
          logger.error("Unable to create router: " + err.message);
          NetSimAlert.error(i18n.addRouterToLobbyError());
      }
    }
  }).bind(this));
};

/**
 * @returns {boolean} TRUE if anything has requested the whole lobby to be
 *          disabled, false otherwise.
 */
NetSimLobby.prototype.isEverythingDisabled = function () {
  return Object.keys(this.disableEverythingKeys_).length > 0;
};

/**
 * Disable all of the lobby controls together.
 * @returns {function} Callback for re-enabling the lobby.
 */
NetSimLobby.prototype.disableEverything = function () {
  var requestKey = utils.createUuid();
  this.disableEverythingKeys_[requestKey] = true;

  if (this.nodeSelectionPanel_) {
    this.nodeSelectionPanel_.disableEverything();
  }

  // Return an 'enable' callback
  return this.enableEverything_.bind(this, requestKey);
};

/**
 * Release a 'disable-hold' on the lobby and re-enable the lobby controls if
 * it was the last such disable-hold.
 * @param {!string} key - a unique identifier for this particular disable request.
 * @private
 */
NetSimLobby.prototype.enableEverything_ = function (key) {
  delete this.disableEverythingKeys_[key];
  if (!this.isEverythingDisabled()) {
    if (this.nodeSelectionPanel_) {
      this.nodeSelectionPanel_.enableEverything();
    }
  }
};

/**
 * Handler for clicking the "Join" button.
 * @param {NetSimClientNode|NetSimRouterNode} nodeToJoin
 */
NetSimLobby.prototype.onJoinButtonClick_ = function (nodeToJoin) {
  var enableCallback = this.disableEverything();
  if (nodeToJoin instanceof NetSimRouterNode) {
    this.netsim_.connectToRouter(nodeToJoin.entityID, enableCallback);
  } else if (nodeToJoin instanceof NetSimClientNode) {
    this.myNode_.connectToClient(nodeToJoin, enableCallback);
  }
};

/**
 * Handler for clicking the "Cancel" button to stop trying to connect to
 * another client.
 * @private
 */
NetSimLobby.prototype.onCancelButtonClick_ = function () {
  var enableCallback = this.disableEverything();
  this.netsim_.disconnectFromRemote(enableCallback);
};

/**
 * Handle for clicking the reset shard button.
 * @private
 */
NetSimLobby.prototype.onResetShardButtonClick_ = function () {
  this.netsim_.resetShard();
};

/**
 * Called whenever a change is detected in the nodes table - which should
 * trigger a refresh of the lobby listing
 * @private
 */
NetSimLobby.prototype.onNodeTableChange_ = function () {
  this.nodesOnShard_ = NetSimNodeFactory.nodesFromRows(this.shard_, this.shard_.nodeTable.readAll());
  this.render();
};

/**
 * Called whenever a change is detected in the wires table.
 * @private
 */
NetSimLobby.prototype.onWireTableChange_ = function () {
  var rows = this.shard_.wireTable.readAll();
  // Update the collection of nodes with connections pointing toward us.
  this.incomingConnectionNodes_ = rows.filter(function (wireRow) {
    return wireRow.remoteNodeID === this.myNode_.entityID;
  }, this).map(function (wireRow) {
    return _.find(this.nodesOnShard_, function (node) {
      return node.entityID === wireRow.localNodeID;
    });
  }, this).filter(function (node) {
    // In case the wire table change comes in before the node table change.
    return node !== undefined;
  });

  // Find outgoing wires
  var outgoingWireRow = _.find(rows, (function (wireRow) {
    return wireRow.localNodeID === this.myNode_.entityID;
  }).bind(this));

  this.remoteNode_ = outgoingWireRow ? _.find(this.nodesOnShard_, function (node) {
    return node.entityID === outgoingWireRow.remoteNodeID;
  }) : null;

  // Re-render with new information
  this.render();
};

/**
 * Send a request to dashboard and retrieve a JSON array listing the
 * sections this user belongs to.
 * @param {function} callback
 * @private
 */
NetSimLobby.prototype.getUserSections_ = function (callback) {
  var memberSectionsRequest = $.ajax({
    dataType: 'json',
    url: '/v2/sections/membership'
  });

  var ownedSectionsRequest = $.ajax({
    dataType: 'json',
    url: '/v2/sections'
  });

  $.when(memberSectionsRequest, ownedSectionsRequest).done(function (result1, result2) {
    var memberSectionData = result1[0];
    var ownedSectionData = result2[0];
    callback(memberSectionData.concat(ownedSectionData));
  });
};

/**
 * Populate the internal cache of shard options, given a set of the current
 * user's sections.
 * @param {Array} sectionList - list of sections this user is a member or
 *        administrator of.  Each section has an id and a name.  May be empty.
 * @param {string} sharedShardSeed - a shard ID present if we reached netsim
 *        via a share link.  We should make sure this shard is an option.
 * @private
 */
NetSimLobby.prototype.buildShardChoiceList_ = function (sectionList, sharedShardSeed) {
  this.shardChoices_.length = 0;

  // If we have a shared shard seed, put it first in the list:
  if (sharedShardSeed) {
    var sharedShardID = this.makeShardIDFromSeed_(sharedShardSeed);
    this.shardChoices_.push({
      shardSeed: sharedShardSeed,
      shardID: sharedShardID,
      displayName: sharedShardSeed
    });
  }

  // Add user's sections to the shard list
  this.shardChoices_ = this.shardChoices_.concat(sectionList.map((function (section) {
    return {
      shardSeed: section.id,
      shardID: this.makeShardIDFromSeed_(section.id),
      displayName: section.name
    };
  }).bind(this)));

  // If there still aren't any options, generate a random shard
  if (this.shardChoices_.length === 0) {
    var seed = utils.createUuid();
    var randomShardID = this.makeShardIDFromSeed_(seed);
    this.shardChoices_.push({
      shardSeed: seed,
      shardID: randomShardID,
      displayName: i18n.myPrivateNetwork()
    });
  }

  // If there's only one possible shard, select it by default
  if (this.shardChoices_.length === 1 && !this.selectedShardID_) {
    this.setShardID(this.shardChoices_[0].shardID);
  }
};

/**
 * Generate a unique shard key from the given seed
 * @param {string} seed
 * @private
 */
NetSimLobby.prototype.makeShardIDFromSeed_ = function (seed) {
  // TODO (bbuchanan) : Hash shard ID, more likely to ensure it's unique
  //                    and fits within 48 characters.
  // Maybe grab this MIT-licensed implementation via node?
  // https://github.com/blueimp/JavaScript-MD5
  return ('ns_' + this.levelKey_ + '_' + seed).substr(0, 48);
};

/**
 * Gets a share URL for the currently-selected shard ID.
 * @returns {string} or empty string if there is no shard selected.
 */
NetSimLobby.prototype.getShareLink = function () {
  if (!this.displayName_) {
    return '';
  }

  var selectedShard = _.find(this.shardChoices_, (function (shard) {
    return shard.shardID === this.selectedShardID_;
  }).bind(this));

  if (selectedShard) {
    var baseLocation = document.location.protocol + '//' + document.location.host + document.location.pathname;
    return baseLocation + '?s=' + selectedShard.shardSeed;
  }

  return '';
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./NetSimAlert":"/home/ubuntu/staging/apps/build/js/netsim/NetSimAlert.js","./NetSimApiError":"/home/ubuntu/staging/apps/build/js/netsim/NetSimApiError.js","./NetSimClientNode":"/home/ubuntu/staging/apps/build/js/netsim/NetSimClientNode.js","./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js","./NetSimLogger":"/home/ubuntu/staging/apps/build/js/netsim/NetSimLogger.js","./NetSimNodeFactory":"/home/ubuntu/staging/apps/build/js/netsim/NetSimNodeFactory.js","./NetSimRemoteNodeSelectionPanel":"/home/ubuntu/staging/apps/build/js/netsim/NetSimRemoteNodeSelectionPanel.js","./NetSimRouterNode":"/home/ubuntu/staging/apps/build/js/netsim/NetSimRouterNode.js","./NetSimShardSelectionPanel":"/home/ubuntu/staging/apps/build/js/netsim/NetSimShardSelectionPanel.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimShardSelectionPanel.js":[function(require,module,exports){
/**
 * @overview Lobby UI component used for name entry and selecting a shard/class
 *           section.
 * @see NetSimLobby for usage.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var utils = require('../utils');
var i18n = require('./locale');
var markup = require('./NetSimShardSelectionPanel.html.ejs');
var NetSimPanel = require('./NetSimPanel');

var KeyCodes = require('../constants').KeyCodes;

/**
 * @type {string}
 * @const
 */
var SELECTOR_NONE_VALUE = '';

/**
 * Generator and controller for message log.
 *
 * @param {jQuery} rootDiv
 *
 * @param {Object} options
 * @param {string} options.displayName
 * @param {Array} options.shardChoices
 * @param {string} options.selectedShardID
 *
 * @param {Object} callbacks
 * @param {function} callbacks.setNameCallback
 * @param {function} callbacks.setShardCallback
 *
 * @constructor
 * @augments NetSimPanel
 */
var NetSimShardSelectionPanel = module.exports = function (rootDiv, options, callbacks) {
  /**
   * @type {string}
   * @private
   */
  this.displayName_ = options.displayName;

  /**
   * Shard options for the current user
   * @type {ShardChoice[]}
   * @private
   */
  this.shardChoices_ = utils.valueOr(options.shardChoices, []);

  /**
   * Which shard ID is currently selected
   * @type {string}
   * @private
   */
  this.selectedShardID_ = utils.valueOr(options.selectedShardID, SELECTOR_NONE_VALUE);

  /**
   * @type {function}
   * @private
   */
  this.setNameCallback_ = callbacks.setNameCallback;

  /**
   * @type {function}
   * @private
   */
  this.setShardCallback_ = callbacks.setShardCallback;

  // Initial render
  NetSimPanel.call(this, rootDiv, {
    className: 'netsim-shard-selection-panel',
    panelTitle: i18n.pickASection(),
    userToggleable: false
  });
};
NetSimShardSelectionPanel.inherits(NetSimPanel);

/**
 * Recreate markup within panel body.
 */
NetSimShardSelectionPanel.prototype.render = function () {
  // Create boilerplate panel markup
  NetSimShardSelectionPanel.superPrototype.render.call(this);

  // Add our own content markup
  var newMarkup = $(markup({
    displayName: this.displayName_,
    selectedShardID: this.selectedShardID_,
    shardChoices: this.shardChoices_,
    SELECTOR_NONE_VALUE: SELECTOR_NONE_VALUE
  }));
  this.getBody().html(newMarkup);

  // Bind handlers
  var nameField = this.getBody().find('#netsim-lobby-name');
  nameField.keyup(this.onNameKeyUp_.bind(this));

  var setNameButton = this.getBody().find('#netsim-lobby-set-name-button');
  setNameButton.click(this.setNameButtonClick_.bind(this));

  var shardSelect = this.getBody().find('#netsim-shard-select');
  shardSelect.change(this.onShardSelectChange_.bind(this));
  shardSelect.keyup(this.onShardSelectKeyUp_.bind(this));

  var setShardButton = this.getBody().find('#netsim-shard-confirm-button');
  setShardButton.click(this.setShardButtonClick_.bind(this));

  // At the end of any render we should focus on the earliest unsatisfied
  // field, or if all fields are satisfied, try connecting to the specified
  // shard.
  if (this.displayName_.length === 0) {
    nameField.focus();
  } else if (this.selectedShardID_ === SELECTOR_NONE_VALUE) {
    shardSelect.focus();
  }
};

/**
 * @param {Event} jQueryEvent
 * @private
 */
NetSimShardSelectionPanel.prototype.onNameKeyUp_ = function (jQueryEvent) {
  var name = jQueryEvent.target.value;
  var setNameButton = this.getBody().find('#netsim-lobby-set-name-button');
  setNameButton.attr('disabled', name.length === 0);

  if (name.length > 0 && jQueryEvent.which === KeyCodes.ENTER) {
    this.setNameButtonClick_();
  }
};

/** @private */
NetSimShardSelectionPanel.prototype.setNameButtonClick_ = function () {
  this.setNameCallback_(this.getBody().find('#netsim-lobby-name').val());
};

/**
 * @param {Event} jQueryEvent
 * @private
 */
NetSimShardSelectionPanel.prototype.onShardSelectChange_ = function (jQueryEvent) {
  var shardID = jQueryEvent.target.value;
  var setShardButton = this.getBody().find('#netsim-shard-confirm-button');
  setShardButton.attr('disabled', !shardID || shardID === SELECTOR_NONE_VALUE);
};

/**
 * @param {Event} jQueryEvent
 * @private
 */
NetSimShardSelectionPanel.prototype.onShardSelectKeyUp_ = function (jQueryEvent) {
  var shardID = jQueryEvent.target.value;
  if (shardID && shardID !== SELECTOR_NONE_VALUE && jQueryEvent.which === KeyCodes.ENTER) {
    this.setShardButtonClick_();
  }
};

/** @private */
NetSimShardSelectionPanel.prototype.setShardButtonClick_ = function () {
  this.setShardCallback_(this.getBody().find('#netsim-shard-select').val());
};

},{"../constants":"/home/ubuntu/staging/apps/build/js/constants.js","../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./NetSimPanel":"/home/ubuntu/staging/apps/build/js/netsim/NetSimPanel.js","./NetSimShardSelectionPanel.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/NetSimShardSelectionPanel.html.ejs","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimShardSelectionPanel.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('');1;
  var i18n = require('./locale');
; buf.push('\n<div class="content-wrap">\n  <div class="field-box display-name-control">\n    <label for="netsim-lobby-name">', escape((6,  i18n.myName() )), '</label>\n    <input id="netsim-lobby-name" type="text" value="', escape((7,  displayName )), '" ');7; if (displayName.length > 0) { ; buf.push('disabled');7; } ; buf.push(' />\n    ');8; if (displayName.length === 0) { ; buf.push('\n      <input id="netsim-lobby-set-name-button" type="button" value="', escape((9,  i18n.setName() )), '" disabled />\n    ');10; } ; buf.push('\n  </div>\n  ');12; if (displayName.length > 0) { ; buf.push('\n    <div class="field-box shard-control">\n      <label for="netsim-shard-select">', escape((14,  i18n.mySection() )), '</label>\n      <select id="netsim-shard-select" ');15; if (selectedShardID) { ; buf.push('disabled');15; } ; buf.push('>\n        <option value="', escape((16,  SELECTOR_NONE_VALUE )), '">', escape((16,  i18n.dropdownPickOne() )), '</option>\n        ');17;
          var selectedAnyShard = false;
          shardChoices.forEach(function (shardChoice) {
            var attributes = '';
            if (shardChoice.shardID === selectedShardID) {
              attributes = 'selected';
              selectedAnyShard = true;
            }
            ; buf.push('\n              <option value="', escape((26,  shardChoice.shardID )), '" ', escape((26,  attributes )), '>', escape((26,  shardChoice.displayName )), '</option>\n            ');27;
          });
        ; buf.push('\n      </select>\n      ');31; if (!selectedShardID) { ; buf.push('\n        <input id="netsim-shard-confirm-button" type="button" value="', escape((32,  i18n.joinSection() )), '" ');32; if (!selectedAnyShard) { ; buf.push('disabled');32; } ; buf.push(' />\n      ');33; } ; buf.push('\n    </div>\n  ');35; } ; buf.push('\n  <div class="clearfix"></div>\n</div>\n'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js","ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimRemoteNodeSelectionPanel.js":[function(require,module,exports){
/**
 * @overview Lobby table UI component.
 * @see NetSimLobby for usage.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var utils = require('../utils');
var _ = utils.getLodash();
var i18n = require('./locale');
var NetSimPanel = require('./NetSimPanel');
var markup = require('./NetSimRemoteNodeSelectionPanel.html.ejs');
var NodeType = require('./NetSimConstants').NodeType;
var NetSimGlobals = require('./NetSimGlobals');
var NetSimUtils = require('./NetSimUtils');
var NetSimRouterNode = require('./NetSimRouterNode');

/**
 * Apply a very small debounce to lobby buttons to avoid doing extra work
 * as a result of double-clicks and/or scripts that want to click buttons a
 * few thousand times.
 * @const {number}
 */
var BUTTON_DEBOUNCE_DURATION_MS = 100;

/**
 * Generator and controller for lobby node listing, selection, and connection
 * controls.
 *
 * @param {jQuery} rootDiv
 *
 * @param {Object} options
 * @param {DashboardUser} options.user
 * @param {string} options.shardID
 * @param {NetSimNode[]} options.nodesOnShard
 * @param {NetSimNode[]} options.incomingConnectionNodes
 * @param {NetSimNode} options.remoteNode - null if not attempting to connect
 * @param {number} options.myNodeID
 * @param {boolean} options.disableControls
 *
 * @param {Object} callbacks
 * @param {function} callbacks.addRouterCallback
 * @param {function} callbacks.cancelButtonCallback
 * @param {function} callbacks.joinButtonCallback
 * @param {function} callbacks.resetShardCallback
 *
 * @constructor
 * @augments NetSimPanel
 */
var NetSimRemoteNodeSelectionPanel = module.exports = function (rootDiv, options, callbacks) {

  /**
   * @type {DashboardUser}
   * @private
   */
  this.user_ = options.user;

  /**
   * @type {string}
   * @private
   */
  this.shardID_ = options.shardID;

  /**
   * @type {NetSimNode[]}
   * @private
   */
  this.nodesOnShard_ = options.nodesOnShard;

  /**
   * @type {NetSimNode[]}
   * @private
   */
  this.incomingConnectionNodes_ = options.incomingConnectionNodes;

  /**
   * @type {NetSimNode}
   * @private
   */
  this.remoteNode_ = options.remoteNode;

  /**
   * @type {number}
   * @private
   */
  this.myNodeID_ = options.myNodeID;

  function buttonDebounce(callback) {
    return _.debounce(callback, BUTTON_DEBOUNCE_DURATION_MS, {
      leading: true,
      trailing: false
    });
  }

  /**
   * Handler for "Add Router" button
   * @type {function}
   * @private
   */
  this.addRouterCallback_ = buttonDebounce(callbacks.addRouterCallback);

  /**
   * Handler for cancel button (backs out of non-mutual connection)
   * @type {function}
   * @private
   */
  this.cancelButtonCallback_ = buttonDebounce(callbacks.cancelButtonCallback);

  /**
   * Handler for "join" button next to each connectable node.
   * @type {function}
   * @private
   */
  this.joinButtonCallback_ = buttonDebounce(callbacks.joinButtonCallback);

  /**
   * Handler for "reset shard" button click.
   * @type {function}
   * @private
   */
  this.resetShardCallback_ = buttonDebounce(callbacks.resetShardCallback);

  // Initial render
  NetSimPanel.call(this, rootDiv, {
    className: 'netsim-lobby-panel',
    panelTitle: this.getLocalizedPanelTitle(),
    userToggleable: false
  });

  if (options.disableControls) {
    this.disableEverything();
  }
};
NetSimRemoteNodeSelectionPanel.inherits(NetSimPanel);

/**
 * Recreate markup within panel body.
 */
NetSimRemoteNodeSelectionPanel.prototype.render = function () {
  // Clone the reference area (with handlers) before we re-render
  var referenceArea = $('#reference_area').first().clone(true);

  // Create boilerplate panel markup
  NetSimRemoteNodeSelectionPanel.superPrototype.render.call(this);

  // Add our own content markup
  var newMarkup = $(markup({
    controller: this,
    nodesOnShard: this.nodesOnShard_,
    incomingConnectionNodes: this.incomingConnectionNodes_,
    remoteNode: this.remoteNode_
  }));
  this.getBody().html(newMarkup);

  this.updateLayout();

  // Move the reference area to beneath the instructions
  this.getBody().find('.reference-area-placeholder').append(referenceArea);

  // Teachers and admins get a special "Reset Simulation" button
  if (this.canCurrentUserResetShard()) {
    this.addButton(i18n.shardResetButton(), this.resetShardCallback_);
  }

  // Button that takes you to the next level.
  NetSimUtils.makeContinueButton(this);

  this.addRouterButton_ = this.getBody().find('#netsim-lobby-add-router');
  this.addRouterButton_.click(unlessDisabled(this.addRouterCallback_));

  this.getBody().find('.join-button').click(unlessDisabled(this.onJoinClick_.bind(this)));
  this.getBody().find('.accept-button').click(unlessDisabled(this.onJoinClick_.bind(this)));
  this.getBody().find('.cancel-button').click(unlessDisabled(this.cancelButtonCallback_));
};

/**
 * Wrap the provided callback in a check to make sure the target is not disabled.
 * @param {function} callback
 * @returns {function}
 */
function unlessDisabled(callback) {
  return function (jQueryEvent) {
    if (!$(jQueryEvent.target).is('[disabled]')) {
      callback(jQueryEvent);
    }
  };
}

/**
 * Updates the layout of the markup, usually in response to a window
 * resize. Currently just adjusts the height of the lobby table to keep
 * everything onscreen.
 */
NetSimRemoteNodeSelectionPanel.prototype.updateLayout = function () {

  var lobbyTable = this.getBody().find('#netsim-scrolling-lobby');
  var container = this.getBody().closest('#netsim-disconnected');

  if (lobbyTable.is(':visible')) {
    lobbyTable.height("none");
    var overflow = container.prop('scrollHeight') - container.prop('clientHeight');

    if (overflow > 0) {
      var newHeight = lobbyTable.height() - overflow;
      var minHeight = lobbyTable.find('tr').first().outerHeight(true);
      lobbyTable.height(Math.max(newHeight, minHeight));
    }
  }
};

/**
 * @returns {string} a localized panel title appropriate to the current level
 *          configuration
 */
NetSimRemoteNodeSelectionPanel.prototype.getLocalizedPanelTitle = function () {
  var levelConfig = NetSimGlobals.getLevelConfig();

  if (levelConfig.canConnectToClients && levelConfig.canConnectToRouters) {
    return i18n.connectToANode();
  } else if (levelConfig.canConnectToClients) {
    return i18n.connectToAPeer();
  } else if (levelConfig.canConnectToRouters) {
    if (levelConfig.broadcastMode) {
      return i18n.connectToARoom();
    }
    return i18n.connectToARouter();
  }
  return i18n.connectToANode();
};

/**
 * @returns {string} localized lobby instructions appropriate to the current
 *          level configuration
 */
NetSimRemoteNodeSelectionPanel.prototype.getLocalizedLobbyInstructions = function () {
  var levelConfig = NetSimGlobals.getLevelConfig();

  if (levelConfig.canConnectToClients && levelConfig.canConnectToRouters) {
    return i18n.lobbyInstructionsGeneral();
  } else if (levelConfig.canConnectToClients) {
    return i18n.lobbyInstructionsForPeers();
  } else if (levelConfig.canConnectToRouters) {
    if (levelConfig.broadcastMode) {
      return i18n.lobbyInstructionsForRooms();
    }
    return i18n.lobbyInstructionsForRouters();
  }
  return i18n.lobbyInstructionsGeneral();
};

/**
 * @param {Event} jQueryEvent
 * @private
 */
NetSimRemoteNodeSelectionPanel.prototype.onJoinClick_ = function (jQueryEvent) {
  var target = $(jQueryEvent.target);
  var nodeID = target.data('nodeId');
  var clickedNode = _.find(this.nodesOnShard_, function (node) {
    return node.entityID === nodeID;
  });

  this.joinButtonCallback_(clickedNode);
};

/**
 * @param {NetSimNode} node
 * @returns {boolean}
 */
NetSimRemoteNodeSelectionPanel.prototype.isMyNode = function (node) {
  return this.myNodeID_ === node.entityID;
};

/**
 * Check whether the level configuration allows connections to the specified
 * node.
 * @param {NetSimNode} connectionTarget
 * @returns {boolean} whether connection to the target is allowed
 */
NetSimRemoteNodeSelectionPanel.prototype.canConnectToNode = function (connectionTarget) {
  // Can't connect to own node
  if (this.isMyNode(connectionTarget)) {
    return false;
  }

  var isClient = connectionTarget.getNodeType() === NodeType.CLIENT;
  var isRouter = connectionTarget.getNodeType() === NodeType.ROUTER;

  // Can't connect to full routers
  if (connectionTarget.isFull()) {
    return false;
  }

  // Permissible connection limited by level configuration
  var levelConfig = NetSimGlobals.getLevelConfig();
  var allowClients = levelConfig.canConnectToClients;
  var allowRouters = levelConfig.canConnectToRouters;
  return isClient && allowClients || isRouter && allowRouters;
};

/**
 * @returns {boolean} TRUE if we have an open outgoing connection request.
 */
NetSimRemoteNodeSelectionPanel.prototype.hasOutgoingRequest = function () {
  return !!this.remoteNode_;
};

/**
 * For use with Array.prototype.filter()
 * @param {NetSimNode} node
 * @returns {boolean} TRUE if the given node should show up in the lobby
 */
NetSimRemoteNodeSelectionPanel.prototype.shouldShowNode = function (node) {
  var levelConfig = NetSimGlobals.getLevelConfig();
  var isClient = node.getNodeType() === NodeType.CLIENT;
  var isRouter = node.getNodeType() === NodeType.ROUTER;
  var showClients = levelConfig.showClientsInLobby;
  var showRouters = levelConfig.showRoutersInLobby;
  return isClient && showClients || isRouter && showRouters;
};

/**
 * @returns {boolean} TRUE if we expect the current user to have permission to
 *          perform a shard reset.  Only governs display of shard reset button,
 *          actual reset is authenticated on the server.
 */
NetSimRemoteNodeSelectionPanel.prototype.canCurrentUserResetShard = function () {
  if (!this.user_) {
    return false;
  } else if (this.user_.isAdmin) {
    return true;
  }

  // Find a section ID in the current shard ID
  var matches = /_(\d+)$/.exec(this.shardID_);
  if (!matches) {
    return false;
  }

  // matches[1] is the first capture group (\d+), the numeric section ID.
  var sectionID = parseInt(matches[1], 10);
  return this.user_.ownsSection(sectionID);
};

/**
 * @returns {boolean} TRUE if it's currently possible to add a new router.
 *          Drives whether the "Add Router" button should be displayed.
 */
NetSimRemoteNodeSelectionPanel.prototype.canAddRouter = function () {
  var levelConfig = NetSimGlobals.getLevelConfig();
  if (this.hasOutgoingRequest() || !levelConfig.showAddRouterButton) {
    return false;
  }

  var routerLimit = NetSimRouterNode.getMaximumRoutersPerShard();
  var routerCount = this.nodesOnShard_.filter(function (node) {
    return NodeType.ROUTER === node.getNodeType();
  }).length;
  return routerCount < routerLimit;
};

/**
 * Disable all of the buttons within the panel (does not apply to panel-header
 * buttons!)
 */
NetSimRemoteNodeSelectionPanel.prototype.disableEverything = function () {
  this.getBody().find('.netsim-button').attr('disabled', true);
};

/**
 * Enable all of the buttons within the panel (does not apply to panel-header
 * buttons!)
 */
NetSimRemoteNodeSelectionPanel.prototype.enableEverything = function () {
  this.getBody().find('.netsim-button').removeAttr('disabled');
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js","./NetSimPanel":"/home/ubuntu/staging/apps/build/js/netsim/NetSimPanel.js","./NetSimRemoteNodeSelectionPanel.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/NetSimRemoteNodeSelectionPanel.html.ejs","./NetSimRouterNode":"/home/ubuntu/staging/apps/build/js/netsim/NetSimRouterNode.js","./NetSimUtils":"/home/ubuntu/staging/apps/build/js/netsim/NetSimUtils.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimRemoteNodeSelectionPanel.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('');1;
var utils = require('../utils');
var _ = utils.getLodash();
var i18n = require('./locale');
var NetSimGlobals = require('./NetSimGlobals');
var NodeType = require('./NetSimConstants').NodeType;

/** @type {function} */
var getAssetUrl = NetSimGlobals.getAssetUrlFunction();

/** @type {NetSimLevelConfiguration} */
var levelConfig = NetSimGlobals.getLevelConfig();

/**
 * @typedef {Object} RowMetadata
 * @property {number} nodeID
 * @property {string} classAttr
 * @property {string} displayName
 * @property {string} status
 */

/**
 * For use with Array.prototype.filter()
 * @param {NetSimNode} node
 * @returns {boolean}
 */
var omitIncomingConnectionNodes = function (node) {
  return undefined === _.find(incomingConnectionNodes, function (connectionRequestNode) {
        return connectionRequestNode.entityID === node.entityID;
      });
};

/**
 * For use with Array.prototype.filter()
 * @param {NetSimNode} node
 * @returns {boolean}
 */
var omitOutgoingRequestTargets = function (node) {
  return !remoteNode || (remoteNode.entityID !== node.entityID);
};

/**
 * For use with Array.prototype.map()
 * @param {NetSimNode} node
 * @returns {RowMetadata}
 */
var nodeToRowMetadata = function (node) {
  var displayName = node.getDisplayName();
  var sortKey = displayName;
  var classes = ['user-row'];

  if (node.getNodeType() === NodeType.ROUTER) {
    // Sort routers by left-padded router number (looks like natural sort)
    sortKey = ('000' + node.routerNumber).slice(-3);
    classes = ['router-row'];
  }

  if (controller.isMyNode(node)) {
    classes.push('own-row');
  }

  return {
    nodeID: node.entityID,
    sortKey: sortKey,
    classAttr: classes.join(' '),
    displayName: displayName,
    hostname: node.getHostname(),
    status: node.getStatus(),
    isFull: node.isFull(),
    canConnectToNode: controller.canConnectToNode(node)
  };
};

/**
 * For use with Array.prototype.sort()
 * @param {RowMetadata} a
 * @param {RowMetadata} b
 * @returns {number}
 */
var lobbySort = function (a, b) {
  return (a.sortKey > b.sortKey) ? 1 : -1;
};

var lobbyRows = nodesOnShard
    .filter(controller.shouldShowNode.bind(controller))
    .filter(omitIncomingConnectionNodes)
    .filter(omitOutgoingRequestTargets)
    .map(nodeToRowMetadata)
    .sort(lobbySort);

var requestRows = incomingConnectionNodes
    .filter(controller.shouldShowNode.bind(controller))
    .filter(omitOutgoingRequestTargets)
    .map(nodeToRowMetadata)
    .sort(lobbySort);

var outgoingRequestRows = (remoteNode ? [ remoteNode ] : [])
    .filter(controller.shouldShowNode.bind(controller))
    .map(nodeToRowMetadata);

/**
 * @param {string} buttonText
 * @param {string} buttonID
 * @param {string[]} extraClasses
 * @param {Object} extraAttributes
 * @returns {string} markup for NetSim-style button
 */
function buttonMarkup(buttonText, buttonID, extraClasses, extraAttributes) {
  var classes = utils.valueOr(extraClasses, []);
  classes.push('netsim-button');
  classes.push('large-button');

  extraAttributes = utils.valueOr(extraAttributes, {});

  var markup = '<span class="' + classes.join(' ') + '" ';

  // ID attribute for span tag
  if (buttonID) {
    markup += 'id="' + buttonID + '" ';
  }

  // Extra attributes for span tag
  for (var key in extraAttributes) {
    if (extraAttributes.hasOwnProperty(key)) {
      markup += key + '="' + extraAttributes[key] + '" ';
    }
  }

  markup += '>' + buttonText + '</span>';
  return markup;
}

function writeBeginTable(classname) {
  if (classname) {
    ; buf.push('<table class="', escape((135, classname)), '">');135;
  } else {
    ; buf.push('<table>');137;
  }
}

function writeEndTable() {
  ; buf.push('</table>');142;
}

function writeBeginTbody() {
  ; buf.push('<tbody>');146;
}

function writeEndTbody() {
  ; buf.push('</tbody>');150;
}

function writeHeader(headerText) {
  ; buf.push('\n    <thead>\n      <tr>\n        <th colspan="3">', escape((157,  headerText )), '</th>\n      </tr>\n    </thead>\n  ');160;
}

function writeEmptyRow(contents) {
  contents = utils.valueOr(contents, '');
  ; buf.push('\n    <tr>\n      <td colspan="3" class="empty-row">', (167,  contents ), '</td>\n    </tr>\n  ');169;
}

function writeNodeRow(row, nodeStatus, buttonType, addlClass) {
    var button;
    if (buttonType === 'join-button') {
      button = buttonMarkup(i18n.buttonJoin(), undefined, [buttonType, addlClass], { 'data-node-id': row.nodeID });
    } else if (buttonType === 'accept-button') {
      button = buttonMarkup(i18n.buttonAccept(), undefined, [buttonType, addlClass], { 'data-node-id': row.nodeID });
    } else if (buttonType === 'cancel-button') {
      button = buttonMarkup(i18n.buttonCancel(), undefined, [buttonType, addlClass, 'secondary'], { 'data-node-id': row.nodeID });
    } else if (buttonType === 'full-button') {
      button = buttonMarkup(i18n.buttonFull(), undefined, [buttonType, addlClass], { 'disabled': 'disabled' });
    }
  ; buf.push('\n    <tr>\n      <td nowrap>', escape((185,  row.displayName )), ' <small>(', escape((185,  row.hostname )), ')</small></td>\n      ');186; if (button) { ; buf.push('\n        <td>', (187,  nodeStatus ), '</td>\n        <td class="button-column">\n          ', (189,  button ), '\n        </td>\n      ');191; } else { ; buf.push('\n        <td colspan="2">', (192,  nodeStatus ), '</td>\n      ');193; } ; buf.push('\n    </tr>\n  ');195;
}

; buf.push('\n<div class="content-wrap">\n  <div class="instructions">\n    ', escape((201,  controller.getLocalizedLobbyInstructions() )), '\n    <div class="reference-area-placeholder"></div>\n  </div>\n  <div class="controls">\n\n    ');206;
      // Outgoing request table (hidden if empty)
      if (outgoingRequestRows.length > 0) {
        writeBeginTable();
        writeHeader(i18n.outgoingConnectionRequests());
        writeBeginTbody();
        outgoingRequestRows.forEach(function (row) {
          var outgoingStatus = i18n.lobbyStatusWaitingForOther({
            spinner: '<img src="' + getAssetUrl('media/netsim/loading.gif') + '" />',
            otherName: row.displayName,
            otherStatus: row.status
          });
          writeNodeRow(row, outgoingStatus, 'cancel-button', row.classAttr);
        });
        writeEndTbody();
        writeEndTable();
      }

      // Incoming requests table (hidden if empty)
      if (requestRows.length > 0) {
        writeBeginTable();
        writeHeader(i18n.incomingConnectionRequests());
        writeBeginTbody();
        requestRows.forEach(function (row) {
          var buttonType;
          if (!controller.hasOutgoingRequest() && row.canConnectToNode) {
            buttonType = 'accept-button';
          }
          var incomingStatus = i18n.lobbyStatusWaitingForYou();
          writeNodeRow(row, incomingStatus, buttonType, row.classAttr);
        });
        writeEndTbody();
        writeEndTable();
      }
    ; buf.push('\n\n    ');242;
      // Primary lobby list
      writeBeginTable("nomargin");
      writeHeader(i18n.lobby());
      writeEndTable();
    ; buf.push('\n    <div id="netsim-scrolling-lobby">\n    ');249;
      writeBeginTable();
      writeBeginTbody();
      lobbyRows.forEach(function (row) {
        var buttonType;
        if (!controller.hasOutgoingRequest()) {
          if (row.isFull) {
            buttonType = 'full-button';
          } else if (row.canConnectToNode) {
            buttonType = 'join-button';
          }
        }
        writeNodeRow(row, row.status, buttonType, row.classAttr);
      });

      var buttons = [];

      if (controller.canAddRouter()) {
        var buttonText = levelConfig.broadcastMode ? i18n.addRoom() : i18n.addRouter();
        buttons.push(buttonMarkup(
            buttonText,
            'netsim-lobby-add-router',
            ['secondary']
        ));
      }

      if (levelConfig.showLogBrowserButton) {
        buttons.push(buttonMarkup(
            i18n.logBrowserButton(),
            'show-router-log-modal',
            ['secondary'],
            {
              'data-toggle':'modal',
              'data-target':'#router-log-modal'
            }
        ));
      }

      if (buttons.length > 0) {
        writeEmptyRow(buttons.join(' '));
      } else if (lobbyRows.length === 0) {
        writeEmptyRow(i18n.lobbyIsEmpty());
      }

      writeEndTbody();
      writeEndTable();
    ; buf.push('\n    </div>\n\n  </div>\n  <div class="clear"></div>\n</div>\n'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js","ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimNodeFactory.js":[function(require,module,exports){
/**
 * @overview Utility methods for generating the right kinds of node controllers
 *           from raw node table rows.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var NetSimConstants = require('./NetSimConstants');

var NodeType = NetSimConstants.NodeType;

var NetSimNodeFactory = module.exports;

/**
 * Given a set of rows from the node table on a shard, gives back a set of node
 * controllers (of appropriate types).
 * @param {!NetSimShard} shard
 * @param {!Array.<Object>} nodeRows
 * @throws when a row doesn't have a mappable node type.
 * @return {Array.<NetSimNode>} nodes for the rows
 */
NetSimNodeFactory.nodesFromRows = function (shard, nodeRows) {
  return nodeRows.map(NetSimNodeFactory.nodeFromRow.bind(this, shard));
};

/**
 * Given a row from the node table on a shard, gives back a node controllers
 * (of appropriate types).
 * @param {!NetSimShard} shard
 * @param {!Object} nodeRow
 * @throws when the row doesn't have a mappable node type.
 * @return {NetSimNode} node for the rows
 */
NetSimNodeFactory.nodeFromRow = function (shard, nodeRow) {
  if (nodeRow.type === NodeType.CLIENT) {
    var NetSimClientNode = require('./NetSimClientNode');
    return new NetSimClientNode(shard, nodeRow);
  } else if (nodeRow.type === NodeType.ROUTER) {
    var NetSimRouterNode = require('./NetSimRouterNode');
    return new NetSimRouterNode(shard, nodeRow);
  }

  // Oops!  We probably shouldn't ever get here.
  throw new Error("Unable to map row to node.");
};

},{"./NetSimClientNode":"/home/ubuntu/staging/apps/build/js/netsim/NetSimClientNode.js","./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimRouterNode":"/home/ubuntu/staging/apps/build/js/netsim/NetSimRouterNode.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimRouterNode.js":[function(require,module,exports){
/**
 * @overview Router node simulation entity.  Also contains logic for the
 *           auto-DNS system.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var utils = require('../utils');
var i18n = require('./locale');
var NetSimConstants = require('./NetSimConstants');
var NetSimUtils = require('./NetSimUtils');
var NetSimNode = require('./NetSimNode');
var NetSimEntity = require('./NetSimEntity');
var NetSimLogEntry = require('./NetSimLogEntry');
var NetSimLogger = require('./NetSimLogger');
var NetSimWire = require('./NetSimWire');
var NetSimMessage = require('./NetSimMessage');
var ObservableEvent = require('../ObservableEvent');
var Packet = require('./Packet');
var DataConverters = require('./DataConverters');
var NetSimNodeFactory = require('./NetSimNodeFactory');

var _ = utils.getLodash();

var serializeNumber = NetSimUtils.serializeNumber;
var deserializeNumber = NetSimUtils.deserializeNumber;

var asciiToBinary = DataConverters.asciiToBinary;

var DnsMode = NetSimConstants.DnsMode;
var NodeType = NetSimConstants.NodeType;
var BITS_PER_BYTE = NetSimConstants.BITS_PER_BYTE;

var logger = NetSimLogger.getSingleton();
var NetSimGlobals = require('./NetSimGlobals');

/**
 * @type {number}
 * @readonly
 */
var MAX_CLIENT_CONNECTIONS = 6;

/**
 * Conveniently, a router's address in its local network is always zero.
 * @type {number}
 * @readonly
 */
var ROUTER_LOCAL_ADDRESS = 0;

/**
 * Address that can only be used for the auto-dns node.
 * May eventually be replaced with a dynamically assigned address.
 * @type {number}
 * @readonly
 */
var AUTO_DNS_RESERVED_ADDRESS = 15;

/**
 * Hostname assigned to the automatic dns 'node' in the local network.
 * There will only be one of these, so it can be simple.
 * @type {string}
 * @readonly
 */
var AUTO_DNS_HOSTNAME = 'dns';

/**
 * Value the auto-DNS will return instead of an address when it can't
 * locate a node with the given hostname in the local network.
 * @type {string}
 * @readonly
 */
var AUTO_DNS_NOT_FOUND = 'NOT_FOUND';

/**
 * Maximum packet lifetime in the router queue, sort of a primitive Time-To-Live
 * system that helps prevent a queue from being indefinitely blocked by a very
 * large packet.  Packets that exceed this time will silently fail delivery.
 * @type {number}
 * @readonly
 */
var PACKET_MAX_LIFETIME_MS = 10 * 60 * 1000;

/**
 * To avoid calculating a totally unreasonable number of addresses, this is
 * the most addresses we will consider when picking one for a new host.
 * This means full support up to a 12-bit address part, which should be more
 * than enough.
 * @type {number}
 */
var ADDRESS_OPTION_LIMIT = 4096;

/**
 * Client model of simulated router
 *
 * Represents the client's view of a given router, provides methods for
 *   letting the client interact with the router, and wraps the client's
 *   work doing part of the router simulation.
 *
 * A router -exists- when it has a row in the lobby table of type 'router'
 * A router is connected to a user when a 'user' row exists in the lobby
 *   table that has a status 'Connected to {router ID} by wires {X, Y}'.
 * A router will also share a wire (simplex) or wires (duplex) with each user,
 *   which appear in the wire table.
 *
 * @param {!NetSimShard} shard
 * @param {RouterRow} [routerRow] - Lobby row for this router.
 * @constructor
 * @augments NetSimNode
 */
var NetSimRouterNode = module.exports = function (shard, row) {
  row = row !== undefined ? row : {};
  NetSimNode.call(this, shard, row);

  var levelConfig = NetSimGlobals.getLevelConfig();

  /**
   * This router's identifying number, which gets translated into its address.
   * Should be unique among routers on the shard.
   * @type {number}
   */
  this.routerNumber = row.routerNumber;

  /**
   * Unix timestamp (local) of router creation time.
   * @type {number}
   */
  this.creationTime = utils.valueOr(row.creationTime, Date.now());

  /**
   * Sets current DNS mode for the router's local network.
   * This value is manipulated by all clients.
   * @type {DnsMode}
   * @private
   */
  this.dnsMode = utils.valueOr(row.dnsMode, levelConfig.defaultDnsMode);

  /**
   * Sets current DNS node ID for the router's local network.
   * This value is manipulated by all clients.
   * @type {number}
   * @private
   */
  this.dnsNodeID = row.dnsNodeID;

  /**
   * Speed (in bits per second) at which messages are processed.
   * @type {number}
   */
  this.bandwidth = utils.valueOr(deserializeNumber(row.bandwidth), levelConfig.defaultRouterBandwidth);

  /**
   * Amount of data (in bits) that the router queue can hold before it starts
   * dropping packets.
   * @type {number}
   */
  this.memory = utils.valueOr(deserializeNumber(row.memory), levelConfig.defaultRouterMemory);

  /**
   * Percent chance (0-1) that a packet being routed will be dropped for no
   * reason.
   * @type {number}
   */
  this.randomDropChance = utils.valueOr(row.randomDropChance, levelConfig.defaultRandomDropChance);

  /**
   * Determines a subset of connection and message events that this
   * router will respond to, only managing events from the given node ID,
   * to avoid conflicting with other clients also simulating this router.
   *
   * Not persisted on server.
   *
   * @type {number}
   * @private
   */
  this.simulateForSender_ = undefined;

  /**
   * Local cache of the last tick time in the local simulation.
   * Allows us to schedule/timestamp events that don't happen inside the
   * tick event.
   * @type {number}
   * @private
   */
  this.simulationTime_ = 0;

  /**
   * Packet format specification this router will use to parse, route, and log
   * packets that it receives.  Set on router that is simulated by client.
   *
   * Not persisted on server.
   *
   * @type {Packet.HeaderType[]}
   * @private
   */
  this.packetSpec_ = [];

  /**
   * Local cache of our remote row, used to decide whether our state has
   * changed.
   * 
   * Not persisted to server.
   * 
   * @type {Object}
   * @private
   */
  this.stateCache_ = {};

  /**
   * Event others can observe, which we fire when our own remote row changes.
   * 
   * @type {ObservableEvent}
   */
  this.stateChange = new ObservableEvent();

  /**
   * Event others can observe, which we fire when the router statistics
   * change (which may be very frequent...)
   *
   * @type {ObservableEvent}
   */
  this.statsChange = new ObservableEvent();

  /**
   * Local cache of wires attached to this router, used for detecting and
   * broadcasting relevant changes.
   *
   * Not persisted on server.
   *
   * @type {Array}
   * @private
   */
  this.myWireRowCache_ = [];

  /**
   * Event others can observe, which we fire when the router's set of wires
   * changes indicating a change in the local network.
   *
   * @type {ObservableEvent}
   */
  this.wiresChange = new ObservableEvent();

  /**
   * Local cache of log rows associated with this router, used for detecting
   * and broadcasting relevant changes.
   * 
   * @type {Array}
   * @private
   */
  this.myLogRowCache_ = [];

  /**
   * Event others can observe, which we fire when the router's log content
   * changes.
   * 
   * @type {ObservableEvent}
   */
  this.logChange = new ObservableEvent();

  /**
   * Whether router is in the middle of work.  Keeps router from picking up
   * its own change notifications or interrupting its own processes.
   * @type {boolean}
   * @private
   */
  this.isRouterProcessing_ = false;

  /**
   * Local cache of messages that need to be processed by (any simulation
   * of) the router.  Used for tracking router memory, throughput, etc.
   * @type {NetSimMessage[]}
   * @private
   */
  this.routerQueueCache_ = [];

  /**
   * Set of scheduled 'routing events'
   * @type {Object[]}
   * @private
   */
  this.localRoutingSchedule_ = [];

  /**
   * @type {boolean}
   * @private
   */
  this.isAutoDnsProcessing_ = false;

  /**
   * Local cache of messages that need to be processed by (any simulation
   * of) the auto-DNS. Used for stats and limiting.
   * @type {NetSimMessage[]}
   * @private
   */
  this.autoDnsQueue_ = [];

  /**
   * Most clients that can be connected to this router.
   * Moved to instance variable so that tests can override it in certain cases.
   * @type {number}
   * @private
   */
  this.maxClientConnections_ = MAX_CLIENT_CONNECTIONS;
};
NetSimRouterNode.inherits(NetSimNode);

/**
 * Static async creation method. See NetSimEntity.create().
 * @param {!NetSimShard} shard
 * @param {!NodeStyleCallback} onComplete - Method that will be given the
 *        created entity, or null if entity creation failed.
 */
NetSimRouterNode.create = function (shard, onComplete) {
  var nextRouterNumber = 1;
  shard.nodeTable.readAll().forEach(function (node) {
    if (NodeType.ROUTER === node.type && node.routerNumber >= nextRouterNumber) {
      nextRouterNumber = node.routerNumber + 1;
    }
  });

  var entity = new NetSimRouterNode(shard, { routerNumber: nextRouterNumber });
  entity.getTable().create(entity.buildRow(), function (err, row) {
    if (err) {
      onComplete(err, null);
      return;
    }
    onComplete(null, new NetSimRouterNode(shard, row));
  });
};

/**
 * Static async retrieval method.  See NetSimEntity.get().
 * @param {!number} routerID - The row ID for the entity you'd like to find.
 * @param {!NetSimShard} shard
 * @param {!NodeStyleCallback} onComplete - Method that will be given the
 *        found entity, or null if entity search failed.
 */
NetSimRouterNode.get = function (routerID, shard, onComplete) {
  NetSimEntity.get(NetSimRouterNode, routerID, shard, onComplete);
};

/**
 * @typedef {Object} RouterRow
 * @property {number} creationTime - Unix timestamp (local)
 * @property {number} bandwidth - Router max transmission/processing rate
 *           in bits/second
 * @property {number} memory - Router max queue capacity in bits
 * @property {DnsMode} dnsMode - Current DNS mode for the local network
 * @property {number} dnsNodeID - Entity ID of the current DNS node in the
 *           local network.
 * @property {number} randomDropChance - Odds (0-1) that a packet being routed
 *           will be dropped for no reason.
 */

/**
 * Build table row for this node.
 * @returns {RouterRow}
 * @private
 * @override
 */
NetSimRouterNode.prototype.buildRow = function () {
  return utils.extend(NetSimRouterNode.superPrototype.buildRow.call(this), {
    routerNumber: this.routerNumber,
    creationTime: this.creationTime,
    bandwidth: serializeNumber(this.bandwidth),
    memory: serializeNumber(this.memory),
    dnsMode: this.dnsMode,
    dnsNodeID: this.dnsNodeID,
    randomDropChance: this.randomDropChance
  });
};

/**
 * Load state from remoteRow into local model, then notify anything observing
 * us that we've changed.
 * @param {RouterRow} remoteRow
 * @private
 */
NetSimRouterNode.prototype.onMyStateChange_ = function (remoteRow) {
  this.routerNumber = remoteRow.routerNumber;
  this.creationTime = remoteRow.creationTime;
  this.bandwidth = deserializeNumber(remoteRow.bandwidth);
  this.memory = deserializeNumber(remoteRow.memory);
  this.dnsMode = remoteRow.dnsMode;
  this.dnsNodeID = remoteRow.dnsNodeID;
  this.randomDropChance = remoteRow.randomDropChance;
  this.stateChange.notifyObservers(this);
};

/**
 * Performs queued routing and DNS operations.
 * @param {RunLoop.Clock} clock
 */
NetSimRouterNode.prototype.tick = function (clock) {
  this.simulationTime_ = clock.time;
  this.routeOverdueMessages_(clock);
  if (this.dnsMode === DnsMode.AUTOMATIC) {
    this.tickAutoDns_(clock);
  }
};

/**
 * This name is a bit of a misnomer, but it's memorable; we actually route
 * all messages that are DUE or OVERDUE.
 * @param {RunLoop.Clock} clock
 * @private
 */
NetSimRouterNode.prototype.routeOverdueMessages_ = function (clock) {
  if (this.isRouterProcessing_) {
    return;
  }

  // Separate out messages whose scheduled time has arrived or is past.
  // Flag them so we can remove them later.
  var readyScheduleMessages = [];
  var expiredScheduleMessages = [];
  this.localRoutingSchedule_.forEach(function (item) {
    if (clock.time >= item.completionTime) {
      item.beingRouted = true;
      readyScheduleMessages.push(item.message);
    } else if (clock.time >= item.expirationTime) {
      item.beingRouted = true;
      expiredScheduleMessages.push(item.message);
    }
  });

  // If no messages are ready, we're done.
  if (readyScheduleMessages.length + expiredScheduleMessages.length === 0) {
    return;
  }

  // First, remove the expired items.  They just silently vanish
  this.isRouterProcessing_ = true;
  NetSimEntity.destroyEntities(expiredScheduleMessages, (function () {

    // Next, process the messages that are ready for routing
    this.routeMessages_(readyScheduleMessages, (function () {

      // Finally, remove all the schedule entries that we flagged earlier
      this.localRoutingSchedule_ = this.localRoutingSchedule_.filter(function (item) {
        return !item.beingRouted;
      });
      this.isRouterProcessing_ = false;
    }).bind(this));
  }).bind(this));
};

/**
 * Examine the queue, and add/adjust schedule entries for packets that
 * should be handled by the local simulation.  If a packet has no entry,
 * it should be added to the schedule.  If it does and we can see that its
 * scheduled completion time is too far in the future, we should move it up.
 */
NetSimRouterNode.prototype.recalculateSchedule = function () {
  // To calculate our schedule, we keep a rolling "Pessimistic completion time"
  // as we walk down the queue.  This "pessimistic time" is when the packet
  // would finish processing, assuming all of the packets ahead of it in the
  // queue must be processed first and the first packet in the queue is just
  // starting to process now.  We do this because the first packet might be
  // owned by a remote client, so we won't have partial progress information
  // on it.
  //
  // Thus, the pessimistic time is the _latest_ we would expect the router
  // to be done processing the packet given the current bandwidth setting,
  // if the router was an actual hardware device.
  //
  // The estimate is actually _optimistic_ in the sense that it doesn't wait
  // for notification that a remotely-simulated packet is done before
  // processing a locally-simulated one.  We're making our best guess about
  // how the packets would be timed with no latency introducing gaps between
  // packets.
  //
  // If the client simulating the packet at the head of the queue disconnects
  // it won't block other packets from being sent, but it will increase their
  // "pessimistic estimates" until that orphaned packet gets cleaned up.

  var queueSizeInBits = 0;
  var pessimisticCompletionTime = this.simulationTime_;
  var queuedMessage;
  var processingDuration;
  for (var i = 0; i < this.routerQueueCache_.length; i++) {
    queuedMessage = this.routerQueueCache_[i];
    queueSizeInBits += queuedMessage.payload.length;
    processingDuration = this.calculateProcessingDurationForMessage_(queuedMessage);
    pessimisticCompletionTime += processingDuration;

    // Don't schedule beyond memory capacity; we're going to drop those packets
    if (this.localSimulationOwnsMessage_(queuedMessage) && queueSizeInBits <= this.memory) {
      this.scheduleRoutingForMessage(queuedMessage, pessimisticCompletionTime);
    }
  }
};

/**
 * Checks the schedule for the queued row.  If no schedule entry exists, adds
 * a new one with the provided pessimistic completion time.  If it's already
 * scheduled and the pessimistic time given is BETTER than the previously
 * scheduled completion time, will update the schedule entry with the better
 * time.
 * @param {NetSimMessage} queuedMessage
 * @param {number} pessimisticCompletionTime - in local simulation time
 */
NetSimRouterNode.prototype.scheduleRoutingForMessage = function (queuedMessage, pessimisticCompletionTime) {
  var scheduleItem = _.find(this.localRoutingSchedule_, function (item) {
    return item.message.entityID === queuedMessage.entityID;
  });

  if (scheduleItem) {
    // When our pessimistic time is better than our scheduled time we
    // should update the scheduled time.  This can happen when messages
    // earlier in the queue expire, or are otherwise removed earlier than
    // their size led us to expect.
    if (pessimisticCompletionTime < scheduleItem.completionTime) {
      scheduleItem.completionTime = pessimisticCompletionTime;
    }
  } else {
    // If the item doesn't have a schedule entry at all, add it
    this.addMessageToSchedule_(queuedMessage, pessimisticCompletionTime);
  }
};

/**
 * Adds a new entry to the routing schedule, with a default expiration time.
 * @param {NetSimMessage} queuedMessage - message to route
 * @param {number} completionTime - in simulation time
 * @private
 */
NetSimRouterNode.prototype.addMessageToSchedule_ = function (queuedMessage, completionTime) {
  this.localRoutingSchedule_.push({
    message: queuedMessage,
    completionTime: completionTime,
    expirationTime: this.simulationTime_ + PACKET_MAX_LIFETIME_MS,
    beingRouted: false
  });
};

/**
 * Takes a message out of the routing schedule.  Modifies the schedule,
 * should not be called while iterating through the schedule!
 * Does nothing if the message isn't present in the schedule.
 * @param {NetSimMessage} queuedMessage
 * @private
 */
NetSimRouterNode.prototype.removeMessageFromSchedule_ = function (queuedMessage) {
  var scheduleIdx;
  for (var i = 0; i < this.localRoutingSchedule_.length; i++) {
    if (this.localRoutingSchedule_[i].message.entityID === queuedMessage.entityID) {
      scheduleIdx = i;
    }
  }
  if (scheduleIdx !== undefined) {
    this.localRoutingSchedule_.splice(scheduleIdx, 1);
  }
};

/**
 * Lets the auto-DNS part of the router simulation handle its requests.
 * For now, auto-DNS can do "batch" processing, no throughput limits.
 * @private
 */
NetSimRouterNode.prototype.tickAutoDns_ = function () {
  if (this.isAutoDnsProcessing_) {
    return;
  }

  // Filter DNS queue down to requests the local simulation should handle.
  var localSimDnsRequests = this.autoDnsQueue_.filter(this.localSimulationOwnsMessage_.bind(this));

  // If there's nothing we can process, we're done.
  if (localSimDnsRequests.length === 0) {
    return;
  }

  // Process DNS requests
  this.isAutoDnsProcessing_ = true;
  this.processAutoDnsRequests_(localSimDnsRequests, (function () {
    this.isAutoDnsProcessing_ = false;
  }).bind(this));
};

/** @inheritdoc */
NetSimRouterNode.prototype.getDisplayName = function () {
  if (NetSimGlobals.getLevelConfig().broadcastMode) {
    return i18n.roomNumberX({
      x: this.getRouterNumber()
    });
  }

  return i18n.routerNumberX({
    x: this.getRouterNumber()
  });
};

/**
 * Given the level address format string (e.g. "4.4.4.4") which it pulls from
 * globals, returns an array of the parsed lengths of each format part in order
 * (e.g. [4, 4, 4, 4]).
 * @returns {number[]}
 */
function getAddressFormatParts() {
  return NetSimGlobals.getLevelConfig().addressFormat.split(/\D+/).filter(function (part) {
    return part.length > 0;
  }).map(function (part) {
    return parseInt(part, 10);
  });
}

/**
 * Helper that prevents the router's display number or address from being beyond
 * the representable size of the the router part in the address format (if
 * two-part addresses are being used).
 * Does not do anything special to prevent collisions, just returns entityID
 * modulo the assignable address space - but this will be better than having
 * non-conflicting routers you can never address at all.
 * @returns {number}
 */
NetSimRouterNode.prototype.getRouterNumber = function () {
  // If two or more parts, limit our router number to the maximum value of
  // the second-to-last address part.
  var addressFormatParts = getAddressFormatParts();
  if (addressFormatParts.length >= 2) {
    var assignableAddressValues = Math.pow(2, addressFormatParts.reverse()[1]);
    return this.routerNumber % assignableAddressValues;
  }
  return this.routerNumber;
};

/**
 * Get the maximum number of routers that will be allowed on the shard.
 * In most levels this is a strict global value (probably 20).
 * In levels using an address format with two or more parts the second-to-last
 * part determines the addressable space for routers, and the max routers
 * will be the minimum of the global max and the addressable space.
 *
 * @example If the global max routers is 20, but the address format is 4.4,
 *          we can only address 16 routers (less than 20) so 16 is our max
 *          routers per shard value.
 *
 * @returns {number}
 */
NetSimRouterNode.getMaximumRoutersPerShard = function () {
  // If two or more parts, limit our routers to the maximum value of
  // the second-to-last address part.
  var addressFormatParts = getAddressFormatParts();
  if (addressFormatParts.length >= 2) {
    return Math.min(NetSimGlobals.getGlobalMaxRouters(), Math.pow(2, addressFormatParts.reverse()[1]));
  }
  return NetSimGlobals.getGlobalMaxRouters();
};

/**
 * Get node's own address, which is dependent on the address format
 * configured in the level but for routers always ends in zero.
 * @returns {string}
 */
NetSimRouterNode.prototype.getAddress = function () {
  return this.makeLocalNetworkAddress_(ROUTER_LOCAL_ADDRESS);
};

/**
 * Get local network's auto-dns address, which is dependent on the address
 * format configured for the level but the last part should always be 15.
 * @returns {string}
 */
NetSimRouterNode.prototype.getAutoDnsAddress = function () {
  return this.makeLocalNetworkAddress_(AUTO_DNS_RESERVED_ADDRESS);
};

/**
 * Get node's hostname, a modified version of its display name.
 * @returns {string}
 * @override
 */
NetSimRouterNode.prototype.getHostname = function () {
  // Use regex to strip anything that's not a word-character or a digit
  // from the node's display name.  For routers, we don't append the node ID
  // because it's already part of the display name.
  return this.getDisplayName().replace(/[^\w\d]/g, '').toLowerCase();
};

/** @inheritdoc */
NetSimRouterNode.prototype.getNodeType = function () {
  return NodeType.ROUTER;
};

/** @inheritdoc */
NetSimRouterNode.prototype.getStatus = function () {
  var levelConfig = NetSimGlobals.getLevelConfig();
  var connectionCount = this.countConnections();
  if (connectionCount === 0) {
    if (levelConfig.broadcastMode) {
      return i18n.roomStatusNoConnections({
        maximumClients: this.maxClientConnections_
      });
    }

    return i18n.routerStatusNoConnections({
      maximumClients: this.maxClientConnections_
    });
  }

  var connectedNodeNames = this.getConnectedNodeNames_().join(', ');
  if (connectionCount >= this.maxClientConnections_) {
    if (levelConfig.broadcastMode) {
      return i18n.roomStatusFull({
        connectedClients: connectedNodeNames
      });
    }

    return i18n.routerStatusFull({
      connectedClients: connectedNodeNames
    });
  }

  if (levelConfig.broadcastMode) {
    return i18n.roomStatus({
      connectedClients: connectedNodeNames,
      remainingSpace: this.maxClientConnections_ - connectionCount
    });
  }

  return i18n.routerStatus({
    connectedClients: connectedNodeNames,
    remainingSpace: this.maxClientConnections_ - connectionCount
  });
};

/**
 * @returns {string[]} the names of all the nodes connected to this router.
 * @private
 */
NetSimRouterNode.prototype.getConnectedNodeNames_ = function () {
  var cachedNodeRows = this.shard_.nodeTable.readAll();
  return this.getConnections().map(function (wire) {
    var nodeRow = _.find(cachedNodeRows, function (nodeRow) {
      return nodeRow.id === wire.localNodeID;
    });
    if (nodeRow) {
      return nodeRow.name;
    }
    return i18n.unknownNode();
  });
};

/** @inheritdoc */
NetSimRouterNode.prototype.isFull = function () {
  // Determine status based on cached wire data
  var cachedWireRows = this.shard_.wireTable.readAll();
  var incomingWireRows = cachedWireRows.filter(function (wireRow) {
    return wireRow.remoteNodeID === this.entityID;
  }, this);

  return incomingWireRows.length >= this.maxClientConnections_;
};

/**
 * Makes sure that the given specification contains the fields that this
 * router needs to do its job.
 * @param {Packet.HeaderType[]} packetSpec
 * @private
 */
NetSimRouterNode.prototype.validatePacketSpec_ = function (packetSpec) {
  // There are no requirements in broadcast mode
  if (NetSimGlobals.getLevelConfig().broadcastMode) {
    return;
  }

  // Require TO_ADDRESS for routing
  if (!packetSpec.some(function (headerField) {
    return headerField === Packet.HeaderType.TO_ADDRESS;
  })) {
    logger.warn("Packet specification does not have a toAddress field.");
  }

  // Require FROM_ADDRESS for auto-DNS tasks
  if (!packetSpec.some(function (headerField) {
    return headerField === Packet.HeaderType.FROM_ADDRESS;
  })) {
    logger.warn("Packet specification does not have a fromAddress field.");
  }
};

/**
 * Puts this router controller into a mode where it will only
 * simulate for connection and messages -from- the given node.
 * @param {!number} nodeID
 */
NetSimRouterNode.prototype.initializeSimulation = function (nodeID) {
  this.simulateForSender_ = nodeID;
  this.packetSpec_ = NetSimGlobals.getLevelConfig().routerExpectsPacketHeader;
  this.validatePacketSpec_(this.packetSpec_);

  if (nodeID !== undefined) {
    var nodeChangeEvent = this.shard_.nodeTable.tableChange;
    var nodeChangeHandler = this.onNodeTableChange_.bind(this);
    this.nodeChangeKey_ = nodeChangeEvent.register(nodeChangeHandler);

    var wireChangeEvent = this.shard_.wireTable.tableChange;
    var wireChangeHandler = this.onWireTableChange_.bind(this);
    this.wireChangeKey_ = wireChangeEvent.register(wireChangeHandler);

    var logChangeEvent = this.shard_.logTable.tableChange;
    var logChangeHandler = this.onLogTableChange_.bind(this);
    this.logChangeKey_ = logChangeEvent.register(logChangeHandler);

    var newMessageEvent = this.shard_.messageTable.tableChange;
    var newMessageHandler = this.onMessageTableChange_.bind(this);
    this.newMessageEventKey_ = newMessageEvent.register(newMessageHandler);

    // Populate router wire cache with initial data
    this.onWireTableChange_();

    // Populate router log cache with initial data
    this.onLogTableChange_();
  }
};

/**
 * Gives the simulating node a chance to unregister from anything it
 * was observing.
 */
NetSimRouterNode.prototype.stopSimulation = function () {
  if (this.nodeChangeKey_ !== undefined) {
    var nodeChangeEvent = this.shard_.nodeTable.tableChange;
    nodeChangeEvent.unregister(this.nodeChangeKey_);
    this.nodeChangeKey_ = undefined;
  }

  if (this.wireChangeKey_ !== undefined) {
    var wireChangeEvent = this.shard_.wireTable.tableChange;
    wireChangeEvent.unregister(this.wireChangeKey_);
    this.wireChangeKey_ = undefined;
  }

  if (this.logChangeKey_ !== undefined) {
    var logChangeEvent = this.shard_.logTable.tableChange;
    logChangeEvent.unregister(this.logChangeKey_);
    this.logChangeKey_ = undefined;
  }

  if (this.newMessageEventKey_ !== undefined) {
    var newMessageEvent = this.shard_.messageTable.tableChange;
    newMessageEvent.unregister(this.newMessageEventKey_);
    this.newMessageEventKey_ = undefined;
  }
};

/**
 * Puts the router into the given DNS mode, triggers a remote update,
 * and creates/destroys the network's automatic DNS node.
 * @param {DnsMode} newDnsMode
 */
NetSimRouterNode.prototype.setDnsMode = function (newDnsMode) {
  if (this.dnsMode === newDnsMode) {
    return;
  }

  if (this.dnsMode === DnsMode.NONE) {
    this.dnsNodeID = undefined;
  } else if (this.dnsMode === DnsMode.AUTOMATIC) {
    this.dnsNodeID = AUTO_DNS_RESERVED_ADDRESS;
  }

  this.dnsMode = newDnsMode;
  this.update();
};

/**
 * @param {number} newBandwidth in bits per second
 */
NetSimRouterNode.prototype.setBandwidth = function (newBandwidth) {
  if (this.bandwidth === newBandwidth) {
    return;
  }

  this.bandwidth = newBandwidth;
  this.recalculateSchedule();
  this.update();
};

/**
 * @param {number} newMemory in bits
 */
NetSimRouterNode.prototype.setMemory = function (newMemory) {
  if (this.memory === newMemory) {
    return;
  }

  this.memory = newMemory;
  this.enforceMemoryLimit_();
  this.update();
};

/**
 * @returns {NetSimWire[]} all of the wires that are attached to this router.
 */
NetSimRouterNode.prototype.getConnections = function () {
  var shard = this.shard_;
  var routerID = this.entityID;
  return shard.wireTable.readAll().filter(function (wireRow) {
    return wireRow.remoteNodeID === routerID;
  }).map(function (wireRow) {
    return new NetSimWire(shard, wireRow);
  });
};

/**
 * @returns {number} total number of wires connected to this router.
 */
NetSimRouterNode.prototype.countConnections = function () {
  return this.getConnections().length;
};

/**
 * Add a router log entry (not development logging, this is user-facing!)
 * @param {string} packet - binary log payload
 * @param {NetSimLogEntry.LogStatus} status
 */
NetSimRouterNode.prototype.log = function (packet, status) {
  NetSimLogEntry.create(this.shard_, this.entityID, packet, status, function () {});
};

/**
 * @param {Array} haystack
 * @param {*} needle
 * @returns {boolean} TRUE if needle found in haystack
 */
var contains = function contains(haystack, needle) {
  return haystack.some(function (element) {
    return element === needle;
  });
};

/**
 * Called when another node establishes a connection to this one, giving this
 * node a chance to reject the connection.
 *
 * The router checks against its connection limit, and rejects the connection
 * if its limit is now exceeded.
 *
 * @param {!NetSimNode} otherNode attempting to connect to this one
 * @param {!NodeStyleCallback} onComplete response method - should call with TRUE
 *        if connection is allowed, FALSE if connection is rejected.
 */
NetSimRouterNode.prototype.acceptConnection = function (otherNode, onComplete) {
  var rejectionReason = null;

  // Force a refresh to verify that we have not exceeded the connection limit.
  this.shard_.wireTable.refresh().done((function () {
    var connections = this.getConnections();

    // Check for connection limit exceeded
    if (connections.length > this.maxClientConnections_) {
      rejectionReason = new Error("Too many connections.");
      return;
    }

    // Check for address collisions
    var addressesSoFar = {};
    addressesSoFar[this.getAddress()] = true;
    addressesSoFar[this.getAutoDnsAddress()] = true;
    var addressCollision = connections.some(function (wire) {
      var collides = addressesSoFar.hasOwnProperty(wire.localAddress);
      addressesSoFar[wire.localAddress] = true;
      return collides;
    });
    if (addressCollision) {
      rejectionReason = new Error("Address collision detected.");
    }
  }).bind(this)).fail(function (err) {
    logger.info("Rejected connection from " + otherNode.getDisplayName() + ": " + err.message);
    rejectionReason = err;
  }).always(function () {
    onComplete(rejectionReason, null === rejectionReason);
  });
};

/**
 * Generate a list of available addresses, then pick one at random and return it.
 * @returns {string} a new available address.
 */
NetSimRouterNode.prototype.getRandomAvailableClientAddress = function () {
  var addressList = this.getConnections().filter(function (wire) {
    return wire.localAddress !== undefined;
  }).map(function (wire) {
    return wire.localAddress;
  });

  // Generate a list of unused addresses in the addressable space (to a limit)
  var addressFormat = NetSimGlobals.getLevelConfig().addressFormat;
  var addressPartSizes = addressFormat.split(/\D+/).filter(function (part) {
    return part.length > 0;
  }).map(function (part) {
    return parseInt(part, 10);
  }).reverse();
  var maxLocalAddresses = Math.min(Math.pow(2, addressPartSizes[0]), ADDRESS_OPTION_LIMIT);

  var possibleAddresses = [];
  var nextAddress;
  for (var i = 0; i < maxLocalAddresses; i++) {
    nextAddress = this.makeLocalNetworkAddress_(i);
    // Verify that the address in question is not taken already.
    if (!(nextAddress === this.getAddress() || nextAddress === this.getAutoDnsAddress() || contains(addressList, nextAddress))) {
      possibleAddresses.push(nextAddress);
    }
  }

  var randomIndex = NetSimGlobals.randomIntInRange(0, possibleAddresses.length);
  return possibleAddresses[randomIndex];
};

/**
 * Generate an address matching the level's configured address format, that
 * falls within this router's local network and ends in the given value.
 * @param {number} lastPart
 * @returns {string}
 * @private
 */
NetSimRouterNode.prototype.makeLocalNetworkAddress_ = function (lastPart) {
  var addressFormat = NetSimGlobals.getLevelConfig().addressFormat;
  var usedLastPart = false;
  var usedRouterID = false;

  return addressFormat.split(/(\D+)/).reverse().map((function (part) {
    var bitWidth = parseInt(part, 10);
    if (isNaN(bitWidth)) {
      // This is a non-number part, pass it through to the result
      return part;
    }

    if (!usedLastPart) {
      usedLastPart = true;
      return lastPart.toString();
    }

    if (!usedRouterID) {
      usedRouterID = true;
      return this.getRouterNumber().toString();
    }

    return '0';
  }).bind(this)).reverse().join('');
};

/**
 * @returns {Array} A list of remote nodes connected to this router, including
 *          their hostname, address, whether they are the local node, and
 *          whether they are the current DNS node for the network.
 */
NetSimRouterNode.prototype.getAddressTable = function () {
  var addressTable = this.myWireRowCache_.map((function (row) {
    return {
      hostname: row.localHostname,
      address: row.localAddress,
      isLocal: row.localNodeID === this.simulateForSender_,
      isDnsNode: row.localNodeID === this.dnsNodeID
    };
  }).bind(this));

  // Special case: In auto-dns mode we add the DNS entry to the address table
  if (this.dnsMode === DnsMode.AUTOMATIC) {
    addressTable.push({
      hostname: AUTO_DNS_HOSTNAME,
      address: this.getAutoDnsAddress(),
      isLocal: false,
      isDnsNode: true
    });
  }

  return addressTable;
};

/**
 * Given a node ID, finds the local network address of that node.  Cannot
 * be used to find the address of the router or auto-dns node (since their
 * node IDs are not unique).  Will return undefined if the node ID is not
 * found.
 *
 * @param {number} nodeID
 * @returns {number|undefined}
 * @private
 */
NetSimRouterNode.prototype.getAddressForNodeID_ = function (nodeID) {
  var wireRow = _.find(this.myWireRowCache_, function (row) {
    return row.localNodeID === nodeID;
  });

  if (wireRow !== undefined) {
    return wireRow.localAddress;
  }
  return undefined;
};

/**
 * Given a hostname, finds the local network address of the node with that
 * hostname.  Will return undefined if no node with that hostname is found.
 *
 * @param {string} hostname
 * @returns {number|undefined}
 * @private
 */
NetSimRouterNode.prototype.getAddressForHostname_ = function (hostname) {
  if (hostname === this.getHostname()) {
    return this.getAddress();
  }

  if (this.dnsMode === DnsMode.AUTOMATIC && hostname === AUTO_DNS_HOSTNAME) {
    return this.getAutoDnsAddress();
  }

  var wireRow = _.find(this.myWireRowCache_, function (row) {
    return row.localHostname === hostname;
  });

  if (wireRow !== undefined) {
    return wireRow.localAddress;
  }

  // If we don't have connected routers, this is as far as the auto-DNS can see.
  if (!NetSimGlobals.getLevelConfig().connectedRouters) {
    return undefined;
  }

  // Is it some node elsewhere on the shard?
  var nodes = NetSimNodeFactory.nodesFromRows(this.shard_, this.shard_.nodeTable.readAll());
  var node = _.find(nodes, function (node) {
    return node.getHostname() === hostname;
  });
  if (node) {
    return node.getAddress();
  }

  return undefined;
};

/**
 * Given a local network address, finds the node ID of the node at that
 * address.  Will return undefined if no node is found at the given address.
 *
 * @param {string} address
 * @returns {number|undefined}
 * @private
 */
NetSimRouterNode.prototype.getNodeIDForAddress_ = function (address) {
  if (address === this.getAddress()) {
    return this.entityID;
  }

  if (this.dnsMode === DnsMode.AUTOMATIC && address === this.getAutoDnsAddress()) {
    return this.entityID;
  }

  var wireRow = _.find(this.myWireRowCache_, function (row) {
    return row.localAddress === address;
  });

  if (wireRow !== undefined) {
    return wireRow.localNodeID;
  }
  return undefined;
};

/**
 * Given a network address, finds the node that is the next step along the
 * correct path from this router to that address.  Will return null if no
 * path to the address is found.
 * @param {string} address
 * @param {number} hopsRemaining
 * @param {number[]} visitedNodeIDs
 * @returns {NetSimNode|null}
 * @private
 */
NetSimRouterNode.prototype.getNextNodeTowardAddress_ = function (address, hopsRemaining, visitedNodeIDs) {
  // Is it us?
  if (address === this.getAddress()) {
    return this;
  }

  // Is it our Auto-DNS node?
  if (this.dnsMode === DnsMode.AUTOMATIC && address === this.getAutoDnsAddress()) {
    return this;
  }

  // Is it a local client?
  var nodes = NetSimNodeFactory.nodesFromRows(this.shard_, this.shard_.nodeTable.readAll());
  var wireRow = _.find(this.myWireRowCache_, function (row) {
    return row.localAddress === address;
  });
  if (wireRow !== undefined) {
    var localClient = _.find(nodes, function (node) {
      return node.entityID === wireRow.localNodeID;
    });
    if (localClient !== undefined) {
      return localClient;
    }
  }

  // End of local subnet cases:
  // In levels where routers are not connected, this is as far as we go.
  var levelConfig = NetSimGlobals.getLevelConfig();
  if (!levelConfig.connectedRouters) {
    return null;
  }

  // Is it another node?
  var destinationNode = _.find(nodes, function (node) {
    return address === node.getAddress() || node.dnsMode === DnsMode.AUTOMATIC && node.getNodeType() === NodeType.ROUTER && address === node.getAutoDnsAddress();
  });

  // If the node we're after doesn't exist anywhere, we should stop now.
  if (!destinationNode) {
    return null;
  }

  // We are trying to get somewhere else!  Figure out what the target router
  // for our destination is.
  var destinationRouter = null;
  if (destinationNode.getNodeType() === NodeType.ROUTER) {
    destinationRouter = destinationNode;
  } else {
    var destinationWire = destinationNode.getOutgoingWire();
    if (destinationWire) {
      destinationRouter = utils.valueOr(_.find(nodes, function (node) {
        return node.entityID === destinationWire.remoteNodeID;
      }), null);
    }
  }

  if (!destinationRouter) {
    return null;
  }

  // If we have extra hops, we should try and go to a router that is NOT
  // the target router.
  if (hopsRemaining > 0) {
    // Generate the set of possible target routers
    var possibleDestinationRouters = nodes.filter(function (node) {
      return node.getNodeType() === NodeType.ROUTER && node.entityID !== destinationRouter.entityID && node.entityID !== this.entityID && !visitedNodeIDs.some(function (visitedID) {
        return node.entityID === visitedID;
      });
    }, this);
    if (possibleDestinationRouters.length > 0) {
      return NetSimGlobals.randomPickOne(possibleDestinationRouters);
    }
  }

  // If there's nowhere else to go or we are out of extra hops, go to the
  // target router.
  return destinationRouter;
};

/**
 * When the node table changes, we check whether our own row has changed
 * and propagate those changes as appropriate.
 * @private
 * @throws
 */
NetSimRouterNode.prototype.onNodeTableChange_ = function () {
  var myRow = _.find(this.shard_.nodeTable.readAll(), (function (row) {
    return row.id === this.entityID;
  }).bind(this));

  if (myRow === undefined) {
    // This can happen now, to non-primary routers, because detection
    // of the router's removal (stopping its simulation) in NetSimLocalClientNode
    // and this method happen in an uncertain order.
    return;
  }

  if (!_.isEqual(this.stateCache_, myRow)) {
    this.stateCache_ = myRow;
    this.onMyStateChange_(myRow);
  }
};

/**
 * When the wires table changes, we may have a new connection or have lost
 * a connection.  Propagate updates about our connections
 * @private
 */
NetSimRouterNode.prototype.onWireTableChange_ = function () {
  var myWireRows = this.shard_.wireTable.readAll().filter((function (row) {
    return row.remoteNodeID === this.entityID;
  }).bind(this));

  if (!_.isEqual(this.myWireRowCache_, myWireRows)) {
    this.myWireRowCache_ = myWireRows;
    this.wiresChange.notifyObservers();
  }
};

/**
 * When the logs table changes, we may have a new connection or have lost
 * a connection.  Propagate updates about our connections
 * @private
 */
NetSimRouterNode.prototype.onLogTableChange_ = function () {
  var myLogRows = this.shard_.logTable.readAll().filter((function (row) {
    return row.nodeID === this.entityID;
  }).bind(this));

  if (!_.isEqual(this.myLogRowCache_, myLogRows)) {
    this.myLogRowCache_ = myLogRows;
    this.logChange.notifyObservers();
  }
};

/**
 * Get list of log entries in this router's memory.
 * @returns {NetSimLogEntry[]}
 */
NetSimRouterNode.prototype.getLog = function () {
  return this.myLogRowCache_.map((function (row) {
    return new NetSimLogEntry(this.shard_, row, this.packetSpec_);
  }).bind(this));
};

/**
 * @returns {number} the number of packets in the router queue
 */
NetSimRouterNode.prototype.getQueuedPacketCount = function () {
  return this.routerQueueCache_.length;
};

/**
 * @returns {number} router memory currently in use, in bits
 */
NetSimRouterNode.prototype.getMemoryInUse = function () {
  return this.routerQueueCache_.reduce(function (prev, cur) {
    return prev + cur.payload.length;
  }, 0);
};

/**
 * @returns {number} expected router data rate (in bits per second) over the
 *          next second
 */
NetSimRouterNode.prototype.getCurrentDataRate = function () {
  // For simplicity, we're defining the 'curent data rate' as how many bits
  // we expect to get processed in the next second; which is our queue size,
  // capped at our bandwidth.
  return Math.min(this.getMemoryInUse(), this.bandwidth);
};

/**
 * When the message table changes, we might have a new message to handle.
 * Check for and handle unhandled messages.
 * @private
 * @throws if this method is called on a non-simulating router.
 */
NetSimRouterNode.prototype.onMessageTableChange_ = function () {
  if (!this.simulateForSender_) {
    // What?  Only simulating routers should be hooked up to message notifications.
    throw new Error("Non-simulating router got message table change notifiction");
  }

  var messages = this.shard_.messageTable.readAll().map((function (row) {
    return new NetSimMessage(this.shard_, row);
  }).bind(this));

  this.updateRouterQueue_(messages);

  if (this.dnsMode === DnsMode.AUTOMATIC) {
    this.updateAutoDnsQueue_(messages);
  }
};

/**
 * Updates our cache of all messages that are going to the router (regardless
 * of which simulation will handle them), so we can use it for stats and rate
 * limiting.
 * @param {NetSimMessage[]} messages
 */
NetSimRouterNode.prototype.updateRouterQueue_ = function (messages) {
  var newQueue = messages.filter(NetSimMessage.isValid).filter(this.isMessageToRouter_.bind(this));
  if (_.isEqual(this.routerQueueCache_, newQueue)) {
    return;
  }

  logger.info(this.getDisplayName() + ': Message queue updated (size ' + newQueue.length + ')');

  this.routerQueueCache_ = newQueue;
  this.recalculateSchedule();
  this.enforceMemoryLimit_();
  this.statsChange.notifyObservers(this);
};

/**
 * Checks the router queue for packets beyond the router's memory limit,
 * and drops the first one we simulate locally.  Since this will trigger
 * a table change, this will occur async-recursively until all packets
 * over the memory limit are dropped.
 * @private
 */
NetSimRouterNode.prototype.enforceMemoryLimit_ = function () {
  // Only proceed if a packet we simulate exists beyond the memory limit
  var droppablePacket = this.findFirstLocallySimulatedPacketOverMemoryLimit();
  if (!droppablePacket) {
    return;
  }

  this.removeMessageFromSchedule_(droppablePacket);
  droppablePacket.destroy((function (err) {
    if (err) {
      // Rarely, this could fire twice for one packet and have one drop fail.
      // That's fine; just don't log if we didn't successfully drop.
      return;
    }

    this.log(droppablePacket.payload, NetSimLogEntry.LogStatus.DROPPED);
  }).bind(this));
};

/**
 * Walk the router queue, and return the first packet we find beyond the router's
 * memory capacity that the local simulation controls and is able to drop.
 * @returns {NetSimMessage|null} null if no such message is found.
 */
NetSimRouterNode.prototype.findFirstLocallySimulatedPacketOverMemoryLimit = function () {
  var packet;
  var usedMemory = 0;
  for (var i = 0; i < this.routerQueueCache_.length; i++) {
    packet = this.routerQueueCache_[i];
    usedMemory += packet.payload.length;
    if (usedMemory > this.memory && this.localSimulationOwnsMessage_(packet)) {
      return packet;
    }
  }
  return null;
};

/**
 * @param {NetSimMessage} message
 * @returns {boolean} TRUE if this message is destined for the router (not the
 *          auto-DNS part though!) and FALSE if destined anywhere else.
 * @private
 */
NetSimRouterNode.prototype.isMessageToRouter_ = function (message) {
  if (this.dnsMode === DnsMode.AUTOMATIC && this.isMessageToAutoDns_(message)) {
    return false;
  }

  return message.toNodeID === this.entityID;
};

NetSimRouterNode.prototype.routeMessages_ = function (messages, onComplete) {
  if (messages.length === 0) {
    onComplete(null);
    return;
  }

  this.routeMessage_(messages[0], (function (err, result) {
    if (err) {
      onComplete(err, result);
      return;
    }

    this.routeMessages_(messages.slice(1), onComplete);
  }).bind(this));
};

/**
 *
 * @param {NetSimMessage} message
 * @param {!NodeStyleCallback} onComplete
 * @private
 */
NetSimRouterNode.prototype.routeMessage_ = function (message, onComplete) {
  message.destroy((function (err, result) {
    if (err) {
      onComplete(err, result);
      return;
    }

    // Apply random chance to drop packet, right as we are about to forward it
    if (this.randomDropChance > 0 && NetSimGlobals.random() <= this.randomDropChance) {
      this.log(message.payload, NetSimLogEntry.LogStatus.DROPPED);
      onComplete(null);
      return;
    }

    var levelConfig = NetSimGlobals.getLevelConfig();
    if (levelConfig.broadcastMode) {
      this.forwardMessageToAll_(message, onComplete);
    } else {
      this.forwardMessageToRecipient_(message, onComplete);
    }
  }).bind(this));
};

/**
 * Forward the given message to all nodes that are connected to this router.
 * This is effectively "hub" operation.
 * @param {NetSimMessage} message
 * @param {!NodeStyleCallback} onComplete
 * @private
 */
NetSimRouterNode.prototype.forwardMessageToAll_ = function (message, onComplete) {
  // Assumptions for broadcast mode:
  // 1. We can totally ignore packet headers, because addresses don't matter
  // 2. We won't send to the Auto-DNS, since DNS make no sense with no addresses

  // Grab the list of all connected nodes
  var connectedNodeIDs = this.myWireRowCache_.map(function (wireRow) {
    return wireRow.localNodeID;
  });

  this.forwardMessageToNodeIDs_(message, connectedNodeIDs, (function (err, result) {
    if (err) {
      this.log(message.payload, NetSimLogEntry.LogStatus.DROPPED);
    } else {
      this.log(message.payload, NetSimLogEntry.LogStatus.SUCCESS);
    }
    onComplete(err, result);
  }).bind(this));
};

/**
 * Forward the given message to the list of node IDs provided.
 * This function works by calling itself recursively with the tail of the
 * node ID list each time it finishes sending one of the messages, so
 * timing on this "broadcast" won't be exactly correct - that's probably okay
 * though, especially at the point in the curriculum where this is used.
 * @param {NetSimMessage} message
 * @param {number[]} nodeIDs
 * @param {!NodeStyleCallback} onComplete
 * @private
 */
NetSimRouterNode.prototype.forwardMessageToNodeIDs_ = function (message, nodeIDs, onComplete) {

  var messages = nodeIDs.map(function (nodeID) {
    return {
      fromNodeID: this.entityID,
      toNodeID: nodeID,
      simulatedBy: nodeID,
      payload: message.payload
    };
  }, this);

  NetSimMessage.sendMany(this.shard_, messages, onComplete);
};

/**
 * Read the given message to find its destination address, try and map that
 * address to one of our connections, and send the message payload to
 * the new address.
 *
 * @param {NetSimMessage} message
 * @param {!NodeStyleCallback} onComplete
 * @private
 */
NetSimRouterNode.prototype.forwardMessageToRecipient_ = function (message, onComplete) {
  var toAddress;
  var routerNodeID = this.entityID;

  // Find a connection to route this message to.
  try {
    var packet = new Packet(this.packetSpec_, message.payload);
    toAddress = packet.getHeaderAsAddressString(Packet.HeaderType.TO_ADDRESS);
  } catch (error) {
    logger.warn("Packet not readable by router");
    this.log(message.payload, NetSimLogEntry.LogStatus.DROPPED);
    onComplete(null);
    return;
  }

  var destinationNode = this.getNextNodeTowardAddress_(toAddress, message.extraHopsRemaining, message.visitedNodeIDs);
  if (destinationNode === null) {
    // Can't find or reach the address within the simulation
    logger.warn("Destination address not reachable");
    this.log(message.payload, NetSimLogEntry.LogStatus.DROPPED);
    onComplete(null);
    return;
  } else if (destinationNode === this && toAddress === this.getAddress()) {
    // This router IS the packet's destination, it's done.
    logger.warn("Packet stopped at router.");
    this.log(message.payload, NetSimLogEntry.LogStatus.SUCCESS);
    onComplete(null);
    return;
  }

  // TODO: Handle bad state where more than one wire matches dest address?

  // The sender simulates a message until it reaches the final leg of its trip,
  // when it's going to a client node.  At that point, the recipient takes over.
  var simulatingNodeID = message.simulatedBy;
  if (destinationNode.getNodeType() === NodeType.CLIENT) {
    simulatingNodeID = destinationNode.entityID;
  }

  // Create a new message with a new payload.
  NetSimMessage.send(this.shard_, {
    fromNodeID: routerNodeID,
    toNodeID: destinationNode.entityID,
    simulatedBy: simulatingNodeID,
    payload: message.payload,
    extraHopsRemaining: Math.max(0, message.extraHopsRemaining - 1),
    visitedNodeIDs: message.visitedNodeIDs.concat(this.entityID)
  }, (function (err, result) {
    this.log(message.payload, NetSimLogEntry.LogStatus.SUCCESS);
    onComplete(err, result);
  }).bind(this));
};

/**
 * @param {NetSimMessage} message
 * @returns {boolean} TRUE if the given message should be operated on by the local
 *          simulation, FALSE if another user's simulation should handle it.
 * @private
 */
NetSimRouterNode.prototype.localSimulationOwnsMessage_ = function (message) {
  return this.simulateForSender_ && message.simulatedBy === this.simulateForSender_;
};

/**
 * @param {NetSimMessage} message
 * @returns {number} time required to process this message, in milliseconds.
 * @private
 */
NetSimRouterNode.prototype.calculateProcessingDurationForMessage_ = function (message) {
  if (this.bandwidth === Infinity) {
    return 0;
  }
  return message.payload.length * 1000 / this.bandwidth;
};

/**
 * Update queue of all auto-dns messages, which can be used for stats or limiting.
 * @param {NetSimMessage[]} messages
 * @private
 */
NetSimRouterNode.prototype.updateAutoDnsQueue_ = function (messages) {
  var newQueue = messages.filter(this.isMessageToAutoDns_.bind(this));
  if (_.isEqual(this.autoDnsQueue_, newQueue)) {
    return;
  }

  this.autoDnsQueue_ = newQueue;
  // Propagate notification of queue change?
  // Work will proceed on next tick
};

/**
 * @param {NetSimMessage} message
 * @return {boolean}
 */
NetSimRouterNode.prototype.isMessageToAutoDns_ = function (message) {
  var packet, toAddress;
  try {
    packet = new Packet(this.packetSpec_, message.payload);
    toAddress = packet.getHeaderAsAddressString(Packet.HeaderType.TO_ADDRESS);
  } catch (error) {
    logger.warn("Packet not readable by auto-DNS: " + error);
    return false;
  }

  // Messages to the auto-dns are both to and from the router node, and
  // addressed to the DNS.
  return message.toNodeID === this.entityID && message.fromNodeID === this.entityID && toAddress === this.getAutoDnsAddress();
};

/**
 * Batch-process DNS requests, generating responses wherever possible.
 * @param {NetSimMessage[]} messages
 * @param {!NodeStyleCallback} onComplete
 * @private
 */
NetSimRouterNode.prototype.processAutoDnsRequests_ = function (messages, onComplete) {
  // 1. Remove the requests from the wire
  NetSimEntity.destroyEntities(messages, (function (err, result) {
    if (err) {
      onComplete(err, result);
      return;
    }

    // 2. Generate all responses, asynchronously.
    this.generateDnsResponses_(messages, onComplete);
  }).bind(this));
};

/**
 * @param {NetSimMessage[]} messages
 * @param {!NodeStyleCallback} onComplete
 * @private
 */
NetSimRouterNode.prototype.generateDnsResponses_ = function (messages, onComplete) {
  if (messages.length === 0) {
    onComplete(null);
    return;
  }

  // Process head
  this.generateDnsResponse_(messages[0], (function (err, result) {
    if (err) {
      onComplete(err, result);
      return;
    }

    // Process tail
    this.generateDnsResponses_(messages.slice(1), onComplete);
  }).bind(this));
};

/**
 * @param {NetSimMessage} message
 * @param {!NodeStyleCallback} onComplete
 * @private
 */
NetSimRouterNode.prototype.generateDnsResponse_ = function (message, onComplete) {
  var packet, fromAddress, query, responseHeaders, responseBody, responseBinary;
  var routerNodeID = this.entityID;
  var autoDnsNodeID = this.entityID;

  // Extract message contents
  try {
    packet = new Packet(this.packetSpec_, message.payload);
    fromAddress = packet.getHeaderAsAddressString(Packet.HeaderType.FROM_ADDRESS);
    query = packet.getBodyAsAscii(BITS_PER_BYTE);
  } catch (error) {
    // Malformed packet, ignore
    onComplete(error);
    return;
  }

  // Check that the query is well-formed
  // Regex match "GET [hostnames...]"
  // Then below, we'll split the hostnames on whitespace to process them.
  var requestMatch = query.match(/GET\s+(\S.*)/);
  if (requestMatch !== null) {
    // Good request, look up all addresses and build up response
    // Skipping first match, which is the full regex
    var responses = requestMatch[1].split(/\s+/).map((function (queryHostname) {
      var address = this.getAddressForHostname_(queryHostname);
      return queryHostname + ':' + utils.valueOr(address, AUTO_DNS_NOT_FOUND);
    }).bind(this));
    responseBody = responses.join(' ');
  } else {
    // Malformed request, send back instructions
    responseBody = i18n.autoDnsUsageMessage();
  }

  responseHeaders = {
    fromAddress: this.getAutoDnsAddress(),
    toAddress: fromAddress,
    packetIndex: 1,
    packetCount: 1
  };

  responseBinary = packet.encoder.concatenateBinary(packet.encoder.makeBinaryHeaders(responseHeaders), asciiToBinary(responseBody, BITS_PER_BYTE));

  NetSimMessage.send(this.shard_, {
    fromNodeID: autoDnsNodeID,
    toNodeID: routerNodeID,
    simulatedBy: message.simulatedBy,
    payload: responseBinary
  }, onComplete);
};

},{"../ObservableEvent":"/home/ubuntu/staging/apps/build/js/ObservableEvent.js","../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./DataConverters":"/home/ubuntu/staging/apps/build/js/netsim/DataConverters.js","./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimEntity":"/home/ubuntu/staging/apps/build/js/netsim/NetSimEntity.js","./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js","./NetSimLogEntry":"/home/ubuntu/staging/apps/build/js/netsim/NetSimLogEntry.js","./NetSimLogger":"/home/ubuntu/staging/apps/build/js/netsim/NetSimLogger.js","./NetSimMessage":"/home/ubuntu/staging/apps/build/js/netsim/NetSimMessage.js","./NetSimNode":"/home/ubuntu/staging/apps/build/js/netsim/NetSimNode.js","./NetSimNodeFactory":"/home/ubuntu/staging/apps/build/js/netsim/NetSimNodeFactory.js","./NetSimUtils":"/home/ubuntu/staging/apps/build/js/netsim/NetSimUtils.js","./NetSimWire":"/home/ubuntu/staging/apps/build/js/netsim/NetSimWire.js","./Packet":"/home/ubuntu/staging/apps/build/js/netsim/Packet.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimMessage.js":[function(require,module,exports){
/**
 * @overview Simulation entity for a message between two nodes.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var utils = require('../utils');
var NetSimEntity = require('./NetSimEntity');
var DataConverters = require('./DataConverters');
var base64ToBinary = DataConverters.base64ToBinary;
var binaryToBase64 = DataConverters.binaryToBase64;
var NetSimLogger = require('./NetSimLogger');

var logger = NetSimLogger.getSingleton();

/**
 * @typedef {Object} MessageData
 * @property {!number} fromNodeID - sender node ID
 * @property {!number} toNodeID - destination node ID
 * @property {!number} simulatedBy - node ID of client simulating message
 * @property {!string} payload - message content in a binary string
 * @property {number} extraHopsRemaining
 * @property {number[]} visitedNodeIDs
 */

/**
 * @typedef {Object} MessageRow
 * @property {!number} fromNodeID - this message in-flight-from node
 * @property {!number} toNodeID - this message in-flight-to node
 * @property {!number} simulatedBy - Node ID of the client responsible for
 *           all operations involving this message.
 * @property {!Base64Payload} base64Payload - base64-encoded binary
 *           message content, all of which can be exposed to the
 *           student.  May contain headers of its own.
 * @property {!number} extraHopsRemaining
 * @property {!number[]} visitedNodeIDs
 */

/**
 * Local controller for a message that is 'on the wire'
 *
 * Doesn't actually have any association with the wire - one could,
 * theoretically, send a message from any node in the simulation to any other
 * node in the simulation.
 *
 * Any message that exists in the table is 'in transit' to a node.  Nodes
 * should remove messages as soon as they receive them.
 *
 * @param {!NetSimShard} shard - The shard where this wire lives.
 * @param {MessageRow} [messageRow] - A row out of the _message table on the
 *        shard.  If provided, will initialize this message with the given
 *        data.  If not, this message will initialize to default values.
 * @constructor
 * @augments NetSimEntity
 * @implements MessageData
 */
var NetSimMessage = module.exports = function (shard, messageRow) {
  messageRow = messageRow !== undefined ? messageRow : {};
  NetSimEntity.call(this, shard, messageRow);

  /**
   * Node ID that this message is 'in transit' from.
   * @type {number}
   */
  this.fromNodeID = messageRow.fromNodeID;

  /**
   * Node ID that this message is 'in transit' to.
   * @type {number}
   */
  this.toNodeID = messageRow.toNodeID;

  /**
   * ID of the node responsible for operations on this message.
   * @type {number}
   */
  this.simulatedBy = messageRow.simulatedBy;

  /**
   * All other message content, including the 'packets' students will send.
   * @type {*}
   */
  this.payload = '';
  if (messageRow.base64Payload) {
    try {
      this.payload = base64ToBinary(messageRow.base64Payload.string, messageRow.base64Payload.len);
    } catch (e) {
      logger.error(e.message);
    }
  }

  /**
   * If this is an inter-router message, the number of routers this
   * message should try to visit before going to the router that
   * will actually lead to its destination.
   * @type {number}
   */
  this.extraHopsRemaining = utils.valueOr(messageRow.extraHopsRemaining, 0);

  /**
   * A history of router node IDs this message has visited.
   * @type {number[]}
   */
  this.visitedNodeIDs = utils.valueOr(messageRow.visitedNodeIDs, []);
};
NetSimMessage.inherits(NetSimEntity);

/**
 * Static row construction method. Used by dynamic buildRow method and
 * by static async API creation methods to create a properly-formatted
 * row for database insertion
 * @param {MessageData} messageData
 * @returns {MessageRow}
 * @throws {TypeError} if payload is invalid
 */
NetSimMessage.buildRowFromData = function (messageData) {
  return {
    fromNodeID: messageData.fromNodeID,
    toNodeID: messageData.toNodeID,
    simulatedBy: messageData.simulatedBy,
    base64Payload: binaryToBase64(messageData.payload),
    extraHopsRemaining: utils.valueOr(messageData.extraHopsRemaining, 0),
    visitedNodeIDs: utils.valueOr(messageData.visitedNodeIDs, [])
  };
};

/**
 * Static async creation method.  Creates a new message on the given shard,
 * and then calls the callback with a success boolean.
 * @param {!NetSimShard} shard
 * @param {!MessageData} messageData
 * @param {!NodeStyleCallback} onComplete (success)
 */
NetSimMessage.send = function (shard, messageData, onComplete) {
  try {
    var row = NetSimMessage.buildRowFromData(messageData);
    shard.messageTable.create(row, onComplete);
  } catch (err) {
    onComplete(err, null);
  }
};

/**
 * Static async multi-create method. Creates new messages on the given shard,
 * and then calls the callback with a success boolean.
 * @param {!NetSimShard} shard
 * @param {MessageData[]} messageDatas
 * @param {!NodeStyleCallback} onComplete (success)
 */
NetSimMessage.sendMany = function (shard, messageDatas, onComplete) {
  try {
    var rows = messageDatas.map(NetSimMessage.buildRowFromData);
    shard.messageTable.multiCreate(rows, onComplete);
  } catch (err) {
    onComplete(err, null);
  }
};

/**
 * Static helper.
 * @param {NetSimMessage} message
 * @returns {boolean} TRUE iff the given message is well-formed.
 */
NetSimMessage.isValid = function (message) {
  return (/^[01]*$/.test(message.payload)
  );
};

/**
 * Helper that gets the wires table for the configured instance.
 * @returns {NetSimTable}
 */
NetSimMessage.prototype.getTable = function () {
  return this.shard_.messageTable;
};

/**
 * Build own row for the message table
 * @returns {MessageRow}
 * @throws {TypeError} if payload is invalid
 */
NetSimMessage.prototype.buildRow = function () {
  return NetSimMessage.buildRowFromData(this);
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./DataConverters":"/home/ubuntu/staging/apps/build/js/netsim/DataConverters.js","./NetSimEntity":"/home/ubuntu/staging/apps/build/js/netsim/NetSimEntity.js","./NetSimLogger":"/home/ubuntu/staging/apps/build/js/netsim/NetSimLogger.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimLogEntry.js":[function(require,module,exports){
/**
 * @overview Simulation entity for router log entries.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var moment = require('moment');
var utils = require('../utils');
var _ = utils.getLodash();
var i18n = require('./locale');
var NetSimEntity = require('./NetSimEntity');
var Packet = require('./Packet');
var NetSimNodeFactory = require('./NetSimNodeFactory');
var DataConverters = require('./DataConverters');
var formatBinary = DataConverters.formatBinary;
var base64ToBinary = DataConverters.base64ToBinary;
var binaryToBase64 = DataConverters.binaryToBase64;
var NetSimLogger = require('./NetSimLogger');

var BITS_PER_BYTE = require('./NetSimConstants').BITS_PER_BYTE;
var logger = NetSimLogger.getSingleton();

/**
 * @typedef {Object} LogEntryRow
 * @property {number} nodeID
 * @property {Base64Payload} base64Binary - base64-encoded binary
 *           message content, all of which can be exposed to the
 *           student.  May contain headers of its own.
 * @property {NetSimLogEntry.LogStatus} status
 * @property {number} timestamp
 */

/**
 * Entry in shared log for a node on the network.
 *
 * Once created, should not be modified until/unless a cleanup process
 * removes it.
 *
 * @param {!NetSimShard} shard - The shard where this log entry lives.
 * @param {LogEntryRow} [row] - A row out of the log table on the
 *        shard.  If provided, will initialize this log with the given
 *        data.  If not, this log will initialize to default values.
 * @param {Packet.HeaderType[]} [packetSpec] - Packet layout spec used to
 *        interpret the contents of the logged packet
 * @constructor
 * @augments NetSimEntity
 */
var NetSimLogEntry = module.exports = function (shard, row, packetSpec) {
  row = row !== undefined ? row : {};
  NetSimEntity.call(this, shard, row);

  /**
   * Node ID of the node that owns this log entry (e.g. a router node)
   * @type {number}
   */
  this.nodeID = row.nodeID;

  /**
   * Binary content of the log entry.  Defaults to empty string.
   * @type {string}
   */
  this.binary = '';
  if (row.base64Binary) {
    try {
      this.binary = base64ToBinary(row.base64Binary.string, row.base64Binary.len);
    } catch (e) {
      logger.error(e.message);
    }
  }

  /**
   * Status value for log entry; for router log, usually SUCCESS for completion
   * of routing or DROPPED if routing failed.
   * @type {NetSimLogEntry.LogStatus}
   */
  this.status = utils.valueOr(row.status, NetSimLogEntry.LogStatus.SUCCESS);

  /**
   * @type {Packet}
   * @private
   */
  this.packet_ = new Packet(utils.valueOr(packetSpec, []), this.binary);

  /**
   * Unix timestamp (local) of log creation time.
   * @type {number}
   */
  this.timestamp = row.timestamp !== undefined ? row.timestamp : Date.now();
};
NetSimLogEntry.inherits(NetSimEntity);

/**
 * @enum {string}
 * @const
 */
NetSimLogEntry.LogStatus = {
  SUCCESS: 'success',
  DROPPED: 'dropped'
};

/**
 * Helper that gets the log table for the configured instance.
 * @returns {NetSimTable}
 */
NetSimLogEntry.prototype.getTable = function () {
  return this.shard_.logTable;
};

/**
 * Build own row for the log table
 * @returns {LogEntryRow}
 */
NetSimLogEntry.prototype.buildRow = function () {
  return {
    nodeID: this.nodeID,
    base64Binary: binaryToBase64(this.binary),
    status: this.status,
    timestamp: this.timestamp
  };
};

/**
 * Static async creation method.  Creates a new message on the given shard,
 * and then calls the callback with a success boolean.
 * @param {!NetSimShard} shard
 * @param {!number} nodeID - associated node's row ID
 * @param {!string} binary - log contents
 * @param {NetSimLogEntry.LogStatus} status
 * @param {!NodeStyleCallback} onComplete (success)
 */
NetSimLogEntry.create = function (shard, nodeID, binary, status, onComplete) {
  var entity = new NetSimLogEntry(shard);
  entity.nodeID = nodeID;
  entity.binary = binary;
  entity.status = status;
  entity.timestamp = Date.now();
  entity.getTable().create(entity.buildRow(), function (err, result) {
    if (err) {
      onComplete(err, null);
      return;
    }
    onComplete(err, new NetSimLogEntry(shard, result));
  });
};

/**
 * Get requested packet header field as a string.  Returns empty string
 * if the requested field is not in the current packet format.
 * @param {Packet.HeaderType} field
 * @returns {string}
 */
NetSimLogEntry.prototype.getHeaderField = function (field) {
  try {
    if (Packet.isAddressField(field)) {
      return this.packet_.getHeaderAsAddressString(field);
    } else {
      return this.packet_.getHeaderAsInt(field).toString();
    }
  } catch (e) {
    return '';
  }
};

/** Get packet message as binary. */
NetSimLogEntry.prototype.getMessageBinary = function () {
  return formatBinary(this.packet_.getBodyAsBinary(), BITS_PER_BYTE);
};

/** Get packet message as ASCII */
NetSimLogEntry.prototype.getMessageAscii = function () {
  return this.packet_.getBodyAsAscii(BITS_PER_BYTE);
};

/**
 * @returns {string} Localized packet status, "success" or "dropped"
 */
NetSimLogEntry.prototype.getLocalizedStatus = function () {
  if (this.status === NetSimLogEntry.LogStatus.SUCCESS) {
    return i18n.logStatus_success();
  } else if (this.status === NetSimLogEntry.LogStatus.DROPPED) {
    return i18n.logStatus_dropped();
  }
  return '';
};

/**
 * @returns {string} Localized "X of Y" packet count info for this entry.
 */
NetSimLogEntry.prototype.getLocalizedPacketInfo = function () {
  return i18n.xOfYPackets({
    x: this.getHeaderField(Packet.HeaderType.PACKET_INDEX),
    y: this.getHeaderField(Packet.HeaderType.PACKET_COUNT)
  });
};

/**
 * @returns {string} 12-hour time with milliseconds
 */
NetSimLogEntry.prototype.getTimeString = function () {
  return moment(this.timestamp).format('h:mm:ss.SSS A');
};

/**
 * Get a controller for the node that generated this log entry
 * @returns {NetSimClientNode|NetSimRouterNode|null}
 */
NetSimLogEntry.prototype.getOriginNode = function () {
  var nodeRows = this.shard_.nodeTable.readAll();
  var originNodeRow = _.find(nodeRows, (function (row) {
    return row.id === this.nodeID;
  }).bind(this));

  if (!originNodeRow) {
    return null;
  }

  return NetSimNodeFactory.nodeFromRow(this.shard_, originNodeRow);
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./DataConverters":"/home/ubuntu/staging/apps/build/js/netsim/DataConverters.js","./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimEntity":"/home/ubuntu/staging/apps/build/js/netsim/NetSimEntity.js","./NetSimLogger":"/home/ubuntu/staging/apps/build/js/netsim/NetSimLogger.js","./NetSimNodeFactory":"/home/ubuntu/staging/apps/build/js/netsim/NetSimNodeFactory.js","./Packet":"/home/ubuntu/staging/apps/build/js/netsim/Packet.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js","moment":"/home/ubuntu/staging/apps/node_modules/moment/moment.js"}],"/home/ubuntu/staging/apps/node_modules/moment/moment.js":[function(require,module,exports){
//! moment.js
//! version : 2.10.6
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
    typeof define === 'function' && define.amd ? define(factory) :
    global.moment = factory()
}(this, function () { 'use strict';

    var hookCallback;

    function utils_hooks__hooks () {
        return hookCallback.apply(null, arguments);
    }

    // This is done to register the method called with moment()
    // without creating circular dependencies.
    function setHookCallback (callback) {
        hookCallback = callback;
    }

    function isArray(input) {
        return Object.prototype.toString.call(input) === '[object Array]';
    }

    function isDate(input) {
        return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';
    }

    function map(arr, fn) {
        var res = [], i;
        for (i = 0; i < arr.length; ++i) {
            res.push(fn(arr[i], i));
        }
        return res;
    }

    function hasOwnProp(a, b) {
        return Object.prototype.hasOwnProperty.call(a, b);
    }

    function extend(a, b) {
        for (var i in b) {
            if (hasOwnProp(b, i)) {
                a[i] = b[i];
            }
        }

        if (hasOwnProp(b, 'toString')) {
            a.toString = b.toString;
        }

        if (hasOwnProp(b, 'valueOf')) {
            a.valueOf = b.valueOf;
        }

        return a;
    }

    function create_utc__createUTC (input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, true).utc();
    }

    function defaultParsingFlags() {
        // We need to deep clone this object.
        return {
            empty           : false,
            unusedTokens    : [],
            unusedInput     : [],
            overflow        : -2,
            charsLeftOver   : 0,
            nullInput       : false,
            invalidMonth    : null,
            invalidFormat   : false,
            userInvalidated : false,
            iso             : false
        };
    }

    function getParsingFlags(m) {
        if (m._pf == null) {
            m._pf = defaultParsingFlags();
        }
        return m._pf;
    }

    function valid__isValid(m) {
        if (m._isValid == null) {
            var flags = getParsingFlags(m);
            m._isValid = !isNaN(m._d.getTime()) &&
                flags.overflow < 0 &&
                !flags.empty &&
                !flags.invalidMonth &&
                !flags.invalidWeekday &&
                !flags.nullInput &&
                !flags.invalidFormat &&
                !flags.userInvalidated;

            if (m._strict) {
                m._isValid = m._isValid &&
                    flags.charsLeftOver === 0 &&
                    flags.unusedTokens.length === 0 &&
                    flags.bigHour === undefined;
            }
        }
        return m._isValid;
    }

    function valid__createInvalid (flags) {
        var m = create_utc__createUTC(NaN);
        if (flags != null) {
            extend(getParsingFlags(m), flags);
        }
        else {
            getParsingFlags(m).userInvalidated = true;
        }

        return m;
    }

    var momentProperties = utils_hooks__hooks.momentProperties = [];

    function copyConfig(to, from) {
        var i, prop, val;

        if (typeof from._isAMomentObject !== 'undefined') {
            to._isAMomentObject = from._isAMomentObject;
        }
        if (typeof from._i !== 'undefined') {
            to._i = from._i;
        }
        if (typeof from._f !== 'undefined') {
            to._f = from._f;
        }
        if (typeof from._l !== 'undefined') {
            to._l = from._l;
        }
        if (typeof from._strict !== 'undefined') {
            to._strict = from._strict;
        }
        if (typeof from._tzm !== 'undefined') {
            to._tzm = from._tzm;
        }
        if (typeof from._isUTC !== 'undefined') {
            to._isUTC = from._isUTC;
        }
        if (typeof from._offset !== 'undefined') {
            to._offset = from._offset;
        }
        if (typeof from._pf !== 'undefined') {
            to._pf = getParsingFlags(from);
        }
        if (typeof from._locale !== 'undefined') {
            to._locale = from._locale;
        }

        if (momentProperties.length > 0) {
            for (i in momentProperties) {
                prop = momentProperties[i];
                val = from[prop];
                if (typeof val !== 'undefined') {
                    to[prop] = val;
                }
            }
        }

        return to;
    }

    var updateInProgress = false;

    // Moment prototype object
    function Moment(config) {
        copyConfig(this, config);
        this._d = new Date(config._d != null ? config._d.getTime() : NaN);
        // Prevent infinite loop in case updateOffset creates new moment
        // objects.
        if (updateInProgress === false) {
            updateInProgress = true;
            utils_hooks__hooks.updateOffset(this);
            updateInProgress = false;
        }
    }

    function isMoment (obj) {
        return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);
    }

    function absFloor (number) {
        if (number < 0) {
            return Math.ceil(number);
        } else {
            return Math.floor(number);
        }
    }

    function toInt(argumentForCoercion) {
        var coercedNumber = +argumentForCoercion,
            value = 0;

        if (coercedNumber !== 0 && isFinite(coercedNumber)) {
            value = absFloor(coercedNumber);
        }

        return value;
    }

    function compareArrays(array1, array2, dontConvert) {
        var len = Math.min(array1.length, array2.length),
            lengthDiff = Math.abs(array1.length - array2.length),
            diffs = 0,
            i;
        for (i = 0; i < len; i++) {
            if ((dontConvert && array1[i] !== array2[i]) ||
                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {
                diffs++;
            }
        }
        return diffs + lengthDiff;
    }

    function Locale() {
    }

    var locales = {};
    var globalLocale;

    function normalizeLocale(key) {
        return key ? key.toLowerCase().replace('_', '-') : key;
    }

    // pick the locale from the array
    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each
    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root
    function chooseLocale(names) {
        var i = 0, j, next, locale, split;

        while (i < names.length) {
            split = normalizeLocale(names[i]).split('-');
            j = split.length;
            next = normalizeLocale(names[i + 1]);
            next = next ? next.split('-') : null;
            while (j > 0) {
                locale = loadLocale(split.slice(0, j).join('-'));
                if (locale) {
                    return locale;
                }
                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {
                    //the next array item is better than a shallower substring of this one
                    break;
                }
                j--;
            }
            i++;
        }
        return null;
    }

    function loadLocale(name) {
        var oldLocale = null;
        // TODO: Find a better way to register and load all the locales in Node
        if (!locales[name] && typeof module !== 'undefined' &&
                module && module.exports) {
            try {
                oldLocale = globalLocale._abbr;
                require('./locale/' + name);
                // because defineLocale currently also sets the global locale, we
                // want to undo that for lazy loaded locales
                locale_locales__getSetGlobalLocale(oldLocale);
            } catch (e) { }
        }
        return locales[name];
    }

    // This function will load locale and then set the global locale.  If
    // no arguments are passed in, it will simply return the current global
    // locale key.
    function locale_locales__getSetGlobalLocale (key, values) {
        var data;
        if (key) {
            if (typeof values === 'undefined') {
                data = locale_locales__getLocale(key);
            }
            else {
                data = defineLocale(key, values);
            }

            if (data) {
                // moment.duration._locale = moment._locale = data;
                globalLocale = data;
            }
        }

        return globalLocale._abbr;
    }

    function defineLocale (name, values) {
        if (values !== null) {
            values.abbr = name;
            locales[name] = locales[name] || new Locale();
            locales[name].set(values);

            // backwards compat for now: also set the locale
            locale_locales__getSetGlobalLocale(name);

            return locales[name];
        } else {
            // useful for testing
            delete locales[name];
            return null;
        }
    }

    // returns locale data
    function locale_locales__getLocale (key) {
        var locale;

        if (key && key._locale && key._locale._abbr) {
            key = key._locale._abbr;
        }

        if (!key) {
            return globalLocale;
        }

        if (!isArray(key)) {
            //short-circuit everything else
            locale = loadLocale(key);
            if (locale) {
                return locale;
            }
            key = [key];
        }

        return chooseLocale(key);
    }

    var aliases = {};

    function addUnitAlias (unit, shorthand) {
        var lowerCase = unit.toLowerCase();
        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;
    }

    function normalizeUnits(units) {
        return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;
    }

    function normalizeObjectUnits(inputObject) {
        var normalizedInput = {},
            normalizedProp,
            prop;

        for (prop in inputObject) {
            if (hasOwnProp(inputObject, prop)) {
                normalizedProp = normalizeUnits(prop);
                if (normalizedProp) {
                    normalizedInput[normalizedProp] = inputObject[prop];
                }
            }
        }

        return normalizedInput;
    }

    function makeGetSet (unit, keepTime) {
        return function (value) {
            if (value != null) {
                get_set__set(this, unit, value);
                utils_hooks__hooks.updateOffset(this, keepTime);
                return this;
            } else {
                return get_set__get(this, unit);
            }
        };
    }

    function get_set__get (mom, unit) {
        return mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]();
    }

    function get_set__set (mom, unit, value) {
        return mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);
    }

    // MOMENTS

    function getSet (units, value) {
        var unit;
        if (typeof units === 'object') {
            for (unit in units) {
                this.set(unit, units[unit]);
            }
        } else {
            units = normalizeUnits(units);
            if (typeof this[units] === 'function') {
                return this[units](value);
            }
        }
        return this;
    }

    function zeroFill(number, targetLength, forceSign) {
        var absNumber = '' + Math.abs(number),
            zerosToFill = targetLength - absNumber.length,
            sign = number >= 0;
        return (sign ? (forceSign ? '+' : '') : '-') +
            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;
    }

    var formattingTokens = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;

    var localFormattingTokens = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;

    var formatFunctions = {};

    var formatTokenFunctions = {};

    // token:    'M'
    // padded:   ['MM', 2]
    // ordinal:  'Mo'
    // callback: function () { this.month() + 1 }
    function addFormatToken (token, padded, ordinal, callback) {
        var func = callback;
        if (typeof callback === 'string') {
            func = function () {
                return this[callback]();
            };
        }
        if (token) {
            formatTokenFunctions[token] = func;
        }
        if (padded) {
            formatTokenFunctions[padded[0]] = function () {
                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);
            };
        }
        if (ordinal) {
            formatTokenFunctions[ordinal] = function () {
                return this.localeData().ordinal(func.apply(this, arguments), token);
            };
        }
    }

    function removeFormattingTokens(input) {
        if (input.match(/\[[\s\S]/)) {
            return input.replace(/^\[|\]$/g, '');
        }
        return input.replace(/\\/g, '');
    }

    function makeFormatFunction(format) {
        var array = format.match(formattingTokens), i, length;

        for (i = 0, length = array.length; i < length; i++) {
            if (formatTokenFunctions[array[i]]) {
                array[i] = formatTokenFunctions[array[i]];
            } else {
                array[i] = removeFormattingTokens(array[i]);
            }
        }

        return function (mom) {
            var output = '';
            for (i = 0; i < length; i++) {
                output += array[i] instanceof Function ? array[i].call(mom, format) : array[i];
            }
            return output;
        };
    }

    // format date using native date object
    function formatMoment(m, format) {
        if (!m.isValid()) {
            return m.localeData().invalidDate();
        }

        format = expandFormat(format, m.localeData());
        formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);

        return formatFunctions[format](m);
    }

    function expandFormat(format, locale) {
        var i = 5;

        function replaceLongDateFormatTokens(input) {
            return locale.longDateFormat(input) || input;
        }

        localFormattingTokens.lastIndex = 0;
        while (i >= 0 && localFormattingTokens.test(format)) {
            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);
            localFormattingTokens.lastIndex = 0;
            i -= 1;
        }

        return format;
    }

    var match1         = /\d/;            //       0 - 9
    var match2         = /\d\d/;          //      00 - 99
    var match3         = /\d{3}/;         //     000 - 999
    var match4         = /\d{4}/;         //    0000 - 9999
    var match6         = /[+-]?\d{6}/;    // -999999 - 999999
    var match1to2      = /\d\d?/;         //       0 - 99
    var match1to3      = /\d{1,3}/;       //       0 - 999
    var match1to4      = /\d{1,4}/;       //       0 - 9999
    var match1to6      = /[+-]?\d{1,6}/;  // -999999 - 999999

    var matchUnsigned  = /\d+/;           //       0 - inf
    var matchSigned    = /[+-]?\d+/;      //    -inf - inf

    var matchOffset    = /Z|[+-]\d\d:?\d\d/gi; // +00:00 -00:00 +0000 -0000 or Z

    var matchTimestamp = /[+-]?\d+(\.\d{1,3})?/; // 123456789 123456789.123

    // any word (or two) characters or numbers including two/three word month in arabic.
    var matchWord = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;

    var regexes = {};

    function isFunction (sth) {
        // https://github.com/moment/moment/issues/2325
        return typeof sth === 'function' &&
            Object.prototype.toString.call(sth) === '[object Function]';
    }


    function addRegexToken (token, regex, strictRegex) {
        regexes[token] = isFunction(regex) ? regex : function (isStrict) {
            return (isStrict && strictRegex) ? strictRegex : regex;
        };
    }

    function getParseRegexForToken (token, config) {
        if (!hasOwnProp(regexes, token)) {
            return new RegExp(unescapeFormat(token));
        }

        return regexes[token](config._strict, config._locale);
    }

    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript
    function unescapeFormat(s) {
        return s.replace('\\', '').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (matched, p1, p2, p3, p4) {
            return p1 || p2 || p3 || p4;
        }).replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
    }

    var tokens = {};

    function addParseToken (token, callback) {
        var i, func = callback;
        if (typeof token === 'string') {
            token = [token];
        }
        if (typeof callback === 'number') {
            func = function (input, array) {
                array[callback] = toInt(input);
            };
        }
        for (i = 0; i < token.length; i++) {
            tokens[token[i]] = func;
        }
    }

    function addWeekParseToken (token, callback) {
        addParseToken(token, function (input, array, config, token) {
            config._w = config._w || {};
            callback(input, config._w, config, token);
        });
    }

    function addTimeToArrayFromToken(token, input, config) {
        if (input != null && hasOwnProp(tokens, token)) {
            tokens[token](input, config._a, config, token);
        }
    }

    var YEAR = 0;
    var MONTH = 1;
    var DATE = 2;
    var HOUR = 3;
    var MINUTE = 4;
    var SECOND = 5;
    var MILLISECOND = 6;

    function daysInMonth(year, month) {
        return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();
    }

    // FORMATTING

    addFormatToken('M', ['MM', 2], 'Mo', function () {
        return this.month() + 1;
    });

    addFormatToken('MMM', 0, 0, function (format) {
        return this.localeData().monthsShort(this, format);
    });

    addFormatToken('MMMM', 0, 0, function (format) {
        return this.localeData().months(this, format);
    });

    // ALIASES

    addUnitAlias('month', 'M');

    // PARSING

    addRegexToken('M',    match1to2);
    addRegexToken('MM',   match1to2, match2);
    addRegexToken('MMM',  matchWord);
    addRegexToken('MMMM', matchWord);

    addParseToken(['M', 'MM'], function (input, array) {
        array[MONTH] = toInt(input) - 1;
    });

    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {
        var month = config._locale.monthsParse(input, token, config._strict);
        // if we didn't find a month name, mark the date as invalid.
        if (month != null) {
            array[MONTH] = month;
        } else {
            getParsingFlags(config).invalidMonth = input;
        }
    });

    // LOCALES

    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');
    function localeMonths (m) {
        return this._months[m.month()];
    }

    var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');
    function localeMonthsShort (m) {
        return this._monthsShort[m.month()];
    }

    function localeMonthsParse (monthName, format, strict) {
        var i, mom, regex;

        if (!this._monthsParse) {
            this._monthsParse = [];
            this._longMonthsParse = [];
            this._shortMonthsParse = [];
        }

        for (i = 0; i < 12; i++) {
            // make the regex if we don't have it already
            mom = create_utc__createUTC([2000, i]);
            if (strict && !this._longMonthsParse[i]) {
                this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');
                this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');
            }
            if (!strict && !this._monthsParse[i]) {
                regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');
                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            // test the regex
            if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {
                return i;
            } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {
                return i;
            } else if (!strict && this._monthsParse[i].test(monthName)) {
                return i;
            }
        }
    }

    // MOMENTS

    function setMonth (mom, value) {
        var dayOfMonth;

        // TODO: Move this out of here!
        if (typeof value === 'string') {
            value = mom.localeData().monthsParse(value);
            // TODO: Another silent failure?
            if (typeof value !== 'number') {
                return mom;
            }
        }

        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));
        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);
        return mom;
    }

    function getSetMonth (value) {
        if (value != null) {
            setMonth(this, value);
            utils_hooks__hooks.updateOffset(this, true);
            return this;
        } else {
            return get_set__get(this, 'Month');
        }
    }

    function getDaysInMonth () {
        return daysInMonth(this.year(), this.month());
    }

    function checkOverflow (m) {
        var overflow;
        var a = m._a;

        if (a && getParsingFlags(m).overflow === -2) {
            overflow =
                a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :
                a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :
                a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :
                a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :
                a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :
                a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :
                -1;

            if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {
                overflow = DATE;
            }

            getParsingFlags(m).overflow = overflow;
        }

        return m;
    }

    function warn(msg) {
        if (utils_hooks__hooks.suppressDeprecationWarnings === false && typeof console !== 'undefined' && console.warn) {
            console.warn('Deprecation warning: ' + msg);
        }
    }

    function deprecate(msg, fn) {
        var firstTime = true;

        return extend(function () {
            if (firstTime) {
                warn(msg + '\n' + (new Error()).stack);
                firstTime = false;
            }
            return fn.apply(this, arguments);
        }, fn);
    }

    var deprecations = {};

    function deprecateSimple(name, msg) {
        if (!deprecations[name]) {
            warn(msg);
            deprecations[name] = true;
        }
    }

    utils_hooks__hooks.suppressDeprecationWarnings = false;

    var from_string__isoRegex = /^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;

    var isoDates = [
        ['YYYYYY-MM-DD', /[+-]\d{6}-\d{2}-\d{2}/],
        ['YYYY-MM-DD', /\d{4}-\d{2}-\d{2}/],
        ['GGGG-[W]WW-E', /\d{4}-W\d{2}-\d/],
        ['GGGG-[W]WW', /\d{4}-W\d{2}/],
        ['YYYY-DDD', /\d{4}-\d{3}/]
    ];

    // iso time formats and regexes
    var isoTimes = [
        ['HH:mm:ss.SSSS', /(T| )\d\d:\d\d:\d\d\.\d+/],
        ['HH:mm:ss', /(T| )\d\d:\d\d:\d\d/],
        ['HH:mm', /(T| )\d\d:\d\d/],
        ['HH', /(T| )\d\d/]
    ];

    var aspNetJsonRegex = /^\/?Date\((\-?\d+)/i;

    // date from iso format
    function configFromISO(config) {
        var i, l,
            string = config._i,
            match = from_string__isoRegex.exec(string);

        if (match) {
            getParsingFlags(config).iso = true;
            for (i = 0, l = isoDates.length; i < l; i++) {
                if (isoDates[i][1].exec(string)) {
                    config._f = isoDates[i][0];
                    break;
                }
            }
            for (i = 0, l = isoTimes.length; i < l; i++) {
                if (isoTimes[i][1].exec(string)) {
                    // match[6] should be 'T' or space
                    config._f += (match[6] || ' ') + isoTimes[i][0];
                    break;
                }
            }
            if (string.match(matchOffset)) {
                config._f += 'Z';
            }
            configFromStringAndFormat(config);
        } else {
            config._isValid = false;
        }
    }

    // date from iso format or fallback
    function configFromString(config) {
        var matched = aspNetJsonRegex.exec(config._i);

        if (matched !== null) {
            config._d = new Date(+matched[1]);
            return;
        }

        configFromISO(config);
        if (config._isValid === false) {
            delete config._isValid;
            utils_hooks__hooks.createFromInputFallback(config);
        }
    }

    utils_hooks__hooks.createFromInputFallback = deprecate(
        'moment construction falls back to js Date. This is ' +
        'discouraged and will be removed in upcoming major ' +
        'release. Please refer to ' +
        'https://github.com/moment/moment/issues/1407 for more info.',
        function (config) {
            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));
        }
    );

    function createDate (y, m, d, h, M, s, ms) {
        //can't just apply() to create a date:
        //http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply
        var date = new Date(y, m, d, h, M, s, ms);

        //the date constructor doesn't accept years < 1970
        if (y < 1970) {
            date.setFullYear(y);
        }
        return date;
    }

    function createUTCDate (y) {
        var date = new Date(Date.UTC.apply(null, arguments));
        if (y < 1970) {
            date.setUTCFullYear(y);
        }
        return date;
    }

    addFormatToken(0, ['YY', 2], 0, function () {
        return this.year() % 100;
    });

    addFormatToken(0, ['YYYY',   4],       0, 'year');
    addFormatToken(0, ['YYYYY',  5],       0, 'year');
    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');

    // ALIASES

    addUnitAlias('year', 'y');

    // PARSING

    addRegexToken('Y',      matchSigned);
    addRegexToken('YY',     match1to2, match2);
    addRegexToken('YYYY',   match1to4, match4);
    addRegexToken('YYYYY',  match1to6, match6);
    addRegexToken('YYYYYY', match1to6, match6);

    addParseToken(['YYYYY', 'YYYYYY'], YEAR);
    addParseToken('YYYY', function (input, array) {
        array[YEAR] = input.length === 2 ? utils_hooks__hooks.parseTwoDigitYear(input) : toInt(input);
    });
    addParseToken('YY', function (input, array) {
        array[YEAR] = utils_hooks__hooks.parseTwoDigitYear(input);
    });

    // HELPERS

    function daysInYear(year) {
        return isLeapYear(year) ? 366 : 365;
    }

    function isLeapYear(year) {
        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;
    }

    // HOOKS

    utils_hooks__hooks.parseTwoDigitYear = function (input) {
        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);
    };

    // MOMENTS

    var getSetYear = makeGetSet('FullYear', false);

    function getIsLeapYear () {
        return isLeapYear(this.year());
    }

    addFormatToken('w', ['ww', 2], 'wo', 'week');
    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');

    // ALIASES

    addUnitAlias('week', 'w');
    addUnitAlias('isoWeek', 'W');

    // PARSING

    addRegexToken('w',  match1to2);
    addRegexToken('ww', match1to2, match2);
    addRegexToken('W',  match1to2);
    addRegexToken('WW', match1to2, match2);

    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {
        week[token.substr(0, 1)] = toInt(input);
    });

    // HELPERS

    // firstDayOfWeek       0 = sun, 6 = sat
    //                      the day of the week that starts the week
    //                      (usually sunday or monday)
    // firstDayOfWeekOfYear 0 = sun, 6 = sat
    //                      the first week is the week that contains the first
    //                      of this day of the week
    //                      (eg. ISO weeks use thursday (4))
    function weekOfYear(mom, firstDayOfWeek, firstDayOfWeekOfYear) {
        var end = firstDayOfWeekOfYear - firstDayOfWeek,
            daysToDayOfWeek = firstDayOfWeekOfYear - mom.day(),
            adjustedMoment;


        if (daysToDayOfWeek > end) {
            daysToDayOfWeek -= 7;
        }

        if (daysToDayOfWeek < end - 7) {
            daysToDayOfWeek += 7;
        }

        adjustedMoment = local__createLocal(mom).add(daysToDayOfWeek, 'd');
        return {
            week: Math.ceil(adjustedMoment.dayOfYear() / 7),
            year: adjustedMoment.year()
        };
    }

    // LOCALES

    function localeWeek (mom) {
        return weekOfYear(mom, this._week.dow, this._week.doy).week;
    }

    var defaultLocaleWeek = {
        dow : 0, // Sunday is the first day of the week.
        doy : 6  // The week that contains Jan 1st is the first week of the year.
    };

    function localeFirstDayOfWeek () {
        return this._week.dow;
    }

    function localeFirstDayOfYear () {
        return this._week.doy;
    }

    // MOMENTS

    function getSetWeek (input) {
        var week = this.localeData().week(this);
        return input == null ? week : this.add((input - week) * 7, 'd');
    }

    function getSetISOWeek (input) {
        var week = weekOfYear(this, 1, 4).week;
        return input == null ? week : this.add((input - week) * 7, 'd');
    }

    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');

    // ALIASES

    addUnitAlias('dayOfYear', 'DDD');

    // PARSING

    addRegexToken('DDD',  match1to3);
    addRegexToken('DDDD', match3);
    addParseToken(['DDD', 'DDDD'], function (input, array, config) {
        config._dayOfYear = toInt(input);
    });

    // HELPERS

    //http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday
    function dayOfYearFromWeeks(year, week, weekday, firstDayOfWeekOfYear, firstDayOfWeek) {
        var week1Jan = 6 + firstDayOfWeek - firstDayOfWeekOfYear, janX = createUTCDate(year, 0, 1 + week1Jan), d = janX.getUTCDay(), dayOfYear;
        if (d < firstDayOfWeek) {
            d += 7;
        }

        weekday = weekday != null ? 1 * weekday : firstDayOfWeek;

        dayOfYear = 1 + week1Jan + 7 * (week - 1) - d + weekday;

        return {
            year: dayOfYear > 0 ? year : year - 1,
            dayOfYear: dayOfYear > 0 ?  dayOfYear : daysInYear(year - 1) + dayOfYear
        };
    }

    // MOMENTS

    function getSetDayOfYear (input) {
        var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;
        return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');
    }

    // Pick the first defined of two or three arguments.
    function defaults(a, b, c) {
        if (a != null) {
            return a;
        }
        if (b != null) {
            return b;
        }
        return c;
    }

    function currentDateArray(config) {
        var now = new Date();
        if (config._useUTC) {
            return [now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate()];
        }
        return [now.getFullYear(), now.getMonth(), now.getDate()];
    }

    // convert an array to a date.
    // the array should mirror the parameters below
    // note: all values past the year are optional and will default to the lowest possible value.
    // [year, month, day , hour, minute, second, millisecond]
    function configFromArray (config) {
        var i, date, input = [], currentDate, yearToUse;

        if (config._d) {
            return;
        }

        currentDate = currentDateArray(config);

        //compute day of the year from weeks and weekdays
        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {
            dayOfYearFromWeekInfo(config);
        }

        //if the day of the year is set, figure out what it is
        if (config._dayOfYear) {
            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);

            if (config._dayOfYear > daysInYear(yearToUse)) {
                getParsingFlags(config)._overflowDayOfYear = true;
            }

            date = createUTCDate(yearToUse, 0, config._dayOfYear);
            config._a[MONTH] = date.getUTCMonth();
            config._a[DATE] = date.getUTCDate();
        }

        // Default to current date.
        // * if no year, month, day of month are given, default to today
        // * if day of month is given, default month and year
        // * if month is given, default only year
        // * if year is given, don't default anything
        for (i = 0; i < 3 && config._a[i] == null; ++i) {
            config._a[i] = input[i] = currentDate[i];
        }

        // Zero out whatever was not defaulted, including time
        for (; i < 7; i++) {
            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];
        }

        // Check for 24:00:00.000
        if (config._a[HOUR] === 24 &&
                config._a[MINUTE] === 0 &&
                config._a[SECOND] === 0 &&
                config._a[MILLISECOND] === 0) {
            config._nextDay = true;
            config._a[HOUR] = 0;
        }

        config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);
        // Apply timezone offset from input. The actual utcOffset can be changed
        // with parseZone.
        if (config._tzm != null) {
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
        }

        if (config._nextDay) {
            config._a[HOUR] = 24;
        }
    }

    function dayOfYearFromWeekInfo(config) {
        var w, weekYear, week, weekday, dow, doy, temp;

        w = config._w;
        if (w.GG != null || w.W != null || w.E != null) {
            dow = 1;
            doy = 4;

            // TODO: We need to take the current isoWeekYear, but that depends on
            // how we interpret now (local, utc, fixed offset). So create
            // a now version of current config (take local/utc/offset flags, and
            // create now).
            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(local__createLocal(), 1, 4).year);
            week = defaults(w.W, 1);
            weekday = defaults(w.E, 1);
        } else {
            dow = config._locale._week.dow;
            doy = config._locale._week.doy;

            weekYear = defaults(w.gg, config._a[YEAR], weekOfYear(local__createLocal(), dow, doy).year);
            week = defaults(w.w, 1);

            if (w.d != null) {
                // weekday -- low day numbers are considered next week
                weekday = w.d;
                if (weekday < dow) {
                    ++week;
                }
            } else if (w.e != null) {
                // local weekday -- counting starts from begining of week
                weekday = w.e + dow;
            } else {
                // default to begining of week
                weekday = dow;
            }
        }
        temp = dayOfYearFromWeeks(weekYear, week, weekday, doy, dow);

        config._a[YEAR] = temp.year;
        config._dayOfYear = temp.dayOfYear;
    }

    utils_hooks__hooks.ISO_8601 = function () {};

    // date from string and format string
    function configFromStringAndFormat(config) {
        // TODO: Move this to another part of the creation flow to prevent circular deps
        if (config._f === utils_hooks__hooks.ISO_8601) {
            configFromISO(config);
            return;
        }

        config._a = [];
        getParsingFlags(config).empty = true;

        // This array is used to make a Date, either with `new Date` or `Date.UTC`
        var string = '' + config._i,
            i, parsedInput, tokens, token, skipped,
            stringLength = string.length,
            totalParsedInputLength = 0;

        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];

        for (i = 0; i < tokens.length; i++) {
            token = tokens[i];
            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];
            if (parsedInput) {
                skipped = string.substr(0, string.indexOf(parsedInput));
                if (skipped.length > 0) {
                    getParsingFlags(config).unusedInput.push(skipped);
                }
                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);
                totalParsedInputLength += parsedInput.length;
            }
            // don't parse if it's not a known token
            if (formatTokenFunctions[token]) {
                if (parsedInput) {
                    getParsingFlags(config).empty = false;
                }
                else {
                    getParsingFlags(config).unusedTokens.push(token);
                }
                addTimeToArrayFromToken(token, parsedInput, config);
            }
            else if (config._strict && !parsedInput) {
                getParsingFlags(config).unusedTokens.push(token);
            }
        }

        // add remaining unparsed input length to the string
        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;
        if (string.length > 0) {
            getParsingFlags(config).unusedInput.push(string);
        }

        // clear _12h flag if hour is <= 12
        if (getParsingFlags(config).bigHour === true &&
                config._a[HOUR] <= 12 &&
                config._a[HOUR] > 0) {
            getParsingFlags(config).bigHour = undefined;
        }
        // handle meridiem
        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);

        configFromArray(config);
        checkOverflow(config);
    }


    function meridiemFixWrap (locale, hour, meridiem) {
        var isPm;

        if (meridiem == null) {
            // nothing to do
            return hour;
        }
        if (locale.meridiemHour != null) {
            return locale.meridiemHour(hour, meridiem);
        } else if (locale.isPM != null) {
            // Fallback
            isPm = locale.isPM(meridiem);
            if (isPm && hour < 12) {
                hour += 12;
            }
            if (!isPm && hour === 12) {
                hour = 0;
            }
            return hour;
        } else {
            // this is not supposed to happen
            return hour;
        }
    }

    function configFromStringAndArray(config) {
        var tempConfig,
            bestMoment,

            scoreToBeat,
            i,
            currentScore;

        if (config._f.length === 0) {
            getParsingFlags(config).invalidFormat = true;
            config._d = new Date(NaN);
            return;
        }

        for (i = 0; i < config._f.length; i++) {
            currentScore = 0;
            tempConfig = copyConfig({}, config);
            if (config._useUTC != null) {
                tempConfig._useUTC = config._useUTC;
            }
            tempConfig._f = config._f[i];
            configFromStringAndFormat(tempConfig);

            if (!valid__isValid(tempConfig)) {
                continue;
            }

            // if there is any input that was not parsed add a penalty for that format
            currentScore += getParsingFlags(tempConfig).charsLeftOver;

            //or tokens
            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;

            getParsingFlags(tempConfig).score = currentScore;

            if (scoreToBeat == null || currentScore < scoreToBeat) {
                scoreToBeat = currentScore;
                bestMoment = tempConfig;
            }
        }

        extend(config, bestMoment || tempConfig);
    }

    function configFromObject(config) {
        if (config._d) {
            return;
        }

        var i = normalizeObjectUnits(config._i);
        config._a = [i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond];

        configFromArray(config);
    }

    function createFromConfig (config) {
        var res = new Moment(checkOverflow(prepareConfig(config)));
        if (res._nextDay) {
            // Adding is smart enough around DST
            res.add(1, 'd');
            res._nextDay = undefined;
        }

        return res;
    }

    function prepareConfig (config) {
        var input = config._i,
            format = config._f;

        config._locale = config._locale || locale_locales__getLocale(config._l);

        if (input === null || (format === undefined && input === '')) {
            return valid__createInvalid({nullInput: true});
        }

        if (typeof input === 'string') {
            config._i = input = config._locale.preparse(input);
        }

        if (isMoment(input)) {
            return new Moment(checkOverflow(input));
        } else if (isArray(format)) {
            configFromStringAndArray(config);
        } else if (format) {
            configFromStringAndFormat(config);
        } else if (isDate(input)) {
            config._d = input;
        } else {
            configFromInput(config);
        }

        return config;
    }

    function configFromInput(config) {
        var input = config._i;
        if (input === undefined) {
            config._d = new Date();
        } else if (isDate(input)) {
            config._d = new Date(+input);
        } else if (typeof input === 'string') {
            configFromString(config);
        } else if (isArray(input)) {
            config._a = map(input.slice(0), function (obj) {
                return parseInt(obj, 10);
            });
            configFromArray(config);
        } else if (typeof(input) === 'object') {
            configFromObject(config);
        } else if (typeof(input) === 'number') {
            // from milliseconds
            config._d = new Date(input);
        } else {
            utils_hooks__hooks.createFromInputFallback(config);
        }
    }

    function createLocalOrUTC (input, format, locale, strict, isUTC) {
        var c = {};

        if (typeof(locale) === 'boolean') {
            strict = locale;
            locale = undefined;
        }
        // object construction must be done this way.
        // https://github.com/moment/moment/issues/1423
        c._isAMomentObject = true;
        c._useUTC = c._isUTC = isUTC;
        c._l = locale;
        c._i = input;
        c._f = format;
        c._strict = strict;

        return createFromConfig(c);
    }

    function local__createLocal (input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, false);
    }

    var prototypeMin = deprecate(
         'moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548',
         function () {
             var other = local__createLocal.apply(null, arguments);
             return other < this ? this : other;
         }
     );

    var prototypeMax = deprecate(
        'moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548',
        function () {
            var other = local__createLocal.apply(null, arguments);
            return other > this ? this : other;
        }
    );

    // Pick a moment m from moments so that m[fn](other) is true for all
    // other. This relies on the function fn to be transitive.
    //
    // moments should either be an array of moment objects or an array, whose
    // first element is an array of moment objects.
    function pickBy(fn, moments) {
        var res, i;
        if (moments.length === 1 && isArray(moments[0])) {
            moments = moments[0];
        }
        if (!moments.length) {
            return local__createLocal();
        }
        res = moments[0];
        for (i = 1; i < moments.length; ++i) {
            if (!moments[i].isValid() || moments[i][fn](res)) {
                res = moments[i];
            }
        }
        return res;
    }

    // TODO: Use [].sort instead?
    function min () {
        var args = [].slice.call(arguments, 0);

        return pickBy('isBefore', args);
    }

    function max () {
        var args = [].slice.call(arguments, 0);

        return pickBy('isAfter', args);
    }

    function Duration (duration) {
        var normalizedInput = normalizeObjectUnits(duration),
            years = normalizedInput.year || 0,
            quarters = normalizedInput.quarter || 0,
            months = normalizedInput.month || 0,
            weeks = normalizedInput.week || 0,
            days = normalizedInput.day || 0,
            hours = normalizedInput.hour || 0,
            minutes = normalizedInput.minute || 0,
            seconds = normalizedInput.second || 0,
            milliseconds = normalizedInput.millisecond || 0;

        // representation for dateAddRemove
        this._milliseconds = +milliseconds +
            seconds * 1e3 + // 1000
            minutes * 6e4 + // 1000 * 60
            hours * 36e5; // 1000 * 60 * 60
        // Because of dateAddRemove treats 24 hours as different from a
        // day when working around DST, we need to store them separately
        this._days = +days +
            weeks * 7;
        // It is impossible translate months into days without knowing
        // which months you are are talking about, so we have to store
        // it separately.
        this._months = +months +
            quarters * 3 +
            years * 12;

        this._data = {};

        this._locale = locale_locales__getLocale();

        this._bubble();
    }

    function isDuration (obj) {
        return obj instanceof Duration;
    }

    function offset (token, separator) {
        addFormatToken(token, 0, 0, function () {
            var offset = this.utcOffset();
            var sign = '+';
            if (offset < 0) {
                offset = -offset;
                sign = '-';
            }
            return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);
        });
    }

    offset('Z', ':');
    offset('ZZ', '');

    // PARSING

    addRegexToken('Z',  matchOffset);
    addRegexToken('ZZ', matchOffset);
    addParseToken(['Z', 'ZZ'], function (input, array, config) {
        config._useUTC = true;
        config._tzm = offsetFromString(input);
    });

    // HELPERS

    // timezone chunker
    // '+10:00' > ['10',  '00']
    // '-1530'  > ['-15', '30']
    var chunkOffset = /([\+\-]|\d\d)/gi;

    function offsetFromString(string) {
        var matches = ((string || '').match(matchOffset) || []);
        var chunk   = matches[matches.length - 1] || [];
        var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];
        var minutes = +(parts[1] * 60) + toInt(parts[2]);

        return parts[0] === '+' ? minutes : -minutes;
    }

    // Return a moment from input, that is local/utc/zone equivalent to model.
    function cloneWithOffset(input, model) {
        var res, diff;
        if (model._isUTC) {
            res = model.clone();
            diff = (isMoment(input) || isDate(input) ? +input : +local__createLocal(input)) - (+res);
            // Use low-level api, because this fn is low-level api.
            res._d.setTime(+res._d + diff);
            utils_hooks__hooks.updateOffset(res, false);
            return res;
        } else {
            return local__createLocal(input).local();
        }
    }

    function getDateOffset (m) {
        // On Firefox.24 Date#getTimezoneOffset returns a floating point.
        // https://github.com/moment/moment/pull/1871
        return -Math.round(m._d.getTimezoneOffset() / 15) * 15;
    }

    // HOOKS

    // This function will be called whenever a moment is mutated.
    // It is intended to keep the offset in sync with the timezone.
    utils_hooks__hooks.updateOffset = function () {};

    // MOMENTS

    // keepLocalTime = true means only change the timezone, without
    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->
    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset
    // +0200, so we adjust the time as needed, to be valid.
    //
    // Keeping the time actually adds/subtracts (one hour)
    // from the actual represented time. That is why we call updateOffset
    // a second time. In case it wants us to change the offset again
    // _changeInProgress == true case, then we have to adjust, because
    // there is no such time in the given timezone.
    function getSetOffset (input, keepLocalTime) {
        var offset = this._offset || 0,
            localAdjust;
        if (input != null) {
            if (typeof input === 'string') {
                input = offsetFromString(input);
            }
            if (Math.abs(input) < 16) {
                input = input * 60;
            }
            if (!this._isUTC && keepLocalTime) {
                localAdjust = getDateOffset(this);
            }
            this._offset = input;
            this._isUTC = true;
            if (localAdjust != null) {
                this.add(localAdjust, 'm');
            }
            if (offset !== input) {
                if (!keepLocalTime || this._changeInProgress) {
                    add_subtract__addSubtract(this, create__createDuration(input - offset, 'm'), 1, false);
                } else if (!this._changeInProgress) {
                    this._changeInProgress = true;
                    utils_hooks__hooks.updateOffset(this, true);
                    this._changeInProgress = null;
                }
            }
            return this;
        } else {
            return this._isUTC ? offset : getDateOffset(this);
        }
    }

    function getSetZone (input, keepLocalTime) {
        if (input != null) {
            if (typeof input !== 'string') {
                input = -input;
            }

            this.utcOffset(input, keepLocalTime);

            return this;
        } else {
            return -this.utcOffset();
        }
    }

    function setOffsetToUTC (keepLocalTime) {
        return this.utcOffset(0, keepLocalTime);
    }

    function setOffsetToLocal (keepLocalTime) {
        if (this._isUTC) {
            this.utcOffset(0, keepLocalTime);
            this._isUTC = false;

            if (keepLocalTime) {
                this.subtract(getDateOffset(this), 'm');
            }
        }
        return this;
    }

    function setOffsetToParsedOffset () {
        if (this._tzm) {
            this.utcOffset(this._tzm);
        } else if (typeof this._i === 'string') {
            this.utcOffset(offsetFromString(this._i));
        }
        return this;
    }

    function hasAlignedHourOffset (input) {
        input = input ? local__createLocal(input).utcOffset() : 0;

        return (this.utcOffset() - input) % 60 === 0;
    }

    function isDaylightSavingTime () {
        return (
            this.utcOffset() > this.clone().month(0).utcOffset() ||
            this.utcOffset() > this.clone().month(5).utcOffset()
        );
    }

    function isDaylightSavingTimeShifted () {
        if (typeof this._isDSTShifted !== 'undefined') {
            return this._isDSTShifted;
        }

        var c = {};

        copyConfig(c, this);
        c = prepareConfig(c);

        if (c._a) {
            var other = c._isUTC ? create_utc__createUTC(c._a) : local__createLocal(c._a);
            this._isDSTShifted = this.isValid() &&
                compareArrays(c._a, other.toArray()) > 0;
        } else {
            this._isDSTShifted = false;
        }

        return this._isDSTShifted;
    }

    function isLocal () {
        return !this._isUTC;
    }

    function isUtcOffset () {
        return this._isUTC;
    }

    function isUtc () {
        return this._isUTC && this._offset === 0;
    }

    var aspNetRegex = /(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/;

    // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html
    // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere
    var create__isoRegex = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;

    function create__createDuration (input, key) {
        var duration = input,
            // matching against regexp is expensive, do it on demand
            match = null,
            sign,
            ret,
            diffRes;

        if (isDuration(input)) {
            duration = {
                ms : input._milliseconds,
                d  : input._days,
                M  : input._months
            };
        } else if (typeof input === 'number') {
            duration = {};
            if (key) {
                duration[key] = input;
            } else {
                duration.milliseconds = input;
            }
        } else if (!!(match = aspNetRegex.exec(input))) {
            sign = (match[1] === '-') ? -1 : 1;
            duration = {
                y  : 0,
                d  : toInt(match[DATE])        * sign,
                h  : toInt(match[HOUR])        * sign,
                m  : toInt(match[MINUTE])      * sign,
                s  : toInt(match[SECOND])      * sign,
                ms : toInt(match[MILLISECOND]) * sign
            };
        } else if (!!(match = create__isoRegex.exec(input))) {
            sign = (match[1] === '-') ? -1 : 1;
            duration = {
                y : parseIso(match[2], sign),
                M : parseIso(match[3], sign),
                d : parseIso(match[4], sign),
                h : parseIso(match[5], sign),
                m : parseIso(match[6], sign),
                s : parseIso(match[7], sign),
                w : parseIso(match[8], sign)
            };
        } else if (duration == null) {// checks for null or undefined
            duration = {};
        } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {
            diffRes = momentsDifference(local__createLocal(duration.from), local__createLocal(duration.to));

            duration = {};
            duration.ms = diffRes.milliseconds;
            duration.M = diffRes.months;
        }

        ret = new Duration(duration);

        if (isDuration(input) && hasOwnProp(input, '_locale')) {
            ret._locale = input._locale;
        }

        return ret;
    }

    create__createDuration.fn = Duration.prototype;

    function parseIso (inp, sign) {
        // We'd normally use ~~inp for this, but unfortunately it also
        // converts floats to ints.
        // inp may be undefined, so careful calling replace on it.
        var res = inp && parseFloat(inp.replace(',', '.'));
        // apply sign while we're at it
        return (isNaN(res) ? 0 : res) * sign;
    }

    function positiveMomentsDifference(base, other) {
        var res = {milliseconds: 0, months: 0};

        res.months = other.month() - base.month() +
            (other.year() - base.year()) * 12;
        if (base.clone().add(res.months, 'M').isAfter(other)) {
            --res.months;
        }

        res.milliseconds = +other - +(base.clone().add(res.months, 'M'));

        return res;
    }

    function momentsDifference(base, other) {
        var res;
        other = cloneWithOffset(other, base);
        if (base.isBefore(other)) {
            res = positiveMomentsDifference(base, other);
        } else {
            res = positiveMomentsDifference(other, base);
            res.milliseconds = -res.milliseconds;
            res.months = -res.months;
        }

        return res;
    }

    function createAdder(direction, name) {
        return function (val, period) {
            var dur, tmp;
            //invert the arguments, but complain about it
            if (period !== null && !isNaN(+period)) {
                deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period).');
                tmp = val; val = period; period = tmp;
            }

            val = typeof val === 'string' ? +val : val;
            dur = create__createDuration(val, period);
            add_subtract__addSubtract(this, dur, direction);
            return this;
        };
    }

    function add_subtract__addSubtract (mom, duration, isAdding, updateOffset) {
        var milliseconds = duration._milliseconds,
            days = duration._days,
            months = duration._months;
        updateOffset = updateOffset == null ? true : updateOffset;

        if (milliseconds) {
            mom._d.setTime(+mom._d + milliseconds * isAdding);
        }
        if (days) {
            get_set__set(mom, 'Date', get_set__get(mom, 'Date') + days * isAdding);
        }
        if (months) {
            setMonth(mom, get_set__get(mom, 'Month') + months * isAdding);
        }
        if (updateOffset) {
            utils_hooks__hooks.updateOffset(mom, days || months);
        }
    }

    var add_subtract__add      = createAdder(1, 'add');
    var add_subtract__subtract = createAdder(-1, 'subtract');

    function moment_calendar__calendar (time, formats) {
        // We want to compare the start of today, vs this.
        // Getting start-of-today depends on whether we're local/utc/offset or not.
        var now = time || local__createLocal(),
            sod = cloneWithOffset(now, this).startOf('day'),
            diff = this.diff(sod, 'days', true),
            format = diff < -6 ? 'sameElse' :
                diff < -1 ? 'lastWeek' :
                diff < 0 ? 'lastDay' :
                diff < 1 ? 'sameDay' :
                diff < 2 ? 'nextDay' :
                diff < 7 ? 'nextWeek' : 'sameElse';
        return this.format(formats && formats[format] || this.localeData().calendar(format, this, local__createLocal(now)));
    }

    function clone () {
        return new Moment(this);
    }

    function isAfter (input, units) {
        var inputMs;
        units = normalizeUnits(typeof units !== 'undefined' ? units : 'millisecond');
        if (units === 'millisecond') {
            input = isMoment(input) ? input : local__createLocal(input);
            return +this > +input;
        } else {
            inputMs = isMoment(input) ? +input : +local__createLocal(input);
            return inputMs < +this.clone().startOf(units);
        }
    }

    function isBefore (input, units) {
        var inputMs;
        units = normalizeUnits(typeof units !== 'undefined' ? units : 'millisecond');
        if (units === 'millisecond') {
            input = isMoment(input) ? input : local__createLocal(input);
            return +this < +input;
        } else {
            inputMs = isMoment(input) ? +input : +local__createLocal(input);
            return +this.clone().endOf(units) < inputMs;
        }
    }

    function isBetween (from, to, units) {
        return this.isAfter(from, units) && this.isBefore(to, units);
    }

    function isSame (input, units) {
        var inputMs;
        units = normalizeUnits(units || 'millisecond');
        if (units === 'millisecond') {
            input = isMoment(input) ? input : local__createLocal(input);
            return +this === +input;
        } else {
            inputMs = +local__createLocal(input);
            return +(this.clone().startOf(units)) <= inputMs && inputMs <= +(this.clone().endOf(units));
        }
    }

    function diff (input, units, asFloat) {
        var that = cloneWithOffset(input, this),
            zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4,
            delta, output;

        units = normalizeUnits(units);

        if (units === 'year' || units === 'month' || units === 'quarter') {
            output = monthDiff(this, that);
            if (units === 'quarter') {
                output = output / 3;
            } else if (units === 'year') {
                output = output / 12;
            }
        } else {
            delta = this - that;
            output = units === 'second' ? delta / 1e3 : // 1000
                units === 'minute' ? delta / 6e4 : // 1000 * 60
                units === 'hour' ? delta / 36e5 : // 1000 * 60 * 60
                units === 'day' ? (delta - zoneDelta) / 864e5 : // 1000 * 60 * 60 * 24, negate dst
                units === 'week' ? (delta - zoneDelta) / 6048e5 : // 1000 * 60 * 60 * 24 * 7, negate dst
                delta;
        }
        return asFloat ? output : absFloor(output);
    }

    function monthDiff (a, b) {
        // difference in months
        var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),
            // b is in (anchor - 1 month, anchor + 1 month)
            anchor = a.clone().add(wholeMonthDiff, 'months'),
            anchor2, adjust;

        if (b - anchor < 0) {
            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');
            // linear across the month
            adjust = (b - anchor) / (anchor - anchor2);
        } else {
            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');
            // linear across the month
            adjust = (b - anchor) / (anchor2 - anchor);
        }

        return -(wholeMonthDiff + adjust);
    }

    utils_hooks__hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';

    function toString () {
        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');
    }

    function moment_format__toISOString () {
        var m = this.clone().utc();
        if (0 < m.year() && m.year() <= 9999) {
            if ('function' === typeof Date.prototype.toISOString) {
                // native implementation is ~50x faster, use it when we can
                return this.toDate().toISOString();
            } else {
                return formatMoment(m, 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');
            }
        } else {
            return formatMoment(m, 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');
        }
    }

    function format (inputString) {
        var output = formatMoment(this, inputString || utils_hooks__hooks.defaultFormat);
        return this.localeData().postformat(output);
    }

    function from (time, withoutSuffix) {
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }
        return create__createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);
    }

    function fromNow (withoutSuffix) {
        return this.from(local__createLocal(), withoutSuffix);
    }

    function to (time, withoutSuffix) {
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }
        return create__createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);
    }

    function toNow (withoutSuffix) {
        return this.to(local__createLocal(), withoutSuffix);
    }

    function locale (key) {
        var newLocaleData;

        if (key === undefined) {
            return this._locale._abbr;
        } else {
            newLocaleData = locale_locales__getLocale(key);
            if (newLocaleData != null) {
                this._locale = newLocaleData;
            }
            return this;
        }
    }

    var lang = deprecate(
        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',
        function (key) {
            if (key === undefined) {
                return this.localeData();
            } else {
                return this.locale(key);
            }
        }
    );

    function localeData () {
        return this._locale;
    }

    function startOf (units) {
        units = normalizeUnits(units);
        // the following switch intentionally omits break keywords
        // to utilize falling through the cases.
        switch (units) {
        case 'year':
            this.month(0);
            /* falls through */
        case 'quarter':
        case 'month':
            this.date(1);
            /* falls through */
        case 'week':
        case 'isoWeek':
        case 'day':
            this.hours(0);
            /* falls through */
        case 'hour':
            this.minutes(0);
            /* falls through */
        case 'minute':
            this.seconds(0);
            /* falls through */
        case 'second':
            this.milliseconds(0);
        }

        // weeks are a special case
        if (units === 'week') {
            this.weekday(0);
        }
        if (units === 'isoWeek') {
            this.isoWeekday(1);
        }

        // quarters are also special
        if (units === 'quarter') {
            this.month(Math.floor(this.month() / 3) * 3);
        }

        return this;
    }

    function endOf (units) {
        units = normalizeUnits(units);
        if (units === undefined || units === 'millisecond') {
            return this;
        }
        return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');
    }

    function to_type__valueOf () {
        return +this._d - ((this._offset || 0) * 60000);
    }

    function unix () {
        return Math.floor(+this / 1000);
    }

    function toDate () {
        return this._offset ? new Date(+this) : this._d;
    }

    function toArray () {
        var m = this;
        return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];
    }

    function toObject () {
        var m = this;
        return {
            years: m.year(),
            months: m.month(),
            date: m.date(),
            hours: m.hours(),
            minutes: m.minutes(),
            seconds: m.seconds(),
            milliseconds: m.milliseconds()
        };
    }

    function moment_valid__isValid () {
        return valid__isValid(this);
    }

    function parsingFlags () {
        return extend({}, getParsingFlags(this));
    }

    function invalidAt () {
        return getParsingFlags(this).overflow;
    }

    addFormatToken(0, ['gg', 2], 0, function () {
        return this.weekYear() % 100;
    });

    addFormatToken(0, ['GG', 2], 0, function () {
        return this.isoWeekYear() % 100;
    });

    function addWeekYearFormatToken (token, getter) {
        addFormatToken(0, [token, token.length], 0, getter);
    }

    addWeekYearFormatToken('gggg',     'weekYear');
    addWeekYearFormatToken('ggggg',    'weekYear');
    addWeekYearFormatToken('GGGG',  'isoWeekYear');
    addWeekYearFormatToken('GGGGG', 'isoWeekYear');

    // ALIASES

    addUnitAlias('weekYear', 'gg');
    addUnitAlias('isoWeekYear', 'GG');

    // PARSING

    addRegexToken('G',      matchSigned);
    addRegexToken('g',      matchSigned);
    addRegexToken('GG',     match1to2, match2);
    addRegexToken('gg',     match1to2, match2);
    addRegexToken('GGGG',   match1to4, match4);
    addRegexToken('gggg',   match1to4, match4);
    addRegexToken('GGGGG',  match1to6, match6);
    addRegexToken('ggggg',  match1to6, match6);

    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {
        week[token.substr(0, 2)] = toInt(input);
    });

    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {
        week[token] = utils_hooks__hooks.parseTwoDigitYear(input);
    });

    // HELPERS

    function weeksInYear(year, dow, doy) {
        return weekOfYear(local__createLocal([year, 11, 31 + dow - doy]), dow, doy).week;
    }

    // MOMENTS

    function getSetWeekYear (input) {
        var year = weekOfYear(this, this.localeData()._week.dow, this.localeData()._week.doy).year;
        return input == null ? year : this.add((input - year), 'y');
    }

    function getSetISOWeekYear (input) {
        var year = weekOfYear(this, 1, 4).year;
        return input == null ? year : this.add((input - year), 'y');
    }

    function getISOWeeksInYear () {
        return weeksInYear(this.year(), 1, 4);
    }

    function getWeeksInYear () {
        var weekInfo = this.localeData()._week;
        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);
    }

    addFormatToken('Q', 0, 0, 'quarter');

    // ALIASES

    addUnitAlias('quarter', 'Q');

    // PARSING

    addRegexToken('Q', match1);
    addParseToken('Q', function (input, array) {
        array[MONTH] = (toInt(input) - 1) * 3;
    });

    // MOMENTS

    function getSetQuarter (input) {
        return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);
    }

    addFormatToken('D', ['DD', 2], 'Do', 'date');

    // ALIASES

    addUnitAlias('date', 'D');

    // PARSING

    addRegexToken('D',  match1to2);
    addRegexToken('DD', match1to2, match2);
    addRegexToken('Do', function (isStrict, locale) {
        return isStrict ? locale._ordinalParse : locale._ordinalParseLenient;
    });

    addParseToken(['D', 'DD'], DATE);
    addParseToken('Do', function (input, array) {
        array[DATE] = toInt(input.match(match1to2)[0], 10);
    });

    // MOMENTS

    var getSetDayOfMonth = makeGetSet('Date', true);

    addFormatToken('d', 0, 'do', 'day');

    addFormatToken('dd', 0, 0, function (format) {
        return this.localeData().weekdaysMin(this, format);
    });

    addFormatToken('ddd', 0, 0, function (format) {
        return this.localeData().weekdaysShort(this, format);
    });

    addFormatToken('dddd', 0, 0, function (format) {
        return this.localeData().weekdays(this, format);
    });

    addFormatToken('e', 0, 0, 'weekday');
    addFormatToken('E', 0, 0, 'isoWeekday');

    // ALIASES

    addUnitAlias('day', 'd');
    addUnitAlias('weekday', 'e');
    addUnitAlias('isoWeekday', 'E');

    // PARSING

    addRegexToken('d',    match1to2);
    addRegexToken('e',    match1to2);
    addRegexToken('E',    match1to2);
    addRegexToken('dd',   matchWord);
    addRegexToken('ddd',  matchWord);
    addRegexToken('dddd', matchWord);

    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config) {
        var weekday = config._locale.weekdaysParse(input);
        // if we didn't get a weekday name, mark the date as invalid
        if (weekday != null) {
            week.d = weekday;
        } else {
            getParsingFlags(config).invalidWeekday = input;
        }
    });

    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {
        week[token] = toInt(input);
    });

    // HELPERS

    function parseWeekday(input, locale) {
        if (typeof input !== 'string') {
            return input;
        }

        if (!isNaN(input)) {
            return parseInt(input, 10);
        }

        input = locale.weekdaysParse(input);
        if (typeof input === 'number') {
            return input;
        }

        return null;
    }

    // LOCALES

    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');
    function localeWeekdays (m) {
        return this._weekdays[m.day()];
    }

    var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');
    function localeWeekdaysShort (m) {
        return this._weekdaysShort[m.day()];
    }

    var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');
    function localeWeekdaysMin (m) {
        return this._weekdaysMin[m.day()];
    }

    function localeWeekdaysParse (weekdayName) {
        var i, mom, regex;

        this._weekdaysParse = this._weekdaysParse || [];

        for (i = 0; i < 7; i++) {
            // make the regex if we don't have it already
            if (!this._weekdaysParse[i]) {
                mom = local__createLocal([2000, 1]).day(i);
                regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');
                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            // test the regex
            if (this._weekdaysParse[i].test(weekdayName)) {
                return i;
            }
        }
    }

    // MOMENTS

    function getSetDayOfWeek (input) {
        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        if (input != null) {
            input = parseWeekday(input, this.localeData());
            return this.add(input - day, 'd');
        } else {
            return day;
        }
    }

    function getSetLocaleDayOfWeek (input) {
        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return input == null ? weekday : this.add(input - weekday, 'd');
    }

    function getSetISODayOfWeek (input) {
        // behaves the same as moment#day except
        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)
        // as a setter, sunday should belong to the previous week.
        return input == null ? this.day() || 7 : this.day(this.day() % 7 ? input : input - 7);
    }

    addFormatToken('H', ['HH', 2], 0, 'hour');
    addFormatToken('h', ['hh', 2], 0, function () {
        return this.hours() % 12 || 12;
    });

    function meridiem (token, lowercase) {
        addFormatToken(token, 0, 0, function () {
            return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);
        });
    }

    meridiem('a', true);
    meridiem('A', false);

    // ALIASES

    addUnitAlias('hour', 'h');

    // PARSING

    function matchMeridiem (isStrict, locale) {
        return locale._meridiemParse;
    }

    addRegexToken('a',  matchMeridiem);
    addRegexToken('A',  matchMeridiem);
    addRegexToken('H',  match1to2);
    addRegexToken('h',  match1to2);
    addRegexToken('HH', match1to2, match2);
    addRegexToken('hh', match1to2, match2);

    addParseToken(['H', 'HH'], HOUR);
    addParseToken(['a', 'A'], function (input, array, config) {
        config._isPm = config._locale.isPM(input);
        config._meridiem = input;
    });
    addParseToken(['h', 'hh'], function (input, array, config) {
        array[HOUR] = toInt(input);
        getParsingFlags(config).bigHour = true;
    });

    // LOCALES

    function localeIsPM (input) {
        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays
        // Using charAt should be more compatible.
        return ((input + '').toLowerCase().charAt(0) === 'p');
    }

    var defaultLocaleMeridiemParse = /[ap]\.?m?\.?/i;
    function localeMeridiem (hours, minutes, isLower) {
        if (hours > 11) {
            return isLower ? 'pm' : 'PM';
        } else {
            return isLower ? 'am' : 'AM';
        }
    }


    // MOMENTS

    // Setting the hour should keep the time, because the user explicitly
    // specified which hour he wants. So trying to maintain the same hour (in
    // a new timezone) makes sense. Adding/subtracting hours does not follow
    // this rule.
    var getSetHour = makeGetSet('Hours', true);

    addFormatToken('m', ['mm', 2], 0, 'minute');

    // ALIASES

    addUnitAlias('minute', 'm');

    // PARSING

    addRegexToken('m',  match1to2);
    addRegexToken('mm', match1to2, match2);
    addParseToken(['m', 'mm'], MINUTE);

    // MOMENTS

    var getSetMinute = makeGetSet('Minutes', false);

    addFormatToken('s', ['ss', 2], 0, 'second');

    // ALIASES

    addUnitAlias('second', 's');

    // PARSING

    addRegexToken('s',  match1to2);
    addRegexToken('ss', match1to2, match2);
    addParseToken(['s', 'ss'], SECOND);

    // MOMENTS

    var getSetSecond = makeGetSet('Seconds', false);

    addFormatToken('S', 0, 0, function () {
        return ~~(this.millisecond() / 100);
    });

    addFormatToken(0, ['SS', 2], 0, function () {
        return ~~(this.millisecond() / 10);
    });

    addFormatToken(0, ['SSS', 3], 0, 'millisecond');
    addFormatToken(0, ['SSSS', 4], 0, function () {
        return this.millisecond() * 10;
    });
    addFormatToken(0, ['SSSSS', 5], 0, function () {
        return this.millisecond() * 100;
    });
    addFormatToken(0, ['SSSSSS', 6], 0, function () {
        return this.millisecond() * 1000;
    });
    addFormatToken(0, ['SSSSSSS', 7], 0, function () {
        return this.millisecond() * 10000;
    });
    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {
        return this.millisecond() * 100000;
    });
    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {
        return this.millisecond() * 1000000;
    });


    // ALIASES

    addUnitAlias('millisecond', 'ms');

    // PARSING

    addRegexToken('S',    match1to3, match1);
    addRegexToken('SS',   match1to3, match2);
    addRegexToken('SSS',  match1to3, match3);

    var token;
    for (token = 'SSSS'; token.length <= 9; token += 'S') {
        addRegexToken(token, matchUnsigned);
    }

    function parseMs(input, array) {
        array[MILLISECOND] = toInt(('0.' + input) * 1000);
    }

    for (token = 'S'; token.length <= 9; token += 'S') {
        addParseToken(token, parseMs);
    }
    // MOMENTS

    var getSetMillisecond = makeGetSet('Milliseconds', false);

    addFormatToken('z',  0, 0, 'zoneAbbr');
    addFormatToken('zz', 0, 0, 'zoneName');

    // MOMENTS

    function getZoneAbbr () {
        return this._isUTC ? 'UTC' : '';
    }

    function getZoneName () {
        return this._isUTC ? 'Coordinated Universal Time' : '';
    }

    var momentPrototype__proto = Moment.prototype;

    momentPrototype__proto.add          = add_subtract__add;
    momentPrototype__proto.calendar     = moment_calendar__calendar;
    momentPrototype__proto.clone        = clone;
    momentPrototype__proto.diff         = diff;
    momentPrototype__proto.endOf        = endOf;
    momentPrototype__proto.format       = format;
    momentPrototype__proto.from         = from;
    momentPrototype__proto.fromNow      = fromNow;
    momentPrototype__proto.to           = to;
    momentPrototype__proto.toNow        = toNow;
    momentPrototype__proto.get          = getSet;
    momentPrototype__proto.invalidAt    = invalidAt;
    momentPrototype__proto.isAfter      = isAfter;
    momentPrototype__proto.isBefore     = isBefore;
    momentPrototype__proto.isBetween    = isBetween;
    momentPrototype__proto.isSame       = isSame;
    momentPrototype__proto.isValid      = moment_valid__isValid;
    momentPrototype__proto.lang         = lang;
    momentPrototype__proto.locale       = locale;
    momentPrototype__proto.localeData   = localeData;
    momentPrototype__proto.max          = prototypeMax;
    momentPrototype__proto.min          = prototypeMin;
    momentPrototype__proto.parsingFlags = parsingFlags;
    momentPrototype__proto.set          = getSet;
    momentPrototype__proto.startOf      = startOf;
    momentPrototype__proto.subtract     = add_subtract__subtract;
    momentPrototype__proto.toArray      = toArray;
    momentPrototype__proto.toObject     = toObject;
    momentPrototype__proto.toDate       = toDate;
    momentPrototype__proto.toISOString  = moment_format__toISOString;
    momentPrototype__proto.toJSON       = moment_format__toISOString;
    momentPrototype__proto.toString     = toString;
    momentPrototype__proto.unix         = unix;
    momentPrototype__proto.valueOf      = to_type__valueOf;

    // Year
    momentPrototype__proto.year       = getSetYear;
    momentPrototype__proto.isLeapYear = getIsLeapYear;

    // Week Year
    momentPrototype__proto.weekYear    = getSetWeekYear;
    momentPrototype__proto.isoWeekYear = getSetISOWeekYear;

    // Quarter
    momentPrototype__proto.quarter = momentPrototype__proto.quarters = getSetQuarter;

    // Month
    momentPrototype__proto.month       = getSetMonth;
    momentPrototype__proto.daysInMonth = getDaysInMonth;

    // Week
    momentPrototype__proto.week           = momentPrototype__proto.weeks        = getSetWeek;
    momentPrototype__proto.isoWeek        = momentPrototype__proto.isoWeeks     = getSetISOWeek;
    momentPrototype__proto.weeksInYear    = getWeeksInYear;
    momentPrototype__proto.isoWeeksInYear = getISOWeeksInYear;

    // Day
    momentPrototype__proto.date       = getSetDayOfMonth;
    momentPrototype__proto.day        = momentPrototype__proto.days             = getSetDayOfWeek;
    momentPrototype__proto.weekday    = getSetLocaleDayOfWeek;
    momentPrototype__proto.isoWeekday = getSetISODayOfWeek;
    momentPrototype__proto.dayOfYear  = getSetDayOfYear;

    // Hour
    momentPrototype__proto.hour = momentPrototype__proto.hours = getSetHour;

    // Minute
    momentPrototype__proto.minute = momentPrototype__proto.minutes = getSetMinute;

    // Second
    momentPrototype__proto.second = momentPrototype__proto.seconds = getSetSecond;

    // Millisecond
    momentPrototype__proto.millisecond = momentPrototype__proto.milliseconds = getSetMillisecond;

    // Offset
    momentPrototype__proto.utcOffset            = getSetOffset;
    momentPrototype__proto.utc                  = setOffsetToUTC;
    momentPrototype__proto.local                = setOffsetToLocal;
    momentPrototype__proto.parseZone            = setOffsetToParsedOffset;
    momentPrototype__proto.hasAlignedHourOffset = hasAlignedHourOffset;
    momentPrototype__proto.isDST                = isDaylightSavingTime;
    momentPrototype__proto.isDSTShifted         = isDaylightSavingTimeShifted;
    momentPrototype__proto.isLocal              = isLocal;
    momentPrototype__proto.isUtcOffset          = isUtcOffset;
    momentPrototype__proto.isUtc                = isUtc;
    momentPrototype__proto.isUTC                = isUtc;

    // Timezone
    momentPrototype__proto.zoneAbbr = getZoneAbbr;
    momentPrototype__proto.zoneName = getZoneName;

    // Deprecations
    momentPrototype__proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);
    momentPrototype__proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);
    momentPrototype__proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);
    momentPrototype__proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779', getSetZone);

    var momentPrototype = momentPrototype__proto;

    function moment__createUnix (input) {
        return local__createLocal(input * 1000);
    }

    function moment__createInZone () {
        return local__createLocal.apply(null, arguments).parseZone();
    }

    var defaultCalendar = {
        sameDay : '[Today at] LT',
        nextDay : '[Tomorrow at] LT',
        nextWeek : 'dddd [at] LT',
        lastDay : '[Yesterday at] LT',
        lastWeek : '[Last] dddd [at] LT',
        sameElse : 'L'
    };

    function locale_calendar__calendar (key, mom, now) {
        var output = this._calendar[key];
        return typeof output === 'function' ? output.call(mom, now) : output;
    }

    var defaultLongDateFormat = {
        LTS  : 'h:mm:ss A',
        LT   : 'h:mm A',
        L    : 'MM/DD/YYYY',
        LL   : 'MMMM D, YYYY',
        LLL  : 'MMMM D, YYYY h:mm A',
        LLLL : 'dddd, MMMM D, YYYY h:mm A'
    };

    function longDateFormat (key) {
        var format = this._longDateFormat[key],
            formatUpper = this._longDateFormat[key.toUpperCase()];

        if (format || !formatUpper) {
            return format;
        }

        this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {
            return val.slice(1);
        });

        return this._longDateFormat[key];
    }

    var defaultInvalidDate = 'Invalid date';

    function invalidDate () {
        return this._invalidDate;
    }

    var defaultOrdinal = '%d';
    var defaultOrdinalParse = /\d{1,2}/;

    function ordinal (number) {
        return this._ordinal.replace('%d', number);
    }

    function preParsePostFormat (string) {
        return string;
    }

    var defaultRelativeTime = {
        future : 'in %s',
        past   : '%s ago',
        s  : 'a few seconds',
        m  : 'a minute',
        mm : '%d minutes',
        h  : 'an hour',
        hh : '%d hours',
        d  : 'a day',
        dd : '%d days',
        M  : 'a month',
        MM : '%d months',
        y  : 'a year',
        yy : '%d years'
    };

    function relative__relativeTime (number, withoutSuffix, string, isFuture) {
        var output = this._relativeTime[string];
        return (typeof output === 'function') ?
            output(number, withoutSuffix, string, isFuture) :
            output.replace(/%d/i, number);
    }

    function pastFuture (diff, output) {
        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];
        return typeof format === 'function' ? format(output) : format.replace(/%s/i, output);
    }

    function locale_set__set (config) {
        var prop, i;
        for (i in config) {
            prop = config[i];
            if (typeof prop === 'function') {
                this[i] = prop;
            } else {
                this['_' + i] = prop;
            }
        }
        // Lenient ordinal parsing accepts just a number in addition to
        // number + (possibly) stuff coming from _ordinalParseLenient.
        this._ordinalParseLenient = new RegExp(this._ordinalParse.source + '|' + (/\d{1,2}/).source);
    }

    var prototype__proto = Locale.prototype;

    prototype__proto._calendar       = defaultCalendar;
    prototype__proto.calendar        = locale_calendar__calendar;
    prototype__proto._longDateFormat = defaultLongDateFormat;
    prototype__proto.longDateFormat  = longDateFormat;
    prototype__proto._invalidDate    = defaultInvalidDate;
    prototype__proto.invalidDate     = invalidDate;
    prototype__proto._ordinal        = defaultOrdinal;
    prototype__proto.ordinal         = ordinal;
    prototype__proto._ordinalParse   = defaultOrdinalParse;
    prototype__proto.preparse        = preParsePostFormat;
    prototype__proto.postformat      = preParsePostFormat;
    prototype__proto._relativeTime   = defaultRelativeTime;
    prototype__proto.relativeTime    = relative__relativeTime;
    prototype__proto.pastFuture      = pastFuture;
    prototype__proto.set             = locale_set__set;

    // Month
    prototype__proto.months       =        localeMonths;
    prototype__proto._months      = defaultLocaleMonths;
    prototype__proto.monthsShort  =        localeMonthsShort;
    prototype__proto._monthsShort = defaultLocaleMonthsShort;
    prototype__proto.monthsParse  =        localeMonthsParse;

    // Week
    prototype__proto.week = localeWeek;
    prototype__proto._week = defaultLocaleWeek;
    prototype__proto.firstDayOfYear = localeFirstDayOfYear;
    prototype__proto.firstDayOfWeek = localeFirstDayOfWeek;

    // Day of Week
    prototype__proto.weekdays       =        localeWeekdays;
    prototype__proto._weekdays      = defaultLocaleWeekdays;
    prototype__proto.weekdaysMin    =        localeWeekdaysMin;
    prototype__proto._weekdaysMin   = defaultLocaleWeekdaysMin;
    prototype__proto.weekdaysShort  =        localeWeekdaysShort;
    prototype__proto._weekdaysShort = defaultLocaleWeekdaysShort;
    prototype__proto.weekdaysParse  =        localeWeekdaysParse;

    // Hours
    prototype__proto.isPM = localeIsPM;
    prototype__proto._meridiemParse = defaultLocaleMeridiemParse;
    prototype__proto.meridiem = localeMeridiem;

    function lists__get (format, index, field, setter) {
        var locale = locale_locales__getLocale();
        var utc = create_utc__createUTC().set(setter, index);
        return locale[field](utc, format);
    }

    function list (format, index, field, count, setter) {
        if (typeof format === 'number') {
            index = format;
            format = undefined;
        }

        format = format || '';

        if (index != null) {
            return lists__get(format, index, field, setter);
        }

        var i;
        var out = [];
        for (i = 0; i < count; i++) {
            out[i] = lists__get(format, i, field, setter);
        }
        return out;
    }

    function lists__listMonths (format, index) {
        return list(format, index, 'months', 12, 'month');
    }

    function lists__listMonthsShort (format, index) {
        return list(format, index, 'monthsShort', 12, 'month');
    }

    function lists__listWeekdays (format, index) {
        return list(format, index, 'weekdays', 7, 'day');
    }

    function lists__listWeekdaysShort (format, index) {
        return list(format, index, 'weekdaysShort', 7, 'day');
    }

    function lists__listWeekdaysMin (format, index) {
        return list(format, index, 'weekdaysMin', 7, 'day');
    }

    locale_locales__getSetGlobalLocale('en', {
        ordinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal : function (number) {
            var b = number % 10,
                output = (toInt(number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
            return number + output;
        }
    });

    // Side effect imports
    utils_hooks__hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', locale_locales__getSetGlobalLocale);
    utils_hooks__hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', locale_locales__getLocale);

    var mathAbs = Math.abs;

    function duration_abs__abs () {
        var data           = this._data;

        this._milliseconds = mathAbs(this._milliseconds);
        this._days         = mathAbs(this._days);
        this._months       = mathAbs(this._months);

        data.milliseconds  = mathAbs(data.milliseconds);
        data.seconds       = mathAbs(data.seconds);
        data.minutes       = mathAbs(data.minutes);
        data.hours         = mathAbs(data.hours);
        data.months        = mathAbs(data.months);
        data.years         = mathAbs(data.years);

        return this;
    }

    function duration_add_subtract__addSubtract (duration, input, value, direction) {
        var other = create__createDuration(input, value);

        duration._milliseconds += direction * other._milliseconds;
        duration._days         += direction * other._days;
        duration._months       += direction * other._months;

        return duration._bubble();
    }

    // supports only 2.0-style add(1, 's') or add(duration)
    function duration_add_subtract__add (input, value) {
        return duration_add_subtract__addSubtract(this, input, value, 1);
    }

    // supports only 2.0-style subtract(1, 's') or subtract(duration)
    function duration_add_subtract__subtract (input, value) {
        return duration_add_subtract__addSubtract(this, input, value, -1);
    }

    function absCeil (number) {
        if (number < 0) {
            return Math.floor(number);
        } else {
            return Math.ceil(number);
        }
    }

    function bubble () {
        var milliseconds = this._milliseconds;
        var days         = this._days;
        var months       = this._months;
        var data         = this._data;
        var seconds, minutes, hours, years, monthsFromDays;

        // if we have a mix of positive and negative values, bubble down first
        // check: https://github.com/moment/moment/issues/2166
        if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||
                (milliseconds <= 0 && days <= 0 && months <= 0))) {
            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;
            days = 0;
            months = 0;
        }

        // The following code bubbles up values, see the tests for
        // examples of what that means.
        data.milliseconds = milliseconds % 1000;

        seconds           = absFloor(milliseconds / 1000);
        data.seconds      = seconds % 60;

        minutes           = absFloor(seconds / 60);
        data.minutes      = minutes % 60;

        hours             = absFloor(minutes / 60);
        data.hours        = hours % 24;

        days += absFloor(hours / 24);

        // convert days to months
        monthsFromDays = absFloor(daysToMonths(days));
        months += monthsFromDays;
        days -= absCeil(monthsToDays(monthsFromDays));

        // 12 months -> 1 year
        years = absFloor(months / 12);
        months %= 12;

        data.days   = days;
        data.months = months;
        data.years  = years;

        return this;
    }

    function daysToMonths (days) {
        // 400 years have 146097 days (taking into account leap year rules)
        // 400 years have 12 months === 4800
        return days * 4800 / 146097;
    }

    function monthsToDays (months) {
        // the reverse of daysToMonths
        return months * 146097 / 4800;
    }

    function as (units) {
        var days;
        var months;
        var milliseconds = this._milliseconds;

        units = normalizeUnits(units);

        if (units === 'month' || units === 'year') {
            days   = this._days   + milliseconds / 864e5;
            months = this._months + daysToMonths(days);
            return units === 'month' ? months : months / 12;
        } else {
            // handle milliseconds separately because of floating point math errors (issue #1867)
            days = this._days + Math.round(monthsToDays(this._months));
            switch (units) {
                case 'week'   : return days / 7     + milliseconds / 6048e5;
                case 'day'    : return days         + milliseconds / 864e5;
                case 'hour'   : return days * 24    + milliseconds / 36e5;
                case 'minute' : return days * 1440  + milliseconds / 6e4;
                case 'second' : return days * 86400 + milliseconds / 1000;
                // Math.floor prevents floating point math errors here
                case 'millisecond': return Math.floor(days * 864e5) + milliseconds;
                default: throw new Error('Unknown unit ' + units);
            }
        }
    }

    // TODO: Use this.as('ms')?
    function duration_as__valueOf () {
        return (
            this._milliseconds +
            this._days * 864e5 +
            (this._months % 12) * 2592e6 +
            toInt(this._months / 12) * 31536e6
        );
    }

    function makeAs (alias) {
        return function () {
            return this.as(alias);
        };
    }

    var asMilliseconds = makeAs('ms');
    var asSeconds      = makeAs('s');
    var asMinutes      = makeAs('m');
    var asHours        = makeAs('h');
    var asDays         = makeAs('d');
    var asWeeks        = makeAs('w');
    var asMonths       = makeAs('M');
    var asYears        = makeAs('y');

    function duration_get__get (units) {
        units = normalizeUnits(units);
        return this[units + 's']();
    }

    function makeGetter(name) {
        return function () {
            return this._data[name];
        };
    }

    var milliseconds = makeGetter('milliseconds');
    var seconds      = makeGetter('seconds');
    var minutes      = makeGetter('minutes');
    var hours        = makeGetter('hours');
    var days         = makeGetter('days');
    var months       = makeGetter('months');
    var years        = makeGetter('years');

    function weeks () {
        return absFloor(this.days() / 7);
    }

    var round = Math.round;
    var thresholds = {
        s: 45,  // seconds to minute
        m: 45,  // minutes to hour
        h: 22,  // hours to day
        d: 26,  // days to month
        M: 11   // months to year
    };

    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize
    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {
        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
    }

    function duration_humanize__relativeTime (posNegDuration, withoutSuffix, locale) {
        var duration = create__createDuration(posNegDuration).abs();
        var seconds  = round(duration.as('s'));
        var minutes  = round(duration.as('m'));
        var hours    = round(duration.as('h'));
        var days     = round(duration.as('d'));
        var months   = round(duration.as('M'));
        var years    = round(duration.as('y'));

        var a = seconds < thresholds.s && ['s', seconds]  ||
                minutes === 1          && ['m']           ||
                minutes < thresholds.m && ['mm', minutes] ||
                hours   === 1          && ['h']           ||
                hours   < thresholds.h && ['hh', hours]   ||
                days    === 1          && ['d']           ||
                days    < thresholds.d && ['dd', days]    ||
                months  === 1          && ['M']           ||
                months  < thresholds.M && ['MM', months]  ||
                years   === 1          && ['y']           || ['yy', years];

        a[2] = withoutSuffix;
        a[3] = +posNegDuration > 0;
        a[4] = locale;
        return substituteTimeAgo.apply(null, a);
    }

    // This function allows you to set a threshold for relative time strings
    function duration_humanize__getSetRelativeTimeThreshold (threshold, limit) {
        if (thresholds[threshold] === undefined) {
            return false;
        }
        if (limit === undefined) {
            return thresholds[threshold];
        }
        thresholds[threshold] = limit;
        return true;
    }

    function humanize (withSuffix) {
        var locale = this.localeData();
        var output = duration_humanize__relativeTime(this, !withSuffix, locale);

        if (withSuffix) {
            output = locale.pastFuture(+this, output);
        }

        return locale.postformat(output);
    }

    var iso_string__abs = Math.abs;

    function iso_string__toISOString() {
        // for ISO strings we do not use the normal bubbling rules:
        //  * milliseconds bubble up until they become hours
        //  * days do not bubble at all
        //  * months bubble up until they become years
        // This is because there is no context-free conversion between hours and days
        // (think of clock changes)
        // and also not between days and months (28-31 days per month)
        var seconds = iso_string__abs(this._milliseconds) / 1000;
        var days         = iso_string__abs(this._days);
        var months       = iso_string__abs(this._months);
        var minutes, hours, years;

        // 3600 seconds -> 60 minutes -> 1 hour
        minutes           = absFloor(seconds / 60);
        hours             = absFloor(minutes / 60);
        seconds %= 60;
        minutes %= 60;

        // 12 months -> 1 year
        years  = absFloor(months / 12);
        months %= 12;


        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js
        var Y = years;
        var M = months;
        var D = days;
        var h = hours;
        var m = minutes;
        var s = seconds;
        var total = this.asSeconds();

        if (!total) {
            // this is the same as C#'s (Noda) and python (isodate)...
            // but not other JS (goog.date)
            return 'P0D';
        }

        return (total < 0 ? '-' : '') +
            'P' +
            (Y ? Y + 'Y' : '') +
            (M ? M + 'M' : '') +
            (D ? D + 'D' : '') +
            ((h || m || s) ? 'T' : '') +
            (h ? h + 'H' : '') +
            (m ? m + 'M' : '') +
            (s ? s + 'S' : '');
    }

    var duration_prototype__proto = Duration.prototype;

    duration_prototype__proto.abs            = duration_abs__abs;
    duration_prototype__proto.add            = duration_add_subtract__add;
    duration_prototype__proto.subtract       = duration_add_subtract__subtract;
    duration_prototype__proto.as             = as;
    duration_prototype__proto.asMilliseconds = asMilliseconds;
    duration_prototype__proto.asSeconds      = asSeconds;
    duration_prototype__proto.asMinutes      = asMinutes;
    duration_prototype__proto.asHours        = asHours;
    duration_prototype__proto.asDays         = asDays;
    duration_prototype__proto.asWeeks        = asWeeks;
    duration_prototype__proto.asMonths       = asMonths;
    duration_prototype__proto.asYears        = asYears;
    duration_prototype__proto.valueOf        = duration_as__valueOf;
    duration_prototype__proto._bubble        = bubble;
    duration_prototype__proto.get            = duration_get__get;
    duration_prototype__proto.milliseconds   = milliseconds;
    duration_prototype__proto.seconds        = seconds;
    duration_prototype__proto.minutes        = minutes;
    duration_prototype__proto.hours          = hours;
    duration_prototype__proto.days           = days;
    duration_prototype__proto.weeks          = weeks;
    duration_prototype__proto.months         = months;
    duration_prototype__proto.years          = years;
    duration_prototype__proto.humanize       = humanize;
    duration_prototype__proto.toISOString    = iso_string__toISOString;
    duration_prototype__proto.toString       = iso_string__toISOString;
    duration_prototype__proto.toJSON         = iso_string__toISOString;
    duration_prototype__proto.locale         = locale;
    duration_prototype__proto.localeData     = localeData;

    // Deprecations
    duration_prototype__proto.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', iso_string__toISOString);
    duration_prototype__proto.lang = lang;

    // Side effect imports

    addFormatToken('X', 0, 0, 'unix');
    addFormatToken('x', 0, 0, 'valueOf');

    // PARSING

    addRegexToken('x', matchSigned);
    addRegexToken('X', matchTimestamp);
    addParseToken('X', function (input, array, config) {
        config._d = new Date(parseFloat(input, 10) * 1000);
    });
    addParseToken('x', function (input, array, config) {
        config._d = new Date(toInt(input));
    });

    // Side effect imports


    utils_hooks__hooks.version = '2.10.6';

    setHookCallback(local__createLocal);

    utils_hooks__hooks.fn                    = momentPrototype;
    utils_hooks__hooks.min                   = min;
    utils_hooks__hooks.max                   = max;
    utils_hooks__hooks.utc                   = create_utc__createUTC;
    utils_hooks__hooks.unix                  = moment__createUnix;
    utils_hooks__hooks.months                = lists__listMonths;
    utils_hooks__hooks.isDate                = isDate;
    utils_hooks__hooks.locale                = locale_locales__getSetGlobalLocale;
    utils_hooks__hooks.invalid               = valid__createInvalid;
    utils_hooks__hooks.duration              = create__createDuration;
    utils_hooks__hooks.isMoment              = isMoment;
    utils_hooks__hooks.weekdays              = lists__listWeekdays;
    utils_hooks__hooks.parseZone             = moment__createInZone;
    utils_hooks__hooks.localeData            = locale_locales__getLocale;
    utils_hooks__hooks.isDuration            = isDuration;
    utils_hooks__hooks.monthsShort           = lists__listMonthsShort;
    utils_hooks__hooks.weekdaysMin           = lists__listWeekdaysMin;
    utils_hooks__hooks.defineLocale          = defineLocale;
    utils_hooks__hooks.weekdaysShort         = lists__listWeekdaysShort;
    utils_hooks__hooks.normalizeUnits        = normalizeUnits;
    utils_hooks__hooks.relativeTimeThreshold = duration_humanize__getSetRelativeTimeThreshold;

    var _moment = utils_hooks__hooks;

    return _moment;

}));
},{}],"/home/ubuntu/staging/apps/build/js/netsim/Packet.js":[function(require,module,exports){
/**
 * @overview Utility class for encoding and decoding simulated packets.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var NetSimUtils = require('./NetSimUtils');
var DataConverters = require('./DataConverters');
var NetSimGlobals = require('./NetSimGlobals');

/**
 * Wraps binary packet content with the format information required to
 * interpret it.
 * @param {Packet.HeaderType[]} formatSpec
 * @param {string} binary
 * @constructor
 */
var Packet = module.exports = function (formatSpec, binary) {
  var level = NetSimGlobals.getLevelConfig();

  /** @type {Packet.Encoder} */
  this.encoder = new Packet.Encoder(level.addressFormat, level.packetCountBitWidth, formatSpec);

  /** @type {string} of binary content */
  this.binary = binary;
};

/**
 * Possible packet header fields.  Values to this enum become keys
 * that can be used when defining a level configuration.  They also correspond
 * to class names that get applied to fields representing data in that column.
 * @enum {string}
 * @readonly
 */
Packet.HeaderType = {
  TO_ADDRESS: 'toAddress',
  FROM_ADDRESS: 'fromAddress',
  PACKET_INDEX: 'packetIndex',
  PACKET_COUNT: 'packetCount'
};

/**
 * Whether the given header field type will use the address format.
 * @param {Packet.HeaderType} headerType
 * @returns {boolean}
 */
Packet.isAddressField = function (headerType) {
  return headerType === Packet.HeaderType.TO_ADDRESS || headerType === Packet.HeaderType.FROM_ADDRESS;
};

/**
 * Whether the given header field will use the packetCount bit width.
 * @param {Packet.HeaderType} headerType
 * @returns {boolean}
 */
Packet.isPacketField = function (headerType) {
  return headerType === Packet.HeaderType.PACKET_INDEX || headerType === Packet.HeaderType.PACKET_COUNT;
};

/**
 * @param {Packet.HeaderType} headerType
 * @returns {string} of binary content
 */
Packet.prototype.getHeaderAsBinary = function (headerType) {
  return this.encoder.getHeader(headerType, this.binary);
};

/**
 * @param {Packet.HeaderType} headerType
 * @returns {number}
 */
Packet.prototype.getHeaderAsInt = function (headerType) {
  return this.encoder.getHeaderAsInt(headerType, this.binary);
};

/**
 * @param {Packet.HeaderType} headerType
 * @returns {string}
 */
Packet.prototype.getHeaderAsAddressString = function (headerType) {
  return this.encoder.getHeaderAsAddressString(headerType, this.binary);
};

/**
 * @returns {string} binary content
 */
Packet.prototype.getBodyAsBinary = function () {
  return this.encoder.getBody(this.binary);
};

/**
 * @param {number} bitsPerChar
 * @returns {string} ascii content
 */
Packet.prototype.getBodyAsAscii = function (bitsPerChar) {
  return this.encoder.getBodyAsAscii(this.binary, bitsPerChar);
};

/**
 * Given a particular packet format, can convert a set of fields down
 * into a binary string matching the specification, or extract fields
 * on demand from a binary string.
 * @param {AddressHeaderFormat} addressFormat
 * @param {number} packetCountBitWidth
 * @param {Packet.HeaderType[]} headerSpec - Specification of packet format, an
 *        ordered set of objects in the form {key:string, bits:number} where
 *        key is the field name you'll use to retrieve the information, and
 *        bits is the length of the field.
 * @constructor
 */
Packet.Encoder = function (addressFormat, packetCountBitWidth, headerSpec) {
  /** @type {string} */
  this.addressFormat_ = addressFormat;

  this.addressBitWidth_ = this.calculateBitWidth(this.addressFormat_);

  /** @type {number} */
  this.packetCountBitWidth_ = packetCountBitWidth;

  /** @type {Packet.HeaderType[]} */
  this.headerSpec_ = headerSpec;

  this.validateSpec();
};

/**
 * @param {AddressHeaderFormat} addressFormat
 * @private
 */
Packet.Encoder.prototype.calculateBitWidth = function (addressFormat) {
  return addressFormat.split(/\D+/).reduce(function (prev, cur) {
    return prev + (parseInt(cur, 10) || 0);
  }, 0);
};

/**
 * Verify that the configured format specification describes a valid format that
 * can be used by the Packet.Encoder object.
 */
Packet.Encoder.prototype.validateSpec = function () {
  var keyCache = {};

  for (var i = 0; i < this.headerSpec_.length; i++) {
    var isAddressField = Packet.isAddressField(this.headerSpec_[i]);
    var isPacketField = Packet.isPacketField(this.headerSpec_[i]);

    if (isAddressField && this.addressBitWidth_ === 0) {
      throw new Error("Invalid packet format: Includes an address field but " + " address format is invalid.");
    }

    if (isPacketField && this.packetCountBitWidth_ === 0) {
      throw new Error("Invalid packet format: Includes a packet count field " + " but packet field bit width is zero");
    }

    if (!isAddressField && !isPacketField) {
      throw new Error("Invalid packet format: Unrecognized packet header field " + this.headerSpec_[i]);
    }

    if (keyCache.hasOwnProperty(this.headerSpec_[i])) {
      throw new Error("Invalid packet format: Field keys must be unique.");
    } else {
      keyCache[this.headerSpec_[i]] = 'used';
    }
  }
};

/**
 * Retrieve requested header field by key from the provided binary blob.
 *
 * @param {Packet.HeaderType} key - which header to retrieve
 * @param {string} binary for entire packet
 * @returns {string} binary string value for header field
 * @throws when requested key is not in the configured packet spec
 */
Packet.Encoder.prototype.getHeader = function (key, binary) {
  var ruleIndex = 0,
      binaryIndex = 0;

  // Strip whitespace so we don't worry about being passed formatted binary
  binary = DataConverters.minifyBinary(binary);

  while (this.headerSpec_[ruleIndex] !== key) {
    binaryIndex += this.getFieldBitWidth(this.headerSpec_[ruleIndex]);
    ruleIndex++;

    if (ruleIndex >= this.headerSpec_.length) {
      // Didn't find key
      throw new Error('Key "' + key + '" not found in packet spec.');
    }
  }

  // Read value
  var bitWidth = this.getFieldBitWidth(this.headerSpec_[ruleIndex]);
  var bits = binary.slice(binaryIndex, binaryIndex + bitWidth);

  // Right-pad with zeroes to desired size
  if (bitWidth !== Infinity) {
    while (bits.length < bitWidth) {
      bits += '0';
    }
  }

  return bits;
};

/**
 * @param {Packet.HeaderType} key - field name
 * @param {string} binary - entire packet as a binary string
 * @returns {number} - requested field, interpreted as an int.
 */
Packet.Encoder.prototype.getHeaderAsInt = function (key, binary) {
  return DataConverters.binaryToInt(this.getHeader(key, binary));
};

/**
 * Retrieve an address header as a string, so we can give the multi-part
 * representation.
 * @param {Packet.HeaderType} key
 * @param {string} binary for whole packet
 * @returns {string}
 */
Packet.Encoder.prototype.getHeaderAsAddressString = function (key, binary) {
  return DataConverters.binaryToAddressString(this.getHeader(key, binary), this.addressFormat_);
};

/**
 * Skip over headers given in spec and return remainder of binary which
 * must be the message body.
 * @param {string} binary - entire packet as a binary string
 * @returns {string} packet body binary string
 */
Packet.Encoder.prototype.getBody = function (binary) {
  return DataConverters.minifyBinary(binary).slice(this.getHeaderLength());
};

/**
 * @returns {number} How many bits the header takes up
 */
Packet.Encoder.prototype.getHeaderLength = function () {
  return this.headerSpec_.reduce((function (prev, cur) {
    return prev + this.getFieldBitWidth(cur);
  }).bind(this), 0);
};

/**
 * Skip over headers given in spec, and return remainder of packet interpreted
 * to ascii with the given character width.
 * @param {string} binary - entire packet as a binary string
 * @param {number} bitsPerChar - bits to represent as a single character,
 *        recommended to use 8 for normal ASCII.
 */
Packet.Encoder.prototype.getBodyAsAscii = function (binary, bitsPerChar) {
  return DataConverters.binaryToAscii(this.getBody(binary), bitsPerChar);
};

/**
 * @param {Packet.HeaderType} headerType
 * @returns {number} how many bits that field should take in the packet header
 */
Packet.Encoder.prototype.getFieldBitWidth = function (headerType) {
  if (Packet.isAddressField(headerType)) {
    return this.addressBitWidth_;
  }

  if (Packet.isPacketField(headerType)) {
    return this.packetCountBitWidth_;
  }

  // Should never get here.
  throw new Error("Unable to select a bit-width for field " + headerType);
};

/**
 * Given a "headers" object where the values are numbers, returns a corresponding
 * "headers" object where the values have all been converted to binary
 * representations at the appropriate width.  Only header fields that appear in
 * the configured packet header format will be converted and passed through to
 * output.
 * @param {Object} headers - with number values
 */
Packet.Encoder.prototype.makeBinaryHeaders = function (headers) {
  var binaryHeaders = {};
  this.headerSpec_.forEach(function (headerField) {
    if (headers.hasOwnProperty(headerField)) {
      // Convert differently for address and packet fields?
      if (Packet.isAddressField(headerField)) {
        binaryHeaders[headerField] = this.addressStringToBinary(headers[headerField]);
      } else {
        binaryHeaders[headerField] = DataConverters.intToBinary(headers[headerField], this.getFieldBitWidth(headerField));
      }
    }
  }, this);
  return binaryHeaders;
};

/**
 * Convert an address string (possibly multi-part) into binary based on the
 * configured address format.
 * @param {string} address
 * @returns {string} binary representation
 */
Packet.Encoder.prototype.addressStringToBinary = function (address) {
  return DataConverters.addressStringToBinary(address, this.addressFormat_);
};

/**
 * Takes a set of binary headers and a binary body, and generates a complete
 * packet binary matching the configured packet spec in terms of header width
 * and ordering.
 *
 * @param {Object} binaryHeaders - hash containing packet headers in binary, where
 *        the hash keys correspond to the "key" values in the packet spec, and
 *        the hash values are binary strings.
 * @param {string} body - binary string of the unlimited-length body of the
 *        packet, which will be placed after the packet headers.
 *
 * @returns {string} binary string of provided data, conforming to configured
 *          packet format.
 */
Packet.Encoder.prototype.concatenateBinary = function (binaryHeaders, body) {
  var parts = [];

  this.headerSpec_.forEach(function (fieldSpec) {
    var fieldWidth = this.getFieldBitWidth(fieldSpec);

    // Get header value from provided headers, if it exists.
    // If not, we'll start with an empty string and pad it to the correct
    // length, below.
    var fieldBits = binaryHeaders.hasOwnProperty(fieldSpec) ? binaryHeaders[fieldSpec] : '';

    // Right-truncate to the desired size
    fieldBits = fieldBits.slice(0, fieldWidth);

    // Left-pad to desired size
    fieldBits = NetSimUtils.zeroPadLeft(fieldBits, fieldWidth);

    parts.push(fieldBits);
  }, this);

  parts.push(body);

  return parts.join('');
};

},{"./DataConverters":"/home/ubuntu/staging/apps/build/js/netsim/DataConverters.js","./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js","./NetSimUtils":"/home/ubuntu/staging/apps/build/js/netsim/NetSimUtils.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimDnsTab.js":[function(require,module,exports){
/**
 * @overview UI controller for the DNS tab in the left column.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var markup = require('./NetSimDnsTab.html.ejs');
var DnsMode = require('./NetSimConstants').DnsMode;
var NetSimDnsModeControl = require('./NetSimDnsModeControl');
var NetSimDnsManualControl = require('./NetSimDnsManualControl');
var NetSimDnsTable = require('./NetSimDnsTable');
var NetSimGlobals = require('./NetSimGlobals');

/**
 * Generator and controller for "DNS" tab.
 * @param {jQuery} rootDiv
 * @param {function} dnsModeChangeCallback
 * @param {function} becomeDnsCallback
 * @constructor
 */
var NetSimDnsTab = module.exports = function (rootDiv, dnsModeChangeCallback, becomeDnsCallback) {
  /**
   * Component root, which we fill whenever we call render()
   * @type {jQuery}
   * @private
   */
  this.rootDiv_ = rootDiv;

  /**
   * @type {function}
   * @private
   */
  this.dnsModeChangeCallback_ = dnsModeChangeCallback;

  /**
   * @type {function}
   * @private
   */
  this.becomeDnsCallback_ = becomeDnsCallback;

  /**
   * @type {NetSimDnsModeControl}
   * @private
   */
  this.dnsModeControl_ = null;

  /**
   * @type {NetSimDnsManualControl}
   * @private
   */
  this.dnsManualControl_ = null;

  /**
   * @type {NetSimDnsTable}
   * @private
   */
  this.dnsTable_ = null;

  this.render();
};

/**
 * Fill the root div with new elements reflecting the current state
 */
NetSimDnsTab.prototype.render = function () {
  var levelConfig = NetSimGlobals.getLevelConfig();

  var renderedMarkup = $(markup({
    level: levelConfig
  }));
  this.rootDiv_.html(renderedMarkup);

  if (levelConfig.showDnsModeControl) {
    this.dnsModeControl_ = new NetSimDnsModeControl(this.rootDiv_.find('.dns_mode'), this.dnsModeChangeCallback_);
  }

  this.dnsManualControl_ = new NetSimDnsManualControl(this.rootDiv_.find('.dns_manual_control'), this.becomeDnsCallback_);

  this.dnsTable_ = new NetSimDnsTable(this.rootDiv_.find('.dns_table'));
};

/**
 * @param {DnsMode} newDnsMode
 */
NetSimDnsTab.prototype.setDnsMode = function (newDnsMode) {
  if (this.dnsModeControl_) {
    this.dnsModeControl_.setDnsMode(newDnsMode);
  }

  this.dnsTable_.setDnsMode(newDnsMode);
  this.rootDiv_.find('.dns_manual_control').toggle(newDnsMode === DnsMode.MANUAL);
  this.rootDiv_.find('.dns-notes').toggle(newDnsMode !== DnsMode.NONE);
};

/**
 * @param {boolean} isDnsNode
 */
NetSimDnsTab.prototype.setIsDnsNode = function (isDnsNode) {
  this.dnsManualControl_.setIsDnsNode(isDnsNode);
};

/**
 * @param {Array} tableContents
 */
NetSimDnsTab.prototype.setDnsTableContents = function (tableContents) {
  this.dnsTable_.setDnsTableContents(tableContents);
};

},{"./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimDnsManualControl":"/home/ubuntu/staging/apps/build/js/netsim/NetSimDnsManualControl.js","./NetSimDnsModeControl":"/home/ubuntu/staging/apps/build/js/netsim/NetSimDnsModeControl.js","./NetSimDnsTab.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/NetSimDnsTab.html.ejs","./NetSimDnsTable":"/home/ubuntu/staging/apps/build/js/netsim/NetSimDnsTable.js","./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimDnsTable.js":[function(require,module,exports){
/**
 * @overview UI table of local subnet, displaying hostname => address map.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var markup = require('./NetSimDnsTable.html.ejs');
var DnsMode = require('./NetSimConstants').DnsMode;

/**
 * Generator and controller for DNS network lookup table component.
 * Shows different amounts of information depending on the DNS mode.
 *
 * @param {jQuery} rootDiv
 * @constructor
 */
var NetSimDnsTable = module.exports = function (rootDiv) {
  /**
   * Component root, which we fill whenever we call render()
   * @type {jQuery}
   * @private
   */
  this.rootDiv_ = rootDiv;

  /**
   * @type {DnsMode}
   * @private
   */
  this.dnsMode_ = DnsMode.NONE;

  /**
   * @type {Array}
   * @private
   */
  this.addressTableData_ = [];

  this.render();
};

/**
 * Fill the root div with new elements reflecting the current state
 */
NetSimDnsTable.prototype.render = function () {
  var renderedMarkup = $(markup({
    dnsMode: this.dnsMode_,
    tableData: this.addressTableData_
  }));
  this.rootDiv_.html(renderedMarkup);
};

/**
 * @param {DnsMode} newDnsMode
 */
NetSimDnsTable.prototype.setDnsMode = function (newDnsMode) {
  this.dnsMode_ = newDnsMode;
  this.render();
};

/**
 * @param {Array} tableContents
 */
NetSimDnsTable.prototype.setDnsTableContents = function (tableContents) {
  this.addressTableData_ = tableContents;
  this.render();
};

},{"./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimDnsTable.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/NetSimDnsTable.html.ejs"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimDnsTable.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('');1;
var DnsMode = require('./NetSimConstants').DnsMode;
; buf.push('\n<div class="netsim-dns-table">\n  <h1>My Network</h1>\n  <table>\n    <thead>\n    <tr>\n      <th>Hostname</th>\n      <th>Address</th>\n    </tr>\n    </thead>\n    <tbody>\n    ');14;
    tableData.forEach(function (row) {
      var displayHostname = row.hostname;
      var displayAddress = '';
      var rowClasses = [];

      if (dnsMode === DnsMode.NONE || row.isDnsNode || row.isLocal) {
        displayAddress = row.address;
      }

      if (row.isLocal) {
        displayHostname += " (Me)";
        rowClasses.push('local-node');
      }

      if (row.isDnsNode && dnsMode !== DnsMode.NONE) {
        displayHostname += " (DNS)";
        rowClasses.push('dns-node');
      }
      ; buf.push('\n        <tr class="', escape((34,  rowClasses.join(' ') )), '">\n          <td>', escape((35,  displayHostname )), '</td>\n          <td>', escape((36,  displayAddress )), '</td>\n        </tr>\n      ');38;
    });
    ; buf.push('\n    </tbody>\n  </table>\n</div>'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimDnsTab.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('<div class="netsim-dns-tab">\n  ');2; if (level.showDnsModeControl) { ; buf.push('\n  <div class="dns_mode"></div>\n  ');4; } ; buf.push('\n  <div class="dns_manual_control"></div>\n  <div class="dns_table"></div>\n  <div class="dns-notes">\n    <h1>Notes</h1>\n    <div>\n      <textarea></textarea>\n    </div>\n  </div>\n</div>\n'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimDnsModeControl.js":[function(require,module,exports){
/**
 * @overview UI component used to select a DNS mode at runtime.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var markup = require('./NetSimDnsModeControl.html.ejs');
var DnsMode = require('./NetSimConstants').DnsMode;

/**
 * Generator and controller for DNS mode selector
 * @param {jQuery} rootDiv
 * @param {function} dnsModeChangeCallback
 * @constructor
 */
var NetSimDnsModeControl = module.exports = function (rootDiv, dnsModeChangeCallback) {
  /**
   * Component root, which we fill whenever we call render()
   * @type {jQuery}
   * @private
   */
  this.rootDiv_ = rootDiv;

  /**
   * @type {function}
   * @private
   */
  this.dnsModeChangeCallback_ = dnsModeChangeCallback;

  /**
   * Set of all DNS mode radio buttons
   * @type {jQuery}
   * @private
   */
  this.dnsModeRadios_ = null;

  /**
   * Internal state: Current DNS mode.
   * @type {DnsMode}
   * @private
   */
  this.currentDnsMode_ = DnsMode.NONE;

  this.render();
};

/**
 * Fill the root div with new elements reflecting the current state
 */
NetSimDnsModeControl.prototype.render = function () {
  var renderedMarkup = $(markup({}));
  this.rootDiv_.html(renderedMarkup);

  this.dnsModeRadios_ = this.rootDiv_.find('input[type="radio"][name="dns_mode"]');
  this.dnsModeRadios_.change(this.onDnsModeChange_.bind(this));
  this.setDnsMode(this.currentDnsMode_);
};

/**
 * Handler for a new radio button being selected.
 * @private
 */
NetSimDnsModeControl.prototype.onDnsModeChange_ = function () {
  var newDnsMode = this.dnsModeRadios_.filter(':checked').val();
  this.dnsModeChangeCallback_(newDnsMode);
};

/**
 * @param {DnsMode} newDnsMode
 */
NetSimDnsModeControl.prototype.setDnsMode = function (newDnsMode) {
  this.currentDnsMode_ = newDnsMode;
  this.dnsModeRadios_.filter('[value="' + newDnsMode + '"]').prop('checked', true);
};

},{"./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimDnsModeControl.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/NetSimDnsModeControl.html.ejs"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimDnsModeControl.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('');1;
  var DnsMode = require('./NetSimConstants').DnsMode;
  var i18n = require('./locale');

  /**
   * @param {exports.DnsMode} mode
   * @param {string} label
   */
  function makeRadio(mode, label) {
    ; buf.push('\n    <div class="dns_mode_', escape((11,  mode )), '">\n      <input id="dns_mode_', escape((12,  mode )), '"\n                   type="radio"\n                   name="dns_mode"\n                   value="', escape((15,  mode )), '" />\n      <label for="dns_mode_', escape((16,  mode )), '">', escape((16,  label )), '</label>\n    </div>\n    ');18;
  }
; buf.push('\n<div class="dns-mode-control">\n  <h1>', escape((22,  i18n.dnsMode() )), '</h1>\n  ');23; makeRadio(DnsMode.NONE, i18n.dnsMode_NONE()); ; buf.push('\n  ');24; makeRadio(DnsMode.MANUAL, i18n.dnsMode_MANUAL()); ; buf.push('\n  ');25; makeRadio(DnsMode.AUTOMATIC, i18n.dnsMode_AUTOMATIC()); ; buf.push('\n</div>\n'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js","ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimDnsManualControl.js":[function(require,module,exports){
/**
 * @overview UI button used become the current DNS node in manual DNS mode.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var markup = require('./NetSimDnsManualControl.html.ejs');

/**
 * Generator and controller for DNS mode selector
 * @param {jQuery} rootDiv
 * @param {function} becomeDnsCallback
 * @constructor
 */
var NetSimDnsManualControl = module.exports = function (rootDiv, becomeDnsCallback) {
  /**
   * Component root, which we fill whenever we call render()
   * @type {jQuery}
   * @private
   */
  this.rootDiv_ = rootDiv;

  /**
   * @type {function}
   * @private
   */
  this.becomeDnsCallback_ = becomeDnsCallback;

  this.render();
};

/**
 * Fill the root div with new elements reflecting the current state
 */
NetSimDnsManualControl.prototype.render = function () {
  var renderedMarkup = $(markup({}));
  this.rootDiv_.html(renderedMarkup);
  this.rootDiv_.find('input[type="button"]').click(this.onBecomeDnsButtonClick_.bind(this));
};

/**
 * Handler for button click.
 * @private
 */
NetSimDnsManualControl.prototype.onBecomeDnsButtonClick_ = function () {
  this.becomeDnsCallback_();
};

/**
 * @param {boolean} isDnsNode
 */
NetSimDnsManualControl.prototype.setIsDnsNode = function (isDnsNode) {
  this.rootDiv_.find('input[type="button"]').attr('disabled', isDnsNode);
};

},{"./NetSimDnsManualControl.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/NetSimDnsManualControl.html.ejs"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimDnsManualControl.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('<div class="netsim_dns_manual_control">\n  <h1>Manual Control</h1>\n  <input id="become_dns_button" type="button" value="Take over as DNS" />\n</div>'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimClientNode.js":[function(require,module,exports){
/**
 * @overview Simulated client node.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var utils = require('../utils');
var _ = utils.getLodash();
var i18n = require('./locale');
var NodeType = require('./NetSimConstants').NodeType;
var NetSimEntity = require('./NetSimEntity');
var NetSimNode = require('./NetSimNode');
var NetSimWire = require('./NetSimWire');

/**
 * Client model of simulated node
 *
 * Represents the client's view of a node that is controlled by a user client,
 * either by our own client or somebody else's.  Is a NetSimEntity, meaning
 * it wraps a row in the node table and provides functionality around it.
 *
 * You may be looking for NetSimLocalClientNode if you're trying to manipulate
 * your local client node.
 *
 * @param {!NetSimShard} shard
 * @param {Object} [clientRow] - Lobby row for this router.
 * @constructor
 * @augments NetSimNode
 */
var NetSimClientNode = module.exports = function (shard, clientRow) {
  NetSimNode.call(this, shard, clientRow);
};
NetSimClientNode.inherits(NetSimNode);

/** @inheritdoc */
NetSimClientNode.prototype.getNodeType = function () {
  return NodeType.CLIENT;
};

/** @inheritdoc */
NetSimClientNode.prototype.getStatus = function () {
  var outgoingWire = this.getOutgoingWire();
  if (!outgoingWire) {
    return i18n.notConnected();
  }

  // Get remote node for display name / hostname
  var cachedNodeRows = this.shard_.nodeTable.readAll();
  var remoteNodeRow = _.find(cachedNodeRows, function (nodeRow) {
    return nodeRow.id === outgoingWire.remoteNodeID;
  });

  var remoteNodeName = i18n.unknownNode();
  if (remoteNodeRow) {
    remoteNodeName = remoteNodeRow.name;
  }

  // Check for connection state
  var mutualConnection;
  if (remoteNodeRow && remoteNodeRow.type === NodeType.ROUTER) {
    mutualConnection = true;
  } else {
    var cachedWireRows = this.shard_.wireTable.readAll();
    mutualConnection = cachedWireRows.some(function (wireRow) {
      return wireRow.localNodeID === outgoingWire.remoteNodeID && wireRow.remoteNodeID === outgoingWire.localNodeID;
    });
  }

  if (mutualConnection) {
    return i18n.connectedToNodeName({ nodeName: remoteNodeName });
  }
  return i18n.connectingToNodeName({ nodeName: remoteNodeName });
};

/** @inheritdoc */
NetSimClientNode.prototype.isFull = function () {
  var outgoingWire = this.getOutgoingWire();
  if (!outgoingWire) {
    return false;
  }
  var cachedWireRows = this.shard_.wireTable.readAll();
  return cachedWireRows.some(function (wireRow) {
    return wireRow.localNodeID === outgoingWire.remoteNodeID && wireRow.remoteNodeID === outgoingWire.localNodeID;
  });
};

/**
 * Determine what address has been assigned to this client on its outgoing
 * wire.
 * @returns {string|undefined}
 */
NetSimClientNode.prototype.getAddress = function () {
  var wire = this.getOutgoingWire();
  if (!wire) {
    return undefined;
  }
  return wire.localAddress;
};

/**
 * Based on cached wire data, retrieve this node's outgoing wire.
 * @returns {NetSimWire|null} null if wire does not exist.
 */
NetSimClientNode.prototype.getOutgoingWire = function () {
  var cachedWireRows = this.shard_.wireTable.readAll();
  var outgoingWireRow = _.find(cachedWireRows, function (wireRow) {
    return wireRow.localNodeID === this.entityID;
  }, this);
  if (outgoingWireRow) {
    return new NetSimWire(this.shard_, outgoingWireRow);
  }
  return null;
};

/**
 * Static async retrieval method.  See NetSimEntity.get().
 * @param {!number} nodeID - The row ID for the entity you'd like to find.
 * @param {!NetSimShard} shard
 * @param {!NodeStyleCallback} onComplete - Method that will be given the
 *        found entity, or null if entity search failed.
 */
NetSimClientNode.get = function (nodeID, shard, onComplete) {
  NetSimEntity.get(NetSimClientNode, nodeID, shard, onComplete);
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimEntity":"/home/ubuntu/staging/apps/build/js/netsim/NetSimEntity.js","./NetSimNode":"/home/ubuntu/staging/apps/build/js/netsim/NetSimNode.js","./NetSimWire":"/home/ubuntu/staging/apps/build/js/netsim/NetSimWire.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimNode.js":[function(require,module,exports){
/**
 * @overview A base class for all simulation node entities.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

require('../utils');
var i18n = require('./locale');
var NetSimEntity = require('./NetSimEntity');
var NetSimWire = require('./NetSimWire');

/**
 * Client model of simulated network entity, which lives
 * in a shard table.
 *
 * Wraps the entity row with helper methods for examining and maintaining
 * the entity state in shared storage.
 *
 * @param {!NetSimShard} shard
 * @param {Object} [nodeRow] JSON row from table.
 * @constructor
 * @augments NetSimEntity
 */
var NetSimNode = module.exports = function (shard, nodeRow) {
  nodeRow = nodeRow !== undefined ? nodeRow : {};
  NetSimEntity.call(this, shard, nodeRow);

  /**
   * @type {string}
   * @private
   */
  this.displayName_ = nodeRow.name;
};
NetSimNode.inherits(NetSimEntity);

/**
 * Get shared table for nodes
 * @returns {SharedTable}
 * @private
 */
NetSimNode.prototype.getTable = function () {
  return this.shard_.nodeTable;
};

/** Build table row for this node */
NetSimNode.prototype.buildRow = function () {
  return {
    type: this.getNodeType(),
    name: this.getDisplayName()
  };
};

/**
 * Get node's display name, which is stored in table.
 * @returns {string}
 */
NetSimNode.prototype.getDisplayName = function () {
  return this.displayName_ ? this.displayName_ : i18n.defaultNodeName();
};

/**
 * Get node's short display name, which is the same as the display name
 * but truncated to the first word if it's over a certain length.
 * @returns {string}
 */
NetSimNode.prototype.getShortDisplayName = function () {
  // If the name is longer than ten characters (longer than "Router 999")
  // then only show up to the first whitespace.
  var shortName = this.getDisplayName();
  if (shortName.length > 10) {
    shortName = shortName.split(/\s/)[0];
  }
  return shortName;
};

/**
 * Get node's hostname, a modified version of its display name.
 * @returns {string}
 */
NetSimNode.prototype.getHostname = function () {
  // Strip everything that's not a word-character or a digit from the display
  // name, then append the node ID so that hostnames are more likely to
  // be unique.
  return this.getShortDisplayName().replace(/[^\w\d]/g, '').toLowerCase() + this.entityID;
};

/**
 * Get node's type.
 * @returns {NodeType}
 */
NetSimNode.prototype.getNodeType = function () {
  throw new Error('getNodeType method is not implemented');
};

/**
 * Get localized description of node status.
 * @returns {string}
 */
NetSimNode.prototype.getStatus = function () {
  throw new Error('getStatus method is not implemented');
};

/**
 * Whether or not this node can accept any more connections
 * @returns {boolean}
 */
NetSimNode.prototype.isFull = function () {
  throw new Error('isFull method is not implemented');
};

/**
 * Establish a connection between this node and another node,
 * by creating a wire between them, and verifying that the remote node
 * can accept the connection.
 * When finished, calls onComplete({the new wire})
 * On failure, calls onComplete(null)
 * @param {!NetSimNode} otherNode
 * @param {NodeStyleCallback} [onComplete]
 */
NetSimNode.prototype.connectToNode = function (otherNode, onComplete) {
  onComplete = onComplete || function () {};

  var self = this;
  NetSimWire.create(this.shard_, this.makeWireRowForConnectingTo(otherNode), function (err, wire) {
    if (err) {
      onComplete(err, null);
      return;
    }

    otherNode.acceptConnection(self, function (err, isAccepted) {
      if (err || !isAccepted) {
        wire.destroy(function () {
          onComplete(new Error('Connection rejected: ' + err.message), null);
        });
        return;
      }

      onComplete(null, wire);
    });
  });
};

/**
 * Create an appropriate initial wire row for connecting to the given node.
 * @param {!NetSimNode} otherNode
 * @returns {WireRow}
 */
NetSimNode.prototype.makeWireRowForConnectingTo = function (otherNode) {
  return {
    localNodeID: this.entityID,
    remoteNodeID: otherNode.entityID
  };
};

/**
 * Called when another node establishes a connection to this one, giving this
 * node a chance to reject the connection.
 * @param {!NetSimNode} otherNode attempting to connect to this one
 * @param {!NodeStyleCallback} onComplete response method - should call with TRUE
 *        if connection is allowed, FALSE if connection is rejected.
 */
NetSimNode.prototype.acceptConnection = function (otherNode, onComplete) {
  onComplete(null, true);
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./NetSimEntity":"/home/ubuntu/staging/apps/build/js/netsim/NetSimEntity.js","./NetSimWire":"/home/ubuntu/staging/apps/build/js/netsim/NetSimWire.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimWire.js":[function(require,module,exports){
/**
 * @overview Simulation Entity: A connection between two nodes and related
 *           metadata.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

require('../utils');
var NetSimEntity = require('./NetSimEntity');
var ArgumentUtils = require('./ArgumentUtils');

/**
 * @typedef {Object} WireRow
 * @property {!number} localNodeID
 * @property {!number} remoteNodeID
 * @property {string} localAddress
 * @property {string} remoteAddress
 * @property {string} localHostname
 * @property {string} remoteHostname
 */

/**
 * Local controller for a simulated connection between nodes,
 * which is stored in the wire table on the shard.  The controller can
 * be initialized with the JSON row from the table, effectively wrapping that
 * data in helpful methods.
 *
 * @param {!NetSimShard} shard - The shard where this wire lives.
 * @param {WireRow} [wireRow] - A row out of the _wire table on the shard.
 *        If provided, will initialize this wire with the given data.  If not,
 *        this wire will initialize to default values.
 * @constructor
 * @augments NetSimEntity
 */
var NetSimWire = module.exports = function (shard, wireRow) {
  wireRow = wireRow !== undefined ? wireRow : {};
  NetSimEntity.call(this, shard, wireRow);

  /**
   * Connected node row IDs within the _lobby table
   * @type {number}
   */
  this.localNodeID = wireRow.localNodeID;
  /** @type {number} */
  this.remoteNodeID = wireRow.remoteNodeID;

  /**
   * Assigned local addresses for the ends of this wire.
   * @type {string}
   */
  this.localAddress = wireRow.localAddress;
  /** @type {string} */
  this.remoteAddress = wireRow.remoteAddress;

  /**
   * Display hostnames for the ends of this wire.
   * Generally, each endpoint should set its own hostname.
   * @type {string}
   */
  this.localHostname = wireRow.localHostname;
  /** @type {string} */
  this.remoteHostname = wireRow.remoteHostname;
};
NetSimWire.inherits(NetSimEntity);

/**
 * Static async creation method.  See NetSimEntity.create().
 * @param {!NetSimShard} shard
 * @param {!WireRow} initialRow
 * @param {!NodeStyleCallback} onComplete - Method that will be given the
 *        created entity, or null if entity creation failed.
 */
NetSimWire.create = function (shard, initialRow, onComplete) {
  ArgumentUtils.validateRequired(initialRow, "initialRow");
  ArgumentUtils.validateRequired(initialRow.localNodeID, "localNodeID", ArgumentUtils.isPositiveNoninfiniteNumber);
  ArgumentUtils.validateRequired(initialRow.remoteNodeID, "remoteNodeID", ArgumentUtils.isPositiveNoninfiniteNumber);
  var entity = new NetSimWire(shard, initialRow);
  entity.getTable().create(entity.buildRow(), function (err, row) {
    if (err) {
      onComplete(err, null);
      return;
    }
    onComplete(null, new NetSimWire(shard, row));
  });
};

/**
 * Helper that gets the wires table for the configured shard.
 * @returns {NetSimTable}
 */
NetSimWire.prototype.getTable = function () {
  return this.shard_.wireTable;
};

/**
 * Build own row for the wire table
 * @returns {WireRow}
 */
NetSimWire.prototype.buildRow = function () {
  return {
    localNodeID: this.localNodeID,
    remoteNodeID: this.remoteNodeID,
    localAddress: this.localAddress,
    remoteAddress: this.remoteAddress,
    localHostname: this.localHostname,
    remoteHostname: this.remoteHostname
  };
};

/**
 * @param {MessageRow} messageRow
 * @returns {boolean} TRUE if the given message is travelling between the nodes
 *          that this wire connects, in the wire's direction.
 */
NetSimWire.prototype.isMessageRowOnDuplexWire = function (messageRow) {
  return this.localNodeID === messageRow.fromNodeID && this.remoteNodeID === messageRow.toNodeID;
};

/**
 * @param {MessageRow} messageRow
 * @returns {boolean} TRUE if the given message is travelling between the nodes
 *          that this wire connects, in either direction.
 */
NetSimWire.prototype.isMessageRowOnSimplexWire = function (messageRow) {
  var onWire = this.isMessageRowOnDuplexWire(messageRow);
  var onReverseWire = this.localNodeID === messageRow.toNodeID && this.remoteNodeID === messageRow.fromNodeID;
  return onWire || onReverseWire;
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./ArgumentUtils":"/home/ubuntu/staging/apps/build/js/netsim/ArgumentUtils.js","./NetSimEntity":"/home/ubuntu/staging/apps/build/js/netsim/NetSimEntity.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimEntity.js":[function(require,module,exports){
/**
 * @overview base class for all simulation entities.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

/**
 * Client model of simulated network entity, which lives in a shard table.
 *
 * Wraps the entity row with helper methods for examining and maintaining
 * the entity state in shared storage.
 *
 * @param {!NetSimShard} shard
 * @param {Object} [entityRow] JSON row from table.
 * @constructor
 */
var NetSimEntity = module.exports = function (shard, entityRow) {
  if (entityRow === undefined) {
    entityRow = {};
  }

  /**
   * @type {NetSimShard}
   * @protected
   */
  this.shard_ = shard;

  /**
   * Node's row ID within the _lobby table.  Unique within instance.
   * @type {number}
   */
  this.entityID = entityRow.id;

  /**
   * Node's UUID assigned when it was initially inserted into the table.
   * @type {string}
   */
  this.uuid = entityRow.uuid;
};

/**
 * Static async creation method.  Creates a new entity on the given shard,
 * and then calls the callback with a local controller for the new entity.
 * @param {!function} EntityType - The constructor for the entity type you want
 *        to create.
 * @param {!NetSimShard} shard
 * @param {!NodeStyleCallback} onComplete - Method that will be given the
 *        created entity, or null if entity creation failed.
 */
NetSimEntity.create = function (EntityType, shard, onComplete) {
  var entity = new EntityType(shard);
  entity.getTable().create(entity.buildRow(), function (err, row) {
    if (err) {
      onComplete(err, null);
    } else {
      onComplete(null, new EntityType(shard, row));
    }
  });
};

/**
 * Static async retrieval method.  Searches for a new entity on the given
 * shard, and then calls the callback with a local controller for the
 * found entity.
 * @param {!function} EntityType - The constructor for the entity type you want
 *        to find.
 * @param {!number} entityID - The row ID for the entity you'd like to find.
 * @param {!NetSimShard} shard
 * @param {!NodeStyleCallback} onComplete - Method that will be given the
 *        found entity, or null if entity search failed.
 */
NetSimEntity.get = function (EntityType, entityID, shard, onComplete) {
  var entity = new EntityType(shard);
  entity.getTable().read(entityID, function (err, row) {
    if (err) {
      onComplete(err, null);
    } else {
      onComplete(err, new EntityType(shard, row));
    }
  });
};

/**
 * Push entity state into remote storage.
 * @param {NodeStyleCallback} [onComplete] - Optional completion callback.
 */
NetSimEntity.prototype.update = function (onComplete) {
  onComplete = onComplete || function () {};

  this.getTable().update(this.entityID, this.buildRow(), onComplete);
};

/**
 * Remove entity from remote storage.
 * @param {NodeStyleCallback} [onComplete] - Optional completion callback
 */
NetSimEntity.prototype.destroy = function (onComplete) {
  onComplete = onComplete || function () {};

  this.getTable()['delete'](this.entityID, onComplete);
};

/**
 * Remove entity from remote storage, using a synchronous call.
 * For use when navigating away from the page; otherwise, async version
 * is preferred.
 * @returns {Error|null} error if entity delete fails
 */
NetSimEntity.prototype.synchronousDestroy = function () {
  return this.getTable().synchronousDelete(this.entityID);
};

/** Get storage table for this entity type. */
NetSimEntity.prototype.getTable = function () {
  // This method should be implemented by a child class.
  throw new Error('Method getTable is not implemented.');
};

/** Construct table row for this entity. */
NetSimEntity.prototype.buildRow = function () {
  return {};
};

/**
 * Destroys all provided entities (from remote storage) asynchronously, and
 * calls onComplete when all entities have been destroyed and/or an error occurs.
 * @param {NetSimEntity[]} entities
 * @param {!NodeStyleCallback} onComplete
 * @throws {Error} if all passed entities do not belong to the same table.
 */
NetSimEntity.destroyEntities = function (entities, onComplete) {
  if (entities.length === 0) {
    onComplete(null, true);
    return;
  }

  var table = entities[0].getTable();
  var entityIDs = entities.map(function (entity) {
    if (entity.getTable() !== table) {
      throw new Error("destroyEntities requires all entities to be in the same table");
    }
    return entity.entityID;
  });

  table.deleteMany(entityIDs, onComplete);
};

},{}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimChunkSizeControl.js":[function(require,module,exports){
/**
 * @overview UI slider used to change the local device's chunk size, which
 *           is used when interpreting binary to other formats.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var i18n = require('./locale');
var NetSimSlider = require('./NetSimSlider');

/**
 * Generator and controller for chunk size slider/selector
 * @param {jQuery} rootDiv
 * @param {function} chunkSizeChangeCallback
 * @constructor
 * @augments NetSimSlider
 */
var NetSimChunkSizeControl = module.exports = function (rootDiv, chunkSizeChangeCallback) {
  NetSimSlider.call(this, rootDiv, {
    onChange: chunkSizeChangeCallback,
    min: 1,
    max: 32
  });

  // Auto-render, unlike our parent class
  this.render();
};
NetSimChunkSizeControl.inherits(NetSimSlider);

/**
 * Converts an external-facing numeric value into a localized string
 * representation of that value.
 * @param {number} val - numeric value of the control
 * @returns {string} - localized string representation of value
 * @override
 */
NetSimChunkSizeControl.prototype.valueToLabel = function (val) {
  return i18n.numBitsPerChunk({
    numBits: val
  });
};

/**
 * Alternate label converter, used for slider end labels.
 * @param {number} val - numeric value of the control
 * @returns {string} - localized string representation of value
 * @override
 */
NetSimChunkSizeControl.prototype.valueToShortLabel = function (val) {
  return val.toString();
};

},{"./NetSimSlider":"/home/ubuntu/staging/apps/build/js/netsim/NetSimSlider.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimBitRateControl.js":[function(require,module,exports){
/**
 * @overview UI slider used to change the local device's bitrate.
 *           Differs from the pulse rate slider in scale and units.
 * @see NetSimPulseRateControl
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

// Utils required only for Function.prototype.inherits()
require('../utils');
var NetSimUtils = require('./NetSimUtils');
var NetSimSlider = require('./NetSimSlider');

/**
 * Generator and controller for packet size slider/selector
 * @param {jQuery} rootDiv
 * @param {number} initialValue - in bits per second
 * @param {function} sliderChangeCallback
 * @constructor
 */
var NetSimBitRateControl = module.exports = function (rootDiv, initialValue, sliderChangeCallback) {
  NetSimSlider.call(this, rootDiv, {
    onChange: sliderChangeCallback,
    value: initialValue,
    min: 1,
    max: 20,
    upperBoundInfinite: true
  });

  // Auto-render, unlike our base class
  this.render();
};
NetSimBitRateControl.inherits(NetSimSlider);

/**
 * Converts a numeric rate value (in bits pers second) into a
 * localized string representation of that value.
 * @param {number} val - numeric value of the control
 * @returns {string} - localized string representation of value
 * @override
 */
NetSimBitRateControl.prototype.valueToLabel = function (val) {
  return NetSimUtils.bitrateToLocalizedRoundedBitrate(val);
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./NetSimSlider":"/home/ubuntu/staging/apps/build/js/netsim/NetSimSlider.js","./NetSimUtils":"/home/ubuntu/staging/apps/build/js/netsim/NetSimUtils.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimBitLogPanel.js":[function(require,module,exports){
/**
 * @overview UI component, a log panel (used as "Sent Bits" and "Received Bits")
 *           that is used in the single-bit-sending configurations of the simulator.
 *
 * @see INetSimLogPanel for the interface implemented here.
 * @see NetSimLogPanel for the component used in packet-sending mode.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

require('../utils'); // For Function.prototype.inherits()
var i18n = require('./locale');
var markup = require('./NetSimBitLogPanel.html.ejs');
var NetSimPanel = require('./NetSimPanel');
var NetSimEncodingControl = require('./NetSimEncodingControl');
var NetSimGlobals = require('./NetSimGlobals');

var logger = require('./NetSimLogger').getSingleton();

/**
 * Generator and controller for bit-log, which receives bits one at a time.
 * @param {jQuery} rootDiv
 * @param {Object} options
 * @param {string} options.logTitle
 * @param {boolean} [options.isMinimized] defaults to FALSE
 * @param {boolean} [options.showReadWireButton] defaults to FALSE
 * @param {NetSim} options.netsim
 * @constructor
 * @augments NetSimPanel
 * @implements INetSimLogPanel
 */
var NetSimBitLogPanel = module.exports = function (rootDiv, options) {
  /**
   * The current binary contents of the log panel
   * @type {string}
   * @private
   */
  this.binary_ = '';

  /**
   * A message encoding (display) setting.
   * @type {string}
   * @private
   */
  this.encodings_ = [];

  /**
   * Current chunk size (bytesize) for interpreting binary in the log.
   * @type {number}
   * @private
   */
  this.chunkSize_ = 8;

  /**
   * Localized panel title
   * @type {string}
   * @private
   */
  this.logTitle_ = options.logTitle;

  /**
   * Reference to the top-level NetSim controller for reading bits and
   * triggering animations.
   * @type {NetSim}
   * @private
   */
  this.netsim_ = options.netsim;

  /**
   * Whether this log should have a "Read Wire" button.
   * @type {boolean}
   * @private
   */
  this.showReadWireButton_ = options.showReadWireButton;

  /**
   * How tall the overall panel should be when it's open (in pixels).
   * Set by a dynamic resize system.
   * @type {number}
   * @private
   */
  this.openHeight_ = 0;

  // Initial render
  NetSimPanel.call(this, rootDiv, {
    className: 'netsim-log-panel',
    panelTitle: options.logTitle,
    beginMinimized: options.isMinimized
  });
};
NetSimBitLogPanel.inherits(NetSimPanel);

NetSimBitLogPanel.prototype.render = function () {
  // Create boilerplate panel markup
  NetSimBitLogPanel.superPrototype.render.call(this);

  // Add our own content markup
  var newMarkup = $(markup({
    binary: this.binary_,
    enabledEncodings: this.encodings_,
    chunkSize: this.chunkSize_,
    showReadWireButton: this.showReadWireButton_
  }));
  this.getBody().html(newMarkup);
  NetSimEncodingControl.hideRowsByEncoding(this.getBody(), this.encodings_);

  this.getBody().find('#read-wire-button').click(this.onReceiveButtonPress_.bind(this));

  // Add a clear button to the panel header
  this.addButton(i18n.clear(), this.onClearButtonPress_.bind(this));

  // Snap back to the dynamic size we've been given.
  this.sizeToOpenHeight_();
};

/**
 * Remove all packets from the log, resetting its state.
 * @private
 */
NetSimBitLogPanel.prototype.onClearButtonPress_ = function () {
  this.binary_ = '';
  this.render();
};

/**
 * Asynchronously fetch the wire state from remote storage, and log it.
 * @param {Event} jQueryEvent
 * @private
 */
NetSimBitLogPanel.prototype.onReceiveButtonPress_ = function (jQueryEvent) {
  var thisButton = $(jQueryEvent.target);
  if (thisButton.is('[disabled]')) {
    return;
  }

  thisButton.attr('disabled', 'disabled');
  this.netsim_.receiveBit((function (err, message) {
    if (err) {
      logger.warn("Error reading wire state: " + err.message);
      thisButton.removeAttr('disabled');
      return;
    }

    // A successful fetch with a null message means there's nothing
    // on the wire.  We should log its default state: off/zero
    var receivedBit = '0';
    if (message) {
      receivedBit = message.payload;
    }

    this.log(receivedBit);
    this.netsim_.animateReadWireState(receivedBit);
    thisButton.removeAttr('disabled');
  }).bind(this));
};

/**
 * Put a message into the log.
 * @param {string} binaryBit
 */
NetSimBitLogPanel.prototype.log = function (binaryBit) {
  this.binary_ += binaryBit.toString();
  this.render();
};

/**
 * Show or hide parts of the send UI based on the currently selected encoding
 * mode.
 * @param {EncodingType[]} newEncodings
 */
NetSimBitLogPanel.prototype.setEncodings = function (newEncodings) {
  this.encodings_ = newEncodings;
  this.render();
};

/**
 * Change how binary input in interpreted and formatted in the log.
 * @param {number} newChunkSize
 */
NetSimBitLogPanel.prototype.setChunkSize = function (newChunkSize) {
  this.chunkSize_ = newChunkSize;
  this.render();
};

/**
 * Sets the vertical space that this log panel should consume (including margins)
 * @param {number} heightPixels
 */
NetSimBitLogPanel.prototype.setHeight = function (heightPixels) {
  this.openHeight_ = heightPixels;
  this.sizeToOpenHeight_();
};

/**
 * Scale the scroll area inside the panel so that the whole panel
 * is the desired height.
 * @private
 */
NetSimBitLogPanel.prototype.sizeToOpenHeight_ = function () {
  var root = this.getRoot().find('.netsim-panel');
  var panelHeader = root.find('h1');
  var panelBody = root.find('.panel-body');
  var scrollArea = root.find('.scroll-area');

  var panelMargins = parseFloat(root.css('margin-top')) + parseFloat(root.css('margin-bottom'));
  var headerHeight = panelHeader.outerHeight(true);
  var panelBorders = parseFloat(panelBody.css('border-top-width')) + parseFloat(panelBody.css('border-bottom-width'));
  var scrollMargins = parseFloat(scrollArea.css('margin-top')) + parseFloat(scrollArea.css('margin-bottom'));

  // We set the panel height by fixing the size of its inner scrollable
  // area.
  var newScrollViewportHeight = this.openHeight_ - (panelMargins + headerHeight + panelBorders + scrollMargins);
  scrollArea.height(Math.floor(newScrollViewportHeight));
};

/**
 * @returns {number} vertical space that panel currently consumes (including
 * margins) in pixels.
 */
NetSimBitLogPanel.prototype.getHeight = function () {
  return this.getRoot().find('.netsim-panel').outerHeight(true);
};

/**
 * After toggling panel visibility, trigger a layout update so send/log panel
 * space is shared correctly.
 * @private
 * @override
 */
NetSimBitLogPanel.prototype.onMinimizerClick_ = function () {
  NetSimBitLogPanel.superPrototype.onMinimizerClick_.call(this);
  NetSimGlobals.updateLayout();
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./NetSimBitLogPanel.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/NetSimBitLogPanel.html.ejs","./NetSimEncodingControl":"/home/ubuntu/staging/apps/build/js/netsim/NetSimEncodingControl.js","./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js","./NetSimLogger":"/home/ubuntu/staging/apps/build/js/netsim/NetSimLogger.js","./NetSimPanel":"/home/ubuntu/staging/apps/build/js/netsim/NetSimPanel.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimPanel.js":[function(require,module,exports){
/**
 * @overview base class for all "panels" (visual boxes) in the NetSim
 *           interface, provides some common expand/collapse functionality.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var utils = require('../utils');
var markup = require('./NetSimPanel.html.ejs');
var ArgumentUtils = require('./ArgumentUtils');

/**
 * Generator and controller for a NetSim Panel, a single section on the
 * page which may be collapsible.
 * @param {jQuery} rootDiv - Element within which the panel is recreated
 *        every time render() is called.  Will wipe out contents of this
 *        element, but not the element itself.
 * @param {Object} [options]
 * @param {string} [options.className] - an additional class to be appended to
 *        the panel's root (one layer inside rootDiv) for style rules.
 *        Defaults to no class, so only the 'netsim-panel' class will be used.
 * @param {string} [options.panelTitle] - Localized initial panel title.
 *        Defaults to empty string.
 * @param {boolean} [options.userToggleable] - Whether this panel can be minimized
 *        (closed) by clicking on the title. Defaults to TRUE.
 * @param {boolean} [options.beginMinimized] - Whether this panel should be
 *        minimized (closed) when it is initially created.  Defaults to FALSE.
 * @constructor
 */
var NetSimPanel = module.exports = function (rootDiv, options) {
  /**
   * Unique instance ID for this panel, in case we have several
   * of them on a page.
   * @type {number}
   * @private
   */
  this.instanceID_ = NetSimPanel.uniqueIDCounter;
  NetSimPanel.uniqueIDCounter++;

  /**
   * Component root, which we fill whenever we call render()
   * @type {jQuery}
   * @private
   */
  this.rootDiv_ = rootDiv;

  /**
   * An additional className to be appended to the panel's root (one layer
   * inside rootDiv), for style rules.
   * @type {string}
   * @private
   */
  this.className_ = utils.valueOr(options.className, '');

  /**
   * Panel title, displayed in header.
   * @type {string}
   * @private
   */
  this.panelTitle_ = utils.valueOr(options.panelTitle, '');

  /**
   * Whether this panel can be minimized (closed) by clicking on the title.
   * @type {boolean}
   * @private
   */
  this.userToggleable_ = utils.valueOr(options.userToggleable, true);

  /**
   * Whether the component is minimized, for consistent
   * state across re-renders.
   * @type {boolean}
   * @private
   */
  this.isMinimized_ = utils.valueOr(options.beginMinimized, false);

  // Initial render
  this.render();
};

/**
 * Static counter used to generate/uniquely identify different instances
 * of this log widget on the page.
 * @type {number}
 */
NetSimPanel.uniqueIDCounter = 0;

/**
 * Rebuild the panel contents inside of the rootDiv
 */
NetSimPanel.prototype.render = function () {
  var newMarkup = $(markup({
    instanceID: this.instanceID_,
    className: this.className_,
    panelTitle: this.panelTitle_,
    userToggleable: this.userToggleable_
  }));
  this.rootDiv_.html(newMarkup);

  if (this.userToggleable_) {
    this.rootDiv_.find('.minimizer').click(this.onMinimizerClick_.bind(this));
  }
  this.setMinimized(this.isMinimized_);
};

/**
 * @returns {jQuery} a handle on the root element for this panel
 */
NetSimPanel.prototype.getRoot = function () {
  return this.rootDiv_;
};

/**
 * Set panel title.
 * @param {string} newTitle - Localized panel title.
 */
NetSimPanel.prototype.setPanelTitle = function (newTitle) {
  this.panelTitle_ = newTitle;
  this.rootDiv_.find('.title-text').text(newTitle);
};

/**
 * Toggle whether this panel is minimized.
 * @private
 */
NetSimPanel.prototype.onMinimizerClick_ = function () {
  this.setMinimized(!this.isMinimized_);
};

/**
 * @param {boolean} becomeMinimized
 */
NetSimPanel.prototype.setMinimized = function (becomeMinimized) {
  var panelDiv = this.rootDiv_.find('.netsim-panel');
  var minimizer = panelDiv.find('.minimizer');
  if (becomeMinimized) {
    panelDiv.addClass('minimized');
    minimizer.find('.fa').addClass('fa-plus-square').removeClass('fa-minus-square');
  } else {
    panelDiv.removeClass('minimized');
    minimizer.find('.fa').addClass('fa-minus-square').removeClass('fa-plus-square');
  }
  this.isMinimized_ = becomeMinimized;
};

/**
 * Whether this panel is currently minimized (showing only its header) or not.
 * @returns {boolean}
 */
NetSimPanel.prototype.isMinimized = function () {
  return this.isMinimized_;
};

/**
 * Add a button to the right end of the panel header.
 * @param {string} buttonText
 * @param {function} pressCallback
 * @param {Object} [options]
 * @param {boolean} [options.secondary] - default TRUE, secondary button style
 * @param {string[]} [options.classes] - default [], additional classes on the
 *        button element.
 */
NetSimPanel.prototype.addButton = function (buttonText, pressCallback, options) {
  options = ArgumentUtils.extendOptionsObject(options || {});

  var button = $('<span>').addClass('netsim-button').html(buttonText).click(pressCallback);

  if (options.get('secondary', ArgumentUtils.isBoolean, true)) {
    button.addClass('secondary');
  }

  options.get('classes', ArgumentUtils.isArrayOfStrings(), []).forEach(function (className) {
    button.addClass(className);
  });

  button.appendTo(this.rootDiv_.find('.panel-controls'));
};

/**
 * @returns {jQuery} the body Div of the panel, for panel content.
 */
NetSimPanel.prototype.getBody = function () {
  return this.rootDiv_.find('.panel-body');
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./ArgumentUtils":"/home/ubuntu/staging/apps/build/js/netsim/ArgumentUtils.js","./NetSimPanel.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/NetSimPanel.html.ejs"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimPanel.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('<div id="netsim-panel-', escape((1,  instanceID )), '"\n     class="netsim-panel ', escape((2,  className )), '">\n  <h1>\n    <div class="panel-controls"></div>\n    <div class="single-line-with-ellipsis pad-left');5; if (userToggleable) { ; buf.push(' minimizer');5; } ; buf.push('">\n      ');6; if (userToggleable) { ; buf.push('\n        <i class="fa fa-minus-square"></i>\n      ');8; } ; buf.push('\n      <span class="title-text">', escape((9,  panelTitle )), '</span>\n    </div>\n  </h1>\n  <div class="panel-body">\n  </div>\n</div>\n'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimEncodingControl.js":[function(require,module,exports){
/**
 * @overview UI controller for set of radio buttons used to select display encodings.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var markup = require('./NetSimEncodingControl.html.ejs');
var EncodingType = require('./NetSimConstants').EncodingType;

/**
 * Generator and controller for message encoding selector: A dropdown that
 * controls whether messages are displayed in some combination of binary, hex,
 * decimal, ascii, etc.
 * @param {jQuery} rootDiv
 * @param {NetSimLevelConfiguration} levelConfig
 * @param {function} changeEncodingCallback
 * @constructor
 */
var NetSimEncodingControl = module.exports = function (rootDiv, levelConfig, changeEncodingCallback) {
  /**
   * Component root, which we fill whenever we call render()
   * @type {jQuery}
   * @private
   */
  this.rootDiv_ = rootDiv;

  /**
   * @type {NetSimLevelConfiguration}
   * @private
   */
  this.levelConfig_ = levelConfig;

  /**
   * @type {function}
   * @private
   */
  this.changeEncodingCallback_ = changeEncodingCallback;

  /**
   * @type {jQuery}
   * @private
   */
  this.checkboxes_ = null;

  // Initial render
  this.render();
};

/**
 * Fill the root div with new elements reflecting the current state
 */
NetSimEncodingControl.prototype.render = function () {
  var renderedMarkup = $(markup({
    level: this.levelConfig_
  }));
  this.rootDiv_.html(renderedMarkup);
  this.checkboxes_ = this.rootDiv_.find('input[type="checkbox"][name="encoding_checkboxes"]');
  this.checkboxes_.change(this.onCheckboxesChange_.bind(this));
};

/**
 * Send new selected encodings to registered callback on change.
 * @private
 */
NetSimEncodingControl.prototype.onCheckboxesChange_ = function () {
  var selectedEncodings = [];
  this.checkboxes_.filter(':checked').each(function (i, element) {
    selectedEncodings.push(element.value);
  });
  this.changeEncodingCallback_(selectedEncodings);
};

/**
 * Change selector value to the new provided value.
 * @param {EncodingType[]} newEncodings
 */
NetSimEncodingControl.prototype.setEncodings = function (newEncodings) {
  this.checkboxes_.each(function (i, element) {
    $(element).attr('checked', newEncodings.indexOf(element.value) > -1);
  });
};

/**
 * Generate a jQuery selector string that will get all rows that
 * have ANY of the provided classes.
 * @param {EncodingType[]} encodings
 * @returns {string}
 */
var makeEncodingRowSelector = function makeEncodingRowSelector(encodings) {
  return encodings.map(function (className) {
    return 'tr.' + className;
  }).join(', ');
};

/**
 * Static helper, shows/hides rows under provided element according to the given
 * encoding setting.
 * @param {jQuery} rootElement - root of elements to show/hide
 * @param {EncodingType[]} encodings - a message encoding setting
 */
NetSimEncodingControl.hideRowsByEncoding = function (rootElement, encodings) {
  var hiddenEncodings = [];
  for (var key in EncodingType) {
    if (EncodingType.hasOwnProperty(key) && encodings.indexOf(EncodingType[key]) === -1) {
      hiddenEncodings.push(EncodingType[key]);
    }
  }
  rootElement.find(makeEncodingRowSelector(encodings)).show();
  rootElement.find(makeEncodingRowSelector(hiddenEncodings)).hide();
};

/**
 * Static helper that converts a given array of encodings to an object
 * mapping each encoding to `true`. Used for more efficient
 * isEncodingEnabled checks
 * @param {EncodingType[]} encodings
 * @returns {Object.<EncodingType, boolean>}
 */
NetSimEncodingControl.encodingsAsHash = function (encodings) {
  return encodings.reduce(function (hash, encoding) {
    hash[encoding] = true;
    return hash;
  }, {});
};

},{"./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimEncodingControl.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/NetSimEncodingControl.html.ejs"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimEncodingControl.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('');1;
  var EncodingType = require('./NetSimConstants').EncodingType;
  var i18n = require('./locale');

  /**
   * @param {EncodingType} encodingType
   * @param {string} encodingLabel
   */
  function makeCheckbox(encodingType, encodingLabel) {
    var divClasses = ['encoding_checkboxes_' + encodingType];
    if (level.showEncodingControls.indexOf(encodingType) === -1) {
      divClasses.push('hidden-control');
    }
    ; buf.push('\n    <div class="', escape((15,  divClasses.join(' ') )), '">\n      <input type="checkbox"\n             name="encoding_checkboxes"\n             id="encoding_checkboxes_', escape((18,  encodingType )), '"\n             value="', escape((19,  encodingType )), '"\n          />\n      <label for="encoding_checkboxes_', escape((21,  encodingType )), '">', escape((21,  encodingLabel )), '</label>\n    </div>\n    ');23;
  }
; buf.push('\n<div class="netsim-encoding-selector">\n  <h1>', escape((27,  i18n.encoding() )), '</h1>\n  ');28; makeCheckbox(EncodingType.ASCII, i18n.ascii()); ; buf.push('\n  ');29; makeCheckbox(EncodingType.DECIMAL, i18n.decimal()); ; buf.push('\n  ');30; makeCheckbox(EncodingType.HEXADECIMAL, i18n.hexadecimal()); ; buf.push('\n  ');31; makeCheckbox(EncodingType.BINARY, i18n.binary()); ; buf.push('\n  ');32; makeCheckbox(EncodingType.A_AND_B, i18n.a_and_b()); ; buf.push('\n</div>'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js","ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimBitLogPanel.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('');1;
  var i18n = require('./locale');
  var NetSimConstants = require('./NetSimConstants');
  var DataConverters = require('./DataConverters');

  var getEncodingLabel = require('./NetSimUtils').getEncodingLabel;

  var EncodingType = NetSimConstants.EncodingType;
  var PacketUIColumnType = NetSimConstants.PacketUIColumnType;

  /**
   * @param {EncodingType} encodingType
   * @param {string} encodedContent
   */
  function logRow(encodingType, encodedContent) {
    ; buf.push('\n    <tr class="', escape((17,  encodingType )), '">\n      <th nowrap class="', escape((18,  PacketUIColumnType.ENCODING_LABEL )), '">', escape((18,  getEncodingLabel(encodingType) )), '</th>\n      <td class="', escape((19,  PacketUIColumnType.MESSAGE )), '">', escape((19,  encodedContent )), '</td>\n    </tr>\n    ');21;
  }
; buf.push('\n<div class="scroll-area bit-log-scroll-area">\n  <div class="packet">\n    <table>\n      <tbody>\n        ');28;
          logRow(EncodingType.ASCII, DataConverters.binaryToAscii(binary, chunkSize));

          logRow(EncodingType.DECIMAL, DataConverters.alignDecimal(DataConverters.binaryToDecimal(binary, chunkSize)));

          logRow(EncodingType.HEXADECIMAL, DataConverters.formatHex(DataConverters.binaryToHex(binary), chunkSize));

          logRow(EncodingType.BINARY, DataConverters.formatBinary(binary, chunkSize));

          logRow(EncodingType.A_AND_B, DataConverters.formatAB(DataConverters.binaryToAB(binary), chunkSize));
        ; buf.push('\n      </tbody>\n    </table>\n  </div>\n  ');42; if (showReadWireButton) { ; buf.push('\n    <div class="panel-footer bit-log-panel-footer">\n      <div class="right-side-controls">\n        <span class="netsim-button large-button" id="read-wire-button">', escape((45,  i18n.readWire() )), '</span>\n      </div>\n    </div>\n  ');48; } ; buf.push('\n</div>\n'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"./DataConverters":"/home/ubuntu/staging/apps/build/js/netsim/DataConverters.js","./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimUtils":"/home/ubuntu/staging/apps/build/js/netsim/NetSimUtils.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js","ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimBandwidthControl.js":[function(require,module,exports){
/**
 * @overview UI Slider control used for changing simulated router bandwidth.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

// Utils required only for Function.prototype.inherits()
require('../utils');
var NetSimConstants = require('./NetSimConstants');
var NetSimUtils = require('./NetSimUtils');
var NetSimSlider = require('./NetSimSlider');

/**
 * Generator and controller for packet size slider/selector
 * @param {jQuery} rootDiv
 * @param {function} sliderChangeCallback
 * @param {function} sliderStopCallback
 * @constructor
 */
var NetSimBandwidthControl = module.exports = function (rootDiv, sliderChangeCallback, sliderStopCallback) {
  NetSimSlider.LogarithmicSlider.call(this, rootDiv, {
    onChange: sliderChangeCallback,
    onStop: sliderStopCallback,
    value: Infinity,
    min: 4,
    max: 128 * NetSimConstants.BITS_PER_KILOBIT,
    upperBoundInfinite: true
  });

  // Auto-render, unlike our base class
  this.render();
};
NetSimBandwidthControl.inherits(NetSimSlider.LogarithmicSlider);

/**
 * Converts a numeric bandwidth value (in bits) into a compact localized string
 * representation of that value.
 * @param {number} val - numeric value of the control
 * @returns {string} - localized string representation of value
 * @override
 */
NetSimBandwidthControl.prototype.valueToLabel = function (val) {
  return NetSimUtils.bitrateToLocalizedRoundedBitrate(val);
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimSlider":"/home/ubuntu/staging/apps/build/js/netsim/NetSimSlider.js","./NetSimUtils":"/home/ubuntu/staging/apps/build/js/netsim/NetSimUtils.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimSlider.js":[function(require,module,exports){
/**
 * @overview Base implementation of NetSim UI sliders.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var utils = require('../utils');
var markup = require('./NetSimSlider.html.ejs');
var i18n = require('./locale');

/**
 * @type {number}
 * @const
 */
var SLIDER_DEFAULT_MIN_VALUE = 0;

/**
 * @type {number}
 * @const
 */
var SLIDER_DEFAULT_MAX_VALUE = 100;

/**
 *
 * @constructor
 * @param {jQuery} rootDiv - element whose content we replace with the slider
 *        on render()
 * @param {Object} options
 * @param {function} [options.onChange] - a function invoked whenever the
 *        slider-value is changed by the student.  Passed the new value as an
 *        argument.
 * @param {function} [options.onStop] - a function invoked only when the
 *        slider-handle is released by the student.  Passed the new value as an
 *        argument.
 * @param {number} [options.value] - Initial value of the slider.  Defaults to
 *        slider minimum value.
 * @param {number} [options.min] - Lowest possible value of the slider;
 *        next-to-lowest if lowerBoundInfinite is true.  Defaults to zero.
 * @param {number} [options.max] - Highest possible value of the slider;
 *        next-to-highest if upperBoundInfinite is true.  Defaults to 100.
 * @param {number} [options.step] - Step-value of jQueryUI slider - not
 *        necessarily related to min and max values if you provide custom value
 *        converters. Defaults to 1.  If negative, the slider is reversed and
 *        puts the min value on the right.  Cannot be zero or noninteger.
 * @param {boolean} [options.upperBoundInfinite] - if TRUE, the highest value
 *        on the slider will be Infinity/Unlimited.  Default FALSE.
 * @param {boolean} [options.lowerBoundInfinite] - if TRUE, the lowest value
 *        on the slider will be -Infinity/Unlimited.  Default FALSE.
 * @param {boolean} [options.isDisabled] - if TRUE the slider value is locked
 *        and cannot be changed.
 */
var NetSimSlider = module.exports = function (rootDiv, options) {
  /**
   * Unique instance ID for this panel, in case we have several
   * of them on a page.
   * @type {number}
   * @private
   */
  this.instanceID_ = NetSimSlider.uniqueIDCounter;
  NetSimSlider.uniqueIDCounter++;

  /**
   * @type {jQuery}
   * @private
   */
  this.rootDiv_ = rootDiv;

  /**
   * A function invoked whenever the slider-value is changed by the student.
   * Passed the new value (not slider position) as an argument.
   * @type {function}
   * @private
   */
  this.changeCallback_ = utils.valueOr(options.onChange, function () {});

  /**
   * A function invoked only when the slider-handle is released by the student.
   * Passed the new value (not slider position) as an argument
   * @type {function}
   * @private
   */
  this.stopCallback_ = utils.valueOr(options.onStop, function () {});

  /**
   * @type {number}
   * @private
   */
  this.minValue_ = utils.valueOr(options.min, SLIDER_DEFAULT_MIN_VALUE);

  /**
   * @type {number}
   * @private
   */
  this.maxValue_ = utils.valueOr(options.max, SLIDER_DEFAULT_MAX_VALUE);

  /**
   * The current (outward-facing) value of the slider.
   * @type {number}
   * @private
   */
  this.value_ = utils.valueOr(options.value, this.minValue_);

  /**
   * Whether the slider maximum value should be Infinity.
   * @type {boolean}
   * @private
   */
  this.isUpperBoundInfinite_ = utils.valueOr(options.upperBoundInfinite, false);

  /**
   * Whether the slider minimimum value should be -Infinity.
   * @type {boolean}
   * @private
   */
  this.isLowerBoundInfinite_ = utils.valueOr(options.lowerBoundInfinite, false);

  /**
   * @type {number}
   * @private
   */
  this.step_ = utils.valueOr(options.step, 1);
  if (this.step_ === 0) {
    throw new Error("NetSimSlider does not support zero step values.");
  } else if (this.step_ % 1 !== 0) {
    throw new Error("NetSimSlider does not support non-integer step values. " + " Use DecimalPrecisionSlider instead.");
  }

  /**
   * Whether the slider is disabled and noninteractable.
   * @type {boolean}
   * @private
   */
  this.isDisabled_ = utils.valueOr(options.isDisabled, false);
};

/**
 * Static counter used to generate/uniquely identify different instances
 * of this component on the page
 * @type {number}
 */
NetSimSlider.uniqueIDCounter = 0;

/**
 * @returns {boolean} TRUE if the step value is less than zero.
 * @private
 */
NetSimSlider.prototype.isStepNegative_ = function () {
  return this.step_ < 0;
};

/**
 * Fill the root div with new elements reflecting the current state
 */
NetSimSlider.prototype.render = function () {
  var minValue = this.isLowerBoundInfinite_ ? -Infinity : this.minValue_;
  var maxValue = this.isUpperBoundInfinite_ ? Infinity : this.maxValue_;
  var minPosition = this.valueToSliderPosition(this.isStepNegative_() ? maxValue : minValue);
  var maxPosition = this.valueToSliderPosition(this.isStepNegative_() ? minValue : maxValue);

  var renderedMarkup = $(markup({
    instanceID: this.instanceID_,
    minValue: this.valueToShortLabel(this.isStepNegative_() ? maxValue : minValue),
    maxValue: this.valueToShortLabel(this.isStepNegative_() ? minValue : maxValue)
  }));
  this.rootDiv_.html(renderedMarkup);

  this.rootDiv_.find('.slider').slider({
    value: this.valueToSliderPosition(this.value_),
    min: minPosition,
    max: maxPosition,
    step: Math.abs(this.step_),
    slide: this.onSliderValueChange_.bind(this),
    stop: this.onSliderStop_.bind(this),
    disabled: this.isDisabled_
  });

  // Use wider labels if we have an infinite bound
  if (this.isLowerBoundInfinite_ || this.isUpperBoundInfinite_) {
    this.rootDiv_.find('.slider-labels').addClass('wide-labels');
  }

  this.setLabelFromValue_(this.value_);
};

/**
 * Disable this slider, so the user can't change its value
 */
NetSimSlider.prototype.disable = function () {
  this.isDisabled_ = true;
  this.rootDiv_.find('.slider').slider('option', 'disabled', true);
};

/**
 * Enable this slider, so the user can change its value
 */
NetSimSlider.prototype.enable = function () {
  this.isDisabled_ = false;
  this.rootDiv_.find('.slider').slider('option', 'disabled', false);
};

/**
 * External access to set the value of the slider.
 * @param {number} newValue
 */
NetSimSlider.prototype.setValue = function (newValue) {
  if (this.value_ === newValue) {
    return;
  }

  this.value_ = newValue;
  this.rootDiv_.find('.slider').slider('option', 'value', this.valueToSliderPosition(newValue));
  this.setLabelFromValue_(newValue);
};

/** @private */
NetSimSlider.prototype.onSliderValueChange_ = function (event, ui) {
  var newValue = this.sliderPositionToValue(ui.value);
  this.value_ = newValue;
  this.setLabelFromValue_(newValue);
  this.changeCallback_(newValue);
};

/** @private */
NetSimSlider.prototype.onSliderStop_ = function () {
  this.stopCallback_(this.value_);
};

/**
 * Updates the slider label to localize and display the given value.
 * @param {number} val - slider value to display
 * @private
 */
NetSimSlider.prototype.setLabelFromValue_ = function (val) {
  this.rootDiv_.find('.slider-value').text(this.valueToLabel(val));
};

/**
 * Converts the given value into an internal value we can pass to the
 * jQueryUI slider control.
 * @param {number} val - external-facing value
 * @returns {number} - internal slider value
 */
NetSimSlider.prototype.valueToSliderPosition = function (val) {
  if (this.isUpperBoundInfinite_ && val > this.maxValue_) {
    return this.valueToSliderPosition(this.maxValue_) + this.step_;
  } else if (this.isLowerBoundInfinite_ && val < this.minValue_) {
    return this.valueToSliderPosition(this.minValue_) - this.step_;
  }
  return Math.max(this.minValue_, Math.min(this.maxValue_, val)) * (this.isStepNegative_() ? -1 : 1);
};

/**
 * Converts the internal jQueryUI slider value into an external-facing
 * value for this control.
 * Should be an inverse of valueToSliderPosition
 * @param {number} pos - internal slider value
 * @returns {number} - external-facing value
 */
NetSimSlider.prototype.sliderPositionToValue = function (pos) {
  if (this.isStepNegative_()) {
    if (pos < this.valueToSliderPosition(this.maxValue_)) {
      return this.isUpperBoundInfinite_ ? Infinity : this.maxValue_;
    } else if (pos > this.valueToSliderPosition(this.minValue_)) {
      return this.isLowerBoundInfinite_ ? -Infinity : this.minValue_;
    }
    return -pos;
  } else {
    if (pos > this.valueToSliderPosition(this.maxValue_)) {
      return this.isUpperBoundInfinite_ ? Infinity : this.maxValue_;
    } else if (pos < this.valueToSliderPosition(this.minValue_)) {
      return this.isLowerBoundInfinite_ ? -Infinity : this.minValue_;
    }
    return pos;
  }
};

/**
 * Converts an external-facing numeric value into a localized string
 * representation of that value.
 * @param {number} val - numeric value of the control
 * @returns {string} - localized string representation of value
 */
NetSimSlider.prototype.valueToLabel = function (val) {
  if (val === Infinity || val === -Infinity) {
    return i18n.unlimited();
  }
  return val;
};

/**
 * Alternate label converter, used for slider end labels.
 * @param {number} val - numeric value of the control
 * @returns {string} - localized string representation of value
 */
NetSimSlider.prototype.valueToShortLabel = function (val) {
  return this.valueToLabel(val);
};

/**
 * Since jQueryUI sliders don't support noninteger step values, this is
 * a simple helper wrapped around NetSimSlider that adds support for
 * fractional step values down to a given precision.
 * @param {jQuery} rootDiv
 * @param {Object} options - takes NetSimSlider options, except:
 * @param {number} [options.step] - values between 0 and 1 are allowed.
 * @param {number} [options.precision] - number of decimal places of precision
 *        this slider needs (can match the number of decimal places in your
 *        step value).  Default 2.
 * @constructor
 */
NetSimSlider.DecimalPrecisionSlider = function (rootDiv, options) {
  /**
   * Number of decimal places of precision added to the default slider
   * functionality.
   * @type {number}
   * @private
   */
  this.precision_ = utils.valueOr(options.precision, 2);

  // We convert the given step value by the requested precision before passing
  // it on to NetSimSlider, so that we give NetSimSlider an integer step value.
  options.step = options.step * Math.pow(10, this.precision_);

  NetSimSlider.call(this, rootDiv, options);
};
NetSimSlider.DecimalPrecisionSlider.inherits(NetSimSlider);

/**
 * @param {number} val - external-facing value
 * @returns {number} - internal slider value
 * @override
 */
NetSimSlider.DecimalPrecisionSlider.prototype.valueToSliderPosition = function (val) {
  // Use clamping from parent class, which should be applied before our transform.
  return NetSimSlider.prototype.valueToSliderPosition.call(this, val) * Math.pow(10, this.precision_);
};

/**
 * Should be an inverse of valueToSliderPosition
 * @param {number} pos - internal slider value
 * @returns {number} - external-facing value
 * @override
 */
NetSimSlider.DecimalPrecisionSlider.prototype.sliderPositionToValue = function (pos) {
  // Use clamping from parent class, which should be applied before our transform.
  return NetSimSlider.prototype.sliderPositionToValue.call(this, pos) / Math.pow(10, this.precision_);
};

/**
 * Default minimum of zero is useless to a logarithmic scale
 * @type {number}
 * @const
 */
var LOGARITHMIC_DEFAULT_MIN_VALUE = 1;

/**
 * By default, a logarithmic scale slider increases by a factor of 2
 * every step.
 * @type {number}
 */
var LOGARITHMIC_DEFAULT_BASE = 2;

/**
 * @param {jQuery} rootDiv
 * @param {Object} options - takes NetSimSlider options, except:
 * @param {number} [options.min] - same as base slider, but defaults to 1.
 * @param {number} [options.logBase] - factor by which the value increases
 *        with every slider step.  Default base 2.
 * @constructor
 * @augments NetSimSlider
 */
NetSimSlider.LogarithmicSlider = function (rootDiv, options) {
  options.min = utils.valueOr(options.min, LOGARITHMIC_DEFAULT_MIN_VALUE);
  NetSimSlider.call(this, rootDiv, options);

  /**
   * Factor by which the value increases with every slider step.
   * @type {number}
   * @private
   */
  this.logBase_ = utils.valueOr(options.logBase, LOGARITHMIC_DEFAULT_BASE);

  /**
   * Precalculate natural log of our base value, because we'll use it a lot.
   * @type {number}
   * @private
   */
  this.lnLogBase_ = Math.log(this.logBase_);

  this.calculateSliderBounds_();
};
NetSimSlider.LogarithmicSlider.inherits(NetSimSlider);

/**
 * For the logarithmic slider, it's easiest to calculate the slider
 * boundary values once and use them later.
 * @private
 */
NetSimSlider.LogarithmicSlider.prototype.calculateSliderBounds_ = function () {
  // Pick boundary slider values
  this.maxSliderPosition = this.logFloor_(this.maxValue_);
  // Add a step if we don't already land exactly on a step, to
  // compensate for the floor() operation
  if (Math.pow(this.logBase_, this.maxSliderPosition) !== this.maxValue_) {
    this.maxSliderPosition += this.step_;
  }
  this.minSliderPosition = this.logFloor_(this.minValue_);

  // Pick infinity slider values
  this.infinitySliderPosition = this.maxSliderPosition + this.step_;
  this.negInfinitySliderPosition = this.minSliderPosition - this.step_;
};

/**
 * Cheater "floor(log_base_n(x))" method with a hacky workaround for
 * floating-point errors.  Uses the logarithmic base factor that the slider
 * is configured for (this.logBase_). Good enough for the slider.
 * @param {number} val
 * @returns {number}
 * @private
 */
NetSimSlider.LogarithmicSlider.prototype.logFloor_ = function (val) {
  // JavaScript floating-point math causes this logarithm calculation to
  // sometimes return slightly imprecise values. For example:
  // log(1000) / log(10) === 2.9999999999999996
  // Although we usually want to floor noninteger values, the above calculation
  // is supposed to come out as exactly 3.
  // The fudge factor below gives a threshold at which we will ceil() a result
  // rather than floor() it, to account for this imprecision.
  // The _right_ way to fix this is to use a better number type like BigDecimal,
  // but it's not really worth it for this use case.  Six digits is more than
  // enough precision for the slider when we're trying to work with whole
  // numbers anyway.
  var ceilThreshold = 0.0000001;
  return Math.floor(ceilThreshold + Math.log(val) / this.lnLogBase_);
};

/**
 * Converts the given value into an internal value we can pass to the
 * jQueryUI slider control.
 * @param {number} val - external-facing value
 * @returns {number} - internal slider value
 * @override
 */
NetSimSlider.LogarithmicSlider.prototype.valueToSliderPosition = function (val) {
  if (val > this.maxValue_) {
    return this.isUpperBoundInfinite_ ? this.infinitySliderPosition : this.maxSliderPosition;
  } else if (val === this.maxValue_) {
    return this.maxSliderPosition;
  } else if (val < this.minValue_) {
    return this.isLowerBoundInfinite_ ? this.negInfinitySliderPosition : this.minSliderPosition;
  } else if (val === this.minValue_) {
    return this.minSliderPosition;
  }
  return Math.max(this.minSliderPosition, this.logFloor_(val));
};

/**
 * Converts the internal jQueryUI slider value into an external-facing
 * value for this control.
 * Should be an inverse of valueToSliderPosition
 * @param {number} pos - internal slider value
 * @returns {number} - external-facing value
 * @override
 */
NetSimSlider.LogarithmicSlider.prototype.sliderPositionToValue = function (pos) {
  if (pos > this.maxSliderPosition) {
    return this.isUpperBoundInfinite_ ? Infinity : this.maxValue_;
  } else if (pos === this.maxSliderPosition) {
    return this.maxValue_;
  } else if (pos < this.minSliderPosition) {
    return this.isLowerBoundInfinite_ ? -Infinity : this.minValue_;
  } else if (pos === this.minSliderPosition) {
    return this.minValue_;
  }
  return Math.pow(this.logBase_, pos);
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./NetSimSlider.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/NetSimSlider.html.ejs","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimSlider.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('<div id="netsim_slider_', escape((1,  instanceID )), '" class="netsim-slider">\n  <div class="slider-inline-wrap">\n    <div class="slider"></div>\n    <div class="slider-labels">\n      <div class="max-value">', escape((5,  maxValue )), '</div>\n      <div class="min-value">', escape((6,  minValue )), '</div>\n      <div class="current-value">\n        <label><span class="slider-value"></span></label>\n      </div>\n    </div>\n  </div>\n</div>\n'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimApi.js":[function(require,module,exports){
/**
 * @overview Wraps NetSim REST APIs for operations of "tables" and "shards."
 * @see net_sim_api.rb
 */
// Strict linting: Absorb into global config when possible
/* jshint
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var NetSimApiError = require('./NetSimApiError');

/**
 * @type {string}
 * @const
 */
var NETSIM_API_BASE_URL = '/v3/netsim';

/**
 * @name NetSimShardApi
 */
var shardApi = {

  /**
   * Create an initialized NetSim Shard API instance.
   * @param {string} shardID
   * @returns {NetSimShardApi}
   */
  create: function create(shardID) {
    return $.extend({}, shardApi, {

      /**
       * Shard identifier.
       * @type {string}
       */
      shardID: shardID,

      /**
       * Beginning part of URL for all calls that interact with the shard.
       * @type {string}
       */
      baseUrl: NETSIM_API_BASE_URL + '/' + shardID
    });
  },

  makeTableApi: function makeTableApi(tableName) {
    return tableApi.create(this.shardID, tableName);
  }
};

/**
 * @name NetSimTableApi
 */
var tableApi = {

  /**
   * Create an initialized NetSim Table API instance.
   * @param {string} shardID
   * @param {string} tableName
   * @returns {NetSimTableApi}
   */
  create: function create(shardID, tableName) {
    return $.extend({}, tableApi, {

      /**
       * Shard identifier.
       * @type {string}
       */
      shardID: shardID,

      /**
       * Table name.
       * @type {string}
       */
      tableName: tableName,

      /**
       * Beginning part of URL for all calls that interact only with
       * this table.
       * @type {string}
       */
      baseUrl: NETSIM_API_BASE_URL + '/' + shardID + '/' + tableName
    });
  },

  /**
   * Request all rows from the given table.
   * @param {NodeStyleCallback} callback - Expected result is an array of
   *        row objects.
   */
  allRows: function allRows(callback) {
    $.ajax({
      url: this.baseUrl,
      type: "get",
      dataType: "json"
    }).done(function (data, text) {
      callback(null, data);
    }).fail(function (request, status, error) {
      callback(new NetSimApiError(request), null);
    });
  },

  /**
   * Request all rows including and following the given row ID from the table.
   * @param {int} rowID - lower bound on row IDs to fetch
   * @param {NodeStyleCallback} callback - Expected result is an array of
   *        table rows.
   */
  allRowsFromID: function allRowsFromID(rowID, callback) {
    $.ajax({
      url: this.baseUrl + '@' + rowID,
      type: "get",
      dataType: "json"
    }).done(function (data, text) {
      callback(null, data);
    }).fail(function (request, status, error) {
      callback(new NetSimApiError(request), null);
    });
  },

  /**
   * Insert a row or rows into the table.
   * @param {Object|Object[]} value - desired row contents, as either an
   *        Object for a single row or an Array of Objects for multiple.
   *        Must be JSON.stringify-able.
   * @param {NodeStyleCallback} callback - Expected result is the created
   *        row object or objects (which will include an assigned 'id'
   *        key).
   */
  createRow: function createRow(value, callback) {
    var data;

    try {
      data = JSON.stringify(value);
    } catch (e) {
      callback(e, undefined);
      return;
    }

    $.ajax({
      url: this.baseUrl,
      type: "post",
      contentType: "application/json; charset=utf-8",
      data: data
    }).done(function (body, text) {
      callback(null, body);
    }).fail(function (request, status, error) {
      callback(new NetSimApiError(request), undefined);
    });
  },

  /**
   * Remove multiple rows at once.
   * @param {number[]} ids - The row IDs to remove.
   * @param {NodeStyleCallback} callback - Expected result is TRUE.
   * @param {boolean} [async] default TRUE.
   */
  deleteRows: function deleteRows(ids, callback, async) {
    async = async !== false; // `undefined` maps to true

    // Generate query string in the form "id[]=1&id[]=2&..."
    var queryString = ids.map(function (id) {
      return 'id[]=' + id;
    }).join('&');

    $.ajax({
      url: this.baseUrl + '?' + queryString,
      type: 'delete',
      dataType: 'json',
      async: async
    }).done(function (data, text) {
      callback(null, true);
    }).fail(function (request, status, error) {
      callback(new NetSimApiError(request), false);
    });
  },

  /**
   * Retrieve a row.
   * @param {number} id - The row identifier.
   * @param {NodeStyleCallback} callback - Expected result is the requested
   *        row object.
   */
  fetchRow: function fetchRow(id, callback) {
    $.ajax({
      url: this.baseUrl + "/" + id,
      type: "get",
      dataType: "json"
    }).done(function (data, text) {
      callback(null, data);
    }).fail(function (request, status, error) {
      callback(new NetSimApiError(request), undefined);
    });
  },

  /**
   * Change the contents of a row.
   * @param {number} id - The row identifier.
   * @param {Object} value - The new row contents.
   * @param {NodeStyleCallback} callback - Expected result is the new row object.
   */
  updateRow: function updateRow(id, value, callback) {
    $.ajax({
      url: this.baseUrl + "/" + id,
      type: "post",
      contentType: "application/json; charset=utf-8",
      data: JSON.stringify(value)
    }).done(function (data, text) {
      callback(null, data);
    }).fail(function (request, status, error) {
      callback(new NetSimApiError(request), false);
    });
  }
};

module.exports = {
  /**
   * Create a NetSim Shard API instance for the given shard.
   * @param {string} shardID
   * @returns {NetSimShardApi}
   */
  makeShardApi: function makeShardApi(shardID) {
    return shardApi.create(shardID);
  },

  /**
   * Create a NetSim Table API instance for the given shard and table name.
   * @param {string} shardID
   * @param {string} tableName
   * @returns {NetSimTableApi}
   */
  makeTableApi: function makeTableApi(shardID, tableName) {
    return tableApi.create(shardID, tableName);
  }
};

},{"./NetSimApiError":"/home/ubuntu/staging/apps/build/js/netsim/NetSimApiError.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimApiError.js":[function(require,module,exports){
/**
 * @overview Extended error type returned for failed interactions with NetSim
 * server API (net_sim_api.rb) that extracts and exposes additional error info.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

require('../utils'); // provide Function.prototype.inherits

/**
 * Special error type for failed server requests, which tries to extract
 * additional error information from the server's response.
 * @param {jqXHR} request
 * @constructor
 * @extends Error
 */
var NetSimApiError = module.exports = function (request) {
  /** @type {string} */
  this.name = 'NetSimApiError';

  /** @type {string} */
  this.message = 'Request failed';

  /** @type {string} */
  this.stack = new Error().stack;

  /**
   * Additional error information returned by the server, which can drive
   * specific responses by the client.
   * @type {string|Array}
   */
  this.details = undefined;

  // Attempt to extract additional information from the request object
  if (request) {
    this.message = 'status: ' + request.status + '; error: ' + request.statusText;
    try {
      var response = JSON.parse(request.responseText);
      if (response.details) {
        this.details = response.details;
        this.message += '; details: ' + JSON.stringify(this.details);
      }
    } catch (e) {
      this.details = null;
    }
  }
};
NetSimApiError.inherits(Error);

/**
 * Ways that a row insert operation can fail via NetSimApi.
 * @enum {string}
 */
NetSimApiError.ValidationError = {
  MALFORMED: 'malformed',
  CONFLICT: 'conflict',
  LIMIT_REACHED: 'limit_reached'
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimAlert.js":[function(require,module,exports){
/**
 * @overview Controller for creating growl-style Bootstrap alerts
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
/* global setTimeout */
'use strict';

var markup = require('./NetSimAlert.html.ejs');
var ArgumentUtils = require('./ArgumentUtils');
var NetSimLogger = require('./NetSimLogger');

var logger = NetSimLogger.getSingleton();

var NetSimAlert = module.exports = {};

/**
 * Returns the alert container, or creates and inserts one if it does
 * not exist. Also attaches a close handler so the container will
 * remove itself when it empties
 * @private
 * @return {jQuery}
 */
NetSimAlert.getOrCreateAlertContainer_ = function () {
  var alertContainer = $('.netsim-alert-container');

  if (alertContainer.length === 0) {
    alertContainer = $('<div>').addClass("netsim-alert-container");
    $('#netsim').append(alertContainer);

    alertContainer.on('closed', function () {
      if ($(this).children().length === 1) {
        $(this).remove();
      }
    });
  }

  return alertContainer;
};

/**
 * Simple check to see if Bootstrap's Alert function is attached to the
 * global jQuery object.
 * @return {boolean} whether or not bootstrap's `alert` function is
 *                   loaded and available
 */
NetSimAlert.isBootstrapAlertLoaded_ = function () {
  return typeof $().alert === 'function';
};

/**
 * Primary alert creation method. Expects a body of content for the
 * alert and a flavor for the alert type. Can optionally include a title
 * and a timeout time.
 *
 * @param {body} string
 * @param {flavor} string
 * @param {Object} options
 * @param {string} options.title
 * @param {number} options.timeout Timeout in ms. defaults to 5000.
 * @return {jQuery} the created alert element
 */
NetSimAlert.create_ = function (body, flavor, options) {

  if (!NetSimAlert.isBootstrapAlertLoaded_()) {
    logger.warn("Bootstrap Alert not loaded; NetSimAlert refusing to create alert");
    return;
  }

  ArgumentUtils.validateRequired(body, 'body', ArgumentUtils.isString);
  ArgumentUtils.validateRequired(flavor, 'flavor', ArgumentUtils.isString);
  options = ArgumentUtils.extendOptionsObject(options);

  var $container = NetSimAlert.getOrCreateAlertContainer_();

  var bootstrapAlert = $(markup({
    flavor: flavor,
    body: body,
    title: options.get('title', ArgumentUtils.isString)
  }));

  $container.append(bootstrapAlert);
  bootstrapAlert.alert();

  setTimeout(function () {
    bootstrapAlert.alert('close');
  }, options.get('timeout', ArgumentUtils.isPositiveNoninfiniteNumber, 5000));

  return bootstrapAlert;
};

/** Wrapper method to call create with an "alert-warn" flavor */
NetSimAlert.warn = function (body, options) {
  return NetSimAlert.create_(body, "alert-warn", options);
};

/** Wrapper method to call create with an "alert-info" flavor */
NetSimAlert.info = function (body, options) {
  return NetSimAlert.create_(body, "alert-info", options);
};

/** Wrapper method to call create with an "alert-error" flavor */
NetSimAlert.error = function (body, options) {
  return NetSimAlert.create_(body, "alert-error", options);
};

/** Wrapper method to call create with an "alert-success" flavor */
NetSimAlert.success = function (body, options) {
  return NetSimAlert.create_(body, "alert-success", options);
};

},{"./ArgumentUtils":"/home/ubuntu/staging/apps/build/js/netsim/ArgumentUtils.js","./NetSimAlert.html.ejs":"/home/ubuntu/staging/apps/build/js/netsim/NetSimAlert.html.ejs","./NetSimLogger":"/home/ubuntu/staging/apps/build/js/netsim/NetSimLogger.js"}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimAlert.html.ejs":[function(require,module,exports){
module.exports= (function() {
  var t = function anonymous(locals, filters, escape
/**/) {
escape = escape || function (html){
  return String(html)
    .replace(/&(?!\w+;)/g, '&amp;')
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
    .replace(/"/g, '&quot;');
};
var buf = [];
with (locals || {}) { (function(){ 
 buf.push('');1;
  /**
   * @name body
   * @type {!string}
   */

  /**
   * @name flavor
   * @type {!string}
   */

  /**
   * @name title
   * @type {string}
   */
; buf.push('\n<div class="alert netsim-alert ', escape((17,  flavor )), ' fade in">\n  <button type="button" class="netsim-alert-button close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n  ');19; if (title) { ; buf.push('<strong>', escape((19,  title )), '</strong>');19; } ; buf.push('\n  ', escape((20,  body )), '\n</div>\n'); })();
} 
return buf.join('');
};
  return function(locals) {
    return t(locals, require("ejs").filters);
  }
}());
},{"ejs":"/home/ubuntu/staging/apps/node_modules/ejs/lib/ejs.js"}],"/home/ubuntu/staging/apps/build/js/netsim/DataConverters.js":[function(require,module,exports){
/**
 * @overview Provides utility methods for converting user data between
 *           different encodings, and formatting those encodings: binary,
 *           hex, decimal, ASCII.  "A and B" is a special encoding that is
 *           just binary with "A" sub'd for 0 and "B" sub'd for 1.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';
/* global window, require, exports */

var utils = require('../utils'); // For String.prototype.repeat polyfill
var NetSimUtils = require('./NetSimUtils');

// window.{btoa, atob} polyfills
if (!(window.atob && window.btoa)) {
  var base64 = require('Base64');
  window.btoa = window.btoa || base64.btoa;
  window.atob = window.atob || base64.atob;
}

/**
 * @typedef {string} AddressHeaderFormat
 * A string indicating the parts of an address field in the packet header,
 * their respective byte-widths, and the separators to be used when converting
 * binary to a readable format.
 * Examples:
 * "4" indicates a single 4-byte number, e.g. 5 / 0101
 * "8.4" indicates an 8-byte number followed by a 4-byte number, separated
 *   by a period, e.g. 1.1 / 000000010001 or 18.9 / 00010010 1001
 * "8.8.8.8" would be an IPv4 address, e.g.
 *   127.0.0.1 / 01111111 00000000 00000000 00000001
 */

/**
 * Converts an As and Bs string into its most compact representation, forced
 * to uppercase.
 * @param {string} abString
 * @returns {string}
 */
exports.minifyAB = function (abString) {
  return abString.replace(/[^AB]/gi, '').toUpperCase();
};

/**
 * Converts an AB-binary string to a formatted representation, with chunks
 * of a set size separated by a space.
 * @param {string} abString
 * @param {number} chunkSize
 * @param {number} [offset] bit-offset for formatting effect; default 0.
 * @returns {string} formatted version
 */
exports.formatAB = function (abString, chunkSize, offset) {
  return exports.formatBinary(exports.abToBinary(abString), chunkSize, offset).replace(/0/g, 'A').replace(/1/g, 'B');
};

/**
 * Converts a binary string into its most compact string representation.
 * @param {string} binaryString that may contain whitespace
 * @returns {string} binary string with no whitespace
 */
exports.minifyBinary = function (binaryString) {
  return binaryString.replace(/[^01]/g, '');
};

/**
 * Converts a binary string to a formatted representation, with chunks of
 * a set size separated by a space.
 * @param {string} binaryString - may be unformatted already
 * @param {number} chunkSize - how many bits per format chunk
 * @param {number} [offset] bit-offset for formatting effect; default 0.
 * @returns {string} pretty formatted binary string
 */
exports.formatBinary = function (binaryString, chunkSize, offset) {
  offset = utils.valueOr(offset, 0);
  if (chunkSize <= 0) {
    throw new RangeError("Parameter chunkSize must be greater than zero");
  }

  var binary = exports.minifyBinary(binaryString);

  var chunks = [];
  var firstChunkLength = utils.mod(offset, chunkSize);
  if (firstChunkLength > 0) {
    chunks.push(binary.substr(0, firstChunkLength));
  }

  for (var i = firstChunkLength; i < binary.length; i += chunkSize) {
    chunks.push(binary.substr(i, chunkSize));
  }

  return chunks.join(' ');
};

/**
 * Converts a hexadecimal string into its most compact string representation.
 * Strips whitespace and non-hex characters, and coerces letters to uppercase.
 * @param {string} hexString
 * @returns {string}
 */
exports.minifyHex = function (hexString) {
  return hexString.replace(/[^0-9A-F]/gi, '').toUpperCase();
};

/**
 * Reduces all whitespace to single characters and strips non-digits.
 * @param decimalString
 */
exports.minifyDecimal = function (decimalString) {
  return decimalString.replace(/(^\s+|\s+$|[^0-9\s])/g, '').replace(/\s+/g, ' ');
};

/**
 * Converts a hex string to a formatted representation, with chunks of
 * a set size separated by a space.
 * @param {string} hexString
 * @param {number} chunkSize - in bits!
 * @param {number} [offset] hex-digit-offset for formatting effect; default 0.
 * @returns {string} formatted hex
 */
exports.formatHex = function (hexString, chunkSize, offset) {
  offset = utils.valueOr(offset, 0);
  if (chunkSize <= 0) {
    throw new RangeError("Parameter chunkSize must be greater than zero");
  }

  // Don't format hex when the chunkSize doesn't align with hex characters.
  if (chunkSize % 4 !== 0) {
    return hexString;
  }

  var hexChunkSize = chunkSize / 4;
  var hex = exports.minifyHex(hexString);

  var chunks = [];
  var firstChunkLength = utils.mod(offset, hexChunkSize);
  if (firstChunkLength > 0) {
    chunks.push(hex.substr(0, firstChunkLength));
  }

  for (var i = firstChunkLength; i < hex.length; i += hexChunkSize) {
    chunks.push(hex.substr(i, hexChunkSize));
  }

  return chunks.join(' ');
};

/**
 * Takes a set of whitespace-separated numbers and pads the spacing between
 * them to the width of the widest number, so that they line up when they
 * wrap.
 * @param {string} decimalString
 * @returns {string} aligned decimal string
 */
exports.alignDecimal = function (decimalString) {
  if (decimalString.replace(/\D/g, '') === '') {
    return '';
  }

  var numbers = exports.minifyDecimal(decimalString).split(/\s+/);

  // Find the length of the longest number
  var mostDigits = numbers.reduce(function (prev, cur) {
    if (cur.length > prev) {
      return cur.length;
    }
    return prev;
  }, 0);

  var zeroPadding = '0'.repeat(mostDigits);

  return numbers.map(function (numString) {
    // Left-pad each number with non-breaking spaces up to max width.
    return (zeroPadding + numString).slice(-mostDigits);
  }).join(' ');
};

/**
 * Interprets a string of As and Bs as binary where A is 0 and B is 1, then
 * interprets that binary as a single number, and returns that number.
 * @param {string} abString
 * @returns {number}
 */
exports.abToInt = function (abString) {
  return exports.binaryToInt(exports.abToBinary(abString));
};

/**
 * Converts a number to an AB binary representation
 * @param {number} num
 * @param {number} width
 * @returns {string}
 */
exports.intToAB = function (num, width) {
  return exports.binaryToAB(exports.intToBinary(num, width));
};

/**
 * Converts As and Bs to a binary string, where A is 0 and B is 1.
 * @param {string} abString
 * @returns {string}
 */
exports.abToBinary = function (abString) {
  return exports.minifyAB(abString).replace(/A/g, '0').replace(/B/g, '1');
};

/**
 * Converts binary into As and Bs, where 0 is A and 1 is B.
 * @param {string} binaryString
 * @returns {string}
 */
exports.binaryToAB = function (binaryString) {
  return exports.minifyBinary(binaryString).replace(/0/g, 'A').replace(/1/g, 'B');
};

/**
 * Interprets a binary string as a single number, and returns that number.
 * @param {string} binaryString
 * @returns {number}
 */
exports.binaryToInt = function (binaryString) {
  return parseInt(exports.minifyBinary(binaryString), 2);
};

var intToString = function intToString(int, base, width) {
  if (width <= 0) {
    throw new RangeError("Output width must be greater than zero");
  }
  return NetSimUtils.zeroPadLeft(int.toString(base), width);
};

/**
 * Converts a number to a binary string representation with the given width.
 * @param {number} int - number to convert
 * @param {number} width - number of bits to use
 * @returns {string} - binary representation with length of "width"
 */
exports.intToBinary = function (int, width) {
  return intToString(int, 2, width);
};

/**
 * Interprets a hex string as a single number, and returns that number.
 * @param hexadecimalString
 * @returns {Number}
 */
exports.hexToInt = function (hexadecimalString) {
  return parseInt(exports.minifyHex(hexadecimalString), 16);
};

/**
 * Converts a number to a hexadecimal string representation with the given
 * width.
 * @param {number} int - number to convert
 * @param {number} width - number of characters to use
 * @returns {string} - hex representation with length of "width"
 */
exports.intToHex = function (int, width) {
  return intToString(int, 16, width).toUpperCase();
};

/**
 * Converts a hex string to a binary string, by mapping each hex character
 * to four bits of binary.
 * @param {string} hexadecimalString
 * @returns {string} binary representation.
 */
exports.hexToBinary = function (hexadecimalString) {
  var uglyHex = exports.minifyHex(hexadecimalString);
  var binary = '';

  for (var i = 0; i < uglyHex.length; i++) {
    binary += exports.intToBinary(exports.hexToInt(uglyHex.substr(i, 1)), 4);
  }

  return binary;
};

/**
 * Converts a binary string to a hex string, mapping each four bits into
 * a hex character and right-padding with zeroes to round out the binary length.
 * @param {string} binaryString
 * @returns {string}
 */
exports.binaryToHex = function (binaryString) {
  var currentNibble;
  var nibbleWidth = 4;
  var chars = [];
  var uglyBinary = exports.minifyBinary(binaryString);
  for (var i = 0; i < uglyBinary.length; i += nibbleWidth) {
    currentNibble = NetSimUtils.zeroPadRight(uglyBinary.substr(i, nibbleWidth), nibbleWidth);
    chars.push(exports.intToHex(exports.binaryToInt(currentNibble), 1));
  }
  return chars.join('');
};

/**
 * Converts a string set of numbers to a binary representation of those numbers
 * using the given byte-size.
 * @param {string} decimalString - A set of numbers separated by whitespace.
 * @param {number} byteSize - How many bits to use to represent each number.
 * @returns {string} Binary representation.
 */
exports.decimalToBinary = function (decimalString, byteSize) {
  // Special case: No numbers
  if (decimalString.replace(/\D/g, '') === '') {
    return '';
  }

  return exports.minifyDecimal(decimalString).split(/\s+/).map(function (numString) {
    return exports.intToBinary(parseInt(numString, 10), byteSize);
  }).join('');
};

/**
 * Converts binary to a string of decimal numbers separated by whitespace.
 * @param {string} binaryString
 * @param {number} byteSize - How many bits to read for each number
 * @returns {string} decimal numbers
 */
exports.binaryToDecimal = function (binaryString, byteSize) {
  var currentByte;
  var numbers = [];
  var binary = exports.minifyBinary(binaryString);
  for (var i = 0; i < binary.length; i += byteSize) {
    currentByte = NetSimUtils.zeroPadRight(binary.substr(i, byteSize), byteSize);
    numbers.push(exports.binaryToInt(currentByte));
  }
  return numbers.join(' ');
};

/**
 * Converts ascii to binary, using the given bytesize for each character.
 * Overflow is ignored (left-trimmed); recommend using a bytesize of 8 in
 * most circumstances.
 * @param {string} asciiString
 * @param {number} byteSize
 * @returns {string}
 */
exports.asciiToBinary = function (asciiString, byteSize) {
  var bytes = [];
  for (var i = 0; i < asciiString.length; i++) {
    bytes.push(exports.intToBinary(asciiString.charCodeAt(i), byteSize));
  }
  return bytes.join('');
};

/**
 * Converts binary to an ascii string, using the given bytesize for each
 * character.  If the binary is not divisible by bytesize, the final character
 * is right-padded.
 * @param {string} binaryString
 * @param {number} byteSize
 * @returns {string} ASCII string
 */
exports.binaryToAscii = function (binaryString, byteSize) {
  if (byteSize <= 0) {
    throw new RangeError("Parameter byteSize must be greater than zero");
  }

  var currentByte;
  var chars = [];
  var binary = exports.minifyBinary(binaryString);
  for (var i = 0; i < binary.length; i += byteSize) {
    currentByte = NetSimUtils.zeroPadRight(binary.substr(i, byteSize), byteSize);
    chars.push(String.fromCharCode(exports.binaryToInt(currentByte)));
  }
  return chars.join('');
};

/**
 * @typedef {Object} Base64Payload
 * @property {string} string - the base64-encoded payload
 * @property {number} len - the length of the original binary payload
 */

/**
 * Converts binary to a base64 string for more efficient network
 * transfer. Because base64 expects even bytes, we pad the binary string
 * to the nearest byte and return the original length. The reverse
 * conversion expects to be given that original length.
 * @param {string} binaryString
 * @returns {Base64Payload} Object containing the base64 string and the
 *          length of of the original binaryString
 * @throws {TypeError} if binaryString argument is not a
 *         properly-formatted string of zeroes and ones.
 * @example
 * // returns { string: "kg==", len: 7 }
 * DataConverters.binaryToBase64("1001001");
 */
exports.binaryToBase64 = function (binaryString) {

  if (/^[01]*$/.test(binaryString) === false) {
    throw new TypeError("argument binaryString to method binaryToBase64" + "must be a binary string; received \"" + binaryString + "\" instead");
  }

  var byteLen = Math.ceil(binaryString.length / 8.0) * 8;
  var paddedBinaryString = NetSimUtils.zeroPadRight(binaryString, byteLen);
  var payload = window.btoa(exports.binaryToAscii(paddedBinaryString, 8));

  return { string: payload, len: binaryString.length };
};

/**
 * Converts a base64 string back into a binary string of the specified
 * length.
 * @param {string} base64string
 * @param {number} len
 * @returns {string} binaryString
 * @throws {TypeError} if base64string argument is not a
 *         properly base64-encoded string
 * @example
 * // returns "1001001"
 * DataConverters.base64ToBinary("kg==", 7);
 */
exports.base64ToBinary = function (base64string, len) {
  var decodedData;
  try {
    decodedData = window.atob(base64string);
  } catch (e) {
    throw new TypeError("argument base64string to method base64ToBinary" + "must be a base64-encoded string");
  }
  return exports.asciiToBinary(decodedData, 8).substr(0, len);
};

/**
 * Converts binary to an address string using the provided address format.
 * @param {string} binaryString
 * @param {AddressHeaderFormat} addressFormat
 * @returns {string}
 */
exports.binaryToAddressString = function (binaryString, addressFormat) {
  var binary = exports.minifyBinary(binaryString);
  if (binary.length === 0) {
    return '';
  }

  var indexIntoBinary = 0;

  // Parentheses in the split() regex cause the dividing elements to be captured
  // and also included in the return value.
  return addressFormat.split(/(\D+)/).map(function (formatPart) {
    var bitWidth = parseInt(formatPart, 10);
    if (isNaN(bitWidth)) {
      // Pass non-number parts of the format through, so we use the original
      // entered characters/layout for formatting.
      return formatPart;
    }

    var binarySlice = binary.substr(indexIntoBinary, bitWidth);
    var intVal = binarySlice.length > 0 ? exports.binaryToInt(binarySlice) : 0;
    indexIntoBinary += bitWidth;
    return intVal.toString();
  }).join('');
};

/**
 * Converts a formatted address string (decimal numbers with separators) into
 * binary with bit-widths for each part matching the given format.
 * @param {string} addressString
 * @param {AddressHeaderFormat} addressFormat
 * @returns {string}
 */
exports.addressStringToBinary = function (addressString, addressFormat) {
  if (addressString.length === 0) {
    return '';
  }

  // Actual user input, converted to a number[]
  var addressParts = addressString.toString().split(/\D+/).map(function (stringPart) {
    return parseInt(stringPart, 10);
  }).filter(function (numberPart) {
    return !isNaN(numberPart);
  });

  // Format, converted to a number[] where the numbers are bit-widths
  var partWidths = addressFormat.split(/\D+/).map(function (stringPart) {
    return parseInt(stringPart, 10);
  }).filter(function (numberPart) {
    return !isNaN(numberPart);
  });

  var partValue;
  var binary = '';
  for (var i = 0; i < partWidths.length; i++) {
    partValue = i < addressParts.length ? addressParts[i] : 0;
    binary = binary + exports.intToBinary(partValue, partWidths[i]);
  }
  return binary;
};

/**
 * Convert a binary string to a formatted representation, with chunks that
 * correspond to the parts of the address header.
 * @param {string} binaryString
 * @param {AddressHeaderFormat} addressFormat
 */
exports.formatBinaryForAddressHeader = function (binaryString, addressFormat) {
  var binary = exports.minifyBinary(binaryString);

  var partWidths = addressFormat.split(/\D+/).map(function (stringPart) {
    return parseInt(stringPart, 10);
  }).filter(function (numberPart) {
    return !isNaN(numberPart);
  });

  var chunks = [];
  var index = 0;
  partWidths.forEach(function (bitWidth) {
    var next = binary.substr(index, bitWidth);
    if (next.length > 0) {
      chunks.push(next);
    }
    index += bitWidth;
  });

  var next = binary.substr(index);
  if (next.length > 0) {
    chunks.push(next);
  }

  return chunks.join(' ');
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./NetSimUtils":"/home/ubuntu/staging/apps/build/js/netsim/NetSimUtils.js","Base64":"/home/ubuntu/staging/apps/node_modules/Base64/base64.js"}],"/home/ubuntu/staging/apps/node_modules/Base64/base64.js":[function(require,module,exports){
;(function () {

  var object = typeof exports != 'undefined' ? exports : this; // #8: web workers
  var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';

  function InvalidCharacterError(message) {
    this.message = message;
  }
  InvalidCharacterError.prototype = new Error;
  InvalidCharacterError.prototype.name = 'InvalidCharacterError';

  // encoder
  // [https://gist.github.com/999166] by [https://github.com/nignag]
  object.btoa || (
  object.btoa = function (input) {
    var str = String(input);
    for (
      // initialize result and counter
      var block, charCode, idx = 0, map = chars, output = '';
      // if the next str index does not exist:
      //   change the mapping table to "="
      //   check if d has no fractional digits
      str.charAt(idx | 0) || (map = '=', idx % 1);
      // "8 - idx % 1 * 8" generates the sequence 2, 4, 6, 8
      output += map.charAt(63 & block >> 8 - idx % 1 * 8)
    ) {
      charCode = str.charCodeAt(idx += 3/4);
      if (charCode > 0xFF) {
        throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");
      }
      block = block << 8 | charCode;
    }
    return output;
  });

  // decoder
  // [https://gist.github.com/1020396] by [https://github.com/atk]
  object.atob || (
  object.atob = function (input) {
    var str = String(input).replace(/=+$/, '');
    if (str.length % 4 == 1) {
      throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");
    }
    for (
      // initialize result and counters
      var bc = 0, bs, buffer, idx = 0, output = '';
      // get next character
      buffer = str.charAt(idx++);
      // character found in table? initialize bit storage and add its ascii value;
      ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,
        // and if not first of each 4 characters,
        // convert the first 8 bits to one ascii character
        bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0
    ) {
      // try to find character in table (0-63, not found => -1)
      buffer = chars.indexOf(buffer);
    }
    return output;
  });

}());

},{}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimUtils.js":[function(require,module,exports){
/**
 * @overview Static helper methods for NetSim.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var utils = require('../utils');
var _ = utils.getLodash();
var i18n = require('./locale');
var NetSimConstants = require('./NetSimConstants');
var NetSimGlobals = require('./NetSimGlobals');

var logger = require('./NetSimLogger').getSingleton();

var EncodingType = NetSimConstants.EncodingType;

/**
 * Make a new SVG element, appropriately namespaced, wrapped in a jQuery
 * object for (semi-)easy manipulation.
 * @param {string} type - the tagname for the svg element.
 * @returns {jQuery} for chaining
 */
exports.jQuerySvgElement = function (type) {
  var newElement = $(document.createElementNS('http://www.w3.org/2000/svg', type));

  /**
   * Override addClass since jQuery addClass doesn't work on svg.
   * @param {string} className
   */
  newElement.addClass = function (className) {
    var oldClasses = newElement.attr('class');
    if (!oldClasses) {
      newElement.attr('class', className);
    } else if (!newElement.hasClass(className)) {
      newElement.attr('class', oldClasses + ' ' + className);
    }
    return newElement;
  };

  /**
   * Override removeClass since jQuery removeClass doesn't work on svg.
   * Removes the given classname if it exists on the element.
   * @param {string} className
   * @returns {jQuery} for chaining
   */
  newElement.removeClass = function (className) {
    var oldClasses = newElement.attr('class');
    if (oldClasses) {
      var newClasses = oldClasses.split(/\s+/g).filter(function (word) {
        return word !== className;
      }).join(' ');
      newElement.attr('class', newClasses);
    }
    return newElement;
  };

  /**
   * Override hasClass since jQuery hasClass doesn't work on svg.
   * Checks whether the element has the given class.
   * @param {string} className
   * @returns {boolean}
   */
  newElement.hasClass = function (className) {
    var oldClasses = newElement.attr('class');
    return oldClasses && oldClasses.split(/\s+/g).some(function (existingClass) {
      return existingClass === className;
    });
  };

  /**
   * Override toggleClass since jQuery toggleClass doesn't work on svg.
   *
   * Two versions:
   *
   * toggleClass(className) reverses the state of the class on the element;
   *   if it has the class it gets removed, if it doesn't have the class it
   *   gets added.
   *
   * toggleClass(className, shouldHaveClass) adds or removes the class on the
   *   element depending on the value of the second argument.
   *
   *
   * @param {string} className
   * @param {boolean} [shouldHaveClass]
   * @returns {jQuery} for chaining
   */
  newElement.toggleClass = function (className, shouldHaveClass) {
    // Default second argument - if not provided, we flip the current state
    shouldHaveClass = utils.valueOr(shouldHaveClass, !newElement.hasClass(className));

    if (shouldHaveClass) {
      newElement.addClass(className);
    } else {
      newElement.removeClass(className);
    }
    return newElement;
  };

  return newElement;
};

/**
 * Checks configuration against tab type to decide whether tab
 * of type should be shown.
 * @param {NetSimLevelConfiguration} levelConfig
 * @param {NetSimTabType} tabType
 */
exports.shouldShowTab = function (levelConfig, tabType) {
  return levelConfig.showTabs.indexOf(tabType) > -1;
};

/**
 * Get the localized string for the given encoding type.
 * @param {EncodingType} encodingType
 * @returns {string} localized encoding name
 */
exports.getEncodingLabel = function (encodingType) {
  if (encodingType === EncodingType.ASCII) {
    return i18n.ascii();
  } else if (encodingType === EncodingType.DECIMAL) {
    return i18n.decimal();
  } else if (encodingType === EncodingType.HEXADECIMAL) {
    return i18n.hex();
  } else if (encodingType === EncodingType.BINARY) {
    return i18n.binary();
  } else if (encodingType === EncodingType.A_AND_B) {
    return i18n.a_and_b();
  }
  return '';
};

/**
 * @param {Object} enumObj - Technically any object, but should be used with
 *        an enum like those found in NetSimConstants
 * @param {function} func - A function to call for each value in the enum,
 *        which gets passed the enum value.
 */
exports.forEachEnumValue = function (enumObj, func) {
  for (var enumKey in enumObj) {
    if (enumObj.hasOwnProperty(enumKey)) {
      func(enumObj[enumKey]);
    }
  }
};

/**
 * Rules used by serializeNumber and deserializeNumber to map unsupported
 * JavaScript values into JSON and back.
 * @type {{jsVal: number, jsonVal: string}[]}
 * @readonly
 */
var NUMBER_SERIALIZATION_RULES = [{ jsVal: Infinity, jsonVal: 'Infinity' }, { jsVal: -Infinity, jsonVal: '-Infinity' }, { jsVal: NaN, jsonVal: 'NaN' }, { jsVal: undefined, jsonVal: 'undefined' }];

/**
 * Checks that the provided value is actually the special value NaN, unlike
 * standard isNaN which returns true for anything that's not a number.
 * @param {*} val - any value
 * @returns {boolean}
 */
var isExactlyNaN = function isExactlyNaN(val) {
  // NaN is the only value in JavaScript that is not exactly equal to itself.
  // Therefore, if val !== val, then val must be NaN.
  return val !== val;
};

/**
 * Because JSON doesn't support the values Infinity, NaN, or undefined, you can
 * use this method to store those values in JSON as strings.
 * @param {number|NaN} num
 * @returns {number|string}
 */
exports.serializeNumber = function (num) {
  var applicableRule = _.find(NUMBER_SERIALIZATION_RULES, function (rule) {
    return rule.jsVal === num || isExactlyNaN(rule.jsVal) && isExactlyNaN(num);
  });
  return applicableRule ? applicableRule.jsonVal : num;
};

/**
 * Because JSON doesn't support the values Infinity, NaN, or undefined, you can
 * use this method to retrieve a value from JSON that is either a number or one
 * of those values.
 * @param {number|string} storedNum
 * @returns {number|NaN}
 */
exports.deserializeNumber = function (storedNum) {
  var applicableRule = _.find(NUMBER_SERIALIZATION_RULES, function (rule) {
    return rule.jsonVal === storedNum;
  });
  return applicableRule ? applicableRule.jsVal : storedNum;
};

/**
 * Helper for converting from an older header-spec format to a new, simpler one.
 * Old format: {key:{string}, bits:{number}}[]
 * New format: string[]
 * If we detect the old format, we return a spec in the new format.
 * @param {Array} spec
 * @returns {Array}
 */
exports.scrubHeaderSpecForBackwardsCompatibility = function (spec) {
  var foundOldFormat = false;
  var scrubbedSpec = [];
  spec.forEach(function (specEntry) {
    if (typeof specEntry === 'string') {
      // This is new new format, we can just copy it over.
      scrubbedSpec.push(specEntry);
    } else if (specEntry !== null && typeof specEntry === 'object') {
      // This is the old {key:'', bits:0} format.  We just want the key.
      scrubbedSpec.push(specEntry.key);
      foundOldFormat = true;
    }
  });

  // Issue a warning if an old format got converted, so we know to update
  // the level.
  if (foundOldFormat) {
    logger.warn("Converting old header specification format to new format." + " This level should be updated to use the new format.");
  }

  return scrubbedSpec;
};

/**
 * @param {NetSimLevelConfiguration} levelConfig
 * @returns {NetSimLevelConfiguration} same thing, but with certain values
 *          converted or cleaned.
 * @private
 */
exports.scrubLevelConfiguration_ = function (levelConfig) {
  var scrubbedLevel = _.clone(levelConfig, true);

  // Convert old header spec format to new header spec format
  scrubbedLevel.routerExpectsPacketHeader = exports.scrubHeaderSpecForBackwardsCompatibility(scrubbedLevel.routerExpectsPacketHeader);
  scrubbedLevel.clientInitialPacketHeader = exports.scrubHeaderSpecForBackwardsCompatibility(scrubbedLevel.clientInitialPacketHeader);

  // Coerce certain values to string that might have been mistaken for numbers
  scrubbedLevel.addressFormat = scrubbedLevel.addressFormat.toString();

  // Explicitly list fields that we suspect may have a string value that
  // needs to be converted to a number, like "Infinity"
  scrubbedLevel.defaultPacketSizeLimit = exports.deserializeNumber(scrubbedLevel.defaultPacketSizeLimit);

  // Packet Size cannot be infinity; defaults to 8kb
  if (scrubbedLevel.defaultPacketSizeLimit === Infinity) {
    scrubbedLevel.defaultPacketSizeLimit = 8192;
  }

  scrubbedLevel.defaultBitRateBitsPerSecond = exports.deserializeNumber(scrubbedLevel.defaultBitRateBitsPerSecond);
  scrubbedLevel.defaultChunkSizeBits = exports.deserializeNumber(scrubbedLevel.defaultChunkSizeBits);
  scrubbedLevel.defaultRouterBandwidth = exports.deserializeNumber(scrubbedLevel.defaultRouterBandwidth);
  scrubbedLevel.defaultRouterMemory = exports.deserializeNumber(scrubbedLevel.defaultRouterMemory);

  // Generate a warning if we see a possible missed string-to-number conversion
  Object.keys(scrubbedLevel).filter(function (key) {
    // Ignore level params with underscores, they are the dashboard versions
    // of the camelCase parameters that the app actually uses.
    return !/_/.test(key);
  }).forEach(function (key) {
    var unconvertedValue = NUMBER_SERIALIZATION_RULES.some(function (rule) {
      return scrubbedLevel[key] === rule.jsonVal;
    });
    if (unconvertedValue) {
      logger.warn("Level option '" + key + "' has unconverted string value '" + scrubbedLevel[key] + "'");
    }
  });

  return scrubbedLevel;
};

/**
 * Converts a number of bits into a localized representation of that data
 * size in bytes, kilobytes, megabytes, gigabytes.
 * @param {number} bits
 * @returns {string} - localized string representation of size in bytes
 */
exports.bitsToLocalizedRoundedBytesize = function (bits) {
  if (bits === Infinity) {
    return i18n.unlimited();
  }

  var gbytes = Math.floor(bits / NetSimConstants.BITS_PER_GIGABYTE);
  if (gbytes > 0) {
    return i18n.x_GBytes({ x: gbytes });
  }

  var mbytes = Math.floor(bits / NetSimConstants.BITS_PER_MEGABYTE);
  if (mbytes > 0) {
    return i18n.x_MBytes({ x: mbytes });
  }

  var kbytes = Math.floor(bits / NetSimConstants.BITS_PER_KILOBYTE);
  if (kbytes > 0) {
    return i18n.x_KBytes({ x: kbytes });
  }

  var bytes = Math.floor(bits / NetSimConstants.BITS_PER_BYTE);
  if (bytes > 0) {
    return i18n.x_Bytes({ x: bytes });
  }

  return i18n.x_bits({ x: bits });
};

/**
 * Converts a bitrate into a localized representation of that data
 * size in bits/sec, kilobits, megabits, gigabits.
 * @param {number} bitsPerSecond
 * @returns {string} - localized string representation of speed in bits
 */
exports.bitrateToLocalizedRoundedBitrate = function (bitsPerSecond) {
  if (bitsPerSecond === Infinity) {
    return i18n.unlimited();
  }

  var gbps = Math.floor(bitsPerSecond / NetSimConstants.BITS_PER_GIGABIT);
  if (gbps > 0) {
    return i18n.x_Gbps({ x: gbps });
  }

  var mbps = Math.floor(bitsPerSecond / NetSimConstants.BITS_PER_MEGABIT);
  if (mbps > 0) {
    return i18n.x_Mbps({ x: mbps });
  }

  var kbps = Math.floor(bitsPerSecond / NetSimConstants.BITS_PER_KILOBIT);
  if (kbps > 0) {
    return i18n.x_Kbps({ x: kbps });
  }

  var bps = Math.floor(bitsPerSecond * 100) / 100;
  return i18n.x_bps({ x: bps });
};

exports.zeroPadLeft = function (string, desiredWidth) {
  var padding = '0'.repeat(desiredWidth);
  return (padding + string).slice(-desiredWidth);
};

exports.zeroPadRight = function (string, desiredWidth) {
  var padding = '0'.repeat(desiredWidth);
  return (string + padding).substr(0, desiredWidth);
};

/**
 * Creates a Continue/Finish button on the given NetSimPanel (in its header).
 * @param {NetSimPanel} onPanel
 * @static
 */
exports.makeContinueButton = function (onPanel) {
  onPanel.addButton(i18n.continueButton({ caret: '<i class="fa fa-caret-right"></i>' }), function (jQueryEvent) {
    if (!$(jQueryEvent.target).is(':disabled')) {
      NetSimGlobals.completeLevelAndContinue();
    }
  }, {
    secondary: false,
    classes: ['submitButton']
  });
};

},{"../utils":"/home/ubuntu/staging/apps/build/js/utils.js","./NetSimConstants":"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js","./NetSimGlobals":"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js","./NetSimLogger":"/home/ubuntu/staging/apps/build/js/netsim/NetSimLogger.js","./locale":"/home/ubuntu/staging/apps/build/js/netsim/locale.js"}],"/home/ubuntu/staging/apps/build/js/netsim/locale.js":[function(require,module,exports){
// locale for netsim

"use strict";

module.exports = window.blockly.netsim_locale;

},{}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimLogger.js":[function(require,module,exports){
/**
 * @overview Utility class wrapping more granular log behavior that isn't
 * available in all browsers.  Also makes it easy to turn logging on and off
 * in tests.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,

 maxlen: 120
 */
'use strict';

/**
 * Logging API to control log levels and support different browsers
 * @constructor
 * @param {Console} window console API
 * @param {LogLevel} verbosity
 */
var NetSimLogger = module.exports = function (outputConsole, verbosity /*=VERBOSE*/) {
  /**
   * @type {Console}
   * @private
   */
  this.outputConsole_ = outputConsole;

  /**
   * Always mapped to console.log, or no-op if not available.
   * @type {Function}
   * @private
   */
  this.log_ = function () {};

  /**
   * If configured for info logging, gets mapped to console.info,
   * falls back to console.log, or no-op.
   * @type {Function}
   */
  this.info = function () {};

  /**
   * If configured for warning logging, gets mapped to console.warn,
   * falls back to console.log, or no-op.
   * @type {Function}
   */
  this.warn = function () {};

  /**
   * If configured for error logging, gets mapped to console.error,
   * falls back to console.log, or no-op.
   * @type {Function}
   */
  this.error = function () {};

  this.setVerbosity(undefined === verbosity ? LogLevel.VERBOSE : verbosity);
};

/**
 * Log verbosity levels enum.
 * @readonly
 * @enum {number}
 */
var LogLevel = {
  NONE: 0,
  ERROR: 1,
  WARN: 2,
  INFO: 3,
  VERBOSE: 4
};
NetSimLogger.LogLevel = LogLevel;

/**
 * Global singleton
 * @type {NetSimLogger}
 */
var singletonInstance;

/**
 * Static getter/lazy-creator for the global singleton instance.
 * @returns {NetSimLogger}
 */
NetSimLogger.getSingleton = function () {
  if (singletonInstance === undefined) {
    singletonInstance = new NetSimLogger(console, LogLevel.WARN);
  }
  return singletonInstance;
};

/**
 * Binds internal function calls according to given verbosity level.
 * @param verbosity
 */
NetSimLogger.prototype.setVerbosity = function (verbosity) {
  // Note: We don't call this.outputConsole_.log.bind here, because in IE9 the
  // console's logging methods do not inherit from Function.

  this.log_ = this.outputConsole_ && this.outputConsole_.log ? Function.prototype.bind.call(this.outputConsole_.log, this.outputConsole_) : function () {};

  if (verbosity >= LogLevel.INFO) {
    this.info = this.outputConsole_ && this.outputConsole_.info ? Function.prototype.bind.call(this.outputConsole_.info, this.outputConsole_) : this.log_;
  } else {
    this.info = function () {};
  }

  if (verbosity >= LogLevel.WARN) {
    this.warn = this.outputConsole_ && this.outputConsole_.warn ? Function.prototype.bind.call(this.outputConsole_.warn, this.outputConsole_) : this.log_;
  } else {
    this.warn = function () {};
  }

  if (verbosity >= LogLevel.ERROR) {
    this.error = this.outputConsole_ && this.outputConsole_.error ? Function.prototype.bind.call(this.outputConsole_.error, this.outputConsole_) : this.log_;
  } else {
    this.error = function () {};
  }
};

/**
 * Writes to output, depending on log level
 * @param {*} message
 * @param {LogLevel} logLevel
 */
NetSimLogger.prototype.log = function (message, logLevel /*=INFO*/) {
  if (undefined === logLevel) {
    logLevel = LogLevel.INFO;
  }

  switch (logLevel) {
    case LogLevel.ERROR:
      this.error(message);
      break;
    case LogLevel.WARN:
      this.warn(message);
      break;
    case LogLevel.INFO:
      this.info(message);
      break;
    default:
      this.log_(message);
  }
};

},{}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimGlobals.js":[function(require,module,exports){
/**
 * @overview Global singleton used to simplify certain cross-cutting concerns,
 *           including:
 *
 *           Access to level configuration.
 *           Access to environment-specific asset URLs.
 *           Reproducible random number functions for easy testing.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

var seedrandom = require('seedrandom');

/**
 * Reference to root StudioApp controller
 * @type {StudioApp}
 * @private
 */
var studioApp_ = null;

/**
 * Reference to root NetSim controller
 * @type {NetSim}
 * @private
 */
var netsim_ = null;

/**
 * Replacable pseudo-random number generator function that lets us set a global
 * random seed if we wish.
 * @type {function}
 * @private
 */
var pseudoRandomNumberFunction_ = Math.random;

/**
 * Get a random integer in the given range.
 * @param {number} low inclusive lower end of range
 * @param {number} high exclusive upper end of range
 * @returns {number}
 */
var randomIntInRange = function randomIntInRange(low, high) {
  return Math.floor(pseudoRandomNumberFunction_() * (high - low)) + low;
};

/**
 * Provide singleton access to global simulation settings
 */
module.exports = {

  /**
   * Set the root controllers that can be used for global operations.
   * @param {StudioApp} studioApp
   * @param {NetSim} netsim
   */
  setRootControllers: function setRootControllers(studioApp, netsim) {
    studioApp_ = studioApp;
    netsim_ = netsim;
  },

  /**
   * @returns {NetSimLevelConfiguration}
   */
  getLevelConfig: function getLevelConfig() {
    return netsim_.level;
  },

  /**
   * @returns {PubSubConfig}
   */
  getPubSubConfig: function getPubSubConfig() {
    return {
      usePusher: netsim_.usePusher,
      pusherApplicationKey: netsim_.pusherApplicationKey
    };
  },

  /**
   * @returns {number}
   */
  getGlobalMaxRouters: function getGlobalMaxRouters() {
    return netsim_.globalMaxRouters;
  },

  /**
   * @returns {function}
   */
  getAssetUrlFunction: function getAssetUrlFunction() {
    return studioApp_.assetUrl;
  },

  /**
   * Trigger a layout update of the right column, received/sent/send panels.
   */
  updateLayout: function updateLayout() {
    netsim_.updateLayout();
  },

  /**
   * Trigger an attempt to complete the current level and continue to the next.
   */
  completeLevelAndContinue: function completeLevelAndContinue() {
    netsim_.completeLevelAndContinue();
  },

  /**
   * Reseed the random number generator.  If this is never called, the default
   * Math.random function is used as the generator.
   * @param {string} newSeed
   */
  setRandomSeed: function setRandomSeed(newSeed) {
    pseudoRandomNumberFunction_ = seedrandom(newSeed);
  },

  /**
   * @returns {number} a random value between 0 and 1
   */
  random: function random() {
    return pseudoRandomNumberFunction_();
  },

  /**
   * Get a random integer in the given range.
   * @param {number} low inclusive lower end of range
   * @param {number} high exclusive upper end of range
   * @returns {number}
   */
  randomIntInRange: randomIntInRange,

  /**
   * Get a random item out of a collection
   * @param {Array} collection
   * @returns {*} undefined if collection is empty
   */
  randomPickOne: function randomPickOne(collection) {
    var size = collection.length;
    if (size === 0) {
      return undefined;
    }

    return collection[randomIntInRange(0, size)];
  }

};

},{"seedrandom":"/home/ubuntu/staging/apps/node_modules/seedrandom/index.js"}],"/home/ubuntu/staging/apps/node_modules/seedrandom/index.js":[function(require,module,exports){
// A library of seedable RNGs implemented in Javascript.
//
// Usage:
//
// var seedrandom = require('seedrandom');
// var random = seedrandom(1); // or any seed.
// var x = random();       // 0 <= x < 1.  Every bit is random.
// var x = random.quick(); // 0 <= x < 1.  32 bits of randomness.

// alea, a 53-bit multiply-with-carry generator by Johannes Baage.
// Period: ~2^116
// Reported to pass all BigCrush tests.
var alea = require('./lib/alea');

// xor128, a pure xor-shift generator by George Marsaglia.
// Period: 2^128-1.
// Reported to fail: MatrixRank and LinearComp.
var xor128 = require('./lib/xor128');

// xorwow, George Marsaglia's 160-bit xor-shift combined plus weyl.
// Period: 2^192-2^32
// Reported to fail: CollisionOver, SimpPoker, and LinearComp.
var xorwow = require('./lib/xorwow');

// xorshift7, by Franois Panneton and Pierre L'ecuyer, takes
// a different approach: it adds robustness by allowing more shifts
// than Marsaglia's original three.  It is a 7-shift generator
// with 256 bits, that passes BigCrush with no systmatic failures.
// Period 2^256-1.
// No systematic BigCrush failures reported.
var xorshift7 = require('./lib/xorshift7');

// xor4096, by Richard Brent, is a 4096-bit xor-shift with a
// very long period that also adds a Weyl generator. It also passes
// BigCrush with no systematic failures.  Its long period may
// be useful if you have many generators and need to avoid
// collisions.
// Period: 2^4128-2^32.
// No systematic BigCrush failures reported.
var xor4096 = require('./lib/xor4096');

// Tyche-i, by Samuel Neves and Filipe Araujo, is a bit-shifting random
// number generator derived from ChaCha, a modern stream cipher.
// https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf
// Period: ~2^127
// No systematic BigCrush failures reported.
var tychei = require('./lib/tychei');

// The original ARC4-based prng included in this library.
// Period: ~2^1600
var sr = require('./seedrandom');

sr.alea = alea;
sr.xor128 = xor128;
sr.xorwow = xorwow;
sr.xorshift7 = xorshift7;
sr.xor4096 = xor4096;
sr.tychei = tychei;

module.exports = sr;

},{"./lib/alea":"/home/ubuntu/staging/apps/node_modules/seedrandom/lib/alea.js","./lib/tychei":"/home/ubuntu/staging/apps/node_modules/seedrandom/lib/tychei.js","./lib/xor128":"/home/ubuntu/staging/apps/node_modules/seedrandom/lib/xor128.js","./lib/xor4096":"/home/ubuntu/staging/apps/node_modules/seedrandom/lib/xor4096.js","./lib/xorshift7":"/home/ubuntu/staging/apps/node_modules/seedrandom/lib/xorshift7.js","./lib/xorwow":"/home/ubuntu/staging/apps/node_modules/seedrandom/lib/xorwow.js","./seedrandom":"/home/ubuntu/staging/apps/node_modules/seedrandom/seedrandom.js"}],"/home/ubuntu/staging/apps/node_modules/seedrandom/seedrandom.js":[function(require,module,exports){
/*
Copyright 2014 David Bau.

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

*/

(function (pool, math) {
//
// The following constants are related to IEEE 754 limits.
//
var global = this,
    width = 256,        // each RC4 output is 0 <= x < 256
    chunks = 6,         // at least six RC4 outputs for each double
    digits = 52,        // there are 52 significant digits in a double
    rngname = 'random', // rngname: name for Math.random and Math.seedrandom
    startdenom = math.pow(width, chunks),
    significance = math.pow(2, digits),
    overflow = significance * 2,
    mask = width - 1,
    nodecrypto;         // node.js crypto module, initialized at the bottom.

//
// seedrandom()
// This is the seedrandom function described above.
//
function seedrandom(seed, options, callback) {
  var key = [];
  options = (options == true) ? { entropy: true } : (options || {});

  // Flatten the seed string or build one from local entropy if needed.
  var shortseed = mixkey(flatten(
    options.entropy ? [seed, tostring(pool)] :
    (seed == null) ? autoseed() : seed, 3), key);

  // Use the seed to initialize an ARC4 generator.
  var arc4 = new ARC4(key);

  // This function returns a random double in [0, 1) that contains
  // randomness in every bit of the mantissa of the IEEE 754 value.
  var prng = function() {
    var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48
        d = startdenom,                 //   and denominator d = 2 ^ 48.
        x = 0;                          //   and no 'extra last byte'.
    while (n < significance) {          // Fill up all significant digits by
      n = (n + x) * width;              //   shifting numerator and
      d *= width;                       //   denominator and generating a
      x = arc4.g(1);                    //   new least-significant-byte.
    }
    while (n >= overflow) {             // To avoid rounding up, before adding
      n /= 2;                           //   last byte, shift everything
      d /= 2;                           //   right using integer math until
      x >>>= 1;                         //   we have exactly the desired bits.
    }
    return (n + x) / d;                 // Form the number within [0, 1).
  };

  prng.int32 = function() { return arc4.g(4) | 0; }
  prng.quick = function() { return arc4.g(4) / 0x100000000; }
  prng.double = prng;

  // Mix the randomness into accumulated entropy.
  mixkey(tostring(arc4.S), pool);

  // Calling convention: what to return as a function of prng, seed, is_math.
  return (options.pass || callback ||
      function(prng, seed, is_math_call, state) {
        if (state) {
          // Load the arc4 state from the given state if it has an S array.
          if (state.S) { copy(state, arc4); }
          // Only provide the .state method if requested via options.state.
          prng.state = function() { return copy(arc4, {}); }
        }

        // If called as a method of Math (Math.seedrandom()), mutate
        // Math.random because that is how seedrandom.js has worked since v1.0.
        if (is_math_call) { math[rngname] = prng; return seed; }

        // Otherwise, it is a newer calling convention, so return the
        // prng directly.
        else return prng;
      })(
  prng,
  shortseed,
  'global' in options ? options.global : (this == math),
  options.state);
}
math['seed' + rngname] = seedrandom;

//
// ARC4
//
// An ARC4 implementation.  The constructor takes a key in the form of
// an array of at most (width) integers that should be 0 <= x < (width).
//
// The g(count) method returns a pseudorandom integer that concatenates
// the next (count) outputs from ARC4.  Its return value is a number x
// that is in the range 0 <= x < (width ^ count).
//
function ARC4(key) {
  var t, keylen = key.length,
      me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];

  // The empty key [] is treated as [0].
  if (!keylen) { key = [keylen++]; }

  // Set up S using the standard key scheduling algorithm.
  while (i < width) {
    s[i] = i++;
  }
  for (i = 0; i < width; i++) {
    s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];
    s[j] = t;
  }

  // The "g" method returns the next (count) outputs as one number.
  (me.g = function(count) {
    // Using instance members instead of closure state nearly doubles speed.
    var t, r = 0,
        i = me.i, j = me.j, s = me.S;
    while (count--) {
      t = s[i = mask & (i + 1)];
      r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];
    }
    me.i = i; me.j = j;
    return r;
    // For robust unpredictability, the function call below automatically
    // discards an initial batch of values.  This is called RC4-drop[256].
    // See http://google.com/search?q=rsa+fluhrer+response&btnI
  })(width);
}

//
// copy()
// Copies internal state of ARC4 to or from a plain object.
//
function copy(f, t) {
  t.i = f.i;
  t.j = f.j;
  t.S = f.S.slice();
  return t;
};

//
// flatten()
// Converts an object tree to nested arrays of strings.
//
function flatten(obj, depth) {
  var result = [], typ = (typeof obj), prop;
  if (depth && typ == 'object') {
    for (prop in obj) {
      try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}
    }
  }
  return (result.length ? result : typ == 'string' ? obj : obj + '\0');
}

//
// mixkey()
// Mixes a string seed into a key that is an array of integers, and
// returns a shortened string seed that is equivalent to the result key.
//
function mixkey(seed, key) {
  var stringseed = seed + '', smear, j = 0;
  while (j < stringseed.length) {
    key[mask & j] =
      mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));
  }
  return tostring(key);
}

//
// autoseed()
// Returns an object for autoseeding, using window.crypto and Node crypto
// module if available.
//
function autoseed() {
  try {
    if (nodecrypto) { return tostring(nodecrypto.randomBytes(width)); }
    var out = new Uint8Array(width);
    (global.crypto || global.msCrypto).getRandomValues(out);
    return tostring(out);
  } catch (e) {
    var browser = global.navigator,
        plugins = browser && browser.plugins;
    return [+new Date, global, plugins, global.screen, tostring(pool)];
  }
}

//
// tostring()
// Converts an array of charcodes to a string
//
function tostring(a) {
  return String.fromCharCode.apply(0, a);
}

//
// When seedrandom.js is loaded, we immediately mix a few bits
// from the built-in RNG into the entropy pool.  Because we do
// not want to interfere with deterministic PRNG state later,
// seedrandom will not call math.random on its own again after
// initialization.
//
mixkey(math.random(), pool);

//
// Nodejs and AMD support: export the implementation as a module using
// either convention.
//
if ((typeof module) == 'object' && module.exports) {
  module.exports = seedrandom;
  // When in node.js, try using crypto package for autoseeding.
  try {
    nodecrypto = require('crypto');
  } catch (ex) {}
} else if ((typeof define) == 'function' && define.amd) {
  define(function() { return seedrandom; });
}

// End anonymous scope, and pass initial values.
})(
  [],     // pool: entropy pool starts empty
  Math    // math: package containing random, pow, and seedrandom
);

},{"crypto":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/index.js":[function(require,module,exports){
'use strict'

exports.randomBytes = exports.rng = exports.pseudoRandomBytes = exports.prng = require('randombytes')
exports.createHash = exports.Hash = require('create-hash')
exports.createHmac = exports.Hmac = require('create-hmac')

var hashes = ['sha1', 'sha224', 'sha256', 'sha384', 'sha512', 'md5', 'rmd160'].concat(Object.keys(require('browserify-sign/algos')))
exports.getHashes = function () {
  return hashes
}

var p = require('pbkdf2')
exports.pbkdf2 = p.pbkdf2
exports.pbkdf2Sync = p.pbkdf2Sync

var aes = require('browserify-cipher')
;[
  'Cipher',
  'createCipher',
  'Cipheriv',
  'createCipheriv',
  'Decipher',
  'createDecipher',
  'Decipheriv',
  'createDecipheriv',
  'getCiphers',
  'listCiphers'
].forEach(function (key) {
  exports[key] = aes[key]
})

var dh = require('diffie-hellman')
;[
  'DiffieHellmanGroup',
  'createDiffieHellmanGroup',
  'getDiffieHellman',
  'createDiffieHellman',
  'DiffieHellman'
].forEach(function (key) {
  exports[key] = dh[key]
})

var sign = require('browserify-sign')
;[
  'createSign',
  'Sign',
  'createVerify',
  'Verify'
].forEach(function (key) {
  exports[key] = sign[key]
})

exports.createECDH = require('create-ecdh')

var publicEncrypt = require('public-encrypt')

;[
  'publicEncrypt',
  'privateEncrypt',
  'publicDecrypt',
  'privateDecrypt'
].forEach(function (key) {
  exports[key] = publicEncrypt[key]
})

// the least I can do is make error messages for the rest of the node.js/crypto api.
;[
  'createCredentials'
].forEach(function (name) {
  exports[name] = function () {
    throw new Error([
      'sorry, ' + name + ' is not implemented yet',
      'we accept pull requests',
      'https://github.com/crypto-browserify/crypto-browserify'
    ].join('\n'))
  }
})

},{"browserify-cipher":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/browser.js","browserify-sign":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/browser.js","browserify-sign/algos":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/algos.js","create-ecdh":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/browser.js","create-hash":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/browser.js","create-hmac":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hmac/browser.js","diffie-hellman":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/diffie-hellman/browser.js","pbkdf2":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/pbkdf2/browser.js","public-encrypt":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/browser.js","randombytes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/randombytes/browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/browser.js":[function(require,module,exports){
exports.publicEncrypt = require('./publicEncrypt');
exports.privateDecrypt = require('./privateDecrypt');

exports.privateEncrypt = function privateEncrypt(key, buf) {
  return exports.publicEncrypt(key, buf, true);
};

exports.publicDecrypt = function publicDecrypt(key, buf) {
  return exports.privateDecrypt(key, buf, true);
};
},{"./privateDecrypt":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/privateDecrypt.js","./publicEncrypt":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/publicEncrypt.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/publicEncrypt.js":[function(require,module,exports){
(function (Buffer){
var parseKeys = require('parse-asn1');
var randomBytes = require('randombytes');
var createHash = require('create-hash');
var mgf = require('./mgf');
var xor = require('./xor');
var bn = require('bn.js');
var withPublic = require('./withPublic');
var crt = require('browserify-rsa');

var constants = {
  RSA_PKCS1_OAEP_PADDING: 4,
  RSA_PKCS1_PADDIN: 1,
  RSA_NO_PADDING: 3
};

module.exports = function publicEncrypt(public_key, msg, reverse) {
  var padding;
  if (public_key.padding) {
    padding = public_key.padding;
  } else if (reverse) {
    padding = 1;
  } else {
    padding = 4;
  }
  var key = parseKeys(public_key);
  var paddedMsg;
  if (padding === 4) {
    paddedMsg = oaep(key, msg);
  } else if (padding === 1) {
    paddedMsg = pkcs1(key, msg, reverse);
  } else if (padding === 3) {
    paddedMsg = new bn(msg);
    if (paddedMsg.cmp(key.modulus) >= 0) {
      throw new Error('data too long for modulus');
    }
  } else {
    throw new Error('unknown padding');
  }
  if (reverse) {
    return crt(paddedMsg, key);
  } else {
    return withPublic(paddedMsg, key);
  }
};

function oaep(key, msg){
  var k = key.modulus.byteLength();
  var mLen = msg.length;
  var iHash = createHash('sha1').update(new Buffer('')).digest();
  var hLen = iHash.length;
  var hLen2 = 2 * hLen;
  if (mLen > k - hLen2 - 2) {
    throw new Error('message too long');
  }
  var ps = new Buffer(k - mLen - hLen2 - 2);
  ps.fill(0);
  var dblen = k - hLen - 1;
  var seed = randomBytes(hLen);
  var maskedDb = xor(Buffer.concat([iHash, ps, new Buffer([1]), msg], dblen), mgf(seed, dblen));
  var maskedSeed = xor(seed, mgf(maskedDb, hLen));
  return new bn(Buffer.concat([new Buffer([0]), maskedSeed, maskedDb], k));
}
function pkcs1(key, msg, reverse){
  var mLen = msg.length;
  var k = key.modulus.byteLength();
  if (mLen > k - 11) {
    throw new Error('message too long');
  }
  var ps;
  if (reverse) {
    ps = new Buffer(k - mLen - 3);
    ps.fill(0xff);
  } else {
    ps = nonZero(k - mLen - 3);
  }
  return new bn(Buffer.concat([new Buffer([0, reverse?1:2]), ps, new Buffer([0]), msg], k));
}
function nonZero(len, crypto) {
  var out = new Buffer(len);
  var i = 0;
  var cache = randomBytes(len*2);
  var cur = 0;
  var num;
  while (i < len) {
    if (cur === cache.length) {
      cache = randomBytes(len*2);
      cur = 0;
    }
    num = cache[cur++];
    if (num) {
      out[i++] = num;
    }
  }
  return out;
}
}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvcHVibGljRW5jcnlwdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHBhcnNlS2V5cyA9IHJlcXVpcmUoJ3BhcnNlLWFzbjEnKTtcbnZhciByYW5kb21CeXRlcyA9IHJlcXVpcmUoJ3JhbmRvbWJ5dGVzJyk7XG52YXIgY3JlYXRlSGFzaCA9IHJlcXVpcmUoJ2NyZWF0ZS1oYXNoJyk7XG52YXIgbWdmID0gcmVxdWlyZSgnLi9tZ2YnKTtcbnZhciB4b3IgPSByZXF1aXJlKCcuL3hvcicpO1xudmFyIGJuID0gcmVxdWlyZSgnYm4uanMnKTtcbnZhciB3aXRoUHVibGljID0gcmVxdWlyZSgnLi93aXRoUHVibGljJyk7XG52YXIgY3J0ID0gcmVxdWlyZSgnYnJvd3NlcmlmeS1yc2EnKTtcblxudmFyIGNvbnN0YW50cyA9IHtcbiAgUlNBX1BLQ1MxX09BRVBfUEFERElORzogNCxcbiAgUlNBX1BLQ1MxX1BBRERJTjogMSxcbiAgUlNBX05PX1BBRERJTkc6IDNcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcHVibGljRW5jcnlwdChwdWJsaWNfa2V5LCBtc2csIHJldmVyc2UpIHtcbiAgdmFyIHBhZGRpbmc7XG4gIGlmIChwdWJsaWNfa2V5LnBhZGRpbmcpIHtcbiAgICBwYWRkaW5nID0gcHVibGljX2tleS5wYWRkaW5nO1xuICB9IGVsc2UgaWYgKHJldmVyc2UpIHtcbiAgICBwYWRkaW5nID0gMTtcbiAgfSBlbHNlIHtcbiAgICBwYWRkaW5nID0gNDtcbiAgfVxuICB2YXIga2V5ID0gcGFyc2VLZXlzKHB1YmxpY19rZXkpO1xuICB2YXIgcGFkZGVkTXNnO1xuICBpZiAocGFkZGluZyA9PT0gNCkge1xuICAgIHBhZGRlZE1zZyA9IG9hZXAoa2V5LCBtc2cpO1xuICB9IGVsc2UgaWYgKHBhZGRpbmcgPT09IDEpIHtcbiAgICBwYWRkZWRNc2cgPSBwa2NzMShrZXksIG1zZywgcmV2ZXJzZSk7XG4gIH0gZWxzZSBpZiAocGFkZGluZyA9PT0gMykge1xuICAgIHBhZGRlZE1zZyA9IG5ldyBibihtc2cpO1xuICAgIGlmIChwYWRkZWRNc2cuY21wKGtleS5tb2R1bHVzKSA+PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2RhdGEgdG9vIGxvbmcgZm9yIG1vZHVsdXMnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIHBhZGRpbmcnKTtcbiAgfVxuICBpZiAocmV2ZXJzZSkge1xuICAgIHJldHVybiBjcnQocGFkZGVkTXNnLCBrZXkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB3aXRoUHVibGljKHBhZGRlZE1zZywga2V5KTtcbiAgfVxufTtcblxuZnVuY3Rpb24gb2FlcChrZXksIG1zZyl7XG4gIHZhciBrID0ga2V5Lm1vZHVsdXMuYnl0ZUxlbmd0aCgpO1xuICB2YXIgbUxlbiA9IG1zZy5sZW5ndGg7XG4gIHZhciBpSGFzaCA9IGNyZWF0ZUhhc2goJ3NoYTEnKS51cGRhdGUobmV3IEJ1ZmZlcignJykpLmRpZ2VzdCgpO1xuICB2YXIgaExlbiA9IGlIYXNoLmxlbmd0aDtcbiAgdmFyIGhMZW4yID0gMiAqIGhMZW47XG4gIGlmIChtTGVuID4gayAtIGhMZW4yIC0gMikge1xuICAgIHRocm93IG5ldyBFcnJvcignbWVzc2FnZSB0b28gbG9uZycpO1xuICB9XG4gIHZhciBwcyA9IG5ldyBCdWZmZXIoayAtIG1MZW4gLSBoTGVuMiAtIDIpO1xuICBwcy5maWxsKDApO1xuICB2YXIgZGJsZW4gPSBrIC0gaExlbiAtIDE7XG4gIHZhciBzZWVkID0gcmFuZG9tQnl0ZXMoaExlbik7XG4gIHZhciBtYXNrZWREYiA9IHhvcihCdWZmZXIuY29uY2F0KFtpSGFzaCwgcHMsIG5ldyBCdWZmZXIoWzFdKSwgbXNnXSwgZGJsZW4pLCBtZ2Yoc2VlZCwgZGJsZW4pKTtcbiAgdmFyIG1hc2tlZFNlZWQgPSB4b3Ioc2VlZCwgbWdmKG1hc2tlZERiLCBoTGVuKSk7XG4gIHJldHVybiBuZXcgYm4oQnVmZmVyLmNvbmNhdChbbmV3IEJ1ZmZlcihbMF0pLCBtYXNrZWRTZWVkLCBtYXNrZWREYl0sIGspKTtcbn1cbmZ1bmN0aW9uIHBrY3MxKGtleSwgbXNnLCByZXZlcnNlKXtcbiAgdmFyIG1MZW4gPSBtc2cubGVuZ3RoO1xuICB2YXIgayA9IGtleS5tb2R1bHVzLmJ5dGVMZW5ndGgoKTtcbiAgaWYgKG1MZW4gPiBrIC0gMTEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21lc3NhZ2UgdG9vIGxvbmcnKTtcbiAgfVxuICB2YXIgcHM7XG4gIGlmIChyZXZlcnNlKSB7XG4gICAgcHMgPSBuZXcgQnVmZmVyKGsgLSBtTGVuIC0gMyk7XG4gICAgcHMuZmlsbCgweGZmKTtcbiAgfSBlbHNlIHtcbiAgICBwcyA9IG5vblplcm8oayAtIG1MZW4gLSAzKTtcbiAgfVxuICByZXR1cm4gbmV3IGJuKEJ1ZmZlci5jb25jYXQoW25ldyBCdWZmZXIoWzAsIHJldmVyc2U/MToyXSksIHBzLCBuZXcgQnVmZmVyKFswXSksIG1zZ10sIGspKTtcbn1cbmZ1bmN0aW9uIG5vblplcm8obGVuLCBjcnlwdG8pIHtcbiAgdmFyIG91dCA9IG5ldyBCdWZmZXIobGVuKTtcbiAgdmFyIGkgPSAwO1xuICB2YXIgY2FjaGUgPSByYW5kb21CeXRlcyhsZW4qMik7XG4gIHZhciBjdXIgPSAwO1xuICB2YXIgbnVtO1xuICB3aGlsZSAoaSA8IGxlbikge1xuICAgIGlmIChjdXIgPT09IGNhY2hlLmxlbmd0aCkge1xuICAgICAgY2FjaGUgPSByYW5kb21CeXRlcyhsZW4qMik7XG4gICAgICBjdXIgPSAwO1xuICAgIH1cbiAgICBudW0gPSBjYWNoZVtjdXIrK107XG4gICAgaWYgKG51bSkge1xuICAgICAgb3V0W2krK10gPSBudW07XG4gICAgfVxuICB9XG4gIHJldHVybiBvdXQ7XG59Il19
},{"./mgf":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/mgf.js","./withPublic":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/withPublic.js","./xor":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/xor.js","bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/bn.js/lib/bn.js","browserify-rsa":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/browserify-rsa/index.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","create-hash":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/browser.js","parse-asn1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/index.js","randombytes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/randombytes/browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/privateDecrypt.js":[function(require,module,exports){
(function (Buffer){
var parseKeys = require('parse-asn1');
var mgf = require('./mgf');
var xor = require('./xor');
var bn = require('bn.js');
var crt = require('browserify-rsa');
var createHash = require('create-hash');
var withPublic = require('./withPublic');
module.exports = function privateDecrypt(private_key, enc, reverse) {
  var padding;
  if (private_key.padding) {
    padding = private_key.padding;
  } else if (reverse) {
    padding = 1;
  } else {
    padding = 4;
  }
  
  var key = parseKeys(private_key);
  var k = key.modulus.byteLength();
  if (enc.length > k || new bn(enc).cmp(key.modulus) >= 0) {
    throw new Error('decryption error');
  }
  var msg;
  if (reverse) {
    msg = withPublic(new bn(enc), key);
  } else {
    msg = crt(enc, key);
  }
  var zBuffer = new Buffer(k - msg.length);
  zBuffer.fill(0);
  msg = Buffer.concat([zBuffer, msg], k);
  if (padding === 4) {
    return oaep(key, msg);
  } else if (padding === 1) {
    return pkcs1(key, msg, reverse);
  } else if (padding === 3) {
    return msg;
  } else {
    throw new Error('unknown padding');
  }
};

function oaep(key, msg){
  var n = key.modulus;
  var k = key.modulus.byteLength();
  var mLen = msg.length;
  var iHash = createHash('sha1').update(new Buffer('')).digest();
  var hLen = iHash.length;
  var hLen2 = 2 * hLen;
  if (msg[0] !== 0) {
    throw new Error('decryption error');
  }
  var maskedSeed = msg.slice(1, hLen + 1);
  var maskedDb =  msg.slice(hLen + 1);
  var seed = xor(maskedSeed, mgf(maskedDb, hLen));
  var db = xor(maskedDb, mgf(seed, k - hLen - 1));
  if (compare(iHash, db.slice(0, hLen))) {
    throw new Error('decryption error');
  }
  var i = hLen;
  while (db[i] === 0) {
    i++;
  }
  if (db[i++] !== 1) {
    throw new Error('decryption error');
  }
  return db.slice(i);
}

function pkcs1(key, msg, reverse){
  var p1 = msg.slice(0, 2);
  var i = 2;
  var status = 0;
  while (msg[i++] !== 0) {
    if (i >= msg.length) {
      status++;
      break;
    }
  }
  var ps = msg.slice(2, i - 1);
  var p2 = msg.slice(i - 1, i);

  if ((p1.toString('hex') !== '0002' && !reverse) || (p1.toString('hex') !== '0001' && reverse)){
    status++;
  }
  if (ps.length < 8) {
    status++;
  }
  if (status) {
    throw new Error('decryption error');
  }
  return  msg.slice(i);
}
function compare(a, b){
  a = new Buffer(a);
  b = new Buffer(b);
  var dif = 0;
  var len = a.length;
  if (a.length !== b.length) {
    dif++;
    len = Math.min(a.length, b.length);
  }
  var i = -1;
  while (++i < len) {
    dif += (a[i] ^ b[i]);
  }
  return dif;
}
}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvcHJpdmF0ZURlY3J5cHQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHBhcnNlS2V5cyA9IHJlcXVpcmUoJ3BhcnNlLWFzbjEnKTtcbnZhciBtZ2YgPSByZXF1aXJlKCcuL21nZicpO1xudmFyIHhvciA9IHJlcXVpcmUoJy4veG9yJyk7XG52YXIgYm4gPSByZXF1aXJlKCdibi5qcycpO1xudmFyIGNydCA9IHJlcXVpcmUoJ2Jyb3dzZXJpZnktcnNhJyk7XG52YXIgY3JlYXRlSGFzaCA9IHJlcXVpcmUoJ2NyZWF0ZS1oYXNoJyk7XG52YXIgd2l0aFB1YmxpYyA9IHJlcXVpcmUoJy4vd2l0aFB1YmxpYycpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwcml2YXRlRGVjcnlwdChwcml2YXRlX2tleSwgZW5jLCByZXZlcnNlKSB7XG4gIHZhciBwYWRkaW5nO1xuICBpZiAocHJpdmF0ZV9rZXkucGFkZGluZykge1xuICAgIHBhZGRpbmcgPSBwcml2YXRlX2tleS5wYWRkaW5nO1xuICB9IGVsc2UgaWYgKHJldmVyc2UpIHtcbiAgICBwYWRkaW5nID0gMTtcbiAgfSBlbHNlIHtcbiAgICBwYWRkaW5nID0gNDtcbiAgfVxuICBcbiAgdmFyIGtleSA9IHBhcnNlS2V5cyhwcml2YXRlX2tleSk7XG4gIHZhciBrID0ga2V5Lm1vZHVsdXMuYnl0ZUxlbmd0aCgpO1xuICBpZiAoZW5jLmxlbmd0aCA+IGsgfHwgbmV3IGJuKGVuYykuY21wKGtleS5tb2R1bHVzKSA+PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdkZWNyeXB0aW9uIGVycm9yJyk7XG4gIH1cbiAgdmFyIG1zZztcbiAgaWYgKHJldmVyc2UpIHtcbiAgICBtc2cgPSB3aXRoUHVibGljKG5ldyBibihlbmMpLCBrZXkpO1xuICB9IGVsc2Uge1xuICAgIG1zZyA9IGNydChlbmMsIGtleSk7XG4gIH1cbiAgdmFyIHpCdWZmZXIgPSBuZXcgQnVmZmVyKGsgLSBtc2cubGVuZ3RoKTtcbiAgekJ1ZmZlci5maWxsKDApO1xuICBtc2cgPSBCdWZmZXIuY29uY2F0KFt6QnVmZmVyLCBtc2ddLCBrKTtcbiAgaWYgKHBhZGRpbmcgPT09IDQpIHtcbiAgICByZXR1cm4gb2FlcChrZXksIG1zZyk7XG4gIH0gZWxzZSBpZiAocGFkZGluZyA9PT0gMSkge1xuICAgIHJldHVybiBwa2NzMShrZXksIG1zZywgcmV2ZXJzZSk7XG4gIH0gZWxzZSBpZiAocGFkZGluZyA9PT0gMykge1xuICAgIHJldHVybiBtc2c7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIHBhZGRpbmcnKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gb2FlcChrZXksIG1zZyl7XG4gIHZhciBuID0ga2V5Lm1vZHVsdXM7XG4gIHZhciBrID0ga2V5Lm1vZHVsdXMuYnl0ZUxlbmd0aCgpO1xuICB2YXIgbUxlbiA9IG1zZy5sZW5ndGg7XG4gIHZhciBpSGFzaCA9IGNyZWF0ZUhhc2goJ3NoYTEnKS51cGRhdGUobmV3IEJ1ZmZlcignJykpLmRpZ2VzdCgpO1xuICB2YXIgaExlbiA9IGlIYXNoLmxlbmd0aDtcbiAgdmFyIGhMZW4yID0gMiAqIGhMZW47XG4gIGlmIChtc2dbMF0gIT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2RlY3J5cHRpb24gZXJyb3InKTtcbiAgfVxuICB2YXIgbWFza2VkU2VlZCA9IG1zZy5zbGljZSgxLCBoTGVuICsgMSk7XG4gIHZhciBtYXNrZWREYiA9ICBtc2cuc2xpY2UoaExlbiArIDEpO1xuICB2YXIgc2VlZCA9IHhvcihtYXNrZWRTZWVkLCBtZ2YobWFza2VkRGIsIGhMZW4pKTtcbiAgdmFyIGRiID0geG9yKG1hc2tlZERiLCBtZ2Yoc2VlZCwgayAtIGhMZW4gLSAxKSk7XG4gIGlmIChjb21wYXJlKGlIYXNoLCBkYi5zbGljZSgwLCBoTGVuKSkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2RlY3J5cHRpb24gZXJyb3InKTtcbiAgfVxuICB2YXIgaSA9IGhMZW47XG4gIHdoaWxlIChkYltpXSA9PT0gMCkge1xuICAgIGkrKztcbiAgfVxuICBpZiAoZGJbaSsrXSAhPT0gMSkge1xuICAgIHRocm93IG5ldyBFcnJvcignZGVjcnlwdGlvbiBlcnJvcicpO1xuICB9XG4gIHJldHVybiBkYi5zbGljZShpKTtcbn1cblxuZnVuY3Rpb24gcGtjczEoa2V5LCBtc2csIHJldmVyc2Upe1xuICB2YXIgcDEgPSBtc2cuc2xpY2UoMCwgMik7XG4gIHZhciBpID0gMjtcbiAgdmFyIHN0YXR1cyA9IDA7XG4gIHdoaWxlIChtc2dbaSsrXSAhPT0gMCkge1xuICAgIGlmIChpID49IG1zZy5sZW5ndGgpIHtcbiAgICAgIHN0YXR1cysrO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHZhciBwcyA9IG1zZy5zbGljZSgyLCBpIC0gMSk7XG4gIHZhciBwMiA9IG1zZy5zbGljZShpIC0gMSwgaSk7XG5cbiAgaWYgKChwMS50b1N0cmluZygnaGV4JykgIT09ICcwMDAyJyAmJiAhcmV2ZXJzZSkgfHwgKHAxLnRvU3RyaW5nKCdoZXgnKSAhPT0gJzAwMDEnICYmIHJldmVyc2UpKXtcbiAgICBzdGF0dXMrKztcbiAgfVxuICBpZiAocHMubGVuZ3RoIDwgOCkge1xuICAgIHN0YXR1cysrO1xuICB9XG4gIGlmIChzdGF0dXMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2RlY3J5cHRpb24gZXJyb3InKTtcbiAgfVxuICByZXR1cm4gIG1zZy5zbGljZShpKTtcbn1cbmZ1bmN0aW9uIGNvbXBhcmUoYSwgYil7XG4gIGEgPSBuZXcgQnVmZmVyKGEpO1xuICBiID0gbmV3IEJ1ZmZlcihiKTtcbiAgdmFyIGRpZiA9IDA7XG4gIHZhciBsZW4gPSBhLmxlbmd0aDtcbiAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgIGRpZisrO1xuICAgIGxlbiA9IE1hdGgubWluKGEubGVuZ3RoLCBiLmxlbmd0aCk7XG4gIH1cbiAgdmFyIGkgPSAtMTtcbiAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgIGRpZiArPSAoYVtpXSBeIGJbaV0pO1xuICB9XG4gIHJldHVybiBkaWY7XG59Il19
},{"./mgf":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/mgf.js","./withPublic":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/withPublic.js","./xor":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/xor.js","bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/bn.js/lib/bn.js","browserify-rsa":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/browserify-rsa/index.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","create-hash":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/browser.js","parse-asn1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/xor.js":[function(require,module,exports){
module.exports = function xor(a, b) {
  var len = a.length;
  var i = -1;
  while (++i < len) {
    a[i] ^= b[i];
  }
  return a
};
},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/withPublic.js":[function(require,module,exports){
(function (Buffer){
var bn = require('bn.js');
function withPublic(paddedMsg, key) {
  return new Buffer(paddedMsg
    .toRed(bn.mont(key.modulus))
    .redPow(new bn(key.publicExponent))
    .fromRed()
    .toArray());
}

module.exports = withPublic;
}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvd2l0aFB1YmxpYy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBibiA9IHJlcXVpcmUoJ2JuLmpzJyk7XG5mdW5jdGlvbiB3aXRoUHVibGljKHBhZGRlZE1zZywga2V5KSB7XG4gIHJldHVybiBuZXcgQnVmZmVyKHBhZGRlZE1zZ1xuICAgIC50b1JlZChibi5tb250KGtleS5tb2R1bHVzKSlcbiAgICAucmVkUG93KG5ldyBibihrZXkucHVibGljRXhwb25lbnQpKVxuICAgIC5mcm9tUmVkKClcbiAgICAudG9BcnJheSgpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3aXRoUHVibGljOyJdfQ==
},{"bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/bn.js/lib/bn.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/index.js":[function(require,module,exports){
(function (Buffer){
var asn1 = require('./asn1')
var aesid = require('./aesid.json')
var fixProc = require('./fixProc')
var ciphers = require('browserify-aes')
var compat = require('pbkdf2')
module.exports = parseKeys

function parseKeys (buffer) {
  var password
  if (typeof buffer === 'object' && !Buffer.isBuffer(buffer)) {
    password = buffer.passphrase
    buffer = buffer.key
  }
  if (typeof buffer === 'string') {
    buffer = new Buffer(buffer)
  }

  var stripped = fixProc(buffer, password)

  var type = stripped.tag
  var data = stripped.data
  var subtype, ndata
  switch (type) {
    case 'PUBLIC KEY':
      ndata = asn1.PublicKey.decode(data, 'der')
      subtype = ndata.algorithm.algorithm.join('.')
      switch (subtype) {
        case '1.2.840.113549.1.1.1':
          return asn1.RSAPublicKey.decode(ndata.subjectPublicKey.data, 'der')
        case '1.2.840.10045.2.1':
          ndata.subjectPrivateKey = ndata.subjectPublicKey
          return {
            type: 'ec',
            data: ndata
          }
        case '1.2.840.10040.4.1':
          ndata.algorithm.params.pub_key = asn1.DSAparam.decode(ndata.subjectPublicKey.data, 'der')
          return {
            type: 'dsa',
            data: ndata.algorithm.params
          }
        default: throw new Error('unknown key id ' + subtype)
      }
      throw new Error('unknown key type ' + type)
    case 'ENCRYPTED PRIVATE KEY':
      data = asn1.EncryptedPrivateKey.decode(data, 'der')
      data = decrypt(data, password)
      // falls through
    case 'PRIVATE KEY':
      ndata = asn1.PrivateKey.decode(data, 'der')
      subtype = ndata.algorithm.algorithm.join('.')
      switch (subtype) {
        case '1.2.840.113549.1.1.1':
          return asn1.RSAPrivateKey.decode(ndata.subjectPrivateKey, 'der')
        case '1.2.840.10045.2.1':
          return {
            curve: ndata.algorithm.curve,
            privateKey: asn1.ECPrivateKey.decode(ndata.subjectPrivateKey, 'der').privateKey
          }
        case '1.2.840.10040.4.1':
          ndata.algorithm.params.priv_key = asn1.DSAparam.decode(ndata.subjectPrivateKey, 'der')
          return {
            type: 'dsa',
            params: ndata.algorithm.params
          }
        default: throw new Error('unknown key id ' + subtype)
      }
      throw new Error('unknown key type ' + type)
    case 'RSA PUBLIC KEY':
      return asn1.RSAPublicKey.decode(data, 'der')
    case 'RSA PRIVATE KEY':
      return asn1.RSAPrivateKey.decode(data, 'der')
    case 'DSA PRIVATE KEY':
      return {
        type: 'dsa',
        params: asn1.DSAPrivateKey.decode(data, 'der')
      }
    case 'EC PRIVATE KEY':
      data = asn1.ECPrivateKey.decode(data, 'der')
      return {
        curve: data.parameters.value,
        privateKey: data.privateKey
      }
    default: throw new Error('unknown key type ' + type)
  }
}
parseKeys.signature = asn1.signature
function decrypt (data, password) {
  var salt = data.algorithm.decrypt.kde.kdeparams.salt
  var iters = parseInt(data.algorithm.decrypt.kde.kdeparams.iters.toString(), 10)
  var algo = aesid[data.algorithm.decrypt.cipher.algo.join('.')]
  var iv = data.algorithm.decrypt.cipher.iv
  var cipherText = data.subjectPrivateKey
  var keylen = parseInt(algo.split('-')[1], 10) / 8
  var key = compat.pbkdf2Sync(password, salt, iters, keylen)
  var cipher = ciphers.createDecipheriv(algo, key, iv)
  var out = []
  out.push(cipher.update(cipherText))
  out.push(cipher.final())
  return Buffer.concat(out)
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFzbjEgPSByZXF1aXJlKCcuL2FzbjEnKVxudmFyIGFlc2lkID0gcmVxdWlyZSgnLi9hZXNpZC5qc29uJylcbnZhciBmaXhQcm9jID0gcmVxdWlyZSgnLi9maXhQcm9jJylcbnZhciBjaXBoZXJzID0gcmVxdWlyZSgnYnJvd3NlcmlmeS1hZXMnKVxudmFyIGNvbXBhdCA9IHJlcXVpcmUoJ3Bia2RmMicpXG5tb2R1bGUuZXhwb3J0cyA9IHBhcnNlS2V5c1xuXG5mdW5jdGlvbiBwYXJzZUtleXMgKGJ1ZmZlcikge1xuICB2YXIgcGFzc3dvcmRcbiAgaWYgKHR5cGVvZiBidWZmZXIgPT09ICdvYmplY3QnICYmICFCdWZmZXIuaXNCdWZmZXIoYnVmZmVyKSkge1xuICAgIHBhc3N3b3JkID0gYnVmZmVyLnBhc3NwaHJhc2VcbiAgICBidWZmZXIgPSBidWZmZXIua2V5XG4gIH1cbiAgaWYgKHR5cGVvZiBidWZmZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgYnVmZmVyID0gbmV3IEJ1ZmZlcihidWZmZXIpXG4gIH1cblxuICB2YXIgc3RyaXBwZWQgPSBmaXhQcm9jKGJ1ZmZlciwgcGFzc3dvcmQpXG5cbiAgdmFyIHR5cGUgPSBzdHJpcHBlZC50YWdcbiAgdmFyIGRhdGEgPSBzdHJpcHBlZC5kYXRhXG4gIHZhciBzdWJ0eXBlLCBuZGF0YVxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdQVUJMSUMgS0VZJzpcbiAgICAgIG5kYXRhID0gYXNuMS5QdWJsaWNLZXkuZGVjb2RlKGRhdGEsICdkZXInKVxuICAgICAgc3VidHlwZSA9IG5kYXRhLmFsZ29yaXRobS5hbGdvcml0aG0uam9pbignLicpXG4gICAgICBzd2l0Y2ggKHN1YnR5cGUpIHtcbiAgICAgICAgY2FzZSAnMS4yLjg0MC4xMTM1NDkuMS4xLjEnOlxuICAgICAgICAgIHJldHVybiBhc24xLlJTQVB1YmxpY0tleS5kZWNvZGUobmRhdGEuc3ViamVjdFB1YmxpY0tleS5kYXRhLCAnZGVyJylcbiAgICAgICAgY2FzZSAnMS4yLjg0MC4xMDA0NS4yLjEnOlxuICAgICAgICAgIG5kYXRhLnN1YmplY3RQcml2YXRlS2V5ID0gbmRhdGEuc3ViamVjdFB1YmxpY0tleVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnZWMnLFxuICAgICAgICAgICAgZGF0YTogbmRhdGFcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJzEuMi44NDAuMTAwNDAuNC4xJzpcbiAgICAgICAgICBuZGF0YS5hbGdvcml0aG0ucGFyYW1zLnB1Yl9rZXkgPSBhc24xLkRTQXBhcmFtLmRlY29kZShuZGF0YS5zdWJqZWN0UHVibGljS2V5LmRhdGEsICdkZXInKVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnZHNhJyxcbiAgICAgICAgICAgIGRhdGE6IG5kYXRhLmFsZ29yaXRobS5wYXJhbXNcbiAgICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcigndW5rbm93biBrZXkgaWQgJyArIHN1YnR5cGUpXG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24ga2V5IHR5cGUgJyArIHR5cGUpXG4gICAgY2FzZSAnRU5DUllQVEVEIFBSSVZBVEUgS0VZJzpcbiAgICAgIGRhdGEgPSBhc24xLkVuY3J5cHRlZFByaXZhdGVLZXkuZGVjb2RlKGRhdGEsICdkZXInKVxuICAgICAgZGF0YSA9IGRlY3J5cHQoZGF0YSwgcGFzc3dvcmQpXG4gICAgICAvLyBmYWxscyB0aHJvdWdoXG4gICAgY2FzZSAnUFJJVkFURSBLRVknOlxuICAgICAgbmRhdGEgPSBhc24xLlByaXZhdGVLZXkuZGVjb2RlKGRhdGEsICdkZXInKVxuICAgICAgc3VidHlwZSA9IG5kYXRhLmFsZ29yaXRobS5hbGdvcml0aG0uam9pbignLicpXG4gICAgICBzd2l0Y2ggKHN1YnR5cGUpIHtcbiAgICAgICAgY2FzZSAnMS4yLjg0MC4xMTM1NDkuMS4xLjEnOlxuICAgICAgICAgIHJldHVybiBhc24xLlJTQVByaXZhdGVLZXkuZGVjb2RlKG5kYXRhLnN1YmplY3RQcml2YXRlS2V5LCAnZGVyJylcbiAgICAgICAgY2FzZSAnMS4yLjg0MC4xMDA0NS4yLjEnOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjdXJ2ZTogbmRhdGEuYWxnb3JpdGhtLmN1cnZlLFxuICAgICAgICAgICAgcHJpdmF0ZUtleTogYXNuMS5FQ1ByaXZhdGVLZXkuZGVjb2RlKG5kYXRhLnN1YmplY3RQcml2YXRlS2V5LCAnZGVyJykucHJpdmF0ZUtleVxuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAnMS4yLjg0MC4xMDA0MC40LjEnOlxuICAgICAgICAgIG5kYXRhLmFsZ29yaXRobS5wYXJhbXMucHJpdl9rZXkgPSBhc24xLkRTQXBhcmFtLmRlY29kZShuZGF0YS5zdWJqZWN0UHJpdmF0ZUtleSwgJ2RlcicpXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdkc2EnLFxuICAgICAgICAgICAgcGFyYW1zOiBuZGF0YS5hbGdvcml0aG0ucGFyYW1zXG4gICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24ga2V5IGlkICcgKyBzdWJ0eXBlKVxuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGtleSB0eXBlICcgKyB0eXBlKVxuICAgIGNhc2UgJ1JTQSBQVUJMSUMgS0VZJzpcbiAgICAgIHJldHVybiBhc24xLlJTQVB1YmxpY0tleS5kZWNvZGUoZGF0YSwgJ2RlcicpXG4gICAgY2FzZSAnUlNBIFBSSVZBVEUgS0VZJzpcbiAgICAgIHJldHVybiBhc24xLlJTQVByaXZhdGVLZXkuZGVjb2RlKGRhdGEsICdkZXInKVxuICAgIGNhc2UgJ0RTQSBQUklWQVRFIEtFWSc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnZHNhJyxcbiAgICAgICAgcGFyYW1zOiBhc24xLkRTQVByaXZhdGVLZXkuZGVjb2RlKGRhdGEsICdkZXInKVxuICAgICAgfVxuICAgIGNhc2UgJ0VDIFBSSVZBVEUgS0VZJzpcbiAgICAgIGRhdGEgPSBhc24xLkVDUHJpdmF0ZUtleS5kZWNvZGUoZGF0YSwgJ2RlcicpXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjdXJ2ZTogZGF0YS5wYXJhbWV0ZXJzLnZhbHVlLFxuICAgICAgICBwcml2YXRlS2V5OiBkYXRhLnByaXZhdGVLZXlcbiAgICAgIH1cbiAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24ga2V5IHR5cGUgJyArIHR5cGUpXG4gIH1cbn1cbnBhcnNlS2V5cy5zaWduYXR1cmUgPSBhc24xLnNpZ25hdHVyZVxuZnVuY3Rpb24gZGVjcnlwdCAoZGF0YSwgcGFzc3dvcmQpIHtcbiAgdmFyIHNhbHQgPSBkYXRhLmFsZ29yaXRobS5kZWNyeXB0LmtkZS5rZGVwYXJhbXMuc2FsdFxuICB2YXIgaXRlcnMgPSBwYXJzZUludChkYXRhLmFsZ29yaXRobS5kZWNyeXB0LmtkZS5rZGVwYXJhbXMuaXRlcnMudG9TdHJpbmcoKSwgMTApXG4gIHZhciBhbGdvID0gYWVzaWRbZGF0YS5hbGdvcml0aG0uZGVjcnlwdC5jaXBoZXIuYWxnby5qb2luKCcuJyldXG4gIHZhciBpdiA9IGRhdGEuYWxnb3JpdGhtLmRlY3J5cHQuY2lwaGVyLml2XG4gIHZhciBjaXBoZXJUZXh0ID0gZGF0YS5zdWJqZWN0UHJpdmF0ZUtleVxuICB2YXIga2V5bGVuID0gcGFyc2VJbnQoYWxnby5zcGxpdCgnLScpWzFdLCAxMCkgLyA4XG4gIHZhciBrZXkgPSBjb21wYXQucGJrZGYyU3luYyhwYXNzd29yZCwgc2FsdCwgaXRlcnMsIGtleWxlbilcbiAgdmFyIGNpcGhlciA9IGNpcGhlcnMuY3JlYXRlRGVjaXBoZXJpdihhbGdvLCBrZXksIGl2KVxuICB2YXIgb3V0ID0gW11cbiAgb3V0LnB1c2goY2lwaGVyLnVwZGF0ZShjaXBoZXJUZXh0KSlcbiAgb3V0LnB1c2goY2lwaGVyLmZpbmFsKCkpXG4gIHJldHVybiBCdWZmZXIuY29uY2F0KG91dClcbn1cbiJdfQ==
},{"./aesid.json":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/aesid.json","./asn1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/asn1.js","./fixProc":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/fixProc.js","browserify-aes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/browser.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","pbkdf2":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/pbkdf2/browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/fixProc.js":[function(require,module,exports){
(function (Buffer){
// adapted from https://github.com/apatil/pemstrip
var findProc = /Proc-Type: 4,ENCRYPTED\r?\nDEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\r?\n\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n/m
var startRegex = /^-----BEGIN (.*) KEY-----\r?\n/m
var fullRegex = /^-----BEGIN (.*) KEY-----\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n-----END \1 KEY-----$/m
var evp = require('evp_bytestokey')
var ciphers = require('browserify-aes')
module.exports = function (okey, password) {
  var key = okey.toString()
  var match = key.match(findProc)
  var decrypted
  if (!match) {
    var match2 = key.match(fullRegex)
    decrypted = new Buffer(match2[2].replace(/\r?\n/g, ''), 'base64')
  } else {
    var suite = 'aes' + match[1]
    var iv = new Buffer(match[2], 'hex')
    var cipherText = new Buffer(match[3].replace(/\r?\n/g, ''), 'base64')
    var cipherKey = evp(password, iv.slice(0, 8), parseInt(match[1], 10)).key
    var out = []
    var cipher = ciphers.createDecipheriv(suite, cipherKey, iv)
    out.push(cipher.update(cipherText))
    out.push(cipher.final())
    decrypted = Buffer.concat(out)
  }
  var tag = key.match(startRegex)[1] + ' KEY'
  return {
    tag: tag,
    data: decrypted
  }
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvZml4UHJvYy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIi8vIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vYXBhdGlsL3BlbXN0cmlwXG52YXIgZmluZFByb2MgPSAvUHJvYy1UeXBlOiA0LEVOQ1JZUFRFRFxccj9cXG5ERUstSW5mbzogQUVTLSgoPzoxMjgpfCg/OjE5Mil8KD86MjU2KSktQ0JDLChbMC05QS1IXSspXFxyP1xcblxccj9cXG4oWzAtOUEtelxcblxcclxcK1xcL1xcPV0rKVxccj9cXG4vbVxudmFyIHN0YXJ0UmVnZXggPSAvXi0tLS0tQkVHSU4gKC4qKSBLRVktLS0tLVxccj9cXG4vbVxudmFyIGZ1bGxSZWdleCA9IC9eLS0tLS1CRUdJTiAoLiopIEtFWS0tLS0tXFxyP1xcbihbMC05QS16XFxuXFxyXFwrXFwvXFw9XSspXFxyP1xcbi0tLS0tRU5EIFxcMSBLRVktLS0tLSQvbVxudmFyIGV2cCA9IHJlcXVpcmUoJ2V2cF9ieXRlc3Rva2V5JylcbnZhciBjaXBoZXJzID0gcmVxdWlyZSgnYnJvd3NlcmlmeS1hZXMnKVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob2tleSwgcGFzc3dvcmQpIHtcbiAgdmFyIGtleSA9IG9rZXkudG9TdHJpbmcoKVxuICB2YXIgbWF0Y2ggPSBrZXkubWF0Y2goZmluZFByb2MpXG4gIHZhciBkZWNyeXB0ZWRcbiAgaWYgKCFtYXRjaCkge1xuICAgIHZhciBtYXRjaDIgPSBrZXkubWF0Y2goZnVsbFJlZ2V4KVxuICAgIGRlY3J5cHRlZCA9IG5ldyBCdWZmZXIobWF0Y2gyWzJdLnJlcGxhY2UoL1xccj9cXG4vZywgJycpLCAnYmFzZTY0JylcbiAgfSBlbHNlIHtcbiAgICB2YXIgc3VpdGUgPSAnYWVzJyArIG1hdGNoWzFdXG4gICAgdmFyIGl2ID0gbmV3IEJ1ZmZlcihtYXRjaFsyXSwgJ2hleCcpXG4gICAgdmFyIGNpcGhlclRleHQgPSBuZXcgQnVmZmVyKG1hdGNoWzNdLnJlcGxhY2UoL1xccj9cXG4vZywgJycpLCAnYmFzZTY0JylcbiAgICB2YXIgY2lwaGVyS2V5ID0gZXZwKHBhc3N3b3JkLCBpdi5zbGljZSgwLCA4KSwgcGFyc2VJbnQobWF0Y2hbMV0sIDEwKSkua2V5XG4gICAgdmFyIG91dCA9IFtdXG4gICAgdmFyIGNpcGhlciA9IGNpcGhlcnMuY3JlYXRlRGVjaXBoZXJpdihzdWl0ZSwgY2lwaGVyS2V5LCBpdilcbiAgICBvdXQucHVzaChjaXBoZXIudXBkYXRlKGNpcGhlclRleHQpKVxuICAgIG91dC5wdXNoKGNpcGhlci5maW5hbCgpKVxuICAgIGRlY3J5cHRlZCA9IEJ1ZmZlci5jb25jYXQob3V0KVxuICB9XG4gIHZhciB0YWcgPSBrZXkubWF0Y2goc3RhcnRSZWdleClbMV0gKyAnIEtFWSdcbiAgcmV0dXJuIHtcbiAgICB0YWc6IHRhZyxcbiAgICBkYXRhOiBkZWNyeXB0ZWRcbiAgfVxufVxuIl19
},{"browserify-aes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/browser.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","evp_bytestokey":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/evp_bytestokey/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/browser.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/browser.js"][0].apply(exports,arguments)
},{"./decrypter":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/decrypter.js","./encrypter":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/encrypter.js","./modes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/encrypter.js":[function(require,module,exports){
(function (Buffer){
var aes = require('./aes')
var Transform = require('cipher-base')
var inherits = require('inherits')
var modes = require('./modes')
var ebtk = require('evp_bytestokey')
var StreamCipher = require('./streamCipher')
var AuthCipher = require('./authCipher')
inherits(Cipher, Transform)
function Cipher (mode, key, iv) {
  if (!(this instanceof Cipher)) {
    return new Cipher(mode, key, iv)
  }
  Transform.call(this)
  this._cache = new Splitter()
  this._cipher = new aes.AES(key)
  this._prev = new Buffer(iv.length)
  iv.copy(this._prev)
  this._mode = mode
  this._autopadding = true
}
Cipher.prototype._update = function (data) {
  this._cache.add(data)
  var chunk
  var thing
  var out = []
  while ((chunk = this._cache.get())) {
    thing = this._mode.encrypt(this, chunk)
    out.push(thing)
  }
  return Buffer.concat(out)
}
Cipher.prototype._final = function () {
  var chunk = this._cache.flush()
  if (this._autopadding) {
    chunk = this._mode.encrypt(this, chunk)
    this._cipher.scrub()
    return chunk
  } else if (chunk.toString('hex') !== '10101010101010101010101010101010') {
    this._cipher.scrub()
    throw new Error('data not multiple of block length')
  }
}
Cipher.prototype.setAutoPadding = function (setTo) {
  this._autopadding = !!setTo
}

function Splitter () {
  if (!(this instanceof Splitter)) {
    return new Splitter()
  }
  this.cache = new Buffer('')
}
Splitter.prototype.add = function (data) {
  this.cache = Buffer.concat([this.cache, data])
}

Splitter.prototype.get = function () {
  if (this.cache.length > 15) {
    var out = this.cache.slice(0, 16)
    this.cache = this.cache.slice(16)
    return out
  }
  return null
}
Splitter.prototype.flush = function () {
  var len = 16 - this.cache.length
  var padBuff = new Buffer(len)

  var i = -1
  while (++i < len) {
    padBuff.writeUInt8(len, i)
  }
  var out = Buffer.concat([this.cache, padBuff])
  return out
}
var modelist = {
  ECB: require('./modes/ecb'),
  CBC: require('./modes/cbc'),
  CFB: require('./modes/cfb'),
  CFB8: require('./modes/cfb8'),
  CFB1: require('./modes/cfb1'),
  OFB: require('./modes/ofb'),
  CTR: require('./modes/ctr'),
  GCM: require('./modes/ctr')
}

function createCipheriv (suite, password, iv) {
  var config = modes[suite.toLowerCase()]
  if (!config) {
    throw new TypeError('invalid suite type')
  }
  if (typeof iv === 'string') {
    iv = new Buffer(iv)
  }
  if (typeof password === 'string') {
    password = new Buffer(password)
  }
  if (password.length !== config.key / 8) {
    throw new TypeError('invalid key length ' + password.length)
  }
  if (iv.length !== config.iv) {
    throw new TypeError('invalid iv length ' + iv.length)
  }
  if (config.type === 'stream') {
    return new StreamCipher(modelist[config.mode], password, iv)
  } else if (config.type === 'auth') {
    return new AuthCipher(modelist[config.mode], password, iv)
  }
  return new Cipher(modelist[config.mode], password, iv)
}
function createCipher (suite, password) {
  var config = modes[suite.toLowerCase()]
  if (!config) {
    throw new TypeError('invalid suite type')
  }
  var keys = ebtk(password, false, config.key, config.iv)
  return createCipheriv(suite, keys.key, keys.iv)
}

exports.createCipheriv = createCipheriv
exports.createCipher = createCipher

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL2VuY3J5cHRlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFlcyA9IHJlcXVpcmUoJy4vYWVzJylcbnZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCdjaXBoZXItYmFzZScpXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG52YXIgbW9kZXMgPSByZXF1aXJlKCcuL21vZGVzJylcbnZhciBlYnRrID0gcmVxdWlyZSgnZXZwX2J5dGVzdG9rZXknKVxudmFyIFN0cmVhbUNpcGhlciA9IHJlcXVpcmUoJy4vc3RyZWFtQ2lwaGVyJylcbnZhciBBdXRoQ2lwaGVyID0gcmVxdWlyZSgnLi9hdXRoQ2lwaGVyJylcbmluaGVyaXRzKENpcGhlciwgVHJhbnNmb3JtKVxuZnVuY3Rpb24gQ2lwaGVyIChtb2RlLCBrZXksIGl2KSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDaXBoZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBDaXBoZXIobW9kZSwga2V5LCBpdilcbiAgfVxuICBUcmFuc2Zvcm0uY2FsbCh0aGlzKVxuICB0aGlzLl9jYWNoZSA9IG5ldyBTcGxpdHRlcigpXG4gIHRoaXMuX2NpcGhlciA9IG5ldyBhZXMuQUVTKGtleSlcbiAgdGhpcy5fcHJldiA9IG5ldyBCdWZmZXIoaXYubGVuZ3RoKVxuICBpdi5jb3B5KHRoaXMuX3ByZXYpXG4gIHRoaXMuX21vZGUgPSBtb2RlXG4gIHRoaXMuX2F1dG9wYWRkaW5nID0gdHJ1ZVxufVxuQ2lwaGVyLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdGhpcy5fY2FjaGUuYWRkKGRhdGEpXG4gIHZhciBjaHVua1xuICB2YXIgdGhpbmdcbiAgdmFyIG91dCA9IFtdXG4gIHdoaWxlICgoY2h1bmsgPSB0aGlzLl9jYWNoZS5nZXQoKSkpIHtcbiAgICB0aGluZyA9IHRoaXMuX21vZGUuZW5jcnlwdCh0aGlzLCBjaHVuaylcbiAgICBvdXQucHVzaCh0aGluZylcbiAgfVxuICByZXR1cm4gQnVmZmVyLmNvbmNhdChvdXQpXG59XG5DaXBoZXIucHJvdG90eXBlLl9maW5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGNodW5rID0gdGhpcy5fY2FjaGUuZmx1c2goKVxuICBpZiAodGhpcy5fYXV0b3BhZGRpbmcpIHtcbiAgICBjaHVuayA9IHRoaXMuX21vZGUuZW5jcnlwdCh0aGlzLCBjaHVuaylcbiAgICB0aGlzLl9jaXBoZXIuc2NydWIoKVxuICAgIHJldHVybiBjaHVua1xuICB9IGVsc2UgaWYgKGNodW5rLnRvU3RyaW5nKCdoZXgnKSAhPT0gJzEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwJykge1xuICAgIHRoaXMuX2NpcGhlci5zY3J1YigpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdkYXRhIG5vdCBtdWx0aXBsZSBvZiBibG9jayBsZW5ndGgnKVxuICB9XG59XG5DaXBoZXIucHJvdG90eXBlLnNldEF1dG9QYWRkaW5nID0gZnVuY3Rpb24gKHNldFRvKSB7XG4gIHRoaXMuX2F1dG9wYWRkaW5nID0gISFzZXRUb1xufVxuXG5mdW5jdGlvbiBTcGxpdHRlciAoKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTcGxpdHRlcikpIHtcbiAgICByZXR1cm4gbmV3IFNwbGl0dGVyKClcbiAgfVxuICB0aGlzLmNhY2hlID0gbmV3IEJ1ZmZlcignJylcbn1cblNwbGl0dGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICB0aGlzLmNhY2hlID0gQnVmZmVyLmNvbmNhdChbdGhpcy5jYWNoZSwgZGF0YV0pXG59XG5cblNwbGl0dGVyLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmNhY2hlLmxlbmd0aCA+IDE1KSB7XG4gICAgdmFyIG91dCA9IHRoaXMuY2FjaGUuc2xpY2UoMCwgMTYpXG4gICAgdGhpcy5jYWNoZSA9IHRoaXMuY2FjaGUuc2xpY2UoMTYpXG4gICAgcmV0dXJuIG91dFxuICB9XG4gIHJldHVybiBudWxsXG59XG5TcGxpdHRlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBsZW4gPSAxNiAtIHRoaXMuY2FjaGUubGVuZ3RoXG4gIHZhciBwYWRCdWZmID0gbmV3IEJ1ZmZlcihsZW4pXG5cbiAgdmFyIGkgPSAtMVxuICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgcGFkQnVmZi53cml0ZVVJbnQ4KGxlbiwgaSlcbiAgfVxuICB2YXIgb3V0ID0gQnVmZmVyLmNvbmNhdChbdGhpcy5jYWNoZSwgcGFkQnVmZl0pXG4gIHJldHVybiBvdXRcbn1cbnZhciBtb2RlbGlzdCA9IHtcbiAgRUNCOiByZXF1aXJlKCcuL21vZGVzL2VjYicpLFxuICBDQkM6IHJlcXVpcmUoJy4vbW9kZXMvY2JjJyksXG4gIENGQjogcmVxdWlyZSgnLi9tb2Rlcy9jZmInKSxcbiAgQ0ZCODogcmVxdWlyZSgnLi9tb2Rlcy9jZmI4JyksXG4gIENGQjE6IHJlcXVpcmUoJy4vbW9kZXMvY2ZiMScpLFxuICBPRkI6IHJlcXVpcmUoJy4vbW9kZXMvb2ZiJyksXG4gIENUUjogcmVxdWlyZSgnLi9tb2Rlcy9jdHInKSxcbiAgR0NNOiByZXF1aXJlKCcuL21vZGVzL2N0cicpXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNpcGhlcml2IChzdWl0ZSwgcGFzc3dvcmQsIGl2KSB7XG4gIHZhciBjb25maWcgPSBtb2Rlc1tzdWl0ZS50b0xvd2VyQ2FzZSgpXVxuICBpZiAoIWNvbmZpZykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgc3VpdGUgdHlwZScpXG4gIH1cbiAgaWYgKHR5cGVvZiBpdiA9PT0gJ3N0cmluZycpIHtcbiAgICBpdiA9IG5ldyBCdWZmZXIoaXYpXG4gIH1cbiAgaWYgKHR5cGVvZiBwYXNzd29yZCA9PT0gJ3N0cmluZycpIHtcbiAgICBwYXNzd29yZCA9IG5ldyBCdWZmZXIocGFzc3dvcmQpXG4gIH1cbiAgaWYgKHBhc3N3b3JkLmxlbmd0aCAhPT0gY29uZmlnLmtleSAvIDgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIGtleSBsZW5ndGggJyArIHBhc3N3b3JkLmxlbmd0aClcbiAgfVxuICBpZiAoaXYubGVuZ3RoICE9PSBjb25maWcuaXYpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIGl2IGxlbmd0aCAnICsgaXYubGVuZ3RoKVxuICB9XG4gIGlmIChjb25maWcudHlwZSA9PT0gJ3N0cmVhbScpIHtcbiAgICByZXR1cm4gbmV3IFN0cmVhbUNpcGhlcihtb2RlbGlzdFtjb25maWcubW9kZV0sIHBhc3N3b3JkLCBpdilcbiAgfSBlbHNlIGlmIChjb25maWcudHlwZSA9PT0gJ2F1dGgnKSB7XG4gICAgcmV0dXJuIG5ldyBBdXRoQ2lwaGVyKG1vZGVsaXN0W2NvbmZpZy5tb2RlXSwgcGFzc3dvcmQsIGl2KVxuICB9XG4gIHJldHVybiBuZXcgQ2lwaGVyKG1vZGVsaXN0W2NvbmZpZy5tb2RlXSwgcGFzc3dvcmQsIGl2KVxufVxuZnVuY3Rpb24gY3JlYXRlQ2lwaGVyIChzdWl0ZSwgcGFzc3dvcmQpIHtcbiAgdmFyIGNvbmZpZyA9IG1vZGVzW3N1aXRlLnRvTG93ZXJDYXNlKCldXG4gIGlmICghY29uZmlnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBzdWl0ZSB0eXBlJylcbiAgfVxuICB2YXIga2V5cyA9IGVidGsocGFzc3dvcmQsIGZhbHNlLCBjb25maWcua2V5LCBjb25maWcuaXYpXG4gIHJldHVybiBjcmVhdGVDaXBoZXJpdihzdWl0ZSwga2V5cy5rZXksIGtleXMuaXYpXG59XG5cbmV4cG9ydHMuY3JlYXRlQ2lwaGVyaXYgPSBjcmVhdGVDaXBoZXJpdlxuZXhwb3J0cy5jcmVhdGVDaXBoZXIgPSBjcmVhdGVDaXBoZXJcbiJdfQ==
},{"./aes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/aes.js","./authCipher":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/authCipher.js","./modes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes.js","./modes/cbc":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes/cbc.js","./modes/cfb":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes/cfb.js","./modes/cfb1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes/cfb1.js","./modes/cfb8":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes/cfb8.js","./modes/ctr":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes/ctr.js","./modes/ecb":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes/ecb.js","./modes/ofb":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes/ofb.js","./streamCipher":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/streamCipher.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","cipher-base":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/node_modules/cipher-base/index.js","evp_bytestokey":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/evp_bytestokey/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/decrypter.js":[function(require,module,exports){
(function (Buffer){
var aes = require('./aes')
var Transform = require('cipher-base')
var inherits = require('inherits')
var modes = require('./modes')
var StreamCipher = require('./streamCipher')
var AuthCipher = require('./authCipher')
var ebtk = require('evp_bytestokey')

inherits(Decipher, Transform)
function Decipher (mode, key, iv) {
  if (!(this instanceof Decipher)) {
    return new Decipher(mode, key, iv)
  }
  Transform.call(this)
  this._cache = new Splitter()
  this._last = void 0
  this._cipher = new aes.AES(key)
  this._prev = new Buffer(iv.length)
  iv.copy(this._prev)
  this._mode = mode
  this._autopadding = true
}
Decipher.prototype._update = function (data) {
  this._cache.add(data)
  var chunk
  var thing
  var out = []
  while ((chunk = this._cache.get(this._autopadding))) {
    thing = this._mode.decrypt(this, chunk)
    out.push(thing)
  }
  return Buffer.concat(out)
}
Decipher.prototype._final = function () {
  var chunk = this._cache.flush()
  if (this._autopadding) {
    return unpad(this._mode.decrypt(this, chunk))
  } else if (chunk) {
    throw new Error('data not multiple of block length')
  }
}
Decipher.prototype.setAutoPadding = function (setTo) {
  this._autopadding = !!setTo
}
function Splitter () {
  if (!(this instanceof Splitter)) {
    return new Splitter()
  }
  this.cache = new Buffer('')
}
Splitter.prototype.add = function (data) {
  this.cache = Buffer.concat([this.cache, data])
}

Splitter.prototype.get = function (autoPadding) {
  var out
  if (autoPadding) {
    if (this.cache.length > 16) {
      out = this.cache.slice(0, 16)
      this.cache = this.cache.slice(16)
      return out
    }
  } else {
    if (this.cache.length >= 16) {
      out = this.cache.slice(0, 16)
      this.cache = this.cache.slice(16)
      return out
    }
  }
  return null
}
Splitter.prototype.flush = function () {
  if (this.cache.length) {
    return this.cache
  }
}
function unpad (last) {
  var padded = last[15]
  var i = -1
  while (++i < padded) {
    if (last[(i + (16 - padded))] !== padded) {
      throw new Error('unable to decrypt data')
    }
  }
  if (padded === 16) {
    return
  }
  return last.slice(0, 16 - padded)
}

var modelist = {
  ECB: require('./modes/ecb'),
  CBC: require('./modes/cbc'),
  CFB: require('./modes/cfb'),
  CFB8: require('./modes/cfb8'),
  CFB1: require('./modes/cfb1'),
  OFB: require('./modes/ofb'),
  CTR: require('./modes/ctr'),
  GCM: require('./modes/ctr')
}

function createDecipheriv (suite, password, iv) {
  var config = modes[suite.toLowerCase()]
  if (!config) {
    throw new TypeError('invalid suite type')
  }
  if (typeof iv === 'string') {
    iv = new Buffer(iv)
  }
  if (typeof password === 'string') {
    password = new Buffer(password)
  }
  if (password.length !== config.key / 8) {
    throw new TypeError('invalid key length ' + password.length)
  }
  if (iv.length !== config.iv) {
    throw new TypeError('invalid iv length ' + iv.length)
  }
  if (config.type === 'stream') {
    return new StreamCipher(modelist[config.mode], password, iv, true)
  } else if (config.type === 'auth') {
    return new AuthCipher(modelist[config.mode], password, iv, true)
  }
  return new Decipher(modelist[config.mode], password, iv)
}

function createDecipher (suite, password) {
  var config = modes[suite.toLowerCase()]
  if (!config) {
    throw new TypeError('invalid suite type')
  }
  var keys = ebtk(password, false, config.key, config.iv)
  return createDecipheriv(suite, keys.key, keys.iv)
}
exports.createDecipher = createDecipher
exports.createDecipheriv = createDecipheriv

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL2RlY3J5cHRlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFlcyA9IHJlcXVpcmUoJy4vYWVzJylcbnZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCdjaXBoZXItYmFzZScpXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG52YXIgbW9kZXMgPSByZXF1aXJlKCcuL21vZGVzJylcbnZhciBTdHJlYW1DaXBoZXIgPSByZXF1aXJlKCcuL3N0cmVhbUNpcGhlcicpXG52YXIgQXV0aENpcGhlciA9IHJlcXVpcmUoJy4vYXV0aENpcGhlcicpXG52YXIgZWJ0ayA9IHJlcXVpcmUoJ2V2cF9ieXRlc3Rva2V5JylcblxuaW5oZXJpdHMoRGVjaXBoZXIsIFRyYW5zZm9ybSlcbmZ1bmN0aW9uIERlY2lwaGVyIChtb2RlLCBrZXksIGl2KSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBEZWNpcGhlcikpIHtcbiAgICByZXR1cm4gbmV3IERlY2lwaGVyKG1vZGUsIGtleSwgaXYpXG4gIH1cbiAgVHJhbnNmb3JtLmNhbGwodGhpcylcbiAgdGhpcy5fY2FjaGUgPSBuZXcgU3BsaXR0ZXIoKVxuICB0aGlzLl9sYXN0ID0gdm9pZCAwXG4gIHRoaXMuX2NpcGhlciA9IG5ldyBhZXMuQUVTKGtleSlcbiAgdGhpcy5fcHJldiA9IG5ldyBCdWZmZXIoaXYubGVuZ3RoKVxuICBpdi5jb3B5KHRoaXMuX3ByZXYpXG4gIHRoaXMuX21vZGUgPSBtb2RlXG4gIHRoaXMuX2F1dG9wYWRkaW5nID0gdHJ1ZVxufVxuRGVjaXBoZXIucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICB0aGlzLl9jYWNoZS5hZGQoZGF0YSlcbiAgdmFyIGNodW5rXG4gIHZhciB0aGluZ1xuICB2YXIgb3V0ID0gW11cbiAgd2hpbGUgKChjaHVuayA9IHRoaXMuX2NhY2hlLmdldCh0aGlzLl9hdXRvcGFkZGluZykpKSB7XG4gICAgdGhpbmcgPSB0aGlzLl9tb2RlLmRlY3J5cHQodGhpcywgY2h1bmspXG4gICAgb3V0LnB1c2godGhpbmcpXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5jb25jYXQob3V0KVxufVxuRGVjaXBoZXIucHJvdG90eXBlLl9maW5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGNodW5rID0gdGhpcy5fY2FjaGUuZmx1c2goKVxuICBpZiAodGhpcy5fYXV0b3BhZGRpbmcpIHtcbiAgICByZXR1cm4gdW5wYWQodGhpcy5fbW9kZS5kZWNyeXB0KHRoaXMsIGNodW5rKSlcbiAgfSBlbHNlIGlmIChjaHVuaykge1xuICAgIHRocm93IG5ldyBFcnJvcignZGF0YSBub3QgbXVsdGlwbGUgb2YgYmxvY2sgbGVuZ3RoJylcbiAgfVxufVxuRGVjaXBoZXIucHJvdG90eXBlLnNldEF1dG9QYWRkaW5nID0gZnVuY3Rpb24gKHNldFRvKSB7XG4gIHRoaXMuX2F1dG9wYWRkaW5nID0gISFzZXRUb1xufVxuZnVuY3Rpb24gU3BsaXR0ZXIgKCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU3BsaXR0ZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBTcGxpdHRlcigpXG4gIH1cbiAgdGhpcy5jYWNoZSA9IG5ldyBCdWZmZXIoJycpXG59XG5TcGxpdHRlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdGhpcy5jYWNoZSA9IEJ1ZmZlci5jb25jYXQoW3RoaXMuY2FjaGUsIGRhdGFdKVxufVxuXG5TcGxpdHRlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGF1dG9QYWRkaW5nKSB7XG4gIHZhciBvdXRcbiAgaWYgKGF1dG9QYWRkaW5nKSB7XG4gICAgaWYgKHRoaXMuY2FjaGUubGVuZ3RoID4gMTYpIHtcbiAgICAgIG91dCA9IHRoaXMuY2FjaGUuc2xpY2UoMCwgMTYpXG4gICAgICB0aGlzLmNhY2hlID0gdGhpcy5jYWNoZS5zbGljZSgxNilcbiAgICAgIHJldHVybiBvdXRcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRoaXMuY2FjaGUubGVuZ3RoID49IDE2KSB7XG4gICAgICBvdXQgPSB0aGlzLmNhY2hlLnNsaWNlKDAsIDE2KVxuICAgICAgdGhpcy5jYWNoZSA9IHRoaXMuY2FjaGUuc2xpY2UoMTYpXG4gICAgICByZXR1cm4gb3V0XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsXG59XG5TcGxpdHRlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmNhY2hlLmxlbmd0aCkge1xuICAgIHJldHVybiB0aGlzLmNhY2hlXG4gIH1cbn1cbmZ1bmN0aW9uIHVucGFkIChsYXN0KSB7XG4gIHZhciBwYWRkZWQgPSBsYXN0WzE1XVxuICB2YXIgaSA9IC0xXG4gIHdoaWxlICgrK2kgPCBwYWRkZWQpIHtcbiAgICBpZiAobGFzdFsoaSArICgxNiAtIHBhZGRlZCkpXSAhPT0gcGFkZGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VuYWJsZSB0byBkZWNyeXB0IGRhdGEnKVxuICAgIH1cbiAgfVxuICBpZiAocGFkZGVkID09PSAxNikge1xuICAgIHJldHVyblxuICB9XG4gIHJldHVybiBsYXN0LnNsaWNlKDAsIDE2IC0gcGFkZGVkKVxufVxuXG52YXIgbW9kZWxpc3QgPSB7XG4gIEVDQjogcmVxdWlyZSgnLi9tb2Rlcy9lY2InKSxcbiAgQ0JDOiByZXF1aXJlKCcuL21vZGVzL2NiYycpLFxuICBDRkI6IHJlcXVpcmUoJy4vbW9kZXMvY2ZiJyksXG4gIENGQjg6IHJlcXVpcmUoJy4vbW9kZXMvY2ZiOCcpLFxuICBDRkIxOiByZXF1aXJlKCcuL21vZGVzL2NmYjEnKSxcbiAgT0ZCOiByZXF1aXJlKCcuL21vZGVzL29mYicpLFxuICBDVFI6IHJlcXVpcmUoJy4vbW9kZXMvY3RyJyksXG4gIEdDTTogcmVxdWlyZSgnLi9tb2Rlcy9jdHInKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVEZWNpcGhlcml2IChzdWl0ZSwgcGFzc3dvcmQsIGl2KSB7XG4gIHZhciBjb25maWcgPSBtb2Rlc1tzdWl0ZS50b0xvd2VyQ2FzZSgpXVxuICBpZiAoIWNvbmZpZykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgc3VpdGUgdHlwZScpXG4gIH1cbiAgaWYgKHR5cGVvZiBpdiA9PT0gJ3N0cmluZycpIHtcbiAgICBpdiA9IG5ldyBCdWZmZXIoaXYpXG4gIH1cbiAgaWYgKHR5cGVvZiBwYXNzd29yZCA9PT0gJ3N0cmluZycpIHtcbiAgICBwYXNzd29yZCA9IG5ldyBCdWZmZXIocGFzc3dvcmQpXG4gIH1cbiAgaWYgKHBhc3N3b3JkLmxlbmd0aCAhPT0gY29uZmlnLmtleSAvIDgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIGtleSBsZW5ndGggJyArIHBhc3N3b3JkLmxlbmd0aClcbiAgfVxuICBpZiAoaXYubGVuZ3RoICE9PSBjb25maWcuaXYpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIGl2IGxlbmd0aCAnICsgaXYubGVuZ3RoKVxuICB9XG4gIGlmIChjb25maWcudHlwZSA9PT0gJ3N0cmVhbScpIHtcbiAgICByZXR1cm4gbmV3IFN0cmVhbUNpcGhlcihtb2RlbGlzdFtjb25maWcubW9kZV0sIHBhc3N3b3JkLCBpdiwgdHJ1ZSlcbiAgfSBlbHNlIGlmIChjb25maWcudHlwZSA9PT0gJ2F1dGgnKSB7XG4gICAgcmV0dXJuIG5ldyBBdXRoQ2lwaGVyKG1vZGVsaXN0W2NvbmZpZy5tb2RlXSwgcGFzc3dvcmQsIGl2LCB0cnVlKVxuICB9XG4gIHJldHVybiBuZXcgRGVjaXBoZXIobW9kZWxpc3RbY29uZmlnLm1vZGVdLCBwYXNzd29yZCwgaXYpXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURlY2lwaGVyIChzdWl0ZSwgcGFzc3dvcmQpIHtcbiAgdmFyIGNvbmZpZyA9IG1vZGVzW3N1aXRlLnRvTG93ZXJDYXNlKCldXG4gIGlmICghY29uZmlnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBzdWl0ZSB0eXBlJylcbiAgfVxuICB2YXIga2V5cyA9IGVidGsocGFzc3dvcmQsIGZhbHNlLCBjb25maWcua2V5LCBjb25maWcuaXYpXG4gIHJldHVybiBjcmVhdGVEZWNpcGhlcml2KHN1aXRlLCBrZXlzLmtleSwga2V5cy5pdilcbn1cbmV4cG9ydHMuY3JlYXRlRGVjaXBoZXIgPSBjcmVhdGVEZWNpcGhlclxuZXhwb3J0cy5jcmVhdGVEZWNpcGhlcml2ID0gY3JlYXRlRGVjaXBoZXJpdlxuIl19
},{"./aes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/aes.js","./authCipher":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/authCipher.js","./modes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes.js","./modes/cbc":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes/cbc.js","./modes/cfb":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes/cfb.js","./modes/cfb1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes/cfb1.js","./modes/cfb8":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes/cfb8.js","./modes/ctr":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes/ctr.js","./modes/ecb":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes/ecb.js","./modes/ofb":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes/ofb.js","./streamCipher":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/streamCipher.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","cipher-base":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/node_modules/cipher-base/index.js","evp_bytestokey":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/evp_bytestokey/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/evp_bytestokey/index.js":[function(require,module,exports){
(function (Buffer){
var md5 = require('create-hash/md5')
module.exports = EVP_BytesToKey
function EVP_BytesToKey (password, salt, keyLen, ivLen) {
  if (!Buffer.isBuffer(password)) {
    password = new Buffer(password, 'binary')
  }
  if (salt && !Buffer.isBuffer(salt)) {
    salt = new Buffer(salt, 'binary')
  }
  keyLen = keyLen / 8
  ivLen = ivLen || 0
  var ki = 0
  var ii = 0
  var key = new Buffer(keyLen)
  var iv = new Buffer(ivLen)
  var addmd = 0
  var md_buf
  var i
  var bufs = []
  while (true) {
    if (addmd++ > 0) {
      bufs.push(md_buf)
    }
    bufs.push(password)
    if (salt) {
      bufs.push(salt)
    }
    md_buf = md5(Buffer.concat(bufs))
    bufs = []
    i = 0
    if (keyLen > 0) {
      while (true) {
        if (keyLen === 0) {
          break
        }
        if (i === md_buf.length) {
          break
        }
        key[ki++] = md_buf[i]
        keyLen--
        i++
      }
    }
    if (ivLen > 0 && i !== md_buf.length) {
      while (true) {
        if (ivLen === 0) {
          break
        }
        if (i === md_buf.length) {
          break
        }
        iv[ii++] = md_buf[i]
        ivLen--
        i++
      }
    }
    if (keyLen === 0 && ivLen === 0) {
      break
    }
  }
  for (i = 0; i < md_buf.length; i++) {
    md_buf[i] = 0
  }
  return {
    key: key,
    iv: iv
  }
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2V2cF9ieXRlc3Rva2V5L2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBtZDUgPSByZXF1aXJlKCdjcmVhdGUtaGFzaC9tZDUnKVxubW9kdWxlLmV4cG9ydHMgPSBFVlBfQnl0ZXNUb0tleVxuZnVuY3Rpb24gRVZQX0J5dGVzVG9LZXkgKHBhc3N3b3JkLCBzYWx0LCBrZXlMZW4sIGl2TGVuKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKHBhc3N3b3JkKSkge1xuICAgIHBhc3N3b3JkID0gbmV3IEJ1ZmZlcihwYXNzd29yZCwgJ2JpbmFyeScpXG4gIH1cbiAgaWYgKHNhbHQgJiYgIUJ1ZmZlci5pc0J1ZmZlcihzYWx0KSkge1xuICAgIHNhbHQgPSBuZXcgQnVmZmVyKHNhbHQsICdiaW5hcnknKVxuICB9XG4gIGtleUxlbiA9IGtleUxlbiAvIDhcbiAgaXZMZW4gPSBpdkxlbiB8fCAwXG4gIHZhciBraSA9IDBcbiAgdmFyIGlpID0gMFxuICB2YXIga2V5ID0gbmV3IEJ1ZmZlcihrZXlMZW4pXG4gIHZhciBpdiA9IG5ldyBCdWZmZXIoaXZMZW4pXG4gIHZhciBhZGRtZCA9IDBcbiAgdmFyIG1kX2J1ZlxuICB2YXIgaVxuICB2YXIgYnVmcyA9IFtdXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgaWYgKGFkZG1kKysgPiAwKSB7XG4gICAgICBidWZzLnB1c2gobWRfYnVmKVxuICAgIH1cbiAgICBidWZzLnB1c2gocGFzc3dvcmQpXG4gICAgaWYgKHNhbHQpIHtcbiAgICAgIGJ1ZnMucHVzaChzYWx0KVxuICAgIH1cbiAgICBtZF9idWYgPSBtZDUoQnVmZmVyLmNvbmNhdChidWZzKSlcbiAgICBidWZzID0gW11cbiAgICBpID0gMFxuICAgIGlmIChrZXlMZW4gPiAwKSB7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBpZiAoa2V5TGVuID09PSAwKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA9PT0gbWRfYnVmLmxlbmd0aCkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAga2V5W2tpKytdID0gbWRfYnVmW2ldXG4gICAgICAgIGtleUxlbi0tXG4gICAgICAgIGkrK1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXZMZW4gPiAwICYmIGkgIT09IG1kX2J1Zi5sZW5ndGgpIHtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGlmIChpdkxlbiA9PT0gMCkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPT09IG1kX2J1Zi5sZW5ndGgpIHtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGl2W2lpKytdID0gbWRfYnVmW2ldXG4gICAgICAgIGl2TGVuLS1cbiAgICAgICAgaSsrXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChrZXlMZW4gPT09IDAgJiYgaXZMZW4gPT09IDApIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG4gIGZvciAoaSA9IDA7IGkgPCBtZF9idWYubGVuZ3RoOyBpKyspIHtcbiAgICBtZF9idWZbaV0gPSAwXG4gIH1cbiAgcmV0dXJuIHtcbiAgICBrZXk6IGtleSxcbiAgICBpdjogaXZcbiAgfVxufVxuIl19
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","create-hash/md5":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/md5.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/streamCipher.js":[function(require,module,exports){
(function (Buffer){
var aes = require('./aes')
var Transform = require('cipher-base')
var inherits = require('inherits')

inherits(StreamCipher, Transform)
module.exports = StreamCipher
function StreamCipher (mode, key, iv, decrypt) {
  if (!(this instanceof StreamCipher)) {
    return new StreamCipher(mode, key, iv)
  }
  Transform.call(this)
  this._cipher = new aes.AES(key)
  this._prev = new Buffer(iv.length)
  this._cache = new Buffer('')
  this._secCache = new Buffer('')
  this._decrypt = decrypt
  iv.copy(this._prev)
  this._mode = mode
}
StreamCipher.prototype._update = function (chunk) {
  return this._mode.encrypt(this, chunk, this._decrypt)
}
StreamCipher.prototype._final = function () {
  this._cipher.scrub()
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL3N0cmVhbUNpcGhlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFlcyA9IHJlcXVpcmUoJy4vYWVzJylcbnZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCdjaXBoZXItYmFzZScpXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG5cbmluaGVyaXRzKFN0cmVhbUNpcGhlciwgVHJhbnNmb3JtKVxubW9kdWxlLmV4cG9ydHMgPSBTdHJlYW1DaXBoZXJcbmZ1bmN0aW9uIFN0cmVhbUNpcGhlciAobW9kZSwga2V5LCBpdiwgZGVjcnlwdCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU3RyZWFtQ2lwaGVyKSkge1xuICAgIHJldHVybiBuZXcgU3RyZWFtQ2lwaGVyKG1vZGUsIGtleSwgaXYpXG4gIH1cbiAgVHJhbnNmb3JtLmNhbGwodGhpcylcbiAgdGhpcy5fY2lwaGVyID0gbmV3IGFlcy5BRVMoa2V5KVxuICB0aGlzLl9wcmV2ID0gbmV3IEJ1ZmZlcihpdi5sZW5ndGgpXG4gIHRoaXMuX2NhY2hlID0gbmV3IEJ1ZmZlcignJylcbiAgdGhpcy5fc2VjQ2FjaGUgPSBuZXcgQnVmZmVyKCcnKVxuICB0aGlzLl9kZWNyeXB0ID0gZGVjcnlwdFxuICBpdi5jb3B5KHRoaXMuX3ByZXYpXG4gIHRoaXMuX21vZGUgPSBtb2RlXG59XG5TdHJlYW1DaXBoZXIucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoY2h1bmspIHtcbiAgcmV0dXJuIHRoaXMuX21vZGUuZW5jcnlwdCh0aGlzLCBjaHVuaywgdGhpcy5fZGVjcnlwdClcbn1cblN0cmVhbUNpcGhlci5wcm90b3R5cGUuX2ZpbmFsID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9jaXBoZXIuc2NydWIoKVxufVxuIl19
},{"./aes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/aes.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","cipher-base":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/node_modules/cipher-base/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes/ofb.js":[function(require,module,exports){
(function (Buffer){
var xor = require('buffer-xor')

function getBlock (self) {
  self._prev = self._cipher.encryptBlock(self._prev)
  return self._prev
}

exports.encrypt = function (self, chunk) {
  while (self._cache.length < chunk.length) {
    self._cache = Buffer.concat([self._cache, getBlock(self)])
  }

  var pad = self._cache.slice(0, chunk.length)
  self._cache = self._cache.slice(chunk.length)
  return xor(chunk, pad)
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL21vZGVzL29mYi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHhvciA9IHJlcXVpcmUoJ2J1ZmZlci14b3InKVxuXG5mdW5jdGlvbiBnZXRCbG9jayAoc2VsZikge1xuICBzZWxmLl9wcmV2ID0gc2VsZi5fY2lwaGVyLmVuY3J5cHRCbG9jayhzZWxmLl9wcmV2KVxuICByZXR1cm4gc2VsZi5fcHJldlxufVxuXG5leHBvcnRzLmVuY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgY2h1bmspIHtcbiAgd2hpbGUgKHNlbGYuX2NhY2hlLmxlbmd0aCA8IGNodW5rLmxlbmd0aCkge1xuICAgIHNlbGYuX2NhY2hlID0gQnVmZmVyLmNvbmNhdChbc2VsZi5fY2FjaGUsIGdldEJsb2NrKHNlbGYpXSlcbiAgfVxuXG4gIHZhciBwYWQgPSBzZWxmLl9jYWNoZS5zbGljZSgwLCBjaHVuay5sZW5ndGgpXG4gIHNlbGYuX2NhY2hlID0gc2VsZi5fY2FjaGUuc2xpY2UoY2h1bmsubGVuZ3RoKVxuICByZXR1cm4geG9yKGNodW5rLCBwYWQpXG59XG4iXX0=
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","buffer-xor":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/node_modules/buffer-xor/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes/ecb.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes/ecb.js"][0].apply(exports,arguments)
},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes/ctr.js":[function(require,module,exports){
(function (Buffer){
var xor = require('buffer-xor')

function incr32 (iv) {
  var len = iv.length
  var item
  while (len--) {
    item = iv.readUInt8(len)
    if (item === 255) {
      iv.writeUInt8(0, len)
    } else {
      item++
      iv.writeUInt8(item, len)
      break
    }
  }
}

function getBlock (self) {
  var out = self._cipher.encryptBlock(self._prev)
  incr32(self._prev)
  return out
}

exports.encrypt = function (self, chunk) {
  while (self._cache.length < chunk.length) {
    self._cache = Buffer.concat([self._cache, getBlock(self)])
  }
  var pad = self._cache.slice(0, chunk.length)
  self._cache = self._cache.slice(chunk.length)
  return xor(chunk, pad)
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL21vZGVzL2N0ci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHhvciA9IHJlcXVpcmUoJ2J1ZmZlci14b3InKVxuXG5mdW5jdGlvbiBpbmNyMzIgKGl2KSB7XG4gIHZhciBsZW4gPSBpdi5sZW5ndGhcbiAgdmFyIGl0ZW1cbiAgd2hpbGUgKGxlbi0tKSB7XG4gICAgaXRlbSA9IGl2LnJlYWRVSW50OChsZW4pXG4gICAgaWYgKGl0ZW0gPT09IDI1NSkge1xuICAgICAgaXYud3JpdGVVSW50OCgwLCBsZW4pXG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZW0rK1xuICAgICAgaXYud3JpdGVVSW50OChpdGVtLCBsZW4pXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRCbG9jayAoc2VsZikge1xuICB2YXIgb3V0ID0gc2VsZi5fY2lwaGVyLmVuY3J5cHRCbG9jayhzZWxmLl9wcmV2KVxuICBpbmNyMzIoc2VsZi5fcHJldilcbiAgcmV0dXJuIG91dFxufVxuXG5leHBvcnRzLmVuY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgY2h1bmspIHtcbiAgd2hpbGUgKHNlbGYuX2NhY2hlLmxlbmd0aCA8IGNodW5rLmxlbmd0aCkge1xuICAgIHNlbGYuX2NhY2hlID0gQnVmZmVyLmNvbmNhdChbc2VsZi5fY2FjaGUsIGdldEJsb2NrKHNlbGYpXSlcbiAgfVxuICB2YXIgcGFkID0gc2VsZi5fY2FjaGUuc2xpY2UoMCwgY2h1bmsubGVuZ3RoKVxuICBzZWxmLl9jYWNoZSA9IHNlbGYuX2NhY2hlLnNsaWNlKGNodW5rLmxlbmd0aClcbiAgcmV0dXJuIHhvcihjaHVuaywgcGFkKVxufVxuIl19
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","buffer-xor":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/node_modules/buffer-xor/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes/cfb8.js":[function(require,module,exports){
(function (Buffer){
function encryptByte (self, byteParam, decrypt) {
  var pad = self._cipher.encryptBlock(self._prev)
  var out = pad[0] ^ byteParam
  self._prev = Buffer.concat([self._prev.slice(1), new Buffer([decrypt ? byteParam : out])])
  return out
}
exports.encrypt = function (self, chunk, decrypt) {
  var len = chunk.length
  var out = new Buffer(len)
  var i = -1
  while (++i < len) {
    out[i] = encryptByte(self, chunk[i], decrypt)
  }
  return out
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL21vZGVzL2NmYjguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBlbmNyeXB0Qnl0ZSAoc2VsZiwgYnl0ZVBhcmFtLCBkZWNyeXB0KSB7XG4gIHZhciBwYWQgPSBzZWxmLl9jaXBoZXIuZW5jcnlwdEJsb2NrKHNlbGYuX3ByZXYpXG4gIHZhciBvdXQgPSBwYWRbMF0gXiBieXRlUGFyYW1cbiAgc2VsZi5fcHJldiA9IEJ1ZmZlci5jb25jYXQoW3NlbGYuX3ByZXYuc2xpY2UoMSksIG5ldyBCdWZmZXIoW2RlY3J5cHQgPyBieXRlUGFyYW0gOiBvdXRdKV0pXG4gIHJldHVybiBvdXRcbn1cbmV4cG9ydHMuZW5jcnlwdCA9IGZ1bmN0aW9uIChzZWxmLCBjaHVuaywgZGVjcnlwdCkge1xuICB2YXIgbGVuID0gY2h1bmsubGVuZ3RoXG4gIHZhciBvdXQgPSBuZXcgQnVmZmVyKGxlbilcbiAgdmFyIGkgPSAtMVxuICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgb3V0W2ldID0gZW5jcnlwdEJ5dGUoc2VsZiwgY2h1bmtbaV0sIGRlY3J5cHQpXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuIl19
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes/cfb1.js":[function(require,module,exports){
(function (Buffer){
function encryptByte (self, byteParam, decrypt) {
  var pad
  var i = -1
  var len = 8
  var out = 0
  var bit, value
  while (++i < len) {
    pad = self._cipher.encryptBlock(self._prev)
    bit = (byteParam & (1 << (7 - i))) ? 0x80 : 0
    value = pad[0] ^ bit
    out += ((value & 0x80) >> (i % 8))
    self._prev = shiftIn(self._prev, decrypt ? bit : value)
  }
  return out
}
exports.encrypt = function (self, chunk, decrypt) {
  var len = chunk.length
  var out = new Buffer(len)
  var i = -1
  while (++i < len) {
    out[i] = encryptByte(self, chunk[i], decrypt)
  }
  return out
}
function shiftIn (buffer, value) {
  var len = buffer.length
  var i = -1
  var out = new Buffer(buffer.length)
  buffer = Buffer.concat([buffer, new Buffer([value])])
  while (++i < len) {
    out[i] = buffer[i] << 1 | buffer[i + 1] >> (7)
  }
  return out
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL21vZGVzL2NmYjEuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGVuY3J5cHRCeXRlIChzZWxmLCBieXRlUGFyYW0sIGRlY3J5cHQpIHtcbiAgdmFyIHBhZFxuICB2YXIgaSA9IC0xXG4gIHZhciBsZW4gPSA4XG4gIHZhciBvdXQgPSAwXG4gIHZhciBiaXQsIHZhbHVlXG4gIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICBwYWQgPSBzZWxmLl9jaXBoZXIuZW5jcnlwdEJsb2NrKHNlbGYuX3ByZXYpXG4gICAgYml0ID0gKGJ5dGVQYXJhbSAmICgxIDw8ICg3IC0gaSkpKSA/IDB4ODAgOiAwXG4gICAgdmFsdWUgPSBwYWRbMF0gXiBiaXRcbiAgICBvdXQgKz0gKCh2YWx1ZSAmIDB4ODApID4+IChpICUgOCkpXG4gICAgc2VsZi5fcHJldiA9IHNoaWZ0SW4oc2VsZi5fcHJldiwgZGVjcnlwdCA/IGJpdCA6IHZhbHVlKVxuICB9XG4gIHJldHVybiBvdXRcbn1cbmV4cG9ydHMuZW5jcnlwdCA9IGZ1bmN0aW9uIChzZWxmLCBjaHVuaywgZGVjcnlwdCkge1xuICB2YXIgbGVuID0gY2h1bmsubGVuZ3RoXG4gIHZhciBvdXQgPSBuZXcgQnVmZmVyKGxlbilcbiAgdmFyIGkgPSAtMVxuICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgb3V0W2ldID0gZW5jcnlwdEJ5dGUoc2VsZiwgY2h1bmtbaV0sIGRlY3J5cHQpXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuZnVuY3Rpb24gc2hpZnRJbiAoYnVmZmVyLCB2YWx1ZSkge1xuICB2YXIgbGVuID0gYnVmZmVyLmxlbmd0aFxuICB2YXIgaSA9IC0xXG4gIHZhciBvdXQgPSBuZXcgQnVmZmVyKGJ1ZmZlci5sZW5ndGgpXG4gIGJ1ZmZlciA9IEJ1ZmZlci5jb25jYXQoW2J1ZmZlciwgbmV3IEJ1ZmZlcihbdmFsdWVdKV0pXG4gIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICBvdXRbaV0gPSBidWZmZXJbaV0gPDwgMSB8IGJ1ZmZlcltpICsgMV0gPj4gKDcpXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuIl19
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes/cfb.js":[function(require,module,exports){
(function (Buffer){
var xor = require('buffer-xor')

exports.encrypt = function (self, data, decrypt) {
  var out = new Buffer('')
  var len

  while (data.length) {
    if (self._cache.length === 0) {
      self._cache = self._cipher.encryptBlock(self._prev)
      self._prev = new Buffer('')
    }

    if (self._cache.length <= data.length) {
      len = self._cache.length
      out = Buffer.concat([out, encryptStart(self, data.slice(0, len), decrypt)])
      data = data.slice(len)
    } else {
      out = Buffer.concat([out, encryptStart(self, data, decrypt)])
      break
    }
  }

  return out
}
function encryptStart (self, data, decrypt) {
  var len = data.length
  var out = xor(data, self._cache)
  self._cache = self._cache.slice(len)
  self._prev = Buffer.concat([self._prev, decrypt ? data : out])
  return out
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL21vZGVzL2NmYi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHhvciA9IHJlcXVpcmUoJ2J1ZmZlci14b3InKVxuXG5leHBvcnRzLmVuY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgZGF0YSwgZGVjcnlwdCkge1xuICB2YXIgb3V0ID0gbmV3IEJ1ZmZlcignJylcbiAgdmFyIGxlblxuXG4gIHdoaWxlIChkYXRhLmxlbmd0aCkge1xuICAgIGlmIChzZWxmLl9jYWNoZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHNlbGYuX2NhY2hlID0gc2VsZi5fY2lwaGVyLmVuY3J5cHRCbG9jayhzZWxmLl9wcmV2KVxuICAgICAgc2VsZi5fcHJldiA9IG5ldyBCdWZmZXIoJycpXG4gICAgfVxuXG4gICAgaWYgKHNlbGYuX2NhY2hlLmxlbmd0aCA8PSBkYXRhLmxlbmd0aCkge1xuICAgICAgbGVuID0gc2VsZi5fY2FjaGUubGVuZ3RoXG4gICAgICBvdXQgPSBCdWZmZXIuY29uY2F0KFtvdXQsIGVuY3J5cHRTdGFydChzZWxmLCBkYXRhLnNsaWNlKDAsIGxlbiksIGRlY3J5cHQpXSlcbiAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKGxlbilcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ID0gQnVmZmVyLmNvbmNhdChbb3V0LCBlbmNyeXB0U3RhcnQoc2VsZiwgZGF0YSwgZGVjcnlwdCldKVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb3V0XG59XG5mdW5jdGlvbiBlbmNyeXB0U3RhcnQgKHNlbGYsIGRhdGEsIGRlY3J5cHQpIHtcbiAgdmFyIGxlbiA9IGRhdGEubGVuZ3RoXG4gIHZhciBvdXQgPSB4b3IoZGF0YSwgc2VsZi5fY2FjaGUpXG4gIHNlbGYuX2NhY2hlID0gc2VsZi5fY2FjaGUuc2xpY2UobGVuKVxuICBzZWxmLl9wcmV2ID0gQnVmZmVyLmNvbmNhdChbc2VsZi5fcHJldiwgZGVjcnlwdCA/IGRhdGEgOiBvdXRdKVxuICByZXR1cm4gb3V0XG59XG4iXX0=
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","buffer-xor":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/node_modules/buffer-xor/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes/cbc.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes/cbc.js"][0].apply(exports,arguments)
},{"buffer-xor":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/node_modules/buffer-xor/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/modes.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes.js"][0].apply(exports,arguments)
},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/authCipher.js":[function(require,module,exports){
(function (Buffer){
var aes = require('./aes')
var Transform = require('cipher-base')
var inherits = require('inherits')
var GHASH = require('./ghash')
var xor = require('buffer-xor')
inherits(StreamCipher, Transform)
module.exports = StreamCipher

function StreamCipher (mode, key, iv, decrypt) {
  if (!(this instanceof StreamCipher)) {
    return new StreamCipher(mode, key, iv)
  }
  Transform.call(this)
  this._finID = Buffer.concat([iv, new Buffer([0, 0, 0, 1])])
  iv = Buffer.concat([iv, new Buffer([0, 0, 0, 2])])
  this._cipher = new aes.AES(key)
  this._prev = new Buffer(iv.length)
  this._cache = new Buffer('')
  this._secCache = new Buffer('')
  this._decrypt = decrypt
  this._alen = 0
  this._len = 0
  iv.copy(this._prev)
  this._mode = mode
  var h = new Buffer(4)
  h.fill(0)
  this._ghash = new GHASH(this._cipher.encryptBlock(h))
  this._authTag = null
  this._called = false
}
StreamCipher.prototype._update = function (chunk) {
  if (!this._called && this._alen) {
    var rump = 16 - (this._alen % 16)
    if (rump < 16) {
      rump = new Buffer(rump)
      rump.fill(0)
      this._ghash.update(rump)
    }
  }
  this._called = true
  var out = this._mode.encrypt(this, chunk)
  if (this._decrypt) {
    this._ghash.update(chunk)
  } else {
    this._ghash.update(out)
  }
  this._len += chunk.length
  return out
}
StreamCipher.prototype._final = function () {
  if (this._decrypt && !this._authTag) {
    throw new Error('Unsupported state or unable to authenticate data')
  }
  var tag = xor(this._ghash.final(this._alen * 8, this._len * 8), this._cipher.encryptBlock(this._finID))
  if (this._decrypt) {
    if (xorTest(tag, this._authTag)) {
      throw new Error('Unsupported state or unable to authenticate data')
    }
  } else {
    this._authTag = tag
  }
  this._cipher.scrub()
}
StreamCipher.prototype.getAuthTag = function getAuthTag () {
  if (!this._decrypt && Buffer.isBuffer(this._authTag)) {
    return this._authTag
  } else {
    throw new Error('Attempting to get auth tag in unsupported state')
  }
}
StreamCipher.prototype.setAuthTag = function setAuthTag (tag) {
  if (this._decrypt) {
    this._authTag = tag
  } else {
    throw new Error('Attempting to set auth tag in unsupported state')
  }
}
StreamCipher.prototype.setAAD = function setAAD (buf) {
  if (!this._called) {
    this._ghash.update(buf)
    this._alen += buf.length
  } else {
    throw new Error('Attempting to set AAD in unsupported state')
  }
}
function xorTest (a, b) {
  var out = 0
  if (a.length !== b.length) {
    out++
  }
  var len = Math.min(a.length, b.length)
  var i = -1
  while (++i < len) {
    out += (a[i] ^ b[i])
  }
  return out
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL2F1dGhDaXBoZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBhZXMgPSByZXF1aXJlKCcuL2FlcycpXG52YXIgVHJhbnNmb3JtID0gcmVxdWlyZSgnY2lwaGVyLWJhc2UnKVxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxudmFyIEdIQVNIID0gcmVxdWlyZSgnLi9naGFzaCcpXG52YXIgeG9yID0gcmVxdWlyZSgnYnVmZmVyLXhvcicpXG5pbmhlcml0cyhTdHJlYW1DaXBoZXIsIFRyYW5zZm9ybSlcbm1vZHVsZS5leHBvcnRzID0gU3RyZWFtQ2lwaGVyXG5cbmZ1bmN0aW9uIFN0cmVhbUNpcGhlciAobW9kZSwga2V5LCBpdiwgZGVjcnlwdCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU3RyZWFtQ2lwaGVyKSkge1xuICAgIHJldHVybiBuZXcgU3RyZWFtQ2lwaGVyKG1vZGUsIGtleSwgaXYpXG4gIH1cbiAgVHJhbnNmb3JtLmNhbGwodGhpcylcbiAgdGhpcy5fZmluSUQgPSBCdWZmZXIuY29uY2F0KFtpdiwgbmV3IEJ1ZmZlcihbMCwgMCwgMCwgMV0pXSlcbiAgaXYgPSBCdWZmZXIuY29uY2F0KFtpdiwgbmV3IEJ1ZmZlcihbMCwgMCwgMCwgMl0pXSlcbiAgdGhpcy5fY2lwaGVyID0gbmV3IGFlcy5BRVMoa2V5KVxuICB0aGlzLl9wcmV2ID0gbmV3IEJ1ZmZlcihpdi5sZW5ndGgpXG4gIHRoaXMuX2NhY2hlID0gbmV3IEJ1ZmZlcignJylcbiAgdGhpcy5fc2VjQ2FjaGUgPSBuZXcgQnVmZmVyKCcnKVxuICB0aGlzLl9kZWNyeXB0ID0gZGVjcnlwdFxuICB0aGlzLl9hbGVuID0gMFxuICB0aGlzLl9sZW4gPSAwXG4gIGl2LmNvcHkodGhpcy5fcHJldilcbiAgdGhpcy5fbW9kZSA9IG1vZGVcbiAgdmFyIGggPSBuZXcgQnVmZmVyKDQpXG4gIGguZmlsbCgwKVxuICB0aGlzLl9naGFzaCA9IG5ldyBHSEFTSCh0aGlzLl9jaXBoZXIuZW5jcnlwdEJsb2NrKGgpKVxuICB0aGlzLl9hdXRoVGFnID0gbnVsbFxuICB0aGlzLl9jYWxsZWQgPSBmYWxzZVxufVxuU3RyZWFtQ2lwaGVyLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKGNodW5rKSB7XG4gIGlmICghdGhpcy5fY2FsbGVkICYmIHRoaXMuX2FsZW4pIHtcbiAgICB2YXIgcnVtcCA9IDE2IC0gKHRoaXMuX2FsZW4gJSAxNilcbiAgICBpZiAocnVtcCA8IDE2KSB7XG4gICAgICBydW1wID0gbmV3IEJ1ZmZlcihydW1wKVxuICAgICAgcnVtcC5maWxsKDApXG4gICAgICB0aGlzLl9naGFzaC51cGRhdGUocnVtcClcbiAgICB9XG4gIH1cbiAgdGhpcy5fY2FsbGVkID0gdHJ1ZVxuICB2YXIgb3V0ID0gdGhpcy5fbW9kZS5lbmNyeXB0KHRoaXMsIGNodW5rKVxuICBpZiAodGhpcy5fZGVjcnlwdCkge1xuICAgIHRoaXMuX2doYXNoLnVwZGF0ZShjaHVuaylcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9naGFzaC51cGRhdGUob3V0KVxuICB9XG4gIHRoaXMuX2xlbiArPSBjaHVuay5sZW5ndGhcbiAgcmV0dXJuIG91dFxufVxuU3RyZWFtQ2lwaGVyLnByb3RvdHlwZS5fZmluYWwgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLl9kZWNyeXB0ICYmICF0aGlzLl9hdXRoVGFnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBzdGF0ZSBvciB1bmFibGUgdG8gYXV0aGVudGljYXRlIGRhdGEnKVxuICB9XG4gIHZhciB0YWcgPSB4b3IodGhpcy5fZ2hhc2guZmluYWwodGhpcy5fYWxlbiAqIDgsIHRoaXMuX2xlbiAqIDgpLCB0aGlzLl9jaXBoZXIuZW5jcnlwdEJsb2NrKHRoaXMuX2ZpbklEKSlcbiAgaWYgKHRoaXMuX2RlY3J5cHQpIHtcbiAgICBpZiAoeG9yVGVzdCh0YWcsIHRoaXMuX2F1dGhUYWcpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIHN0YXRlIG9yIHVuYWJsZSB0byBhdXRoZW50aWNhdGUgZGF0YScpXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMuX2F1dGhUYWcgPSB0YWdcbiAgfVxuICB0aGlzLl9jaXBoZXIuc2NydWIoKVxufVxuU3RyZWFtQ2lwaGVyLnByb3RvdHlwZS5nZXRBdXRoVGFnID0gZnVuY3Rpb24gZ2V0QXV0aFRhZyAoKSB7XG4gIGlmICghdGhpcy5fZGVjcnlwdCAmJiBCdWZmZXIuaXNCdWZmZXIodGhpcy5fYXV0aFRhZykpIHtcbiAgICByZXR1cm4gdGhpcy5fYXV0aFRhZ1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignQXR0ZW1wdGluZyB0byBnZXQgYXV0aCB0YWcgaW4gdW5zdXBwb3J0ZWQgc3RhdGUnKVxuICB9XG59XG5TdHJlYW1DaXBoZXIucHJvdG90eXBlLnNldEF1dGhUYWcgPSBmdW5jdGlvbiBzZXRBdXRoVGFnICh0YWcpIHtcbiAgaWYgKHRoaXMuX2RlY3J5cHQpIHtcbiAgICB0aGlzLl9hdXRoVGFnID0gdGFnXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBdHRlbXB0aW5nIHRvIHNldCBhdXRoIHRhZyBpbiB1bnN1cHBvcnRlZCBzdGF0ZScpXG4gIH1cbn1cblN0cmVhbUNpcGhlci5wcm90b3R5cGUuc2V0QUFEID0gZnVuY3Rpb24gc2V0QUFEIChidWYpIHtcbiAgaWYgKCF0aGlzLl9jYWxsZWQpIHtcbiAgICB0aGlzLl9naGFzaC51cGRhdGUoYnVmKVxuICAgIHRoaXMuX2FsZW4gKz0gYnVmLmxlbmd0aFxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignQXR0ZW1wdGluZyB0byBzZXQgQUFEIGluIHVuc3VwcG9ydGVkIHN0YXRlJylcbiAgfVxufVxuZnVuY3Rpb24geG9yVGVzdCAoYSwgYikge1xuICB2YXIgb3V0ID0gMFxuICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgb3V0KytcbiAgfVxuICB2YXIgbGVuID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKVxuICB2YXIgaSA9IC0xXG4gIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICBvdXQgKz0gKGFbaV0gXiBiW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cbiJdfQ==
},{"./aes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/aes.js","./ghash":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/ghash.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","buffer-xor":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/node_modules/buffer-xor/index.js","cipher-base":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/node_modules/cipher-base/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/node_modules/cipher-base/index.js":[function(require,module,exports){
(function (Buffer){
var Transform = require('stream').Transform
var inherits = require('inherits')
var StringDecoder = require('string_decoder').StringDecoder
module.exports = CipherBase
inherits(CipherBase, Transform)
function CipherBase (hashMode) {
  Transform.call(this)
  this.hashMode = typeof hashMode === 'string'
  if (this.hashMode) {
    this[hashMode] = this._finalOrDigest
  } else {
    this.final = this._finalOrDigest
  }
  this._decoder = null
  this._encoding = null
}
CipherBase.prototype.update = function (data, inputEnc, outputEnc) {
  if (typeof data === 'string') {
    data = new Buffer(data, inputEnc)
  }
  var outData = this._update(data)
  if (this.hashMode) {
    return this
  }
  if (outputEnc) {
    outData = this._toString(outData, outputEnc)
  }
  return outData
}

CipherBase.prototype.setAutoPadding = function () {}

CipherBase.prototype.getAuthTag = function () {
  throw new Error('trying to get auth tag in unsupported state')
}

CipherBase.prototype.setAuthTag = function () {
  throw new Error('trying to set auth tag in unsupported state')
}

CipherBase.prototype.setAAD = function () {
  throw new Error('trying to set aad in unsupported state')
}

CipherBase.prototype._transform = function (data, _, next) {
  var err
  try {
    if (this.hashMode) {
      this._update(data)
    } else {
      this.push(this._update(data))
    }
  } catch (e) {
    err = e
  } finally {
    next(err)
  }
}
CipherBase.prototype._flush = function (done) {
  var err
  try {
    this.push(this._final())
  } catch (e) {
    err = e
  } finally {
    done(err)
  }
}
CipherBase.prototype._finalOrDigest = function (outputEnc) {
  var outData = this._final() || new Buffer('')
  if (outputEnc) {
    outData = this._toString(outData, outputEnc, true)
  }
  return outData
}

CipherBase.prototype._toString = function (value, enc, final) {
  if (!this._decoder) {
    this._decoder = new StringDecoder(enc)
    this._encoding = enc
  }
  if (this._encoding !== enc) {
    throw new Error('can\'t switch encodings')
  }
  var out = this._decoder.write(value)
  if (final) {
    out += this._decoder.end()
  }
  return out
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL25vZGVfbW9kdWxlcy9jaXBoZXItYmFzZS9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCdzdHJlYW0nKS5UcmFuc2Zvcm1cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbnZhciBTdHJpbmdEZWNvZGVyID0gcmVxdWlyZSgnc3RyaW5nX2RlY29kZXInKS5TdHJpbmdEZWNvZGVyXG5tb2R1bGUuZXhwb3J0cyA9IENpcGhlckJhc2VcbmluaGVyaXRzKENpcGhlckJhc2UsIFRyYW5zZm9ybSlcbmZ1bmN0aW9uIENpcGhlckJhc2UgKGhhc2hNb2RlKSB7XG4gIFRyYW5zZm9ybS5jYWxsKHRoaXMpXG4gIHRoaXMuaGFzaE1vZGUgPSB0eXBlb2YgaGFzaE1vZGUgPT09ICdzdHJpbmcnXG4gIGlmICh0aGlzLmhhc2hNb2RlKSB7XG4gICAgdGhpc1toYXNoTW9kZV0gPSB0aGlzLl9maW5hbE9yRGlnZXN0XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5maW5hbCA9IHRoaXMuX2ZpbmFsT3JEaWdlc3RcbiAgfVxuICB0aGlzLl9kZWNvZGVyID0gbnVsbFxuICB0aGlzLl9lbmNvZGluZyA9IG51bGxcbn1cbkNpcGhlckJhc2UucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhLCBpbnB1dEVuYywgb3V0cHV0RW5jKSB7XG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICBkYXRhID0gbmV3IEJ1ZmZlcihkYXRhLCBpbnB1dEVuYylcbiAgfVxuICB2YXIgb3V0RGF0YSA9IHRoaXMuX3VwZGF0ZShkYXRhKVxuICBpZiAodGhpcy5oYXNoTW9kZSkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgaWYgKG91dHB1dEVuYykge1xuICAgIG91dERhdGEgPSB0aGlzLl90b1N0cmluZyhvdXREYXRhLCBvdXRwdXRFbmMpXG4gIH1cbiAgcmV0dXJuIG91dERhdGFcbn1cblxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuc2V0QXV0b1BhZGRpbmcgPSBmdW5jdGlvbiAoKSB7fVxuXG5DaXBoZXJCYXNlLnByb3RvdHlwZS5nZXRBdXRoVGFnID0gZnVuY3Rpb24gKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ3RyeWluZyB0byBnZXQgYXV0aCB0YWcgaW4gdW5zdXBwb3J0ZWQgc3RhdGUnKVxufVxuXG5DaXBoZXJCYXNlLnByb3RvdHlwZS5zZXRBdXRoVGFnID0gZnVuY3Rpb24gKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ3RyeWluZyB0byBzZXQgYXV0aCB0YWcgaW4gdW5zdXBwb3J0ZWQgc3RhdGUnKVxufVxuXG5DaXBoZXJCYXNlLnByb3RvdHlwZS5zZXRBQUQgPSBmdW5jdGlvbiAoKSB7XG4gIHRocm93IG5ldyBFcnJvcigndHJ5aW5nIHRvIHNldCBhYWQgaW4gdW5zdXBwb3J0ZWQgc3RhdGUnKVxufVxuXG5DaXBoZXJCYXNlLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24gKGRhdGEsIF8sIG5leHQpIHtcbiAgdmFyIGVyclxuICB0cnkge1xuICAgIGlmICh0aGlzLmhhc2hNb2RlKSB7XG4gICAgICB0aGlzLl91cGRhdGUoZGF0YSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wdXNoKHRoaXMuX3VwZGF0ZShkYXRhKSlcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlcnIgPSBlXG4gIH0gZmluYWxseSB7XG4gICAgbmV4dChlcnIpXG4gIH1cbn1cbkNpcGhlckJhc2UucHJvdG90eXBlLl9mbHVzaCA9IGZ1bmN0aW9uIChkb25lKSB7XG4gIHZhciBlcnJcbiAgdHJ5IHtcbiAgICB0aGlzLnB1c2godGhpcy5fZmluYWwoKSlcbiAgfSBjYXRjaCAoZSkge1xuICAgIGVyciA9IGVcbiAgfSBmaW5hbGx5IHtcbiAgICBkb25lKGVycilcbiAgfVxufVxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuX2ZpbmFsT3JEaWdlc3QgPSBmdW5jdGlvbiAob3V0cHV0RW5jKSB7XG4gIHZhciBvdXREYXRhID0gdGhpcy5fZmluYWwoKSB8fCBuZXcgQnVmZmVyKCcnKVxuICBpZiAob3V0cHV0RW5jKSB7XG4gICAgb3V0RGF0YSA9IHRoaXMuX3RvU3RyaW5nKG91dERhdGEsIG91dHB1dEVuYywgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb3V0RGF0YVxufVxuXG5DaXBoZXJCYXNlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAodmFsdWUsIGVuYywgZmluYWwpIHtcbiAgaWYgKCF0aGlzLl9kZWNvZGVyKSB7XG4gICAgdGhpcy5fZGVjb2RlciA9IG5ldyBTdHJpbmdEZWNvZGVyKGVuYylcbiAgICB0aGlzLl9lbmNvZGluZyA9IGVuY1xuICB9XG4gIGlmICh0aGlzLl9lbmNvZGluZyAhPT0gZW5jKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjYW5cXCd0IHN3aXRjaCBlbmNvZGluZ3MnKVxuICB9XG4gIHZhciBvdXQgPSB0aGlzLl9kZWNvZGVyLndyaXRlKHZhbHVlKVxuICBpZiAoZmluYWwpIHtcbiAgICBvdXQgKz0gdGhpcy5fZGVjb2Rlci5lbmQoKVxuICB9XG4gIHJldHVybiBvdXRcbn1cbiJdfQ==
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js","stream":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/stream-browserify/index.js","string_decoder":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/string_decoder/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/node_modules/buffer-xor/index.js":[function(require,module,exports){
(function (Buffer){
module.exports = function xor (a, b) {
  var length = Math.min(a.length, b.length)
  var buffer = new Buffer(length)

  for (var i = 0; i < length; ++i) {
    buffer[i] = a[i] ^ b[i]
  }

  return buffer
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL25vZGVfbW9kdWxlcy9idWZmZXIteG9yL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHhvciAoYSwgYikge1xuICB2YXIgbGVuZ3RoID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKVxuICB2YXIgYnVmZmVyID0gbmV3IEJ1ZmZlcihsZW5ndGgpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGJ1ZmZlcltpXSA9IGFbaV0gXiBiW2ldXG4gIH1cblxuICByZXR1cm4gYnVmZmVyXG59XG4iXX0=
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/ghash.js":[function(require,module,exports){
(function (Buffer){
var zeros = new Buffer(16)
zeros.fill(0)
module.exports = GHASH
function GHASH (key) {
  this.h = key
  this.state = new Buffer(16)
  this.state.fill(0)
  this.cache = new Buffer('')
}
// from http://bitwiseshiftleft.github.io/sjcl/doc/symbols/src/core_gcm.js.html
// by Juho Vh-Herttua
GHASH.prototype.ghash = function (block) {
  var i = -1
  while (++i < block.length) {
    this.state[i] ^= block[i]
  }
  this._multiply()
}

GHASH.prototype._multiply = function () {
  var Vi = toArray(this.h)
  var Zi = [0, 0, 0, 0]
  var j, xi, lsb_Vi
  var i = -1
  while (++i < 128) {
    xi = (this.state[~~(i / 8)] & (1 << (7 - i % 8))) !== 0
    if (xi) {
      // Z_i+1 = Z_i ^ V_i
      Zi = xor(Zi, Vi)
    }

    // Store the value of LSB(V_i)
    lsb_Vi = (Vi[3] & 1) !== 0

    // V_i+1 = V_i >> 1
    for (j = 3; j > 0; j--) {
      Vi[j] = (Vi[j] >>> 1) | ((Vi[j - 1] & 1) << 31)
    }
    Vi[0] = Vi[0] >>> 1

    // If LSB(V_i) is 1, V_i+1 = (V_i >> 1) ^ R
    if (lsb_Vi) {
      Vi[0] = Vi[0] ^ (0xe1 << 24)
    }
  }
  this.state = fromArray(Zi)
}
GHASH.prototype.update = function (buf) {
  this.cache = Buffer.concat([this.cache, buf])
  var chunk
  while (this.cache.length >= 16) {
    chunk = this.cache.slice(0, 16)
    this.cache = this.cache.slice(16)
    this.ghash(chunk)
  }
}
GHASH.prototype.final = function (abl, bl) {
  if (this.cache.length) {
    this.ghash(Buffer.concat([this.cache, zeros], 16))
  }
  this.ghash(fromArray([
    0, abl,
    0, bl
  ]))
  return this.state
}

function toArray (buf) {
  return [
    buf.readUInt32BE(0),
    buf.readUInt32BE(4),
    buf.readUInt32BE(8),
    buf.readUInt32BE(12)
  ]
}
function fromArray (out) {
  out = out.map(fixup_uint32)
  var buf = new Buffer(16)
  buf.writeUInt32BE(out[0], 0)
  buf.writeUInt32BE(out[1], 4)
  buf.writeUInt32BE(out[2], 8)
  buf.writeUInt32BE(out[3], 12)
  return buf
}
var uint_max = Math.pow(2, 32)
function fixup_uint32 (x) {
  var ret, x_pos
  ret = x > uint_max || x < 0 ? (x_pos = Math.abs(x) % uint_max, x < 0 ? uint_max - x_pos : x_pos) : x
  return ret
}
function xor (a, b) {
  return [
    a[0] ^ b[0],
    a[1] ^ b[1],
    a[2] ^ b[2],
    a[3] ^ b[3]
  ]
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL2doYXNoLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciB6ZXJvcyA9IG5ldyBCdWZmZXIoMTYpXG56ZXJvcy5maWxsKDApXG5tb2R1bGUuZXhwb3J0cyA9IEdIQVNIXG5mdW5jdGlvbiBHSEFTSCAoa2V5KSB7XG4gIHRoaXMuaCA9IGtleVxuICB0aGlzLnN0YXRlID0gbmV3IEJ1ZmZlcigxNilcbiAgdGhpcy5zdGF0ZS5maWxsKDApXG4gIHRoaXMuY2FjaGUgPSBuZXcgQnVmZmVyKCcnKVxufVxuLy8gZnJvbSBodHRwOi8vYml0d2lzZXNoaWZ0bGVmdC5naXRodWIuaW8vc2pjbC9kb2Mvc3ltYm9scy9zcmMvY29yZV9nY20uanMuaHRtbFxuLy8gYnkgSnVobyBWw6Row6QtSGVydHR1YVxuR0hBU0gucHJvdG90eXBlLmdoYXNoID0gZnVuY3Rpb24gKGJsb2NrKSB7XG4gIHZhciBpID0gLTFcbiAgd2hpbGUgKCsraSA8IGJsb2NrLmxlbmd0aCkge1xuICAgIHRoaXMuc3RhdGVbaV0gXj0gYmxvY2tbaV1cbiAgfVxuICB0aGlzLl9tdWx0aXBseSgpXG59XG5cbkdIQVNILnByb3RvdHlwZS5fbXVsdGlwbHkgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBWaSA9IHRvQXJyYXkodGhpcy5oKVxuICB2YXIgWmkgPSBbMCwgMCwgMCwgMF1cbiAgdmFyIGosIHhpLCBsc2JfVmlcbiAgdmFyIGkgPSAtMVxuICB3aGlsZSAoKytpIDwgMTI4KSB7XG4gICAgeGkgPSAodGhpcy5zdGF0ZVt+fihpIC8gOCldICYgKDEgPDwgKDcgLSBpICUgOCkpKSAhPT0gMFxuICAgIGlmICh4aSkge1xuICAgICAgLy8gWl9pKzEgPSBaX2kgXiBWX2lcbiAgICAgIFppID0geG9yKFppLCBWaSlcbiAgICB9XG5cbiAgICAvLyBTdG9yZSB0aGUgdmFsdWUgb2YgTFNCKFZfaSlcbiAgICBsc2JfVmkgPSAoVmlbM10gJiAxKSAhPT0gMFxuXG4gICAgLy8gVl9pKzEgPSBWX2kgPj4gMVxuICAgIGZvciAoaiA9IDM7IGogPiAwOyBqLS0pIHtcbiAgICAgIFZpW2pdID0gKFZpW2pdID4+PiAxKSB8ICgoVmlbaiAtIDFdICYgMSkgPDwgMzEpXG4gICAgfVxuICAgIFZpWzBdID0gVmlbMF0gPj4+IDFcblxuICAgIC8vIElmIExTQihWX2kpIGlzIDEsIFZfaSsxID0gKFZfaSA+PiAxKSBeIFJcbiAgICBpZiAobHNiX1ZpKSB7XG4gICAgICBWaVswXSA9IFZpWzBdIF4gKDB4ZTEgPDwgMjQpXG4gICAgfVxuICB9XG4gIHRoaXMuc3RhdGUgPSBmcm9tQXJyYXkoWmkpXG59XG5HSEFTSC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGJ1Zikge1xuICB0aGlzLmNhY2hlID0gQnVmZmVyLmNvbmNhdChbdGhpcy5jYWNoZSwgYnVmXSlcbiAgdmFyIGNodW5rXG4gIHdoaWxlICh0aGlzLmNhY2hlLmxlbmd0aCA+PSAxNikge1xuICAgIGNodW5rID0gdGhpcy5jYWNoZS5zbGljZSgwLCAxNilcbiAgICB0aGlzLmNhY2hlID0gdGhpcy5jYWNoZS5zbGljZSgxNilcbiAgICB0aGlzLmdoYXNoKGNodW5rKVxuICB9XG59XG5HSEFTSC5wcm90b3R5cGUuZmluYWwgPSBmdW5jdGlvbiAoYWJsLCBibCkge1xuICBpZiAodGhpcy5jYWNoZS5sZW5ndGgpIHtcbiAgICB0aGlzLmdoYXNoKEJ1ZmZlci5jb25jYXQoW3RoaXMuY2FjaGUsIHplcm9zXSwgMTYpKVxuICB9XG4gIHRoaXMuZ2hhc2goZnJvbUFycmF5KFtcbiAgICAwLCBhYmwsXG4gICAgMCwgYmxcbiAgXSkpXG4gIHJldHVybiB0aGlzLnN0YXRlXG59XG5cbmZ1bmN0aW9uIHRvQXJyYXkgKGJ1Zikge1xuICByZXR1cm4gW1xuICAgIGJ1Zi5yZWFkVUludDMyQkUoMCksXG4gICAgYnVmLnJlYWRVSW50MzJCRSg0KSxcbiAgICBidWYucmVhZFVJbnQzMkJFKDgpLFxuICAgIGJ1Zi5yZWFkVUludDMyQkUoMTIpXG4gIF1cbn1cbmZ1bmN0aW9uIGZyb21BcnJheSAob3V0KSB7XG4gIG91dCA9IG91dC5tYXAoZml4dXBfdWludDMyKVxuICB2YXIgYnVmID0gbmV3IEJ1ZmZlcigxNilcbiAgYnVmLndyaXRlVUludDMyQkUob3V0WzBdLCAwKVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbMV0sIDQpXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFsyXSwgOClcbiAgYnVmLndyaXRlVUludDMyQkUob3V0WzNdLCAxMilcbiAgcmV0dXJuIGJ1ZlxufVxudmFyIHVpbnRfbWF4ID0gTWF0aC5wb3coMiwgMzIpXG5mdW5jdGlvbiBmaXh1cF91aW50MzIgKHgpIHtcbiAgdmFyIHJldCwgeF9wb3NcbiAgcmV0ID0geCA+IHVpbnRfbWF4IHx8IHggPCAwID8gKHhfcG9zID0gTWF0aC5hYnMoeCkgJSB1aW50X21heCwgeCA8IDAgPyB1aW50X21heCAtIHhfcG9zIDogeF9wb3MpIDogeFxuICByZXR1cm4gcmV0XG59XG5mdW5jdGlvbiB4b3IgKGEsIGIpIHtcbiAgcmV0dXJuIFtcbiAgICBhWzBdIF4gYlswXSxcbiAgICBhWzFdIF4gYlsxXSxcbiAgICBhWzJdIF4gYlsyXSxcbiAgICBhWzNdIF4gYlszXVxuICBdXG59XG4iXX0=
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/browserify-aes/aes.js":[function(require,module,exports){
(function (Buffer){
// based on the aes implimentation in triple sec
// https://github.com/keybase/triplesec

// which is in turn based on the one from crypto-js
// https://code.google.com/p/crypto-js/

var uint_max = Math.pow(2, 32)
function fixup_uint32 (x) {
  var ret, x_pos
  ret = x > uint_max || x < 0 ? (x_pos = Math.abs(x) % uint_max, x < 0 ? uint_max - x_pos : x_pos) : x
  return ret
}
function scrub_vec (v) {
  for (var i = 0; i < v.length; v++) {
    v[i] = 0
  }
  return false
}

function Global () {
  this.SBOX = []
  this.INV_SBOX = []
  this.SUB_MIX = [[], [], [], []]
  this.INV_SUB_MIX = [[], [], [], []]
  this.init()
  this.RCON = [0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80, 0x1b, 0x36]
}

Global.prototype.init = function () {
  var d, i, sx, t, x, x2, x4, x8, xi, _i
  d = (function () {
    var _i, _results
    _results = []
    for (i = _i = 0; _i < 256; i = ++_i) {
      if (i < 128) {
        _results.push(i << 1)
      } else {
        _results.push((i << 1) ^ 0x11b)
      }
    }
    return _results
  })()
  x = 0
  xi = 0
  for (i = _i = 0; _i < 256; i = ++_i) {
    sx = xi ^ (xi << 1) ^ (xi << 2) ^ (xi << 3) ^ (xi << 4)
    sx = (sx >>> 8) ^ (sx & 0xff) ^ 0x63
    this.SBOX[x] = sx
    this.INV_SBOX[sx] = x
    x2 = d[x]
    x4 = d[x2]
    x8 = d[x4]
    t = (d[sx] * 0x101) ^ (sx * 0x1010100)
    this.SUB_MIX[0][x] = (t << 24) | (t >>> 8)
    this.SUB_MIX[1][x] = (t << 16) | (t >>> 16)
    this.SUB_MIX[2][x] = (t << 8) | (t >>> 24)
    this.SUB_MIX[3][x] = t
    t = (x8 * 0x1010101) ^ (x4 * 0x10001) ^ (x2 * 0x101) ^ (x * 0x1010100)
    this.INV_SUB_MIX[0][sx] = (t << 24) | (t >>> 8)
    this.INV_SUB_MIX[1][sx] = (t << 16) | (t >>> 16)
    this.INV_SUB_MIX[2][sx] = (t << 8) | (t >>> 24)
    this.INV_SUB_MIX[3][sx] = t
    if (x === 0) {
      x = xi = 1
    } else {
      x = x2 ^ d[d[d[x8 ^ x2]]]
      xi ^= d[d[xi]]
    }
  }
  return true
}

var G = new Global()

AES.blockSize = 4 * 4

AES.prototype.blockSize = AES.blockSize

AES.keySize = 256 / 8

AES.prototype.keySize = AES.keySize

function bufferToArray (buf) {
  var len = buf.length / 4
  var out = new Array(len)
  var i = -1
  while (++i < len) {
    out[i] = buf.readUInt32BE(i * 4)
  }
  return out
}
function AES (key) {
  this._key = bufferToArray(key)
  this._doReset()
}

AES.prototype._doReset = function () {
  var invKsRow, keySize, keyWords, ksRow, ksRows, t
  keyWords = this._key
  keySize = keyWords.length
  this._nRounds = keySize + 6
  ksRows = (this._nRounds + 1) * 4
  this._keySchedule = []
  for (ksRow = 0; ksRow < ksRows; ksRow++) {
    this._keySchedule[ksRow] = ksRow < keySize ? keyWords[ksRow] : (t = this._keySchedule[ksRow - 1], (ksRow % keySize) === 0 ? (t = (t << 8) | (t >>> 24), t = (G.SBOX[t >>> 24] << 24) | (G.SBOX[(t >>> 16) & 0xff] << 16) | (G.SBOX[(t >>> 8) & 0xff] << 8) | G.SBOX[t & 0xff], t ^= G.RCON[(ksRow / keySize) | 0] << 24) : keySize > 6 && ksRow % keySize === 4 ? t = (G.SBOX[t >>> 24] << 24) | (G.SBOX[(t >>> 16) & 0xff] << 16) | (G.SBOX[(t >>> 8) & 0xff] << 8) | G.SBOX[t & 0xff] : void 0, this._keySchedule[ksRow - keySize] ^ t)
  }
  this._invKeySchedule = []
  for (invKsRow = 0; invKsRow < ksRows; invKsRow++) {
    ksRow = ksRows - invKsRow
    t = this._keySchedule[ksRow - (invKsRow % 4 ? 0 : 4)]
    this._invKeySchedule[invKsRow] = invKsRow < 4 || ksRow <= 4 ? t : G.INV_SUB_MIX[0][G.SBOX[t >>> 24]] ^ G.INV_SUB_MIX[1][G.SBOX[(t >>> 16) & 0xff]] ^ G.INV_SUB_MIX[2][G.SBOX[(t >>> 8) & 0xff]] ^ G.INV_SUB_MIX[3][G.SBOX[t & 0xff]]
  }
  return true
}

AES.prototype.encryptBlock = function (M) {
  M = bufferToArray(new Buffer(M))
  var out = this._doCryptBlock(M, this._keySchedule, G.SUB_MIX, G.SBOX)
  var buf = new Buffer(16)
  buf.writeUInt32BE(out[0], 0)
  buf.writeUInt32BE(out[1], 4)
  buf.writeUInt32BE(out[2], 8)
  buf.writeUInt32BE(out[3], 12)
  return buf
}

AES.prototype.decryptBlock = function (M) {
  M = bufferToArray(new Buffer(M))
  var temp = [M[3], M[1]]
  M[1] = temp[0]
  M[3] = temp[1]
  var out = this._doCryptBlock(M, this._invKeySchedule, G.INV_SUB_MIX, G.INV_SBOX)
  var buf = new Buffer(16)
  buf.writeUInt32BE(out[0], 0)
  buf.writeUInt32BE(out[3], 4)
  buf.writeUInt32BE(out[2], 8)
  buf.writeUInt32BE(out[1], 12)
  return buf
}

AES.prototype.scrub = function () {
  scrub_vec(this._keySchedule)
  scrub_vec(this._invKeySchedule)
  scrub_vec(this._key)
}

AES.prototype._doCryptBlock = function (M, keySchedule, SUB_MIX, SBOX) {
  var ksRow, s0, s1, s2, s3, t0, t1, t2, t3

  s0 = M[0] ^ keySchedule[0]
  s1 = M[1] ^ keySchedule[1]
  s2 = M[2] ^ keySchedule[2]
  s3 = M[3] ^ keySchedule[3]
  ksRow = 4
  for (var round = 1; round < this._nRounds; round++) {
    t0 = SUB_MIX[0][s0 >>> 24] ^ SUB_MIX[1][(s1 >>> 16) & 0xff] ^ SUB_MIX[2][(s2 >>> 8) & 0xff] ^ SUB_MIX[3][s3 & 0xff] ^ keySchedule[ksRow++]
    t1 = SUB_MIX[0][s1 >>> 24] ^ SUB_MIX[1][(s2 >>> 16) & 0xff] ^ SUB_MIX[2][(s3 >>> 8) & 0xff] ^ SUB_MIX[3][s0 & 0xff] ^ keySchedule[ksRow++]
    t2 = SUB_MIX[0][s2 >>> 24] ^ SUB_MIX[1][(s3 >>> 16) & 0xff] ^ SUB_MIX[2][(s0 >>> 8) & 0xff] ^ SUB_MIX[3][s1 & 0xff] ^ keySchedule[ksRow++]
    t3 = SUB_MIX[0][s3 >>> 24] ^ SUB_MIX[1][(s0 >>> 16) & 0xff] ^ SUB_MIX[2][(s1 >>> 8) & 0xff] ^ SUB_MIX[3][s2 & 0xff] ^ keySchedule[ksRow++]
    s0 = t0
    s1 = t1
    s2 = t2
    s3 = t3
  }
  t0 = ((SBOX[s0 >>> 24] << 24) | (SBOX[(s1 >>> 16) & 0xff] << 16) | (SBOX[(s2 >>> 8) & 0xff] << 8) | SBOX[s3 & 0xff]) ^ keySchedule[ksRow++]
  t1 = ((SBOX[s1 >>> 24] << 24) | (SBOX[(s2 >>> 16) & 0xff] << 16) | (SBOX[(s3 >>> 8) & 0xff] << 8) | SBOX[s0 & 0xff]) ^ keySchedule[ksRow++]
  t2 = ((SBOX[s2 >>> 24] << 24) | (SBOX[(s3 >>> 16) & 0xff] << 16) | (SBOX[(s0 >>> 8) & 0xff] << 8) | SBOX[s1 & 0xff]) ^ keySchedule[ksRow++]
  t3 = ((SBOX[s3 >>> 24] << 24) | (SBOX[(s0 >>> 16) & 0xff] << 16) | (SBOX[(s1 >>> 8) & 0xff] << 8) | SBOX[s2 & 0xff]) ^ keySchedule[ksRow++]
  return [
    fixup_uint32(t0),
    fixup_uint32(t1),
    fixup_uint32(t2),
    fixup_uint32(t3)
  ]
}

exports.AES = AES

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL2Flcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIi8vIGJhc2VkIG9uIHRoZSBhZXMgaW1wbGltZW50YXRpb24gaW4gdHJpcGxlIHNlY1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2tleWJhc2UvdHJpcGxlc2VjXG5cbi8vIHdoaWNoIGlzIGluIHR1cm4gYmFzZWQgb24gdGhlIG9uZSBmcm9tIGNyeXB0by1qc1xuLy8gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMvXG5cbnZhciB1aW50X21heCA9IE1hdGgucG93KDIsIDMyKVxuZnVuY3Rpb24gZml4dXBfdWludDMyICh4KSB7XG4gIHZhciByZXQsIHhfcG9zXG4gIHJldCA9IHggPiB1aW50X21heCB8fCB4IDwgMCA/ICh4X3BvcyA9IE1hdGguYWJzKHgpICUgdWludF9tYXgsIHggPCAwID8gdWludF9tYXggLSB4X3BvcyA6IHhfcG9zKSA6IHhcbiAgcmV0dXJuIHJldFxufVxuZnVuY3Rpb24gc2NydWJfdmVjICh2KSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdi5sZW5ndGg7IHYrKykge1xuICAgIHZbaV0gPSAwXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIEdsb2JhbCAoKSB7XG4gIHRoaXMuU0JPWCA9IFtdXG4gIHRoaXMuSU5WX1NCT1ggPSBbXVxuICB0aGlzLlNVQl9NSVggPSBbW10sIFtdLCBbXSwgW11dXG4gIHRoaXMuSU5WX1NVQl9NSVggPSBbW10sIFtdLCBbXSwgW11dXG4gIHRoaXMuaW5pdCgpXG4gIHRoaXMuUkNPTiA9IFsweDAwLCAweDAxLCAweDAyLCAweDA0LCAweDA4LCAweDEwLCAweDIwLCAweDQwLCAweDgwLCAweDFiLCAweDM2XVxufVxuXG5HbG9iYWwucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBkLCBpLCBzeCwgdCwgeCwgeDIsIHg0LCB4OCwgeGksIF9pXG4gIGQgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBfaSwgX3Jlc3VsdHNcbiAgICBfcmVzdWx0cyA9IFtdXG4gICAgZm9yIChpID0gX2kgPSAwOyBfaSA8IDI1NjsgaSA9ICsrX2kpIHtcbiAgICAgIGlmIChpIDwgMTI4KSB7XG4gICAgICAgIF9yZXN1bHRzLnB1c2goaSA8PCAxKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3Jlc3VsdHMucHVzaCgoaSA8PCAxKSBeIDB4MTFiKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX3Jlc3VsdHNcbiAgfSkoKVxuICB4ID0gMFxuICB4aSA9IDBcbiAgZm9yIChpID0gX2kgPSAwOyBfaSA8IDI1NjsgaSA9ICsrX2kpIHtcbiAgICBzeCA9IHhpIF4gKHhpIDw8IDEpIF4gKHhpIDw8IDIpIF4gKHhpIDw8IDMpIF4gKHhpIDw8IDQpXG4gICAgc3ggPSAoc3ggPj4+IDgpIF4gKHN4ICYgMHhmZikgXiAweDYzXG4gICAgdGhpcy5TQk9YW3hdID0gc3hcbiAgICB0aGlzLklOVl9TQk9YW3N4XSA9IHhcbiAgICB4MiA9IGRbeF1cbiAgICB4NCA9IGRbeDJdXG4gICAgeDggPSBkW3g0XVxuICAgIHQgPSAoZFtzeF0gKiAweDEwMSkgXiAoc3ggKiAweDEwMTAxMDApXG4gICAgdGhpcy5TVUJfTUlYWzBdW3hdID0gKHQgPDwgMjQpIHwgKHQgPj4+IDgpXG4gICAgdGhpcy5TVUJfTUlYWzFdW3hdID0gKHQgPDwgMTYpIHwgKHQgPj4+IDE2KVxuICAgIHRoaXMuU1VCX01JWFsyXVt4XSA9ICh0IDw8IDgpIHwgKHQgPj4+IDI0KVxuICAgIHRoaXMuU1VCX01JWFszXVt4XSA9IHRcbiAgICB0ID0gKHg4ICogMHgxMDEwMTAxKSBeICh4NCAqIDB4MTAwMDEpIF4gKHgyICogMHgxMDEpIF4gKHggKiAweDEwMTAxMDApXG4gICAgdGhpcy5JTlZfU1VCX01JWFswXVtzeF0gPSAodCA8PCAyNCkgfCAodCA+Pj4gOClcbiAgICB0aGlzLklOVl9TVUJfTUlYWzFdW3N4XSA9ICh0IDw8IDE2KSB8ICh0ID4+PiAxNilcbiAgICB0aGlzLklOVl9TVUJfTUlYWzJdW3N4XSA9ICh0IDw8IDgpIHwgKHQgPj4+IDI0KVxuICAgIHRoaXMuSU5WX1NVQl9NSVhbM11bc3hdID0gdFxuICAgIGlmICh4ID09PSAwKSB7XG4gICAgICB4ID0geGkgPSAxXG4gICAgfSBlbHNlIHtcbiAgICAgIHggPSB4MiBeIGRbZFtkW3g4IF4geDJdXV1cbiAgICAgIHhpIF49IGRbZFt4aV1dXG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbnZhciBHID0gbmV3IEdsb2JhbCgpXG5cbkFFUy5ibG9ja1NpemUgPSA0ICogNFxuXG5BRVMucHJvdG90eXBlLmJsb2NrU2l6ZSA9IEFFUy5ibG9ja1NpemVcblxuQUVTLmtleVNpemUgPSAyNTYgLyA4XG5cbkFFUy5wcm90b3R5cGUua2V5U2l6ZSA9IEFFUy5rZXlTaXplXG5cbmZ1bmN0aW9uIGJ1ZmZlclRvQXJyYXkgKGJ1Zikge1xuICB2YXIgbGVuID0gYnVmLmxlbmd0aCAvIDRcbiAgdmFyIG91dCA9IG5ldyBBcnJheShsZW4pXG4gIHZhciBpID0gLTFcbiAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgIG91dFtpXSA9IGJ1Zi5yZWFkVUludDMyQkUoaSAqIDQpXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuZnVuY3Rpb24gQUVTIChrZXkpIHtcbiAgdGhpcy5fa2V5ID0gYnVmZmVyVG9BcnJheShrZXkpXG4gIHRoaXMuX2RvUmVzZXQoKVxufVxuXG5BRVMucHJvdG90eXBlLl9kb1Jlc2V0ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaW52S3NSb3csIGtleVNpemUsIGtleVdvcmRzLCBrc1Jvdywga3NSb3dzLCB0XG4gIGtleVdvcmRzID0gdGhpcy5fa2V5XG4gIGtleVNpemUgPSBrZXlXb3Jkcy5sZW5ndGhcbiAgdGhpcy5fblJvdW5kcyA9IGtleVNpemUgKyA2XG4gIGtzUm93cyA9ICh0aGlzLl9uUm91bmRzICsgMSkgKiA0XG4gIHRoaXMuX2tleVNjaGVkdWxlID0gW11cbiAgZm9yIChrc1JvdyA9IDA7IGtzUm93IDwga3NSb3dzOyBrc1JvdysrKSB7XG4gICAgdGhpcy5fa2V5U2NoZWR1bGVba3NSb3ddID0ga3NSb3cgPCBrZXlTaXplID8ga2V5V29yZHNba3NSb3ddIDogKHQgPSB0aGlzLl9rZXlTY2hlZHVsZVtrc1JvdyAtIDFdLCAoa3NSb3cgJSBrZXlTaXplKSA9PT0gMCA/ICh0ID0gKHQgPDwgOCkgfCAodCA+Pj4gMjQpLCB0ID0gKEcuU0JPWFt0ID4+PiAyNF0gPDwgMjQpIHwgKEcuU0JPWFsodCA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKEcuU0JPWFsodCA+Pj4gOCkgJiAweGZmXSA8PCA4KSB8IEcuU0JPWFt0ICYgMHhmZl0sIHQgXj0gRy5SQ09OWyhrc1JvdyAvIGtleVNpemUpIHwgMF0gPDwgMjQpIDoga2V5U2l6ZSA+IDYgJiYga3NSb3cgJSBrZXlTaXplID09PSA0ID8gdCA9IChHLlNCT1hbdCA+Pj4gMjRdIDw8IDI0KSB8IChHLlNCT1hbKHQgPj4+IDE2KSAmIDB4ZmZdIDw8IDE2KSB8IChHLlNCT1hbKHQgPj4+IDgpICYgMHhmZl0gPDwgOCkgfCBHLlNCT1hbdCAmIDB4ZmZdIDogdm9pZCAwLCB0aGlzLl9rZXlTY2hlZHVsZVtrc1JvdyAtIGtleVNpemVdIF4gdClcbiAgfVxuICB0aGlzLl9pbnZLZXlTY2hlZHVsZSA9IFtdXG4gIGZvciAoaW52S3NSb3cgPSAwOyBpbnZLc1JvdyA8IGtzUm93czsgaW52S3NSb3crKykge1xuICAgIGtzUm93ID0ga3NSb3dzIC0gaW52S3NSb3dcbiAgICB0ID0gdGhpcy5fa2V5U2NoZWR1bGVba3NSb3cgLSAoaW52S3NSb3cgJSA0ID8gMCA6IDQpXVxuICAgIHRoaXMuX2ludktleVNjaGVkdWxlW2ludktzUm93XSA9IGludktzUm93IDwgNCB8fCBrc1JvdyA8PSA0ID8gdCA6IEcuSU5WX1NVQl9NSVhbMF1bRy5TQk9YW3QgPj4+IDI0XV0gXiBHLklOVl9TVUJfTUlYWzFdW0cuU0JPWFsodCA+Pj4gMTYpICYgMHhmZl1dIF4gRy5JTlZfU1VCX01JWFsyXVtHLlNCT1hbKHQgPj4+IDgpICYgMHhmZl1dIF4gRy5JTlZfU1VCX01JWFszXVtHLlNCT1hbdCAmIDB4ZmZdXVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbkFFUy5wcm90b3R5cGUuZW5jcnlwdEJsb2NrID0gZnVuY3Rpb24gKE0pIHtcbiAgTSA9IGJ1ZmZlclRvQXJyYXkobmV3IEJ1ZmZlcihNKSlcbiAgdmFyIG91dCA9IHRoaXMuX2RvQ3J5cHRCbG9jayhNLCB0aGlzLl9rZXlTY2hlZHVsZSwgRy5TVUJfTUlYLCBHLlNCT1gpXG4gIHZhciBidWYgPSBuZXcgQnVmZmVyKDE2KVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbMF0sIDApXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFsxXSwgNClcbiAgYnVmLndyaXRlVUludDMyQkUob3V0WzJdLCA4KVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbM10sIDEyKVxuICByZXR1cm4gYnVmXG59XG5cbkFFUy5wcm90b3R5cGUuZGVjcnlwdEJsb2NrID0gZnVuY3Rpb24gKE0pIHtcbiAgTSA9IGJ1ZmZlclRvQXJyYXkobmV3IEJ1ZmZlcihNKSlcbiAgdmFyIHRlbXAgPSBbTVszXSwgTVsxXV1cbiAgTVsxXSA9IHRlbXBbMF1cbiAgTVszXSA9IHRlbXBbMV1cbiAgdmFyIG91dCA9IHRoaXMuX2RvQ3J5cHRCbG9jayhNLCB0aGlzLl9pbnZLZXlTY2hlZHVsZSwgRy5JTlZfU1VCX01JWCwgRy5JTlZfU0JPWClcbiAgdmFyIGJ1ZiA9IG5ldyBCdWZmZXIoMTYpXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFswXSwgMClcbiAgYnVmLndyaXRlVUludDMyQkUob3V0WzNdLCA0KVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbMl0sIDgpXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFsxXSwgMTIpXG4gIHJldHVybiBidWZcbn1cblxuQUVTLnByb3RvdHlwZS5zY3J1YiA9IGZ1bmN0aW9uICgpIHtcbiAgc2NydWJfdmVjKHRoaXMuX2tleVNjaGVkdWxlKVxuICBzY3J1Yl92ZWModGhpcy5faW52S2V5U2NoZWR1bGUpXG4gIHNjcnViX3ZlYyh0aGlzLl9rZXkpXG59XG5cbkFFUy5wcm90b3R5cGUuX2RvQ3J5cHRCbG9jayA9IGZ1bmN0aW9uIChNLCBrZXlTY2hlZHVsZSwgU1VCX01JWCwgU0JPWCkge1xuICB2YXIga3NSb3csIHMwLCBzMSwgczIsIHMzLCB0MCwgdDEsIHQyLCB0M1xuXG4gIHMwID0gTVswXSBeIGtleVNjaGVkdWxlWzBdXG4gIHMxID0gTVsxXSBeIGtleVNjaGVkdWxlWzFdXG4gIHMyID0gTVsyXSBeIGtleVNjaGVkdWxlWzJdXG4gIHMzID0gTVszXSBeIGtleVNjaGVkdWxlWzNdXG4gIGtzUm93ID0gNFxuICBmb3IgKHZhciByb3VuZCA9IDE7IHJvdW5kIDwgdGhpcy5fblJvdW5kczsgcm91bmQrKykge1xuICAgIHQwID0gU1VCX01JWFswXVtzMCA+Pj4gMjRdIF4gU1VCX01JWFsxXVsoczEgPj4+IDE2KSAmIDB4ZmZdIF4gU1VCX01JWFsyXVsoczIgPj4+IDgpICYgMHhmZl0gXiBTVUJfTUlYWzNdW3MzICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICAgIHQxID0gU1VCX01JWFswXVtzMSA+Pj4gMjRdIF4gU1VCX01JWFsxXVsoczIgPj4+IDE2KSAmIDB4ZmZdIF4gU1VCX01JWFsyXVsoczMgPj4+IDgpICYgMHhmZl0gXiBTVUJfTUlYWzNdW3MwICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICAgIHQyID0gU1VCX01JWFswXVtzMiA+Pj4gMjRdIF4gU1VCX01JWFsxXVsoczMgPj4+IDE2KSAmIDB4ZmZdIF4gU1VCX01JWFsyXVsoczAgPj4+IDgpICYgMHhmZl0gXiBTVUJfTUlYWzNdW3MxICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICAgIHQzID0gU1VCX01JWFswXVtzMyA+Pj4gMjRdIF4gU1VCX01JWFsxXVsoczAgPj4+IDE2KSAmIDB4ZmZdIF4gU1VCX01JWFsyXVsoczEgPj4+IDgpICYgMHhmZl0gXiBTVUJfTUlYWzNdW3MyICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICAgIHMwID0gdDBcbiAgICBzMSA9IHQxXG4gICAgczIgPSB0MlxuICAgIHMzID0gdDNcbiAgfVxuICB0MCA9ICgoU0JPWFtzMCA+Pj4gMjRdIDw8IDI0KSB8IChTQk9YWyhzMSA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKFNCT1hbKHMyID4+PiA4KSAmIDB4ZmZdIDw8IDgpIHwgU0JPWFtzMyAmIDB4ZmZdKSBeIGtleVNjaGVkdWxlW2tzUm93KytdXG4gIHQxID0gKChTQk9YW3MxID4+PiAyNF0gPDwgMjQpIHwgKFNCT1hbKHMyID4+PiAxNikgJiAweGZmXSA8PCAxNikgfCAoU0JPWFsoczMgPj4+IDgpICYgMHhmZl0gPDwgOCkgfCBTQk9YW3MwICYgMHhmZl0pIF4ga2V5U2NoZWR1bGVba3NSb3crK11cbiAgdDIgPSAoKFNCT1hbczIgPj4+IDI0XSA8PCAyNCkgfCAoU0JPWFsoczMgPj4+IDE2KSAmIDB4ZmZdIDw8IDE2KSB8IChTQk9YWyhzMCA+Pj4gOCkgJiAweGZmXSA8PCA4KSB8IFNCT1hbczEgJiAweGZmXSkgXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICB0MyA9ICgoU0JPWFtzMyA+Pj4gMjRdIDw8IDI0KSB8IChTQk9YWyhzMCA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKFNCT1hbKHMxID4+PiA4KSAmIDB4ZmZdIDw8IDgpIHwgU0JPWFtzMiAmIDB4ZmZdKSBeIGtleVNjaGVkdWxlW2tzUm93KytdXG4gIHJldHVybiBbXG4gICAgZml4dXBfdWludDMyKHQwKSxcbiAgICBmaXh1cF91aW50MzIodDEpLFxuICAgIGZpeHVwX3VpbnQzMih0MiksXG4gICAgZml4dXBfdWludDMyKHQzKVxuICBdXG59XG5cbmV4cG9ydHMuQUVTID0gQUVTXG4iXX0=
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/asn1.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/asn1.js"][0].apply(exports,arguments)
},{"asn1.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1.js"][0].apply(exports,arguments)
},{"./asn1/api":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/api.js","./asn1/base":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/index.js","./asn1/constants":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/constants/index.js","./asn1/decoders":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/decoders/index.js","./asn1/encoders":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/encoders/index.js","bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/bn.js/lib/bn.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/encoders/index.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/encoders/index.js"][0].apply(exports,arguments)
},{"./der":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/encoders/der.js","./pem":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/encoders/pem.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/encoders/pem.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/encoders/pem.js"][0].apply(exports,arguments)
},{"../../asn1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1.js","./der":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/encoders/der.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/encoders/der.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/encoders/der.js"][0].apply(exports,arguments)
},{"../../asn1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/decoders/index.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/decoders/index.js"][0].apply(exports,arguments)
},{"./der":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/decoders/der.js","./pem":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/decoders/pem.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/decoders/pem.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/decoders/pem.js"][0].apply(exports,arguments)
},{"../../asn1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1.js","./der":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/decoders/der.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/decoders/der.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/decoders/der.js"][0].apply(exports,arguments)
},{"../../asn1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/constants/index.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/constants/index.js"][0].apply(exports,arguments)
},{"./der":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/constants/der.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/constants/der.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/constants/der.js"][0].apply(exports,arguments)
},{"../constants":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/constants/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/index.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/index.js"][0].apply(exports,arguments)
},{"./buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/buffer.js","./node":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/node.js","./reporter":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/reporter.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/reporter.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/reporter.js"][0].apply(exports,arguments)
},{"inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/node.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/node.js"][0].apply(exports,arguments)
},{"../base":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/index.js","minimalistic-assert":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/node_modules/minimalistic-assert/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/node_modules/minimalistic-assert/index.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/node_modules/minimalistic-assert/index.js"][0].apply(exports,arguments)
},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/buffer.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/buffer.js"][0].apply(exports,arguments)
},{"../base":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/index.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/api.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/api.js"][0].apply(exports,arguments)
},{"../asn1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js","vm":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/vm-browserify/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/parse-asn1/aesid.json":[function(require,module,exports){
module.exports=module.exports=arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/aesid.json"][0].apply(exports,arguments)
},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/browserify-rsa/index.js":[function(require,module,exports){
(function (Buffer){
var bn = require('bn.js');
var randomBytes = require('randombytes');
module.exports = crt;
function blind(priv) {
  var r = getr(priv);
  var blinder = r.toRed(bn.mont(priv.modulus))
  .redPow(new bn(priv.publicExponent)).fromRed();
  return {
    blinder: blinder,
    unblinder:r.invm(priv.modulus)
  };
}
function crt(msg, priv) {
  var blinds = blind(priv);
  var len = priv.modulus.byteLength();
  var mod = bn.mont(priv.modulus);
  var blinded = new bn(msg).mul(blinds.blinder).mod(priv.modulus);
  var c1 = blinded.toRed(bn.mont(priv.prime1));
  var c2 = blinded.toRed(bn.mont(priv.prime2));
  var qinv = priv.coefficient;
  var p = priv.prime1;
  var q = priv.prime2;
  var m1 = c1.redPow(priv.exponent1);
  var m2 = c2.redPow(priv.exponent2);
  m1 = m1.fromRed();
  m2 = m2.fromRed();
  var h = m1.isub(m2).imul(qinv).mod(p);
  h.imul(q);
  m2.iadd(h);
  var out = new Buffer(m2.imul(blinds.unblinder).mod(priv.modulus).toArray());
  if (out.length < len) {
    var prefix = new Buffer(len - out.length);
    prefix.fill(0);
    out = Buffer.concat([prefix, out], len);
  }
  return out;
}
crt.getr = getr;
function getr(priv) {
  var len = priv.modulus.byteLength();
  var r = new bn(randomBytes(len));
  while (r.cmp(priv.modulus) >=  0 || !r.mod(priv.prime1) || !r.mod(priv.prime2)) {
    r = new bn(randomBytes(len));
  }
  return r;
}
}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktcnNhL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGJuID0gcmVxdWlyZSgnYm4uanMnKTtcbnZhciByYW5kb21CeXRlcyA9IHJlcXVpcmUoJ3JhbmRvbWJ5dGVzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGNydDtcbmZ1bmN0aW9uIGJsaW5kKHByaXYpIHtcbiAgdmFyIHIgPSBnZXRyKHByaXYpO1xuICB2YXIgYmxpbmRlciA9IHIudG9SZWQoYm4ubW9udChwcml2Lm1vZHVsdXMpKVxuICAucmVkUG93KG5ldyBibihwcml2LnB1YmxpY0V4cG9uZW50KSkuZnJvbVJlZCgpO1xuICByZXR1cm4ge1xuICAgIGJsaW5kZXI6IGJsaW5kZXIsXG4gICAgdW5ibGluZGVyOnIuaW52bShwcml2Lm1vZHVsdXMpXG4gIH07XG59XG5mdW5jdGlvbiBjcnQobXNnLCBwcml2KSB7XG4gIHZhciBibGluZHMgPSBibGluZChwcml2KTtcbiAgdmFyIGxlbiA9IHByaXYubW9kdWx1cy5ieXRlTGVuZ3RoKCk7XG4gIHZhciBtb2QgPSBibi5tb250KHByaXYubW9kdWx1cyk7XG4gIHZhciBibGluZGVkID0gbmV3IGJuKG1zZykubXVsKGJsaW5kcy5ibGluZGVyKS5tb2QocHJpdi5tb2R1bHVzKTtcbiAgdmFyIGMxID0gYmxpbmRlZC50b1JlZChibi5tb250KHByaXYucHJpbWUxKSk7XG4gIHZhciBjMiA9IGJsaW5kZWQudG9SZWQoYm4ubW9udChwcml2LnByaW1lMikpO1xuICB2YXIgcWludiA9IHByaXYuY29lZmZpY2llbnQ7XG4gIHZhciBwID0gcHJpdi5wcmltZTE7XG4gIHZhciBxID0gcHJpdi5wcmltZTI7XG4gIHZhciBtMSA9IGMxLnJlZFBvdyhwcml2LmV4cG9uZW50MSk7XG4gIHZhciBtMiA9IGMyLnJlZFBvdyhwcml2LmV4cG9uZW50Mik7XG4gIG0xID0gbTEuZnJvbVJlZCgpO1xuICBtMiA9IG0yLmZyb21SZWQoKTtcbiAgdmFyIGggPSBtMS5pc3ViKG0yKS5pbXVsKHFpbnYpLm1vZChwKTtcbiAgaC5pbXVsKHEpO1xuICBtMi5pYWRkKGgpO1xuICB2YXIgb3V0ID0gbmV3IEJ1ZmZlcihtMi5pbXVsKGJsaW5kcy51bmJsaW5kZXIpLm1vZChwcml2Lm1vZHVsdXMpLnRvQXJyYXkoKSk7XG4gIGlmIChvdXQubGVuZ3RoIDwgbGVuKSB7XG4gICAgdmFyIHByZWZpeCA9IG5ldyBCdWZmZXIobGVuIC0gb3V0Lmxlbmd0aCk7XG4gICAgcHJlZml4LmZpbGwoMCk7XG4gICAgb3V0ID0gQnVmZmVyLmNvbmNhdChbcHJlZml4LCBvdXRdLCBsZW4pO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG5jcnQuZ2V0ciA9IGdldHI7XG5mdW5jdGlvbiBnZXRyKHByaXYpIHtcbiAgdmFyIGxlbiA9IHByaXYubW9kdWx1cy5ieXRlTGVuZ3RoKCk7XG4gIHZhciByID0gbmV3IGJuKHJhbmRvbUJ5dGVzKGxlbikpO1xuICB3aGlsZSAoci5jbXAocHJpdi5tb2R1bHVzKSA+PSAgMCB8fCAhci5tb2QocHJpdi5wcmltZTEpIHx8ICFyLm1vZChwcml2LnByaW1lMikpIHtcbiAgICByID0gbmV3IGJuKHJhbmRvbUJ5dGVzKGxlbikpO1xuICB9XG4gIHJldHVybiByO1xufSJdfQ==
},{"bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/bn.js/lib/bn.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","randombytes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/randombytes/browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/node_modules/bn.js/lib/bn.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/diffie-hellman/node_modules/bn.js/lib/bn.js"][0].apply(exports,arguments)
},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/public-encrypt/mgf.js":[function(require,module,exports){
(function (Buffer){
var createHash = require('create-hash');
module.exports = function (seed, len) {
  var t = new Buffer('');
  var  i = 0, c;
  while (t.length < len) {
    c = i2ops(i++);
    t = Buffer.concat([t, createHash('sha1').update(seed).update(c).digest()]);
  }
  return t.slice(0, len);
};

function i2ops(c) {
  var out = new Buffer(4);
  out.writeUInt32BE(c,0);
  return out;
}
}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbWdmLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNyZWF0ZUhhc2ggPSByZXF1aXJlKCdjcmVhdGUtaGFzaCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc2VlZCwgbGVuKSB7XG4gIHZhciB0ID0gbmV3IEJ1ZmZlcignJyk7XG4gIHZhciAgaSA9IDAsIGM7XG4gIHdoaWxlICh0Lmxlbmd0aCA8IGxlbikge1xuICAgIGMgPSBpMm9wcyhpKyspO1xuICAgIHQgPSBCdWZmZXIuY29uY2F0KFt0LCBjcmVhdGVIYXNoKCdzaGExJykudXBkYXRlKHNlZWQpLnVwZGF0ZShjKS5kaWdlc3QoKV0pO1xuICB9XG4gIHJldHVybiB0LnNsaWNlKDAsIGxlbik7XG59O1xuXG5mdW5jdGlvbiBpMm9wcyhjKSB7XG4gIHZhciBvdXQgPSBuZXcgQnVmZmVyKDQpO1xuICBvdXQud3JpdGVVSW50MzJCRShjLDApO1xuICByZXR1cm4gb3V0O1xufSJdfQ==
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","create-hash":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/diffie-hellman/browser.js":[function(require,module,exports){
(function (Buffer){
var generatePrime = require('./lib/generatePrime');
var primes = require('./lib/primes');

var DH = require('./lib/dh');

function getDiffieHellman(mod) {
  var prime = new Buffer(primes[mod].prime, 'hex');
  var gen = new Buffer(primes[mod].gen, 'hex');

  return new DH(prime, gen);
}

function createDiffieHellman(prime, enc, generator, genc) {
  if (Buffer.isBuffer(enc) || (typeof enc === 'string' && ['hex', 'binary', 'base64'].indexOf(enc) === -1)) {
    genc = generator;
    generator = enc;
    enc = undefined;
  }

  enc = enc || 'binary';
  genc = genc || 'binary';
  generator = generator || new Buffer([2]);

  if (!Buffer.isBuffer(generator)) {
    generator = new Buffer(generator, genc);
  }

  if (typeof prime === 'number') {
    return new DH(generatePrime(prime, generator), generator, true);
  }

  if (!Buffer.isBuffer(prime)) {
    prime = new Buffer(prime, enc);
  }

  return new DH(prime, generator, true);
}

exports.DiffieHellmanGroup = exports.createDiffieHellmanGroup = exports.getDiffieHellman = getDiffieHellman;
exports.createDiffieHellman = exports.DiffieHellman = createDiffieHellman;

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvZGlmZmllLWhlbGxtYW4vYnJvd3Nlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGdlbmVyYXRlUHJpbWUgPSByZXF1aXJlKCcuL2xpYi9nZW5lcmF0ZVByaW1lJyk7XG52YXIgcHJpbWVzID0gcmVxdWlyZSgnLi9saWIvcHJpbWVzJyk7XG5cbnZhciBESCA9IHJlcXVpcmUoJy4vbGliL2RoJyk7XG5cbmZ1bmN0aW9uIGdldERpZmZpZUhlbGxtYW4obW9kKSB7XG4gIHZhciBwcmltZSA9IG5ldyBCdWZmZXIocHJpbWVzW21vZF0ucHJpbWUsICdoZXgnKTtcbiAgdmFyIGdlbiA9IG5ldyBCdWZmZXIocHJpbWVzW21vZF0uZ2VuLCAnaGV4Jyk7XG5cbiAgcmV0dXJuIG5ldyBESChwcmltZSwgZ2VuKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRGlmZmllSGVsbG1hbihwcmltZSwgZW5jLCBnZW5lcmF0b3IsIGdlbmMpIHtcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihlbmMpIHx8ICh0eXBlb2YgZW5jID09PSAnc3RyaW5nJyAmJiBbJ2hleCcsICdiaW5hcnknLCAnYmFzZTY0J10uaW5kZXhPZihlbmMpID09PSAtMSkpIHtcbiAgICBnZW5jID0gZ2VuZXJhdG9yO1xuICAgIGdlbmVyYXRvciA9IGVuYztcbiAgICBlbmMgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBlbmMgPSBlbmMgfHwgJ2JpbmFyeSc7XG4gIGdlbmMgPSBnZW5jIHx8ICdiaW5hcnknO1xuICBnZW5lcmF0b3IgPSBnZW5lcmF0b3IgfHwgbmV3IEJ1ZmZlcihbMl0pO1xuXG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGdlbmVyYXRvcikpIHtcbiAgICBnZW5lcmF0b3IgPSBuZXcgQnVmZmVyKGdlbmVyYXRvciwgZ2VuYyk7XG4gIH1cblxuICBpZiAodHlwZW9mIHByaW1lID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBuZXcgREgoZ2VuZXJhdGVQcmltZShwcmltZSwgZ2VuZXJhdG9yKSwgZ2VuZXJhdG9yLCB0cnVlKTtcbiAgfVxuXG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKHByaW1lKSkge1xuICAgIHByaW1lID0gbmV3IEJ1ZmZlcihwcmltZSwgZW5jKTtcbiAgfVxuXG4gIHJldHVybiBuZXcgREgocHJpbWUsIGdlbmVyYXRvciwgdHJ1ZSk7XG59XG5cbmV4cG9ydHMuRGlmZmllSGVsbG1hbkdyb3VwID0gZXhwb3J0cy5jcmVhdGVEaWZmaWVIZWxsbWFuR3JvdXAgPSBleHBvcnRzLmdldERpZmZpZUhlbGxtYW4gPSBnZXREaWZmaWVIZWxsbWFuO1xuZXhwb3J0cy5jcmVhdGVEaWZmaWVIZWxsbWFuID0gZXhwb3J0cy5EaWZmaWVIZWxsbWFuID0gY3JlYXRlRGlmZmllSGVsbG1hbjtcbiJdfQ==
},{"./lib/dh":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/diffie-hellman/lib/dh.js","./lib/generatePrime":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/diffie-hellman/lib/generatePrime.js","./lib/primes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/diffie-hellman/lib/primes.json","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/diffie-hellman/lib/primes.json":[function(require,module,exports){
module.exports=module.exports=module.exports={
    "modp1": {
        "gen": "02",
        "prime": "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"
    },
    "modp2": {
        "gen": "02",
        "prime": "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"
    },
    "modp5": {
        "gen": "02",
        "prime": "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"
    },
    "modp14": {
        "gen": "02",
        "prime": "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"
    },
    "modp15": {
        "gen": "02",
        "prime": "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"
    },
    "modp16": {
        "gen": "02",
        "prime": "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"
    },
    "modp17": {
        "gen": "02",
        "prime": "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"
    },
    "modp18": {
        "gen": "02",
        "prime": "ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"
    }
}
},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/diffie-hellman/lib/dh.js":[function(require,module,exports){
(function (Buffer){
var BN = require('bn.js');
var MillerRabin = require('miller-rabin');
var millerRabin = new MillerRabin();
var TWENTYFOUR = new BN(24);
var ELEVEN = new BN(11);
var TEN = new BN(10);
var THREE = new BN(3);
var SEVEN = new BN(7);
var primes = require('./generatePrime');
var randomBytes = require('randombytes');
module.exports = DH;

function setPublicKey(pub, enc) {
  enc = enc || 'utf8';
  if (!Buffer.isBuffer(pub)) {
    pub = new Buffer(pub, enc);
  }
  this._pub = new BN(pub);
  return this;
}

function setPrivateKey(priv, enc) {
  enc = enc || 'utf8';
  if (!Buffer.isBuffer(priv)) {
    priv = new Buffer(priv, enc);
  }
  this._priv = new BN(priv);
  return this;
}

var primeCache = {};
function checkPrime(prime, generator) {
  var gen = generator.toString('hex');
  var hex = [gen, prime.toString(16)].join('_');
  if (hex in primeCache) {
    return primeCache[hex];
  }
  var error = 0;
  
  if (prime.isEven() ||
    !primes.simpleSieve ||
    !primes.fermatTest(prime) ||
    !millerRabin.test(prime)) {
    //not a prime so +1
    error += 1;
    
    if (gen === '02' || gen === '05') {
      // we'd be able to check the generator
      // it would fail so +8
      error += 8;
    } else {
      //we wouldn't be able to test the generator
      // so +4
      error += 4;
    }
    primeCache[hex] = error;
    return error;
  }
  if (!millerRabin.test(prime.shrn(1))) {
    //not a safe prime
    error += 2;
  }
  var rem;
  switch (gen) {
    case '02':
      if (prime.mod(TWENTYFOUR).cmp(ELEVEN)) {
        // unsuidable generator
        error += 8;
      }
      break;
    case '05':
      rem = prime.mod(TEN);
      if (rem.cmp(THREE) && rem.cmp(SEVEN)) {
        // prime mod 10 needs to equal 3 or 7
        error += 8;
      } 
      break;
    default: 
      error += 4;
  }
  primeCache[hex] = error;
  return error;
}

function defineError (self, error) {
  try {
    Object.defineProperty(self, 'verifyError', {
      enumerable: true,
      value: error,
      writable: false
    });
  } catch(e) {
    self.verifyError = error;
  }
}
function DH(prime, generator, malleable) {
  this.setGenerator(generator);
  this.__prime = new BN(prime);
  this._prime = BN.mont(this.__prime);
  this._primeLen = prime.length;
  this._pub = void 0;
  this._priv = void 0;
  
  if (malleable) {
    this.setPublicKey = setPublicKey;
    this.setPrivateKey = setPrivateKey;
    defineError(this, checkPrime(this.__prime, generator));
  } else {
    defineError(this, 8);
  }
}

DH.prototype.generateKeys = function () {
  if (!this._priv) {
    this._priv = new BN(randomBytes(this._primeLen));
  }
  this._pub = this._gen.toRed(this._prime).redPow(this._priv).fromRed();
  return this.getPublicKey();
};

DH.prototype.computeSecret = function (other) {
  other = new BN(other);
  other = other.toRed(this._prime);
  var secret = other.redPow(this._priv).fromRed();
  var out = new Buffer(secret.toArray());
  var prime = this.getPrime();
  if (out.length < prime.length) {
    var front = new Buffer(prime.length - out.length);
    front.fill(0);
    out = Buffer.concat([front, out]);
  }
  return out;
};

DH.prototype.getPublicKey = function getPublicKey(enc) {
  return formatReturnValue(this._pub, enc);
};

DH.prototype.getPrivateKey = function getPrivateKey(enc) {
  return formatReturnValue(this._priv, enc);
};

DH.prototype.getPrime = function (enc) {
  return formatReturnValue(this.__prime, enc);
};

DH.prototype.getGenerator = function (enc) {
  return formatReturnValue(this._gen, enc);
};

DH.prototype.setGenerator = function (gen, enc) {
  enc = enc || 'utf8';
  if (!Buffer.isBuffer(gen)) {
    gen = new Buffer(gen, enc);
  }
  this._gen = new BN(gen);
  return this;
};

function formatReturnValue(bn, enc) {
  var buf = new Buffer(bn.toArray());
  if (!enc) {
    return buf;
  } else {
    return buf.toString(enc);
  }
}
}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvZGlmZmllLWhlbGxtYW4vbGliL2RoLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQk4gPSByZXF1aXJlKCdibi5qcycpO1xudmFyIE1pbGxlclJhYmluID0gcmVxdWlyZSgnbWlsbGVyLXJhYmluJyk7XG52YXIgbWlsbGVyUmFiaW4gPSBuZXcgTWlsbGVyUmFiaW4oKTtcbnZhciBUV0VOVFlGT1VSID0gbmV3IEJOKDI0KTtcbnZhciBFTEVWRU4gPSBuZXcgQk4oMTEpO1xudmFyIFRFTiA9IG5ldyBCTigxMCk7XG52YXIgVEhSRUUgPSBuZXcgQk4oMyk7XG52YXIgU0VWRU4gPSBuZXcgQk4oNyk7XG52YXIgcHJpbWVzID0gcmVxdWlyZSgnLi9nZW5lcmF0ZVByaW1lJyk7XG52YXIgcmFuZG9tQnl0ZXMgPSByZXF1aXJlKCdyYW5kb21ieXRlcycpO1xubW9kdWxlLmV4cG9ydHMgPSBESDtcblxuZnVuY3Rpb24gc2V0UHVibGljS2V5KHB1YiwgZW5jKSB7XG4gIGVuYyA9IGVuYyB8fCAndXRmOCc7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKHB1YikpIHtcbiAgICBwdWIgPSBuZXcgQnVmZmVyKHB1YiwgZW5jKTtcbiAgfVxuICB0aGlzLl9wdWIgPSBuZXcgQk4ocHViKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHNldFByaXZhdGVLZXkocHJpdiwgZW5jKSB7XG4gIGVuYyA9IGVuYyB8fCAndXRmOCc7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKHByaXYpKSB7XG4gICAgcHJpdiA9IG5ldyBCdWZmZXIocHJpdiwgZW5jKTtcbiAgfVxuICB0aGlzLl9wcml2ID0gbmV3IEJOKHByaXYpO1xuICByZXR1cm4gdGhpcztcbn1cblxudmFyIHByaW1lQ2FjaGUgPSB7fTtcbmZ1bmN0aW9uIGNoZWNrUHJpbWUocHJpbWUsIGdlbmVyYXRvcikge1xuICB2YXIgZ2VuID0gZ2VuZXJhdG9yLnRvU3RyaW5nKCdoZXgnKTtcbiAgdmFyIGhleCA9IFtnZW4sIHByaW1lLnRvU3RyaW5nKDE2KV0uam9pbignXycpO1xuICBpZiAoaGV4IGluIHByaW1lQ2FjaGUpIHtcbiAgICByZXR1cm4gcHJpbWVDYWNoZVtoZXhdO1xuICB9XG4gIHZhciBlcnJvciA9IDA7XG4gIFxuICBpZiAocHJpbWUuaXNFdmVuKCkgfHxcbiAgICAhcHJpbWVzLnNpbXBsZVNpZXZlIHx8XG4gICAgIXByaW1lcy5mZXJtYXRUZXN0KHByaW1lKSB8fFxuICAgICFtaWxsZXJSYWJpbi50ZXN0KHByaW1lKSkge1xuICAgIC8vbm90IGEgcHJpbWUgc28gKzFcbiAgICBlcnJvciArPSAxO1xuICAgIFxuICAgIGlmIChnZW4gPT09ICcwMicgfHwgZ2VuID09PSAnMDUnKSB7XG4gICAgICAvLyB3ZSdkIGJlIGFibGUgdG8gY2hlY2sgdGhlIGdlbmVyYXRvclxuICAgICAgLy8gaXQgd291bGQgZmFpbCBzbyArOFxuICAgICAgZXJyb3IgKz0gODtcbiAgICB9IGVsc2Uge1xuICAgICAgLy93ZSB3b3VsZG4ndCBiZSBhYmxlIHRvIHRlc3QgdGhlIGdlbmVyYXRvclxuICAgICAgLy8gc28gKzRcbiAgICAgIGVycm9yICs9IDQ7XG4gICAgfVxuICAgIHByaW1lQ2FjaGVbaGV4XSA9IGVycm9yO1xuICAgIHJldHVybiBlcnJvcjtcbiAgfVxuICBpZiAoIW1pbGxlclJhYmluLnRlc3QocHJpbWUuc2hybigxKSkpIHtcbiAgICAvL25vdCBhIHNhZmUgcHJpbWVcbiAgICBlcnJvciArPSAyO1xuICB9XG4gIHZhciByZW07XG4gIHN3aXRjaCAoZ2VuKSB7XG4gICAgY2FzZSAnMDInOlxuICAgICAgaWYgKHByaW1lLm1vZChUV0VOVFlGT1VSKS5jbXAoRUxFVkVOKSkge1xuICAgICAgICAvLyB1bnN1aWRhYmxlIGdlbmVyYXRvclxuICAgICAgICBlcnJvciArPSA4O1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnMDUnOlxuICAgICAgcmVtID0gcHJpbWUubW9kKFRFTik7XG4gICAgICBpZiAocmVtLmNtcChUSFJFRSkgJiYgcmVtLmNtcChTRVZFTikpIHtcbiAgICAgICAgLy8gcHJpbWUgbW9kIDEwIG5lZWRzIHRvIGVxdWFsIDMgb3IgN1xuICAgICAgICBlcnJvciArPSA4O1xuICAgICAgfSBcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6IFxuICAgICAgZXJyb3IgKz0gNDtcbiAgfVxuICBwcmltZUNhY2hlW2hleF0gPSBlcnJvcjtcbiAgcmV0dXJuIGVycm9yO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVFcnJvciAoc2VsZiwgZXJyb3IpIHtcbiAgdHJ5IHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2VsZiwgJ3ZlcmlmeUVycm9yJywge1xuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBlcnJvcixcbiAgICAgIHdyaXRhYmxlOiBmYWxzZVxuICAgIH0pO1xuICB9IGNhdGNoKGUpIHtcbiAgICBzZWxmLnZlcmlmeUVycm9yID0gZXJyb3I7XG4gIH1cbn1cbmZ1bmN0aW9uIERIKHByaW1lLCBnZW5lcmF0b3IsIG1hbGxlYWJsZSkge1xuICB0aGlzLnNldEdlbmVyYXRvcihnZW5lcmF0b3IpO1xuICB0aGlzLl9fcHJpbWUgPSBuZXcgQk4ocHJpbWUpO1xuICB0aGlzLl9wcmltZSA9IEJOLm1vbnQodGhpcy5fX3ByaW1lKTtcbiAgdGhpcy5fcHJpbWVMZW4gPSBwcmltZS5sZW5ndGg7XG4gIHRoaXMuX3B1YiA9IHZvaWQgMDtcbiAgdGhpcy5fcHJpdiA9IHZvaWQgMDtcbiAgXG4gIGlmIChtYWxsZWFibGUpIHtcbiAgICB0aGlzLnNldFB1YmxpY0tleSA9IHNldFB1YmxpY0tleTtcbiAgICB0aGlzLnNldFByaXZhdGVLZXkgPSBzZXRQcml2YXRlS2V5O1xuICAgIGRlZmluZUVycm9yKHRoaXMsIGNoZWNrUHJpbWUodGhpcy5fX3ByaW1lLCBnZW5lcmF0b3IpKTtcbiAgfSBlbHNlIHtcbiAgICBkZWZpbmVFcnJvcih0aGlzLCA4KTtcbiAgfVxufVxuXG5ESC5wcm90b3R5cGUuZ2VuZXJhdGVLZXlzID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuX3ByaXYpIHtcbiAgICB0aGlzLl9wcml2ID0gbmV3IEJOKHJhbmRvbUJ5dGVzKHRoaXMuX3ByaW1lTGVuKSk7XG4gIH1cbiAgdGhpcy5fcHViID0gdGhpcy5fZ2VuLnRvUmVkKHRoaXMuX3ByaW1lKS5yZWRQb3codGhpcy5fcHJpdikuZnJvbVJlZCgpO1xuICByZXR1cm4gdGhpcy5nZXRQdWJsaWNLZXkoKTtcbn07XG5cbkRILnByb3RvdHlwZS5jb21wdXRlU2VjcmV0ID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gIG90aGVyID0gbmV3IEJOKG90aGVyKTtcbiAgb3RoZXIgPSBvdGhlci50b1JlZCh0aGlzLl9wcmltZSk7XG4gIHZhciBzZWNyZXQgPSBvdGhlci5yZWRQb3codGhpcy5fcHJpdikuZnJvbVJlZCgpO1xuICB2YXIgb3V0ID0gbmV3IEJ1ZmZlcihzZWNyZXQudG9BcnJheSgpKTtcbiAgdmFyIHByaW1lID0gdGhpcy5nZXRQcmltZSgpO1xuICBpZiAob3V0Lmxlbmd0aCA8IHByaW1lLmxlbmd0aCkge1xuICAgIHZhciBmcm9udCA9IG5ldyBCdWZmZXIocHJpbWUubGVuZ3RoIC0gb3V0Lmxlbmd0aCk7XG4gICAgZnJvbnQuZmlsbCgwKTtcbiAgICBvdXQgPSBCdWZmZXIuY29uY2F0KFtmcm9udCwgb3V0XSk7XG4gIH1cbiAgcmV0dXJuIG91dDtcbn07XG5cbkRILnByb3RvdHlwZS5nZXRQdWJsaWNLZXkgPSBmdW5jdGlvbiBnZXRQdWJsaWNLZXkoZW5jKSB7XG4gIHJldHVybiBmb3JtYXRSZXR1cm5WYWx1ZSh0aGlzLl9wdWIsIGVuYyk7XG59O1xuXG5ESC5wcm90b3R5cGUuZ2V0UHJpdmF0ZUtleSA9IGZ1bmN0aW9uIGdldFByaXZhdGVLZXkoZW5jKSB7XG4gIHJldHVybiBmb3JtYXRSZXR1cm5WYWx1ZSh0aGlzLl9wcml2LCBlbmMpO1xufTtcblxuREgucHJvdG90eXBlLmdldFByaW1lID0gZnVuY3Rpb24gKGVuYykge1xuICByZXR1cm4gZm9ybWF0UmV0dXJuVmFsdWUodGhpcy5fX3ByaW1lLCBlbmMpO1xufTtcblxuREgucHJvdG90eXBlLmdldEdlbmVyYXRvciA9IGZ1bmN0aW9uIChlbmMpIHtcbiAgcmV0dXJuIGZvcm1hdFJldHVyblZhbHVlKHRoaXMuX2dlbiwgZW5jKTtcbn07XG5cbkRILnByb3RvdHlwZS5zZXRHZW5lcmF0b3IgPSBmdW5jdGlvbiAoZ2VuLCBlbmMpIHtcbiAgZW5jID0gZW5jIHx8ICd1dGY4JztcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoZ2VuKSkge1xuICAgIGdlbiA9IG5ldyBCdWZmZXIoZ2VuLCBlbmMpO1xuICB9XG4gIHRoaXMuX2dlbiA9IG5ldyBCTihnZW4pO1xuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIGZvcm1hdFJldHVyblZhbHVlKGJuLCBlbmMpIHtcbiAgdmFyIGJ1ZiA9IG5ldyBCdWZmZXIoYm4udG9BcnJheSgpKTtcbiAgaWYgKCFlbmMpIHtcbiAgICByZXR1cm4gYnVmO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBidWYudG9TdHJpbmcoZW5jKTtcbiAgfVxufSJdfQ==
},{"./generatePrime":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/diffie-hellman/lib/generatePrime.js","bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/diffie-hellman/node_modules/bn.js/lib/bn.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","miller-rabin":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/diffie-hellman/node_modules/miller-rabin/lib/mr.js","randombytes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/randombytes/browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/diffie-hellman/lib/generatePrime.js":[function(require,module,exports){
var randomBytes = require('randombytes');
module.exports = findPrime;
findPrime.simpleSieve = simpleSieve;
findPrime.fermatTest = fermatTest;
var BN = require('bn.js');
var TWENTYFOUR = new BN(24);
var MillerRabin = require('miller-rabin');
var millerRabin = new MillerRabin();
var ONE = new BN(1);
var TWO = new BN(2);
var FIVE = new BN(5);
var SIXTEEN = new BN(16);
var EIGHT = new BN(8);
var TEN = new BN(10);
var THREE = new BN(3);
var SEVEN = new BN(7);
var ELEVEN = new BN(11);
var FOUR = new BN(4);
var TWELVE = new BN(12);
var primes = null;

function _getPrimes() {
  if (primes !== null)
    return primes;

  var limit = 0x100000;
  var res = [];
  res[0] = 2;
  for (var i = 1, k = 3; k < limit; k += 2) {
    var sqrt = Math.ceil(Math.sqrt(k));
    for (var j = 0; j < i && res[j] <= sqrt; j++)
      if (k % res[j] === 0)
        break;

    if (i !== j && res[j] <= sqrt)
      continue;

    res[i++] = k;
  }
  primes = res;
  return res;
}

function simpleSieve(p) {
  var primes = _getPrimes();

  for (var i = 0; i < primes.length; i++)
    if (p.modn(primes[i]) === 0) {
      if (p.cmpn(primes[i]) === 0) {
        return true;
      } else {
        return false;
      }
    }

  return true;
}

function fermatTest(p) {
  var red = BN.mont(p);
  return TWO.toRed(red).redPow(p.subn(1)).fromRed().cmpn(1) === 0;
}

function findPrime(bits, gen) {
  if (bits < 16) {
    // this is what openssl does
    if (gen === 2 || gen === 5) {
      return new BN([0x8c, 0x7b]);
    } else {
      return new BN([0x8c, 0x27]);
    }
  }
  gen = new BN(gen);
  var runs, comp;
  function generateRandom(bits) {
    runs = -1;
    var out = new BN(randomBytes(Math.ceil(bits / 8)));
    while (out.bitLength() > bits) {
      out.ishrn(1);
    }
    if (out.isEven()) {
      out.iadd(ONE);
    }
    if (!out.testn(1)) {
      out.iadd(TWO);
    }
    if (!gen.cmp(TWO)) {
      while (out.mod(TWENTYFOUR).cmp(ELEVEN)) {
        out.iadd(FOUR);
      }
      comp = {
        major: [TWENTYFOUR],
        minor: [TWELVE]
      };
    } else if (!gen.cmp(FIVE)) {
      rem = out.mod(TEN);
      while (rem.cmp(THREE)) {
        out.iadd(FOUR);
        rem = out.mod(TEN);
      }
      comp = {
        major: [FOUR, SIXTEEN],
        minor: [TWO, EIGHT]
      };
    } else {
      comp = {
        major: [FOUR],
        minor: [TWO]
      };
    }
    return out;
  }
  var num = generateRandom(bits);

  var n2 = num.shrn(1);

  while (true) {
    while (num.bitLength() > bits) {
      num = generateRandom(bits);
      n2 = num.shrn(1);
    }
    runs++;
    if (simpleSieve(n2) &&  simpleSieve(num) &&
      fermatTest(n2) &&  fermatTest(num) &&
      millerRabin.test(n2) && millerRabin.test(num)) {
      return num;
    }
    num.iadd(comp.major[runs%comp.major.length]);
    n2.iadd(comp.minor[runs%comp.minor.length]);
  }

}
},{"bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/diffie-hellman/node_modules/bn.js/lib/bn.js","miller-rabin":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/diffie-hellman/node_modules/miller-rabin/lib/mr.js","randombytes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/randombytes/browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/diffie-hellman/node_modules/miller-rabin/lib/mr.js":[function(require,module,exports){
var bn = require('bn.js');
var brorand = require('brorand');

function MillerRabin(rand) {
  this.rand = rand || new brorand.Rand();
}
module.exports = MillerRabin;

MillerRabin.create = function create(rand) {
  return new MillerRabin(rand);
};

MillerRabin.prototype._rand = function _rand(n) {
  var len = n.bitLength();
  var buf = this.rand.generate(Math.ceil(len / 8));

  // Set low bits
  buf[0] |= 3;

  // Mask high bits
  var mask = len & 0x7;
  if (mask !== 0)
    buf[buf.length - 1] >>= 7 - mask;

  return new bn(buf);
}

MillerRabin.prototype.test = function test(n, k, cb) {
  var len = n.bitLength();
  var red = bn.mont(n);
  var rone = new bn(1).toRed(red);

  if (!k)
    k = Math.max(1, (len / 48) | 0);

  // Find d and s, (n - 1) = (2 ^ s) * d;
  var n1 = n.subn(1);
  var n2 = n1.subn(1);
  for (var s = 0; !n1.testn(s); s++) {}
  var d = n.shrn(s);

  var rn1 = n1.toRed(red);

  var prime = true;
  for (; k > 0; k--) {
    var a = this._rand(n2);
    if (cb)
      cb(a);

    var x = a.toRed(red).redPow(d);
    if (x.cmp(rone) === 0 || x.cmp(rn1) === 0)
      continue;

    for (var i = 1; i < s; i++) {
      x = x.redSqr();

      if (x.cmp(rone) === 0)
        return false;
      if (x.cmp(rn1) === 0)
        break;
    }

    if (i === s)
      return false;
  }

  return prime;
};

MillerRabin.prototype.getDivisor = function getDivisor(n, k) {
  var len = n.bitLength();
  var red = bn.mont(n);
  var rone = new bn(1).toRed(red);

  if (!k)
    k = Math.max(1, (len / 48) | 0);

  // Find d and s, (n - 1) = (2 ^ s) * d;
  var n1 = n.subn(1);
  var n2 = n1.subn(1);
  for (var s = 0; !n1.testn(s); s++) {}
  var d = n.shrn(s);

  var rn1 = n1.toRed(red);

  for (; k > 0; k--) {
    var a = this._rand(n2);

    var g = n.gcd(a);
    if (g.cmpn(1) !== 0)
      return g;

    var x = a.toRed(red).redPow(d);
    if (x.cmp(rone) === 0 || x.cmp(rn1) === 0)
      continue;

    for (var i = 1; i < s; i++) {
      x = x.redSqr();

      if (x.cmp(rone) === 0)
        return x.fromRed().subn(1).gcd(n);
      if (x.cmp(rn1) === 0)
        break;
    }

    if (i === s) {
      x = x.redSqr();
      return x.fromRed().subn(1).gcd(n);
    }
  }

  return false;
};

},{"bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/diffie-hellman/node_modules/bn.js/lib/bn.js","brorand":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/diffie-hellman/node_modules/miller-rabin/node_modules/brorand/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/diffie-hellman/node_modules/miller-rabin/node_modules/brorand/index.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/node_modules/brorand/index.js"][0].apply(exports,arguments)
},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/diffie-hellman/node_modules/bn.js/lib/bn.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/bn.js/lib/bn.js"][0].apply(exports,arguments)
},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/browser.js":[function(require,module,exports){
(function (Buffer){
var elliptic = require('elliptic');
var BN = require('bn.js');

module.exports = function createECDH(curve) {
	return new ECDH(curve);
};

var aliases = {
	secp256k1: {
		name: 'secp256k1',
		byteLength: 32
	},
	secp224r1: {
		name: 'p224',
		byteLength: 28
	},
	prime256v1: {
		name: 'p256',
		byteLength: 32
	},
	prime192v1: {
		name: 'p192',
		byteLength: 24
	},
	ed25519: {
		name: 'ed25519',
		byteLength: 32
	}
};

aliases.p224 = aliases.secp224r1;
aliases.p256 = aliases.secp256r1 = aliases.prime256v1;
aliases.p192 = aliases.secp192r1 = aliases.prime192v1;

function ECDH(curve) {
	this.curveType = aliases[curve];
	if (!this.curveType ) {
		this.curveType = {
			name: curve
		};
	}
	this.curve = new elliptic.ec(this.curveType.name);
	this.keys = void 0;
}

ECDH.prototype.generateKeys = function (enc, format) {
	this.keys = this.curve.genKeyPair();
	return this.getPublicKey(enc, format);
};

ECDH.prototype.computeSecret = function (other, inenc, enc) {
	inenc = inenc || 'utf8';
	if (!Buffer.isBuffer(other)) {
		other = new Buffer(other, inenc);
	}
	var otherPub = this.curve.keyFromPublic(other).getPublic();
	var out = otherPub.mul(this.keys.getPrivate()).getX();
	return formatReturnValue(out, enc, this.curveType.byteLength);
};

ECDH.prototype.getPublicKey = function (enc, format) {
	var key = this.keys.getPublic(format === 'compressed', true);
	if (format === 'hybrid') {
		if (key[key.length - 1] % 2) {
			key[0] = 7;
		} else {
			key [0] = 6;
		}
	}
	return formatReturnValue(key, enc);
};

ECDH.prototype.getPrivateKey = function (enc) {
	return formatReturnValue(this.keys.getPrivate(), enc);
};

ECDH.prototype.setPublicKey = function (pub, enc) {
	enc = enc || 'utf8';
	if (!Buffer.isBuffer(pub)) {
		pub = new Buffer(pub, enc);
	}
	this.keys._importPublic(pub);
	return this;
};

ECDH.prototype.setPrivateKey = function (priv, enc) {
	enc = enc || 'utf8';
	if (!Buffer.isBuffer(priv)) {
		priv = new Buffer(priv, enc);
	}
	var _priv = new BN(priv);
	_priv = _priv.toString(16);
	this.keys._importPrivate(_priv);
	return this;
};

function formatReturnValue(bn, enc, len) {
	if (!Array.isArray(bn)) {
		bn = bn.toArray();
	}
	var buf = new Buffer(bn);
	if (len && buf.length < len) {
		var zeros = new Buffer(len - buf.length);
		zeros.fill(0);
		buf = Buffer.concat([zeros, buf]);
	}
	if (!enc) {
		return buf;
	} else {
		return buf.toString(enc);
	}
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWVjZGgvYnJvd3Nlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGVsbGlwdGljID0gcmVxdWlyZSgnZWxsaXB0aWMnKTtcbnZhciBCTiA9IHJlcXVpcmUoJ2JuLmpzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlRUNESChjdXJ2ZSkge1xuXHRyZXR1cm4gbmV3IEVDREgoY3VydmUpO1xufTtcblxudmFyIGFsaWFzZXMgPSB7XG5cdHNlY3AyNTZrMToge1xuXHRcdG5hbWU6ICdzZWNwMjU2azEnLFxuXHRcdGJ5dGVMZW5ndGg6IDMyXG5cdH0sXG5cdHNlY3AyMjRyMToge1xuXHRcdG5hbWU6ICdwMjI0Jyxcblx0XHRieXRlTGVuZ3RoOiAyOFxuXHR9LFxuXHRwcmltZTI1NnYxOiB7XG5cdFx0bmFtZTogJ3AyNTYnLFxuXHRcdGJ5dGVMZW5ndGg6IDMyXG5cdH0sXG5cdHByaW1lMTkydjE6IHtcblx0XHRuYW1lOiAncDE5MicsXG5cdFx0Ynl0ZUxlbmd0aDogMjRcblx0fSxcblx0ZWQyNTUxOToge1xuXHRcdG5hbWU6ICdlZDI1NTE5Jyxcblx0XHRieXRlTGVuZ3RoOiAzMlxuXHR9XG59O1xuXG5hbGlhc2VzLnAyMjQgPSBhbGlhc2VzLnNlY3AyMjRyMTtcbmFsaWFzZXMucDI1NiA9IGFsaWFzZXMuc2VjcDI1NnIxID0gYWxpYXNlcy5wcmltZTI1NnYxO1xuYWxpYXNlcy5wMTkyID0gYWxpYXNlcy5zZWNwMTkycjEgPSBhbGlhc2VzLnByaW1lMTkydjE7XG5cbmZ1bmN0aW9uIEVDREgoY3VydmUpIHtcblx0dGhpcy5jdXJ2ZVR5cGUgPSBhbGlhc2VzW2N1cnZlXTtcblx0aWYgKCF0aGlzLmN1cnZlVHlwZSApIHtcblx0XHR0aGlzLmN1cnZlVHlwZSA9IHtcblx0XHRcdG5hbWU6IGN1cnZlXG5cdFx0fTtcblx0fVxuXHR0aGlzLmN1cnZlID0gbmV3IGVsbGlwdGljLmVjKHRoaXMuY3VydmVUeXBlLm5hbWUpO1xuXHR0aGlzLmtleXMgPSB2b2lkIDA7XG59XG5cbkVDREgucHJvdG90eXBlLmdlbmVyYXRlS2V5cyA9IGZ1bmN0aW9uIChlbmMsIGZvcm1hdCkge1xuXHR0aGlzLmtleXMgPSB0aGlzLmN1cnZlLmdlbktleVBhaXIoKTtcblx0cmV0dXJuIHRoaXMuZ2V0UHVibGljS2V5KGVuYywgZm9ybWF0KTtcbn07XG5cbkVDREgucHJvdG90eXBlLmNvbXB1dGVTZWNyZXQgPSBmdW5jdGlvbiAob3RoZXIsIGluZW5jLCBlbmMpIHtcblx0aW5lbmMgPSBpbmVuYyB8fCAndXRmOCc7XG5cdGlmICghQnVmZmVyLmlzQnVmZmVyKG90aGVyKSkge1xuXHRcdG90aGVyID0gbmV3IEJ1ZmZlcihvdGhlciwgaW5lbmMpO1xuXHR9XG5cdHZhciBvdGhlclB1YiA9IHRoaXMuY3VydmUua2V5RnJvbVB1YmxpYyhvdGhlcikuZ2V0UHVibGljKCk7XG5cdHZhciBvdXQgPSBvdGhlclB1Yi5tdWwodGhpcy5rZXlzLmdldFByaXZhdGUoKSkuZ2V0WCgpO1xuXHRyZXR1cm4gZm9ybWF0UmV0dXJuVmFsdWUob3V0LCBlbmMsIHRoaXMuY3VydmVUeXBlLmJ5dGVMZW5ndGgpO1xufTtcblxuRUNESC5wcm90b3R5cGUuZ2V0UHVibGljS2V5ID0gZnVuY3Rpb24gKGVuYywgZm9ybWF0KSB7XG5cdHZhciBrZXkgPSB0aGlzLmtleXMuZ2V0UHVibGljKGZvcm1hdCA9PT0gJ2NvbXByZXNzZWQnLCB0cnVlKTtcblx0aWYgKGZvcm1hdCA9PT0gJ2h5YnJpZCcpIHtcblx0XHRpZiAoa2V5W2tleS5sZW5ndGggLSAxXSAlIDIpIHtcblx0XHRcdGtleVswXSA9IDc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGtleSBbMF0gPSA2O1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gZm9ybWF0UmV0dXJuVmFsdWUoa2V5LCBlbmMpO1xufTtcblxuRUNESC5wcm90b3R5cGUuZ2V0UHJpdmF0ZUtleSA9IGZ1bmN0aW9uIChlbmMpIHtcblx0cmV0dXJuIGZvcm1hdFJldHVyblZhbHVlKHRoaXMua2V5cy5nZXRQcml2YXRlKCksIGVuYyk7XG59O1xuXG5FQ0RILnByb3RvdHlwZS5zZXRQdWJsaWNLZXkgPSBmdW5jdGlvbiAocHViLCBlbmMpIHtcblx0ZW5jID0gZW5jIHx8ICd1dGY4Jztcblx0aWYgKCFCdWZmZXIuaXNCdWZmZXIocHViKSkge1xuXHRcdHB1YiA9IG5ldyBCdWZmZXIocHViLCBlbmMpO1xuXHR9XG5cdHRoaXMua2V5cy5faW1wb3J0UHVibGljKHB1Yik7XG5cdHJldHVybiB0aGlzO1xufTtcblxuRUNESC5wcm90b3R5cGUuc2V0UHJpdmF0ZUtleSA9IGZ1bmN0aW9uIChwcml2LCBlbmMpIHtcblx0ZW5jID0gZW5jIHx8ICd1dGY4Jztcblx0aWYgKCFCdWZmZXIuaXNCdWZmZXIocHJpdikpIHtcblx0XHRwcml2ID0gbmV3IEJ1ZmZlcihwcml2LCBlbmMpO1xuXHR9XG5cdHZhciBfcHJpdiA9IG5ldyBCTihwcml2KTtcblx0X3ByaXYgPSBfcHJpdi50b1N0cmluZygxNik7XG5cdHRoaXMua2V5cy5faW1wb3J0UHJpdmF0ZShfcHJpdik7XG5cdHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gZm9ybWF0UmV0dXJuVmFsdWUoYm4sIGVuYywgbGVuKSB7XG5cdGlmICghQXJyYXkuaXNBcnJheShibikpIHtcblx0XHRibiA9IGJuLnRvQXJyYXkoKTtcblx0fVxuXHR2YXIgYnVmID0gbmV3IEJ1ZmZlcihibik7XG5cdGlmIChsZW4gJiYgYnVmLmxlbmd0aCA8IGxlbikge1xuXHRcdHZhciB6ZXJvcyA9IG5ldyBCdWZmZXIobGVuIC0gYnVmLmxlbmd0aCk7XG5cdFx0emVyb3MuZmlsbCgwKTtcblx0XHRidWYgPSBCdWZmZXIuY29uY2F0KFt6ZXJvcywgYnVmXSk7XG5cdH1cblx0aWYgKCFlbmMpIHtcblx0XHRyZXR1cm4gYnVmO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBidWYudG9TdHJpbmcoZW5jKTtcblx0fVxufVxuIl19
},{"bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/bn.js/lib/bn.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","elliptic":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic.js"][0].apply(exports,arguments)
},{"../package.json":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/package.json","./elliptic/curve":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/curve/index.js","./elliptic/curves":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/curves.js","./elliptic/ec":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/ec/index.js","./elliptic/hmac-drbg":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/hmac-drbg.js","./elliptic/utils":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/utils.js","brorand":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/node_modules/brorand/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/package.json":[function(require,module,exports){
module.exports=module.exports=arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/package.json"][0].apply(exports,arguments)
},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/node_modules/brorand/index.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/brorand/index.js"][0].apply(exports,arguments)
},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/utils.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/utils.js"][0].apply(exports,arguments)
},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/hmac-drbg.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/hmac-drbg.js"][0].apply(exports,arguments)
},{"../elliptic":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic.js","hash.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/node_modules/hash.js/lib/hash.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/ec/index.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/ec/index.js"][0].apply(exports,arguments)
},{"../../elliptic":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic.js","./key":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/ec/key.js","./signature":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/ec/signature.js","bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/bn.js/lib/bn.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/ec/signature.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/ec/signature.js"][0].apply(exports,arguments)
},{"../../elliptic":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic.js","bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/bn.js/lib/bn.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/ec/key.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/ec/key.js"][0].apply(exports,arguments)
},{"../../elliptic":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic.js","bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/bn.js/lib/bn.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/curves.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curves.js"][0].apply(exports,arguments)
},{"../elliptic":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic.js","./precomputed/secp256k1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/precomputed/secp256k1.js","hash.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/node_modules/hash.js/lib/hash.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/node_modules/hash.js/lib/hash.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash.js"][0].apply(exports,arguments)
},{"./hash/common":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/node_modules/hash.js/lib/hash/common.js","./hash/hmac":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/node_modules/hash.js/lib/hash/hmac.js","./hash/ripemd":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/node_modules/hash.js/lib/hash/ripemd.js","./hash/sha":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/node_modules/hash.js/lib/hash/sha.js","./hash/utils":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/node_modules/hash.js/lib/hash/utils.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/node_modules/hash.js/lib/hash/utils.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash/utils.js"][0].apply(exports,arguments)
},{"inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/node_modules/hash.js/lib/hash/sha.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash/sha.js"][0].apply(exports,arguments)
},{"../hash":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/node_modules/hash.js/lib/hash.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/node_modules/hash.js/lib/hash/ripemd.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash/ripemd.js"][0].apply(exports,arguments)
},{"../hash":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/node_modules/hash.js/lib/hash.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/node_modules/hash.js/lib/hash/hmac.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash/hmac.js"][0].apply(exports,arguments)
},{"../hash":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/node_modules/hash.js/lib/hash.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/node_modules/hash.js/lib/hash/common.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash/common.js"][0].apply(exports,arguments)
},{"../hash":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/node_modules/hash.js/lib/hash.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/precomputed/secp256k1.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/precomputed/secp256k1.js"][0].apply(exports,arguments)
},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/curve/index.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curve/index.js"][0].apply(exports,arguments)
},{"./base":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/curve/base.js","./edwards":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/curve/edwards.js","./mont":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/curve/mont.js","./short":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/curve/short.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/curve/short.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curve/short.js"][0].apply(exports,arguments)
},{"../../elliptic":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic.js","../curve":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/curve/index.js","bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/bn.js/lib/bn.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/curve/mont.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curve/mont.js"][0].apply(exports,arguments)
},{"../curve":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/curve/index.js","bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/bn.js/lib/bn.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/curve/edwards.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curve/edwards.js"][0].apply(exports,arguments)
},{"../../elliptic":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic.js","../curve":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/curve/index.js","bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/bn.js/lib/bn.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic/curve/base.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curve/base.js"][0].apply(exports,arguments)
},{"../../elliptic":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/elliptic/lib/elliptic.js","bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/bn.js/lib/bn.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-ecdh/node_modules/bn.js/lib/bn.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/bn.js/lib/bn.js"][0].apply(exports,arguments)
},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/browser.js":[function(require,module,exports){
(function (Buffer){
var _algos = require('./algos')
var createHash = require('create-hash')
var inherits = require('inherits')
var sign = require('./sign')
var stream = require('stream')
var verify = require('./verify')

var algos = {}
Object.keys(_algos).forEach(function (key) {
  algos[key] = algos[key.toLowerCase()] = _algos[key]
})

function Sign (algorithm) {
  stream.Writable.call(this)

  var data = algos[algorithm]
  if (!data) {
    throw new Error('Unknown message digest')
  }

  this._hashType = data.hash
  this._hash = createHash(data.hash)
  this._tag = data.id
  this._signType = data.sign
}
inherits(Sign, stream.Writable)

Sign.prototype._write = function _write (data, _, done) {
  this._hash.update(data)
  done()
}

Sign.prototype.update = function update (data, enc) {
  if (typeof data === 'string') {
    data = new Buffer(data, enc)
  }

  this._hash.update(data)
  return this
}

Sign.prototype.sign = function signMethod (key, enc) {
  this.end()
  var hash = this._hash.digest()
  var sig = sign(Buffer.concat([this._tag, hash]), key, this._hashType, this._signType)

  return enc ? sig.toString(enc) : sig
}

function Verify (algorithm) {
  stream.Writable.call(this)

  var data = algos[algorithm]
  if (!data) {
    throw new Error('Unknown message digest')
  }

  this._hash = createHash(data.hash)
  this._tag = data.id
  this._signType = data.sign
}
inherits(Verify, stream.Writable)

Verify.prototype._write = function _write (data, _, done) {
  this._hash.update(data)

  done()
}

Verify.prototype.update = function update (data, enc) {
  if (typeof data === 'string') {
    data = new Buffer(data, enc)
  }

  this._hash.update(data)
  return this
}

Verify.prototype.verify = function verifyMethod (key, sig, enc) {
  if (typeof sig === 'string') {
    sig = new Buffer(sig, enc)
  }

  this.end()
  var hash = this._hash.digest()

  return verify(sig, Buffer.concat([this._tag, hash]), key, this._signType)
}

function createSign (algorithm) {
  return new Sign(algorithm)
}

function createVerify (algorithm) {
  return new Verify(algorithm)
}

module.exports = {
  Sign: createSign,
  Verify: createVerify,
  createSign: createSign,
  createVerify: createVerify
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL2Jyb3dzZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfYWxnb3MgPSByZXF1aXJlKCcuL2FsZ29zJylcbnZhciBjcmVhdGVIYXNoID0gcmVxdWlyZSgnY3JlYXRlLWhhc2gnKVxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxudmFyIHNpZ24gPSByZXF1aXJlKCcuL3NpZ24nKVxudmFyIHN0cmVhbSA9IHJlcXVpcmUoJ3N0cmVhbScpXG52YXIgdmVyaWZ5ID0gcmVxdWlyZSgnLi92ZXJpZnknKVxuXG52YXIgYWxnb3MgPSB7fVxuT2JqZWN0LmtleXMoX2FsZ29zKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgYWxnb3Nba2V5XSA9IGFsZ29zW2tleS50b0xvd2VyQ2FzZSgpXSA9IF9hbGdvc1trZXldXG59KVxuXG5mdW5jdGlvbiBTaWduIChhbGdvcml0aG0pIHtcbiAgc3RyZWFtLldyaXRhYmxlLmNhbGwodGhpcylcblxuICB2YXIgZGF0YSA9IGFsZ29zW2FsZ29yaXRobV1cbiAgaWYgKCFkYXRhKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIG1lc3NhZ2UgZGlnZXN0JylcbiAgfVxuXG4gIHRoaXMuX2hhc2hUeXBlID0gZGF0YS5oYXNoXG4gIHRoaXMuX2hhc2ggPSBjcmVhdGVIYXNoKGRhdGEuaGFzaClcbiAgdGhpcy5fdGFnID0gZGF0YS5pZFxuICB0aGlzLl9zaWduVHlwZSA9IGRhdGEuc2lnblxufVxuaW5oZXJpdHMoU2lnbiwgc3RyZWFtLldyaXRhYmxlKVxuXG5TaWduLnByb3RvdHlwZS5fd3JpdGUgPSBmdW5jdGlvbiBfd3JpdGUgKGRhdGEsIF8sIGRvbmUpIHtcbiAgdGhpcy5faGFzaC51cGRhdGUoZGF0YSlcbiAgZG9uZSgpXG59XG5cblNpZ24ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoZGF0YSwgZW5jKSB7XG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICBkYXRhID0gbmV3IEJ1ZmZlcihkYXRhLCBlbmMpXG4gIH1cblxuICB0aGlzLl9oYXNoLnVwZGF0ZShkYXRhKVxuICByZXR1cm4gdGhpc1xufVxuXG5TaWduLnByb3RvdHlwZS5zaWduID0gZnVuY3Rpb24gc2lnbk1ldGhvZCAoa2V5LCBlbmMpIHtcbiAgdGhpcy5lbmQoKVxuICB2YXIgaGFzaCA9IHRoaXMuX2hhc2guZGlnZXN0KClcbiAgdmFyIHNpZyA9IHNpZ24oQnVmZmVyLmNvbmNhdChbdGhpcy5fdGFnLCBoYXNoXSksIGtleSwgdGhpcy5faGFzaFR5cGUsIHRoaXMuX3NpZ25UeXBlKVxuXG4gIHJldHVybiBlbmMgPyBzaWcudG9TdHJpbmcoZW5jKSA6IHNpZ1xufVxuXG5mdW5jdGlvbiBWZXJpZnkgKGFsZ29yaXRobSkge1xuICBzdHJlYW0uV3JpdGFibGUuY2FsbCh0aGlzKVxuXG4gIHZhciBkYXRhID0gYWxnb3NbYWxnb3JpdGhtXVxuICBpZiAoIWRhdGEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gbWVzc2FnZSBkaWdlc3QnKVxuICB9XG5cbiAgdGhpcy5faGFzaCA9IGNyZWF0ZUhhc2goZGF0YS5oYXNoKVxuICB0aGlzLl90YWcgPSBkYXRhLmlkXG4gIHRoaXMuX3NpZ25UeXBlID0gZGF0YS5zaWduXG59XG5pbmhlcml0cyhWZXJpZnksIHN0cmVhbS5Xcml0YWJsZSlcblxuVmVyaWZ5LnByb3RvdHlwZS5fd3JpdGUgPSBmdW5jdGlvbiBfd3JpdGUgKGRhdGEsIF8sIGRvbmUpIHtcbiAgdGhpcy5faGFzaC51cGRhdGUoZGF0YSlcblxuICBkb25lKClcbn1cblxuVmVyaWZ5LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKGRhdGEsIGVuYykge1xuICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgZGF0YSA9IG5ldyBCdWZmZXIoZGF0YSwgZW5jKVxuICB9XG5cbiAgdGhpcy5faGFzaC51cGRhdGUoZGF0YSlcbiAgcmV0dXJuIHRoaXNcbn1cblxuVmVyaWZ5LnByb3RvdHlwZS52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnlNZXRob2QgKGtleSwgc2lnLCBlbmMpIHtcbiAgaWYgKHR5cGVvZiBzaWcgPT09ICdzdHJpbmcnKSB7XG4gICAgc2lnID0gbmV3IEJ1ZmZlcihzaWcsIGVuYylcbiAgfVxuXG4gIHRoaXMuZW5kKClcbiAgdmFyIGhhc2ggPSB0aGlzLl9oYXNoLmRpZ2VzdCgpXG5cbiAgcmV0dXJuIHZlcmlmeShzaWcsIEJ1ZmZlci5jb25jYXQoW3RoaXMuX3RhZywgaGFzaF0pLCBrZXksIHRoaXMuX3NpZ25UeXBlKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTaWduIChhbGdvcml0aG0pIHtcbiAgcmV0dXJuIG5ldyBTaWduKGFsZ29yaXRobSlcbn1cblxuZnVuY3Rpb24gY3JlYXRlVmVyaWZ5IChhbGdvcml0aG0pIHtcbiAgcmV0dXJuIG5ldyBWZXJpZnkoYWxnb3JpdGhtKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgU2lnbjogY3JlYXRlU2lnbixcbiAgVmVyaWZ5OiBjcmVhdGVWZXJpZnksXG4gIGNyZWF0ZVNpZ246IGNyZWF0ZVNpZ24sXG4gIGNyZWF0ZVZlcmlmeTogY3JlYXRlVmVyaWZ5XG59XG4iXX0=
},{"./algos":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/algos.js","./sign":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/sign.js","./verify":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/verify.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","create-hash":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/browser.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js","stream":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/stream-browserify/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/verify.js":[function(require,module,exports){
(function (Buffer){
// much of this based on https://github.com/indutny/self-signed/blob/gh-pages/lib/rsa.js
var curves = require('./curves')
var elliptic = require('elliptic')
var parseKeys = require('parse-asn1')

var BN = require('bn.js')
var EC = elliptic.ec

function verify (sig, hash, key, signType) {
  var pub = parseKeys(key)
  if (pub.type === 'ec') {
    if (signType !== 'ecdsa') {
      throw new Error('wrong public key type')
    }
    return ecVerify(sig, hash, pub)
  } else if (pub.type === 'dsa') {
    if (signType !== 'dsa') {
      throw new Error('wrong public key type')
    }
    return dsaVerify(sig, hash, pub)
  } else {
    if (signType !== 'rsa') {
      throw new Error('wrong public key type')
    }
  }
  var len = pub.modulus.byteLength()
  var pad = [ 1 ]
  var padNum = 0
  while (hash.length + pad.length + 2 < len) {
    pad.push(0xff)
    padNum++
  }
  pad.push(0x00)
  var i = -1
  while (++i < hash.length) {
    pad.push(hash[i])
  }
  pad = new Buffer(pad)
  var red = BN.mont(pub.modulus)
  sig = new BN(sig).toRed(red)

  sig = sig.redPow(new BN(pub.publicExponent))

  sig = new Buffer(sig.fromRed().toArray())
  var out = 0
  if (padNum < 8) {
    out = 1
  }
  len = Math.min(sig.length, pad.length)
  if (sig.length !== pad.length) {
    out = 1
  }

  i = -1
  while (++i < len) {
    out |= (sig[i] ^ pad[i])
  }
  return out === 0
}

function ecVerify (sig, hash, pub) {
  var curveId = curves[pub.data.algorithm.curve.join('.')]
  if (!curveId) throw new Error('unknown curve ' + pub.data.algorithm.curve.join('.'))

  var curve = new EC(curveId)
  var pubkey = pub.data.subjectPrivateKey.data

  return curve.verify(hash, sig, pubkey)
}

function dsaVerify (sig, hash, pub) {
  var p = pub.data.p
  var q = pub.data.q
  var g = pub.data.g
  var y = pub.data.pub_key
  var unpacked = parseKeys.signature.decode(sig, 'der')
  var s = unpacked.s
  var r = unpacked.r
  checkValue(s, q)
  checkValue(r, q)
  var montp = BN.mont(p)
  var w = s.invm(q)
  var v = g.toRed(montp)
    .redPow(new BN(hash).mul(w).mod(q))
    .fromRed()
    .mul(
      y.toRed(montp)
        .redPow(r.mul(w).mod(q))
        .fromRed()
  ).mod(p).mod(q)
  return !v.cmp(r)
}

function checkValue (b, q) {
  if (b.cmpn(0) <= 0) {
    throw new Error('invalid sig')
  }
  if (b.cmp(q) >= q) {
    throw new Error('invalid sig')
  }
}

module.exports = verify

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL3ZlcmlmeS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbXVjaCBvZiB0aGlzIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9pbmR1dG55L3NlbGYtc2lnbmVkL2Jsb2IvZ2gtcGFnZXMvbGliL3JzYS5qc1xudmFyIGN1cnZlcyA9IHJlcXVpcmUoJy4vY3VydmVzJylcbnZhciBlbGxpcHRpYyA9IHJlcXVpcmUoJ2VsbGlwdGljJylcbnZhciBwYXJzZUtleXMgPSByZXF1aXJlKCdwYXJzZS1hc24xJylcblxudmFyIEJOID0gcmVxdWlyZSgnYm4uanMnKVxudmFyIEVDID0gZWxsaXB0aWMuZWNcblxuZnVuY3Rpb24gdmVyaWZ5IChzaWcsIGhhc2gsIGtleSwgc2lnblR5cGUpIHtcbiAgdmFyIHB1YiA9IHBhcnNlS2V5cyhrZXkpXG4gIGlmIChwdWIudHlwZSA9PT0gJ2VjJykge1xuICAgIGlmIChzaWduVHlwZSAhPT0gJ2VjZHNhJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd3cm9uZyBwdWJsaWMga2V5IHR5cGUnKVxuICAgIH1cbiAgICByZXR1cm4gZWNWZXJpZnkoc2lnLCBoYXNoLCBwdWIpXG4gIH0gZWxzZSBpZiAocHViLnR5cGUgPT09ICdkc2EnKSB7XG4gICAgaWYgKHNpZ25UeXBlICE9PSAnZHNhJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd3cm9uZyBwdWJsaWMga2V5IHR5cGUnKVxuICAgIH1cbiAgICByZXR1cm4gZHNhVmVyaWZ5KHNpZywgaGFzaCwgcHViKVxuICB9IGVsc2Uge1xuICAgIGlmIChzaWduVHlwZSAhPT0gJ3JzYScpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignd3JvbmcgcHVibGljIGtleSB0eXBlJylcbiAgICB9XG4gIH1cbiAgdmFyIGxlbiA9IHB1Yi5tb2R1bHVzLmJ5dGVMZW5ndGgoKVxuICB2YXIgcGFkID0gWyAxIF1cbiAgdmFyIHBhZE51bSA9IDBcbiAgd2hpbGUgKGhhc2gubGVuZ3RoICsgcGFkLmxlbmd0aCArIDIgPCBsZW4pIHtcbiAgICBwYWQucHVzaCgweGZmKVxuICAgIHBhZE51bSsrXG4gIH1cbiAgcGFkLnB1c2goMHgwMClcbiAgdmFyIGkgPSAtMVxuICB3aGlsZSAoKytpIDwgaGFzaC5sZW5ndGgpIHtcbiAgICBwYWQucHVzaChoYXNoW2ldKVxuICB9XG4gIHBhZCA9IG5ldyBCdWZmZXIocGFkKVxuICB2YXIgcmVkID0gQk4ubW9udChwdWIubW9kdWx1cylcbiAgc2lnID0gbmV3IEJOKHNpZykudG9SZWQocmVkKVxuXG4gIHNpZyA9IHNpZy5yZWRQb3cobmV3IEJOKHB1Yi5wdWJsaWNFeHBvbmVudCkpXG5cbiAgc2lnID0gbmV3IEJ1ZmZlcihzaWcuZnJvbVJlZCgpLnRvQXJyYXkoKSlcbiAgdmFyIG91dCA9IDBcbiAgaWYgKHBhZE51bSA8IDgpIHtcbiAgICBvdXQgPSAxXG4gIH1cbiAgbGVuID0gTWF0aC5taW4oc2lnLmxlbmd0aCwgcGFkLmxlbmd0aClcbiAgaWYgKHNpZy5sZW5ndGggIT09IHBhZC5sZW5ndGgpIHtcbiAgICBvdXQgPSAxXG4gIH1cblxuICBpID0gLTFcbiAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgIG91dCB8PSAoc2lnW2ldIF4gcGFkW2ldKVxuICB9XG4gIHJldHVybiBvdXQgPT09IDBcbn1cblxuZnVuY3Rpb24gZWNWZXJpZnkgKHNpZywgaGFzaCwgcHViKSB7XG4gIHZhciBjdXJ2ZUlkID0gY3VydmVzW3B1Yi5kYXRhLmFsZ29yaXRobS5jdXJ2ZS5qb2luKCcuJyldXG4gIGlmICghY3VydmVJZCkgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGN1cnZlICcgKyBwdWIuZGF0YS5hbGdvcml0aG0uY3VydmUuam9pbignLicpKVxuXG4gIHZhciBjdXJ2ZSA9IG5ldyBFQyhjdXJ2ZUlkKVxuICB2YXIgcHVia2V5ID0gcHViLmRhdGEuc3ViamVjdFByaXZhdGVLZXkuZGF0YVxuXG4gIHJldHVybiBjdXJ2ZS52ZXJpZnkoaGFzaCwgc2lnLCBwdWJrZXkpXG59XG5cbmZ1bmN0aW9uIGRzYVZlcmlmeSAoc2lnLCBoYXNoLCBwdWIpIHtcbiAgdmFyIHAgPSBwdWIuZGF0YS5wXG4gIHZhciBxID0gcHViLmRhdGEucVxuICB2YXIgZyA9IHB1Yi5kYXRhLmdcbiAgdmFyIHkgPSBwdWIuZGF0YS5wdWJfa2V5XG4gIHZhciB1bnBhY2tlZCA9IHBhcnNlS2V5cy5zaWduYXR1cmUuZGVjb2RlKHNpZywgJ2RlcicpXG4gIHZhciBzID0gdW5wYWNrZWQuc1xuICB2YXIgciA9IHVucGFja2VkLnJcbiAgY2hlY2tWYWx1ZShzLCBxKVxuICBjaGVja1ZhbHVlKHIsIHEpXG4gIHZhciBtb250cCA9IEJOLm1vbnQocClcbiAgdmFyIHcgPSBzLmludm0ocSlcbiAgdmFyIHYgPSBnLnRvUmVkKG1vbnRwKVxuICAgIC5yZWRQb3cobmV3IEJOKGhhc2gpLm11bCh3KS5tb2QocSkpXG4gICAgLmZyb21SZWQoKVxuICAgIC5tdWwoXG4gICAgICB5LnRvUmVkKG1vbnRwKVxuICAgICAgICAucmVkUG93KHIubXVsKHcpLm1vZChxKSlcbiAgICAgICAgLmZyb21SZWQoKVxuICApLm1vZChwKS5tb2QocSlcbiAgcmV0dXJuICF2LmNtcChyKVxufVxuXG5mdW5jdGlvbiBjaGVja1ZhbHVlIChiLCBxKSB7XG4gIGlmIChiLmNtcG4oMCkgPD0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBzaWcnKVxuICB9XG4gIGlmIChiLmNtcChxKSA+PSBxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHNpZycpXG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2ZXJpZnlcbiJdfQ==
},{"./curves":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/curves.js","bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/bn.js/lib/bn.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","elliptic":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic.js","parse-asn1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/sign.js":[function(require,module,exports){
(function (Buffer){
// much of this based on https://github.com/indutny/self-signed/blob/gh-pages/lib/rsa.js
var createHmac = require('create-hmac')
var crt = require('browserify-rsa')
var curves = require('./curves')
var elliptic = require('elliptic')
var parseKeys = require('parse-asn1')

var BN = require('bn.js')
var EC = elliptic.ec

function sign (hash, key, hashType, signType) {
  var priv = parseKeys(key)
  if (priv.curve) {
    if (signType !== 'ecdsa') throw new Error('wrong private key type')

    return ecSign(hash, priv)
  } else if (priv.type === 'dsa') {
    if (signType !== 'dsa') {
      throw new Error('wrong private key type')
    }
    return dsaSign(hash, priv, hashType)
  } else {
    if (signType !== 'rsa') throw new Error('wrong private key type')
  }

  var len = priv.modulus.byteLength()
  var pad = [ 0, 1 ]
  while (hash.length + pad.length + 1 < len) {
    pad.push(0xff)
  }
  pad.push(0x00)
  var i = -1
  while (++i < hash.length) {
    pad.push(hash[i])
  }

  var out = crt(pad, priv)
  return out
}

function ecSign (hash, priv) {
  var curveId = curves[priv.curve.join('.')]
  if (!curveId) throw new Error('unknown curve ' + priv.curve.join('.'))

  var curve = new EC(curveId)
  var key = curve.genKeyPair()

  key._importPrivate(priv.privateKey)
  var out = key.sign(hash)

  return new Buffer(out.toDER())
}

function dsaSign (hash, priv, algo) {
  var x = priv.params.priv_key
  var p = priv.params.p
  var q = priv.params.q
  var g = priv.params.g
  var r = new BN(0)
  var k
  var H = bits2int(hash, q).mod(q)
  var s = false
  var kv = getKey(x, q, hash, algo)
  while (s === false) {
    k = makeKey(q, kv, algo)
    r = makeR(g, k, p, q)
    s = k.invm(q).imul(H.add(x.mul(r))).mod(q)
    if (!s.cmpn(0)) {
      s = false
      r = new BN(0)
    }
  }
  return toDER(r, s)
}

function toDER (r, s) {
  r = r.toArray()
  s = s.toArray()

  // Pad values
  if (r[0] & 0x80) {
    r = [ 0 ].concat(r)
  }
  // Pad values
  if (s[0] & 0x80) {
    s = [0].concat(s)
  }

  var total = r.length + s.length + 4
  var res = [ 0x30, total, 0x02, r.length ]
  res = res.concat(r, [ 0x02, s.length ], s)
  return new Buffer(res)
}

function getKey (x, q, hash, algo) {
  x = new Buffer(x.toArray())
  if (x.length < q.byteLength()) {
    var zeros = new Buffer(q.byteLength() - x.length)
    zeros.fill(0)
    x = Buffer.concat([zeros, x])
  }
  var hlen = hash.length
  var hbits = bits2octets(hash, q)
  var v = new Buffer(hlen)
  v.fill(1)
  var k = new Buffer(hlen)
  k.fill(0)
  k = createHmac(algo, k)
    .update(v)
    .update(new Buffer([0]))
    .update(x)
    .update(hbits)
    .digest()
  v = createHmac(algo, k)
    .update(v)
    .digest()
  k = createHmac(algo, k)
    .update(v)
    .update(new Buffer([1]))
    .update(x)
    .update(hbits)
    .digest()
  v = createHmac(algo, k)
    .update(v)
    .digest()
  return {
    k: k,
    v: v
  }
}

function bits2int (obits, q) {
  var bits = new BN(obits)
  var shift = (obits.length << 3) - q.bitLength()
  if (shift > 0) {
    bits.ishrn(shift)
  }
  return bits
}

function bits2octets (bits, q) {
  bits = bits2int(bits, q)
  bits = bits.mod(q)
  var out = new Buffer(bits.toArray())
  if (out.length < q.byteLength()) {
    var zeros = new Buffer(q.byteLength() - out.length)
    zeros.fill(0)
    out = Buffer.concat([zeros, out])
  }
  return out
}

function makeKey (q, kv, algo) {
  var t, k

  do {
    t = new Buffer('')

    while (t.length * 8 < q.bitLength()) {
      kv.v = createHmac(algo, kv.k)
        .update(kv.v)
        .digest()
      t = Buffer.concat([t, kv.v])
    }

    k = bits2int(t, q)
    kv.k = createHmac(algo, kv.k)
      .update(kv.v)
      .update(new Buffer([0]))
      .digest()
    kv.v = createHmac(algo, kv.k)
      .update(kv.v)
      .digest()
  } while (k.cmp(q) !== -1)

  return k
}

function makeR (g, k, p, q) {
  return g.toRed(BN.mont(p)).redPow(k).fromRed().mod(q)
}

module.exports = sign
module.exports.getKey = getKey
module.exports.makeKey = makeKey

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL3NpZ24uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbXVjaCBvZiB0aGlzIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9pbmR1dG55L3NlbGYtc2lnbmVkL2Jsb2IvZ2gtcGFnZXMvbGliL3JzYS5qc1xudmFyIGNyZWF0ZUhtYWMgPSByZXF1aXJlKCdjcmVhdGUtaG1hYycpXG52YXIgY3J0ID0gcmVxdWlyZSgnYnJvd3NlcmlmeS1yc2EnKVxudmFyIGN1cnZlcyA9IHJlcXVpcmUoJy4vY3VydmVzJylcbnZhciBlbGxpcHRpYyA9IHJlcXVpcmUoJ2VsbGlwdGljJylcbnZhciBwYXJzZUtleXMgPSByZXF1aXJlKCdwYXJzZS1hc24xJylcblxudmFyIEJOID0gcmVxdWlyZSgnYm4uanMnKVxudmFyIEVDID0gZWxsaXB0aWMuZWNcblxuZnVuY3Rpb24gc2lnbiAoaGFzaCwga2V5LCBoYXNoVHlwZSwgc2lnblR5cGUpIHtcbiAgdmFyIHByaXYgPSBwYXJzZUtleXMoa2V5KVxuICBpZiAocHJpdi5jdXJ2ZSkge1xuICAgIGlmIChzaWduVHlwZSAhPT0gJ2VjZHNhJykgdGhyb3cgbmV3IEVycm9yKCd3cm9uZyBwcml2YXRlIGtleSB0eXBlJylcblxuICAgIHJldHVybiBlY1NpZ24oaGFzaCwgcHJpdilcbiAgfSBlbHNlIGlmIChwcml2LnR5cGUgPT09ICdkc2EnKSB7XG4gICAgaWYgKHNpZ25UeXBlICE9PSAnZHNhJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd3cm9uZyBwcml2YXRlIGtleSB0eXBlJylcbiAgICB9XG4gICAgcmV0dXJuIGRzYVNpZ24oaGFzaCwgcHJpdiwgaGFzaFR5cGUpXG4gIH0gZWxzZSB7XG4gICAgaWYgKHNpZ25UeXBlICE9PSAncnNhJykgdGhyb3cgbmV3IEVycm9yKCd3cm9uZyBwcml2YXRlIGtleSB0eXBlJylcbiAgfVxuXG4gIHZhciBsZW4gPSBwcml2Lm1vZHVsdXMuYnl0ZUxlbmd0aCgpXG4gIHZhciBwYWQgPSBbIDAsIDEgXVxuICB3aGlsZSAoaGFzaC5sZW5ndGggKyBwYWQubGVuZ3RoICsgMSA8IGxlbikge1xuICAgIHBhZC5wdXNoKDB4ZmYpXG4gIH1cbiAgcGFkLnB1c2goMHgwMClcbiAgdmFyIGkgPSAtMVxuICB3aGlsZSAoKytpIDwgaGFzaC5sZW5ndGgpIHtcbiAgICBwYWQucHVzaChoYXNoW2ldKVxuICB9XG5cbiAgdmFyIG91dCA9IGNydChwYWQsIHByaXYpXG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gZWNTaWduIChoYXNoLCBwcml2KSB7XG4gIHZhciBjdXJ2ZUlkID0gY3VydmVzW3ByaXYuY3VydmUuam9pbignLicpXVxuICBpZiAoIWN1cnZlSWQpIHRocm93IG5ldyBFcnJvcigndW5rbm93biBjdXJ2ZSAnICsgcHJpdi5jdXJ2ZS5qb2luKCcuJykpXG5cbiAgdmFyIGN1cnZlID0gbmV3IEVDKGN1cnZlSWQpXG4gIHZhciBrZXkgPSBjdXJ2ZS5nZW5LZXlQYWlyKClcblxuICBrZXkuX2ltcG9ydFByaXZhdGUocHJpdi5wcml2YXRlS2V5KVxuICB2YXIgb3V0ID0ga2V5LnNpZ24oaGFzaClcblxuICByZXR1cm4gbmV3IEJ1ZmZlcihvdXQudG9ERVIoKSlcbn1cblxuZnVuY3Rpb24gZHNhU2lnbiAoaGFzaCwgcHJpdiwgYWxnbykge1xuICB2YXIgeCA9IHByaXYucGFyYW1zLnByaXZfa2V5XG4gIHZhciBwID0gcHJpdi5wYXJhbXMucFxuICB2YXIgcSA9IHByaXYucGFyYW1zLnFcbiAgdmFyIGcgPSBwcml2LnBhcmFtcy5nXG4gIHZhciByID0gbmV3IEJOKDApXG4gIHZhciBrXG4gIHZhciBIID0gYml0czJpbnQoaGFzaCwgcSkubW9kKHEpXG4gIHZhciBzID0gZmFsc2VcbiAgdmFyIGt2ID0gZ2V0S2V5KHgsIHEsIGhhc2gsIGFsZ28pXG4gIHdoaWxlIChzID09PSBmYWxzZSkge1xuICAgIGsgPSBtYWtlS2V5KHEsIGt2LCBhbGdvKVxuICAgIHIgPSBtYWtlUihnLCBrLCBwLCBxKVxuICAgIHMgPSBrLmludm0ocSkuaW11bChILmFkZCh4Lm11bChyKSkpLm1vZChxKVxuICAgIGlmICghcy5jbXBuKDApKSB7XG4gICAgICBzID0gZmFsc2VcbiAgICAgIHIgPSBuZXcgQk4oMClcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRvREVSKHIsIHMpXG59XG5cbmZ1bmN0aW9uIHRvREVSIChyLCBzKSB7XG4gIHIgPSByLnRvQXJyYXkoKVxuICBzID0gcy50b0FycmF5KClcblxuICAvLyBQYWQgdmFsdWVzXG4gIGlmIChyWzBdICYgMHg4MCkge1xuICAgIHIgPSBbIDAgXS5jb25jYXQocilcbiAgfVxuICAvLyBQYWQgdmFsdWVzXG4gIGlmIChzWzBdICYgMHg4MCkge1xuICAgIHMgPSBbMF0uY29uY2F0KHMpXG4gIH1cblxuICB2YXIgdG90YWwgPSByLmxlbmd0aCArIHMubGVuZ3RoICsgNFxuICB2YXIgcmVzID0gWyAweDMwLCB0b3RhbCwgMHgwMiwgci5sZW5ndGggXVxuICByZXMgPSByZXMuY29uY2F0KHIsIFsgMHgwMiwgcy5sZW5ndGggXSwgcylcbiAgcmV0dXJuIG5ldyBCdWZmZXIocmVzKVxufVxuXG5mdW5jdGlvbiBnZXRLZXkgKHgsIHEsIGhhc2gsIGFsZ28pIHtcbiAgeCA9IG5ldyBCdWZmZXIoeC50b0FycmF5KCkpXG4gIGlmICh4Lmxlbmd0aCA8IHEuYnl0ZUxlbmd0aCgpKSB7XG4gICAgdmFyIHplcm9zID0gbmV3IEJ1ZmZlcihxLmJ5dGVMZW5ndGgoKSAtIHgubGVuZ3RoKVxuICAgIHplcm9zLmZpbGwoMClcbiAgICB4ID0gQnVmZmVyLmNvbmNhdChbemVyb3MsIHhdKVxuICB9XG4gIHZhciBobGVuID0gaGFzaC5sZW5ndGhcbiAgdmFyIGhiaXRzID0gYml0czJvY3RldHMoaGFzaCwgcSlcbiAgdmFyIHYgPSBuZXcgQnVmZmVyKGhsZW4pXG4gIHYuZmlsbCgxKVxuICB2YXIgayA9IG5ldyBCdWZmZXIoaGxlbilcbiAgay5maWxsKDApXG4gIGsgPSBjcmVhdGVIbWFjKGFsZ28sIGspXG4gICAgLnVwZGF0ZSh2KVxuICAgIC51cGRhdGUobmV3IEJ1ZmZlcihbMF0pKVxuICAgIC51cGRhdGUoeClcbiAgICAudXBkYXRlKGhiaXRzKVxuICAgIC5kaWdlc3QoKVxuICB2ID0gY3JlYXRlSG1hYyhhbGdvLCBrKVxuICAgIC51cGRhdGUodilcbiAgICAuZGlnZXN0KClcbiAgayA9IGNyZWF0ZUhtYWMoYWxnbywgaylcbiAgICAudXBkYXRlKHYpXG4gICAgLnVwZGF0ZShuZXcgQnVmZmVyKFsxXSkpXG4gICAgLnVwZGF0ZSh4KVxuICAgIC51cGRhdGUoaGJpdHMpXG4gICAgLmRpZ2VzdCgpXG4gIHYgPSBjcmVhdGVIbWFjKGFsZ28sIGspXG4gICAgLnVwZGF0ZSh2KVxuICAgIC5kaWdlc3QoKVxuICByZXR1cm4ge1xuICAgIGs6IGssXG4gICAgdjogdlxuICB9XG59XG5cbmZ1bmN0aW9uIGJpdHMyaW50IChvYml0cywgcSkge1xuICB2YXIgYml0cyA9IG5ldyBCTihvYml0cylcbiAgdmFyIHNoaWZ0ID0gKG9iaXRzLmxlbmd0aCA8PCAzKSAtIHEuYml0TGVuZ3RoKClcbiAgaWYgKHNoaWZ0ID4gMCkge1xuICAgIGJpdHMuaXNocm4oc2hpZnQpXG4gIH1cbiAgcmV0dXJuIGJpdHNcbn1cblxuZnVuY3Rpb24gYml0czJvY3RldHMgKGJpdHMsIHEpIHtcbiAgYml0cyA9IGJpdHMyaW50KGJpdHMsIHEpXG4gIGJpdHMgPSBiaXRzLm1vZChxKVxuICB2YXIgb3V0ID0gbmV3IEJ1ZmZlcihiaXRzLnRvQXJyYXkoKSlcbiAgaWYgKG91dC5sZW5ndGggPCBxLmJ5dGVMZW5ndGgoKSkge1xuICAgIHZhciB6ZXJvcyA9IG5ldyBCdWZmZXIocS5ieXRlTGVuZ3RoKCkgLSBvdXQubGVuZ3RoKVxuICAgIHplcm9zLmZpbGwoMClcbiAgICBvdXQgPSBCdWZmZXIuY29uY2F0KFt6ZXJvcywgb3V0XSlcbiAgfVxuICByZXR1cm4gb3V0XG59XG5cbmZ1bmN0aW9uIG1ha2VLZXkgKHEsIGt2LCBhbGdvKSB7XG4gIHZhciB0LCBrXG5cbiAgZG8ge1xuICAgIHQgPSBuZXcgQnVmZmVyKCcnKVxuXG4gICAgd2hpbGUgKHQubGVuZ3RoICogOCA8IHEuYml0TGVuZ3RoKCkpIHtcbiAgICAgIGt2LnYgPSBjcmVhdGVIbWFjKGFsZ28sIGt2LmspXG4gICAgICAgIC51cGRhdGUoa3YudilcbiAgICAgICAgLmRpZ2VzdCgpXG4gICAgICB0ID0gQnVmZmVyLmNvbmNhdChbdCwga3Yudl0pXG4gICAgfVxuXG4gICAgayA9IGJpdHMyaW50KHQsIHEpXG4gICAga3YuayA9IGNyZWF0ZUhtYWMoYWxnbywga3YuaylcbiAgICAgIC51cGRhdGUoa3YudilcbiAgICAgIC51cGRhdGUobmV3IEJ1ZmZlcihbMF0pKVxuICAgICAgLmRpZ2VzdCgpXG4gICAga3YudiA9IGNyZWF0ZUhtYWMoYWxnbywga3YuaylcbiAgICAgIC51cGRhdGUoa3YudilcbiAgICAgIC5kaWdlc3QoKVxuICB9IHdoaWxlIChrLmNtcChxKSAhPT0gLTEpXG5cbiAgcmV0dXJuIGtcbn1cblxuZnVuY3Rpb24gbWFrZVIgKGcsIGssIHAsIHEpIHtcbiAgcmV0dXJuIGcudG9SZWQoQk4ubW9udChwKSkucmVkUG93KGspLmZyb21SZWQoKS5tb2QocSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaWduXG5tb2R1bGUuZXhwb3J0cy5nZXRLZXkgPSBnZXRLZXlcbm1vZHVsZS5leHBvcnRzLm1ha2VLZXkgPSBtYWtlS2V5XG4iXX0=
},{"./curves":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/curves.js","bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/bn.js/lib/bn.js","browserify-rsa":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/browserify-rsa/index.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","create-hmac":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hmac/browser.js","elliptic":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic.js","parse-asn1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/index.js":[function(require,module,exports){
(function (Buffer){
var asn1 = require('./asn1')
var aesid = require('./aesid.json')
var fixProc = require('./fixProc')
var ciphers = require('browserify-aes')
var compat = require('pbkdf2')
module.exports = parseKeys

function parseKeys (buffer) {
  var password
  if (typeof buffer === 'object' && !Buffer.isBuffer(buffer)) {
    password = buffer.passphrase
    buffer = buffer.key
  }
  if (typeof buffer === 'string') {
    buffer = new Buffer(buffer)
  }

  var stripped = fixProc(buffer, password)

  var type = stripped.tag
  var data = stripped.data
  var subtype, ndata
  switch (type) {
    case 'PUBLIC KEY':
      ndata = asn1.PublicKey.decode(data, 'der')
      subtype = ndata.algorithm.algorithm.join('.')
      switch (subtype) {
        case '1.2.840.113549.1.1.1':
          return asn1.RSAPublicKey.decode(ndata.subjectPublicKey.data, 'der')
        case '1.2.840.10045.2.1':
          ndata.subjectPrivateKey = ndata.subjectPublicKey
          return {
            type: 'ec',
            data: ndata
          }
        case '1.2.840.10040.4.1':
          ndata.algorithm.params.pub_key = asn1.DSAparam.decode(ndata.subjectPublicKey.data, 'der')
          return {
            type: 'dsa',
            data: ndata.algorithm.params
          }
        default: throw new Error('unknown key id ' + subtype)
      }
      throw new Error('unknown key type ' + type)
    case 'ENCRYPTED PRIVATE KEY':
      data = asn1.EncryptedPrivateKey.decode(data, 'der')
      data = decrypt(data, password)
      // falls through
    case 'PRIVATE KEY':
      ndata = asn1.PrivateKey.decode(data, 'der')
      subtype = ndata.algorithm.algorithm.join('.')
      switch (subtype) {
        case '1.2.840.113549.1.1.1':
          return asn1.RSAPrivateKey.decode(ndata.subjectPrivateKey, 'der')
        case '1.2.840.10045.2.1':
          return {
            curve: ndata.algorithm.curve,
            privateKey: asn1.ECPrivateKey.decode(ndata.subjectPrivateKey, 'der').privateKey
          }
        case '1.2.840.10040.4.1':
          ndata.algorithm.params.priv_key = asn1.DSAparam.decode(ndata.subjectPrivateKey, 'der')
          return {
            type: 'dsa',
            params: ndata.algorithm.params
          }
        default: throw new Error('unknown key id ' + subtype)
      }
      throw new Error('unknown key type ' + type)
    case 'RSA PUBLIC KEY':
      return asn1.RSAPublicKey.decode(data, 'der')
    case 'RSA PRIVATE KEY':
      return asn1.RSAPrivateKey.decode(data, 'der')
    case 'DSA PRIVATE KEY':
      return {
        type: 'dsa',
        params: asn1.DSAPrivateKey.decode(data, 'der')
      }
    case 'EC PRIVATE KEY':
      data = asn1.ECPrivateKey.decode(data, 'der')
      return {
        curve: data.parameters.value,
        privateKey: data.privateKey
      }
    default: throw new Error('unknown key type ' + type)
  }
}
parseKeys.signature = asn1.signature
function decrypt (data, password) {
  var salt = data.algorithm.decrypt.kde.kdeparams.salt
  var iters = parseInt(data.algorithm.decrypt.kde.kdeparams.iters.toString(), 10)
  var algo = aesid[data.algorithm.decrypt.cipher.algo.join('.')]
  var iv = data.algorithm.decrypt.cipher.iv
  var cipherText = data.subjectPrivateKey
  var keylen = parseInt(algo.split('-')[1], 10) / 8
  var key = compat.pbkdf2Sync(password, salt, iters, keylen)
  var cipher = ciphers.createDecipheriv(algo, key, iv)
  var out = []
  out.push(cipher.update(cipherText))
  out.push(cipher.final())
  return Buffer.concat(out)
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBhc24xID0gcmVxdWlyZSgnLi9hc24xJylcbnZhciBhZXNpZCA9IHJlcXVpcmUoJy4vYWVzaWQuanNvbicpXG52YXIgZml4UHJvYyA9IHJlcXVpcmUoJy4vZml4UHJvYycpXG52YXIgY2lwaGVycyA9IHJlcXVpcmUoJ2Jyb3dzZXJpZnktYWVzJylcbnZhciBjb21wYXQgPSByZXF1aXJlKCdwYmtkZjInKVxubW9kdWxlLmV4cG9ydHMgPSBwYXJzZUtleXNcblxuZnVuY3Rpb24gcGFyc2VLZXlzIChidWZmZXIpIHtcbiAgdmFyIHBhc3N3b3JkXG4gIGlmICh0eXBlb2YgYnVmZmVyID09PSAnb2JqZWN0JyAmJiAhQnVmZmVyLmlzQnVmZmVyKGJ1ZmZlcikpIHtcbiAgICBwYXNzd29yZCA9IGJ1ZmZlci5wYXNzcGhyYXNlXG4gICAgYnVmZmVyID0gYnVmZmVyLmtleVxuICB9XG4gIGlmICh0eXBlb2YgYnVmZmVyID09PSAnc3RyaW5nJykge1xuICAgIGJ1ZmZlciA9IG5ldyBCdWZmZXIoYnVmZmVyKVxuICB9XG5cbiAgdmFyIHN0cmlwcGVkID0gZml4UHJvYyhidWZmZXIsIHBhc3N3b3JkKVxuXG4gIHZhciB0eXBlID0gc3RyaXBwZWQudGFnXG4gIHZhciBkYXRhID0gc3RyaXBwZWQuZGF0YVxuICB2YXIgc3VidHlwZSwgbmRhdGFcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnUFVCTElDIEtFWSc6XG4gICAgICBuZGF0YSA9IGFzbjEuUHVibGljS2V5LmRlY29kZShkYXRhLCAnZGVyJylcbiAgICAgIHN1YnR5cGUgPSBuZGF0YS5hbGdvcml0aG0uYWxnb3JpdGhtLmpvaW4oJy4nKVxuICAgICAgc3dpdGNoIChzdWJ0eXBlKSB7XG4gICAgICAgIGNhc2UgJzEuMi44NDAuMTEzNTQ5LjEuMS4xJzpcbiAgICAgICAgICByZXR1cm4gYXNuMS5SU0FQdWJsaWNLZXkuZGVjb2RlKG5kYXRhLnN1YmplY3RQdWJsaWNLZXkuZGF0YSwgJ2RlcicpXG4gICAgICAgIGNhc2UgJzEuMi44NDAuMTAwNDUuMi4xJzpcbiAgICAgICAgICBuZGF0YS5zdWJqZWN0UHJpdmF0ZUtleSA9IG5kYXRhLnN1YmplY3RQdWJsaWNLZXlcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2VjJyxcbiAgICAgICAgICAgIGRhdGE6IG5kYXRhXG4gICAgICAgICAgfVxuICAgICAgICBjYXNlICcxLjIuODQwLjEwMDQwLjQuMSc6XG4gICAgICAgICAgbmRhdGEuYWxnb3JpdGhtLnBhcmFtcy5wdWJfa2V5ID0gYXNuMS5EU0FwYXJhbS5kZWNvZGUobmRhdGEuc3ViamVjdFB1YmxpY0tleS5kYXRhLCAnZGVyJylcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2RzYScsXG4gICAgICAgICAgICBkYXRhOiBuZGF0YS5hbGdvcml0aG0ucGFyYW1zXG4gICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24ga2V5IGlkICcgKyBzdWJ0eXBlKVxuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGtleSB0eXBlICcgKyB0eXBlKVxuICAgIGNhc2UgJ0VOQ1JZUFRFRCBQUklWQVRFIEtFWSc6XG4gICAgICBkYXRhID0gYXNuMS5FbmNyeXB0ZWRQcml2YXRlS2V5LmRlY29kZShkYXRhLCAnZGVyJylcbiAgICAgIGRhdGEgPSBkZWNyeXB0KGRhdGEsIHBhc3N3b3JkKVxuICAgICAgLy8gZmFsbHMgdGhyb3VnaFxuICAgIGNhc2UgJ1BSSVZBVEUgS0VZJzpcbiAgICAgIG5kYXRhID0gYXNuMS5Qcml2YXRlS2V5LmRlY29kZShkYXRhLCAnZGVyJylcbiAgICAgIHN1YnR5cGUgPSBuZGF0YS5hbGdvcml0aG0uYWxnb3JpdGhtLmpvaW4oJy4nKVxuICAgICAgc3dpdGNoIChzdWJ0eXBlKSB7XG4gICAgICAgIGNhc2UgJzEuMi44NDAuMTEzNTQ5LjEuMS4xJzpcbiAgICAgICAgICByZXR1cm4gYXNuMS5SU0FQcml2YXRlS2V5LmRlY29kZShuZGF0YS5zdWJqZWN0UHJpdmF0ZUtleSwgJ2RlcicpXG4gICAgICAgIGNhc2UgJzEuMi44NDAuMTAwNDUuMi4xJzpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY3VydmU6IG5kYXRhLmFsZ29yaXRobS5jdXJ2ZSxcbiAgICAgICAgICAgIHByaXZhdGVLZXk6IGFzbjEuRUNQcml2YXRlS2V5LmRlY29kZShuZGF0YS5zdWJqZWN0UHJpdmF0ZUtleSwgJ2RlcicpLnByaXZhdGVLZXlcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJzEuMi44NDAuMTAwNDAuNC4xJzpcbiAgICAgICAgICBuZGF0YS5hbGdvcml0aG0ucGFyYW1zLnByaXZfa2V5ID0gYXNuMS5EU0FwYXJhbS5kZWNvZGUobmRhdGEuc3ViamVjdFByaXZhdGVLZXksICdkZXInKVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnZHNhJyxcbiAgICAgICAgICAgIHBhcmFtczogbmRhdGEuYWxnb3JpdGhtLnBhcmFtc1xuICAgICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGtleSBpZCAnICsgc3VidHlwZSlcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biBrZXkgdHlwZSAnICsgdHlwZSlcbiAgICBjYXNlICdSU0EgUFVCTElDIEtFWSc6XG4gICAgICByZXR1cm4gYXNuMS5SU0FQdWJsaWNLZXkuZGVjb2RlKGRhdGEsICdkZXInKVxuICAgIGNhc2UgJ1JTQSBQUklWQVRFIEtFWSc6XG4gICAgICByZXR1cm4gYXNuMS5SU0FQcml2YXRlS2V5LmRlY29kZShkYXRhLCAnZGVyJylcbiAgICBjYXNlICdEU0EgUFJJVkFURSBLRVknOlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogJ2RzYScsXG4gICAgICAgIHBhcmFtczogYXNuMS5EU0FQcml2YXRlS2V5LmRlY29kZShkYXRhLCAnZGVyJylcbiAgICAgIH1cbiAgICBjYXNlICdFQyBQUklWQVRFIEtFWSc6XG4gICAgICBkYXRhID0gYXNuMS5FQ1ByaXZhdGVLZXkuZGVjb2RlKGRhdGEsICdkZXInKVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY3VydmU6IGRhdGEucGFyYW1ldGVycy52YWx1ZSxcbiAgICAgICAgcHJpdmF0ZUtleTogZGF0YS5wcml2YXRlS2V5XG4gICAgICB9XG4gICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGtleSB0eXBlICcgKyB0eXBlKVxuICB9XG59XG5wYXJzZUtleXMuc2lnbmF0dXJlID0gYXNuMS5zaWduYXR1cmVcbmZ1bmN0aW9uIGRlY3J5cHQgKGRhdGEsIHBhc3N3b3JkKSB7XG4gIHZhciBzYWx0ID0gZGF0YS5hbGdvcml0aG0uZGVjcnlwdC5rZGUua2RlcGFyYW1zLnNhbHRcbiAgdmFyIGl0ZXJzID0gcGFyc2VJbnQoZGF0YS5hbGdvcml0aG0uZGVjcnlwdC5rZGUua2RlcGFyYW1zLml0ZXJzLnRvU3RyaW5nKCksIDEwKVxuICB2YXIgYWxnbyA9IGFlc2lkW2RhdGEuYWxnb3JpdGhtLmRlY3J5cHQuY2lwaGVyLmFsZ28uam9pbignLicpXVxuICB2YXIgaXYgPSBkYXRhLmFsZ29yaXRobS5kZWNyeXB0LmNpcGhlci5pdlxuICB2YXIgY2lwaGVyVGV4dCA9IGRhdGEuc3ViamVjdFByaXZhdGVLZXlcbiAgdmFyIGtleWxlbiA9IHBhcnNlSW50KGFsZ28uc3BsaXQoJy0nKVsxXSwgMTApIC8gOFxuICB2YXIga2V5ID0gY29tcGF0LnBia2RmMlN5bmMocGFzc3dvcmQsIHNhbHQsIGl0ZXJzLCBrZXlsZW4pXG4gIHZhciBjaXBoZXIgPSBjaXBoZXJzLmNyZWF0ZURlY2lwaGVyaXYoYWxnbywga2V5LCBpdilcbiAgdmFyIG91dCA9IFtdXG4gIG91dC5wdXNoKGNpcGhlci51cGRhdGUoY2lwaGVyVGV4dCkpXG4gIG91dC5wdXNoKGNpcGhlci5maW5hbCgpKVxuICByZXR1cm4gQnVmZmVyLmNvbmNhdChvdXQpXG59XG4iXX0=
},{"./aesid.json":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/aesid.json","./asn1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/asn1.js","./fixProc":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/fixProc.js","browserify-aes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/browser.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","pbkdf2":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/pbkdf2/browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/pbkdf2/browser.js":[function(require,module,exports){
(function (Buffer){
var createHmac = require('create-hmac')
var MAX_ALLOC = Math.pow(2, 30) - 1 // default in iojs

exports.pbkdf2 = pbkdf2
function pbkdf2 (password, salt, iterations, keylen, digest, callback) {
  if (typeof digest === 'function') {
    callback = digest
    digest = undefined
  }

  if (typeof callback !== 'function') {
    throw new Error('No callback provided to pbkdf2')
  }

  var result = pbkdf2Sync(password, salt, iterations, keylen, digest)
  setTimeout(function () {
    callback(undefined, result)
  })
}

exports.pbkdf2Sync = pbkdf2Sync
function pbkdf2Sync (password, salt, iterations, keylen, digest) {
  if (typeof iterations !== 'number') {
    throw new TypeError('Iterations not a number')
  }

  if (iterations < 0) {
    throw new TypeError('Bad iterations')
  }

  if (typeof keylen !== 'number') {
    throw new TypeError('Key length not a number')
  }

  if (keylen < 0 || keylen > MAX_ALLOC) {
    throw new TypeError('Bad key length')
  }

  digest = digest || 'sha1'

  if (!Buffer.isBuffer(password)) password = new Buffer(password, 'binary')
  if (!Buffer.isBuffer(salt)) salt = new Buffer(salt, 'binary')

  var hLen
  var l = 1
  var DK = new Buffer(keylen)
  var block1 = new Buffer(salt.length + 4)
  salt.copy(block1, 0, 0, salt.length)

  var r
  var T

  for (var i = 1; i <= l; i++) {
    block1.writeUInt32BE(i, salt.length)
    var U = createHmac(digest, password).update(block1).digest()

    if (!hLen) {
      hLen = U.length
      T = new Buffer(hLen)
      l = Math.ceil(keylen / hLen)
      r = keylen - (l - 1) * hLen
    }

    U.copy(T, 0, 0, hLen)

    for (var j = 1; j < iterations; j++) {
      U = createHmac(digest, password).update(U).digest()

      for (var k = 0; k < hLen; k++) {
        T[k] ^= U[k]
      }
    }

    var destPos = (i - 1) * hLen
    var len = (i === l ? r : hLen)
    T.copy(DK, destPos, 0, len)
  }

  return DK
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcGJrZGYyL2Jyb3dzZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNyZWF0ZUhtYWMgPSByZXF1aXJlKCdjcmVhdGUtaG1hYycpXG52YXIgTUFYX0FMTE9DID0gTWF0aC5wb3coMiwgMzApIC0gMSAvLyBkZWZhdWx0IGluIGlvanNcblxuZXhwb3J0cy5wYmtkZjIgPSBwYmtkZjJcbmZ1bmN0aW9uIHBia2RmMiAocGFzc3dvcmQsIHNhbHQsIGl0ZXJhdGlvbnMsIGtleWxlbiwgZGlnZXN0LCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIGRpZ2VzdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gZGlnZXN0XG4gICAgZGlnZXN0ID0gdW5kZWZpbmVkXG4gIH1cblxuICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdObyBjYWxsYmFjayBwcm92aWRlZCB0byBwYmtkZjInKVxuICB9XG5cbiAgdmFyIHJlc3VsdCA9IHBia2RmMlN5bmMocGFzc3dvcmQsIHNhbHQsIGl0ZXJhdGlvbnMsIGtleWxlbiwgZGlnZXN0KVxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICBjYWxsYmFjayh1bmRlZmluZWQsIHJlc3VsdClcbiAgfSlcbn1cblxuZXhwb3J0cy5wYmtkZjJTeW5jID0gcGJrZGYyU3luY1xuZnVuY3Rpb24gcGJrZGYyU3luYyAocGFzc3dvcmQsIHNhbHQsIGl0ZXJhdGlvbnMsIGtleWxlbiwgZGlnZXN0KSB7XG4gIGlmICh0eXBlb2YgaXRlcmF0aW9ucyAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJdGVyYXRpb25zIG5vdCBhIG51bWJlcicpXG4gIH1cblxuICBpZiAoaXRlcmF0aW9ucyA8IDApIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCYWQgaXRlcmF0aW9ucycpXG4gIH1cblxuICBpZiAodHlwZW9mIGtleWxlbiAhPT0gJ251bWJlcicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdLZXkgbGVuZ3RoIG5vdCBhIG51bWJlcicpXG4gIH1cblxuICBpZiAoa2V5bGVuIDwgMCB8fCBrZXlsZW4gPiBNQVhfQUxMT0MpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCYWQga2V5IGxlbmd0aCcpXG4gIH1cblxuICBkaWdlc3QgPSBkaWdlc3QgfHwgJ3NoYTEnXG5cbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIocGFzc3dvcmQpKSBwYXNzd29yZCA9IG5ldyBCdWZmZXIocGFzc3dvcmQsICdiaW5hcnknKVxuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihzYWx0KSkgc2FsdCA9IG5ldyBCdWZmZXIoc2FsdCwgJ2JpbmFyeScpXG5cbiAgdmFyIGhMZW5cbiAgdmFyIGwgPSAxXG4gIHZhciBESyA9IG5ldyBCdWZmZXIoa2V5bGVuKVxuICB2YXIgYmxvY2sxID0gbmV3IEJ1ZmZlcihzYWx0Lmxlbmd0aCArIDQpXG4gIHNhbHQuY29weShibG9jazEsIDAsIDAsIHNhbHQubGVuZ3RoKVxuXG4gIHZhciByXG4gIHZhciBUXG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPD0gbDsgaSsrKSB7XG4gICAgYmxvY2sxLndyaXRlVUludDMyQkUoaSwgc2FsdC5sZW5ndGgpXG4gICAgdmFyIFUgPSBjcmVhdGVIbWFjKGRpZ2VzdCwgcGFzc3dvcmQpLnVwZGF0ZShibG9jazEpLmRpZ2VzdCgpXG5cbiAgICBpZiAoIWhMZW4pIHtcbiAgICAgIGhMZW4gPSBVLmxlbmd0aFxuICAgICAgVCA9IG5ldyBCdWZmZXIoaExlbilcbiAgICAgIGwgPSBNYXRoLmNlaWwoa2V5bGVuIC8gaExlbilcbiAgICAgIHIgPSBrZXlsZW4gLSAobCAtIDEpICogaExlblxuICAgIH1cblxuICAgIFUuY29weShULCAwLCAwLCBoTGVuKVxuXG4gICAgZm9yICh2YXIgaiA9IDE7IGogPCBpdGVyYXRpb25zOyBqKyspIHtcbiAgICAgIFUgPSBjcmVhdGVIbWFjKGRpZ2VzdCwgcGFzc3dvcmQpLnVwZGF0ZShVKS5kaWdlc3QoKVxuXG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IGhMZW47IGsrKykge1xuICAgICAgICBUW2tdIF49IFVba11cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZGVzdFBvcyA9IChpIC0gMSkgKiBoTGVuXG4gICAgdmFyIGxlbiA9IChpID09PSBsID8gciA6IGhMZW4pXG4gICAgVC5jb3B5KERLLCBkZXN0UG9zLCAwLCBsZW4pXG4gIH1cblxuICByZXR1cm4gREtcbn1cbiJdfQ==
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","create-hmac":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hmac/browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hmac/browser.js":[function(require,module,exports){
(function (Buffer){
'use strict';
var createHash = require('create-hash/browser');
var inherits = require('inherits')

var Transform = require('stream').Transform

var ZEROS = new Buffer(128)
ZEROS.fill(0)

function Hmac(alg, key) {
  Transform.call(this)
  alg = alg.toLowerCase()
  if (typeof key === 'string') {
    key = new Buffer(key)
  }

  var blocksize = (alg === 'sha512' || alg === 'sha384') ? 128 : 64

  this._alg = alg
  this._key = key

  if (key.length > blocksize) {
    key = createHash(alg).update(key).digest()

  } else if (key.length < blocksize) {
    key = Buffer.concat([key, ZEROS], blocksize)
  }

  var ipad = this._ipad = new Buffer(blocksize)
  var opad = this._opad = new Buffer(blocksize)

  for (var i = 0; i < blocksize; i++) {
    ipad[i] = key[i] ^ 0x36
    opad[i] = key[i] ^ 0x5C
  }

  this._hash = createHash(alg).update(ipad)
}

inherits(Hmac, Transform)

Hmac.prototype.update = function (data, enc) {
  this._hash.update(data, enc)

  return this
}

Hmac.prototype._transform = function (data, _, next) {
  this._hash.update(data)

  next()
}

Hmac.prototype._flush = function (next) {
  this.push(this.digest())

  next()
}

Hmac.prototype.digest = function (enc) {
  var h = this._hash.digest()

  return createHash(this._alg).update(this._opad).update(h).digest(enc)
}

module.exports = function createHmac(alg, key) {
  return new Hmac(alg, key)
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWhtYWMvYnJvd3Nlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgY3JlYXRlSGFzaCA9IHJlcXVpcmUoJ2NyZWF0ZS1oYXNoL2Jyb3dzZXInKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcblxudmFyIFRyYW5zZm9ybSA9IHJlcXVpcmUoJ3N0cmVhbScpLlRyYW5zZm9ybVxuXG52YXIgWkVST1MgPSBuZXcgQnVmZmVyKDEyOClcblpFUk9TLmZpbGwoMClcblxuZnVuY3Rpb24gSG1hYyhhbGcsIGtleSkge1xuICBUcmFuc2Zvcm0uY2FsbCh0aGlzKVxuICBhbGcgPSBhbGcudG9Mb3dlckNhc2UoKVxuICBpZiAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycpIHtcbiAgICBrZXkgPSBuZXcgQnVmZmVyKGtleSlcbiAgfVxuXG4gIHZhciBibG9ja3NpemUgPSAoYWxnID09PSAnc2hhNTEyJyB8fCBhbGcgPT09ICdzaGEzODQnKSA/IDEyOCA6IDY0XG5cbiAgdGhpcy5fYWxnID0gYWxnXG4gIHRoaXMuX2tleSA9IGtleVxuXG4gIGlmIChrZXkubGVuZ3RoID4gYmxvY2tzaXplKSB7XG4gICAga2V5ID0gY3JlYXRlSGFzaChhbGcpLnVwZGF0ZShrZXkpLmRpZ2VzdCgpXG5cbiAgfSBlbHNlIGlmIChrZXkubGVuZ3RoIDwgYmxvY2tzaXplKSB7XG4gICAga2V5ID0gQnVmZmVyLmNvbmNhdChba2V5LCBaRVJPU10sIGJsb2Nrc2l6ZSlcbiAgfVxuXG4gIHZhciBpcGFkID0gdGhpcy5faXBhZCA9IG5ldyBCdWZmZXIoYmxvY2tzaXplKVxuICB2YXIgb3BhZCA9IHRoaXMuX29wYWQgPSBuZXcgQnVmZmVyKGJsb2Nrc2l6ZSlcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGJsb2Nrc2l6ZTsgaSsrKSB7XG4gICAgaXBhZFtpXSA9IGtleVtpXSBeIDB4MzZcbiAgICBvcGFkW2ldID0ga2V5W2ldIF4gMHg1Q1xuICB9XG5cbiAgdGhpcy5faGFzaCA9IGNyZWF0ZUhhc2goYWxnKS51cGRhdGUoaXBhZClcbn1cblxuaW5oZXJpdHMoSG1hYywgVHJhbnNmb3JtKVxuXG5IbWFjLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSwgZW5jKSB7XG4gIHRoaXMuX2hhc2gudXBkYXRlKGRhdGEsIGVuYylcblxuICByZXR1cm4gdGhpc1xufVxuXG5IbWFjLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24gKGRhdGEsIF8sIG5leHQpIHtcbiAgdGhpcy5faGFzaC51cGRhdGUoZGF0YSlcblxuICBuZXh0KClcbn1cblxuSG1hYy5wcm90b3R5cGUuX2ZsdXNoID0gZnVuY3Rpb24gKG5leHQpIHtcbiAgdGhpcy5wdXNoKHRoaXMuZGlnZXN0KCkpXG5cbiAgbmV4dCgpXG59XG5cbkhtYWMucHJvdG90eXBlLmRpZ2VzdCA9IGZ1bmN0aW9uIChlbmMpIHtcbiAgdmFyIGggPSB0aGlzLl9oYXNoLmRpZ2VzdCgpXG5cbiAgcmV0dXJuIGNyZWF0ZUhhc2godGhpcy5fYWxnKS51cGRhdGUodGhpcy5fb3BhZCkudXBkYXRlKGgpLmRpZ2VzdChlbmMpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlSG1hYyhhbGcsIGtleSkge1xuICByZXR1cm4gbmV3IEhtYWMoYWxnLCBrZXkpXG59XG4iXX0=
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","create-hash/browser":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/browser.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js","stream":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/stream-browserify/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/browser.js":[function(require,module,exports){
(function (Buffer){
'use strict';
var inherits = require('inherits')
var md5 = require('./md5')
var rmd160 = require('ripemd160')
var sha = require('sha.js')

var Base = require('cipher-base')

function HashNoConstructor(hash) {
  Base.call(this, 'digest')

  this._hash = hash
  this.buffers = []
}

inherits(HashNoConstructor, Base)

HashNoConstructor.prototype._update = function (data) {
  this.buffers.push(data)
}

HashNoConstructor.prototype._final = function () {
  var buf = Buffer.concat(this.buffers)
  var r = this._hash(buf)
  this.buffers = null

  return r
}

function Hash(hash) {
  Base.call(this, 'digest')

  this._hash = hash
}

inherits(Hash, Base)

Hash.prototype._update = function (data) {
  this._hash.update(data)
}

Hash.prototype._final = function () {
  return this._hash.digest()
}

module.exports = function createHash (alg) {
  alg = alg.toLowerCase()
  if ('md5' === alg) return new HashNoConstructor(md5)
  if ('rmd160' === alg || 'ripemd160' === alg) return new HashNoConstructor(rmd160)

  return new Hash(sha(alg))
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWhhc2gvYnJvd3Nlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxudmFyIG1kNSA9IHJlcXVpcmUoJy4vbWQ1JylcbnZhciBybWQxNjAgPSByZXF1aXJlKCdyaXBlbWQxNjAnKVxudmFyIHNoYSA9IHJlcXVpcmUoJ3NoYS5qcycpXG5cbnZhciBCYXNlID0gcmVxdWlyZSgnY2lwaGVyLWJhc2UnKVxuXG5mdW5jdGlvbiBIYXNoTm9Db25zdHJ1Y3RvcihoYXNoKSB7XG4gIEJhc2UuY2FsbCh0aGlzLCAnZGlnZXN0JylcblxuICB0aGlzLl9oYXNoID0gaGFzaFxuICB0aGlzLmJ1ZmZlcnMgPSBbXVxufVxuXG5pbmhlcml0cyhIYXNoTm9Db25zdHJ1Y3RvciwgQmFzZSlcblxuSGFzaE5vQ29uc3RydWN0b3IucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICB0aGlzLmJ1ZmZlcnMucHVzaChkYXRhKVxufVxuXG5IYXNoTm9Db25zdHJ1Y3Rvci5wcm90b3R5cGUuX2ZpbmFsID0gZnVuY3Rpb24gKCkge1xuICB2YXIgYnVmID0gQnVmZmVyLmNvbmNhdCh0aGlzLmJ1ZmZlcnMpXG4gIHZhciByID0gdGhpcy5faGFzaChidWYpXG4gIHRoaXMuYnVmZmVycyA9IG51bGxcblxuICByZXR1cm4gclxufVxuXG5mdW5jdGlvbiBIYXNoKGhhc2gpIHtcbiAgQmFzZS5jYWxsKHRoaXMsICdkaWdlc3QnKVxuXG4gIHRoaXMuX2hhc2ggPSBoYXNoXG59XG5cbmluaGVyaXRzKEhhc2gsIEJhc2UpXG5cbkhhc2gucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICB0aGlzLl9oYXNoLnVwZGF0ZShkYXRhKVxufVxuXG5IYXNoLnByb3RvdHlwZS5fZmluYWwgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl9oYXNoLmRpZ2VzdCgpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlSGFzaCAoYWxnKSB7XG4gIGFsZyA9IGFsZy50b0xvd2VyQ2FzZSgpXG4gIGlmICgnbWQ1JyA9PT0gYWxnKSByZXR1cm4gbmV3IEhhc2hOb0NvbnN0cnVjdG9yKG1kNSlcbiAgaWYgKCdybWQxNjAnID09PSBhbGcgfHwgJ3JpcGVtZDE2MCcgPT09IGFsZykgcmV0dXJuIG5ldyBIYXNoTm9Db25zdHJ1Y3RvcihybWQxNjApXG5cbiAgcmV0dXJuIG5ldyBIYXNoKHNoYShhbGcpKVxufVxuIl19
},{"./md5":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/md5.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","cipher-base":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/cipher-base/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js","ripemd160":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/ripemd160/lib/ripemd160.js","sha.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/sha.js/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/sha.js/index.js":[function(require,module,exports){
var exports = module.exports = function SHA (algorithm) {
  algorithm = algorithm.toLowerCase()

  var Algorithm = exports[algorithm]
  if (!Algorithm) throw new Error(algorithm + ' is not supported (we accept pull requests)')

  return new Algorithm()
}

exports.sha = require('./sha')
exports.sha1 = require('./sha1')
exports.sha224 = require('./sha224')
exports.sha256 = require('./sha256')
exports.sha384 = require('./sha384')
exports.sha512 = require('./sha512')

},{"./sha":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/sha.js/sha.js","./sha1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/sha.js/sha1.js","./sha224":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/sha.js/sha224.js","./sha256":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/sha.js/sha256.js","./sha384":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/sha.js/sha384.js","./sha512":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/sha.js/sha512.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/sha.js/sha384.js":[function(require,module,exports){
(function (Buffer){
var inherits = require('inherits')
var SHA512 = require('./sha512')
var Hash = require('./hash')

var W = new Array(160)

function Sha384 () {
  this.init()
  this._w = W

  Hash.call(this, 128, 112)
}

inherits(Sha384, SHA512)

Sha384.prototype.init = function () {
  this._a = 0xcbbb9d5d | 0
  this._b = 0x629a292a | 0
  this._c = 0x9159015a | 0
  this._d = 0x152fecd8 | 0
  this._e = 0x67332667 | 0
  this._f = 0x8eb44a87 | 0
  this._g = 0xdb0c2e0d | 0
  this._h = 0x47b5481d | 0

  this._al = 0xc1059ed8 | 0
  this._bl = 0x367cd507 | 0
  this._cl = 0x3070dd17 | 0
  this._dl = 0xf70e5939 | 0
  this._el = 0xffc00b31 | 0
  this._fl = 0x68581511 | 0
  this._gl = 0x64f98fa7 | 0
  this._hl = 0xbefa4fa4 | 0

  return this
}

Sha384.prototype._hash = function () {
  var H = new Buffer(48)

  function writeInt64BE (h, l, offset) {
    H.writeInt32BE(h, offset)
    H.writeInt32BE(l, offset + 4)
  }

  writeInt64BE(this._a, this._al, 0)
  writeInt64BE(this._b, this._bl, 8)
  writeInt64BE(this._c, this._cl, 16)
  writeInt64BE(this._d, this._dl, 24)
  writeInt64BE(this._e, this._el, 32)
  writeInt64BE(this._f, this._fl, 40)

  return H
}

module.exports = Sha384

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWhhc2gvbm9kZV9tb2R1bGVzL3NoYS5qcy9zaGEzODQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxudmFyIFNIQTUxMiA9IHJlcXVpcmUoJy4vc2hhNTEyJylcbnZhciBIYXNoID0gcmVxdWlyZSgnLi9oYXNoJylcblxudmFyIFcgPSBuZXcgQXJyYXkoMTYwKVxuXG5mdW5jdGlvbiBTaGEzODQgKCkge1xuICB0aGlzLmluaXQoKVxuICB0aGlzLl93ID0gV1xuXG4gIEhhc2guY2FsbCh0aGlzLCAxMjgsIDExMilcbn1cblxuaW5oZXJpdHMoU2hhMzg0LCBTSEE1MTIpXG5cblNoYTM4NC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fYSA9IDB4Y2JiYjlkNWQgfCAwXG4gIHRoaXMuX2IgPSAweDYyOWEyOTJhIHwgMFxuICB0aGlzLl9jID0gMHg5MTU5MDE1YSB8IDBcbiAgdGhpcy5fZCA9IDB4MTUyZmVjZDggfCAwXG4gIHRoaXMuX2UgPSAweDY3MzMyNjY3IHwgMFxuICB0aGlzLl9mID0gMHg4ZWI0NGE4NyB8IDBcbiAgdGhpcy5fZyA9IDB4ZGIwYzJlMGQgfCAwXG4gIHRoaXMuX2ggPSAweDQ3YjU0ODFkIHwgMFxuXG4gIHRoaXMuX2FsID0gMHhjMTA1OWVkOCB8IDBcbiAgdGhpcy5fYmwgPSAweDM2N2NkNTA3IHwgMFxuICB0aGlzLl9jbCA9IDB4MzA3MGRkMTcgfCAwXG4gIHRoaXMuX2RsID0gMHhmNzBlNTkzOSB8IDBcbiAgdGhpcy5fZWwgPSAweGZmYzAwYjMxIHwgMFxuICB0aGlzLl9mbCA9IDB4Njg1ODE1MTEgfCAwXG4gIHRoaXMuX2dsID0gMHg2NGY5OGZhNyB8IDBcbiAgdGhpcy5faGwgPSAweGJlZmE0ZmE0IHwgMFxuXG4gIHJldHVybiB0aGlzXG59XG5cblNoYTM4NC5wcm90b3R5cGUuX2hhc2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBIID0gbmV3IEJ1ZmZlcig0OClcblxuICBmdW5jdGlvbiB3cml0ZUludDY0QkUgKGgsIGwsIG9mZnNldCkge1xuICAgIEgud3JpdGVJbnQzMkJFKGgsIG9mZnNldClcbiAgICBILndyaXRlSW50MzJCRShsLCBvZmZzZXQgKyA0KVxuICB9XG5cbiAgd3JpdGVJbnQ2NEJFKHRoaXMuX2EsIHRoaXMuX2FsLCAwKVxuICB3cml0ZUludDY0QkUodGhpcy5fYiwgdGhpcy5fYmwsIDgpXG4gIHdyaXRlSW50NjRCRSh0aGlzLl9jLCB0aGlzLl9jbCwgMTYpXG4gIHdyaXRlSW50NjRCRSh0aGlzLl9kLCB0aGlzLl9kbCwgMjQpXG4gIHdyaXRlSW50NjRCRSh0aGlzLl9lLCB0aGlzLl9lbCwgMzIpXG4gIHdyaXRlSW50NjRCRSh0aGlzLl9mLCB0aGlzLl9mbCwgNDApXG5cbiAgcmV0dXJuIEhcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTaGEzODRcbiJdfQ==
},{"./hash":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/sha.js/hash.js","./sha512":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/sha.js/sha512.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/sha.js/sha512.js":[function(require,module,exports){
(function (Buffer){
var inherits = require('inherits')
var Hash = require('./hash')

var K = [
  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,
  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,
  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,
  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,
  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,
  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,
  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,
  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,
  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,
  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,
  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,
  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,
  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,
  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,
  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,
  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,
  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,
  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,
  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,
  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,
  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,
  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,
  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,
  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,
  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,
  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,
  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,
  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,
  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,
  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,
  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,
  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,
  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,
  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,
  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,
  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,
  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,
  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,
  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,
  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817
]

var W = new Array(160)

function Sha512 () {
  this.init()
  this._w = W

  Hash.call(this, 128, 112)
}

inherits(Sha512, Hash)

Sha512.prototype.init = function () {
  this._a = 0x6a09e667 | 0
  this._b = 0xbb67ae85 | 0
  this._c = 0x3c6ef372 | 0
  this._d = 0xa54ff53a | 0
  this._e = 0x510e527f | 0
  this._f = 0x9b05688c | 0
  this._g = 0x1f83d9ab | 0
  this._h = 0x5be0cd19 | 0

  this._al = 0xf3bcc908 | 0
  this._bl = 0x84caa73b | 0
  this._cl = 0xfe94f82b | 0
  this._dl = 0x5f1d36f1 | 0
  this._el = 0xade682d1 | 0
  this._fl = 0x2b3e6c1f | 0
  this._gl = 0xfb41bd6b | 0
  this._hl = 0x137e2179 | 0

  return this
}

function Ch (x, y, z) {
  return z ^ (x & (y ^ z))
}

function Maj (x, y, z) {
  return (x & y) | (z & (x | y))
}

function Sigma0 (x, xl) {
  return (x >>> 28 | xl << 4) ^ (xl >>> 2 | x << 30) ^ (xl >>> 7 | x << 25)
}

function Sigma1 (x, xl) {
  return (x >>> 14 | xl << 18) ^ (x >>> 18 | xl << 14) ^ (xl >>> 9 | x << 23)
}

function Gamma0 (x, xl) {
  return (x >>> 1 | xl << 31) ^ (x >>> 8 | xl << 24) ^ (x >>> 7)
}

function Gamma0l (x, xl) {
  return (x >>> 1 | xl << 31) ^ (x >>> 8 | xl << 24) ^ (x >>> 7 | xl << 25)
}

function Gamma1 (x, xl) {
  return (x >>> 19 | xl << 13) ^ (xl >>> 29 | x << 3) ^ (x >>> 6)
}

function Gamma1l (x, xl) {
  return (x >>> 19 | xl << 13) ^ (xl >>> 29 | x << 3) ^ (x >>> 6 | xl << 26)
}

Sha512.prototype._update = function (M) {
  var W = this._w

  var a = this._a | 0
  var b = this._b | 0
  var c = this._c | 0
  var d = this._d | 0
  var e = this._e | 0
  var f = this._f | 0
  var g = this._g | 0
  var h = this._h | 0

  var al = this._al | 0
  var bl = this._bl | 0
  var cl = this._cl | 0
  var dl = this._dl | 0
  var el = this._el | 0
  var fl = this._fl | 0
  var gl = this._gl | 0
  var hl = this._hl | 0

  var i = 0
  var j = 0
  var Wi, Wil
  function calcW () {
    var x = W[j - 15 * 2]
    var xl = W[j - 15 * 2 + 1]
    var gamma0 = Gamma0(x, xl)
    var gamma0l = Gamma0l(xl, x)

    x = W[j - 2 * 2]
    xl = W[j - 2 * 2 + 1]
    var gamma1 = Gamma1(x, xl)
    var gamma1l = Gamma1l(xl, x)

    // W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16]
    var Wi7 = W[j - 7 * 2]
    var Wi7l = W[j - 7 * 2 + 1]

    var Wi16 = W[j - 16 * 2]
    var Wi16l = W[j - 16 * 2 + 1]

    Wil = gamma0l + Wi7l
    Wi = gamma0 + Wi7 + ((Wil >>> 0) < (gamma0l >>> 0) ? 1 : 0)
    Wil = Wil + gamma1l
    Wi = Wi + gamma1 + ((Wil >>> 0) < (gamma1l >>> 0) ? 1 : 0)
    Wil = Wil + Wi16l
    Wi = Wi + Wi16 + ((Wil >>> 0) < (Wi16l >>> 0) ? 1 : 0)
  }

  function loop () {
    W[j] = Wi
    W[j + 1] = Wil

    var maj = Maj(a, b, c)
    var majl = Maj(al, bl, cl)

    var sigma0h = Sigma0(a, al)
    var sigma0l = Sigma0(al, a)
    var sigma1h = Sigma1(e, el)
    var sigma1l = Sigma1(el, e)

    // t1 = h + sigma1 + ch + K[i] + W[i]
    var Ki = K[j]
    var Kil = K[j + 1]

    var ch = Ch(e, f, g)
    var chl = Ch(el, fl, gl)

    var t1l = hl + sigma1l
    var t1 = h + sigma1h + ((t1l >>> 0) < (hl >>> 0) ? 1 : 0)
    t1l = t1l + chl
    t1 = t1 + ch + ((t1l >>> 0) < (chl >>> 0) ? 1 : 0)
    t1l = t1l + Kil
    t1 = t1 + Ki + ((t1l >>> 0) < (Kil >>> 0) ? 1 : 0)
    t1l = t1l + Wil
    t1 = t1 + Wi + ((t1l >>> 0) < (Wil >>> 0) ? 1 : 0)

    // t2 = sigma0 + maj
    var t2l = sigma0l + majl
    var t2 = sigma0h + maj + ((t2l >>> 0) < (sigma0l >>> 0) ? 1 : 0)

    h = g
    hl = gl
    g = f
    gl = fl
    f = e
    fl = el
    el = (dl + t1l) | 0
    e = (d + t1 + ((el >>> 0) < (dl >>> 0) ? 1 : 0)) | 0
    d = c
    dl = cl
    c = b
    cl = bl
    b = a
    bl = al
    al = (t1l + t2l) | 0
    a = (t1 + t2 + ((al >>> 0) < (t1l >>> 0) ? 1 : 0)) | 0

    i++
    j += 2
  }

  while (i < 16) {
    Wi = M.readInt32BE(j * 4)
    Wil = M.readInt32BE(j * 4 + 4)

    loop()
  }

  while (i < 80) {
    calcW()
    loop()
  }

  this._al = (this._al + al) | 0
  this._bl = (this._bl + bl) | 0
  this._cl = (this._cl + cl) | 0
  this._dl = (this._dl + dl) | 0
  this._el = (this._el + el) | 0
  this._fl = (this._fl + fl) | 0
  this._gl = (this._gl + gl) | 0
  this._hl = (this._hl + hl) | 0

  this._a = (this._a + a + ((this._al >>> 0) < (al >>> 0) ? 1 : 0)) | 0
  this._b = (this._b + b + ((this._bl >>> 0) < (bl >>> 0) ? 1 : 0)) | 0
  this._c = (this._c + c + ((this._cl >>> 0) < (cl >>> 0) ? 1 : 0)) | 0
  this._d = (this._d + d + ((this._dl >>> 0) < (dl >>> 0) ? 1 : 0)) | 0
  this._e = (this._e + e + ((this._el >>> 0) < (el >>> 0) ? 1 : 0)) | 0
  this._f = (this._f + f + ((this._fl >>> 0) < (fl >>> 0) ? 1 : 0)) | 0
  this._g = (this._g + g + ((this._gl >>> 0) < (gl >>> 0) ? 1 : 0)) | 0
  this._h = (this._h + h + ((this._hl >>> 0) < (hl >>> 0) ? 1 : 0)) | 0
}

Sha512.prototype._hash = function () {
  var H = new Buffer(64)

  function writeInt64BE (h, l, offset) {
    H.writeInt32BE(h, offset)
    H.writeInt32BE(l, offset + 4)
  }

  writeInt64BE(this._a, this._al, 0)
  writeInt64BE(this._b, this._bl, 8)
  writeInt64BE(this._c, this._cl, 16)
  writeInt64BE(this._d, this._dl, 24)
  writeInt64BE(this._e, this._el, 32)
  writeInt64BE(this._f, this._fl, 40)
  writeInt64BE(this._g, this._gl, 48)
  writeInt64BE(this._h, this._hl, 56)

  return H
}

module.exports = Sha512

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWhhc2gvbm9kZV9tb2R1bGVzL3NoYS5qcy9zaGE1MTIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxudmFyIEhhc2ggPSByZXF1aXJlKCcuL2hhc2gnKVxuXG52YXIgSyA9IFtcbiAgMHg0MjhhMmY5OCwgMHhkNzI4YWUyMiwgMHg3MTM3NDQ5MSwgMHgyM2VmNjVjZCxcbiAgMHhiNWMwZmJjZiwgMHhlYzRkM2IyZiwgMHhlOWI1ZGJhNSwgMHg4MTg5ZGJiYyxcbiAgMHgzOTU2YzI1YiwgMHhmMzQ4YjUzOCwgMHg1OWYxMTFmMSwgMHhiNjA1ZDAxOSxcbiAgMHg5MjNmODJhNCwgMHhhZjE5NGY5YiwgMHhhYjFjNWVkNSwgMHhkYTZkODExOCxcbiAgMHhkODA3YWE5OCwgMHhhMzAzMDI0MiwgMHgxMjgzNWIwMSwgMHg0NTcwNmZiZSxcbiAgMHgyNDMxODViZSwgMHg0ZWU0YjI4YywgMHg1NTBjN2RjMywgMHhkNWZmYjRlMixcbiAgMHg3MmJlNWQ3NCwgMHhmMjdiODk2ZiwgMHg4MGRlYjFmZSwgMHgzYjE2OTZiMSxcbiAgMHg5YmRjMDZhNywgMHgyNWM3MTIzNSwgMHhjMTliZjE3NCwgMHhjZjY5MjY5NCxcbiAgMHhlNDliNjljMSwgMHg5ZWYxNGFkMiwgMHhlZmJlNDc4NiwgMHgzODRmMjVlMyxcbiAgMHgwZmMxOWRjNiwgMHg4YjhjZDViNSwgMHgyNDBjYTFjYywgMHg3N2FjOWM2NSxcbiAgMHgyZGU5MmM2ZiwgMHg1OTJiMDI3NSwgMHg0YTc0ODRhYSwgMHg2ZWE2ZTQ4MyxcbiAgMHg1Y2IwYTlkYywgMHhiZDQxZmJkNCwgMHg3NmY5ODhkYSwgMHg4MzExNTNiNSxcbiAgMHg5ODNlNTE1MiwgMHhlZTY2ZGZhYiwgMHhhODMxYzY2ZCwgMHgyZGI0MzIxMCxcbiAgMHhiMDAzMjdjOCwgMHg5OGZiMjEzZiwgMHhiZjU5N2ZjNywgMHhiZWVmMGVlNCxcbiAgMHhjNmUwMGJmMywgMHgzZGE4OGZjMiwgMHhkNWE3OTE0NywgMHg5MzBhYTcyNSxcbiAgMHgwNmNhNjM1MSwgMHhlMDAzODI2ZiwgMHgxNDI5Mjk2NywgMHgwYTBlNmU3MCxcbiAgMHgyN2I3MGE4NSwgMHg0NmQyMmZmYywgMHgyZTFiMjEzOCwgMHg1YzI2YzkyNixcbiAgMHg0ZDJjNmRmYywgMHg1YWM0MmFlZCwgMHg1MzM4MGQxMywgMHg5ZDk1YjNkZixcbiAgMHg2NTBhNzM1NCwgMHg4YmFmNjNkZSwgMHg3NjZhMGFiYiwgMHgzYzc3YjJhOCxcbiAgMHg4MWMyYzkyZSwgMHg0N2VkYWVlNiwgMHg5MjcyMmM4NSwgMHgxNDgyMzUzYixcbiAgMHhhMmJmZThhMSwgMHg0Y2YxMDM2NCwgMHhhODFhNjY0YiwgMHhiYzQyMzAwMSxcbiAgMHhjMjRiOGI3MCwgMHhkMGY4OTc5MSwgMHhjNzZjNTFhMywgMHgwNjU0YmUzMCxcbiAgMHhkMTkyZTgxOSwgMHhkNmVmNTIxOCwgMHhkNjk5MDYyNCwgMHg1NTY1YTkxMCxcbiAgMHhmNDBlMzU4NSwgMHg1NzcxMjAyYSwgMHgxMDZhYTA3MCwgMHgzMmJiZDFiOCxcbiAgMHgxOWE0YzExNiwgMHhiOGQyZDBjOCwgMHgxZTM3NmMwOCwgMHg1MTQxYWI1MyxcbiAgMHgyNzQ4Nzc0YywgMHhkZjhlZWI5OSwgMHgzNGIwYmNiNSwgMHhlMTliNDhhOCxcbiAgMHgzOTFjMGNiMywgMHhjNWM5NWE2MywgMHg0ZWQ4YWE0YSwgMHhlMzQxOGFjYixcbiAgMHg1YjljY2E0ZiwgMHg3NzYzZTM3MywgMHg2ODJlNmZmMywgMHhkNmIyYjhhMyxcbiAgMHg3NDhmODJlZSwgMHg1ZGVmYjJmYywgMHg3OGE1NjM2ZiwgMHg0MzE3MmY2MCxcbiAgMHg4NGM4NzgxNCwgMHhhMWYwYWI3MiwgMHg4Y2M3MDIwOCwgMHgxYTY0MzllYyxcbiAgMHg5MGJlZmZmYSwgMHgyMzYzMWUyOCwgMHhhNDUwNmNlYiwgMHhkZTgyYmRlOSxcbiAgMHhiZWY5YTNmNywgMHhiMmM2NzkxNSwgMHhjNjcxNzhmMiwgMHhlMzcyNTMyYixcbiAgMHhjYTI3M2VjZSwgMHhlYTI2NjE5YywgMHhkMTg2YjhjNywgMHgyMWMwYzIwNyxcbiAgMHhlYWRhN2RkNiwgMHhjZGUwZWIxZSwgMHhmNTdkNGY3ZiwgMHhlZTZlZDE3OCxcbiAgMHgwNmYwNjdhYSwgMHg3MjE3NmZiYSwgMHgwYTYzN2RjNSwgMHhhMmM4OThhNixcbiAgMHgxMTNmOTgwNCwgMHhiZWY5MGRhZSwgMHgxYjcxMGIzNSwgMHgxMzFjNDcxYixcbiAgMHgyOGRiNzdmNSwgMHgyMzA0N2Q4NCwgMHgzMmNhYWI3YiwgMHg0MGM3MjQ5MyxcbiAgMHgzYzllYmUwYSwgMHgxNWM5YmViYywgMHg0MzFkNjdjNCwgMHg5YzEwMGQ0YyxcbiAgMHg0Y2M1ZDRiZSwgMHhjYjNlNDJiNiwgMHg1OTdmMjk5YywgMHhmYzY1N2UyYSxcbiAgMHg1ZmNiNmZhYiwgMHgzYWQ2ZmFlYywgMHg2YzQ0MTk4YywgMHg0YTQ3NTgxN1xuXVxuXG52YXIgVyA9IG5ldyBBcnJheSgxNjApXG5cbmZ1bmN0aW9uIFNoYTUxMiAoKSB7XG4gIHRoaXMuaW5pdCgpXG4gIHRoaXMuX3cgPSBXXG5cbiAgSGFzaC5jYWxsKHRoaXMsIDEyOCwgMTEyKVxufVxuXG5pbmhlcml0cyhTaGE1MTIsIEhhc2gpXG5cblNoYTUxMi5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fYSA9IDB4NmEwOWU2NjcgfCAwXG4gIHRoaXMuX2IgPSAweGJiNjdhZTg1IHwgMFxuICB0aGlzLl9jID0gMHgzYzZlZjM3MiB8IDBcbiAgdGhpcy5fZCA9IDB4YTU0ZmY1M2EgfCAwXG4gIHRoaXMuX2UgPSAweDUxMGU1MjdmIHwgMFxuICB0aGlzLl9mID0gMHg5YjA1Njg4YyB8IDBcbiAgdGhpcy5fZyA9IDB4MWY4M2Q5YWIgfCAwXG4gIHRoaXMuX2ggPSAweDViZTBjZDE5IHwgMFxuXG4gIHRoaXMuX2FsID0gMHhmM2JjYzkwOCB8IDBcbiAgdGhpcy5fYmwgPSAweDg0Y2FhNzNiIHwgMFxuICB0aGlzLl9jbCA9IDB4ZmU5NGY4MmIgfCAwXG4gIHRoaXMuX2RsID0gMHg1ZjFkMzZmMSB8IDBcbiAgdGhpcy5fZWwgPSAweGFkZTY4MmQxIHwgMFxuICB0aGlzLl9mbCA9IDB4MmIzZTZjMWYgfCAwXG4gIHRoaXMuX2dsID0gMHhmYjQxYmQ2YiB8IDBcbiAgdGhpcy5faGwgPSAweDEzN2UyMTc5IHwgMFxuXG4gIHJldHVybiB0aGlzXG59XG5cbmZ1bmN0aW9uIENoICh4LCB5LCB6KSB7XG4gIHJldHVybiB6IF4gKHggJiAoeSBeIHopKVxufVxuXG5mdW5jdGlvbiBNYWogKHgsIHksIHopIHtcbiAgcmV0dXJuICh4ICYgeSkgfCAoeiAmICh4IHwgeSkpXG59XG5cbmZ1bmN0aW9uIFNpZ21hMCAoeCwgeGwpIHtcbiAgcmV0dXJuICh4ID4+PiAyOCB8IHhsIDw8IDQpIF4gKHhsID4+PiAyIHwgeCA8PCAzMCkgXiAoeGwgPj4+IDcgfCB4IDw8IDI1KVxufVxuXG5mdW5jdGlvbiBTaWdtYTEgKHgsIHhsKSB7XG4gIHJldHVybiAoeCA+Pj4gMTQgfCB4bCA8PCAxOCkgXiAoeCA+Pj4gMTggfCB4bCA8PCAxNCkgXiAoeGwgPj4+IDkgfCB4IDw8IDIzKVxufVxuXG5mdW5jdGlvbiBHYW1tYTAgKHgsIHhsKSB7XG4gIHJldHVybiAoeCA+Pj4gMSB8IHhsIDw8IDMxKSBeICh4ID4+PiA4IHwgeGwgPDwgMjQpIF4gKHggPj4+IDcpXG59XG5cbmZ1bmN0aW9uIEdhbW1hMGwgKHgsIHhsKSB7XG4gIHJldHVybiAoeCA+Pj4gMSB8IHhsIDw8IDMxKSBeICh4ID4+PiA4IHwgeGwgPDwgMjQpIF4gKHggPj4+IDcgfCB4bCA8PCAyNSlcbn1cblxuZnVuY3Rpb24gR2FtbWExICh4LCB4bCkge1xuICByZXR1cm4gKHggPj4+IDE5IHwgeGwgPDwgMTMpIF4gKHhsID4+PiAyOSB8IHggPDwgMykgXiAoeCA+Pj4gNilcbn1cblxuZnVuY3Rpb24gR2FtbWExbCAoeCwgeGwpIHtcbiAgcmV0dXJuICh4ID4+PiAxOSB8IHhsIDw8IDEzKSBeICh4bCA+Pj4gMjkgfCB4IDw8IDMpIF4gKHggPj4+IDYgfCB4bCA8PCAyNilcbn1cblxuU2hhNTEyLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKE0pIHtcbiAgdmFyIFcgPSB0aGlzLl93XG5cbiAgdmFyIGEgPSB0aGlzLl9hIHwgMFxuICB2YXIgYiA9IHRoaXMuX2IgfCAwXG4gIHZhciBjID0gdGhpcy5fYyB8IDBcbiAgdmFyIGQgPSB0aGlzLl9kIHwgMFxuICB2YXIgZSA9IHRoaXMuX2UgfCAwXG4gIHZhciBmID0gdGhpcy5fZiB8IDBcbiAgdmFyIGcgPSB0aGlzLl9nIHwgMFxuICB2YXIgaCA9IHRoaXMuX2ggfCAwXG5cbiAgdmFyIGFsID0gdGhpcy5fYWwgfCAwXG4gIHZhciBibCA9IHRoaXMuX2JsIHwgMFxuICB2YXIgY2wgPSB0aGlzLl9jbCB8IDBcbiAgdmFyIGRsID0gdGhpcy5fZGwgfCAwXG4gIHZhciBlbCA9IHRoaXMuX2VsIHwgMFxuICB2YXIgZmwgPSB0aGlzLl9mbCB8IDBcbiAgdmFyIGdsID0gdGhpcy5fZ2wgfCAwXG4gIHZhciBobCA9IHRoaXMuX2hsIHwgMFxuXG4gIHZhciBpID0gMFxuICB2YXIgaiA9IDBcbiAgdmFyIFdpLCBXaWxcbiAgZnVuY3Rpb24gY2FsY1cgKCkge1xuICAgIHZhciB4ID0gV1tqIC0gMTUgKiAyXVxuICAgIHZhciB4bCA9IFdbaiAtIDE1ICogMiArIDFdXG4gICAgdmFyIGdhbW1hMCA9IEdhbW1hMCh4LCB4bClcbiAgICB2YXIgZ2FtbWEwbCA9IEdhbW1hMGwoeGwsIHgpXG5cbiAgICB4ID0gV1tqIC0gMiAqIDJdXG4gICAgeGwgPSBXW2ogLSAyICogMiArIDFdXG4gICAgdmFyIGdhbW1hMSA9IEdhbW1hMSh4LCB4bClcbiAgICB2YXIgZ2FtbWExbCA9IEdhbW1hMWwoeGwsIHgpXG5cbiAgICAvLyBXW2ldID0gZ2FtbWEwICsgV1tpIC0gN10gKyBnYW1tYTEgKyBXW2kgLSAxNl1cbiAgICB2YXIgV2k3ID0gV1tqIC0gNyAqIDJdXG4gICAgdmFyIFdpN2wgPSBXW2ogLSA3ICogMiArIDFdXG5cbiAgICB2YXIgV2kxNiA9IFdbaiAtIDE2ICogMl1cbiAgICB2YXIgV2kxNmwgPSBXW2ogLSAxNiAqIDIgKyAxXVxuXG4gICAgV2lsID0gZ2FtbWEwbCArIFdpN2xcbiAgICBXaSA9IGdhbW1hMCArIFdpNyArICgoV2lsID4+PiAwKSA8IChnYW1tYTBsID4+PiAwKSA/IDEgOiAwKVxuICAgIFdpbCA9IFdpbCArIGdhbW1hMWxcbiAgICBXaSA9IFdpICsgZ2FtbWExICsgKChXaWwgPj4+IDApIDwgKGdhbW1hMWwgPj4+IDApID8gMSA6IDApXG4gICAgV2lsID0gV2lsICsgV2kxNmxcbiAgICBXaSA9IFdpICsgV2kxNiArICgoV2lsID4+PiAwKSA8IChXaTE2bCA+Pj4gMCkgPyAxIDogMClcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvb3AgKCkge1xuICAgIFdbal0gPSBXaVxuICAgIFdbaiArIDFdID0gV2lsXG5cbiAgICB2YXIgbWFqID0gTWFqKGEsIGIsIGMpXG4gICAgdmFyIG1hamwgPSBNYWooYWwsIGJsLCBjbClcblxuICAgIHZhciBzaWdtYTBoID0gU2lnbWEwKGEsIGFsKVxuICAgIHZhciBzaWdtYTBsID0gU2lnbWEwKGFsLCBhKVxuICAgIHZhciBzaWdtYTFoID0gU2lnbWExKGUsIGVsKVxuICAgIHZhciBzaWdtYTFsID0gU2lnbWExKGVsLCBlKVxuXG4gICAgLy8gdDEgPSBoICsgc2lnbWExICsgY2ggKyBLW2ldICsgV1tpXVxuICAgIHZhciBLaSA9IEtbal1cbiAgICB2YXIgS2lsID0gS1tqICsgMV1cblxuICAgIHZhciBjaCA9IENoKGUsIGYsIGcpXG4gICAgdmFyIGNobCA9IENoKGVsLCBmbCwgZ2wpXG5cbiAgICB2YXIgdDFsID0gaGwgKyBzaWdtYTFsXG4gICAgdmFyIHQxID0gaCArIHNpZ21hMWggKyAoKHQxbCA+Pj4gMCkgPCAoaGwgPj4+IDApID8gMSA6IDApXG4gICAgdDFsID0gdDFsICsgY2hsXG4gICAgdDEgPSB0MSArIGNoICsgKCh0MWwgPj4+IDApIDwgKGNobCA+Pj4gMCkgPyAxIDogMClcbiAgICB0MWwgPSB0MWwgKyBLaWxcbiAgICB0MSA9IHQxICsgS2kgKyAoKHQxbCA+Pj4gMCkgPCAoS2lsID4+PiAwKSA/IDEgOiAwKVxuICAgIHQxbCA9IHQxbCArIFdpbFxuICAgIHQxID0gdDEgKyBXaSArICgodDFsID4+PiAwKSA8IChXaWwgPj4+IDApID8gMSA6IDApXG5cbiAgICAvLyB0MiA9IHNpZ21hMCArIG1halxuICAgIHZhciB0MmwgPSBzaWdtYTBsICsgbWFqbFxuICAgIHZhciB0MiA9IHNpZ21hMGggKyBtYWogKyAoKHQybCA+Pj4gMCkgPCAoc2lnbWEwbCA+Pj4gMCkgPyAxIDogMClcblxuICAgIGggPSBnXG4gICAgaGwgPSBnbFxuICAgIGcgPSBmXG4gICAgZ2wgPSBmbFxuICAgIGYgPSBlXG4gICAgZmwgPSBlbFxuICAgIGVsID0gKGRsICsgdDFsKSB8IDBcbiAgICBlID0gKGQgKyB0MSArICgoZWwgPj4+IDApIDwgKGRsID4+PiAwKSA/IDEgOiAwKSkgfCAwXG4gICAgZCA9IGNcbiAgICBkbCA9IGNsXG4gICAgYyA9IGJcbiAgICBjbCA9IGJsXG4gICAgYiA9IGFcbiAgICBibCA9IGFsXG4gICAgYWwgPSAodDFsICsgdDJsKSB8IDBcbiAgICBhID0gKHQxICsgdDIgKyAoKGFsID4+PiAwKSA8ICh0MWwgPj4+IDApID8gMSA6IDApKSB8IDBcblxuICAgIGkrK1xuICAgIGogKz0gMlxuICB9XG5cbiAgd2hpbGUgKGkgPCAxNikge1xuICAgIFdpID0gTS5yZWFkSW50MzJCRShqICogNClcbiAgICBXaWwgPSBNLnJlYWRJbnQzMkJFKGogKiA0ICsgNClcblxuICAgIGxvb3AoKVxuICB9XG5cbiAgd2hpbGUgKGkgPCA4MCkge1xuICAgIGNhbGNXKClcbiAgICBsb29wKClcbiAgfVxuXG4gIHRoaXMuX2FsID0gKHRoaXMuX2FsICsgYWwpIHwgMFxuICB0aGlzLl9ibCA9ICh0aGlzLl9ibCArIGJsKSB8IDBcbiAgdGhpcy5fY2wgPSAodGhpcy5fY2wgKyBjbCkgfCAwXG4gIHRoaXMuX2RsID0gKHRoaXMuX2RsICsgZGwpIHwgMFxuICB0aGlzLl9lbCA9ICh0aGlzLl9lbCArIGVsKSB8IDBcbiAgdGhpcy5fZmwgPSAodGhpcy5fZmwgKyBmbCkgfCAwXG4gIHRoaXMuX2dsID0gKHRoaXMuX2dsICsgZ2wpIHwgMFxuICB0aGlzLl9obCA9ICh0aGlzLl9obCArIGhsKSB8IDBcblxuICB0aGlzLl9hID0gKHRoaXMuX2EgKyBhICsgKCh0aGlzLl9hbCA+Pj4gMCkgPCAoYWwgPj4+IDApID8gMSA6IDApKSB8IDBcbiAgdGhpcy5fYiA9ICh0aGlzLl9iICsgYiArICgodGhpcy5fYmwgPj4+IDApIDwgKGJsID4+PiAwKSA/IDEgOiAwKSkgfCAwXG4gIHRoaXMuX2MgPSAodGhpcy5fYyArIGMgKyAoKHRoaXMuX2NsID4+PiAwKSA8IChjbCA+Pj4gMCkgPyAxIDogMCkpIHwgMFxuICB0aGlzLl9kID0gKHRoaXMuX2QgKyBkICsgKCh0aGlzLl9kbCA+Pj4gMCkgPCAoZGwgPj4+IDApID8gMSA6IDApKSB8IDBcbiAgdGhpcy5fZSA9ICh0aGlzLl9lICsgZSArICgodGhpcy5fZWwgPj4+IDApIDwgKGVsID4+PiAwKSA/IDEgOiAwKSkgfCAwXG4gIHRoaXMuX2YgPSAodGhpcy5fZiArIGYgKyAoKHRoaXMuX2ZsID4+PiAwKSA8IChmbCA+Pj4gMCkgPyAxIDogMCkpIHwgMFxuICB0aGlzLl9nID0gKHRoaXMuX2cgKyBnICsgKCh0aGlzLl9nbCA+Pj4gMCkgPCAoZ2wgPj4+IDApID8gMSA6IDApKSB8IDBcbiAgdGhpcy5faCA9ICh0aGlzLl9oICsgaCArICgodGhpcy5faGwgPj4+IDApIDwgKGhsID4+PiAwKSA/IDEgOiAwKSkgfCAwXG59XG5cblNoYTUxMi5wcm90b3R5cGUuX2hhc2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBIID0gbmV3IEJ1ZmZlcig2NClcblxuICBmdW5jdGlvbiB3cml0ZUludDY0QkUgKGgsIGwsIG9mZnNldCkge1xuICAgIEgud3JpdGVJbnQzMkJFKGgsIG9mZnNldClcbiAgICBILndyaXRlSW50MzJCRShsLCBvZmZzZXQgKyA0KVxuICB9XG5cbiAgd3JpdGVJbnQ2NEJFKHRoaXMuX2EsIHRoaXMuX2FsLCAwKVxuICB3cml0ZUludDY0QkUodGhpcy5fYiwgdGhpcy5fYmwsIDgpXG4gIHdyaXRlSW50NjRCRSh0aGlzLl9jLCB0aGlzLl9jbCwgMTYpXG4gIHdyaXRlSW50NjRCRSh0aGlzLl9kLCB0aGlzLl9kbCwgMjQpXG4gIHdyaXRlSW50NjRCRSh0aGlzLl9lLCB0aGlzLl9lbCwgMzIpXG4gIHdyaXRlSW50NjRCRSh0aGlzLl9mLCB0aGlzLl9mbCwgNDApXG4gIHdyaXRlSW50NjRCRSh0aGlzLl9nLCB0aGlzLl9nbCwgNDgpXG4gIHdyaXRlSW50NjRCRSh0aGlzLl9oLCB0aGlzLl9obCwgNTYpXG5cbiAgcmV0dXJuIEhcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTaGE1MTJcbiJdfQ==
},{"./hash":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/sha.js/hash.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/sha.js/sha224.js":[function(require,module,exports){
(function (Buffer){
/**
 * A JavaScript implementation of the Secure Hash Algorithm, SHA-256, as defined
 * in FIPS 180-2
 * Version 2.2-beta Copyright Angel Marin, Paul Johnston 2000 - 2009.
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 *
 */

var inherits = require('inherits')
var Sha256 = require('./sha256')
var Hash = require('./hash')

var W = new Array(64)

function Sha224 () {
  this.init()

  this._w = W // new Array(64)

  Hash.call(this, 64, 56)
}

inherits(Sha224, Sha256)

Sha224.prototype.init = function () {
  this._a = 0xc1059ed8 | 0
  this._b = 0x367cd507 | 0
  this._c = 0x3070dd17 | 0
  this._d = 0xf70e5939 | 0
  this._e = 0xffc00b31 | 0
  this._f = 0x68581511 | 0
  this._g = 0x64f98fa7 | 0
  this._h = 0xbefa4fa4 | 0

  return this
}

Sha224.prototype._hash = function () {
  var H = new Buffer(28)

  H.writeInt32BE(this._a, 0)
  H.writeInt32BE(this._b, 4)
  H.writeInt32BE(this._c, 8)
  H.writeInt32BE(this._d, 12)
  H.writeInt32BE(this._e, 16)
  H.writeInt32BE(this._f, 20)
  H.writeInt32BE(this._g, 24)

  return H
}

module.exports = Sha224

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWhhc2gvbm9kZV9tb2R1bGVzL3NoYS5qcy9zaGEyMjQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQSBKYXZhU2NyaXB0IGltcGxlbWVudGF0aW9uIG9mIHRoZSBTZWN1cmUgSGFzaCBBbGdvcml0aG0sIFNIQS0yNTYsIGFzIGRlZmluZWRcbiAqIGluIEZJUFMgMTgwLTJcbiAqIFZlcnNpb24gMi4yLWJldGEgQ29weXJpZ2h0IEFuZ2VsIE1hcmluLCBQYXVsIEpvaG5zdG9uIDIwMDAgLSAyMDA5LlxuICogT3RoZXIgY29udHJpYnV0b3JzOiBHcmVnIEhvbHQsIEFuZHJldyBLZXBlcnQsIFlkbmFyLCBMb3N0aW5ldFxuICpcbiAqL1xuXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG52YXIgU2hhMjU2ID0gcmVxdWlyZSgnLi9zaGEyNTYnKVxudmFyIEhhc2ggPSByZXF1aXJlKCcuL2hhc2gnKVxuXG52YXIgVyA9IG5ldyBBcnJheSg2NClcblxuZnVuY3Rpb24gU2hhMjI0ICgpIHtcbiAgdGhpcy5pbml0KClcblxuICB0aGlzLl93ID0gVyAvLyBuZXcgQXJyYXkoNjQpXG5cbiAgSGFzaC5jYWxsKHRoaXMsIDY0LCA1Nilcbn1cblxuaW5oZXJpdHMoU2hhMjI0LCBTaGEyNTYpXG5cblNoYTIyNC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fYSA9IDB4YzEwNTllZDggfCAwXG4gIHRoaXMuX2IgPSAweDM2N2NkNTA3IHwgMFxuICB0aGlzLl9jID0gMHgzMDcwZGQxNyB8IDBcbiAgdGhpcy5fZCA9IDB4ZjcwZTU5MzkgfCAwXG4gIHRoaXMuX2UgPSAweGZmYzAwYjMxIHwgMFxuICB0aGlzLl9mID0gMHg2ODU4MTUxMSB8IDBcbiAgdGhpcy5fZyA9IDB4NjRmOThmYTcgfCAwXG4gIHRoaXMuX2ggPSAweGJlZmE0ZmE0IHwgMFxuXG4gIHJldHVybiB0aGlzXG59XG5cblNoYTIyNC5wcm90b3R5cGUuX2hhc2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBIID0gbmV3IEJ1ZmZlcigyOClcblxuICBILndyaXRlSW50MzJCRSh0aGlzLl9hLCAwKVxuICBILndyaXRlSW50MzJCRSh0aGlzLl9iLCA0KVxuICBILndyaXRlSW50MzJCRSh0aGlzLl9jLCA4KVxuICBILndyaXRlSW50MzJCRSh0aGlzLl9kLCAxMilcbiAgSC53cml0ZUludDMyQkUodGhpcy5fZSwgMTYpXG4gIEgud3JpdGVJbnQzMkJFKHRoaXMuX2YsIDIwKVxuICBILndyaXRlSW50MzJCRSh0aGlzLl9nLCAyNClcblxuICByZXR1cm4gSFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNoYTIyNFxuIl19
},{"./hash":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/sha.js/hash.js","./sha256":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/sha.js/sha256.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/sha.js/sha256.js":[function(require,module,exports){
(function (Buffer){
/**
 * A JavaScript implementation of the Secure Hash Algorithm, SHA-256, as defined
 * in FIPS 180-2
 * Version 2.2-beta Copyright Angel Marin, Paul Johnston 2000 - 2009.
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 *
 */

var inherits = require('inherits')
var Hash = require('./hash')

var K = [
  0x428A2F98, 0x71374491, 0xB5C0FBCF, 0xE9B5DBA5,
  0x3956C25B, 0x59F111F1, 0x923F82A4, 0xAB1C5ED5,
  0xD807AA98, 0x12835B01, 0x243185BE, 0x550C7DC3,
  0x72BE5D74, 0x80DEB1FE, 0x9BDC06A7, 0xC19BF174,
  0xE49B69C1, 0xEFBE4786, 0x0FC19DC6, 0x240CA1CC,
  0x2DE92C6F, 0x4A7484AA, 0x5CB0A9DC, 0x76F988DA,
  0x983E5152, 0xA831C66D, 0xB00327C8, 0xBF597FC7,
  0xC6E00BF3, 0xD5A79147, 0x06CA6351, 0x14292967,
  0x27B70A85, 0x2E1B2138, 0x4D2C6DFC, 0x53380D13,
  0x650A7354, 0x766A0ABB, 0x81C2C92E, 0x92722C85,
  0xA2BFE8A1, 0xA81A664B, 0xC24B8B70, 0xC76C51A3,
  0xD192E819, 0xD6990624, 0xF40E3585, 0x106AA070,
  0x19A4C116, 0x1E376C08, 0x2748774C, 0x34B0BCB5,
  0x391C0CB3, 0x4ED8AA4A, 0x5B9CCA4F, 0x682E6FF3,
  0x748F82EE, 0x78A5636F, 0x84C87814, 0x8CC70208,
  0x90BEFFFA, 0xA4506CEB, 0xBEF9A3F7, 0xC67178F2
]

var W = new Array(64)

function Sha256 () {
  this.init()

  this._w = W // new Array(64)

  Hash.call(this, 64, 56)
}

inherits(Sha256, Hash)

Sha256.prototype.init = function () {
  this._a = 0x6a09e667 | 0
  this._b = 0xbb67ae85 | 0
  this._c = 0x3c6ef372 | 0
  this._d = 0xa54ff53a | 0
  this._e = 0x510e527f | 0
  this._f = 0x9b05688c | 0
  this._g = 0x1f83d9ab | 0
  this._h = 0x5be0cd19 | 0

  return this
}

function Ch (x, y, z) {
  return z ^ (x & (y ^ z))
}

function Maj (x, y, z) {
  return (x & y) | (z & (x | y))
}

function Sigma0 (x) {
  return (x >>> 2 | x << 30) ^ (x >>> 13 | x << 19) ^ (x >>> 22 | x << 10)
}

function Sigma1 (x) {
  return (x >>> 6 | x << 26) ^ (x >>> 11 | x << 21) ^ (x >>> 25 | x << 7)
}

function Gamma0 (x) {
  return (x >>> 7 | x << 25) ^ (x >>> 18 | x << 14) ^ (x >>> 3)
}

function Gamma1 (x) {
  return (x >>> 17 | x << 15) ^ (x >>> 19 | x << 13) ^ (x >>> 10)
}

Sha256.prototype._update = function (M) {
  var W = this._w

  var a = this._a | 0
  var b = this._b | 0
  var c = this._c | 0
  var d = this._d | 0
  var e = this._e | 0
  var f = this._f | 0
  var g = this._g | 0
  var h = this._h | 0

  var j = 0

  function calcW () { return Gamma1(W[j - 2]) + W[j - 7] + Gamma0(W[j - 15]) + W[j - 16] }
  function loop (w) {
    W[j] = w

    var T1 = h + Sigma1(e) + Ch(e, f, g) + K[j] + w
    var T2 = Sigma0(a) + Maj(a, b, c)

    h = g
    g = f
    f = e
    e = d + T1
    d = c
    c = b
    b = a
    a = T1 + T2

    j++
  }

  while (j < 16) loop(M.readInt32BE(j * 4))
  while (j < 64) loop(calcW())

  this._a = (a + this._a) | 0
  this._b = (b + this._b) | 0
  this._c = (c + this._c) | 0
  this._d = (d + this._d) | 0
  this._e = (e + this._e) | 0
  this._f = (f + this._f) | 0
  this._g = (g + this._g) | 0
  this._h = (h + this._h) | 0
}

Sha256.prototype._hash = function () {
  var H = new Buffer(32)

  H.writeInt32BE(this._a, 0)
  H.writeInt32BE(this._b, 4)
  H.writeInt32BE(this._c, 8)
  H.writeInt32BE(this._d, 12)
  H.writeInt32BE(this._e, 16)
  H.writeInt32BE(this._f, 20)
  H.writeInt32BE(this._g, 24)
  H.writeInt32BE(this._h, 28)

  return H
}

module.exports = Sha256

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWhhc2gvbm9kZV9tb2R1bGVzL3NoYS5qcy9zaGEyNTYuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgSmF2YVNjcmlwdCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgU2VjdXJlIEhhc2ggQWxnb3JpdGhtLCBTSEEtMjU2LCBhcyBkZWZpbmVkXG4gKiBpbiBGSVBTIDE4MC0yXG4gKiBWZXJzaW9uIDIuMi1iZXRhIENvcHlyaWdodCBBbmdlbCBNYXJpbiwgUGF1bCBKb2huc3RvbiAyMDAwIC0gMjAwOS5cbiAqIE90aGVyIGNvbnRyaWJ1dG9yczogR3JlZyBIb2x0LCBBbmRyZXcgS2VwZXJ0LCBZZG5hciwgTG9zdGluZXRcbiAqXG4gKi9cblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxudmFyIEhhc2ggPSByZXF1aXJlKCcuL2hhc2gnKVxuXG52YXIgSyA9IFtcbiAgMHg0MjhBMkY5OCwgMHg3MTM3NDQ5MSwgMHhCNUMwRkJDRiwgMHhFOUI1REJBNSxcbiAgMHgzOTU2QzI1QiwgMHg1OUYxMTFGMSwgMHg5MjNGODJBNCwgMHhBQjFDNUVENSxcbiAgMHhEODA3QUE5OCwgMHgxMjgzNUIwMSwgMHgyNDMxODVCRSwgMHg1NTBDN0RDMyxcbiAgMHg3MkJFNUQ3NCwgMHg4MERFQjFGRSwgMHg5QkRDMDZBNywgMHhDMTlCRjE3NCxcbiAgMHhFNDlCNjlDMSwgMHhFRkJFNDc4NiwgMHgwRkMxOURDNiwgMHgyNDBDQTFDQyxcbiAgMHgyREU5MkM2RiwgMHg0QTc0ODRBQSwgMHg1Q0IwQTlEQywgMHg3NkY5ODhEQSxcbiAgMHg5ODNFNTE1MiwgMHhBODMxQzY2RCwgMHhCMDAzMjdDOCwgMHhCRjU5N0ZDNyxcbiAgMHhDNkUwMEJGMywgMHhENUE3OTE0NywgMHgwNkNBNjM1MSwgMHgxNDI5Mjk2NyxcbiAgMHgyN0I3MEE4NSwgMHgyRTFCMjEzOCwgMHg0RDJDNkRGQywgMHg1MzM4MEQxMyxcbiAgMHg2NTBBNzM1NCwgMHg3NjZBMEFCQiwgMHg4MUMyQzkyRSwgMHg5MjcyMkM4NSxcbiAgMHhBMkJGRThBMSwgMHhBODFBNjY0QiwgMHhDMjRCOEI3MCwgMHhDNzZDNTFBMyxcbiAgMHhEMTkyRTgxOSwgMHhENjk5MDYyNCwgMHhGNDBFMzU4NSwgMHgxMDZBQTA3MCxcbiAgMHgxOUE0QzExNiwgMHgxRTM3NkMwOCwgMHgyNzQ4Nzc0QywgMHgzNEIwQkNCNSxcbiAgMHgzOTFDMENCMywgMHg0RUQ4QUE0QSwgMHg1QjlDQ0E0RiwgMHg2ODJFNkZGMyxcbiAgMHg3NDhGODJFRSwgMHg3OEE1NjM2RiwgMHg4NEM4NzgxNCwgMHg4Q0M3MDIwOCxcbiAgMHg5MEJFRkZGQSwgMHhBNDUwNkNFQiwgMHhCRUY5QTNGNywgMHhDNjcxNzhGMlxuXVxuXG52YXIgVyA9IG5ldyBBcnJheSg2NClcblxuZnVuY3Rpb24gU2hhMjU2ICgpIHtcbiAgdGhpcy5pbml0KClcblxuICB0aGlzLl93ID0gVyAvLyBuZXcgQXJyYXkoNjQpXG5cbiAgSGFzaC5jYWxsKHRoaXMsIDY0LCA1Nilcbn1cblxuaW5oZXJpdHMoU2hhMjU2LCBIYXNoKVxuXG5TaGEyNTYucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuX2EgPSAweDZhMDllNjY3IHwgMFxuICB0aGlzLl9iID0gMHhiYjY3YWU4NSB8IDBcbiAgdGhpcy5fYyA9IDB4M2M2ZWYzNzIgfCAwXG4gIHRoaXMuX2QgPSAweGE1NGZmNTNhIHwgMFxuICB0aGlzLl9lID0gMHg1MTBlNTI3ZiB8IDBcbiAgdGhpcy5fZiA9IDB4OWIwNTY4OGMgfCAwXG4gIHRoaXMuX2cgPSAweDFmODNkOWFiIHwgMFxuICB0aGlzLl9oID0gMHg1YmUwY2QxOSB8IDBcblxuICByZXR1cm4gdGhpc1xufVxuXG5mdW5jdGlvbiBDaCAoeCwgeSwgeikge1xuICByZXR1cm4geiBeICh4ICYgKHkgXiB6KSlcbn1cblxuZnVuY3Rpb24gTWFqICh4LCB5LCB6KSB7XG4gIHJldHVybiAoeCAmIHkpIHwgKHogJiAoeCB8IHkpKVxufVxuXG5mdW5jdGlvbiBTaWdtYTAgKHgpIHtcbiAgcmV0dXJuICh4ID4+PiAyIHwgeCA8PCAzMCkgXiAoeCA+Pj4gMTMgfCB4IDw8IDE5KSBeICh4ID4+PiAyMiB8IHggPDwgMTApXG59XG5cbmZ1bmN0aW9uIFNpZ21hMSAoeCkge1xuICByZXR1cm4gKHggPj4+IDYgfCB4IDw8IDI2KSBeICh4ID4+PiAxMSB8IHggPDwgMjEpIF4gKHggPj4+IDI1IHwgeCA8PCA3KVxufVxuXG5mdW5jdGlvbiBHYW1tYTAgKHgpIHtcbiAgcmV0dXJuICh4ID4+PiA3IHwgeCA8PCAyNSkgXiAoeCA+Pj4gMTggfCB4IDw8IDE0KSBeICh4ID4+PiAzKVxufVxuXG5mdW5jdGlvbiBHYW1tYTEgKHgpIHtcbiAgcmV0dXJuICh4ID4+PiAxNyB8IHggPDwgMTUpIF4gKHggPj4+IDE5IHwgeCA8PCAxMykgXiAoeCA+Pj4gMTApXG59XG5cblNoYTI1Ni5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uIChNKSB7XG4gIHZhciBXID0gdGhpcy5fd1xuXG4gIHZhciBhID0gdGhpcy5fYSB8IDBcbiAgdmFyIGIgPSB0aGlzLl9iIHwgMFxuICB2YXIgYyA9IHRoaXMuX2MgfCAwXG4gIHZhciBkID0gdGhpcy5fZCB8IDBcbiAgdmFyIGUgPSB0aGlzLl9lIHwgMFxuICB2YXIgZiA9IHRoaXMuX2YgfCAwXG4gIHZhciBnID0gdGhpcy5fZyB8IDBcbiAgdmFyIGggPSB0aGlzLl9oIHwgMFxuXG4gIHZhciBqID0gMFxuXG4gIGZ1bmN0aW9uIGNhbGNXICgpIHsgcmV0dXJuIEdhbW1hMShXW2ogLSAyXSkgKyBXW2ogLSA3XSArIEdhbW1hMChXW2ogLSAxNV0pICsgV1tqIC0gMTZdIH1cbiAgZnVuY3Rpb24gbG9vcCAodykge1xuICAgIFdbal0gPSB3XG5cbiAgICB2YXIgVDEgPSBoICsgU2lnbWExKGUpICsgQ2goZSwgZiwgZykgKyBLW2pdICsgd1xuICAgIHZhciBUMiA9IFNpZ21hMChhKSArIE1haihhLCBiLCBjKVxuXG4gICAgaCA9IGdcbiAgICBnID0gZlxuICAgIGYgPSBlXG4gICAgZSA9IGQgKyBUMVxuICAgIGQgPSBjXG4gICAgYyA9IGJcbiAgICBiID0gYVxuICAgIGEgPSBUMSArIFQyXG5cbiAgICBqKytcbiAgfVxuXG4gIHdoaWxlIChqIDwgMTYpIGxvb3AoTS5yZWFkSW50MzJCRShqICogNCkpXG4gIHdoaWxlIChqIDwgNjQpIGxvb3AoY2FsY1coKSlcblxuICB0aGlzLl9hID0gKGEgKyB0aGlzLl9hKSB8IDBcbiAgdGhpcy5fYiA9IChiICsgdGhpcy5fYikgfCAwXG4gIHRoaXMuX2MgPSAoYyArIHRoaXMuX2MpIHwgMFxuICB0aGlzLl9kID0gKGQgKyB0aGlzLl9kKSB8IDBcbiAgdGhpcy5fZSA9IChlICsgdGhpcy5fZSkgfCAwXG4gIHRoaXMuX2YgPSAoZiArIHRoaXMuX2YpIHwgMFxuICB0aGlzLl9nID0gKGcgKyB0aGlzLl9nKSB8IDBcbiAgdGhpcy5faCA9IChoICsgdGhpcy5faCkgfCAwXG59XG5cblNoYTI1Ni5wcm90b3R5cGUuX2hhc2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBIID0gbmV3IEJ1ZmZlcigzMilcblxuICBILndyaXRlSW50MzJCRSh0aGlzLl9hLCAwKVxuICBILndyaXRlSW50MzJCRSh0aGlzLl9iLCA0KVxuICBILndyaXRlSW50MzJCRSh0aGlzLl9jLCA4KVxuICBILndyaXRlSW50MzJCRSh0aGlzLl9kLCAxMilcbiAgSC53cml0ZUludDMyQkUodGhpcy5fZSwgMTYpXG4gIEgud3JpdGVJbnQzMkJFKHRoaXMuX2YsIDIwKVxuICBILndyaXRlSW50MzJCRSh0aGlzLl9nLCAyNClcbiAgSC53cml0ZUludDMyQkUodGhpcy5faCwgMjgpXG5cbiAgcmV0dXJuIEhcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTaGEyNTZcbiJdfQ==
},{"./hash":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/sha.js/hash.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/sha.js/sha1.js":[function(require,module,exports){
(function (Buffer){
/*
 * A JavaScript implementation of the Secure Hash Algorithm, SHA-1, as defined
 * in FIPS PUB 180-1
 * Version 2.1a Copyright Paul Johnston 2000 - 2002.
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for details.
 */

var inherits = require('inherits')
var Hash = require('./hash')

var W = new Array(80)

function Sha1 () {
  this.init()
  this._w = W

  Hash.call(this, 64, 56)
}

inherits(Sha1, Hash)

Sha1.prototype.init = function () {
  this._a = 0x67452301 | 0
  this._b = 0xefcdab89 | 0
  this._c = 0x98badcfe | 0
  this._d = 0x10325476 | 0
  this._e = 0xc3d2e1f0 | 0

  return this
}

/*
 * Bitwise rotate a 32-bit number to the left.
 */
function rol (num, cnt) {
  return (num << cnt) | (num >>> (32 - cnt))
}

Sha1.prototype._update = function (M) {
  var W = this._w

  var a = this._a
  var b = this._b
  var c = this._c
  var d = this._d
  var e = this._e

  var j = 0
  var k

  function calcW () { return rol(W[j - 3] ^ W[j - 8] ^ W[j - 14] ^ W[j - 16], 1) }
  function loop (w, f) {
    W[j] = w

    var t = rol(a, 5) + f + e + w + k

    e = d
    d = c
    c = rol(b, 30)
    b = a
    a = t
    j++
  }

  k = 1518500249
  while (j < 16) loop(M.readInt32BE(j * 4), (b & c) | ((~b) & d))
  while (j < 20) loop(calcW(), (b & c) | ((~b) & d))
  k = 1859775393
  while (j < 40) loop(calcW(), b ^ c ^ d)
  k = -1894007588
  while (j < 60) loop(calcW(), (b & c) | (b & d) | (c & d))
  k = -899497514
  while (j < 80) loop(calcW(), b ^ c ^ d)

  this._a = (a + this._a) | 0
  this._b = (b + this._b) | 0
  this._c = (c + this._c) | 0
  this._d = (d + this._d) | 0
  this._e = (e + this._e) | 0
}

Sha1.prototype._hash = function () {
  var H = new Buffer(20)

  H.writeInt32BE(this._a | 0, 0)
  H.writeInt32BE(this._b | 0, 4)
  H.writeInt32BE(this._c | 0, 8)
  H.writeInt32BE(this._d | 0, 12)
  H.writeInt32BE(this._e | 0, 16)

  return H
}

module.exports = Sha1

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWhhc2gvbm9kZV9tb2R1bGVzL3NoYS5qcy9zaGExLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEEgSmF2YVNjcmlwdCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgU2VjdXJlIEhhc2ggQWxnb3JpdGhtLCBTSEEtMSwgYXMgZGVmaW5lZFxuICogaW4gRklQUyBQVUIgMTgwLTFcbiAqIFZlcnNpb24gMi4xYSBDb3B5cmlnaHQgUGF1bCBKb2huc3RvbiAyMDAwIC0gMjAwMi5cbiAqIE90aGVyIGNvbnRyaWJ1dG9yczogR3JlZyBIb2x0LCBBbmRyZXcgS2VwZXJ0LCBZZG5hciwgTG9zdGluZXRcbiAqIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBCU0QgTGljZW5zZVxuICogU2VlIGh0dHA6Ly9wYWpob21lLm9yZy51ay9jcnlwdC9tZDUgZm9yIGRldGFpbHMuXG4gKi9cblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxudmFyIEhhc2ggPSByZXF1aXJlKCcuL2hhc2gnKVxuXG52YXIgVyA9IG5ldyBBcnJheSg4MClcblxuZnVuY3Rpb24gU2hhMSAoKSB7XG4gIHRoaXMuaW5pdCgpXG4gIHRoaXMuX3cgPSBXXG5cbiAgSGFzaC5jYWxsKHRoaXMsIDY0LCA1Nilcbn1cblxuaW5oZXJpdHMoU2hhMSwgSGFzaClcblxuU2hhMS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fYSA9IDB4Njc0NTIzMDEgfCAwXG4gIHRoaXMuX2IgPSAweGVmY2RhYjg5IHwgMFxuICB0aGlzLl9jID0gMHg5OGJhZGNmZSB8IDBcbiAgdGhpcy5fZCA9IDB4MTAzMjU0NzYgfCAwXG4gIHRoaXMuX2UgPSAweGMzZDJlMWYwIHwgMFxuXG4gIHJldHVybiB0aGlzXG59XG5cbi8qXG4gKiBCaXR3aXNlIHJvdGF0ZSBhIDMyLWJpdCBudW1iZXIgdG8gdGhlIGxlZnQuXG4gKi9cbmZ1bmN0aW9uIHJvbCAobnVtLCBjbnQpIHtcbiAgcmV0dXJuIChudW0gPDwgY250KSB8IChudW0gPj4+ICgzMiAtIGNudCkpXG59XG5cblNoYTEucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoTSkge1xuICB2YXIgVyA9IHRoaXMuX3dcblxuICB2YXIgYSA9IHRoaXMuX2FcbiAgdmFyIGIgPSB0aGlzLl9iXG4gIHZhciBjID0gdGhpcy5fY1xuICB2YXIgZCA9IHRoaXMuX2RcbiAgdmFyIGUgPSB0aGlzLl9lXG5cbiAgdmFyIGogPSAwXG4gIHZhciBrXG5cbiAgZnVuY3Rpb24gY2FsY1cgKCkgeyByZXR1cm4gcm9sKFdbaiAtIDNdIF4gV1tqIC0gOF0gXiBXW2ogLSAxNF0gXiBXW2ogLSAxNl0sIDEpIH1cbiAgZnVuY3Rpb24gbG9vcCAodywgZikge1xuICAgIFdbal0gPSB3XG5cbiAgICB2YXIgdCA9IHJvbChhLCA1KSArIGYgKyBlICsgdyArIGtcblxuICAgIGUgPSBkXG4gICAgZCA9IGNcbiAgICBjID0gcm9sKGIsIDMwKVxuICAgIGIgPSBhXG4gICAgYSA9IHRcbiAgICBqKytcbiAgfVxuXG4gIGsgPSAxNTE4NTAwMjQ5XG4gIHdoaWxlIChqIDwgMTYpIGxvb3AoTS5yZWFkSW50MzJCRShqICogNCksIChiICYgYykgfCAoKH5iKSAmIGQpKVxuICB3aGlsZSAoaiA8IDIwKSBsb29wKGNhbGNXKCksIChiICYgYykgfCAoKH5iKSAmIGQpKVxuICBrID0gMTg1OTc3NTM5M1xuICB3aGlsZSAoaiA8IDQwKSBsb29wKGNhbGNXKCksIGIgXiBjIF4gZClcbiAgayA9IC0xODk0MDA3NTg4XG4gIHdoaWxlIChqIDwgNjApIGxvb3AoY2FsY1coKSwgKGIgJiBjKSB8IChiICYgZCkgfCAoYyAmIGQpKVxuICBrID0gLTg5OTQ5NzUxNFxuICB3aGlsZSAoaiA8IDgwKSBsb29wKGNhbGNXKCksIGIgXiBjIF4gZClcblxuICB0aGlzLl9hID0gKGEgKyB0aGlzLl9hKSB8IDBcbiAgdGhpcy5fYiA9IChiICsgdGhpcy5fYikgfCAwXG4gIHRoaXMuX2MgPSAoYyArIHRoaXMuX2MpIHwgMFxuICB0aGlzLl9kID0gKGQgKyB0aGlzLl9kKSB8IDBcbiAgdGhpcy5fZSA9IChlICsgdGhpcy5fZSkgfCAwXG59XG5cblNoYTEucHJvdG90eXBlLl9oYXNoID0gZnVuY3Rpb24gKCkge1xuICB2YXIgSCA9IG5ldyBCdWZmZXIoMjApXG5cbiAgSC53cml0ZUludDMyQkUodGhpcy5fYSB8IDAsIDApXG4gIEgud3JpdGVJbnQzMkJFKHRoaXMuX2IgfCAwLCA0KVxuICBILndyaXRlSW50MzJCRSh0aGlzLl9jIHwgMCwgOClcbiAgSC53cml0ZUludDMyQkUodGhpcy5fZCB8IDAsIDEyKVxuICBILndyaXRlSW50MzJCRSh0aGlzLl9lIHwgMCwgMTYpXG5cbiAgcmV0dXJuIEhcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTaGExXG4iXX0=
},{"./hash":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/sha.js/hash.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/sha.js/sha.js":[function(require,module,exports){
(function (Buffer){
/*
 * A JavaScript implementation of the Secure Hash Algorithm, SHA-0, as defined
 * in FIPS PUB 180-1
 * This source code is derived from sha1.js of the same repository.
 * The difference between SHA-0 and SHA-1 is just a bitwise rotate left
 * operation was added.
 */

var inherits = require('inherits')
var Hash = require('./hash')

var W = new Array(80)

function Sha () {
  this.init()
  this._w = W

  Hash.call(this, 64, 56)
}

inherits(Sha, Hash)

Sha.prototype.init = function () {
  this._a = 0x67452301 | 0
  this._b = 0xefcdab89 | 0
  this._c = 0x98badcfe | 0
  this._d = 0x10325476 | 0
  this._e = 0xc3d2e1f0 | 0

  return this
}

/*
 * Bitwise rotate a 32-bit number to the left.
 */
function rol (num, cnt) {
  return (num << cnt) | (num >>> (32 - cnt))
}

Sha.prototype._update = function (M) {
  var W = this._w

  var a = this._a
  var b = this._b
  var c = this._c
  var d = this._d
  var e = this._e

  var j = 0
  var k

  /*
   * SHA-1 has a bitwise rotate left operation. But, SHA is not
   * function calcW() { return rol(W[j - 3] ^ W[j -  8] ^ W[j - 14] ^ W[j - 16], 1) }
   */
  function calcW () { return W[j - 3] ^ W[j - 8] ^ W[j - 14] ^ W[j - 16] }
  function loop (w, f) {
    W[j] = w

    var t = rol(a, 5) + f + e + w + k

    e = d
    d = c
    c = rol(b, 30)
    b = a
    a = t
    j++
  }

  k = 1518500249
  while (j < 16) loop(M.readInt32BE(j * 4), (b & c) | ((~b) & d))
  while (j < 20) loop(calcW(), (b & c) | ((~b) & d))
  k = 1859775393
  while (j < 40) loop(calcW(), b ^ c ^ d)
  k = -1894007588
  while (j < 60) loop(calcW(), (b & c) | (b & d) | (c & d))
  k = -899497514
  while (j < 80) loop(calcW(), b ^ c ^ d)

  this._a = (a + this._a) | 0
  this._b = (b + this._b) | 0
  this._c = (c + this._c) | 0
  this._d = (d + this._d) | 0
  this._e = (e + this._e) | 0
}

Sha.prototype._hash = function () {
  var H = new Buffer(20)

  H.writeInt32BE(this._a | 0, 0)
  H.writeInt32BE(this._b | 0, 4)
  H.writeInt32BE(this._c | 0, 8)
  H.writeInt32BE(this._d | 0, 12)
  H.writeInt32BE(this._e | 0, 16)

  return H
}

module.exports = Sha


}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWhhc2gvbm9kZV9tb2R1bGVzL3NoYS5qcy9zaGEuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBBIEphdmFTY3JpcHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIFNlY3VyZSBIYXNoIEFsZ29yaXRobSwgU0hBLTAsIGFzIGRlZmluZWRcbiAqIGluIEZJUFMgUFVCIDE4MC0xXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGRlcml2ZWQgZnJvbSBzaGExLmpzIG9mIHRoZSBzYW1lIHJlcG9zaXRvcnkuXG4gKiBUaGUgZGlmZmVyZW5jZSBiZXR3ZWVuIFNIQS0wIGFuZCBTSEEtMSBpcyBqdXN0IGEgYml0d2lzZSByb3RhdGUgbGVmdFxuICogb3BlcmF0aW9uIHdhcyBhZGRlZC5cbiAqL1xuXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG52YXIgSGFzaCA9IHJlcXVpcmUoJy4vaGFzaCcpXG5cbnZhciBXID0gbmV3IEFycmF5KDgwKVxuXG5mdW5jdGlvbiBTaGEgKCkge1xuICB0aGlzLmluaXQoKVxuICB0aGlzLl93ID0gV1xuXG4gIEhhc2guY2FsbCh0aGlzLCA2NCwgNTYpXG59XG5cbmluaGVyaXRzKFNoYSwgSGFzaClcblxuU2hhLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9hID0gMHg2NzQ1MjMwMSB8IDBcbiAgdGhpcy5fYiA9IDB4ZWZjZGFiODkgfCAwXG4gIHRoaXMuX2MgPSAweDk4YmFkY2ZlIHwgMFxuICB0aGlzLl9kID0gMHgxMDMyNTQ3NiB8IDBcbiAgdGhpcy5fZSA9IDB4YzNkMmUxZjAgfCAwXG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLypcbiAqIEJpdHdpc2Ugcm90YXRlIGEgMzItYml0IG51bWJlciB0byB0aGUgbGVmdC5cbiAqL1xuZnVuY3Rpb24gcm9sIChudW0sIGNudCkge1xuICByZXR1cm4gKG51bSA8PCBjbnQpIHwgKG51bSA+Pj4gKDMyIC0gY250KSlcbn1cblxuU2hhLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKE0pIHtcbiAgdmFyIFcgPSB0aGlzLl93XG5cbiAgdmFyIGEgPSB0aGlzLl9hXG4gIHZhciBiID0gdGhpcy5fYlxuICB2YXIgYyA9IHRoaXMuX2NcbiAgdmFyIGQgPSB0aGlzLl9kXG4gIHZhciBlID0gdGhpcy5fZVxuXG4gIHZhciBqID0gMFxuICB2YXIga1xuXG4gIC8qXG4gICAqIFNIQS0xIGhhcyBhIGJpdHdpc2Ugcm90YXRlIGxlZnQgb3BlcmF0aW9uLiBCdXQsIFNIQSBpcyBub3RcbiAgICogZnVuY3Rpb24gY2FsY1coKSB7IHJldHVybiByb2woV1tqIC0gM10gXiBXW2ogLSAgOF0gXiBXW2ogLSAxNF0gXiBXW2ogLSAxNl0sIDEpIH1cbiAgICovXG4gIGZ1bmN0aW9uIGNhbGNXICgpIHsgcmV0dXJuIFdbaiAtIDNdIF4gV1tqIC0gOF0gXiBXW2ogLSAxNF0gXiBXW2ogLSAxNl0gfVxuICBmdW5jdGlvbiBsb29wICh3LCBmKSB7XG4gICAgV1tqXSA9IHdcblxuICAgIHZhciB0ID0gcm9sKGEsIDUpICsgZiArIGUgKyB3ICsga1xuXG4gICAgZSA9IGRcbiAgICBkID0gY1xuICAgIGMgPSByb2woYiwgMzApXG4gICAgYiA9IGFcbiAgICBhID0gdFxuICAgIGorK1xuICB9XG5cbiAgayA9IDE1MTg1MDAyNDlcbiAgd2hpbGUgKGogPCAxNikgbG9vcChNLnJlYWRJbnQzMkJFKGogKiA0KSwgKGIgJiBjKSB8ICgofmIpICYgZCkpXG4gIHdoaWxlIChqIDwgMjApIGxvb3AoY2FsY1coKSwgKGIgJiBjKSB8ICgofmIpICYgZCkpXG4gIGsgPSAxODU5Nzc1MzkzXG4gIHdoaWxlIChqIDwgNDApIGxvb3AoY2FsY1coKSwgYiBeIGMgXiBkKVxuICBrID0gLTE4OTQwMDc1ODhcbiAgd2hpbGUgKGogPCA2MCkgbG9vcChjYWxjVygpLCAoYiAmIGMpIHwgKGIgJiBkKSB8IChjICYgZCkpXG4gIGsgPSAtODk5NDk3NTE0XG4gIHdoaWxlIChqIDwgODApIGxvb3AoY2FsY1coKSwgYiBeIGMgXiBkKVxuXG4gIHRoaXMuX2EgPSAoYSArIHRoaXMuX2EpIHwgMFxuICB0aGlzLl9iID0gKGIgKyB0aGlzLl9iKSB8IDBcbiAgdGhpcy5fYyA9IChjICsgdGhpcy5fYykgfCAwXG4gIHRoaXMuX2QgPSAoZCArIHRoaXMuX2QpIHwgMFxuICB0aGlzLl9lID0gKGUgKyB0aGlzLl9lKSB8IDBcbn1cblxuU2hhLnByb3RvdHlwZS5faGFzaCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIEggPSBuZXcgQnVmZmVyKDIwKVxuXG4gIEgud3JpdGVJbnQzMkJFKHRoaXMuX2EgfCAwLCAwKVxuICBILndyaXRlSW50MzJCRSh0aGlzLl9iIHwgMCwgNClcbiAgSC53cml0ZUludDMyQkUodGhpcy5fYyB8IDAsIDgpXG4gIEgud3JpdGVJbnQzMkJFKHRoaXMuX2QgfCAwLCAxMilcbiAgSC53cml0ZUludDMyQkUodGhpcy5fZSB8IDAsIDE2KVxuXG4gIHJldHVybiBIXG59XG5cbm1vZHVsZS5leHBvcnRzID0gU2hhXG5cbiJdfQ==
},{"./hash":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/sha.js/hash.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/sha.js/hash.js":[function(require,module,exports){
(function (Buffer){
// prototype class for hash functions
function Hash (blockSize, finalSize) {
  this._block = new Buffer(blockSize)
  this._finalSize = finalSize
  this._blockSize = blockSize
  this._len = 0
  this._s = 0
}

Hash.prototype.update = function (data, enc) {
  if (typeof data === 'string') {
    enc = enc || 'utf8'
    data = new Buffer(data, enc)
  }

  var l = this._len += data.length
  var s = this._s || 0
  var f = 0
  var buffer = this._block

  while (s < l) {
    var t = Math.min(data.length, f + this._blockSize - (s % this._blockSize))
    var ch = (t - f)

    for (var i = 0; i < ch; i++) {
      buffer[(s % this._blockSize) + i] = data[i + f]
    }

    s += ch
    f += ch

    if ((s % this._blockSize) === 0) {
      this._update(buffer)
    }
  }
  this._s = s

  return this
}

Hash.prototype.digest = function (enc) {
  // Suppose the length of the message M, in bits, is l
  var l = this._len * 8

  // Append the bit 1 to the end of the message
  this._block[this._len % this._blockSize] = 0x80

  // and then k zero bits, where k is the smallest non-negative solution to the equation (l + 1 + k) === finalSize mod blockSize
  this._block.fill(0, this._len % this._blockSize + 1)

  if (l % (this._blockSize * 8) >= this._finalSize * 8) {
    this._update(this._block)
    this._block.fill(0)
  }

  // to this append the block which is equal to the number l written in binary
  // TODO: handle case where l is > Math.pow(2, 29)
  this._block.writeInt32BE(l, this._blockSize - 4)

  var hash = this._update(this._block) || this._hash()

  return enc ? hash.toString(enc) : hash
}

Hash.prototype._update = function () {
  throw new Error('_update must be implemented by subclass')
}

module.exports = Hash

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWhhc2gvbm9kZV9tb2R1bGVzL3NoYS5qcy9oYXNoLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLy8gcHJvdG90eXBlIGNsYXNzIGZvciBoYXNoIGZ1bmN0aW9uc1xuZnVuY3Rpb24gSGFzaCAoYmxvY2tTaXplLCBmaW5hbFNpemUpIHtcbiAgdGhpcy5fYmxvY2sgPSBuZXcgQnVmZmVyKGJsb2NrU2l6ZSlcbiAgdGhpcy5fZmluYWxTaXplID0gZmluYWxTaXplXG4gIHRoaXMuX2Jsb2NrU2l6ZSA9IGJsb2NrU2l6ZVxuICB0aGlzLl9sZW4gPSAwXG4gIHRoaXMuX3MgPSAwXG59XG5cbkhhc2gucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhLCBlbmMpIHtcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgIGVuYyA9IGVuYyB8fCAndXRmOCdcbiAgICBkYXRhID0gbmV3IEJ1ZmZlcihkYXRhLCBlbmMpXG4gIH1cblxuICB2YXIgbCA9IHRoaXMuX2xlbiArPSBkYXRhLmxlbmd0aFxuICB2YXIgcyA9IHRoaXMuX3MgfHwgMFxuICB2YXIgZiA9IDBcbiAgdmFyIGJ1ZmZlciA9IHRoaXMuX2Jsb2NrXG5cbiAgd2hpbGUgKHMgPCBsKSB7XG4gICAgdmFyIHQgPSBNYXRoLm1pbihkYXRhLmxlbmd0aCwgZiArIHRoaXMuX2Jsb2NrU2l6ZSAtIChzICUgdGhpcy5fYmxvY2tTaXplKSlcbiAgICB2YXIgY2ggPSAodCAtIGYpXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoOyBpKyspIHtcbiAgICAgIGJ1ZmZlclsocyAlIHRoaXMuX2Jsb2NrU2l6ZSkgKyBpXSA9IGRhdGFbaSArIGZdXG4gICAgfVxuXG4gICAgcyArPSBjaFxuICAgIGYgKz0gY2hcblxuICAgIGlmICgocyAlIHRoaXMuX2Jsb2NrU2l6ZSkgPT09IDApIHtcbiAgICAgIHRoaXMuX3VwZGF0ZShidWZmZXIpXG4gICAgfVxuICB9XG4gIHRoaXMuX3MgPSBzXG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuSGFzaC5wcm90b3R5cGUuZGlnZXN0ID0gZnVuY3Rpb24gKGVuYykge1xuICAvLyBTdXBwb3NlIHRoZSBsZW5ndGggb2YgdGhlIG1lc3NhZ2UgTSwgaW4gYml0cywgaXMgbFxuICB2YXIgbCA9IHRoaXMuX2xlbiAqIDhcblxuICAvLyBBcHBlbmQgdGhlIGJpdCAxIHRvIHRoZSBlbmQgb2YgdGhlIG1lc3NhZ2VcbiAgdGhpcy5fYmxvY2tbdGhpcy5fbGVuICUgdGhpcy5fYmxvY2tTaXplXSA9IDB4ODBcblxuICAvLyBhbmQgdGhlbiBrIHplcm8gYml0cywgd2hlcmUgayBpcyB0aGUgc21hbGxlc3Qgbm9uLW5lZ2F0aXZlIHNvbHV0aW9uIHRvIHRoZSBlcXVhdGlvbiAobCArIDEgKyBrKSA9PT0gZmluYWxTaXplIG1vZCBibG9ja1NpemVcbiAgdGhpcy5fYmxvY2suZmlsbCgwLCB0aGlzLl9sZW4gJSB0aGlzLl9ibG9ja1NpemUgKyAxKVxuXG4gIGlmIChsICUgKHRoaXMuX2Jsb2NrU2l6ZSAqIDgpID49IHRoaXMuX2ZpbmFsU2l6ZSAqIDgpIHtcbiAgICB0aGlzLl91cGRhdGUodGhpcy5fYmxvY2spXG4gICAgdGhpcy5fYmxvY2suZmlsbCgwKVxuICB9XG5cbiAgLy8gdG8gdGhpcyBhcHBlbmQgdGhlIGJsb2NrIHdoaWNoIGlzIGVxdWFsIHRvIHRoZSBudW1iZXIgbCB3cml0dGVuIGluIGJpbmFyeVxuICAvLyBUT0RPOiBoYW5kbGUgY2FzZSB3aGVyZSBsIGlzID4gTWF0aC5wb3coMiwgMjkpXG4gIHRoaXMuX2Jsb2NrLndyaXRlSW50MzJCRShsLCB0aGlzLl9ibG9ja1NpemUgLSA0KVxuXG4gIHZhciBoYXNoID0gdGhpcy5fdXBkYXRlKHRoaXMuX2Jsb2NrKSB8fCB0aGlzLl9oYXNoKClcblxuICByZXR1cm4gZW5jID8gaGFzaC50b1N0cmluZyhlbmMpIDogaGFzaFxufVxuXG5IYXNoLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ191cGRhdGUgbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBzdWJjbGFzcycpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gSGFzaFxuIl19
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/ripemd160/lib/ripemd160.js":[function(require,module,exports){
(function (Buffer){
/*
CryptoJS v3.1.2
code.google.com/p/crypto-js
(c) 2009-2013 by Jeff Mott. All rights reserved.
code.google.com/p/crypto-js/wiki/License
*/
/** @preserve
(c) 2012 by Cdric Mesnil. All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

// constants table
var zl = [
  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,
  7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8,
  3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12,
  1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2,
  4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13
]

var zr = [
  5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12,
  6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2,
  15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13,
  8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14,
  12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11
]

var sl = [
  11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8,
  7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12,
  11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5,
  11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12,
  9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6
]

var sr = [
  8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6,
  9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11,
  9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5,
  15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8,
  8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11
]

var hl = [0x00000000, 0x5A827999, 0x6ED9EBA1, 0x8F1BBCDC, 0xA953FD4E]
var hr = [0x50A28BE6, 0x5C4DD124, 0x6D703EF3, 0x7A6D76E9, 0x00000000]

function bytesToWords (bytes) {
  var words = []
  for (var i = 0, b = 0; i < bytes.length; i++, b += 8) {
    words[b >>> 5] |= bytes[i] << (24 - b % 32)
  }
  return words
}

function wordsToBytes (words) {
  var bytes = []
  for (var b = 0; b < words.length * 32; b += 8) {
    bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF)
  }
  return bytes
}

function processBlock (H, M, offset) {
  // swap endian
  for (var i = 0; i < 16; i++) {
    var offset_i = offset + i
    var M_offset_i = M[offset_i]

    // Swap
    M[offset_i] = (
      (((M_offset_i << 8) | (M_offset_i >>> 24)) & 0x00ff00ff) |
      (((M_offset_i << 24) | (M_offset_i >>> 8)) & 0xff00ff00)
    )
  }

  // Working variables
  var al, bl, cl, dl, el
  var ar, br, cr, dr, er

  ar = al = H[0]
  br = bl = H[1]
  cr = cl = H[2]
  dr = dl = H[3]
  er = el = H[4]

  // computation
  var t
  for (i = 0; i < 80; i += 1) {
    t = (al + M[offset + zl[i]]) | 0
    if (i < 16) {
      t += f1(bl, cl, dl) + hl[0]
    } else if (i < 32) {
      t += f2(bl, cl, dl) + hl[1]
    } else if (i < 48) {
      t += f3(bl, cl, dl) + hl[2]
    } else if (i < 64) {
      t += f4(bl, cl, dl) + hl[3]
    } else {// if (i<80) {
      t += f5(bl, cl, dl) + hl[4]
    }
    t = t | 0
    t = rotl(t, sl[i])
    t = (t + el) | 0
    al = el
    el = dl
    dl = rotl(cl, 10)
    cl = bl
    bl = t

    t = (ar + M[offset + zr[i]]) | 0
    if (i < 16) {
      t += f5(br, cr, dr) + hr[0]
    } else if (i < 32) {
      t += f4(br, cr, dr) + hr[1]
    } else if (i < 48) {
      t += f3(br, cr, dr) + hr[2]
    } else if (i < 64) {
      t += f2(br, cr, dr) + hr[3]
    } else {// if (i<80) {
      t += f1(br, cr, dr) + hr[4]
    }

    t = t | 0
    t = rotl(t, sr[i])
    t = (t + er) | 0
    ar = er
    er = dr
    dr = rotl(cr, 10)
    cr = br
    br = t
  }

  // intermediate hash value
  t = (H[1] + cl + dr) | 0
  H[1] = (H[2] + dl + er) | 0
  H[2] = (H[3] + el + ar) | 0
  H[3] = (H[4] + al + br) | 0
  H[4] = (H[0] + bl + cr) | 0
  H[0] = t
}

function f1 (x, y, z) {
  return ((x) ^ (y) ^ (z))
}

function f2 (x, y, z) {
  return (((x) & (y)) | ((~x) & (z)))
}

function f3 (x, y, z) {
  return (((x) | (~(y))) ^ (z))
}

function f4 (x, y, z) {
  return (((x) & (z)) | ((y) & (~(z))))
}

function f5 (x, y, z) {
  return ((x) ^ ((y) | (~(z))))
}

function rotl (x, n) {
  return (x << n) | (x >>> (32 - n))
}

function ripemd160 (message) {
  var H = [0x67452301, 0xEFCDAB89, 0x98BADCFE, 0x10325476, 0xC3D2E1F0]

  if (typeof message === 'string') {
    message = new Buffer(message, 'utf8')
  }

  var m = bytesToWords(message)

  var nBitsLeft = message.length * 8
  var nBitsTotal = message.length * 8

  // Add padding
  m[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32)
  m[(((nBitsLeft + 64) >>> 9) << 4) + 14] = (
    (((nBitsTotal << 8) | (nBitsTotal >>> 24)) & 0x00ff00ff) |
    (((nBitsTotal << 24) | (nBitsTotal >>> 8)) & 0xff00ff00)
  )

  for (var i = 0; i < m.length; i += 16) {
    processBlock(H, m, i)
  }

  // swap endian
  for (i = 0; i < 5; i++) {
    // shortcut
    var H_i = H[i]

    // Swap
    H[i] = (((H_i << 8) | (H_i >>> 24)) & 0x00ff00ff) |
      (((H_i << 24) | (H_i >>> 8)) & 0xff00ff00)
  }

  var digestbytes = wordsToBytes(H)
  return new Buffer(digestbytes)
}

module.exports = ripemd160

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWhhc2gvbm9kZV9tb2R1bGVzL3JpcGVtZDE2MC9saWIvcmlwZW1kMTYwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLypcbkNyeXB0b0pTIHYzLjEuMlxuY29kZS5nb29nbGUuY29tL3AvY3J5cHRvLWpzXG4oYykgMjAwOS0yMDEzIGJ5IEplZmYgTW90dC4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbmNvZGUuZ29vZ2xlLmNvbS9wL2NyeXB0by1qcy93aWtpL0xpY2Vuc2VcbiovXG4vKiogQHByZXNlcnZlXG4oYykgMjAxMiBieSBDw6lkcmljIE1lc25pbC4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblxuUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuXG4gICAgLSBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gICAgLSBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG5cblRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiovXG5cbi8vIGNvbnN0YW50cyB0YWJsZVxudmFyIHpsID0gW1xuICAwLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEyLCAxMywgMTQsIDE1LFxuICA3LCA0LCAxMywgMSwgMTAsIDYsIDE1LCAzLCAxMiwgMCwgOSwgNSwgMiwgMTQsIDExLCA4LFxuICAzLCAxMCwgMTQsIDQsIDksIDE1LCA4LCAxLCAyLCA3LCAwLCA2LCAxMywgMTEsIDUsIDEyLFxuICAxLCA5LCAxMSwgMTAsIDAsIDgsIDEyLCA0LCAxMywgMywgNywgMTUsIDE0LCA1LCA2LCAyLFxuICA0LCAwLCA1LCA5LCA3LCAxMiwgMiwgMTAsIDE0LCAxLCAzLCA4LCAxMSwgNiwgMTUsIDEzXG5dXG5cbnZhciB6ciA9IFtcbiAgNSwgMTQsIDcsIDAsIDksIDIsIDExLCA0LCAxMywgNiwgMTUsIDgsIDEsIDEwLCAzLCAxMixcbiAgNiwgMTEsIDMsIDcsIDAsIDEzLCA1LCAxMCwgMTQsIDE1LCA4LCAxMiwgNCwgOSwgMSwgMixcbiAgMTUsIDUsIDEsIDMsIDcsIDE0LCA2LCA5LCAxMSwgOCwgMTIsIDIsIDEwLCAwLCA0LCAxMyxcbiAgOCwgNiwgNCwgMSwgMywgMTEsIDE1LCAwLCA1LCAxMiwgMiwgMTMsIDksIDcsIDEwLCAxNCxcbiAgMTIsIDE1LCAxMCwgNCwgMSwgNSwgOCwgNywgNiwgMiwgMTMsIDE0LCAwLCAzLCA5LCAxMVxuXVxuXG52YXIgc2wgPSBbXG4gIDExLCAxNCwgMTUsIDEyLCA1LCA4LCA3LCA5LCAxMSwgMTMsIDE0LCAxNSwgNiwgNywgOSwgOCxcbiAgNywgNiwgOCwgMTMsIDExLCA5LCA3LCAxNSwgNywgMTIsIDE1LCA5LCAxMSwgNywgMTMsIDEyLFxuICAxMSwgMTMsIDYsIDcsIDE0LCA5LCAxMywgMTUsIDE0LCA4LCAxMywgNiwgNSwgMTIsIDcsIDUsXG4gIDExLCAxMiwgMTQsIDE1LCAxNCwgMTUsIDksIDgsIDksIDE0LCA1LCA2LCA4LCA2LCA1LCAxMixcbiAgOSwgMTUsIDUsIDExLCA2LCA4LCAxMywgMTIsIDUsIDEyLCAxMywgMTQsIDExLCA4LCA1LCA2XG5dXG5cbnZhciBzciA9IFtcbiAgOCwgOSwgOSwgMTEsIDEzLCAxNSwgMTUsIDUsIDcsIDcsIDgsIDExLCAxNCwgMTQsIDEyLCA2LFxuICA5LCAxMywgMTUsIDcsIDEyLCA4LCA5LCAxMSwgNywgNywgMTIsIDcsIDYsIDE1LCAxMywgMTEsXG4gIDksIDcsIDE1LCAxMSwgOCwgNiwgNiwgMTQsIDEyLCAxMywgNSwgMTQsIDEzLCAxMywgNywgNSxcbiAgMTUsIDUsIDgsIDExLCAxNCwgMTQsIDYsIDE0LCA2LCA5LCAxMiwgOSwgMTIsIDUsIDE1LCA4LFxuICA4LCA1LCAxMiwgOSwgMTIsIDUsIDE0LCA2LCA4LCAxMywgNiwgNSwgMTUsIDEzLCAxMSwgMTFcbl1cblxudmFyIGhsID0gWzB4MDAwMDAwMDAsIDB4NUE4Mjc5OTksIDB4NkVEOUVCQTEsIDB4OEYxQkJDREMsIDB4QTk1M0ZENEVdXG52YXIgaHIgPSBbMHg1MEEyOEJFNiwgMHg1QzRERDEyNCwgMHg2RDcwM0VGMywgMHg3QTZENzZFOSwgMHgwMDAwMDAwMF1cblxuZnVuY3Rpb24gYnl0ZXNUb1dvcmRzIChieXRlcykge1xuICB2YXIgd29yZHMgPSBbXVxuICBmb3IgKHZhciBpID0gMCwgYiA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkrKywgYiArPSA4KSB7XG4gICAgd29yZHNbYiA+Pj4gNV0gfD0gYnl0ZXNbaV0gPDwgKDI0IC0gYiAlIDMyKVxuICB9XG4gIHJldHVybiB3b3Jkc1xufVxuXG5mdW5jdGlvbiB3b3Jkc1RvQnl0ZXMgKHdvcmRzKSB7XG4gIHZhciBieXRlcyA9IFtdXG4gIGZvciAodmFyIGIgPSAwOyBiIDwgd29yZHMubGVuZ3RoICogMzI7IGIgKz0gOCkge1xuICAgIGJ5dGVzLnB1c2goKHdvcmRzW2IgPj4+IDVdID4+PiAoMjQgLSBiICUgMzIpKSAmIDB4RkYpXG4gIH1cbiAgcmV0dXJuIGJ5dGVzXG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NCbG9jayAoSCwgTSwgb2Zmc2V0KSB7XG4gIC8vIHN3YXAgZW5kaWFuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgIHZhciBvZmZzZXRfaSA9IG9mZnNldCArIGlcbiAgICB2YXIgTV9vZmZzZXRfaSA9IE1bb2Zmc2V0X2ldXG5cbiAgICAvLyBTd2FwXG4gICAgTVtvZmZzZXRfaV0gPSAoXG4gICAgICAoKChNX29mZnNldF9pIDw8IDgpIHwgKE1fb2Zmc2V0X2kgPj4+IDI0KSkgJiAweDAwZmYwMGZmKSB8XG4gICAgICAoKChNX29mZnNldF9pIDw8IDI0KSB8IChNX29mZnNldF9pID4+PiA4KSkgJiAweGZmMDBmZjAwKVxuICAgIClcbiAgfVxuXG4gIC8vIFdvcmtpbmcgdmFyaWFibGVzXG4gIHZhciBhbCwgYmwsIGNsLCBkbCwgZWxcbiAgdmFyIGFyLCBiciwgY3IsIGRyLCBlclxuXG4gIGFyID0gYWwgPSBIWzBdXG4gIGJyID0gYmwgPSBIWzFdXG4gIGNyID0gY2wgPSBIWzJdXG4gIGRyID0gZGwgPSBIWzNdXG4gIGVyID0gZWwgPSBIWzRdXG5cbiAgLy8gY29tcHV0YXRpb25cbiAgdmFyIHRcbiAgZm9yIChpID0gMDsgaSA8IDgwOyBpICs9IDEpIHtcbiAgICB0ID0gKGFsICsgTVtvZmZzZXQgKyB6bFtpXV0pIHwgMFxuICAgIGlmIChpIDwgMTYpIHtcbiAgICAgIHQgKz0gZjEoYmwsIGNsLCBkbCkgKyBobFswXVxuICAgIH0gZWxzZSBpZiAoaSA8IDMyKSB7XG4gICAgICB0ICs9IGYyKGJsLCBjbCwgZGwpICsgaGxbMV1cbiAgICB9IGVsc2UgaWYgKGkgPCA0OCkge1xuICAgICAgdCArPSBmMyhibCwgY2wsIGRsKSArIGhsWzJdXG4gICAgfSBlbHNlIGlmIChpIDwgNjQpIHtcbiAgICAgIHQgKz0gZjQoYmwsIGNsLCBkbCkgKyBobFszXVxuICAgIH0gZWxzZSB7Ly8gaWYgKGk8ODApIHtcbiAgICAgIHQgKz0gZjUoYmwsIGNsLCBkbCkgKyBobFs0XVxuICAgIH1cbiAgICB0ID0gdCB8IDBcbiAgICB0ID0gcm90bCh0LCBzbFtpXSlcbiAgICB0ID0gKHQgKyBlbCkgfCAwXG4gICAgYWwgPSBlbFxuICAgIGVsID0gZGxcbiAgICBkbCA9IHJvdGwoY2wsIDEwKVxuICAgIGNsID0gYmxcbiAgICBibCA9IHRcblxuICAgIHQgPSAoYXIgKyBNW29mZnNldCArIHpyW2ldXSkgfCAwXG4gICAgaWYgKGkgPCAxNikge1xuICAgICAgdCArPSBmNShiciwgY3IsIGRyKSArIGhyWzBdXG4gICAgfSBlbHNlIGlmIChpIDwgMzIpIHtcbiAgICAgIHQgKz0gZjQoYnIsIGNyLCBkcikgKyBoclsxXVxuICAgIH0gZWxzZSBpZiAoaSA8IDQ4KSB7XG4gICAgICB0ICs9IGYzKGJyLCBjciwgZHIpICsgaHJbMl1cbiAgICB9IGVsc2UgaWYgKGkgPCA2NCkge1xuICAgICAgdCArPSBmMihiciwgY3IsIGRyKSArIGhyWzNdXG4gICAgfSBlbHNlIHsvLyBpZiAoaTw4MCkge1xuICAgICAgdCArPSBmMShiciwgY3IsIGRyKSArIGhyWzRdXG4gICAgfVxuXG4gICAgdCA9IHQgfCAwXG4gICAgdCA9IHJvdGwodCwgc3JbaV0pXG4gICAgdCA9ICh0ICsgZXIpIHwgMFxuICAgIGFyID0gZXJcbiAgICBlciA9IGRyXG4gICAgZHIgPSByb3RsKGNyLCAxMClcbiAgICBjciA9IGJyXG4gICAgYnIgPSB0XG4gIH1cblxuICAvLyBpbnRlcm1lZGlhdGUgaGFzaCB2YWx1ZVxuICB0ID0gKEhbMV0gKyBjbCArIGRyKSB8IDBcbiAgSFsxXSA9IChIWzJdICsgZGwgKyBlcikgfCAwXG4gIEhbMl0gPSAoSFszXSArIGVsICsgYXIpIHwgMFxuICBIWzNdID0gKEhbNF0gKyBhbCArIGJyKSB8IDBcbiAgSFs0XSA9IChIWzBdICsgYmwgKyBjcikgfCAwXG4gIEhbMF0gPSB0XG59XG5cbmZ1bmN0aW9uIGYxICh4LCB5LCB6KSB7XG4gIHJldHVybiAoKHgpIF4gKHkpIF4gKHopKVxufVxuXG5mdW5jdGlvbiBmMiAoeCwgeSwgeikge1xuICByZXR1cm4gKCgoeCkgJiAoeSkpIHwgKCh+eCkgJiAoeikpKVxufVxuXG5mdW5jdGlvbiBmMyAoeCwgeSwgeikge1xuICByZXR1cm4gKCgoeCkgfCAofih5KSkpIF4gKHopKVxufVxuXG5mdW5jdGlvbiBmNCAoeCwgeSwgeikge1xuICByZXR1cm4gKCgoeCkgJiAoeikpIHwgKCh5KSAmICh+KHopKSkpXG59XG5cbmZ1bmN0aW9uIGY1ICh4LCB5LCB6KSB7XG4gIHJldHVybiAoKHgpIF4gKCh5KSB8ICh+KHopKSkpXG59XG5cbmZ1bmN0aW9uIHJvdGwgKHgsIG4pIHtcbiAgcmV0dXJuICh4IDw8IG4pIHwgKHggPj4+ICgzMiAtIG4pKVxufVxuXG5mdW5jdGlvbiByaXBlbWQxNjAgKG1lc3NhZ2UpIHtcbiAgdmFyIEggPSBbMHg2NzQ1MjMwMSwgMHhFRkNEQUI4OSwgMHg5OEJBRENGRSwgMHgxMDMyNTQ3NiwgMHhDM0QyRTFGMF1cblxuICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgbWVzc2FnZSA9IG5ldyBCdWZmZXIobWVzc2FnZSwgJ3V0ZjgnKVxuICB9XG5cbiAgdmFyIG0gPSBieXRlc1RvV29yZHMobWVzc2FnZSlcblxuICB2YXIgbkJpdHNMZWZ0ID0gbWVzc2FnZS5sZW5ndGggKiA4XG4gIHZhciBuQml0c1RvdGFsID0gbWVzc2FnZS5sZW5ndGggKiA4XG5cbiAgLy8gQWRkIHBhZGRpbmdcbiAgbVtuQml0c0xlZnQgPj4+IDVdIHw9IDB4ODAgPDwgKDI0IC0gbkJpdHNMZWZ0ICUgMzIpXG4gIG1bKCgobkJpdHNMZWZ0ICsgNjQpID4+PiA5KSA8PCA0KSArIDE0XSA9IChcbiAgICAoKChuQml0c1RvdGFsIDw8IDgpIHwgKG5CaXRzVG90YWwgPj4+IDI0KSkgJiAweDAwZmYwMGZmKSB8XG4gICAgKCgobkJpdHNUb3RhbCA8PCAyNCkgfCAobkJpdHNUb3RhbCA+Pj4gOCkpICYgMHhmZjAwZmYwMClcbiAgKVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbS5sZW5ndGg7IGkgKz0gMTYpIHtcbiAgICBwcm9jZXNzQmxvY2soSCwgbSwgaSlcbiAgfVxuXG4gIC8vIHN3YXAgZW5kaWFuXG4gIGZvciAoaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAvLyBzaG9ydGN1dFxuICAgIHZhciBIX2kgPSBIW2ldXG5cbiAgICAvLyBTd2FwXG4gICAgSFtpXSA9ICgoKEhfaSA8PCA4KSB8IChIX2kgPj4+IDI0KSkgJiAweDAwZmYwMGZmKSB8XG4gICAgICAoKChIX2kgPDwgMjQpIHwgKEhfaSA+Pj4gOCkpICYgMHhmZjAwZmYwMClcbiAgfVxuXG4gIHZhciBkaWdlc3RieXRlcyA9IHdvcmRzVG9CeXRlcyhIKVxuICByZXR1cm4gbmV3IEJ1ZmZlcihkaWdlc3RieXRlcylcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByaXBlbWQxNjBcbiJdfQ==
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/node_modules/cipher-base/index.js":[function(require,module,exports){
(function (Buffer){
var Transform = require('stream').Transform
var inherits = require('inherits')
var StringDecoder = require('string_decoder').StringDecoder
module.exports = CipherBase
inherits(CipherBase, Transform)
function CipherBase (hashMode) {
  Transform.call(this)
  this.hashMode = typeof hashMode === 'string'
  if (this.hashMode) {
    this[hashMode] = this._finalOrDigest
  } else {
    this.final = this._finalOrDigest
  }
  this._decoder = null
  this._encoding = null
}
CipherBase.prototype.update = function (data, inputEnc, outputEnc) {
  if (typeof data === 'string') {
    data = new Buffer(data, inputEnc)
  }
  var outData = this._update(data)
  if (this.hashMode) {
    return this
  }
  if (outputEnc) {
    outData = this._toString(outData, outputEnc)
  }
  return outData
}

CipherBase.prototype.setAutoPadding = function () {}

CipherBase.prototype.getAuthTag = function () {
  throw new Error('trying to get auth tag in unsupported state')
}

CipherBase.prototype.setAuthTag = function () {
  throw new Error('trying to set auth tag in unsupported state')
}

CipherBase.prototype.setAAD = function () {
  throw new Error('trying to set aad in unsupported state')
}

CipherBase.prototype._transform = function (data, _, next) {
  var err
  try {
    if (this.hashMode) {
      this._update(data)
    } else {
      this.push(this._update(data))
    }
  } catch (e) {
    err = e
  } finally {
    next(err)
  }
}
CipherBase.prototype._flush = function (done) {
  var err
  try {
    this.push(this._final())
  } catch (e) {
    err = e
  } finally {
    done(err)
  }
}
CipherBase.prototype._finalOrDigest = function (outputEnc) {
  var outData = this._final() || new Buffer('')
  if (outputEnc) {
    outData = this._toString(outData, outputEnc, true)
  }
  return outData
}

CipherBase.prototype._toString = function (value, enc, final) {
  if (!this._decoder) {
    this._decoder = new StringDecoder(enc)
    this._encoding = enc
  }
  if (this._encoding !== enc) {
    throw new Error('can\'t switch encodings')
  }
  var out = this._decoder.write(value)
  if (final) {
    out += this._decoder.end()
  }
  return out
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWhhc2gvbm9kZV9tb2R1bGVzL2NpcGhlci1iYXNlL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFRyYW5zZm9ybSA9IHJlcXVpcmUoJ3N0cmVhbScpLlRyYW5zZm9ybVxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxudmFyIFN0cmluZ0RlY29kZXIgPSByZXF1aXJlKCdzdHJpbmdfZGVjb2RlcicpLlN0cmluZ0RlY29kZXJcbm1vZHVsZS5leHBvcnRzID0gQ2lwaGVyQmFzZVxuaW5oZXJpdHMoQ2lwaGVyQmFzZSwgVHJhbnNmb3JtKVxuZnVuY3Rpb24gQ2lwaGVyQmFzZSAoaGFzaE1vZGUpIHtcbiAgVHJhbnNmb3JtLmNhbGwodGhpcylcbiAgdGhpcy5oYXNoTW9kZSA9IHR5cGVvZiBoYXNoTW9kZSA9PT0gJ3N0cmluZydcbiAgaWYgKHRoaXMuaGFzaE1vZGUpIHtcbiAgICB0aGlzW2hhc2hNb2RlXSA9IHRoaXMuX2ZpbmFsT3JEaWdlc3RcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmZpbmFsID0gdGhpcy5fZmluYWxPckRpZ2VzdFxuICB9XG4gIHRoaXMuX2RlY29kZXIgPSBudWxsXG4gIHRoaXMuX2VuY29kaW5nID0gbnVsbFxufVxuQ2lwaGVyQmFzZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGRhdGEsIGlucHV0RW5jLCBvdXRwdXRFbmMpIHtcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgIGRhdGEgPSBuZXcgQnVmZmVyKGRhdGEsIGlucHV0RW5jKVxuICB9XG4gIHZhciBvdXREYXRhID0gdGhpcy5fdXBkYXRlKGRhdGEpXG4gIGlmICh0aGlzLmhhc2hNb2RlKSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICBpZiAob3V0cHV0RW5jKSB7XG4gICAgb3V0RGF0YSA9IHRoaXMuX3RvU3RyaW5nKG91dERhdGEsIG91dHB1dEVuYylcbiAgfVxuICByZXR1cm4gb3V0RGF0YVxufVxuXG5DaXBoZXJCYXNlLnByb3RvdHlwZS5zZXRBdXRvUGFkZGluZyA9IGZ1bmN0aW9uICgpIHt9XG5cbkNpcGhlckJhc2UucHJvdG90eXBlLmdldEF1dGhUYWcgPSBmdW5jdGlvbiAoKSB7XG4gIHRocm93IG5ldyBFcnJvcigndHJ5aW5nIHRvIGdldCBhdXRoIHRhZyBpbiB1bnN1cHBvcnRlZCBzdGF0ZScpXG59XG5cbkNpcGhlckJhc2UucHJvdG90eXBlLnNldEF1dGhUYWcgPSBmdW5jdGlvbiAoKSB7XG4gIHRocm93IG5ldyBFcnJvcigndHJ5aW5nIHRvIHNldCBhdXRoIHRhZyBpbiB1bnN1cHBvcnRlZCBzdGF0ZScpXG59XG5cbkNpcGhlckJhc2UucHJvdG90eXBlLnNldEFBRCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCd0cnlpbmcgdG8gc2V0IGFhZCBpbiB1bnN1cHBvcnRlZCBzdGF0ZScpXG59XG5cbkNpcGhlckJhc2UucHJvdG90eXBlLl90cmFuc2Zvcm0gPSBmdW5jdGlvbiAoZGF0YSwgXywgbmV4dCkge1xuICB2YXIgZXJyXG4gIHRyeSB7XG4gICAgaWYgKHRoaXMuaGFzaE1vZGUpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZShkYXRhKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnB1c2godGhpcy5fdXBkYXRlKGRhdGEpKVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGVyciA9IGVcbiAgfSBmaW5hbGx5IHtcbiAgICBuZXh0KGVycilcbiAgfVxufVxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuX2ZsdXNoID0gZnVuY3Rpb24gKGRvbmUpIHtcbiAgdmFyIGVyclxuICB0cnkge1xuICAgIHRoaXMucHVzaCh0aGlzLl9maW5hbCgpKVxuICB9IGNhdGNoIChlKSB7XG4gICAgZXJyID0gZVxuICB9IGZpbmFsbHkge1xuICAgIGRvbmUoZXJyKVxuICB9XG59XG5DaXBoZXJCYXNlLnByb3RvdHlwZS5fZmluYWxPckRpZ2VzdCA9IGZ1bmN0aW9uIChvdXRwdXRFbmMpIHtcbiAgdmFyIG91dERhdGEgPSB0aGlzLl9maW5hbCgpIHx8IG5ldyBCdWZmZXIoJycpXG4gIGlmIChvdXRwdXRFbmMpIHtcbiAgICBvdXREYXRhID0gdGhpcy5fdG9TdHJpbmcob3V0RGF0YSwgb3V0cHV0RW5jLCB0cnVlKVxuICB9XG4gIHJldHVybiBvdXREYXRhXG59XG5cbkNpcGhlckJhc2UucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uICh2YWx1ZSwgZW5jLCBmaW5hbCkge1xuICBpZiAoIXRoaXMuX2RlY29kZXIpIHtcbiAgICB0aGlzLl9kZWNvZGVyID0gbmV3IFN0cmluZ0RlY29kZXIoZW5jKVxuICAgIHRoaXMuX2VuY29kaW5nID0gZW5jXG4gIH1cbiAgaWYgKHRoaXMuX2VuY29kaW5nICE9PSBlbmMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhblxcJ3Qgc3dpdGNoIGVuY29kaW5ncycpXG4gIH1cbiAgdmFyIG91dCA9IHRoaXMuX2RlY29kZXIud3JpdGUodmFsdWUpXG4gIGlmIChmaW5hbCkge1xuICAgIG91dCArPSB0aGlzLl9kZWNvZGVyLmVuZCgpXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuIl19
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js","stream":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/stream-browserify/index.js","string_decoder":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/string_decoder/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/fixProc.js":[function(require,module,exports){
(function (Buffer){
// adapted from https://github.com/apatil/pemstrip
var findProc = /Proc-Type: 4,ENCRYPTED\r?\nDEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\r?\n\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n/m
var startRegex = /^-----BEGIN (.*) KEY-----\r?\n/m
var fullRegex = /^-----BEGIN (.*) KEY-----\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n-----END \1 KEY-----$/m
var evp = require('evp_bytestokey')
var ciphers = require('browserify-aes')
module.exports = function (okey, password) {
  var key = okey.toString()
  var match = key.match(findProc)
  var decrypted
  if (!match) {
    var match2 = key.match(fullRegex)
    decrypted = new Buffer(match2[2].replace(/\r?\n/g, ''), 'base64')
  } else {
    var suite = 'aes' + match[1]
    var iv = new Buffer(match[2], 'hex')
    var cipherText = new Buffer(match[3].replace(/\r?\n/g, ''), 'base64')
    var cipherKey = evp(password, iv.slice(0, 8), parseInt(match[1], 10)).key
    var out = []
    var cipher = ciphers.createDecipheriv(suite, cipherKey, iv)
    out.push(cipher.update(cipherText))
    out.push(cipher.final())
    decrypted = Buffer.concat(out)
  }
  var tag = key.match(startRegex)[1] + ' KEY'
  return {
    tag: tag,
    data: decrypted
  }
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL2ZpeFByb2MuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2FwYXRpbC9wZW1zdHJpcFxudmFyIGZpbmRQcm9jID0gL1Byb2MtVHlwZTogNCxFTkNSWVBURURcXHI/XFxuREVLLUluZm86IEFFUy0oKD86MTI4KXwoPzoxOTIpfCg/OjI1NikpLUNCQywoWzAtOUEtSF0rKVxccj9cXG5cXHI/XFxuKFswLTlBLXpcXG5cXHJcXCtcXC9cXD1dKylcXHI/XFxuL21cbnZhciBzdGFydFJlZ2V4ID0gL14tLS0tLUJFR0lOICguKikgS0VZLS0tLS1cXHI/XFxuL21cbnZhciBmdWxsUmVnZXggPSAvXi0tLS0tQkVHSU4gKC4qKSBLRVktLS0tLVxccj9cXG4oWzAtOUEtelxcblxcclxcK1xcL1xcPV0rKVxccj9cXG4tLS0tLUVORCBcXDEgS0VZLS0tLS0kL21cbnZhciBldnAgPSByZXF1aXJlKCdldnBfYnl0ZXN0b2tleScpXG52YXIgY2lwaGVycyA9IHJlcXVpcmUoJ2Jyb3dzZXJpZnktYWVzJylcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9rZXksIHBhc3N3b3JkKSB7XG4gIHZhciBrZXkgPSBva2V5LnRvU3RyaW5nKClcbiAgdmFyIG1hdGNoID0ga2V5Lm1hdGNoKGZpbmRQcm9jKVxuICB2YXIgZGVjcnlwdGVkXG4gIGlmICghbWF0Y2gpIHtcbiAgICB2YXIgbWF0Y2gyID0ga2V5Lm1hdGNoKGZ1bGxSZWdleClcbiAgICBkZWNyeXB0ZWQgPSBuZXcgQnVmZmVyKG1hdGNoMlsyXS5yZXBsYWNlKC9cXHI/XFxuL2csICcnKSwgJ2Jhc2U2NCcpXG4gIH0gZWxzZSB7XG4gICAgdmFyIHN1aXRlID0gJ2FlcycgKyBtYXRjaFsxXVxuICAgIHZhciBpdiA9IG5ldyBCdWZmZXIobWF0Y2hbMl0sICdoZXgnKVxuICAgIHZhciBjaXBoZXJUZXh0ID0gbmV3IEJ1ZmZlcihtYXRjaFszXS5yZXBsYWNlKC9cXHI/XFxuL2csICcnKSwgJ2Jhc2U2NCcpXG4gICAgdmFyIGNpcGhlcktleSA9IGV2cChwYXNzd29yZCwgaXYuc2xpY2UoMCwgOCksIHBhcnNlSW50KG1hdGNoWzFdLCAxMCkpLmtleVxuICAgIHZhciBvdXQgPSBbXVxuICAgIHZhciBjaXBoZXIgPSBjaXBoZXJzLmNyZWF0ZURlY2lwaGVyaXYoc3VpdGUsIGNpcGhlcktleSwgaXYpXG4gICAgb3V0LnB1c2goY2lwaGVyLnVwZGF0ZShjaXBoZXJUZXh0KSlcbiAgICBvdXQucHVzaChjaXBoZXIuZmluYWwoKSlcbiAgICBkZWNyeXB0ZWQgPSBCdWZmZXIuY29uY2F0KG91dClcbiAgfVxuICB2YXIgdGFnID0ga2V5Lm1hdGNoKHN0YXJ0UmVnZXgpWzFdICsgJyBLRVknXG4gIHJldHVybiB7XG4gICAgdGFnOiB0YWcsXG4gICAgZGF0YTogZGVjcnlwdGVkXG4gIH1cbn1cbiJdfQ==
},{"browserify-aes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/browser.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","evp_bytestokey":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/evp_bytestokey/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/browser.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/browser.js"][0].apply(exports,arguments)
},{"./decrypter":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/decrypter.js","./encrypter":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/encrypter.js","./modes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/encrypter.js":[function(require,module,exports){
(function (Buffer){
var aes = require('./aes')
var Transform = require('cipher-base')
var inherits = require('inherits')
var modes = require('./modes')
var ebtk = require('evp_bytestokey')
var StreamCipher = require('./streamCipher')
var AuthCipher = require('./authCipher')
inherits(Cipher, Transform)
function Cipher (mode, key, iv) {
  if (!(this instanceof Cipher)) {
    return new Cipher(mode, key, iv)
  }
  Transform.call(this)
  this._cache = new Splitter()
  this._cipher = new aes.AES(key)
  this._prev = new Buffer(iv.length)
  iv.copy(this._prev)
  this._mode = mode
  this._autopadding = true
}
Cipher.prototype._update = function (data) {
  this._cache.add(data)
  var chunk
  var thing
  var out = []
  while ((chunk = this._cache.get())) {
    thing = this._mode.encrypt(this, chunk)
    out.push(thing)
  }
  return Buffer.concat(out)
}
Cipher.prototype._final = function () {
  var chunk = this._cache.flush()
  if (this._autopadding) {
    chunk = this._mode.encrypt(this, chunk)
    this._cipher.scrub()
    return chunk
  } else if (chunk.toString('hex') !== '10101010101010101010101010101010') {
    this._cipher.scrub()
    throw new Error('data not multiple of block length')
  }
}
Cipher.prototype.setAutoPadding = function (setTo) {
  this._autopadding = !!setTo
}

function Splitter () {
  if (!(this instanceof Splitter)) {
    return new Splitter()
  }
  this.cache = new Buffer('')
}
Splitter.prototype.add = function (data) {
  this.cache = Buffer.concat([this.cache, data])
}

Splitter.prototype.get = function () {
  if (this.cache.length > 15) {
    var out = this.cache.slice(0, 16)
    this.cache = this.cache.slice(16)
    return out
  }
  return null
}
Splitter.prototype.flush = function () {
  var len = 16 - this.cache.length
  var padBuff = new Buffer(len)

  var i = -1
  while (++i < len) {
    padBuff.writeUInt8(len, i)
  }
  var out = Buffer.concat([this.cache, padBuff])
  return out
}
var modelist = {
  ECB: require('./modes/ecb'),
  CBC: require('./modes/cbc'),
  CFB: require('./modes/cfb'),
  CFB8: require('./modes/cfb8'),
  CFB1: require('./modes/cfb1'),
  OFB: require('./modes/ofb'),
  CTR: require('./modes/ctr'),
  GCM: require('./modes/ctr')
}

function createCipheriv (suite, password, iv) {
  var config = modes[suite.toLowerCase()]
  if (!config) {
    throw new TypeError('invalid suite type')
  }
  if (typeof iv === 'string') {
    iv = new Buffer(iv)
  }
  if (typeof password === 'string') {
    password = new Buffer(password)
  }
  if (password.length !== config.key / 8) {
    throw new TypeError('invalid key length ' + password.length)
  }
  if (iv.length !== config.iv) {
    throw new TypeError('invalid iv length ' + iv.length)
  }
  if (config.type === 'stream') {
    return new StreamCipher(modelist[config.mode], password, iv)
  } else if (config.type === 'auth') {
    return new AuthCipher(modelist[config.mode], password, iv)
  }
  return new Cipher(modelist[config.mode], password, iv)
}
function createCipher (suite, password) {
  var config = modes[suite.toLowerCase()]
  if (!config) {
    throw new TypeError('invalid suite type')
  }
  var keys = ebtk(password, false, config.key, config.iv)
  return createCipheriv(suite, keys.key, keys.iv)
}

exports.createCipheriv = createCipheriv
exports.createCipher = createCipher

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9lbmNyeXB0ZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBhZXMgPSByZXF1aXJlKCcuL2FlcycpXG52YXIgVHJhbnNmb3JtID0gcmVxdWlyZSgnY2lwaGVyLWJhc2UnKVxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxudmFyIG1vZGVzID0gcmVxdWlyZSgnLi9tb2RlcycpXG52YXIgZWJ0ayA9IHJlcXVpcmUoJ2V2cF9ieXRlc3Rva2V5JylcbnZhciBTdHJlYW1DaXBoZXIgPSByZXF1aXJlKCcuL3N0cmVhbUNpcGhlcicpXG52YXIgQXV0aENpcGhlciA9IHJlcXVpcmUoJy4vYXV0aENpcGhlcicpXG5pbmhlcml0cyhDaXBoZXIsIFRyYW5zZm9ybSlcbmZ1bmN0aW9uIENpcGhlciAobW9kZSwga2V5LCBpdikge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQ2lwaGVyKSkge1xuICAgIHJldHVybiBuZXcgQ2lwaGVyKG1vZGUsIGtleSwgaXYpXG4gIH1cbiAgVHJhbnNmb3JtLmNhbGwodGhpcylcbiAgdGhpcy5fY2FjaGUgPSBuZXcgU3BsaXR0ZXIoKVxuICB0aGlzLl9jaXBoZXIgPSBuZXcgYWVzLkFFUyhrZXkpXG4gIHRoaXMuX3ByZXYgPSBuZXcgQnVmZmVyKGl2Lmxlbmd0aClcbiAgaXYuY29weSh0aGlzLl9wcmV2KVxuICB0aGlzLl9tb2RlID0gbW9kZVxuICB0aGlzLl9hdXRvcGFkZGluZyA9IHRydWVcbn1cbkNpcGhlci5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIHRoaXMuX2NhY2hlLmFkZChkYXRhKVxuICB2YXIgY2h1bmtcbiAgdmFyIHRoaW5nXG4gIHZhciBvdXQgPSBbXVxuICB3aGlsZSAoKGNodW5rID0gdGhpcy5fY2FjaGUuZ2V0KCkpKSB7XG4gICAgdGhpbmcgPSB0aGlzLl9tb2RlLmVuY3J5cHQodGhpcywgY2h1bmspXG4gICAgb3V0LnB1c2godGhpbmcpXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5jb25jYXQob3V0KVxufVxuQ2lwaGVyLnByb3RvdHlwZS5fZmluYWwgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBjaHVuayA9IHRoaXMuX2NhY2hlLmZsdXNoKClcbiAgaWYgKHRoaXMuX2F1dG9wYWRkaW5nKSB7XG4gICAgY2h1bmsgPSB0aGlzLl9tb2RlLmVuY3J5cHQodGhpcywgY2h1bmspXG4gICAgdGhpcy5fY2lwaGVyLnNjcnViKClcbiAgICByZXR1cm4gY2h1bmtcbiAgfSBlbHNlIGlmIChjaHVuay50b1N0cmluZygnaGV4JykgIT09ICcxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMCcpIHtcbiAgICB0aGlzLl9jaXBoZXIuc2NydWIoKVxuICAgIHRocm93IG5ldyBFcnJvcignZGF0YSBub3QgbXVsdGlwbGUgb2YgYmxvY2sgbGVuZ3RoJylcbiAgfVxufVxuQ2lwaGVyLnByb3RvdHlwZS5zZXRBdXRvUGFkZGluZyA9IGZ1bmN0aW9uIChzZXRUbykge1xuICB0aGlzLl9hdXRvcGFkZGluZyA9ICEhc2V0VG9cbn1cblxuZnVuY3Rpb24gU3BsaXR0ZXIgKCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU3BsaXR0ZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBTcGxpdHRlcigpXG4gIH1cbiAgdGhpcy5jYWNoZSA9IG5ldyBCdWZmZXIoJycpXG59XG5TcGxpdHRlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdGhpcy5jYWNoZSA9IEJ1ZmZlci5jb25jYXQoW3RoaXMuY2FjaGUsIGRhdGFdKVxufVxuXG5TcGxpdHRlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5jYWNoZS5sZW5ndGggPiAxNSkge1xuICAgIHZhciBvdXQgPSB0aGlzLmNhY2hlLnNsaWNlKDAsIDE2KVxuICAgIHRoaXMuY2FjaGUgPSB0aGlzLmNhY2hlLnNsaWNlKDE2KVxuICAgIHJldHVybiBvdXRcbiAgfVxuICByZXR1cm4gbnVsbFxufVxuU3BsaXR0ZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbGVuID0gMTYgLSB0aGlzLmNhY2hlLmxlbmd0aFxuICB2YXIgcGFkQnVmZiA9IG5ldyBCdWZmZXIobGVuKVxuXG4gIHZhciBpID0gLTFcbiAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgIHBhZEJ1ZmYud3JpdGVVSW50OChsZW4sIGkpXG4gIH1cbiAgdmFyIG91dCA9IEJ1ZmZlci5jb25jYXQoW3RoaXMuY2FjaGUsIHBhZEJ1ZmZdKVxuICByZXR1cm4gb3V0XG59XG52YXIgbW9kZWxpc3QgPSB7XG4gIEVDQjogcmVxdWlyZSgnLi9tb2Rlcy9lY2InKSxcbiAgQ0JDOiByZXF1aXJlKCcuL21vZGVzL2NiYycpLFxuICBDRkI6IHJlcXVpcmUoJy4vbW9kZXMvY2ZiJyksXG4gIENGQjg6IHJlcXVpcmUoJy4vbW9kZXMvY2ZiOCcpLFxuICBDRkIxOiByZXF1aXJlKCcuL21vZGVzL2NmYjEnKSxcbiAgT0ZCOiByZXF1aXJlKCcuL21vZGVzL29mYicpLFxuICBDVFI6IHJlcXVpcmUoJy4vbW9kZXMvY3RyJyksXG4gIEdDTTogcmVxdWlyZSgnLi9tb2Rlcy9jdHInKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVDaXBoZXJpdiAoc3VpdGUsIHBhc3N3b3JkLCBpdikge1xuICB2YXIgY29uZmlnID0gbW9kZXNbc3VpdGUudG9Mb3dlckNhc2UoKV1cbiAgaWYgKCFjb25maWcpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIHN1aXRlIHR5cGUnKVxuICB9XG4gIGlmICh0eXBlb2YgaXYgPT09ICdzdHJpbmcnKSB7XG4gICAgaXYgPSBuZXcgQnVmZmVyKGl2KVxuICB9XG4gIGlmICh0eXBlb2YgcGFzc3dvcmQgPT09ICdzdHJpbmcnKSB7XG4gICAgcGFzc3dvcmQgPSBuZXcgQnVmZmVyKHBhc3N3b3JkKVxuICB9XG4gIGlmIChwYXNzd29yZC5sZW5ndGggIT09IGNvbmZpZy5rZXkgLyA4KSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBrZXkgbGVuZ3RoICcgKyBwYXNzd29yZC5sZW5ndGgpXG4gIH1cbiAgaWYgKGl2Lmxlbmd0aCAhPT0gY29uZmlnLml2KSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBpdiBsZW5ndGggJyArIGl2Lmxlbmd0aClcbiAgfVxuICBpZiAoY29uZmlnLnR5cGUgPT09ICdzdHJlYW0nKSB7XG4gICAgcmV0dXJuIG5ldyBTdHJlYW1DaXBoZXIobW9kZWxpc3RbY29uZmlnLm1vZGVdLCBwYXNzd29yZCwgaXYpXG4gIH0gZWxzZSBpZiAoY29uZmlnLnR5cGUgPT09ICdhdXRoJykge1xuICAgIHJldHVybiBuZXcgQXV0aENpcGhlcihtb2RlbGlzdFtjb25maWcubW9kZV0sIHBhc3N3b3JkLCBpdilcbiAgfVxuICByZXR1cm4gbmV3IENpcGhlcihtb2RlbGlzdFtjb25maWcubW9kZV0sIHBhc3N3b3JkLCBpdilcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNpcGhlciAoc3VpdGUsIHBhc3N3b3JkKSB7XG4gIHZhciBjb25maWcgPSBtb2Rlc1tzdWl0ZS50b0xvd2VyQ2FzZSgpXVxuICBpZiAoIWNvbmZpZykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgc3VpdGUgdHlwZScpXG4gIH1cbiAgdmFyIGtleXMgPSBlYnRrKHBhc3N3b3JkLCBmYWxzZSwgY29uZmlnLmtleSwgY29uZmlnLml2KVxuICByZXR1cm4gY3JlYXRlQ2lwaGVyaXYoc3VpdGUsIGtleXMua2V5LCBrZXlzLml2KVxufVxuXG5leHBvcnRzLmNyZWF0ZUNpcGhlcml2ID0gY3JlYXRlQ2lwaGVyaXZcbmV4cG9ydHMuY3JlYXRlQ2lwaGVyID0gY3JlYXRlQ2lwaGVyXG4iXX0=
},{"./aes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/aes.js","./authCipher":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/authCipher.js","./modes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes.js","./modes/cbc":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes/cbc.js","./modes/cfb":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes/cfb.js","./modes/cfb1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes/cfb1.js","./modes/cfb8":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes/cfb8.js","./modes/ctr":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes/ctr.js","./modes/ecb":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes/ecb.js","./modes/ofb":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes/ofb.js","./streamCipher":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/streamCipher.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","cipher-base":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/node_modules/cipher-base/index.js","evp_bytestokey":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/evp_bytestokey/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/decrypter.js":[function(require,module,exports){
(function (Buffer){
var aes = require('./aes')
var Transform = require('cipher-base')
var inherits = require('inherits')
var modes = require('./modes')
var StreamCipher = require('./streamCipher')
var AuthCipher = require('./authCipher')
var ebtk = require('evp_bytestokey')

inherits(Decipher, Transform)
function Decipher (mode, key, iv) {
  if (!(this instanceof Decipher)) {
    return new Decipher(mode, key, iv)
  }
  Transform.call(this)
  this._cache = new Splitter()
  this._last = void 0
  this._cipher = new aes.AES(key)
  this._prev = new Buffer(iv.length)
  iv.copy(this._prev)
  this._mode = mode
  this._autopadding = true
}
Decipher.prototype._update = function (data) {
  this._cache.add(data)
  var chunk
  var thing
  var out = []
  while ((chunk = this._cache.get(this._autopadding))) {
    thing = this._mode.decrypt(this, chunk)
    out.push(thing)
  }
  return Buffer.concat(out)
}
Decipher.prototype._final = function () {
  var chunk = this._cache.flush()
  if (this._autopadding) {
    return unpad(this._mode.decrypt(this, chunk))
  } else if (chunk) {
    throw new Error('data not multiple of block length')
  }
}
Decipher.prototype.setAutoPadding = function (setTo) {
  this._autopadding = !!setTo
}
function Splitter () {
  if (!(this instanceof Splitter)) {
    return new Splitter()
  }
  this.cache = new Buffer('')
}
Splitter.prototype.add = function (data) {
  this.cache = Buffer.concat([this.cache, data])
}

Splitter.prototype.get = function (autoPadding) {
  var out
  if (autoPadding) {
    if (this.cache.length > 16) {
      out = this.cache.slice(0, 16)
      this.cache = this.cache.slice(16)
      return out
    }
  } else {
    if (this.cache.length >= 16) {
      out = this.cache.slice(0, 16)
      this.cache = this.cache.slice(16)
      return out
    }
  }
  return null
}
Splitter.prototype.flush = function () {
  if (this.cache.length) {
    return this.cache
  }
}
function unpad (last) {
  var padded = last[15]
  var i = -1
  while (++i < padded) {
    if (last[(i + (16 - padded))] !== padded) {
      throw new Error('unable to decrypt data')
    }
  }
  if (padded === 16) {
    return
  }
  return last.slice(0, 16 - padded)
}

var modelist = {
  ECB: require('./modes/ecb'),
  CBC: require('./modes/cbc'),
  CFB: require('./modes/cfb'),
  CFB8: require('./modes/cfb8'),
  CFB1: require('./modes/cfb1'),
  OFB: require('./modes/ofb'),
  CTR: require('./modes/ctr'),
  GCM: require('./modes/ctr')
}

function createDecipheriv (suite, password, iv) {
  var config = modes[suite.toLowerCase()]
  if (!config) {
    throw new TypeError('invalid suite type')
  }
  if (typeof iv === 'string') {
    iv = new Buffer(iv)
  }
  if (typeof password === 'string') {
    password = new Buffer(password)
  }
  if (password.length !== config.key / 8) {
    throw new TypeError('invalid key length ' + password.length)
  }
  if (iv.length !== config.iv) {
    throw new TypeError('invalid iv length ' + iv.length)
  }
  if (config.type === 'stream') {
    return new StreamCipher(modelist[config.mode], password, iv, true)
  } else if (config.type === 'auth') {
    return new AuthCipher(modelist[config.mode], password, iv, true)
  }
  return new Decipher(modelist[config.mode], password, iv)
}

function createDecipher (suite, password) {
  var config = modes[suite.toLowerCase()]
  if (!config) {
    throw new TypeError('invalid suite type')
  }
  var keys = ebtk(password, false, config.key, config.iv)
  return createDecipheriv(suite, keys.key, keys.iv)
}
exports.createDecipher = createDecipher
exports.createDecipheriv = createDecipheriv

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9kZWNyeXB0ZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBhZXMgPSByZXF1aXJlKCcuL2FlcycpXG52YXIgVHJhbnNmb3JtID0gcmVxdWlyZSgnY2lwaGVyLWJhc2UnKVxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxudmFyIG1vZGVzID0gcmVxdWlyZSgnLi9tb2RlcycpXG52YXIgU3RyZWFtQ2lwaGVyID0gcmVxdWlyZSgnLi9zdHJlYW1DaXBoZXInKVxudmFyIEF1dGhDaXBoZXIgPSByZXF1aXJlKCcuL2F1dGhDaXBoZXInKVxudmFyIGVidGsgPSByZXF1aXJlKCdldnBfYnl0ZXN0b2tleScpXG5cbmluaGVyaXRzKERlY2lwaGVyLCBUcmFuc2Zvcm0pXG5mdW5jdGlvbiBEZWNpcGhlciAobW9kZSwga2V5LCBpdikge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRGVjaXBoZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBEZWNpcGhlcihtb2RlLCBrZXksIGl2KVxuICB9XG4gIFRyYW5zZm9ybS5jYWxsKHRoaXMpXG4gIHRoaXMuX2NhY2hlID0gbmV3IFNwbGl0dGVyKClcbiAgdGhpcy5fbGFzdCA9IHZvaWQgMFxuICB0aGlzLl9jaXBoZXIgPSBuZXcgYWVzLkFFUyhrZXkpXG4gIHRoaXMuX3ByZXYgPSBuZXcgQnVmZmVyKGl2Lmxlbmd0aClcbiAgaXYuY29weSh0aGlzLl9wcmV2KVxuICB0aGlzLl9tb2RlID0gbW9kZVxuICB0aGlzLl9hdXRvcGFkZGluZyA9IHRydWVcbn1cbkRlY2lwaGVyLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdGhpcy5fY2FjaGUuYWRkKGRhdGEpXG4gIHZhciBjaHVua1xuICB2YXIgdGhpbmdcbiAgdmFyIG91dCA9IFtdXG4gIHdoaWxlICgoY2h1bmsgPSB0aGlzLl9jYWNoZS5nZXQodGhpcy5fYXV0b3BhZGRpbmcpKSkge1xuICAgIHRoaW5nID0gdGhpcy5fbW9kZS5kZWNyeXB0KHRoaXMsIGNodW5rKVxuICAgIG91dC5wdXNoKHRoaW5nKVxuICB9XG4gIHJldHVybiBCdWZmZXIuY29uY2F0KG91dClcbn1cbkRlY2lwaGVyLnByb3RvdHlwZS5fZmluYWwgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBjaHVuayA9IHRoaXMuX2NhY2hlLmZsdXNoKClcbiAgaWYgKHRoaXMuX2F1dG9wYWRkaW5nKSB7XG4gICAgcmV0dXJuIHVucGFkKHRoaXMuX21vZGUuZGVjcnlwdCh0aGlzLCBjaHVuaykpXG4gIH0gZWxzZSBpZiAoY2h1bmspIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2RhdGEgbm90IG11bHRpcGxlIG9mIGJsb2NrIGxlbmd0aCcpXG4gIH1cbn1cbkRlY2lwaGVyLnByb3RvdHlwZS5zZXRBdXRvUGFkZGluZyA9IGZ1bmN0aW9uIChzZXRUbykge1xuICB0aGlzLl9hdXRvcGFkZGluZyA9ICEhc2V0VG9cbn1cbmZ1bmN0aW9uIFNwbGl0dGVyICgpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNwbGl0dGVyKSkge1xuICAgIHJldHVybiBuZXcgU3BsaXR0ZXIoKVxuICB9XG4gIHRoaXMuY2FjaGUgPSBuZXcgQnVmZmVyKCcnKVxufVxuU3BsaXR0ZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIHRoaXMuY2FjaGUgPSBCdWZmZXIuY29uY2F0KFt0aGlzLmNhY2hlLCBkYXRhXSlcbn1cblxuU3BsaXR0ZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChhdXRvUGFkZGluZykge1xuICB2YXIgb3V0XG4gIGlmIChhdXRvUGFkZGluZykge1xuICAgIGlmICh0aGlzLmNhY2hlLmxlbmd0aCA+IDE2KSB7XG4gICAgICBvdXQgPSB0aGlzLmNhY2hlLnNsaWNlKDAsIDE2KVxuICAgICAgdGhpcy5jYWNoZSA9IHRoaXMuY2FjaGUuc2xpY2UoMTYpXG4gICAgICByZXR1cm4gb3V0XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICh0aGlzLmNhY2hlLmxlbmd0aCA+PSAxNikge1xuICAgICAgb3V0ID0gdGhpcy5jYWNoZS5zbGljZSgwLCAxNilcbiAgICAgIHRoaXMuY2FjaGUgPSB0aGlzLmNhY2hlLnNsaWNlKDE2KVxuICAgICAgcmV0dXJuIG91dFxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbFxufVxuU3BsaXR0ZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5jYWNoZS5sZW5ndGgpIHtcbiAgICByZXR1cm4gdGhpcy5jYWNoZVxuICB9XG59XG5mdW5jdGlvbiB1bnBhZCAobGFzdCkge1xuICB2YXIgcGFkZGVkID0gbGFzdFsxNV1cbiAgdmFyIGkgPSAtMVxuICB3aGlsZSAoKytpIDwgcGFkZGVkKSB7XG4gICAgaWYgKGxhc3RbKGkgKyAoMTYgLSBwYWRkZWQpKV0gIT09IHBhZGRlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmFibGUgdG8gZGVjcnlwdCBkYXRhJylcbiAgICB9XG4gIH1cbiAgaWYgKHBhZGRlZCA9PT0gMTYpIHtcbiAgICByZXR1cm5cbiAgfVxuICByZXR1cm4gbGFzdC5zbGljZSgwLCAxNiAtIHBhZGRlZClcbn1cblxudmFyIG1vZGVsaXN0ID0ge1xuICBFQ0I6IHJlcXVpcmUoJy4vbW9kZXMvZWNiJyksXG4gIENCQzogcmVxdWlyZSgnLi9tb2Rlcy9jYmMnKSxcbiAgQ0ZCOiByZXF1aXJlKCcuL21vZGVzL2NmYicpLFxuICBDRkI4OiByZXF1aXJlKCcuL21vZGVzL2NmYjgnKSxcbiAgQ0ZCMTogcmVxdWlyZSgnLi9tb2Rlcy9jZmIxJyksXG4gIE9GQjogcmVxdWlyZSgnLi9tb2Rlcy9vZmInKSxcbiAgQ1RSOiByZXF1aXJlKCcuL21vZGVzL2N0cicpLFxuICBHQ006IHJlcXVpcmUoJy4vbW9kZXMvY3RyJylcbn1cblxuZnVuY3Rpb24gY3JlYXRlRGVjaXBoZXJpdiAoc3VpdGUsIHBhc3N3b3JkLCBpdikge1xuICB2YXIgY29uZmlnID0gbW9kZXNbc3VpdGUudG9Mb3dlckNhc2UoKV1cbiAgaWYgKCFjb25maWcpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIHN1aXRlIHR5cGUnKVxuICB9XG4gIGlmICh0eXBlb2YgaXYgPT09ICdzdHJpbmcnKSB7XG4gICAgaXYgPSBuZXcgQnVmZmVyKGl2KVxuICB9XG4gIGlmICh0eXBlb2YgcGFzc3dvcmQgPT09ICdzdHJpbmcnKSB7XG4gICAgcGFzc3dvcmQgPSBuZXcgQnVmZmVyKHBhc3N3b3JkKVxuICB9XG4gIGlmIChwYXNzd29yZC5sZW5ndGggIT09IGNvbmZpZy5rZXkgLyA4KSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBrZXkgbGVuZ3RoICcgKyBwYXNzd29yZC5sZW5ndGgpXG4gIH1cbiAgaWYgKGl2Lmxlbmd0aCAhPT0gY29uZmlnLml2KSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBpdiBsZW5ndGggJyArIGl2Lmxlbmd0aClcbiAgfVxuICBpZiAoY29uZmlnLnR5cGUgPT09ICdzdHJlYW0nKSB7XG4gICAgcmV0dXJuIG5ldyBTdHJlYW1DaXBoZXIobW9kZWxpc3RbY29uZmlnLm1vZGVdLCBwYXNzd29yZCwgaXYsIHRydWUpXG4gIH0gZWxzZSBpZiAoY29uZmlnLnR5cGUgPT09ICdhdXRoJykge1xuICAgIHJldHVybiBuZXcgQXV0aENpcGhlcihtb2RlbGlzdFtjb25maWcubW9kZV0sIHBhc3N3b3JkLCBpdiwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gbmV3IERlY2lwaGVyKG1vZGVsaXN0W2NvbmZpZy5tb2RlXSwgcGFzc3dvcmQsIGl2KVxufVxuXG5mdW5jdGlvbiBjcmVhdGVEZWNpcGhlciAoc3VpdGUsIHBhc3N3b3JkKSB7XG4gIHZhciBjb25maWcgPSBtb2Rlc1tzdWl0ZS50b0xvd2VyQ2FzZSgpXVxuICBpZiAoIWNvbmZpZykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgc3VpdGUgdHlwZScpXG4gIH1cbiAgdmFyIGtleXMgPSBlYnRrKHBhc3N3b3JkLCBmYWxzZSwgY29uZmlnLmtleSwgY29uZmlnLml2KVxuICByZXR1cm4gY3JlYXRlRGVjaXBoZXJpdihzdWl0ZSwga2V5cy5rZXksIGtleXMuaXYpXG59XG5leHBvcnRzLmNyZWF0ZURlY2lwaGVyID0gY3JlYXRlRGVjaXBoZXJcbmV4cG9ydHMuY3JlYXRlRGVjaXBoZXJpdiA9IGNyZWF0ZURlY2lwaGVyaXZcbiJdfQ==
},{"./aes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/aes.js","./authCipher":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/authCipher.js","./modes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes.js","./modes/cbc":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes/cbc.js","./modes/cfb":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes/cfb.js","./modes/cfb1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes/cfb1.js","./modes/cfb8":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes/cfb8.js","./modes/ctr":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes/ctr.js","./modes/ecb":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes/ecb.js","./modes/ofb":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes/ofb.js","./streamCipher":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/streamCipher.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","cipher-base":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/node_modules/cipher-base/index.js","evp_bytestokey":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/evp_bytestokey/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/evp_bytestokey/index.js":[function(require,module,exports){
(function (Buffer){
var md5 = require('create-hash/md5')
module.exports = EVP_BytesToKey
function EVP_BytesToKey (password, salt, keyLen, ivLen) {
  if (!Buffer.isBuffer(password)) {
    password = new Buffer(password, 'binary')
  }
  if (salt && !Buffer.isBuffer(salt)) {
    salt = new Buffer(salt, 'binary')
  }
  keyLen = keyLen / 8
  ivLen = ivLen || 0
  var ki = 0
  var ii = 0
  var key = new Buffer(keyLen)
  var iv = new Buffer(ivLen)
  var addmd = 0
  var md_buf
  var i
  var bufs = []
  while (true) {
    if (addmd++ > 0) {
      bufs.push(md_buf)
    }
    bufs.push(password)
    if (salt) {
      bufs.push(salt)
    }
    md_buf = md5(Buffer.concat(bufs))
    bufs = []
    i = 0
    if (keyLen > 0) {
      while (true) {
        if (keyLen === 0) {
          break
        }
        if (i === md_buf.length) {
          break
        }
        key[ki++] = md_buf[i]
        keyLen--
        i++
      }
    }
    if (ivLen > 0 && i !== md_buf.length) {
      while (true) {
        if (ivLen === 0) {
          break
        }
        if (i === md_buf.length) {
          break
        }
        iv[ii++] = md_buf[i]
        ivLen--
        i++
      }
    }
    if (keyLen === 0 && ivLen === 0) {
      break
    }
  }
  for (i = 0; i < md_buf.length; i++) {
    md_buf[i] = 0
  }
  return {
    key: key,
    iv: iv
  }
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9ldnBfYnl0ZXN0b2tleS9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbWQ1ID0gcmVxdWlyZSgnY3JlYXRlLWhhc2gvbWQ1Jylcbm1vZHVsZS5leHBvcnRzID0gRVZQX0J5dGVzVG9LZXlcbmZ1bmN0aW9uIEVWUF9CeXRlc1RvS2V5IChwYXNzd29yZCwgc2FsdCwga2V5TGVuLCBpdkxlbikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihwYXNzd29yZCkpIHtcbiAgICBwYXNzd29yZCA9IG5ldyBCdWZmZXIocGFzc3dvcmQsICdiaW5hcnknKVxuICB9XG4gIGlmIChzYWx0ICYmICFCdWZmZXIuaXNCdWZmZXIoc2FsdCkpIHtcbiAgICBzYWx0ID0gbmV3IEJ1ZmZlcihzYWx0LCAnYmluYXJ5JylcbiAgfVxuICBrZXlMZW4gPSBrZXlMZW4gLyA4XG4gIGl2TGVuID0gaXZMZW4gfHwgMFxuICB2YXIga2kgPSAwXG4gIHZhciBpaSA9IDBcbiAgdmFyIGtleSA9IG5ldyBCdWZmZXIoa2V5TGVuKVxuICB2YXIgaXYgPSBuZXcgQnVmZmVyKGl2TGVuKVxuICB2YXIgYWRkbWQgPSAwXG4gIHZhciBtZF9idWZcbiAgdmFyIGlcbiAgdmFyIGJ1ZnMgPSBbXVxuICB3aGlsZSAodHJ1ZSkge1xuICAgIGlmIChhZGRtZCsrID4gMCkge1xuICAgICAgYnVmcy5wdXNoKG1kX2J1ZilcbiAgICB9XG4gICAgYnVmcy5wdXNoKHBhc3N3b3JkKVxuICAgIGlmIChzYWx0KSB7XG4gICAgICBidWZzLnB1c2goc2FsdClcbiAgICB9XG4gICAgbWRfYnVmID0gbWQ1KEJ1ZmZlci5jb25jYXQoYnVmcykpXG4gICAgYnVmcyA9IFtdXG4gICAgaSA9IDBcbiAgICBpZiAoa2V5TGVuID4gMCkge1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgaWYgKGtleUxlbiA9PT0gMCkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPT09IG1kX2J1Zi5sZW5ndGgpIHtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGtleVtraSsrXSA9IG1kX2J1ZltpXVxuICAgICAgICBrZXlMZW4tLVxuICAgICAgICBpKytcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGl2TGVuID4gMCAmJiBpICE9PSBtZF9idWYubGVuZ3RoKSB7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBpZiAoaXZMZW4gPT09IDApIHtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGlmIChpID09PSBtZF9idWYubGVuZ3RoKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBpdltpaSsrXSA9IG1kX2J1ZltpXVxuICAgICAgICBpdkxlbi0tXG4gICAgICAgIGkrK1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoa2V5TGVuID09PSAwICYmIGl2TGVuID09PSAwKSB7XG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuICBmb3IgKGkgPSAwOyBpIDwgbWRfYnVmLmxlbmd0aDsgaSsrKSB7XG4gICAgbWRfYnVmW2ldID0gMFxuICB9XG4gIHJldHVybiB7XG4gICAga2V5OiBrZXksXG4gICAgaXY6IGl2XG4gIH1cbn1cbiJdfQ==
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","create-hash/md5":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/md5.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/streamCipher.js":[function(require,module,exports){
(function (Buffer){
var aes = require('./aes')
var Transform = require('cipher-base')
var inherits = require('inherits')

inherits(StreamCipher, Transform)
module.exports = StreamCipher
function StreamCipher (mode, key, iv, decrypt) {
  if (!(this instanceof StreamCipher)) {
    return new StreamCipher(mode, key, iv)
  }
  Transform.call(this)
  this._cipher = new aes.AES(key)
  this._prev = new Buffer(iv.length)
  this._cache = new Buffer('')
  this._secCache = new Buffer('')
  this._decrypt = decrypt
  iv.copy(this._prev)
  this._mode = mode
}
StreamCipher.prototype._update = function (chunk) {
  return this._mode.encrypt(this, chunk, this._decrypt)
}
StreamCipher.prototype._final = function () {
  this._cipher.scrub()
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9zdHJlYW1DaXBoZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBhZXMgPSByZXF1aXJlKCcuL2FlcycpXG52YXIgVHJhbnNmb3JtID0gcmVxdWlyZSgnY2lwaGVyLWJhc2UnKVxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxuXG5pbmhlcml0cyhTdHJlYW1DaXBoZXIsIFRyYW5zZm9ybSlcbm1vZHVsZS5leHBvcnRzID0gU3RyZWFtQ2lwaGVyXG5mdW5jdGlvbiBTdHJlYW1DaXBoZXIgKG1vZGUsIGtleSwgaXYsIGRlY3J5cHQpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFN0cmVhbUNpcGhlcikpIHtcbiAgICByZXR1cm4gbmV3IFN0cmVhbUNpcGhlcihtb2RlLCBrZXksIGl2KVxuICB9XG4gIFRyYW5zZm9ybS5jYWxsKHRoaXMpXG4gIHRoaXMuX2NpcGhlciA9IG5ldyBhZXMuQUVTKGtleSlcbiAgdGhpcy5fcHJldiA9IG5ldyBCdWZmZXIoaXYubGVuZ3RoKVxuICB0aGlzLl9jYWNoZSA9IG5ldyBCdWZmZXIoJycpXG4gIHRoaXMuX3NlY0NhY2hlID0gbmV3IEJ1ZmZlcignJylcbiAgdGhpcy5fZGVjcnlwdCA9IGRlY3J5cHRcbiAgaXYuY29weSh0aGlzLl9wcmV2KVxuICB0aGlzLl9tb2RlID0gbW9kZVxufVxuU3RyZWFtQ2lwaGVyLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKGNodW5rKSB7XG4gIHJldHVybiB0aGlzLl9tb2RlLmVuY3J5cHQodGhpcywgY2h1bmssIHRoaXMuX2RlY3J5cHQpXG59XG5TdHJlYW1DaXBoZXIucHJvdG90eXBlLl9maW5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fY2lwaGVyLnNjcnViKClcbn1cbiJdfQ==
},{"./aes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/aes.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","cipher-base":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/node_modules/cipher-base/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes/ofb.js":[function(require,module,exports){
(function (Buffer){
var xor = require('buffer-xor')

function getBlock (self) {
  self._prev = self._cipher.encryptBlock(self._prev)
  return self._prev
}

exports.encrypt = function (self, chunk) {
  while (self._cache.length < chunk.length) {
    self._cache = Buffer.concat([self._cache, getBlock(self)])
  }

  var pad = self._cache.slice(0, chunk.length)
  self._cache = self._cache.slice(chunk.length)
  return xor(chunk, pad)
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9tb2Rlcy9vZmIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciB4b3IgPSByZXF1aXJlKCdidWZmZXIteG9yJylcblxuZnVuY3Rpb24gZ2V0QmxvY2sgKHNlbGYpIHtcbiAgc2VsZi5fcHJldiA9IHNlbGYuX2NpcGhlci5lbmNyeXB0QmxvY2soc2VsZi5fcHJldilcbiAgcmV0dXJuIHNlbGYuX3ByZXZcbn1cblxuZXhwb3J0cy5lbmNyeXB0ID0gZnVuY3Rpb24gKHNlbGYsIGNodW5rKSB7XG4gIHdoaWxlIChzZWxmLl9jYWNoZS5sZW5ndGggPCBjaHVuay5sZW5ndGgpIHtcbiAgICBzZWxmLl9jYWNoZSA9IEJ1ZmZlci5jb25jYXQoW3NlbGYuX2NhY2hlLCBnZXRCbG9jayhzZWxmKV0pXG4gIH1cblxuICB2YXIgcGFkID0gc2VsZi5fY2FjaGUuc2xpY2UoMCwgY2h1bmsubGVuZ3RoKVxuICBzZWxmLl9jYWNoZSA9IHNlbGYuX2NhY2hlLnNsaWNlKGNodW5rLmxlbmd0aClcbiAgcmV0dXJuIHhvcihjaHVuaywgcGFkKVxufVxuIl19
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","buffer-xor":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/node_modules/buffer-xor/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes/ecb.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes/ecb.js"][0].apply(exports,arguments)
},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes/ctr.js":[function(require,module,exports){
(function (Buffer){
var xor = require('buffer-xor')

function incr32 (iv) {
  var len = iv.length
  var item
  while (len--) {
    item = iv.readUInt8(len)
    if (item === 255) {
      iv.writeUInt8(0, len)
    } else {
      item++
      iv.writeUInt8(item, len)
      break
    }
  }
}

function getBlock (self) {
  var out = self._cipher.encryptBlock(self._prev)
  incr32(self._prev)
  return out
}

exports.encrypt = function (self, chunk) {
  while (self._cache.length < chunk.length) {
    self._cache = Buffer.concat([self._cache, getBlock(self)])
  }
  var pad = self._cache.slice(0, chunk.length)
  self._cache = self._cache.slice(chunk.length)
  return xor(chunk, pad)
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9tb2Rlcy9jdHIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciB4b3IgPSByZXF1aXJlKCdidWZmZXIteG9yJylcblxuZnVuY3Rpb24gaW5jcjMyIChpdikge1xuICB2YXIgbGVuID0gaXYubGVuZ3RoXG4gIHZhciBpdGVtXG4gIHdoaWxlIChsZW4tLSkge1xuICAgIGl0ZW0gPSBpdi5yZWFkVUludDgobGVuKVxuICAgIGlmIChpdGVtID09PSAyNTUpIHtcbiAgICAgIGl2LndyaXRlVUludDgoMCwgbGVuKVxuICAgIH0gZWxzZSB7XG4gICAgICBpdGVtKytcbiAgICAgIGl2LndyaXRlVUludDgoaXRlbSwgbGVuKVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0QmxvY2sgKHNlbGYpIHtcbiAgdmFyIG91dCA9IHNlbGYuX2NpcGhlci5lbmNyeXB0QmxvY2soc2VsZi5fcHJldilcbiAgaW5jcjMyKHNlbGYuX3ByZXYpXG4gIHJldHVybiBvdXRcbn1cblxuZXhwb3J0cy5lbmNyeXB0ID0gZnVuY3Rpb24gKHNlbGYsIGNodW5rKSB7XG4gIHdoaWxlIChzZWxmLl9jYWNoZS5sZW5ndGggPCBjaHVuay5sZW5ndGgpIHtcbiAgICBzZWxmLl9jYWNoZSA9IEJ1ZmZlci5jb25jYXQoW3NlbGYuX2NhY2hlLCBnZXRCbG9jayhzZWxmKV0pXG4gIH1cbiAgdmFyIHBhZCA9IHNlbGYuX2NhY2hlLnNsaWNlKDAsIGNodW5rLmxlbmd0aClcbiAgc2VsZi5fY2FjaGUgPSBzZWxmLl9jYWNoZS5zbGljZShjaHVuay5sZW5ndGgpXG4gIHJldHVybiB4b3IoY2h1bmssIHBhZClcbn1cbiJdfQ==
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","buffer-xor":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/node_modules/buffer-xor/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes/cfb8.js":[function(require,module,exports){
(function (Buffer){
function encryptByte (self, byteParam, decrypt) {
  var pad = self._cipher.encryptBlock(self._prev)
  var out = pad[0] ^ byteParam
  self._prev = Buffer.concat([self._prev.slice(1), new Buffer([decrypt ? byteParam : out])])
  return out
}
exports.encrypt = function (self, chunk, decrypt) {
  var len = chunk.length
  var out = new Buffer(len)
  var i = -1
  while (++i < len) {
    out[i] = encryptByte(self, chunk[i], decrypt)
  }
  return out
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9tb2Rlcy9jZmI4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZW5jcnlwdEJ5dGUgKHNlbGYsIGJ5dGVQYXJhbSwgZGVjcnlwdCkge1xuICB2YXIgcGFkID0gc2VsZi5fY2lwaGVyLmVuY3J5cHRCbG9jayhzZWxmLl9wcmV2KVxuICB2YXIgb3V0ID0gcGFkWzBdIF4gYnl0ZVBhcmFtXG4gIHNlbGYuX3ByZXYgPSBCdWZmZXIuY29uY2F0KFtzZWxmLl9wcmV2LnNsaWNlKDEpLCBuZXcgQnVmZmVyKFtkZWNyeXB0ID8gYnl0ZVBhcmFtIDogb3V0XSldKVxuICByZXR1cm4gb3V0XG59XG5leHBvcnRzLmVuY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgY2h1bmssIGRlY3J5cHQpIHtcbiAgdmFyIGxlbiA9IGNodW5rLmxlbmd0aFxuICB2YXIgb3V0ID0gbmV3IEJ1ZmZlcihsZW4pXG4gIHZhciBpID0gLTFcbiAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgIG91dFtpXSA9IGVuY3J5cHRCeXRlKHNlbGYsIGNodW5rW2ldLCBkZWNyeXB0KVxuICB9XG4gIHJldHVybiBvdXRcbn1cbiJdfQ==
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes/cfb1.js":[function(require,module,exports){
(function (Buffer){
function encryptByte (self, byteParam, decrypt) {
  var pad
  var i = -1
  var len = 8
  var out = 0
  var bit, value
  while (++i < len) {
    pad = self._cipher.encryptBlock(self._prev)
    bit = (byteParam & (1 << (7 - i))) ? 0x80 : 0
    value = pad[0] ^ bit
    out += ((value & 0x80) >> (i % 8))
    self._prev = shiftIn(self._prev, decrypt ? bit : value)
  }
  return out
}
exports.encrypt = function (self, chunk, decrypt) {
  var len = chunk.length
  var out = new Buffer(len)
  var i = -1
  while (++i < len) {
    out[i] = encryptByte(self, chunk[i], decrypt)
  }
  return out
}
function shiftIn (buffer, value) {
  var len = buffer.length
  var i = -1
  var out = new Buffer(buffer.length)
  buffer = Buffer.concat([buffer, new Buffer([value])])
  while (++i < len) {
    out[i] = buffer[i] << 1 | buffer[i + 1] >> (7)
  }
  return out
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9tb2Rlcy9jZmIxLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBlbmNyeXB0Qnl0ZSAoc2VsZiwgYnl0ZVBhcmFtLCBkZWNyeXB0KSB7XG4gIHZhciBwYWRcbiAgdmFyIGkgPSAtMVxuICB2YXIgbGVuID0gOFxuICB2YXIgb3V0ID0gMFxuICB2YXIgYml0LCB2YWx1ZVxuICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgcGFkID0gc2VsZi5fY2lwaGVyLmVuY3J5cHRCbG9jayhzZWxmLl9wcmV2KVxuICAgIGJpdCA9IChieXRlUGFyYW0gJiAoMSA8PCAoNyAtIGkpKSkgPyAweDgwIDogMFxuICAgIHZhbHVlID0gcGFkWzBdIF4gYml0XG4gICAgb3V0ICs9ICgodmFsdWUgJiAweDgwKSA+PiAoaSAlIDgpKVxuICAgIHNlbGYuX3ByZXYgPSBzaGlmdEluKHNlbGYuX3ByZXYsIGRlY3J5cHQgPyBiaXQgOiB2YWx1ZSlcbiAgfVxuICByZXR1cm4gb3V0XG59XG5leHBvcnRzLmVuY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgY2h1bmssIGRlY3J5cHQpIHtcbiAgdmFyIGxlbiA9IGNodW5rLmxlbmd0aFxuICB2YXIgb3V0ID0gbmV3IEJ1ZmZlcihsZW4pXG4gIHZhciBpID0gLTFcbiAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgIG91dFtpXSA9IGVuY3J5cHRCeXRlKHNlbGYsIGNodW5rW2ldLCBkZWNyeXB0KVxuICB9XG4gIHJldHVybiBvdXRcbn1cbmZ1bmN0aW9uIHNoaWZ0SW4gKGJ1ZmZlciwgdmFsdWUpIHtcbiAgdmFyIGxlbiA9IGJ1ZmZlci5sZW5ndGhcbiAgdmFyIGkgPSAtMVxuICB2YXIgb3V0ID0gbmV3IEJ1ZmZlcihidWZmZXIubGVuZ3RoKVxuICBidWZmZXIgPSBCdWZmZXIuY29uY2F0KFtidWZmZXIsIG5ldyBCdWZmZXIoW3ZhbHVlXSldKVxuICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgb3V0W2ldID0gYnVmZmVyW2ldIDw8IDEgfCBidWZmZXJbaSArIDFdID4+ICg3KVxuICB9XG4gIHJldHVybiBvdXRcbn1cbiJdfQ==
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes/cfb.js":[function(require,module,exports){
(function (Buffer){
var xor = require('buffer-xor')

exports.encrypt = function (self, data, decrypt) {
  var out = new Buffer('')
  var len

  while (data.length) {
    if (self._cache.length === 0) {
      self._cache = self._cipher.encryptBlock(self._prev)
      self._prev = new Buffer('')
    }

    if (self._cache.length <= data.length) {
      len = self._cache.length
      out = Buffer.concat([out, encryptStart(self, data.slice(0, len), decrypt)])
      data = data.slice(len)
    } else {
      out = Buffer.concat([out, encryptStart(self, data, decrypt)])
      break
    }
  }

  return out
}
function encryptStart (self, data, decrypt) {
  var len = data.length
  var out = xor(data, self._cache)
  self._cache = self._cache.slice(len)
  self._prev = Buffer.concat([self._prev, decrypt ? data : out])
  return out
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9tb2Rlcy9jZmIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciB4b3IgPSByZXF1aXJlKCdidWZmZXIteG9yJylcblxuZXhwb3J0cy5lbmNyeXB0ID0gZnVuY3Rpb24gKHNlbGYsIGRhdGEsIGRlY3J5cHQpIHtcbiAgdmFyIG91dCA9IG5ldyBCdWZmZXIoJycpXG4gIHZhciBsZW5cblxuICB3aGlsZSAoZGF0YS5sZW5ndGgpIHtcbiAgICBpZiAoc2VsZi5fY2FjaGUubGVuZ3RoID09PSAwKSB7XG4gICAgICBzZWxmLl9jYWNoZSA9IHNlbGYuX2NpcGhlci5lbmNyeXB0QmxvY2soc2VsZi5fcHJldilcbiAgICAgIHNlbGYuX3ByZXYgPSBuZXcgQnVmZmVyKCcnKVxuICAgIH1cblxuICAgIGlmIChzZWxmLl9jYWNoZS5sZW5ndGggPD0gZGF0YS5sZW5ndGgpIHtcbiAgICAgIGxlbiA9IHNlbGYuX2NhY2hlLmxlbmd0aFxuICAgICAgb3V0ID0gQnVmZmVyLmNvbmNhdChbb3V0LCBlbmNyeXB0U3RhcnQoc2VsZiwgZGF0YS5zbGljZSgwLCBsZW4pLCBkZWNyeXB0KV0pXG4gICAgICBkYXRhID0gZGF0YS5zbGljZShsZW4pXG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCA9IEJ1ZmZlci5jb25jYXQoW291dCwgZW5jcnlwdFN0YXJ0KHNlbGYsIGRhdGEsIGRlY3J5cHQpXSlcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG91dFxufVxuZnVuY3Rpb24gZW5jcnlwdFN0YXJ0IChzZWxmLCBkYXRhLCBkZWNyeXB0KSB7XG4gIHZhciBsZW4gPSBkYXRhLmxlbmd0aFxuICB2YXIgb3V0ID0geG9yKGRhdGEsIHNlbGYuX2NhY2hlKVxuICBzZWxmLl9jYWNoZSA9IHNlbGYuX2NhY2hlLnNsaWNlKGxlbilcbiAgc2VsZi5fcHJldiA9IEJ1ZmZlci5jb25jYXQoW3NlbGYuX3ByZXYsIGRlY3J5cHQgPyBkYXRhIDogb3V0XSlcbiAgcmV0dXJuIG91dFxufVxuIl19
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","buffer-xor":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/node_modules/buffer-xor/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes/cbc.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes/cbc.js"][0].apply(exports,arguments)
},{"buffer-xor":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/node_modules/buffer-xor/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/modes.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes.js"][0].apply(exports,arguments)
},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/authCipher.js":[function(require,module,exports){
(function (Buffer){
var aes = require('./aes')
var Transform = require('cipher-base')
var inherits = require('inherits')
var GHASH = require('./ghash')
var xor = require('buffer-xor')
inherits(StreamCipher, Transform)
module.exports = StreamCipher

function StreamCipher (mode, key, iv, decrypt) {
  if (!(this instanceof StreamCipher)) {
    return new StreamCipher(mode, key, iv)
  }
  Transform.call(this)
  this._finID = Buffer.concat([iv, new Buffer([0, 0, 0, 1])])
  iv = Buffer.concat([iv, new Buffer([0, 0, 0, 2])])
  this._cipher = new aes.AES(key)
  this._prev = new Buffer(iv.length)
  this._cache = new Buffer('')
  this._secCache = new Buffer('')
  this._decrypt = decrypt
  this._alen = 0
  this._len = 0
  iv.copy(this._prev)
  this._mode = mode
  var h = new Buffer(4)
  h.fill(0)
  this._ghash = new GHASH(this._cipher.encryptBlock(h))
  this._authTag = null
  this._called = false
}
StreamCipher.prototype._update = function (chunk) {
  if (!this._called && this._alen) {
    var rump = 16 - (this._alen % 16)
    if (rump < 16) {
      rump = new Buffer(rump)
      rump.fill(0)
      this._ghash.update(rump)
    }
  }
  this._called = true
  var out = this._mode.encrypt(this, chunk)
  if (this._decrypt) {
    this._ghash.update(chunk)
  } else {
    this._ghash.update(out)
  }
  this._len += chunk.length
  return out
}
StreamCipher.prototype._final = function () {
  if (this._decrypt && !this._authTag) {
    throw new Error('Unsupported state or unable to authenticate data')
  }
  var tag = xor(this._ghash.final(this._alen * 8, this._len * 8), this._cipher.encryptBlock(this._finID))
  if (this._decrypt) {
    if (xorTest(tag, this._authTag)) {
      throw new Error('Unsupported state or unable to authenticate data')
    }
  } else {
    this._authTag = tag
  }
  this._cipher.scrub()
}
StreamCipher.prototype.getAuthTag = function getAuthTag () {
  if (!this._decrypt && Buffer.isBuffer(this._authTag)) {
    return this._authTag
  } else {
    throw new Error('Attempting to get auth tag in unsupported state')
  }
}
StreamCipher.prototype.setAuthTag = function setAuthTag (tag) {
  if (this._decrypt) {
    this._authTag = tag
  } else {
    throw new Error('Attempting to set auth tag in unsupported state')
  }
}
StreamCipher.prototype.setAAD = function setAAD (buf) {
  if (!this._called) {
    this._ghash.update(buf)
    this._alen += buf.length
  } else {
    throw new Error('Attempting to set AAD in unsupported state')
  }
}
function xorTest (a, b) {
  var out = 0
  if (a.length !== b.length) {
    out++
  }
  var len = Math.min(a.length, b.length)
  var i = -1
  while (++i < len) {
    out += (a[i] ^ b[i])
  }
  return out
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9hdXRoQ2lwaGVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgYWVzID0gcmVxdWlyZSgnLi9hZXMnKVxudmFyIFRyYW5zZm9ybSA9IHJlcXVpcmUoJ2NpcGhlci1iYXNlJylcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbnZhciBHSEFTSCA9IHJlcXVpcmUoJy4vZ2hhc2gnKVxudmFyIHhvciA9IHJlcXVpcmUoJ2J1ZmZlci14b3InKVxuaW5oZXJpdHMoU3RyZWFtQ2lwaGVyLCBUcmFuc2Zvcm0pXG5tb2R1bGUuZXhwb3J0cyA9IFN0cmVhbUNpcGhlclxuXG5mdW5jdGlvbiBTdHJlYW1DaXBoZXIgKG1vZGUsIGtleSwgaXYsIGRlY3J5cHQpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFN0cmVhbUNpcGhlcikpIHtcbiAgICByZXR1cm4gbmV3IFN0cmVhbUNpcGhlcihtb2RlLCBrZXksIGl2KVxuICB9XG4gIFRyYW5zZm9ybS5jYWxsKHRoaXMpXG4gIHRoaXMuX2ZpbklEID0gQnVmZmVyLmNvbmNhdChbaXYsIG5ldyBCdWZmZXIoWzAsIDAsIDAsIDFdKV0pXG4gIGl2ID0gQnVmZmVyLmNvbmNhdChbaXYsIG5ldyBCdWZmZXIoWzAsIDAsIDAsIDJdKV0pXG4gIHRoaXMuX2NpcGhlciA9IG5ldyBhZXMuQUVTKGtleSlcbiAgdGhpcy5fcHJldiA9IG5ldyBCdWZmZXIoaXYubGVuZ3RoKVxuICB0aGlzLl9jYWNoZSA9IG5ldyBCdWZmZXIoJycpXG4gIHRoaXMuX3NlY0NhY2hlID0gbmV3IEJ1ZmZlcignJylcbiAgdGhpcy5fZGVjcnlwdCA9IGRlY3J5cHRcbiAgdGhpcy5fYWxlbiA9IDBcbiAgdGhpcy5fbGVuID0gMFxuICBpdi5jb3B5KHRoaXMuX3ByZXYpXG4gIHRoaXMuX21vZGUgPSBtb2RlXG4gIHZhciBoID0gbmV3IEJ1ZmZlcig0KVxuICBoLmZpbGwoMClcbiAgdGhpcy5fZ2hhc2ggPSBuZXcgR0hBU0godGhpcy5fY2lwaGVyLmVuY3J5cHRCbG9jayhoKSlcbiAgdGhpcy5fYXV0aFRhZyA9IG51bGxcbiAgdGhpcy5fY2FsbGVkID0gZmFsc2Vcbn1cblN0cmVhbUNpcGhlci5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uIChjaHVuaykge1xuICBpZiAoIXRoaXMuX2NhbGxlZCAmJiB0aGlzLl9hbGVuKSB7XG4gICAgdmFyIHJ1bXAgPSAxNiAtICh0aGlzLl9hbGVuICUgMTYpXG4gICAgaWYgKHJ1bXAgPCAxNikge1xuICAgICAgcnVtcCA9IG5ldyBCdWZmZXIocnVtcClcbiAgICAgIHJ1bXAuZmlsbCgwKVxuICAgICAgdGhpcy5fZ2hhc2gudXBkYXRlKHJ1bXApXG4gICAgfVxuICB9XG4gIHRoaXMuX2NhbGxlZCA9IHRydWVcbiAgdmFyIG91dCA9IHRoaXMuX21vZGUuZW5jcnlwdCh0aGlzLCBjaHVuaylcbiAgaWYgKHRoaXMuX2RlY3J5cHQpIHtcbiAgICB0aGlzLl9naGFzaC51cGRhdGUoY2h1bmspXG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZ2hhc2gudXBkYXRlKG91dClcbiAgfVxuICB0aGlzLl9sZW4gKz0gY2h1bmsubGVuZ3RoXG4gIHJldHVybiBvdXRcbn1cblN0cmVhbUNpcGhlci5wcm90b3R5cGUuX2ZpbmFsID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5fZGVjcnlwdCAmJiAhdGhpcy5fYXV0aFRhZykge1xuICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgc3RhdGUgb3IgdW5hYmxlIHRvIGF1dGhlbnRpY2F0ZSBkYXRhJylcbiAgfVxuICB2YXIgdGFnID0geG9yKHRoaXMuX2doYXNoLmZpbmFsKHRoaXMuX2FsZW4gKiA4LCB0aGlzLl9sZW4gKiA4KSwgdGhpcy5fY2lwaGVyLmVuY3J5cHRCbG9jayh0aGlzLl9maW5JRCkpXG4gIGlmICh0aGlzLl9kZWNyeXB0KSB7XG4gICAgaWYgKHhvclRlc3QodGFnLCB0aGlzLl9hdXRoVGFnKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBzdGF0ZSBvciB1bmFibGUgdG8gYXV0aGVudGljYXRlIGRhdGEnKVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9hdXRoVGFnID0gdGFnXG4gIH1cbiAgdGhpcy5fY2lwaGVyLnNjcnViKClcbn1cblN0cmVhbUNpcGhlci5wcm90b3R5cGUuZ2V0QXV0aFRhZyA9IGZ1bmN0aW9uIGdldEF1dGhUYWcgKCkge1xuICBpZiAoIXRoaXMuX2RlY3J5cHQgJiYgQnVmZmVyLmlzQnVmZmVyKHRoaXMuX2F1dGhUYWcpKSB7XG4gICAgcmV0dXJuIHRoaXMuX2F1dGhUYWdcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0F0dGVtcHRpbmcgdG8gZ2V0IGF1dGggdGFnIGluIHVuc3VwcG9ydGVkIHN0YXRlJylcbiAgfVxufVxuU3RyZWFtQ2lwaGVyLnByb3RvdHlwZS5zZXRBdXRoVGFnID0gZnVuY3Rpb24gc2V0QXV0aFRhZyAodGFnKSB7XG4gIGlmICh0aGlzLl9kZWNyeXB0KSB7XG4gICAgdGhpcy5fYXV0aFRhZyA9IHRhZ1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignQXR0ZW1wdGluZyB0byBzZXQgYXV0aCB0YWcgaW4gdW5zdXBwb3J0ZWQgc3RhdGUnKVxuICB9XG59XG5TdHJlYW1DaXBoZXIucHJvdG90eXBlLnNldEFBRCA9IGZ1bmN0aW9uIHNldEFBRCAoYnVmKSB7XG4gIGlmICghdGhpcy5fY2FsbGVkKSB7XG4gICAgdGhpcy5fZ2hhc2gudXBkYXRlKGJ1ZilcbiAgICB0aGlzLl9hbGVuICs9IGJ1Zi5sZW5ndGhcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0F0dGVtcHRpbmcgdG8gc2V0IEFBRCBpbiB1bnN1cHBvcnRlZCBzdGF0ZScpXG4gIH1cbn1cbmZ1bmN0aW9uIHhvclRlc3QgKGEsIGIpIHtcbiAgdmFyIG91dCA9IDBcbiAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgIG91dCsrXG4gIH1cbiAgdmFyIGxlbiA9IE1hdGgubWluKGEubGVuZ3RoLCBiLmxlbmd0aClcbiAgdmFyIGkgPSAtMVxuICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgb3V0ICs9IChhW2ldIF4gYltpXSlcbiAgfVxuICByZXR1cm4gb3V0XG59XG4iXX0=
},{"./aes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/aes.js","./ghash":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/ghash.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","buffer-xor":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/node_modules/buffer-xor/index.js","cipher-base":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/node_modules/cipher-base/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/node_modules/cipher-base/index.js":[function(require,module,exports){
(function (Buffer){
var Transform = require('stream').Transform
var inherits = require('inherits')
var StringDecoder = require('string_decoder').StringDecoder
module.exports = CipherBase
inherits(CipherBase, Transform)
function CipherBase (hashMode) {
  Transform.call(this)
  this.hashMode = typeof hashMode === 'string'
  if (this.hashMode) {
    this[hashMode] = this._finalOrDigest
  } else {
    this.final = this._finalOrDigest
  }
  this._decoder = null
  this._encoding = null
}
CipherBase.prototype.update = function (data, inputEnc, outputEnc) {
  if (typeof data === 'string') {
    data = new Buffer(data, inputEnc)
  }
  var outData = this._update(data)
  if (this.hashMode) {
    return this
  }
  if (outputEnc) {
    outData = this._toString(outData, outputEnc)
  }
  return outData
}

CipherBase.prototype.setAutoPadding = function () {}

CipherBase.prototype.getAuthTag = function () {
  throw new Error('trying to get auth tag in unsupported state')
}

CipherBase.prototype.setAuthTag = function () {
  throw new Error('trying to set auth tag in unsupported state')
}

CipherBase.prototype.setAAD = function () {
  throw new Error('trying to set aad in unsupported state')
}

CipherBase.prototype._transform = function (data, _, next) {
  var err
  try {
    if (this.hashMode) {
      this._update(data)
    } else {
      this.push(this._update(data))
    }
  } catch (e) {
    err = e
  } finally {
    next(err)
  }
}
CipherBase.prototype._flush = function (done) {
  var err
  try {
    this.push(this._final())
  } catch (e) {
    err = e
  } finally {
    done(err)
  }
}
CipherBase.prototype._finalOrDigest = function (outputEnc) {
  var outData = this._final() || new Buffer('')
  if (outputEnc) {
    outData = this._toString(outData, outputEnc, true)
  }
  return outData
}

CipherBase.prototype._toString = function (value, enc, final) {
  if (!this._decoder) {
    this._decoder = new StringDecoder(enc)
    this._encoding = enc
  }
  if (this._encoding !== enc) {
    throw new Error('can\'t switch encodings')
  }
  var out = this._decoder.write(value)
  if (final) {
    out += this._decoder.end()
  }
  return out
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9ub2RlX21vZHVsZXMvY2lwaGVyLWJhc2UvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgVHJhbnNmb3JtID0gcmVxdWlyZSgnc3RyZWFtJykuVHJhbnNmb3JtXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG52YXIgU3RyaW5nRGVjb2RlciA9IHJlcXVpcmUoJ3N0cmluZ19kZWNvZGVyJykuU3RyaW5nRGVjb2RlclxubW9kdWxlLmV4cG9ydHMgPSBDaXBoZXJCYXNlXG5pbmhlcml0cyhDaXBoZXJCYXNlLCBUcmFuc2Zvcm0pXG5mdW5jdGlvbiBDaXBoZXJCYXNlIChoYXNoTW9kZSkge1xuICBUcmFuc2Zvcm0uY2FsbCh0aGlzKVxuICB0aGlzLmhhc2hNb2RlID0gdHlwZW9mIGhhc2hNb2RlID09PSAnc3RyaW5nJ1xuICBpZiAodGhpcy5oYXNoTW9kZSkge1xuICAgIHRoaXNbaGFzaE1vZGVdID0gdGhpcy5fZmluYWxPckRpZ2VzdFxuICB9IGVsc2Uge1xuICAgIHRoaXMuZmluYWwgPSB0aGlzLl9maW5hbE9yRGlnZXN0XG4gIH1cbiAgdGhpcy5fZGVjb2RlciA9IG51bGxcbiAgdGhpcy5fZW5jb2RpbmcgPSBudWxsXG59XG5DaXBoZXJCYXNlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSwgaW5wdXRFbmMsIG91dHB1dEVuYykge1xuICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgZGF0YSA9IG5ldyBCdWZmZXIoZGF0YSwgaW5wdXRFbmMpXG4gIH1cbiAgdmFyIG91dERhdGEgPSB0aGlzLl91cGRhdGUoZGF0YSlcbiAgaWYgKHRoaXMuaGFzaE1vZGUpIHtcbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIGlmIChvdXRwdXRFbmMpIHtcbiAgICBvdXREYXRhID0gdGhpcy5fdG9TdHJpbmcob3V0RGF0YSwgb3V0cHV0RW5jKVxuICB9XG4gIHJldHVybiBvdXREYXRhXG59XG5cbkNpcGhlckJhc2UucHJvdG90eXBlLnNldEF1dG9QYWRkaW5nID0gZnVuY3Rpb24gKCkge31cblxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuZ2V0QXV0aFRhZyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCd0cnlpbmcgdG8gZ2V0IGF1dGggdGFnIGluIHVuc3VwcG9ydGVkIHN0YXRlJylcbn1cblxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuc2V0QXV0aFRhZyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCd0cnlpbmcgdG8gc2V0IGF1dGggdGFnIGluIHVuc3VwcG9ydGVkIHN0YXRlJylcbn1cblxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuc2V0QUFEID0gZnVuY3Rpb24gKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ3RyeWluZyB0byBzZXQgYWFkIGluIHVuc3VwcG9ydGVkIHN0YXRlJylcbn1cblxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuX3RyYW5zZm9ybSA9IGZ1bmN0aW9uIChkYXRhLCBfLCBuZXh0KSB7XG4gIHZhciBlcnJcbiAgdHJ5IHtcbiAgICBpZiAodGhpcy5oYXNoTW9kZSkge1xuICAgICAgdGhpcy5fdXBkYXRlKGRhdGEpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHVzaCh0aGlzLl91cGRhdGUoZGF0YSkpXG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgZXJyID0gZVxuICB9IGZpbmFsbHkge1xuICAgIG5leHQoZXJyKVxuICB9XG59XG5DaXBoZXJCYXNlLnByb3RvdHlwZS5fZmx1c2ggPSBmdW5jdGlvbiAoZG9uZSkge1xuICB2YXIgZXJyXG4gIHRyeSB7XG4gICAgdGhpcy5wdXNoKHRoaXMuX2ZpbmFsKCkpXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlcnIgPSBlXG4gIH0gZmluYWxseSB7XG4gICAgZG9uZShlcnIpXG4gIH1cbn1cbkNpcGhlckJhc2UucHJvdG90eXBlLl9maW5hbE9yRGlnZXN0ID0gZnVuY3Rpb24gKG91dHB1dEVuYykge1xuICB2YXIgb3V0RGF0YSA9IHRoaXMuX2ZpbmFsKCkgfHwgbmV3IEJ1ZmZlcignJylcbiAgaWYgKG91dHB1dEVuYykge1xuICAgIG91dERhdGEgPSB0aGlzLl90b1N0cmluZyhvdXREYXRhLCBvdXRwdXRFbmMsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG91dERhdGFcbn1cblxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKHZhbHVlLCBlbmMsIGZpbmFsKSB7XG4gIGlmICghdGhpcy5fZGVjb2Rlcikge1xuICAgIHRoaXMuX2RlY29kZXIgPSBuZXcgU3RyaW5nRGVjb2RlcihlbmMpXG4gICAgdGhpcy5fZW5jb2RpbmcgPSBlbmNcbiAgfVxuICBpZiAodGhpcy5fZW5jb2RpbmcgIT09IGVuYykge1xuICAgIHRocm93IG5ldyBFcnJvcignY2FuXFwndCBzd2l0Y2ggZW5jb2RpbmdzJylcbiAgfVxuICB2YXIgb3V0ID0gdGhpcy5fZGVjb2Rlci53cml0ZSh2YWx1ZSlcbiAgaWYgKGZpbmFsKSB7XG4gICAgb3V0ICs9IHRoaXMuX2RlY29kZXIuZW5kKClcbiAgfVxuICByZXR1cm4gb3V0XG59XG4iXX0=
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js","stream":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/stream-browserify/index.js","string_decoder":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/string_decoder/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/node_modules/buffer-xor/index.js":[function(require,module,exports){
(function (Buffer){
module.exports = function xor (a, b) {
  var length = Math.min(a.length, b.length)
  var buffer = new Buffer(length)

  for (var i = 0; i < length; ++i) {
    buffer[i] = a[i] ^ b[i]
  }

  return buffer
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9ub2RlX21vZHVsZXMvYnVmZmVyLXhvci9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB4b3IgKGEsIGIpIHtcbiAgdmFyIGxlbmd0aCA9IE1hdGgubWluKGEubGVuZ3RoLCBiLmxlbmd0aClcbiAgdmFyIGJ1ZmZlciA9IG5ldyBCdWZmZXIobGVuZ3RoKVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICBidWZmZXJbaV0gPSBhW2ldIF4gYltpXVxuICB9XG5cbiAgcmV0dXJuIGJ1ZmZlclxufVxuIl19
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/ghash.js":[function(require,module,exports){
(function (Buffer){
var zeros = new Buffer(16)
zeros.fill(0)
module.exports = GHASH
function GHASH (key) {
  this.h = key
  this.state = new Buffer(16)
  this.state.fill(0)
  this.cache = new Buffer('')
}
// from http://bitwiseshiftleft.github.io/sjcl/doc/symbols/src/core_gcm.js.html
// by Juho Vh-Herttua
GHASH.prototype.ghash = function (block) {
  var i = -1
  while (++i < block.length) {
    this.state[i] ^= block[i]
  }
  this._multiply()
}

GHASH.prototype._multiply = function () {
  var Vi = toArray(this.h)
  var Zi = [0, 0, 0, 0]
  var j, xi, lsb_Vi
  var i = -1
  while (++i < 128) {
    xi = (this.state[~~(i / 8)] & (1 << (7 - i % 8))) !== 0
    if (xi) {
      // Z_i+1 = Z_i ^ V_i
      Zi = xor(Zi, Vi)
    }

    // Store the value of LSB(V_i)
    lsb_Vi = (Vi[3] & 1) !== 0

    // V_i+1 = V_i >> 1
    for (j = 3; j > 0; j--) {
      Vi[j] = (Vi[j] >>> 1) | ((Vi[j - 1] & 1) << 31)
    }
    Vi[0] = Vi[0] >>> 1

    // If LSB(V_i) is 1, V_i+1 = (V_i >> 1) ^ R
    if (lsb_Vi) {
      Vi[0] = Vi[0] ^ (0xe1 << 24)
    }
  }
  this.state = fromArray(Zi)
}
GHASH.prototype.update = function (buf) {
  this.cache = Buffer.concat([this.cache, buf])
  var chunk
  while (this.cache.length >= 16) {
    chunk = this.cache.slice(0, 16)
    this.cache = this.cache.slice(16)
    this.ghash(chunk)
  }
}
GHASH.prototype.final = function (abl, bl) {
  if (this.cache.length) {
    this.ghash(Buffer.concat([this.cache, zeros], 16))
  }
  this.ghash(fromArray([
    0, abl,
    0, bl
  ]))
  return this.state
}

function toArray (buf) {
  return [
    buf.readUInt32BE(0),
    buf.readUInt32BE(4),
    buf.readUInt32BE(8),
    buf.readUInt32BE(12)
  ]
}
function fromArray (out) {
  out = out.map(fixup_uint32)
  var buf = new Buffer(16)
  buf.writeUInt32BE(out[0], 0)
  buf.writeUInt32BE(out[1], 4)
  buf.writeUInt32BE(out[2], 8)
  buf.writeUInt32BE(out[3], 12)
  return buf
}
var uint_max = Math.pow(2, 32)
function fixup_uint32 (x) {
  var ret, x_pos
  ret = x > uint_max || x < 0 ? (x_pos = Math.abs(x) % uint_max, x < 0 ? uint_max - x_pos : x_pos) : x
  return ret
}
function xor (a, b) {
  return [
    a[0] ^ b[0],
    a[1] ^ b[1],
    a[2] ^ b[2],
    a[3] ^ b[3]
  ]
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9naGFzaC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgemVyb3MgPSBuZXcgQnVmZmVyKDE2KVxuemVyb3MuZmlsbCgwKVxubW9kdWxlLmV4cG9ydHMgPSBHSEFTSFxuZnVuY3Rpb24gR0hBU0ggKGtleSkge1xuICB0aGlzLmggPSBrZXlcbiAgdGhpcy5zdGF0ZSA9IG5ldyBCdWZmZXIoMTYpXG4gIHRoaXMuc3RhdGUuZmlsbCgwKVxuICB0aGlzLmNhY2hlID0gbmV3IEJ1ZmZlcignJylcbn1cbi8vIGZyb20gaHR0cDovL2JpdHdpc2VzaGlmdGxlZnQuZ2l0aHViLmlvL3NqY2wvZG9jL3N5bWJvbHMvc3JjL2NvcmVfZ2NtLmpzLmh0bWxcbi8vIGJ5IEp1aG8gVsOkaMOkLUhlcnR0dWFcbkdIQVNILnByb3RvdHlwZS5naGFzaCA9IGZ1bmN0aW9uIChibG9jaykge1xuICB2YXIgaSA9IC0xXG4gIHdoaWxlICgrK2kgPCBibG9jay5sZW5ndGgpIHtcbiAgICB0aGlzLnN0YXRlW2ldIF49IGJsb2NrW2ldXG4gIH1cbiAgdGhpcy5fbXVsdGlwbHkoKVxufVxuXG5HSEFTSC5wcm90b3R5cGUuX211bHRpcGx5ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgVmkgPSB0b0FycmF5KHRoaXMuaClcbiAgdmFyIFppID0gWzAsIDAsIDAsIDBdXG4gIHZhciBqLCB4aSwgbHNiX1ZpXG4gIHZhciBpID0gLTFcbiAgd2hpbGUgKCsraSA8IDEyOCkge1xuICAgIHhpID0gKHRoaXMuc3RhdGVbfn4oaSAvIDgpXSAmICgxIDw8ICg3IC0gaSAlIDgpKSkgIT09IDBcbiAgICBpZiAoeGkpIHtcbiAgICAgIC8vIFpfaSsxID0gWl9pIF4gVl9pXG4gICAgICBaaSA9IHhvcihaaSwgVmkpXG4gICAgfVxuXG4gICAgLy8gU3RvcmUgdGhlIHZhbHVlIG9mIExTQihWX2kpXG4gICAgbHNiX1ZpID0gKFZpWzNdICYgMSkgIT09IDBcblxuICAgIC8vIFZfaSsxID0gVl9pID4+IDFcbiAgICBmb3IgKGogPSAzOyBqID4gMDsgai0tKSB7XG4gICAgICBWaVtqXSA9IChWaVtqXSA+Pj4gMSkgfCAoKFZpW2ogLSAxXSAmIDEpIDw8IDMxKVxuICAgIH1cbiAgICBWaVswXSA9IFZpWzBdID4+PiAxXG5cbiAgICAvLyBJZiBMU0IoVl9pKSBpcyAxLCBWX2krMSA9IChWX2kgPj4gMSkgXiBSXG4gICAgaWYgKGxzYl9WaSkge1xuICAgICAgVmlbMF0gPSBWaVswXSBeICgweGUxIDw8IDI0KVxuICAgIH1cbiAgfVxuICB0aGlzLnN0YXRlID0gZnJvbUFycmF5KFppKVxufVxuR0hBU0gucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChidWYpIHtcbiAgdGhpcy5jYWNoZSA9IEJ1ZmZlci5jb25jYXQoW3RoaXMuY2FjaGUsIGJ1Zl0pXG4gIHZhciBjaHVua1xuICB3aGlsZSAodGhpcy5jYWNoZS5sZW5ndGggPj0gMTYpIHtcbiAgICBjaHVuayA9IHRoaXMuY2FjaGUuc2xpY2UoMCwgMTYpXG4gICAgdGhpcy5jYWNoZSA9IHRoaXMuY2FjaGUuc2xpY2UoMTYpXG4gICAgdGhpcy5naGFzaChjaHVuaylcbiAgfVxufVxuR0hBU0gucHJvdG90eXBlLmZpbmFsID0gZnVuY3Rpb24gKGFibCwgYmwpIHtcbiAgaWYgKHRoaXMuY2FjaGUubGVuZ3RoKSB7XG4gICAgdGhpcy5naGFzaChCdWZmZXIuY29uY2F0KFt0aGlzLmNhY2hlLCB6ZXJvc10sIDE2KSlcbiAgfVxuICB0aGlzLmdoYXNoKGZyb21BcnJheShbXG4gICAgMCwgYWJsLFxuICAgIDAsIGJsXG4gIF0pKVxuICByZXR1cm4gdGhpcy5zdGF0ZVxufVxuXG5mdW5jdGlvbiB0b0FycmF5IChidWYpIHtcbiAgcmV0dXJuIFtcbiAgICBidWYucmVhZFVJbnQzMkJFKDApLFxuICAgIGJ1Zi5yZWFkVUludDMyQkUoNCksXG4gICAgYnVmLnJlYWRVSW50MzJCRSg4KSxcbiAgICBidWYucmVhZFVJbnQzMkJFKDEyKVxuICBdXG59XG5mdW5jdGlvbiBmcm9tQXJyYXkgKG91dCkge1xuICBvdXQgPSBvdXQubWFwKGZpeHVwX3VpbnQzMilcbiAgdmFyIGJ1ZiA9IG5ldyBCdWZmZXIoMTYpXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFswXSwgMClcbiAgYnVmLndyaXRlVUludDMyQkUob3V0WzFdLCA0KVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbMl0sIDgpXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFszXSwgMTIpXG4gIHJldHVybiBidWZcbn1cbnZhciB1aW50X21heCA9IE1hdGgucG93KDIsIDMyKVxuZnVuY3Rpb24gZml4dXBfdWludDMyICh4KSB7XG4gIHZhciByZXQsIHhfcG9zXG4gIHJldCA9IHggPiB1aW50X21heCB8fCB4IDwgMCA/ICh4X3BvcyA9IE1hdGguYWJzKHgpICUgdWludF9tYXgsIHggPCAwID8gdWludF9tYXggLSB4X3BvcyA6IHhfcG9zKSA6IHhcbiAgcmV0dXJuIHJldFxufVxuZnVuY3Rpb24geG9yIChhLCBiKSB7XG4gIHJldHVybiBbXG4gICAgYVswXSBeIGJbMF0sXG4gICAgYVsxXSBeIGJbMV0sXG4gICAgYVsyXSBeIGJbMl0sXG4gICAgYVszXSBeIGJbM11cbiAgXVxufVxuIl19
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/browserify-aes/aes.js":[function(require,module,exports){
(function (Buffer){
// based on the aes implimentation in triple sec
// https://github.com/keybase/triplesec

// which is in turn based on the one from crypto-js
// https://code.google.com/p/crypto-js/

var uint_max = Math.pow(2, 32)
function fixup_uint32 (x) {
  var ret, x_pos
  ret = x > uint_max || x < 0 ? (x_pos = Math.abs(x) % uint_max, x < 0 ? uint_max - x_pos : x_pos) : x
  return ret
}
function scrub_vec (v) {
  for (var i = 0; i < v.length; v++) {
    v[i] = 0
  }
  return false
}

function Global () {
  this.SBOX = []
  this.INV_SBOX = []
  this.SUB_MIX = [[], [], [], []]
  this.INV_SUB_MIX = [[], [], [], []]
  this.init()
  this.RCON = [0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80, 0x1b, 0x36]
}

Global.prototype.init = function () {
  var d, i, sx, t, x, x2, x4, x8, xi, _i
  d = (function () {
    var _i, _results
    _results = []
    for (i = _i = 0; _i < 256; i = ++_i) {
      if (i < 128) {
        _results.push(i << 1)
      } else {
        _results.push((i << 1) ^ 0x11b)
      }
    }
    return _results
  })()
  x = 0
  xi = 0
  for (i = _i = 0; _i < 256; i = ++_i) {
    sx = xi ^ (xi << 1) ^ (xi << 2) ^ (xi << 3) ^ (xi << 4)
    sx = (sx >>> 8) ^ (sx & 0xff) ^ 0x63
    this.SBOX[x] = sx
    this.INV_SBOX[sx] = x
    x2 = d[x]
    x4 = d[x2]
    x8 = d[x4]
    t = (d[sx] * 0x101) ^ (sx * 0x1010100)
    this.SUB_MIX[0][x] = (t << 24) | (t >>> 8)
    this.SUB_MIX[1][x] = (t << 16) | (t >>> 16)
    this.SUB_MIX[2][x] = (t << 8) | (t >>> 24)
    this.SUB_MIX[3][x] = t
    t = (x8 * 0x1010101) ^ (x4 * 0x10001) ^ (x2 * 0x101) ^ (x * 0x1010100)
    this.INV_SUB_MIX[0][sx] = (t << 24) | (t >>> 8)
    this.INV_SUB_MIX[1][sx] = (t << 16) | (t >>> 16)
    this.INV_SUB_MIX[2][sx] = (t << 8) | (t >>> 24)
    this.INV_SUB_MIX[3][sx] = t
    if (x === 0) {
      x = xi = 1
    } else {
      x = x2 ^ d[d[d[x8 ^ x2]]]
      xi ^= d[d[xi]]
    }
  }
  return true
}

var G = new Global()

AES.blockSize = 4 * 4

AES.prototype.blockSize = AES.blockSize

AES.keySize = 256 / 8

AES.prototype.keySize = AES.keySize

function bufferToArray (buf) {
  var len = buf.length / 4
  var out = new Array(len)
  var i = -1
  while (++i < len) {
    out[i] = buf.readUInt32BE(i * 4)
  }
  return out
}
function AES (key) {
  this._key = bufferToArray(key)
  this._doReset()
}

AES.prototype._doReset = function () {
  var invKsRow, keySize, keyWords, ksRow, ksRows, t
  keyWords = this._key
  keySize = keyWords.length
  this._nRounds = keySize + 6
  ksRows = (this._nRounds + 1) * 4
  this._keySchedule = []
  for (ksRow = 0; ksRow < ksRows; ksRow++) {
    this._keySchedule[ksRow] = ksRow < keySize ? keyWords[ksRow] : (t = this._keySchedule[ksRow - 1], (ksRow % keySize) === 0 ? (t = (t << 8) | (t >>> 24), t = (G.SBOX[t >>> 24] << 24) | (G.SBOX[(t >>> 16) & 0xff] << 16) | (G.SBOX[(t >>> 8) & 0xff] << 8) | G.SBOX[t & 0xff], t ^= G.RCON[(ksRow / keySize) | 0] << 24) : keySize > 6 && ksRow % keySize === 4 ? t = (G.SBOX[t >>> 24] << 24) | (G.SBOX[(t >>> 16) & 0xff] << 16) | (G.SBOX[(t >>> 8) & 0xff] << 8) | G.SBOX[t & 0xff] : void 0, this._keySchedule[ksRow - keySize] ^ t)
  }
  this._invKeySchedule = []
  for (invKsRow = 0; invKsRow < ksRows; invKsRow++) {
    ksRow = ksRows - invKsRow
    t = this._keySchedule[ksRow - (invKsRow % 4 ? 0 : 4)]
    this._invKeySchedule[invKsRow] = invKsRow < 4 || ksRow <= 4 ? t : G.INV_SUB_MIX[0][G.SBOX[t >>> 24]] ^ G.INV_SUB_MIX[1][G.SBOX[(t >>> 16) & 0xff]] ^ G.INV_SUB_MIX[2][G.SBOX[(t >>> 8) & 0xff]] ^ G.INV_SUB_MIX[3][G.SBOX[t & 0xff]]
  }
  return true
}

AES.prototype.encryptBlock = function (M) {
  M = bufferToArray(new Buffer(M))
  var out = this._doCryptBlock(M, this._keySchedule, G.SUB_MIX, G.SBOX)
  var buf = new Buffer(16)
  buf.writeUInt32BE(out[0], 0)
  buf.writeUInt32BE(out[1], 4)
  buf.writeUInt32BE(out[2], 8)
  buf.writeUInt32BE(out[3], 12)
  return buf
}

AES.prototype.decryptBlock = function (M) {
  M = bufferToArray(new Buffer(M))
  var temp = [M[3], M[1]]
  M[1] = temp[0]
  M[3] = temp[1]
  var out = this._doCryptBlock(M, this._invKeySchedule, G.INV_SUB_MIX, G.INV_SBOX)
  var buf = new Buffer(16)
  buf.writeUInt32BE(out[0], 0)
  buf.writeUInt32BE(out[3], 4)
  buf.writeUInt32BE(out[2], 8)
  buf.writeUInt32BE(out[1], 12)
  return buf
}

AES.prototype.scrub = function () {
  scrub_vec(this._keySchedule)
  scrub_vec(this._invKeySchedule)
  scrub_vec(this._key)
}

AES.prototype._doCryptBlock = function (M, keySchedule, SUB_MIX, SBOX) {
  var ksRow, s0, s1, s2, s3, t0, t1, t2, t3

  s0 = M[0] ^ keySchedule[0]
  s1 = M[1] ^ keySchedule[1]
  s2 = M[2] ^ keySchedule[2]
  s3 = M[3] ^ keySchedule[3]
  ksRow = 4
  for (var round = 1; round < this._nRounds; round++) {
    t0 = SUB_MIX[0][s0 >>> 24] ^ SUB_MIX[1][(s1 >>> 16) & 0xff] ^ SUB_MIX[2][(s2 >>> 8) & 0xff] ^ SUB_MIX[3][s3 & 0xff] ^ keySchedule[ksRow++]
    t1 = SUB_MIX[0][s1 >>> 24] ^ SUB_MIX[1][(s2 >>> 16) & 0xff] ^ SUB_MIX[2][(s3 >>> 8) & 0xff] ^ SUB_MIX[3][s0 & 0xff] ^ keySchedule[ksRow++]
    t2 = SUB_MIX[0][s2 >>> 24] ^ SUB_MIX[1][(s3 >>> 16) & 0xff] ^ SUB_MIX[2][(s0 >>> 8) & 0xff] ^ SUB_MIX[3][s1 & 0xff] ^ keySchedule[ksRow++]
    t3 = SUB_MIX[0][s3 >>> 24] ^ SUB_MIX[1][(s0 >>> 16) & 0xff] ^ SUB_MIX[2][(s1 >>> 8) & 0xff] ^ SUB_MIX[3][s2 & 0xff] ^ keySchedule[ksRow++]
    s0 = t0
    s1 = t1
    s2 = t2
    s3 = t3
  }
  t0 = ((SBOX[s0 >>> 24] << 24) | (SBOX[(s1 >>> 16) & 0xff] << 16) | (SBOX[(s2 >>> 8) & 0xff] << 8) | SBOX[s3 & 0xff]) ^ keySchedule[ksRow++]
  t1 = ((SBOX[s1 >>> 24] << 24) | (SBOX[(s2 >>> 16) & 0xff] << 16) | (SBOX[(s3 >>> 8) & 0xff] << 8) | SBOX[s0 & 0xff]) ^ keySchedule[ksRow++]
  t2 = ((SBOX[s2 >>> 24] << 24) | (SBOX[(s3 >>> 16) & 0xff] << 16) | (SBOX[(s0 >>> 8) & 0xff] << 8) | SBOX[s1 & 0xff]) ^ keySchedule[ksRow++]
  t3 = ((SBOX[s3 >>> 24] << 24) | (SBOX[(s0 >>> 16) & 0xff] << 16) | (SBOX[(s1 >>> 8) & 0xff] << 8) | SBOX[s2 & 0xff]) ^ keySchedule[ksRow++]
  return [
    fixup_uint32(t0),
    fixup_uint32(t1),
    fixup_uint32(t2),
    fixup_uint32(t3)
  ]
}

exports.AES = AES

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9hZXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBiYXNlZCBvbiB0aGUgYWVzIGltcGxpbWVudGF0aW9uIGluIHRyaXBsZSBzZWNcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9rZXliYXNlL3RyaXBsZXNlY1xuXG4vLyB3aGljaCBpcyBpbiB0dXJuIGJhc2VkIG9uIHRoZSBvbmUgZnJvbSBjcnlwdG8tanNcbi8vIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY3J5cHRvLWpzL1xuXG52YXIgdWludF9tYXggPSBNYXRoLnBvdygyLCAzMilcbmZ1bmN0aW9uIGZpeHVwX3VpbnQzMiAoeCkge1xuICB2YXIgcmV0LCB4X3Bvc1xuICByZXQgPSB4ID4gdWludF9tYXggfHwgeCA8IDAgPyAoeF9wb3MgPSBNYXRoLmFicyh4KSAlIHVpbnRfbWF4LCB4IDwgMCA/IHVpbnRfbWF4IC0geF9wb3MgOiB4X3BvcykgOiB4XG4gIHJldHVybiByZXRcbn1cbmZ1bmN0aW9uIHNjcnViX3ZlYyAodikge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHYubGVuZ3RoOyB2KyspIHtcbiAgICB2W2ldID0gMFxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBHbG9iYWwgKCkge1xuICB0aGlzLlNCT1ggPSBbXVxuICB0aGlzLklOVl9TQk9YID0gW11cbiAgdGhpcy5TVUJfTUlYID0gW1tdLCBbXSwgW10sIFtdXVxuICB0aGlzLklOVl9TVUJfTUlYID0gW1tdLCBbXSwgW10sIFtdXVxuICB0aGlzLmluaXQoKVxuICB0aGlzLlJDT04gPSBbMHgwMCwgMHgwMSwgMHgwMiwgMHgwNCwgMHgwOCwgMHgxMCwgMHgyMCwgMHg0MCwgMHg4MCwgMHgxYiwgMHgzNl1cbn1cblxuR2xvYmFsLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgZCwgaSwgc3gsIHQsIHgsIHgyLCB4NCwgeDgsIHhpLCBfaVxuICBkID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2ksIF9yZXN1bHRzXG4gICAgX3Jlc3VsdHMgPSBbXVxuICAgIGZvciAoaSA9IF9pID0gMDsgX2kgPCAyNTY7IGkgPSArK19pKSB7XG4gICAgICBpZiAoaSA8IDEyOCkge1xuICAgICAgICBfcmVzdWx0cy5wdXNoKGkgPDwgMSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9yZXN1bHRzLnB1c2goKGkgPDwgMSkgXiAweDExYilcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIF9yZXN1bHRzXG4gIH0pKClcbiAgeCA9IDBcbiAgeGkgPSAwXG4gIGZvciAoaSA9IF9pID0gMDsgX2kgPCAyNTY7IGkgPSArK19pKSB7XG4gICAgc3ggPSB4aSBeICh4aSA8PCAxKSBeICh4aSA8PCAyKSBeICh4aSA8PCAzKSBeICh4aSA8PCA0KVxuICAgIHN4ID0gKHN4ID4+PiA4KSBeIChzeCAmIDB4ZmYpIF4gMHg2M1xuICAgIHRoaXMuU0JPWFt4XSA9IHN4XG4gICAgdGhpcy5JTlZfU0JPWFtzeF0gPSB4XG4gICAgeDIgPSBkW3hdXG4gICAgeDQgPSBkW3gyXVxuICAgIHg4ID0gZFt4NF1cbiAgICB0ID0gKGRbc3hdICogMHgxMDEpIF4gKHN4ICogMHgxMDEwMTAwKVxuICAgIHRoaXMuU1VCX01JWFswXVt4XSA9ICh0IDw8IDI0KSB8ICh0ID4+PiA4KVxuICAgIHRoaXMuU1VCX01JWFsxXVt4XSA9ICh0IDw8IDE2KSB8ICh0ID4+PiAxNilcbiAgICB0aGlzLlNVQl9NSVhbMl1beF0gPSAodCA8PCA4KSB8ICh0ID4+PiAyNClcbiAgICB0aGlzLlNVQl9NSVhbM11beF0gPSB0XG4gICAgdCA9ICh4OCAqIDB4MTAxMDEwMSkgXiAoeDQgKiAweDEwMDAxKSBeICh4MiAqIDB4MTAxKSBeICh4ICogMHgxMDEwMTAwKVxuICAgIHRoaXMuSU5WX1NVQl9NSVhbMF1bc3hdID0gKHQgPDwgMjQpIHwgKHQgPj4+IDgpXG4gICAgdGhpcy5JTlZfU1VCX01JWFsxXVtzeF0gPSAodCA8PCAxNikgfCAodCA+Pj4gMTYpXG4gICAgdGhpcy5JTlZfU1VCX01JWFsyXVtzeF0gPSAodCA8PCA4KSB8ICh0ID4+PiAyNClcbiAgICB0aGlzLklOVl9TVUJfTUlYWzNdW3N4XSA9IHRcbiAgICBpZiAoeCA9PT0gMCkge1xuICAgICAgeCA9IHhpID0gMVxuICAgIH0gZWxzZSB7XG4gICAgICB4ID0geDIgXiBkW2RbZFt4OCBeIHgyXV1dXG4gICAgICB4aSBePSBkW2RbeGldXVxuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuXG52YXIgRyA9IG5ldyBHbG9iYWwoKVxuXG5BRVMuYmxvY2tTaXplID0gNCAqIDRcblxuQUVTLnByb3RvdHlwZS5ibG9ja1NpemUgPSBBRVMuYmxvY2tTaXplXG5cbkFFUy5rZXlTaXplID0gMjU2IC8gOFxuXG5BRVMucHJvdG90eXBlLmtleVNpemUgPSBBRVMua2V5U2l6ZVxuXG5mdW5jdGlvbiBidWZmZXJUb0FycmF5IChidWYpIHtcbiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGggLyA0XG4gIHZhciBvdXQgPSBuZXcgQXJyYXkobGVuKVxuICB2YXIgaSA9IC0xXG4gIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICBvdXRbaV0gPSBidWYucmVhZFVJbnQzMkJFKGkgKiA0KVxuICB9XG4gIHJldHVybiBvdXRcbn1cbmZ1bmN0aW9uIEFFUyAoa2V5KSB7XG4gIHRoaXMuX2tleSA9IGJ1ZmZlclRvQXJyYXkoa2V5KVxuICB0aGlzLl9kb1Jlc2V0KClcbn1cblxuQUVTLnByb3RvdHlwZS5fZG9SZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGludktzUm93LCBrZXlTaXplLCBrZXlXb3Jkcywga3NSb3csIGtzUm93cywgdFxuICBrZXlXb3JkcyA9IHRoaXMuX2tleVxuICBrZXlTaXplID0ga2V5V29yZHMubGVuZ3RoXG4gIHRoaXMuX25Sb3VuZHMgPSBrZXlTaXplICsgNlxuICBrc1Jvd3MgPSAodGhpcy5fblJvdW5kcyArIDEpICogNFxuICB0aGlzLl9rZXlTY2hlZHVsZSA9IFtdXG4gIGZvciAoa3NSb3cgPSAwOyBrc1JvdyA8IGtzUm93czsga3NSb3crKykge1xuICAgIHRoaXMuX2tleVNjaGVkdWxlW2tzUm93XSA9IGtzUm93IDwga2V5U2l6ZSA/IGtleVdvcmRzW2tzUm93XSA6ICh0ID0gdGhpcy5fa2V5U2NoZWR1bGVba3NSb3cgLSAxXSwgKGtzUm93ICUga2V5U2l6ZSkgPT09IDAgPyAodCA9ICh0IDw8IDgpIHwgKHQgPj4+IDI0KSwgdCA9IChHLlNCT1hbdCA+Pj4gMjRdIDw8IDI0KSB8IChHLlNCT1hbKHQgPj4+IDE2KSAmIDB4ZmZdIDw8IDE2KSB8IChHLlNCT1hbKHQgPj4+IDgpICYgMHhmZl0gPDwgOCkgfCBHLlNCT1hbdCAmIDB4ZmZdLCB0IF49IEcuUkNPTlsoa3NSb3cgLyBrZXlTaXplKSB8IDBdIDw8IDI0KSA6IGtleVNpemUgPiA2ICYmIGtzUm93ICUga2V5U2l6ZSA9PT0gNCA/IHQgPSAoRy5TQk9YW3QgPj4+IDI0XSA8PCAyNCkgfCAoRy5TQk9YWyh0ID4+PiAxNikgJiAweGZmXSA8PCAxNikgfCAoRy5TQk9YWyh0ID4+PiA4KSAmIDB4ZmZdIDw8IDgpIHwgRy5TQk9YW3QgJiAweGZmXSA6IHZvaWQgMCwgdGhpcy5fa2V5U2NoZWR1bGVba3NSb3cgLSBrZXlTaXplXSBeIHQpXG4gIH1cbiAgdGhpcy5faW52S2V5U2NoZWR1bGUgPSBbXVxuICBmb3IgKGludktzUm93ID0gMDsgaW52S3NSb3cgPCBrc1Jvd3M7IGludktzUm93KyspIHtcbiAgICBrc1JvdyA9IGtzUm93cyAtIGludktzUm93XG4gICAgdCA9IHRoaXMuX2tleVNjaGVkdWxlW2tzUm93IC0gKGludktzUm93ICUgNCA/IDAgOiA0KV1cbiAgICB0aGlzLl9pbnZLZXlTY2hlZHVsZVtpbnZLc1Jvd10gPSBpbnZLc1JvdyA8IDQgfHwga3NSb3cgPD0gNCA/IHQgOiBHLklOVl9TVUJfTUlYWzBdW0cuU0JPWFt0ID4+PiAyNF1dIF4gRy5JTlZfU1VCX01JWFsxXVtHLlNCT1hbKHQgPj4+IDE2KSAmIDB4ZmZdXSBeIEcuSU5WX1NVQl9NSVhbMl1bRy5TQk9YWyh0ID4+PiA4KSAmIDB4ZmZdXSBeIEcuSU5WX1NVQl9NSVhbM11bRy5TQk9YW3QgJiAweGZmXV1cbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuXG5BRVMucHJvdG90eXBlLmVuY3J5cHRCbG9jayA9IGZ1bmN0aW9uIChNKSB7XG4gIE0gPSBidWZmZXJUb0FycmF5KG5ldyBCdWZmZXIoTSkpXG4gIHZhciBvdXQgPSB0aGlzLl9kb0NyeXB0QmxvY2soTSwgdGhpcy5fa2V5U2NoZWR1bGUsIEcuU1VCX01JWCwgRy5TQk9YKVxuICB2YXIgYnVmID0gbmV3IEJ1ZmZlcigxNilcbiAgYnVmLndyaXRlVUludDMyQkUob3V0WzBdLCAwKVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbMV0sIDQpXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFsyXSwgOClcbiAgYnVmLndyaXRlVUludDMyQkUob3V0WzNdLCAxMilcbiAgcmV0dXJuIGJ1ZlxufVxuXG5BRVMucHJvdG90eXBlLmRlY3J5cHRCbG9jayA9IGZ1bmN0aW9uIChNKSB7XG4gIE0gPSBidWZmZXJUb0FycmF5KG5ldyBCdWZmZXIoTSkpXG4gIHZhciB0ZW1wID0gW01bM10sIE1bMV1dXG4gIE1bMV0gPSB0ZW1wWzBdXG4gIE1bM10gPSB0ZW1wWzFdXG4gIHZhciBvdXQgPSB0aGlzLl9kb0NyeXB0QmxvY2soTSwgdGhpcy5faW52S2V5U2NoZWR1bGUsIEcuSU5WX1NVQl9NSVgsIEcuSU5WX1NCT1gpXG4gIHZhciBidWYgPSBuZXcgQnVmZmVyKDE2KVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbMF0sIDApXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFszXSwgNClcbiAgYnVmLndyaXRlVUludDMyQkUob3V0WzJdLCA4KVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbMV0sIDEyKVxuICByZXR1cm4gYnVmXG59XG5cbkFFUy5wcm90b3R5cGUuc2NydWIgPSBmdW5jdGlvbiAoKSB7XG4gIHNjcnViX3ZlYyh0aGlzLl9rZXlTY2hlZHVsZSlcbiAgc2NydWJfdmVjKHRoaXMuX2ludktleVNjaGVkdWxlKVxuICBzY3J1Yl92ZWModGhpcy5fa2V5KVxufVxuXG5BRVMucHJvdG90eXBlLl9kb0NyeXB0QmxvY2sgPSBmdW5jdGlvbiAoTSwga2V5U2NoZWR1bGUsIFNVQl9NSVgsIFNCT1gpIHtcbiAgdmFyIGtzUm93LCBzMCwgczEsIHMyLCBzMywgdDAsIHQxLCB0MiwgdDNcblxuICBzMCA9IE1bMF0gXiBrZXlTY2hlZHVsZVswXVxuICBzMSA9IE1bMV0gXiBrZXlTY2hlZHVsZVsxXVxuICBzMiA9IE1bMl0gXiBrZXlTY2hlZHVsZVsyXVxuICBzMyA9IE1bM10gXiBrZXlTY2hlZHVsZVszXVxuICBrc1JvdyA9IDRcbiAgZm9yICh2YXIgcm91bmQgPSAxOyByb3VuZCA8IHRoaXMuX25Sb3VuZHM7IHJvdW5kKyspIHtcbiAgICB0MCA9IFNVQl9NSVhbMF1bczAgPj4+IDI0XSBeIFNVQl9NSVhbMV1bKHMxID4+PiAxNikgJiAweGZmXSBeIFNVQl9NSVhbMl1bKHMyID4+PiA4KSAmIDB4ZmZdIF4gU1VCX01JWFszXVtzMyAmIDB4ZmZdIF4ga2V5U2NoZWR1bGVba3NSb3crK11cbiAgICB0MSA9IFNVQl9NSVhbMF1bczEgPj4+IDI0XSBeIFNVQl9NSVhbMV1bKHMyID4+PiAxNikgJiAweGZmXSBeIFNVQl9NSVhbMl1bKHMzID4+PiA4KSAmIDB4ZmZdIF4gU1VCX01JWFszXVtzMCAmIDB4ZmZdIF4ga2V5U2NoZWR1bGVba3NSb3crK11cbiAgICB0MiA9IFNVQl9NSVhbMF1bczIgPj4+IDI0XSBeIFNVQl9NSVhbMV1bKHMzID4+PiAxNikgJiAweGZmXSBeIFNVQl9NSVhbMl1bKHMwID4+PiA4KSAmIDB4ZmZdIF4gU1VCX01JWFszXVtzMSAmIDB4ZmZdIF4ga2V5U2NoZWR1bGVba3NSb3crK11cbiAgICB0MyA9IFNVQl9NSVhbMF1bczMgPj4+IDI0XSBeIFNVQl9NSVhbMV1bKHMwID4+PiAxNikgJiAweGZmXSBeIFNVQl9NSVhbMl1bKHMxID4+PiA4KSAmIDB4ZmZdIF4gU1VCX01JWFszXVtzMiAmIDB4ZmZdIF4ga2V5U2NoZWR1bGVba3NSb3crK11cbiAgICBzMCA9IHQwXG4gICAgczEgPSB0MVxuICAgIHMyID0gdDJcbiAgICBzMyA9IHQzXG4gIH1cbiAgdDAgPSAoKFNCT1hbczAgPj4+IDI0XSA8PCAyNCkgfCAoU0JPWFsoczEgPj4+IDE2KSAmIDB4ZmZdIDw8IDE2KSB8IChTQk9YWyhzMiA+Pj4gOCkgJiAweGZmXSA8PCA4KSB8IFNCT1hbczMgJiAweGZmXSkgXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICB0MSA9ICgoU0JPWFtzMSA+Pj4gMjRdIDw8IDI0KSB8IChTQk9YWyhzMiA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKFNCT1hbKHMzID4+PiA4KSAmIDB4ZmZdIDw8IDgpIHwgU0JPWFtzMCAmIDB4ZmZdKSBeIGtleVNjaGVkdWxlW2tzUm93KytdXG4gIHQyID0gKChTQk9YW3MyID4+PiAyNF0gPDwgMjQpIHwgKFNCT1hbKHMzID4+PiAxNikgJiAweGZmXSA8PCAxNikgfCAoU0JPWFsoczAgPj4+IDgpICYgMHhmZl0gPDwgOCkgfCBTQk9YW3MxICYgMHhmZl0pIF4ga2V5U2NoZWR1bGVba3NSb3crK11cbiAgdDMgPSAoKFNCT1hbczMgPj4+IDI0XSA8PCAyNCkgfCAoU0JPWFsoczAgPj4+IDE2KSAmIDB4ZmZdIDw8IDE2KSB8IChTQk9YWyhzMSA+Pj4gOCkgJiAweGZmXSA8PCA4KSB8IFNCT1hbczIgJiAweGZmXSkgXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICByZXR1cm4gW1xuICAgIGZpeHVwX3VpbnQzMih0MCksXG4gICAgZml4dXBfdWludDMyKHQxKSxcbiAgICBmaXh1cF91aW50MzIodDIpLFxuICAgIGZpeHVwX3VpbnQzMih0MylcbiAgXVxufVxuXG5leHBvcnRzLkFFUyA9IEFFU1xuIl19
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/asn1.js":[function(require,module,exports){
// from https://github.com/indutny/self-signed/blob/gh-pages/lib/asn1.js
// Fedor, you are amazing.

var asn1 = require('asn1.js')

var RSAPrivateKey = asn1.define('RSAPrivateKey', function () {
  this.seq().obj(
    this.key('version').int(),
    this.key('modulus').int(),
    this.key('publicExponent').int(),
    this.key('privateExponent').int(),
    this.key('prime1').int(),
    this.key('prime2').int(),
    this.key('exponent1').int(),
    this.key('exponent2').int(),
    this.key('coefficient').int()
  )
})
exports.RSAPrivateKey = RSAPrivateKey

var RSAPublicKey = asn1.define('RSAPublicKey', function () {
  this.seq().obj(
    this.key('modulus').int(),
    this.key('publicExponent').int()
  )
})
exports.RSAPublicKey = RSAPublicKey

var PublicKey = asn1.define('SubjectPublicKeyInfo', function () {
  this.seq().obj(
    this.key('algorithm').use(AlgorithmIdentifier),
    this.key('subjectPublicKey').bitstr()
  )
})
exports.PublicKey = PublicKey

var AlgorithmIdentifier = asn1.define('AlgorithmIdentifier', function () {
  this.seq().obj(
    this.key('algorithm').objid(),
    this.key('none').null_().optional(),
    this.key('curve').objid().optional(),
    this.key('params').seq().obj(
      this.key('p').int(),
      this.key('q').int(),
      this.key('g').int()
    ).optional()
  )
})

var PrivateKeyInfo = asn1.define('PrivateKeyInfo', function () {
  this.seq().obj(
    this.key('version').int(),
    this.key('algorithm').use(AlgorithmIdentifier),
    this.key('subjectPrivateKey').octstr()
  )
})
exports.PrivateKey = PrivateKeyInfo
var EncryptedPrivateKeyInfo = asn1.define('EncryptedPrivateKeyInfo', function () {
  this.seq().obj(
    this.key('algorithm').seq().obj(
      this.key('id').objid(),
      this.key('decrypt').seq().obj(
        this.key('kde').seq().obj(
          this.key('id').objid(),
          this.key('kdeparams').seq().obj(
            this.key('salt').octstr(),
            this.key('iters').int()
          )
        ),
        this.key('cipher').seq().obj(
          this.key('algo').objid(),
          this.key('iv').octstr()
        )
      )
    ),
    this.key('subjectPrivateKey').octstr()
  )
})

exports.EncryptedPrivateKey = EncryptedPrivateKeyInfo

var DSAPrivateKey = asn1.define('DSAPrivateKey', function () {
  this.seq().obj(
    this.key('version').int(),
    this.key('p').int(),
    this.key('q').int(),
    this.key('g').int(),
    this.key('pub_key').int(),
    this.key('priv_key').int()
  )
})
exports.DSAPrivateKey = DSAPrivateKey

exports.DSAparam = asn1.define('DSAparam', function () {
  this.int()
})
var ECPrivateKey = asn1.define('ECPrivateKey', function () {
  this.seq().obj(
    this.key('version').int(),
    this.key('privateKey').octstr(),
    this.key('parameters').optional().explicit(0).use(ECParameters),
    this.key('publicKey').optional().explicit(1).bitstr()
  )
})
exports.ECPrivateKey = ECPrivateKey
var ECParameters = asn1.define('ECParameters', function () {
  this.choice({
    namedCurve: this.objid()
  })
})

exports.signature = asn1.define('signature', function () {
  this.seq().obj(
    this.key('r').int(),
    this.key('s').int()
  )
})

},{"asn1.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1.js":[function(require,module,exports){
var asn1 = exports;

asn1.bignum = require('bn.js');

asn1.define = require('./asn1/api').define;
asn1.base = require('./asn1/base');
asn1.constants = require('./asn1/constants');
asn1.decoders = require('./asn1/decoders');
asn1.encoders = require('./asn1/encoders');

},{"./asn1/api":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/api.js","./asn1/base":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/index.js","./asn1/constants":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/constants/index.js","./asn1/decoders":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/decoders/index.js","./asn1/encoders":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/encoders/index.js","bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/bn.js/lib/bn.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/encoders/index.js":[function(require,module,exports){
var encoders = exports;

encoders.der = require('./der');
encoders.pem = require('./pem');

},{"./der":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/encoders/der.js","./pem":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/encoders/pem.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/encoders/pem.js":[function(require,module,exports){
var inherits = require('inherits');
var Buffer = require('buffer').Buffer;

var asn1 = require('../../asn1');
var DEREncoder = require('./der');

function PEMEncoder(entity) {
  DEREncoder.call(this, entity);
  this.enc = 'pem';
};
inherits(PEMEncoder, DEREncoder);
module.exports = PEMEncoder;

PEMEncoder.prototype.encode = function encode(data, options) {
  var buf = DEREncoder.prototype.encode.call(this, data);

  var p = buf.toString('base64');
  var out = [ '-----BEGIN ' + options.label + '-----' ];
  for (var i = 0; i < p.length; i += 64)
    out.push(p.slice(i, i + 64));
  out.push('-----END ' + options.label + '-----');
  return out.join('\n');
};

},{"../../asn1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1.js","./der":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/encoders/der.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/encoders/der.js":[function(require,module,exports){
var inherits = require('inherits');
var Buffer = require('buffer').Buffer;

var asn1 = require('../../asn1');
var base = asn1.base;
var bignum = asn1.bignum;

// Import DER constants
var der = asn1.constants.der;

function DEREncoder(entity) {
  this.enc = 'der';
  this.name = entity.name;
  this.entity = entity;

  // Construct base tree
  this.tree = new DERNode();
  this.tree._init(entity.body);
};
module.exports = DEREncoder;

DEREncoder.prototype.encode = function encode(data, reporter) {
  return this.tree._encode(data, reporter).join();
};

// Tree methods

function DERNode(parent) {
  base.Node.call(this, 'der', parent);
}
inherits(DERNode, base.Node);

DERNode.prototype._encodeComposite = function encodeComposite(tag,
                                                              primitive,
                                                              cls,
                                                              content) {
  var encodedTag = encodeTag(tag, primitive, cls, this.reporter);

  // Short form
  if (content.length < 0x80) {
    var header = new Buffer(2);
    header[0] = encodedTag;
    header[1] = content.length;
    return this._createEncoderBuffer([ header, content ]);
  }

  // Long form
  // Count octets required to store length
  var lenOctets = 1;
  for (var i = content.length; i >= 0x100; i >>= 8)
    lenOctets++;

  var header = new Buffer(1 + 1 + lenOctets);
  header[0] = encodedTag;
  header[1] = 0x80 | lenOctets;

  for (var i = 1 + lenOctets, j = content.length; j > 0; i--, j >>= 8)
    header[i] = j & 0xff;

  return this._createEncoderBuffer([ header, content ]);
};

DERNode.prototype._encodeStr = function encodeStr(str, tag) {
  if (tag === 'octstr')
    return this._createEncoderBuffer(str);
  else if (tag === 'bitstr')
    return this._createEncoderBuffer([ str.unused | 0, str.data ]);
  else if (tag === 'ia5str' || tag === 'utf8str')
    return this._createEncoderBuffer(str);
  return this.reporter.error('Encoding of string type: ' + tag +
                             ' unsupported');
};

DERNode.prototype._encodeObjid = function encodeObjid(id, values, relative) {
  if (typeof id === 'string') {
    if (!values)
      return this.reporter.error('string objid given, but no values map found');
    if (!values.hasOwnProperty(id))
      return this.reporter.error('objid not found in values map');
    id = values[id].split(/[\s\.]+/g);
    for (var i = 0; i < id.length; i++)
      id[i] |= 0;
  } else if (Array.isArray(id)) {
    id = id.slice();
    for (var i = 0; i < id.length; i++)
      id[i] |= 0;
  }

  if (!Array.isArray(id)) {
    return this.reporter.error('objid() should be either array or string, ' +
                               'got: ' + JSON.stringify(id));
  }

  if (!relative) {
    if (id[1] >= 40)
      return this.reporter.error('Second objid identifier OOB');
    id.splice(0, 2, id[0] * 40 + id[1]);
  }

  // Count number of octets
  var size = 0;
  for (var i = 0; i < id.length; i++) {
    var ident = id[i];
    for (size++; ident >= 0x80; ident >>= 7)
      size++;
  }

  var objid = new Buffer(size);
  var offset = objid.length - 1;
  for (var i = id.length - 1; i >= 0; i--) {
    var ident = id[i];
    objid[offset--] = ident & 0x7f;
    while ((ident >>= 7) > 0)
      objid[offset--] = 0x80 | (ident & 0x7f);
  }

  return this._createEncoderBuffer(objid);
};

function two(num) {
  if (num < 10)
    return '0' + num;
  else
    return num;
}

DERNode.prototype._encodeTime = function encodeTime(time, tag) {
  var str;
  var date = new Date(time);

  if (tag === 'gentime') {
    str = [
      two(date.getFullYear()),
      two(date.getUTCMonth() + 1),
      two(date.getUTCDate()),
      two(date.getUTCHours()),
      two(date.getUTCMinutes()),
      two(date.getUTCSeconds()),
      'Z'
    ].join('');
  } else if (tag === 'utctime') {
    str = [
      two(date.getFullYear() % 100),
      two(date.getUTCMonth() + 1),
      two(date.getUTCDate()),
      two(date.getUTCHours()),
      two(date.getUTCMinutes()),
      two(date.getUTCSeconds()),
      'Z'
    ].join('');
  } else {
    this.reporter.error('Encoding ' + tag + ' time is not supported yet');
  }

  return this._encodeStr(str, 'octstr');
};

DERNode.prototype._encodeNull = function encodeNull() {
  return this._createEncoderBuffer('');
};

DERNode.prototype._encodeInt = function encodeInt(num, values) {
  if (typeof num === 'string') {
    if (!values)
      return this.reporter.error('String int or enum given, but no values map');
    if (!values.hasOwnProperty(num)) {
      return this.reporter.error('Values map doesn\'t contain: ' +
                                 JSON.stringify(num));
    }
    num = values[num];
  }

  // Bignum, assume big endian
  if (typeof num !== 'number' && !Buffer.isBuffer(num)) {
    var numArray = num.toArray();
    if (num.sign === false && numArray[0] & 0x80) {
      numArray.unshift(0);
    }
    num = new Buffer(numArray);
  }

  if (Buffer.isBuffer(num)) {
    var size = num.length;
    if (num.length === 0)
      size++;

    var out = new Buffer(size);
    num.copy(out);
    if (num.length === 0)
      out[0] = 0
    return this._createEncoderBuffer(out);
  }

  if (num < 0x80)
    return this._createEncoderBuffer(num);

  if (num < 0x100)
    return this._createEncoderBuffer([0, num]);

  var size = 1;
  for (var i = num; i >= 0x100; i >>= 8)
    size++;

  var out = new Array(size);
  for (var i = out.length - 1; i >= 0; i--) {
    out[i] = num & 0xff;
    num >>= 8;
  }
  if(out[0] & 0x80) {
    out.unshift(0);
  }

  return this._createEncoderBuffer(new Buffer(out));
};

DERNode.prototype._encodeBool = function encodeBool(value) {
  return this._createEncoderBuffer(value ? 0xff : 0);
};

DERNode.prototype._use = function use(entity, obj) {
  if (typeof entity === 'function')
    entity = entity(obj);
  return entity._getEncoder('der').tree;
};

DERNode.prototype._skipDefault = function skipDefault(dataBuffer, reporter, parent) {
  var state = this._baseState;
  var i;
  if (state['default'] === null)
    return false;

  var data = dataBuffer.join();
  if (state.defaultBuffer === undefined)
    state.defaultBuffer = this._encodeValue(state['default'], reporter, parent).join();

  if (data.length !== state.defaultBuffer.length)
    return false;

  for (i=0; i < data.length; i++)
    if (data[i] !== state.defaultBuffer[i])
      return false;

  return true;
};

// Utility methods

function encodeTag(tag, primitive, cls, reporter) {
  var res;

  if (tag === 'seqof')
    tag = 'seq';
  else if (tag === 'setof')
    tag = 'set';

  if (der.tagByName.hasOwnProperty(tag))
    res = der.tagByName[tag];
  else if (typeof tag === 'number' && (tag | 0) === tag)
    res = tag;
  else
    return reporter.error('Unknown tag: ' + tag);

  if (res >= 0x1f)
    return reporter.error('Multi-octet tag encoding unsupported');

  if (!primitive)
    res |= 0x20;

  res |= (der.tagClassByName[cls || 'universal'] << 6);

  return res;
}

},{"../../asn1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/decoders/index.js":[function(require,module,exports){
var decoders = exports;

decoders.der = require('./der');
decoders.pem = require('./pem');

},{"./der":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/decoders/der.js","./pem":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/decoders/pem.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/decoders/pem.js":[function(require,module,exports){
var inherits = require('inherits');
var Buffer = require('buffer').Buffer;

var asn1 = require('../../asn1');
var DERDecoder = require('./der');

function PEMDecoder(entity) {
  DERDecoder.call(this, entity);
  this.enc = 'pem';
};
inherits(PEMDecoder, DERDecoder);
module.exports = PEMDecoder;

PEMDecoder.prototype.decode = function decode(data, options) {
  var lines = data.toString().split(/[\r\n]+/g);

  var label = options.label.toUpperCase();

  var re = /^-----(BEGIN|END) ([^-]+)-----$/;
  var start = -1;
  var end = -1;
  for (var i = 0; i < lines.length; i++) {
    var match = lines[i].match(re);
    if (match === null)
      continue;

    if (match[2] !== label)
      continue;

    if (start === -1) {
      if (match[1] !== 'BEGIN')
        break;
      start = i;
    } else {
      if (match[1] !== 'END')
        break;
      end = i;
      break;
    }
  }
  if (start === -1 || end === -1)
    throw new Error('PEM section not found for: ' + label);

  var base64 = lines.slice(start + 1, end).join('');
  // Remove excessive symbols
  base64.replace(/[^a-z0-9\+\/=]+/gi, '');

  var input = new Buffer(base64, 'base64');
  return DERDecoder.prototype.decode.call(this, input, options);
};

},{"../../asn1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1.js","./der":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/decoders/der.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/decoders/der.js":[function(require,module,exports){
var inherits = require('inherits');

var asn1 = require('../../asn1');
var base = asn1.base;
var bignum = asn1.bignum;

// Import DER constants
var der = asn1.constants.der;

function DERDecoder(entity) {
  this.enc = 'der';
  this.name = entity.name;
  this.entity = entity;

  // Construct base tree
  this.tree = new DERNode();
  this.tree._init(entity.body);
};
module.exports = DERDecoder;

DERDecoder.prototype.decode = function decode(data, options) {
  if (!(data instanceof base.DecoderBuffer))
    data = new base.DecoderBuffer(data, options);

  return this.tree._decode(data, options);
};

// Tree methods

function DERNode(parent) {
  base.Node.call(this, 'der', parent);
}
inherits(DERNode, base.Node);

DERNode.prototype._peekTag = function peekTag(buffer, tag, any) {
  if (buffer.isEmpty())
    return false;

  var state = buffer.save();
  var decodedTag = derDecodeTag(buffer, 'Failed to peek tag: "' + tag + '"');
  if (buffer.isError(decodedTag))
    return decodedTag;

  buffer.restore(state);

  return decodedTag.tag === tag || decodedTag.tagStr === tag || any;
};

DERNode.prototype._decodeTag = function decodeTag(buffer, tag, any) {
  var decodedTag = derDecodeTag(buffer,
                                'Failed to decode tag of "' + tag + '"');
  if (buffer.isError(decodedTag))
    return decodedTag;

  var len = derDecodeLen(buffer,
                         decodedTag.primitive,
                         'Failed to get length of "' + tag + '"');

  // Failure
  if (buffer.isError(len))
    return len;

  if (!any &&
      decodedTag.tag !== tag &&
      decodedTag.tagStr !== tag &&
      decodedTag.tagStr + 'of' !== tag) {
    return buffer.error('Failed to match tag: "' + tag + '"');
  }

  if (decodedTag.primitive || len !== null)
    return buffer.skip(len, 'Failed to match body of: "' + tag + '"');

  // Indefinite length... find END tag
  var state = buffer.save();
  var res = this._skipUntilEnd(
      buffer,
      'Failed to skip indefinite length body: "' + this.tag + '"');
  if (buffer.isError(res))
    return res;

  len = buffer.offset - state.offset;
  buffer.restore(state);
  return buffer.skip(len, 'Failed to match body of: "' + tag + '"');
};

DERNode.prototype._skipUntilEnd = function skipUntilEnd(buffer, fail) {
  while (true) {
    var tag = derDecodeTag(buffer, fail);
    if (buffer.isError(tag))
      return tag;
    var len = derDecodeLen(buffer, tag.primitive, fail);
    if (buffer.isError(len))
      return len;

    var res;
    if (tag.primitive || len !== null)
      res = buffer.skip(len)
    else
      res = this._skipUntilEnd(buffer, fail);

    // Failure
    if (buffer.isError(res))
      return res;

    if (tag.tagStr === 'end')
      break;
  }
};

DERNode.prototype._decodeList = function decodeList(buffer, tag, decoder) {
  var result = [];
  while (!buffer.isEmpty()) {
    var possibleEnd = this._peekTag(buffer, 'end');
    if (buffer.isError(possibleEnd))
      return possibleEnd;

    var res = decoder.decode(buffer, 'der');
    if (buffer.isError(res) && possibleEnd)
      break;
    result.push(res);
  }
  return result;
};

DERNode.prototype._decodeStr = function decodeStr(buffer, tag) {
  if (tag === 'octstr') {
    return buffer.raw();
  } else if (tag === 'bitstr') {
    var unused = buffer.readUInt8();
    if (buffer.isError(unused))
      return unused;

    return { unused: unused, data: buffer.raw() };
  } else if (tag === 'ia5str' || tag === 'utf8str') {
    return buffer.raw().toString();
  } else {
    return this.error('Decoding of string type: ' + tag + ' unsupported');
  }
};

DERNode.prototype._decodeObjid = function decodeObjid(buffer, values, relative) {
  var identifiers = [];
  var ident = 0;
  while (!buffer.isEmpty()) {
    var subident = buffer.readUInt8();
    ident <<= 7;
    ident |= subident & 0x7f;
    if ((subident & 0x80) === 0) {
      identifiers.push(ident);
      ident = 0;
    }
  }
  if (subident & 0x80)
    identifiers.push(ident);

  var first = (identifiers[0] / 40) | 0;
  var second = identifiers[0] % 40;

  if (relative)
    result = identifiers;
  else
    result = [first, second].concat(identifiers.slice(1));

  if (values)
    result = values[result.join(' ')];

  return result;
};

DERNode.prototype._decodeTime = function decodeTime(buffer, tag) {
  var str = buffer.raw().toString();
  if (tag === 'gentime') {
    var year = str.slice(0, 4) | 0;
    var mon = str.slice(4, 6) | 0;
    var day = str.slice(6, 8) | 0;
    var hour = str.slice(8, 10) | 0;
    var min = str.slice(10, 12) | 0;
    var sec = str.slice(12, 14) | 0;
  } else if (tag === 'utctime') {
    var year = str.slice(0, 2) | 0;
    var mon = str.slice(2, 4) | 0;
    var day = str.slice(4, 6) | 0;
    var hour = str.slice(6, 8) | 0;
    var min = str.slice(8, 10) | 0;
    var sec = str.slice(10, 12) | 0;
    if (year < 70)
      year = 2000 + year;
    else
      year = 1900 + year;
  } else {
    return this.error('Decoding ' + tag + ' time is not supported yet');
  }

  return Date.UTC(year, mon - 1, day, hour, min, sec, 0);
};

DERNode.prototype._decodeNull = function decodeNull(buffer) {
  return null;
};

DERNode.prototype._decodeBool = function decodeBool(buffer) {
  var res = buffer.readUInt8();
  if (buffer.isError(res))
    return res;
  else
    return res !== 0;
};

DERNode.prototype._decodeInt = function decodeInt(buffer, values) {
  // Bigint, return as it is (assume big endian)
  var raw = buffer.raw();
  var res = new bignum(raw);

  if (values)
    res = values[res.toString(10)] || res;

  return res;
};

DERNode.prototype._use = function use(entity, obj) {
  if (typeof entity === 'function')
    entity = entity(obj);
  return entity._getDecoder('der').tree;
};

// Utility methods

function derDecodeTag(buf, fail) {
  var tag = buf.readUInt8(fail);
  if (buf.isError(tag))
    return tag;

  var cls = der.tagClass[tag >> 6];
  var primitive = (tag & 0x20) === 0;

  // Multi-octet tag - load
  if ((tag & 0x1f) === 0x1f) {
    var oct = tag;
    tag = 0;
    while ((oct & 0x80) === 0x80) {
      oct = buf.readUInt8(fail);
      if (buf.isError(oct))
        return oct;

      tag <<= 7;
      tag |= oct & 0x7f;
    }
  } else {
    tag &= 0x1f;
  }
  var tagStr = der.tag[tag];

  return {
    cls: cls,
    primitive: primitive,
    tag: tag,
    tagStr: tagStr
  };
}

function derDecodeLen(buf, primitive, fail) {
  var len = buf.readUInt8(fail);
  if (buf.isError(len))
    return len;

  // Indefinite form
  if (!primitive && len === 0x80)
    return null;

  // Definite form
  if ((len & 0x80) === 0) {
    // Short form
    return len;
  }

  // Long form
  var num = len & 0x7f;
  if (num >= 4)
    return buf.error('length octect is too long');

  len = 0;
  for (var i = 0; i < num; i++) {
    len <<= 8;
    var j = buf.readUInt8(fail);
    if (buf.isError(j))
      return j;
    len |= j;
  }

  return len;
}

},{"../../asn1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/constants/index.js":[function(require,module,exports){
var constants = exports;

// Helper
constants._reverse = function reverse(map) {
  var res = {};

  Object.keys(map).forEach(function(key) {
    // Convert key to integer if it is stringified
    if ((key | 0) == key)
      key = key | 0;

    var value = map[key];
    res[value] = key;
  });

  return res;
};

constants.der = require('./der');

},{"./der":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/constants/der.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/constants/der.js":[function(require,module,exports){
var constants = require('../constants');

exports.tagClass = {
  0: 'universal',
  1: 'application',
  2: 'context',
  3: 'private'
};
exports.tagClassByName = constants._reverse(exports.tagClass);

exports.tag = {
  0x00: 'end',
  0x01: 'bool',
  0x02: 'int',
  0x03: 'bitstr',
  0x04: 'octstr',
  0x05: 'null_',
  0x06: 'objid',
  0x07: 'objDesc',
  0x08: 'external',
  0x09: 'real',
  0x0a: 'enum',
  0x0b: 'embed',
  0x0c: 'utf8str',
  0x0d: 'relativeOid',
  0x10: 'seq',
  0x11: 'set',
  0x12: 'numstr',
  0x13: 'printstr',
  0x14: 't61str',
  0x15: 'videostr',
  0x16: 'ia5str',
  0x17: 'utctime',
  0x18: 'gentime',
  0x19: 'graphstr',
  0x1a: 'iso646str',
  0x1b: 'genstr',
  0x1c: 'unistr',
  0x1d: 'charstr',
  0x1e: 'bmpstr'
};
exports.tagByName = constants._reverse(exports.tag);

},{"../constants":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/constants/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/index.js":[function(require,module,exports){
var base = exports;

base.Reporter = require('./reporter').Reporter;
base.DecoderBuffer = require('./buffer').DecoderBuffer;
base.EncoderBuffer = require('./buffer').EncoderBuffer;
base.Node = require('./node');

},{"./buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/buffer.js","./node":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/node.js","./reporter":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/reporter.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/reporter.js":[function(require,module,exports){
var inherits = require('inherits');

function Reporter(options) {
  this._reporterState = {
    obj: null,
    path: [],
    options: options || {},
    errors: []
  };
}
exports.Reporter = Reporter;

Reporter.prototype.isError = function isError(obj) {
  return obj instanceof ReporterError;
};

Reporter.prototype.save = function save() {
  var state = this._reporterState;

  return { obj: state.obj, pathLen: state.path.length };
};

Reporter.prototype.restore = function restore(data) {
  var state = this._reporterState;

  state.obj = data.obj;
  state.path = state.path.slice(0, data.pathLen);
};

Reporter.prototype.enterKey = function enterKey(key) {
  return this._reporterState.path.push(key);
};

Reporter.prototype.leaveKey = function leaveKey(index, key, value) {
  var state = this._reporterState;

  state.path = state.path.slice(0, index - 1);
  if (state.obj !== null)
    state.obj[key] = value;
};

Reporter.prototype.enterObject = function enterObject() {
  var state = this._reporterState;

  var prev = state.obj;
  state.obj = {};
  return prev;
};

Reporter.prototype.leaveObject = function leaveObject(prev) {
  var state = this._reporterState;

  var now = state.obj;
  state.obj = prev;
  return now;
};

Reporter.prototype.error = function error(msg) {
  var err;
  var state = this._reporterState;

  var inherited = msg instanceof ReporterError;
  if (inherited) {
    err = msg;
  } else {
    err = new ReporterError(state.path.map(function(elem) {
      return '[' + JSON.stringify(elem) + ']';
    }).join(''), msg.message || msg, msg.stack);
  }

  if (!state.options.partial)
    throw err;

  if (!inherited)
    state.errors.push(err);

  return err;
};

Reporter.prototype.wrapResult = function wrapResult(result) {
  var state = this._reporterState;
  if (!state.options.partial)
    return result;

  return {
    result: this.isError(result) ? null : result,
    errors: state.errors
  };
};

function ReporterError(path, msg) {
  this.path = path;
  this.rethrow(msg);
};
inherits(ReporterError, Error);

ReporterError.prototype.rethrow = function rethrow(msg) {
  this.message = msg + ' at: ' + (this.path || '(shallow)');
  Error.captureStackTrace(this, ReporterError);

  return this;
};

},{"inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/node.js":[function(require,module,exports){
var Reporter = require('../base').Reporter;
var EncoderBuffer = require('../base').EncoderBuffer;
var assert = require('minimalistic-assert');

// Supported tags
var tags = [
  'seq', 'seqof', 'set', 'setof', 'octstr', 'bitstr', 'objid', 'bool',
  'gentime', 'utctime', 'null_', 'enum', 'int', 'ia5str', 'utf8str'
];

// Public methods list
var methods = [
  'key', 'obj', 'use', 'optional', 'explicit', 'implicit', 'def', 'choice',
  'any'
].concat(tags);

// Overrided methods list
var overrided = [
  '_peekTag', '_decodeTag', '_use',
  '_decodeStr', '_decodeObjid', '_decodeTime',
  '_decodeNull', '_decodeInt', '_decodeBool', '_decodeList',

  '_encodeComposite', '_encodeStr', '_encodeObjid', '_encodeTime',
  '_encodeNull', '_encodeInt', '_encodeBool'
];

function Node(enc, parent) {
  var state = {};
  this._baseState = state;

  state.enc = enc;

  state.parent = parent || null;
  state.children = null;

  // State
  state.tag = null;
  state.args = null;
  state.reverseArgs = null;
  state.choice = null;
  state.optional = false;
  state.any = false;
  state.obj = false;
  state.use = null;
  state.useDecoder = null;
  state.key = null;
  state['default'] = null;
  state.explicit = null;
  state.implicit = null;

  // Should create new instance on each method
  if (!state.parent) {
    state.children = [];
    this._wrap();
  }
}
module.exports = Node;

var stateProps = [
  'enc', 'parent', 'children', 'tag', 'args', 'reverseArgs', 'choice',
  'optional', 'any', 'obj', 'use', 'alteredUse', 'key', 'default', 'explicit',
  'implicit'
];

Node.prototype.clone = function clone() {
  var state = this._baseState;
  var cstate = {};
  stateProps.forEach(function(prop) {
    cstate[prop] = state[prop];
  });
  var res = new this.constructor(cstate.parent);
  res._baseState = cstate;
  return res;
};

Node.prototype._wrap = function wrap() {
  var state = this._baseState;
  methods.forEach(function(method) {
    this[method] = function _wrappedMethod() {
      var clone = new this.constructor(this);
      state.children.push(clone);
      return clone[method].apply(clone, arguments);
    };
  }, this);
};

Node.prototype._init = function init(body) {
  var state = this._baseState;

  assert(state.parent === null);
  body.call(this);

  // Filter children
  state.children = state.children.filter(function(child) {
    return child._baseState.parent === this;
  }, this);
  assert.equal(state.children.length, 1, 'Root node can have only one child');
};

Node.prototype._useArgs = function useArgs(args) {
  var state = this._baseState;

  // Filter children and args
  var children = args.filter(function(arg) {
    return arg instanceof this.constructor;
  }, this);
  args = args.filter(function(arg) {
    return !(arg instanceof this.constructor);
  }, this);

  if (children.length !== 0) {
    assert(state.children === null);
    state.children = children;

    // Replace parent to maintain backward link
    children.forEach(function(child) {
      child._baseState.parent = this;
    }, this);
  }
  if (args.length !== 0) {
    assert(state.args === null);
    state.args = args;
    state.reverseArgs = args.map(function(arg) {
      if (typeof arg !== 'object' || arg.constructor !== Object)
        return arg;

      var res = {};
      Object.keys(arg).forEach(function(key) {
        if (key == (key | 0))
          key |= 0;
        var value = arg[key];
        res[value] = key;
      });
      return res;
    });
  }
};

//
// Overrided methods
//

overrided.forEach(function(method) {
  Node.prototype[method] = function _overrided() {
    var state = this._baseState;
    throw new Error(method + ' not implemented for encoding: ' + state.enc);
  };
});

//
// Public methods
//

tags.forEach(function(tag) {
  Node.prototype[tag] = function _tagMethod() {
    var state = this._baseState;
    var args = Array.prototype.slice.call(arguments);

    assert(state.tag === null);
    state.tag = tag;

    this._useArgs(args);

    return this;
  };
});

Node.prototype.use = function use(item) {
  var state = this._baseState;

  assert(state.use === null);
  state.use = item;

  return this;
};

Node.prototype.optional = function optional() {
  var state = this._baseState;

  state.optional = true;

  return this;
};

Node.prototype.def = function def(val) {
  var state = this._baseState;

  assert(state['default'] === null);
  state['default'] = val;
  state.optional = true;

  return this;
};

Node.prototype.explicit = function explicit(num) {
  var state = this._baseState;

  assert(state.explicit === null && state.implicit === null);
  state.explicit = num;

  return this;
};

Node.prototype.implicit = function implicit(num) {
  var state = this._baseState;

  assert(state.explicit === null && state.implicit === null);
  state.implicit = num;

  return this;
};

Node.prototype.obj = function obj() {
  var state = this._baseState;
  var args = Array.prototype.slice.call(arguments);

  state.obj = true;

  if (args.length !== 0)
    this._useArgs(args);

  return this;
};

Node.prototype.key = function key(newKey) {
  var state = this._baseState;

  assert(state.key === null);
  state.key = newKey;

  return this;
};

Node.prototype.any = function any() {
  var state = this._baseState;

  state.any = true;

  return this;
};

Node.prototype.choice = function choice(obj) {
  var state = this._baseState;

  assert(state.choice === null);
  state.choice = obj;
  this._useArgs(Object.keys(obj).map(function(key) {
    return obj[key];
  }));

  return this;
};

//
// Decoding
//

Node.prototype._decode = function decode(input) {
  var state = this._baseState;

  // Decode root node
  if (state.parent === null)
    return input.wrapResult(state.children[0]._decode(input));

  var result = state['default'];
  var present = true;

  var prevKey;
  if (state.key !== null)
    prevKey = input.enterKey(state.key);

  // Check if tag is there
  if (state.optional) {
    var tag = null;
    if (state.explicit !== null)
      tag = state.explicit;
    else if (state.implicit !== null)
      tag = state.implicit;
    else if (state.tag !== null)
      tag = state.tag;

    if (tag === null && !state.any) {
      // Trial and Error
      var save = input.save();
      try {
        if (state.choice === null)
          this._decodeGeneric(state.tag, input);
        else
          this._decodeChoice(input);
        present = true;
      } catch (e) {
        present = false;
      }
      input.restore(save);
    } else {
      present = this._peekTag(input, tag, state.any);

      if (input.isError(present))
        return present;
    }
  }

  // Push object on stack
  var prevObj;
  if (state.obj && present)
    prevObj = input.enterObject();

  if (present) {
    // Unwrap explicit values
    if (state.explicit !== null) {
      var explicit = this._decodeTag(input, state.explicit);
      if (input.isError(explicit))
        return explicit;
      input = explicit;
    }

    // Unwrap implicit and normal values
    if (state.use === null && state.choice === null) {
      if (state.any)
        var save = input.save();
      var body = this._decodeTag(
        input,
        state.implicit !== null ? state.implicit : state.tag,
        state.any
      );
      if (input.isError(body))
        return body;

      if (state.any)
        result = input.raw(save);
      else
        input = body;
    }

    // Select proper method for tag
    if (state.any)
      result = result;
    else if (state.choice === null)
      result = this._decodeGeneric(state.tag, input);
    else
      result = this._decodeChoice(input);

    if (input.isError(result))
      return result;

    // Decode children
    if (!state.any && state.choice === null && state.children !== null) {
      var fail = state.children.some(function decodeChildren(child) {
        // NOTE: We are ignoring errors here, to let parser continue with other
        // parts of encoded data
        child._decode(input);
      });
      if (fail)
        return err;
    }
  }

  // Pop object
  if (state.obj && present)
    result = input.leaveObject(prevObj);

  // Set key
  if (state.key !== null && (result !== null || present === true))
    input.leaveKey(prevKey, state.key, result);

  return result;
};

Node.prototype._decodeGeneric = function decodeGeneric(tag, input) {
  var state = this._baseState;

  if (tag === 'seq' || tag === 'set')
    return null;
  if (tag === 'seqof' || tag === 'setof')
    return this._decodeList(input, tag, state.args[0]);
  else if (tag === 'octstr' || tag === 'bitstr')
    return this._decodeStr(input, tag);
  else if (tag === 'ia5str' || tag === 'utf8str')
    return this._decodeStr(input, tag);
  else if (tag === 'objid' && state.args)
    return this._decodeObjid(input, state.args[0], state.args[1]);
  else if (tag === 'objid')
    return this._decodeObjid(input, null, null);
  else if (tag === 'gentime' || tag === 'utctime')
    return this._decodeTime(input, tag);
  else if (tag === 'null_')
    return this._decodeNull(input);
  else if (tag === 'bool')
    return this._decodeBool(input);
  else if (tag === 'int' || tag === 'enum')
    return this._decodeInt(input, state.args && state.args[0]);
  else if (state.use !== null)
    return this._getUse(state.use, input._reporterState.obj)._decode(input);
  else
    return input.error('unknown tag: ' + tag);

  return null;
};

Node.prototype._getUse = function _getUse(entity, obj) {

  var state = this._baseState;
  // Create altered use decoder if implicit is set
  state.useDecoder = this._use(entity, obj);
  assert(state.useDecoder._baseState.parent === null);
  state.useDecoder = state.useDecoder._baseState.children[0];
  if (state.implicit !== state.useDecoder._baseState.implicit) {
    state.useDecoder = state.useDecoder.clone();
    state.useDecoder._baseState.implicit = state.implicit;
  }
  return state.useDecoder;
};

Node.prototype._decodeChoice = function decodeChoice(input) {
  var state = this._baseState;
  var result = null;
  var match = false;

  Object.keys(state.choice).some(function(key) {
    var save = input.save();
    var node = state.choice[key];
    try {
      var value = node._decode(input);
      if (input.isError(value))
        return false;

      result = { type: key, value: value };
      match = true;
    } catch (e) {
      input.restore(save);
      return false;
    }
    return true;
  }, this);

  if (!match)
    return input.error('Choice not matched');

  return result;
};

//
// Encoding
//

Node.prototype._createEncoderBuffer = function createEncoderBuffer(data) {
  return new EncoderBuffer(data, this.reporter);
};

Node.prototype._encode = function encode(data, reporter, parent) {
  var state = this._baseState;
  if (state['default'] !== null && state['default'] === data)
    return;

  var result = this._encodeValue(data, reporter, parent);
  if (result === undefined)
    return;

  if (this._skipDefault(result, reporter, parent))
    return;

  return result;
};

Node.prototype._encodeValue = function encode(data, reporter, parent) {
  var state = this._baseState;

  // Decode root node
  if (state.parent === null)
    return state.children[0]._encode(data, reporter || new Reporter());

  var result = null;
  var present = true;

  // Set reporter to share it with a child class
  this.reporter = reporter;

  // Check if data is there
  if (state.optional && data === undefined) {
    if (state['default'] !== null)
      data = state['default']
    else
      return;
  }

  // For error reporting
  var prevKey;

  // Encode children first
  var content = null;
  var primitive = false;
  if (state.any) {
    // Anything that was given is translated to buffer
    result = this._createEncoderBuffer(data);
  } else if (state.choice) {
    result = this._encodeChoice(data, reporter);
  } else if (state.children) {
    content = state.children.map(function(child) {
      if (child._baseState.tag === 'null_')
        return child._encode(null, reporter, data);

      if (child._baseState.key === null)
        return reporter.error('Child should have a key');
      var prevKey = reporter.enterKey(child._baseState.key);

      if (typeof data !== 'object')
        return reporter.error('Child expected, but input is not object');

      var res = child._encode(data[child._baseState.key], reporter, data);
      reporter.leaveKey(prevKey);

      return res;
    }, this).filter(function(child) {
      return child;
    });

    content = this._createEncoderBuffer(content);
  } else {
    if (state.tag === 'seqof' || state.tag === 'setof') {
      // TODO(indutny): this should be thrown on DSL level
      if (!(state.args && state.args.length === 1))
        return reporter.error('Too many args for : ' + state.tag);

      if (!Array.isArray(data))
        return reporter.error('seqof/setof, but data is not Array');

      var child = this.clone();
      child._baseState.implicit = null;
      content = this._createEncoderBuffer(data.map(function(item) {
        var state = this._baseState;

        return this._getUse(state.args[0], data)._encode(item, reporter);
      }, child));
    } else if (state.use !== null) {
      result = this._getUse(state.use, parent)._encode(data, reporter);
    } else {
      content = this._encodePrimitive(state.tag, data);
      primitive = true;
    }
  }

  // Encode data itself
  var result;
  if (!state.any && state.choice === null) {
    var tag = state.implicit !== null ? state.implicit : state.tag;
    var cls = state.implicit === null ? 'universal' : 'context';

    if (tag === null) {
      if (state.use === null)
        reporter.error('Tag could be ommited only for .use()');
    } else {
      if (state.use === null)
        result = this._encodeComposite(tag, primitive, cls, content);
    }
  }

  // Wrap in explicit
  if (state.explicit !== null)
    result = this._encodeComposite(state.explicit, false, 'context', result);

  return result;
};

Node.prototype._encodeChoice = function encodeChoice(data, reporter) {
  var state = this._baseState;

  var node = state.choice[data.type];
  if (!node) {
    assert(
        false,
        data.type + ' not found in ' +
            JSON.stringify(Object.keys(state.choice)));
  }
  return node._encode(data.value, reporter);
};

Node.prototype._encodePrimitive = function encodePrimitive(tag, data) {
  var state = this._baseState;

  if (tag === 'octstr' || tag === 'bitstr' || tag === 'ia5str')
    return this._encodeStr(data, tag);
  else if (tag === 'utf8str')
    return this._encodeStr(data, tag);
  else if (tag === 'objid' && state.args)
    return this._encodeObjid(data, state.reverseArgs[0], state.args[1]);
  else if (tag === 'objid')
    return this._encodeObjid(data, null, null);
  else if (tag === 'gentime' || tag === 'utctime')
    return this._encodeTime(data, tag);
  else if (tag === 'null_')
    return this._encodeNull();
  else if (tag === 'int' || tag === 'enum')
    return this._encodeInt(data, state.args && state.reverseArgs[0]);
  else if (tag === 'bool')
    return this._encodeBool(data);
  else
    throw new Error('Unsupported tag: ' + tag);
};

},{"../base":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/index.js","minimalistic-assert":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/node_modules/minimalistic-assert/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/node_modules/minimalistic-assert/index.js":[function(require,module,exports){
arguments[4]["/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/node_modules/des.js/node_modules/minimalistic-assert/index.js"][0].apply(exports,arguments)
},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/buffer.js":[function(require,module,exports){
var inherits = require('inherits');
var Reporter = require('../base').Reporter;
var Buffer = require('buffer').Buffer;

function DecoderBuffer(base, options) {
  Reporter.call(this, options);
  if (!Buffer.isBuffer(base)) {
    this.error('Input not Buffer');
    return;
  }

  this.base = base;
  this.offset = 0;
  this.length = base.length;
}
inherits(DecoderBuffer, Reporter);
exports.DecoderBuffer = DecoderBuffer;

DecoderBuffer.prototype.save = function save() {
  return { offset: this.offset, reporter: Reporter.prototype.save.call(this) };
};

DecoderBuffer.prototype.restore = function restore(save) {
  // Return skipped data
  var res = new DecoderBuffer(this.base);
  res.offset = save.offset;
  res.length = this.offset;

  this.offset = save.offset;
  Reporter.prototype.restore.call(this, save.reporter);

  return res;
};

DecoderBuffer.prototype.isEmpty = function isEmpty() {
  return this.offset === this.length;
};

DecoderBuffer.prototype.readUInt8 = function readUInt8(fail) {
  if (this.offset + 1 <= this.length)
    return this.base.readUInt8(this.offset++, true);
  else
    return this.error(fail || 'DecoderBuffer overrun');
}

DecoderBuffer.prototype.skip = function skip(bytes, fail) {
  if (!(this.offset + bytes <= this.length))
    return this.error(fail || 'DecoderBuffer overrun');

  var res = new DecoderBuffer(this.base);

  // Share reporter state
  res._reporterState = this._reporterState;

  res.offset = this.offset;
  res.length = this.offset + bytes;
  this.offset += bytes;
  return res;
}

DecoderBuffer.prototype.raw = function raw(save) {
  return this.base.slice(save ? save.offset : this.offset, this.length);
}

function EncoderBuffer(value, reporter) {
  if (Array.isArray(value)) {
    this.length = 0;
    this.value = value.map(function(item) {
      if (!(item instanceof EncoderBuffer))
        item = new EncoderBuffer(item, reporter);
      this.length += item.length;
      return item;
    }, this);
  } else if (typeof value === 'number') {
    if (!(0 <= value && value <= 0xff))
      return reporter.error('non-byte EncoderBuffer value');
    this.value = value;
    this.length = 1;
  } else if (typeof value === 'string') {
    this.value = value;
    this.length = Buffer.byteLength(value);
  } else if (Buffer.isBuffer(value)) {
    this.value = value;
    this.length = value.length;
  } else {
    return reporter.error('Unsupported type: ' + typeof value);
  }
}
exports.EncoderBuffer = EncoderBuffer;

EncoderBuffer.prototype.join = function join(out, offset) {
  if (!out)
    out = new Buffer(this.length);
  if (!offset)
    offset = 0;

  if (this.length === 0)
    return out;

  if (Array.isArray(this.value)) {
    this.value.forEach(function(item) {
      item.join(out, offset);
      offset += item.length;
    });
  } else {
    if (typeof this.value === 'number')
      out[offset] = this.value;
    else if (typeof this.value === 'string')
      out.write(this.value, offset);
    else if (Buffer.isBuffer(this.value))
      this.value.copy(out, offset);
    offset += this.length;
  }

  return out;
};

},{"../base":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/base/index.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1/api.js":[function(require,module,exports){
var asn1 = require('../asn1');
var inherits = require('inherits');

var api = exports;

api.define = function define(name, body) {
  return new Entity(name, body);
};

function Entity(name, body) {
  this.name = name;
  this.body = body;

  this.decoders = {};
  this.encoders = {};
};

Entity.prototype._createNamed = function createNamed(base) {
  var named;
  try {
    named = require('vm').runInThisContext(
      '(function ' + this.name + '(entity) {\n' +
      '  this._initNamed(entity);\n' +
      '})'
    );
  } catch (e) {
    named = function (entity) {
      this._initNamed(entity);
    };
  }
  inherits(named, base);
  named.prototype._initNamed = function initnamed(entity) {
    base.call(this, entity);
  };

  return new named(this);
};

Entity.prototype._getDecoder = function _getDecoder(enc) {
  // Lazily create decoder
  if (!this.decoders.hasOwnProperty(enc))
    this.decoders[enc] = this._createNamed(asn1.decoders[enc]);
  return this.decoders[enc];
};

Entity.prototype.decode = function decode(data, enc, options) {
  return this._getDecoder(enc).decode(data, options);
};

Entity.prototype._getEncoder = function _getEncoder(enc) {
  // Lazily create encoder
  if (!this.encoders.hasOwnProperty(enc))
    this.encoders[enc] = this._createNamed(asn1.encoders[enc]);
  return this.encoders[enc];
};

Entity.prototype.encode = function encode(data, enc, /* internal */ reporter) {
  return this._getEncoder(enc).encode(data, reporter);
};

},{"../asn1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/node_modules/asn1.js/lib/asn1.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js","vm":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/vm-browserify/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/vm-browserify/index.js":[function(require,module,exports){
var indexOf = require('indexof');

var Object_keys = function (obj) {
    if (Object.keys) return Object.keys(obj)
    else {
        var res = [];
        for (var key in obj) res.push(key)
        return res;
    }
};

var forEach = function (xs, fn) {
    if (xs.forEach) return xs.forEach(fn)
    else for (var i = 0; i < xs.length; i++) {
        fn(xs[i], i, xs);
    }
};

var defineProp = (function() {
    try {
        Object.defineProperty({}, '_', {});
        return function(obj, name, value) {
            Object.defineProperty(obj, name, {
                writable: true,
                enumerable: false,
                configurable: true,
                value: value
            })
        };
    } catch(e) {
        return function(obj, name, value) {
            obj[name] = value;
        };
    }
}());

var globals = ['Array', 'Boolean', 'Date', 'Error', 'EvalError', 'Function',
'Infinity', 'JSON', 'Math', 'NaN', 'Number', 'Object', 'RangeError',
'ReferenceError', 'RegExp', 'String', 'SyntaxError', 'TypeError', 'URIError',
'decodeURI', 'decodeURIComponent', 'encodeURI', 'encodeURIComponent', 'escape',
'eval', 'isFinite', 'isNaN', 'parseFloat', 'parseInt', 'undefined', 'unescape'];

function Context() {}
Context.prototype = {};

var Script = exports.Script = function NodeScript (code) {
    if (!(this instanceof Script)) return new Script(code);
    this.code = code;
};

Script.prototype.runInContext = function (context) {
    if (!(context instanceof Context)) {
        throw new TypeError("needs a 'context' argument.");
    }
    
    var iframe = document.createElement('iframe');
    if (!iframe.style) iframe.style = {};
    iframe.style.display = 'none';
    
    document.body.appendChild(iframe);
    
    var win = iframe.contentWindow;
    var wEval = win.eval, wExecScript = win.execScript;

    if (!wEval && wExecScript) {
        // win.eval() magically appears when this is called in IE:
        wExecScript.call(win, 'null');
        wEval = win.eval;
    }
    
    forEach(Object_keys(context), function (key) {
        win[key] = context[key];
    });
    forEach(globals, function (key) {
        if (context[key]) {
            win[key] = context[key];
        }
    });
    
    var winKeys = Object_keys(win);

    var res = wEval.call(win, this.code);
    
    forEach(Object_keys(win), function (key) {
        // Avoid copying circular objects like `top` and `window` by only
        // updating existing context properties or new properties in the `win`
        // that was only introduced after the eval.
        if (key in context || indexOf(winKeys, key) === -1) {
            context[key] = win[key];
        }
    });

    forEach(globals, function (key) {
        if (!(key in context)) {
            defineProp(context, key, win[key]);
        }
    });
    
    document.body.removeChild(iframe);
    
    return res;
};

Script.prototype.runInThisContext = function () {
    return eval(this.code); // maybe...
};

Script.prototype.runInNewContext = function (context) {
    var ctx = Script.createContext(context);
    var res = this.runInContext(ctx);

    forEach(Object_keys(ctx), function (key) {
        context[key] = ctx[key];
    });

    return res;
};

forEach(Object_keys(Script.prototype), function (name) {
    exports[name] = Script[name] = function (code) {
        var s = Script(code);
        return s[name].apply(s, [].slice.call(arguments, 1));
    };
});

exports.createScript = function (code) {
    return exports.Script(code);
};

exports.createContext = Script.createContext = function (context) {
    var copy = new Context();
    if(typeof context === 'object') {
        forEach(Object_keys(context), function (key) {
            copy[key] = context[key];
        });
    }
    return copy;
};

},{"indexof":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/vm-browserify/node_modules/indexof/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/vm-browserify/node_modules/indexof/index.js":[function(require,module,exports){

var indexOf = [].indexOf;

module.exports = function(arr, obj){
  if (indexOf) return arr.indexOf(obj);
  for (var i = 0; i < arr.length; ++i) {
    if (arr[i] === obj) return i;
  }
  return -1;
};
},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/parse-asn1/aesid.json":[function(require,module,exports){
module.exports=module.exports=module.exports={"2.16.840.1.101.3.4.1.1": "aes-128-ecb",
"2.16.840.1.101.3.4.1.2": "aes-128-cbc",
"2.16.840.1.101.3.4.1.3": "aes-128-ofb",
"2.16.840.1.101.3.4.1.4": "aes-128-cfb",
"2.16.840.1.101.3.4.1.21": "aes-192-ecb",
"2.16.840.1.101.3.4.1.22": "aes-192-cbc",
"2.16.840.1.101.3.4.1.23": "aes-192-ofb",
"2.16.840.1.101.3.4.1.24": "aes-192-cfb",
"2.16.840.1.101.3.4.1.41": "aes-256-ecb",
"2.16.840.1.101.3.4.1.42": "aes-256-cbc",
"2.16.840.1.101.3.4.1.43": "aes-256-ofb",
"2.16.840.1.101.3.4.1.44": "aes-256-cfb"
}
},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic.js":[function(require,module,exports){
'use strict';

var elliptic = exports;

elliptic.version = require('../package.json').version;
elliptic.utils = require('./elliptic/utils');
elliptic.rand = require('brorand');
elliptic.hmacDRBG = require('./elliptic/hmac-drbg');
elliptic.curve = require('./elliptic/curve');
elliptic.curves = require('./elliptic/curves');

// Protocols
elliptic.ec = require('./elliptic/ec');

},{"../package.json":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/package.json","./elliptic/curve":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curve/index.js","./elliptic/curves":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curves.js","./elliptic/ec":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/ec/index.js","./elliptic/hmac-drbg":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/hmac-drbg.js","./elliptic/utils":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/utils.js","brorand":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/brorand/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/package.json":[function(require,module,exports){
module.exports=module.exports=module.exports={
  "name": "elliptic",
  "version": "3.1.0",
  "description": "EC cryptography",
  "main": "lib/elliptic.js",
  "scripts": {
    "test": "make lint && mocha --reporter=spec test/*-test.js"
  },
  "repository": {
    "type": "git",
    "url": "git+ssh://git@github.com/indutny/elliptic.git"
  },
  "keywords": [
    "EC",
    "Elliptic",
    "curve",
    "Cryptography"
  ],
  "author": {
    "name": "Fedor Indutny",
    "email": "fedor@indutny.com"
  },
  "license": "MIT",
  "bugs": {
    "url": "https://github.com/indutny/elliptic/issues"
  },
  "homepage": "https://github.com/indutny/elliptic",
  "devDependencies": {
    "browserify": "^3.44.2",
    "jscs": "^1.11.3",
    "jshint": "^2.6.0",
    "mocha": "^2.1.0",
    "uglify-js": "^2.4.13"
  },
  "dependencies": {
    "bn.js": "^2.0.3",
    "brorand": "^1.0.1",
    "hash.js": "^1.0.0",
    "inherits": "^2.0.1"
  },
  "gitHead": "d86cd2a8178f7e7cecbd6dd92eea084e2ab44c13",
  "_id": "elliptic@3.1.0",
  "_shasum": "c21682ef762769b56a74201609105da11d5f60cc",
  "_from": "elliptic@>=3.0.0 <4.0.0",
  "_npmVersion": "2.11.0",
  "_nodeVersion": "2.2.1",
  "_npmUser": {
    "name": "indutny",
    "email": "fedor@indutny.com"
  },
  "maintainers": [
    {
      "name": "indutny",
      "email": "fedor@indutny.com"
    }
  ],
  "dist": {
    "shasum": "c21682ef762769b56a74201609105da11d5f60cc",
    "tarball": "http://registry.npmjs.org/elliptic/-/elliptic-3.1.0.tgz"
  },
  "directories": {},
  "_resolved": "https://registry.npmjs.org/elliptic/-/elliptic-3.1.0.tgz",
  "readme": "ERROR: No README data found!"
}

},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/brorand/index.js":[function(require,module,exports){
var r;

module.exports = function rand(len) {
  if (!r)
    r = new Rand(null);

  return r.generate(len);
};

function Rand(rand) {
  this.rand = rand;
}
module.exports.Rand = Rand;

Rand.prototype.generate = function generate(len) {
  return this._rand(len);
};

if (typeof window === 'object') {
  if (window.crypto && window.crypto.getRandomValues) {
    // Modern browsers
    Rand.prototype._rand = function _rand(n) {
      var arr = new Uint8Array(n);
      window.crypto.getRandomValues(arr);
      return arr;
    };
  } else if (window.msCrypto && window.msCrypto.getRandomValues) {
    // IE
    Rand.prototype._rand = function _rand(n) {
      var arr = new Uint8Array(n);
      window.msCrypto.getRandomValues(arr);
      return arr;
    };
  } else {
    // Old junk
    Rand.prototype._rand = function() {
      throw new Error('Not implemented yet');
    };
  }
} else {
  // Node.js or Web worker
  try {
    var crypto = require('cry' + 'pto');

    Rand.prototype._rand = function _rand(n) {
      return crypto.randomBytes(n);
    };
  } catch (e) {
    // Emulate crypto API using randy
    Rand.prototype._rand = function _rand(n) {
      var res = new Uint8Array(n);
      for (var i = 0; i < res.length; i++)
        res[i] = this.rand.getByte();
      return res;
    };
  }
}

},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/utils.js":[function(require,module,exports){
'use strict';

var utils = exports;

utils.assert = function assert(val, msg) {
  if (!val)
    throw new Error(msg || 'Assertion failed');
};

function toArray(msg, enc) {
  if (Array.isArray(msg))
    return msg.slice();
  if (!msg)
    return [];
  var res = [];
  if (typeof msg !== 'string') {
    for (var i = 0; i < msg.length; i++)
      res[i] = msg[i] | 0;
    return res;
  }
  if (!enc) {
    for (var i = 0; i < msg.length; i++) {
      var c = msg.charCodeAt(i);
      var hi = c >> 8;
      var lo = c & 0xff;
      if (hi)
        res.push(hi, lo);
      else
        res.push(lo);
    }
  } else if (enc === 'hex') {
    msg = msg.replace(/[^a-z0-9]+/ig, '');
    if (msg.length % 2 !== 0)
      msg = '0' + msg;
    for (var i = 0; i < msg.length; i += 2)
      res.push(parseInt(msg[i] + msg[i + 1], 16));
  }
  return res;
}
utils.toArray = toArray;

function zero2(word) {
  if (word.length === 1)
    return '0' + word;
  else
    return word;
}
utils.zero2 = zero2;

function toHex(msg) {
  var res = '';
  for (var i = 0; i < msg.length; i++)
    res += zero2(msg[i].toString(16));
  return res;
}
utils.toHex = toHex;

utils.encode = function encode(arr, enc) {
  if (enc === 'hex')
    return toHex(arr);
  else
    return arr;
};

// Represent num in a w-NAF form
function getNAF(num, w) {
  var naf = [];
  var ws = 1 << (w + 1);
  var k = num.clone();
  while (k.cmpn(1) >= 0) {
    var z;
    if (k.isOdd()) {
      var mod = k.andln(ws - 1);
      if (mod > (ws >> 1) - 1)
        z = (ws >> 1) - mod;
      else
        z = mod;
      k.isubn(z);
    } else {
      z = 0;
    }
    naf.push(z);

    // Optimization, shift by word if possible
    var shift = (k.cmpn(0) !== 0 && k.andln(ws - 1) === 0) ? (w + 1) : 1;
    for (var i = 1; i < shift; i++)
      naf.push(0);
    k.ishrn(shift);
  }

  return naf;
}
utils.getNAF = getNAF;

// Represent k1, k2 in a Joint Sparse Form
function getJSF(k1, k2) {
  var jsf = [
    [],
    []
  ];

  k1 = k1.clone();
  k2 = k2.clone();
  var d1 = 0;
  var d2 = 0;
  while (k1.cmpn(-d1) > 0 || k2.cmpn(-d2) > 0) {

    // First phase
    var m14 = (k1.andln(3) + d1) & 3;
    var m24 = (k2.andln(3) + d2) & 3;
    if (m14 === 3)
      m14 = -1;
    if (m24 === 3)
      m24 = -1;
    var u1;
    if ((m14 & 1) === 0) {
      u1 = 0;
    } else {
      var m8 = (k1.andln(7) + d1) & 7;
      if ((m8 === 3 || m8 === 5) && m24 === 2)
        u1 = -m14;
      else
        u1 = m14;
    }
    jsf[0].push(u1);

    var u2;
    if ((m24 & 1) === 0) {
      u2 = 0;
    } else {
      var m8 = (k2.andln(7) + d2) & 7;
      if ((m8 === 3 || m8 === 5) && m14 === 2)
        u2 = -m24;
      else
        u2 = m24;
    }
    jsf[1].push(u2);

    // Second phase
    if (2 * d1 === u1 + 1)
      d1 = 1 - d1;
    if (2 * d2 === u2 + 1)
      d2 = 1 - d2;
    k1.ishrn(1);
    k2.ishrn(1);
  }

  return jsf;
}
utils.getJSF = getJSF;

},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/hmac-drbg.js":[function(require,module,exports){
'use strict';

var hash = require('hash.js');
var elliptic = require('../elliptic');
var utils = elliptic.utils;
var assert = utils.assert;

function HmacDRBG(options) {
  if (!(this instanceof HmacDRBG))
    return new HmacDRBG(options);
  this.hash = options.hash;
  this.predResist = !!options.predResist;

  this.outLen = this.hash.outSize;
  this.minEntropy = options.minEntropy || this.hash.hmacStrength;

  this.reseed = null;
  this.reseedInterval = null;
  this.K = null;
  this.V = null;

  var entropy = utils.toArray(options.entropy, options.entropyEnc);
  var nonce = utils.toArray(options.nonce, options.nonceEnc);
  var pers = utils.toArray(options.pers, options.persEnc);
  assert(entropy.length >= (this.minEntropy / 8),
         'Not enough entropy. Minimum is: ' + this.minEntropy + ' bits');
  this._init(entropy, nonce, pers);
}
module.exports = HmacDRBG;

HmacDRBG.prototype._init = function init(entropy, nonce, pers) {
  var seed = entropy.concat(nonce).concat(pers);

  this.K = new Array(this.outLen / 8);
  this.V = new Array(this.outLen / 8);
  for (var i = 0; i < this.V.length; i++) {
    this.K[i] = 0x00;
    this.V[i] = 0x01;
  }

  this._update(seed);
  this.reseed = 1;
  this.reseedInterval = 0x1000000000000;  // 2^48
};

HmacDRBG.prototype._hmac = function hmac() {
  return new hash.hmac(this.hash, this.K);
};

HmacDRBG.prototype._update = function update(seed) {
  var kmac = this._hmac()
                 .update(this.V)
                 .update([ 0x00 ]);
  if (seed)
    kmac = kmac.update(seed);
  this.K = kmac.digest();
  this.V = this._hmac().update(this.V).digest();
  if (!seed)
    return;

  this.K = this._hmac()
               .update(this.V)
               .update([ 0x01 ])
               .update(seed)
               .digest();
  this.V = this._hmac().update(this.V).digest();
};

HmacDRBG.prototype.reseed = function reseed(entropy, entropyEnc, add, addEnc) {
  // Optional entropy enc
  if (typeof entropyEnc !== 'string') {
    addEnc = add;
    add = entropyEnc;
    entropyEnc = null;
  }

  entropy = utils.toBuffer(entropy, entropyEnc);
  add = utils.toBuffer(add, addEnc);

  assert(entropy.length >= (this.minEntropy / 8),
         'Not enough entropy. Minimum is: ' + this.minEntropy + ' bits');

  this._update(entropy.concat(add || []));
  this.reseed = 1;
};

HmacDRBG.prototype.generate = function generate(len, enc, add, addEnc) {
  if (this.reseed > this.reseedInterval)
    throw new Error('Reseed is required');

  // Optional encoding
  if (typeof enc !== 'string') {
    addEnc = add;
    add = enc;
    enc = null;
  }

  // Optional additional data
  if (add) {
    add = utils.toArray(add, addEnc);
    this._update(add);
  }

  var temp = [];
  while (temp.length < len) {
    this.V = this._hmac().update(this.V).digest();
    temp = temp.concat(this.V);
  }

  var res = temp.slice(0, len);
  this._update(add);
  this.reseed++;
  return utils.encode(res, enc);
};

},{"../elliptic":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic.js","hash.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/ec/index.js":[function(require,module,exports){
'use strict';

var bn = require('bn.js');
var elliptic = require('../../elliptic');
var utils = elliptic.utils;
var assert = utils.assert;

var KeyPair = require('./key');
var Signature = require('./signature');

function EC(options) {
  if (!(this instanceof EC))
    return new EC(options);

  // Shortcut `elliptic.ec(curve-name)`
  if (typeof options === 'string') {
    assert(elliptic.curves.hasOwnProperty(options), 'Unknown curve ' + options);

    options = elliptic.curves[options];
  }

  // Shortcut for `elliptic.ec(elliptic.curves.curveName)`
  if (options instanceof elliptic.curves.PresetCurve)
    options = { curve: options };

  this.curve = options.curve.curve;
  this.n = this.curve.n;
  this.nh = this.n.shrn(1);
  this.g = this.curve.g;

  // Point on curve
  this.g = options.curve.g;
  this.g.precompute(options.curve.n.bitLength() + 1);

  // Hash for function for DRBG
  this.hash = options.hash || options.curve.hash;
}
module.exports = EC;

EC.prototype.keyPair = function keyPair(options) {
  return new KeyPair(this, options);
};

EC.prototype.keyFromPrivate = function keyFromPrivate(priv, enc) {
  return KeyPair.fromPrivate(this, priv, enc);
};

EC.prototype.keyFromPublic = function keyFromPublic(pub, enc) {
  return KeyPair.fromPublic(this, pub, enc);
};

EC.prototype.genKeyPair = function genKeyPair(options) {
  if (!options)
    options = {};

  // Instantiate Hmac_DRBG
  var drbg = new elliptic.hmacDRBG({
    hash: this.hash,
    pers: options.pers,
    entropy: options.entropy || elliptic.rand(this.hash.hmacStrength),
    nonce: this.n.toArray()
  });

  var bytes = this.n.byteLength();
  var ns2 = this.n.sub(new bn(2));
  do {
    var priv = new bn(drbg.generate(bytes));
    if (priv.cmp(ns2) > 0)
      continue;

    priv.iaddn(1);
    return this.keyFromPrivate(priv);
  } while (true);
};

EC.prototype._truncateToN = function truncateToN(msg, truncOnly) {
  var delta = msg.byteLength() * 8 - this.n.bitLength();
  if (delta > 0)
    msg = msg.shrn(delta);
  if (!truncOnly && msg.cmp(this.n) >= 0)
    return msg.sub(this.n);
  else
    return msg;
};

EC.prototype.sign = function sign(msg, key, enc, options) {
  if (typeof enc === 'object') {
    options = enc;
    enc = null;
  }
  if (!options)
    options = {};

  key = this.keyFromPrivate(key, enc);
  msg = this._truncateToN(new bn(msg, 16));

  // Zero-extend key to provide enough entropy
  var bytes = this.n.byteLength();
  var bkey = key.getPrivate().toArray();
  for (var i = bkey.length; i < 21; i++)
    bkey.unshift(0);

  // Zero-extend nonce to have the same byte size as N
  var nonce = msg.toArray();
  for (var i = nonce.length; i < bytes; i++)
    nonce.unshift(0);

  // Instantiate Hmac_DRBG
  var drbg = new elliptic.hmacDRBG({
    hash: this.hash,
    entropy: bkey,
    nonce: nonce
  });

  // Number of bytes to generate
  var ns1 = this.n.sub(new bn(1));
  do {
    var k = new bn(drbg.generate(this.n.byteLength()));
    k = this._truncateToN(k, true);
    if (k.cmpn(1) <= 0 || k.cmp(ns1) >= 0)
      continue;

    var kp = this.g.mul(k);
    if (kp.isInfinity())
      continue;

    var kpX = kp.getX();
    var r = kpX.mod(this.n);
    if (r.cmpn(0) === 0)
      continue;

    var s = k.invm(this.n).mul(r.mul(key.getPrivate()).iadd(msg)).mod(this.n);
    if (s.cmpn(0) === 0)
      continue;

    // Use complement of `s`, if it is > `n / 2`
    if (options.canonical && s.cmp(this.nh) > 0)
      s = this.n.sub(s);

    var recoveryParam = (kp.getY().isOdd() ? 1 : 0) |
                        (kpX.cmp(r) !== 0 ? 2 : 0);

    return new Signature({ r: r, s: s, recoveryParam: recoveryParam });
  } while (true);
};

EC.prototype.verify = function verify(msg, signature, key, enc) {
  msg = this._truncateToN(new bn(msg, 16));
  key = this.keyFromPublic(key, enc);
  signature = new Signature(signature, 'hex');

  // Perform primitive values validation
  var r = signature.r;
  var s = signature.s;
  if (r.cmpn(1) < 0 || r.cmp(this.n) >= 0)
    return false;
  if (s.cmpn(1) < 0 || s.cmp(this.n) >= 0)
    return false;

  // Validate signature
  var sinv = s.invm(this.n);
  var u1 = sinv.mul(msg).mod(this.n);
  var u2 = sinv.mul(r).mod(this.n);

  var p = this.g.mulAdd(u1, key.getPublic(), u2);
  if (p.isInfinity())
    return false;

  return p.getX().mod(this.n).cmp(r) === 0;
};

EC.prototype.recoverPubKey = function(msg, signature, j, enc) {
  assert((3 & j) === j, 'The recovery param is more than two bits');
  signature = new Signature(signature, enc);

  var n = this.n;
  var e = new bn(msg);
  var r = signature.r;
  var s = signature.s;

  // A set LSB signifies that the y-coordinate is odd
  var isYOdd = j & 1;
  var isSecondKey = j >> 1;
  if (r.cmp(this.curve.p.mod(this.curve.n)) >= 0 && isSecondKey)
    throw new Error('Unable to find sencond key candinate');

  // 1.1. Let x = r + jn.
  r = this.curve.pointFromX(isYOdd, r);
  var eNeg = e.neg().mod(n);

  // 1.6.1 Compute Q = r^-1 (sR -  eG)
  //               Q = r^-1 (sR + -eG)
  var rInv = signature.r.invm(n);
  return r.mul(s).add(this.g.mul(eNeg)).mul(rInv);
};

EC.prototype.getKeyRecoveryParam = function(e, signature, Q, enc) {
  signature = new Signature(signature, enc);
  if (signature.recoveryParam !== null)
    return signature.recoveryParam;

  for (var i = 0; i < 4; i++) {
    var Qprime = this.recoverPubKey(e, signature, i);

    if (Qprime.eq(Q))
      return i;
  }
  throw new Error('Unable to find valid recovery factor');
};

},{"../../elliptic":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic.js","./key":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/ec/key.js","./signature":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/ec/signature.js","bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/bn.js/lib/bn.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/ec/signature.js":[function(require,module,exports){
'use strict';

var bn = require('bn.js');

var elliptic = require('../../elliptic');
var utils = elliptic.utils;
var assert = utils.assert;

function Signature(options, enc) {
  if (options instanceof Signature)
    return options;

  if (this._importDER(options, enc))
    return;

  assert(options.r && options.s, 'Signature without r or s');
  this.r = new bn(options.r, 16);
  this.s = new bn(options.s, 16);
  if (options.recoveryParam !== null)
    this.recoveryParam = options.recoveryParam;
  else
    this.recoveryParam = null;
}
module.exports = Signature;

Signature.prototype._importDER = function _importDER(data, enc) {
  data = utils.toArray(data, enc);
  if (data.length < 6 || data[0] !== 0x30 || data[2] !== 0x02)
    return false;
  var total = data[1];
  if (1 + total > data.length)
    return false;
  var rlen = data[3];
  // Short length notation
  if (rlen >= 0x80)
    return false;
  if (4 + rlen + 2 >= data.length)
    return false;
  if (data[4 + rlen] !== 0x02)
    return false;
  var slen = data[5 + rlen];
  // Short length notation
  if (slen >= 0x80)
    return false;
  if (4 + rlen + 2 + slen > data.length)
    return false;

  this.r = new bn(data.slice(4, 4 + rlen));
  this.s = new bn(data.slice(4 + rlen + 2, 4 + rlen + 2 + slen));
  this.recoveryParam = null;

  return true;
};

Signature.prototype.toDER = function toDER(enc) {
  var r = this.r.toArray();
  var s = this.s.toArray();

  // Pad values
  if (r[0] & 0x80)
    r = [ 0 ].concat(r);
  // Pad values
  if (s[0] & 0x80)
    s = [ 0 ].concat(s);

  var total = r.length + s.length + 4;
  var res = [ 0x30, total, 0x02, r.length ];
  res = res.concat(r, [ 0x02, s.length ], s);
  return utils.encode(res, enc);
};

},{"../../elliptic":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic.js","bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/bn.js/lib/bn.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/ec/key.js":[function(require,module,exports){
'use strict';

var bn = require('bn.js');

var elliptic = require('../../elliptic');
var utils = elliptic.utils;

function KeyPair(ec, options) {
  this.ec = ec;
  this.priv = null;
  this.pub = null;

  // KeyPair(ec, { priv: ..., pub: ... })
  if (options.priv)
    this._importPrivate(options.priv, options.privEnc);
  if (options.pub)
    this._importPublic(options.pub, options.pubEnc);
}
module.exports = KeyPair;

KeyPair.fromPublic = function fromPublic(ec, pub, enc) {
  if (pub instanceof KeyPair)
    return pub;

  return new KeyPair(ec, {
    pub: pub,
    pubEnc: enc
  });
};

KeyPair.fromPrivate = function fromPrivate(ec, priv, enc) {
  if (priv instanceof KeyPair)
    return priv;

  return new KeyPair(ec, {
    priv: priv,
    privEnc: enc
  });
};

KeyPair.prototype.validate = function validate() {
  var pub = this.getPublic();

  if (pub.isInfinity())
    return { result: false, reason: 'Invalid public key' };
  if (!pub.validate())
    return { result: false, reason: 'Public key is not a point' };
  if (!pub.mul(this.ec.curve.n).isInfinity())
    return { result: false, reason: 'Public key * N != O' };

  return { result: true, reason: null };
};

KeyPair.prototype.getPublic = function getPublic(compact, enc) {
  if (!this.pub)
    this.pub = this.ec.g.mul(this.priv);

  // compact is optional argument
  if (typeof compact === 'string') {
    enc = compact;
    compact = null;
  }

  if (!enc)
    return this.pub;

  var len = this.ec.curve.p.byteLength();
  var x = this.pub.getX().toArray();

  for (var i = x.length; i < len; i++)
    x.unshift(0);

  var res;
  if (this.ec.curve.type !== 'mont') {
    if (compact) {
      res = [ this.pub.getY().isEven() ? 0x02 : 0x03 ].concat(x);
    } else {
      var y = this.pub.getY().toArray();
      for (var i = y.length; i < len; i++)
        y.unshift(0);
      var res = [ 0x04 ].concat(x, y);
    }
  } else {
    res = x;
  }

  return utils.encode(res, enc);
};

KeyPair.prototype.getPrivate = function getPrivate(enc) {
  if (enc === 'hex')
    return this.priv.toString(16, 2);
  else
    return this.priv;
};

KeyPair.prototype._importPrivate = function _importPrivate(key, enc) {
  this.priv = new bn(key, enc || 16);

  // Ensure that the priv won't be bigger than n, otherwise we may fail
  // in fixed multiplication method
  this.priv = this.priv.mod(this.ec.curve.n);
};

KeyPair.prototype._importPublic = function _importPublic(key, enc) {
  if (key.x || key.y) {
    this.pub = this.ec.curve.point(key.x, key.y);
    return;
  }

  key = utils.toArray(key, enc);
  if (this.ec.curve.type !== 'mont')
    return this._importPublicShort(key);
  else
    return this._importPublicMont(key);
};

KeyPair.prototype._importPublicShort = function _importPublicShort(key) {
  var len = this.ec.curve.p.byteLength();
  if (key[0] === 0x04 && key.length - 1 === 2 * len) {
    this.pub = this.ec.curve.point(
      key.slice(1, 1 + len),
      key.slice(1 + len, 1 + 2 * len));
  } else if ((key[0] === 0x02 || key[0] === 0x03) && key.length - 1 === len) {
    this.pub = this.ec.curve.pointFromX(key[0] === 0x03, key.slice(1, 1 + len));
  }
};

KeyPair.prototype._importPublicMont = function _importPublicMont(key) {
  this.pub = this.ec.curve.point(key, 1);
};

// ECDH
KeyPair.prototype.derive = function derive(pub) {
  return pub.mul(this.priv).getX();
};

// ECDSA
KeyPair.prototype.sign = function sign(msg) {
  return this.ec.sign(msg, this);
};

KeyPair.prototype.verify = function verify(msg, signature) {
  return this.ec.verify(msg, signature, this);
};

KeyPair.prototype.inspect = function inspect() {
  return '<Key priv: ' + (this.priv && this.priv.toString(16, 2)) +
         ' pub: ' + (this.pub && this.pub.inspect()) + ' >';
};

},{"../../elliptic":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic.js","bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/bn.js/lib/bn.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curves.js":[function(require,module,exports){
'use strict';

var curves = exports;

var hash = require('hash.js');
var elliptic = require('../elliptic');

var assert = elliptic.utils.assert;

function PresetCurve(options) {
  if (options.type === 'short')
    this.curve = new elliptic.curve.short(options);
  else if (options.type === 'edwards')
    this.curve = new elliptic.curve.edwards(options);
  else
    this.curve = new elliptic.curve.mont(options);
  this.g = this.curve.g;
  this.n = this.curve.n;
  this.hash = options.hash;

  assert(this.g.validate(), 'Invalid curve');
  assert(this.g.mul(this.n).isInfinity(), 'Invalid curve, G*N != O');
}
curves.PresetCurve = PresetCurve;

function defineCurve(name, options) {
  Object.defineProperty(curves, name, {
    configurable: true,
    enumerable: true,
    get: function() {
      var curve = new PresetCurve(options);
      Object.defineProperty(curves, name, {
        configurable: true,
        enumerable: true,
        value: curve
      });
      return curve;
    }
  });
}

defineCurve('p192', {
  type: 'short',
  prime: 'p192',
  p: 'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff',
  a: 'ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc',
  b: '64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1',
  n: 'ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831',
  hash: hash.sha256,
  gRed: false,
  g: [
    '188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012',
    '07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811'
  ]
});

defineCurve('p224', {
  type: 'short',
  prime: 'p224',
  p: 'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001',
  a: 'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe',
  b: 'b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4',
  n: 'ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d',
  hash: hash.sha256,
  gRed: false,
  g: [
    'b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21',
    'bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34'
  ]
});

defineCurve('p256', {
  type: 'short',
  prime: null,
  p: 'ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff',
  a: 'ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc',
  b: '5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b',
  n: 'ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551',
  hash: hash.sha256,
  gRed: false,
  g: [
    '6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296',
    '4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5'
  ]
});

defineCurve('curve25519', {
  type: 'mont',
  prime: 'p25519',
  p: '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed',
  a: '76d06',
  b: '0',
  n: '1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed',
  hash: hash.sha256,
  gRed: false,
  g: [
    '9'
  ]
});

defineCurve('ed25519', {
  type: 'edwards',
  prime: 'p25519',
  p: '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed',
  a: '-1',
  c: '1',
  // -121665 * (121666^(-1)) (mod P)
  d: '52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3',
  n: '1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed',
  hash: hash.sha256,
  gRed: false,
  g: [
    '216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a',

    // 4/5
    '6666666666666666666666666666666666666666666666666666666666666658'
  ]
});

var pre;
try {
  pre = require('./precomputed/secp256k1');
} catch (e) {
  pre = undefined;
}

defineCurve('secp256k1', {
  type: 'short',
  prime: 'k256',
  p: 'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f',
  a: '0',
  b: '7',
  n: 'ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141',
  h: '1',
  hash: hash.sha256,

  // Precomputed endomorphism
  beta: '7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee',
  lambda: '5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72',
  basis: [
    {
      a: '3086d221a7d46bcde86c90e49284eb15',
      b: '-e4437ed6010e88286f547fa90abfe4c3'
    },
    {
      a: '114ca50f7a8e2f3f657c1108d9d44cfd8',
      b: '3086d221a7d46bcde86c90e49284eb15'
    }
  ],

  gRed: false,
  g: [
    '79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798',
    '483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8',
    pre
  ]
});

},{"../elliptic":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic.js","./precomputed/secp256k1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/precomputed/secp256k1.js","hash.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash.js":[function(require,module,exports){
var hash = exports;

hash.utils = require('./hash/utils');
hash.common = require('./hash/common');
hash.sha = require('./hash/sha');
hash.ripemd = require('./hash/ripemd');
hash.hmac = require('./hash/hmac');

// Proxy hash functions to the main object
hash.sha1 = hash.sha.sha1;
hash.sha256 = hash.sha.sha256;
hash.sha224 = hash.sha.sha224;
hash.sha384 = hash.sha.sha384;
hash.sha512 = hash.sha.sha512;
hash.ripemd160 = hash.ripemd.ripemd160;

},{"./hash/common":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash/common.js","./hash/hmac":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash/hmac.js","./hash/ripemd":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash/ripemd.js","./hash/sha":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash/sha.js","./hash/utils":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash/utils.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash/utils.js":[function(require,module,exports){
var utils = exports;
var inherits = require('inherits');

function toArray(msg, enc) {
  if (Array.isArray(msg))
    return msg.slice();
  if (!msg)
    return [];
  var res = [];
  if (typeof msg === 'string') {
    if (!enc) {
      for (var i = 0; i < msg.length; i++) {
        var c = msg.charCodeAt(i);
        var hi = c >> 8;
        var lo = c & 0xff;
        if (hi)
          res.push(hi, lo);
        else
          res.push(lo);
      }
    } else if (enc === 'hex') {
      msg = msg.replace(/[^a-z0-9]+/ig, '');
      if (msg.length % 2 !== 0)
        msg = '0' + msg;
      for (var i = 0; i < msg.length; i += 2)
        res.push(parseInt(msg[i] + msg[i + 1], 16));
    }
  } else {
    for (var i = 0; i < msg.length; i++)
      res[i] = msg[i] | 0;
  }
  return res;
}
utils.toArray = toArray;

function toHex(msg) {
  var res = '';
  for (var i = 0; i < msg.length; i++)
    res += zero2(msg[i].toString(16));
  return res;
}
utils.toHex = toHex;

function htonl(w) {
  var res = (w >>> 24) |
            ((w >>> 8) & 0xff00) |
            ((w << 8) & 0xff0000) |
            ((w & 0xff) << 24);
  return res >>> 0;
}
utils.htonl = htonl;

function toHex32(msg, endian) {
  var res = '';
  for (var i = 0; i < msg.length; i++) {
    var w = msg[i];
    if (endian === 'little')
      w = htonl(w);
    res += zero8(w.toString(16));
  }
  return res;
}
utils.toHex32 = toHex32;

function zero2(word) {
  if (word.length === 1)
    return '0' + word;
  else
    return word;
}
utils.zero2 = zero2;

function zero8(word) {
  if (word.length === 7)
    return '0' + word;
  else if (word.length === 6)
    return '00' + word;
  else if (word.length === 5)
    return '000' + word;
  else if (word.length === 4)
    return '0000' + word;
  else if (word.length === 3)
    return '00000' + word;
  else if (word.length === 2)
    return '000000' + word;
  else if (word.length === 1)
    return '0000000' + word;
  else
    return word;
}
utils.zero8 = zero8;

function join32(msg, start, end, endian) {
  var len = end - start;
  assert(len % 4 === 0);
  var res = new Array(len / 4);
  for (var i = 0, k = start; i < res.length; i++, k += 4) {
    var w;
    if (endian === 'big')
      w = (msg[k] << 24) | (msg[k + 1] << 16) | (msg[k + 2] << 8) | msg[k + 3];
    else
      w = (msg[k + 3] << 24) | (msg[k + 2] << 16) | (msg[k + 1] << 8) | msg[k];
    res[i] = w >>> 0;
  }
  return res;
}
utils.join32 = join32;

function split32(msg, endian) {
  var res = new Array(msg.length * 4);
  for (var i = 0, k = 0; i < msg.length; i++, k += 4) {
    var m = msg[i];
    if (endian === 'big') {
      res[k] = m >>> 24;
      res[k + 1] = (m >>> 16) & 0xff;
      res[k + 2] = (m >>> 8) & 0xff;
      res[k + 3] = m & 0xff;
    } else {
      res[k + 3] = m >>> 24;
      res[k + 2] = (m >>> 16) & 0xff;
      res[k + 1] = (m >>> 8) & 0xff;
      res[k] = m & 0xff;
    }
  }
  return res;
}
utils.split32 = split32;

function rotr32(w, b) {
  return (w >>> b) | (w << (32 - b));
}
utils.rotr32 = rotr32;

function rotl32(w, b) {
  return (w << b) | (w >>> (32 - b));
}
utils.rotl32 = rotl32;

function sum32(a, b) {
  return (a + b) >>> 0;
}
utils.sum32 = sum32;

function sum32_3(a, b, c) {
  return (a + b + c) >>> 0;
}
utils.sum32_3 = sum32_3;

function sum32_4(a, b, c, d) {
  return (a + b + c + d) >>> 0;
}
utils.sum32_4 = sum32_4;

function sum32_5(a, b, c, d, e) {
  return (a + b + c + d + e) >>> 0;
}
utils.sum32_5 = sum32_5;

function assert(cond, msg) {
  if (!cond)
    throw new Error(msg || 'Assertion failed');
}
utils.assert = assert;

utils.inherits = inherits;

function sum64(buf, pos, ah, al) {
  var bh = buf[pos];
  var bl = buf[pos + 1];

  var lo = (al + bl) >>> 0;
  var hi = (lo < al ? 1 : 0) + ah + bh;
  buf[pos] = hi >>> 0;
  buf[pos + 1] = lo;
}
exports.sum64 = sum64;

function sum64_hi(ah, al, bh, bl) {
  var lo = (al + bl) >>> 0;
  var hi = (lo < al ? 1 : 0) + ah + bh;
  return hi >>> 0;
};
exports.sum64_hi = sum64_hi;

function sum64_lo(ah, al, bh, bl) {
  var lo = al + bl;
  return lo >>> 0;
};
exports.sum64_lo = sum64_lo;

function sum64_4_hi(ah, al, bh, bl, ch, cl, dh, dl) {
  var carry = 0;
  var lo = al;
  lo = (lo + bl) >>> 0;
  carry += lo < al ? 1 : 0;
  lo = (lo + cl) >>> 0;
  carry += lo < cl ? 1 : 0;
  lo = (lo + dl) >>> 0;
  carry += lo < dl ? 1 : 0;

  var hi = ah + bh + ch + dh + carry;
  return hi >>> 0;
};
exports.sum64_4_hi = sum64_4_hi;

function sum64_4_lo(ah, al, bh, bl, ch, cl, dh, dl) {
  var lo = al + bl + cl + dl;
  return lo >>> 0;
};
exports.sum64_4_lo = sum64_4_lo;

function sum64_5_hi(ah, al, bh, bl, ch, cl, dh, dl, eh, el) {
  var carry = 0;
  var lo = al;
  lo = (lo + bl) >>> 0;
  carry += lo < al ? 1 : 0;
  lo = (lo + cl) >>> 0;
  carry += lo < cl ? 1 : 0;
  lo = (lo + dl) >>> 0;
  carry += lo < dl ? 1 : 0;
  lo = (lo + el) >>> 0;
  carry += lo < el ? 1 : 0;

  var hi = ah + bh + ch + dh + eh + carry;
  return hi >>> 0;
};
exports.sum64_5_hi = sum64_5_hi;

function sum64_5_lo(ah, al, bh, bl, ch, cl, dh, dl, eh, el) {
  var lo = al + bl + cl + dl + el;

  return lo >>> 0;
};
exports.sum64_5_lo = sum64_5_lo;

function rotr64_hi(ah, al, num) {
  var r = (al << (32 - num)) | (ah >>> num);
  return r >>> 0;
};
exports.rotr64_hi = rotr64_hi;

function rotr64_lo(ah, al, num) {
  var r = (ah << (32 - num)) | (al >>> num);
  return r >>> 0;
};
exports.rotr64_lo = rotr64_lo;

function shr64_hi(ah, al, num) {
  return ah >>> num;
};
exports.shr64_hi = shr64_hi;

function shr64_lo(ah, al, num) {
  var r = (ah << (32 - num)) | (al >>> num);
  return r >>> 0;
};
exports.shr64_lo = shr64_lo;

},{"inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash/sha.js":[function(require,module,exports){
var hash = require('../hash');
var utils = hash.utils;
var assert = utils.assert;

var rotr32 = utils.rotr32;
var rotl32 = utils.rotl32;
var sum32 = utils.sum32;
var sum32_4 = utils.sum32_4;
var sum32_5 = utils.sum32_5;
var rotr64_hi = utils.rotr64_hi;
var rotr64_lo = utils.rotr64_lo;
var shr64_hi = utils.shr64_hi;
var shr64_lo = utils.shr64_lo;
var sum64 = utils.sum64;
var sum64_hi = utils.sum64_hi;
var sum64_lo = utils.sum64_lo;
var sum64_4_hi = utils.sum64_4_hi;
var sum64_4_lo = utils.sum64_4_lo;
var sum64_5_hi = utils.sum64_5_hi;
var sum64_5_lo = utils.sum64_5_lo;
var BlockHash = hash.common.BlockHash;

var sha256_K = [
  0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5,
  0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,
  0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3,
  0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,
  0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc,
  0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,
  0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7,
  0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,
  0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13,
  0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,
  0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3,
  0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,
  0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5,
  0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,
  0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208,
  0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2
];

var sha512_K = [
  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,
  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,
  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,
  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,
  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,
  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,
  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,
  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,
  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,
  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,
  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,
  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,
  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,
  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,
  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,
  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,
  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,
  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,
  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,
  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,
  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,
  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,
  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,
  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,
  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,
  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,
  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,
  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,
  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,
  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,
  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,
  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,
  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,
  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,
  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,
  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,
  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,
  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,
  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,
  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817
];

var sha1_K = [
  0x5A827999, 0x6ED9EBA1,
  0x8F1BBCDC, 0xCA62C1D6
];

function SHA256() {
  if (!(this instanceof SHA256))
    return new SHA256();

  BlockHash.call(this);
  this.h = [ 0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a,
             0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19 ];
  this.k = sha256_K;
  this.W = new Array(64);
}
utils.inherits(SHA256, BlockHash);
exports.sha256 = SHA256;

SHA256.blockSize = 512;
SHA256.outSize = 256;
SHA256.hmacStrength = 192;
SHA256.padLength = 64;

SHA256.prototype._update = function _update(msg, start) {
  var W = this.W;

  for (var i = 0; i < 16; i++)
    W[i] = msg[start + i];
  for (; i < W.length; i++)
    W[i] = sum32_4(g1_256(W[i - 2]), W[i - 7], g0_256(W[i - 15]), W[i - 16]);

  var a = this.h[0];
  var b = this.h[1];
  var c = this.h[2];
  var d = this.h[3];
  var e = this.h[4];
  var f = this.h[5];
  var g = this.h[6];
  var h = this.h[7];

  assert(this.k.length === W.length);
  for (var i = 0; i < W.length; i++) {
    var T1 = sum32_5(h, s1_256(e), ch32(e, f, g), this.k[i], W[i]);
    var T2 = sum32(s0_256(a), maj32(a, b, c));
    h = g;
    g = f;
    f = e;
    e = sum32(d, T1);
    d = c;
    c = b;
    b = a;
    a = sum32(T1, T2);
  }

  this.h[0] = sum32(this.h[0], a);
  this.h[1] = sum32(this.h[1], b);
  this.h[2] = sum32(this.h[2], c);
  this.h[3] = sum32(this.h[3], d);
  this.h[4] = sum32(this.h[4], e);
  this.h[5] = sum32(this.h[5], f);
  this.h[6] = sum32(this.h[6], g);
  this.h[7] = sum32(this.h[7], h);
};

SHA256.prototype._digest = function digest(enc) {
  if (enc === 'hex')
    return utils.toHex32(this.h, 'big');
  else
    return utils.split32(this.h, 'big');
};

function SHA224() {
  if (!(this instanceof SHA224))
    return new SHA224();

  SHA256.call(this);
  this.h = [ 0xc1059ed8, 0x367cd507, 0x3070dd17, 0xf70e5939,
             0xffc00b31, 0x68581511, 0x64f98fa7, 0xbefa4fa4 ];
}
utils.inherits(SHA224, SHA256);
exports.sha224 = SHA224;

SHA224.blockSize = 512;
SHA224.outSize = 224;
SHA224.hmacStrength = 192;
SHA224.padLength = 64;

SHA224.prototype._digest = function digest(enc) {
  // Just truncate output
  if (enc === 'hex')
    return utils.toHex32(this.h.slice(0, 7), 'big');
  else
    return utils.split32(this.h.slice(0, 7), 'big');
};

function SHA512() {
  if (!(this instanceof SHA512))
    return new SHA512();

  BlockHash.call(this);
  this.h = [ 0x6a09e667, 0xf3bcc908,
             0xbb67ae85, 0x84caa73b,
             0x3c6ef372, 0xfe94f82b,
             0xa54ff53a, 0x5f1d36f1,
             0x510e527f, 0xade682d1,
             0x9b05688c, 0x2b3e6c1f,
             0x1f83d9ab, 0xfb41bd6b,
             0x5be0cd19, 0x137e2179 ];
  this.k = sha512_K;
  this.W = new Array(160);
}
utils.inherits(SHA512, BlockHash);
exports.sha512 = SHA512;

SHA512.blockSize = 1024;
SHA512.outSize = 512;
SHA512.hmacStrength = 192;
SHA512.padLength = 128;

SHA512.prototype._prepareBlock = function _prepareBlock(msg, start) {
  var W = this.W;

  // 32 x 32bit words
  for (var i = 0; i < 32; i++)
    W[i] = msg[start + i];
  for (; i < W.length; i += 2) {
    var c0_hi = g1_512_hi(W[i - 4], W[i - 3]);  // i - 2
    var c0_lo = g1_512_lo(W[i - 4], W[i - 3]);
    var c1_hi = W[i - 14];  // i - 7
    var c1_lo = W[i - 13];
    var c2_hi = g0_512_hi(W[i - 30], W[i - 29]);  // i - 15
    var c2_lo = g0_512_lo(W[i - 30], W[i - 29]);
    var c3_hi = W[i - 32];  // i - 16
    var c3_lo = W[i - 31];

    W[i] = sum64_4_hi(c0_hi, c0_lo,
                      c1_hi, c1_lo,
                      c2_hi, c2_lo,
                      c3_hi, c3_lo);
    W[i + 1] = sum64_4_lo(c0_hi, c0_lo,
                          c1_hi, c1_lo,
                          c2_hi, c2_lo,
                          c3_hi, c3_lo);
  }
};

SHA512.prototype._update = function _update(msg, start) {
  this._prepareBlock(msg, start);

  var W = this.W;

  var ah = this.h[0];
  var al = this.h[1];
  var bh = this.h[2];
  var bl = this.h[3];
  var ch = this.h[4];
  var cl = this.h[5];
  var dh = this.h[6];
  var dl = this.h[7];
  var eh = this.h[8];
  var el = this.h[9];
  var fh = this.h[10];
  var fl = this.h[11];
  var gh = this.h[12];
  var gl = this.h[13];
  var hh = this.h[14];
  var hl = this.h[15];

  assert(this.k.length === W.length);
  for (var i = 0; i < W.length; i += 2) {
    var c0_hi = hh;
    var c0_lo = hl;
    var c1_hi = s1_512_hi(eh, el);
    var c1_lo = s1_512_lo(eh, el);
    var c2_hi = ch64_hi(eh, el, fh, fl, gh, gl);
    var c2_lo = ch64_lo(eh, el, fh, fl, gh, gl);
    var c3_hi = this.k[i];
    var c3_lo = this.k[i + 1];
    var c4_hi = W[i];
    var c4_lo = W[i + 1];

    var T1_hi = sum64_5_hi(c0_hi, c0_lo,
                           c1_hi, c1_lo,
                           c2_hi, c2_lo,
                           c3_hi, c3_lo,
                           c4_hi, c4_lo);
    var T1_lo = sum64_5_lo(c0_hi, c0_lo,
                           c1_hi, c1_lo,
                           c2_hi, c2_lo,
                           c3_hi, c3_lo,
                           c4_hi, c4_lo);

    var c0_hi = s0_512_hi(ah, al);
    var c0_lo = s0_512_lo(ah, al);
    var c1_hi = maj64_hi(ah, al, bh, bl, ch, cl);
    var c1_lo = maj64_lo(ah, al, bh, bl, ch, cl);

    var T2_hi = sum64_hi(c0_hi, c0_lo, c1_hi, c1_lo);
    var T2_lo = sum64_lo(c0_hi, c0_lo, c1_hi, c1_lo);

    hh = gh;
    hl = gl;

    gh = fh;
    gl = fl;

    fh = eh;
    fl = el;

    eh = sum64_hi(dh, dl, T1_hi, T1_lo);
    el = sum64_lo(dl, dl, T1_hi, T1_lo);

    dh = ch;
    dl = cl;

    ch = bh;
    cl = bl;

    bh = ah;
    bl = al;

    ah = sum64_hi(T1_hi, T1_lo, T2_hi, T2_lo);
    al = sum64_lo(T1_hi, T1_lo, T2_hi, T2_lo);
  }

  sum64(this.h, 0, ah, al);
  sum64(this.h, 2, bh, bl);
  sum64(this.h, 4, ch, cl);
  sum64(this.h, 6, dh, dl);
  sum64(this.h, 8, eh, el);
  sum64(this.h, 10, fh, fl);
  sum64(this.h, 12, gh, gl);
  sum64(this.h, 14, hh, hl);
};

SHA512.prototype._digest = function digest(enc) {
  if (enc === 'hex')
    return utils.toHex32(this.h, 'big');
  else
    return utils.split32(this.h, 'big');
};

function SHA384() {
  if (!(this instanceof SHA384))
    return new SHA384();

  SHA512.call(this);
  this.h = [ 0xcbbb9d5d, 0xc1059ed8,
             0x629a292a, 0x367cd507,
             0x9159015a, 0x3070dd17,
             0x152fecd8, 0xf70e5939,
             0x67332667, 0xffc00b31,
             0x8eb44a87, 0x68581511,
             0xdb0c2e0d, 0x64f98fa7,
             0x47b5481d, 0xbefa4fa4 ];
}
utils.inherits(SHA384, SHA512);
exports.sha384 = SHA384;

SHA384.blockSize = 1024;
SHA384.outSize = 384;
SHA384.hmacStrength = 192;
SHA384.padLength = 128;

SHA384.prototype._digest = function digest(enc) {
  if (enc === 'hex')
    return utils.toHex32(this.h.slice(0, 12), 'big');
  else
    return utils.split32(this.h.slice(0, 12), 'big');
};

function SHA1() {
  if (!(this instanceof SHA1))
    return new SHA1();

  BlockHash.call(this);
  this.h = [ 0x67452301, 0xefcdab89, 0x98badcfe,
             0x10325476, 0xc3d2e1f0 ];
  this.W = new Array(80);
}

utils.inherits(SHA1, BlockHash);
exports.sha1 = SHA1;

SHA1.blockSize = 512;
SHA1.outSize = 160;
SHA1.hmacStrength = 80;
SHA1.padLength = 64;

SHA1.prototype._update = function _update(msg, start) {
  var W = this.W;

  for (var i = 0; i < 16; i++)
    W[i] = msg[start + i];

  for(; i < W.length; i++)
    W[i] = rotl32(W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16], 1);

  var a = this.h[0];
  var b = this.h[1];
  var c = this.h[2];
  var d = this.h[3];
  var e = this.h[4];

  for (var i = 0; i < W.length; i++) {
    var s = ~~(i / 20);
    var t = sum32_5(rotl32(a, 5), ft_1(s, b, c, d), e, W[i], sha1_K[s]);
    e = d;
    d = c;
    c = rotl32(b, 30);
    b = a;
    a = t;
  }

  this.h[0] = sum32(this.h[0], a);
  this.h[1] = sum32(this.h[1], b);
  this.h[2] = sum32(this.h[2], c);
  this.h[3] = sum32(this.h[3], d);
  this.h[4] = sum32(this.h[4], e);
};

SHA1.prototype._digest = function digest(enc) {
  if (enc === 'hex')
    return utils.toHex32(this.h, 'big');
  else
    return utils.split32(this.h, 'big');
};

function ch32(x, y, z) {
  return (x & y) ^ ((~x) & z);
}

function maj32(x, y, z) {
  return (x & y) ^ (x & z) ^ (y & z);
}

function p32(x, y, z) {
  return x ^ y ^ z;
}

function s0_256(x) {
  return rotr32(x, 2) ^ rotr32(x, 13) ^ rotr32(x, 22);
}

function s1_256(x) {
  return rotr32(x, 6) ^ rotr32(x, 11) ^ rotr32(x, 25);
}

function g0_256(x) {
  return rotr32(x, 7) ^ rotr32(x, 18) ^ (x >>> 3);
}

function g1_256(x) {
  return rotr32(x, 17) ^ rotr32(x, 19) ^ (x >>> 10);
}

function ft_1(s, x, y, z) {
  if (s === 0)
    return ch32(x, y, z);
  if (s === 1 || s === 3)
    return p32(x, y, z);
  if (s === 2)
    return maj32(x, y, z);
}

function ch64_hi(xh, xl, yh, yl, zh, zl) {
  var r = (xh & yh) ^ ((~xh) & zh);
  if (r < 0)
    r += 0x100000000;
  return r;
}

function ch64_lo(xh, xl, yh, yl, zh, zl) {
  var r = (xl & yl) ^ ((~xl) & zl);
  if (r < 0)
    r += 0x100000000;
  return r;
}

function maj64_hi(xh, xl, yh, yl, zh, zl) {
  var r = (xh & yh) ^ (xh & zh) ^ (yh & zh);
  if (r < 0)
    r += 0x100000000;
  return r;
}

function maj64_lo(xh, xl, yh, yl, zh, zl) {
  var r = (xl & yl) ^ (xl & zl) ^ (yl & zl);
  if (r < 0)
    r += 0x100000000;
  return r;
}

function s0_512_hi(xh, xl) {
  var c0_hi = rotr64_hi(xh, xl, 28);
  var c1_hi = rotr64_hi(xl, xh, 2);  // 34
  var c2_hi = rotr64_hi(xl, xh, 7);  // 39

  var r = c0_hi ^ c1_hi ^ c2_hi;
  if (r < 0)
    r += 0x100000000;
  return r;
}

function s0_512_lo(xh, xl) {
  var c0_lo = rotr64_lo(xh, xl, 28);
  var c1_lo = rotr64_lo(xl, xh, 2);  // 34
  var c2_lo = rotr64_lo(xl, xh, 7);  // 39

  var r = c0_lo ^ c1_lo ^ c2_lo;
  if (r < 0)
    r += 0x100000000;
  return r;
}

function s1_512_hi(xh, xl) {
  var c0_hi = rotr64_hi(xh, xl, 14);
  var c1_hi = rotr64_hi(xh, xl, 18);
  var c2_hi = rotr64_hi(xl, xh, 9);  // 41

  var r = c0_hi ^ c1_hi ^ c2_hi;
  if (r < 0)
    r += 0x100000000;
  return r;
}

function s1_512_lo(xh, xl) {
  var c0_lo = rotr64_lo(xh, xl, 14);
  var c1_lo = rotr64_lo(xh, xl, 18);
  var c2_lo = rotr64_lo(xl, xh, 9);  // 41

  var r = c0_lo ^ c1_lo ^ c2_lo;
  if (r < 0)
    r += 0x100000000;
  return r;
}

function g0_512_hi(xh, xl) {
  var c0_hi = rotr64_hi(xh, xl, 1);
  var c1_hi = rotr64_hi(xh, xl, 8);
  var c2_hi = shr64_hi(xh, xl, 7);

  var r = c0_hi ^ c1_hi ^ c2_hi;
  if (r < 0)
    r += 0x100000000;
  return r;
}

function g0_512_lo(xh, xl) {
  var c0_lo = rotr64_lo(xh, xl, 1);
  var c1_lo = rotr64_lo(xh, xl, 8);
  var c2_lo = shr64_lo(xh, xl, 7);

  var r = c0_lo ^ c1_lo ^ c2_lo;
  if (r < 0)
    r += 0x100000000;
  return r;
}

function g1_512_hi(xh, xl) {
  var c0_hi = rotr64_hi(xh, xl, 19);
  var c1_hi = rotr64_hi(xl, xh, 29);  // 61
  var c2_hi = shr64_hi(xh, xl, 6);

  var r = c0_hi ^ c1_hi ^ c2_hi;
  if (r < 0)
    r += 0x100000000;
  return r;
}

function g1_512_lo(xh, xl) {
  var c0_lo = rotr64_lo(xh, xl, 19);
  var c1_lo = rotr64_lo(xl, xh, 29);  // 61
  var c2_lo = shr64_lo(xh, xl, 6);

  var r = c0_lo ^ c1_lo ^ c2_lo;
  if (r < 0)
    r += 0x100000000;
  return r;
}

},{"../hash":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash/ripemd.js":[function(require,module,exports){
var hash = require('../hash');
var utils = hash.utils;

var rotl32 = utils.rotl32;
var sum32 = utils.sum32;
var sum32_3 = utils.sum32_3;
var sum32_4 = utils.sum32_4;
var BlockHash = hash.common.BlockHash;

function RIPEMD160() {
  if (!(this instanceof RIPEMD160))
    return new RIPEMD160();

  BlockHash.call(this);

  this.h = [ 0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0 ];
  this.endian = 'little';
}
utils.inherits(RIPEMD160, BlockHash);
exports.ripemd160 = RIPEMD160;

RIPEMD160.blockSize = 512;
RIPEMD160.outSize = 160;
RIPEMD160.hmacStrength = 192;
RIPEMD160.padLength = 64;

RIPEMD160.prototype._update = function update(msg, start) {
  var A = this.h[0];
  var B = this.h[1];
  var C = this.h[2];
  var D = this.h[3];
  var E = this.h[4];
  var Ah = A;
  var Bh = B;
  var Ch = C;
  var Dh = D;
  var Eh = E;
  for (var j = 0; j < 80; j++) {
    var T = sum32(
      rotl32(
        sum32_4(A, f(j, B, C, D), msg[r[j] + start], K(j)),
        s[j]),
      E);
    A = E;
    E = D;
    D = rotl32(C, 10);
    C = B;
    B = T;
    T = sum32(
      rotl32(
        sum32_4(Ah, f(79 - j, Bh, Ch, Dh), msg[rh[j] + start], Kh(j)),
        sh[j]),
      Eh);
    Ah = Eh;
    Eh = Dh;
    Dh = rotl32(Ch, 10);
    Ch = Bh;
    Bh = T;
  }
  T = sum32_3(this.h[1], C, Dh);
  this.h[1] = sum32_3(this.h[2], D, Eh);
  this.h[2] = sum32_3(this.h[3], E, Ah);
  this.h[3] = sum32_3(this.h[4], A, Bh);
  this.h[4] = sum32_3(this.h[0], B, Ch);
  this.h[0] = T;
};

RIPEMD160.prototype._digest = function digest(enc) {
  if (enc === 'hex')
    return utils.toHex32(this.h, 'little');
  else
    return utils.split32(this.h, 'little');
};

function f(j, x, y, z) {
  if (j <= 15)
    return x ^ y ^ z;
  else if (j <= 31)
    return (x & y) | ((~x) & z);
  else if (j <= 47)
    return (x | (~y)) ^ z;
  else if (j <= 63)
    return (x & z) | (y & (~z));
  else
    return x ^ (y | (~z));
}

function K(j) {
  if (j <= 15)
    return 0x00000000;
  else if (j <= 31)
    return 0x5a827999;
  else if (j <= 47)
    return 0x6ed9eba1;
  else if (j <= 63)
    return 0x8f1bbcdc;
  else
    return 0xa953fd4e;
}

function Kh(j) {
  if (j <= 15)
    return 0x50a28be6;
  else if (j <= 31)
    return 0x5c4dd124;
  else if (j <= 47)
    return 0x6d703ef3;
  else if (j <= 63)
    return 0x7a6d76e9;
  else
    return 0x00000000;
}

var r = [
  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,
  7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8,
  3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12,
  1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2,
  4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13
];

var rh = [
  5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12,
  6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2,
  15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13,
  8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14,
  12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11
];

var s = [
  11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8,
  7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12,
  11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5,
  11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12,
  9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6
];

var sh = [
  8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6,
  9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11,
  9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5,
  15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8,
  8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11
];

},{"../hash":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash/hmac.js":[function(require,module,exports){
var hmac = exports;

var hash = require('../hash');
var utils = hash.utils;
var assert = utils.assert;

function Hmac(hash, key, enc) {
  if (!(this instanceof Hmac))
    return new Hmac(hash, key, enc);
  this.Hash = hash;
  this.blockSize = hash.blockSize / 8;
  this.outSize = hash.outSize / 8;
  this.inner = null;
  this.outer = null;

  this._init(utils.toArray(key, enc));
}
module.exports = Hmac;

Hmac.prototype._init = function init(key) {
  // Shorten key, if needed
  if (key.length > this.blockSize)
    key = new this.Hash().update(key).digest();
  assert(key.length <= this.blockSize);

  // Add padding to key
  for (var i = key.length; i < this.blockSize; i++)
    key.push(0);

  for (var i = 0; i < key.length; i++)
    key[i] ^= 0x36;
  this.inner = new this.Hash().update(key);

  // 0x36 ^ 0x5c = 0x6a
  for (var i = 0; i < key.length; i++)
    key[i] ^= 0x6a;
  this.outer = new this.Hash().update(key);
};

Hmac.prototype.update = function update(msg, enc) {
  this.inner.update(msg, enc);
  return this;
};

Hmac.prototype.digest = function digest(enc) {
  this.outer.update(this.inner.digest());
  return this.outer.digest(enc);
};

},{"../hash":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash/common.js":[function(require,module,exports){
var hash = require('../hash');
var utils = hash.utils;
var assert = utils.assert;

function BlockHash() {
  this.pending = null;
  this.pendingTotal = 0;
  this.blockSize = this.constructor.blockSize;
  this.outSize = this.constructor.outSize;
  this.hmacStrength = this.constructor.hmacStrength;
  this.padLength = this.constructor.padLength / 8;
  this.endian = 'big';

  this._delta8 = this.blockSize / 8;
  this._delta32 = this.blockSize / 32;
}
exports.BlockHash = BlockHash;

BlockHash.prototype.update = function update(msg, enc) {
  // Convert message to array, pad it, and join into 32bit blocks
  msg = utils.toArray(msg, enc);
  if (!this.pending)
    this.pending = msg;
  else
    this.pending = this.pending.concat(msg);
  this.pendingTotal += msg.length;

  // Enough data, try updating
  if (this.pending.length >= this._delta8) {
    msg = this.pending;

    // Process pending data in blocks
    var r = msg.length % this._delta8;
    this.pending = msg.slice(msg.length - r, msg.length);
    if (this.pending.length === 0)
      this.pending = null;

    msg = utils.join32(msg, 0, msg.length - r, this.endian);
    for (var i = 0; i < msg.length; i += this._delta32)
      this._update(msg, i, i + this._delta32);
  }

  return this;
};

BlockHash.prototype.digest = function digest(enc) {
  this.update(this._pad());
  assert(this.pending === null);

  return this._digest(enc);
};

BlockHash.prototype._pad = function pad() {
  var len = this.pendingTotal;
  var bytes = this._delta8;
  var k = bytes - ((len + this.padLength) % bytes);
  var res = new Array(k + this.padLength);
  res[0] = 0x80;
  for (var i = 1; i < k; i++)
    res[i] = 0;

  // Append length
  len <<= 3;
  if (this.endian === 'big') {
    for (var t = 8; t < this.padLength; t++)
      res[i++] = 0;

    res[i++] = 0;
    res[i++] = 0;
    res[i++] = 0;
    res[i++] = 0;
    res[i++] = (len >>> 24) & 0xff;
    res[i++] = (len >>> 16) & 0xff;
    res[i++] = (len >>> 8) & 0xff;
    res[i++] = len & 0xff;
  } else {
    res[i++] = len & 0xff;
    res[i++] = (len >>> 8) & 0xff;
    res[i++] = (len >>> 16) & 0xff;
    res[i++] = (len >>> 24) & 0xff;
    res[i++] = 0;
    res[i++] = 0;
    res[i++] = 0;
    res[i++] = 0;

    for (var t = 8; t < this.padLength; t++)
      res[i++] = 0;
  }

  return res;
};

},{"../hash":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/node_modules/hash.js/lib/hash.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/precomputed/secp256k1.js":[function(require,module,exports){
module.exports = {
  doubles: {
    step: 4,
    points: [
      [
        'e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a',
        'f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821'
      ],
      [
        '8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508',
        '11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf'
      ],
      [
        '175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739',
        'd3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695'
      ],
      [
        '363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640',
        '4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9'
      ],
      [
        '8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c',
        '4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36'
      ],
      [
        '723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda',
        '96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f'
      ],
      [
        'eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa',
        '5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999'
      ],
      [
        '100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0',
        'cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09'
      ],
      [
        'e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d',
        '9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d'
      ],
      [
        'feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d',
        'e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088'
      ],
      [
        'da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1',
        '9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d'
      ],
      [
        '53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0',
        '5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8'
      ],
      [
        '8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047',
        '10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a'
      ],
      [
        '385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862',
        '283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453'
      ],
      [
        '6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7',
        '7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160'
      ],
      [
        '3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd',
        '56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0'
      ],
      [
        '85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83',
        '7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6'
      ],
      [
        '948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a',
        '53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589'
      ],
      [
        '6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8',
        'bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17'
      ],
      [
        'e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d',
        '4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda'
      ],
      [
        'e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725',
        '7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd'
      ],
      [
        '213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754',
        '4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2'
      ],
      [
        '4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c',
        '17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6'
      ],
      [
        'fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6',
        '6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f'
      ],
      [
        '76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39',
        'c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01'
      ],
      [
        'c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891',
        '893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3'
      ],
      [
        'd895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b',
        'febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f'
      ],
      [
        'b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03',
        '2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7'
      ],
      [
        'e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d',
        'eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78'
      ],
      [
        'a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070',
        '7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1'
      ],
      [
        '90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4',
        'e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150'
      ],
      [
        '8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da',
        '662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82'
      ],
      [
        'e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11',
        '1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc'
      ],
      [
        '8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e',
        'efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b'
      ],
      [
        'e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41',
        '2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51'
      ],
      [
        'b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef',
        '67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45'
      ],
      [
        'd68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8',
        'db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120'
      ],
      [
        '324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d',
        '648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84'
      ],
      [
        '4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96',
        '35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d'
      ],
      [
        '9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd',
        'ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d'
      ],
      [
        '6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5',
        '9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8'
      ],
      [
        'a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266',
        '40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8'
      ],
      [
        '7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71',
        '34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac'
      ],
      [
        '928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac',
        'c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f'
      ],
      [
        '85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751',
        '1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962'
      ],
      [
        'ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e',
        '493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907'
      ],
      [
        '827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241',
        'c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec'
      ],
      [
        'eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3',
        'be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d'
      ],
      [
        'e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f',
        '4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414'
      ],
      [
        '1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19',
        'aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd'
      ],
      [
        '146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be',
        'b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0'
      ],
      [
        'fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9',
        '6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811'
      ],
      [
        'da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2',
        '8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1'
      ],
      [
        'a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13',
        '7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c'
      ],
      [
        '174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c',
        'ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73'
      ],
      [
        '959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba',
        '2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd'
      ],
      [
        'd2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151',
        'e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405'
      ],
      [
        '64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073',
        'd99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589'
      ],
      [
        '8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458',
        '38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e'
      ],
      [
        '13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b',
        '69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27'
      ],
      [
        'bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366',
        'd3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1'
      ],
      [
        '8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa',
        '40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482'
      ],
      [
        '8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0',
        '620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945'
      ],
      [
        'dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787',
        '7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573'
      ],
      [
        'f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e',
        'ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82'
      ]
    ]
  },
  naf: {
    wnd: 7,
    points: [
      [
        'f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9',
        '388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672'
      ],
      [
        '2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4',
        'd8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6'
      ],
      [
        '5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc',
        '6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da'
      ],
      [
        'acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe',
        'cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37'
      ],
      [
        '774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb',
        'd984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b'
      ],
      [
        'f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8',
        'ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81'
      ],
      [
        'd7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e',
        '581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58'
      ],
      [
        'defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34',
        '4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77'
      ],
      [
        '2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c',
        '85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a'
      ],
      [
        '352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5',
        '321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c'
      ],
      [
        '2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f',
        '2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67'
      ],
      [
        '9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714',
        '73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402'
      ],
      [
        'daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729',
        'a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55'
      ],
      [
        'c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db',
        '2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482'
      ],
      [
        '6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4',
        'e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82'
      ],
      [
        '1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5',
        'b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396'
      ],
      [
        '605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479',
        '2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49'
      ],
      [
        '62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d',
        '80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf'
      ],
      [
        '80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f',
        '1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a'
      ],
      [
        '7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb',
        'd0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7'
      ],
      [
        'd528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9',
        'eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933'
      ],
      [
        '49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963',
        '758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a'
      ],
      [
        '77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74',
        '958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6'
      ],
      [
        'f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530',
        'e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37'
      ],
      [
        '463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b',
        '5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e'
      ],
      [
        'f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247',
        'cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6'
      ],
      [
        'caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1',
        'cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476'
      ],
      [
        '2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120',
        '4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40'
      ],
      [
        '7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435',
        '91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61'
      ],
      [
        '754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18',
        '673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683'
      ],
      [
        'e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8',
        '59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5'
      ],
      [
        '186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb',
        '3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b'
      ],
      [
        'df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f',
        '55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417'
      ],
      [
        '5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143',
        'efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868'
      ],
      [
        '290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba',
        'e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a'
      ],
      [
        'af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45',
        'f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6'
      ],
      [
        '766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a',
        '744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996'
      ],
      [
        '59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e',
        'c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e'
      ],
      [
        'f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8',
        'e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d'
      ],
      [
        '7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c',
        '30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2'
      ],
      [
        '948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519',
        'e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e'
      ],
      [
        '7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab',
        '100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437'
      ],
      [
        '3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca',
        'ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311'
      ],
      [
        'd3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf',
        '8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4'
      ],
      [
        '1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610',
        '68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575'
      ],
      [
        '733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4',
        'f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d'
      ],
      [
        '15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c',
        'd56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d'
      ],
      [
        'a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940',
        'edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629'
      ],
      [
        'e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980',
        'a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06'
      ],
      [
        '311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3',
        '66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374'
      ],
      [
        '34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf',
        '9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee'
      ],
      [
        'f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63',
        '4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1'
      ],
      [
        'd7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448',
        'fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b'
      ],
      [
        '32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf',
        '5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661'
      ],
      [
        '7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5',
        '8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6'
      ],
      [
        'ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6',
        '8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e'
      ],
      [
        '16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5',
        '5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d'
      ],
      [
        'eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99',
        'f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc'
      ],
      [
        '78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51',
        'f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4'
      ],
      [
        '494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5',
        '42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c'
      ],
      [
        'a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5',
        '204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b'
      ],
      [
        'c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997',
        '4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913'
      ],
      [
        '841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881',
        '73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154'
      ],
      [
        '5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5',
        '39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865'
      ],
      [
        '36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66',
        'd2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc'
      ],
      [
        '336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726',
        'ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224'
      ],
      [
        '8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede',
        '6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e'
      ],
      [
        '1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94',
        '60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6'
      ],
      [
        '85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31',
        '3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511'
      ],
      [
        '29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51',
        'b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b'
      ],
      [
        'a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252',
        'ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2'
      ],
      [
        '4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5',
        'cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c'
      ],
      [
        'd24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b',
        '6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3'
      ],
      [
        'ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4',
        '322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d'
      ],
      [
        'af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f',
        '6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700'
      ],
      [
        'e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889',
        '2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4'
      ],
      [
        '591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246',
        'b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196'
      ],
      [
        '11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984',
        '998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4'
      ],
      [
        '3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a',
        'b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257'
      ],
      [
        'cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030',
        'bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13'
      ],
      [
        'c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197',
        '6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096'
      ],
      [
        'c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593',
        'c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38'
      ],
      [
        'a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef',
        '21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f'
      ],
      [
        '347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38',
        '60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448'
      ],
      [
        'da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a',
        '49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a'
      ],
      [
        'c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111',
        '5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4'
      ],
      [
        '4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502',
        '7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437'
      ],
      [
        '3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea',
        'be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7'
      ],
      [
        'cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26',
        '8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d'
      ],
      [
        'b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986',
        '39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a'
      ],
      [
        'd4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e',
        '62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54'
      ],
      [
        '48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4',
        '25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77'
      ],
      [
        'dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda',
        'ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517'
      ],
      [
        '6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859',
        'cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10'
      ],
      [
        'e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f',
        'f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125'
      ],
      [
        'eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c',
        '6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e'
      ],
      [
        '13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942',
        'fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1'
      ],
      [
        'ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a',
        '1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2'
      ],
      [
        'b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80',
        '5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423'
      ],
      [
        'ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d',
        '438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8'
      ],
      [
        '8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1',
        'cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758'
      ],
      [
        '52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63',
        'c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375'
      ],
      [
        'e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352',
        '6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d'
      ],
      [
        '7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193',
        'ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec'
      ],
      [
        '5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00',
        '9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0'
      ],
      [
        '32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58',
        'ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c'
      ],
      [
        'e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7',
        'd3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4'
      ],
      [
        '8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8',
        'c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f'
      ],
      [
        '4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e',
        '67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649'
      ],
      [
        '3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d',
        'cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826'
      ],
      [
        '674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b',
        '299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5'
      ],
      [
        'd32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f',
        'f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87'
      ],
      [
        '30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6',
        '462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b'
      ],
      [
        'be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297',
        '62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc'
      ],
      [
        '93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a',
        '7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c'
      ],
      [
        'b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c',
        'ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f'
      ],
      [
        'd5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52',
        '4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a'
      ],
      [
        'd3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb',
        'bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46'
      ],
      [
        '463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065',
        'bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f'
      ],
      [
        '7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917',
        '603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03'
      ],
      [
        '74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9',
        'cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08'
      ],
      [
        '30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3',
        '553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8'
      ],
      [
        '9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57',
        '712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373'
      ],
      [
        '176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66',
        'ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3'
      ],
      [
        '75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8',
        '9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8'
      ],
      [
        '809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721',
        '9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1'
      ],
      [
        '1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180',
        '4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9'
      ]
    ]
  }
};

},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curve/index.js":[function(require,module,exports){
'use strict';

var curve = exports;

curve.base = require('./base');
curve.short = require('./short');
curve.mont = require('./mont');
curve.edwards = require('./edwards');

},{"./base":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curve/base.js","./edwards":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curve/edwards.js","./mont":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curve/mont.js","./short":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curve/short.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curve/short.js":[function(require,module,exports){
'use strict';

var curve = require('../curve');
var elliptic = require('../../elliptic');
var bn = require('bn.js');
var inherits = require('inherits');
var Base = curve.base;

var assert = elliptic.utils.assert;

function ShortCurve(conf) {
  Base.call(this, 'short', conf);

  this.a = new bn(conf.a, 16).toRed(this.red);
  this.b = new bn(conf.b, 16).toRed(this.red);
  this.tinv = this.two.redInvm();

  this.zeroA = this.a.fromRed().cmpn(0) === 0;
  this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0;

  // If the curve is endomorphic, precalculate beta and lambda
  this.endo = this._getEndomorphism(conf);
  this._endoWnafT1 = new Array(4);
  this._endoWnafT2 = new Array(4);
}
inherits(ShortCurve, Base);
module.exports = ShortCurve;

ShortCurve.prototype._getEndomorphism = function _getEndomorphism(conf) {
  // No efficient endomorphism
  if (!this.zeroA || !this.g || !this.n || this.p.modn(3) !== 1)
    return;

  // Compute beta and lambda, that lambda * P = (beta * Px; Py)
  var beta;
  var lambda;
  if (conf.beta) {
    beta = new bn(conf.beta, 16).toRed(this.red);
  } else {
    var betas = this._getEndoRoots(this.p);
    // Choose the smallest beta
    beta = betas[0].cmp(betas[1]) < 0 ? betas[0] : betas[1];
    beta = beta.toRed(this.red);
  }
  if (conf.lambda) {
    lambda = new bn(conf.lambda, 16);
  } else {
    // Choose the lambda that is matching selected beta
    var lambdas = this._getEndoRoots(this.n);
    if (this.g.mul(lambdas[0]).x.cmp(this.g.x.redMul(beta)) === 0) {
      lambda = lambdas[0];
    } else {
      lambda = lambdas[1];
      assert(this.g.mul(lambda).x.cmp(this.g.x.redMul(beta)) === 0);
    }
  }

  // Get basis vectors, used for balanced length-two representation
  var basis;
  if (conf.basis) {
    basis = conf.basis.map(function(vec) {
      return {
        a: new bn(vec.a, 16),
        b: new bn(vec.b, 16)
      };
    });
  } else {
    basis = this._getEndoBasis(lambda);
  }

  return {
    beta: beta,
    lambda: lambda,
    basis: basis
  };
};

ShortCurve.prototype._getEndoRoots = function _getEndoRoots(num) {
  // Find roots of for x^2 + x + 1 in F
  // Root = (-1 +- Sqrt(-3)) / 2
  //
  var red = num === this.p ? this.red : bn.mont(num);
  var tinv = new bn(2).toRed(red).redInvm();
  var ntinv = tinv.redNeg();

  var s = new bn(3).toRed(red).redNeg().redSqrt().redMul(tinv);

  var l1 = ntinv.redAdd(s).fromRed();
  var l2 = ntinv.redSub(s).fromRed();
  return [ l1, l2 ];
};

ShortCurve.prototype._getEndoBasis = function _getEndoBasis(lambda) {
  // aprxSqrt >= sqrt(this.n)
  var aprxSqrt = this.n.shrn(Math.floor(this.n.bitLength() / 2));

  // 3.74
  // Run EGCD, until r(L + 1) < aprxSqrt
  var u = lambda;
  var v = this.n.clone();
  var x1 = new bn(1);
  var y1 = new bn(0);
  var x2 = new bn(0);
  var y2 = new bn(1);

  // NOTE: all vectors are roots of: a + b * lambda = 0 (mod n)
  var a0;
  var b0;
  // First vector
  var a1;
  var b1;
  // Second vector
  var a2;
  var b2;

  var prevR;
  var i = 0;
  var r;
  var x;
  while (u.cmpn(0) !== 0) {
    var q = v.div(u);
    r = v.sub(q.mul(u));
    x = x2.sub(q.mul(x1));
    var y = y2.sub(q.mul(y1));

    if (!a1 && r.cmp(aprxSqrt) < 0) {
      a0 = prevR.neg();
      b0 = x1;
      a1 = r.neg();
      b1 = x;
    } else if (a1 && ++i === 2) {
      break;
    }
    prevR = r;

    v = u;
    u = r;
    x2 = x1;
    x1 = x;
    y2 = y1;
    y1 = y;
  }
  a2 = r.neg();
  b2 = x;

  var len1 = a1.sqr().add(b1.sqr());
  var len2 = a2.sqr().add(b2.sqr());
  if (len2.cmp(len1) >= 0) {
    a2 = a0;
    b2 = b0;
  }

  // Normalize signs
  if (a1.sign) {
    a1 = a1.neg();
    b1 = b1.neg();
  }
  if (a2.sign) {
    a2 = a2.neg();
    b2 = b2.neg();
  }

  return [
    { a: a1, b: b1 },
    { a: a2, b: b2 }
  ];
};

ShortCurve.prototype._endoSplit = function _endoSplit(k) {
  var basis = this.endo.basis;
  var v1 = basis[0];
  var v2 = basis[1];

  var c1 = v2.b.mul(k).divRound(this.n);
  var c2 = v1.b.neg().mul(k).divRound(this.n);

  var p1 = c1.mul(v1.a);
  var p2 = c2.mul(v2.a);
  var q1 = c1.mul(v1.b);
  var q2 = c2.mul(v2.b);

  // Calculate answer
  var k1 = k.sub(p1).sub(p2);
  var k2 = q1.add(q2).neg();
  return { k1: k1, k2: k2 };
};

ShortCurve.prototype.pointFromX = function pointFromX(odd, x) {
  x = new bn(x, 16);
  if (!x.red)
    x = x.toRed(this.red);

  var y2 = x.redSqr().redMul(x).redIAdd(x.redMul(this.a)).redIAdd(this.b);
  var y = y2.redSqrt();

  // XXX Is there any way to tell if the number is odd without converting it
  // to non-red form?
  var isOdd = y.fromRed().isOdd();
  if (odd && !isOdd || !odd && isOdd)
    y = y.redNeg();

  return this.point(x, y);
};

ShortCurve.prototype.validate = function validate(point) {
  if (point.inf)
    return true;

  var x = point.x;
  var y = point.y;

  var ax = this.a.redMul(x);
  var rhs = x.redSqr().redMul(x).redIAdd(ax).redIAdd(this.b);
  return y.redSqr().redISub(rhs).cmpn(0) === 0;
};

ShortCurve.prototype._endoWnafMulAdd =
    function _endoWnafMulAdd(points, coeffs) {
  var npoints = this._endoWnafT1;
  var ncoeffs = this._endoWnafT2;
  for (var i = 0; i < points.length; i++) {
    var split = this._endoSplit(coeffs[i]);
    var p = points[i];
    var beta = p._getBeta();

    if (split.k1.sign) {
      split.k1.sign = !split.k1.sign;
      p = p.neg(true);
    }
    if (split.k2.sign) {
      split.k2.sign = !split.k2.sign;
      beta = beta.neg(true);
    }

    npoints[i * 2] = p;
    npoints[i * 2 + 1] = beta;
    ncoeffs[i * 2] = split.k1;
    ncoeffs[i * 2 + 1] = split.k2;
  }
  var res = this._wnafMulAdd(1, npoints, ncoeffs, i * 2);

  // Clean-up references to points and coefficients
  for (var j = 0; j < i * 2; j++) {
    npoints[j] = null;
    ncoeffs[j] = null;
  }
  return res;
};

function Point(curve, x, y, isRed) {
  Base.BasePoint.call(this, curve, 'affine');
  if (x === null && y === null) {
    this.x = null;
    this.y = null;
    this.inf = true;
  } else {
    this.x = new bn(x, 16);
    this.y = new bn(y, 16);
    // Force redgomery representation when loading from JSON
    if (isRed) {
      this.x.forceRed(this.curve.red);
      this.y.forceRed(this.curve.red);
    }
    if (!this.x.red)
      this.x = this.x.toRed(this.curve.red);
    if (!this.y.red)
      this.y = this.y.toRed(this.curve.red);
    this.inf = false;
  }
}
inherits(Point, Base.BasePoint);

ShortCurve.prototype.point = function point(x, y, isRed) {
  return new Point(this, x, y, isRed);
};

ShortCurve.prototype.pointFromJSON = function pointFromJSON(obj, red) {
  return Point.fromJSON(this, obj, red);
};

Point.prototype._getBeta = function _getBeta() {
  if (!this.curve.endo)
    return;

  var pre = this.precomputed;
  if (pre && pre.beta)
    return pre.beta;

  var beta = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);
  if (pre) {
    var curve = this.curve;
    var endoMul = function(p) {
      return curve.point(p.x.redMul(curve.endo.beta), p.y);
    };
    pre.beta = beta;
    beta.precomputed = {
      beta: null,
      naf: pre.naf && {
        wnd: pre.naf.wnd,
        points: pre.naf.points.map(endoMul)
      },
      doubles: pre.doubles && {
        step: pre.doubles.step,
        points: pre.doubles.points.map(endoMul)
      }
    };
  }
  return beta;
};

Point.prototype.toJSON = function toJSON() {
  if (!this.precomputed)
    return [ this.x, this.y ];

  return [ this.x, this.y, this.precomputed && {
    doubles: this.precomputed.doubles && {
      step: this.precomputed.doubles.step,
      points: this.precomputed.doubles.points.slice(1)
    },
    naf: this.precomputed.naf && {
      wnd: this.precomputed.naf.wnd,
      points: this.precomputed.naf.points.slice(1)
    }
  } ];
};

Point.fromJSON = function fromJSON(curve, obj, red) {
  if (typeof obj === 'string')
    obj = JSON.parse(obj);
  var res = curve.point(obj[0], obj[1], red);
  if (!obj[2])
    return res;

  function obj2point(obj) {
    return curve.point(obj[0], obj[1], red);
  }

  var pre = obj[2];
  res.precomputed = {
    beta: null,
    doubles: pre.doubles && {
      step: pre.doubles.step,
      points: [ res ].concat(pre.doubles.points.map(obj2point))
    },
    naf: pre.naf && {
      wnd: pre.naf.wnd,
      points: [ res ].concat(pre.naf.points.map(obj2point))
    }
  };
  return res;
};

Point.prototype.inspect = function inspect() {
  if (this.isInfinity())
    return '<EC Point Infinity>';
  return '<EC Point x: ' + this.x.fromRed().toString(16, 2) +
      ' y: ' + this.y.fromRed().toString(16, 2) + '>';
};

Point.prototype.isInfinity = function isInfinity() {
  return this.inf;
};

Point.prototype.add = function add(p) {
  // O + P = P
  if (this.inf)
    return p;

  // P + O = P
  if (p.inf)
    return this;

  // P + P = 2P
  if (this.eq(p))
    return this.dbl();

  // P + (-P) = O
  if (this.neg().eq(p))
    return this.curve.point(null, null);

  // P + Q = O
  if (this.x.cmp(p.x) === 0)
    return this.curve.point(null, null);

  var c = this.y.redSub(p.y);
  if (c.cmpn(0) !== 0)
    c = c.redMul(this.x.redSub(p.x).redInvm());
  var nx = c.redSqr().redISub(this.x).redISub(p.x);
  var ny = c.redMul(this.x.redSub(nx)).redISub(this.y);
  return this.curve.point(nx, ny);
};

Point.prototype.dbl = function dbl() {
  if (this.inf)
    return this;

  // 2P = O
  var ys1 = this.y.redAdd(this.y);
  if (ys1.cmpn(0) === 0)
    return this.curve.point(null, null);

  var a = this.curve.a;

  var x2 = this.x.redSqr();
  var dyinv = ys1.redInvm();
  var c = x2.redAdd(x2).redIAdd(x2).redIAdd(a).redMul(dyinv);

  var nx = c.redSqr().redISub(this.x.redAdd(this.x));
  var ny = c.redMul(this.x.redSub(nx)).redISub(this.y);
  return this.curve.point(nx, ny);
};

Point.prototype.getX = function getX() {
  return this.x.fromRed();
};

Point.prototype.getY = function getY() {
  return this.y.fromRed();
};

Point.prototype.mul = function mul(k) {
  k = new bn(k, 16);

  if (this._hasDoubles(k))
    return this.curve._fixedNafMul(this, k);
  else if (this.curve.endo)
    return this.curve._endoWnafMulAdd([ this ], [ k ]);
  else
    return this.curve._wnafMul(this, k);
};

Point.prototype.mulAdd = function mulAdd(k1, p2, k2) {
  var points = [ this, p2 ];
  var coeffs = [ k1, k2 ];
  if (this.curve.endo)
    return this.curve._endoWnafMulAdd(points, coeffs);
  else
    return this.curve._wnafMulAdd(1, points, coeffs, 2);
};

Point.prototype.eq = function eq(p) {
  return this === p ||
         this.inf === p.inf &&
             (this.inf || this.x.cmp(p.x) === 0 && this.y.cmp(p.y) === 0);
};

Point.prototype.neg = function neg(_precompute) {
  if (this.inf)
    return this;

  var res = this.curve.point(this.x, this.y.redNeg());
  if (_precompute && this.precomputed) {
    var pre = this.precomputed;
    var negate = function(p) {
      return p.neg();
    };
    res.precomputed = {
      naf: pre.naf && {
        wnd: pre.naf.wnd,
        points: pre.naf.points.map(negate)
      },
      doubles: pre.doubles && {
        step: pre.doubles.step,
        points: pre.doubles.points.map(negate)
      }
    };
  }
  return res;
};

Point.prototype.toJ = function toJ() {
  if (this.inf)
    return this.curve.jpoint(null, null, null);

  var res = this.curve.jpoint(this.x, this.y, this.curve.one);
  return res;
};

function JPoint(curve, x, y, z) {
  Base.BasePoint.call(this, curve, 'jacobian');
  if (x === null && y === null && z === null) {
    this.x = this.curve.one;
    this.y = this.curve.one;
    this.z = new bn(0);
  } else {
    this.x = new bn(x, 16);
    this.y = new bn(y, 16);
    this.z = new bn(z, 16);
  }
  if (!this.x.red)
    this.x = this.x.toRed(this.curve.red);
  if (!this.y.red)
    this.y = this.y.toRed(this.curve.red);
  if (!this.z.red)
    this.z = this.z.toRed(this.curve.red);

  this.zOne = this.z === this.curve.one;
}
inherits(JPoint, Base.BasePoint);

ShortCurve.prototype.jpoint = function jpoint(x, y, z) {
  return new JPoint(this, x, y, z);
};

JPoint.prototype.toP = function toP() {
  if (this.isInfinity())
    return this.curve.point(null, null);

  var zinv = this.z.redInvm();
  var zinv2 = zinv.redSqr();
  var ax = this.x.redMul(zinv2);
  var ay = this.y.redMul(zinv2).redMul(zinv);

  return this.curve.point(ax, ay);
};

JPoint.prototype.neg = function neg() {
  return this.curve.jpoint(this.x, this.y.redNeg(), this.z);
};

JPoint.prototype.add = function add(p) {
  // O + P = P
  if (this.isInfinity())
    return p;

  // P + O = P
  if (p.isInfinity())
    return this;

  // 12M + 4S + 7A
  var pz2 = p.z.redSqr();
  var z2 = this.z.redSqr();
  var u1 = this.x.redMul(pz2);
  var u2 = p.x.redMul(z2);
  var s1 = this.y.redMul(pz2.redMul(p.z));
  var s2 = p.y.redMul(z2.redMul(this.z));

  var h = u1.redSub(u2);
  var r = s1.redSub(s2);
  if (h.cmpn(0) === 0) {
    if (r.cmpn(0) !== 0)
      return this.curve.jpoint(null, null, null);
    else
      return this.dbl();
  }

  var h2 = h.redSqr();
  var h3 = h2.redMul(h);
  var v = u1.redMul(h2);

  var nx = r.redSqr().redIAdd(h3).redISub(v).redISub(v);
  var ny = r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));
  var nz = this.z.redMul(p.z).redMul(h);

  return this.curve.jpoint(nx, ny, nz);
};

JPoint.prototype.mixedAdd = function mixedAdd(p) {
  // O + P = P
  if (this.isInfinity())
    return p.toJ();

  // P + O = P
  if (p.isInfinity())
    return this;

  // 8M + 3S + 7A
  var z2 = this.z.redSqr();
  var u1 = this.x;
  var u2 = p.x.redMul(z2);
  var s1 = this.y;
  var s2 = p.y.redMul(z2).redMul(this.z);

  var h = u1.redSub(u2);
  var r = s1.redSub(s2);
  if (h.cmpn(0) === 0) {
    if (r.cmpn(0) !== 0)
      return this.curve.jpoint(null, null, null);
    else
      return this.dbl();
  }

  var h2 = h.redSqr();
  var h3 = h2.redMul(h);
  var v = u1.redMul(h2);

  var nx = r.redSqr().redIAdd(h3).redISub(v).redISub(v);
  var ny = r.redMul(v.redISub(nx)).redISub(s1.redMul(h3));
  var nz = this.z.redMul(h);

  return this.curve.jpoint(nx, ny, nz);
};

JPoint.prototype.dblp = function dblp(pow) {
  if (pow === 0)
    return this;
  if (this.isInfinity())
    return this;
  if (!pow)
    return this.dbl();

  if (this.curve.zeroA || this.curve.threeA) {
    var r = this;
    for (var i = 0; i < pow; i++)
      r = r.dbl();
    return r;
  }

  // 1M + 2S + 1A + N * (4S + 5M + 8A)
  // N = 1 => 6M + 6S + 9A
  var a = this.curve.a;
  var tinv = this.curve.tinv;

  var jx = this.x;
  var jy = this.y;
  var jz = this.z;
  var jz4 = jz.redSqr().redSqr();

  // Reuse results
  var jyd = jy.redAdd(jy);
  for (var i = 0; i < pow; i++) {
    var jx2 = jx.redSqr();
    var jyd2 = jyd.redSqr();
    var jyd4 = jyd2.redSqr();
    var c = jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));

    var t1 = jx.redMul(jyd2);
    var nx = c.redSqr().redISub(t1.redAdd(t1));
    var t2 = t1.redISub(nx);
    var dny = c.redMul(t2);
    dny = dny.redIAdd(dny).redISub(jyd4);
    var nz = jyd.redMul(jz);
    if (i + 1 < pow)
      jz4 = jz4.redMul(jyd4);

    jx = nx;
    jz = nz;
    jyd = dny;
  }

  return this.curve.jpoint(jx, jyd.redMul(tinv), jz);
};

JPoint.prototype.dbl = function dbl() {
  if (this.isInfinity())
    return this;

  if (this.curve.zeroA)
    return this._zeroDbl();
  else if (this.curve.threeA)
    return this._threeDbl();
  else
    return this._dbl();
};

JPoint.prototype._zeroDbl = function _zeroDbl() {
  var nx;
  var ny;
  var nz;
  // Z = 1
  if (this.zOne) {
    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-0.html
    //     #doubling-mdbl-2007-bl
    // 1M + 5S + 14A

    // XX = X1^2
    var xx = this.x.redSqr();
    // YY = Y1^2
    var yy = this.y.redSqr();
    // YYYY = YY^2
    var yyyy = yy.redSqr();
    // S = 2 * ((X1 + YY)^2 - XX - YYYY)
    var s = this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);
    s = s.redIAdd(s);
    // M = 3 * XX + a; a = 0
    var m = xx.redAdd(xx).redIAdd(xx);
    // T = M ^ 2 - 2*S
    var t = m.redSqr().redISub(s).redISub(s);

    // 8 * YYYY
    var yyyy8 = yyyy.redIAdd(yyyy);
    yyyy8 = yyyy8.redIAdd(yyyy8);
    yyyy8 = yyyy8.redIAdd(yyyy8);

    // X3 = T
    nx = t;
    // Y3 = M * (S - T) - 8 * YYYY
    ny = m.redMul(s.redISub(t)).redISub(yyyy8);
    // Z3 = 2*Y1
    nz = this.y.redAdd(this.y);
  } else {
    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-0.html
    //     #doubling-dbl-2009-l
    // 2M + 5S + 13A

    // A = X1^2
    var a = this.x.redSqr();
    // B = Y1^2
    var b = this.y.redSqr();
    // C = B^2
    var c = b.redSqr();
    // D = 2 * ((X1 + B)^2 - A - C)
    var d = this.x.redAdd(b).redSqr().redISub(a).redISub(c);
    d = d.redIAdd(d);
    // E = 3 * A
    var e = a.redAdd(a).redIAdd(a);
    // F = E^2
    var f = e.redSqr();

    // 8 * C
    var c8 = c.redIAdd(c);
    c8 = c8.redIAdd(c8);
    c8 = c8.redIAdd(c8);

    // X3 = F - 2 * D
    nx = f.redISub(d).redISub(d);
    // Y3 = E * (D - X3) - 8 * C
    ny = e.redMul(d.redISub(nx)).redISub(c8);
    // Z3 = 2 * Y1 * Z1
    nz = this.y.redMul(this.z);
    nz = nz.redIAdd(nz);
  }

  return this.curve.jpoint(nx, ny, nz);
};

JPoint.prototype._threeDbl = function _threeDbl() {
  var nx;
  var ny;
  var nz;
  // Z = 1
  if (this.zOne) {
    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-3.html
    //     #doubling-mdbl-2007-bl
    // 1M + 5S + 15A

    // XX = X1^2
    var xx = this.x.redSqr();
    // YY = Y1^2
    var yy = this.y.redSqr();
    // YYYY = YY^2
    var yyyy = yy.redSqr();
    // S = 2 * ((X1 + YY)^2 - XX - YYYY)
    var s = this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);
    s = s.redIAdd(s);
    // M = 3 * XX + a
    var m = xx.redAdd(xx).redIAdd(xx).redIAdd(this.curve.a);
    // T = M^2 - 2 * S
    var t = m.redSqr().redISub(s).redISub(s);
    // X3 = T
    nx = t;
    // Y3 = M * (S - T) - 8 * YYYY
    var yyyy8 = yyyy.redIAdd(yyyy);
    yyyy8 = yyyy8.redIAdd(yyyy8);
    yyyy8 = yyyy8.redIAdd(yyyy8);
    ny = m.redMul(s.redISub(t)).redISub(yyyy8);
    // Z3 = 2 * Y1
    nz = this.y.redAdd(this.y);
  } else {
    // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-3.html#doubling-dbl-2001-b
    // 3M + 5S

    // delta = Z1^2
    var delta = this.z.redSqr();
    // gamma = Y1^2
    var gamma = this.y.redSqr();
    // beta = X1 * gamma
    var beta = this.x.redMul(gamma);
    // alpha = 3 * (X1 - delta) * (X1 + delta)
    var alpha = this.x.redSub(delta).redMul(this.x.redAdd(delta));
    alpha = alpha.redAdd(alpha).redIAdd(alpha);
    // X3 = alpha^2 - 8 * beta
    var beta4 = beta.redIAdd(beta);
    beta4 = beta4.redIAdd(beta4);
    var beta8 = beta4.redAdd(beta4);
    nx = alpha.redSqr().redISub(beta8);
    // Z3 = (Y1 + Z1)^2 - gamma - delta
    nz = this.y.redAdd(this.z).redSqr().redISub(gamma).redISub(delta);
    // Y3 = alpha * (4 * beta - X3) - 8 * gamma^2
    var ggamma8 = gamma.redSqr();
    ggamma8 = ggamma8.redIAdd(ggamma8);
    ggamma8 = ggamma8.redIAdd(ggamma8);
    ggamma8 = ggamma8.redIAdd(ggamma8);
    ny = alpha.redMul(beta4.redISub(nx)).redISub(ggamma8);
  }

  return this.curve.jpoint(nx, ny, nz);
};

JPoint.prototype._dbl = function _dbl() {
  var a = this.curve.a;

  // 4M + 6S + 10A
  var jx = this.x;
  var jy = this.y;
  var jz = this.z;
  var jz4 = jz.redSqr().redSqr();

  var jx2 = jx.redSqr();
  var jy2 = jy.redSqr();

  var c = jx2.redAdd(jx2).redIAdd(jx2).redIAdd(a.redMul(jz4));

  var jxd4 = jx.redAdd(jx);
  jxd4 = jxd4.redIAdd(jxd4);
  var t1 = jxd4.redMul(jy2);
  var nx = c.redSqr().redISub(t1.redAdd(t1));
  var t2 = t1.redISub(nx);

  var jyd8 = jy2.redSqr();
  jyd8 = jyd8.redIAdd(jyd8);
  jyd8 = jyd8.redIAdd(jyd8);
  jyd8 = jyd8.redIAdd(jyd8);
  var ny = c.redMul(t2).redISub(jyd8);
  var nz = jy.redAdd(jy).redMul(jz);

  return this.curve.jpoint(nx, ny, nz);
};

JPoint.prototype.trpl = function trpl() {
  if (!this.curve.zeroA)
    return this.dbl().add(this);

  // hyperelliptic.org/EFD/g1p/auto-shortw-jacobian-0.html#tripling-tpl-2007-bl
  // 5M + 10S + ...

  // XX = X1^2
  var xx = this.x.redSqr();
  // YY = Y1^2
  var yy = this.y.redSqr();
  // ZZ = Z1^2
  var zz = this.z.redSqr();
  // YYYY = YY^2
  var yyyy = yy.redSqr();
  // M = 3 * XX + a * ZZ2; a = 0
  var m = xx.redAdd(xx).redIAdd(xx);
  // MM = M^2
  var mm = m.redSqr();
  // E = 6 * ((X1 + YY)^2 - XX - YYYY) - MM
  var e = this.x.redAdd(yy).redSqr().redISub(xx).redISub(yyyy);
  e = e.redIAdd(e);
  e = e.redAdd(e).redIAdd(e);
  e = e.redISub(mm);
  // EE = E^2
  var ee = e.redSqr();
  // T = 16*YYYY
  var t = yyyy.redIAdd(yyyy);
  t = t.redIAdd(t);
  t = t.redIAdd(t);
  t = t.redIAdd(t);
  // U = (M + E)^2 - MM - EE - T
  var u = m.redIAdd(e).redSqr().redISub(mm).redISub(ee).redISub(t);
  // X3 = 4 * (X1 * EE - 4 * YY * U)
  var yyu4 = yy.redMul(u);
  yyu4 = yyu4.redIAdd(yyu4);
  yyu4 = yyu4.redIAdd(yyu4);
  var nx = this.x.redMul(ee).redISub(yyu4);
  nx = nx.redIAdd(nx);
  nx = nx.redIAdd(nx);
  // Y3 = 8 * Y1 * (U * (T - U) - E * EE)
  var ny = this.y.redMul(u.redMul(t.redISub(u)).redISub(e.redMul(ee)));
  ny = ny.redIAdd(ny);
  ny = ny.redIAdd(ny);
  ny = ny.redIAdd(ny);
  // Z3 = (Z1 + E)^2 - ZZ - EE
  var nz = this.z.redAdd(e).redSqr().redISub(zz).redISub(ee);

  return this.curve.jpoint(nx, ny, nz);
};

JPoint.prototype.mul = function mul(k, kbase) {
  k = new bn(k, kbase);

  return this.curve._wnafMul(this, k);
};

JPoint.prototype.eq = function eq(p) {
  if (p.type === 'affine')
    return this.eq(p.toJ());

  if (this === p)
    return true;

  // x1 * z2^2 == x2 * z1^2
  var z2 = this.z.redSqr();
  var pz2 = p.z.redSqr();
  if (this.x.redMul(pz2).redISub(p.x.redMul(z2)).cmpn(0) !== 0)
    return false;

  // y1 * z2^3 == y2 * z1^3
  var z3 = z2.redMul(this.z);
  var pz3 = pz2.redMul(p.z);
  return this.y.redMul(pz3).redISub(p.y.redMul(z3)).cmpn(0) === 0;
};

JPoint.prototype.inspect = function inspect() {
  if (this.isInfinity())
    return '<EC JPoint Infinity>';
  return '<EC JPoint x: ' + this.x.toString(16, 2) +
      ' y: ' + this.y.toString(16, 2) +
      ' z: ' + this.z.toString(16, 2) + '>';
};

JPoint.prototype.isInfinity = function isInfinity() {
  // XXX This code assumes that zero is always zero in red
  return this.z.cmpn(0) === 0;
};

},{"../../elliptic":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic.js","../curve":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curve/index.js","bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/bn.js/lib/bn.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curve/mont.js":[function(require,module,exports){
'use strict';

var curve = require('../curve');
var bn = require('bn.js');
var inherits = require('inherits');
var Base = curve.base;

function MontCurve(conf) {
  Base.call(this, 'mont', conf);

  this.a = new bn(conf.a, 16).toRed(this.red);
  this.b = new bn(conf.b, 16).toRed(this.red);
  this.i4 = new bn(4).toRed(this.red).redInvm();
  this.two = new bn(2).toRed(this.red);
  this.a24 = this.i4.redMul(this.a.redAdd(this.two));
}
inherits(MontCurve, Base);
module.exports = MontCurve;

MontCurve.prototype.validate = function validate(point) {
  var x = point.normalize().x;
  var x2 = x.redSqr();
  var rhs = x2.redMul(x).redAdd(x2.redMul(this.a)).redAdd(x);
  var y = rhs.redSqrt();

  return y.redSqr().cmp(rhs) === 0;
};

function Point(curve, x, z) {
  Base.BasePoint.call(this, curve, 'projective');
  if (x === null && z === null) {
    this.x = this.curve.one;
    this.z = this.curve.zero;
  } else {
    this.x = new bn(x, 16);
    this.z = new bn(z, 16);
    if (!this.x.red)
      this.x = this.x.toRed(this.curve.red);
    if (!this.z.red)
      this.z = this.z.toRed(this.curve.red);
  }
}
inherits(Point, Base.BasePoint);

MontCurve.prototype.point = function point(x, z) {
  return new Point(this, x, z);
};

MontCurve.prototype.pointFromJSON = function pointFromJSON(obj) {
  return Point.fromJSON(this, obj);
};

Point.prototype.precompute = function precompute() {
  // No-op
};

Point.fromJSON = function fromJSON(curve, obj) {
  return new Point(curve, obj[0], obj[1] || curve.one);
};

Point.prototype.inspect = function inspect() {
  if (this.isInfinity())
    return '<EC Point Infinity>';
  return '<EC Point x: ' + this.x.fromRed().toString(16, 2) +
      ' z: ' + this.z.fromRed().toString(16, 2) + '>';
};

Point.prototype.isInfinity = function isInfinity() {
  // XXX This code assumes that zero is always zero in red
  return this.z.cmpn(0) === 0;
};

Point.prototype.dbl = function dbl() {
  // http://hyperelliptic.org/EFD/g1p/auto-montgom-xz.html#doubling-dbl-1987-m-3
  // 2M + 2S + 4A

  // A = X1 + Z1
  var a = this.x.redAdd(this.z);
  // AA = A^2
  var aa = a.redSqr();
  // B = X1 - Z1
  var b = this.x.redSub(this.z);
  // BB = B^2
  var bb = b.redSqr();
  // C = AA - BB
  var c = aa.redSub(bb);
  // X3 = AA * BB
  var nx = aa.redMul(bb);
  // Z3 = C * (BB + A24 * C)
  var nz = c.redMul(bb.redAdd(this.curve.a24.redMul(c)));
  return this.curve.point(nx, nz);
};

Point.prototype.add = function add() {
  throw new Error('Not supported on Montgomery curve');
};

Point.prototype.diffAdd = function diffAdd(p, diff) {
  // http://hyperelliptic.org/EFD/g1p/auto-montgom-xz.html#diffadd-dadd-1987-m-3
  // 4M + 2S + 6A

  // A = X2 + Z2
  var a = this.x.redAdd(this.z);
  // B = X2 - Z2
  var b = this.x.redSub(this.z);
  // C = X3 + Z3
  var c = p.x.redAdd(p.z);
  // D = X3 - Z3
  var d = p.x.redSub(p.z);
  // DA = D * A
  var da = d.redMul(a);
  // CB = C * B
  var cb = c.redMul(b);
  // X5 = Z1 * (DA + CB)^2
  var nx = diff.z.redMul(da.redAdd(cb).redSqr());
  // Z5 = X1 * (DA - CB)^2
  var nz = diff.x.redMul(da.redISub(cb).redSqr());
  return this.curve.point(nx, nz);
};

Point.prototype.mul = function mul(k) {
  var t = k.clone();
  var a = this; // (N / 2) * Q + Q
  var b = this.curve.point(null, null); // (N / 2) * Q
  var c = this; // Q

  for (var bits = []; t.cmpn(0) !== 0; t.ishrn(1))
    bits.push(t.andln(1));

  for (var i = bits.length - 1; i >= 0; i--) {
    if (bits[i] === 0) {
      // N * Q + Q = ((N / 2) * Q + Q)) + (N / 2) * Q
      a = a.diffAdd(b, c);
      // N * Q = 2 * ((N / 2) * Q + Q))
      b = b.dbl();
    } else {
      // N * Q = ((N / 2) * Q + Q) + ((N / 2) * Q)
      b = a.diffAdd(b, c);
      // N * Q + Q = 2 * ((N / 2) * Q + Q)
      a = a.dbl();
    }
  }
  return b;
};

Point.prototype.mulAdd = function mulAdd() {
  throw new Error('Not supported on Montgomery curve');
};

Point.prototype.normalize = function normalize() {
  this.x = this.x.redMul(this.z.redInvm());
  this.z = this.curve.one;
  return this;
};

Point.prototype.getX = function getX() {
  // Normalize coordinates
  this.normalize();

  return this.x.fromRed();
};

},{"../curve":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curve/index.js","bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/bn.js/lib/bn.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curve/edwards.js":[function(require,module,exports){
'use strict';

var curve = require('../curve');
var elliptic = require('../../elliptic');
var bn = require('bn.js');
var inherits = require('inherits');
var Base = curve.base;

var assert = elliptic.utils.assert;

function EdwardsCurve(conf) {
  // NOTE: Important as we are creating point in Base.call()
  this.twisted = (conf.a | 0) !== 1;
  this.mOneA = this.twisted && (conf.a | 0) === -1;
  this.extended = this.mOneA;

  Base.call(this, 'edwards', conf);

  this.a = new bn(conf.a, 16).mod(this.red.m).toRed(this.red);
  this.c = new bn(conf.c, 16).toRed(this.red);
  this.c2 = this.c.redSqr();
  this.d = new bn(conf.d, 16).toRed(this.red);
  this.dd = this.d.redAdd(this.d);

  assert(!this.twisted || this.c.fromRed().cmpn(1) === 0);
  this.oneC = (conf.c | 0) === 1;
}
inherits(EdwardsCurve, Base);
module.exports = EdwardsCurve;

EdwardsCurve.prototype._mulA = function _mulA(num) {
  if (this.mOneA)
    return num.redNeg();
  else
    return this.a.redMul(num);
};

EdwardsCurve.prototype._mulC = function _mulC(num) {
  if (this.oneC)
    return num;
  else
    return this.c.redMul(num);
};

// Just for compatibility with Short curve
EdwardsCurve.prototype.jpoint = function jpoint(x, y, z, t) {
  return this.point(x, y, z, t);
};

EdwardsCurve.prototype.pointFromX = function pointFromX(odd, x) {
  x = new bn(x, 16);
  if (!x.red)
    x = x.toRed(this.red);

  var x2 = x.redSqr();
  var rhs = this.c2.redSub(this.a.redMul(x2));
  var lhs = this.one.redSub(this.c2.redMul(this.d).redMul(x2));

  var y = rhs.redMul(lhs.redInvm()).redSqrt();
  var isOdd = y.fromRed().isOdd();
  if (odd && !isOdd || !odd && isOdd)
    y = y.redNeg();

  return this.point(x, y, curve.one);
};

EdwardsCurve.prototype.validate = function validate(point) {
  if (point.isInfinity())
    return true;

  // Curve: A * X^2 + Y^2 = C^2 * (1 + D * X^2 * Y^2)
  point.normalize();

  var x2 = point.x.redSqr();
  var y2 = point.y.redSqr();
  var lhs = x2.redMul(this.a).redAdd(y2);
  var rhs = this.c2.redMul(this.one.redAdd(this.d.redMul(x2).redMul(y2)));

  return lhs.cmp(rhs) === 0;
};

function Point(curve, x, y, z, t) {
  Base.BasePoint.call(this, curve, 'projective');
  if (x === null && y === null && z === null) {
    this.x = this.curve.zero;
    this.y = this.curve.one;
    this.z = this.curve.one;
    this.t = this.curve.zero;
    this.zOne = true;
  } else {
    this.x = new bn(x, 16);
    this.y = new bn(y, 16);
    this.z = z ? new bn(z, 16) : this.curve.one;
    this.t = t && new bn(t, 16);
    if (!this.x.red)
      this.x = this.x.toRed(this.curve.red);
    if (!this.y.red)
      this.y = this.y.toRed(this.curve.red);
    if (!this.z.red)
      this.z = this.z.toRed(this.curve.red);
    if (this.t && !this.t.red)
      this.t = this.t.toRed(this.curve.red);
    this.zOne = this.z === this.curve.one;

    // Use extended coordinates
    if (this.curve.extended && !this.t) {
      this.t = this.x.redMul(this.y);
      if (!this.zOne)
        this.t = this.t.redMul(this.z.redInvm());
    }
  }
}
inherits(Point, Base.BasePoint);

EdwardsCurve.prototype.pointFromJSON = function pointFromJSON(obj) {
  return Point.fromJSON(this, obj);
};

EdwardsCurve.prototype.point = function point(x, y, z, t) {
  return new Point(this, x, y, z, t);
};

Point.fromJSON = function fromJSON(curve, obj) {
  return new Point(curve, obj[0], obj[1], obj[2]);
};

Point.prototype.inspect = function inspect() {
  if (this.isInfinity())
    return '<EC Point Infinity>';
  return '<EC Point x: ' + this.x.fromRed().toString(16, 2) +
      ' y: ' + this.y.fromRed().toString(16, 2) +
      ' z: ' + this.z.fromRed().toString(16, 2) + '>';
};

Point.prototype.isInfinity = function isInfinity() {
  // XXX This code assumes that zero is always zero in red
  return this.x.cmpn(0) === 0 &&
         this.y.cmp(this.z) === 0;
};

Point.prototype._extDbl = function _extDbl() {
  // hyperelliptic.org/EFD/g1p/auto-twisted-extended-1.html
  //     #doubling-dbl-2008-hwcd
  // 4M + 4S

  // A = X1^2
  var a = this.x.redSqr();
  // B = Y1^2
  var b = this.y.redSqr();
  // C = 2 * Z1^2
  var c = this.z.redSqr();
  c = c.redIAdd(c);
  // D = a * A
  var d = this.curve._mulA(a);
  // E = (X1 + Y1)^2 - A - B
  var e = this.x.redAdd(this.y).redSqr().redISub(a).redISub(b);
  // G = D + B
  var g = d.redAdd(b);
  // F = G - C
  var f = g.redSub(c);
  // H = D - B
  var h = d.redSub(b);
  // X3 = E * F
  var nx = e.redMul(f);
  // Y3 = G * H
  var ny = g.redMul(h);
  // T3 = E * H
  var nt = e.redMul(h);
  // Z3 = F * G
  var nz = f.redMul(g);
  return this.curve.point(nx, ny, nz, nt);
};

Point.prototype._projDbl = function _projDbl() {
  // hyperelliptic.org/EFD/g1p/auto-twisted-projective.html
  //     #doubling-dbl-2008-bbjlp
  //     #doubling-dbl-2007-bl
  // and others
  // Generally 3M + 4S or 2M + 4S

  // B = (X1 + Y1)^2
  var b = this.x.redAdd(this.y).redSqr();
  // C = X1^2
  var c = this.x.redSqr();
  // D = Y1^2
  var d = this.y.redSqr();

  var nx;
  var ny;
  var nz;
  if (this.curve.twisted) {
    // E = a * C
    var e = this.curve._mulA(c);
    // F = E + D
    var f = e.redAdd(d);
    if (this.zOne) {
      // X3 = (B - C - D) * (F - 2)
      nx = b.redSub(c).redSub(d).redMul(f.redSub(this.curve.two));
      // Y3 = F * (E - D)
      ny = f.redMul(e.redSub(d));
      // Z3 = F^2 - 2 * F
      nz = f.redSqr().redSub(f).redSub(f);
    } else {
      // H = Z1^2
      var h = this.z.redSqr();
      // J = F - 2 * H
      var j = f.redSub(h).redISub(h);
      // X3 = (B-C-D)*J
      nx = b.redSub(c).redISub(d).redMul(j);
      // Y3 = F * (E - D)
      ny = f.redMul(e.redSub(d));
      // Z3 = F * J
      nz = f.redMul(j);
    }
  } else {
    // E = C + D
    var e = c.redAdd(d);
    // H = (c * Z1)^2
    var h = this.curve._mulC(this.c.redMul(this.z)).redSqr();
    // J = E - 2 * H
    var j = e.redSub(h).redSub(h);
    // X3 = c * (B - E) * J
    nx = this.curve._mulC(b.redISub(e)).redMul(j);
    // Y3 = c * E * (C - D)
    ny = this.curve._mulC(e).redMul(c.redISub(d));
    // Z3 = E * J
    nz = e.redMul(j);
  }
  return this.curve.point(nx, ny, nz);
};

Point.prototype.dbl = function dbl() {
  if (this.isInfinity())
    return this;

  // Double in extended coordinates
  if (this.curve.extended)
    return this._extDbl();
  else
    return this._projDbl();
};

Point.prototype._extAdd = function _extAdd(p) {
  // hyperelliptic.org/EFD/g1p/auto-twisted-extended-1.html
  //     #addition-add-2008-hwcd-3
  // 8M

  // A = (Y1 - X1) * (Y2 - X2)
  var a = this.y.redSub(this.x).redMul(p.y.redSub(p.x));
  // B = (Y1 + X1) * (Y2 + X2)
  var b = this.y.redAdd(this.x).redMul(p.y.redAdd(p.x));
  // C = T1 * k * T2
  var c = this.t.redMul(this.curve.dd).redMul(p.t);
  // D = Z1 * 2 * Z2
  var d = this.z.redMul(p.z.redAdd(p.z));
  // E = B - A
  var e = b.redSub(a);
  // F = D - C
  var f = d.redSub(c);
  // G = D + C
  var g = d.redAdd(c);
  // H = B + A
  var h = b.redAdd(a);
  // X3 = E * F
  var nx = e.redMul(f);
  // Y3 = G * H
  var ny = g.redMul(h);
  // T3 = E * H
  var nt = e.redMul(h);
  // Z3 = F * G
  var nz = f.redMul(g);
  return this.curve.point(nx, ny, nz, nt);
};

Point.prototype._projAdd = function _projAdd(p) {
  // hyperelliptic.org/EFD/g1p/auto-twisted-projective.html
  //     #addition-add-2008-bbjlp
  //     #addition-add-2007-bl
  // 10M + 1S

  // A = Z1 * Z2
  var a = this.z.redMul(p.z);
  // B = A^2
  var b = a.redSqr();
  // C = X1 * X2
  var c = this.x.redMul(p.x);
  // D = Y1 * Y2
  var d = this.y.redMul(p.y);
  // E = d * C * D
  var e = this.curve.d.redMul(c).redMul(d);
  // F = B - E
  var f = b.redSub(e);
  // G = B + E
  var g = b.redAdd(e);
  // X3 = A * F * ((X1 + Y1) * (X2 + Y2) - C - D)
  var tmp = this.x.redAdd(this.y).redMul(p.x.redAdd(p.y)).redISub(c).redISub(d);
  var nx = a.redMul(f).redMul(tmp);
  var ny;
  var nz;
  if (this.curve.twisted) {
    // Y3 = A * G * (D - a * C)
    ny = a.redMul(g).redMul(d.redSub(this.curve._mulA(c)));
    // Z3 = F * G
    nz = f.redMul(g);
  } else {
    // Y3 = A * G * (D - C)
    ny = a.redMul(g).redMul(d.redSub(c));
    // Z3 = c * F * G
    nz = this.curve._mulC(f).redMul(g);
  }
  return this.curve.point(nx, ny, nz);
};

Point.prototype.add = function add(p) {
  if (this.isInfinity())
    return p;
  if (p.isInfinity())
    return this;

  if (this.curve.extended)
    return this._extAdd(p);
  else
    return this._projAdd(p);
};

Point.prototype.mul = function mul(k) {
  if (this._hasDoubles(k))
    return this.curve._fixedNafMul(this, k);
  else
    return this.curve._wnafMul(this, k);
};

Point.prototype.mulAdd = function mulAdd(k1, p, k2) {
  return this.curve._wnafMulAdd(1, [ this, p ], [ k1, k2 ], 2);
};

Point.prototype.normalize = function normalize() {
  if (this.zOne)
    return this;

  // Normalize coordinates
  var zi = this.z.redInvm();
  this.x = this.x.redMul(zi);
  this.y = this.y.redMul(zi);
  if (this.t)
    this.t = this.t.redMul(zi);
  this.z = this.curve.one;
  this.zOne = true;
  return this;
};

Point.prototype.neg = function neg() {
  return this.curve.point(this.x.redNeg(),
                          this.y,
                          this.z,
                          this.t && this.t.redNeg());
};

Point.prototype.getX = function getX() {
  this.normalize();
  return this.x.fromRed();
};

Point.prototype.getY = function getY() {
  this.normalize();
  return this.y.fromRed();
};

// Compatibility with BaseCurve
Point.prototype.toP = Point.prototype.normalize;
Point.prototype.mixedAdd = Point.prototype.add;

},{"../../elliptic":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic.js","../curve":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curve/index.js","bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/bn.js/lib/bn.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic/curve/base.js":[function(require,module,exports){
'use strict';

var bn = require('bn.js');
var elliptic = require('../../elliptic');

var getNAF = elliptic.utils.getNAF;
var getJSF = elliptic.utils.getJSF;
var assert = elliptic.utils.assert;

function BaseCurve(type, conf) {
  this.type = type;
  this.p = new bn(conf.p, 16);

  // Use Montgomery, when there is no fast reduction for the prime
  this.red = conf.prime ? bn.red(conf.prime) : bn.mont(this.p);

  // Useful for many curves
  this.zero = new bn(0).toRed(this.red);
  this.one = new bn(1).toRed(this.red);
  this.two = new bn(2).toRed(this.red);

  // Curve configuration, optional
  this.n = conf.n && new bn(conf.n, 16);
  this.g = conf.g && this.pointFromJSON(conf.g, conf.gRed);

  // Temporary arrays
  this._wnafT1 = new Array(4);
  this._wnafT2 = new Array(4);
  this._wnafT3 = new Array(4);
  this._wnafT4 = new Array(4);
}
module.exports = BaseCurve;

BaseCurve.prototype.point = function point() {
  throw new Error('Not implemented');
};

BaseCurve.prototype.validate = function validate() {
  throw new Error('Not implemented');
};

BaseCurve.prototype._fixedNafMul = function _fixedNafMul(p, k) {
  assert(p.precomputed);
  var doubles = p._getDoubles();

  var naf = getNAF(k, 1);
  var I = (1 << (doubles.step + 1)) - (doubles.step % 2 === 0 ? 2 : 1);
  I /= 3;

  // Translate into more windowed form
  var repr = [];
  for (var j = 0; j < naf.length; j += doubles.step) {
    var nafW = 0;
    for (var k = j + doubles.step - 1; k >= j; k--)
      nafW = (nafW << 1) + naf[k];
    repr.push(nafW);
  }

  var a = this.jpoint(null, null, null);
  var b = this.jpoint(null, null, null);
  for (var i = I; i > 0; i--) {
    for (var j = 0; j < repr.length; j++) {
      var nafW = repr[j];
      if (nafW === i)
        b = b.mixedAdd(doubles.points[j]);
      else if (nafW === -i)
        b = b.mixedAdd(doubles.points[j].neg());
    }
    a = a.add(b);
  }
  return a.toP();
};

BaseCurve.prototype._wnafMul = function _wnafMul(p, k) {
  var w = 4;

  // Precompute window
  var nafPoints = p._getNAFPoints(w);
  w = nafPoints.wnd;
  var wnd = nafPoints.points;

  // Get NAF form
  var naf = getNAF(k, w);

  // Add `this`*(N+1) for every w-NAF index
  var acc = this.jpoint(null, null, null);
  for (var i = naf.length - 1; i >= 0; i--) {
    // Count zeroes
    for (var k = 0; i >= 0 && naf[i] === 0; i--)
      k++;
    if (i >= 0)
      k++;
    acc = acc.dblp(k);

    if (i < 0)
      break;
    var z = naf[i];
    assert(z !== 0);
    if (p.type === 'affine') {
      // J +- P
      if (z > 0)
        acc = acc.mixedAdd(wnd[(z - 1) >> 1]);
      else
        acc = acc.mixedAdd(wnd[(-z - 1) >> 1].neg());
    } else {
      // J +- J
      if (z > 0)
        acc = acc.add(wnd[(z - 1) >> 1]);
      else
        acc = acc.add(wnd[(-z - 1) >> 1].neg());
    }
  }
  return p.type === 'affine' ? acc.toP() : acc;
};

BaseCurve.prototype._wnafMulAdd = function _wnafMulAdd(defW,
                                                       points,
                                                       coeffs,
                                                       len) {
  var wndWidth = this._wnafT1;
  var wnd = this._wnafT2;
  var naf = this._wnafT3;

  // Fill all arrays
  var max = 0;
  for (var i = 0; i < len; i++) {
    var p = points[i];
    var nafPoints = p._getNAFPoints(defW);
    wndWidth[i] = nafPoints.wnd;
    wnd[i] = nafPoints.points;
  }

  // Comb small window NAFs
  for (var i = len - 1; i >= 1; i -= 2) {
    var a = i - 1;
    var b = i;
    if (wndWidth[a] !== 1 || wndWidth[b] !== 1) {
      naf[a] = getNAF(coeffs[a], wndWidth[a]);
      naf[b] = getNAF(coeffs[b], wndWidth[b]);
      max = Math.max(naf[a].length, max);
      max = Math.max(naf[b].length, max);
      continue;
    }

    var comb = [
      points[a], /* 1 */
      null, /* 3 */
      null, /* 5 */
      points[b] /* 7 */
    ];

    // Try to avoid Projective points, if possible
    if (points[a].y.cmp(points[b].y) === 0) {
      comb[1] = points[a].add(points[b]);
      comb[2] = points[a].toJ().mixedAdd(points[b].neg());
    } else if (points[a].y.cmp(points[b].y.redNeg()) === 0) {
      comb[1] = points[a].toJ().mixedAdd(points[b]);
      comb[2] = points[a].add(points[b].neg());
    } else {
      comb[1] = points[a].toJ().mixedAdd(points[b]);
      comb[2] = points[a].toJ().mixedAdd(points[b].neg());
    }

    var index = [
      -3, /* -1 -1 */
      -1, /* -1 0 */
      -5, /* -1 1 */
      -7, /* 0 -1 */
      0, /* 0 0 */
      7, /* 0 1 */
      5, /* 1 -1 */
      1, /* 1 0 */
      3  /* 1 1 */
    ];

    var jsf = getJSF(coeffs[a], coeffs[b]);
    max = Math.max(jsf[0].length, max);
    naf[a] = new Array(max);
    naf[b] = new Array(max);
    for (var j = 0; j < max; j++) {
      var ja = jsf[0][j] | 0;
      var jb = jsf[1][j] | 0;

      naf[a][j] = index[(ja + 1) * 3 + (jb + 1)];
      naf[b][j] = 0;
      wnd[a] = comb;
    }
  }

  var acc = this.jpoint(null, null, null);
  var tmp = this._wnafT4;
  for (var i = max; i >= 0; i--) {
    var k = 0;

    while (i >= 0) {
      var zero = true;
      for (var j = 0; j < len; j++) {
        tmp[j] = naf[j][i] | 0;
        if (tmp[j] !== 0)
          zero = false;
      }
      if (!zero)
        break;
      k++;
      i--;
    }
    if (i >= 0)
      k++;
    acc = acc.dblp(k);
    if (i < 0)
      break;

    for (var j = 0; j < len; j++) {
      var z = tmp[j];
      var p;
      if (z === 0)
        continue;
      else if (z > 0)
        p = wnd[j][(z - 1) >> 1];
      else if (z < 0)
        p = wnd[j][(-z - 1) >> 1].neg();

      if (p.type === 'affine')
        acc = acc.mixedAdd(p);
      else
        acc = acc.add(p);
    }
  }
  // Zeroify references
  for (var i = 0; i < len; i++)
    wnd[i] = null;
  return acc.toP();
};

function BasePoint(curve, type) {
  this.curve = curve;
  this.type = type;
  this.precomputed = null;
}
BaseCurve.BasePoint = BasePoint;

BasePoint.prototype.validate = function validate() {
  return this.curve.validate(this);
};

BasePoint.prototype.precompute = function precompute(power) {
  if (this.precomputed)
    return this;

  var precomputed = {
    doubles: null,
    naf: null,
    beta: null
  };
  precomputed.naf = this._getNAFPoints(8);
  precomputed.doubles = this._getDoubles(4, power);
  precomputed.beta = this._getBeta();
  this.precomputed = precomputed;

  return this;
};

BasePoint.prototype._hasDoubles = function _hasDoubles(k) {
  if (!this.precomputed)
    return false;

  var doubles = this.precomputed.doubles;
  if (!doubles)
    return false;

  return doubles.points.length >= Math.ceil((k.bitLength() + 1) / doubles.step);
};

BasePoint.prototype._getDoubles = function _getDoubles(step, power) {
  if (this.precomputed && this.precomputed.doubles)
    return this.precomputed.doubles;

  var doubles = [ this ];
  var acc = this;
  for (var i = 0; i < power; i += step) {
    for (var j = 0; j < step; j++)
      acc = acc.dbl();
    doubles.push(acc);
  }
  return {
    step: step,
    points: doubles
  };
};

BasePoint.prototype._getNAFPoints = function _getNAFPoints(wnd) {
  if (this.precomputed && this.precomputed.naf)
    return this.precomputed.naf;

  var res = [ this ];
  var max = (1 << wnd) - 1;
  var dbl = max === 1 ? null : this.dbl();
  for (var i = 1; i < max; i++)
    res[i] = res[i - 1].add(dbl);
  return {
    wnd: wnd,
    points: res
  };
};

BasePoint.prototype._getBeta = function _getBeta() {
  return null;
};

BasePoint.prototype.dblp = function dblp(k) {
  var r = this;
  for (var i = 0; i < k; i++)
    r = r.dbl();
  return r;
};

},{"../../elliptic":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/elliptic/lib/elliptic.js","bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/bn.js/lib/bn.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/browserify-rsa/index.js":[function(require,module,exports){
(function (Buffer){
var bn = require('bn.js');
var randomBytes = require('randombytes');
module.exports = crt;
function blind(priv) {
  var r = getr(priv);
  var blinder = r.toRed(bn.mont(priv.modulus))
  .redPow(new bn(priv.publicExponent)).fromRed();
  return {
    blinder: blinder,
    unblinder:r.invm(priv.modulus)
  };
}
function crt(msg, priv) {
  var blinds = blind(priv);
  var len = priv.modulus.byteLength();
  var mod = bn.mont(priv.modulus);
  var blinded = new bn(msg).mul(blinds.blinder).mod(priv.modulus);
  var c1 = blinded.toRed(bn.mont(priv.prime1));
  var c2 = blinded.toRed(bn.mont(priv.prime2));
  var qinv = priv.coefficient;
  var p = priv.prime1;
  var q = priv.prime2;
  var m1 = c1.redPow(priv.exponent1);
  var m2 = c2.redPow(priv.exponent2);
  m1 = m1.fromRed();
  m2 = m2.fromRed();
  var h = m1.isub(m2).imul(qinv).mod(p);
  h.imul(q);
  m2.iadd(h);
  var out = new Buffer(m2.imul(blinds.unblinder).mod(priv.modulus).toArray());
  if (out.length < len) {
    var prefix = new Buffer(len - out.length);
    prefix.fill(0);
    out = Buffer.concat([prefix, out], len);
  }
  return out;
}
crt.getr = getr;
function getr(priv) {
  var len = priv.modulus.byteLength();
  var r = new bn(randomBytes(len));
  while (r.cmp(priv.modulus) >=  0 || !r.mod(priv.prime1) || !r.mod(priv.prime2)) {
    r = new bn(randomBytes(len));
  }
  return r;
}
}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXJzYS9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBibiA9IHJlcXVpcmUoJ2JuLmpzJyk7XG52YXIgcmFuZG9tQnl0ZXMgPSByZXF1aXJlKCdyYW5kb21ieXRlcycpO1xubW9kdWxlLmV4cG9ydHMgPSBjcnQ7XG5mdW5jdGlvbiBibGluZChwcml2KSB7XG4gIHZhciByID0gZ2V0cihwcml2KTtcbiAgdmFyIGJsaW5kZXIgPSByLnRvUmVkKGJuLm1vbnQocHJpdi5tb2R1bHVzKSlcbiAgLnJlZFBvdyhuZXcgYm4ocHJpdi5wdWJsaWNFeHBvbmVudCkpLmZyb21SZWQoKTtcbiAgcmV0dXJuIHtcbiAgICBibGluZGVyOiBibGluZGVyLFxuICAgIHVuYmxpbmRlcjpyLmludm0ocHJpdi5tb2R1bHVzKVxuICB9O1xufVxuZnVuY3Rpb24gY3J0KG1zZywgcHJpdikge1xuICB2YXIgYmxpbmRzID0gYmxpbmQocHJpdik7XG4gIHZhciBsZW4gPSBwcml2Lm1vZHVsdXMuYnl0ZUxlbmd0aCgpO1xuICB2YXIgbW9kID0gYm4ubW9udChwcml2Lm1vZHVsdXMpO1xuICB2YXIgYmxpbmRlZCA9IG5ldyBibihtc2cpLm11bChibGluZHMuYmxpbmRlcikubW9kKHByaXYubW9kdWx1cyk7XG4gIHZhciBjMSA9IGJsaW5kZWQudG9SZWQoYm4ubW9udChwcml2LnByaW1lMSkpO1xuICB2YXIgYzIgPSBibGluZGVkLnRvUmVkKGJuLm1vbnQocHJpdi5wcmltZTIpKTtcbiAgdmFyIHFpbnYgPSBwcml2LmNvZWZmaWNpZW50O1xuICB2YXIgcCA9IHByaXYucHJpbWUxO1xuICB2YXIgcSA9IHByaXYucHJpbWUyO1xuICB2YXIgbTEgPSBjMS5yZWRQb3cocHJpdi5leHBvbmVudDEpO1xuICB2YXIgbTIgPSBjMi5yZWRQb3cocHJpdi5leHBvbmVudDIpO1xuICBtMSA9IG0xLmZyb21SZWQoKTtcbiAgbTIgPSBtMi5mcm9tUmVkKCk7XG4gIHZhciBoID0gbTEuaXN1YihtMikuaW11bChxaW52KS5tb2QocCk7XG4gIGguaW11bChxKTtcbiAgbTIuaWFkZChoKTtcbiAgdmFyIG91dCA9IG5ldyBCdWZmZXIobTIuaW11bChibGluZHMudW5ibGluZGVyKS5tb2QocHJpdi5tb2R1bHVzKS50b0FycmF5KCkpO1xuICBpZiAob3V0Lmxlbmd0aCA8IGxlbikge1xuICAgIHZhciBwcmVmaXggPSBuZXcgQnVmZmVyKGxlbiAtIG91dC5sZW5ndGgpO1xuICAgIHByZWZpeC5maWxsKDApO1xuICAgIG91dCA9IEJ1ZmZlci5jb25jYXQoW3ByZWZpeCwgb3V0XSwgbGVuKTtcbiAgfVxuICByZXR1cm4gb3V0O1xufVxuY3J0LmdldHIgPSBnZXRyO1xuZnVuY3Rpb24gZ2V0cihwcml2KSB7XG4gIHZhciBsZW4gPSBwcml2Lm1vZHVsdXMuYnl0ZUxlbmd0aCgpO1xuICB2YXIgciA9IG5ldyBibihyYW5kb21CeXRlcyhsZW4pKTtcbiAgd2hpbGUgKHIuY21wKHByaXYubW9kdWx1cykgPj0gIDAgfHwgIXIubW9kKHByaXYucHJpbWUxKSB8fCAhci5tb2QocHJpdi5wcmltZTIpKSB7XG4gICAgciA9IG5ldyBibihyYW5kb21CeXRlcyhsZW4pKTtcbiAgfVxuICByZXR1cm4gcjtcbn0iXX0=
},{"bn.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/bn.js/lib/bn.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","randombytes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/randombytes/browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/randombytes/browser.js":[function(require,module,exports){
(function (process,global,Buffer){
'use strict';

var crypto = global.crypto || global.msCrypto
if(crypto && crypto.getRandomValues) {
  module.exports = randomBytes;
} else {
  module.exports = oldBrowser;
}
function randomBytes(size, cb) {
  var bytes = new Buffer(size); //in browserify, this is an extended Uint8Array
    /* This will not work in older browsers.
     * See https://developer.mozilla.org/en-US/docs/Web/API/window.crypto.getRandomValues
     */

  crypto.getRandomValues(bytes);
  if (typeof cb === 'function') {
    return process.nextTick(function () {
      cb(null, bytes);
    });
  }
  return bytes;
}
function oldBrowser() {
  throw new Error(
      'secure random number generation not supported by this browser\n'+
      'use chrome, FireFox or Internet Explorer 11'
    )
}

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcmFuZG9tYnl0ZXMvYnJvd3Nlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3J5cHRvID0gZ2xvYmFsLmNyeXB0byB8fCBnbG9iYWwubXNDcnlwdG9cbmlmKGNyeXB0byAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmFuZG9tQnl0ZXM7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IG9sZEJyb3dzZXI7XG59XG5mdW5jdGlvbiByYW5kb21CeXRlcyhzaXplLCBjYikge1xuICB2YXIgYnl0ZXMgPSBuZXcgQnVmZmVyKHNpemUpOyAvL2luIGJyb3dzZXJpZnksIHRoaXMgaXMgYW4gZXh0ZW5kZWQgVWludDhBcnJheVxuICAgIC8qIFRoaXMgd2lsbCBub3Qgd29yayBpbiBvbGRlciBicm93c2Vycy5cbiAgICAgKiBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL3dpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzXG4gICAgICovXG5cbiAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhieXRlcyk7XG4gIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICBjYihudWxsLCBieXRlcyk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGJ5dGVzO1xufVxuZnVuY3Rpb24gb2xkQnJvd3NlcigpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ3NlY3VyZSByYW5kb20gbnVtYmVyIGdlbmVyYXRpb24gbm90IHN1cHBvcnRlZCBieSB0aGlzIGJyb3dzZXJcXG4nK1xuICAgICAgJ3VzZSBjaHJvbWUsIEZpcmVGb3ggb3IgSW50ZXJuZXQgRXhwbG9yZXIgMTEnXG4gICAgKVxufVxuIl19
},{"_process":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/process/browser.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/node_modules/bn.js/lib/bn.js":[function(require,module,exports){
(function (module, exports) {

'use strict';

// Utils

function assert(val, msg) {
  if (!val)
    throw new Error(msg || 'Assertion failed');
}

// Could use `inherits` module, but don't want to move from single file
// architecture yet.
function inherits(ctor, superCtor) {
  ctor.super_ = superCtor;
  var TempCtor = function () {};
  TempCtor.prototype = superCtor.prototype;
  ctor.prototype = new TempCtor();
  ctor.prototype.constructor = ctor;
}

// BN

function BN(number, base, endian) {
  // May be `new BN(bn)` ?
  if (number !== null &&
      typeof number === 'object' &&
      Array.isArray(number.words)) {
    return number;
  }

  this.sign = false;
  this.words = null;
  this.length = 0;

  // Reduction context
  this.red = null;

  if (base === 'le' || base === 'be') {
    endian = base;
    base = 10;
  }

  if (number !== null)
    this._init(number || 0, base || 10, endian || 'be');
}
if (typeof module === 'object')
  module.exports = BN;
else
  exports.BN = BN;

BN.BN = BN;
BN.wordSize = 26;

BN.prototype._init = function init(number, base, endian) {
  if (typeof number === 'number') {
    return this._initNumber(number, base, endian);
  } else if (typeof number === 'object') {
    return this._initArray(number, base, endian);
  }
  if (base === 'hex')
    base = 16;
  assert(base === (base | 0) && base >= 2 && base <= 36);

  number = number.toString().replace(/\s+/g, '');
  var start = 0;
  if (number[0] === '-')
    start++;

  if (base === 16)
    this._parseHex(number, start);
  else
    this._parseBase(number, base, start);

  if (number[0] === '-')
    this.sign = true;

  this.strip();

  if (endian !== 'le')
    return;

  this._initArray(this.toArray(), base, endian);
};

BN.prototype._initNumber = function _initNumber(number, base, endian) {
  if (number < 0) {
    this.sign = true;
    number = -number;
  }
  if (number < 0x4000000) {
    this.words = [ number & 0x3ffffff ];
    this.length = 1;
  } else if (number < 0x10000000000000) {
    this.words = [
      number & 0x3ffffff,
      (number / 0x4000000) & 0x3ffffff
    ];
    this.length = 2;
  } else {
    assert(number < 0x20000000000000); // 2 ^ 53 (unsafe)
    this.words = [
      number & 0x3ffffff,
      (number / 0x4000000) & 0x3ffffff,
      1
    ];
    this.length = 3;
  }

  if (endian !== 'le')
    return;

  // Reverse the bytes
  this._initArray(this.toArray(), base, endian);
};

BN.prototype._initArray = function _initArray(number, base, endian) {
  // Perhaps a Uint8Array
  assert(typeof number.length === 'number');
  if (number.length <= 0) {
    this.words = [ 0 ];
    this.length = 1;
    return this;
  }

  this.length = Math.ceil(number.length / 3);
  this.words = new Array(this.length);
  for (var i = 0; i < this.length; i++)
    this.words[i] = 0;

  var off = 0;
  if (endian === 'be') {
    for (var i = number.length - 1, j = 0; i >= 0; i -= 3) {
      var w = number[i] | (number[i - 1] << 8) | (number[i - 2] << 16);
      this.words[j] |= (w << off) & 0x3ffffff;
      this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;
      off += 24;
      if (off >= 26) {
        off -= 26;
        j++;
      }
    }
  } else if (endian === 'le') {
    for (var i = 0, j = 0; i < number.length; i += 3) {
      var w = number[i] | (number[i + 1] << 8) | (number[i + 2] << 16);
      this.words[j] |= (w << off) & 0x3ffffff;
      this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;
      off += 24;
      if (off >= 26) {
        off -= 26;
        j++;
      }
    }
  }
  return this.strip();
};

function parseHex(str, start, end) {
  var r = 0;
  var len = Math.min(str.length, end);
  for (var i = start; i < len; i++) {
    var c = str.charCodeAt(i) - 48;

    r <<= 4;

    // 'a' - 'f'
    if (c >= 49 && c <= 54)
      r |= c - 49 + 0xa;

    // 'A' - 'F'
    else if (c >= 17 && c <= 22)
      r |= c - 17 + 0xa;

    // '0' - '9'
    else
      r |= c & 0xf;
  }
  return r;
}

BN.prototype._parseHex = function _parseHex(number, start) {
  // Create possibly bigger array to ensure that it fits the number
  this.length = Math.ceil((number.length - start) / 6);
  this.words = new Array(this.length);
  for (var i = 0; i < this.length; i++)
    this.words[i] = 0;

  // Scan 24-bit chunks and add them to the number
  var off = 0;
  for (var i = number.length - 6, j = 0; i >= start; i -= 6) {
    var w = parseHex(number, i, i + 6);
    this.words[j] |= (w << off) & 0x3ffffff;
    this.words[j + 1] |= w >>> (26 - off) & 0x3fffff;
    off += 24;
    if (off >= 26) {
      off -= 26;
      j++;
    }
  }
  if (i + 6 !== start) {
    var w = parseHex(number, start, i + 6);
    this.words[j] |= (w << off) & 0x3ffffff;
    this.words[j + 1] |= w >>> (26 - off) & 0x3fffff;
  }
  this.strip();
};

function parseBase(str, start, end, mul) {
  var r = 0;
  var len = Math.min(str.length, end);
  for (var i = start; i < len; i++) {
    var c = str.charCodeAt(i) - 48;

    r *= mul;

    // 'a'
    if (c >= 49)
      r += c - 49 + 0xa;

    // 'A'
    else if (c >= 17)
      r += c - 17 + 0xa;

    // '0' - '9'
    else
      r += c;
  }
  return r;
}

BN.prototype._parseBase = function _parseBase(number, base, start) {
  // Initialize as zero
  this.words = [ 0 ];
  this.length = 1;

  // Find length of limb in base
  for (var limbLen = 0, limbPow = 1; limbPow <= 0x3ffffff; limbPow *= base)
    limbLen++;
  limbLen--;
  limbPow = (limbPow / base) | 0;

  var total = number.length - start;
  var mod = total % limbLen;
  var end = Math.min(total, total - mod) + start;

  var word = 0;
  for (var i = start; i < end; i += limbLen) {
    word = parseBase(number, i, i + limbLen, base);

    this.imuln(limbPow);
    if (this.words[0] + word < 0x4000000)
      this.words[0] += word;
    else
      this._iaddn(word);
  }

  if (mod !== 0) {
    var pow = 1;
    var word = parseBase(number, i, number.length, base);

    for (var i = 0; i < mod; i++)
      pow *= base;
    this.imuln(pow);
    if (this.words[0] + word < 0x4000000)
      this.words[0] += word;
    else
      this._iaddn(word);
  }
};

BN.prototype.copy = function copy(dest) {
  dest.words = new Array(this.length);
  for (var i = 0; i < this.length; i++)
    dest.words[i] = this.words[i];
  dest.length = this.length;
  dest.sign = this.sign;
  dest.red = this.red;
};

BN.prototype.clone = function clone() {
  var r = new BN(null);
  this.copy(r);
  return r;
};

// Remove leading `0` from `this`
BN.prototype.strip = function strip() {
  while (this.length > 1 && this.words[this.length - 1] === 0)
    this.length--;
  return this._normSign();
};

BN.prototype._normSign = function _normSign() {
  // -0 = 0
  if (this.length === 1 && this.words[0] === 0)
    this.sign = false;
  return this;
};

BN.prototype.inspect = function inspect() {
  return (this.red ? '<BN-R: ' : '<BN: ') + this.toString(16) + '>';
};

/*

var zeros = [];
var groupSizes = [];
var groupBases = [];

var s = '';
var i = -1;
while (++i < BN.wordSize) {
  zeros[i] = s;
  s += '0';
}
groupSizes[0] = 0;
groupSizes[1] = 0;
groupBases[0] = 0;
groupBases[1] = 0;
var base = 2 - 1;
while (++base < 36 + 1) {
  var groupSize = 0;
  var groupBase = 1;
  while (groupBase < (1 << BN.wordSize) / base) {
    groupBase *= base;
    groupSize += 1;
  }
  groupSizes[base] = groupSize;
  groupBases[base] = groupBase;
}

*/

var zeros = [
  '',
  '0',
  '00',
  '000',
  '0000',
  '00000',
  '000000',
  '0000000',
  '00000000',
  '000000000',
  '0000000000',
  '00000000000',
  '000000000000',
  '0000000000000',
  '00000000000000',
  '000000000000000',
  '0000000000000000',
  '00000000000000000',
  '000000000000000000',
  '0000000000000000000',
  '00000000000000000000',
  '000000000000000000000',
  '0000000000000000000000',
  '00000000000000000000000',
  '000000000000000000000000',
  '0000000000000000000000000'
];

var groupSizes = [
  0, 0,
  25, 16, 12, 11, 10, 9, 8,
  8, 7, 7, 7, 7, 6, 6,
  6, 6, 6, 6, 6, 5, 5,
  5, 5, 5, 5, 5, 5, 5,
  5, 5, 5, 5, 5, 5, 5
];

var groupBases = [
  0, 0,
  33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216,
  43046721, 10000000, 19487171, 35831808, 62748517, 7529536, 11390625,
  16777216, 24137569, 34012224, 47045881, 64000000, 4084101, 5153632,
  6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149,
  24300000, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176
];

BN.prototype.toString = function toString(base, padding) {
  base = base || 10;
  if (base === 16 || base === 'hex') {
    var out = '';
    var off = 0;
    var padding = padding | 0 || 1;
    var carry = 0;
    for (var i = 0; i < this.length; i++) {
      var w = this.words[i];
      var word = (((w << off) | carry) & 0xffffff).toString(16);
      carry = (w >>> (24 - off)) & 0xffffff;
      if (carry !== 0 || i !== this.length - 1)
        out = zeros[6 - word.length] + word + out;
      else
        out = word + out;
      off += 2;
      if (off >= 26) {
        off -= 26;
        i--;
      }
    }
    if (carry !== 0)
      out = carry.toString(16) + out;
    while (out.length % padding !== 0)
      out = '0' + out;
    if (this.sign)
      out = '-' + out;
    return out;
  } else if (base === (base | 0) && base >= 2 && base <= 36) {
    // var groupSize = Math.floor(BN.wordSize * Math.LN2 / Math.log(base));
    var groupSize = groupSizes[base];
    // var groupBase = Math.pow(base, groupSize);
    var groupBase = groupBases[base];
    var out = '';
    var c = this.clone();
    c.sign = false;
    while (c.cmpn(0) !== 0) {
      var r = c.modn(groupBase).toString(base);
      c = c.idivn(groupBase);

      if (c.cmpn(0) !== 0)
        out = zeros[groupSize - r.length] + r + out;
      else
        out = r + out;
    }
    if (this.cmpn(0) === 0)
      out = '0' + out;
    if (this.sign)
      out = '-' + out;
    return out;
  } else {
    assert(false, 'Base should be between 2 and 36');
  }
};

BN.prototype.toJSON = function toJSON() {
  return this.toString(16);
};

BN.prototype.toArray = function toArray(endian) {
  this.strip();
  var res = new Array(this.byteLength());
  res[0] = 0;

  var q = this.clone();
  if (endian !== 'le') {
    // Assume big-endian
    for (var i = 0; q.cmpn(0) !== 0; i++) {
      var b = q.andln(0xff);
      q.ishrn(8);

      res[res.length - i - 1] = b;
    }
  } else {
    // Assume little-endian
    for (var i = 0; q.cmpn(0) !== 0; i++) {
      var b = q.andln(0xff);
      q.ishrn(8);

      res[i] = b;
    }
  }

  return res;
};

if (Math.clz32) {
  BN.prototype._countBits = function _countBits(w) {
    return 32 - Math.clz32(w);
  };
} else {
  BN.prototype._countBits = function _countBits(w) {
    var t = w;
    var r = 0;
    if (t >= 0x1000) {
      r += 13;
      t >>>= 13;
    }
    if (t >= 0x40) {
      r += 7;
      t >>>= 7;
    }
    if (t >= 0x8) {
      r += 4;
      t >>>= 4;
    }
    if (t >= 0x02) {
      r += 2;
      t >>>= 2;
    }
    return r + t;
  };
}

BN.prototype._zeroBits = function _zeroBits(w) {
  // Short-cut
  if (w === 0)
    return 26;

  var t = w;
  var r = 0;
  if ((t & 0x1fff) === 0) {
    r += 13;
    t >>>= 13;
  }
  if ((t & 0x7f) === 0) {
    r += 7;
    t >>>= 7;
  }
  if ((t & 0xf) === 0) {
    r += 4;
    t >>>= 4;
  }
  if ((t & 0x3) === 0) {
    r += 2;
    t >>>= 2;
  }
  if ((t & 0x1) === 0)
    r++;
  return r;
};

// Return number of used bits in a BN
BN.prototype.bitLength = function bitLength() {
  var hi = 0;
  var w = this.words[this.length - 1];
  var hi = this._countBits(w);
  return (this.length - 1) * 26 + hi;
};

// Number of trailing zero bits
BN.prototype.zeroBits = function zeroBits() {
  if (this.cmpn(0) === 0)
    return 0;

  var r = 0;
  for (var i = 0; i < this.length; i++) {
    var b = this._zeroBits(this.words[i]);
    r += b;
    if (b !== 26)
      break;
  }
  return r;
};

BN.prototype.byteLength = function byteLength() {
  return Math.ceil(this.bitLength() / 8);
};

// Return negative clone of `this`
BN.prototype.neg = function neg() {
  if (this.cmpn(0) === 0)
    return this.clone();

  var r = this.clone();
  r.sign = !this.sign;
  return r;
};


// Or `num` with `this` in-place
BN.prototype.ior = function ior(num) {
  this.sign = this.sign || num.sign;

  while (this.length < num.length)
    this.words[this.length++] = 0;

  for (var i = 0; i < num.length; i++)
    this.words[i] = this.words[i] | num.words[i];

  return this.strip();
};


// Or `num` with `this`
BN.prototype.or = function or(num) {
  if (this.length > num.length)
    return this.clone().ior(num);
  else
    return num.clone().ior(this);
};


// And `num` with `this` in-place
BN.prototype.iand = function iand(num) {
  this.sign = this.sign && num.sign;

  // b = min-length(num, this)
  var b;
  if (this.length > num.length)
    b = num;
  else
    b = this;

  for (var i = 0; i < b.length; i++)
    this.words[i] = this.words[i] & num.words[i];

  this.length = b.length;

  return this.strip();
};


// And `num` with `this`
BN.prototype.and = function and(num) {
  if (this.length > num.length)
    return this.clone().iand(num);
  else
    return num.clone().iand(this);
};


// Xor `num` with `this` in-place
BN.prototype.ixor = function ixor(num) {
  this.sign = this.sign || num.sign;

  // a.length > b.length
  var a;
  var b;
  if (this.length > num.length) {
    a = this;
    b = num;
  } else {
    a = num;
    b = this;
  }

  for (var i = 0; i < b.length; i++)
    this.words[i] = a.words[i] ^ b.words[i];

  if (this !== a)
    for (; i < a.length; i++)
      this.words[i] = a.words[i];

  this.length = a.length;

  return this.strip();
};


// Xor `num` with `this`
BN.prototype.xor = function xor(num) {
  if (this.length > num.length)
    return this.clone().ixor(num);
  else
    return num.clone().ixor(this);
};


// Set `bit` of `this`
BN.prototype.setn = function setn(bit, val) {
  assert(typeof bit === 'number' && bit >= 0);

  var off = (bit / 26) | 0;
  var wbit = bit % 26;

  while (this.length <= off)
    this.words[this.length++] = 0;

  if (val)
    this.words[off] = this.words[off] | (1 << wbit);
  else
    this.words[off] = this.words[off] & ~(1 << wbit);

  return this.strip();
};


// Add `num` to `this` in-place
BN.prototype.iadd = function iadd(num) {
  // negative + positive
  if (this.sign && !num.sign) {
    this.sign = false;
    var r = this.isub(num);
    this.sign = !this.sign;
    return this._normSign();

  // positive + negative
  } else if (!this.sign && num.sign) {
    num.sign = false;
    var r = this.isub(num);
    num.sign = true;
    return r._normSign();
  }

  // a.length > b.length
  var a;
  var b;
  if (this.length > num.length) {
    a = this;
    b = num;
  } else {
    a = num;
    b = this;
  }

  var carry = 0;
  for (var i = 0; i < b.length; i++) {
    var r = a.words[i] + b.words[i] + carry;
    this.words[i] = r & 0x3ffffff;
    carry = r >>> 26;
  }
  for (; carry !== 0 && i < a.length; i++) {
    var r = a.words[i] + carry;
    this.words[i] = r & 0x3ffffff;
    carry = r >>> 26;
  }

  this.length = a.length;
  if (carry !== 0) {
    this.words[this.length] = carry;
    this.length++;
  // Copy the rest of the words
  } else if (a !== this) {
    for (; i < a.length; i++)
      this.words[i] = a.words[i];
  }

  return this;
};

// Add `num` to `this`
BN.prototype.add = function add(num) {
  if (num.sign && !this.sign) {
    num.sign = false;
    var res = this.sub(num);
    num.sign = true;
    return res;
  } else if (!num.sign && this.sign) {
    this.sign = false;
    var res = num.sub(this);
    this.sign = true;
    return res;
  }

  if (this.length > num.length)
    return this.clone().iadd(num);
  else
    return num.clone().iadd(this);
};

// Subtract `num` from `this` in-place
BN.prototype.isub = function isub(num) {
  // this - (-num) = this + num
  if (num.sign) {
    num.sign = false;
    var r = this.iadd(num);
    num.sign = true;
    return r._normSign();

  // -this - num = -(this + num)
  } else if (this.sign) {
    this.sign = false;
    this.iadd(num);
    this.sign = true;
    return this._normSign();
  }

  // At this point both numbers are positive
  var cmp = this.cmp(num);

  // Optimization - zeroify
  if (cmp === 0) {
    this.sign = false;
    this.length = 1;
    this.words[0] = 0;
    return this;
  }

  // a > b
  var a;
  var b;
  if (cmp > 0) {
    a = this;
    b = num;
  } else {
    a = num;
    b = this;
  }

  var carry = 0;
  for (var i = 0; i < b.length; i++) {
    var r = a.words[i] - b.words[i] + carry;
    carry = r >> 26;
    this.words[i] = r & 0x3ffffff;
  }
  for (; carry !== 0 && i < a.length; i++) {
    var r = a.words[i] + carry;
    carry = r >> 26;
    this.words[i] = r & 0x3ffffff;
  }

  // Copy rest of the words
  if (carry === 0 && i < a.length && a !== this)
    for (; i < a.length; i++)
      this.words[i] = a.words[i];
  this.length = Math.max(this.length, i);

  if (a !== this)
    this.sign = true;

  return this.strip();
};

// Subtract `num` from `this`
BN.prototype.sub = function sub(num) {
  return this.clone().isub(num);
};

/*
// NOTE: This could be potentionally used to generate loop-less multiplications
function _genCombMulTo(alen, blen) {
  var len = alen + blen - 1;
  var src = [
    'var a = this.words, b = num.words, o = out.words, c = 0, w, ' +
        'mask = 0x3ffffff, shift = 0x4000000;',
    'out.length = ' + len + ';'
  ];
  for (var k = 0; k < len; k++) {
    var minJ = Math.max(0, k - alen + 1);
    var maxJ = Math.min(k, blen - 1);

    for (var j = minJ; j <= maxJ; j++) {
      var i = k - j;
      var mul = 'a[' + i + '] * b[' + j + ']';

      if (j === minJ) {
        src.push('w = ' + mul + ' + c;');
        src.push('c = (w / shift) | 0;');
      } else {
        src.push('w += ' + mul + ';');
        src.push('c += (w / shift) | 0;');
      }
      src.push('w &= mask;');
    }
    src.push('o[' + k + '] = w;');
  }
  src.push('if (c !== 0) {',
           '  o[' + k + '] = c;',
           '  out.length++;',
           '}',
           'return out;');

  return src.join('\n');
}
*/

BN.prototype._smallMulTo = function _smallMulTo(num, out) {
  out.sign = num.sign !== this.sign;
  out.length = this.length + num.length;

  var carry = 0;
  for (var k = 0; k < out.length - 1; k++) {
    // Sum all words with the same `i + j = k` and accumulate `ncarry`,
    // note that ncarry could be >= 0x3ffffff
    var ncarry = carry >>> 26;
    var rword = carry & 0x3ffffff;
    var maxJ = Math.min(k, num.length - 1);
    for (var j = Math.max(0, k - this.length + 1); j <= maxJ; j++) {
      var i = k - j;
      var a = this.words[i] | 0;
      var b = num.words[j] | 0;
      var r = a * b;

      var lo = r & 0x3ffffff;
      ncarry = (ncarry + ((r / 0x4000000) | 0)) | 0;
      lo = (lo + rword) | 0;
      rword = lo & 0x3ffffff;
      ncarry = (ncarry + (lo >>> 26)) | 0;
    }
    out.words[k] = rword;
    carry = ncarry;
  }
  if (carry !== 0) {
    out.words[k] = carry;
  } else {
    out.length--;
  }

  return out.strip();
};

BN.prototype._bigMulTo = function _bigMulTo(num, out) {
  out.sign = num.sign !== this.sign;
  out.length = this.length + num.length;

  var carry = 0;
  var hncarry = 0;
  for (var k = 0; k < out.length - 1; k++) {
    // Sum all words with the same `i + j = k` and accumulate `ncarry`,
    // note that ncarry could be >= 0x3ffffff
    var ncarry = hncarry;
    hncarry = 0;
    var rword = carry & 0x3ffffff;
    var maxJ = Math.min(k, num.length - 1);
    for (var j = Math.max(0, k - this.length + 1); j <= maxJ; j++) {
      var i = k - j;
      var a = this.words[i] | 0;
      var b = num.words[j] | 0;
      var r = a * b;

      var lo = r & 0x3ffffff;
      ncarry = (ncarry + ((r / 0x4000000) | 0)) | 0;
      lo = (lo + rword) | 0;
      rword = lo & 0x3ffffff;
      ncarry = (ncarry + (lo >>> 26)) | 0;

      hncarry += ncarry >>> 26;
      ncarry &= 0x3ffffff;
    }
    out.words[k] = rword;
    carry = ncarry;
    ncarry = hncarry;
  }
  if (carry !== 0) {
    out.words[k] = carry;
  } else {
    out.length--;
  }

  return out.strip();
};

BN.prototype.mulTo = function mulTo(num, out) {
  var res;
  if (this.length + num.length < 63)
    res = this._smallMulTo(num, out);
  else
    res = this._bigMulTo(num, out);
  return res;
};

// Multiply `this` by `num`
BN.prototype.mul = function mul(num) {
  var out = new BN(null);
  out.words = new Array(this.length + num.length);
  return this.mulTo(num, out);
};

// In-place Multiplication
BN.prototype.imul = function imul(num) {
  if (this.cmpn(0) === 0 || num.cmpn(0) === 0) {
    this.words[0] = 0;
    this.length = 1;
    return this;
  }

  var tlen = this.length;
  var nlen = num.length;

  this.sign = num.sign !== this.sign;
  this.length = this.length + num.length;
  this.words[this.length - 1] = 0;

  for (var k = this.length - 2; k >= 0; k--) {
    // Sum all words with the same `i + j = k` and accumulate `carry`,
    // note that carry could be >= 0x3ffffff
    var carry = 0;
    var rword = 0;
    var maxJ = Math.min(k, nlen - 1);
    for (var j = Math.max(0, k - tlen + 1); j <= maxJ; j++) {
      var i = k - j;
      var a = this.words[i];
      var b = num.words[j];
      var r = a * b;

      var lo = r & 0x3ffffff;
      carry += (r / 0x4000000) | 0;
      lo += rword;
      rword = lo & 0x3ffffff;
      carry += lo >>> 26;
    }
    this.words[k] = rword;
    this.words[k + 1] += carry;
    carry = 0;
  }

  // Propagate overflows
  var carry = 0;
  for (var i = 1; i < this.length; i++) {
    var w = this.words[i] + carry;
    this.words[i] = w & 0x3ffffff;
    carry = w >>> 26;
  }

  return this.strip();
};

BN.prototype.imuln = function imuln(num) {
  assert(typeof num === 'number');

  // Carry
  var carry = 0;
  for (var i = 0; i < this.length; i++) {
    var w = this.words[i] * num;
    var lo = (w & 0x3ffffff) + (carry & 0x3ffffff);
    carry >>= 26;
    carry += (w / 0x4000000) | 0;
    // NOTE: lo is 27bit maximum
    carry += lo >>> 26;
    this.words[i] = lo & 0x3ffffff;
  }

  if (carry !== 0) {
    this.words[i] = carry;
    this.length++;
  }

  return this;
};

BN.prototype.muln = function muln(num) {
  return this.clone().imuln(num);
};

// `this` * `this`
BN.prototype.sqr = function sqr() {
  return this.mul(this);
};

// `this` * `this` in-place
BN.prototype.isqr = function isqr() {
  return this.mul(this);
};

// Shift-left in-place
BN.prototype.ishln = function ishln(bits) {
  assert(typeof bits === 'number' && bits >= 0);
  var r = bits % 26;
  var s = (bits - r) / 26;
  var carryMask = (0x3ffffff >>> (26 - r)) << (26 - r);

  if (r !== 0) {
    var carry = 0;
    for (var i = 0; i < this.length; i++) {
      var newCarry = this.words[i] & carryMask;
      var c = (this.words[i] - newCarry) << r;
      this.words[i] = c | carry;
      carry = newCarry >>> (26 - r);
    }
    if (carry) {
      this.words[i] = carry;
      this.length++;
    }
  }

  if (s !== 0) {
    for (var i = this.length - 1; i >= 0; i--)
      this.words[i + s] = this.words[i];
    for (var i = 0; i < s; i++)
      this.words[i] = 0;
    this.length += s;
  }

  return this.strip();
};

// Shift-right in-place
// NOTE: `hint` is a lowest bit before trailing zeroes
// NOTE: if `extended` is present - it will be filled with destroyed bits
BN.prototype.ishrn = function ishrn(bits, hint, extended) {
  assert(typeof bits === 'number' && bits >= 0);
  var h;
  if (hint)
    h = (hint - (hint % 26)) / 26;
  else
    h = 0;

  var r = bits % 26;
  var s = Math.min((bits - r) / 26, this.length);
  var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);
  var maskedWords = extended;

  h -= s;
  h = Math.max(0, h);

  // Extended mode, copy masked part
  if (maskedWords) {
    for (var i = 0; i < s; i++)
      maskedWords.words[i] = this.words[i];
    maskedWords.length = s;
  }

  if (s === 0) {
    // No-op, we should not move anything at all
  } else if (this.length > s) {
    this.length -= s;
    for (var i = 0; i < this.length; i++)
      this.words[i] = this.words[i + s];
  } else {
    this.words[0] = 0;
    this.length = 1;
  }

  var carry = 0;
  for (var i = this.length - 1; i >= 0 && (carry !== 0 || i >= h); i--) {
    var word = this.words[i];
    this.words[i] = (carry << (26 - r)) | (word >>> r);
    carry = word & mask;
  }

  // Push carried bits as a mask
  if (maskedWords && carry !== 0)
    maskedWords.words[maskedWords.length++] = carry;

  if (this.length === 0) {
    this.words[0] = 0;
    this.length = 1;
  }

  this.strip();

  return this;
};

// Shift-left
BN.prototype.shln = function shln(bits) {
  return this.clone().ishln(bits);
};

// Shift-right
BN.prototype.shrn = function shrn(bits) {
  return this.clone().ishrn(bits);
};

// Test if n bit is set
BN.prototype.testn = function testn(bit) {
  assert(typeof bit === 'number' && bit >= 0);
  var r = bit % 26;
  var s = (bit - r) / 26;
  var q = 1 << r;

  // Fast case: bit is much higher than all existing words
  if (this.length <= s) {
    return false;
  }

  // Check bit and return
  var w = this.words[s];

  return !!(w & q);
};

// Return only lowers bits of number (in-place)
BN.prototype.imaskn = function imaskn(bits) {
  assert(typeof bits === 'number' && bits >= 0);
  var r = bits % 26;
  var s = (bits - r) / 26;

  assert(!this.sign, 'imaskn works only with positive numbers');

  if (r !== 0)
    s++;
  this.length = Math.min(s, this.length);

  if (r !== 0) {
    var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);
    this.words[this.length - 1] &= mask;
  }

  return this.strip();
};

// Return only lowers bits of number
BN.prototype.maskn = function maskn(bits) {
  return this.clone().imaskn(bits);
};

// Add plain number `num` to `this`
BN.prototype.iaddn = function iaddn(num) {
  assert(typeof num === 'number');
  if (num < 0)
    return this.isubn(-num);

  // Possible sign change
  if (this.sign) {
    if (this.length === 1 && this.words[0] < num) {
      this.words[0] = num - this.words[0];
      this.sign = false;
      return this;
    }

    this.sign = false;
    this.isubn(num);
    this.sign = true;
    return this;
  }

  // Add without checks
  return this._iaddn(num);
};

BN.prototype._iaddn = function _iaddn(num) {
  this.words[0] += num;

  // Carry
  for (var i = 0; i < this.length && this.words[i] >= 0x4000000; i++) {
    this.words[i] -= 0x4000000;
    if (i === this.length - 1)
      this.words[i + 1] = 1;
    else
      this.words[i + 1]++;
  }
  this.length = Math.max(this.length, i + 1);

  return this;
};

// Subtract plain number `num` from `this`
BN.prototype.isubn = function isubn(num) {
  assert(typeof num === 'number');
  if (num < 0)
    return this.iaddn(-num);

  if (this.sign) {
    this.sign = false;
    this.iaddn(num);
    this.sign = true;
    return this;
  }

  this.words[0] -= num;

  // Carry
  for (var i = 0; i < this.length && this.words[i] < 0; i++) {
    this.words[i] += 0x4000000;
    this.words[i + 1] -= 1;
  }

  return this.strip();
};

BN.prototype.addn = function addn(num) {
  return this.clone().iaddn(num);
};

BN.prototype.subn = function subn(num) {
  return this.clone().isubn(num);
};

BN.prototype.iabs = function iabs() {
  this.sign = false;

  return this;
};

BN.prototype.abs = function abs() {
  return this.clone().iabs();
};

BN.prototype._ishlnsubmul = function _ishlnsubmul(num, mul, shift) {
  // Bigger storage is needed
  var len = num.length + shift;
  var i;
  if (this.words.length < len) {
    var t = new Array(len);
    for (var i = 0; i < this.length; i++)
      t[i] = this.words[i];
    this.words = t;
  } else {
    i = this.length;
  }

  // Zeroify rest
  this.length = Math.max(this.length, len);
  for (; i < this.length; i++)
    this.words[i] = 0;

  var carry = 0;
  for (var i = 0; i < num.length; i++) {
    var w = this.words[i + shift] + carry;
    var right = num.words[i] * mul;
    w -= right & 0x3ffffff;
    carry = (w >> 26) - ((right / 0x4000000) | 0);
    this.words[i + shift] = w & 0x3ffffff;
  }
  for (; i < this.length - shift; i++) {
    var w = this.words[i + shift] + carry;
    carry = w >> 26;
    this.words[i + shift] = w & 0x3ffffff;
  }

  if (carry === 0)
    return this.strip();

  // Subtraction overflow
  assert(carry === -1);
  carry = 0;
  for (var i = 0; i < this.length; i++) {
    var w = -this.words[i] + carry;
    carry = w >> 26;
    this.words[i] = w & 0x3ffffff;
  }
  this.sign = true;

  return this.strip();
};

BN.prototype._wordDiv = function _wordDiv(num, mode) {
  var shift = this.length - num.length;

  var a = this.clone();
  var b = num;

  // Normalize
  var bhi = b.words[b.length - 1];
  var bhiBits = this._countBits(bhi);
  shift = 26 - bhiBits;
  if (shift !== 0) {
    b = b.shln(shift);
    a.ishln(shift);
    bhi = b.words[b.length - 1];
  }

  // Initialize quotient
  var m = a.length - b.length;
  var q;

  if (mode !== 'mod') {
    q = new BN(null);
    q.length = m + 1;
    q.words = new Array(q.length);
    for (var i = 0; i < q.length; i++)
      q.words[i] = 0;
  }

  var diff = a.clone()._ishlnsubmul(b, 1, m);
  if (!diff.sign) {
    a = diff;
    if (q)
      q.words[m] = 1;
  }

  for (var j = m - 1; j >= 0; j--) {
    var qj = a.words[b.length + j] * 0x4000000 + a.words[b.length + j - 1];

    // NOTE: (qj / bhi) is (0x3ffffff * 0x4000000 + 0x3ffffff) / 0x2000000 max
    // (0x7ffffff)
    qj = Math.min((qj / bhi) | 0, 0x3ffffff);

    a._ishlnsubmul(b, qj, j);
    while (a.sign) {
      qj--;
      a.sign = false;
      a._ishlnsubmul(b, 1, j);
      if (a.cmpn(0) !== 0)
        a.sign = !a.sign;
    }
    if (q)
      q.words[j] = qj;
  }
  if (q)
    q.strip();
  a.strip();

  // Denormalize
  if (mode !== 'div' && shift !== 0)
    a.ishrn(shift);
  return { div: q ? q : null, mod: a };
};

BN.prototype.divmod = function divmod(num, mode) {
  assert(num.cmpn(0) !== 0);

  if (this.sign && !num.sign) {
    var res = this.neg().divmod(num, mode);
    var div;
    var mod;
    if (mode !== 'mod')
      div = res.div.neg();
    if (mode !== 'div')
      mod = res.mod.cmpn(0) === 0 ? res.mod : num.sub(res.mod);
    return {
      div: div,
      mod: mod
    };
  } else if (!this.sign && num.sign) {
    var res = this.divmod(num.neg(), mode);
    var div;
    if (mode !== 'mod')
      div = res.div.neg();
    return { div: div, mod: res.mod };
  } else if (this.sign && num.sign) {
    return this.neg().divmod(num.neg(), mode);
  }

  // Both numbers are positive at this point

  // Strip both numbers to approximate shift value
  if (num.length > this.length || this.cmp(num) < 0)
    return { div: new BN(0), mod: this };

  // Very short reduction
  if (num.length === 1) {
    if (mode === 'div')
      return { div: this.divn(num.words[0]), mod: null };
    else if (mode === 'mod')
      return { div: null, mod: new BN(this.modn(num.words[0])) };
    return {
      div: this.divn(num.words[0]),
      mod: new BN(this.modn(num.words[0]))
    };
  }

  return this._wordDiv(num, mode);
};

// Find `this` / `num`
BN.prototype.div = function div(num) {
  return this.divmod(num, 'div').div;
};

// Find `this` % `num`
BN.prototype.mod = function mod(num) {
  return this.divmod(num, 'mod').mod;
};

// Find Round(`this` / `num`)
BN.prototype.divRound = function divRound(num) {
  var dm = this.divmod(num);

  // Fast case - exact division
  if (dm.mod.cmpn(0) === 0)
    return dm.div;

  var mod = dm.div.sign ? dm.mod.isub(num) : dm.mod;

  var half = num.shrn(1);
  var r2 = num.andln(1);
  var cmp = mod.cmp(half);

  // Round down
  if (cmp < 0 || r2 === 1 && cmp === 0)
    return dm.div;

  // Round up
  return dm.div.sign ? dm.div.isubn(1) : dm.div.iaddn(1);
};

BN.prototype.modn = function modn(num) {
  assert(num <= 0x3ffffff);
  var p = (1 << 26) % num;

  var acc = 0;
  for (var i = this.length - 1; i >= 0; i--)
    acc = (p * acc + this.words[i]) % num;

  return acc;
};

// In-place division by number
BN.prototype.idivn = function idivn(num) {
  assert(num <= 0x3ffffff);

  var carry = 0;
  for (var i = this.length - 1; i >= 0; i--) {
    var w = this.words[i] + carry * 0x4000000;
    this.words[i] = (w / num) | 0;
    carry = w % num;
  }

  return this.strip();
};

BN.prototype.divn = function divn(num) {
  return this.clone().idivn(num);
};

BN.prototype.egcd = function egcd(p) {
  assert(!p.sign);
  assert(p.cmpn(0) !== 0);

  var x = this;
  var y = p.clone();

  if (x.sign)
    x = x.mod(p);
  else
    x = x.clone();

  // A * x + B * y = x
  var A = new BN(1);
  var B = new BN(0);

  // C * x + D * y = y
  var C = new BN(0);
  var D = new BN(1);

  var g = 0;

  while (x.isEven() && y.isEven()) {
    x.ishrn(1);
    y.ishrn(1);
    ++g;
  }

  var yp = y.clone();
  var xp = x.clone();

  while (x.cmpn(0) !== 0) {
    while (x.isEven()) {
      x.ishrn(1);
      if (A.isEven() && B.isEven()) {
        A.ishrn(1);
        B.ishrn(1);
      } else {
        A.iadd(yp).ishrn(1);
        B.isub(xp).ishrn(1);
      }
    }

    while (y.isEven()) {
      y.ishrn(1);
      if (C.isEven() && D.isEven()) {
        C.ishrn(1);
        D.ishrn(1);
      } else {
        C.iadd(yp).ishrn(1);
        D.isub(xp).ishrn(1);
      }
    }

    if (x.cmp(y) >= 0) {
      x.isub(y);
      A.isub(C);
      B.isub(D);
    } else {
      y.isub(x);
      C.isub(A);
      D.isub(B);
    }
  }

  return {
    a: C,
    b: D,
    gcd: y.ishln(g)
  };
};

// This is reduced incarnation of the binary EEA
// above, designated to invert members of the
// _prime_ fields F(p) at a maximal speed
BN.prototype._invmp = function _invmp(p) {
  assert(!p.sign);
  assert(p.cmpn(0) !== 0);

  var a = this;
  var b = p.clone();

  if (a.sign)
    a = a.mod(p);
  else
    a = a.clone();

  var x1 = new BN(1);
  var x2 = new BN(0);

  var delta = b.clone();

  while (a.cmpn(1) > 0 && b.cmpn(1) > 0) {
    while (a.isEven()) {
      a.ishrn(1);
      if (x1.isEven())
        x1.ishrn(1);
      else
        x1.iadd(delta).ishrn(1);
    }
    while (b.isEven()) {
      b.ishrn(1);
      if (x2.isEven())
        x2.ishrn(1);
      else
        x2.iadd(delta).ishrn(1);
    }
    if (a.cmp(b) >= 0) {
      a.isub(b);
      x1.isub(x2);
    } else {
      b.isub(a);
      x2.isub(x1);
    }
  }
  if (a.cmpn(1) === 0)
    return x1;
  else
    return x2;
};

BN.prototype.gcd = function gcd(num) {
  if (this.cmpn(0) === 0)
    return num.clone();
  if (num.cmpn(0) === 0)
    return this.clone();

  var a = this.clone();
  var b = num.clone();
  a.sign = false;
  b.sign = false;

  // Remove common factor of two
  for (var shift = 0; a.isEven() && b.isEven(); shift++) {
    a.ishrn(1);
    b.ishrn(1);
  }

  do {
    while (a.isEven())
      a.ishrn(1);
    while (b.isEven())
      b.ishrn(1);

    var r = a.cmp(b);
    if (r < 0) {
      // Swap `a` and `b` to make `a` always bigger than `b`
      var t = a;
      a = b;
      b = t;
    } else if (r === 0 || b.cmpn(1) === 0) {
      break;
    }

    a.isub(b);
  } while (true);

  return b.ishln(shift);
};

// Invert number in the field F(num)
BN.prototype.invm = function invm(num) {
  return this.egcd(num).a.mod(num);
};

BN.prototype.isEven = function isEven() {
  return (this.words[0] & 1) === 0;
};

BN.prototype.isOdd = function isOdd() {
  return (this.words[0] & 1) === 1;
};

// And first word and num
BN.prototype.andln = function andln(num) {
  return this.words[0] & num;
};

// Increment at the bit position in-line
BN.prototype.bincn = function bincn(bit) {
  assert(typeof bit === 'number');
  var r = bit % 26;
  var s = (bit - r) / 26;
  var q = 1 << r;

  // Fast case: bit is much higher than all existing words
  if (this.length <= s) {
    for (var i = this.length; i < s + 1; i++)
      this.words[i] = 0;
    this.words[s] |= q;
    this.length = s + 1;
    return this;
  }

  // Add bit and propagate, if needed
  var carry = q;
  for (var i = s; carry !== 0 && i < this.length; i++) {
    var w = this.words[i];
    w += carry;
    carry = w >>> 26;
    w &= 0x3ffffff;
    this.words[i] = w;
  }
  if (carry !== 0) {
    this.words[i] = carry;
    this.length++;
  }
  return this;
};

BN.prototype.cmpn = function cmpn(num) {
  var sign = num < 0;
  if (sign)
    num = -num;

  if (this.sign && !sign)
    return -1;
  else if (!this.sign && sign)
    return 1;

  num &= 0x3ffffff;
  this.strip();

  var res;
  if (this.length > 1) {
    res = 1;
  } else {
    var w = this.words[0];
    res = w === num ? 0 : w < num ? -1 : 1;
  }
  if (this.sign)
    res = -res;
  return res;
};

// Compare two numbers and return:
// 1 - if `this` > `num`
// 0 - if `this` == `num`
// -1 - if `this` < `num`
BN.prototype.cmp = function cmp(num) {
  if (this.sign && !num.sign)
    return -1;
  else if (!this.sign && num.sign)
    return 1;

  var res = this.ucmp(num);
  if (this.sign)
    return -res;
  else
    return res;
};

// Unsigned comparison
BN.prototype.ucmp = function ucmp(num) {
  // At this point both numbers have the same sign
  if (this.length > num.length)
    return 1;
  else if (this.length < num.length)
    return -1;

  var res = 0;
  for (var i = this.length - 1; i >= 0; i--) {
    var a = this.words[i];
    var b = num.words[i];

    if (a === b)
      continue;
    if (a < b)
      res = -1;
    else if (a > b)
      res = 1;
    break;
  }
  return res;
};

//
// A reduce context, could be using montgomery or something better, depending
// on the `m` itself.
//
BN.red = function red(num) {
  return new Red(num);
};

BN.prototype.toRed = function toRed(ctx) {
  assert(!this.red, 'Already a number in reduction context');
  assert(!this.sign, 'red works only with positives');
  return ctx.convertTo(this)._forceRed(ctx);
};

BN.prototype.fromRed = function fromRed() {
  assert(this.red, 'fromRed works only with numbers in reduction context');
  return this.red.convertFrom(this);
};

BN.prototype._forceRed = function _forceRed(ctx) {
  this.red = ctx;
  return this;
};

BN.prototype.forceRed = function forceRed(ctx) {
  assert(!this.red, 'Already a number in reduction context');
  return this._forceRed(ctx);
};

BN.prototype.redAdd = function redAdd(num) {
  assert(this.red, 'redAdd works only with red numbers');
  return this.red.add(this, num);
};

BN.prototype.redIAdd = function redIAdd(num) {
  assert(this.red, 'redIAdd works only with red numbers');
  return this.red.iadd(this, num);
};

BN.prototype.redSub = function redSub(num) {
  assert(this.red, 'redSub works only with red numbers');
  return this.red.sub(this, num);
};

BN.prototype.redISub = function redISub(num) {
  assert(this.red, 'redISub works only with red numbers');
  return this.red.isub(this, num);
};

BN.prototype.redShl = function redShl(num) {
  assert(this.red, 'redShl works only with red numbers');
  return this.red.shl(this, num);
};

BN.prototype.redMul = function redMul(num) {
  assert(this.red, 'redMul works only with red numbers');
  this.red._verify2(this, num);
  return this.red.mul(this, num);
};

BN.prototype.redIMul = function redIMul(num) {
  assert(this.red, 'redMul works only with red numbers');
  this.red._verify2(this, num);
  return this.red.imul(this, num);
};

BN.prototype.redSqr = function redSqr() {
  assert(this.red, 'redSqr works only with red numbers');
  this.red._verify1(this);
  return this.red.sqr(this);
};

BN.prototype.redISqr = function redISqr() {
  assert(this.red, 'redISqr works only with red numbers');
  this.red._verify1(this);
  return this.red.isqr(this);
};

// Square root over p
BN.prototype.redSqrt = function redSqrt() {
  assert(this.red, 'redSqrt works only with red numbers');
  this.red._verify1(this);
  return this.red.sqrt(this);
};

BN.prototype.redInvm = function redInvm() {
  assert(this.red, 'redInvm works only with red numbers');
  this.red._verify1(this);
  return this.red.invm(this);
};

// Return negative clone of `this` % `red modulo`
BN.prototype.redNeg = function redNeg() {
  assert(this.red, 'redNeg works only with red numbers');
  this.red._verify1(this);
  return this.red.neg(this);
};

BN.prototype.redPow = function redPow(num) {
  assert(this.red && !num.red, 'redPow(normalNum)');
  this.red._verify1(this);
  return this.red.pow(this, num);
};

// Prime numbers with efficient reduction
var primes = {
  k256: null,
  p224: null,
  p192: null,
  p25519: null
};

// Pseudo-Mersenne prime
function MPrime(name, p) {
  // P = 2 ^ N - K
  this.name = name;
  this.p = new BN(p, 16);
  this.n = this.p.bitLength();
  this.k = new BN(1).ishln(this.n).isub(this.p);

  this.tmp = this._tmp();
}

MPrime.prototype._tmp = function _tmp() {
  var tmp = new BN(null);
  tmp.words = new Array(Math.ceil(this.n / 13));
  return tmp;
};

MPrime.prototype.ireduce = function ireduce(num) {
  // Assumes that `num` is less than `P^2`
  // num = HI * (2 ^ N - K) + HI * K + LO = HI * K + LO (mod P)
  var r = num;
  var rlen;

  do {
    this.split(r, this.tmp);
    r = this.imulK(r);
    r = r.iadd(this.tmp);
    rlen = r.bitLength();
  } while (rlen > this.n);

  var cmp = rlen < this.n ? -1 : r.ucmp(this.p);
  if (cmp === 0) {
    r.words[0] = 0;
    r.length = 1;
  } else if (cmp > 0) {
    r.isub(this.p);
  } else {
    r.strip();
  }

  return r;
};

MPrime.prototype.split = function split(input, out) {
  input.ishrn(this.n, 0, out);
};

MPrime.prototype.imulK = function imulK(num) {
  return num.imul(this.k);
};

function K256() {
  MPrime.call(
    this,
    'k256',
    'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f');
}
inherits(K256, MPrime);

K256.prototype.split = function split(input, output) {
  // 256 = 9 * 26 + 22
  var mask = 0x3fffff;

  var outLen = Math.min(input.length, 9);
  for (var i = 0; i < outLen; i++)
    output.words[i] = input.words[i];
  output.length = outLen;

  if (input.length <= 9) {
    input.words[0] = 0;
    input.length = 1;
    return;
  }

  // Shift by 9 limbs
  var prev = input.words[9];
  output.words[output.length++] = prev & mask;

  for (var i = 10; i < input.length; i++) {
    var next = input.words[i];
    input.words[i - 10] = ((next & mask) << 4) | (prev >>> 22);
    prev = next;
  }
  input.words[i - 10] = prev >>> 22;
  input.length -= 9;
};

K256.prototype.imulK = function imulK(num) {
  // K = 0x1000003d1 = [ 0x40, 0x3d1 ]
  num.words[num.length] = 0;
  num.words[num.length + 1] = 0;
  num.length += 2;

  // bounded at: 0x40 * 0x3ffffff + 0x3d0 = 0x100000390
  var hi;
  var lo = 0;
  for (var i = 0; i < num.length; i++) {
    var w = num.words[i];
    hi = w * 0x40;
    lo += w * 0x3d1;
    hi += (lo / 0x4000000) | 0;
    lo &= 0x3ffffff;

    num.words[i] = lo;

    lo = hi;
  }

  // Fast length reduction
  if (num.words[num.length - 1] === 0) {
    num.length--;
    if (num.words[num.length - 1] === 0)
      num.length--;
  }
  return num;
};

function P224() {
  MPrime.call(
    this,
    'p224',
    'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001');
}
inherits(P224, MPrime);

function P192() {
  MPrime.call(
    this,
    'p192',
    'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff');
}
inherits(P192, MPrime);

function P25519() {
  // 2 ^ 255 - 19
  MPrime.call(
    this,
    '25519',
    '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed');
}
inherits(P25519, MPrime);

P25519.prototype.imulK = function imulK(num) {
  // K = 0x13
  var carry = 0;
  for (var i = 0; i < num.length; i++) {
    var hi = num.words[i] * 0x13 + carry;
    var lo = hi & 0x3ffffff;
    hi >>>= 26;

    num.words[i] = lo;
    carry = hi;
  }
  if (carry !== 0)
    num.words[num.length++] = carry;
  return num;
};

// Exported mostly for testing purposes, use plain name instead
BN._prime = function prime(name) {
  // Cached version of prime
  if (primes[name])
    return primes[name];

  var prime;
  if (name === 'k256')
    prime = new K256();
  else if (name === 'p224')
    prime = new P224();
  else if (name === 'p192')
    prime = new P192();
  else if (name === 'p25519')
    prime = new P25519();
  else
    throw new Error('Unknown prime ' + name);
  primes[name] = prime;

  return prime;
};

//
// Base reduction engine
//
function Red(m) {
  if (typeof m === 'string') {
    var prime = BN._prime(m);
    this.m = prime.p;
    this.prime = prime;
  } else {
    this.m = m;
    this.prime = null;
  }
}

Red.prototype._verify1 = function _verify1(a) {
  assert(!a.sign, 'red works only with positives');
  assert(a.red, 'red works only with red numbers');
};

Red.prototype._verify2 = function _verify2(a, b) {
  assert(!a.sign && !b.sign, 'red works only with positives');
  assert(a.red && a.red === b.red,
         'red works only with red numbers');
};

Red.prototype.imod = function imod(a) {
  if (this.prime)
    return this.prime.ireduce(a)._forceRed(this);
  return a.mod(this.m)._forceRed(this);
};

Red.prototype.neg = function neg(a) {
  var r = a.clone();
  r.sign = !r.sign;
  return r.iadd(this.m)._forceRed(this);
};

Red.prototype.add = function add(a, b) {
  this._verify2(a, b);

  var res = a.add(b);
  if (res.cmp(this.m) >= 0)
    res.isub(this.m);
  return res._forceRed(this);
};

Red.prototype.iadd = function iadd(a, b) {
  this._verify2(a, b);

  var res = a.iadd(b);
  if (res.cmp(this.m) >= 0)
    res.isub(this.m);
  return res;
};

Red.prototype.sub = function sub(a, b) {
  this._verify2(a, b);

  var res = a.sub(b);
  if (res.cmpn(0) < 0)
    res.iadd(this.m);
  return res._forceRed(this);
};

Red.prototype.isub = function isub(a, b) {
  this._verify2(a, b);

  var res = a.isub(b);
  if (res.cmpn(0) < 0)
    res.iadd(this.m);
  return res;
};

Red.prototype.shl = function shl(a, num) {
  this._verify1(a);
  return this.imod(a.shln(num));
};

Red.prototype.imul = function imul(a, b) {
  this._verify2(a, b);
  return this.imod(a.imul(b));
};

Red.prototype.mul = function mul(a, b) {
  this._verify2(a, b);
  return this.imod(a.mul(b));
};

Red.prototype.isqr = function isqr(a) {
  return this.imul(a, a);
};

Red.prototype.sqr = function sqr(a) {
  return this.mul(a, a);
};

Red.prototype.sqrt = function sqrt(a) {
  if (a.cmpn(0) === 0)
    return a.clone();

  var mod3 = this.m.andln(3);
  assert(mod3 % 2 === 1);

  // Fast case
  if (mod3 === 3) {
    var pow = this.m.add(new BN(1)).ishrn(2);
    var r = this.pow(a, pow);
    return r;
  }

  // Tonelli-Shanks algorithm (Totally unoptimized and slow)
  //
  // Find Q and S, that Q * 2 ^ S = (P - 1)
  var q = this.m.subn(1);
  var s = 0;
  while (q.cmpn(0) !== 0 && q.andln(1) === 0) {
    s++;
    q.ishrn(1);
  }
  assert(q.cmpn(0) !== 0);

  var one = new BN(1).toRed(this);
  var nOne = one.redNeg();

  // Find quadratic non-residue
  // NOTE: Max is such because of generalized Riemann hypothesis.
  var lpow = this.m.subn(1).ishrn(1);
  var z = this.m.bitLength();
  z = new BN(2 * z * z).toRed(this);
  while (this.pow(z, lpow).cmp(nOne) !== 0)
    z.redIAdd(nOne);

  var c = this.pow(z, q);
  var r = this.pow(a, q.addn(1).ishrn(1));
  var t = this.pow(a, q);
  var m = s;
  while (t.cmp(one) !== 0) {
    var tmp = t;
    for (var i = 0; tmp.cmp(one) !== 0; i++)
      tmp = tmp.redSqr();
    assert(i < m);
    var b = this.pow(c, new BN(1).ishln(m - i - 1));

    r = r.redMul(b);
    c = b.redSqr();
    t = t.redMul(c);
    m = i;
  }

  return r;
};

Red.prototype.invm = function invm(a) {
  var inv = a._invmp(this.m);
  if (inv.sign) {
    inv.sign = false;
    return this.imod(inv).redNeg();
  } else {
    return this.imod(inv);
  }
};

Red.prototype.pow = function pow(a, num) {
  var w = [];

  if (num.cmpn(0) === 0)
    return new BN(1);

  var q = num.clone();

  while (q.cmpn(0) !== 0) {
    w.push(q.andln(1));
    q.ishrn(1);
  }

  // Skip leading zeroes
  var res = a;
  for (var i = 0; i < w.length; i++, res = this.sqr(res))
    if (w[i] !== 0)
      break;

  if (++i < w.length) {
    for (var q = this.sqr(res); i < w.length; i++, q = this.sqr(q)) {
      if (w[i] === 0)
        continue;
      res = this.mul(res, q);
    }
  }

  return res;
};

Red.prototype.convertTo = function convertTo(num) {
  var r = num.mod(this.m);
  if (r === num)
    return r.clone();
  else
    return r;
};

Red.prototype.convertFrom = function convertFrom(num) {
  var res = num.clone();
  res.red = null;
  return res;
};

//
// Montgomery method engine
//

BN.mont = function mont(num) {
  return new Mont(num);
};

function Mont(m) {
  Red.call(this, m);

  this.shift = this.m.bitLength();
  if (this.shift % 26 !== 0)
    this.shift += 26 - (this.shift % 26);
  this.r = new BN(1).ishln(this.shift);
  this.r2 = this.imod(this.r.sqr());
  this.rinv = this.r._invmp(this.m);

  this.minv = this.rinv.mul(this.r).isubn(1).div(this.m);
  this.minv.sign = true;
  this.minv = this.minv.mod(this.r);
}
inherits(Mont, Red);

Mont.prototype.convertTo = function convertTo(num) {
  return this.imod(num.shln(this.shift));
};

Mont.prototype.convertFrom = function convertFrom(num) {
  var r = this.imod(num.mul(this.rinv));
  r.red = null;
  return r;
};

Mont.prototype.imul = function imul(a, b) {
  if (a.cmpn(0) === 0 || b.cmpn(0) === 0) {
    a.words[0] = 0;
    a.length = 1;
    return a;
  }

  var t = a.imul(b);
  var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);
  var u = t.isub(c).ishrn(this.shift);
  var res = u;
  if (u.cmp(this.m) >= 0)
    res = u.isub(this.m);
  else if (u.cmpn(0) < 0)
    res = u.iadd(this.m);

  return res._forceRed(this);
};

Mont.prototype.mul = function mul(a, b) {
  if (a.cmpn(0) === 0 || b.cmpn(0) === 0)
    return new BN(0)._forceRed(this);

  var t = a.mul(b);
  var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);
  var u = t.isub(c).ishrn(this.shift);
  var res = u;
  if (u.cmp(this.m) >= 0)
    res = u.isub(this.m);
  else if (u.cmpn(0) < 0)
    res = u.iadd(this.m);

  return res._forceRed(this);
};

Mont.prototype.invm = function invm(a) {
  // (AR)^-1 * R^2 = (A^-1 * R^-1) * R^2 = A^-1 * R
  var res = this.imod(a._invmp(this.m).mul(this.r2));
  return res._forceRed(this);
};

})(typeof module === 'undefined' || module, this);

},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/curves.js":[function(require,module,exports){
'use strict'
exports['1.3.132.0.10'] = 'secp256k1'

exports['1.3.132.0.33'] = 'p224'

exports['1.2.840.10045.3.1.1'] = 'p192'

exports['1.2.840.10045.3.1.7'] = 'p256'

},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-sign/algos.js":[function(require,module,exports){
(function (Buffer){
'use strict'
exports['RSA-SHA224'] = exports.sha224WithRSAEncryption = {
  sign: 'rsa',
  hash: 'sha224',
  id: new Buffer('302d300d06096086480165030402040500041c', 'hex')
}
exports['RSA-SHA256'] = exports.sha256WithRSAEncryption = {
  sign: 'rsa',
  hash: 'sha256',
  id: new Buffer('3031300d060960864801650304020105000420', 'hex')
}
exports['RSA-SHA384'] = exports.sha384WithRSAEncryption = {
  sign: 'rsa',
  hash: 'sha384',
  id: new Buffer('3041300d060960864801650304020205000430', 'hex')
}
exports['RSA-SHA512'] = exports.sha512WithRSAEncryption = {
  sign: 'rsa',
  hash: 'sha512',
  id: new Buffer('3051300d060960864801650304020305000440', 'hex')
}
exports['RSA-SHA1'] = {
  sign: 'rsa',
  hash: 'sha1',
  id: new Buffer('3021300906052b0e03021a05000414', 'hex')
}
exports['ecdsa-with-SHA1'] = {
  sign: 'ecdsa',
  hash: 'sha1',
  id: new Buffer('', 'hex')
}
exports.DSA = exports['DSA-SHA1'] = exports['DSA-SHA'] = {
  sign: 'dsa',
  hash: 'sha1',
  id: new Buffer('', 'hex')
}
exports['DSA-SHA224'] = exports['DSA-WITH-SHA224'] = {
  sign: 'dsa',
  hash: 'sha224',
  id: new Buffer('', 'hex')
}
exports['DSA-SHA256'] = exports['DSA-WITH-SHA256'] = {
  sign: 'dsa',
  hash: 'sha256',
  id: new Buffer('', 'hex')
}
exports['DSA-SHA384'] = exports['DSA-WITH-SHA384'] = {
  sign: 'dsa',
  hash: 'sha384',
  id: new Buffer('', 'hex')
}
exports['DSA-SHA512'] = exports['DSA-WITH-SHA512'] = {
  sign: 'dsa',
  hash: 'sha512',
  id: new Buffer('', 'hex')
}
exports['DSA-RIPEMD160'] = {
  sign: 'dsa',
  hash: 'rmd160',
  id: new Buffer('', 'hex')
}
exports['RSA-RIPEMD160'] = exports.ripemd160WithRSA = {
  sign: 'rsa',
  hash: 'rmd160',
  id: new Buffer('3021300906052b2403020105000414', 'hex')
}
exports['RSA-MD5'] = exports.md5WithRSAEncryption = {
  sign: 'rsa',
  hash: 'md5',
  id: new Buffer('3020300c06082a864886f70d020505000410', 'hex')
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL2FsZ29zLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuZXhwb3J0c1snUlNBLVNIQTIyNCddID0gZXhwb3J0cy5zaGEyMjRXaXRoUlNBRW5jcnlwdGlvbiA9IHtcbiAgc2lnbjogJ3JzYScsXG4gIGhhc2g6ICdzaGEyMjQnLFxuICBpZDogbmV3IEJ1ZmZlcignMzAyZDMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjA0MDUwMDA0MWMnLCAnaGV4Jylcbn1cbmV4cG9ydHNbJ1JTQS1TSEEyNTYnXSA9IGV4cG9ydHMuc2hhMjU2V2l0aFJTQUVuY3J5cHRpb24gPSB7XG4gIHNpZ246ICdyc2EnLFxuICBoYXNoOiAnc2hhMjU2JyxcbiAgaWQ6IG5ldyBCdWZmZXIoJzMwMzEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMTA1MDAwNDIwJywgJ2hleCcpXG59XG5leHBvcnRzWydSU0EtU0hBMzg0J10gPSBleHBvcnRzLnNoYTM4NFdpdGhSU0FFbmNyeXB0aW9uID0ge1xuICBzaWduOiAncnNhJyxcbiAgaGFzaDogJ3NoYTM4NCcsXG4gIGlkOiBuZXcgQnVmZmVyKCczMDQxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDIwNTAwMDQzMCcsICdoZXgnKVxufVxuZXhwb3J0c1snUlNBLVNIQTUxMiddID0gZXhwb3J0cy5zaGE1MTJXaXRoUlNBRW5jcnlwdGlvbiA9IHtcbiAgc2lnbjogJ3JzYScsXG4gIGhhc2g6ICdzaGE1MTInLFxuICBpZDogbmV3IEJ1ZmZlcignMzA1MTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAzMDUwMDA0NDAnLCAnaGV4Jylcbn1cbmV4cG9ydHNbJ1JTQS1TSEExJ10gPSB7XG4gIHNpZ246ICdyc2EnLFxuICBoYXNoOiAnc2hhMScsXG4gIGlkOiBuZXcgQnVmZmVyKCczMDIxMzAwOTA2MDUyYjBlMDMwMjFhMDUwMDA0MTQnLCAnaGV4Jylcbn1cbmV4cG9ydHNbJ2VjZHNhLXdpdGgtU0hBMSddID0ge1xuICBzaWduOiAnZWNkc2EnLFxuICBoYXNoOiAnc2hhMScsXG4gIGlkOiBuZXcgQnVmZmVyKCcnLCAnaGV4Jylcbn1cbmV4cG9ydHMuRFNBID0gZXhwb3J0c1snRFNBLVNIQTEnXSA9IGV4cG9ydHNbJ0RTQS1TSEEnXSA9IHtcbiAgc2lnbjogJ2RzYScsXG4gIGhhc2g6ICdzaGExJyxcbiAgaWQ6IG5ldyBCdWZmZXIoJycsICdoZXgnKVxufVxuZXhwb3J0c1snRFNBLVNIQTIyNCddID0gZXhwb3J0c1snRFNBLVdJVEgtU0hBMjI0J10gPSB7XG4gIHNpZ246ICdkc2EnLFxuICBoYXNoOiAnc2hhMjI0JyxcbiAgaWQ6IG5ldyBCdWZmZXIoJycsICdoZXgnKVxufVxuZXhwb3J0c1snRFNBLVNIQTI1NiddID0gZXhwb3J0c1snRFNBLVdJVEgtU0hBMjU2J10gPSB7XG4gIHNpZ246ICdkc2EnLFxuICBoYXNoOiAnc2hhMjU2JyxcbiAgaWQ6IG5ldyBCdWZmZXIoJycsICdoZXgnKVxufVxuZXhwb3J0c1snRFNBLVNIQTM4NCddID0gZXhwb3J0c1snRFNBLVdJVEgtU0hBMzg0J10gPSB7XG4gIHNpZ246ICdkc2EnLFxuICBoYXNoOiAnc2hhMzg0JyxcbiAgaWQ6IG5ldyBCdWZmZXIoJycsICdoZXgnKVxufVxuZXhwb3J0c1snRFNBLVNIQTUxMiddID0gZXhwb3J0c1snRFNBLVdJVEgtU0hBNTEyJ10gPSB7XG4gIHNpZ246ICdkc2EnLFxuICBoYXNoOiAnc2hhNTEyJyxcbiAgaWQ6IG5ldyBCdWZmZXIoJycsICdoZXgnKVxufVxuZXhwb3J0c1snRFNBLVJJUEVNRDE2MCddID0ge1xuICBzaWduOiAnZHNhJyxcbiAgaGFzaDogJ3JtZDE2MCcsXG4gIGlkOiBuZXcgQnVmZmVyKCcnLCAnaGV4Jylcbn1cbmV4cG9ydHNbJ1JTQS1SSVBFTUQxNjAnXSA9IGV4cG9ydHMucmlwZW1kMTYwV2l0aFJTQSA9IHtcbiAgc2lnbjogJ3JzYScsXG4gIGhhc2g6ICdybWQxNjAnLFxuICBpZDogbmV3IEJ1ZmZlcignMzAyMTMwMDkwNjA1MmIyNDAzMDIwMTA1MDAwNDE0JywgJ2hleCcpXG59XG5leHBvcnRzWydSU0EtTUQ1J10gPSBleHBvcnRzLm1kNVdpdGhSU0FFbmNyeXB0aW9uID0ge1xuICBzaWduOiAncnNhJyxcbiAgaGFzaDogJ21kNScsXG4gIGlkOiBuZXcgQnVmZmVyKCczMDIwMzAwYzA2MDgyYTg2NDg4NmY3MGQwMjA1MDUwMDA0MTAnLCAnaGV4Jylcbn1cbiJdfQ==
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/browser.js":[function(require,module,exports){
var ebtk = require('evp_bytestokey')
var aes = require('browserify-aes/browser')
var DES = require('browserify-des')
var desModes = require('browserify-des/modes')
var aesModes = require('browserify-aes/modes')
function createCipher (suite, password) {
  var keyLen, ivLen
  suite = suite.toLowerCase()
  if (aesModes[suite]) {
    keyLen = aesModes[suite].key
    ivLen = aesModes[suite].iv
  } else if (desModes[suite]) {
    keyLen = desModes[suite].key * 8
    ivLen = desModes[suite].iv
  } else {
    throw new TypeError('invalid suite type')
  }
  var keys = ebtk(password, false, keyLen, ivLen)
  return createCipheriv(suite, keys.key, keys.iv)
}
function createDecipher (suite, password) {
  var keyLen, ivLen
  suite = suite.toLowerCase()
  if (aesModes[suite]) {
    keyLen = aesModes[suite].key
    ivLen = aesModes[suite].iv
  } else if (desModes[suite]) {
    keyLen = desModes[suite].key * 8
    ivLen = desModes[suite].iv
  } else {
    throw new TypeError('invalid suite type')
  }
  var keys = ebtk(password, false, keyLen, ivLen)
  return createDecipheriv(suite, keys.key, keys.iv)
}

function createCipheriv (suite, key, iv) {
  suite = suite.toLowerCase()
  if (aesModes[suite]) {
    return aes.createCipheriv(suite, key, iv)
  } else if (desModes[suite]) {
    return new DES({
      key: key,
      iv: iv,
      mode: suite
    })
  } else {
    throw new TypeError('invalid suite type')
  }
}
function createDecipheriv (suite, key, iv) {
  suite = suite.toLowerCase()
  if (aesModes[suite]) {
    return aes.createDecipheriv(suite, key, iv)
  } else if (desModes[suite]) {
    return new DES({
      key: key,
      iv: iv,
      mode: suite,
      decrypt: true
    })
  } else {
    throw new TypeError('invalid suite type')
  }
}
exports.createCipher = exports.Cipher = createCipher
exports.createCipheriv = exports.Cipheriv = createCipheriv
exports.createDecipher = exports.Decipher = createDecipher
exports.createDecipheriv = exports.Decipheriv = createDecipheriv
function getCiphers () {
  return Object.keys(desModes).concat(aes.getCiphers())
}
exports.listCiphers = exports.getCiphers = getCiphers

},{"browserify-aes/browser":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/browser.js","browserify-aes/modes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes.js","browserify-des":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/index.js","browserify-des/modes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/modes.js","evp_bytestokey":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/evp_bytestokey/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/modes.js":[function(require,module,exports){
exports['des-ecb'] = {
  key: 8,
  iv: 0
}
exports['des-cbc'] = exports.des = {
  key: 8,
  iv: 8
}
exports['des-ede3-cbc'] = exports.des3 = {
  key: 24,
  iv: 8
}
exports['des-ede3'] = {
  key: 24,
  iv: 0
}
exports['des-ede-cbc'] = {
  key: 16,
  iv: 8
}
exports['des-ede'] = {
  key: 16,
  iv: 0
}

},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/index.js":[function(require,module,exports){
(function (Buffer){
var CipherBase = require('cipher-base')
var des = require('des.js')
var inherits = require('inherits')

var modes = {
  'des-ede3-cbc': des.CBC.instantiate(des.EDE),
  'des-ede3': des.EDE,
  'des-ede-cbc': des.CBC.instantiate(des.EDE),
  'des-ede': des.EDE,
  'des-cbc': des.CBC.instantiate(des.DES),
  'des-ecb': des.DES
}
modes.des = modes['des-cbc']
modes.des3 = modes['des-ede3-cbc']
module.exports = DES
inherits(DES, CipherBase)
function DES (opts) {
  CipherBase.call(this)
  var modeName = opts.mode.toLowerCase()
  var mode = modes[modeName]
  var type
  if (opts.decrypt) {
    type = 'decrypt'
  } else {
    type = 'encrypt'
  }
  var key = opts.key
  if (modeName === 'des-ede' || modeName === 'des-ede-cbc') {
    key = Buffer.concat([key, key.slice(0, 8)])
  }
  var iv = opts.iv
  this._des = mode.create({
    key: key,
    iv: iv,
    type: type
  })
}
DES.prototype._update = function (data) {
  return new Buffer(this._des.update(data))
}
DES.prototype._final = function () {
  return new Buffer(this._des.final())
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktZGVzL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQ2lwaGVyQmFzZSA9IHJlcXVpcmUoJ2NpcGhlci1iYXNlJylcbnZhciBkZXMgPSByZXF1aXJlKCdkZXMuanMnKVxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxuXG52YXIgbW9kZXMgPSB7XG4gICdkZXMtZWRlMy1jYmMnOiBkZXMuQ0JDLmluc3RhbnRpYXRlKGRlcy5FREUpLFxuICAnZGVzLWVkZTMnOiBkZXMuRURFLFxuICAnZGVzLWVkZS1jYmMnOiBkZXMuQ0JDLmluc3RhbnRpYXRlKGRlcy5FREUpLFxuICAnZGVzLWVkZSc6IGRlcy5FREUsXG4gICdkZXMtY2JjJzogZGVzLkNCQy5pbnN0YW50aWF0ZShkZXMuREVTKSxcbiAgJ2Rlcy1lY2InOiBkZXMuREVTXG59XG5tb2Rlcy5kZXMgPSBtb2Rlc1snZGVzLWNiYyddXG5tb2Rlcy5kZXMzID0gbW9kZXNbJ2Rlcy1lZGUzLWNiYyddXG5tb2R1bGUuZXhwb3J0cyA9IERFU1xuaW5oZXJpdHMoREVTLCBDaXBoZXJCYXNlKVxuZnVuY3Rpb24gREVTIChvcHRzKSB7XG4gIENpcGhlckJhc2UuY2FsbCh0aGlzKVxuICB2YXIgbW9kZU5hbWUgPSBvcHRzLm1vZGUudG9Mb3dlckNhc2UoKVxuICB2YXIgbW9kZSA9IG1vZGVzW21vZGVOYW1lXVxuICB2YXIgdHlwZVxuICBpZiAob3B0cy5kZWNyeXB0KSB7XG4gICAgdHlwZSA9ICdkZWNyeXB0J1xuICB9IGVsc2Uge1xuICAgIHR5cGUgPSAnZW5jcnlwdCdcbiAgfVxuICB2YXIga2V5ID0gb3B0cy5rZXlcbiAgaWYgKG1vZGVOYW1lID09PSAnZGVzLWVkZScgfHwgbW9kZU5hbWUgPT09ICdkZXMtZWRlLWNiYycpIHtcbiAgICBrZXkgPSBCdWZmZXIuY29uY2F0KFtrZXksIGtleS5zbGljZSgwLCA4KV0pXG4gIH1cbiAgdmFyIGl2ID0gb3B0cy5pdlxuICB0aGlzLl9kZXMgPSBtb2RlLmNyZWF0ZSh7XG4gICAga2V5OiBrZXksXG4gICAgaXY6IGl2LFxuICAgIHR5cGU6IHR5cGVcbiAgfSlcbn1cbkRFUy5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIHJldHVybiBuZXcgQnVmZmVyKHRoaXMuX2Rlcy51cGRhdGUoZGF0YSkpXG59XG5ERVMucHJvdG90eXBlLl9maW5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIG5ldyBCdWZmZXIodGhpcy5fZGVzLmZpbmFsKCkpXG59XG4iXX0=
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","cipher-base":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/node_modules/cipher-base/index.js","des.js":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/node_modules/des.js/lib/des.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/node_modules/des.js/lib/des.js":[function(require,module,exports){
'use strict';

exports.utils = require('./des/utils');
exports.Cipher = require('./des/cipher');
exports.DES = require('./des/des');
exports.CBC = require('./des/cbc');
exports.EDE = require('./des/ede');

},{"./des/cbc":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/node_modules/des.js/lib/des/cbc.js","./des/cipher":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/node_modules/des.js/lib/des/cipher.js","./des/des":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/node_modules/des.js/lib/des/des.js","./des/ede":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/node_modules/des.js/lib/des/ede.js","./des/utils":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/node_modules/des.js/lib/des/utils.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/node_modules/des.js/lib/des/utils.js":[function(require,module,exports){
'use strict';

exports.readUInt32BE = function readUInt32BE(bytes, off) {
  var res =  (bytes[0 + off] << 24) |
             (bytes[1 + off] << 16) |
             (bytes[2 + off] << 8) |
             bytes[3 + off];
  return res >>> 0;
};

exports.writeUInt32BE = function writeUInt32BE(bytes, value, off) {
  bytes[0 + off] = value >>> 24;
  bytes[1 + off] = (value >>> 16) & 0xff;
  bytes[2 + off] = (value >>> 8) & 0xff;
  bytes[3 + off] = value & 0xff;
};

exports.ip = function ip(inL, inR, out, off) {
  var outL = 0;
  var outR = 0;

  for (var i = 6; i >= 0; i -= 2) {
    for (var j = 0; j <= 24; j += 8) {
      outL <<= 1;
      outL |= (inR >>> (j + i)) & 1;
    }
    for (var j = 0; j <= 24; j += 8) {
      outL <<= 1;
      outL |= (inL >>> (j + i)) & 1;
    }
  }

  for (var i = 6; i >= 0; i -= 2) {
    for (var j = 1; j <= 25; j += 8) {
      outR <<= 1;
      outR |= (inR >>> (j + i)) & 1;
    }
    for (var j = 1; j <= 25; j += 8) {
      outR <<= 1;
      outR |= (inL >>> (j + i)) & 1;
    }
  }

  out[off + 0] = outL >>> 0;
  out[off + 1] = outR >>> 0;
};

exports.rip = function rip(inL, inR, out, off) {
  var outL = 0;
  var outR = 0;

  for (var i = 0; i < 4; i++) {
    for (var j = 24; j >= 0; j -= 8) {
      outL <<= 1;
      outL |= (inR >>> (j + i)) & 1;
      outL <<= 1;
      outL |= (inL >>> (j + i)) & 1;
    }
  }
  for (var i = 4; i < 8; i++) {
    for (var j = 24; j >= 0; j -= 8) {
      outR <<= 1;
      outR |= (inR >>> (j + i)) & 1;
      outR <<= 1;
      outR |= (inL >>> (j + i)) & 1;
    }
  }

  out[off + 0] = outL >>> 0;
  out[off + 1] = outR >>> 0;
};

exports.pc1 = function pc1(inL, inR, out, off) {
  var outL = 0;
  var outR = 0;

  // 7, 15, 23, 31, 39, 47, 55, 63
  // 6, 14, 22, 30, 39, 47, 55, 63
  // 5, 13, 21, 29, 39, 47, 55, 63
  // 4, 12, 20, 28
  for (var i = 7; i >= 5; i--) {
    for (var j = 0; j <= 24; j += 8) {
      outL <<= 1;
      outL |= (inR >> (j + i)) & 1;
    }
    for (var j = 0; j <= 24; j += 8) {
      outL <<= 1;
      outL |= (inL >> (j + i)) & 1;
    }
  }
  for (var j = 0; j <= 24; j += 8) {
    outL <<= 1;
    outL |= (inR >> (j + i)) & 1;
  }

  // 1, 9, 17, 25, 33, 41, 49, 57
  // 2, 10, 18, 26, 34, 42, 50, 58
  // 3, 11, 19, 27, 35, 43, 51, 59
  // 36, 44, 52, 60
  for (var i = 1; i <= 3; i++) {
    for (var j = 0; j <= 24; j += 8) {
      outR <<= 1;
      outR |= (inR >> (j + i)) & 1;
    }
    for (var j = 0; j <= 24; j += 8) {
      outR <<= 1;
      outR |= (inL >> (j + i)) & 1;
    }
  }
  for (var j = 0; j <= 24; j += 8) {
    outR <<= 1;
    outR |= (inL >> (j + i)) & 1;
  }

  out[off + 0] = outL >>> 0;
  out[off + 1] = outR >>> 0;
};

exports.r28shl = function r28shl(num, shift) {
  return ((num << shift) & 0xfffffff) | (num >>> (28 - shift));
};

var pc2table = [
  // inL => outL
  14, 11, 17, 4, 27, 23, 25, 0,
  13, 22, 7, 18, 5, 9, 16, 24,
  2, 20, 12, 21, 1, 8, 15, 26,

  // inR => outR
  15, 4, 25, 19, 9, 1, 26, 16,
  5, 11, 23, 8, 12, 7, 17, 0,
  22, 3, 10, 14, 6, 20, 27, 24
];

exports.pc2 = function pc2(inL, inR, out, off) {
  var outL = 0;
  var outR = 0;

  var len = pc2table.length >>> 1;
  for (var i = 0; i < len; i++) {
    outL <<= 1;
    outL |= (inL >>> pc2table[i]) & 0x1;
  }
  for (var i = len; i < pc2table.length; i++) {
    outR <<= 1;
    outR |= (inR >>> pc2table[i]) & 0x1;
  }

  out[off + 0] = outL >>> 0;
  out[off + 1] = outR >>> 0;
};

exports.expand = function expand(r, out, off) {
  var outL = 0;
  var outR = 0;

  outL = ((r & 1) << 5) | (r >>> 27);
  for (var i = 23; i >= 15; i -= 4) {
    outL <<= 6;
    outL |= (r >>> i) & 0x3f;
  }
  for (var i = 11; i >= 3; i -= 4) {
    outR |= (r >>> i) & 0x3f;
    outR <<= 6;
  }
  outR |= ((r & 0x1f) << 1) | (r >>> 31);

  out[off + 0] = outL >>> 0;
  out[off + 1] = outR >>> 0;
};

var sTable = [
  14, 0, 4, 15, 13, 7, 1, 4, 2, 14, 15, 2, 11, 13, 8, 1,
  3, 10, 10, 6, 6, 12, 12, 11, 5, 9, 9, 5, 0, 3, 7, 8,
  4, 15, 1, 12, 14, 8, 8, 2, 13, 4, 6, 9, 2, 1, 11, 7,
  15, 5, 12, 11, 9, 3, 7, 14, 3, 10, 10, 0, 5, 6, 0, 13,

  15, 3, 1, 13, 8, 4, 14, 7, 6, 15, 11, 2, 3, 8, 4, 14,
  9, 12, 7, 0, 2, 1, 13, 10, 12, 6, 0, 9, 5, 11, 10, 5,
  0, 13, 14, 8, 7, 10, 11, 1, 10, 3, 4, 15, 13, 4, 1, 2,
  5, 11, 8, 6, 12, 7, 6, 12, 9, 0, 3, 5, 2, 14, 15, 9,

  10, 13, 0, 7, 9, 0, 14, 9, 6, 3, 3, 4, 15, 6, 5, 10,
  1, 2, 13, 8, 12, 5, 7, 14, 11, 12, 4, 11, 2, 15, 8, 1,
  13, 1, 6, 10, 4, 13, 9, 0, 8, 6, 15, 9, 3, 8, 0, 7,
  11, 4, 1, 15, 2, 14, 12, 3, 5, 11, 10, 5, 14, 2, 7, 12,

  7, 13, 13, 8, 14, 11, 3, 5, 0, 6, 6, 15, 9, 0, 10, 3,
  1, 4, 2, 7, 8, 2, 5, 12, 11, 1, 12, 10, 4, 14, 15, 9,
  10, 3, 6, 15, 9, 0, 0, 6, 12, 10, 11, 1, 7, 13, 13, 8,
  15, 9, 1, 4, 3, 5, 14, 11, 5, 12, 2, 7, 8, 2, 4, 14,

  2, 14, 12, 11, 4, 2, 1, 12, 7, 4, 10, 7, 11, 13, 6, 1,
  8, 5, 5, 0, 3, 15, 15, 10, 13, 3, 0, 9, 14, 8, 9, 6,
  4, 11, 2, 8, 1, 12, 11, 7, 10, 1, 13, 14, 7, 2, 8, 13,
  15, 6, 9, 15, 12, 0, 5, 9, 6, 10, 3, 4, 0, 5, 14, 3,

  12, 10, 1, 15, 10, 4, 15, 2, 9, 7, 2, 12, 6, 9, 8, 5,
  0, 6, 13, 1, 3, 13, 4, 14, 14, 0, 7, 11, 5, 3, 11, 8,
  9, 4, 14, 3, 15, 2, 5, 12, 2, 9, 8, 5, 12, 15, 3, 10,
  7, 11, 0, 14, 4, 1, 10, 7, 1, 6, 13, 0, 11, 8, 6, 13,

  4, 13, 11, 0, 2, 11, 14, 7, 15, 4, 0, 9, 8, 1, 13, 10,
  3, 14, 12, 3, 9, 5, 7, 12, 5, 2, 10, 15, 6, 8, 1, 6,
  1, 6, 4, 11, 11, 13, 13, 8, 12, 1, 3, 4, 7, 10, 14, 7,
  10, 9, 15, 5, 6, 0, 8, 15, 0, 14, 5, 2, 9, 3, 2, 12,

  13, 1, 2, 15, 8, 13, 4, 8, 6, 10, 15, 3, 11, 7, 1, 4,
  10, 12, 9, 5, 3, 6, 14, 11, 5, 0, 0, 14, 12, 9, 7, 2,
  7, 2, 11, 1, 4, 14, 1, 7, 9, 4, 12, 10, 14, 8, 2, 13,
  0, 15, 6, 12, 10, 9, 13, 0, 15, 3, 3, 5, 5, 6, 8, 11
];

exports.substitute = function substitute(inL, inR) {
  var out = 0;
  for (var i = 0; i < 4; i++) {
    var b = (inL >>> (18 - i * 6)) & 0x3f;
    var sb = sTable[i * 0x40 + b];

    out <<= 4;
    out |= sb;
  }
  for (var i = 0; i < 4; i++) {
    var b = (inR >>> (18 - i * 6)) & 0x3f;
    var sb = sTable[4 * 0x40 + i * 0x40 + b];

    out <<= 4;
    out |= sb;
  }
  return out >>> 0;
};

var permuteTable = [
  16, 25, 12, 11, 3, 20, 4, 15, 31, 17, 9, 6, 27, 14, 1, 22,
  30, 24, 8, 18, 0, 5, 29, 23, 13, 19, 2, 26, 10, 21, 28, 7
];

exports.permute = function permute(num) {
  var out = 0;
  for (var i = 0; i < permuteTable.length; i++) {
    out <<= 1;
    out |= (num >>> permuteTable[i]) & 0x1;
  }
  return out >>> 0;
};

exports.padSplit = function padSplit(num, size, group) {
  var str = num.toString(2);
  while (str.length < size)
    str = '0' + str;

  var out = [];
  for (var i = 0; i < size; i += group)
    out.push(str.slice(i, i + group));
  return out.join(' ');
};

},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/node_modules/des.js/lib/des/ede.js":[function(require,module,exports){
'use strict';

var assert = require('minimalistic-assert');
var inherits = require('inherits');

var des = require('../des');
var Cipher = des.Cipher;
var DES = des.DES;

function EDEState(type, key) {
  assert.equal(key.length, 24, 'Invalid key length');

  var k1 = key.slice(0, 8);
  var k2 = key.slice(8, 16);
  var k3 = key.slice(16, 24);

  if (type === 'encrypt') {
    this.ciphers = [
      DES.create({ type: 'encrypt', key: k1 }),
      DES.create({ type: 'decrypt', key: k2 }),
      DES.create({ type: 'encrypt', key: k3 })
    ];
  } else {
    this.ciphers = [
      DES.create({ type: 'decrypt', key: k3 }),
      DES.create({ type: 'encrypt', key: k2 }),
      DES.create({ type: 'decrypt', key: k1 })
    ];
  }
}

function EDE(options) {
  Cipher.call(this, options);

  var state = new EDEState(this.type, this.options.key);
  this._edeState = state;
}
inherits(EDE, Cipher);

module.exports = EDE;

EDE.create = function create(options) {
  return new EDE(options);
};

EDE.prototype._update = function _update(inp, inOff, out, outOff) {
  var state = this._edeState;

  state.ciphers[0]._update(inp, inOff, out, outOff);
  state.ciphers[1]._update(out, outOff, out, outOff);
  state.ciphers[2]._update(out, outOff, out, outOff);
};

EDE.prototype._pad = DES.prototype._pad;
EDE.prototype._unpad = DES.prototype._unpad;

},{"../des":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/node_modules/des.js/lib/des.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js","minimalistic-assert":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/node_modules/des.js/node_modules/minimalistic-assert/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/node_modules/des.js/lib/des/des.js":[function(require,module,exports){
'use strict';

var assert = require('minimalistic-assert');
var inherits = require('inherits');

var des = require('../des');
var utils = des.utils;
var Cipher = des.Cipher;

function DESState() {
  this.tmp = new Array(2);
  this.keys = null;
}

function DES(options) {
  Cipher.call(this, options);

  var state = new DESState();
  this._desState = state;

  this.deriveKeys(state, options.key);
}
inherits(DES, Cipher);
module.exports = DES;

DES.create = function create(options) {
  return new DES(options);
};

var shiftTable = [
  1, 1, 2, 2, 2, 2, 2, 2,
  1, 2, 2, 2, 2, 2, 2, 1
];

DES.prototype.deriveKeys = function deriveKeys(state, key) {
  state.keys = new Array(16 * 2);

  assert.equal(key.length, this.blockSize, 'Invalid key length');

  var kL = utils.readUInt32BE(key, 0);
  var kR = utils.readUInt32BE(key, 4);

  utils.pc1(kL, kR, state.tmp, 0);
  kL = state.tmp[0];
  kR = state.tmp[1];
  for (var i = 0; i < state.keys.length; i += 2) {
    var shift = shiftTable[i >>> 1];
    kL = utils.r28shl(kL, shift);
    kR = utils.r28shl(kR, shift);
    utils.pc2(kL, kR, state.keys, i);
  }
};

DES.prototype._update = function _update(inp, inOff, out, outOff) {
  var state = this._desState;

  var l = utils.readUInt32BE(inp, inOff);
  var r = utils.readUInt32BE(inp, inOff + 4);

  // Initial Permutation
  utils.ip(l, r, state.tmp, 0);
  l = state.tmp[0];
  r = state.tmp[1];

  if (this.type === 'encrypt')
    this._encrypt(state, l, r, state.tmp, 0);
  else
    this._decrypt(state, l, r, state.tmp, 0);

  l = state.tmp[0];
  r = state.tmp[1];

  utils.writeUInt32BE(out, l, outOff);
  utils.writeUInt32BE(out, r, outOff + 4);
};

DES.prototype._pad = function _pad(buffer, off) {
  var value = buffer.length - off;
  for (var i = off; i < buffer.length; i++)
    buffer[i] = value;

  return true;
};

DES.prototype._unpad = function _unpad(buffer) {
  var pad = buffer[buffer.length - 1];
  for (var i = buffer.length - pad; i < buffer.length; i++)
    assert.equal(buffer[i], pad);

  return buffer.slice(0, buffer.length - pad);
};

DES.prototype._encrypt = function _encrypt(state, lStart, rStart, out, off) {
  var l = lStart;
  var r = rStart;

  // Apply f() x16 times
  for (var i = 0; i < state.keys.length; i += 2) {
    var keyL = state.keys[i];
    var keyR = state.keys[i + 1];

    // f(r, k)
    utils.expand(r, state.tmp, 0);

    keyL ^= state.tmp[0];
    keyR ^= state.tmp[1];
    var s = utils.substitute(keyL, keyR);
    var f = utils.permute(s);

    var t = r;
    r = (l ^ f) >>> 0;
    l = t;
  }

  // Reverse Initial Permutation
  utils.rip(r, l, out, off);
};

DES.prototype._decrypt = function _decrypt(state, lStart, rStart, out, off) {
  var l = rStart;
  var r = lStart;

  // Apply f() x16 times
  for (var i = state.keys.length - 2; i >= 0; i -= 2) {
    var keyL = state.keys[i];
    var keyR = state.keys[i + 1];

    // f(r, k)
    utils.expand(l, state.tmp, 0);

    keyL ^= state.tmp[0];
    keyR ^= state.tmp[1];
    var s = utils.substitute(keyL, keyR);
    var f = utils.permute(s);

    var t = l;
    l = (r ^ f) >>> 0;
    r = t;
  }

  // Reverse Initial Permutation
  utils.rip(l, r, out, off);
};

},{"../des":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/node_modules/des.js/lib/des.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js","minimalistic-assert":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/node_modules/des.js/node_modules/minimalistic-assert/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/node_modules/des.js/lib/des/cipher.js":[function(require,module,exports){
'use strict';

var assert = require('minimalistic-assert');

function Cipher(options) {
  this.options = options;

  this.type = this.options.type;
  this.blockSize = 8;
  this._init();

  this.buffer = new Array(this.blockSize);
  this.bufferOff = 0;
}
module.exports = Cipher;

Cipher.prototype._init = function _init() {
  // Might be overrided
};

Cipher.prototype.update = function update(data) {
  if (data.length === 0)
    return [];

  if (this.type === 'decrypt')
    return this._updateDecrypt(data);
  else
    return this._updateEncrypt(data);
};

Cipher.prototype._buffer = function _buffer(data, off) {
  // Append data to buffer
  var min = Math.min(this.buffer.length - this.bufferOff, data.length - off);
  for (var i = 0; i < min; i++)
    this.buffer[this.bufferOff + i] = data[off + i];
  this.bufferOff += min;

  // Shift next
  return min;
};

Cipher.prototype._flushBuffer = function _flushBuffer(out, off) {
  this._update(this.buffer, 0, out, off);
  this.bufferOff = 0;
  return this.blockSize;
};

Cipher.prototype._updateEncrypt = function _updateEncrypt(data) {
  var inputOff = 0;
  var outputOff = 0;

  var count = ((this.bufferOff + data.length) / this.blockSize) | 0;
  var out = new Array(count * this.blockSize);

  if (this.bufferOff !== 0) {
    inputOff += this._buffer(data, inputOff);

    if (this.bufferOff === this.buffer.length)
      outputOff += this._flushBuffer(out, outputOff);
  }

  // Write blocks
  var max = data.length - ((data.length - inputOff) % this.blockSize);
  for (; inputOff < max; inputOff += this.blockSize) {
    this._update(data, inputOff, out, outputOff);
    outputOff += this.blockSize;
  }

  // Queue rest
  for (; inputOff < data.length; inputOff++, this.bufferOff++)
    this.buffer[this.bufferOff] = data[inputOff];

  return out;
};

Cipher.prototype._updateDecrypt = function _updateDecrypt(data) {
  var inputOff = 0;
  var outputOff = 0;

  var count = Math.ceil((this.bufferOff + data.length) / this.blockSize) - 1;
  var out = new Array(count * this.blockSize);

  // TODO(indutny): optimize it, this is far from optimal
  for (; count > 0; count--) {
    inputOff += this._buffer(data, inputOff);
    outputOff += this._flushBuffer(out, outputOff);
  }

  // Buffer rest of the input
  inputOff += this._buffer(data, inputOff);

  return out;
};

Cipher.prototype.final = function final(buffer) {
  var first;
  if (buffer)
    first = this.update(buffer);

  var last;
  if (this.type === 'encrypt')
    last = this._finalEncrypt();
  else
    last = this._finalDecrypt();

  if (first)
    return first.concat(last);
  else
    return last;
};

Cipher.prototype._pad = function _pad(buffer, off) {
  if (off === 0)
    return false;

  while (off < buffer.length)
    buffer[off++] = 0;

  return true;
};

Cipher.prototype._finalEncrypt = function _finalEncrypt() {
  if (!this._pad(this.buffer, this.bufferOff))
    return [];

  var out = new Array(this.blockSize);
  this._update(this.buffer, 0, out, 0);
  return out;
};

Cipher.prototype._unpad = function _unpad(buffer) {
  return buffer;
};

Cipher.prototype._finalDecrypt = function _finalDecrypt() {
  assert.equal(this.bufferOff, this.blockSize, 'Not enough data to decrypt');
  var out = new Array(this.blockSize);
  this._flushBuffer(out, 0);

  return this._unpad(out);
};

},{"minimalistic-assert":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/node_modules/des.js/node_modules/minimalistic-assert/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/node_modules/des.js/lib/des/cbc.js":[function(require,module,exports){
'use strict';

var assert = require('minimalistic-assert');
var inherits = require('inherits');

var proto = {};

function CBCState(iv) {
  assert.equal(iv.length, 8, 'Invalid IV length');

  this.iv = new Array(8);
  for (var i = 0; i < this.iv.length; i++)
    this.iv[i] = iv[i];
}

function instantiate(Base) {
  function CBC(options) {
    Base.call(this, options);
    this._cbcInit();
  }
  inherits(CBC, Base);

  var keys = Object.keys(proto);
  for (var i = 0; i < keys.length; i++) {
    var key = keys[i];
    CBC.prototype[key] = proto[key];
  }

  CBC.create = function create(options) {
    return new CBC(options);
  };

  return CBC;
}

exports.instantiate = instantiate;

proto._cbcInit = function _cbcInit() {
  var state = new CBCState(this.options.iv);
  this._cbcState = state;
};

proto._update = function _update(inp, inOff, out, outOff) {
  var state = this._cbcState;
  var superProto = this.constructor.super_.prototype;

  var iv = state.iv;
  if (this.type === 'encrypt') {
    for (var i = 0; i < this.blockSize; i++)
      iv[i] ^= inp[inOff + i];

    superProto._update.call(this, iv, 0, out, outOff);

    for (var i = 0; i < this.blockSize; i++)
      iv[i] = out[outOff + i];
  } else {
    superProto._update.call(this, inp, inOff, out, outOff);

    for (var i = 0; i < this.blockSize; i++)
      out[outOff + i] ^= iv[i];

    for (var i = 0; i < this.blockSize; i++)
      iv[i] = inp[inOff + i];
  }
};

},{"inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js","minimalistic-assert":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/node_modules/des.js/node_modules/minimalistic-assert/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/node_modules/des.js/node_modules/minimalistic-assert/index.js":[function(require,module,exports){
module.exports = assert;

function assert(val, msg) {
  if (!val)
    throw new Error(msg || 'Assertion failed');
}

assert.equal = function assertEqual(l, r, msg) {
  if (l != r)
    throw new Error(msg || ('Assertion failed: ' + l + ' != ' + r));
};

},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-des/node_modules/cipher-base/index.js":[function(require,module,exports){
(function (Buffer){
var Transform = require('stream').Transform
var inherits = require('inherits')
var StringDecoder = require('string_decoder').StringDecoder
module.exports = CipherBase
inherits(CipherBase, Transform)
function CipherBase (hashMode) {
  Transform.call(this)
  this.hashMode = typeof hashMode === 'string'
  if (this.hashMode) {
    this[hashMode] = this._finalOrDigest
  } else {
    this.final = this._finalOrDigest
  }
  this._decoder = null
  this._encoding = null
}
CipherBase.prototype.update = function (data, inputEnc, outputEnc) {
  if (typeof data === 'string') {
    data = new Buffer(data, inputEnc)
  }
  var outData = this._update(data)
  if (this.hashMode) {
    return this
  }
  if (outputEnc) {
    outData = this._toString(outData, outputEnc)
  }
  return outData
}

CipherBase.prototype.setAutoPadding = function () {}

CipherBase.prototype.getAuthTag = function () {
  throw new Error('trying to get auth tag in unsupported state')
}

CipherBase.prototype.setAuthTag = function () {
  throw new Error('trying to set auth tag in unsupported state')
}

CipherBase.prototype.setAAD = function () {
  throw new Error('trying to set aad in unsupported state')
}

CipherBase.prototype._transform = function (data, _, next) {
  var err
  try {
    if (this.hashMode) {
      this._update(data)
    } else {
      this.push(this._update(data))
    }
  } catch (e) {
    err = e
  } finally {
    next(err)
  }
}
CipherBase.prototype._flush = function (done) {
  var err
  try {
    this.push(this._final())
  } catch (e) {
    err = e
  } finally {
    done(err)
  }
}
CipherBase.prototype._finalOrDigest = function (outputEnc) {
  var outData = this._final() || new Buffer('')
  if (outputEnc) {
    outData = this._toString(outData, outputEnc, true)
  }
  return outData
}

CipherBase.prototype._toString = function (value, enc, final) {
  if (!this._decoder) {
    this._decoder = new StringDecoder(enc)
    this._encoding = enc
  }
  if (this._encoding !== enc) {
    throw new Error('can\'t switch encodings')
  }
  var out = this._decoder.write(value)
  if (final) {
    out += this._decoder.end()
  }
  return out
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktZGVzL25vZGVfbW9kdWxlcy9jaXBoZXItYmFzZS9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCdzdHJlYW0nKS5UcmFuc2Zvcm1cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbnZhciBTdHJpbmdEZWNvZGVyID0gcmVxdWlyZSgnc3RyaW5nX2RlY29kZXInKS5TdHJpbmdEZWNvZGVyXG5tb2R1bGUuZXhwb3J0cyA9IENpcGhlckJhc2VcbmluaGVyaXRzKENpcGhlckJhc2UsIFRyYW5zZm9ybSlcbmZ1bmN0aW9uIENpcGhlckJhc2UgKGhhc2hNb2RlKSB7XG4gIFRyYW5zZm9ybS5jYWxsKHRoaXMpXG4gIHRoaXMuaGFzaE1vZGUgPSB0eXBlb2YgaGFzaE1vZGUgPT09ICdzdHJpbmcnXG4gIGlmICh0aGlzLmhhc2hNb2RlKSB7XG4gICAgdGhpc1toYXNoTW9kZV0gPSB0aGlzLl9maW5hbE9yRGlnZXN0XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5maW5hbCA9IHRoaXMuX2ZpbmFsT3JEaWdlc3RcbiAgfVxuICB0aGlzLl9kZWNvZGVyID0gbnVsbFxuICB0aGlzLl9lbmNvZGluZyA9IG51bGxcbn1cbkNpcGhlckJhc2UucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhLCBpbnB1dEVuYywgb3V0cHV0RW5jKSB7XG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICBkYXRhID0gbmV3IEJ1ZmZlcihkYXRhLCBpbnB1dEVuYylcbiAgfVxuICB2YXIgb3V0RGF0YSA9IHRoaXMuX3VwZGF0ZShkYXRhKVxuICBpZiAodGhpcy5oYXNoTW9kZSkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgaWYgKG91dHB1dEVuYykge1xuICAgIG91dERhdGEgPSB0aGlzLl90b1N0cmluZyhvdXREYXRhLCBvdXRwdXRFbmMpXG4gIH1cbiAgcmV0dXJuIG91dERhdGFcbn1cblxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuc2V0QXV0b1BhZGRpbmcgPSBmdW5jdGlvbiAoKSB7fVxuXG5DaXBoZXJCYXNlLnByb3RvdHlwZS5nZXRBdXRoVGFnID0gZnVuY3Rpb24gKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ3RyeWluZyB0byBnZXQgYXV0aCB0YWcgaW4gdW5zdXBwb3J0ZWQgc3RhdGUnKVxufVxuXG5DaXBoZXJCYXNlLnByb3RvdHlwZS5zZXRBdXRoVGFnID0gZnVuY3Rpb24gKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ3RyeWluZyB0byBzZXQgYXV0aCB0YWcgaW4gdW5zdXBwb3J0ZWQgc3RhdGUnKVxufVxuXG5DaXBoZXJCYXNlLnByb3RvdHlwZS5zZXRBQUQgPSBmdW5jdGlvbiAoKSB7XG4gIHRocm93IG5ldyBFcnJvcigndHJ5aW5nIHRvIHNldCBhYWQgaW4gdW5zdXBwb3J0ZWQgc3RhdGUnKVxufVxuXG5DaXBoZXJCYXNlLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24gKGRhdGEsIF8sIG5leHQpIHtcbiAgdmFyIGVyclxuICB0cnkge1xuICAgIGlmICh0aGlzLmhhc2hNb2RlKSB7XG4gICAgICB0aGlzLl91cGRhdGUoZGF0YSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wdXNoKHRoaXMuX3VwZGF0ZShkYXRhKSlcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlcnIgPSBlXG4gIH0gZmluYWxseSB7XG4gICAgbmV4dChlcnIpXG4gIH1cbn1cbkNpcGhlckJhc2UucHJvdG90eXBlLl9mbHVzaCA9IGZ1bmN0aW9uIChkb25lKSB7XG4gIHZhciBlcnJcbiAgdHJ5IHtcbiAgICB0aGlzLnB1c2godGhpcy5fZmluYWwoKSlcbiAgfSBjYXRjaCAoZSkge1xuICAgIGVyciA9IGVcbiAgfSBmaW5hbGx5IHtcbiAgICBkb25lKGVycilcbiAgfVxufVxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuX2ZpbmFsT3JEaWdlc3QgPSBmdW5jdGlvbiAob3V0cHV0RW5jKSB7XG4gIHZhciBvdXREYXRhID0gdGhpcy5fZmluYWwoKSB8fCBuZXcgQnVmZmVyKCcnKVxuICBpZiAob3V0cHV0RW5jKSB7XG4gICAgb3V0RGF0YSA9IHRoaXMuX3RvU3RyaW5nKG91dERhdGEsIG91dHB1dEVuYywgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb3V0RGF0YVxufVxuXG5DaXBoZXJCYXNlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAodmFsdWUsIGVuYywgZmluYWwpIHtcbiAgaWYgKCF0aGlzLl9kZWNvZGVyKSB7XG4gICAgdGhpcy5fZGVjb2RlciA9IG5ldyBTdHJpbmdEZWNvZGVyKGVuYylcbiAgICB0aGlzLl9lbmNvZGluZyA9IGVuY1xuICB9XG4gIGlmICh0aGlzLl9lbmNvZGluZyAhPT0gZW5jKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjYW5cXCd0IHN3aXRjaCBlbmNvZGluZ3MnKVxuICB9XG4gIHZhciBvdXQgPSB0aGlzLl9kZWNvZGVyLndyaXRlKHZhbHVlKVxuICBpZiAoZmluYWwpIHtcbiAgICBvdXQgKz0gdGhpcy5fZGVjb2Rlci5lbmQoKVxuICB9XG4gIHJldHVybiBvdXRcbn1cbiJdfQ==
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js","stream":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/stream-browserify/index.js","string_decoder":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/string_decoder/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/browser.js":[function(require,module,exports){
var ciphers = require('./encrypter')
exports.createCipher = exports.Cipher = ciphers.createCipher
exports.createCipheriv = exports.Cipheriv = ciphers.createCipheriv
var deciphers = require('./decrypter')
exports.createDecipher = exports.Decipher = deciphers.createDecipher
exports.createDecipheriv = exports.Decipheriv = deciphers.createDecipheriv
var modes = require('./modes')
function getCiphers () {
  return Object.keys(modes)
}
exports.listCiphers = exports.getCiphers = getCiphers

},{"./decrypter":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/decrypter.js","./encrypter":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/encrypter.js","./modes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/encrypter.js":[function(require,module,exports){
(function (Buffer){
var aes = require('./aes')
var Transform = require('cipher-base')
var inherits = require('inherits')
var modes = require('./modes')
var ebtk = require('evp_bytestokey')
var StreamCipher = require('./streamCipher')
var AuthCipher = require('./authCipher')
inherits(Cipher, Transform)
function Cipher (mode, key, iv) {
  if (!(this instanceof Cipher)) {
    return new Cipher(mode, key, iv)
  }
  Transform.call(this)
  this._cache = new Splitter()
  this._cipher = new aes.AES(key)
  this._prev = new Buffer(iv.length)
  iv.copy(this._prev)
  this._mode = mode
  this._autopadding = true
}
Cipher.prototype._update = function (data) {
  this._cache.add(data)
  var chunk
  var thing
  var out = []
  while ((chunk = this._cache.get())) {
    thing = this._mode.encrypt(this, chunk)
    out.push(thing)
  }
  return Buffer.concat(out)
}
Cipher.prototype._final = function () {
  var chunk = this._cache.flush()
  if (this._autopadding) {
    chunk = this._mode.encrypt(this, chunk)
    this._cipher.scrub()
    return chunk
  } else if (chunk.toString('hex') !== '10101010101010101010101010101010') {
    this._cipher.scrub()
    throw new Error('data not multiple of block length')
  }
}
Cipher.prototype.setAutoPadding = function (setTo) {
  this._autopadding = !!setTo
}

function Splitter () {
  if (!(this instanceof Splitter)) {
    return new Splitter()
  }
  this.cache = new Buffer('')
}
Splitter.prototype.add = function (data) {
  this.cache = Buffer.concat([this.cache, data])
}

Splitter.prototype.get = function () {
  if (this.cache.length > 15) {
    var out = this.cache.slice(0, 16)
    this.cache = this.cache.slice(16)
    return out
  }
  return null
}
Splitter.prototype.flush = function () {
  var len = 16 - this.cache.length
  var padBuff = new Buffer(len)

  var i = -1
  while (++i < len) {
    padBuff.writeUInt8(len, i)
  }
  var out = Buffer.concat([this.cache, padBuff])
  return out
}
var modelist = {
  ECB: require('./modes/ecb'),
  CBC: require('./modes/cbc'),
  CFB: require('./modes/cfb'),
  CFB8: require('./modes/cfb8'),
  CFB1: require('./modes/cfb1'),
  OFB: require('./modes/ofb'),
  CTR: require('./modes/ctr'),
  GCM: require('./modes/ctr')
}

function createCipheriv (suite, password, iv) {
  var config = modes[suite.toLowerCase()]
  if (!config) {
    throw new TypeError('invalid suite type')
  }
  if (typeof iv === 'string') {
    iv = new Buffer(iv)
  }
  if (typeof password === 'string') {
    password = new Buffer(password)
  }
  if (password.length !== config.key / 8) {
    throw new TypeError('invalid key length ' + password.length)
  }
  if (iv.length !== config.iv) {
    throw new TypeError('invalid iv length ' + iv.length)
  }
  if (config.type === 'stream') {
    return new StreamCipher(modelist[config.mode], password, iv)
  } else if (config.type === 'auth') {
    return new AuthCipher(modelist[config.mode], password, iv)
  }
  return new Cipher(modelist[config.mode], password, iv)
}
function createCipher (suite, password) {
  var config = modes[suite.toLowerCase()]
  if (!config) {
    throw new TypeError('invalid suite type')
  }
  var keys = ebtk(password, false, config.key, config.iv)
  return createCipheriv(suite, keys.key, keys.iv)
}

exports.createCipheriv = createCipheriv
exports.createCipher = createCipher

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL2VuY3J5cHRlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFlcyA9IHJlcXVpcmUoJy4vYWVzJylcbnZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCdjaXBoZXItYmFzZScpXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG52YXIgbW9kZXMgPSByZXF1aXJlKCcuL21vZGVzJylcbnZhciBlYnRrID0gcmVxdWlyZSgnZXZwX2J5dGVzdG9rZXknKVxudmFyIFN0cmVhbUNpcGhlciA9IHJlcXVpcmUoJy4vc3RyZWFtQ2lwaGVyJylcbnZhciBBdXRoQ2lwaGVyID0gcmVxdWlyZSgnLi9hdXRoQ2lwaGVyJylcbmluaGVyaXRzKENpcGhlciwgVHJhbnNmb3JtKVxuZnVuY3Rpb24gQ2lwaGVyIChtb2RlLCBrZXksIGl2KSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDaXBoZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBDaXBoZXIobW9kZSwga2V5LCBpdilcbiAgfVxuICBUcmFuc2Zvcm0uY2FsbCh0aGlzKVxuICB0aGlzLl9jYWNoZSA9IG5ldyBTcGxpdHRlcigpXG4gIHRoaXMuX2NpcGhlciA9IG5ldyBhZXMuQUVTKGtleSlcbiAgdGhpcy5fcHJldiA9IG5ldyBCdWZmZXIoaXYubGVuZ3RoKVxuICBpdi5jb3B5KHRoaXMuX3ByZXYpXG4gIHRoaXMuX21vZGUgPSBtb2RlXG4gIHRoaXMuX2F1dG9wYWRkaW5nID0gdHJ1ZVxufVxuQ2lwaGVyLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdGhpcy5fY2FjaGUuYWRkKGRhdGEpXG4gIHZhciBjaHVua1xuICB2YXIgdGhpbmdcbiAgdmFyIG91dCA9IFtdXG4gIHdoaWxlICgoY2h1bmsgPSB0aGlzLl9jYWNoZS5nZXQoKSkpIHtcbiAgICB0aGluZyA9IHRoaXMuX21vZGUuZW5jcnlwdCh0aGlzLCBjaHVuaylcbiAgICBvdXQucHVzaCh0aGluZylcbiAgfVxuICByZXR1cm4gQnVmZmVyLmNvbmNhdChvdXQpXG59XG5DaXBoZXIucHJvdG90eXBlLl9maW5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGNodW5rID0gdGhpcy5fY2FjaGUuZmx1c2goKVxuICBpZiAodGhpcy5fYXV0b3BhZGRpbmcpIHtcbiAgICBjaHVuayA9IHRoaXMuX21vZGUuZW5jcnlwdCh0aGlzLCBjaHVuaylcbiAgICB0aGlzLl9jaXBoZXIuc2NydWIoKVxuICAgIHJldHVybiBjaHVua1xuICB9IGVsc2UgaWYgKGNodW5rLnRvU3RyaW5nKCdoZXgnKSAhPT0gJzEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwJykge1xuICAgIHRoaXMuX2NpcGhlci5zY3J1YigpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdkYXRhIG5vdCBtdWx0aXBsZSBvZiBibG9jayBsZW5ndGgnKVxuICB9XG59XG5DaXBoZXIucHJvdG90eXBlLnNldEF1dG9QYWRkaW5nID0gZnVuY3Rpb24gKHNldFRvKSB7XG4gIHRoaXMuX2F1dG9wYWRkaW5nID0gISFzZXRUb1xufVxuXG5mdW5jdGlvbiBTcGxpdHRlciAoKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTcGxpdHRlcikpIHtcbiAgICByZXR1cm4gbmV3IFNwbGl0dGVyKClcbiAgfVxuICB0aGlzLmNhY2hlID0gbmV3IEJ1ZmZlcignJylcbn1cblNwbGl0dGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICB0aGlzLmNhY2hlID0gQnVmZmVyLmNvbmNhdChbdGhpcy5jYWNoZSwgZGF0YV0pXG59XG5cblNwbGl0dGVyLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmNhY2hlLmxlbmd0aCA+IDE1KSB7XG4gICAgdmFyIG91dCA9IHRoaXMuY2FjaGUuc2xpY2UoMCwgMTYpXG4gICAgdGhpcy5jYWNoZSA9IHRoaXMuY2FjaGUuc2xpY2UoMTYpXG4gICAgcmV0dXJuIG91dFxuICB9XG4gIHJldHVybiBudWxsXG59XG5TcGxpdHRlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBsZW4gPSAxNiAtIHRoaXMuY2FjaGUubGVuZ3RoXG4gIHZhciBwYWRCdWZmID0gbmV3IEJ1ZmZlcihsZW4pXG5cbiAgdmFyIGkgPSAtMVxuICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgcGFkQnVmZi53cml0ZVVJbnQ4KGxlbiwgaSlcbiAgfVxuICB2YXIgb3V0ID0gQnVmZmVyLmNvbmNhdChbdGhpcy5jYWNoZSwgcGFkQnVmZl0pXG4gIHJldHVybiBvdXRcbn1cbnZhciBtb2RlbGlzdCA9IHtcbiAgRUNCOiByZXF1aXJlKCcuL21vZGVzL2VjYicpLFxuICBDQkM6IHJlcXVpcmUoJy4vbW9kZXMvY2JjJyksXG4gIENGQjogcmVxdWlyZSgnLi9tb2Rlcy9jZmInKSxcbiAgQ0ZCODogcmVxdWlyZSgnLi9tb2Rlcy9jZmI4JyksXG4gIENGQjE6IHJlcXVpcmUoJy4vbW9kZXMvY2ZiMScpLFxuICBPRkI6IHJlcXVpcmUoJy4vbW9kZXMvb2ZiJyksXG4gIENUUjogcmVxdWlyZSgnLi9tb2Rlcy9jdHInKSxcbiAgR0NNOiByZXF1aXJlKCcuL21vZGVzL2N0cicpXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNpcGhlcml2IChzdWl0ZSwgcGFzc3dvcmQsIGl2KSB7XG4gIHZhciBjb25maWcgPSBtb2Rlc1tzdWl0ZS50b0xvd2VyQ2FzZSgpXVxuICBpZiAoIWNvbmZpZykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgc3VpdGUgdHlwZScpXG4gIH1cbiAgaWYgKHR5cGVvZiBpdiA9PT0gJ3N0cmluZycpIHtcbiAgICBpdiA9IG5ldyBCdWZmZXIoaXYpXG4gIH1cbiAgaWYgKHR5cGVvZiBwYXNzd29yZCA9PT0gJ3N0cmluZycpIHtcbiAgICBwYXNzd29yZCA9IG5ldyBCdWZmZXIocGFzc3dvcmQpXG4gIH1cbiAgaWYgKHBhc3N3b3JkLmxlbmd0aCAhPT0gY29uZmlnLmtleSAvIDgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIGtleSBsZW5ndGggJyArIHBhc3N3b3JkLmxlbmd0aClcbiAgfVxuICBpZiAoaXYubGVuZ3RoICE9PSBjb25maWcuaXYpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIGl2IGxlbmd0aCAnICsgaXYubGVuZ3RoKVxuICB9XG4gIGlmIChjb25maWcudHlwZSA9PT0gJ3N0cmVhbScpIHtcbiAgICByZXR1cm4gbmV3IFN0cmVhbUNpcGhlcihtb2RlbGlzdFtjb25maWcubW9kZV0sIHBhc3N3b3JkLCBpdilcbiAgfSBlbHNlIGlmIChjb25maWcudHlwZSA9PT0gJ2F1dGgnKSB7XG4gICAgcmV0dXJuIG5ldyBBdXRoQ2lwaGVyKG1vZGVsaXN0W2NvbmZpZy5tb2RlXSwgcGFzc3dvcmQsIGl2KVxuICB9XG4gIHJldHVybiBuZXcgQ2lwaGVyKG1vZGVsaXN0W2NvbmZpZy5tb2RlXSwgcGFzc3dvcmQsIGl2KVxufVxuZnVuY3Rpb24gY3JlYXRlQ2lwaGVyIChzdWl0ZSwgcGFzc3dvcmQpIHtcbiAgdmFyIGNvbmZpZyA9IG1vZGVzW3N1aXRlLnRvTG93ZXJDYXNlKCldXG4gIGlmICghY29uZmlnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBzdWl0ZSB0eXBlJylcbiAgfVxuICB2YXIga2V5cyA9IGVidGsocGFzc3dvcmQsIGZhbHNlLCBjb25maWcua2V5LCBjb25maWcuaXYpXG4gIHJldHVybiBjcmVhdGVDaXBoZXJpdihzdWl0ZSwga2V5cy5rZXksIGtleXMuaXYpXG59XG5cbmV4cG9ydHMuY3JlYXRlQ2lwaGVyaXYgPSBjcmVhdGVDaXBoZXJpdlxuZXhwb3J0cy5jcmVhdGVDaXBoZXIgPSBjcmVhdGVDaXBoZXJcbiJdfQ==
},{"./aes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/aes.js","./authCipher":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/authCipher.js","./modes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes.js","./modes/cbc":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes/cbc.js","./modes/cfb":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes/cfb.js","./modes/cfb1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes/cfb1.js","./modes/cfb8":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes/cfb8.js","./modes/ctr":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes/ctr.js","./modes/ecb":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes/ecb.js","./modes/ofb":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes/ofb.js","./streamCipher":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/streamCipher.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","cipher-base":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/node_modules/cipher-base/index.js","evp_bytestokey":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/evp_bytestokey/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/decrypter.js":[function(require,module,exports){
(function (Buffer){
var aes = require('./aes')
var Transform = require('cipher-base')
var inherits = require('inherits')
var modes = require('./modes')
var StreamCipher = require('./streamCipher')
var AuthCipher = require('./authCipher')
var ebtk = require('evp_bytestokey')

inherits(Decipher, Transform)
function Decipher (mode, key, iv) {
  if (!(this instanceof Decipher)) {
    return new Decipher(mode, key, iv)
  }
  Transform.call(this)
  this._cache = new Splitter()
  this._last = void 0
  this._cipher = new aes.AES(key)
  this._prev = new Buffer(iv.length)
  iv.copy(this._prev)
  this._mode = mode
  this._autopadding = true
}
Decipher.prototype._update = function (data) {
  this._cache.add(data)
  var chunk
  var thing
  var out = []
  while ((chunk = this._cache.get(this._autopadding))) {
    thing = this._mode.decrypt(this, chunk)
    out.push(thing)
  }
  return Buffer.concat(out)
}
Decipher.prototype._final = function () {
  var chunk = this._cache.flush()
  if (this._autopadding) {
    return unpad(this._mode.decrypt(this, chunk))
  } else if (chunk) {
    throw new Error('data not multiple of block length')
  }
}
Decipher.prototype.setAutoPadding = function (setTo) {
  this._autopadding = !!setTo
}
function Splitter () {
  if (!(this instanceof Splitter)) {
    return new Splitter()
  }
  this.cache = new Buffer('')
}
Splitter.prototype.add = function (data) {
  this.cache = Buffer.concat([this.cache, data])
}

Splitter.prototype.get = function (autoPadding) {
  var out
  if (autoPadding) {
    if (this.cache.length > 16) {
      out = this.cache.slice(0, 16)
      this.cache = this.cache.slice(16)
      return out
    }
  } else {
    if (this.cache.length >= 16) {
      out = this.cache.slice(0, 16)
      this.cache = this.cache.slice(16)
      return out
    }
  }
  return null
}
Splitter.prototype.flush = function () {
  if (this.cache.length) {
    return this.cache
  }
}
function unpad (last) {
  var padded = last[15]
  var i = -1
  while (++i < padded) {
    if (last[(i + (16 - padded))] !== padded) {
      throw new Error('unable to decrypt data')
    }
  }
  if (padded === 16) {
    return
  }
  return last.slice(0, 16 - padded)
}

var modelist = {
  ECB: require('./modes/ecb'),
  CBC: require('./modes/cbc'),
  CFB: require('./modes/cfb'),
  CFB8: require('./modes/cfb8'),
  CFB1: require('./modes/cfb1'),
  OFB: require('./modes/ofb'),
  CTR: require('./modes/ctr'),
  GCM: require('./modes/ctr')
}

function createDecipheriv (suite, password, iv) {
  var config = modes[suite.toLowerCase()]
  if (!config) {
    throw new TypeError('invalid suite type')
  }
  if (typeof iv === 'string') {
    iv = new Buffer(iv)
  }
  if (typeof password === 'string') {
    password = new Buffer(password)
  }
  if (password.length !== config.key / 8) {
    throw new TypeError('invalid key length ' + password.length)
  }
  if (iv.length !== config.iv) {
    throw new TypeError('invalid iv length ' + iv.length)
  }
  if (config.type === 'stream') {
    return new StreamCipher(modelist[config.mode], password, iv, true)
  } else if (config.type === 'auth') {
    return new AuthCipher(modelist[config.mode], password, iv, true)
  }
  return new Decipher(modelist[config.mode], password, iv)
}

function createDecipher (suite, password) {
  var config = modes[suite.toLowerCase()]
  if (!config) {
    throw new TypeError('invalid suite type')
  }
  var keys = ebtk(password, false, config.key, config.iv)
  return createDecipheriv(suite, keys.key, keys.iv)
}
exports.createDecipher = createDecipher
exports.createDecipheriv = createDecipheriv

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL2RlY3J5cHRlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFlcyA9IHJlcXVpcmUoJy4vYWVzJylcbnZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCdjaXBoZXItYmFzZScpXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG52YXIgbW9kZXMgPSByZXF1aXJlKCcuL21vZGVzJylcbnZhciBTdHJlYW1DaXBoZXIgPSByZXF1aXJlKCcuL3N0cmVhbUNpcGhlcicpXG52YXIgQXV0aENpcGhlciA9IHJlcXVpcmUoJy4vYXV0aENpcGhlcicpXG52YXIgZWJ0ayA9IHJlcXVpcmUoJ2V2cF9ieXRlc3Rva2V5JylcblxuaW5oZXJpdHMoRGVjaXBoZXIsIFRyYW5zZm9ybSlcbmZ1bmN0aW9uIERlY2lwaGVyIChtb2RlLCBrZXksIGl2KSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBEZWNpcGhlcikpIHtcbiAgICByZXR1cm4gbmV3IERlY2lwaGVyKG1vZGUsIGtleSwgaXYpXG4gIH1cbiAgVHJhbnNmb3JtLmNhbGwodGhpcylcbiAgdGhpcy5fY2FjaGUgPSBuZXcgU3BsaXR0ZXIoKVxuICB0aGlzLl9sYXN0ID0gdm9pZCAwXG4gIHRoaXMuX2NpcGhlciA9IG5ldyBhZXMuQUVTKGtleSlcbiAgdGhpcy5fcHJldiA9IG5ldyBCdWZmZXIoaXYubGVuZ3RoKVxuICBpdi5jb3B5KHRoaXMuX3ByZXYpXG4gIHRoaXMuX21vZGUgPSBtb2RlXG4gIHRoaXMuX2F1dG9wYWRkaW5nID0gdHJ1ZVxufVxuRGVjaXBoZXIucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICB0aGlzLl9jYWNoZS5hZGQoZGF0YSlcbiAgdmFyIGNodW5rXG4gIHZhciB0aGluZ1xuICB2YXIgb3V0ID0gW11cbiAgd2hpbGUgKChjaHVuayA9IHRoaXMuX2NhY2hlLmdldCh0aGlzLl9hdXRvcGFkZGluZykpKSB7XG4gICAgdGhpbmcgPSB0aGlzLl9tb2RlLmRlY3J5cHQodGhpcywgY2h1bmspXG4gICAgb3V0LnB1c2godGhpbmcpXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5jb25jYXQob3V0KVxufVxuRGVjaXBoZXIucHJvdG90eXBlLl9maW5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGNodW5rID0gdGhpcy5fY2FjaGUuZmx1c2goKVxuICBpZiAodGhpcy5fYXV0b3BhZGRpbmcpIHtcbiAgICByZXR1cm4gdW5wYWQodGhpcy5fbW9kZS5kZWNyeXB0KHRoaXMsIGNodW5rKSlcbiAgfSBlbHNlIGlmIChjaHVuaykge1xuICAgIHRocm93IG5ldyBFcnJvcignZGF0YSBub3QgbXVsdGlwbGUgb2YgYmxvY2sgbGVuZ3RoJylcbiAgfVxufVxuRGVjaXBoZXIucHJvdG90eXBlLnNldEF1dG9QYWRkaW5nID0gZnVuY3Rpb24gKHNldFRvKSB7XG4gIHRoaXMuX2F1dG9wYWRkaW5nID0gISFzZXRUb1xufVxuZnVuY3Rpb24gU3BsaXR0ZXIgKCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU3BsaXR0ZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBTcGxpdHRlcigpXG4gIH1cbiAgdGhpcy5jYWNoZSA9IG5ldyBCdWZmZXIoJycpXG59XG5TcGxpdHRlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdGhpcy5jYWNoZSA9IEJ1ZmZlci5jb25jYXQoW3RoaXMuY2FjaGUsIGRhdGFdKVxufVxuXG5TcGxpdHRlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGF1dG9QYWRkaW5nKSB7XG4gIHZhciBvdXRcbiAgaWYgKGF1dG9QYWRkaW5nKSB7XG4gICAgaWYgKHRoaXMuY2FjaGUubGVuZ3RoID4gMTYpIHtcbiAgICAgIG91dCA9IHRoaXMuY2FjaGUuc2xpY2UoMCwgMTYpXG4gICAgICB0aGlzLmNhY2hlID0gdGhpcy5jYWNoZS5zbGljZSgxNilcbiAgICAgIHJldHVybiBvdXRcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRoaXMuY2FjaGUubGVuZ3RoID49IDE2KSB7XG4gICAgICBvdXQgPSB0aGlzLmNhY2hlLnNsaWNlKDAsIDE2KVxuICAgICAgdGhpcy5jYWNoZSA9IHRoaXMuY2FjaGUuc2xpY2UoMTYpXG4gICAgICByZXR1cm4gb3V0XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsXG59XG5TcGxpdHRlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmNhY2hlLmxlbmd0aCkge1xuICAgIHJldHVybiB0aGlzLmNhY2hlXG4gIH1cbn1cbmZ1bmN0aW9uIHVucGFkIChsYXN0KSB7XG4gIHZhciBwYWRkZWQgPSBsYXN0WzE1XVxuICB2YXIgaSA9IC0xXG4gIHdoaWxlICgrK2kgPCBwYWRkZWQpIHtcbiAgICBpZiAobGFzdFsoaSArICgxNiAtIHBhZGRlZCkpXSAhPT0gcGFkZGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VuYWJsZSB0byBkZWNyeXB0IGRhdGEnKVxuICAgIH1cbiAgfVxuICBpZiAocGFkZGVkID09PSAxNikge1xuICAgIHJldHVyblxuICB9XG4gIHJldHVybiBsYXN0LnNsaWNlKDAsIDE2IC0gcGFkZGVkKVxufVxuXG52YXIgbW9kZWxpc3QgPSB7XG4gIEVDQjogcmVxdWlyZSgnLi9tb2Rlcy9lY2InKSxcbiAgQ0JDOiByZXF1aXJlKCcuL21vZGVzL2NiYycpLFxuICBDRkI6IHJlcXVpcmUoJy4vbW9kZXMvY2ZiJyksXG4gIENGQjg6IHJlcXVpcmUoJy4vbW9kZXMvY2ZiOCcpLFxuICBDRkIxOiByZXF1aXJlKCcuL21vZGVzL2NmYjEnKSxcbiAgT0ZCOiByZXF1aXJlKCcuL21vZGVzL29mYicpLFxuICBDVFI6IHJlcXVpcmUoJy4vbW9kZXMvY3RyJyksXG4gIEdDTTogcmVxdWlyZSgnLi9tb2Rlcy9jdHInKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVEZWNpcGhlcml2IChzdWl0ZSwgcGFzc3dvcmQsIGl2KSB7XG4gIHZhciBjb25maWcgPSBtb2Rlc1tzdWl0ZS50b0xvd2VyQ2FzZSgpXVxuICBpZiAoIWNvbmZpZykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgc3VpdGUgdHlwZScpXG4gIH1cbiAgaWYgKHR5cGVvZiBpdiA9PT0gJ3N0cmluZycpIHtcbiAgICBpdiA9IG5ldyBCdWZmZXIoaXYpXG4gIH1cbiAgaWYgKHR5cGVvZiBwYXNzd29yZCA9PT0gJ3N0cmluZycpIHtcbiAgICBwYXNzd29yZCA9IG5ldyBCdWZmZXIocGFzc3dvcmQpXG4gIH1cbiAgaWYgKHBhc3N3b3JkLmxlbmd0aCAhPT0gY29uZmlnLmtleSAvIDgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIGtleSBsZW5ndGggJyArIHBhc3N3b3JkLmxlbmd0aClcbiAgfVxuICBpZiAoaXYubGVuZ3RoICE9PSBjb25maWcuaXYpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIGl2IGxlbmd0aCAnICsgaXYubGVuZ3RoKVxuICB9XG4gIGlmIChjb25maWcudHlwZSA9PT0gJ3N0cmVhbScpIHtcbiAgICByZXR1cm4gbmV3IFN0cmVhbUNpcGhlcihtb2RlbGlzdFtjb25maWcubW9kZV0sIHBhc3N3b3JkLCBpdiwgdHJ1ZSlcbiAgfSBlbHNlIGlmIChjb25maWcudHlwZSA9PT0gJ2F1dGgnKSB7XG4gICAgcmV0dXJuIG5ldyBBdXRoQ2lwaGVyKG1vZGVsaXN0W2NvbmZpZy5tb2RlXSwgcGFzc3dvcmQsIGl2LCB0cnVlKVxuICB9XG4gIHJldHVybiBuZXcgRGVjaXBoZXIobW9kZWxpc3RbY29uZmlnLm1vZGVdLCBwYXNzd29yZCwgaXYpXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURlY2lwaGVyIChzdWl0ZSwgcGFzc3dvcmQpIHtcbiAgdmFyIGNvbmZpZyA9IG1vZGVzW3N1aXRlLnRvTG93ZXJDYXNlKCldXG4gIGlmICghY29uZmlnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBzdWl0ZSB0eXBlJylcbiAgfVxuICB2YXIga2V5cyA9IGVidGsocGFzc3dvcmQsIGZhbHNlLCBjb25maWcua2V5LCBjb25maWcuaXYpXG4gIHJldHVybiBjcmVhdGVEZWNpcGhlcml2KHN1aXRlLCBrZXlzLmtleSwga2V5cy5pdilcbn1cbmV4cG9ydHMuY3JlYXRlRGVjaXBoZXIgPSBjcmVhdGVEZWNpcGhlclxuZXhwb3J0cy5jcmVhdGVEZWNpcGhlcml2ID0gY3JlYXRlRGVjaXBoZXJpdlxuIl19
},{"./aes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/aes.js","./authCipher":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/authCipher.js","./modes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes.js","./modes/cbc":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes/cbc.js","./modes/cfb":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes/cfb.js","./modes/cfb1":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes/cfb1.js","./modes/cfb8":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes/cfb8.js","./modes/ctr":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes/ctr.js","./modes/ecb":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes/ecb.js","./modes/ofb":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes/ofb.js","./streamCipher":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/streamCipher.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","cipher-base":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/node_modules/cipher-base/index.js","evp_bytestokey":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/evp_bytestokey/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/evp_bytestokey/index.js":[function(require,module,exports){
(function (Buffer){
var md5 = require('create-hash/md5')
module.exports = EVP_BytesToKey
function EVP_BytesToKey (password, salt, keyLen, ivLen) {
  if (!Buffer.isBuffer(password)) {
    password = new Buffer(password, 'binary')
  }
  if (salt && !Buffer.isBuffer(salt)) {
    salt = new Buffer(salt, 'binary')
  }
  keyLen = keyLen / 8
  ivLen = ivLen || 0
  var ki = 0
  var ii = 0
  var key = new Buffer(keyLen)
  var iv = new Buffer(ivLen)
  var addmd = 0
  var md_buf
  var i
  var bufs = []
  while (true) {
    if (addmd++ > 0) {
      bufs.push(md_buf)
    }
    bufs.push(password)
    if (salt) {
      bufs.push(salt)
    }
    md_buf = md5(Buffer.concat(bufs))
    bufs = []
    i = 0
    if (keyLen > 0) {
      while (true) {
        if (keyLen === 0) {
          break
        }
        if (i === md_buf.length) {
          break
        }
        key[ki++] = md_buf[i]
        keyLen--
        i++
      }
    }
    if (ivLen > 0 && i !== md_buf.length) {
      while (true) {
        if (ivLen === 0) {
          break
        }
        if (i === md_buf.length) {
          break
        }
        iv[ii++] = md_buf[i]
        ivLen--
        i++
      }
    }
    if (keyLen === 0 && ivLen === 0) {
      break
    }
  }
  for (i = 0; i < md_buf.length; i++) {
    md_buf[i] = 0
  }
  return {
    key: key,
    iv: iv
  }
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2V2cF9ieXRlc3Rva2V5L2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBtZDUgPSByZXF1aXJlKCdjcmVhdGUtaGFzaC9tZDUnKVxubW9kdWxlLmV4cG9ydHMgPSBFVlBfQnl0ZXNUb0tleVxuZnVuY3Rpb24gRVZQX0J5dGVzVG9LZXkgKHBhc3N3b3JkLCBzYWx0LCBrZXlMZW4sIGl2TGVuKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKHBhc3N3b3JkKSkge1xuICAgIHBhc3N3b3JkID0gbmV3IEJ1ZmZlcihwYXNzd29yZCwgJ2JpbmFyeScpXG4gIH1cbiAgaWYgKHNhbHQgJiYgIUJ1ZmZlci5pc0J1ZmZlcihzYWx0KSkge1xuICAgIHNhbHQgPSBuZXcgQnVmZmVyKHNhbHQsICdiaW5hcnknKVxuICB9XG4gIGtleUxlbiA9IGtleUxlbiAvIDhcbiAgaXZMZW4gPSBpdkxlbiB8fCAwXG4gIHZhciBraSA9IDBcbiAgdmFyIGlpID0gMFxuICB2YXIga2V5ID0gbmV3IEJ1ZmZlcihrZXlMZW4pXG4gIHZhciBpdiA9IG5ldyBCdWZmZXIoaXZMZW4pXG4gIHZhciBhZGRtZCA9IDBcbiAgdmFyIG1kX2J1ZlxuICB2YXIgaVxuICB2YXIgYnVmcyA9IFtdXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgaWYgKGFkZG1kKysgPiAwKSB7XG4gICAgICBidWZzLnB1c2gobWRfYnVmKVxuICAgIH1cbiAgICBidWZzLnB1c2gocGFzc3dvcmQpXG4gICAgaWYgKHNhbHQpIHtcbiAgICAgIGJ1ZnMucHVzaChzYWx0KVxuICAgIH1cbiAgICBtZF9idWYgPSBtZDUoQnVmZmVyLmNvbmNhdChidWZzKSlcbiAgICBidWZzID0gW11cbiAgICBpID0gMFxuICAgIGlmIChrZXlMZW4gPiAwKSB7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBpZiAoa2V5TGVuID09PSAwKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA9PT0gbWRfYnVmLmxlbmd0aCkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAga2V5W2tpKytdID0gbWRfYnVmW2ldXG4gICAgICAgIGtleUxlbi0tXG4gICAgICAgIGkrK1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXZMZW4gPiAwICYmIGkgIT09IG1kX2J1Zi5sZW5ndGgpIHtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGlmIChpdkxlbiA9PT0gMCkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPT09IG1kX2J1Zi5sZW5ndGgpIHtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGl2W2lpKytdID0gbWRfYnVmW2ldXG4gICAgICAgIGl2TGVuLS1cbiAgICAgICAgaSsrXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChrZXlMZW4gPT09IDAgJiYgaXZMZW4gPT09IDApIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG4gIGZvciAoaSA9IDA7IGkgPCBtZF9idWYubGVuZ3RoOyBpKyspIHtcbiAgICBtZF9idWZbaV0gPSAwXG4gIH1cbiAgcmV0dXJuIHtcbiAgICBrZXk6IGtleSxcbiAgICBpdjogaXZcbiAgfVxufVxuIl19
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","create-hash/md5":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/md5.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/md5.js":[function(require,module,exports){
'use strict';
/*
 * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message
 * Digest Algorithm, as defined in RFC 1321.
 * Version 2.1 Copyright (C) Paul Johnston 1999 - 2002.
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for more info.
 */

var helpers = require('./helpers');

/*
 * Calculate the MD5 of an array of little-endian words, and a bit length
 */
function core_md5(x, len)
{
  /* append padding */
  x[len >> 5] |= 0x80 << ((len) % 32);
  x[(((len + 64) >>> 9) << 4) + 14] = len;

  var a =  1732584193;
  var b = -271733879;
  var c = -1732584194;
  var d =  271733878;

  for(var i = 0; i < x.length; i += 16)
  {
    var olda = a;
    var oldb = b;
    var oldc = c;
    var oldd = d;

    a = md5_ff(a, b, c, d, x[i+ 0], 7 , -680876936);
    d = md5_ff(d, a, b, c, x[i+ 1], 12, -389564586);
    c = md5_ff(c, d, a, b, x[i+ 2], 17,  606105819);
    b = md5_ff(b, c, d, a, x[i+ 3], 22, -1044525330);
    a = md5_ff(a, b, c, d, x[i+ 4], 7 , -176418897);
    d = md5_ff(d, a, b, c, x[i+ 5], 12,  1200080426);
    c = md5_ff(c, d, a, b, x[i+ 6], 17, -1473231341);
    b = md5_ff(b, c, d, a, x[i+ 7], 22, -45705983);
    a = md5_ff(a, b, c, d, x[i+ 8], 7 ,  1770035416);
    d = md5_ff(d, a, b, c, x[i+ 9], 12, -1958414417);
    c = md5_ff(c, d, a, b, x[i+10], 17, -42063);
    b = md5_ff(b, c, d, a, x[i+11], 22, -1990404162);
    a = md5_ff(a, b, c, d, x[i+12], 7 ,  1804603682);
    d = md5_ff(d, a, b, c, x[i+13], 12, -40341101);
    c = md5_ff(c, d, a, b, x[i+14], 17, -1502002290);
    b = md5_ff(b, c, d, a, x[i+15], 22,  1236535329);

    a = md5_gg(a, b, c, d, x[i+ 1], 5 , -165796510);
    d = md5_gg(d, a, b, c, x[i+ 6], 9 , -1069501632);
    c = md5_gg(c, d, a, b, x[i+11], 14,  643717713);
    b = md5_gg(b, c, d, a, x[i+ 0], 20, -373897302);
    a = md5_gg(a, b, c, d, x[i+ 5], 5 , -701558691);
    d = md5_gg(d, a, b, c, x[i+10], 9 ,  38016083);
    c = md5_gg(c, d, a, b, x[i+15], 14, -660478335);
    b = md5_gg(b, c, d, a, x[i+ 4], 20, -405537848);
    a = md5_gg(a, b, c, d, x[i+ 9], 5 ,  568446438);
    d = md5_gg(d, a, b, c, x[i+14], 9 , -1019803690);
    c = md5_gg(c, d, a, b, x[i+ 3], 14, -187363961);
    b = md5_gg(b, c, d, a, x[i+ 8], 20,  1163531501);
    a = md5_gg(a, b, c, d, x[i+13], 5 , -1444681467);
    d = md5_gg(d, a, b, c, x[i+ 2], 9 , -51403784);
    c = md5_gg(c, d, a, b, x[i+ 7], 14,  1735328473);
    b = md5_gg(b, c, d, a, x[i+12], 20, -1926607734);

    a = md5_hh(a, b, c, d, x[i+ 5], 4 , -378558);
    d = md5_hh(d, a, b, c, x[i+ 8], 11, -2022574463);
    c = md5_hh(c, d, a, b, x[i+11], 16,  1839030562);
    b = md5_hh(b, c, d, a, x[i+14], 23, -35309556);
    a = md5_hh(a, b, c, d, x[i+ 1], 4 , -1530992060);
    d = md5_hh(d, a, b, c, x[i+ 4], 11,  1272893353);
    c = md5_hh(c, d, a, b, x[i+ 7], 16, -155497632);
    b = md5_hh(b, c, d, a, x[i+10], 23, -1094730640);
    a = md5_hh(a, b, c, d, x[i+13], 4 ,  681279174);
    d = md5_hh(d, a, b, c, x[i+ 0], 11, -358537222);
    c = md5_hh(c, d, a, b, x[i+ 3], 16, -722521979);
    b = md5_hh(b, c, d, a, x[i+ 6], 23,  76029189);
    a = md5_hh(a, b, c, d, x[i+ 9], 4 , -640364487);
    d = md5_hh(d, a, b, c, x[i+12], 11, -421815835);
    c = md5_hh(c, d, a, b, x[i+15], 16,  530742520);
    b = md5_hh(b, c, d, a, x[i+ 2], 23, -995338651);

    a = md5_ii(a, b, c, d, x[i+ 0], 6 , -198630844);
    d = md5_ii(d, a, b, c, x[i+ 7], 10,  1126891415);
    c = md5_ii(c, d, a, b, x[i+14], 15, -1416354905);
    b = md5_ii(b, c, d, a, x[i+ 5], 21, -57434055);
    a = md5_ii(a, b, c, d, x[i+12], 6 ,  1700485571);
    d = md5_ii(d, a, b, c, x[i+ 3], 10, -1894986606);
    c = md5_ii(c, d, a, b, x[i+10], 15, -1051523);
    b = md5_ii(b, c, d, a, x[i+ 1], 21, -2054922799);
    a = md5_ii(a, b, c, d, x[i+ 8], 6 ,  1873313359);
    d = md5_ii(d, a, b, c, x[i+15], 10, -30611744);
    c = md5_ii(c, d, a, b, x[i+ 6], 15, -1560198380);
    b = md5_ii(b, c, d, a, x[i+13], 21,  1309151649);
    a = md5_ii(a, b, c, d, x[i+ 4], 6 , -145523070);
    d = md5_ii(d, a, b, c, x[i+11], 10, -1120210379);
    c = md5_ii(c, d, a, b, x[i+ 2], 15,  718787259);
    b = md5_ii(b, c, d, a, x[i+ 9], 21, -343485551);

    a = safe_add(a, olda);
    b = safe_add(b, oldb);
    c = safe_add(c, oldc);
    d = safe_add(d, oldd);
  }
  return Array(a, b, c, d);

}

/*
 * These functions implement the four basic operations the algorithm uses.
 */
function md5_cmn(q, a, b, x, s, t)
{
  return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s),b);
}
function md5_ff(a, b, c, d, x, s, t)
{
  return md5_cmn((b & c) | ((~b) & d), a, b, x, s, t);
}
function md5_gg(a, b, c, d, x, s, t)
{
  return md5_cmn((b & d) | (c & (~d)), a, b, x, s, t);
}
function md5_hh(a, b, c, d, x, s, t)
{
  return md5_cmn(b ^ c ^ d, a, b, x, s, t);
}
function md5_ii(a, b, c, d, x, s, t)
{
  return md5_cmn(c ^ (b | (~d)), a, b, x, s, t);
}

/*
 * Add integers, wrapping at 2^32. This uses 16-bit operations internally
 * to work around bugs in some JS interpreters.
 */
function safe_add(x, y)
{
  var lsw = (x & 0xFFFF) + (y & 0xFFFF);
  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);
  return (msw << 16) | (lsw & 0xFFFF);
}

/*
 * Bitwise rotate a 32-bit number to the left.
 */
function bit_rol(num, cnt)
{
  return (num << cnt) | (num >>> (32 - cnt));
}

module.exports = function md5(buf) {
  return helpers.hash(buf, core_md5, 16);
};
},{"./helpers":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/helpers.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/create-hash/helpers.js":[function(require,module,exports){
(function (Buffer){
'use strict';
var intSize = 4;
var zeroBuffer = new Buffer(intSize); zeroBuffer.fill(0);
var chrsz = 8;

function toArray(buf, bigEndian) {
  if ((buf.length % intSize) !== 0) {
    var len = buf.length + (intSize - (buf.length % intSize));
    buf = Buffer.concat([buf, zeroBuffer], len);
  }

  var arr = [];
  var fn = bigEndian ? buf.readInt32BE : buf.readInt32LE;
  for (var i = 0; i < buf.length; i += intSize) {
    arr.push(fn.call(buf, i));
  }
  return arr;
}

function toBuffer(arr, size, bigEndian) {
  var buf = new Buffer(size);
  var fn = bigEndian ? buf.writeInt32BE : buf.writeInt32LE;
  for (var i = 0; i < arr.length; i++) {
    fn.call(buf, arr[i], i * 4, true);
  }
  return buf;
}

function hash(buf, fn, hashSize, bigEndian) {
  if (!Buffer.isBuffer(buf)) buf = new Buffer(buf);
  var arr = fn(toArray(buf, bigEndian), buf.length * chrsz);
  return toBuffer(arr, hashSize, bigEndian);
}
exports.hash = hash;
}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWhhc2gvaGVscGVycy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciBpbnRTaXplID0gNDtcbnZhciB6ZXJvQnVmZmVyID0gbmV3IEJ1ZmZlcihpbnRTaXplKTsgemVyb0J1ZmZlci5maWxsKDApO1xudmFyIGNocnN6ID0gODtcblxuZnVuY3Rpb24gdG9BcnJheShidWYsIGJpZ0VuZGlhbikge1xuICBpZiAoKGJ1Zi5sZW5ndGggJSBpbnRTaXplKSAhPT0gMCkge1xuICAgIHZhciBsZW4gPSBidWYubGVuZ3RoICsgKGludFNpemUgLSAoYnVmLmxlbmd0aCAlIGludFNpemUpKTtcbiAgICBidWYgPSBCdWZmZXIuY29uY2F0KFtidWYsIHplcm9CdWZmZXJdLCBsZW4pO1xuICB9XG5cbiAgdmFyIGFyciA9IFtdO1xuICB2YXIgZm4gPSBiaWdFbmRpYW4gPyBidWYucmVhZEludDMyQkUgOiBidWYucmVhZEludDMyTEU7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmLmxlbmd0aDsgaSArPSBpbnRTaXplKSB7XG4gICAgYXJyLnB1c2goZm4uY2FsbChidWYsIGkpKTtcbiAgfVxuICByZXR1cm4gYXJyO1xufVxuXG5mdW5jdGlvbiB0b0J1ZmZlcihhcnIsIHNpemUsIGJpZ0VuZGlhbikge1xuICB2YXIgYnVmID0gbmV3IEJ1ZmZlcihzaXplKTtcbiAgdmFyIGZuID0gYmlnRW5kaWFuID8gYnVmLndyaXRlSW50MzJCRSA6IGJ1Zi53cml0ZUludDMyTEU7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgZm4uY2FsbChidWYsIGFycltpXSwgaSAqIDQsIHRydWUpO1xuICB9XG4gIHJldHVybiBidWY7XG59XG5cbmZ1bmN0aW9uIGhhc2goYnVmLCBmbiwgaGFzaFNpemUsIGJpZ0VuZGlhbikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSBidWYgPSBuZXcgQnVmZmVyKGJ1Zik7XG4gIHZhciBhcnIgPSBmbih0b0FycmF5KGJ1ZiwgYmlnRW5kaWFuKSwgYnVmLmxlbmd0aCAqIGNocnN6KTtcbiAgcmV0dXJuIHRvQnVmZmVyKGFyciwgaGFzaFNpemUsIGJpZ0VuZGlhbik7XG59XG5leHBvcnRzLmhhc2ggPSBoYXNoOyJdfQ==
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/streamCipher.js":[function(require,module,exports){
(function (Buffer){
var aes = require('./aes')
var Transform = require('cipher-base')
var inherits = require('inherits')

inherits(StreamCipher, Transform)
module.exports = StreamCipher
function StreamCipher (mode, key, iv, decrypt) {
  if (!(this instanceof StreamCipher)) {
    return new StreamCipher(mode, key, iv)
  }
  Transform.call(this)
  this._cipher = new aes.AES(key)
  this._prev = new Buffer(iv.length)
  this._cache = new Buffer('')
  this._secCache = new Buffer('')
  this._decrypt = decrypt
  iv.copy(this._prev)
  this._mode = mode
}
StreamCipher.prototype._update = function (chunk) {
  return this._mode.encrypt(this, chunk, this._decrypt)
}
StreamCipher.prototype._final = function () {
  this._cipher.scrub()
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL3N0cmVhbUNpcGhlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGFlcyA9IHJlcXVpcmUoJy4vYWVzJylcbnZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCdjaXBoZXItYmFzZScpXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG5cbmluaGVyaXRzKFN0cmVhbUNpcGhlciwgVHJhbnNmb3JtKVxubW9kdWxlLmV4cG9ydHMgPSBTdHJlYW1DaXBoZXJcbmZ1bmN0aW9uIFN0cmVhbUNpcGhlciAobW9kZSwga2V5LCBpdiwgZGVjcnlwdCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU3RyZWFtQ2lwaGVyKSkge1xuICAgIHJldHVybiBuZXcgU3RyZWFtQ2lwaGVyKG1vZGUsIGtleSwgaXYpXG4gIH1cbiAgVHJhbnNmb3JtLmNhbGwodGhpcylcbiAgdGhpcy5fY2lwaGVyID0gbmV3IGFlcy5BRVMoa2V5KVxuICB0aGlzLl9wcmV2ID0gbmV3IEJ1ZmZlcihpdi5sZW5ndGgpXG4gIHRoaXMuX2NhY2hlID0gbmV3IEJ1ZmZlcignJylcbiAgdGhpcy5fc2VjQ2FjaGUgPSBuZXcgQnVmZmVyKCcnKVxuICB0aGlzLl9kZWNyeXB0ID0gZGVjcnlwdFxuICBpdi5jb3B5KHRoaXMuX3ByZXYpXG4gIHRoaXMuX21vZGUgPSBtb2RlXG59XG5TdHJlYW1DaXBoZXIucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoY2h1bmspIHtcbiAgcmV0dXJuIHRoaXMuX21vZGUuZW5jcnlwdCh0aGlzLCBjaHVuaywgdGhpcy5fZGVjcnlwdClcbn1cblN0cmVhbUNpcGhlci5wcm90b3R5cGUuX2ZpbmFsID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9jaXBoZXIuc2NydWIoKVxufVxuIl19
},{"./aes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/aes.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","cipher-base":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/node_modules/cipher-base/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes/ofb.js":[function(require,module,exports){
(function (Buffer){
var xor = require('buffer-xor')

function getBlock (self) {
  self._prev = self._cipher.encryptBlock(self._prev)
  return self._prev
}

exports.encrypt = function (self, chunk) {
  while (self._cache.length < chunk.length) {
    self._cache = Buffer.concat([self._cache, getBlock(self)])
  }

  var pad = self._cache.slice(0, chunk.length)
  self._cache = self._cache.slice(chunk.length)
  return xor(chunk, pad)
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL21vZGVzL29mYi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHhvciA9IHJlcXVpcmUoJ2J1ZmZlci14b3InKVxuXG5mdW5jdGlvbiBnZXRCbG9jayAoc2VsZikge1xuICBzZWxmLl9wcmV2ID0gc2VsZi5fY2lwaGVyLmVuY3J5cHRCbG9jayhzZWxmLl9wcmV2KVxuICByZXR1cm4gc2VsZi5fcHJldlxufVxuXG5leHBvcnRzLmVuY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgY2h1bmspIHtcbiAgd2hpbGUgKHNlbGYuX2NhY2hlLmxlbmd0aCA8IGNodW5rLmxlbmd0aCkge1xuICAgIHNlbGYuX2NhY2hlID0gQnVmZmVyLmNvbmNhdChbc2VsZi5fY2FjaGUsIGdldEJsb2NrKHNlbGYpXSlcbiAgfVxuXG4gIHZhciBwYWQgPSBzZWxmLl9jYWNoZS5zbGljZSgwLCBjaHVuay5sZW5ndGgpXG4gIHNlbGYuX2NhY2hlID0gc2VsZi5fY2FjaGUuc2xpY2UoY2h1bmsubGVuZ3RoKVxuICByZXR1cm4geG9yKGNodW5rLCBwYWQpXG59XG4iXX0=
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","buffer-xor":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/node_modules/buffer-xor/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes/ecb.js":[function(require,module,exports){
exports.encrypt = function (self, block) {
  return self._cipher.encryptBlock(block)
}
exports.decrypt = function (self, block) {
  return self._cipher.decryptBlock(block)
}

},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes/ctr.js":[function(require,module,exports){
(function (Buffer){
var xor = require('buffer-xor')

function incr32 (iv) {
  var len = iv.length
  var item
  while (len--) {
    item = iv.readUInt8(len)
    if (item === 255) {
      iv.writeUInt8(0, len)
    } else {
      item++
      iv.writeUInt8(item, len)
      break
    }
  }
}

function getBlock (self) {
  var out = self._cipher.encryptBlock(self._prev)
  incr32(self._prev)
  return out
}

exports.encrypt = function (self, chunk) {
  while (self._cache.length < chunk.length) {
    self._cache = Buffer.concat([self._cache, getBlock(self)])
  }
  var pad = self._cache.slice(0, chunk.length)
  self._cache = self._cache.slice(chunk.length)
  return xor(chunk, pad)
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL21vZGVzL2N0ci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHhvciA9IHJlcXVpcmUoJ2J1ZmZlci14b3InKVxuXG5mdW5jdGlvbiBpbmNyMzIgKGl2KSB7XG4gIHZhciBsZW4gPSBpdi5sZW5ndGhcbiAgdmFyIGl0ZW1cbiAgd2hpbGUgKGxlbi0tKSB7XG4gICAgaXRlbSA9IGl2LnJlYWRVSW50OChsZW4pXG4gICAgaWYgKGl0ZW0gPT09IDI1NSkge1xuICAgICAgaXYud3JpdGVVSW50OCgwLCBsZW4pXG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZW0rK1xuICAgICAgaXYud3JpdGVVSW50OChpdGVtLCBsZW4pXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRCbG9jayAoc2VsZikge1xuICB2YXIgb3V0ID0gc2VsZi5fY2lwaGVyLmVuY3J5cHRCbG9jayhzZWxmLl9wcmV2KVxuICBpbmNyMzIoc2VsZi5fcHJldilcbiAgcmV0dXJuIG91dFxufVxuXG5leHBvcnRzLmVuY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgY2h1bmspIHtcbiAgd2hpbGUgKHNlbGYuX2NhY2hlLmxlbmd0aCA8IGNodW5rLmxlbmd0aCkge1xuICAgIHNlbGYuX2NhY2hlID0gQnVmZmVyLmNvbmNhdChbc2VsZi5fY2FjaGUsIGdldEJsb2NrKHNlbGYpXSlcbiAgfVxuICB2YXIgcGFkID0gc2VsZi5fY2FjaGUuc2xpY2UoMCwgY2h1bmsubGVuZ3RoKVxuICBzZWxmLl9jYWNoZSA9IHNlbGYuX2NhY2hlLnNsaWNlKGNodW5rLmxlbmd0aClcbiAgcmV0dXJuIHhvcihjaHVuaywgcGFkKVxufVxuIl19
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","buffer-xor":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/node_modules/buffer-xor/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes/cfb8.js":[function(require,module,exports){
(function (Buffer){
function encryptByte (self, byteParam, decrypt) {
  var pad = self._cipher.encryptBlock(self._prev)
  var out = pad[0] ^ byteParam
  self._prev = Buffer.concat([self._prev.slice(1), new Buffer([decrypt ? byteParam : out])])
  return out
}
exports.encrypt = function (self, chunk, decrypt) {
  var len = chunk.length
  var out = new Buffer(len)
  var i = -1
  while (++i < len) {
    out[i] = encryptByte(self, chunk[i], decrypt)
  }
  return out
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL21vZGVzL2NmYjguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBlbmNyeXB0Qnl0ZSAoc2VsZiwgYnl0ZVBhcmFtLCBkZWNyeXB0KSB7XG4gIHZhciBwYWQgPSBzZWxmLl9jaXBoZXIuZW5jcnlwdEJsb2NrKHNlbGYuX3ByZXYpXG4gIHZhciBvdXQgPSBwYWRbMF0gXiBieXRlUGFyYW1cbiAgc2VsZi5fcHJldiA9IEJ1ZmZlci5jb25jYXQoW3NlbGYuX3ByZXYuc2xpY2UoMSksIG5ldyBCdWZmZXIoW2RlY3J5cHQgPyBieXRlUGFyYW0gOiBvdXRdKV0pXG4gIHJldHVybiBvdXRcbn1cbmV4cG9ydHMuZW5jcnlwdCA9IGZ1bmN0aW9uIChzZWxmLCBjaHVuaywgZGVjcnlwdCkge1xuICB2YXIgbGVuID0gY2h1bmsubGVuZ3RoXG4gIHZhciBvdXQgPSBuZXcgQnVmZmVyKGxlbilcbiAgdmFyIGkgPSAtMVxuICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgb3V0W2ldID0gZW5jcnlwdEJ5dGUoc2VsZiwgY2h1bmtbaV0sIGRlY3J5cHQpXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuIl19
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes/cfb1.js":[function(require,module,exports){
(function (Buffer){
function encryptByte (self, byteParam, decrypt) {
  var pad
  var i = -1
  var len = 8
  var out = 0
  var bit, value
  while (++i < len) {
    pad = self._cipher.encryptBlock(self._prev)
    bit = (byteParam & (1 << (7 - i))) ? 0x80 : 0
    value = pad[0] ^ bit
    out += ((value & 0x80) >> (i % 8))
    self._prev = shiftIn(self._prev, decrypt ? bit : value)
  }
  return out
}
exports.encrypt = function (self, chunk, decrypt) {
  var len = chunk.length
  var out = new Buffer(len)
  var i = -1
  while (++i < len) {
    out[i] = encryptByte(self, chunk[i], decrypt)
  }
  return out
}
function shiftIn (buffer, value) {
  var len = buffer.length
  var i = -1
  var out = new Buffer(buffer.length)
  buffer = Buffer.concat([buffer, new Buffer([value])])
  while (++i < len) {
    out[i] = buffer[i] << 1 | buffer[i + 1] >> (7)
  }
  return out
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL21vZGVzL2NmYjEuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGVuY3J5cHRCeXRlIChzZWxmLCBieXRlUGFyYW0sIGRlY3J5cHQpIHtcbiAgdmFyIHBhZFxuICB2YXIgaSA9IC0xXG4gIHZhciBsZW4gPSA4XG4gIHZhciBvdXQgPSAwXG4gIHZhciBiaXQsIHZhbHVlXG4gIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICBwYWQgPSBzZWxmLl9jaXBoZXIuZW5jcnlwdEJsb2NrKHNlbGYuX3ByZXYpXG4gICAgYml0ID0gKGJ5dGVQYXJhbSAmICgxIDw8ICg3IC0gaSkpKSA/IDB4ODAgOiAwXG4gICAgdmFsdWUgPSBwYWRbMF0gXiBiaXRcbiAgICBvdXQgKz0gKCh2YWx1ZSAmIDB4ODApID4+IChpICUgOCkpXG4gICAgc2VsZi5fcHJldiA9IHNoaWZ0SW4oc2VsZi5fcHJldiwgZGVjcnlwdCA/IGJpdCA6IHZhbHVlKVxuICB9XG4gIHJldHVybiBvdXRcbn1cbmV4cG9ydHMuZW5jcnlwdCA9IGZ1bmN0aW9uIChzZWxmLCBjaHVuaywgZGVjcnlwdCkge1xuICB2YXIgbGVuID0gY2h1bmsubGVuZ3RoXG4gIHZhciBvdXQgPSBuZXcgQnVmZmVyKGxlbilcbiAgdmFyIGkgPSAtMVxuICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgb3V0W2ldID0gZW5jcnlwdEJ5dGUoc2VsZiwgY2h1bmtbaV0sIGRlY3J5cHQpXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuZnVuY3Rpb24gc2hpZnRJbiAoYnVmZmVyLCB2YWx1ZSkge1xuICB2YXIgbGVuID0gYnVmZmVyLmxlbmd0aFxuICB2YXIgaSA9IC0xXG4gIHZhciBvdXQgPSBuZXcgQnVmZmVyKGJ1ZmZlci5sZW5ndGgpXG4gIGJ1ZmZlciA9IEJ1ZmZlci5jb25jYXQoW2J1ZmZlciwgbmV3IEJ1ZmZlcihbdmFsdWVdKV0pXG4gIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICBvdXRbaV0gPSBidWZmZXJbaV0gPDwgMSB8IGJ1ZmZlcltpICsgMV0gPj4gKDcpXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuIl19
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes/cfb.js":[function(require,module,exports){
(function (Buffer){
var xor = require('buffer-xor')

exports.encrypt = function (self, data, decrypt) {
  var out = new Buffer('')
  var len

  while (data.length) {
    if (self._cache.length === 0) {
      self._cache = self._cipher.encryptBlock(self._prev)
      self._prev = new Buffer('')
    }

    if (self._cache.length <= data.length) {
      len = self._cache.length
      out = Buffer.concat([out, encryptStart(self, data.slice(0, len), decrypt)])
      data = data.slice(len)
    } else {
      out = Buffer.concat([out, encryptStart(self, data, decrypt)])
      break
    }
  }

  return out
}
function encryptStart (self, data, decrypt) {
  var len = data.length
  var out = xor(data, self._cache)
  self._cache = self._cache.slice(len)
  self._prev = Buffer.concat([self._prev, decrypt ? data : out])
  return out
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL21vZGVzL2NmYi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHhvciA9IHJlcXVpcmUoJ2J1ZmZlci14b3InKVxuXG5leHBvcnRzLmVuY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgZGF0YSwgZGVjcnlwdCkge1xuICB2YXIgb3V0ID0gbmV3IEJ1ZmZlcignJylcbiAgdmFyIGxlblxuXG4gIHdoaWxlIChkYXRhLmxlbmd0aCkge1xuICAgIGlmIChzZWxmLl9jYWNoZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHNlbGYuX2NhY2hlID0gc2VsZi5fY2lwaGVyLmVuY3J5cHRCbG9jayhzZWxmLl9wcmV2KVxuICAgICAgc2VsZi5fcHJldiA9IG5ldyBCdWZmZXIoJycpXG4gICAgfVxuXG4gICAgaWYgKHNlbGYuX2NhY2hlLmxlbmd0aCA8PSBkYXRhLmxlbmd0aCkge1xuICAgICAgbGVuID0gc2VsZi5fY2FjaGUubGVuZ3RoXG4gICAgICBvdXQgPSBCdWZmZXIuY29uY2F0KFtvdXQsIGVuY3J5cHRTdGFydChzZWxmLCBkYXRhLnNsaWNlKDAsIGxlbiksIGRlY3J5cHQpXSlcbiAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKGxlbilcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ID0gQnVmZmVyLmNvbmNhdChbb3V0LCBlbmNyeXB0U3RhcnQoc2VsZiwgZGF0YSwgZGVjcnlwdCldKVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb3V0XG59XG5mdW5jdGlvbiBlbmNyeXB0U3RhcnQgKHNlbGYsIGRhdGEsIGRlY3J5cHQpIHtcbiAgdmFyIGxlbiA9IGRhdGEubGVuZ3RoXG4gIHZhciBvdXQgPSB4b3IoZGF0YSwgc2VsZi5fY2FjaGUpXG4gIHNlbGYuX2NhY2hlID0gc2VsZi5fY2FjaGUuc2xpY2UobGVuKVxuICBzZWxmLl9wcmV2ID0gQnVmZmVyLmNvbmNhdChbc2VsZi5fcHJldiwgZGVjcnlwdCA/IGRhdGEgOiBvdXRdKVxuICByZXR1cm4gb3V0XG59XG4iXX0=
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","buffer-xor":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/node_modules/buffer-xor/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes/cbc.js":[function(require,module,exports){
var xor = require('buffer-xor')

exports.encrypt = function (self, block) {
  var data = xor(block, self._prev)

  self._prev = self._cipher.encryptBlock(data)
  return self._prev
}

exports.decrypt = function (self, block) {
  var pad = self._prev

  self._prev = block
  var out = self._cipher.decryptBlock(block)

  return xor(out, pad)
}

},{"buffer-xor":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/node_modules/buffer-xor/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/modes.js":[function(require,module,exports){
exports['aes-128-ecb'] = {
  cipher: 'AES',
  key: 128,
  iv: 0,
  mode: 'ECB',
  type: 'block'
}
exports['aes-192-ecb'] = {
  cipher: 'AES',
  key: 192,
  iv: 0,
  mode: 'ECB',
  type: 'block'
}
exports['aes-256-ecb'] = {
  cipher: 'AES',
  key: 256,
  iv: 0,
  mode: 'ECB',
  type: 'block'
}
exports['aes-128-cbc'] = {
  cipher: 'AES',
  key: 128,
  iv: 16,
  mode: 'CBC',
  type: 'block'
}
exports['aes-192-cbc'] = {
  cipher: 'AES',
  key: 192,
  iv: 16,
  mode: 'CBC',
  type: 'block'
}
exports['aes-256-cbc'] = {
  cipher: 'AES',
  key: 256,
  iv: 16,
  mode: 'CBC',
  type: 'block'
}
exports['aes128'] = exports['aes-128-cbc']
exports['aes192'] = exports['aes-192-cbc']
exports['aes256'] = exports['aes-256-cbc']
exports['aes-128-cfb'] = {
  cipher: 'AES',
  key: 128,
  iv: 16,
  mode: 'CFB',
  type: 'stream'
}
exports['aes-192-cfb'] = {
  cipher: 'AES',
  key: 192,
  iv: 16,
  mode: 'CFB',
  type: 'stream'
}
exports['aes-256-cfb'] = {
  cipher: 'AES',
  key: 256,
  iv: 16,
  mode: 'CFB',
  type: 'stream'
}
exports['aes-128-cfb8'] = {
  cipher: 'AES',
  key: 128,
  iv: 16,
  mode: 'CFB8',
  type: 'stream'
}
exports['aes-192-cfb8'] = {
  cipher: 'AES',
  key: 192,
  iv: 16,
  mode: 'CFB8',
  type: 'stream'
}
exports['aes-256-cfb8'] = {
  cipher: 'AES',
  key: 256,
  iv: 16,
  mode: 'CFB8',
  type: 'stream'
}
exports['aes-128-cfb1'] = {
  cipher: 'AES',
  key: 128,
  iv: 16,
  mode: 'CFB1',
  type: 'stream'
}
exports['aes-192-cfb1'] = {
  cipher: 'AES',
  key: 192,
  iv: 16,
  mode: 'CFB1',
  type: 'stream'
}
exports['aes-256-cfb1'] = {
  cipher: 'AES',
  key: 256,
  iv: 16,
  mode: 'CFB1',
  type: 'stream'
}
exports['aes-128-ofb'] = {
  cipher: 'AES',
  key: 128,
  iv: 16,
  mode: 'OFB',
  type: 'stream'
}
exports['aes-192-ofb'] = {
  cipher: 'AES',
  key: 192,
  iv: 16,
  mode: 'OFB',
  type: 'stream'
}
exports['aes-256-ofb'] = {
  cipher: 'AES',
  key: 256,
  iv: 16,
  mode: 'OFB',
  type: 'stream'
}
exports['aes-128-ctr'] = {
  cipher: 'AES',
  key: 128,
  iv: 16,
  mode: 'CTR',
  type: 'stream'
}
exports['aes-192-ctr'] = {
  cipher: 'AES',
  key: 192,
  iv: 16,
  mode: 'CTR',
  type: 'stream'
}
exports['aes-256-ctr'] = {
  cipher: 'AES',
  key: 256,
  iv: 16,
  mode: 'CTR',
  type: 'stream'
}
exports['aes-128-gcm'] = {
  cipher: 'AES',
  key: 128,
  iv: 12,
  mode: 'GCM',
  type: 'auth'
}
exports['aes-192-gcm'] = {
  cipher: 'AES',
  key: 192,
  iv: 12,
  mode: 'GCM',
  type: 'auth'
}
exports['aes-256-gcm'] = {
  cipher: 'AES',
  key: 256,
  iv: 12,
  mode: 'GCM',
  type: 'auth'
}

},{}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/authCipher.js":[function(require,module,exports){
(function (Buffer){
var aes = require('./aes')
var Transform = require('cipher-base')
var inherits = require('inherits')
var GHASH = require('./ghash')
var xor = require('buffer-xor')
inherits(StreamCipher, Transform)
module.exports = StreamCipher

function StreamCipher (mode, key, iv, decrypt) {
  if (!(this instanceof StreamCipher)) {
    return new StreamCipher(mode, key, iv)
  }
  Transform.call(this)
  this._finID = Buffer.concat([iv, new Buffer([0, 0, 0, 1])])
  iv = Buffer.concat([iv, new Buffer([0, 0, 0, 2])])
  this._cipher = new aes.AES(key)
  this._prev = new Buffer(iv.length)
  this._cache = new Buffer('')
  this._secCache = new Buffer('')
  this._decrypt = decrypt
  this._alen = 0
  this._len = 0
  iv.copy(this._prev)
  this._mode = mode
  var h = new Buffer(4)
  h.fill(0)
  this._ghash = new GHASH(this._cipher.encryptBlock(h))
  this._authTag = null
  this._called = false
}
StreamCipher.prototype._update = function (chunk) {
  if (!this._called && this._alen) {
    var rump = 16 - (this._alen % 16)
    if (rump < 16) {
      rump = new Buffer(rump)
      rump.fill(0)
      this._ghash.update(rump)
    }
  }
  this._called = true
  var out = this._mode.encrypt(this, chunk)
  if (this._decrypt) {
    this._ghash.update(chunk)
  } else {
    this._ghash.update(out)
  }
  this._len += chunk.length
  return out
}
StreamCipher.prototype._final = function () {
  if (this._decrypt && !this._authTag) {
    throw new Error('Unsupported state or unable to authenticate data')
  }
  var tag = xor(this._ghash.final(this._alen * 8, this._len * 8), this._cipher.encryptBlock(this._finID))
  if (this._decrypt) {
    if (xorTest(tag, this._authTag)) {
      throw new Error('Unsupported state or unable to authenticate data')
    }
  } else {
    this._authTag = tag
  }
  this._cipher.scrub()
}
StreamCipher.prototype.getAuthTag = function getAuthTag () {
  if (!this._decrypt && Buffer.isBuffer(this._authTag)) {
    return this._authTag
  } else {
    throw new Error('Attempting to get auth tag in unsupported state')
  }
}
StreamCipher.prototype.setAuthTag = function setAuthTag (tag) {
  if (this._decrypt) {
    this._authTag = tag
  } else {
    throw new Error('Attempting to set auth tag in unsupported state')
  }
}
StreamCipher.prototype.setAAD = function setAAD (buf) {
  if (!this._called) {
    this._ghash.update(buf)
    this._alen += buf.length
  } else {
    throw new Error('Attempting to set AAD in unsupported state')
  }
}
function xorTest (a, b) {
  var out = 0
  if (a.length !== b.length) {
    out++
  }
  var len = Math.min(a.length, b.length)
  var i = -1
  while (++i < len) {
    out += (a[i] ^ b[i])
  }
  return out
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL2F1dGhDaXBoZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBhZXMgPSByZXF1aXJlKCcuL2FlcycpXG52YXIgVHJhbnNmb3JtID0gcmVxdWlyZSgnY2lwaGVyLWJhc2UnKVxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxudmFyIEdIQVNIID0gcmVxdWlyZSgnLi9naGFzaCcpXG52YXIgeG9yID0gcmVxdWlyZSgnYnVmZmVyLXhvcicpXG5pbmhlcml0cyhTdHJlYW1DaXBoZXIsIFRyYW5zZm9ybSlcbm1vZHVsZS5leHBvcnRzID0gU3RyZWFtQ2lwaGVyXG5cbmZ1bmN0aW9uIFN0cmVhbUNpcGhlciAobW9kZSwga2V5LCBpdiwgZGVjcnlwdCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU3RyZWFtQ2lwaGVyKSkge1xuICAgIHJldHVybiBuZXcgU3RyZWFtQ2lwaGVyKG1vZGUsIGtleSwgaXYpXG4gIH1cbiAgVHJhbnNmb3JtLmNhbGwodGhpcylcbiAgdGhpcy5fZmluSUQgPSBCdWZmZXIuY29uY2F0KFtpdiwgbmV3IEJ1ZmZlcihbMCwgMCwgMCwgMV0pXSlcbiAgaXYgPSBCdWZmZXIuY29uY2F0KFtpdiwgbmV3IEJ1ZmZlcihbMCwgMCwgMCwgMl0pXSlcbiAgdGhpcy5fY2lwaGVyID0gbmV3IGFlcy5BRVMoa2V5KVxuICB0aGlzLl9wcmV2ID0gbmV3IEJ1ZmZlcihpdi5sZW5ndGgpXG4gIHRoaXMuX2NhY2hlID0gbmV3IEJ1ZmZlcignJylcbiAgdGhpcy5fc2VjQ2FjaGUgPSBuZXcgQnVmZmVyKCcnKVxuICB0aGlzLl9kZWNyeXB0ID0gZGVjcnlwdFxuICB0aGlzLl9hbGVuID0gMFxuICB0aGlzLl9sZW4gPSAwXG4gIGl2LmNvcHkodGhpcy5fcHJldilcbiAgdGhpcy5fbW9kZSA9IG1vZGVcbiAgdmFyIGggPSBuZXcgQnVmZmVyKDQpXG4gIGguZmlsbCgwKVxuICB0aGlzLl9naGFzaCA9IG5ldyBHSEFTSCh0aGlzLl9jaXBoZXIuZW5jcnlwdEJsb2NrKGgpKVxuICB0aGlzLl9hdXRoVGFnID0gbnVsbFxuICB0aGlzLl9jYWxsZWQgPSBmYWxzZVxufVxuU3RyZWFtQ2lwaGVyLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKGNodW5rKSB7XG4gIGlmICghdGhpcy5fY2FsbGVkICYmIHRoaXMuX2FsZW4pIHtcbiAgICB2YXIgcnVtcCA9IDE2IC0gKHRoaXMuX2FsZW4gJSAxNilcbiAgICBpZiAocnVtcCA8IDE2KSB7XG4gICAgICBydW1wID0gbmV3IEJ1ZmZlcihydW1wKVxuICAgICAgcnVtcC5maWxsKDApXG4gICAgICB0aGlzLl9naGFzaC51cGRhdGUocnVtcClcbiAgICB9XG4gIH1cbiAgdGhpcy5fY2FsbGVkID0gdHJ1ZVxuICB2YXIgb3V0ID0gdGhpcy5fbW9kZS5lbmNyeXB0KHRoaXMsIGNodW5rKVxuICBpZiAodGhpcy5fZGVjcnlwdCkge1xuICAgIHRoaXMuX2doYXNoLnVwZGF0ZShjaHVuaylcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9naGFzaC51cGRhdGUob3V0KVxuICB9XG4gIHRoaXMuX2xlbiArPSBjaHVuay5sZW5ndGhcbiAgcmV0dXJuIG91dFxufVxuU3RyZWFtQ2lwaGVyLnByb3RvdHlwZS5fZmluYWwgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLl9kZWNyeXB0ICYmICF0aGlzLl9hdXRoVGFnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBzdGF0ZSBvciB1bmFibGUgdG8gYXV0aGVudGljYXRlIGRhdGEnKVxuICB9XG4gIHZhciB0YWcgPSB4b3IodGhpcy5fZ2hhc2guZmluYWwodGhpcy5fYWxlbiAqIDgsIHRoaXMuX2xlbiAqIDgpLCB0aGlzLl9jaXBoZXIuZW5jcnlwdEJsb2NrKHRoaXMuX2ZpbklEKSlcbiAgaWYgKHRoaXMuX2RlY3J5cHQpIHtcbiAgICBpZiAoeG9yVGVzdCh0YWcsIHRoaXMuX2F1dGhUYWcpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIHN0YXRlIG9yIHVuYWJsZSB0byBhdXRoZW50aWNhdGUgZGF0YScpXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMuX2F1dGhUYWcgPSB0YWdcbiAgfVxuICB0aGlzLl9jaXBoZXIuc2NydWIoKVxufVxuU3RyZWFtQ2lwaGVyLnByb3RvdHlwZS5nZXRBdXRoVGFnID0gZnVuY3Rpb24gZ2V0QXV0aFRhZyAoKSB7XG4gIGlmICghdGhpcy5fZGVjcnlwdCAmJiBCdWZmZXIuaXNCdWZmZXIodGhpcy5fYXV0aFRhZykpIHtcbiAgICByZXR1cm4gdGhpcy5fYXV0aFRhZ1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignQXR0ZW1wdGluZyB0byBnZXQgYXV0aCB0YWcgaW4gdW5zdXBwb3J0ZWQgc3RhdGUnKVxuICB9XG59XG5TdHJlYW1DaXBoZXIucHJvdG90eXBlLnNldEF1dGhUYWcgPSBmdW5jdGlvbiBzZXRBdXRoVGFnICh0YWcpIHtcbiAgaWYgKHRoaXMuX2RlY3J5cHQpIHtcbiAgICB0aGlzLl9hdXRoVGFnID0gdGFnXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBdHRlbXB0aW5nIHRvIHNldCBhdXRoIHRhZyBpbiB1bnN1cHBvcnRlZCBzdGF0ZScpXG4gIH1cbn1cblN0cmVhbUNpcGhlci5wcm90b3R5cGUuc2V0QUFEID0gZnVuY3Rpb24gc2V0QUFEIChidWYpIHtcbiAgaWYgKCF0aGlzLl9jYWxsZWQpIHtcbiAgICB0aGlzLl9naGFzaC51cGRhdGUoYnVmKVxuICAgIHRoaXMuX2FsZW4gKz0gYnVmLmxlbmd0aFxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignQXR0ZW1wdGluZyB0byBzZXQgQUFEIGluIHVuc3VwcG9ydGVkIHN0YXRlJylcbiAgfVxufVxuZnVuY3Rpb24geG9yVGVzdCAoYSwgYikge1xuICB2YXIgb3V0ID0gMFxuICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgb3V0KytcbiAgfVxuICB2YXIgbGVuID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKVxuICB2YXIgaSA9IC0xXG4gIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICBvdXQgKz0gKGFbaV0gXiBiW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cbiJdfQ==
},{"./aes":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/aes.js","./ghash":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/ghash.js","buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","buffer-xor":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/node_modules/buffer-xor/index.js","cipher-base":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/node_modules/cipher-base/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/node_modules/cipher-base/index.js":[function(require,module,exports){
(function (Buffer){
var Transform = require('stream').Transform
var inherits = require('inherits')
var StringDecoder = require('string_decoder').StringDecoder
module.exports = CipherBase
inherits(CipherBase, Transform)
function CipherBase (hashMode) {
  Transform.call(this)
  this.hashMode = typeof hashMode === 'string'
  if (this.hashMode) {
    this[hashMode] = this._finalOrDigest
  } else {
    this.final = this._finalOrDigest
  }
  this._decoder = null
  this._encoding = null
}
CipherBase.prototype.update = function (data, inputEnc, outputEnc) {
  if (typeof data === 'string') {
    data = new Buffer(data, inputEnc)
  }
  var outData = this._update(data)
  if (this.hashMode) {
    return this
  }
  if (outputEnc) {
    outData = this._toString(outData, outputEnc)
  }
  return outData
}

CipherBase.prototype.setAutoPadding = function () {}

CipherBase.prototype.getAuthTag = function () {
  throw new Error('trying to get auth tag in unsupported state')
}

CipherBase.prototype.setAuthTag = function () {
  throw new Error('trying to set auth tag in unsupported state')
}

CipherBase.prototype.setAAD = function () {
  throw new Error('trying to set aad in unsupported state')
}

CipherBase.prototype._transform = function (data, _, next) {
  var err
  try {
    if (this.hashMode) {
      this._update(data)
    } else {
      this.push(this._update(data))
    }
  } catch (e) {
    err = e
  } finally {
    next(err)
  }
}
CipherBase.prototype._flush = function (done) {
  var err
  try {
    this.push(this._final())
  } catch (e) {
    err = e
  } finally {
    done(err)
  }
}
CipherBase.prototype._finalOrDigest = function (outputEnc) {
  var outData = this._final() || new Buffer('')
  if (outputEnc) {
    outData = this._toString(outData, outputEnc, true)
  }
  return outData
}

CipherBase.prototype._toString = function (value, enc, final) {
  if (!this._decoder) {
    this._decoder = new StringDecoder(enc)
    this._encoding = enc
  }
  if (this._encoding !== enc) {
    throw new Error('can\'t switch encodings')
  }
  var out = this._decoder.write(value)
  if (final) {
    out += this._decoder.end()
  }
  return out
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL25vZGVfbW9kdWxlcy9jaXBoZXItYmFzZS9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCdzdHJlYW0nKS5UcmFuc2Zvcm1cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbnZhciBTdHJpbmdEZWNvZGVyID0gcmVxdWlyZSgnc3RyaW5nX2RlY29kZXInKS5TdHJpbmdEZWNvZGVyXG5tb2R1bGUuZXhwb3J0cyA9IENpcGhlckJhc2VcbmluaGVyaXRzKENpcGhlckJhc2UsIFRyYW5zZm9ybSlcbmZ1bmN0aW9uIENpcGhlckJhc2UgKGhhc2hNb2RlKSB7XG4gIFRyYW5zZm9ybS5jYWxsKHRoaXMpXG4gIHRoaXMuaGFzaE1vZGUgPSB0eXBlb2YgaGFzaE1vZGUgPT09ICdzdHJpbmcnXG4gIGlmICh0aGlzLmhhc2hNb2RlKSB7XG4gICAgdGhpc1toYXNoTW9kZV0gPSB0aGlzLl9maW5hbE9yRGlnZXN0XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5maW5hbCA9IHRoaXMuX2ZpbmFsT3JEaWdlc3RcbiAgfVxuICB0aGlzLl9kZWNvZGVyID0gbnVsbFxuICB0aGlzLl9lbmNvZGluZyA9IG51bGxcbn1cbkNpcGhlckJhc2UucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhLCBpbnB1dEVuYywgb3V0cHV0RW5jKSB7XG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICBkYXRhID0gbmV3IEJ1ZmZlcihkYXRhLCBpbnB1dEVuYylcbiAgfVxuICB2YXIgb3V0RGF0YSA9IHRoaXMuX3VwZGF0ZShkYXRhKVxuICBpZiAodGhpcy5oYXNoTW9kZSkge1xuICAgIHJldHVybiB0aGlzXG4gIH1cbiAgaWYgKG91dHB1dEVuYykge1xuICAgIG91dERhdGEgPSB0aGlzLl90b1N0cmluZyhvdXREYXRhLCBvdXRwdXRFbmMpXG4gIH1cbiAgcmV0dXJuIG91dERhdGFcbn1cblxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuc2V0QXV0b1BhZGRpbmcgPSBmdW5jdGlvbiAoKSB7fVxuXG5DaXBoZXJCYXNlLnByb3RvdHlwZS5nZXRBdXRoVGFnID0gZnVuY3Rpb24gKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ3RyeWluZyB0byBnZXQgYXV0aCB0YWcgaW4gdW5zdXBwb3J0ZWQgc3RhdGUnKVxufVxuXG5DaXBoZXJCYXNlLnByb3RvdHlwZS5zZXRBdXRoVGFnID0gZnVuY3Rpb24gKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ3RyeWluZyB0byBzZXQgYXV0aCB0YWcgaW4gdW5zdXBwb3J0ZWQgc3RhdGUnKVxufVxuXG5DaXBoZXJCYXNlLnByb3RvdHlwZS5zZXRBQUQgPSBmdW5jdGlvbiAoKSB7XG4gIHRocm93IG5ldyBFcnJvcigndHJ5aW5nIHRvIHNldCBhYWQgaW4gdW5zdXBwb3J0ZWQgc3RhdGUnKVxufVxuXG5DaXBoZXJCYXNlLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24gKGRhdGEsIF8sIG5leHQpIHtcbiAgdmFyIGVyclxuICB0cnkge1xuICAgIGlmICh0aGlzLmhhc2hNb2RlKSB7XG4gICAgICB0aGlzLl91cGRhdGUoZGF0YSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wdXNoKHRoaXMuX3VwZGF0ZShkYXRhKSlcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlcnIgPSBlXG4gIH0gZmluYWxseSB7XG4gICAgbmV4dChlcnIpXG4gIH1cbn1cbkNpcGhlckJhc2UucHJvdG90eXBlLl9mbHVzaCA9IGZ1bmN0aW9uIChkb25lKSB7XG4gIHZhciBlcnJcbiAgdHJ5IHtcbiAgICB0aGlzLnB1c2godGhpcy5fZmluYWwoKSlcbiAgfSBjYXRjaCAoZSkge1xuICAgIGVyciA9IGVcbiAgfSBmaW5hbGx5IHtcbiAgICBkb25lKGVycilcbiAgfVxufVxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuX2ZpbmFsT3JEaWdlc3QgPSBmdW5jdGlvbiAob3V0cHV0RW5jKSB7XG4gIHZhciBvdXREYXRhID0gdGhpcy5fZmluYWwoKSB8fCBuZXcgQnVmZmVyKCcnKVxuICBpZiAob3V0cHV0RW5jKSB7XG4gICAgb3V0RGF0YSA9IHRoaXMuX3RvU3RyaW5nKG91dERhdGEsIG91dHB1dEVuYywgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb3V0RGF0YVxufVxuXG5DaXBoZXJCYXNlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAodmFsdWUsIGVuYywgZmluYWwpIHtcbiAgaWYgKCF0aGlzLl9kZWNvZGVyKSB7XG4gICAgdGhpcy5fZGVjb2RlciA9IG5ldyBTdHJpbmdEZWNvZGVyKGVuYylcbiAgICB0aGlzLl9lbmNvZGluZyA9IGVuY1xuICB9XG4gIGlmICh0aGlzLl9lbmNvZGluZyAhPT0gZW5jKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjYW5cXCd0IHN3aXRjaCBlbmNvZGluZ3MnKVxuICB9XG4gIHZhciBvdXQgPSB0aGlzLl9kZWNvZGVyLndyaXRlKHZhbHVlKVxuICBpZiAoZmluYWwpIHtcbiAgICBvdXQgKz0gdGhpcy5fZGVjb2Rlci5lbmQoKVxuICB9XG4gIHJldHVybiBvdXRcbn1cbiJdfQ==
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js","inherits":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/inherits/inherits_browser.js","stream":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/stream-browserify/index.js","string_decoder":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/string_decoder/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/node_modules/buffer-xor/index.js":[function(require,module,exports){
(function (Buffer){
module.exports = function xor (a, b) {
  var length = Math.min(a.length, b.length)
  var buffer = new Buffer(length)

  for (var i = 0; i < length; ++i) {
    buffer[i] = a[i] ^ b[i]
  }

  return buffer
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL25vZGVfbW9kdWxlcy9idWZmZXIteG9yL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHhvciAoYSwgYikge1xuICB2YXIgbGVuZ3RoID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKVxuICB2YXIgYnVmZmVyID0gbmV3IEJ1ZmZlcihsZW5ndGgpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGJ1ZmZlcltpXSA9IGFbaV0gXiBiW2ldXG4gIH1cblxuICByZXR1cm4gYnVmZmVyXG59XG4iXX0=
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/ghash.js":[function(require,module,exports){
(function (Buffer){
var zeros = new Buffer(16)
zeros.fill(0)
module.exports = GHASH
function GHASH (key) {
  this.h = key
  this.state = new Buffer(16)
  this.state.fill(0)
  this.cache = new Buffer('')
}
// from http://bitwiseshiftleft.github.io/sjcl/doc/symbols/src/core_gcm.js.html
// by Juho Vh-Herttua
GHASH.prototype.ghash = function (block) {
  var i = -1
  while (++i < block.length) {
    this.state[i] ^= block[i]
  }
  this._multiply()
}

GHASH.prototype._multiply = function () {
  var Vi = toArray(this.h)
  var Zi = [0, 0, 0, 0]
  var j, xi, lsb_Vi
  var i = -1
  while (++i < 128) {
    xi = (this.state[~~(i / 8)] & (1 << (7 - i % 8))) !== 0
    if (xi) {
      // Z_i+1 = Z_i ^ V_i
      Zi = xor(Zi, Vi)
    }

    // Store the value of LSB(V_i)
    lsb_Vi = (Vi[3] & 1) !== 0

    // V_i+1 = V_i >> 1
    for (j = 3; j > 0; j--) {
      Vi[j] = (Vi[j] >>> 1) | ((Vi[j - 1] & 1) << 31)
    }
    Vi[0] = Vi[0] >>> 1

    // If LSB(V_i) is 1, V_i+1 = (V_i >> 1) ^ R
    if (lsb_Vi) {
      Vi[0] = Vi[0] ^ (0xe1 << 24)
    }
  }
  this.state = fromArray(Zi)
}
GHASH.prototype.update = function (buf) {
  this.cache = Buffer.concat([this.cache, buf])
  var chunk
  while (this.cache.length >= 16) {
    chunk = this.cache.slice(0, 16)
    this.cache = this.cache.slice(16)
    this.ghash(chunk)
  }
}
GHASH.prototype.final = function (abl, bl) {
  if (this.cache.length) {
    this.ghash(Buffer.concat([this.cache, zeros], 16))
  }
  this.ghash(fromArray([
    0, abl,
    0, bl
  ]))
  return this.state
}

function toArray (buf) {
  return [
    buf.readUInt32BE(0),
    buf.readUInt32BE(4),
    buf.readUInt32BE(8),
    buf.readUInt32BE(12)
  ]
}
function fromArray (out) {
  out = out.map(fixup_uint32)
  var buf = new Buffer(16)
  buf.writeUInt32BE(out[0], 0)
  buf.writeUInt32BE(out[1], 4)
  buf.writeUInt32BE(out[2], 8)
  buf.writeUInt32BE(out[3], 12)
  return buf
}
var uint_max = Math.pow(2, 32)
function fixup_uint32 (x) {
  var ret, x_pos
  ret = x > uint_max || x < 0 ? (x_pos = Math.abs(x) % uint_max, x < 0 ? uint_max - x_pos : x_pos) : x
  return ret
}
function xor (a, b) {
  return [
    a[0] ^ b[0],
    a[1] ^ b[1],
    a[2] ^ b[2],
    a[3] ^ b[3]
  ]
}

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL2doYXNoLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciB6ZXJvcyA9IG5ldyBCdWZmZXIoMTYpXG56ZXJvcy5maWxsKDApXG5tb2R1bGUuZXhwb3J0cyA9IEdIQVNIXG5mdW5jdGlvbiBHSEFTSCAoa2V5KSB7XG4gIHRoaXMuaCA9IGtleVxuICB0aGlzLnN0YXRlID0gbmV3IEJ1ZmZlcigxNilcbiAgdGhpcy5zdGF0ZS5maWxsKDApXG4gIHRoaXMuY2FjaGUgPSBuZXcgQnVmZmVyKCcnKVxufVxuLy8gZnJvbSBodHRwOi8vYml0d2lzZXNoaWZ0bGVmdC5naXRodWIuaW8vc2pjbC9kb2Mvc3ltYm9scy9zcmMvY29yZV9nY20uanMuaHRtbFxuLy8gYnkgSnVobyBWw6Row6QtSGVydHR1YVxuR0hBU0gucHJvdG90eXBlLmdoYXNoID0gZnVuY3Rpb24gKGJsb2NrKSB7XG4gIHZhciBpID0gLTFcbiAgd2hpbGUgKCsraSA8IGJsb2NrLmxlbmd0aCkge1xuICAgIHRoaXMuc3RhdGVbaV0gXj0gYmxvY2tbaV1cbiAgfVxuICB0aGlzLl9tdWx0aXBseSgpXG59XG5cbkdIQVNILnByb3RvdHlwZS5fbXVsdGlwbHkgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBWaSA9IHRvQXJyYXkodGhpcy5oKVxuICB2YXIgWmkgPSBbMCwgMCwgMCwgMF1cbiAgdmFyIGosIHhpLCBsc2JfVmlcbiAgdmFyIGkgPSAtMVxuICB3aGlsZSAoKytpIDwgMTI4KSB7XG4gICAgeGkgPSAodGhpcy5zdGF0ZVt+fihpIC8gOCldICYgKDEgPDwgKDcgLSBpICUgOCkpKSAhPT0gMFxuICAgIGlmICh4aSkge1xuICAgICAgLy8gWl9pKzEgPSBaX2kgXiBWX2lcbiAgICAgIFppID0geG9yKFppLCBWaSlcbiAgICB9XG5cbiAgICAvLyBTdG9yZSB0aGUgdmFsdWUgb2YgTFNCKFZfaSlcbiAgICBsc2JfVmkgPSAoVmlbM10gJiAxKSAhPT0gMFxuXG4gICAgLy8gVl9pKzEgPSBWX2kgPj4gMVxuICAgIGZvciAoaiA9IDM7IGogPiAwOyBqLS0pIHtcbiAgICAgIFZpW2pdID0gKFZpW2pdID4+PiAxKSB8ICgoVmlbaiAtIDFdICYgMSkgPDwgMzEpXG4gICAgfVxuICAgIFZpWzBdID0gVmlbMF0gPj4+IDFcblxuICAgIC8vIElmIExTQihWX2kpIGlzIDEsIFZfaSsxID0gKFZfaSA+PiAxKSBeIFJcbiAgICBpZiAobHNiX1ZpKSB7XG4gICAgICBWaVswXSA9IFZpWzBdIF4gKDB4ZTEgPDwgMjQpXG4gICAgfVxuICB9XG4gIHRoaXMuc3RhdGUgPSBmcm9tQXJyYXkoWmkpXG59XG5HSEFTSC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGJ1Zikge1xuICB0aGlzLmNhY2hlID0gQnVmZmVyLmNvbmNhdChbdGhpcy5jYWNoZSwgYnVmXSlcbiAgdmFyIGNodW5rXG4gIHdoaWxlICh0aGlzLmNhY2hlLmxlbmd0aCA+PSAxNikge1xuICAgIGNodW5rID0gdGhpcy5jYWNoZS5zbGljZSgwLCAxNilcbiAgICB0aGlzLmNhY2hlID0gdGhpcy5jYWNoZS5zbGljZSgxNilcbiAgICB0aGlzLmdoYXNoKGNodW5rKVxuICB9XG59XG5HSEFTSC5wcm90b3R5cGUuZmluYWwgPSBmdW5jdGlvbiAoYWJsLCBibCkge1xuICBpZiAodGhpcy5jYWNoZS5sZW5ndGgpIHtcbiAgICB0aGlzLmdoYXNoKEJ1ZmZlci5jb25jYXQoW3RoaXMuY2FjaGUsIHplcm9zXSwgMTYpKVxuICB9XG4gIHRoaXMuZ2hhc2goZnJvbUFycmF5KFtcbiAgICAwLCBhYmwsXG4gICAgMCwgYmxcbiAgXSkpXG4gIHJldHVybiB0aGlzLnN0YXRlXG59XG5cbmZ1bmN0aW9uIHRvQXJyYXkgKGJ1Zikge1xuICByZXR1cm4gW1xuICAgIGJ1Zi5yZWFkVUludDMyQkUoMCksXG4gICAgYnVmLnJlYWRVSW50MzJCRSg0KSxcbiAgICBidWYucmVhZFVJbnQzMkJFKDgpLFxuICAgIGJ1Zi5yZWFkVUludDMyQkUoMTIpXG4gIF1cbn1cbmZ1bmN0aW9uIGZyb21BcnJheSAob3V0KSB7XG4gIG91dCA9IG91dC5tYXAoZml4dXBfdWludDMyKVxuICB2YXIgYnVmID0gbmV3IEJ1ZmZlcigxNilcbiAgYnVmLndyaXRlVUludDMyQkUob3V0WzBdLCAwKVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbMV0sIDQpXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFsyXSwgOClcbiAgYnVmLndyaXRlVUludDMyQkUob3V0WzNdLCAxMilcbiAgcmV0dXJuIGJ1ZlxufVxudmFyIHVpbnRfbWF4ID0gTWF0aC5wb3coMiwgMzIpXG5mdW5jdGlvbiBmaXh1cF91aW50MzIgKHgpIHtcbiAgdmFyIHJldCwgeF9wb3NcbiAgcmV0ID0geCA+IHVpbnRfbWF4IHx8IHggPCAwID8gKHhfcG9zID0gTWF0aC5hYnMoeCkgJSB1aW50X21heCwgeCA8IDAgPyB1aW50X21heCAtIHhfcG9zIDogeF9wb3MpIDogeFxuICByZXR1cm4gcmV0XG59XG5mdW5jdGlvbiB4b3IgKGEsIGIpIHtcbiAgcmV0dXJuIFtcbiAgICBhWzBdIF4gYlswXSxcbiAgICBhWzFdIF4gYlsxXSxcbiAgICBhWzJdIF4gYlsyXSxcbiAgICBhWzNdIF4gYlszXVxuICBdXG59XG4iXX0=
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js"}],"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/crypto-browserify/node_modules/browserify-cipher/node_modules/browserify-aes/aes.js":[function(require,module,exports){
(function (Buffer){
// based on the aes implimentation in triple sec
// https://github.com/keybase/triplesec

// which is in turn based on the one from crypto-js
// https://code.google.com/p/crypto-js/

var uint_max = Math.pow(2, 32)
function fixup_uint32 (x) {
  var ret, x_pos
  ret = x > uint_max || x < 0 ? (x_pos = Math.abs(x) % uint_max, x < 0 ? uint_max - x_pos : x_pos) : x
  return ret
}
function scrub_vec (v) {
  for (var i = 0; i < v.length; v++) {
    v[i] = 0
  }
  return false
}

function Global () {
  this.SBOX = []
  this.INV_SBOX = []
  this.SUB_MIX = [[], [], [], []]
  this.INV_SUB_MIX = [[], [], [], []]
  this.init()
  this.RCON = [0x00, 0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80, 0x1b, 0x36]
}

Global.prototype.init = function () {
  var d, i, sx, t, x, x2, x4, x8, xi, _i
  d = (function () {
    var _i, _results
    _results = []
    for (i = _i = 0; _i < 256; i = ++_i) {
      if (i < 128) {
        _results.push(i << 1)
      } else {
        _results.push((i << 1) ^ 0x11b)
      }
    }
    return _results
  })()
  x = 0
  xi = 0
  for (i = _i = 0; _i < 256; i = ++_i) {
    sx = xi ^ (xi << 1) ^ (xi << 2) ^ (xi << 3) ^ (xi << 4)
    sx = (sx >>> 8) ^ (sx & 0xff) ^ 0x63
    this.SBOX[x] = sx
    this.INV_SBOX[sx] = x
    x2 = d[x]
    x4 = d[x2]
    x8 = d[x4]
    t = (d[sx] * 0x101) ^ (sx * 0x1010100)
    this.SUB_MIX[0][x] = (t << 24) | (t >>> 8)
    this.SUB_MIX[1][x] = (t << 16) | (t >>> 16)
    this.SUB_MIX[2][x] = (t << 8) | (t >>> 24)
    this.SUB_MIX[3][x] = t
    t = (x8 * 0x1010101) ^ (x4 * 0x10001) ^ (x2 * 0x101) ^ (x * 0x1010100)
    this.INV_SUB_MIX[0][sx] = (t << 24) | (t >>> 8)
    this.INV_SUB_MIX[1][sx] = (t << 16) | (t >>> 16)
    this.INV_SUB_MIX[2][sx] = (t << 8) | (t >>> 24)
    this.INV_SUB_MIX[3][sx] = t
    if (x === 0) {
      x = xi = 1
    } else {
      x = x2 ^ d[d[d[x8 ^ x2]]]
      xi ^= d[d[xi]]
    }
  }
  return true
}

var G = new Global()

AES.blockSize = 4 * 4

AES.prototype.blockSize = AES.blockSize

AES.keySize = 256 / 8

AES.prototype.keySize = AES.keySize

function bufferToArray (buf) {
  var len = buf.length / 4
  var out = new Array(len)
  var i = -1
  while (++i < len) {
    out[i] = buf.readUInt32BE(i * 4)
  }
  return out
}
function AES (key) {
  this._key = bufferToArray(key)
  this._doReset()
}

AES.prototype._doReset = function () {
  var invKsRow, keySize, keyWords, ksRow, ksRows, t
  keyWords = this._key
  keySize = keyWords.length
  this._nRounds = keySize + 6
  ksRows = (this._nRounds + 1) * 4
  this._keySchedule = []
  for (ksRow = 0; ksRow < ksRows; ksRow++) {
    this._keySchedule[ksRow] = ksRow < keySize ? keyWords[ksRow] : (t = this._keySchedule[ksRow - 1], (ksRow % keySize) === 0 ? (t = (t << 8) | (t >>> 24), t = (G.SBOX[t >>> 24] << 24) | (G.SBOX[(t >>> 16) & 0xff] << 16) | (G.SBOX[(t >>> 8) & 0xff] << 8) | G.SBOX[t & 0xff], t ^= G.RCON[(ksRow / keySize) | 0] << 24) : keySize > 6 && ksRow % keySize === 4 ? t = (G.SBOX[t >>> 24] << 24) | (G.SBOX[(t >>> 16) & 0xff] << 16) | (G.SBOX[(t >>> 8) & 0xff] << 8) | G.SBOX[t & 0xff] : void 0, this._keySchedule[ksRow - keySize] ^ t)
  }
  this._invKeySchedule = []
  for (invKsRow = 0; invKsRow < ksRows; invKsRow++) {
    ksRow = ksRows - invKsRow
    t = this._keySchedule[ksRow - (invKsRow % 4 ? 0 : 4)]
    this._invKeySchedule[invKsRow] = invKsRow < 4 || ksRow <= 4 ? t : G.INV_SUB_MIX[0][G.SBOX[t >>> 24]] ^ G.INV_SUB_MIX[1][G.SBOX[(t >>> 16) & 0xff]] ^ G.INV_SUB_MIX[2][G.SBOX[(t >>> 8) & 0xff]] ^ G.INV_SUB_MIX[3][G.SBOX[t & 0xff]]
  }
  return true
}

AES.prototype.encryptBlock = function (M) {
  M = bufferToArray(new Buffer(M))
  var out = this._doCryptBlock(M, this._keySchedule, G.SUB_MIX, G.SBOX)
  var buf = new Buffer(16)
  buf.writeUInt32BE(out[0], 0)
  buf.writeUInt32BE(out[1], 4)
  buf.writeUInt32BE(out[2], 8)
  buf.writeUInt32BE(out[3], 12)
  return buf
}

AES.prototype.decryptBlock = function (M) {
  M = bufferToArray(new Buffer(M))
  var temp = [M[3], M[1]]
  M[1] = temp[0]
  M[3] = temp[1]
  var out = this._doCryptBlock(M, this._invKeySchedule, G.INV_SUB_MIX, G.INV_SBOX)
  var buf = new Buffer(16)
  buf.writeUInt32BE(out[0], 0)
  buf.writeUInt32BE(out[3], 4)
  buf.writeUInt32BE(out[2], 8)
  buf.writeUInt32BE(out[1], 12)
  return buf
}

AES.prototype.scrub = function () {
  scrub_vec(this._keySchedule)
  scrub_vec(this._invKeySchedule)
  scrub_vec(this._key)
}

AES.prototype._doCryptBlock = function (M, keySchedule, SUB_MIX, SBOX) {
  var ksRow, s0, s1, s2, s3, t0, t1, t2, t3

  s0 = M[0] ^ keySchedule[0]
  s1 = M[1] ^ keySchedule[1]
  s2 = M[2] ^ keySchedule[2]
  s3 = M[3] ^ keySchedule[3]
  ksRow = 4
  for (var round = 1; round < this._nRounds; round++) {
    t0 = SUB_MIX[0][s0 >>> 24] ^ SUB_MIX[1][(s1 >>> 16) & 0xff] ^ SUB_MIX[2][(s2 >>> 8) & 0xff] ^ SUB_MIX[3][s3 & 0xff] ^ keySchedule[ksRow++]
    t1 = SUB_MIX[0][s1 >>> 24] ^ SUB_MIX[1][(s2 >>> 16) & 0xff] ^ SUB_MIX[2][(s3 >>> 8) & 0xff] ^ SUB_MIX[3][s0 & 0xff] ^ keySchedule[ksRow++]
    t2 = SUB_MIX[0][s2 >>> 24] ^ SUB_MIX[1][(s3 >>> 16) & 0xff] ^ SUB_MIX[2][(s0 >>> 8) & 0xff] ^ SUB_MIX[3][s1 & 0xff] ^ keySchedule[ksRow++]
    t3 = SUB_MIX[0][s3 >>> 24] ^ SUB_MIX[1][(s0 >>> 16) & 0xff] ^ SUB_MIX[2][(s1 >>> 8) & 0xff] ^ SUB_MIX[3][s2 & 0xff] ^ keySchedule[ksRow++]
    s0 = t0
    s1 = t1
    s2 = t2
    s3 = t3
  }
  t0 = ((SBOX[s0 >>> 24] << 24) | (SBOX[(s1 >>> 16) & 0xff] << 16) | (SBOX[(s2 >>> 8) & 0xff] << 8) | SBOX[s3 & 0xff]) ^ keySchedule[ksRow++]
  t1 = ((SBOX[s1 >>> 24] << 24) | (SBOX[(s2 >>> 16) & 0xff] << 16) | (SBOX[(s3 >>> 8) & 0xff] << 8) | SBOX[s0 & 0xff]) ^ keySchedule[ksRow++]
  t2 = ((SBOX[s2 >>> 24] << 24) | (SBOX[(s3 >>> 16) & 0xff] << 16) | (SBOX[(s0 >>> 8) & 0xff] << 8) | SBOX[s1 & 0xff]) ^ keySchedule[ksRow++]
  t3 = ((SBOX[s3 >>> 24] << 24) | (SBOX[(s0 >>> 16) & 0xff] << 16) | (SBOX[(s1 >>> 8) & 0xff] << 8) | SBOX[s2 & 0xff]) ^ keySchedule[ksRow++]
  return [
    fixup_uint32(t0),
    fixup_uint32(t1),
    fixup_uint32(t2),
    fixup_uint32(t3)
  ]
}

exports.AES = AES

}).call(this,require("buffer").Buffer)
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL2Flcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIi8vIGJhc2VkIG9uIHRoZSBhZXMgaW1wbGltZW50YXRpb24gaW4gdHJpcGxlIHNlY1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2tleWJhc2UvdHJpcGxlc2VjXG5cbi8vIHdoaWNoIGlzIGluIHR1cm4gYmFzZWQgb24gdGhlIG9uZSBmcm9tIGNyeXB0by1qc1xuLy8gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMvXG5cbnZhciB1aW50X21heCA9IE1hdGgucG93KDIsIDMyKVxuZnVuY3Rpb24gZml4dXBfdWludDMyICh4KSB7XG4gIHZhciByZXQsIHhfcG9zXG4gIHJldCA9IHggPiB1aW50X21heCB8fCB4IDwgMCA/ICh4X3BvcyA9IE1hdGguYWJzKHgpICUgdWludF9tYXgsIHggPCAwID8gdWludF9tYXggLSB4X3BvcyA6IHhfcG9zKSA6IHhcbiAgcmV0dXJuIHJldFxufVxuZnVuY3Rpb24gc2NydWJfdmVjICh2KSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdi5sZW5ndGg7IHYrKykge1xuICAgIHZbaV0gPSAwXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIEdsb2JhbCAoKSB7XG4gIHRoaXMuU0JPWCA9IFtdXG4gIHRoaXMuSU5WX1NCT1ggPSBbXVxuICB0aGlzLlNVQl9NSVggPSBbW10sIFtdLCBbXSwgW11dXG4gIHRoaXMuSU5WX1NVQl9NSVggPSBbW10sIFtdLCBbXSwgW11dXG4gIHRoaXMuaW5pdCgpXG4gIHRoaXMuUkNPTiA9IFsweDAwLCAweDAxLCAweDAyLCAweDA0LCAweDA4LCAweDEwLCAweDIwLCAweDQwLCAweDgwLCAweDFiLCAweDM2XVxufVxuXG5HbG9iYWwucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBkLCBpLCBzeCwgdCwgeCwgeDIsIHg0LCB4OCwgeGksIF9pXG4gIGQgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBfaSwgX3Jlc3VsdHNcbiAgICBfcmVzdWx0cyA9IFtdXG4gICAgZm9yIChpID0gX2kgPSAwOyBfaSA8IDI1NjsgaSA9ICsrX2kpIHtcbiAgICAgIGlmIChpIDwgMTI4KSB7XG4gICAgICAgIF9yZXN1bHRzLnB1c2goaSA8PCAxKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3Jlc3VsdHMucHVzaCgoaSA8PCAxKSBeIDB4MTFiKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX3Jlc3VsdHNcbiAgfSkoKVxuICB4ID0gMFxuICB4aSA9IDBcbiAgZm9yIChpID0gX2kgPSAwOyBfaSA8IDI1NjsgaSA9ICsrX2kpIHtcbiAgICBzeCA9IHhpIF4gKHhpIDw8IDEpIF4gKHhpIDw8IDIpIF4gKHhpIDw8IDMpIF4gKHhpIDw8IDQpXG4gICAgc3ggPSAoc3ggPj4+IDgpIF4gKHN4ICYgMHhmZikgXiAweDYzXG4gICAgdGhpcy5TQk9YW3hdID0gc3hcbiAgICB0aGlzLklOVl9TQk9YW3N4XSA9IHhcbiAgICB4MiA9IGRbeF1cbiAgICB4NCA9IGRbeDJdXG4gICAgeDggPSBkW3g0XVxuICAgIHQgPSAoZFtzeF0gKiAweDEwMSkgXiAoc3ggKiAweDEwMTAxMDApXG4gICAgdGhpcy5TVUJfTUlYWzBdW3hdID0gKHQgPDwgMjQpIHwgKHQgPj4+IDgpXG4gICAgdGhpcy5TVUJfTUlYWzFdW3hdID0gKHQgPDwgMTYpIHwgKHQgPj4+IDE2KVxuICAgIHRoaXMuU1VCX01JWFsyXVt4XSA9ICh0IDw8IDgpIHwgKHQgPj4+IDI0KVxuICAgIHRoaXMuU1VCX01JWFszXVt4XSA9IHRcbiAgICB0ID0gKHg4ICogMHgxMDEwMTAxKSBeICh4NCAqIDB4MTAwMDEpIF4gKHgyICogMHgxMDEpIF4gKHggKiAweDEwMTAxMDApXG4gICAgdGhpcy5JTlZfU1VCX01JWFswXVtzeF0gPSAodCA8PCAyNCkgfCAodCA+Pj4gOClcbiAgICB0aGlzLklOVl9TVUJfTUlYWzFdW3N4XSA9ICh0IDw8IDE2KSB8ICh0ID4+PiAxNilcbiAgICB0aGlzLklOVl9TVUJfTUlYWzJdW3N4XSA9ICh0IDw8IDgpIHwgKHQgPj4+IDI0KVxuICAgIHRoaXMuSU5WX1NVQl9NSVhbM11bc3hdID0gdFxuICAgIGlmICh4ID09PSAwKSB7XG4gICAgICB4ID0geGkgPSAxXG4gICAgfSBlbHNlIHtcbiAgICAgIHggPSB4MiBeIGRbZFtkW3g4IF4geDJdXV1cbiAgICAgIHhpIF49IGRbZFt4aV1dXG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbnZhciBHID0gbmV3IEdsb2JhbCgpXG5cbkFFUy5ibG9ja1NpemUgPSA0ICogNFxuXG5BRVMucHJvdG90eXBlLmJsb2NrU2l6ZSA9IEFFUy5ibG9ja1NpemVcblxuQUVTLmtleVNpemUgPSAyNTYgLyA4XG5cbkFFUy5wcm90b3R5cGUua2V5U2l6ZSA9IEFFUy5rZXlTaXplXG5cbmZ1bmN0aW9uIGJ1ZmZlclRvQXJyYXkgKGJ1Zikge1xuICB2YXIgbGVuID0gYnVmLmxlbmd0aCAvIDRcbiAgdmFyIG91dCA9IG5ldyBBcnJheShsZW4pXG4gIHZhciBpID0gLTFcbiAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgIG91dFtpXSA9IGJ1Zi5yZWFkVUludDMyQkUoaSAqIDQpXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuZnVuY3Rpb24gQUVTIChrZXkpIHtcbiAgdGhpcy5fa2V5ID0gYnVmZmVyVG9BcnJheShrZXkpXG4gIHRoaXMuX2RvUmVzZXQoKVxufVxuXG5BRVMucHJvdG90eXBlLl9kb1Jlc2V0ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaW52S3NSb3csIGtleVNpemUsIGtleVdvcmRzLCBrc1Jvdywga3NSb3dzLCB0XG4gIGtleVdvcmRzID0gdGhpcy5fa2V5XG4gIGtleVNpemUgPSBrZXlXb3Jkcy5sZW5ndGhcbiAgdGhpcy5fblJvdW5kcyA9IGtleVNpemUgKyA2XG4gIGtzUm93cyA9ICh0aGlzLl9uUm91bmRzICsgMSkgKiA0XG4gIHRoaXMuX2tleVNjaGVkdWxlID0gW11cbiAgZm9yIChrc1JvdyA9IDA7IGtzUm93IDwga3NSb3dzOyBrc1JvdysrKSB7XG4gICAgdGhpcy5fa2V5U2NoZWR1bGVba3NSb3ddID0ga3NSb3cgPCBrZXlTaXplID8ga2V5V29yZHNba3NSb3ddIDogKHQgPSB0aGlzLl9rZXlTY2hlZHVsZVtrc1JvdyAtIDFdLCAoa3NSb3cgJSBrZXlTaXplKSA9PT0gMCA/ICh0ID0gKHQgPDwgOCkgfCAodCA+Pj4gMjQpLCB0ID0gKEcuU0JPWFt0ID4+PiAyNF0gPDwgMjQpIHwgKEcuU0JPWFsodCA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKEcuU0JPWFsodCA+Pj4gOCkgJiAweGZmXSA8PCA4KSB8IEcuU0JPWFt0ICYgMHhmZl0sIHQgXj0gRy5SQ09OWyhrc1JvdyAvIGtleVNpemUpIHwgMF0gPDwgMjQpIDoga2V5U2l6ZSA+IDYgJiYga3NSb3cgJSBrZXlTaXplID09PSA0ID8gdCA9IChHLlNCT1hbdCA+Pj4gMjRdIDw8IDI0KSB8IChHLlNCT1hbKHQgPj4+IDE2KSAmIDB4ZmZdIDw8IDE2KSB8IChHLlNCT1hbKHQgPj4+IDgpICYgMHhmZl0gPDwgOCkgfCBHLlNCT1hbdCAmIDB4ZmZdIDogdm9pZCAwLCB0aGlzLl9rZXlTY2hlZHVsZVtrc1JvdyAtIGtleVNpemVdIF4gdClcbiAgfVxuICB0aGlzLl9pbnZLZXlTY2hlZHVsZSA9IFtdXG4gIGZvciAoaW52S3NSb3cgPSAwOyBpbnZLc1JvdyA8IGtzUm93czsgaW52S3NSb3crKykge1xuICAgIGtzUm93ID0ga3NSb3dzIC0gaW52S3NSb3dcbiAgICB0ID0gdGhpcy5fa2V5U2NoZWR1bGVba3NSb3cgLSAoaW52S3NSb3cgJSA0ID8gMCA6IDQpXVxuICAgIHRoaXMuX2ludktleVNjaGVkdWxlW2ludktzUm93XSA9IGludktzUm93IDwgNCB8fCBrc1JvdyA8PSA0ID8gdCA6IEcuSU5WX1NVQl9NSVhbMF1bRy5TQk9YW3QgPj4+IDI0XV0gXiBHLklOVl9TVUJfTUlYWzFdW0cuU0JPWFsodCA+Pj4gMTYpICYgMHhmZl1dIF4gRy5JTlZfU1VCX01JWFsyXVtHLlNCT1hbKHQgPj4+IDgpICYgMHhmZl1dIF4gRy5JTlZfU1VCX01JWFszXVtHLlNCT1hbdCAmIDB4ZmZdXVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbkFFUy5wcm90b3R5cGUuZW5jcnlwdEJsb2NrID0gZnVuY3Rpb24gKE0pIHtcbiAgTSA9IGJ1ZmZlclRvQXJyYXkobmV3IEJ1ZmZlcihNKSlcbiAgdmFyIG91dCA9IHRoaXMuX2RvQ3J5cHRCbG9jayhNLCB0aGlzLl9rZXlTY2hlZHVsZSwgRy5TVUJfTUlYLCBHLlNCT1gpXG4gIHZhciBidWYgPSBuZXcgQnVmZmVyKDE2KVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbMF0sIDApXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFsxXSwgNClcbiAgYnVmLndyaXRlVUludDMyQkUob3V0WzJdLCA4KVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbM10sIDEyKVxuICByZXR1cm4gYnVmXG59XG5cbkFFUy5wcm90b3R5cGUuZGVjcnlwdEJsb2NrID0gZnVuY3Rpb24gKE0pIHtcbiAgTSA9IGJ1ZmZlclRvQXJyYXkobmV3IEJ1ZmZlcihNKSlcbiAgdmFyIHRlbXAgPSBbTVszXSwgTVsxXV1cbiAgTVsxXSA9IHRlbXBbMF1cbiAgTVszXSA9IHRlbXBbMV1cbiAgdmFyIG91dCA9IHRoaXMuX2RvQ3J5cHRCbG9jayhNLCB0aGlzLl9pbnZLZXlTY2hlZHVsZSwgRy5JTlZfU1VCX01JWCwgRy5JTlZfU0JPWClcbiAgdmFyIGJ1ZiA9IG5ldyBCdWZmZXIoMTYpXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFswXSwgMClcbiAgYnVmLndyaXRlVUludDMyQkUob3V0WzNdLCA0KVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbMl0sIDgpXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFsxXSwgMTIpXG4gIHJldHVybiBidWZcbn1cblxuQUVTLnByb3RvdHlwZS5zY3J1YiA9IGZ1bmN0aW9uICgpIHtcbiAgc2NydWJfdmVjKHRoaXMuX2tleVNjaGVkdWxlKVxuICBzY3J1Yl92ZWModGhpcy5faW52S2V5U2NoZWR1bGUpXG4gIHNjcnViX3ZlYyh0aGlzLl9rZXkpXG59XG5cbkFFUy5wcm90b3R5cGUuX2RvQ3J5cHRCbG9jayA9IGZ1bmN0aW9uIChNLCBrZXlTY2hlZHVsZSwgU1VCX01JWCwgU0JPWCkge1xuICB2YXIga3NSb3csIHMwLCBzMSwgczIsIHMzLCB0MCwgdDEsIHQyLCB0M1xuXG4gIHMwID0gTVswXSBeIGtleVNjaGVkdWxlWzBdXG4gIHMxID0gTVsxXSBeIGtleVNjaGVkdWxlWzFdXG4gIHMyID0gTVsyXSBeIGtleVNjaGVkdWxlWzJdXG4gIHMzID0gTVszXSBeIGtleVNjaGVkdWxlWzNdXG4gIGtzUm93ID0gNFxuICBmb3IgKHZhciByb3VuZCA9IDE7IHJvdW5kIDwgdGhpcy5fblJvdW5kczsgcm91bmQrKykge1xuICAgIHQwID0gU1VCX01JWFswXVtzMCA+Pj4gMjRdIF4gU1VCX01JWFsxXVsoczEgPj4+IDE2KSAmIDB4ZmZdIF4gU1VCX01JWFsyXVsoczIgPj4+IDgpICYgMHhmZl0gXiBTVUJfTUlYWzNdW3MzICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICAgIHQxID0gU1VCX01JWFswXVtzMSA+Pj4gMjRdIF4gU1VCX01JWFsxXVsoczIgPj4+IDE2KSAmIDB4ZmZdIF4gU1VCX01JWFsyXVsoczMgPj4+IDgpICYgMHhmZl0gXiBTVUJfTUlYWzNdW3MwICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICAgIHQyID0gU1VCX01JWFswXVtzMiA+Pj4gMjRdIF4gU1VCX01JWFsxXVsoczMgPj4+IDE2KSAmIDB4ZmZdIF4gU1VCX01JWFsyXVsoczAgPj4+IDgpICYgMHhmZl0gXiBTVUJfTUlYWzNdW3MxICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICAgIHQzID0gU1VCX01JWFswXVtzMyA+Pj4gMjRdIF4gU1VCX01JWFsxXVsoczAgPj4+IDE2KSAmIDB4ZmZdIF4gU1VCX01JWFsyXVsoczEgPj4+IDgpICYgMHhmZl0gXiBTVUJfTUlYWzNdW3MyICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICAgIHMwID0gdDBcbiAgICBzMSA9IHQxXG4gICAgczIgPSB0MlxuICAgIHMzID0gdDNcbiAgfVxuICB0MCA9ICgoU0JPWFtzMCA+Pj4gMjRdIDw8IDI0KSB8IChTQk9YWyhzMSA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKFNCT1hbKHMyID4+PiA4KSAmIDB4ZmZdIDw8IDgpIHwgU0JPWFtzMyAmIDB4ZmZdKSBeIGtleVNjaGVkdWxlW2tzUm93KytdXG4gIHQxID0gKChTQk9YW3MxID4+PiAyNF0gPDwgMjQpIHwgKFNCT1hbKHMyID4+PiAxNikgJiAweGZmXSA8PCAxNikgfCAoU0JPWFsoczMgPj4+IDgpICYgMHhmZl0gPDwgOCkgfCBTQk9YW3MwICYgMHhmZl0pIF4ga2V5U2NoZWR1bGVba3NSb3crK11cbiAgdDIgPSAoKFNCT1hbczIgPj4+IDI0XSA8PCAyNCkgfCAoU0JPWFsoczMgPj4+IDE2KSAmIDB4ZmZdIDw8IDE2KSB8IChTQk9YWyhzMCA+Pj4gOCkgJiAweGZmXSA8PCA4KSB8IFNCT1hbczEgJiAweGZmXSkgXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICB0MyA9ICgoU0JPWFtzMyA+Pj4gMjRdIDw8IDI0KSB8IChTQk9YWyhzMCA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKFNCT1hbKHMxID4+PiA4KSAmIDB4ZmZdIDw8IDgpIHwgU0JPWFtzMiAmIDB4ZmZdKSBeIGtleVNjaGVkdWxlW2tzUm93KytdXG4gIHJldHVybiBbXG4gICAgZml4dXBfdWludDMyKHQwKSxcbiAgICBmaXh1cF91aW50MzIodDEpLFxuICAgIGZpeHVwX3VpbnQzMih0MiksXG4gICAgZml4dXBfdWludDMyKHQzKVxuICBdXG59XG5cbmV4cG9ydHMuQUVTID0gQUVTXG4iXX0=
},{"buffer":"/home/ubuntu/staging/apps/node_modules/browserify/node_modules/buffer/index.js"}],"/home/ubuntu/staging/apps/node_modules/seedrandom/lib/xorwow.js":[function(require,module,exports){
// A Javascript implementaion of the "xorwow" prng algorithm by
// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper

(function(global, module, define) {

function XorGen(seed) {
  var me = this, strseed = '';

  // Set up generator function.
  me.next = function() {
    var t = (me.x ^ (me.x >>> 2));
    me.x = me.y; me.y = me.z; me.z = me.w; me.w = me.v;
    return (me.d = (me.d + 362437 | 0)) +
       (me.v = (me.v ^ (me.v << 4)) ^ (t ^ (t << 1))) | 0;
  };

  me.x = 0;
  me.y = 0;
  me.z = 0;
  me.w = 0;
  me.v = 0;

  if (seed === (seed | 0)) {
    // Integer seed.
    me.x = seed;
  } else {
    // String seed.
    strseed += seed;
  }

  // Mix in string seed, then discard an initial batch of 64 values.
  for (var k = 0; k < strseed.length + 64; k++) {
    me.x ^= strseed.charCodeAt(k) | 0;
    if (k == strseed.length) {
      me.d = me.x << 10 ^ me.x >>> 4;
    }
    me.next();
  }
}

function copy(f, t) {
  t.x = f.x;
  t.y = f.y;
  t.z = f.z;
  t.w = f.w;
  t.v = f.v;
  t.d = f.d;
  return t;
}

function impl(seed, opts) {
  var xg = new XorGen(seed),
      state = opts && opts.state,
      prng = function() { return (xg.next() >>> 0) / 0x100000000; };
  prng.double = function() {
    do {
      var top = xg.next() >>> 11,
          bot = (xg.next() >>> 0) / 0x100000000,
          result = (top + bot) / (1 << 21);
    } while (result === 0);
    return result;
  };
  prng.int32 = xg.next;
  prng.quick = prng;
  if (state) {
    if (typeof(state) == 'object') copy(state, xg);
    prng.state = function() { return copy(xg, {}); }
  }
  return prng;
}

if (module && module.exports) {
  module.exports = impl;
} else if (define && define.amd) {
  define(function() { return impl; });
} else {
  this.xorwow = impl;
}

})(
  this,
  (typeof module) == 'object' && module,    // present in node.js
  (typeof define) == 'function' && define   // present with an AMD loader
);



},{}],"/home/ubuntu/staging/apps/node_modules/seedrandom/lib/xorshift7.js":[function(require,module,exports){
// A Javascript implementaion of the "xorshift7" algorithm by
// Franois Panneton and Pierre L'ecuyer:
// "On the Xorgshift Random Number Generators"
// http://saluc.engr.uconn.edu/refs/crypto/rng/panneton05onthexorshift.pdf

(function(global, module, define) {

function XorGen(seed) {
  var me = this;

  // Set up generator function.
  me.next = function() {
    // Update xor generator.
    var X = me.x, i = me.i, t, v, w;
    t = X[i]; t ^= (t >>> 7); v = t ^ (t << 24);
    t = X[(i + 1) & 7]; v ^= t ^ (t >>> 10);
    t = X[(i + 3) & 7]; v ^= t ^ (t >>> 3);
    t = X[(i + 4) & 7]; v ^= t ^ (t << 7);
    t = X[(i + 7) & 7]; t = t ^ (t << 13); v ^= t ^ (t << 9);
    X[i] = v;
    me.i = (i + 1) & 7;
    return v;
  };

  function init(me, seed) {
    var j, w, X = [];

    if (seed === (seed | 0)) {
      // Seed state array using a 32-bit integer.
      w = X[0] = seed;
    } else {
      // Seed state using a string.
      seed = '' + seed;
      for (j = 0; j < seed.length; ++j) {
        X[j & 7] = (X[j & 7] << 15) ^
            (seed.charCodeAt(j) + X[(j + 1) & 7] << 13);
      }
    }
    // Enforce an array length of 8, not all zeroes.
    while (X.length < 8) X.push(0);
    for (j = 0; j < 8 && X[j] === 0; ++j);
    if (j == 8) w = X[7] = -1; else w = X[j];

    me.x = X;
    me.i = 0;

    // Discard an initial 256 values.
    for (j = 256; j > 0; --j) {
      me.next();
    }
  }

  init(me, seed);
}

function copy(f, t) {
  t.x = f.x.slice();
  t.i = f.i;
  return t;
}

function impl(seed, opts) {
  if (seed == null) seed = +(new Date);
  var xg = new XorGen(seed),
      state = opts && opts.state,
      prng = function() { return (xg.next() >>> 0) / 0x100000000; };
  prng.double = function() {
    do {
      var top = xg.next() >>> 11,
          bot = (xg.next() >>> 0) / 0x100000000,
          result = (top + bot) / (1 << 21);
    } while (result === 0);
    return result;
  };
  prng.int32 = xg.next;
  prng.quick = prng;
  if (state) {
    if (state.x) copy(state, xg);
    prng.state = function() { return copy(xg, {}); }
  }
  return prng;
}

if (module && module.exports) {
  module.exports = impl;
} else if (define && define.amd) {
  define(function() { return impl; });
} else {
  this.xorshift7 = impl;
}

})(
  this,
  (typeof module) == 'object' && module,    // present in node.js
  (typeof define) == 'function' && define   // present with an AMD loader
);


},{}],"/home/ubuntu/staging/apps/node_modules/seedrandom/lib/xor4096.js":[function(require,module,exports){
// A Javascript implementaion of Richard Brent's Xorgens xor4096 algorithm.
//
// This fast non-cryptographic random number generator is designed for
// use in Monte-Carlo algorithms. It combines a long-period xorshift
// generator with a Weyl generator, and it passes all common batteries
// of stasticial tests for randomness while consuming only a few nanoseconds
// for each prng generated.  For background on the generator, see Brent's
// paper: "Some long-period random number generators using shifts and xors."
// http://arxiv.org/pdf/1104.3115.pdf
//
// Usage:
//
// var xor4096 = require('xor4096');
// random = xor4096(1);                        // Seed with int32 or string.
// assert.equal(random(), 0.1520436450538547); // (0, 1) range, 53 bits.
// assert.equal(random.int32(), 1806534897);   // signed int32, 32 bits.
//
// For nonzero numeric keys, this impelementation provides a sequence
// identical to that by Brent's xorgens 3 implementaion in C.  This
// implementation also provides for initalizing the generator with
// string seeds, or for saving and restoring the state of the generator.
//
// On Chrome, this prng benchmarks about 2.1 times slower than
// Javascript's built-in Math.random().

(function(global, module, define) {

function XorGen(seed) {
  var me = this;

  // Set up generator function.
  me.next = function() {
    var w = me.w,
        X = me.X, i = me.i, t, v;
    // Update Weyl generator.
    me.w = w = (w + 0x61c88647) | 0;
    // Update xor generator.
    v = X[(i + 34) & 127];
    t = X[i = ((i + 1) & 127)];
    v ^= v << 13;
    t ^= t << 17;
    v ^= v >>> 15;
    t ^= t >>> 12;
    // Update Xor generator array state.
    v = X[i] = v ^ t;
    me.i = i;
    // Result is the combination.
    return (v + (w ^ (w >>> 16))) | 0;
  };

  function init(me, seed) {
    var t, v, i, j, w, X = [], limit = 128;
    if (seed === (seed | 0)) {
      // Numeric seeds initialize v, which is used to generates X.
      v = seed;
      seed = null;
    } else {
      // String seeds are mixed into v and X one character at a time.
      seed = seed + '\0';
      v = 0;
      limit = Math.max(limit, seed.length);
    }
    // Initialize circular array and weyl value.
    for (i = 0, j = -32; j < limit; ++j) {
      // Put the unicode characters into the array, and shuffle them.
      if (seed) v ^= seed.charCodeAt((j + 32) % seed.length);
      // After 32 shuffles, take v as the starting w value.
      if (j === 0) w = v;
      v ^= v << 10;
      v ^= v >>> 15;
      v ^= v << 4;
      v ^= v >>> 13;
      if (j >= 0) {
        w = (w + 0x61c88647) | 0;     // Weyl.
        t = (X[j & 127] ^= (v + w));  // Combine xor and weyl to init array.
        i = (0 == t) ? i + 1 : 0;     // Count zeroes.
      }
    }
    // We have detected all zeroes; make the key nonzero.
    if (i >= 128) {
      X[(seed && seed.length || 0) & 127] = -1;
    }
    // Run the generator 512 times to further mix the state before using it.
    // Factoring this as a function slows the main generator, so it is just
    // unrolled here.  The weyl generator is not advanced while warming up.
    i = 127;
    for (j = 4 * 128; j > 0; --j) {
      v = X[(i + 34) & 127];
      t = X[i = ((i + 1) & 127)];
      v ^= v << 13;
      t ^= t << 17;
      v ^= v >>> 15;
      t ^= t >>> 12;
      X[i] = v ^ t;
    }
    // Storing state as object members is faster than using closure variables.
    me.w = w;
    me.X = X;
    me.i = i;
  }

  init(me, seed);
}

function copy(f, t) {
  t.i = f.i;
  t.w = f.w;
  t.X = f.X.slice();
  return t;
};

function impl(seed, opts) {
  if (seed == null) seed = +(new Date);
  var xg = new XorGen(seed),
      state = opts && opts.state,
      prng = function() { return (xg.next() >>> 0) / 0x100000000; };
  prng.double = function() {
    do {
      var top = xg.next() >>> 11,
          bot = (xg.next() >>> 0) / 0x100000000,
          result = (top + bot) / (1 << 21);
    } while (result === 0);
    return result;
  };
  prng.int32 = xg.next;
  prng.quick = prng;
  if (state) {
    if (state.X) copy(state, xg);
    prng.state = function() { return copy(xg, {}); }
  }
  return prng;
}

if (module && module.exports) {
  module.exports = impl;
} else if (define && define.amd) {
  define(function() { return impl; });
} else {
  this.xor4096 = impl;
}

})(
  this,                                     // window object or global
  (typeof module) == 'object' && module,    // present in node.js
  (typeof define) == 'function' && define   // present with an AMD loader
);

},{}],"/home/ubuntu/staging/apps/node_modules/seedrandom/lib/xor128.js":[function(require,module,exports){
// A Javascript implementaion of the "xor128" prng algorithm by
// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper

(function(global, module, define) {

function XorGen(seed) {
  var me = this, strseed = '';

  me.x = 0;
  me.y = 0;
  me.z = 0;
  me.w = 0;

  // Set up generator function.
  me.next = function() {
    var t = me.x ^ (me.x << 11);
    me.x = me.y;
    me.y = me.z;
    me.z = me.w;
    return me.w ^= (me.w >>> 19) ^ t ^ (t >>> 8);
  };

  if (seed === (seed | 0)) {
    // Integer seed.
    me.x = seed;
  } else {
    // String seed.
    strseed += seed;
  }

  // Mix in string seed, then discard an initial batch of 64 values.
  for (var k = 0; k < strseed.length + 64; k++) {
    me.x ^= strseed.charCodeAt(k) | 0;
    me.next();
  }
}

function copy(f, t) {
  t.x = f.x;
  t.y = f.y;
  t.z = f.z;
  t.w = f.w;
  return t;
}

function impl(seed, opts) {
  var xg = new XorGen(seed),
      state = opts && opts.state,
      prng = function() { return (xg.next() >>> 0) / 0x100000000; };
  prng.double = function() {
    do {
      var top = xg.next() >>> 11,
          bot = (xg.next() >>> 0) / 0x100000000,
          result = (top + bot) / (1 << 21);
    } while (result === 0);
    return result;
  };
  prng.int32 = xg.next;
  prng.quick = prng;
  if (state) {
    if (typeof(state) == 'object') copy(state, xg);
    prng.state = function() { return copy(xg, {}); }
  }
  return prng;
}

if (module && module.exports) {
  module.exports = impl;
} else if (define && define.amd) {
  define(function() { return impl; });
} else {
  this.xor128 = impl;
}

})(
  this,
  (typeof module) == 'object' && module,    // present in node.js
  (typeof define) == 'function' && define   // present with an AMD loader
);



},{}],"/home/ubuntu/staging/apps/node_modules/seedrandom/lib/tychei.js":[function(require,module,exports){
// A Javascript implementaion of the "Tyche-i" prng algorithm by
// Samuel Neves and Filipe Araujo.
// See https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf

(function(global, module, define) {

function XorGen(seed) {
  var me = this, strseed = '';

  // Set up generator function.
  me.next = function() {
    var b = me.b, c = me.c, d = me.d, a = me.a;
    b = (b << 25) ^ (b >>> 7) ^ c;
    c = (c - d) | 0;
    d = (d << 24) ^ (d >>> 8) ^ a;
    a = (a - b) | 0;
    me.b = b = (b << 20) ^ (b >>> 12) ^ c;
    me.c = c = (c - d) | 0;
    me.d = (d << 16) ^ (c >>> 16) ^ a;
    return me.a = (a - b) | 0;
  };

  /* The following is non-inverted tyche, which has better internal
   * bit diffusion, but which is about 25% slower than tyche-i in JS.
  me.next = function() {
    var a = me.a, b = me.b, c = me.c, d = me.d;
    a = (me.a + me.b | 0) >>> 0;
    d = me.d ^ a; d = d << 16 ^ d >>> 16;
    c = me.c + d | 0;
    b = me.b ^ c; b = b << 12 ^ d >>> 20;
    me.a = a = a + b | 0;
    d = d ^ a; me.d = d = d << 8 ^ d >>> 24;
    me.c = c = c + d | 0;
    b = b ^ c;
    return me.b = (b << 7 ^ b >>> 25);
  }
  */

  me.a = 0;
  me.b = 0;
  me.c = 2654435769 | 0;
  me.d = 1367130551;

  if (seed === Math.floor(seed)) {
    // Integer seed.
    me.a = (seed / 0x100000000) | 0;
    me.b = seed | 0;
  } else {
    // String seed.
    strseed += seed;
  }

  // Mix in string seed, then discard an initial batch of 64 values.
  for (var k = 0; k < strseed.length + 20; k++) {
    me.b ^= strseed.charCodeAt(k) | 0;
    me.next();
  }
}

function copy(f, t) {
  t.a = f.a;
  t.b = f.b;
  t.c = f.c;
  t.d = f.d;
  return t;
};

function impl(seed, opts) {
  var xg = new XorGen(seed),
      state = opts && opts.state,
      prng = function() { return (xg.next() >>> 0) / 0x100000000; };
  prng.double = function() {
    do {
      var top = xg.next() >>> 11,
          bot = (xg.next() >>> 0) / 0x100000000,
          result = (top + bot) / (1 << 21);
    } while (result === 0);
    return result;
  };
  prng.int32 = xg.next;
  prng.quick = prng;
  if (state) {
    if (typeof(state) == 'object') copy(state, xg);
    prng.state = function() { return copy(xg, {}); }
  }
  return prng;
}

if (module && module.exports) {
  module.exports = impl;
} else if (define && define.amd) {
  define(function() { return impl; });
} else {
  this.tychei = impl;
}

})(
  this,
  (typeof module) == 'object' && module,    // present in node.js
  (typeof define) == 'function' && define   // present with an AMD loader
);



},{}],"/home/ubuntu/staging/apps/node_modules/seedrandom/lib/alea.js":[function(require,module,exports){
// A port of an algorithm by Johannes Baage <baagoe@baagoe.com>, 2010
// http://baagoe.com/en/RandomMusings/javascript/
// https://github.com/nquinlan/better-random-numbers-for-javascript-mirror
// Original work is under MIT license -

// Copyright (C) 2010 by Johannes Baage <baagoe@baagoe.org>
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
// 
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
// 
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.



(function(global, module, define) {

function Alea(seed) {
  var me = this, mash = Mash();

  me.next = function() {
    var t = 2091639 * me.s0 + me.c * 2.3283064365386963e-10; // 2^-32
    me.s0 = me.s1;
    me.s1 = me.s2;
    return me.s2 = t - (me.c = t | 0);
  };

  // Apply the seeding algorithm from Baagoe.
  me.c = 1;
  me.s0 = mash(' ');
  me.s1 = mash(' ');
  me.s2 = mash(' ');
  me.s0 -= mash(seed);
  if (me.s0 < 0) { me.s0 += 1; }
  me.s1 -= mash(seed);
  if (me.s1 < 0) { me.s1 += 1; }
  me.s2 -= mash(seed);
  if (me.s2 < 0) { me.s2 += 1; }
  mash = null;
}

function copy(f, t) {
  t.c = f.c;
  t.s0 = f.s0;
  t.s1 = f.s1;
  t.s2 = f.s2;
  return t;
}

function impl(seed, opts) {
  var xg = new Alea(seed),
      state = opts && opts.state,
      prng = xg.next;
  prng.int32 = function() { return (xg.next() * 0x100000000) | 0; }
  prng.double = function() {
    return prng() + (prng() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53
  };
  prng.quick = prng;
  if (state) {
    if (typeof(state) == 'object') copy(state, xg);
    prng.state = function() { return copy(xg, {}); }
  }
  return prng;
}

function Mash() {
  var n = 0xefc8249d;

  var mash = function(data) {
    data = data.toString();
    for (var i = 0; i < data.length; i++) {
      n += data.charCodeAt(i);
      var h = 0.02519603282416938 * n;
      n = h >>> 0;
      h -= n;
      h *= n;
      n = h >>> 0;
      h -= n;
      n += h * 0x100000000; // 2^32
    }
    return (n >>> 0) * 2.3283064365386963e-10; // 2^-32
  };

  return mash;
}


if (module && module.exports) {
  module.exports = impl;
} else if (define && define.amd) {
  define(function() { return impl; });
} else {
  this.alea = impl;
}

})(
  this,
  (typeof module) == 'object' && module,    // present in node.js
  (typeof define) == 'function' && define   // present with an AMD loader
);



},{}],"/home/ubuntu/staging/apps/build/js/netsim/NetSimConstants.js":[function(require,module,exports){
/**
 * @overview Constants and enums used across Internet Simulator.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
/* global exports */
'use strict';

/**
 * @type {number}
 * @const
 */
exports.BITS_PER_NIBBLE = 4;

/**
 * @type {number}
 * @const
 */
exports.BITS_PER_BYTE = 8;

/**
 * @type {number}
 * @const
 */
exports.BITS_PER_KILOBYTE = 1024 * exports.BITS_PER_BYTE;

/**
 * @type {number}
 * @const
 */
exports.BITS_PER_MEGABYTE = 1024 * exports.BITS_PER_KILOBYTE;

/**
 * @type {number}
 * @const
 */
exports.BITS_PER_GIGABYTE = 1024 * exports.BITS_PER_MEGABYTE;

/**
 * @type {number}
 * @const
 */
exports.BITS_PER_KILOBIT = 1024;

/**
 * @type {number}
 * @const
 */
exports.BITS_PER_MEGABIT = 1024 * exports.BITS_PER_KILOBIT;

/**
 * @type {number}
 * @const
 */
exports.BITS_PER_GIGABIT = 1024 * exports.BITS_PER_MEGABIT;

/**
 * Types of nodes that can show up in the simulation.
 * @enum {string}
 */
exports.NodeType = {
  CLIENT: 'client',
  ROUTER: 'router'
};

/**
 * What type of message makes up the 'atom' of communication for this
 * simulator mode - single-bit messages (variant 1) or whole packets (variants
 * 2 and up)
 * @enum {string}
 */
exports.MessageGranularity = {
  PACKETS: 'packets',
  BITS: 'bits'
};

/**
 * DNS modes for the simulator.  Only applies in variant 3, when connecting
 * to a router.
 * @enum {string}
 */
exports.DnsMode = {
  /** There is no DNS node.  Everyone can see every other node's address. */
  NONE: 'none',

  /** One user acts as the DNS node at a time.  Everyone can see their own
   *  address and the DNS node's address, but nothing else. */
  MANUAL: 'manual',

  /** An automatic DNS node is added to the simulation.  Nodes are automatically
   *  registered with the DNS on connection. */
  AUTOMATIC: 'automatic'
};

/**
 * Encodings that can be used to interpret and display binary messages in
 * the simulator.
 * Map to class-names that can be applied to related table rows.
 * @enum {string}
 */
exports.EncodingType = {
  /** Renders each chunk of bits (using variable chunksize) in ascii */
  ASCII: 'ascii',

  /** Renders each chunk of bits (using variable chunksize) in decimal */
  DECIMAL: 'decimal',

  /** Renders each binary nibble as a hex character. */
  HEXADECIMAL: 'hexadecimal',

  /** All packet data is actually stored and moved around in binary, so
   *  the 'binary' encoding just represents access to that raw data. */
  BINARY: 'binary',

  /** An encoding used early in the lessons to show that binary isn't always
   *  1s and 0s.  Just like binary, but replaces 1/0 with A/B. */
  A_AND_B: 'a_and_b'
};

/**
 * Enumeration of tabs for level configuration
 * @enum {string}
 */
exports.NetSimTabType = {
  INSTRUCTIONS: 'instructions',
  MY_DEVICE: 'my_device',
  ROUTER: 'router',
  DNS: 'dns'
};

/**
 * Column types that can be used any time a packet is displayed on the page.
 * Related to Packet.HeaderType, but different because this includes columns
 * that aren't part of the header, and groups the packetInfo together.
 * Map to class-names that can be applied to related table cells.
 * @enum {string}
 */
exports.PacketUIColumnType = {
  ENCODING_LABEL: 'encodingLabel',
  TO_ADDRESS: 'toAddress',
  FROM_ADDRESS: 'fromAddress',
  PACKET_INFO: 'packetInfo',
  MESSAGE: 'message'
};

},{}],"/home/ubuntu/staging/apps/build/js/netsim/DashboardUser.js":[function(require,module,exports){
/**
 * @overview Interface to dashboard user data API.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

/**
 * @typedef {Object} Section
 * @property {number} id - Section's numeric identifier in Dashboard.
 */

// TODO (bbuchanan): This whole file should go away when we have a shared
//                   Javascript User object that can be available on page load.

/**
 * Represents a Dashboard user account - could be a teacher, a student, etc.
 * @constructor
 */
var DashboardUser = module.exports = function () {
  /**
   * Indicates whether the async call has completed yet.
   * @type {boolean}
   */
  this.isReady = false;

  /**
   * Queue of callbacks to hit when this object gets initialized.
   * @type {function[]}
   * @private
   */
  this.whenReadyCallbacks_ = [];

  /**
   * User ID
   * @type {number}
   */
  this.id = undefined;

  /**
   * User display name
   * @type {string}
   */
  this.name = "";

  /**
   * Whether the user is a site admin.
   * NOTE: This should only be used in a convenience/display sense; anything
   *       requiring actual security should be authenticated through the server,
   *       and not depend on client code.
   * @type {boolean}
   */
  this.isAdmin = false;

  /**
   * List of sections owned by this user.
   * @type {Section[]}
   */
  this.ownedSections = [];
};

/**
 * @type {DashboardUser}
 * @private
 * @static
 */
DashboardUser.currentUser_ = null;

/**
 * Kick of an asynchronous request for the current user's data, and immediately
 * pass back a placeholder object that has a whenReady method others can
 * use to guarantee the data is present.
 *
 * @return {DashboardUser} that doesn't have its data yet, but will soon.
 */
DashboardUser.getCurrentUser = function () {
  if (!DashboardUser.currentUser_) {
    DashboardUser.currentUser_ = new DashboardUser();
    $.ajax({
      url: '/v2/user',
      type: 'get',
      dataType: 'json',
      success: function success(data /*, textStatus, jqXHR*/) {
        DashboardUser.currentUser_.initialize(data);
      },
      error: function error() /*jqXHR, textStatus, errorThrown*/{
        DashboardUser.currentUser_.initialize({
          isSignedIn: false
        });
      }
    });
  }
  return DashboardUser.currentUser_;
};

/**
 * Load data into user from async request, when ready.
 * @param data
 */
DashboardUser.prototype.initialize = function (data) {
  this.id = data.id;
  this.name = data.name;
  this.isAdmin = data.admin === true;
  this.ownedSections = data.owned_sections;
  this.isSignedIn = data.isSignedIn !== false;
  this.isReady = true;

  // Call any queued callbacks
  this.whenReadyCallbacks_.forEach((function (callback) {
    callback(this);
  }).bind(this));
  this.whenReadyCallbacks_.length = 0;
};

/**
 * Provide code to be called when this object is ready to use
 * Possible for it to be called immediately.
 * @param {!function} callback
 */
DashboardUser.prototype.whenReady = function (callback) {
  if (this.isReady) {
    callback(this);
  } else {
    this.whenReadyCallbacks_.push(callback);
  }
};

/**
 * Check whether the current user owns the section with the given section ID.
 * @param {number} sectionID
 * @returns {boolean}
 */
DashboardUser.prototype.ownsSection = function (sectionID) {
  return this.ownedSections.some(function (section) {
    return section.id === sectionID;
  });
};

},{}],"/home/ubuntu/staging/apps/build/js/netsim/ArgumentUtils.js":[function(require,module,exports){
/**
 * @overview Utilities for validating and retrieving arguments to a method.
 */
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
'use strict';

/**
 * Makes sure the given argument is provided and passes the validation check.
 * @param {?} arg - the argument to validate
 * @param {!string} argName - Argument name (for useful error reporting)
 * @param {function(?)} [validator] - validation check to run on the argument.
 *        Defaults to no check (anything passes).
 * @returns {?} the original argument.
 * @throws {TypeError} if the argument is missing or invalid.
 */
exports.validateRequired = function (arg, argName, validator) {
  if (undefined === arg) {
    throw new TypeError(argName + ' is required.');
  } else if (typeof validator === 'function' && !validator(arg)) {
    throw new TypeError('Cannot set ' + argName + ' to ' + arg + '.');
  }
  return arg;
};

/**
 * Adds an option getter to the provided options Object that validates
 * the passed arguments and can provide default values.
 * @param {Object} optionsObject - the raw options object.  May be passed
 *        undefined (as in an omitted options object) but must not be null
 *        or a non-object type.  Not modified.
 * @returns {Object} that includes a `get` method.  Will be an object
 *          even if original optionsObject argument was undefined.
 * @throws {TypeError} if a non-object is passed to the constructor.
 * @throws {Error} if extending the object would overwrite an existing property.
 */
exports.extendOptionsObject = function (optionsObject) {
  // Allow `undefined` and all objects except for `null`
  var isUndefined = optionsObject === undefined;
  var isRealObject = typeof optionsObject === 'object' && optionsObject !== null;
  if (!(isUndefined || isRealObject)) {
    throw new TypeError('Options object must be an object.');
  }

  if (optionsObject && optionsObject.hasOwnProperty('get')) {
    throw new Error('Cannot extend options; property "get" would be overwritten.');
  }

  return $.extend({}, optionsObject, {
    /**
     * Retrieve an optional value from the options object, passing it through the
     * provided validation function, and returning the given default value if
     * the requested option was not set.
     * @param {!string} optionKey - name of the option in the raw options object.
     * @param {function(?)} [validator] - validation check to run on the value,
     *        if it has been set.  Should return TRUE if valid and FALSE otherwise.
     *        Defaults to no check (anything passes).
     * @param {?} [defaultValue] - What to return if the option was not set.
     *        Defaults to `undefined`.
     * @returns {?} The value of the option if it was set, and the provided
     *          default value if it was not set.
     * @throws {TypeError} if the validator function returns FALSE when called
     *         on the option value.
     */
    get: function get(optionKey, validator, defaultValue) {
      if (!optionsObject || optionsObject[optionKey] === undefined) {
        return defaultValue;
      }

      if (typeof validator === 'function' && !validator(optionsObject[optionKey])) {
        throw new TypeError('Cannot set ' + optionKey + ' to ' + optionsObject[optionKey] + '.');
      }

      return optionsObject[optionKey];
    }
  });
};

/**
 * Validator function that verifies that the argument is a number, is
 * greater than or equal to zero, and is not Infinity.
 * @param arg
 * @returns {boolean} TRUE if provided argument is valid.
 * @static
 */
exports.isPositiveNoninfiniteNumber = function (arg) {
  return typeof arg === 'number' && !isNaN(arg) && arg >= 0 && arg !== Infinity;
};

/**
 * Validator function that verifies that the argument is a number, is
 * greater than or equal to zero, and is not Infinity.
 * @param {?} arg
 * @returns {boolean} TRUE if provided argument is valid.
 * @static
 */
exports.isBoolean = function (arg) {
  return typeof arg === 'boolean';
};

/**
 * Validator function that verifies that the argument is a string.
 * @param {?} arg
 * @returns {boolean} TRUE if provided argument is valid.
 * @static
 */
exports.isString = function (arg) {
  return typeof arg === 'string';
};

/**
 * Validator function that verifies the argument is an array.
 * Sure this seems redundant, but included here for discoverability.
 * @param {?} arg
 * @returns {boolean} TRUE if the provided argument is an array.
 */
exports.isArray = function (arg) {
  return Array.isArray(arg);
};

/**
 * Validator function that verifies that argument is an array of strings.
 * @param {?} arg
 * @returns {boolean} TRUE if provided argument is an array and every element
 *          in the array is a string.
 * @static
 */
exports.isArrayOfStrings = function (arg) {
  return Array.isArray(arg) && arg.every(exports.isString);
};

},{}],"/home/ubuntu/staging/apps/build/js/RunLoop.js":[function(require,module,exports){
// Strict linting: Absorb into global config when possible
/* jshint
 unused: true,
 eqeqeq: true,
 maxlen: 120
 */
/* global window */
'use strict';

var ObservableEvent = require('./ObservableEvent');

// It is more accurate to use performance.now(), but we use Date.now()
// for compatibility with Safari and older browsers. This should only cause
// a small error in the deltaTime for the initial frame anyway.
// See Also:
// * https://developer.mozilla.org/en-US/docs/Web/API/window.requestAnimationFrame
// * https://developer.mozilla.org/en-US/docs/Web/API/Performance.now
var windowNow = window.performance && window.performance.now ? window.performance.now.bind(window.performance) : Date.now;

/**
 * How many ticks we try to fire every second.
 * @type {number}
 * @const
 */
var PREFERRED_TICKS_PER_SECOND = 10;

/**
 * Precalculated milliseconds per tick.
 * @type {number}
 * @const
 */
var PREFERRED_MS_PER_TICK = 1000 / PREFERRED_TICKS_PER_SECOND;

/**
 * Rendered frames per second on older browsers where we can't lock to the
 * repaint event.
 * @type {number}
 * @const
 */
var FALLBACK_FPS = 30;

/**
 * Precalculated milliseconds per frame for fallback case
 * @type {number}
 * @const
 */
var FALLBACK_MS_PER_FRAME = 1000 / FALLBACK_FPS;

/**
 * Simple run-loop manager
 * @constructor
 */
var RunLoop = module.exports = function () {

  /**
   * Whether the run-loop will continue running.
   * @type {boolean}
   */
  this.enabled = false;

  /**
   * Tracks current time and delta time for the tick loop.
   * Passed to observers when events fire.
   * @type {RunLoop.Clock}
   */
  this.tickClock = new RunLoop.Clock();

  /**
   * Tracks current time and delta time for the render loop.
   * Passed to observers when events fire.
   * @type {RunLoop.Clock}
   */
  this.renderClock = new RunLoop.Clock();

  /**
   * Method that gets called over and over, regardless of whether NetSim
   * is in focus or not.  Called less often than render().  Can be slowed
   * to about once per second when NetSim is in the background.
   * @type {Function}
   * @private
   */
  this.tick_ = this.buildTickMethod_();

  /**
   * Method that gets called over and over when NetSim is visible.  Gets as
   * close to maximum framerate as possible.  Called more often than tick(), but
   * can be paused entirely when NetSim is in the background.
   * @type {Function}
   * @private
   */
  this.render_ = this.buildRenderMethod_();

  /**  @type {ObservableEvent} */
  this.tick = new ObservableEvent();

  /** @type {ObservableEvent} */
  this.render = new ObservableEvent();
};

/**
 * Simple tracking for time values
 * @constructor
 */
RunLoop.Clock = function () {
  /**
   * Time the current/most recent tick started, in ms.
   * Depending on browser this might be epoch time or time since load -
   *  therefore, don't use for absolute time!
   * @type {number}
   */
  this.time = windowNow();

  /**
   * Time in ms between the latest/current tick and the previous tick.
   * Precision dependent on browser capabilities.
   * @type {number}
   */
  this.deltaTime = 0;
};

RunLoop.prototype.buildTickMethod_ = function () {
  var tickMethod;
  var self = this;
  tickMethod = function () {
    if (self.enabled) {
      var curTime = windowNow();
      self.tickClock.deltaTime = curTime - self.tickClock.time;
      self.tickClock.time = curTime;
      self.tick.notifyObservers(self.tickClock);
      setTimeout(tickMethod, PREFERRED_MS_PER_TICK - self.tickClock.deltaTime);
    }
  };
  return tickMethod;
};

RunLoop.prototype.buildRenderMethod_ = function () {
  var renderMethod;
  var self = this;
  if (window.requestAnimationFrame) {
    renderMethod = function (hiResTimeStamp) {
      if (self.enabled) {
        self.renderClock.deltaTime = hiResTimeStamp - self.renderClock.time;
        self.renderClock.time = hiResTimeStamp;
        self.render.notifyObservers(self.renderClock);
        requestAnimationFrame(renderMethod);
      }
    };
  } else {
    renderMethod = function () {
      if (self.enabled) {
        var curTime = windowNow();
        self.renderClock.deltaTime = curTime - self.renderClock.time;
        self.renderClock.time = curTime;
        self.render.notifyObservers(self.renderClock);
        setTimeout(renderMethod, FALLBACK_MS_PER_FRAME - self.renderClock.deltaTime);
      }
    };
  }
  return renderMethod;
};

/** Start the run loop (runs immediately) */
RunLoop.prototype.begin = function () {
  this.enabled = true;
  this.tickClock.time = windowNow();
  this.renderClock.time = windowNow();
  this.tick_(this.tickClock.time);
  this.render_(this.renderClock.time);
};

/**
 * Stop the run loop
 * If in the middle of a tick, will finish the current tick.
 * If called by an event between ticks, will prevent the next tick from firing.
 */
RunLoop.prototype.end = function () {
  this.enabled = false;
};

},{"./ObservableEvent":"/home/ubuntu/staging/apps/build/js/ObservableEvent.js"}]},{},["/home/ubuntu/staging/apps/build/js/netsim/main.js"])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9mYWN0b3ItYnVuZGxlL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJidWlsZC9qcy9uZXRzaW0vbWFpbi5qcyIsImJ1aWxkL2pzL25ldHNpbS9za2lucy5qcyIsImJ1aWxkL2pzL25ldHNpbS9uZXRzaW0uanMiLCJidWlsZC9qcy9uZXRzaW0vcGFnZS5odG1sLmVqcyIsImJ1aWxkL2pzL25ldHNpbS9sZXZlbHMuanMiLCJidWlsZC9qcy9uZXRzaW0vY29udHJvbHMuaHRtbC5lanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltVmlzdWFsaXphdGlvbi5qcyIsImJ1aWxkL2pzL25ldHNpbS9OZXRTaW1WaXpTaW11bGF0aW9uV2lyZS5qcyIsImJ1aWxkL2pzL25ldHNpbS9OZXRTaW1WaXpXaXJlLmpzIiwiYnVpbGQvanMvbmV0c2ltL05ldFNpbVZpelNpbXVsYXRpb25Ob2RlLmpzIiwiYnVpbGQvanMvbmV0c2ltL05ldFNpbVZpekF1dG9EbnNOb2RlLmpzIiwiYnVpbGQvanMvbmV0c2ltL05ldFNpbVZpek5vZGUuanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltVml6RWxlbWVudC5qcyIsImJ1aWxkL2pzL25ldHNpbS90d2VlbnMuanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltVmlzdWFsaXphdGlvbi5odG1sLmVqcyIsImJ1aWxkL2pzL25ldHNpbS9OZXRTaW1UYWJzQ29tcG9uZW50LmpzIiwiYnVpbGQvanMvbmV0c2ltL05ldFNpbVRhYnNDb21wb25lbnQuaHRtbC5lanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltU3RhdHVzUGFuZWwuanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltU3RhdHVzUGFuZWwuaHRtbC5lanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltU2hhcmQuanMiLCJidWlsZC9qcy9uZXRzaW0vUHViU3ViU2VydmljZS5qcyIsImJ1aWxkL2pzL25ldHNpbS9QdWJTdWJDaGFubmVsLmpzIiwiYnVpbGQvanMvbmV0c2ltL05ldFNpbVRhYmxlLmpzIiwiYnVpbGQvanMvbmV0c2ltL05ldFNpbVNlbmRQYW5lbC5qcyIsImJ1aWxkL2pzL25ldHNpbS9OZXRTaW1TZW5kUGFuZWwuaHRtbC5lanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltUm91dGVyVGFiLmpzIiwiYnVpbGQvanMvbmV0c2ltL05ldFNpbVJvdXRlclRhYi5odG1sLmVqcyIsImJ1aWxkL2pzL25ldHNpbS9OZXRTaW1Sb3V0ZXJTdGF0c1RhYmxlLmpzIiwiYnVpbGQvanMvbmV0c2ltL05ldFNpbVJvdXRlclN0YXRzVGFibGUuaHRtbC5lanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltUm91dGVyTG9nTW9kYWwuanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltUm91dGVyTG9nTW9kYWwuaHRtbC5lanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltUGFja2V0U2l6ZUNvbnRyb2wuanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltUGFja2V0RWRpdG9yLmpzIiwiYnVpbGQvanMvbmV0c2ltL05ldFNpbVBhY2tldEVkaXRvci5odG1sLmVqcyIsImJ1aWxkL2pzL25ldHNpbS9OZXRTaW1NeURldmljZVRhYi5qcyIsImJ1aWxkL2pzL25ldHNpbS9OZXRTaW1QdWxzZVJhdGVDb250cm9sLmpzIiwiYnVpbGQvanMvbmV0c2ltL05ldFNpbU15RGV2aWNlVGFiLmh0bWwuZWpzIiwiYnVpbGQvanMvbmV0c2ltL05ldFNpbU1ldHJvbm9tZS5qcyIsImJ1aWxkL2pzL25ldHNpbS9OZXRTaW1NZXRyb25vbWUuaHRtbC5lanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltTWVtb3J5Q29udHJvbC5qcyIsImJ1aWxkL2pzL25ldHNpbS9OZXRTaW1Mb2dQYW5lbC5qcyIsImJ1aWxkL2pzL25ldHNpbS9OZXRTaW1Mb2dQYW5lbC5odG1sLmVqcyIsImJ1aWxkL2pzL25ldHNpbS9OZXRTaW1Mb2dQYWNrZXQuaHRtbC5lanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltTG9jYWxDbGllbnROb2RlLmpzIiwiYnVpbGQvanMvbmV0c2ltL05ldFNpbUxvYmJ5LmpzIiwiYnVpbGQvanMvbmV0c2ltL05ldFNpbVNoYXJkU2VsZWN0aW9uUGFuZWwuanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltU2hhcmRTZWxlY3Rpb25QYW5lbC5odG1sLmVqcyIsImJ1aWxkL2pzL25ldHNpbS9OZXRTaW1SZW1vdGVOb2RlU2VsZWN0aW9uUGFuZWwuanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltUmVtb3RlTm9kZVNlbGVjdGlvblBhbmVsLmh0bWwuZWpzIiwiYnVpbGQvanMvbmV0c2ltL05ldFNpbU5vZGVGYWN0b3J5LmpzIiwiYnVpbGQvanMvbmV0c2ltL05ldFNpbVJvdXRlck5vZGUuanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltTWVzc2FnZS5qcyIsImJ1aWxkL2pzL25ldHNpbS9OZXRTaW1Mb2dFbnRyeS5qcyIsIm5vZGVfbW9kdWxlcy9tb21lbnQvbW9tZW50LmpzIiwiYnVpbGQvanMvbmV0c2ltL1BhY2tldC5qcyIsImJ1aWxkL2pzL25ldHNpbS9OZXRTaW1EbnNUYWIuanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltRG5zVGFibGUuanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltRG5zVGFibGUuaHRtbC5lanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltRG5zVGFiLmh0bWwuZWpzIiwiYnVpbGQvanMvbmV0c2ltL05ldFNpbURuc01vZGVDb250cm9sLmpzIiwiYnVpbGQvanMvbmV0c2ltL05ldFNpbURuc01vZGVDb250cm9sLmh0bWwuZWpzIiwiYnVpbGQvanMvbmV0c2ltL05ldFNpbURuc01hbnVhbENvbnRyb2wuanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltRG5zTWFudWFsQ29udHJvbC5odG1sLmVqcyIsImJ1aWxkL2pzL25ldHNpbS9OZXRTaW1DbGllbnROb2RlLmpzIiwiYnVpbGQvanMvbmV0c2ltL05ldFNpbU5vZGUuanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltV2lyZS5qcyIsImJ1aWxkL2pzL25ldHNpbS9OZXRTaW1FbnRpdHkuanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltQ2h1bmtTaXplQ29udHJvbC5qcyIsImJ1aWxkL2pzL25ldHNpbS9OZXRTaW1CaXRSYXRlQ29udHJvbC5qcyIsImJ1aWxkL2pzL25ldHNpbS9OZXRTaW1CaXRMb2dQYW5lbC5qcyIsImJ1aWxkL2pzL25ldHNpbS9OZXRTaW1QYW5lbC5qcyIsImJ1aWxkL2pzL25ldHNpbS9OZXRTaW1QYW5lbC5odG1sLmVqcyIsImJ1aWxkL2pzL25ldHNpbS9OZXRTaW1FbmNvZGluZ0NvbnRyb2wuanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltRW5jb2RpbmdDb250cm9sLmh0bWwuZWpzIiwiYnVpbGQvanMvbmV0c2ltL05ldFNpbUJpdExvZ1BhbmVsLmh0bWwuZWpzIiwiYnVpbGQvanMvbmV0c2ltL05ldFNpbUJhbmR3aWR0aENvbnRyb2wuanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltU2xpZGVyLmpzIiwiYnVpbGQvanMvbmV0c2ltL05ldFNpbVNsaWRlci5odG1sLmVqcyIsImJ1aWxkL2pzL25ldHNpbS9OZXRTaW1BcGkuanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltQXBpRXJyb3IuanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltQWxlcnQuanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltQWxlcnQuaHRtbC5lanMiLCJidWlsZC9qcy9uZXRzaW0vRGF0YUNvbnZlcnRlcnMuanMiLCJub2RlX21vZHVsZXMvQmFzZTY0L2Jhc2U2NC5qcyIsImJ1aWxkL2pzL25ldHNpbS9OZXRTaW1VdGlscy5qcyIsImJ1aWxkL2pzL25ldHNpbS9sb2NhbGUuanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltTG9nZ2VyLmpzIiwiYnVpbGQvanMvbmV0c2ltL05ldFNpbUdsb2JhbHMuanMiLCJub2RlX21vZHVsZXMvc2VlZHJhbmRvbS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9zZWVkcmFuZG9tL3NlZWRyYW5kb20uanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3B1YmxpYy1lbmNyeXB0L2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3B1YmxpYy1lbmNyeXB0L3B1YmxpY0VuY3J5cHQuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3B1YmxpYy1lbmNyeXB0L3ByaXZhdGVEZWNyeXB0LmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wdWJsaWMtZW5jcnlwdC94b3IuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3B1YmxpYy1lbmNyeXB0L3dpdGhQdWJsaWMuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3B1YmxpYy1lbmNyeXB0L25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wdWJsaWMtZW5jcnlwdC9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9maXhQcm9jLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wdWJsaWMtZW5jcnlwdC9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL2VuY3J5cHRlci5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL2RlY3J5cHRlci5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2V2cF9ieXRlc3Rva2V5L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wdWJsaWMtZW5jcnlwdC9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvc3RyZWFtQ2lwaGVyLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wdWJsaWMtZW5jcnlwdC9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvbW9kZXMvb2ZiLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wdWJsaWMtZW5jcnlwdC9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvbW9kZXMvZWNiLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wdWJsaWMtZW5jcnlwdC9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvbW9kZXMvY3RyLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wdWJsaWMtZW5jcnlwdC9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvbW9kZXMvY2ZiOC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL21vZGVzL2NmYjEuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3B1YmxpYy1lbmNyeXB0L25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9tb2Rlcy9jZmIuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3B1YmxpYy1lbmNyeXB0L25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9tb2Rlcy9jYmMuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3B1YmxpYy1lbmNyeXB0L25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9tb2Rlcy5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL2F1dGhDaXBoZXIuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3B1YmxpYy1lbmNyeXB0L25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9ub2RlX21vZHVsZXMvY2lwaGVyLWJhc2UvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3B1YmxpYy1lbmNyeXB0L25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9ub2RlX21vZHVsZXMvYnVmZmVyLXhvci9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL2doYXNoLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wdWJsaWMtZW5jcnlwdC9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvYWVzLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wdWJsaWMtZW5jcnlwdC9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9hc24xLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wdWJsaWMtZW5jcnlwdC9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYXNuMS5qcy9saWIvYXNuMS5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2FzbjEuanMvbGliL2FzbjEvZW5jb2RlcnMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3B1YmxpYy1lbmNyeXB0L25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9hc24xLmpzL2xpYi9hc24xL2VuY29kZXJzL3BlbS5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2FzbjEuanMvbGliL2FzbjEvZW5jb2RlcnMvZGVyLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wdWJsaWMtZW5jcnlwdC9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYXNuMS5qcy9saWIvYXNuMS9kZWNvZGVycy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2FzbjEuanMvbGliL2FzbjEvZGVjb2RlcnMvcGVtLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wdWJsaWMtZW5jcnlwdC9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYXNuMS5qcy9saWIvYXNuMS9kZWNvZGVycy9kZXIuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3B1YmxpYy1lbmNyeXB0L25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9hc24xLmpzL2xpYi9hc24xL2NvbnN0YW50cy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2FzbjEuanMvbGliL2FzbjEvY29uc3RhbnRzL2Rlci5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2FzbjEuanMvbGliL2FzbjEvYmFzZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2FzbjEuanMvbGliL2FzbjEvYmFzZS9yZXBvcnRlci5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2FzbjEuanMvbGliL2FzbjEvYmFzZS9ub2RlLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wdWJsaWMtZW5jcnlwdC9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYXNuMS5qcy9ub2RlX21vZHVsZXMvbWluaW1hbGlzdGljLWFzc2VydC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2FzbjEuanMvbGliL2FzbjEvYmFzZS9idWZmZXIuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3B1YmxpYy1lbmNyeXB0L25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9hc24xLmpzL2xpYi9hc24xL2FwaS5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvYWVzaWQuanNvbiIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcHVibGljLWVuY3J5cHQvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktcnNhL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wdWJsaWMtZW5jcnlwdC9tZ2YuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2RpZmZpZS1oZWxsbWFuL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2RpZmZpZS1oZWxsbWFuL2xpYi9wcmltZXMuanNvbiIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvZGlmZmllLWhlbGxtYW4vbGliL2RoLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9kaWZmaWUtaGVsbG1hbi9saWIvZ2VuZXJhdGVQcmltZS5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvZGlmZmllLWhlbGxtYW4vbm9kZV9tb2R1bGVzL21pbGxlci1yYWJpbi9saWIvbXIuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2RpZmZpZS1oZWxsbWFuL25vZGVfbW9kdWxlcy9taWxsZXItcmFiaW4vbm9kZV9tb2R1bGVzL2Jyb3JhbmQvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2RpZmZpZS1oZWxsbWFuL25vZGVfbW9kdWxlcy9ibi5qcy9saWIvYm4uanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyZWF0ZS1lY2RoL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyZWF0ZS1lY2RoL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9saWIvZWxsaXB0aWMuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyZWF0ZS1lY2RoL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9wYWNrYWdlLmpzb24iLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyZWF0ZS1lY2RoL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9ub2RlX21vZHVsZXMvYnJvcmFuZC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWVjZGgvbm9kZV9tb2R1bGVzL2VsbGlwdGljL2xpYi9lbGxpcHRpYy91dGlscy5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWVjZGgvbm9kZV9tb2R1bGVzL2VsbGlwdGljL2xpYi9lbGxpcHRpYy9obWFjLWRyYmcuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyZWF0ZS1lY2RoL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9saWIvZWxsaXB0aWMvZWMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyZWF0ZS1lY2RoL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9saWIvZWxsaXB0aWMvZWMvc2lnbmF0dXJlLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcmVhdGUtZWNkaC9ub2RlX21vZHVsZXMvZWxsaXB0aWMvbGliL2VsbGlwdGljL2VjL2tleS5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWVjZGgvbm9kZV9tb2R1bGVzL2VsbGlwdGljL2xpYi9lbGxpcHRpYy9jdXJ2ZXMuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyZWF0ZS1lY2RoL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWVjZGgvbm9kZV9tb2R1bGVzL2VsbGlwdGljL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL3V0aWxzLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcmVhdGUtZWNkaC9ub2RlX21vZHVsZXMvZWxsaXB0aWMvbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvc2hhLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcmVhdGUtZWNkaC9ub2RlX21vZHVsZXMvZWxsaXB0aWMvbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvcmlwZW1kLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcmVhdGUtZWNkaC9ub2RlX21vZHVsZXMvZWxsaXB0aWMvbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvaG1hYy5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWVjZGgvbm9kZV9tb2R1bGVzL2VsbGlwdGljL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL2NvbW1vbi5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWVjZGgvbm9kZV9tb2R1bGVzL2VsbGlwdGljL2xpYi9lbGxpcHRpYy9wcmVjb21wdXRlZC9zZWNwMjU2azEuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyZWF0ZS1lY2RoL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9saWIvZWxsaXB0aWMvY3VydmUvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyZWF0ZS1lY2RoL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9saWIvZWxsaXB0aWMvY3VydmUvc2hvcnQuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyZWF0ZS1lY2RoL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9saWIvZWxsaXB0aWMvY3VydmUvbW9udC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWVjZGgvbm9kZV9tb2R1bGVzL2VsbGlwdGljL2xpYi9lbGxpcHRpYy9jdXJ2ZS9lZHdhcmRzLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcmVhdGUtZWNkaC9ub2RlX21vZHVsZXMvZWxsaXB0aWMvbGliL2VsbGlwdGljL2N1cnZlL2Jhc2UuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyZWF0ZS1lY2RoL25vZGVfbW9kdWxlcy9ibi5qcy9saWIvYm4uanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vdmVyaWZ5LmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vc2lnbi5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9wYmtkZjIvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWhtYWMvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWhhc2gvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWhhc2gvbm9kZV9tb2R1bGVzL3NoYS5qcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWhhc2gvbm9kZV9tb2R1bGVzL3NoYS5qcy9zaGEzODQuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyZWF0ZS1oYXNoL25vZGVfbW9kdWxlcy9zaGEuanMvc2hhNTEyLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcmVhdGUtaGFzaC9ub2RlX21vZHVsZXMvc2hhLmpzL3NoYTIyNC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWhhc2gvbm9kZV9tb2R1bGVzL3NoYS5qcy9zaGEyNTYuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyZWF0ZS1oYXNoL25vZGVfbW9kdWxlcy9zaGEuanMvc2hhMS5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWhhc2gvbm9kZV9tb2R1bGVzL3NoYS5qcy9zaGEuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyZWF0ZS1oYXNoL25vZGVfbW9kdWxlcy9zaGEuanMvaGFzaC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWhhc2gvbm9kZV9tb2R1bGVzL3JpcGVtZDE2MC9saWIvcmlwZW1kMTYwLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcmVhdGUtaGFzaC9ub2RlX21vZHVsZXMvY2lwaGVyLWJhc2UvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9maXhQcm9jLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvZW5jcnlwdGVyLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL2RlY3J5cHRlci5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9ldnBfYnl0ZXN0b2tleS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9zdHJlYW1DaXBoZXIuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvbW9kZXMvb2ZiLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL21vZGVzL2VjYi5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9tb2Rlcy9jdHIuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvbW9kZXMvY2ZiOC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9tb2Rlcy9jZmIxLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL21vZGVzL2NmYi5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9tb2Rlcy9jYmMuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvbW9kZXMuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvYXV0aENpcGhlci5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9ub2RlX21vZHVsZXMvY2lwaGVyLWJhc2UvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvbm9kZV9tb2R1bGVzL2J1ZmZlci14b3IvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvZ2hhc2guanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvYWVzLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvYXNuMS5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9hc24xLmpzL2xpYi9hc24xLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2FzbjEuanMvbGliL2FzbjEvZW5jb2RlcnMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYXNuMS5qcy9saWIvYXNuMS9lbmNvZGVycy9wZW0uanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYXNuMS5qcy9saWIvYXNuMS9lbmNvZGVycy9kZXIuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYXNuMS5qcy9saWIvYXNuMS9kZWNvZGVycy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9hc24xLmpzL2xpYi9hc24xL2RlY29kZXJzL3BlbS5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9hc24xLmpzL2xpYi9hc24xL2RlY29kZXJzL2Rlci5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9hc24xLmpzL2xpYi9hc24xL2NvbnN0YW50cy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9hc24xLmpzL2xpYi9hc24xL2NvbnN0YW50cy9kZXIuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYXNuMS5qcy9saWIvYXNuMS9iYXNlL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2FzbjEuanMvbGliL2FzbjEvYmFzZS9yZXBvcnRlci5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9hc24xLmpzL2xpYi9hc24xL2Jhc2Uvbm9kZS5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9hc24xLmpzL25vZGVfbW9kdWxlcy9taW5pbWFsaXN0aWMtYXNzZXJ0L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2FzbjEuanMvbGliL2FzbjEvYmFzZS9idWZmZXIuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYXNuMS5qcy9saWIvYXNuMS9hcGkuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvdm0tYnJvd3NlcmlmeS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy92bS1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9pbmRleG9mL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvYWVzaWQuanNvbiIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9saWIvZWxsaXB0aWMuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvZWxsaXB0aWMvcGFja2FnZS5qc29uIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL2VsbGlwdGljL25vZGVfbW9kdWxlcy9icm9yYW5kL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL2VsbGlwdGljL2xpYi9lbGxpcHRpYy91dGlscy5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9saWIvZWxsaXB0aWMvaG1hYy1kcmJnLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL2VsbGlwdGljL2xpYi9lbGxpcHRpYy9lYy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9saWIvZWxsaXB0aWMvZWMvc2lnbmF0dXJlLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL2VsbGlwdGljL2xpYi9lbGxpcHRpYy9lYy9rZXkuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvZWxsaXB0aWMvbGliL2VsbGlwdGljL2N1cnZlcy5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC91dGlscy5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC9zaGEuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvZWxsaXB0aWMvbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvcmlwZW1kLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL2VsbGlwdGljL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL2htYWMuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvZWxsaXB0aWMvbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvY29tbW9uLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL2VsbGlwdGljL2xpYi9lbGxpcHRpYy9wcmVjb21wdXRlZC9zZWNwMjU2azEuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvZWxsaXB0aWMvbGliL2VsbGlwdGljL2N1cnZlL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL2VsbGlwdGljL2xpYi9lbGxpcHRpYy9jdXJ2ZS9zaG9ydC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9saWIvZWxsaXB0aWMvY3VydmUvbW9udC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9saWIvZWxsaXB0aWMvY3VydmUvZWR3YXJkcy5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9saWIvZWxsaXB0aWMvY3VydmUvYmFzZS5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXJzYS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvcmFuZG9tYnl0ZXMvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9ibi5qcy9saWIvYm4uanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9jdXJ2ZXMuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9hbGdvcy5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvYnJvd3Nlci5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktZGVzL21vZGVzLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWNpcGhlci9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1kZXMvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktY2lwaGVyL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWRlcy9ub2RlX21vZHVsZXMvZGVzLmpzL2xpYi9kZXMuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktY2lwaGVyL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWRlcy9ub2RlX21vZHVsZXMvZGVzLmpzL2xpYi9kZXMvdXRpbHMuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktY2lwaGVyL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWRlcy9ub2RlX21vZHVsZXMvZGVzLmpzL2xpYi9kZXMvZWRlLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWNpcGhlci9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1kZXMvbm9kZV9tb2R1bGVzL2Rlcy5qcy9saWIvZGVzL2Rlcy5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktZGVzL25vZGVfbW9kdWxlcy9kZXMuanMvbGliL2Rlcy9jaXBoZXIuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktY2lwaGVyL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWRlcy9ub2RlX21vZHVsZXMvZGVzLmpzL2xpYi9kZXMvY2JjLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWNpcGhlci9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1kZXMvbm9kZV9tb2R1bGVzL2Rlcy5qcy9ub2RlX21vZHVsZXMvbWluaW1hbGlzdGljLWFzc2VydC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktZGVzL25vZGVfbW9kdWxlcy9jaXBoZXItYmFzZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktY2lwaGVyL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9lbmNyeXB0ZXIuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktY2lwaGVyL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9kZWNyeXB0ZXIuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktY2lwaGVyL25vZGVfbW9kdWxlcy9ldnBfYnl0ZXN0b2tleS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWhhc2gvbWQ1LmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcmVhdGUtaGFzaC9oZWxwZXJzLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWNpcGhlci9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvc3RyZWFtQ2lwaGVyLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWNpcGhlci9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvbW9kZXMvb2ZiLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWNpcGhlci9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvbW9kZXMvZWNiLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWNpcGhlci9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvbW9kZXMvY3RyLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWNpcGhlci9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvbW9kZXMvY2ZiOC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL21vZGVzL2NmYjEuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktY2lwaGVyL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9tb2Rlcy9jZmIuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktY2lwaGVyL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9tb2Rlcy9jYmMuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktY2lwaGVyL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9tb2Rlcy5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL2F1dGhDaXBoZXIuanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktY2lwaGVyL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9ub2RlX21vZHVsZXMvY2lwaGVyLWJhc2UvaW5kZXguanMiLCJub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktY2lwaGVyL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9ub2RlX21vZHVsZXMvYnVmZmVyLXhvci9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL2doYXNoLmpzIiwibm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWNpcGhlci9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvYWVzLmpzIiwibm9kZV9tb2R1bGVzL3NlZWRyYW5kb20vbGliL3hvcndvdy5qcyIsIm5vZGVfbW9kdWxlcy9zZWVkcmFuZG9tL2xpYi94b3JzaGlmdDcuanMiLCJub2RlX21vZHVsZXMvc2VlZHJhbmRvbS9saWIveG9yNDA5Ni5qcyIsIm5vZGVfbW9kdWxlcy9zZWVkcmFuZG9tL2xpYi94b3IxMjguanMiLCJub2RlX21vZHVsZXMvc2VlZHJhbmRvbS9saWIvdHljaGVpLmpzIiwibm9kZV9tb2R1bGVzL3NlZWRyYW5kb20vbGliL2FsZWEuanMiLCJidWlsZC9qcy9uZXRzaW0vTmV0U2ltQ29uc3RhbnRzLmpzIiwiYnVpbGQvanMvbmV0c2ltL0Rhc2hib2FyZFVzZXIuanMiLCJidWlsZC9qcy9uZXRzaW0vQXJndW1lbnRVdGlscy5qcyIsImJ1aWxkL2pzL1J1bkxvb3AuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLElBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUNwQyxJQUFJLFNBQVMsR0FBRyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUMsU0FBUyxDQUFDO0FBQ2xELElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQzs7QUFFakMsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ2pDLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQzs7QUFFL0IsTUFBTSxDQUFDLFVBQVUsR0FBRyxVQUFTLE9BQU8sRUFBRTtBQUNwQyxTQUFPLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztBQUM1QixTQUFPLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQzs7QUFFNUIsTUFBSSxNQUFNLEdBQUcsSUFBSSxNQUFNLEVBQUUsQ0FBQztBQUMxQixRQUFNLENBQUMsZUFBZSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ2xDLFNBQU8sQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0NBQ2xDLENBQUM7Ozs7O0FDZEYsSUFBSSxRQUFRLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDOztBQUVuQyxPQUFPLENBQUMsSUFBSSxHQUFHLFVBQVUsUUFBUSxFQUFFLEVBQUUsRUFBRTtBQUNyQyxNQUFJLElBQUksR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUN2QyxTQUFPLElBQUksQ0FBQztDQUNiLENBQUM7Ozs7Ozs7Ozs7Ozs7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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7QUM3UUEsWUFBWSxDQUFDOztBQUViLElBQUks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QUksQ0FBQyxNQUFNLENBQUM7R0FDL0IsQ0FBQSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDOztBQUVkLE1BQUksQ0FBQyxhQUFhLEVBQUU7QUFDbEIsV0FBTyxJQUFJLENBQUM7R0FDYjs7QUFFRCxTQUFPLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0NBQ2xFLENBQUM7OztBQzlORjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7O0FDam5HQSxZQUFZLENBQUM7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O0FBRUQsV0FBTyxVQUFVLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7R0FDOUM7O0NBRUYsQ0FBQzs7O0FDcEpGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbFBBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakNBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0lBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbENBOztBQ0FBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcExBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDaERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6S0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25JQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakhBOztBQ0FBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkhBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1TEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDZkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN1FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakNBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0lBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuQkE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbENBOztBQ0FBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcExBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDblNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0R0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0bEJBOztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwSEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDak5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3RKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDalFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BqQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaEpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1d0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzM0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDblhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzl3RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNoUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9JQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3SUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2pFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDWEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDcENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDNUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDckdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QyxPQUFPLEdBQUcsSUFBSSxDQUFDO0FBQ3BCLE1BQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxHQUFHLFNBQVMsRUFBRSxDQUFDO0FBQ2xDLE1BQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxHQUFHLFNBQVMsRUFBRSxDQUFDO0FBQ3BDLE1BQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNoQyxNQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDckMsQ0FBQzs7Ozs7OztBQU9GLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxHQUFHLFlBQVk7QUFDbEMsTUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7Q0FDdEIsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJ2YXIgYXBwTWFpbiA9IHJlcXVpcmUoJy4uL2FwcE1haW4nKTtcbnZhciBzdHVkaW9BcHAgPSByZXF1aXJlKCcuLi9TdHVkaW9BcHAnKS5zaW5nbGV0b247XG52YXIgTmV0U2ltID0gcmVxdWlyZSgnLi9uZXRzaW0nKTtcblxudmFyIGxldmVscyA9IHJlcXVpcmUoJy4vbGV2ZWxzJyk7XG52YXIgc2tpbnMgPSByZXF1aXJlKCcuL3NraW5zJyk7XG5cbndpbmRvdy5uZXRzaW1NYWluID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICBvcHRpb25zLnNraW5zTW9kdWxlID0gc2tpbnM7XG4gIG9wdGlvbnMuaXNFZGl0b3JsZXNzID0gdHJ1ZTtcblxuICB2YXIgbmV0U2ltID0gbmV3IE5ldFNpbSgpO1xuICBuZXRTaW0uaW5qZWN0U3R1ZGlvQXBwKHN0dWRpb0FwcCk7XG4gIGFwcE1haW4obmV0U2ltLCBsZXZlbHMsIG9wdGlvbnMpO1xufTtcbiIsInZhciBza2luQmFzZSA9IHJlcXVpcmUoJy4uL3NraW5zJyk7XG5cbmV4cG9ydHMubG9hZCA9IGZ1bmN0aW9uIChhc3NldFVybCwgaWQpIHtcbiAgdmFyIHNraW4gPSBza2luQmFzZS5sb2FkKGFzc2V0VXJsLCBpZCk7XG4gIHJldHVybiBza2luO1xufTtcbiIsIi8qKlxuICogQG92ZXJ2aWV3IEludGVybmV0IFNpbXVsYXRvciBhcHAgZm9yIENvZGUub3JnLlxuICogICAgICAgICAgIFRoaXMgZmlsZSBpcyB0aGUgbWFpbiBlbnRyeSBwb2ludCBmb3IgdGhlIEludGVybmV0IFNpbXVsYXRvci5cbiAqL1xuLy8gU3RyaWN0IGxpbnRpbmc6IEFic29yYiBpbnRvIGdsb2JhbCBjb25maWcgd2hlbiBwb3NzaWJsZVxuLyoganNoaW50XG4gdW51c2VkOiB0cnVlLFxuIGVxZXFlcTogdHJ1ZSxcbiBtYXhsZW46IDEyMFxuKi9cbi8qIGdsb2JhbCAtQmxvY2tseSAqL1xuLyogZ2xvYmFsIHNlbmRSZXBvcnQgKi9cbi8qIGdsb2JhbCBjb25maXJtICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG52YXIgXyA9IHV0aWxzLmdldExvZGFzaCgpO1xudmFyIGkxOG4gPSByZXF1aXJlKCcuL2xvY2FsZScpO1xudmFyIE9ic2VydmFibGVFdmVudCA9IHJlcXVpcmUoJy4uL09ic2VydmFibGVFdmVudCcpO1xudmFyIFJ1bkxvb3AgPSByZXF1aXJlKCcuLi9SdW5Mb29wJyk7XG52YXIgcGFnZSA9IHJlcXVpcmUoJy4vcGFnZS5odG1sLmVqcycpO1xudmFyIE5ldFNpbUFsZXJ0ID0gcmVxdWlyZSgnLi9OZXRTaW1BbGVydCcpO1xudmFyIE5ldFNpbUNvbnN0YW50cyA9IHJlcXVpcmUoJy4vTmV0U2ltQ29uc3RhbnRzJyk7XG52YXIgTmV0U2ltVXRpbHMgPSByZXF1aXJlKCcuL05ldFNpbVV0aWxzJyk7XG52YXIgRGFzaGJvYXJkVXNlciA9IHJlcXVpcmUoJy4vRGFzaGJvYXJkVXNlcicpO1xudmFyIE5ldFNpbUJpdExvZ1BhbmVsID0gcmVxdWlyZSgnLi9OZXRTaW1CaXRMb2dQYW5lbCcpO1xudmFyIE5ldFNpbUxvYmJ5ID0gcmVxdWlyZSgnLi9OZXRTaW1Mb2JieScpO1xudmFyIE5ldFNpbUxvY2FsQ2xpZW50Tm9kZSA9IHJlcXVpcmUoJy4vTmV0U2ltTG9jYWxDbGllbnROb2RlJyk7XG52YXIgTmV0U2ltTG9nZ2VyID0gcmVxdWlyZSgnLi9OZXRTaW1Mb2dnZXInKTtcbnZhciBOZXRTaW1Mb2dQYW5lbCA9IHJlcXVpcmUoJy4vTmV0U2ltTG9nUGFuZWwnKTtcbnZhciBOZXRTaW1Sb3V0ZXJMb2dNb2RhbCA9IHJlcXVpcmUoJy4vTmV0U2ltUm91dGVyTG9nTW9kYWwnKTtcbnZhciBOZXRTaW1Sb3V0ZXJOb2RlID0gcmVxdWlyZSgnLi9OZXRTaW1Sb3V0ZXJOb2RlJyk7XG52YXIgTmV0U2ltU2VuZFBhbmVsID0gcmVxdWlyZSgnLi9OZXRTaW1TZW5kUGFuZWwnKTtcbnZhciBOZXRTaW1TaGFyZCA9IHJlcXVpcmUoJy4vTmV0U2ltU2hhcmQnKTtcbnZhciBOZXRTaW1TdGF0dXNQYW5lbCA9IHJlcXVpcmUoJy4vTmV0U2ltU3RhdHVzUGFuZWwnKTtcbnZhciBOZXRTaW1UYWJzQ29tcG9uZW50ID0gcmVxdWlyZSgnLi9OZXRTaW1UYWJzQ29tcG9uZW50Jyk7XG52YXIgTmV0U2ltVmlzdWFsaXphdGlvbiA9IHJlcXVpcmUoJy4vTmV0U2ltVmlzdWFsaXphdGlvbicpO1xuXG52YXIgRG5zTW9kZSA9IE5ldFNpbUNvbnN0YW50cy5EbnNNb2RlO1xudmFyIE1lc3NhZ2VHcmFudWxhcml0eSA9IE5ldFNpbUNvbnN0YW50cy5NZXNzYWdlR3JhbnVsYXJpdHk7XG5cbnZhciBsb2dnZXIgPSBOZXRTaW1Mb2dnZXIuZ2V0U2luZ2xldG9uKCk7XG52YXIgTmV0U2ltR2xvYmFscyA9IHJlcXVpcmUoJy4vTmV0U2ltR2xvYmFscycpO1xuXG4vKipcbiAqIFRoZSB0b3AtbGV2ZWwgSW50ZXJuZXQgU2ltdWxhdG9yIGNvbnRyb2xsZXIuXG4gKiBAcGFyYW0ge1N0dWRpb0FwcH0gc3R1ZGlvQXBwIFRoZSBzdHVkaW9BcHAgaW5zdGFuY2UgdG8gYnVpbGQgdXBvbi5cbiAqL1xudmFyIE5ldFNpbSA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHR5cGUge09iamVjdH1cbiAgICovXG4gIHRoaXMuc2tpbiA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtOZXRTaW1MZXZlbENvbmZpZ3VyYXRpb259XG4gICAqL1xuICB0aGlzLmxldmVsID0ge307XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICB0aGlzLmhlYWRpbmcgPSAwO1xuXG4gIC8qKlxuICAgKiBDdXJyZW50IHVzZXIgb2JqZWN0IHdoaWNoIGFzeW5jaHJvbm91c2x5IGdyYWJzIHRoZSBjdXJyZW50IHVzZXInc1xuICAgKiBpbmZvIGZyb20gdGhlIGRhc2hib2FyZCBBUEkuXG4gICAqIEB0eXBlIHtEYXNoYm9hcmRVc2VyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5jdXJyZW50VXNlcl8gPSBEYXNoYm9hcmRVc2VyLmdldEN1cnJlbnRVc2VyKCk7XG5cbiAgLyoqXG4gICAqIEFjY2Vzc29yIG9iamVjdCBmb3Igc2VsZWN0IHNpbXVsYXRpb24gc2hhcmQncyB0YWJsZXMsIHdoZXJlIGFuIHNoYXJkXG4gICAqIGlzIGEgZ3JvdXAgb2YgdGFibGVzIHNoYXJlZCBieSBhIGdyb3VwIG9mIHVzZXJzLCBhbGxvd2luZyB0aGVtIHRvIG9ic2VydmVcbiAgICogYSBjb21tb24gbmV0d29yayBzdGF0ZS5cbiAgICpcbiAgICogU2VlIGVuLndpa2lwZWRpYS5vcmcvd2lraS9JbnN0YW5jZV9kdW5nZW9uIGZvciBhIHBvcHVsYXIgZXhhbXBsZSBvZiB0aGlzXG4gICAqIGNvbmNlcHQuXG4gICAqXG4gICAqIEB0eXBlIHtOZXRTaW1TaGFyZH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuc2hhcmRfID0gbnVsbDtcblxuICAvKipcbiAgICogVGhlIGxvY2FsIGNsaWVudCdzIG5vZGUgcmVwcmVzZW50YXRpb24gd2l0aGluIHRoZSBzaGFyZC5cbiAgICogQHR5cGUge05ldFNpbUxvY2FsQ2xpZW50Tm9kZX1cbiAgICovXG4gIHRoaXMubXlOb2RlID0gbnVsbDtcblxuICAvKipcbiAgICogVGljayBhbmQgUmVuZGVyIGxvb3AgbWFuYWdlciBmb3IgdGhlIHNpbXVsYXRvclxuICAgKiBAdHlwZSB7UnVuTG9vcH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucnVuTG9vcF8gPSBuZXcgUnVuTG9vcCgpO1xuXG4gIC8qKlxuICAgKiBDdXJyZW50IGNodW5rIHNpemUgKGJ5dGVzaXplKVxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5jaHVua1NpemVfID0gODtcblxuICAvKipcbiAgICogVGhlIFwibXkgZGV2aWNlXCIgYml0cmF0ZSBpbiBiaXRzIHBlciBzZWNvbmRcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMubXlEZXZpY2VCaXRSYXRlXyA9IEluZmluaXR5O1xuXG4gIC8qKlxuICAgKiBDdXJyZW50bHkgZW5hYmxlZCBlbmNvZGluZyB0eXBlcy5cbiAgICogQHR5cGUge0VuY29kaW5nVHlwZVtdfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5lbmFibGVkRW5jb2RpbmdzXyA9IFtdO1xuXG4gIC8qKlxuICAgKiBDdXJyZW50IGRucyBtb2RlLlxuICAgKiBAdHlwZSB7RG5zTW9kZX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuZG5zTW9kZV8gPSBEbnNNb2RlLk5PTkU7XG5cbiAgLy8gLS0gQ29tcG9uZW50cyAtLVxuICAvKipcbiAgICogQHR5cGUge0lOZXRTaW1Mb2dQYW5lbH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucmVjZWl2ZWRNZXNzYWdlTG9nXyA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtJTmV0U2ltTG9nUGFuZWx9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnNlbnRNZXNzYWdlTG9nXyA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEV2ZW50OiBDb25uZWN0ZWQgdG8sIG9yIGRpc2Nvbm5lY3RlZCBmcm9tLCBhIHNoYXJkLlxuICAgKiBTcGVjaWZpY2FsbHksIGFkZGVkIG9yIHJlbW92ZWQgb3VyIGNsaWVudCBub2RlIGZyb20gdGhlIHNoYXJkJ3Mgbm9kZSB0YWJsZS5cbiAgICogQHR5cGUge09ic2VydmFibGVFdmVudH1cbiAgICovXG4gIHRoaXMuc2hhcmRDaGFuZ2UgPSBuZXcgT2JzZXJ2YWJsZUV2ZW50KCk7XG4gIHRoaXMuc2hhcmRDaGFuZ2UucmVnaXN0ZXIodGhpcy5vblNoYXJkQ2hhbmdlXy5iaW5kKHRoaXMpKTtcblxuICAvKipcbiAgICogVW50eXBlZCBzdG9yYWdlIGZvciBpbmZvcm1hdGlvbiBhYm91dCB3aGljaCBldmVudHMgd2UgaGF2ZSBjdXJyZW50bHkgYm91bmQuXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuICB0aGlzLmV2ZW50S2V5cyA9IHt9O1xufTtcblxuTmV0U2ltLnByb3RvdHlwZS5pbmplY3RTdHVkaW9BcHAgPSBmdW5jdGlvbiAoc3R1ZGlvQXBwKSB7XG4gIHRoaXMuc3R1ZGlvQXBwXyA9IHN0dWRpb0FwcDtcbn07XG5cbi8qKlxuICogQ2FsbGVkIG9uIHBhZ2UgbG9hZC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcuc2tpblxuICogQHBhcmFtIHtOZXRTaW1MZXZlbENvbmZpZ3VyYXRpb259IGNvbmZpZy5sZXZlbFxuICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZy5yYWNrRW52IC0gZGV2ZWxvcG1lbnQvcHJvZHVjdGlvbi9ldGMuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGNvbmZpZy5lbmFibGVTaG93Q29kZSAtIEFsd2F5cyBmYWxzZSBmb3IgTmV0U2ltXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjb25maWcubG9hZEF1ZGlvXG4gKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnLmh0bWwgLSByZW5kZXJlZCBtYXJrdXAgdG8gYmUgY3JlYXRlZCBpbnNpZGUgdGhpcyBtZXRob2RcbiAqL1xuTmV0U2ltLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oY29uZmlnKSB7XG4gIGlmICghdGhpcy5zdHVkaW9BcHBfKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTmV0U2ltIHJlcXVpcmVzIGEgU3R1ZGlvQXBwXCIpO1xuICB9XG5cbiAgLy8gU2V0IHVwIGdsb2JhbCBzaW5nbGV0b24gZm9yIGVhc3kgYWNjZXNzIHRvIHNpbXVsYXRvci13aWRlIHNldHRpbmdzXG4gIE5ldFNpbUdsb2JhbHMuc2V0Um9vdENvbnRyb2xsZXJzKHRoaXMuc3R1ZGlvQXBwXywgdGhpcyk7XG5cbiAgLy8gUmVtb3ZlIGljb24gZnJvbSBhbGwgTmV0U2ltIGluc3RydWN0aW9ucyBkaWFsb2dzXG4gIGNvbmZpZy5za2luLnN0YXRpY0F2YXRhciA9IG51bGw7XG4gIGNvbmZpZy5za2luLnNtYWxsU3RhdGljQXZhdGFyID0gbnVsbDtcbiAgY29uZmlnLnNraW4uZmFpbHVyZUF2YXRhciA9IG51bGw7XG4gIGNvbmZpZy5za2luLndpbkF2YXRhciA9IG51bGw7XG5cbiAgLyoqXG4gICAqIFNraW4gZm9yIHRoZSBsb2FkZWQgbGV2ZWxcbiAgICogQHR5cGUge09iamVjdH1cbiAgICovXG4gIHRoaXMuc2tpbiA9IGNvbmZpZy5za2luO1xuXG4gIC8qKlxuICAgKiBDb25maWd1cmF0aW9uIGZvciB0aGUgbG9hZGVkIGxldmVsXG4gICAqIEB0eXBlIHtOZXRTaW1MZXZlbENvbmZpZ3VyYXRpb259XG4gICAqL1xuICB0aGlzLmxldmVsID0gTmV0U2ltVXRpbHMuc2NydWJMZXZlbENvbmZpZ3VyYXRpb25fKGNvbmZpZy5sZXZlbCk7XG5cbiAgLyoqXG4gICAqIEN1cnJlbnQgb3BlcmF0aW5nIGVudmlyb25tZW50LCB1c2VkIHRvIGRyaXZlIGNlcnRhaW4gY29uZmlndXJhdGlvbi5cbiAgICogQHR5cGUge3N0cmluZ30gb25lIG9mIFwiZGV2ZWxvcG1lbnRcInxcInN0YWdpbmdcInxcInRlc3RcInxcInByb2R1Y3Rpb25cIlxuICAgKi9cbiAgdGhpcy5lbnZpcm9ubWVudCA9IGNvbmZpZy5yYWNrRW52O1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIE5ldFNpbSBzaG91bGQgc3Vic2NyaWJlIHRvIGV2ZW50cyB1c2luZyBQdXNoZXIuXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgdGhpcy51c2VQdXNoZXIgPSBjb25maWcudXNlUHVzaGVyO1xuXG4gIC8qKlxuICAgKiBUaGUgcHVibGljIGFwcGxpY2F0aW9uIGtleSBmb3IgdGhlIFB1c2hlciBzZXJ2aWNlLiAoTm90IHVzZWQgaWYgbm90IHVzaW5nXG4gICAqIFB1c2hlcikuXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICB0aGlzLnB1c2hlckFwcGxpY2F0aW9uS2V5ID0gY29uZmlnLnB1c2hlckFwcGxpY2F0aW9uS2V5O1xuXG4gIC8qKlxuICAgKiBUaGUgc3RyaWN0IG1heGltdW0gbnVtYmVyIG9mIHJvdXRlcnMgcGVyIHNoYXJkLiAgTm90ZSB0aGUgcmVhbCBtYXhpbXVtXG4gICAqIG1heSBiZSBsb3dlciBpZiBib3VuZGVkIGJ5IGFkZHJlc3NhYmxlIHNwYWNlLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgdGhpcy5nbG9iYWxNYXhSb3V0ZXJzID0gY29uZmlnLm5ldHNpbU1heFJvdXRlcnM7XG5cbiAgLyoqXG4gICAqIENvbmZpZ3VyYXRpb24gZm9yIHJlcG9ydGluZyBsZXZlbCBjb21wbGV0aW9uXG4gICAqIEB0eXBlIHtPYmplY3R9XG4gICAqL1xuICB0aGlzLnJlcG9ydGluZ0luZm9fID0gY29uZmlnLnJlcG9ydDtcblxuICBjb25maWcuaHRtbCA9IHBhZ2Uoe1xuICAgIGFzc2V0VXJsOiB0aGlzLnN0dWRpb0FwcF8uYXNzZXRVcmwsXG4gICAgZGF0YToge1xuICAgICAgdmlzdWFsaXphdGlvbjogJycsXG4gICAgICBsb2NhbGVEaXJlY3Rpb246IHRoaXMuc3R1ZGlvQXBwXy5sb2NhbGVEaXJlY3Rpb24oKSxcbiAgICAgIGNvbnRyb2xzOiByZXF1aXJlKCcuL2NvbnRyb2xzLmh0bWwuZWpzJykoe2Fzc2V0VXJsOiB0aGlzLnN0dWRpb0FwcF8uYXNzZXRVcmx9KVxuICAgIH0sXG4gICAgaGlkZVJ1bkJ1dHRvbjogdHJ1ZVxuICB9KTtcblxuICBjb25maWcuZW5hYmxlU2hvd0NvZGUgPSBmYWxzZTtcbiAgY29uZmlnLnBpbldvcmtzcGFjZVRvQm90dG9tID0gdHJ1ZTtcbiAgY29uZmlnLmxvYWRBdWRpbyA9IHRoaXMubG9hZEF1ZGlvXy5iaW5kKHRoaXMpO1xuXG4gIC8vIE92ZXJyaWRlIGNlcnRhaW4gU3R1ZGlvQXBwIG1ldGhvZHMgLSBuZXRzaW0gZG9lcyBhIGxvdCBvZiBjb25maWd1cmF0aW9uXG4gIC8vIGl0c2VsZiwgYmVjYXVzZSBvZiBpdHMgbm9uc3RhbmRhcmQgbGF5b3V0LlxuICB0aGlzLnN0dWRpb0FwcF8uY29uZmlndXJlRG9tID0gTmV0U2ltLmNvbmZpZ3VyZURvbU92ZXJyaWRlXy5iaW5kKHRoaXMuc3R1ZGlvQXBwXyk7XG4gIHRoaXMuc3R1ZGlvQXBwXy5vblJlc2l6ZSA9IE5ldFNpbS5vblJlc2l6ZU92ZXJyaWRlXy5iaW5kKHRoaXMuc3R1ZGlvQXBwXyk7XG5cbiAgdGhpcy5zdHVkaW9BcHBfLmluaXQoY29uZmlnKTtcblxuICAvLyBDcmVhdGUgbmV0c2ltIGxvYmJ5IHdpZGdldCBpbiBwYWdlXG4gIHRoaXMuY3VycmVudFVzZXJfLndoZW5SZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5pbml0V2l0aFVzZXJfKHRoaXMuY3VycmVudFVzZXJfKTtcbiAgfS5iaW5kKHRoaXMpKTtcblxuICAvLyBCZWdpbiB0aGUgbWFpbiBzaW11bGF0aW9uIGxvb3BcbiAgdGhpcy5ydW5Mb29wXy50aWNrLnJlZ2lzdGVyKHRoaXMudGljay5iaW5kKHRoaXMpKTtcbiAgdGhpcy5ydW5Mb29wXy5iZWdpbigpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1J1bkxvb3AuQ2xvY2t9IGNsb2NrXG4gKi9cbk5ldFNpbS5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uIChjbG9jaykge1xuICBpZiAodGhpcy5pc0Nvbm5lY3RlZFRvU2hhcmQoKSkge1xuICAgIHRoaXMubXlOb2RlLnRpY2soY2xvY2spO1xuICAgIHRoaXMuc2hhcmRfLnRpY2soY2xvY2spO1xuICB9XG59O1xuXG4vKipcbiAqIFB1bGwgYW4gaWRlbnRpZmllciBmcm9tIHRoZSBVUkwgdGhhdCBzZXBhcmF0ZXMgdGhpcyBsZXZlbCdzIHNoYXJkIGZyb20gb3RoZXJzLlxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuTmV0U2ltLnByb3RvdHlwZS5nZXRVbmlxdWVMZXZlbEtleSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGxvY2F0aW9uLnBhdGhuYW1lLnN1YnN0cigxKS5yZXBsYWNlKC9cXFcvZywgJy0nKTtcbn07XG5cbi8qKlxuICogRXh0cmFjdHMgcXVlcnkgcGFyYW1ldGVycyBmcm9tIGEgZnVsbCBVUkwgYW5kIHJldHVybnMgdGhlbSBhcyBhIHNpbXBsZVxuICogb2JqZWN0LlxuICogQHJldHVybnMgeyp9XG4gKi9cbk5ldFNpbS5wcm90b3R5cGUuZ2V0T3ZlcnJpZGVTaGFyZElEID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcGFydHMgPSBsb2NhdGlvbi5zZWFyY2guc3BsaXQoJz8nKTtcbiAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICB2YXIgc2hhcmRJRDtcbiAgcGFydHNbMV0uc3BsaXQoJyYnKS5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgIHZhciBzaWRlcyA9IHBhcmFtLnNwbGl0KCc9Jyk7XG4gICAgaWYgKHNpZGVzLmxlbmd0aCA+IDEgJiYgc2lkZXNbMF0gPT09ICdzJykge1xuICAgICAgc2hhcmRJRCA9IHNpZGVzWzFdO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBzaGFyZElEO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVFJVRSBpZiB0aGUgbGV2ZWwgaXMgY29uZmlndXJlZCB0byBzaG93IGFueSB0YWJzLlxuICovXG5OZXRTaW0ucHJvdG90eXBlLnNob3VsZFNob3dBbnlUYWJzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5sZXZlbC5zaG93VGFicy5sZW5ndGggPiAwO1xufTtcblxuLyoqXG4gKiBJbml0aWFsaXphdGlvbiB0aGF0IGNhbiBoYXBwZW4gb25jZSB3ZSBoYXZlIGEgdXNlciBuYW1lLlxuICogQ291bGQgY29sbGFwc2UgdGhpcyBiYWNrIGludG8gaW5pdCBpZiBhdCBzb21lIHBvaW50IHdlIGNhbiBndWFyYW50ZWUgdGhhdFxuICogdXNlciBuYW1lIGlzIGF2YWlsYWJsZSBvbiBsb2FkLlxuICogQHBhcmFtIHtEYXNoYm9hcmRVc2VyfSB1c2VyXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW0ucHJvdG90eXBlLmluaXRXaXRoVXNlcl8gPSBmdW5jdGlvbiAodXNlcikge1xuICB0aGlzLm1haW5Db250YWluZXJfID0gJCgnI25ldHNpbScpO1xuXG4gIC8vIENyZWF0ZSBsb2cgcGFuZWxzIGFjY29yZGluZyB0byBsZXZlbCBjb25maWd1cmF0aW9uXG4gIGlmICh0aGlzLmxldmVsLm1lc3NhZ2VHcmFudWxhcml0eSA9PT0gTWVzc2FnZUdyYW51bGFyaXR5LlBBQ0tFVFMpIHtcbiAgICB0aGlzLnJlY2VpdmVkTWVzc2FnZUxvZ18gPSBuZXcgTmV0U2ltTG9nUGFuZWwoJCgnI25ldHNpbS1yZWNlaXZlZCcpLCB7XG4gICAgICBsb2dUaXRsZTogaTE4bi5yZWNlaXZlZE1lc3NhZ2VMb2coKSxcbiAgICAgIGlzTWluaW1pemVkOiBmYWxzZSxcbiAgICAgIGhhc1VucmVhZE1lc3NhZ2VzOiB0cnVlLFxuICAgICAgcGFja2V0U3BlYzogdGhpcy5sZXZlbC5jbGllbnRJbml0aWFsUGFja2V0SGVhZGVyXG4gICAgfSk7XG5cbiAgICB0aGlzLnNlbnRNZXNzYWdlTG9nXyA9IG5ldyBOZXRTaW1Mb2dQYW5lbCgkKCcjbmV0c2ltLXNlbnQnKSwge1xuICAgICAgbG9nVGl0bGU6IGkxOG4uc2VudE1lc3NhZ2VMb2coKSxcbiAgICAgIGlzTWluaW1pemVkOiB0cnVlLFxuICAgICAgaGFzVW5yZWFkTWVzc2FnZXM6IGZhbHNlLFxuICAgICAgcGFja2V0U3BlYzogdGhpcy5sZXZlbC5jbGllbnRJbml0aWFsUGFja2V0SGVhZGVyXG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodGhpcy5sZXZlbC5tZXNzYWdlR3JhbnVsYXJpdHkgPT09IE1lc3NhZ2VHcmFudWxhcml0eS5CSVRTKSB7XG4gICAgdGhpcy5yZWNlaXZlZE1lc3NhZ2VMb2dfID0gbmV3IE5ldFNpbUJpdExvZ1BhbmVsKCQoJyNuZXRzaW0tcmVjZWl2ZWQnKSwge1xuICAgICAgbG9nVGl0bGU6IGkxOG4ucmVjZWl2ZUJpdHMoKSxcbiAgICAgIGlzTWluaW1pemVkOiBmYWxzZSxcbiAgICAgIG5ldHNpbTogdGhpcyxcbiAgICAgIHNob3dSZWFkV2lyZUJ1dHRvbjogdHJ1ZVxuICAgIH0pO1xuXG4gICAgdGhpcy5zZW50TWVzc2FnZUxvZ18gPSBuZXcgTmV0U2ltQml0TG9nUGFuZWwoJCgnI25ldHNpbS1zZW50JyksIHtcbiAgICAgIGxvZ1RpdGxlOiBpMThuLnNlbnRCaXRzTG9nKCksXG4gICAgICBpc01pbmltaXplZDogZmFsc2UsXG4gICAgICBuZXRzaW06IHRoaXNcbiAgICB9KTtcbiAgfVxuXG4gIHRoaXMuc3RhdHVzUGFuZWxfID0gbmV3IE5ldFNpbVN0YXR1c1BhbmVsKFxuICAgICAgJCgnI25ldHNpbS1zdGF0dXMnKSxcbiAgICAgIHtcbiAgICAgICAgZGlzY29ubmVjdENhbGxiYWNrOiB0aGlzLmRpc2Nvbm5lY3RGcm9tUmVtb3RlLmJpbmQodGhpcywgZnVuY3Rpb24gKCkge30pXG4gICAgICB9KTtcblxuICB0aGlzLnJvdXRlckxvZ01vZGFsXyA9IG5ldyBOZXRTaW1Sb3V0ZXJMb2dNb2RhbCgkKCcjcm91dGVyLWxvZy1tb2RhbCcpKTtcblxuICB0aGlzLnZpc3VhbGl6YXRpb25fID0gbmV3IE5ldFNpbVZpc3VhbGl6YXRpb24oJCgnI25ldHNpbS12aXN1YWxpemF0aW9uJyksXG4gICAgICB0aGlzLnJ1bkxvb3BfKTtcblxuICAvLyBMb2JieSBwYW5lbDogQ29udHJvbHMgZm9yIHBpY2tpbmcgYSByZW1vdGUgbm9kZSBhbmQgY29ubmVjdGluZyB0byBpdC5cbiAgdGhpcy5sb2JieV8gPSBuZXcgTmV0U2ltTG9iYnkoXG4gICAgICAkKCcubG9iYnktcGFuZWwnKSxcbiAgICAgIHRoaXMsIHtcbiAgICAgICAgdXNlcjogdXNlcixcbiAgICAgICAgbGV2ZWxLZXk6IHRoaXMuZ2V0VW5pcXVlTGV2ZWxLZXkoKSxcbiAgICAgICAgc2hhcmVkU2hhcmRTZWVkOiB0aGlzLmdldE92ZXJyaWRlU2hhcmRJRCgpXG4gICAgICB9KTtcblxuICAvLyBUYWIgcGFuZWwgLSBjb250YWlucyBpbnN0cnVjdGlvbnMsIG15IGRldmljZSwgcm91dGVyLCBkbnNcbiAgaWYgKHRoaXMuc2hvdWxkU2hvd0FueVRhYnMoKSkge1xuICAgIHRoaXMudGFic18gPSBuZXcgTmV0U2ltVGFic0NvbXBvbmVudChcbiAgICAgICAgJCgnI25ldHNpbS10YWJzJyksXG4gICAgICAgIHRoaXMucnVuTG9vcF8sXG4gICAgICAgIHtcbiAgICAgICAgICBjaHVua1NpemVTbGlkZXJDaGFuZ2VDYWxsYmFjazogdGhpcy5zZXRDaHVua1NpemUuYmluZCh0aGlzKSxcbiAgICAgICAgICBteURldmljZUJpdFJhdGVDaGFuZ2VDYWxsYmFjazogdGhpcy5zZXRNeURldmljZUJpdFJhdGUuYmluZCh0aGlzKSxcbiAgICAgICAgICBlbmNvZGluZ0NoYW5nZUNhbGxiYWNrOiB0aGlzLmNoYW5nZUVuY29kaW5ncy5iaW5kKHRoaXMpLFxuICAgICAgICAgIHJvdXRlckJhbmR3aWR0aFNsaWRlckNoYW5nZUNhbGxiYWNrOiB0aGlzLnNldFJvdXRlckJhbmR3aWR0aC5iaW5kKHRoaXMpLFxuICAgICAgICAgIHJvdXRlckJhbmR3aWR0aFNsaWRlclN0b3BDYWxsYmFjazogdGhpcy5jaGFuZ2VSZW1vdGVSb3V0ZXJCYW5kd2lkdGguYmluZCh0aGlzKSxcbiAgICAgICAgICByb3V0ZXJNZW1vcnlTbGlkZXJDaGFuZ2VDYWxsYmFjazogdGhpcy5zZXRSb3V0ZXJNZW1vcnkuYmluZCh0aGlzKSxcbiAgICAgICAgICByb3V0ZXJNZW1vcnlTbGlkZXJTdG9wQ2FsbGJhY2s6IHRoaXMuY2hhbmdlUmVtb3RlUm91dGVyTWVtb3J5LmJpbmQodGhpcyksXG4gICAgICAgICAgZG5zTW9kZUNoYW5nZUNhbGxiYWNrOiB0aGlzLmNoYW5nZVJlbW90ZURuc01vZGUuYmluZCh0aGlzKSxcbiAgICAgICAgICBiZWNvbWVEbnNDYWxsYmFjazogdGhpcy5iZWNvbWVEbnNOb2RlLmJpbmQodGhpcylcbiAgICAgICAgfSk7XG4gICAgdGhpcy50YWJzXy5hdHRhY2hUb1J1bkxvb3AodGhpcy5ydW5Mb29wXyk7XG4gIH1cblxuICB0aGlzLnNlbmRQYW5lbF8gPSBuZXcgTmV0U2ltU2VuZFBhbmVsKCQoJyNuZXRzaW0tc2VuZCcpLCB0aGlzLmxldmVsLFxuICAgICAgdGhpcyk7XG5cbiAgdGhpcy5jaGFuZ2VFbmNvZGluZ3ModGhpcy5sZXZlbC5kZWZhdWx0RW5hYmxlZEVuY29kaW5ncyk7XG4gIHRoaXMuc2V0Q2h1bmtTaXplKHRoaXMubGV2ZWwuZGVmYXVsdENodW5rU2l6ZUJpdHMpO1xuICB0aGlzLnNldE15RGV2aWNlQml0UmF0ZSh0aGlzLmxldmVsLmRlZmF1bHRCaXRSYXRlQml0c1BlclNlY29uZCk7XG4gIHRoaXMuc2V0Um91dGVyQmFuZHdpZHRoKHRoaXMubGV2ZWwuZGVmYXVsdFJvdXRlckJhbmR3aWR0aCk7XG4gIHRoaXMuc2V0Um91dGVyTWVtb3J5KHRoaXMubGV2ZWwuZGVmYXVsdFJvdXRlck1lbW9yeSk7XG4gIHRoaXMuc2V0RG5zTW9kZSh0aGlzLmxldmVsLmRlZmF1bHREbnNNb2RlKTtcbiAgdGhpcy5yZW5kZXIoKTtcblxuICAvLyBUcnkgYW5kIGdyYWNlZnVsbHkgZGlzY29ubmVjdCB3aGVuIGNsb3NpbmcgdGhlIHdpbmRvd1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgdGhpcy5vbkJlZm9yZVVubG9hZF8uYmluZCh0aGlzKSk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd1bmxvYWQnLCB0aGlzLm9uVW5sb2FkXy5iaW5kKHRoaXMpKTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIF8uZGVib3VuY2UodGhpcy51cGRhdGVMYXlvdXQuYmluZCh0aGlzKSwgMjUwKSk7XG59O1xuXG4vKipcbiAqIEJlZm9yZS11bmxvYWQgaGFuZGxlciwgdXNlZCB0byB3YXJuIHRoZSB1c2VyIChpZiBuZWNlc3NhcnkpIG9mIHdoYXQgdGhleVxuICogYXJlIGFiYW5kb25pbmcgaWYgdGhleSBuYXZpZ2F0ZSBhd2F5IGZyb20gdGhlIHBhZ2UuXG4gKlxuICogVGhpcyBldmVudCBoYXMgc29tZSB3ZWlyZCBzcGVjaWFsIHByb3BlcnRpZXMgYW5kIGluY29uc2lzdGVudCBiZWhhdmlvclxuICogYWNyb3NzIGJyb3dzZXJzXG4gKlxuICogU2VlOlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvRXZlbnRzL2JlZm9yZXVubG9hZFxuICogaHR0cDovL3d3dy56YWNobGVhdC5jb20vd2ViL2RvbnQtbGV0LXRoZS1kb29yLWhpdC15b3Utb251bmxvYWQtYW5kLW9uYmVmb3JldW5sb2FkL1xuICogaHR0cDovL3d3dy5odW5sb2NrLmNvbS9ibG9ncy9NYXN0ZXJpbmdfVGhlX0JhY2tfQnV0dG9uX1dpdGhfSmF2YXNjcmlwdFxuICpcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH0gSWYgd2Ugd2FudCB0byB3YXJuIHRoZSB1c2VyIGJlZm9yZSB0aGV5IGxlYXZlXG4gKiAgICAgICAgICB0aGUgcGFnZSwgdGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gYSB3YXJuaW5nIHN0cmluZywgd2hpY2ggbWF5IG9yXG4gKiAgICAgICAgICBtYXkgbm90IGFjdHVhbGx5IGJlIHVzZWQgYnkgdGhlIGJyb3dzZXIgdG8gcHJlc2VudCBhIHdhcm5pbmcuICBJZlxuICogICAgICAgICAgd2UgZG9uJ3Qgd2FudCB0byB3YXJuIHRoZSB1c2VyLCB0aGlzIG1ldGhvZCBkb2Vzbid0IHJldHVybiBhbnl0aGluZy5cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbS5wcm90b3R5cGUub25CZWZvcmVVbmxvYWRfID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gIGlmICh3aW5kb3cuX19UZXN0SW50ZXJmYWNlICYmIHdpbmRvdy5fX1Rlc3RJbnRlcmZhY2UuaWdub3JlT25CZWZvcmVVbmxvYWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBObyBuZWVkIHRvIHdhcm4gYWJvdXQgbmF2aWdhdGluZyBhd2F5IGlmIHRoZSBzdHVkZW50IGlzIG5vdCBjb25uZWN0ZWQsXG4gIC8vIG9yIGlzIHN0aWxsIGluIHRoZSBsb2JieS5cbiAgaWYgKHRoaXMuaXNDb25uZWN0ZWRUb1JlbW90ZSgpKSB7XG4gICAgZXZlbnQucmV0dXJuVmFsdWUgPSBpMThuLm9uQmVmb3JlVW5sb2FkV2FybmluZygpO1xuICAgIHJldHVybiBpMThuLm9uQmVmb3JlVW5sb2FkV2FybmluZygpO1xuICB9XG59O1xuXG4vKipcbiAqIFVubG9hZCBoYW5kbGVyLiAgVXNlZCB0byBhdHRlbXB0IGEgY2xlYW4gZGlzY29ubmVjdCBmcm9tIHRoZSBzaW11bGF0aW9uXG4gKiB1c2luZyBzeW5jaHJvbm91cyBBSkFYIGNhbGxzIHRvIHJlbW92ZSBvdXIgb3duIHJvd3MgZnJvbSByZW1vdGUgc3RvcmFnZS5cbiAqXG4gKiBTZWU6XG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9FdmVudHMvdW5sb2FkXG4gKlxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltLnByb3RvdHlwZS5vblVubG9hZF8gPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmlzQ29ubmVjdGVkVG9TaGFyZCgpKSB7XG4gICAgdGhpcy5zeW5jaHJvbm91c0Rpc2Nvbm5lY3RGcm9tU2hhcmRfKCk7XG4gIH1cbn07XG5cbi8qKlxuICogV2hldGhlciB3ZSBhcmUgY3VycmVudGx5IGNvbm5lY3RlZCB0byBhIG5ldHNpbSBzaGFyZFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbk5ldFNpbS5wcm90b3R5cGUuaXNDb25uZWN0ZWRUb1NoYXJkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gKG51bGwgIT09IHRoaXMubXlOb2RlKTtcbn07XG5cbi8qKlxuICogV2hldGhlciB3ZSBhcmUgY3VycmVudGx5IGNvbm5lY3RlZCB0byBhIHNoYXJkIHdpdGggdGhlIGdpdmVuIElEXG4gKiBAcGFyYW0ge3N0cmluZ30gc2hhcmRJRFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbk5ldFNpbS5wcm90b3R5cGUuaXNDb25uZWN0ZWRUb1NoYXJkSUQgPSBmdW5jdGlvbiAoc2hhcmRJRCkge1xuICByZXR1cm4gdGhpcy5pc0Nvbm5lY3RlZFRvU2hhcmQoKSAmJiB0aGlzLnNoYXJkXy5pZCA9PT0gc2hhcmRJRDtcbn07XG5cbi8qKlxuICogRXN0YWJsaXNoZXMgYSBuZXcgY29ubmVjdGlvbiB0byBhIG5ldHNpbSBzaGFyZCwgY2xvc2luZyB0aGUgb2xkIG9uZVxuICogaWYgcHJlc2VudC5cbiAqIEBwYXJhbSB7IXN0cmluZ30gc2hhcmRJRFxuICogQHBhcmFtIHshc3RyaW5nfSBkaXNwbGF5TmFtZVxuICovXG5OZXRTaW0ucHJvdG90eXBlLmNvbm5lY3RUb1NoYXJkID0gZnVuY3Rpb24gKHNoYXJkSUQsIGRpc3BsYXlOYW1lKSB7XG4gIGlmICh0aGlzLmlzQ29ubmVjdGVkVG9TaGFyZCgpKSB7XG4gICAgbG9nZ2VyLndhcm4oXCJBdXRvLWNsb3NpbmcgcHJldmlvdXMgY29ubmVjdGlvbi4uLlwiKTtcbiAgICB0aGlzLmRpc2Nvbm5lY3RGcm9tU2hhcmQodGhpcy5jb25uZWN0VG9TaGFyZC5iaW5kKHRoaXMsIHNoYXJkSUQsIGRpc3BsYXlOYW1lKSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5zaGFyZF8gPSBuZXcgTmV0U2ltU2hhcmQoc2hhcmRJRCwgTmV0U2ltR2xvYmFscy5nZXRQdWJTdWJDb25maWcoKSk7XG4gIHRoaXMuY3JlYXRlTXlDbGllbnROb2RlXyhkaXNwbGF5TmFtZSwgZnVuY3Rpb24gKGVyciwgbXlOb2RlKSB7XG4gICAgdGhpcy5teU5vZGUgPSBteU5vZGU7XG4gICAgdGhpcy5zaGFyZENoYW5nZS5ub3RpZnlPYnNlcnZlcnModGhpcy5zaGFyZF8sIHRoaXMubXlOb2RlKTtcbiAgfS5iaW5kKHRoaXMpKTtcbn07XG5cbi8qKlxuICogR2l2ZW4gYSBsb2JieSB0YWJsZSBoYXMgYWxyZWFkeSBiZWVuIGNvbmZpZ3VyZWQsIGNvbm5lY3RzIHRvIHRoYXQgdGFibGVcbiAqIGJ5IGluc2VydGluZyBhIHJvdyBmb3Igb3Vyc2VsdmVzIGludG8gdGhhdCB0YWJsZSBhbmQgc2F2aW5nIHRoZSByb3cgSUQuXG4gKiBAcGFyYW0geyFzdHJpbmd9IGRpc3BsYXlOYW1lXG4gKiBAcGFyYW0geyFOb2RlU3R5bGVDYWxsYmFja30gb25Db21wbGV0ZSAtIHJlc3VsdCBpcyBuZXcgbG9jYWwgbm9kZVxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltLnByb3RvdHlwZS5jcmVhdGVNeUNsaWVudE5vZGVfID0gZnVuY3Rpb24gKGRpc3BsYXlOYW1lLCBvbkNvbXBsZXRlKSB7XG4gIE5ldFNpbUxvY2FsQ2xpZW50Tm9kZS5jcmVhdGUodGhpcy5zaGFyZF8sIGRpc3BsYXlOYW1lLCBmdW5jdGlvbiAoZXJyLCBub2RlKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgbG9nZ2VyLmVycm9yKFwiRmFpbGVkIHRvIGNyZWF0ZSBjbGllbnQgbm9kZTsgXCIgKyBlcnIubWVzc2FnZSk7XG4gICAgICBOZXRTaW1BbGVydC5lcnJvcihpMThuLmNyZWF0ZU15Q2xpZW50Tm9kZUVycm9yKCkpO1xuICAgICAgb25Db21wbGV0ZShlcnIsIG51bGwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG5vZGUuc2V0TG9zdENvbm5lY3Rpb25DYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgICBOZXRTaW1BbGVydC53YXJuKGkxOG4uYWxlcnRDb25uZWN0aW9uUmVzZXQoKSk7XG4gICAgICB0aGlzLmRpc2Nvbm5lY3RGcm9tU2hhcmQoKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICAgIG5vZGUuaW5pdGlhbGl6ZVNpbXVsYXRpb24odGhpcy5zZW50TWVzc2FnZUxvZ18sIHRoaXMucmVjZWl2ZWRNZXNzYWdlTG9nXyk7XG4gICAgb25Db21wbGV0ZShlcnIsIG5vZGUpO1xuICB9LmJpbmQodGhpcykpO1xufTtcblxuLyoqXG4gKiBTeW5jaHJvbm91cyBkaXNjb25uZWN0LCBmb3IgdXNlIHdoZW4gbmF2aWdhdGluZyBhd2F5IGZyb20gdGhlIHBhZ2VcbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbS5wcm90b3R5cGUuc3luY2hyb25vdXNEaXNjb25uZWN0RnJvbVNoYXJkXyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5teU5vZGUuc3RvcFNpbXVsYXRpb24oKTtcbiAgdGhpcy5teU5vZGUuc3luY2hyb25vdXNEZXN0cm95KCk7XG4gIHRoaXMubXlOb2RlID0gbnVsbDtcbiAgLy8gRG9uJ3Qgbm90aWZ5IG9ic2VydmVycywgdGhpcyBzaG91bGQgb25seSBiZSB1c2VkIHdoZW4gbmF2aWdhdGluZyBhd2F5XG4gIC8vIGZyb20gdGhlIHBhZ2UuXG59O1xuXG4vKipcbiAqIEVuZHMgdGhlIGNvbm5lY3Rpb24gdG8gdGhlIG5ldHNpbSBzaGFyZC5cbiAqIEBwYXJhbSB7Tm9kZVN0eWxlQ2FsbGJhY2t9IFtvbkNvbXBsZXRlXVxuICovXG5OZXRTaW0ucHJvdG90eXBlLmRpc2Nvbm5lY3RGcm9tU2hhcmQgPSBmdW5jdGlvbiAob25Db21wbGV0ZSkge1xuICBvbkNvbXBsZXRlID0gb25Db21wbGV0ZSB8fCBmdW5jdGlvbiAoKSB7fTtcblxuICBpZiAoIXRoaXMuaXNDb25uZWN0ZWRUb1NoYXJkKCkpIHtcbiAgICBsb2dnZXIud2FybihcIlJlZHVuZGFudCBkaXNjb25uZWN0IGNhbGwuXCIpO1xuICAgIG9uQ29tcGxldGUobnVsbCwgbnVsbCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKHRoaXMuaXNDb25uZWN0ZWRUb1JlbW90ZSgpKSB7XG4gICAgLy8gRGlzY29ubmVjdCwgZnJvbSB0aGUgcmVtb3RlIG5vZGUsIGFuZCB0cnkgdGhpcyBhZ2FpbiBvbiBjb21wbGV0aW9uLlxuICAgIHRoaXMuZGlzY29ubmVjdEZyb21SZW1vdGUodGhpcy5kaXNjb25uZWN0RnJvbVNoYXJkLmJpbmQodGhpcywgb25Db21wbGV0ZSkpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMubXlOb2RlLnN0b3BTaW11bGF0aW9uKCk7XG4gIHRoaXMubXlOb2RlLmRlc3Ryb3koZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgaWYgKGVycikge1xuICAgICAgbG9nZ2VyLndhcm4oJ0Vycm9yIGRlc3Ryb3lpbmcgbm9kZTonICsgZXJyLm1lc3NhZ2UpO1xuICAgICAgLy8gRG9uJ3Qgc3RvcCBkaXNjb25uZWN0aW5nIG9uIGFuIGVycm9yIGhlcmU7IHdlIG1ha2UgYSBnb29kLWZhaXRoXG4gICAgICAvLyBlZmZvcnQgdG8gY2xlYW4gdXAgYWZ0ZXIgb3Vyc2VsdmVzLCBhbmQgbGV0IHRoZSBjbGVhbmluZyBzeXN0ZW0gdGFrZVxuICAgICAgLy8gY2FyZSBvZiB0aGUgcmVzdC5cbiAgICB9XG5cbiAgICB0aGlzLm15Tm9kZSA9IG51bGw7XG4gICAgdGhpcy5zaGFyZF8uZGlzY29ubmVjdCgpO1xuICAgIHRoaXMuc2hhcmRfID0gbnVsbDtcbiAgICB0aGlzLnNoYXJkQ2hhbmdlLm5vdGlmeU9ic2VydmVycyhudWxsLCBudWxsKTtcbiAgICBvbkNvbXBsZXRlKGVyciwgcmVzdWx0KTtcbiAgfS5iaW5kKHRoaXMpKTtcbn07XG5cbi8qKlxuICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGxvY2FsIGNsaWVudCBpcyBjb25uZWN0ZWQgdG8gYSByZW1vdGUgbm9kZVxuICovXG5OZXRTaW0ucHJvdG90eXBlLmlzQ29ubmVjdGVkVG9SZW1vdGUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmlzQ29ubmVjdGVkVG9DbGllbnQoKSB8fCB0aGlzLmlzQ29ubmVjdGVkVG9Sb3V0ZXIoKTtcbn07XG5cbi8qKlxuICogQHJldHVybnMge05ldFNpbU5vZGV9IHRoZSByZW1vdGUgbm9kZSBvdXIgY2xpZW50IGlzIGNvbm5lY3RlZCB0bywgb3IgbnVsbCBpZlxuICogICAgICAgICAgbm90IGNvbm5lY3RlZFxuICovXG5OZXRTaW0ucHJvdG90eXBlLmdldENvbm5lY3RlZFJlbW90ZU5vZGUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBjbGllbnQgPSB0aGlzLmdldENvbm5lY3RlZENsaWVudCgpO1xuICB2YXIgcm91dGVyID0gdGhpcy5nZXRDb25uZWN0ZWRSb3V0ZXIoKTtcbiAgcmV0dXJuIGNsaWVudCA/IGNsaWVudCA6IHJvdXRlcjtcbn07XG5cbi8qKlxuICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGxvY2FsIGNsaWVudCBoYXMgYSBtdXR1YWwgUDJQIGNvbm5lY3Rpb24gdG9cbiAqICAgICAgICAgIGFub3RoZXIgY2xpZW50LlxuICovXG5OZXRTaW0ucHJvdG90eXBlLmlzQ29ubmVjdGVkVG9DbGllbnQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAhISh0aGlzLmdldENvbm5lY3RlZENsaWVudCgpKTtcbn07XG5cbi8qKlxuICogQHJldHVybnMge05ldFNpbUNsaWVudE5vZGV9IHRoZSBjbGllbnQgbm9kZSBvdXIgY2xpZW50IGlzIGNvbm5lY3RlZCB0bywgb3JcbiAqICAgICAgICAgIG51bGwgaWYgbm90IGNvbm5lY3RlZCB0byBhbm90aGVyIGNsaWVudC5cbiAqL1xuTmV0U2ltLnByb3RvdHlwZS5nZXRDb25uZWN0ZWRDbGllbnQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmlzQ29ubmVjdGVkVG9TaGFyZCgpKSB7XG4gICAgcmV0dXJuIHRoaXMubXlOb2RlLm15UmVtb3RlQ2xpZW50O1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuLyoqXG4gKiBXaGV0aGVyIG91ciBjbGllbnQgbm9kZSBpcyBjb25uZWN0ZWQgdG8gYSByb3V0ZXIgbm9kZS5cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5OZXRTaW0ucHJvdG90eXBlLmlzQ29ubmVjdGVkVG9Sb3V0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAhISh0aGlzLmdldENvbm5lY3RlZFJvdXRlcigpKTtcbn07XG5cbi8qKlxuICogQHJldHVybnMge05ldFNpbVJvdXRlck5vZGV9IHRoZSByb3V0ZXIgbm9kZSBvdXIgY2xpZW50IGlzIGNvbm5lY3RlZCB0bywgb3JcbiAqICAgICAgICAgIG51bGwgaWYgbm90IGNvbm5lY3RlZCB0byBhIHJvdXRlci5cbiAqL1xuTmV0U2ltLnByb3RvdHlwZS5nZXRDb25uZWN0ZWRSb3V0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmlzQ29ubmVjdGVkVG9TaGFyZCgpKSB7XG4gICAgcmV0dXJuIHRoaXMubXlOb2RlLmdldE15Um91dGVyKCk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG4vKipcbiAqIEVzdGFibGlzaCBhIGNvbm5lY3Rpb24gYmV0d2VlbiB0aGUgbG9jYWwgY2xpZW50IGFuZCB0aGUgZ2l2ZW5cbiAqIHNpbXVsYXRlZCByb3V0ZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gcm91dGVySURcbiAqIEBwYXJhbSB7Tm9kZVN0eWxlQ2FsbGJhY2t9IG9uQ29tcGxldGVcbiAqL1xuTmV0U2ltLnByb3RvdHlwZS5jb25uZWN0VG9Sb3V0ZXIgPSBmdW5jdGlvbiAocm91dGVySUQsIG9uQ29tcGxldGUpIHtcbiAgaWYgKHRoaXMuaXNDb25uZWN0ZWRUb1JlbW90ZSgpKSB7XG4gICAgLy8gRGlzY29ubmVjdCBhbmQgdHJ5IHRvIGNvbm5lY3QgYWdhaW4gd2hlbiB3ZSdyZSBkb25lLlxuICAgIGxvZ2dlci53YXJuKFwiQXV0by1kaXNjb25uZWN0aW5nIGZyb20gcHJldmlvdXMgcm91dGVyLlwiKTtcbiAgICB0aGlzLmRpc2Nvbm5lY3RGcm9tUmVtb3RlKHRoaXMuY29ubmVjdFRvUm91dGVyLmJpbmQodGhpcywgcm91dGVySUQsIG9uQ29tcGxldGUpKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIE5ldFNpbVJvdXRlck5vZGUuZ2V0KHJvdXRlcklELCB0aGlzLnNoYXJkXywgZnVuY3Rpb24gKGVyciwgcm91dGVyKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgbG9nZ2VyLndhcm4oJ0ZhaWxlZCB0byBmaW5kIHJvdXRlciB3aXRoIElEICcgKyByb3V0ZXJJRCArICc7ICcgK1xuICAgICAgICAgIGVyci5tZXNzYWdlKTtcbiAgICAgIG9uQ29tcGxldGUoZXJyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzZWxmLm15Tm9kZS5jb25uZWN0VG9Sb3V0ZXIocm91dGVyLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKCdGYWlsZWQgdG8gY29ubmVjdCB0byAnICsgcm91dGVyLmdldERpc3BsYXlOYW1lKCkgKyAnOyAnICtcbiAgICAgICAgICAgIGVyci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICAgIG9uQ29tcGxldGUoZXJyLCByb3V0ZXIpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbi8qKlxuICogRGlzY29ubmVjdHMgb3VyIGNsaWVudCBub2RlIGZyb20gdGhlIGN1cnJlbnRseSBjb25uZWN0ZWQgcmVtb3RlIG5vZGUuXG4gKiBEZXN0cm95cyB0aGUgc2hhcmVkIHdpcmUuXG4gKiBAcGFyYW0ge05vZGVTdHlsZUNhbGxiYWNrfSBbb25Db21wbGV0ZV0gb3B0aW9uYWwgZnVuY3Rpb24gdG8gY2FsbCB3aGVuXG4gKiAgICAgICAgZGlzY29ubmVjdCBpcyBjb21wbGV0ZVxuICovXG5OZXRTaW0ucHJvdG90eXBlLmRpc2Nvbm5lY3RGcm9tUmVtb3RlID0gZnVuY3Rpb24gKG9uQ29tcGxldGUpIHtcbiAgb25Db21wbGV0ZSA9IHV0aWxzLnZhbHVlT3Iob25Db21wbGV0ZSwgZnVuY3Rpb24gKCkge30pO1xuICB0aGlzLm15Tm9kZS5kaXNjb25uZWN0UmVtb3RlKG9uQ29tcGxldGUpO1xufTtcblxuLyoqXG4gKiBBc3luY2hyb25vdXMgZmV0Y2ggb2YgdGhlIGxhdGVzdCBtZXNzYWdlIHNoYXJlZCBiZXR3ZWVuIHRoZSBsb2NhbFxuICogbm9kZSBhbmQgaXRzIGNvbm5lY3RlZCByZW1vdGUuXG4gKiBVc2VkIG9ubHkgaW4gc2ltcGxleCAmIGJpdC1ncmFudWxhciBtb2RlLlxuICogQHBhcmFtIHshTm9kZVN0eWxlQ2FsbGJhY2t9IG9uQ29tcGxldGVcbiAqL1xuTmV0U2ltLnByb3RvdHlwZS5yZWNlaXZlQml0ID0gZnVuY3Rpb24gKG9uQ29tcGxldGUpIHtcbiAgdGhpcy5teU5vZGUuZ2V0TGF0ZXN0TWVzc2FnZU9uU2ltcGxleFdpcmUob25Db21wbGV0ZSk7XG59O1xuXG4vKipcbiAqIFVwZGF0ZSBlbmNvZGluZy12aWV3IHNldHRpbmcgYWNyb3NzIHRoZSB3aG9sZSBhcHAuXG4gKlxuICogUHJvcGFnYXRlcyB0aGUgY2hhbmdlIGRvd24gaW50byByZWxldmFudCBjaGlsZCBjb21wb25lbnRzLCBwb3NzaWJseVxuICogaW5jbHVkaW5nIHRoZSBjb250cm9sIHRoYXQgaW5pdGlhdGVkIHRoZSBjaGFuZ2U7IGluIHRoYXQgY2FzZSwgcmUtc2V0dGluZ1xuICogdGhlIHZhbHVlIHNob3VsZCBiZSBhIG5vLW9wIGFuZCBzYWZlIHRvIGRvLlxuICpcbiAqIEBwYXJhbSB7RW5jb2RpbmdUeXBlW119IG5ld0VuY29kaW5nc1xuICovXG5OZXRTaW0ucHJvdG90eXBlLmNoYW5nZUVuY29kaW5ncyA9IGZ1bmN0aW9uIChuZXdFbmNvZGluZ3MpIHtcbiAgdGhpcy5lbmFibGVkRW5jb2RpbmdzXyA9IG5ld0VuY29kaW5ncztcbiAgaWYgKHRoaXMudGFic18pIHtcbiAgICB0aGlzLnRhYnNfLnNldEVuY29kaW5ncyhuZXdFbmNvZGluZ3MpO1xuICB9XG4gIHRoaXMucmVjZWl2ZWRNZXNzYWdlTG9nXy5zZXRFbmNvZGluZ3MobmV3RW5jb2RpbmdzKTtcbiAgdGhpcy5zZW50TWVzc2FnZUxvZ18uc2V0RW5jb2RpbmdzKG5ld0VuY29kaW5ncyk7XG4gIHRoaXMuc2VuZFBhbmVsXy5zZXRFbmNvZGluZ3MobmV3RW5jb2RpbmdzKTtcbiAgdGhpcy52aXN1YWxpemF0aW9uXy5zZXRFbmNvZGluZ3MobmV3RW5jb2RpbmdzKTtcbiAgdGhpcy51cGRhdGVMYXlvdXQoKTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBjdXJyZW50bHkgZW5hYmxlZCBlbmNvZGluZyB0eXBlcy5cbiAqIEByZXR1cm5zIHtFbmNvZGluZ1R5cGVbXX1cbiAqL1xuTmV0U2ltLnByb3RvdHlwZS5nZXRFbmNvZGluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmVuYWJsZWRFbmNvZGluZ3NfO1xufTtcblxuLyoqXG4gKiBVcGRhdGUgY2h1bmstc2l6ZS9ieXRlc2l6ZSBzZXR0aW5nIGFjcm9zcyB0aGUgd2hvbGUgYXBwLlxuICpcbiAqIFByb3BhZ2F0ZXMgdGhlIGNoYW5nZSBkb3duIGludG8gcmVsZXZhbnQgY2hpbGQgY29tcG9uZW50cywgcG9zc2libHlcbiAqIGluY2x1ZGluZyB0aGUgY29udHJvbCB0aGF0IGluaXRpYXRlZCB0aGUgY2hhbmdlOyBpbiB0aGF0IGNhc2UsIHJlLXNldHRpbmdcbiAqIHRoZSB2YWx1ZSBzaG91bGQgYmUgYSBuby1vcCBhbmQgc2FmZSB0byBkby5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbmV3Q2h1bmtTaXplXG4gKi9cbk5ldFNpbS5wcm90b3R5cGUuc2V0Q2h1bmtTaXplID0gZnVuY3Rpb24gKG5ld0NodW5rU2l6ZSkge1xuICB0aGlzLmNodW5rU2l6ZV8gPSBuZXdDaHVua1NpemU7XG4gIGlmICh0aGlzLnRhYnNfKSB7XG4gICAgdGhpcy50YWJzXy5zZXRDaHVua1NpemUobmV3Q2h1bmtTaXplKTtcbiAgfVxuICB0aGlzLnJlY2VpdmVkTWVzc2FnZUxvZ18uc2V0Q2h1bmtTaXplKG5ld0NodW5rU2l6ZSk7XG4gIHRoaXMuc2VudE1lc3NhZ2VMb2dfLnNldENodW5rU2l6ZShuZXdDaHVua1NpemUpO1xuICB0aGlzLnNlbmRQYW5lbF8uc2V0Q2h1bmtTaXplKG5ld0NodW5rU2l6ZSk7XG59O1xuXG4vKipcbiAqIFVwZGF0ZSBiaXRyYXRlIGZvciB0aGUgbG9jYWwgZGV2aWNlLCB3aGljaCBhZmZlY3RzIHNlbmQtYW5pbWF0aW9uIHNwZWVkLlxuICogQHBhcmFtIHtudW1iZXJ9IG5ld0JpdFJhdGUgaW4gYml0cyBwZXIgc2Vjb25kXG4gKi9cbk5ldFNpbS5wcm90b3R5cGUuc2V0TXlEZXZpY2VCaXRSYXRlID0gZnVuY3Rpb24gKG5ld0JpdFJhdGUpIHtcbiAgdGhpcy5teURldmljZUJpdFJhdGVfID0gbmV3Qml0UmF0ZTtcbiAgaWYgKHRoaXMudGFic18pIHtcbiAgICB0aGlzLnRhYnNfLnNldE15RGV2aWNlQml0UmF0ZShuZXdCaXRSYXRlKTtcbiAgfVxuICB0aGlzLnNlbmRQYW5lbF8uc2V0Qml0UmF0ZShuZXdCaXRSYXRlKTtcbn07XG5cbi8qKiBAcGFyYW0ge251bWJlcn0gY3JlYXRpb25UaW1lc3RhbXBNcyAqL1xuTmV0U2ltLnByb3RvdHlwZS5zZXRSb3V0ZXJDcmVhdGlvblRpbWUgPSBmdW5jdGlvbiAoY3JlYXRpb25UaW1lc3RhbXBNcykge1xuICBpZiAodGhpcy50YWJzXykge1xuICAgIHRoaXMudGFic18uc2V0Um91dGVyQ3JlYXRpb25UaW1lKGNyZWF0aW9uVGltZXN0YW1wTXMpO1xuICB9XG59O1xuXG4vKipcbiAqIFVwZGF0ZSByb3V0ZXIgYmFuZHdpZHRoIGFjcm9zcyB0aGUgYXBwLlxuICpcbiAqIFByb3BhZ2F0ZXMgdGhlIGNoYW5nZSBkb3duIGludG8gcmVsZXZhbnQgY2hpbGQgY29tcG9uZW50cywgcG9zc2libHkgaW5jbHVkaW5nXG4gKiB0aGUgY29udHJvbCB0aGF0IGluaXRpYXRlZCB0aGUgY2hhbmdlOyBpbiB0aGF0IGNhc2UsIHJlLXNldHRpbmcgdGhlIHZhbHVlXG4gKiBzaG91bGQgYmUgYSBuby1vcCBhbmQgc2FmZSB0byBkby5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbmV3QmFuZHdpZHRoIGluIGJpdHMvc2Vjb25kXG4gKi9cbk5ldFNpbS5wcm90b3R5cGUuc2V0Um91dGVyQmFuZHdpZHRoID0gZnVuY3Rpb24gKG5ld0JhbmR3aWR0aCkge1xuICBpZiAodGhpcy50YWJzXykge1xuICAgIHRoaXMudGFic18uc2V0Um91dGVyQmFuZHdpZHRoKG5ld0JhbmR3aWR0aCk7XG4gIH1cbn07XG5cbi8qKlxuICogU2V0cyByb3V0ZXIgYmFuZHdpZHRoIGFjcm9zcyB0aGUgc2ltdWxhdGlvbiwgcHJvYWdhdGluZyB0aGUgY2hhbmdlIHRvIG90aGVyXG4gKiBjbGllbnRzLlxuICogQHBhcmFtIHtudW1iZXJ9IG5ld0JhbmR3aWR0aCBpbiBiaXRzL3NlY29uZFxuICovXG5OZXRTaW0ucHJvdG90eXBlLmNoYW5nZVJlbW90ZVJvdXRlckJhbmR3aWR0aCA9IGZ1bmN0aW9uIChuZXdCYW5kd2lkdGgpIHtcbiAgdGhpcy5zZXRSb3V0ZXJCYW5kd2lkdGgobmV3QmFuZHdpZHRoKTtcbiAgaWYgKHRoaXMuaXNDb25uZWN0ZWRUb1JvdXRlcigpKSB7XG4gICAgdGhpcy5nZXRDb25uZWN0ZWRSb3V0ZXIoKS5zZXRCYW5kd2lkdGgobmV3QmFuZHdpZHRoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBVcGRhdGUgcm91dGVyIG1lbW9yeSBhY3Jvc3MgdGhlIGFwcC5cbiAqXG4gKiBQcm9wYWdhdGVzIHRoZSBjaGFuZ2UgZG93biBpbnRvIHJlbGV2YW50IGNoaWxkIGNvbXBvbmVudHMsIHBvc3NpYmx5IGluY2x1ZGluZ1xuICogdGhlIGNvbnRyb2wgdGhhdCBpbml0aWF0ZWQgdGhlIGNoYW5nZTsgaW4gdGhhdCBjYXNlLCByZS1zZXR0aW5nIHRoZSB2YWx1ZVxuICogc2hvdWxkIGJlIGEgbm8tb3AgYW5kIHNhZmUgdG8gZG8uXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IG5ld01lbW9yeSBpbiBiaXRzXG4gKi9cbk5ldFNpbS5wcm90b3R5cGUuc2V0Um91dGVyTWVtb3J5ID0gZnVuY3Rpb24gKG5ld01lbW9yeSkge1xuICBpZiAodGhpcy50YWJzXykge1xuICAgIHRoaXMudGFic18uc2V0Um91dGVyTWVtb3J5KG5ld01lbW9yeSk7XG4gIH1cbn07XG5cbi8qKlxuICogU2V0cyByb3V0ZXIgbWVtb3J5IGNhcGFjaXR5IGFjcm9zcyB0aGUgc2ltdWxhdGlvbiwgcHJvcGFnYXRpbmcgdGhlIGNoYW5nZVxuICogdG8gb3RoZXIgY2xpZW50cy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBuZXdNZW1vcnkgaW4gYml0c1xuICovXG5OZXRTaW0ucHJvdG90eXBlLmNoYW5nZVJlbW90ZVJvdXRlck1lbW9yeSA9IGZ1bmN0aW9uIChuZXdNZW1vcnkpIHtcbiAgdGhpcy5zZXRSb3V0ZXJNZW1vcnkobmV3TWVtb3J5KTtcbiAgaWYgKHRoaXMuaXNDb25uZWN0ZWRUb1JvdXRlcigpKSB7XG4gICAgdGhpcy5nZXRDb25uZWN0ZWRSb3V0ZXIoKS5zZXRNZW1vcnkobmV3TWVtb3J5KTtcbiAgfVxufTtcblxuLyoqXG4gKiBVcGRhdGUgRE5TIG1vZGUgYWNyb3NzIHRoZSB3aG9sZSBhcHAuXG4gKlxuICogUHJvcGFnYXRlcyB0aGUgY2hhbmdlIGRvd24gaW50byByZWxldmFudCBjaGlsZCBjb21wb25lbnRzLCBwb3NzaWJseVxuICogaW5jbHVkaW5nIHRoZSBjb250cm9sIHRoYXQgaW5pdGlhdGVkIHRoZSBjaGFuZ2U7IGluIHRoYXQgY2FzZSwgcmUtc2V0dGluZ1xuICogdGhlIHZhbHVlIHNob3VsZCBiZSBhIG5vLW9wIGFuZCBzYWZlIHRvIGRvLlxuICpcbiAqIEBwYXJhbSB7RG5zTW9kZX0gbmV3RG5zTW9kZVxuICovXG5OZXRTaW0ucHJvdG90eXBlLnNldERuc01vZGUgPSBmdW5jdGlvbiAobmV3RG5zTW9kZSkge1xuICB0aGlzLmRuc01vZGVfID0gbmV3RG5zTW9kZTtcbiAgaWYgKHRoaXMudGFic18pIHtcbiAgICB0aGlzLnRhYnNfLnNldERuc01vZGUobmV3RG5zTW9kZSk7XG4gIH1cbiAgdGhpcy52aXN1YWxpemF0aW9uXy5zZXREbnNNb2RlKG5ld0Ruc01vZGUpO1xufTtcblxuLyoqXG4gKiBHZXQgY3VycmVudCBETlMgbW9kZS5cbiAqIEByZXR1cm5zIHtEbnNNb2RlfVxuICovXG5OZXRTaW0ucHJvdG90eXBlLmdldERuc01vZGUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmRuc01vZGVfO1xufTtcblxuLyoqXG4gKiBTZXRzIEROUyBtb2RlIGFjcm9zcyB0aGUgd2hvbGUgc2ltdWxhdGlvbiwgcHJvcGFnYXRpbmcgdGhlIGNoYW5nZVxuICogdG8gb3RoZXIgY2xpZW50cy5cbiAqIEBwYXJhbSB7RG5zTW9kZX0gbmV3RG5zTW9kZVxuICovXG5OZXRTaW0ucHJvdG90eXBlLmNoYW5nZVJlbW90ZURuc01vZGUgPSBmdW5jdGlvbiAobmV3RG5zTW9kZSkge1xuICB0aGlzLnNldERuc01vZGUobmV3RG5zTW9kZSk7XG4gIGlmICh0aGlzLmlzQ29ubmVjdGVkVG9Sb3V0ZXIoKSkge1xuICAgIHRoaXMuZ2V0Q29ubmVjdGVkUm91dGVyKCkuc2V0RG5zTW9kZShuZXdEbnNNb2RlKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzRG5zTm9kZVxuICovXG5OZXRTaW0ucHJvdG90eXBlLnNldElzRG5zTm9kZSA9IGZ1bmN0aW9uIChpc0Ruc05vZGUpIHtcbiAgaWYgKHRoaXMudGFic18pIHtcbiAgICB0aGlzLnRhYnNfLnNldElzRG5zTm9kZShpc0Ruc05vZGUpO1xuICB9XG5cbiAgaWYgKHRoaXMuaXNDb25uZWN0ZWRUb1JvdXRlcigpKSB7XG4gICAgdGhpcy5zZXREbnNUYWJsZUNvbnRlbnRzKHRoaXMuZ2V0Q29ubmVjdGVkUm91dGVyKCkuZ2V0QWRkcmVzc1RhYmxlKCkpO1xuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBkbnNOb2RlSURcbiAqL1xuTmV0U2ltLnByb3RvdHlwZS5zZXREbnNOb2RlSUQgPSBmdW5jdGlvbiAoZG5zTm9kZUlEKSB7XG4gIHRoaXMudmlzdWFsaXphdGlvbl8uc2V0RG5zTm9kZUlEKGRuc05vZGVJRCk7XG59O1xuXG4vKipcbiAqIFRlbGxzIHNpbXVsYXRpb24gdGhhdCB3ZSB3YW50IHRvIGJlY29tZSB0aGUgRE5TIG5vZGUgZm9yIG91clxuICogY29ubmVjdGVkIHJvdXRlci5cbiAqL1xuTmV0U2ltLnByb3RvdHlwZS5iZWNvbWVEbnNOb2RlID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnNldElzRG5zTm9kZSh0cnVlKTtcbiAgaWYgKHRoaXMubXlOb2RlICYmIHRoaXMubXlOb2RlLmdldE15Um91dGVyKCkpIHtcbiAgICAvLyBTVEFURSBJUyBUSEUgUk9PVCBPRiBBTEwgRVZJTFxuICAgIHZhciBteU5vZGUgPSB0aGlzLm15Tm9kZTtcbiAgICB2YXIgcm91dGVyID0gbXlOb2RlLmdldE15Um91dGVyKCk7XG4gICAgcm91dGVyLmRuc05vZGVJRCA9IG15Tm9kZS5lbnRpdHlJRDtcbiAgICByb3V0ZXIudXBkYXRlKCk7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheX0gdGFibGVDb250ZW50c1xuICovXG5OZXRTaW0ucHJvdG90eXBlLnNldERuc1RhYmxlQ29udGVudHMgPSBmdW5jdGlvbiAodGFibGVDb250ZW50cykge1xuICBpZiAodGhpcy50YWJzXykge1xuICAgIHRoaXMudGFic18uc2V0RG5zVGFibGVDb250ZW50cyh0YWJsZUNvbnRlbnRzKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5fSBsb2dEYXRhXG4gKi9cbk5ldFNpbS5wcm90b3R5cGUuc2V0Um91dGVyTG9nRGF0YSA9IGZ1bmN0aW9uIChsb2dEYXRhKSB7XG4gIGlmICh0aGlzLnRhYnNfKSB7XG4gICAgdGhpcy50YWJzXy5zZXRSb3V0ZXJMb2dEYXRhKGxvZ0RhdGEpO1xuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBxdWV1ZWRQYWNrZXRDb3VudFxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltLnByb3RvdHlwZS5zZXRSb3V0ZXJRdWV1ZWRQYWNrZXRDb3VudF8gPSBmdW5jdGlvbiAocXVldWVkUGFja2V0Q291bnQpIHtcbiAgaWYgKHRoaXMudGFic18pIHtcbiAgICB0aGlzLnRhYnNfLnNldFJvdXRlclF1ZXVlZFBhY2tldENvdW50KHF1ZXVlZFBhY2tldENvdW50KTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gdXNlZE1lbW9yeUluQml0c1xuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltLnByb3RvdHlwZS5zZXRSb3V0ZXJNZW1vcnlJblVzZV8gPSBmdW5jdGlvbiAodXNlZE1lbW9yeUluQml0cykge1xuICBpZiAodGhpcy50YWJzXykge1xuICAgIHRoaXMudGFic18uc2V0Um91dGVyTWVtb3J5SW5Vc2UodXNlZE1lbW9yeUluQml0cyk7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGRhdGFSYXRlQml0c1BlclNlY29uZFxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltLnByb3RvdHlwZS5zZXRSb3V0ZXJEYXRhUmF0ZV8gPSBmdW5jdGlvbiAoZGF0YVJhdGVCaXRzUGVyU2Vjb25kKSB7XG4gIGlmICh0aGlzLnRhYnNfKSB7XG4gICAgdGhpcy50YWJzXy5zZXRSb3V0ZXJEYXRhUmF0ZShkYXRhUmF0ZUJpdHNQZXJTZWNvbmQpO1xuICB9XG59O1xuXG4vKipcbiAqIExvYWQgYXVkaW8gYXNzZXRzIGZvciB0aGlzIGFwcFxuICogVE9ETyAoYmJ1Y2hhbmFuKTogT3VnaHQgdG8gcHVsbCB0aGlzIGludG8gYW4gYXVkaW8gbWFuYWdlbWVudCBtb2R1bGVcbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbS5wcm90b3R5cGUubG9hZEF1ZGlvXyA9IGZ1bmN0aW9uICgpIHtcbn07XG5cbi8qKlxuICogUmVwbGFjZXMgU3R1ZGlvQXBwLmNvbmZpZ3VyZURvbS5cbiAqIFNob3VsZCBiZSBib3VuZCBhZ2FpbnN0IFN0dWRpb0FwcCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgU2hvdWxkIGF0IGxlYXN0IGNvbnRhaW5cbiAqICAgY29udGFpbmVySWQ6IElEIG9mIGEgcGFyZW50IERPTSBlbGVtZW50IGZvciBhcHAgY29udGVudFxuICogICBodG1sOiBDb250ZW50IHRvIHB1dCBpbnNpZGUgI2NvbnRhaW5lcklkXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW0uY29uZmlndXJlRG9tT3ZlcnJpZGVfID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29uZmlnLmNvbnRhaW5lcklkKTtcbiAgY29udGFpbmVyLmlubmVySFRNTCA9IGNvbmZpZy5odG1sO1xuXG4gIHZhciB2aXpIZWlnaHQgPSB0aGlzLk1JTl9XT1JLU1BBQ0VfSEVJR0hUO1xuICB2YXIgdmlzdWFsaXphdGlvbkNvbHVtbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXRzaW0tbGVmdGNvbCcpO1xuXG4gIGlmIChjb25maWcucGluV29ya3NwYWNlVG9Cb3R0b20pIHtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcbiAgICBjb250YWluZXIuY2xhc3NOYW1lID0gY29udGFpbmVyLmNsYXNzTmFtZSArIFwiIHBpbl9ib3R0b21cIjtcbiAgICB2aXN1YWxpemF0aW9uQ29sdW1uLmNsYXNzTmFtZSA9IHZpc3VhbGl6YXRpb25Db2x1bW4uY2xhc3NOYW1lICsgXCIgcGluX2JvdHRvbVwiO1xuICB9IGVsc2Uge1xuICAgIHZpc3VhbGl6YXRpb25Db2x1bW4uc3R5bGUubWluSGVpZ2h0ID0gdml6SGVpZ2h0ICsgJ3B4JztcbiAgICBjb250YWluZXIuc3R5bGUubWluSGVpZ2h0ID0gdml6SGVpZ2h0ICsgJ3B4JztcbiAgfVxufTtcblxuLyoqXG4gKiBSZXNpemUgdGhlIGxlZnQgY29sdW1uIHNvIGl0IHBpbnMgYWJvdmUgdGhlIGZvb3Rlci5cbiAqL1xuZnVuY3Rpb24gcmVzaXplTGVmdENvbHVtblRvU2l0QWJvdmVGb290ZXIoKSB7XG4gIHZhciBwaW5uZWRMZWZ0Q29sdW1uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25ldHNpbS1sZWZ0Y29sLnBpbl9ib3R0b20nKTtcbiAgaWYgKCFwaW5uZWRMZWZ0Q29sdW1uKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHNtYWxsRm9vdGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BhZ2Utc21hbGwtZm9vdGVyIC5zbWFsbC1mb290ZXItYmFzZScpO1xuXG4gIHZhciBib3R0b20gPSAwO1xuICBpZiAoc21hbGxGb290ZXIpIHtcbiAgICB2YXIgY29kZUFwcCA9ICQoJyNjb2RlQXBwJyk7XG4gICAgYm90dG9tICs9ICQoc21hbGxGb290ZXIpLm91dGVySGVpZ2h0KHRydWUpO1xuICAgIC8vIEZvb3RlciBpcyByZWxhdGl2ZSB0byB0aGUgZG9jdW1lbnQsIG5vdCBjb2RlQXBwLCBzbyB3ZSBuZWVkIHRvXG4gICAgLy8gcmVtb3ZlIHRoZSBjb2RlQXBwIGJvdHRvbSBvZmZzZXQgdG8gZ2V0IHRoZSBjb3JyZWN0IG1hcmdpbi5cbiAgICBib3R0b20gLT0gcGFyc2VJbnQoY29kZUFwcC5jc3MoJ2JvdHRvbScpLCAxMCk7XG4gIH1cblxuICBwaW5uZWRMZWZ0Q29sdW1uLnN0eWxlLmJvdHRvbSA9IGJvdHRvbSArICdweCc7XG59XG5cbmZ1bmN0aW9uIHJlc2l6ZUZvb3RlclRvRml0VG9MZWZ0T2ZDb250ZW50KCkge1xuICB2YXIgbGVmdENvbHVtbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuZXRzaW0tbGVmdGNvbC5waW5fYm90dG9tJyk7XG4gIHZhciBpbnN0cnVjdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaW5zdHJ1Y3Rpb25zJyk7XG4gIHZhciBzbWFsbEZvb3RlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwYWdlLXNtYWxsLWZvb3RlciAuc21hbGwtZm9vdGVyLWJhc2UnKTtcblxuICBpZiAoIXNtYWxsRm9vdGVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHBhZGRpbmcgPSBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShzbWFsbEZvb3RlcilbXCJwYWRkaW5nLWxlZnRcIl0pO1xuXG4gIHZhciBib3VuZGluZ1dpZHRoO1xuICBpZiAobGVmdENvbHVtbiAmJiAkKGxlZnRDb2x1bW4pLmlzKCc6dmlzaWJsZScpKSB7XG4gICAgYm91bmRpbmdXaWR0aCA9IGxlZnRDb2x1bW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQ7XG4gIH0gZWxzZSBpZiAoaW5zdHJ1Y3Rpb25zICYmICQoaW5zdHJ1Y3Rpb25zKS5pcygnOnZpc2libGUnKSkge1xuICAgIGJvdW5kaW5nV2lkdGggPSBpbnN0cnVjdGlvbnMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQ7XG4gIH1cblxuICBzbWFsbEZvb3Rlci5zdHlsZS5tYXhXaWR0aCA9IChib3VuZGluZ1dpZHRoKSA/IChib3VuZGluZ1dpZHRoIC0gcGFkZGluZykgKyAncHgnIDogbnVsbDtcbn1cblxudmFyIG5ldHNpbURlYm91bmNlZFJlc2l6ZUZvb3RlciA9IF8uZGVib3VuY2UoZnVuY3Rpb24gKCkge1xuICByZXNpemVGb290ZXJUb0ZpdFRvTGVmdE9mQ29udGVudCgpO1xuICByZXNpemVMZWZ0Q29sdW1uVG9TaXRBYm92ZUZvb3RlcigpO1xufSwgMTApO1xuXG4vKipcbiAqIFJlcGxhY2VzIFN0dWRpb0FwcC5vblJlc2l6ZVxuICogU2hvdWxkIGJlIGJvdW5kIGFnYWluc3QgU3R1ZGlvQXBwIGluc3RhbmNlLlxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltLm9uUmVzaXplT3ZlcnJpZGVfID0gZnVuY3Rpb24oKSB7XG4gIHZhciBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXBwY29udGFpbmVyJyk7XG4gIHZhciBkaXZQYXJlbnQgPSBkaXYucGFyZW50Tm9kZTtcbiAgdmFyIHBhcmVudFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZGl2UGFyZW50KTtcbiAgdmFyIHBhcmVudFdpZHRoID0gcGFyc2VJbnQocGFyZW50U3R5bGUud2lkdGgsIDEwKTtcbiAgZGl2LnN0eWxlLnRvcCA9IGRpdlBhcmVudC5vZmZzZXRUb3AgKyAncHgnO1xuICBkaXYuc3R5bGUud2lkdGggPSBwYXJlbnRXaWR0aCArICdweCc7XG5cbiAgbmV0c2ltRGVib3VuY2VkUmVzaXplRm9vdGVyKCk7XG59O1xuXG4vKipcbiAqIFBhc3N0aHJvdWdoIHRvIGxvY2FsIFwic3RhdGljXCIgbmV0c2ltRGVib3VuY2VSZXNpemVGb290ZXIgbWV0aG9kXG4gKi9cbk5ldFNpbS5wcm90b3R5cGUuZGVib3VuY2VkUmVzaXplRm9vdGVyID0gZnVuY3Rpb24gKCkge1xuICBuZXRzaW1EZWJvdW5jZWRSZXNpemVGb290ZXIoKTtcbn07XG5cbi8qKlxuICogUmUtcmVuZGVyIHBhcnRzIG9mIHRoZSBwYWdlIHRoYXQgY2FuIGJlIHJlLXJlbmRlcmVkIGluIHBsYWNlLlxuICovXG5OZXRTaW0ucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuaXNDb25uZWN0ZWRUb1JlbW90ZSgpKSB7XG4gICAgdmFyIG15QWRkcmVzcyA9IHRoaXMubXlOb2RlLmdldEFkZHJlc3MoKTtcblxuICAgIC8vIFN3YXAgaW4gJ2Nvbm5lY3RlZCcgZGl2XG4gICAgdGhpcy5tYWluQ29udGFpbmVyXy5maW5kKCcjbmV0c2ltLWRpc2Nvbm5lY3RlZCcpLmhpZGUoKTtcbiAgICB0aGlzLm1haW5Db250YWluZXJfLmZpbmQoJyNuZXRzaW0tY29ubmVjdGVkJykuc2hvdygpO1xuXG4gICAgLy8gUmVuZGVyIHJpZ2h0IGNvbHVtblxuICAgIHRoaXMuc2VuZFBhbmVsXy5zZXRGcm9tQWRkcmVzcyhteUFkZHJlc3MpO1xuXG4gICAgLy8gUmVuZGVyIGxlZnQgY29sdW1uXG4gICAgaWYgKHRoaXMuc3RhdHVzUGFuZWxfKSB7XG4gICAgICB0aGlzLnN0YXR1c1BhbmVsXy5yZW5kZXIoe1xuICAgICAgICBteUhvc3RuYW1lOiB0aGlzLm15Tm9kZS5nZXRIb3N0bmFtZSgpLFxuICAgICAgICBteUFkZHJlc3M6IG15QWRkcmVzcyxcbiAgICAgICAgcmVtb3RlTm9kZU5hbWU6IHRoaXMuZ2V0Q29ubmVjdGVkUmVtb3RlTm9kZSgpLmdldERpc3BsYXlOYW1lKCksXG4gICAgICAgIHNoYXJlTGluazogdGhpcy5sb2JieV8uZ2V0U2hhcmVMaW5rKClcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBTd2FwIGluICdkaXNjb25uZWN0ZWQnIGRpdlxuICAgIHRoaXMubWFpbkNvbnRhaW5lcl8uZmluZCgnI25ldHNpbS1kaXNjb25uZWN0ZWQnKS5zaG93KCk7XG4gICAgdGhpcy5tYWluQ29udGFpbmVyXy5maW5kKCcjbmV0c2ltLWNvbm5lY3RlZCcpLmhpZGUoKTtcblxuICAgIC8vIFJlbmRlciBsb2JieVxuICAgIHRoaXMubG9iYnlfLnJlbmRlcigpO1xuICB9XG5cbiAgaWYgKHRoaXMucm91dGVyTG9nTW9kYWxfKSB7XG4gICAgdGhpcy5yb3V0ZXJMb2dNb2RhbF8ucmVuZGVyKCk7XG4gIH1cblxuICB0aGlzLnVwZGF0ZUxheW91dCgpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgd2hlbmV2ZXIgdGhlIGNvbm5lY3Rpb24gbm90aWZpZXMgdXMgdGhhdCB3ZSd2ZSBjb25uZWN0ZWQgdG8sXG4gKiBvciBkaXNjb25uZWN0ZWQgZnJvbSwgYSBzaGFyZC5cbiAqIEBwYXJhbSB7TmV0U2ltU2hhcmR9IHNoYXJkIC0gbnVsbCBpZiBkaXNjb25uZWN0ZWQuXG4gKiBAcGFyYW0ge05ldFNpbUxvY2FsQ2xpZW50Tm9kZX0gbG9jYWxOb2RlIC0gbnVsbCBpZiBkaXNjb25uZWN0ZWRcbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbS5wcm90b3R5cGUub25TaGFyZENoYW5nZV89IGZ1bmN0aW9uIChzaGFyZCwgbG9jYWxOb2RlKSB7XG4gIC8vIFVucmVnaXN0ZXIgb2xkIGhhbmRsZXJzXG4gIGlmICh0aGlzLmV2ZW50S2V5cy5yZWdpc3RlcmVkV2l0aExvY2FsTm9kZSkge1xuICAgIHRoaXMuZXZlbnRLZXlzLnJlZ2lzdGVyZWRXaXRoTG9jYWxOb2RlLnJlbW90ZUNoYW5nZS51bnJlZ2lzdGVyKFxuICAgICAgICB0aGlzLmV2ZW50S2V5cy5yZW1vdGVDaGFuZ2UpO1xuICAgIHRoaXMuZXZlbnRLZXlzLnJlZ2lzdGVyZWRXaXRoTG9jYWxOb2RlID0gbnVsbDtcbiAgfVxuXG4gIC8vIFJlZ2lzdGVyIG5ldyBoYW5kbGVyc1xuICBpZiAobG9jYWxOb2RlKSB7XG4gICAgdGhpcy5ldmVudEtleXMucmVtb3RlQ2hhbmdlID0gbG9jYWxOb2RlLnJlbW90ZUNoYW5nZS5yZWdpc3RlcihcbiAgICAgICAgdGhpcy5vblJlbW90ZUNoYW5nZV8uYmluZCh0aGlzKSk7XG4gICAgdGhpcy5ldmVudEtleXMucmVnaXN0ZXJlZFdpdGhMb2NhbE5vZGUgPSBsb2NhbE5vZGU7XG4gIH1cblxuICAvLyBVcGRhdGUgdGhlIGxvZyB2aWV3ZXIncyBzaGFyZCByZWZlcmVuY2Ugc28gaXQgY2FuIGdldCBjdXJyZW50IGRhdGEuXG4gIGlmICh0aGlzLnJvdXRlckxvZ01vZGFsXykge1xuICAgIHRoaXMucm91dGVyTG9nTW9kYWxfLnNldFNoYXJkKHNoYXJkKTtcbiAgfVxuXG4gIC8vIFNoYXJkIGNoYW5nZXMgYWxtb3N0IEFMV0FZUyByZXF1aXJlIGEgcmUtcmVuZGVyXG4gIHRoaXMudmlzdWFsaXphdGlvbl8uc2V0U2hhcmQoc2hhcmQpO1xuICB0aGlzLnZpc3VhbGl6YXRpb25fLnNldExvY2FsTm9kZShsb2NhbE5vZGUpO1xuICB0aGlzLnJlbmRlcigpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgd2hlbmV2ZXIgdGhlIGxvY2FsIG5vZGUgbm90aWZpZXMgdGhhdCB3ZSd2ZSBiZWVuIGNvbm5lY3RlZCB0byxcbiAqIG9yIGRpc2Nvbm5lY3RlZCBmcm9tLCBhIHJvdXRlci5cbiAqIEBwYXJhbSB7TmV0U2ltV2lyZX0gd2lyZSAtIG51bGwgaWYgZGlzY29ubmVjdGVkLlxuICogQHBhcmFtIHtOZXRTaW1Ob2RlfSByZW1vdGVOb2RlIC0gbnVsbCBpZiBkaXNjb25uZWN0ZWRcbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbS5wcm90b3R5cGUub25SZW1vdGVDaGFuZ2VfID0gZnVuY3Rpb24gKHdpcmUsIHJlbW90ZU5vZGUpIHtcbiAgdmFyIHJvdXRlckNvbm5lY3RFdmVudCA9IHJlbW90ZU5vZGUgJiYgcmVtb3RlTm9kZSBpbnN0YW5jZW9mIE5ldFNpbVJvdXRlck5vZGU7XG4gIHZhciByb3V0ZXJEaXNjb25uZWN0RXZlbnQgPSAhcmVtb3RlTm9kZSAmJiB0aGlzLmV2ZW50S2V5cy5yZWdpc3RlcmVkV2l0aFJvdXRlcjtcblxuICAvLyBVbmhvb2sgb2xkIGhhbmRsZXJzXG4gIGlmICh0aGlzLmV2ZW50S2V5cy5yZWdpc3RlcmVkV2l0aFJvdXRlcikge1xuICAgIHRoaXMuZXZlbnRLZXlzLnJlZ2lzdGVyZWRXaXRoUm91dGVyLnN0YXRlQ2hhbmdlLnVucmVnaXN0ZXIoXG4gICAgICAgIHRoaXMuZXZlbnRLZXlzLnJvdXRlclN0YXRlQ2hhbmdlKTtcbiAgICB0aGlzLmV2ZW50S2V5cy5yZWdpc3RlcmVkV2l0aFJvdXRlci5zdGF0c0NoYW5nZS51bnJlZ2lzdGVyKFxuICAgICAgICB0aGlzLmV2ZW50S2V5cy5yb3V0ZXJTdGF0c0NoYW5nZSk7XG4gICAgdGhpcy5ldmVudEtleXMucmVnaXN0ZXJlZFdpdGhSb3V0ZXIud2lyZXNDaGFuZ2UudW5yZWdpc3RlcihcbiAgICAgICAgdGhpcy5ldmVudEtleXMucm91dGVyV2lyZXNDaGFuZ2UpO1xuICAgIHRoaXMuZXZlbnRLZXlzLnJlZ2lzdGVyZWRXaXRoUm91dGVyLmxvZ0NoYW5nZS51bnJlZ2lzdGVyKFxuICAgICAgICB0aGlzLmV2ZW50S2V5cy5yb3V0ZXJMb2dDaGFuZ2UpO1xuICAgIHRoaXMuZXZlbnRLZXlzLnJlZ2lzdGVyZWRXaXRoUm91dGVyID0gbnVsbDtcbiAgfVxuXG4gIC8vIEhvb2sgdXAgbmV3IGhhbmRsZXJzXG4gIGlmIChyb3V0ZXJDb25uZWN0RXZlbnQpIHtcbiAgICB0aGlzLmV2ZW50S2V5cy5yb3V0ZXJTdGF0ZUNoYW5nZSA9IHJlbW90ZU5vZGUuc3RhdGVDaGFuZ2UucmVnaXN0ZXIoXG4gICAgICAgIHRoaXMub25Sb3V0ZXJTdGF0ZUNoYW5nZV8uYmluZCh0aGlzKSk7XG4gICAgdGhpcy5ldmVudEtleXMucm91dGVyU3RhdHNDaGFuZ2UgPSByZW1vdGVOb2RlLnN0YXRzQ2hhbmdlLnJlZ2lzdGVyKFxuICAgICAgICB0aGlzLm9uUm91dGVyU3RhdHNDaGFuZ2VfLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZXZlbnRLZXlzLnJvdXRlcldpcmVzQ2hhbmdlID0gcmVtb3RlTm9kZS53aXJlc0NoYW5nZS5yZWdpc3RlcihcbiAgICAgICAgdGhpcy5vblJvdXRlcldpcmVzQ2hhbmdlXy5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmV2ZW50S2V5cy5yb3V0ZXJMb2dDaGFuZ2UgPSByZW1vdGVOb2RlLmxvZ0NoYW5nZS5yZWdpc3RlcihcbiAgICAgICAgdGhpcy5vblJvdXRlckxvZ0NoYW5nZV8uYmluZCh0aGlzKSk7XG4gICAgdGhpcy5ldmVudEtleXMucmVnaXN0ZXJlZFdpdGhSb3V0ZXIgPSByZW1vdGVOb2RlO1xuICB9XG5cbiAgdGhpcy5yZW5kZXIoKTtcblxuICBpZiAocm91dGVyQ29ubmVjdEV2ZW50KSB7XG4gICAgdGhpcy5vblJvdXRlckNvbm5lY3RfKHJlbW90ZU5vZGUpO1xuICB9IGVsc2UgaWYgKHJvdXRlckRpc2Nvbm5lY3RFdmVudCkge1xuICAgIHRoaXMub25Sb3V0ZXJEaXNjb25uZWN0XygpO1xuICB9XG59O1xuXG4vKipcbiAqIFN0ZXBzIHRvIHRha2Ugd2hlbiB3ZSB3ZXJlIG5vdCBjb25uZWN0ZWQgdG8gYSByb3V0ZXIgYW5kIG5vdyB3ZSBhcmUuXG4gKiBAcGFyYW0ge05ldFNpbVJvdXRlck5vZGV9IHJvdXRlciB0aGF0IHdlIGFyZSBub3cgY29ubmVjdGVkIHRvXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW0ucHJvdG90eXBlLm9uUm91dGVyQ29ubmVjdF8gPSBmdW5jdGlvbiAocm91dGVyKSB7XG4gIHRoaXMub25Sb3V0ZXJTdGF0ZUNoYW5nZV8ocm91dGVyKTtcbiAgdGhpcy5vblJvdXRlclN0YXRzQ2hhbmdlXyhyb3V0ZXIpO1xuICB0aGlzLnNldFJvdXRlckxvZ0RhdGEocm91dGVyLmdldExvZygpKTtcbiAgdGhpcy5yb3V0ZXJMb2dNb2RhbF8uc2V0Um91dGVyKHJvdXRlcik7XG59O1xuXG4vKipcbiAqIFN0ZXBzIHRvIHRha2Ugd2hlbiB3ZSB3ZXJlIGNvbm5lY3RlZCB0byBhIHJvdXRlciBhbmQgbm93IHdlIGFyZSBub3QuXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW0ucHJvdG90eXBlLm9uUm91dGVyRGlzY29ubmVjdF8gPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuc2V0Um91dGVyQ3JlYXRpb25UaW1lKDApO1xuICB0aGlzLnNldFJvdXRlclF1ZXVlZFBhY2tldENvdW50XygwKTtcbiAgdGhpcy5zZXRSb3V0ZXJNZW1vcnlJblVzZV8oMCk7XG4gIHRoaXMuc2V0Um91dGVyRGF0YVJhdGVfKDApO1xuICB0aGlzLnNldFJvdXRlckxvZ0RhdGEoW10pO1xuICB0aGlzLnJvdXRlckxvZ01vZGFsXy5zZXRSb3V0ZXIobnVsbCk7XG59O1xuXG4vKipcbiAqIExvY2FsIHJlc3BvbnNlIHRvIHJvdXRlciBzdGF0ZSBjaGFuZ2luZywgd2hpY2ggbWF5IGhhdmUgYmVlbiB0cmlnZ2VyZWRcbiAqIGxvY2FsbHkgb3IgcmVtb3RlbHkuXG4gKiBAcGFyYW0ge05ldFNpbVJvdXRlck5vZGV9IHJvdXRlclxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltLnByb3RvdHlwZS5vblJvdXRlclN0YXRlQ2hhbmdlXyA9IGZ1bmN0aW9uIChyb3V0ZXIpIHtcbiAgdmFyIG15Tm9kZSA9IHt9O1xuICBpZiAodGhpcy5teU5vZGUpIHtcbiAgICBteU5vZGUgPSB0aGlzLm15Tm9kZTtcbiAgfVxuXG4gIHRoaXMuc2V0Um91dGVyQ3JlYXRpb25UaW1lKHJvdXRlci5jcmVhdGlvblRpbWUpO1xuICB0aGlzLnNldFJvdXRlckJhbmR3aWR0aChyb3V0ZXIuYmFuZHdpZHRoKTtcbiAgdGhpcy5zZXRSb3V0ZXJNZW1vcnkocm91dGVyLm1lbW9yeSk7XG4gIHRoaXMuc2V0RG5zTW9kZShyb3V0ZXIuZG5zTW9kZSk7XG4gIHRoaXMuc2V0RG5zTm9kZUlEKHJvdXRlci5kbnNNb2RlID09PSBEbnNNb2RlLk5PTkUgPyB1bmRlZmluZWQgOiByb3V0ZXIuZG5zTm9kZUlEKTtcbiAgdGhpcy5zZXRJc0Ruc05vZGUocm91dGVyLmRuc01vZGUgPT09IERuc01vZGUuTUFOVUFMICYmXG4gICAgICByb3V0ZXIuZG5zTm9kZUlEID09PSBteU5vZGUuZW50aXR5SUQpO1xufTtcblxuLyoqXG4gKiBJc29sYXRlcyB1cGRhdGVzIHRoYXQgd2Ugc2hvdWxkIGRvIHdoZW4gYSByb3V0ZXIncyBzdGF0cyBjaGFuZ2UsIHNpbmNlXG4gKiB0aGVzZSBoYXBwZW4gYSBsb3QgbW9yZSBvZnRlbi5cbiAqIEBwYXJhbSB7TmV0U2ltUm91dGVyTm9kZX0gcm91dGVyXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW0ucHJvdG90eXBlLm9uUm91dGVyU3RhdHNDaGFuZ2VfID0gZnVuY3Rpb24gKHJvdXRlcikge1xuICB0aGlzLnNldFJvdXRlclF1ZXVlZFBhY2tldENvdW50Xyhyb3V0ZXIuZ2V0UXVldWVkUGFja2V0Q291bnQoKSk7XG4gIHRoaXMuc2V0Um91dGVyTWVtb3J5SW5Vc2VfKHJvdXRlci5nZXRNZW1vcnlJblVzZSgpKTtcbiAgdGhpcy5zZXRSb3V0ZXJEYXRhUmF0ZV8ocm91dGVyLmdldEN1cnJlbnREYXRhUmF0ZSgpKTtcbn07XG5cbi8qKlxuICogV2hhdCB0byBkbyB3aGVuIG91ciBjb25uZWN0ZWQgcm91dGVyJ3MgbG9jYWwgbmV0d29yayBjaGFuZ2VzLlxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltLnByb3RvdHlwZS5vblJvdXRlcldpcmVzQ2hhbmdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuaXNDb25uZWN0ZWRUb1JvdXRlcigpKSB7XG4gICAgdGhpcy5zZXREbnNUYWJsZUNvbnRlbnRzKHRoaXMuZ2V0Q29ubmVjdGVkUm91dGVyKCkuZ2V0QWRkcmVzc1RhYmxlKCkpO1xuICB9XG59O1xuXG4vKipcbiAqIFdoYXQgdG8gZG8gd2hlbiBvdXIgY29ubmVjdGVkIHJvdXRlcidzIGxvZ3MgY2hhbmdlLlxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltLnByb3RvdHlwZS5vblJvdXRlckxvZ0NoYW5nZV8gPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmlzQ29ubmVjdGVkVG9Sb3V0ZXIoKSkge1xuICAgIHRoaXMuc2V0Um91dGVyTG9nRGF0YSh0aGlzLmdldENvbm5lY3RlZFJvdXRlcigpLmdldExvZygpKTtcbiAgfVxufTtcblxuLyoqXG4gKiBLaWNrIG9mZiBhbiBhbmltYXRpb24gdGhhdCBzaG93cyB0aGUgbG9jYWwgbm9kZSBzZXR0aW5nIHRoZSBzdGF0ZSBvZiBhXG4gKiBzaW1wbGV4IHdpcmUuXG4gKiBAcGFyYW0ge1wiMFwifFwiMVwifSBuZXdTdGF0ZVxuICovXG5OZXRTaW0ucHJvdG90eXBlLmFuaW1hdGVTZXRXaXJlU3RhdGUgPSBmdW5jdGlvbiAobmV3U3RhdGUpIHtcbiAgdGhpcy52aXN1YWxpemF0aW9uXy5hbmltYXRlU2V0V2lyZVN0YXRlKG5ld1N0YXRlKTtcbn07XG5cbi8qKlxuICogS2ljayBvZmYgYW4gYW5pbWF0aW9uIHRoYXQgc2hvd3MgdGhlIGxvY2FsIG5vZGUgcmVhZGluZyB0aGUgc3RhdGUgb2YgYVxuICogc2ltcGxleCB3aXJlLlxuICogQHBhcmFtIHtcIjBcInxcIjFcIn0gbmV3U3RhdGVcbiAqL1xuTmV0U2ltLnByb3RvdHlwZS5hbmltYXRlUmVhZFdpcmVTdGF0ZSA9IGZ1bmN0aW9uIChuZXdTdGF0ZSkge1xuICB0aGlzLnZpc3VhbGl6YXRpb25fLmFuaW1hdGVSZWFkV2lyZVN0YXRlKG5ld1N0YXRlKTtcbn07XG5cbi8qKlxuICogU3BlY2lmaWNhbGx5LCB1cGRhdGUgdGhlIGxheW91dCBvZiB0aGUgcmlnaHQgY29sdW1uIHdoZW4gY29ubmVjdGVkLFxuICogYW5kIGNoYW5nZSBob3cgdGhlIHRocmVlIHBhbmVscyB0aGVyZSAocmVjZWl2ZWQgbG9nLCBzZW50IGxvZywgc2VuZCBjb250cm9scylcbiAqIHNoYXJlIHRoZSBjdXJyZW50IHZlcnRpY2FsIHNwYWNlIGluIHRoZSB2aWV3cG9ydC5cbiAqXG4gKiBXZSdyZSB0cnlpbmcgdG8gdXNlIHRoZSBmb2xsb3dpbmcgcnVsZXM6XG4gKlxuICogMS4gVGhlIHNlbmQgY29udHJvbHMgcGFuZWwgaXMgZml4ZWQgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdmlld3BvcnQsIGFuZCB3aWxsXG4gKiAgICBzaXplIHVwd2FyZHMgdG8gZml0IGl0cyBjb250ZW50cyB1cCB0byBhIG1heGltdW0gaGVpZ2h0LlxuICogMi4gVGhlIGxvZyB3aWRnZXRzIHVzZSB0aGUgcmVtYWluaW5nIHZlcnRpY2FsIHNwYWNlXG4gKiAgICBhKSBJZiBvbmx5IG9uZSBsb2cgd2lkZ2V0IGlzIG9wZW4sIGl0IGZpbGxzIHRoZSB2ZXJ0aWNhbCBzcGFjZSAoZXhjZXB0XG4gKiAgICAgICBsZWF2ZXMgZW5vdWdoIHJvb20gdG8gc2VlIHRoZSBvdGhlciBoZWFkZXIpXG4gKiAgICBiKSBJZiBib3RoIGxvZyB3aWRnZXRzIGFyZSBvcGVuLCB0aGV5IHNoYXJlIHRoZSB2ZXJ0aWNhbCBzcGFjZSA1MC81MFxuICogICAgYykgSWYgYm90aCBsb2cgd2lkZ2V0cyBhcmUgY2xvc2VkLCB0aGV5IGZsb2F0IGF0IHRoZSB0b3Agb2YgdGhlIHNwYWNlLlxuICovXG5OZXRTaW0ucHJvdG90eXBlLnVwZGF0ZUxheW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJpZ2h0Q29sdW1uID0gJCgnI25ldHNpbS1yaWdodGNvbCcpO1xuICB2YXIgc2VuZFBhbmVsID0gJCgnI25ldHNpbS1zZW5kJyk7XG4gIHZhciBsb2dXcmFwID0gJCgnI25ldHNpbS1sb2dzJyk7XG5cbiAgbmV0c2ltRGVib3VuY2VkUmVzaXplRm9vdGVyKCk7XG5cbiAgaWYgKHRoaXMubG9iYnlfKSB7XG4gICAgdGhpcy5sb2JieV8udXBkYXRlTGF5b3V0KCk7XG4gIH1cblxuICBpZiAoIXJpZ2h0Q29sdW1uLmlzKCc6dmlzaWJsZScpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gUmlnaHQgY29sdW1uIHdyYXBwZXIgYW5kIHRoZSBzZW5kIHBhbmVsIGFyZSBib3RoIHNpemVkIGJ5IENTU1xuICB2YXIgcmlnaHRDb2x1bW5IZWlnaHQgPSByaWdodENvbHVtbi5oZWlnaHQoKTtcbiAgdmFyIHNlbmRQYW5lbEhlaWdodCA9IHNlbmRQYW5lbC5oZWlnaHQoKTtcbiAgdmFyIGxvZ3NTaGFyZWRWZXJ0aWNhbFNwYWNlID0gcmlnaHRDb2x1bW5IZWlnaHQgLSBzZW5kUGFuZWxIZWlnaHQ7XG5cbiAgdmFyIHNob3dpbmdTZW50ID0gIXRoaXMuc2VudE1lc3NhZ2VMb2dfLmlzTWluaW1pemVkKCk7XG4gIHZhciBzaG93aW5nUmVjZWl2ZWQgPSAhdGhpcy5yZWNlaXZlZE1lc3NhZ2VMb2dfLmlzTWluaW1pemVkKCk7XG4gIGlmIChzaG93aW5nUmVjZWl2ZWQgJiYgc2hvd2luZ1NlbnQpIHtcbiAgICB2YXIgaGFsZkhlaWdodCA9IE1hdGguZmxvb3IobG9nc1NoYXJlZFZlcnRpY2FsU3BhY2UgLyAyKTtcbiAgICB0aGlzLnJlY2VpdmVkTWVzc2FnZUxvZ18uc2V0SGVpZ2h0KGhhbGZIZWlnaHQpO1xuICAgIHRoaXMuc2VudE1lc3NhZ2VMb2dfLnNldEhlaWdodChoYWxmSGVpZ2h0KTtcbiAgfSBlbHNlIGlmIChzaG93aW5nUmVjZWl2ZWQpIHtcbiAgICB0aGlzLnJlY2VpdmVkTWVzc2FnZUxvZ18uc2V0SGVpZ2h0KE1hdGguZmxvb3IobG9nc1NoYXJlZFZlcnRpY2FsU3BhY2UgLVxuICAgICAgICB0aGlzLnNlbnRNZXNzYWdlTG9nXy5nZXRIZWlnaHQoKSkpO1xuICB9IGVsc2UgaWYgKHNob3dpbmdTZW50KSB7XG4gICAgdGhpcy5zZW50TWVzc2FnZUxvZ18uc2V0SGVpZ2h0KE1hdGguZmxvb3IobG9nc1NoYXJlZFZlcnRpY2FsU3BhY2UgLVxuICAgICAgICB0aGlzLnJlY2VpdmVkTWVzc2FnZUxvZ18uZ2V0SGVpZ2h0KCkpKTtcbiAgfVxuXG4gIC8vIE1hbnVhbGx5IGFkanVzdCB0aGUgbG9nd3JhcCB0byB0aGUgcmVtYWluaW5nIGhlaWdodFxuICBsb2dXcmFwLmNzcygnaGVpZ2h0JywgcmlnaHRDb2x1bW5IZWlnaHQgLSBzZW5kUGFuZWxIZWlnaHQpO1xufTtcblxuLyoqXG4gKiBBcHByb3ByaWF0ZSBzdGVwcyBmb3Igd2hlbiB0aGUgc3R1ZGVudCBoaXRzIHRoZSBcIkNvbnRpbnVlIHRvIG5leHQgbGV2ZWxcIlxuICogYnV0dG9uLiAgU2hvdWxkIG1hcmsgdGhlIGxldmVsIGFzIGNvbXBsZXRlIGFuZCBuYXZpZ2F0ZSB0byB0aGUgbmV4dCBsZXZlbC5cbiAqL1xuTmV0U2ltLnByb3RvdHlwZS5jb21wbGV0ZUxldmVsQW5kQ29udGludWUgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmlzQ29ubmVjdGVkVG9SZW1vdGUoKSAmJiAhY29uZmlybShpMThuLm9uQmVmb3JlVW5sb2FkV2FybmluZygpKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEF2b2lkIG11bHRpcGxlIHNpbXVsdGFuZW91cyBzdWJtaXNzaW9ucy5cbiAgJCgnLnN1Ym1pdEJ1dHRvbicpLmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cbiAgc2VuZFJlcG9ydCh7XG4gICAgZmFsbGJhY2tSZXNwb25zZTogdGhpcy5yZXBvcnRpbmdJbmZvXy5mYWxsYmFja19yZXNwb25zZSxcbiAgICBjYWxsYmFjazogdGhpcy5yZXBvcnRpbmdJbmZvXy5jYWxsYmFjayxcbiAgICBhcHA6ICduZXRzaW0nLFxuICAgIGxldmVsOiB0aGlzLmxldmVsLmlkLFxuICAgIHJlc3VsdDogdHJ1ZSxcbiAgICB0ZXN0UmVzdWx0OiAxMDAsXG4gICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKHNlcnZlclJlc3BvbnNlKSB7XG5cbiAgICAgIC8vIFJlLWVuYWJsZSBzdWJtaXQgYnV0dG9uLCBpbiBjYXNlIHRoZXJlJ3Mgbm93aGVyZSB0byBnby5cbiAgICAgICQoJy5zdWJtaXRCdXR0b24nKS5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKTtcblxuICAgICAgLy8gSWYgdGhlcmUncyBzb21ld2hlcmUgdG8gZ28sIGRpc2Nvbm5lY3QgYW5kIGdvIVxuICAgICAgaWYgKHNlcnZlclJlc3BvbnNlLnJlZGlyZWN0KSB7XG4gICAgICAgIGlmICh0aGlzLmlzQ29ubmVjdGVkVG9SZW1vdGUoKSkge1xuICAgICAgICAgIHRoaXMuZGlzY29ubmVjdEZyb21SZW1vdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBzZXJ2ZXJSZXNwb25zZS5yZWRpcmVjdDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHNlcnZlclJlc3BvbnNlLnJlZGlyZWN0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfS5iaW5kKHRoaXMpXG4gIH0pO1xufTtcblxuLyoqXG4gKiBBdHRlbXB0IHRvIHJlc2V0IHRoZSBzaW11bGF0aW9uIHNoYXJkLCBraWNraW5nIGFsbCB1c2VycyBvdXQgYW5kIHJlc2V0dGluZ1xuICogYWxsIGRhdGEuXG4gKi9cbk5ldFNpbS5wcm90b3R5cGUucmVzZXRTaGFyZCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuc2hhcmRfICYmIGNvbmZpcm0oaTE4bi5zaGFyZFJlc2V0Q29uZmlybWF0aW9uKCkpKSB7XG4gICAgdGhpcy5zaGFyZF8ucmVzZXRFdmVyeXRoaW5nKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKGVycik7XG4gICAgICAgIE5ldFNpbUFsZXJ0LmVycm9yKGkxOG4uc2hhcmRSZXNldEVycm9yKCkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgfVxufTtcbiIsIm1vZHVsZS5leHBvcnRzPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB0ID0gZnVuY3Rpb24gYW5vbnltb3VzKGxvY2FscywgZmlsdGVycywgZXNjYXBlXG4vKiovKSB7XG5lc2NhcGUgPSBlc2NhcGUgfHwgZnVuY3Rpb24gKGh0bWwpe1xuICByZXR1cm4gU3RyaW5nKGh0bWwpXG4gICAgLnJlcGxhY2UoLyYoPyFcXHcrOykvZywgJyZhbXA7JylcbiAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7Jyk7XG59O1xudmFyIGJ1ZiA9IFtdO1xud2l0aCAobG9jYWxzIHx8IHt9KSB7IChmdW5jdGlvbigpeyBcbiBidWYucHVzaCgnJyk7MTtcbiAgdmFyIG1zZyA9IHJlcXVpcmUoJy4uL2xvY2FsZScpO1xuOyBidWYucHVzaCgnXFxuXFxuPGRpdiBpZD1cInJvdGF0ZUNvbnRhaW5lclwiIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTogdXJsKCcsIGVzY2FwZSgoNSwgIGFzc2V0VXJsKCdtZWRpYS90dXJucGhvbmVfaG9yaXpvbnRhbC5wbmcnKSApKSwgJylcIj5cXG4gIDxkaXYgaWQ9XCJyb3RhdGVUZXh0XCI+XFxuICAgIDxwPicsIGVzY2FwZSgoNywgIG1zZy5yb3RhdGVUZXh0KCkgKSksICc8YnI+JywgZXNjYXBlKCg3LCAgbXNnLm9yaWVudGF0aW9uTG9jaygpICkpLCAnPC9wPlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXFxuJyk7MTE7IHZhciBpbnN0cnVjdGlvbnMgPSBmdW5jdGlvbigpIHs7IGJ1Zi5wdXNoKCcgIDxkaXYgaWQ9XCJidWJibGVcIiBjbGFzcz1cImNsZWFyZml4XCI+XFxuICAgIDx0YWJsZSBpZD1cInByb21wdC10YWJsZVwiPlxcbiAgICAgIDx0cj5cXG4gICAgICAgIDx0ZCBpZD1cInByb21wdC1pY29uLWNlbGxcIj5cXG4gICAgICAgICAgPGltZyBpZD1cInByb21wdC1pY29uXCIvPlxcbiAgICAgICAgPC90ZD5cXG4gICAgICAgIDx0ZCBpZD1cInByb21wdC1jZWxsXCI+XFxuICAgICAgICAgIDxwIGlkPVwicHJvbXB0XCI+XFxuICAgICAgICAgIDwvcD5cXG4gICAgICAgIDwvdGQ+XFxuICAgICAgPC90cj5cXG4gICAgPC90YWJsZT5cXG4gICAgPGRpdiBpZD1cImFuaS1naWYtcHJldmlldy13cmFwcGVyXCI+XFxuICAgICAgPGRpdiBpZD1cImFuaS1naWYtcHJldmlld1wiPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gIDwvZGl2PlxcbicpOzI4OyB9OzsgYnVmLnB1c2goJ1xcbjxkaXYgaWQ9XCJhcHBjb250YWluZXJcIj5cXG4gIDwhLS0gU2hvdWxkIGRpc2FibGUgc3BlbGwtY2hlY2sgb24gYWxsIG5ldHNpbSBlbGVtZW50cyAtLT5cXG4gIDxkaXYgaWQ9XCJuZXRzaW1cIiBhdXRvY2FwaXRhbGl6ZT1cImZhbHNlXCIgYXV0b2NvcnJlY3Q9XCJmYWxzZVwiIGF1dG9jb21wbGV0ZT1cImZhbHNlXCIgc3BlbGxjaGVjaz1cImZhbHNlXCI+XFxuXFxuICAgIDxkaXYgaWQ9XCJuZXRzaW0tZGlzY29ubmVjdGVkXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cImxvYmJ5LXBhbmVsXCI+PC9kaXY+XFxuICAgIDwvZGl2PlxcblxcblxcbiAgICA8ZGl2IGlkPVwibmV0c2ltLWNvbm5lY3RlZFwiPlxcbiAgICAgIDxkaXYgaWQ9XCJuZXRzaW0tbGVmdGNvbFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbHVtbi13aWR0aC1saW1pdGVyXCI+XFxuXFxuICAgICAgICAgIDxkaXYgaWQ9XCJuZXRzaW0tc3RhdHVzXCI+PC9kaXY+XFxuXFxuICAgICAgICAgIDxkaXYgaWQ9XCJuZXRzaW0tdmlzdWFsaXphdGlvblwiPjwvZGl2PlxcblxcbiAgICAgICAgICA8ZGl2IGlkPVwibmV0c2ltLXRhYnNcIj48L2Rpdj5cXG5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvZGl2PlxcblxcbiAgICAgIDxkaXYgaWQ9XCJuZXRzaW0tcmlnaHRjb2xcIj5cXG4gICAgICAgIDxkaXYgaWQ9XCJuZXRzaW0tbG9nc1wiPlxcbiAgICAgICAgICA8ZGl2IGlkPVwibmV0c2ltLXJlY2VpdmVkXCI+PC9kaXY+XFxuICAgICAgICAgIDxkaXYgaWQ9XCJuZXRzaW0tc2VudFwiPjwvZGl2PlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGlkPVwibmV0c2ltLXNlbmRcIj48L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDxkaXYgaWQ9XCJyb3V0ZXItbG9nLW1vZGFsXCIgY2xhc3M9XCJtb2RhbCBmYWRlXCI+PC9kaXY+XFxuXFxuICA8L2Rpdj5cXG4gIDxkaXYgaWQ9XCJmb290ZXJzXCIgZGlyPVwiJywgZXNjYXBlKCg2MywgIGRhdGEubG9jYWxlRGlyZWN0aW9uICkpLCAnXCI+XFxuICA8L2Rpdj5cXG4gIDxkaXYgY2xhc3M9XCJoaWRkZW5cIj5cXG4gICAgJyk7NjY7IGluc3RydWN0aW9ucygpOyA7IGJ1Zi5wdXNoKCdcXG4gIDwvZGl2PlxcbjwvZGl2PlxcblxcbjxkaXYgY2xhc3M9XCJjbGVhclwiPjwvZGl2PlxcbicpOyB9KSgpO1xufSBcbnJldHVybiBidWYuam9pbignJyk7XG59O1xuICByZXR1cm4gZnVuY3Rpb24obG9jYWxzKSB7XG4gICAgcmV0dXJuIHQobG9jYWxzLCByZXF1aXJlKFwiZWpzXCIpLmZpbHRlcnMpO1xuICB9XG59KCkpOyIsIi8qanNoaW50IG11bHRpc3RyOiB0cnVlICovXG4vKipcbiAqIEBvdmVydmlldyBUeXBlIGRvY3VtZW50YXRpb24gZm9yIGEgTmV0U2ltIGxldmVsIGNvbmZpZ3VyYXRpb24gb2JqZWN0LFxuICogICAgICAgICAgIGFuZCBkZWZhdWx0IHZhbHVlcyBmb3IgdGhhdCBvYmplY3QuXG4gKi9cblxudmFyIE5ldFNpbUNvbnN0YW50cyA9IHJlcXVpcmUoJy4vTmV0U2ltQ29uc3RhbnRzJyk7XG52YXIgUGFja2V0ID0gcmVxdWlyZSgnLi9QYWNrZXQnKTtcbnZhciBCSVRTX1BFUl9OSUJCTEUgPSBOZXRTaW1Db25zdGFudHMuQklUU19QRVJfTklCQkxFO1xudmFyIE1lc3NhZ2VHcmFudWxhcml0eSA9IE5ldFNpbUNvbnN0YW50cy5NZXNzYWdlR3JhbnVsYXJpdHk7XG52YXIgRG5zTW9kZSA9IE5ldFNpbUNvbnN0YW50cy5EbnNNb2RlO1xudmFyIEVuY29kaW5nVHlwZSA9IE5ldFNpbUNvbnN0YW50cy5FbmNvZGluZ1R5cGU7XG52YXIgTmV0U2ltVGFiVHlwZSA9IE5ldFNpbUNvbnN0YW50cy5OZXRTaW1UYWJUeXBlO1xuXG4vKipcbiAqIEEgbGV2ZWwgY29uZmlndXJhdGlvbiB0aGF0IGNhbiBiZSB1c2VkIGJ5IE5ldFNpbVxuICogQHR5cGVkZWYge09iamVjdH0gTmV0U2ltTGV2ZWxDb25maWd1cmF0aW9uXG4gKlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGluc3RydWN0aW9ucyAtIEluaGVyaXRlZCBmcm9tIGJsb2NrbHkgbGV2ZWwgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHNob3dDbGllbnRzSW5Mb2JieSAtIFdoZXRoZXIgY2xpZW50IG5vZGVzIHNob3VsZCBhcHBlYXJcbiAqICAgICAgICAgICBpbiB0aGUgbG9iYnkgbGlzdCBhdCBhbGwuXG4gKlxuICogQHByb3BlcnR5IHtib29sZWFufSBzaG93Um91dGVyc0luTG9iYnkgLSBXaGV0aGVyIHJvdXRlciBub2RlcyBzaG91bGQgYXBwZWFyXG4gKiAgICAgICAgICAgaW4gdGhlIGxvYmJ5IGxpc3QgYXQgYWxsLlxuICpcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gY2FuQ29ubmVjdFRvQ2xpZW50cyAtIFdoZXRoZXIgY2xpZW50IG5vZGVzIGFyZSBzZWxlY3RhYmxlXG4gKiAgICAgICAgICAgYW5kIGNhbiBiZSBjb25uZWN0ZWQgdG9cbiAqXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGNhbkNvbm5lY3RUb1JvdXRlcnMgLSBXaGV0aGVyIHJvdXRlciBub2RlcyBhcmUgc2VsZWN0YWJsZVxuICogICAgICAgICAgIGFuZCBjYW4gYmUgY29ubmVjdGVkIHRvXG4gKlxuICogQHByb3BlcnR5IHtib29sZWFufSBzaG93QWRkUm91dGVyQnV0dG9uIC0gV2hldGhlciB0aGUgXCJBZGQgUm91dGVyXCIgYnV0dG9uXG4gKiAgICAgICAgICAgc2hvdWxkIGFwcGVhciBhYm92ZSB0aGUgbG9iYnkgbGlzdC5cbiAqXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHNob3dMb2dCcm93c2VyQnV0dG9uIC0gV2hldGhlciB0aGUgXCJMb2cgQnJvd3NlclwiIGlzXG4gKiAgICAgICAgICAgYXZhaWxhYmxlIGluIHRoZSBsb2JieS5cbiAqXG4gKiBAcHJvcGVydHkge01lc3NhZ2VHcmFudWxhcml0eX0gbWVzc2FnZUdyYW51bGFyaXR5IC0gV2hldGhlciB0aGUgc2ltdWxhdG9yXG4gKiAgICAgICAgICAgcHV0cyBhIHNpbmdsZSBiaXQgaW50byBzdG9yYWdlIGF0IGEgdGltZSwgb3IgYSB3aG9sZSBwYWNrZXQuXG4gKiAgICAgICAgICAgU2hvdWxkIHVzZSAnYml0cycgZm9yIHZhcmlhbnQgMSAobGV2ZWxzIGFib3V0IHRoZSBjb29yZGluYXRpb25cbiAqICAgICAgICAgICBwcm9ibGVtKSwgYW5kICdwYWNrZXRzJyBmb3IgbGV2ZWxzIHdoZXJlIHRoZSBjb29yZGluYXRpb24gcHJvYmxlbVxuICogICAgICAgICAgIGlzIGFic3RyYWN0ZWQgYXdheS5cbiAqXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGF1dG9tYXRpY1JlY2VpdmUgLSBXaGV0aGVyIHRoZSBsb2NhbCBub2RlIHdpbGxcbiAqICAgICAgICAgICBhdXRvbWF0aWNhbGx5IHBpY2sgdXAgbWVzc2FnZXMgdG8gaXRzZWxmIGZyb20gdGhlIG1lc3NhZ2UgdGFibGUsXG4gKiAgICAgICAgICAgYW5kIGR1bXAgdGhlbSB0byB0aGUgcmVjZWl2ZWQgbWVzc2FnZSBsb2cuICBJZiBmYWxzZSwgc29tZSBvdGhlclxuICogICAgICAgICAgIG1ldGhvZCBtdXN0IGJlIHVzZWQgZm9yIHJlY2VpdmluZyBtZXNzYWdlcy5cbiAqXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGJyb2FkY2FzdE1vZGUgLSBFbmFibGluZyB0aGlzIG9wdGlvbiB0dXJucyBcInJvdXRlcnNcIlxuICogICAgICAgICAgIGludG8gXCJyb29tc1wiIGFuZCBtYWtlcyBpdCBzbyBldmVyeSBtZXNzYWdlIHNlbnQgaW4gdGhlIHJvb21cbiAqICAgICAgICAgICB3aWxsIGJlIHJlY2VpdmVkIGJ5IGV2ZXJ5IG90aGVyIHBlcnNvbiBpbiB0aGF0IHJvb20uXG4gKlxuICogQHByb3BlcnR5IHtib29sZWFufSBjb25uZWN0ZWRSb3V0ZXJzIC0gV2hlbiBmYWxzZSAoZGVmYXVsdCksIGVhY2ggcm91dGVyIG9yXG4gKiAgICAgICAgICAgcm9vbSBleGlzdHMgaW4gaXNvbGF0aW9uIGFuZCB3aWxsIGhhdmUgbm8gY29udGFjdCB3aXRoIG90aGVyIHJvdXRlcnNcbiAqICAgICAgICAgICBvciByb29tcy4gIFdoZW4gdHJ1ZSwgaXQgaXMgcG9zc2libGUgZm9yIG1lc3NhZ2VzIHRvIHRyYXZlbCBiZXR3ZWVuXG4gKiAgICAgICAgICAgcm91dGVycywgY29ubmVjdGluZyB0aGUgd2hvbGUgc2hhcmQuXG4gKlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1pbmltdW1FeHRyYUhvcHMgLSBGZXdlc3Qgbm9uLWRlc3RpbmF0aW9uIHJvdXRlcnMgYW5cbiAqICAgICAgICAgICBpbnRlci1yb3V0ZXIgbWVzc2FnZSBzaG91bGQgdHJ5IHRvIHZpc2l0IGJlZm9yZSBnb2luZyB0byBpdHNcbiAqICAgICAgICAgICBkZXN0aW5hdGlvbiByb3V0ZXIuICBOdW1iZXIgb2YgaG9wcyBjYW4gYmUgbG93ZXIgaWYgbmV0d29ya1xuICogICAgICAgICAgIGNvbmRpdGlvbnMgZG9uJ3QgYWxsb3cgaXQuXG4gKlxuICogQHByb3BlcnR5IHtudW1iZXJ9IG1heGltdW1FeHRyYUhvcHMgLSBNb3N0IG5vbi1kZXN0aW5hdGlvbiByb3V0ZXJzIGFuXG4gKiAgICAgICAgICAgaW50ZXItcm91dGVyIG1lc3NhZ2Ugc2hvdWxkIHRyeSB0byB2aXNpdCBiZWZvcmUgZ29pbmcgdG8gaXRzXG4gKiAgICAgICAgICAgZGVzdGluYXRpb24gcm91dGVyLlxuICpcbiAqIEBwcm9wZXJ0eSB7QWRkcmVzc0hlYWRlckZvcm1hdH0gYWRkcmVzc0Zvcm1hdCAtIFNwZWNpZnkgaG93IG1hbnkgYml0cyB3aWRlXG4gKiAgICAgICAgICAgYW4gYWRkcmVzcyBpcyB3aXRoaW4gdGhlIHNpbXVsYXRpb24gYW5kIGhvdyBpdCBzaG91bGQgYmUgZGl2aWRlZFxuICogICAgICAgICAgIHVwIGludG8gYSBoaWVyYXJjaHkuIEZvcm1hdCByZXNlbWJsZXMgSVB2NCBkb3QtZGVjaW1hbCBub3RhdGlvbixcbiAqICAgICAgICAgICBidXQgdGhlIG51bWJlcnMgc3BlY2lmeSB0aGUgbnVtYmVyIG9mIGJpdHMgZm9yIGVhY2ggc2VjdGlvbi5cbiAqICAgICAgICAgICBFeGFtcGxlczpcbiAqICAgICAgICAgICBcIjguOFwiIC0gMTYtYml0IGFkZHJlc3MsIHJlcHJlc2VudGVkIGFzIHR3byA4LWJpdCBpbnRlZ2Vycy5cbiAqICAgICAgICAgICBcIjRcIiAtIDQgYml0IGFkZHJlc3MgcmVwcmVzZW50ZWQgYXMgb25lIDQtYml0IGludGVnZXIuXG4gKiAgICAgICAgICAgXCI4LjRcIiAtIDEyLWJpdCBhZGRyZXNzLCByZXByZXNlbnRlZCBhcyBhbiA4LWJpdCBpbnRlZ2VyIGZvbGxvd2VkXG4gKiAgICAgICAgICAgICAgICAgICBieSBhIDQtYml0IGludGVnZXJcbiAqICAgICAgICAgICAgVGhpcyBmb3JtYXQgd2lsbCBiZSBhcHBsaWVkIHRvIGFueSBcImZyb21BZGRyZXNzXCIgb3IgXCJ0b0FkZHJlc3NcIlxuICogICAgICAgICAgICBoZWFkZXIgZmllbGRzIGluIHRoZSBwYWNrZXQgc3BlY2lmaWNhdGlvbiwgYW5kIHdpbGwgZGV0ZXJtaW5lXG4gKiAgICAgICAgICAgIGhvdyByb3V0ZXJzIGFzc2lnbiBhZGRyZXNzZXMuXG4gKlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHBhY2tldENvdW50Qml0V2lkdGggLSBIb3cgbWFueSBiaXRzIHNob3VsZCBiZSBhbGxvY2F0ZWRcbiAqICAgICAgICAgICBmb3IgYW55IFwicGFja2V0SW5kZXhcIiBvciBcInBhY2tldENvdW50XCIgZmllbGRzIGluIHRoZSBwYWNrZXRcbiAqICAgICAgICAgICBzcGVjaWZpY2F0aW9uLlxuICpcbiAqIEBwcm9wZXJ0eSB7UGFja2V0LkhlYWRlclR5cGVbXX0gcm91dGVyRXhwZWN0c1BhY2tldEhlYWRlciAtIFRoZSBoZWFkZXIgZm9ybWF0XG4gKiAgICAgICAgICAgdGhlIHJvdXRlciB1c2VzIHRvIHBhcnNlIGluY29taW5nIHBhY2tldHMgYW5kIGZpZ3VyZSBvdXQgd2hlcmVcbiAqICAgICAgICAgICB0byByb3V0ZSB0aGVtLlxuICpcbiAqIEBwcm9wZXJ0eSB7UGFja2V0LkhlYWRlclR5cGVbXX0gY2xpZW50SW5pdGlhbFBhY2tldEhlYWRlciAtIFRoZSBoZWFkZXIgZm9ybWF0XG4gKiAgICAgICAgICAgdXNlZCBieSB0aGUgbG9jYWwgY2xpZW50IG5vZGUgd2hlbiBnZW5lcmF0aW5nL3BhcnNpbmcgcGFja2V0cyxcbiAqICAgICAgICAgICB3aGljaCBhZmZlY3RzIHRoZSBsYXlvdXQgb2YgdGhlIHNlbmQgcGFuZWwgYW5kIGxvZyBwYW5lbHMuXG4gKlxuICogQHByb3BlcnR5IHtib29sZWFufSBzaG93SG9zdG5hbWVJbkdyYXBoIC0gSWYgZmFsc2UsIHN0dWRlbnQgZGlzcGxheSBuYW1lXG4gKiAgICAgICAgICAgaXMgdXNlZCBpbiB0aGUgbmV0d29yayBncmFwaC4gIElmIHRydWUsIHRoZWlyIGdlbmVyYXRlZCBob3N0bmFtZVxuICogICAgICAgICAgIGlzIGRpc3BsYXllZC5cbiAqXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHNob3dBZGRQYWNrZXRCdXR0b24gLSBXaGV0aGVyIHRoZSBcIkFkZCBQYWNrZXRcIiBidXR0b25cbiAqICAgICAgICAgICBzaG91bGQgYXBwZWFyIGluIHRoZSBzZW5kIHdpZGdldC5cbiAqXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHNob3dQYWNrZXRTaXplQ29udHJvbCAtIFdoZXRoZXIgdGhlIHBhY2tldCBzaXplIHNsaWRlclxuICogICAgICAgICAgIHNob3VsZCBhcHBlYXIgaW4gdGhlIHNlbmQgd2lkZ2V0LlxuICpcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZWZhdWx0UGFja2V0U2l6ZUxpbWl0IC0gSW5pdGlhbCBtYXhpbXVtIHBhY2tldCBzaXplLlxuICpcbiAqIEBwcm9wZXJ0eSB7TmV0U2ltVGFiVHlwZVtdfSBzaG93VGFicyAtIFdoaWNoIHRhYnMgc2hvdWxkIGFwcGVhciBiZW5lYXRoIHRoZVxuICogICAgICAgICAgIG5ldHdvcmsgdmlzdWFsaXphdGlvbi4gIERvZXMgbm90IGRldGVybWluZSB0YWIgb3JkZXI7IHRhYnMgYWx3YXlzXG4gKiAgICAgICAgICAgYXBwZWFyIGluIHRoZSBvcmRlciBcIkluc3RydWN0aW9ucywgTXkgRGV2aWNlLCBSb3V0ZXIsIEROUy5cIlxuICpcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZWZhdWx0VGFiSW5kZXggLSBUaGUgemVyby1iYXNlZCBpbmRleCBvZiB0aGUgdGFiXG4gKiAgICAgICAgICAgdGhhdCBzaG91bGQgYmUgYWN0aXZlIGJ5IGRlZmF1bHQsIHdoaWNoIGRlcGVuZHMgb24gd2hpY2ggdGFic1xuICogICAgICAgICAgIHlvdSBoYXZlIGVuYWJsZWQuXG4gKlxuICogQHByb3BlcnR5IHtib29sZWFufSBzaG93UHVsc2VSYXRlU2xpZGVyIC0gV2hldGhlciB0aGUgcHVsc2UgcmF0ZSBzbGlkZXJcbiAqICAgICAgICAgICBpcyB2aXNpYmxlIG9uIHRoZSBcIk15IERldmljZVwiIHRhYi4gIFRoaXMgY29udHJvbCBpcyBhIGRpZmZlcmVudFxuICogICAgICAgICAgIHZpZXcgb24gdGhlIGJpdHJhdGUsIGdpdmVuIGluIHNlY29uZHMtcGVyLXB1bHNlOyBpbiBmYWN0LCBpZiBib3RoXG4gKiAgICAgICAgICAgdGhpcyBhbmQgdGhlIGJpdHJhdGUgc2xpZGVyIGFyZSB2aXNpYmxlLCBkcmFnZ2luZyBvbmUgd2lsbCBjaGFuZ2VcbiAqICAgICAgICAgICB0aGUgb3RoZXIuXG4gKlxuICogQHByb3BlcnR5IHtib29sZWFufSBzaG93TWV0cm9ub21lIC0gV2hldGhlciB0aGUgbWV0cm9ub21lIHNob3VsZCBzaG93IHVwIG9uXG4gKiAgICAgICAgICAgdGhlIFwiTXkgRGV2aWNlXCIgdGFiLlxuICpcbiAqIEBwcm9wZXJ0eSB7RW5jb2RpbmdUeXBlW119IHNob3dFbmNvZGluZ0NvbnRyb2xzIC0gV2hpY2ggZW5jb2RpbmdzLCAoQVNDSUksXG4gKiAgICAgICAgICAgYmluYXJ5LCBldGMuKSBzaG91bGQgaGF2ZSB2aXNpYmxlIGNvbnRyb2xzIG9uIHRoZSBcIk15IERldmljZVwiIHRhYi5cbiAqXG4gKiBAcHJvcGVydHkge0VuY29kaW5nVHlwZVtdfSBkZWZhdWx0RW5hYmxlZEVuY29kaW5ncyAtIFdoaWNoIGVuY29kaW5ncyBzaG91bGRcbiAqICAgICAgICAgICBiZSBlbmFibGVkIG9uIHBhZ2UgbG9hZC4gIE5vdGU6IEFuIGVuY29kaW5nIGVuYWJsZWQgaGVyZSBidXQgbm90XG4gKiAgICAgICAgICAgaW5jbHVkZWQgaW4gdGhlIHZpc2libGUgY29udHJvbHMgd2lsbCBiZSBlbmFibGVkIGFuZCBjYW5ub3QgYmVcbiAqICAgICAgICAgICBkaXNhYmxlZCBieSB0aGUgc3R1ZGVudC5cbiAqXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHNob3dCaXRSYXRlQ29udHJvbCAtIFdoZXRoZXIgdGhlIGJpdCByYXRlIHNsaWRlciBzaG91bGRcbiAqICAgICAgICAgICBiZSBkaXNwbGF5ZWQgb24gdGhlIFwiTXkgRGV2aWNlXCIgdGFiLlxuICpcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbG9ja0JpdFJhdGVDb250cm9sIC0gV2hldGhlciB0aGUgYml0IHJhdGUgc2xpZGVyIHNob3VsZFxuICogICAgICAgICAgIGJlIGFkanVzdGFibGUgYnkgdGhlIHN0dWRlbnQuXG4gKlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRlZmF1bHRCaXRSYXRlQml0c1BlclNlY29uZCAtIERlZmF1bHQgYml0IHJhdGUgb24gbGV2ZWxcbiAqICAgICAgICAgICBsb2FkLiAgQWxzbyBzZXRzIHRoZSBwdWxzZSByYXRlIGZvciBsZXZlbHMgd2l0aCB0aGUgbWV0cm9ub21lLlxuICpcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gc2hvd0NodW5rU2l6ZUNvbnRyb2wgLSBXaGV0aGVyIHRoZSBjaHVuayBzaXplIHNsaWRlclxuICogICAgICAgICAgIHNob3VsZCBiZSBkaXNwbGF5ZWQgb24gdGhlIFwiTXkgRGV2aWNlXCIgdGFiLlxuICpcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gbG9ja0NodW5rU2l6ZUNvbnRyb2wgLSBXaGV0aGVyIHRoZSBjaHVuayBzaXplIHNsaWRlclxuICogICAgICAgICAgIHNob3VsZCBiZSBhZGp1c3RhYmxlIGJ5IHRoZSBzdHVkZW50LlxuICpcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkZWZhdWx0Q2h1bmtTaXplQml0cy0gRGVmYXVsdCBjaHVuayBzaXplIG9uIGxldmVsIGxvYWQuXG4gKlxuICogQHByb3BlcnR5IHtib29sZWFufSBzaG93Um91dGVyQmFuZHdpZHRoQ29udHJvbCAtIFdoZXRoZXIgc3R1ZGVudHMgc2hvdWxkIGJlXG4gKiAgICAgICAgICAgYWJsZSB0byBzZWUgYW5kIG1hbmlwdWxhdGUgdGhlIHNsaWRlciB0aGF0IGFkanVzdHMgdGhlIHJvdXRlcidzXG4gKiAgICAgICAgICAgbWF4IHRocm91Z2hwdXQgc3BlZWQuXG4gKlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRlZmF1bHRSb3V0ZXJCYW5kd2lkdGggLSBIb3cgZmFzdCB0aGUgcm91dGVyIHNob3VsZCBiZVxuICogICAgICAgICAgIGFibGUgdG8gcHJvY2VzcyBwYWNrZXRzLCBvbiBpbml0aWFsIGxldmVsIGxvYWQuXG4gKlxuICogQHByb3BlcnR5IHtib29sZWFufSBzaG93Um91dGVyTWVtb3J5Q29udHJvbCAtIFdoZXRoZXIgc3R1ZGVudHMgc2hvdWxkIGJlXG4gKiAgICAgICAgICAgYWJsZSB0byBzZWUgYW5kIG1hbmlwdWxhdGUgdGhlIHNsaWRlciB0aGF0IGFkanVzdHMgdGhlIHJvdXRlcidzXG4gKiAgICAgICAgICAgbWF4aW11bSBxdWV1ZSBtZW1vcnkuXG4gKlxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRlZmF1bHRSb3V0ZXJNZW1vcnkgLSBIb3cgbXVjaCBkYXRhIHRoZSByb3V0ZXIgcGFja2V0XG4gKiAgICAgICAgICAgcXVldWUgaXMgYWJsZSB0byBob2xkIGJlZm9yZSBpdCBzdGFydHMgZHJvcHBpbmcgcGFja2V0cywgaW4gYml0cy5cbiAqXG4gKiBAcHJvcGVydHkge251bWJlcn0gZGVmYXVsdFJhbmRvbURyb3BDaGFuY2UgLSBPZGRzIHRoYXQgdGhlIHJvdXRlciB3aWxsIGRyb3BcbiAqICAgICAgICAgICB0aGUgcGFja2V0IGZvciBubyByZWFzb24gd2hpbGUgcm91dGluZyBpdC4gIFZhbHVlIGluIHJhbmdlXG4gKiAgICAgICAgICAgMCAobm8gZHJvcHMpIHRvIDEgKGRyb3AgZXZlcnl0aGluZylcbiAqXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHNob3dEbnNNb2RlQ29udHJvbCAtIFdoZXRoZXIgdGhlIEROUyBtb2RlIGNvbnRyb2xzIHdpbGxcbiAqICAgICAgICAgICBiZSBhdmFpbGFibGUgdG8gdGhlIHN0dWRlbnQuXG4gKlxuICogQHByb3BlcnR5IHtEbnNNb2RlfSBkZWZhdWx0RG5zTW9kZSAtIFdoaWNoIEROUyBtb2RlIHRoZSBzaW11bGF0b3Igc2hvdWxkXG4gKiAgICAgICAgICAgaW5pdGlhbGl6ZSBpbnRvLlxuICovXG5cbi8qXG4gKiBDb25maWd1cmF0aW9uIGZvciBhbGwgbGV2ZWxzLlxuICovXG52YXIgbGV2ZWxzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLyoqXG4gKiBBIGRlZmF1bHQgbGV2ZWwgY29uZmlndXJhdGlvbiBzbyB0aGF0IHdlIGNhbiBkZWZpbmUgdGhlIG90aGVycyBieSBkZWx0YS5cbiAqIFRoaXMgZGVmYXVsdCBjb25maWd1cmF0aW9uIGVuYWJsZXMgZXZlcnl0aGluZyBwb3NzaWJsZSwgc28gb3RoZXIgY29uZmlnc1xuICogc2hvdWxkIHN0YXJ0IHdpdGggdGhpcyBvbmUgYW5kIGRpc2FibGUgZmVhdHVyZXMuXG4gKiBAdHlwZSB7TmV0U2ltTGV2ZWxDb25maWd1cmF0aW9ufVxuICovXG5sZXZlbHMuY3VzdG9tID0ge1xuXG4gIC8vIExvYmJ5IGNvbmZpZ3VyYXRpb25cbiAgc2hvd0NsaWVudHNJbkxvYmJ5OiBmYWxzZSxcbiAgc2hvd1JvdXRlcnNJbkxvYmJ5OiBmYWxzZSxcbiAgY2FuQ29ubmVjdFRvQ2xpZW50czogZmFsc2UsXG4gIGNhbkNvbm5lY3RUb1JvdXRlcnM6IGZhbHNlLFxuICBzaG93QWRkUm91dGVyQnV0dG9uOiBmYWxzZSxcbiAgc2hvd0xvZ0Jyb3dzZXJCdXR0b246IGZhbHNlLFxuXG4gIC8vIFNpbXVsYXRvci13aWRlIHNldHVwXG4gIG1lc3NhZ2VHcmFudWxhcml0eTogTWVzc2FnZUdyYW51bGFyaXR5LkJJVFMsXG4gIGF1dG9tYXRpY1JlY2VpdmU6IGZhbHNlLFxuICBicm9hZGNhc3RNb2RlOiBmYWxzZSxcbiAgY29ubmVjdGVkUm91dGVyczogZmFsc2UsXG4gIG1pbmltdW1FeHRyYUhvcHM6IDAsXG4gIG1heGltdW1FeHRyYUhvcHM6IDAsXG5cbiAgLy8gUGFja2V0IGhlYWRlciBzcGVjaWZpY2F0aW9uXG4gIGFkZHJlc3NGb3JtYXQ6ICc0JyxcbiAgcGFja2V0Q291bnRCaXRXaWR0aDogNCxcbiAgcm91dGVyRXhwZWN0c1BhY2tldEhlYWRlcjogW10sXG4gIGNsaWVudEluaXRpYWxQYWNrZXRIZWFkZXI6IFtdLFxuXG4gIC8vIFZpc3VhbGl6YXRpb24gY29uZmlndXJhdGlvblxuICBzaG93SG9zdG5hbWVJbkdyYXBoOiBmYWxzZSxcblxuICAvLyBTZW5kIHdpZGdldCBjb25maWd1cmF0aW9uXG4gIHNob3dBZGRQYWNrZXRCdXR0b246IGZhbHNlLFxuICBzaG93UGFja2V0U2l6ZUNvbnRyb2w6IGZhbHNlLFxuICBkZWZhdWx0UGFja2V0U2l6ZUxpbWl0OiA4MTkyLFxuXG4gIC8vIFRhYi1wYW5lbCBjb250cm9sXG4gIHNob3dUYWJzOiBbXSxcbiAgZGVmYXVsdFRhYkluZGV4OiAwLFxuXG4gIC8vIEluc3RydWN0aW9ucyB0YWIgYW5kIGl0cyBjb250cm9sc1xuICAvLyBOb3RlOiBVc2VzIHRoZSBibG9ja2x5LXN0YW5kYXJkIGxldmVsLmluc3RydWN0aW9ucyB2YWx1ZSwgd2hpY2ggc2hvdWxkXG4gIC8vICAgICAgIGJlIGxvY2FsaXplZCBieSB0aGUgdGltZSBpdCBnZXRzIGhlcmUuXG5cbiAgLy8gXCJNeSBEZXZpY2VcIiB0YWIgYW5kIGl0cyBjb250cm9sc1xuICBzaG93UHVsc2VSYXRlU2xpZGVyOiBmYWxzZSxcbiAgc2hvd01ldHJvbm9tZTogZmFsc2UsXG4gIHNob3dFbmNvZGluZ0NvbnRyb2xzOiBbXSxcbiAgZGVmYXVsdEVuYWJsZWRFbmNvZGluZ3M6IFtdLFxuICBzaG93Qml0UmF0ZUNvbnRyb2w6IGZhbHNlLFxuICBsb2NrQml0UmF0ZUNvbnRyb2w6IGZhbHNlLFxuICBkZWZhdWx0Qml0UmF0ZUJpdHNQZXJTZWNvbmQ6IEluZmluaXR5LFxuICBzaG93Q2h1bmtTaXplQ29udHJvbDogZmFsc2UsXG4gIGxvY2tDaHVua1NpemVDb250cm9sOiBmYWxzZSxcbiAgZGVmYXVsdENodW5rU2l6ZUJpdHM6IDgsXG5cbiAgLy8gUm91dGVyIHRhYiBhbmQgaXRzIGNvbnRyb2xzXG4gIHNob3dSb3V0ZXJCYW5kd2lkdGhDb250cm9sOiBmYWxzZSxcbiAgZGVmYXVsdFJvdXRlckJhbmR3aWR0aDogSW5maW5pdHksXG4gIHNob3dSb3V0ZXJNZW1vcnlDb250cm9sOiBmYWxzZSxcbiAgZGVmYXVsdFJvdXRlck1lbW9yeTogSW5maW5pdHksXG4gIGRlZmF1bHRSYW5kb21Ecm9wQ2hhbmNlOiAwLFxuXG4gIC8vIEROUyB0YWIgYW5kIGl0cyBjb250cm9sc1xuICBzaG93RG5zTW9kZUNvbnRyb2w6IGZhbHNlLFxuICBkZWZhdWx0RG5zTW9kZTogRG5zTW9kZS5OT05FXG59O1xuXG4vKipcbiAqIFNwZWNpYWwgbGV2ZWwgY29uZmlndXJhdGlvbiBmb3IgdXNlIHdpdGggJ2dydW50IGRldicgc3RhbmRhbG9uZSBtb2RlLlxuICogTmV2ZXIgdXNlZCB3aGVuIHNlcnZpbmcgTmV0U2ltIGxldmVscyB0aHJvdWdoIGRhc2hib2FyZC5cbiAqIEB0eXBlIHtOZXRTaW1MZXZlbENvbmZpZ3VyYXRpb259XG4gKi9cbmxldmVscy5wbGF5Z3JvdW5kID0ge1xuXG4gIC8vIExvYmJ5IGNvbmZpZ3VyYXRpb25cbiAgc2hvd0NsaWVudHNJbkxvYmJ5OiBmYWxzZSxcbiAgc2hvd1JvdXRlcnNJbkxvYmJ5OiB0cnVlLFxuICBjYW5Db25uZWN0VG9DbGllbnRzOiBmYWxzZSxcbiAgY2FuQ29ubmVjdFRvUm91dGVyczogdHJ1ZSxcbiAgc2hvd0FkZFJvdXRlckJ1dHRvbjogdHJ1ZSxcbiAgc2hvd0xvZ0Jyb3dzZXJCdXR0b246IHRydWUsXG5cbiAgLy8gU2ltdWxhdG9yLXdpZGUgc2V0dXBcbiAgbWVzc2FnZUdyYW51bGFyaXR5OiBNZXNzYWdlR3JhbnVsYXJpdHkuUEFDS0VUUyxcbiAgYXV0b21hdGljUmVjZWl2ZTogdHJ1ZSxcbiAgYnJvYWRjYXN0TW9kZTogZmFsc2UsXG4gIGNvbm5lY3RlZFJvdXRlcnM6IGZhbHNlLFxuICBtaW5pbXVtRXh0cmFIb3BzOiAwLFxuICBtYXhpbXVtRXh0cmFIb3BzOiAwLFxuXG4gIC8vIFBhY2tldCBoZWFkZXIgc3BlY2lmaWNhdGlvblxuICBhZGRyZXNzRm9ybWF0OiAnNCcsXG4gIHBhY2tldENvdW50Qml0V2lkdGg6IDQsXG4gIHJvdXRlckV4cGVjdHNQYWNrZXRIZWFkZXI6IFsndG9BZGRyZXNzJywgJ2Zyb21BZGRyZXNzJ10sXG4gIGNsaWVudEluaXRpYWxQYWNrZXRIZWFkZXI6IFsndG9BZGRyZXNzJywgJ2Zyb21BZGRyZXNzJ10sXG5cbiAgLy8gVmlzdWFsaXphdGlvbiBjb25maWd1cmF0aW9uXG4gIHNob3dIb3N0bmFtZUluR3JhcGg6IGZhbHNlLFxuXG4gIC8vIFNlbmQgd2lkZ2V0IGNvbmZpZ3VyYXRpb25cbiAgc2hvd0FkZFBhY2tldEJ1dHRvbjogZmFsc2UsXG4gIHNob3dQYWNrZXRTaXplQ29udHJvbDogZmFsc2UsXG4gIGRlZmF1bHRQYWNrZXRTaXplTGltaXQ6IDgxOTIsXG5cbiAgLy8gVGFiLXBhbmVsIGNvbnRyb2xcbiAgc2hvd1RhYnM6IFsnaW5zdHJ1Y3Rpb25zJywgJ215X2RldmljZScsICdyb3V0ZXInLCAnZG5zJ10sXG4gIGRlZmF1bHRUYWJJbmRleDogMCxcblxuICAvLyBJbnN0cnVjdGlvbnMgdGFiIGFuZCBpdHMgY29udHJvbHNcbiAgLy8gTm90ZTogVXNlcyB0aGUgYmxvY2tseS1zdGFuZGFyZCBsZXZlbC5pbnN0cnVjdGlvbnMgdmFsdWUsIHdoaWNoIHNob3VsZFxuICAvLyAgICAgICBiZSBsb2NhbGl6ZWQgYnkgdGhlIHRpbWUgaXQgZ2V0cyBoZXJlLlxuXG4gIC8vIFwiTXkgRGV2aWNlXCIgdGFiIGFuZCBpdHMgY29udHJvbHNcbiAgc2hvd1B1bHNlUmF0ZVNsaWRlcjogZmFsc2UsXG4gIHNob3dNZXRyb25vbWU6IGZhbHNlLFxuICBzaG93RW5jb2RpbmdDb250cm9sczogWydhX2FuZF9iJywgJ2JpbmFyeScsICdoZXhhZGVjaW1hbCcsICdkZWNpbWFsJywgJ2FzY2lpJ10sXG4gIGRlZmF1bHRFbmFibGVkRW5jb2RpbmdzOiBbJ2FfYW5kX2InLCAnYmluYXJ5JywgJ2hleGFkZWNpbWFsJywgJ2RlY2ltYWwnLCAnYXNjaWknXSxcbiAgc2hvd0JpdFJhdGVDb250cm9sOiB0cnVlLFxuICBsb2NrQml0UmF0ZUNvbnRyb2w6IGZhbHNlLFxuICBkZWZhdWx0Qml0UmF0ZUJpdHNQZXJTZWNvbmQ6IEluZmluaXR5LFxuICBzaG93Q2h1bmtTaXplQ29udHJvbDogdHJ1ZSxcbiAgbG9ja0NodW5rU2l6ZUNvbnRyb2w6IGZhbHNlLFxuICBkZWZhdWx0Q2h1bmtTaXplQml0czogOCxcblxuICAvLyBSb3V0ZXIgdGFiIGFuZCBpdHMgY29udHJvbHNcbiAgc2hvd1JvdXRlckJhbmR3aWR0aENvbnRyb2w6IHRydWUsXG4gIGRlZmF1bHRSb3V0ZXJCYW5kd2lkdGg6IEluZmluaXR5LFxuICBzaG93Um91dGVyTWVtb3J5Q29udHJvbDogdHJ1ZSxcbiAgZGVmYXVsdFJvdXRlck1lbW9yeTogSW5maW5pdHksXG4gIGRlZmF1bHRSYW5kb21Ecm9wQ2hhbmNlOiAwLFxuXG4gIC8vIEROUyB0YWIgYW5kIGl0cyBjb250cm9sc1xuICBzaG93RG5zTW9kZUNvbnRyb2w6IHRydWUsXG4gIGRlZmF1bHREbnNNb2RlOiBEbnNNb2RlLk5PTkVcbn07XG4iLCJtb2R1bGUuZXhwb3J0cz0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdCA9IGZ1bmN0aW9uIGFub255bW91cyhsb2NhbHMsIGZpbHRlcnMsIGVzY2FwZVxuLyoqLykge1xuZXNjYXBlID0gZXNjYXBlIHx8IGZ1bmN0aW9uIChodG1sKXtcbiAgcmV0dXJuIFN0cmluZyhodG1sKVxuICAgIC5yZXBsYWNlKC8mKD8hXFx3KzspL2csICcmYW1wOycpXG4gICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpO1xufTtcbnZhciBidWYgPSBbXTtcbndpdGggKGxvY2FscyB8fCB7fSkgeyAoZnVuY3Rpb24oKXsgXG4gYnVmLnB1c2goJzxkaXYgaWQ9XCJzbGlkZXItY2VsbFwiPlxcbiAgPGltZyBpZD1cInNwaW5uZXJcIiBzdHlsZT1cInZpc2liaWxpdHk6IGhpZGRlbjtcIiBzcmM9XCInLCBlc2NhcGUoKDIsICBhc3NldFVybCgnbWVkaWEvbmV0c2ltL2xvYWRpbmcuZ2lmJykgKSksICdcIiBoZWlnaHQ9MTUgd2lkdGg9MTU+XFxuPC9kaXY+XFxuJyk7IH0pKCk7XG59IFxucmV0dXJuIGJ1Zi5qb2luKCcnKTtcbn07XG4gIHJldHVybiBmdW5jdGlvbihsb2NhbHMpIHtcbiAgICByZXR1cm4gdChsb2NhbHMsIHJlcXVpcmUoXCJlanNcIikuZmlsdGVycyk7XG4gIH1cbn0oKSk7IiwiLyoqXG4gKiBAb3ZlcnZpZXcgVG9wLWxldmVsIGNvbnRyb2xsZXIgZm9yIHRoZSBuZXR3b3JrIHZpc3VhbGl6YXRpb24uXG4gKi9cbi8vIFN0cmljdCBsaW50aW5nOiBBYnNvcmIgaW50byBnbG9iYWwgY29uZmlnIHdoZW4gcG9zc2libGVcbi8qIGpzaGludFxuIHVudXNlZDogdHJ1ZSxcbiBlcWVxZXE6IHRydWUsXG4gbWF4bGVuOiAxMjBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xudmFyIF8gPSB1dGlscy5nZXRMb2Rhc2goKTtcbnZhciB2aXN1YWxpemF0aW9uTWFya3VwID0gcmVxdWlyZSgnLi9OZXRTaW1WaXN1YWxpemF0aW9uLmh0bWwuZWpzJyk7XG52YXIgTmV0U2ltTm9kZUZhY3RvcnkgPSByZXF1aXJlKCcuL05ldFNpbU5vZGVGYWN0b3J5Jyk7XG52YXIgTmV0U2ltV2lyZSA9IHJlcXVpcmUoJy4vTmV0U2ltV2lyZScpO1xudmFyIE5ldFNpbVZpekF1dG9EbnNOb2RlID0gcmVxdWlyZSgnLi9OZXRTaW1WaXpBdXRvRG5zTm9kZScpO1xudmFyIE5ldFNpbVZpek5vZGUgPSByZXF1aXJlKCcuL05ldFNpbVZpek5vZGUnKTtcbnZhciBOZXRTaW1WaXpTaW11bGF0aW9uTm9kZSA9IHJlcXVpcmUoJy4vTmV0U2ltVml6U2ltdWxhdGlvbk5vZGUnKTtcbnZhciBOZXRTaW1WaXpTaW11bGF0aW9uV2lyZSA9IHJlcXVpcmUoJy4vTmV0U2ltVml6U2ltdWxhdGlvbldpcmUnKTtcbnZhciBOZXRTaW1WaXpXaXJlID0gcmVxdWlyZSgnLi9OZXRTaW1WaXpXaXJlJyk7XG52YXIgTmV0U2ltR2xvYmFscyA9IHJlcXVpcmUoJy4vTmV0U2ltR2xvYmFscycpO1xudmFyIHR3ZWVucyA9IHJlcXVpcmUoJy4vdHdlZW5zJyk7XG52YXIgTmV0U2ltQ29uc3RhbnRzID0gcmVxdWlyZSgnLi9OZXRTaW1Db25zdGFudHMnKTtcbnZhciBEbnNNb2RlID0gTmV0U2ltQ29uc3RhbnRzLkRuc01vZGU7XG52YXIgTm9kZVR5cGUgPSBOZXRTaW1Db25zdGFudHMuTm9kZVR5cGU7XG5cbi8qKlxuICogV2hldGhlciB0aGUgYmx1cnJlZCB2aXN1YWxpemF0aW9uIGJhY2tncm91bmQgc2hvdWxkIGJlIHNob3duLlxuICogQGNvbnN0IHtib29sZWFufVxuICovXG52YXIgU0hPV19CQUNLR1JPVU5EID0gZmFsc2U7XG5cbi8qKlxuICogVG9wLWxldmVsIGNvbnRyb2xsZXIgZm9yIHRoZSBuZXR3b3JrIHZpc3VhbGl6YXRpb24uXG4gKlxuICogRm9yIHRoZSBtb3N0IHBhcnQsIHRoZSB2aXN1YWxpemF0aW9uIGF0dGFjaGVzIHRvIHRoZSByYXcgbmV0d29yayBzdGF0ZVxuICogcmVwcmVzZW50YXRpb24gKHRoZSBzdG9yYWdlIHRhYmxlcykgYW5kIHVwZGF0ZXMgdG8gcmVmbGVjdCB0aGF0IHN0YXRlLFxuICogaW5kZXBlbmRlbnQgb2YgdGhlIHJlc3Qgb2YgdGhlIGNvbnRyb2xzIG9uIHRoZSBwYWdlLiAgVGhpcyBzZXBhcmF0aW9uIG1lYW5zXG4gKiB0aGF0IHRoZSB2aXN1YWxpemF0aW9uIGFsd2F5cyBoYXMgb25lIGNhbm9uaWNhbCBzdGF0ZSB0byBvYnNlcnZlLlxuICpcbiAqIEBwYXJhbSB7alF1ZXJ5fSByb290RGl2IC0gVGhlIDxkaXY+IHRhZyB3aXRoaW4gd2hpY2ggdGhlIHZpc3VhbGl6YXRpb25cbiAqICAgICAgICB3aWxsIGJlIGNyZWF0ZWQuXG4gKiBAcGFyYW0ge1J1bkxvb3B9IHJ1bkxvb3AgLSBMb29wIHByb3ZpZGluZyB0aWNrIGFuZCByZW5kZXIgZXZlbnRzIHRoYXQgdGhlXG4gKiAgICAgICAgdmlzdWFsaXphdGlvbiBjYW4gaG9vayB1cCB0byBhbmQgcmVzcG9uZCB0by5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgTmV0U2ltVmlzdWFsaXphdGlvbiA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHJvb3REaXYsIHJ1bkxvb3ApIHtcbiAgLyoqXG4gICAqIEBwcml2YXRlIHtqUXVlcnl9XG4gICAqL1xuICB0aGlzLnJvb3REaXZfID0gcm9vdERpdjtcblxuICAvLyBJbW1lZGlhdGVseSwgZHJvcCBvdXIgU1ZHIGNhbnZhcyBhbmQgYmFzaWMgZ3JvdXBzIGludG8gdGhlIERPTVxuICB0aGlzLnJvb3REaXZfLmh0bWwodmlzdWFsaXphdGlvbk1hcmt1cCh7XG4gICAgc2hvd0JhY2tncm91bmQ6IFNIT1dfQkFDS0dST1VORFxuICB9KSk7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlIHtqUXVlcnl9XG4gICAqL1xuICB0aGlzLnN2Z1Jvb3RfID0gdGhpcy5yb290RGl2Xy5maW5kKCdzdmcnKTtcblxuICAvKipcbiAgICogQmFja2dyb3VuZCBncm91cCBuZXZlciBnb2VzIGF3YXksIHNvIHNlYXJjaCBmb3IgaXQgb25jZSBhbmQgY2FjaGVcbiAgICogaXQgaGVyZS5cbiAgICogQHByaXZhdGUge2pRdWVyeX1cbiAgICovXG4gIHRoaXMuYmFja2dyb3VuZEdyb3VwXyA9IHRoaXMuc3ZnUm9vdF8uZmluZCgnI2JhY2tncm91bmQtZ3JvdXAnKTtcblxuICAvKipcbiAgICogRm9yZWdyb3VuZCBncm91cCBuZXZlciBnb2VzIGF3YXksIHNvIHNlYXJjaCBmb3IgaXQgb25jZSBhbmQgY2FjaGVcbiAgICogaXQgaGVyZS5cbiAgICogQHByaXZhdGUge2pRdWVyeX1cbiAgICovXG4gIHRoaXMuZm9yZWdyb3VuZEdyb3VwXyA9IHRoaXMuc3ZnUm9vdF8uZmluZCgnI2ZvcmVncm91bmQtZ3JvdXAnKTtcblxuICAvKipcbiAgICogVGhlIHNoYXJkIGN1cnJlbnRseSBiZWluZyByZXByZXNlbnRlZC5cbiAgICogV2UgZG9uJ3QgaGF2ZSBhIHNoYXJkIG5vdywgYnV0IHdlIHJlZ2lzdGVyIHdpdGggdGhlIGNvbm5lY3Rpb24gbWFuYWdlclxuICAgKiB0byBmaW5kIG91dCB3aGVuIHdlIGhhdmUgb25lLlxuICAgKiBAcHJpdmF0ZSB7TmV0U2ltU2hhcmR9XG4gICAqL1xuICB0aGlzLnNoYXJkXyA9IG51bGw7XG5cbiAgLyoqXG4gICAqIExpc3Qgb2YgVml6RW50aXRpZXMsIHdoaWNoIGFyZSBhbGwgdGhlIGVsZW1lbnRzIHRoYXQgd2lsbCBhY3R1YWxseSBzaG93IHVwXG4gICAqIGluIG91ciB2aXN1YWxpemF0aW9uLlxuICAgKiBAcHJpdmF0ZSB7TmV0U2ltVml6RWxlbWVudFtdfVxuICAgKi9cbiAgdGhpcy5lbGVtZW50c18gPSBbXTtcblxuICAvKipcbiAgICogUmVmZXJlbmNlIHRvIHRoZSBsb2NhbCBub2RlIHZpeiBlbGVtZW50LCB0aGUgYW5jaG9yIGZvciB0aGUgdmlzdWFsaXphdGlvbi5cbiAgICogQHR5cGUge05ldFNpbVZpelNpbXVsYXRpb25Ob2RlfVxuICAgKi9cbiAgdGhpcy5sb2NhbE5vZGUgPSBudWxsO1xuXG4gIC8qKlxuICAgKiBXaWR0aCAoaW4gc3ZnLXVuaXRzKSBvZiB2aXN1YWxpemF0aW9uXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICB0aGlzLnZpc3VhbGl6YXRpb25XaWR0aCA9IDMwMDtcblxuICAvKipcbiAgICogSGVpZ2h0IChpbiBzdmctdW5pdHMpIG9mIHZpc3VhbGl6YXRpb25cbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMudmlzdWFsaXphdGlvbkhlaWdodCA9IDMwMDtcblxuICAvKipcbiAgKiBMYXN0IGtub3duIEROUyBtb2RlLCBzbyB0aGF0IG5ldyBlbGVtZW50cyBjYW4gYmUgY3JlYXRlZCB3aXRoIHRoZVxuICAqIGNvcnJlY3QgZGVmYXVsdFxuICAqIEB0eXBlIHtEbnNNb2RlfVxuICAqL1xuICB0aGlzLmRuc01vZGVfID0gbnVsbDtcblxuICAvKipcbiAgICogUmVmZXJlbmNlIHRvIHZpc3VhbGl6ZWQgYXV0by1ETlMgbm9kZSwgYSBmYWtlIG5vZGUgKG5vdCBtYXBwZWQgdG8gdGhlXG4gICAqIHNpbXVsYXRpb24gaW4gYSBub3JtYWwgd2F5KSB0aGF0IGFsc28gbGl2ZXMgaW4gb3VyIGVsZW1lbnRzXyBjb2xsZWN0aW9uLlxuICAgKiBAdHlwZSB7TmV0U2ltVml6QXV0b0Ruc05vZGV9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmF1dG9EbnNOb2RlXyA9IG51bGw7XG5cbiAgLyoqXG4gICAqIFJlZmVyZW5jZSB0byB3aXJlIGJldHdlZW4gdGhlIGF1dG8tRE5TIG5vZGUgYW5kIHRoZSBmb3JlZ3JvdW5kIHJvdXRlci5cbiAgICogTWFuYWdlZCBtYW51YWxseSBzbyB3ZSBrZWVwIGEgaGFuZGxlIG9uIGl0LCBidXQgYWxzbyBsaXZlcyBpbiB0aGUgZWxlbWVudHNfXG4gICAqIGNvbGxlY3Rpb24uXG4gICAqIEB0eXBlIHtOZXRTaW1WaXpXaXJlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5hdXRvRG5zV2lyZV8gPSBudWxsO1xuXG4gIC8qKlxuICAgKiBFdmVudCByZWdpc3RyYXRpb24gaW5mb3JtYXRpb25cbiAgICogQHR5cGUge09iamVjdH1cbiAgICovXG4gIHRoaXMuZXZlbnRLZXlzID0ge307XG5cbiAgLyoqXG4gICAqIExhc3Qga25vd24gZW5jb2RpbmdzIHNldCwgc28gdGhhdCBuZXcgZWxlbWVudHMgY2FuIGJlIGNyZWF0ZWQgd2l0aFxuICAgKiB0aGUgY29ycmVjdCBkZWZhdWx0XG4gICAqIEB0eXBlIHtFbmNvZGluZ1R5cGVbXX1cbiAgICovXG4gIHRoaXMuZW5jb2RpbmdzXyA9IFtdO1xuXG4gIC8vIEhvb2sgdXAgdGljayBhbmQgcmVuZGVyIG1ldGhvZHNcbiAgcnVuTG9vcC50aWNrLnJlZ2lzdGVyKHRoaXMudGljay5iaW5kKHRoaXMpKTtcbiAgcnVuTG9vcC5yZW5kZXIucmVnaXN0ZXIodGhpcy5yZW5kZXIuYmluZCh0aGlzKSk7XG59O1xuXG4vKipcbiAqIFRpY2s6IFVwZGF0ZSBhbGwgdml6ZW50aXRpZXMsIGdpdmluZyB0aGVtIGFuIG9wcG9ydHVuaXR5IHRvIHJlY2FsY3VsYXRlXG4gKiAgICAgICB0aGVpciBpbnRlcm5hbCBzdGF0ZSwgYW5kIHJlbW92ZSBhbnkgZGVhZCBlbnRpdGllcyBmcm9tIHRoZVxuICogICAgICAgdmlzdWFsaXphdGlvbi5cbiAqIEBwYXJhbSB7UnVuTG9vcC5DbG9ja30gY2xvY2tcbiAqL1xuTmV0U2ltVmlzdWFsaXphdGlvbi5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uIChjbG9jaykge1xuICAvLyBFdmVyeW9uZSBnZXRzIGFuIHVwZGF0ZVxuICB0aGlzLmVsZW1lbnRzXy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgZWxlbWVudC50aWNrKGNsb2NrKTtcbiAgfSk7XG5cbiAgLy8gVGVhciBvdXQgZGVhZCBlbnRpdGllcy5cbiAgdGhpcy5lbGVtZW50c18gPSB0aGlzLmVsZW1lbnRzXy5maWx0ZXIoZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudC5pc0RlYWQoKSkge1xuICAgICAgZWxlbWVudC5nZXRSb290KCkucmVtb3ZlKCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9KTtcbn07XG5cbi8qKlxuICogUmVuZGVyOiBMZXQgYWxsIHZpemVudGl0aWVzIFwicmVkcmF3XCIgKG9yIGluIG91ciBjYXNlLCB0b3VjaCB0aGUgRE9NKVxuICogQHBhcmFtIHtSdW5Mb29wLkNsb2NrfSBjbG9ja1xuICovXG5OZXRTaW1WaXN1YWxpemF0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoY2xvY2spIHtcbiAgdGhpcy5lbGVtZW50c18uZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIGVsZW1lbnQucmVuZGVyKGNsb2NrKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIENoYW5nZSB0aGUgc2hhcmQgdGhpcyB2aXN1YWxpemF0aW9uIHdpbGwgc291cmNlIGl0cyBkYXRhIGZyb20uXG4gKiBSZS1hdHRhY2hlcyB0YWJsZSBjaGFuZ2UgbGlzdGVuZXJzIGZvciBhbGwgdGhlIHRhYmxlcyB3ZSBuZWVkIHRvIG1vbml0b3IuXG4gKiBAcGFyYW0gez9OZXRTaW1TaGFyZH0gbmV3U2hhcmQgLSBudWxsIGlmIGRpc2Nvbm5lY3RlZFxuICovXG5OZXRTaW1WaXN1YWxpemF0aW9uLnByb3RvdHlwZS5zZXRTaGFyZCA9IGZ1bmN0aW9uIChuZXdTaGFyZCkge1xuICB0aGlzLnNoYXJkXyA9IG5ld1NoYXJkO1xuXG4gIC8vIElmIHdlIHdlcmUgcmVnaXN0ZXJlZCBmb3Igc2hhcmQgZXZlbnRzLCB1bnJlZ2lzdGVyIG9sZCBoYW5kbGVycy5cbiAgaWYgKHRoaXMuZXZlbnRLZXlzLnJlZ2lzdGVyZWRXaXRoU2hhcmQpIHtcbiAgICB0aGlzLmV2ZW50S2V5cy5yZWdpc3RlcmVkV2l0aFNoYXJkLm5vZGVUYWJsZS50YWJsZUNoYW5nZS51bnJlZ2lzdGVyKFxuICAgICAgICB0aGlzLmV2ZW50S2V5cy5ub2RlVGFibGUpO1xuICAgIHRoaXMuZXZlbnRLZXlzLnJlZ2lzdGVyZWRXaXRoU2hhcmQud2lyZVRhYmxlLnRhYmxlQ2hhbmdlLnVucmVnaXN0ZXIoXG4gICAgICAgIHRoaXMuZXZlbnRLZXlzLndpcmVUYWJsZSk7XG4gICAgdGhpcy5ldmVudEtleXMucmVnaXN0ZXJlZFdpdGhTaGFyZCA9IG51bGw7XG4gIH1cblxuICAvLyBJZiB3ZSBoYXZlIGEgbmV3IHNoYXJkLCByZWdpc3RlciBuZXcgaGFuZGxlcnMuXG4gIGlmIChuZXdTaGFyZCkge1xuICAgIHRoaXMuZXZlbnRLZXlzLm5vZGVUYWJsZSA9IG5ld1NoYXJkLm5vZGVUYWJsZS50YWJsZUNoYW5nZS5yZWdpc3RlcihcbiAgICAgICAgdGhpcy5vbk5vZGVUYWJsZUNoYW5nZV8uYmluZCh0aGlzKSk7XG4gICAgdGhpcy5ldmVudEtleXMud2lyZVRhYmxlID0gbmV3U2hhcmQud2lyZVRhYmxlLnRhYmxlQ2hhbmdlLnJlZ2lzdGVyKFxuICAgICAgICB0aGlzLm9uV2lyZVRhYmxlQ2hhbmdlXy5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmV2ZW50S2V5cy5yZWdpc3RlcmVkV2l0aFNoYXJkID0gbmV3U2hhcmQ7XG4gIH1cbn07XG5cbi8qKlxuICogQ2hhbmdlIHdoaWNoIG5vZGUgd2UgY29uc2lkZXIgdGhlICdsb2NhbCBub2RlJyBpbiB0aGUgdmlzdWFsaXphdGlvbi5cbiAqIFdlIGdvIHRocm91Z2ggYSBzcGVjaWFsIGNyZWF0aW9uIHByb2Nlc3MgZm9yIHRoaXMgbm9kZSwgc28gdGhhdCBpdFxuICogbG9va3MgYW5kIGJlaGF2ZXMgZGlmZmVyZW50bHkuXG4gKiBAcGFyYW0gez9OZXRTaW1Mb2NhbENsaWVudE5vZGV9IG5ld0xvY2FsTm9kZSAtIG51bGwgaWYgZGlzY29ubmVjdGVkXG4gKi9cbk5ldFNpbVZpc3VhbGl6YXRpb24ucHJvdG90eXBlLnNldExvY2FsTm9kZSA9IGZ1bmN0aW9uIChuZXdMb2NhbE5vZGUpIHtcbiAgLy8gVW5yZWdpc3RlciBvbGQgaGFuZGxlcnNcbiAgaWYgKHRoaXMuZXZlbnRLZXlzLnJlZ2lzdGVyZWRXaXRoTG9jYWxOb2RlKSB7XG4gICAgdGhpcy5ldmVudEtleXMucmVnaXN0ZXJlZFdpdGhMb2NhbE5vZGUucmVtb3RlQ2hhbmdlLnVucmVnaXN0ZXIoXG4gICAgICAgIHRoaXMuZXZlbnRLZXlzLnJlbW90ZUNoYW5nZSk7XG4gICAgdGhpcy5ldmVudEtleXMucmVnaXN0ZXJlZFdpdGhMb2NhbE5vZGUgPSBudWxsO1xuICB9XG5cbiAgLy8gUmVnaXN0ZXIgbmV3IGhhbmRsZXJzXG4gIGlmIChuZXdMb2NhbE5vZGUpIHtcbiAgICB0aGlzLmV2ZW50S2V5cy5yZW1vdGVDaGFuZ2UgPSBuZXdMb2NhbE5vZGUucmVtb3RlQ2hhbmdlLnJlZ2lzdGVyKFxuICAgICAgICB0aGlzLm9uUmVtb3RlQ2hhbmdlXy5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmV2ZW50S2V5cy5yZWdpc3RlcmVkV2l0aExvY2FsTm9kZSA9IG5ld0xvY2FsTm9kZTtcbiAgfVxuXG4gIC8vIENyZWF0ZSB2aXpub2RlIGZvciBsb2NhbCBub2RlXG4gIGlmIChuZXdMb2NhbE5vZGUpIHtcbiAgICBpZiAodGhpcy5sb2NhbE5vZGUpIHtcbiAgICAgIHRoaXMubG9jYWxOb2RlLmNvbmZpZ3VyZUZyb20obmV3TG9jYWxOb2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5sb2NhbE5vZGUgPSBuZXcgTmV0U2ltVml6U2ltdWxhdGlvbk5vZGUobmV3TG9jYWxOb2RlLCBTSE9XX0JBQ0tHUk9VTkQpO1xuICAgICAgdGhpcy5lbGVtZW50c18ucHVzaCh0aGlzLmxvY2FsTm9kZSk7XG4gICAgICB0aGlzLmJhY2tncm91bmRHcm91cF8uYXBwZW5kKHRoaXMubG9jYWxOb2RlLmdldFJvb3QoKSk7XG4gICAgfVxuICAgIHRoaXMubG9jYWxOb2RlLnNldElzTG9jYWxOb2RlKCk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRoaXMubG9jYWxOb2RlKSB7XG4gICAgICB0aGlzLmxvY2FsTm9kZS5raWxsKCk7XG4gICAgICB0aGlzLmxvY2FsTm9kZSA9IG51bGw7XG4gICAgfVxuICB9XG4gIHRoaXMucHVsbEVsZW1lbnRzVG9Gb3JlZ3JvdW5kKCk7XG59O1xuXG4vKipcbiAqIENhbGxlZCB3aGVuZXZlciB0aGUgbG9jYWwgbm9kZSBub3RpZmllcyB0aGF0IHdlJ3ZlIGJlZW4gY29ubmVjdGVkIHRvLFxuICogb3IgZGlzY29ubmVjdGVkIGZyb20sIGEgcm91dGVyLlxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltVmlzdWFsaXphdGlvbi5wcm90b3R5cGUub25SZW1vdGVDaGFuZ2VfID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnB1bGxFbGVtZW50c1RvRm9yZWdyb3VuZCgpO1xuICB0aGlzLmRpc3RyaWJ1dGVGb3JlZ3JvdW5kTm9kZXMoKTtcbn07XG5cbi8qKlxuICogRmluZCBhIHBhcnRpY3VsYXIgVml6RWxlbWVudCBpbiB0aGUgdmlzdWFsaXphdGlvbiwgYnkgdHlwZSBhbmQgSUQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBlbGVtZW50VHlwZSAtIGNvbnN0cnVjdG9yIG9mIGVsZW1lbnQgd2UncmUgbG9va2luZyBmb3JcbiAqIEBwYXJhbSB7bnVtYmVyfSBlbnRpdHlJRCAtIElELCB3aXRoIGNvcnJlc3BvbmRzIHRvIE5ldFNpbUVudGl0eS5lbnRpdHlJRFxuICogQHJldHVybnMge05ldFNpbVZpekVsZW1lbnR9IG9yIHVuZGVmaW5lZCBpZiBub3QgZm91bmRcbiAqL1xuTmV0U2ltVmlzdWFsaXphdGlvbi5wcm90b3R5cGUuZ2V0RWxlbWVudEJ5RW50aXR5SUQgPSBmdW5jdGlvbiAoZWxlbWVudFR5cGUsIGVudGl0eUlEKSB7XG4gIHJldHVybiBfLmZpbmQodGhpcy5lbGVtZW50c18sIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQgaW5zdGFuY2VvZiBlbGVtZW50VHlwZSAmJlxuICAgICAgICBlbGVtZW50LmdldENvcnJlc3BvbmRpbmdFbnRpdHlJZCAmJlxuICAgICAgICBlbGVtZW50LmdldENvcnJlc3BvbmRpbmdFbnRpdHlJZCgpID09PSBlbnRpdHlJRDtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIHNldCBvZiBWaXpXaXJlcyBkaXJlY3RseSBhdHRhY2hlZCB0byB0aGUgZ2l2ZW4gVml6Tm9kZSBvblxuICogdGhlIGxvY2FsIGVuZCBmb3Igd2hpY2ggdGhlcmUgYXJlIGFsc28gY29ycmVzcG9uZGluZyBWaXpXaXJlcyBjb21pbmdcbiAqIGZyb20gdGhlIG9wcG9zaXRlIGVuZC4gTm90ZSB0aGF0IGlmIHRoZSBWaXpOb2RlIGlzIGEgcm91dGVyLCB3ZVxuICogY29uc2lkZXIgYWxsIGF0dGFjaGVkIHdpcmVzIHRvIGJlIHJlY2lwcm9jYXRlZC5cbiAqIEBwYXJhbSB7TmV0U2ltVml6U2ltdWxhdGlvbk5vZGV9IHZpek5vZGVcbiAqIEByZXR1cm5zIHtBcnJheS48TmV0U2ltVml6U2ltdWxhdGlvbldpcmU+fSB0aGUgYXR0YWNoZWQgd2lyZXNcbiAqL1xuTmV0U2ltVmlzdWFsaXphdGlvbi5wcm90b3R5cGUuZ2V0UmVjaXByb2NhdGVkV2lyZXNBdHRhY2hlZFRvTm9kZSA9IGZ1bmN0aW9uICh2aXpOb2RlKSB7XG5cbiAgaWYgKHZpek5vZGUuaXNSb3V0ZXIpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRXaXJlc0F0dGFjaGVkVG9Ob2RlKHZpek5vZGUpO1xuICB9XG5cbiAgdmFyIGxvY2FsV2lyZXMgPSB0aGlzLmdldExvY2FsV2lyZXNBdHRhY2hlZFRvTm9kZSh2aXpOb2RlKTtcblxuICByZXR1cm4gbG9jYWxXaXJlcy5maWx0ZXIoZnVuY3Rpb24gKGxvY2FsV2lyZSkge1xuXG4gICAgaWYgKGxvY2FsV2lyZS5yZW1vdGVWaXpOb2RlLmlzUm91dGVyKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5nZXRXaXJlc0F0dGFjaGVkVG9Ob2RlKGxvY2FsV2lyZS5yZW1vdGVWaXpOb2RlKS5zb21lKGZ1bmN0aW9uICh3aXJlKSB7XG4gICAgICByZXR1cm4gd2lyZS5yZW1vdGVWaXpOb2RlID09PSB2aXpOb2RlO1xuICAgIH0pO1xuXG4gIH0sIHRoaXMpO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBzZXQgb2YgVml6V2lyZXMgZGlyZWN0bHkgYXR0YWNoZWQgdG8gdGhlIGdpdmVuIFZpek5vZGUgb24gdGhlIGxvY2FsIGVuZFxuICogQHBhcmFtIHtOZXRTaW1WaXpTaW11bGF0aW9uTm9kZX0gdml6Tm9kZVxuICogQHJldHVybnMge0FycmF5LjxOZXRTaW1WaXpTaW11bGF0aW9uV2lyZT59IHRoZSBhdHRhY2hlZCB3aXJlc1xuICovXG5OZXRTaW1WaXN1YWxpemF0aW9uLnByb3RvdHlwZS5nZXRMb2NhbFdpcmVzQXR0YWNoZWRUb05vZGUgPSBmdW5jdGlvbiAodml6Tm9kZSkge1xuICByZXR1cm4gdGhpcy5lbGVtZW50c18uZmlsdGVyKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQgaW5zdGFuY2VvZiBOZXRTaW1WaXpXaXJlICYmIGVsZW1lbnQubG9jYWxWaXpOb2RlID09PSB2aXpOb2RlO1xuICB9KTtcbn07XG5cbi8qKlxuICogR2V0cyB0aGUgc2V0IG9mIFZpeldpcmVzIGRpcmVjdGx5IGF0dGFjaGVkIHRvIHRoZSBnaXZlbiBWaXpOb2RlLCAoZWl0aGVyXG4gKiBvbiB0aGUgbG9jYWwgZW5kIG9yIHJlbW90ZSBlbmQpXG4gKiBAcGFyYW0ge05ldFNpbVZpelNpbXVsYXRpb25Ob2RlfSB2aXpOb2RlXG4gKiBAcmV0dXJucyB7QXJyYXkuPE5ldFNpbVZpelNpbXVsYXRpb25XaXJlPn0gdGhlIGF0dGFjaGVkIHdpcmVzXG4gKi9cbk5ldFNpbVZpc3VhbGl6YXRpb24ucHJvdG90eXBlLmdldFdpcmVzQXR0YWNoZWRUb05vZGUgPSBmdW5jdGlvbiAodml6Tm9kZSkge1xuICByZXR1cm4gdGhpcy5lbGVtZW50c18uZmlsdGVyKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQgaW5zdGFuY2VvZiBOZXRTaW1WaXpXaXJlICYmXG4gICAgICAgIChlbGVtZW50LmxvY2FsVml6Tm9kZSA9PT0gdml6Tm9kZSB8fCBlbGVtZW50LnJlbW90ZVZpek5vZGUgPT09IHZpek5vZGUpO1xuICB9KTtcbn07XG5cbi8qKlxuICogSGFuZGxlIG5vdGlmaWNhdGlvbiB0aGF0IG5vZGUgdGFibGUgY29udGVudHMgaGF2ZSBjaGFuZ2VkLlxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltVmlzdWFsaXphdGlvbi5wcm90b3R5cGUub25Ob2RlVGFibGVDaGFuZ2VfID0gZnVuY3Rpb24gKCkge1xuICAvLyBDb252ZXJ0IHJvd3MgdG8gY29ycmVjdGx5LXR5cGVkIG9iamVjdHNcbiAgdmFyIHRhYmxlTm9kZXMgPSBOZXRTaW1Ob2RlRmFjdG9yeS5ub2Rlc0Zyb21Sb3dzKHRoaXMuc2hhcmRfLFxuICAgICAgdGhpcy5zaGFyZF8ubm9kZVRhYmxlLnJlYWRBbGwoKSk7XG5cbiAgLy8gVXBkYXRlIGNvbGxlY3Rpb24gb2YgVml6Tm9kZXMgZnJvbSBzb3VyY2UgZGF0YVxuICB0aGlzLnVwZGF0ZVZpekVudGl0aWVzT2ZUeXBlXyhOZXRTaW1WaXpTaW11bGF0aW9uTm9kZSwgdGFibGVOb2RlcywgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICB2YXIgbmV3Vml6Tm9kZSA9IG5ldyBOZXRTaW1WaXpTaW11bGF0aW9uTm9kZShub2RlLCBTSE9XX0JBQ0tHUk9VTkQpO1xuICAgIG5ld1Zpek5vZGUuc2V0RG5zTW9kZSh0aGlzLmRuc01vZGVfKTtcbiAgICBuZXdWaXpOb2RlLnNuYXBUb1Bvc2l0aW9uKFxuICAgICAgICBNYXRoLnJhbmRvbSgpICogdGhpcy52aXN1YWxpemF0aW9uV2lkdGggLSAodGhpcy52aXN1YWxpemF0aW9uV2lkdGggLyAyKSxcbiAgICAgICAgTWF0aC5yYW5kb20oKSAqIHRoaXMudmlzdWFsaXphdGlvbkhlaWdodCAtICh0aGlzLnZpc3VhbGl6YXRpb25IZWlnaHQgLyAyKSk7XG4gICAgcmV0dXJuIG5ld1Zpek5vZGU7XG4gIH0uYmluZCh0aGlzKSk7XG59O1xuXG4vKipcbiAqIEhhbmRsZSBub3RpZmljYXRpb24gdGhhdCB3aXJlIHRhYmxlIGNvbnRlbnRzIGhhdmUgY2hhbmdlZC5cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVZpc3VhbGl6YXRpb24ucHJvdG90eXBlLm9uV2lyZVRhYmxlQ2hhbmdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gQ29udmVydCByb3dzIHRvIGNvcnJlY3RseS10eXBlZCBvYmplY3RzXG4gIHZhciB0YWJsZVdpcmVzID0gdGhpcy5zaGFyZF8ud2lyZVRhYmxlLnJlYWRBbGwoKS5tYXAoZnVuY3Rpb24gKHJvdykge1xuICAgIHJldHVybiBuZXcgTmV0U2ltV2lyZSh0aGlzLnNoYXJkXywgcm93KTtcbiAgfSwgdGhpcyk7XG5cbiAgLy8gVXBkYXRlIGNvbGxlY3Rpb24gb2YgVml6V2lyZXMgZnJvbSBzb3VyY2UgZGF0YVxuICB0aGlzLnVwZGF0ZVZpekVudGl0aWVzT2ZUeXBlXyhOZXRTaW1WaXpTaW11bGF0aW9uV2lyZSwgdGFibGVXaXJlcywgZnVuY3Rpb24gKHdpcmUpIHtcbiAgICB2YXIgbmV3Vml6V2lyZSA9IG5ldyBOZXRTaW1WaXpTaW11bGF0aW9uV2lyZSh3aXJlLFxuICAgICAgICB0aGlzLmdldEVsZW1lbnRCeUVudGl0eUlELmJpbmQodGhpcykpO1xuICAgIG5ld1ZpeldpcmUuc2V0RW5jb2RpbmdzKHRoaXMuZW5jb2RpbmdzXyk7XG4gICAgcmV0dXJuIG5ld1ZpeldpcmU7XG4gIH0uYmluZCh0aGlzKSk7XG5cbiAgLy8gSW4gYnJvYWRjYXN0IG1vZGUgd2UgaGlkZSB0aGUgcmVhbCB3aXJlcyBhbmQgcm91dGVyLCBhbmQgb3ZlcmxheSBhIHNldFxuICAvLyBvZiBmYWtlIHdpcmVzIHNob3dpbmcgZXZlcnlib2R5IGNvbm5lY3RlZCB0byBldmVyeWJvZHkgZWxzZS5cbiAgaWYgKE5ldFNpbUdsb2JhbHMuZ2V0TGV2ZWxDb25maWcoKS5icm9hZGNhc3RNb2RlKSB7XG4gICAgdGhpcy51cGRhdGVCcm9hZGNhc3RNb2RlV2lyZXNfKCk7XG4gIH1cblxuICAvLyBTaW5jZSB0aGUgd2lyZXMgdGFibGUgZGV0ZXJtaW5lcyBzaW11bGF0ZWQgY29ubmVjdGl2aXR5LCB3ZSB0cmlnZ2VyIGFcbiAgLy8gcmVjYWxjdWxhdGlvbiBvZiB3aGljaCBub2RlcyBhcmUgaW4gdGhlIGxvY2FsIG5ldHdvcmsgKHNob3VsZCBiZSBpbiB0aGVcbiAgLy8gZm9yZWdyb3VuZCkgYW5kIHRoZW4gcmUtbGF5b3V0IHRoZSBmb3JlZ3JvdW5kIG5vZGVzLlxuICB0aGlzLnB1bGxFbGVtZW50c1RvRm9yZWdyb3VuZCgpO1xuICB0aGlzLmRpc3RyaWJ1dGVGb3JlZ3JvdW5kTm9kZXMoKTtcbn07XG5cbi8qKlxuICogQmFzZWQgb24gbmV3IGNvbm5lY3Rpdml0eSBpbmZvcm1hdGlvbiwgcmVjYWxjdWxhdGUgd2hpY2ggJ2Zha2UnIGNvbm5lY3Rpb25zXG4gKiB3ZSBuZWVkIHRvIGRpc3BsYXkgdG8gc2hvdyBhbGwgbm9kZXMgaW4gYSAncm9vbScgaGF2aW5nIGRpcmVjdCB3aXJlcyB0b1xuICogb25lIGFub3RoZXIuXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1WaXN1YWxpemF0aW9uLnByb3RvdHlwZS51cGRhdGVCcm9hZGNhc3RNb2RlV2lyZXNfID0gZnVuY3Rpb24gKCkge1xuICAvLyBLaWxsIGFsbCBmYWtlIHdpcmVzXG4gIHRoaXMuZWxlbWVudHNfLmZvckVhY2goZnVuY3Rpb24gKHZpekVsZW1lbnQpIHtcbiAgICBpZiAodml6RWxlbWVudCBpbnN0YW5jZW9mIE5ldFNpbVZpeldpcmUgJiZcbiAgICAgICAgISh2aXpFbGVtZW50IGluc3RhbmNlb2YgTmV0U2ltVml6U2ltdWxhdGlvbldpcmUpKSB7XG4gICAgICB2aXpFbGVtZW50LmtpbGwoKTtcbiAgICB9XG4gIH0sIHRoaXMpO1xuXG4gIC8vIEdlbmVyYXRlIG5ldyB3aXJlc1xuICB2YXIgY29ubmVjdGlvbnMgPSB0aGlzLmdlbmVyYXRlQnJvYWRjYXN0TW9kZUNvbm5lY3Rpb25zXygpO1xuICBjb25uZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb25uZWN0ZWRQYWlyKSB7XG4gICAgdmFyIG5ld0Zha2VXaXJlID0gbmV3IE5ldFNpbVZpeldpcmUoY29ubmVjdGVkUGFpci5ub2RlQSwgY29ubmVjdGVkUGFpci5ub2RlQik7XG4gICAgdGhpcy5hZGRWaXpFbGVtZW50XyhuZXdGYWtlV2lyZSk7XG4gIH0sIHRoaXMpO1xufTtcblxuLyoqXG4gKiBVc2luZyB0aGUgY2FjaGVkIG5vZGUgYW5kIHdpcmUgZGF0YSwgZ2VuZXJhdGVzIHRoZSBzZXQgb2YgYWxsIG5vZGUgcGFpcnMgKEEsQilcbiAqIG9uIHRoZSBzaGFyZCBzdWNoIHRoYXQgYm90aCBBIGFuZCBCIGFyZSBjbGllbnQgbm9kZXMsIGFuZCBBIGlzIHJlYWNoYWJsZVxuICogZnJvbSBCLlxuICogQHJldHVybnMge0FycmF5Ljx7bm9kZUE6e251bWJlcn0sIG5vZGVCOntudW1iZXJ9fT59XG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1WaXN1YWxpemF0aW9uLnByb3RvdHlwZS5nZW5lcmF0ZUJyb2FkY2FzdE1vZGVDb25uZWN0aW9uc18gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBub2RlUm93cyA9IHRoaXMuc2hhcmRfLm5vZGVUYWJsZS5yZWFkQWxsKCk7XG4gIHZhciB3aXJlUm93cyA9IHRoaXMuc2hhcmRfLndpcmVUYWJsZS5yZWFkQWxsKCk7XG4gIHZhciBub2RlQ291bnQgPSBub2RlUm93cy5sZW5ndGg7XG5cbiAgLy8gR2VuZXJhdGUgYSByZXZlcnNlIG1hcHBpbmcgZm9yIGxvb2t1cHNcbiAgdmFyIG5vZGVJRFRvSW5kZXggPSB7fTtcbiAgZm9yICh2YXIgbWF0cml4SW5kZXggPSAwOyBtYXRyaXhJbmRleCA8IG5vZGVDb3VudDsgbWF0cml4SW5kZXgrKykge1xuICAgIG5vZGVJRFRvSW5kZXhbbm9kZVJvd3NbbWF0cml4SW5kZXhdLmlkXSA9IG1hdHJpeEluZGV4O1xuICB9XG5cbiAgLy8gR2VuZXJhdGUgZW1wdHkgZ3JhcGggbWF0cml4IGluaXRpYWxpemVkIHdpdGggbm8gY29ubmVjdGlvbnMuXG4gIHZhciBncmFwaCA9IG5ldyBBcnJheShub2RlQ291bnQpO1xuICBmb3IgKHZhciB4ID0gMDsgeCA8IG5vZGVDb3VudDsgeCsrKSB7XG4gICAgZ3JhcGhbeF0gPSBuZXcgQXJyYXkobm9kZUNvdW50KTtcbiAgICBmb3IgKHZhciB5ID0gMDsgeSA8IG5vZGVDb3VudDsgeSsrKSB7XG4gICAgICBncmFwaFt4XVt5XSA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFwcGx5IHJlYWwgY29ubmVjdGlvbnMgKHdpcmVzKSB0byB0aGUgZ3JhcGggbWF0cml4XG4gIHdpcmVSb3dzLmZvckVhY2goZnVuY3Rpb24gKHdpcmVSb3cpIHtcbiAgICB2YXIgbG9jYWxOb2RlSW5kZXggPSBub2RlSURUb0luZGV4W3dpcmVSb3cubG9jYWxOb2RlSURdO1xuICAgIHZhciByZW1vdGVOb2RlSW5kZXggPSBub2RlSURUb0luZGV4W3dpcmVSb3cucmVtb3RlTm9kZUlEXTtcbiAgICBpZiAobG9jYWxOb2RlSW5kZXggIT09IHVuZGVmaW5lZCAmJiByZW1vdGVOb2RlSW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgZ3JhcGhbbG9jYWxOb2RlSW5kZXhdW3JlbW90ZU5vZGVJbmRleF0gPSB0cnVlO1xuICAgICAgZ3JhcGhbcmVtb3RlTm9kZUluZGV4XVtsb2NhbE5vZGVJbmRleF0gPSB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gVXNlIHNpbXBsZSBGbG95ZC1XYXJzaGFsbCB0byBjb21wbGV0ZSB0aGUgdHJhbnNpdGl2ZSBjbG9zdXJlIGdyYXBoXG4gIGZvciAodmFyIGsgPSAwOyBrIDwgbm9kZUNvdW50OyBrKyspIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVDb3VudDsgaSsrKSB7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5vZGVDb3VudDsgaisrKSB7XG4gICAgICAgIGlmIChncmFwaFtpXVtrXSAmJiBncmFwaFtrXVtqXSkge1xuICAgICAgICAgIGdyYXBoW2ldW2pdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIE5vdywgZ2VuZXJhdGUgdW5pcXVlIHBhaXJzIGRvaW5nIGxvb2t1cCBvbiBvdXIgdHJhbnNpdGl2ZSBjbG9zdXJlIGdyYXBoXG4gIHZhciBjb25uZWN0aW9ucyA9IFtdO1xuICBmb3IgKHZhciBmcm9tID0gMDsgZnJvbSA8IG5vZGVDb3VudCAtIDE7IGZyb20rKykge1xuICAgIGZvciAodmFyIHRvID0gZnJvbSArIDE7IHRvIDwgbm9kZUNvdW50OyB0bysrKSB7XG4gICAgICAvLyBsZWF2ZSByb3V0ZXIgY29ubmVjdGlvbnMgb3V0IG9mIHRoaXMgbGlzdFxuICAgICAgdmFyIGNsaWVudFRvQ2xpZW50ID0gKG5vZGVSb3dzW2Zyb21dLnR5cGUgPT09IE5vZGVUeXBlLkNMSUVOVCAmJlxuICAgICAgICAgIG5vZGVSb3dzW3RvXS50eXBlID09PSBOb2RlVHlwZS5DTElFTlQpO1xuICAgICAgLy8gTXVzdCBiZSByZWFjaGFibGVcbiAgICAgIHZhciByZWFjaGFibGUgPSBncmFwaFtmcm9tXVt0b107XG4gICAgICBpZiAoY2xpZW50VG9DbGllbnQgJiYgcmVhY2hhYmxlKSB7XG4gICAgICAgIGNvbm5lY3Rpb25zLnB1c2goe1xuICAgICAgICAgIG5vZGVBOiB0aGlzLmdldEVsZW1lbnRCeUVudGl0eUlEKE5ldFNpbVZpelNpbXVsYXRpb25Ob2RlLCBub2RlUm93c1tmcm9tXS5pZCksXG4gICAgICAgICAgbm9kZUI6IHRoaXMuZ2V0RWxlbWVudEJ5RW50aXR5SUQoTmV0U2ltVml6U2ltdWxhdGlvbk5vZGUsIG5vZGVSb3dzW3RvXS5pZClcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBjb25uZWN0aW9ucztcbn07XG5cbi8qKlxuICogQ29tcGFyZXMgVml6RW50aXRpZXMgb2YgdGhlIGdpdmVuIHR5cGUgdGhhdCBhcmUgY3VycmVudGx5IGluIHRoZVxuICogdmlzdWFsaXphdGlvbiB0byB0aGUgc291cmNlIGRhdGEgZ2l2ZW4sIGFuZCBjcmVhdGVzL3VwZGF0ZXMvcmVtb3Zlc1xuICogVml6RW50aXRpZXMgc28gdGhhdCB0aGUgdmlzdWFsaXphdGlvbiByZWZsZWN0cyB0aGUgbmV3IHNvdXJjZSBkYXRhLlxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHZpekVsZW1lbnRUeXBlXG4gKiBAcGFyYW0ge0FycmF5LjxOZXRTaW1FbnRpdHk+fSBlbnRpdHlDb2xsZWN0aW9uXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjcmVhdGlvbk1ldGhvZFxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltVmlzdWFsaXphdGlvbi5wcm90b3R5cGUudXBkYXRlVml6RW50aXRpZXNPZlR5cGVfID0gZnVuY3Rpb24gKFxuICAgIHZpekVsZW1lbnRUeXBlLCBlbnRpdHlDb2xsZWN0aW9uLCBjcmVhdGlvbk1ldGhvZCkge1xuXG4gIC8vIDEuIEtpbGwgVml6RW50aXRpZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIGluIHRoZSBzb3VyY2UgZGF0YVxuICB0aGlzLmtpbGxWaXpFbnRpdGllc09mVHlwZU1pc3NpbmdNYXRjaF8odml6RWxlbWVudFR5cGUsIGVudGl0eUNvbGxlY3Rpb24pO1xuXG4gIGVudGl0eUNvbGxlY3Rpb24uZm9yRWFjaChmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgdmFyIHZpekVsZW1lbnQgPSB0aGlzLmdldEVsZW1lbnRCeUVudGl0eUlEKHZpekVsZW1lbnRUeXBlLCBlbnRpdHkuZW50aXR5SUQpO1xuICAgIGlmICh2aXpFbGVtZW50KSB7XG4gICAgICAvLyAyLiBVcGRhdGUgZXhpc3RpbmcgVml6RW50aXRpZXMgZnJvbSB0aGVpciBzb3VyY2UgZGF0YVxuICAgICAgdml6RWxlbWVudC5jb25maWd1cmVGcm9tKGVudGl0eSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIDMuIENyZWF0ZSBuZXcgVml6RW50aXRpZXMgZm9yIG5ldyBzb3VyY2UgZGF0YVxuICAgICAgdGhpcy5hZGRWaXpFbGVtZW50XyhjcmVhdGlvbk1ldGhvZChlbnRpdHkpKTtcbiAgICB9XG4gIH0sIHRoaXMpO1xufTtcblxuLyoqXG4gKiBDYWxsIGtpbGwoKSBvbiBhbnkgdml6ZW50aXRpZXMgdGhhdCBtYXRjaCB0aGUgZ2l2ZW4gdHlwZSBhbmQgZG9uJ3QgbWFwIHRvXG4gKiBhIE5ldFNpbUVudGl0eSBpbiB0aGUgcHJvdmlkZWQgY29sbGVjdGlvbi5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHZpekVsZW1lbnRUeXBlXG4gKiBAcGFyYW0ge0FycmF5LjxOZXRTaW1FbnRpdHk+fSBlbnRpdHlDb2xsZWN0aW9uXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1WaXN1YWxpemF0aW9uLnByb3RvdHlwZS5raWxsVml6RW50aXRpZXNPZlR5cGVNaXNzaW5nTWF0Y2hfID0gZnVuY3Rpb24gKFxuICAgIHZpekVsZW1lbnRUeXBlLCBlbnRpdHlDb2xsZWN0aW9uKSB7XG4gIHRoaXMuZWxlbWVudHNfLmZvckVhY2goZnVuY3Rpb24gKHZpekVsZW1lbnQpIHtcbiAgICB2YXIgaXNDb3JyZWN0VHlwZSA9ICh2aXpFbGVtZW50IGluc3RhbmNlb2Ygdml6RWxlbWVudFR5cGUpO1xuICAgIHZhciBmb3VuZE1hdGNoID0gZW50aXR5Q29sbGVjdGlvbi5zb21lKGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgIHJldHVybiB2aXpFbGVtZW50LnJlcHJlc2VudHNFbnRpdHkgJiYgdml6RWxlbWVudC5yZXByZXNlbnRzRW50aXR5KGVudGl0eSk7XG4gICAgfSk7XG5cbiAgICBpZiAoaXNDb3JyZWN0VHlwZSAmJiAhZm91bmRNYXRjaCkge1xuICAgICAgdml6RWxlbWVudC5raWxsKCk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogQWRkcyBhIFZpekVsZW1lbnQgdG8gdGhlIHZpc3VhbGl6YXRpb24uXG4gKiBAcGFyYW0ge05ldFNpbVZpekVsZW1lbnR9IHZpekVsZW1lbnRcbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVZpc3VhbGl6YXRpb24ucHJvdG90eXBlLmFkZFZpekVsZW1lbnRfID0gZnVuY3Rpb24gKHZpekVsZW1lbnQpIHtcbiAgdGhpcy5lbGVtZW50c18ucHVzaCh2aXpFbGVtZW50KTtcbiAgdGhpcy5iYWNrZ3JvdW5kR3JvdXBfLnByZXBlbmQodml6RWxlbWVudC5nZXRSb290KCkpO1xufTtcblxuLyoqXG4gKiBJZiB3ZSBkbyBuZWVkIGEgRE9NIGNoYW5nZSwgZGV0YWNoIHRoZSBlbGVtZW50IGFuZCByZWF0dGFjaCBpdCB0byB0aGUgbmV3XG4gKiBsYXllci4gU3BlY2lhbCBydWxlIChmb3Igbm93KTogUHJlcGVuZCB3aXJlcyBzbyB0aGF0IHRoZXkgc2hvdyB1cCBiZWhpbmRcbiAqIG5vZGVzLiAgV2lsbCBuZWVkIGEgYmV0dGVyIHNvbHV0aW9uIGZvciB0aGlzIGlmL3doZW4gdGhlIHZpeiBnZXRzIG1vcmVcbiAqIGNvbXBsZXguXG4gKiBAcGFyYW0ge05ldFNpbVZpekVsZW1lbnR9IHZpekVsZW1lbnRcbiAqIEBwYXJhbSB7alF1ZXJ5fSBuZXdQYXJlbnRcbiAqL1xudmFyIG1vdmVWaXpFbGVtZW50VG9Hcm91cCA9IGZ1bmN0aW9uICh2aXpFbGVtZW50LCBuZXdQYXJlbnQpIHtcbiAgdml6RWxlbWVudC5nZXRSb290KCkuZGV0YWNoKCk7XG4gIGlmICh2aXpFbGVtZW50IGluc3RhbmNlb2YgTmV0U2ltVml6V2lyZSkge1xuICAgIHZpekVsZW1lbnQuZ2V0Um9vdCgpLnByZXBlbmRUbyhuZXdQYXJlbnQpO1xuICB9IGVsc2Uge1xuICAgIHZpekVsZW1lbnQuZ2V0Um9vdCgpLmFwcGVuZFRvKG5ld1BhcmVudCk7XG4gIH1cbn07XG5cbi8qKlxuICogUmVjYWxjdWxhdGUgd2hpY2ggbm9kZXMgc2hvdWxkIGJlIGluIHRoZSBmb3JlZ3JvdW5kIGxheWVyIGJ5IGRvaW5nIGEgZnVsbFxuICogdHJhdmVyc2FsIHN0YXJ0aW5nIHdpdGggdGhlIGxvY2FsIG5vZGUuICBJbiBzaG9ydCwgZXZlcnl0aGluZyByZWFjaGFibGVcbiAqIGZyb20gdGhlIGxvY2FsIG5vZGUgYmVsb25ncyBpbiB0aGUgZm9yZWdyb3VuZC5cbiAqL1xuTmV0U2ltVmlzdWFsaXphdGlvbi5wcm90b3R5cGUucHVsbEVsZW1lbnRzVG9Gb3JlZ3JvdW5kID0gZnVuY3Rpb24gKCkge1xuICAvLyBCZWdpbiBieSBtYXJraW5nIGFsbCBlbnRpdGllcyBiYWNrZ3JvdW5kICh1bnZpc2l0ZWQpXG4gIHRoaXMuZWxlbWVudHNfLmZvckVhY2goZnVuY3Rpb24gKHZpekVsZW1lbnQpIHtcbiAgICB2aXpFbGVtZW50LnZpc2l0ZWQgPSBmYWxzZTtcbiAgfSk7XG5cbiAgdmFyIHRvRXhwbG9yZSA9IFtdO1xuICBpZiAodGhpcy5sb2NhbE5vZGUpIHtcbiAgICB0b0V4cGxvcmUucHVzaCh0aGlzLmxvY2FsTm9kZSk7XG4gIH1cblxuICAvLyBXaGlsZSB0aGVyZSBhcmUgc3RpbGwgbm9kZXMgdGhhdCBuZWVkIHZpc2l0aW5nLFxuICAvLyB2aXNpdCB0aGUgbmV4dCBub2RlLCBtYXJraW5nIGl0IGFzIFwiZm9yZWdyb3VuZC92aXNpdGVkXCIgYW5kXG4gIC8vIHB1c2hpbmcgYWxsIG9mIGl0cyB1bnZpc2l0ZWQgY29ubmVjdGlvbnMgb250byB0aGUgc3RhY2suXG4gIHZhciBjdXJyZW50Vml6RWxlbWVudDtcbiAgd2hpbGUgKHRvRXhwbG9yZS5sZW5ndGggPiAwKSB7XG4gICAgY3VycmVudFZpekVsZW1lbnQgPSB0b0V4cGxvcmUucG9wKCk7XG4gICAgY3VycmVudFZpekVsZW1lbnQudmlzaXRlZCA9IHRydWU7XG4gICAgdG9FeHBsb3JlID0gdG9FeHBsb3JlLmNvbmNhdCh0aGlzLmdldFVudmlzaXRlZE5laWdoYm9yc09mXyhjdXJyZW50Vml6RWxlbWVudCkpO1xuICB9XG5cbiAgLy8gTm93LCB2aXNpdGVkIG5vZGVzIGJlbG9uZyBpbiB0aGUgZm9yZWdyb3VuZC5cbiAgLy8gTW92ZSBhbGwgbm9kZXMgdG8gdGhlaXIgbmV3LCBjb3JyZWN0IGxheWVyc1xuICAvLyBQb3NzaWJsZSBvcHRpbWl6YXRpb246IENhbiB3ZSBkbyB0aGlzIHdpdGgganVzdCBvbmUgb3BlcmF0aW9uIG9uIHRoZSBsaXZlIERPTT9cbiAgdmFyIGZvcmVncm91bmQgPSB0aGlzLmZvcmVncm91bmRHcm91cF87XG4gIHZhciBiYWNrZ3JvdW5kID0gdGhpcy5iYWNrZ3JvdW5kR3JvdXBfO1xuICB0aGlzLmVsZW1lbnRzXy5mb3JFYWNoKGZ1bmN0aW9uICh2aXpFbGVtZW50KSB7XG4gICAgdmFyIGlzRm9yZWdyb3VuZCA9ICQuY29udGFpbnMoZm9yZWdyb3VuZFswXSwgdml6RWxlbWVudC5nZXRSb290KClbMF0pO1xuXG4gICAgLy8gQ2hlY2sgd2hldGhlciBhIGNoYW5nZSBzaG91bGQgb2NjdXIuICBJZiBub3QsIHdlIGxlYXZlXG4gICAgLy8gbmV3UGFyZW50IHVuZGVmaW5lZCBzbyB0aGF0IHdlIGRvbid0IG1ha2UgdW5uZWVkZWQgRE9NIGNoYW5nZXMuXG4gICAgaWYgKHZpekVsZW1lbnQudmlzaXRlZCAmJiAhaXNGb3JlZ3JvdW5kKSB7XG4gICAgICBtb3ZlVml6RWxlbWVudFRvR3JvdXAodml6RWxlbWVudCwgZm9yZWdyb3VuZCk7XG4gICAgICB2aXpFbGVtZW50Lm9uRGVwdGhDaGFuZ2UodHJ1ZSk7XG4gICAgfSBlbHNlIGlmICghdml6RWxlbWVudC52aXNpdGVkICYmIGlzRm9yZWdyb3VuZCkge1xuICAgICAgbW92ZVZpekVsZW1lbnRUb0dyb3VwKHZpekVsZW1lbnQsIGJhY2tncm91bmQpO1xuICAgICAgdml6RWxlbWVudC5vbkRlcHRoQ2hhbmdlKGZhbHNlKTtcbiAgICB9XG4gIH0sIHRoaXMpO1xuXG4gIHRoaXMudXBkYXRlQXV0b0Ruc05vZGUoKTtcbn07XG5cbi8qKlxuICogVmlzaXQgbWV0aG9kIGZvciBwdWxsRWxlbWVudHNUb0ZvcmVncm91bmQsIG5vdCB1c2VkIGFueXdoZXJlIGVsc2UuXG4gKiBOb3RlcyB0aGF0IHRoZSBjdXJyZW50IGVsZW1lbnQgaXMgc2hvdWxkIGJlIGZvcmVncm91bmQgd2hlbiB3ZSdyZSBhbGwgZG9uZSxcbiAqIGZpbmRzIHRoZSBjdXJyZW50IGVsZW1lbnQncyB1bnZpc2l0ZWQgY29ubmVjdGlvbnMsXG4gKiBwdXNoZXMgdGhvc2UgY29ubmVjdGlvbnMgb250byB0aGUgc3RhY2suXG4gKiBAcGFyYW0ge05ldFNpbVZpelNpbXVsYXRpb25Ob2RlfE5ldFNpbVZpelNpbXVsYXRpb25XaXJlfSB2aXpFbGVtZW50XG4gKiBAcmV0dXJucyB7QXJyYXkuPE5ldFNpbVZpekVsZW1lbnQ+fVxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltVmlzdWFsaXphdGlvbi5wcm90b3R5cGUuZ2V0VW52aXNpdGVkTmVpZ2hib3JzT2ZfID0gZnVuY3Rpb24gKHZpekVsZW1lbnQpIHtcbiAgLy8gRmluZCBuZXcgZW50aXRpZXMgdG8gZXhwbG9yZSBiYXNlZCBvbiBub2RlIHR5cGUgYW5kIGNvbm5lY3Rpb25zXG4gIHZhciBuZWlnaGJvcnMgPSBbXTtcblxuICBpZiAodml6RWxlbWVudCBpbnN0YW5jZW9mIE5ldFNpbVZpelNpbXVsYXRpb25Ob2RlKSB7XG5cbiAgICAvLyBJbiBicm9hZGNhc3QgbW9kZSB3ZSBkaXNwbGF5IFwiZmFrZSxcIiB1bmlkaXJlY3Rpb25hbCB3aXJlcy4gSW5cbiAgICAvLyByZWd1bGFyIG1vZGUsIHdlIG9ubHkgd2FudCB0byBkaXNwbGF5IHdpcmVzIGNvbm5lY3RpbmcgdXMgdG9cbiAgICAvLyBub2RlcyB0aGF0IGFyZSBhbHNvIGNvbm5lY3RlZCBiYWNrLlxuICAgIGlmIChOZXRTaW1HbG9iYWxzLmdldExldmVsQ29uZmlnKCkuYnJvYWRjYXN0TW9kZSkge1xuICAgICAgbmVpZ2hib3JzID0gdGhpcy5nZXRXaXJlc0F0dGFjaGVkVG9Ob2RlKHZpekVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZWlnaGJvcnMgPSB0aGlzLmdldFJlY2lwcm9jYXRlZFdpcmVzQXR0YWNoZWRUb05vZGUodml6RWxlbWVudCk7XG4gICAgfVxuXG4gICAgLy8gU3BlY2lhbCBjYXNlOiBUaGUgRE5TIG5vZGUgZmFrZSBpcyBhIG5laWdoYm9yIG9mIGEgdmlzaXRlZCByb3V0ZXJcbiAgICBpZiAodml6RWxlbWVudC5pc1JvdXRlciAmJiB0aGlzLmF1dG9EbnNOb2RlXykge1xuICAgICAgbmVpZ2hib3JzLnB1c2godGhpcy5hdXRvRG5zTm9kZV8pO1xuICAgICAgbmVpZ2hib3JzLnB1c2godGhpcy5hdXRvRG5zV2lyZV8pO1xuICAgIH1cbiAgfSBlbHNlIGlmICh2aXpFbGVtZW50IGluc3RhbmNlb2YgTmV0U2ltVml6V2lyZSkge1xuICAgIGlmICh2aXpFbGVtZW50LmxvY2FsVml6Tm9kZSkge1xuICAgICAgbmVpZ2hib3JzLnB1c2godml6RWxlbWVudC5sb2NhbFZpek5vZGUpO1xuICAgIH1cblxuICAgIGlmICh2aXpFbGVtZW50LnJlbW90ZVZpek5vZGUpIHtcbiAgICAgIG5laWdoYm9ycy5wdXNoKHZpekVsZW1lbnQucmVtb3RlVml6Tm9kZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5laWdoYm9ycy5maWx0ZXIoZnVuY3Rpb24gKHZpekVsZW1lbnQpIHtcbiAgICByZXR1cm4gIXZpekVsZW1lbnQudmlzaXRlZDtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEV4cGxpY2l0bHkgY29udHJvbCBWaXpOb2RlcyBpbiB0aGUgZm9yZWdyb3VuZCwgbW92aW5nIHRoZW0gaW50byBhIGRlc2lyZWRcbiAqIGNvbmZpZ3VyYXRpb24gYmFzZWQgb24gdGhlaXIgbnVtYmVyIGFuZCB0eXBlcy4gIE5vZGVzIGFyZSBnaXZlbiBhbmltYXRpb25cbiAqIGNvbW1hbmRzICh2aWEgdHdlZW5Ub1Bvc2l0aW9uKSBzbyB0aGF0IHRoZXkgaW50ZXJwb2xhdGUgbmljZWx5IHRvIHRoZWlyIHRhcmdldFxuICogcG9zaXRpb25zLlxuICpcbiAqIENvbmZpZ3VyYXRpb25zOlxuICogT25lIG5vZGUgKGxvY2FsIG5vZGUpOiBDZW50ZXJlZCBvbiB0aGUgc2NyZWVuLlxuICogICB8ICBMICB8XG4gKlxuICogVHdvIG5vZGVzOiBMb2NhbCBub2RlIG9uIGxlZnQsIHJlbW90ZSBub2RlIG9uIHJpZ2h0LCBub3RoaW5nIGluIHRoZSBtaWRkbGUuXG4gKiAgIHwgTC1SIHxcbiAqXG4gKiBUaHJlZSBvciBtb3JlIG5vZGVzOiBMb2NhbCBub2RlIG9uIGxlZnQsIHJvdXRlciBpbiB0aGUgbWlkZGxlLCBvdGhlclxuICogbm9kZXMgZGlzdHJpYnV0ZWQgZXZlbmx5IGFyb3VuZCB0aGUgcm91dGVyIGluIGEgY2lyY2xlXG4gKiAzOiAgICAgICAgIDQ6ICAgIE8gICAgNTogIE8gICAgICA2Ok8gICBPICAgIDc6TyAgIE9cbiAqICAgICAgICAgICAgICAgICAvICAgICAgICAgfCAgICAgICAgIFxcIC8gICAgICAgIFxcIC9cbiAqICAgTC1SLTAgICAgICBMLVIgICAgICAgIEwtUi1PICAgICAgTC1SICAgICAgICBMLVItT1xuICogICAgICAgICAgICAgICAgIFxcICAgICAgICAgfCAgICAgICAgIC8gXFwgICAgICAgIC8gXFxcbiAqICAgICAgICAgICAgICAgICAgTyAgICAgICAgTyAgICAgICAgTyAgIE8gICAgICBPICAgT1xuICovXG5OZXRTaW1WaXN1YWxpemF0aW9uLnByb3RvdHlwZS5kaXN0cmlidXRlRm9yZWdyb3VuZE5vZGVzID0gZnVuY3Rpb24gKCkge1xuICBpZiAoTmV0U2ltR2xvYmFscy5nZXRMZXZlbENvbmZpZygpLmJyb2FkY2FzdE1vZGUpIHtcbiAgICB0aGlzLmRpc3RyaWJ1dGVGb3JlZ3JvdW5kTm9kZXNGb3JCcm9hZGNhc3RfKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqIEB0eXBlIHtBcnJheS48TmV0U2ltVml6U2ltdWxhdGlvbk5vZGU+fSAqL1xuICB2YXIgZm9yZWdyb3VuZE5vZGVzID0gdGhpcy5lbGVtZW50c18uZmlsdGVyKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQgaW5zdGFuY2VvZiBOZXRTaW1WaXpOb2RlICYmIGVsZW1lbnQuaXNGb3JlZ3JvdW5kO1xuICB9KTtcblxuICAvLyBTb21ldGltZXMsIHRoZXJlJ3Mgbm8gd29yayB0byBkby5cbiAgaWYgKGZvcmVncm91bmROb2Rlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBPbmUgbm9kZTogQ2VudGVyZWQgb24gc2NyZWVuXG4gIGlmIChmb3JlZ3JvdW5kTm9kZXMubGVuZ3RoID09PSAxKSB7XG4gICAgZm9yZWdyb3VuZE5vZGVzWzBdLnR3ZWVuVG9Qb3NpdGlvbigwLCAwLCA2MDAsIHR3ZWVucy5lYXNlT3V0UXVhZCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIG15Tm9kZTtcblxuICAvLyBUd28gbm9kZXM6IFBsYWNlZCBhY3Jvc3MgZnJvbSBlYWNoIG90aGVyLCBsb2NhbCBub2RlIG9uIGxlZnRcbiAgaWYgKGZvcmVncm91bmROb2Rlcy5sZW5ndGggPT09IDIpIHtcbiAgICBteU5vZGUgPSB0aGlzLmxvY2FsTm9kZTtcbiAgICB2YXIgb3RoZXJOb2RlID0gXy5maW5kKGZvcmVncm91bmROb2RlcywgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHJldHVybiBub2RlICE9PSBteU5vZGU7XG4gICAgfSk7XG4gICAgbXlOb2RlLnR3ZWVuVG9Qb3NpdGlvbigtNzUsIDAsIDQwMCwgdHdlZW5zLmVhc2VPdXRRdWFkKTtcbiAgICBvdGhlck5vZGUudHdlZW5Ub1Bvc2l0aW9uKDc1LCAwLCA2MDAsIHR3ZWVucy5lYXNlT3V0UXVhZCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gVGhyZWUgb3IgbW9yZSBub2RlczpcbiAgLy8gKiBMb2NhbCBub2RlIG9uIGxlZnRcbiAgLy8gKiBSb3V0ZXIgaW4gdGhlIG1pZGRsZVxuICAvLyAqIE90aGVyIG5vZGVzIGV2ZW5seSBkaXN0cmlidXRlZCBpbiBhIGNpcmNsZVxuICBteU5vZGUgPSB0aGlzLmxvY2FsTm9kZTtcbiAgdmFyIHJvdXRlck5vZGUgPSBfLmZpbmQoZm9yZWdyb3VuZE5vZGVzLCBmdW5jdGlvbiAobm9kZSkge1xuICAgIHJldHVybiBub2RlLmlzUm91dGVyO1xuICB9KTtcbiAgdmFyIG90aGVyTm9kZXMgPSBmb3JlZ3JvdW5kTm9kZXMuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUgIT09IG15Tm9kZSAmJiBub2RlICE9PSByb3V0ZXJOb2RlO1xuICB9KTtcblxuICBteU5vZGUudHdlZW5Ub1Bvc2l0aW9uKC0xMDAsIDAsIDQwMCwgdHdlZW5zLmVhc2VPdXRRdWFkKTtcbiAgcm91dGVyTm9kZS50d2VlblRvUG9zaXRpb24oMCwgMCwgNTAwLCB0d2VlbnMuZWFzZU91dFF1YWQpO1xuICB2YXIgcmFkaWFuc0JldHdlZW5Ob2RlcyA9IDIqTWF0aC5QSSAvIChvdGhlck5vZGVzLmxlbmd0aCArIDEpOyAvLyBJbmNsdWRlIG15Tm9kZSFcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvdGhlck5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gc2luKHJhZCkgPSBvL2hcbiAgICB2YXIgaCA9IDEwMDtcbiAgICAvLyBFeHRyYSBNYXRoLlBJIGhlcmUgcHV0cyAwZGVnIG9uIHRoZSBsZWZ0LlxuICAgIHZhciByYWQgPSBNYXRoLlBJICsgKGkrMSkgKiByYWRpYW5zQmV0d2Vlbk5vZGVzO1xuICAgIHZhciB4ID0gTWF0aC5jb3MocmFkKSAqIGg7XG4gICAgdmFyIHkgPSBNYXRoLnNpbihyYWQpICogaDtcbiAgICBvdGhlck5vZGVzW2ldLnR3ZWVuVG9Qb3NpdGlvbih4LCB5LCA2MDAsIHR3ZWVucy5lYXNlT3V0UXVhZCk7XG4gIH1cbn07XG5cbi8qKlxuICogRXhwbGljaXRseSBjb250cm9sIFZpek5vZGVzIGluIHRoZSBmb3JlZ3JvdW5kLCBtb3ZpbmcgdGhlbSBpbnRvIGEgZGVzaXJlZFxuICogY29uZmlndXJhdGlvbiBiYXNlZCBvbiB0aGVpciBudW1iZXIgYW5kIHR5cGVzLiAgTm9kZXMgYXJlIGdpdmVuIGFuaW1hdGlvblxuICogY29tbWFuZHMgKHZpYSB0d2VlblRvUG9zaXRpb24pIHNvIHRoYXQgdGhleSBpbnRlcnBvbGF0ZSBuaWNlbHkgdG8gdGhlaXIgdGFyZ2V0XG4gKiBwb3NpdGlvbnMuXG4gKlxuICogQ29uZmlndXJhdGlvbnM6XG4gKiBPbmUgbm9kZSAobG9jYWwgbm9kZSk6IENlbnRlcmVkIG9uIHRoZSBzY3JlZW4uXG4gKiAgIHwgIEwgIHxcbiAqXG4gKiBUd28gbm9kZXM6IExvY2FsIG5vZGUgb24gbGVmdCwgcmVtb3RlIG5vZGUgb24gcmlnaHQsIG5vdGhpbmcgaW4gdGhlIG1pZGRsZS5cbiAqICAgfCBMLVIgfFxuICpcbiAqIFRocmVlIG9yIG1vcmUgbm9kZXM6IERpc3RyaWJ1dGVkIGFyb3VuZCBjZW50ZXIgb2YgZnJhbWVcbiAqIDM6ICAgIE8gICAgNDogIE8gICAgICA1OiBPICBPICAgIDY6IE8gT1xuICogICBMICAgICAgICAgIEwgICBPICAgICAgTCAgICAgICAgICBMICAgT1xuICogICAgICAgTyAgICAgICAgTyAgICAgICAgIE8gIE8gICAgICAgTyBPXG4gKi9cbk5ldFNpbVZpc3VhbGl6YXRpb24ucHJvdG90eXBlLmRpc3RyaWJ1dGVGb3JlZ3JvdW5kTm9kZXNGb3JCcm9hZGNhc3RfID0gZnVuY3Rpb24gKCkge1xuICAvKiogQHR5cGUge0FycmF5LjxOZXRTaW1WaXpTaW11bGF0aW9uTm9kZT59ICovXG4gIHZhciBmb3JlZ3JvdW5kTm9kZXMgPSB0aGlzLmVsZW1lbnRzXy5maWx0ZXIoZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudCBpbnN0YW5jZW9mIE5ldFNpbVZpelNpbXVsYXRpb25Ob2RlICYmXG4gICAgICAgIGVsZW1lbnQuaXNGb3JlZ3JvdW5kICYmXG4gICAgICAgICFlbGVtZW50LmlzUm91dGVyO1xuICB9KTtcblxuICAvLyBTb21ldGltZXMsIHRoZXJlJ3Mgbm8gd29yayB0byBkby5cbiAgaWYgKGZvcmVncm91bmROb2Rlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBPbmUgbm9kZTogQ2VudGVyZWQgb24gc2NyZWVuXG4gIGlmIChmb3JlZ3JvdW5kTm9kZXMubGVuZ3RoID09PSAxKSB7XG4gICAgZm9yZWdyb3VuZE5vZGVzWzBdLnR3ZWVuVG9Qb3NpdGlvbigwLCAwLCA2MDAsIHR3ZWVucy5lYXNlT3V0UXVhZCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIG15Tm9kZTtcblxuICAvLyBUd28gbm9kZXM6IFBsYWNlZCBhY3Jvc3MgZnJvbSBlYWNoIG90aGVyLCBsb2NhbCBub2RlIG9uIGxlZnRcbiAgaWYgKGZvcmVncm91bmROb2Rlcy5sZW5ndGggPT09IDIpIHtcbiAgICBteU5vZGUgPSB0aGlzLmxvY2FsTm9kZTtcbiAgICB2YXIgb3RoZXJOb2RlID0gXy5maW5kKGZvcmVncm91bmROb2RlcywgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHJldHVybiBub2RlICE9PSBteU5vZGU7XG4gICAgfSk7XG4gICAgbXlOb2RlLnR3ZWVuVG9Qb3NpdGlvbigtNzUsIDAsIDQwMCwgdHdlZW5zLmVhc2VPdXRRdWFkKTtcbiAgICBvdGhlck5vZGUudHdlZW5Ub1Bvc2l0aW9uKDc1LCAwLCA2MDAsIHR3ZWVucy5lYXNlT3V0UXVhZCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gVGhyZWUgb3IgbW9yZSBub2RlczpcbiAgLy8gKiBMb2NhbCBub2RlIG9uIGxlZnRcbiAgLy8gKiBPdGhlciBub2RlcyBldmVubHkgZGlzdHJpYnV0ZWQgaW4gYSBjaXJjbGVcbiAgbXlOb2RlID0gdGhpcy5sb2NhbE5vZGU7XG4gIHZhciBvdGhlck5vZGVzID0gZm9yZWdyb3VuZE5vZGVzLmZpbHRlcihmdW5jdGlvbiAobm9kZSkge1xuICAgIHJldHVybiBub2RlICE9PSBteU5vZGU7XG4gIH0pO1xuXG4gIG15Tm9kZS50d2VlblRvUG9zaXRpb24oLTEwMCwgMCwgNDAwLCB0d2VlbnMuZWFzZU91dFF1YWQpO1xuICB2YXIgcmFkaWFuc0JldHdlZW5Ob2RlcyA9IDIqTWF0aC5QSSAvIChvdGhlck5vZGVzLmxlbmd0aCArIDEpOyAvLyBJbmNsdWRlIG15Tm9kZSFcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvdGhlck5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgLy8gc2luKHJhZCkgPSBvL2hcbiAgICB2YXIgaCA9IDEwMDtcbiAgICAvLyBFeHRyYSBNYXRoLlBJIGhlcmUgcHV0cyAwZGVnIG9uIHRoZSBsZWZ0LlxuICAgIHZhciByYWQgPSBNYXRoLlBJICsgKGkrMSkgKiByYWRpYW5zQmV0d2Vlbk5vZGVzO1xuICAgIHZhciB4ID0gTWF0aC5jb3MocmFkKSAqIGg7XG4gICAgdmFyIHkgPSBNYXRoLnNpbihyYWQpICogaDtcbiAgICBvdGhlck5vZGVzW2ldLnR3ZWVuVG9Qb3NpdGlvbih4LCB5LCA2MDAsIHR3ZWVucy5lYXNlT3V0UXVhZCk7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtEbnNNb2RlfSBuZXdEbnNNb2RlXG4gKi9cbk5ldFNpbVZpc3VhbGl6YXRpb24ucHJvdG90eXBlLnNldERuc01vZGUgPSBmdW5jdGlvbiAobmV3RG5zTW9kZSkge1xuXG4gIHRoaXMuZG5zTW9kZV8gPSBuZXdEbnNNb2RlO1xuXG4gIC8vIFNob3cvaGlkZSB0aGUgYXV0by1ETlMgbm9kZSBhY2NvcmRpbmcgdG8gdGhlIG5ldyBzdGF0ZVxuICBpZiAobmV3RG5zTW9kZSA9PT0gRG5zTW9kZS5BVVRPTUFUSUMpIHtcbiAgICB0aGlzLm1ha2VBdXRvRG5zTm9kZSgpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuZGVzdHJveUF1dG9EbnNOb2RlKCk7XG4gIH1cblxuICAvLyBUZWxsIGFsbCBub2RlcyBhYm91dCB0aGUgbmV3IEROUyBtb2RlLCBzbyB0aGV5IGNhbiBkZWNpZGUgd2hldGhlciB0b1xuICAvLyBzaG93IG9yIGhpZGUgdGhlaXIgYWRkcmVzcy5cbiAgdGhpcy5lbGVtZW50c18uZm9yRWFjaChmdW5jdGlvbiAodml6RWxlbWVudCkge1xuICAgIGlmICh2aXpFbGVtZW50IGluc3RhbmNlb2YgTmV0U2ltVml6U2ltdWxhdGlvbk5vZGUpIHtcbiAgICAgIHZpekVsZW1lbnQuc2V0RG5zTW9kZShuZXdEbnNNb2RlKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFVwZGF0ZSBsYXllcmluZyBhbmQgbGF5b3V0IHNpbmNlIHdlIGp1c3QgYWRkZWQvcmVtb3ZlZCBhIG5vZGUuXG4gIHRoaXMucHVsbEVsZW1lbnRzVG9Gb3JlZ3JvdW5kKCk7XG4gIHRoaXMuZGlzdHJpYnV0ZUZvcmVncm91bmROb2RlcygpO1xufTtcblxuLyoqXG4gKiBJZiBpdCBkb2Vzbid0IGFscmVhZHkgZXhpc3QsIGNyZWF0ZSBhbiBhdXRvLUROUyBub2RlIGFuZCBjb3JyZXNwb25kaW5nXG4gKiB3aXJlLlxuICovXG5OZXRTaW1WaXN1YWxpemF0aW9uLnByb3RvdHlwZS5tYWtlQXV0b0Ruc05vZGUgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICghdGhpcy5hdXRvRG5zTm9kZV8pIHtcbiAgICB0aGlzLmF1dG9EbnNOb2RlXyA9IG5ldyBOZXRTaW1WaXpBdXRvRG5zTm9kZShTSE9XX0JBQ0tHUk9VTkQpO1xuICAgIHRoaXMuYWRkVml6RWxlbWVudF8odGhpcy5hdXRvRG5zTm9kZV8pO1xuXG4gICAgdGhpcy5hdXRvRG5zV2lyZV8gPSBuZXcgTmV0U2ltVml6V2lyZSh0aGlzLmF1dG9EbnNOb2RlXywgbnVsbCk7XG4gICAgdGhpcy5hZGRWaXpFbGVtZW50Xyh0aGlzLmF1dG9EbnNXaXJlXyk7XG4gIH1cbn07XG5cbi8qKlxuICogTWFudWFsbHkgdXBkYXRlIHRoZSBhdXRvLUROUyBub2RlIGFuZCB3aXJlIHRvIG1hdGNoIHRoZSBmb3JlZ3JvdW5kIHJvdXRlci5cbiAqL1xuTmV0U2ltVmlzdWFsaXphdGlvbi5wcm90b3R5cGUudXBkYXRlQXV0b0Ruc05vZGUgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICghdGhpcy5hdXRvRG5zTm9kZV8pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZm9yZWdyb3VuZFJvdXRlck5vZGUgPSBfLmZpbmQodGhpcy5lbGVtZW50c18sIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQgaW5zdGFuY2VvZiBOZXRTaW1WaXpTaW11bGF0aW9uTm9kZSAmJlxuICAgICAgICBlbGVtZW50LmlzUm91dGVyICYmXG4gICAgICAgIGVsZW1lbnQuaXNGb3JlZ3JvdW5kO1xuICB9KTtcblxuICAvLyBVcGRhdGUgYWRkcmVzcyB0byBtYXRjaCBmb3JlZ3JvdW5kIHJvdXRlclxuICBpZiAoZm9yZWdyb3VuZFJvdXRlck5vZGUpIHtcbiAgICB0aGlzLmF1dG9EbnNOb2RlXy5zZXRBZGRyZXNzKGZvcmVncm91bmRSb3V0ZXJOb2RlLmF1dG9EbnNBZGRyZXNzKTtcbiAgfVxuXG4gIC8vIFVwZGF0ZSB3aXJlIGVuZHBvaW50c1xuICB0aGlzLmF1dG9EbnNXaXJlXy5sb2NhbFZpek5vZGUgPSB0aGlzLmF1dG9EbnNOb2RlXztcbiAgdGhpcy5hdXRvRG5zV2lyZV8ucmVtb3RlVml6Tm9kZSA9IGZvcmVncm91bmRSb3V0ZXJOb2RlO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgdGhlIGF1dG8tRE5TIG5vZGUgYW5kIHdpcmUuXG4gKi9cbk5ldFNpbVZpc3VhbGl6YXRpb24ucHJvdG90eXBlLmRlc3Ryb3lBdXRvRG5zTm9kZSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuYXV0b0Ruc05vZGVfKSB7XG4gICAgdGhpcy5hdXRvRG5zTm9kZV8ua2lsbCgpO1xuICAgIHRoaXMuYXV0b0Ruc05vZGVfID0gbnVsbDtcbiAgfVxuXG4gIGlmICh0aGlzLmF1dG9EbnNXaXJlXykge1xuICAgIHRoaXMuYXV0b0Ruc1dpcmVfLmtpbGwoKTtcbiAgICB0aGlzLmF1dG9EbnNXaXJlXyA9IG51bGw7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGRuc05vZGVJRFxuICovXG5OZXRTaW1WaXN1YWxpemF0aW9uLnByb3RvdHlwZS5zZXREbnNOb2RlSUQgPSBmdW5jdGlvbiAoZG5zTm9kZUlEKSB7XG4gIHRoaXMuZWxlbWVudHNfLmZvckVhY2goZnVuY3Rpb24gKHZpekVsZW1lbnQpIHtcbiAgICBpZiAodml6RWxlbWVudCBpbnN0YW5jZW9mIE5ldFNpbVZpelNpbXVsYXRpb25Ob2RlKSB7XG4gICAgICB2aXpFbGVtZW50LnNldElzRG5zTm9kZSh2aXpFbGVtZW50LmdldENvcnJlc3BvbmRpbmdFbnRpdHlJZCgpID09PSBkbnNOb2RlSUQpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKipcbiAqIFVwZGF0ZSBlbmNvZGluZy12aWV3IHNldHRpbmcgYWNyb3NzIHRoZSB2aXN1YWxpemF0aW9uLlxuICpcbiAqIEBwYXJhbSB7RW5jb2RpbmdUeXBlW119IG5ld0VuY29kaW5nc1xuICovXG5OZXRTaW1WaXN1YWxpemF0aW9uLnByb3RvdHlwZS5zZXRFbmNvZGluZ3MgPSBmdW5jdGlvbiAobmV3RW5jb2RpbmdzKSB7XG4gIHRoaXMuZW5jb2RpbmdzXyA9IG5ld0VuY29kaW5ncztcbiAgdGhpcy5lbGVtZW50c18uZm9yRWFjaChmdW5jdGlvbiAodml6RWxlbWVudCkge1xuICAgIGlmICh2aXpFbGVtZW50IGluc3RhbmNlb2YgTmV0U2ltVml6U2ltdWxhdGlvbldpcmUpIHtcbiAgICAgIHZpekVsZW1lbnQuc2V0RW5jb2RpbmdzKG5ld0VuY29kaW5ncyk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogS2ljayBvZmYgYW4gYW5pbWF0aW9uIHRoYXQgd2lsbCBzaG93IHRoZSBzdGF0ZSBvZiB0aGUgc2ltcGxleCB3aXJlIGJlaW5nXG4gKiBzZXQgYnkgdGhlIGxvY2FsIG5vZGUuXG4gKiBAcGFyYW0ge1wiMFwifFwiMVwifSBuZXdTdGF0ZVxuICovXG5OZXRTaW1WaXN1YWxpemF0aW9uLnByb3RvdHlwZS5hbmltYXRlU2V0V2lyZVN0YXRlID0gZnVuY3Rpb24gKG5ld1N0YXRlKSB7XG4gIC8vIEFzc3VtcHRpb25zIC0gd2UgYXJlIHRhbGtpbmcgYWJvdXQgdGhlIHdpcmUgYmV0d2VlbiB0aGUgbG9jYWwgbm9kZVxuICAvLyBhbmQgaXRzIHJlbW90ZSBwYXJ0bmVyLlxuICAvLyBUaGlzIG9ubHkgZ2V0cyB1c2VkIGluIHBlZXItdG8tcGVlciBtb2RlLCBzbyB0aGVyZSBzaG91bGQgYmUgYW4gaW5jb21pbmdcbiAgLy8gd2lyZSB0b28sIHdoaWNoIHdlIHNob3VsZCBoaWRlLlxuICAvLyBUaGlzIGlzIGEgbm8tb3AgaWYgbm8gc3VjaCB3aXJlIGV4aXN0cy5cbiAgLy8gV2UgY2FuIHN0b3AgYW55IHByZXZpb3VzIGFuaW1hdGlvbiBvbiB0aGUgd2lyZSBpZiB0aGlzIGlzIGNhbGxlZFxuXG4gIHZhciB2aXpXaXJlID0gdGhpcy5nZXRWaXpXaXJlVG9SZW1vdGUoKTtcbiAgdmFyIGluY29taW5nV2lyZSA9IHRoaXMuZ2V0Vml6V2lyZUZyb21SZW1vdGUoKTtcbiAgaWYgKCEodml6V2lyZSAmJiBpbmNvbWluZ1dpcmUpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gSGlkZSB0aGUgaW5jb21pbmcgd2lyZSBiZWNhdXNlIHdlIGFyZSBpbiBzaW1wbGV4IG1vZGUuXG4gIGluY29taW5nV2lyZS5oaWRlKCk7XG4gIC8vIEFuaW1hdGUgdGhlIG91dGdvaW5nIHdpcmVcbiAgdml6V2lyZS5hbmltYXRlU2V0U3RhdGUobmV3U3RhdGUpO1xufTtcblxuLyoqXG4gKiBLaWNrIG9mZiBhbiBhbmltYXRpb24gdGhhdCB3aWxsIHNob3cgdGhlIHN0YXRlIG9mIHRoZSBzaW1wbGV4IHdpcmUgYmVpbmdcbiAqIHJlYWQgYnkgdGhlIGxvY2FsIG5vZGUuXG4gKiBAcGFyYW0ge1wiMFwifFwiMVwifSBuZXdTdGF0ZVxuICovXG5OZXRTaW1WaXN1YWxpemF0aW9uLnByb3RvdHlwZS5hbmltYXRlUmVhZFdpcmVTdGF0ZSA9IGZ1bmN0aW9uIChuZXdTdGF0ZSkge1xuICAvLyBBc3N1bWVzIHdlIGFyZSBpbiBzaW1wbGV4IFAyUCBtb2RlIGFuZCB0YWxraW5nIGFib3V0IHRoZSB3aXJlIGJldHdlZW5cbiAgLy8gdGhlIGxvY2FsIG5vZGUgYW5kIGl0cyByZW1vdGUgcGFydG5lci4gIFRoaXMgaXMgYSBuby1vcCBpZiBubyBzdWNoIHdpcmVcbiAgLy8gZXhpc3RzLiAgV2UgY2FuIHN0b3AgYW55IHByZXZpb3VzIGFuaW1hdGlvbiBvbiB0aGUgd2lyZSBpZiB0aGlzIGlzIGNhbGxlZC5cblxuICB2YXIgdml6V2lyZSA9IHRoaXMuZ2V0Vml6V2lyZVRvUmVtb3RlKCk7XG4gIHZhciBpbmNvbWluZ1dpcmUgPSB0aGlzLmdldFZpeldpcmVGcm9tUmVtb3RlKCk7XG4gIGlmICghKHZpeldpcmUgJiYgaW5jb21pbmdXaXJlKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEhpZGUgdGhlIGluY29taW5nIHdpcmUgYmVjYXVzZSB3ZSBhcmUgaW4gc2ltcGxleCBtb2RlLlxuICBpbmNvbWluZ1dpcmUuaGlkZSgpO1xuICAvLyBBbmltYXRlIHRoZSBvdXRnb2luZyB3aXJlXG4gIHZpeldpcmUuYW5pbWF0ZVJlYWRTdGF0ZShuZXdTdGF0ZSk7XG59O1xuXG4vKipcbiAqIEZpbmQgdGhlIG91dGdvaW5nIHdpcmUgZnJvbSB0aGUgbG9jYWwgbm9kZSB0byBhIHJlbW90ZSBub2RlLlxuICogQHJldHVybnMge05ldFNpbVZpelNpbXVsYXRpb25XaXJlfG51bGx9IG51bGwgaWYgbm8gb3V0Z29pbmcgY29ubmVjdGlvbiBpcyBlc3RhYmxpc2hlZC5cbiAqL1xuTmV0U2ltVmlzdWFsaXphdGlvbi5wcm90b3R5cGUuZ2V0Vml6V2lyZVRvUmVtb3RlID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMubG9jYWxOb2RlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgb3V0Z29pbmdXaXJlcyA9IHRoaXMuZWxlbWVudHNfLmZpbHRlcihmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50IGluc3RhbmNlb2YgTmV0U2ltVml6U2ltdWxhdGlvbldpcmUgJiZcbiAgICAgICAgZWxlbWVudC5sb2NhbFZpek5vZGUgPT09IHRoaXMubG9jYWxOb2RlO1xuICB9LCB0aGlzKTtcblxuICBpZiAob3V0Z29pbmdXaXJlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBvdXRnb2luZ1dpcmVzWzBdO1xufTtcblxuLyoqXG4gKiBGaW5kIHRoZSBpbmNvbWluZyB3aXJlIGZyb20gYSByZW1vdGUgbm9kZSB0byB0aGUgbG9jYWwgbm9kZS5cbiAqIEByZXR1cm5zIHtOZXRTaW1WaXpTaW11bGF0aW9uV2lyZXxudWxsfSBudWxsIGlmIG5vIGluY29taW5nIGNvbm5lY3Rpb24gaXMgZXN0YWJsaXNoZWQuXG4gKi9cbk5ldFNpbVZpc3VhbGl6YXRpb24ucHJvdG90eXBlLmdldFZpeldpcmVGcm9tUmVtb3RlID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMubG9jYWxOb2RlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgaW5jb21pbmdXaXJlcyA9IHRoaXMuZWxlbWVudHNfLmZpbHRlcihmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIHJldHVybiBlbGVtZW50IGluc3RhbmNlb2YgTmV0U2ltVml6U2ltdWxhdGlvbldpcmUgJiZcbiAgICAgICAgZWxlbWVudC5yZW1vdGVWaXpOb2RlID09PSB0aGlzLmxvY2FsTm9kZTtcbiAgfSwgdGhpcyk7XG5cbiAgaWYgKGluY29taW5nV2lyZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gaW5jb21pbmdXaXJlc1swXTtcbn07XG4iLCIvKipcbiAqIEBvdmVydmlldyBXaXJlcyBpbiB0aGUgdmlzdWFsaXphdGlvbiB0aGF0IG1hcCB0byBzaW11bGF0aW9uIGVudGl0aWVzLlxuICovXG4vLyBTdHJpY3QgbGludGluZzogQWJzb3JiIGludG8gZ2xvYmFsIGNvbmZpZyB3aGVuIHBvc3NpYmxlXG4vKiBqc2hpbnRcbiB1bnVzZWQ6IHRydWUsXG4gZXFlcWVxOiB0cnVlLFxuIG1heGxlbjogMTIwXG4gKi9cbid1c2Ugc3RyaWN0JztcblxucmVxdWlyZSgnLi4vdXRpbHMnKTtcbnZhciBOZXRTaW1HbG9iYWxzID0gcmVxdWlyZSgnLi9OZXRTaW1HbG9iYWxzJyk7XG52YXIgTmV0U2ltVml6Tm9kZSA9IHJlcXVpcmUoJy4vTmV0U2ltVml6Tm9kZScpO1xudmFyIE5ldFNpbVZpeldpcmUgPSByZXF1aXJlKCcuL05ldFNpbVZpeldpcmUnKTtcblxuLyoqXG4gKiBAcGFyYW0ge05ldFNpbVdpcmV9IHNvdXJjZVdpcmVcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGdldEVsZW1lbnRCeUVudGl0eUlEIC0gQWxsb3dzIHRoaXMgd2lyZSB0byBzZWFyY2hcbiAqICAgICAgICBmb3Igb3RoZXIgZW50aXRpZXMgaW4gdGhlIHNpbXVsYXRpb25cbiAqIEBjb25zdHJ1Y3RvclxuICogQGF1Z21lbnRzIE5ldFNpbVZpeldpcmVcbiAqL1xudmFyIE5ldFNpbVZpelNpbXVsYXRpb25XaXJlID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc291cmNlV2lyZSxcbiAgICBnZXRFbGVtZW50QnlFbnRpdHlJZCkge1xuICB2YXIgbG9jYWxOb2RlID0gZ2V0RWxlbWVudEJ5RW50aXR5SWQoTmV0U2ltVml6Tm9kZSwgc291cmNlV2lyZS5sb2NhbE5vZGVJRCk7XG4gIHZhciByZW1vdGVOb2RlID0gZ2V0RWxlbWVudEJ5RW50aXR5SWQoTmV0U2ltVml6Tm9kZSwgc291cmNlV2lyZS5yZW1vdGVOb2RlSUQpO1xuICBOZXRTaW1WaXpXaXJlLmNhbGwodGhpcywgbG9jYWxOb2RlLCByZW1vdGVOb2RlKTtcblxuICAvKipcbiAgICogSUQgb2YgdGhlIE5ldFNpbVdpcmUgdGhhdCB0aGlzIE5ldFNpbVZpelNpbXVsYXRpb25XaXJlIG1hcHMgdG8uXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICB0aGlzLmNvcnJlc3BvbmRpbmdXaXJlSWRfID0gc291cmNlV2lyZS5lbnRpdHlJRDtcblxuICAvKipcbiAgICogVVVJRCBvZiB0aGUgTmV0U2ltV2lyZSB0aGF0IHRoaXMgTmV0U2ltVml6U2ltdWxhdGlvbldpcmUgbWFwcyB0by5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMuY29ycmVzcG9uZGluZ1dpcmVVdWlkXyA9IHNvdXJjZVdpcmUudXVpZDtcblxuICAvKipcbiAgICogQm91bmQgZ2V0RWxlbWVudEJ5RW50aXR5SWQgbWV0aG9kIGZyb20gdml6dWFsaXphdGlvbiBjb250cm9sbGVyO1xuICAgKiB3ZSBob2xkIG9uIHRvIHRoaXMgc28gdGhhdCBjYWxscyB0byBjb25maWd1cmVGcm9tIGNhbiBmaW5kIG5vZGVzIGxhdGVyLlxuICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmdldEVsZW1lbnRCeUVudGl0eUlkXyA9IGdldEVsZW1lbnRCeUVudGl0eUlkO1xuXG4gIHRoaXMuY29uZmlndXJlRnJvbShzb3VyY2VXaXJlKTtcbiAgdGhpcy5yZW5kZXIoKTtcbn07XG5OZXRTaW1WaXpTaW11bGF0aW9uV2lyZS5pbmhlcml0cyhOZXRTaW1WaXpXaXJlKTtcblxuLyoqXG4gKiBDb25maWd1cmluZyBhIHdpcmUgbWVhbnMgbG9va2luZyB1cCB0aGUgdml6IG5vZGVzIHRoYXQgd2lsbCBiZSBpdHMgZW5kcG9pbnRzLlxuICogQHBhcmFtIHtOZXRTaW1XaXJlfSBzb3VyY2VXaXJlXG4gKi9cbk5ldFNpbVZpelNpbXVsYXRpb25XaXJlLnByb3RvdHlwZS5jb25maWd1cmVGcm9tID0gZnVuY3Rpb24gKHNvdXJjZVdpcmUpIHtcbiAgdGhpcy5jb3JyZXNwb25kaW5nV2lyZUlkXyA9IHNvdXJjZVdpcmUuZW50aXR5SUQ7XG4gIHRoaXMuY29ycmVzcG9uZGluZ1dpcmVVdWlkXyA9IHNvdXJjZVdpcmUudXVpZDtcblxuICB0aGlzLmxvY2FsVml6Tm9kZSA9IHRoaXMuZ2V0RWxlbWVudEJ5RW50aXR5SWRfKE5ldFNpbVZpek5vZGUsIHNvdXJjZVdpcmUubG9jYWxOb2RlSUQpO1xuICB0aGlzLnJlbW90ZVZpek5vZGUgPSB0aGlzLmdldEVsZW1lbnRCeUVudGl0eUlkXyhOZXRTaW1WaXpOb2RlLCBzb3VyY2VXaXJlLnJlbW90ZU5vZGVJRCk7XG5cbiAgaWYgKHRoaXMubG9jYWxWaXpOb2RlKSB7XG4gICAgdGhpcy5sb2NhbFZpek5vZGUuc2V0QWRkcmVzcyhzb3VyY2VXaXJlLmxvY2FsQWRkcmVzcyk7XG4gIH1cblxuICBpZiAodGhpcy5yZW1vdGVWaXpOb2RlKSB7XG4gICAgdGhpcy5yZW1vdGVWaXpOb2RlLnNldEFkZHJlc3Moc291cmNlV2lyZS5yZW1vdGVBZGRyZXNzKTtcbiAgfVxuXG4gIGlmIChOZXRTaW1HbG9iYWxzLmdldExldmVsQ29uZmlnKCkuYnJvYWRjYXN0TW9kZSkge1xuICAgIHRoaXMuZ2V0Um9vdCgpLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gIH1cbn07XG5cbi8qKlxuICogSUQgb2YgdGhlIE5ldFNpbUVudGl0eSB0aGF0IG1hcHMgdG8gdGhpcyB2aXN1YWxpemF0aW9uIGVsZW1lbnQuXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5OZXRTaW1WaXpTaW11bGF0aW9uV2lyZS5wcm90b3R5cGUuZ2V0Q29ycmVzcG9uZGluZ0VudGl0eUlkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5jb3JyZXNwb25kaW5nV2lyZUlkXztcbn07XG5cbi8qKlxuICogQHBhcmFtIHtOZXRTaW1FbnRpdHl9IGVudGl0eVxuICogQHJldHVybnMge2Jvb2xlYW59IFRSVUUgaWYgdGhpcyBWaXpFbGVtZW50IHJlcHJlc2VudHMgdGhlIGdpdmVuIE5ldFNpbUVudGl0eS5cbiAqL1xuTmV0U2ltVml6U2ltdWxhdGlvbldpcmUucHJvdG90eXBlLnJlcHJlc2VudHNFbnRpdHkgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gIHJldHVybiB0aGlzLmNvcnJlc3BvbmRpbmdXaXJlSWRfID09PSBlbnRpdHkuZW50aXR5SUQgJiZcbiAgICAgIHRoaXMuY29ycmVzcG9uZGluZ1dpcmVVdWlkXyA9PT0gZW50aXR5LnV1aWQ7XG59O1xuXG4vKipcbiAqIEtpbGxpbmcgYSB2aXN1YWxpemF0aW9uIG5vZGUgcmVtb3ZlcyBpdHMgSUQgc28gdGhhdCBpdCB3b24ndCBjb25mbGljdCB3aXRoXG4gKiBhbm90aGVyIHZpem5vZGUgb2YgbWF0Y2hpbmcgSUQgYmVpbmcgYWRkZWQsIGFuZCBiZWdpbnMgaXRzIGV4aXQgYW5pbWF0aW9uLlxuICogQG92ZXJyaWRlXG4gKi9cbk5ldFNpbVZpelNpbXVsYXRpb25XaXJlLnByb3RvdHlwZS5raWxsID0gZnVuY3Rpb24gKCkge1xuICBOZXRTaW1WaXpTaW11bGF0aW9uV2lyZS5zdXBlclByb3RvdHlwZS5raWxsLmNhbGwodGhpcyk7XG4gIHRoaXMuY29ycmVzcG9uZGluZ1dpcmVJZF8gPSB1bmRlZmluZWQ7XG4gIHRoaXMuY29ycmVzcG9uZGluZ1dpcmVVdWlkXyA9IHVuZGVmaW5lZDtcbn07XG4iLCIvKipcbiAqIEBvdmVydmlldyBXaXJlcyBpbiB0aGUgdmlzdWFsaXphdGlvbi5cbiAqL1xuLy8gU3RyaWN0IGxpbnRpbmc6IEFic29yYiBpbnRvIGdsb2JhbCBjb25maWcgd2hlbiBwb3NzaWJsZVxuLyoganNoaW50XG4gdW51c2VkOiB0cnVlLFxuIGVxZXFlcTogdHJ1ZSxcbiBtYXhsZW46IDEyMFxuICovXG4ndXNlIHN0cmljdCc7XG5cbnJlcXVpcmUoJy4uL3V0aWxzJyk7XG52YXIgalF1ZXJ5U3ZnRWxlbWVudCA9IHJlcXVpcmUoJy4vTmV0U2ltVXRpbHMnKS5qUXVlcnlTdmdFbGVtZW50O1xudmFyIE5ldFNpbVZpekVsZW1lbnQgPSByZXF1aXJlKCcuL05ldFNpbVZpekVsZW1lbnQnKTtcbnZhciB0d2VlbnMgPSByZXF1aXJlKCcuL3R3ZWVucycpO1xudmFyIERhdGFDb252ZXJ0ZXJzID0gcmVxdWlyZSgnLi9EYXRhQ29udmVydGVycycpO1xudmFyIE5ldFNpbUNvbnN0YW50cyA9IHJlcXVpcmUoJy4vTmV0U2ltQ29uc3RhbnRzJyk7XG5cbnZhciBFbmNvZGluZ1R5cGUgPSBOZXRTaW1Db25zdGFudHMuRW5jb2RpbmdUeXBlO1xuXG52YXIgYmluYXJ5VG9BQiA9IERhdGFDb252ZXJ0ZXJzLmJpbmFyeVRvQUI7XG5cbi8qKlxuICogSG93IGZhciB0aGUgZmx5aW5nIGxhYmVsIHNob3VsZCByZXN0IGFib3ZlIHRoZSB3aXJlLlxuICogQHR5cGUge251bWJlcn1cbiAqIEBjb25zdFxuICovXG52YXIgVEVYVF9GSU5BTF9WRVJUSUNBTF9PRkZTRVQgPSAtMTA7XG5cbi8qKlxuICogQHBhcmFtIHtOZXRTaW1WaXpOb2RlfSBsb2NhbE5vZGVcbiAqIEBwYXJhbSB7TmV0U2ltVml6Tm9kZX0gcmVtb3RlTm9kZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXVnbWVudHMgTmV0U2ltVml6RWxlbWVudFxuICovXG52YXIgTmV0U2ltVml6V2lyZSA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxvY2FsTm9kZSwgcmVtb3RlTm9kZSkge1xuICBOZXRTaW1WaXpFbGVtZW50LmNhbGwodGhpcyk7XG5cbiAgdmFyIHJvb3QgPSB0aGlzLmdldFJvb3QoKTtcbiAgcm9vdC5hZGRDbGFzcygndml6LXdpcmUnKTtcblxuICAvKipcbiAgICogQHR5cGUge2pRdWVyeX0gd3JhcHBlZCBhcm91bmQgYSBTVkdQYXRoRWxlbWVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5saW5lXyA9IGpRdWVyeVN2Z0VsZW1lbnQoJ3BhdGgnKVxuICAgICAgLmFwcGVuZFRvKHJvb3QpO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7alF1ZXJ5fSB3cmFwcGVkIGFyb3VuZCBhIFNWR1RleHRFbGVtZW50XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnF1ZXN0aW9uTWFya18gPSBqUXVlcnlTdmdFbGVtZW50KCd0ZXh0JylcbiAgICAgIC50ZXh0KCc/JylcbiAgICAgIC5hZGRDbGFzcygncXVlc3Rpb24tbWFyaycpXG4gICAgICAuYXBwZW5kVG8ocm9vdCk7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtqUXVlcnl9IHdyYXBwZWQgYXJvdW5kIGEgU1ZHVGV4dEVsZW1lbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMudGV4dF8gPSBqUXVlcnlTdmdFbGVtZW50KCd0ZXh0JylcbiAgICAgIC5hZGRDbGFzcygnc3RhdGUtbGFiZWwnKVxuICAgICAgLmFwcGVuZFRvKHJvb3QpO1xuXG4gIC8qKlxuICAgKiBYLWNvb3JkaW5hdGUgb2YgdGV4dCBsYWJlbCwgZm9yIGFuaW1hdGlvbi5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMudGV4dFBvc1hfID0gMDtcblxuICAvKipcbiAgICogWS1jb29yZGluYXRlIG9mIHRleHQgbGFiZWwsIGZvciBhbmltYXRpb24uXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnRleHRQb3NZXyA9IDA7XG5cbiAgLyoqXG4gICAqIEZsYWcgdGhhdCBhbGxvd3MgdXMgdG8gZm9yY2UgYW4gdXBkYXRlIG9mIHRoZSB0ZXh0IHBvc2l0aW9uOyB1c2VkXG4gICAqIHdoZW4gd2UgbW92ZSB0ZXh0IHdpdGhvdXQgdHdlZW5zIGJlY2F1c2UgdGhhdCBtZXRob2QgcHJldmVudHMgdXNcbiAgICogZnJvbSBiZWluZyBhYmxlIHRvIGRldGVjdCBub3JtYWxseSB0aGF0IHNvbWV0aGluZyBoYXMgY2hhbmdlZFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuZm9yY2VUZXh0UG9zUmVuZGVyXyA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBTVkcgUGF0aCBEZXNjcmlwdGlvbiBvZiB0aGlzLmxpbmVfLCBmb3IgYW5pbWF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnBhdGhEYXRhXyA9ICcnO1xuXG4gIC8qKlxuICAgKiBgVEVYVF9GSU5BTF9WRVJUSUNBTF9PRkZTRVRgLW9mZnNldCBYIGFuZCBZIGNvb3JkaW5hdGVzIGZvciB0aGVcbiAgICogY2VudGVyIG9mIHRoZSB3aXJlOyB1c2VkIGZvciBwb3NpdGlvbmluZyB0aGUgcXVlc3Rpb24gbWFya1xuICAgKiBAdHlwZSB7e3g6bnVtYmVyLCB5Om51bWJlcn19XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLndpcmVDZW50ZXJfID0geyB4OiAwLCB5OiAwIH07XG5cbiAgLyoqXG4gICAqIEVuYWJsZWQgZW5jb2RpbmcgdHlwZXMuXG4gICAqIEB0eXBlIHtFbmNvZGluZ1R5cGVbXX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuZW5jb2RpbmdzXyA9IFtdO1xuXG4gIHRoaXMubG9jYWxWaXpOb2RlID0gbG9jYWxOb2RlO1xuICB0aGlzLnJlbW90ZVZpek5vZGUgPSByZW1vdGVOb2RlO1xuXG4gIHRoaXMucmVuZGVyKCk7XG59O1xuTmV0U2ltVml6V2lyZS5pbmhlcml0cyhOZXRTaW1WaXpFbGVtZW50KTtcblxuLyoqXG4gKiBVcGRhdGUgcGF0aCBkYXRhIGZvciB3aXJlIGlmIHdlIGNhbiBkZXRlY3QgcGVuZGluZyBjaGFuZ2VzXG4gKiBAcGFyYW0ge1J1bkxvb3AuQ2xvY2t9IFtjbG9ja10gLSBzb210aW1lcyBvbWl0dGVkIGR1cmluZyBzZXR1cFxuICovXG5OZXRTaW1WaXpXaXJlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoY2xvY2spIHtcblxuICAvLyBDYWNoZSB0aGUgbG9jYWwgcG9zaXRpb24gdmFsdWVzIGhlcmUsIHNvIHdlIGNhbiBjaGVjayBsYXRlciBpZlxuICAvLyBhbnl0aGluZyBoYXMgY2hhbmdlZCBiZWZvcmUgbWFraW5nIGFuIGV4cGVuc2l2ZSBgLmF0dHJgIGNhbGxcbiAgdmFyIHRleHRQb3NYID0gdGhpcy50ZXh0UG9zWF87XG4gIHZhciB0ZXh0UG9zWSA9IHRoaXMudGV4dFBvc1lfO1xuICB2YXIgcGF0aERhdGEgPSB0aGlzLnBhdGhEYXRhXztcbiAgdmFyIHdpcmVDZW50ZXIgPSB0aGlzLndpcmVDZW50ZXJfO1xuXG4gIC8vIE1ha2UgdGhlIGNhbGwgdG8gc3VwZXIgdG8gdXBkYXRlIGV2ZXJ5dGhpbmcgd2UgY2FuLCB0aGVuXG4gIC8vIHJlY2FsY3VsYXRlIHRoZSB2YWx1ZXMgb2Ygb3VycyB0aGF0IGFyZSBkZXBlbmRlbnQgb24gdGhlIG1vdmVtZW50XG4gIC8vIG9mIG91ciBjb25uZWN0ZWQgbm9kZXNcbiAgTmV0U2ltVml6V2lyZS5zdXBlclByb3RvdHlwZS5yZW5kZXIuY2FsbCh0aGlzLCBjbG9jayk7XG5cbiAgaWYgKHRoaXMubG9jYWxWaXpOb2RlICYmIHRoaXMucmVtb3RlVml6Tm9kZSkge1xuICAgIHRoaXMucGF0aERhdGFfID0gWydNJywgdGhpcy5sb2NhbFZpek5vZGUucG9zWCwgdGhpcy5sb2NhbFZpek5vZGUucG9zWSxcbiAgICAgICAgJ0wnLCB0aGlzLnJlbW90ZVZpek5vZGUucG9zWCwgdGhpcy5yZW1vdGVWaXpOb2RlLnBvc1ldLmpvaW4oJyAnKTtcbiAgICB0aGlzLndpcmVDZW50ZXJfID0gdGhpcy5nZXRXaXJlQ2VudGVyUG9zaXRpb24oKTtcbiAgfVxuXG4gIC8vIEZpbmFsbHksIGlmIGFuZCBvbmx5IGlmIGFueSBvZiB0aGUgdmFsdWVzIHdlIGNhcmUgYWJvdXQgaGF2ZVxuICAvLyBjaGFuZ2VkLCB1cGRhdGUgb3VyIGVsZW1lbnQgaW4gdGhlIERPTVxuICBpZiAodGhpcy5mb3JjZVRleHRQb3NSZW5kZXJfIHx8IHRleHRQb3NYICE9PSB0aGlzLnRleHRQb3NYXyB8fFxuICAgICAgdGV4dFBvc1kgIT09IHRoaXMudGV4dFBvc1lfKSB7XG4gICAgdGhpcy50ZXh0X1xuICAgICAgICAuYXR0cigneCcsIHRoaXMudGV4dFBvc1hfKVxuICAgICAgICAuYXR0cigneScsIHRoaXMudGV4dFBvc1lfKTtcbiAgICB0aGlzLmZvcmNlVGV4dFBvc1JlbmRlcl8gPSBmYWxzZTtcbiAgfVxuICBpZiAocGF0aERhdGEgIT09IHRoaXMucGF0aERhdGFfKSB7XG4gICAgdGhpcy5saW5lXy5hdHRyKCdkJywgdGhpcy5wYXRoRGF0YV8pO1xuICB9XG4gIGlmICh3aXJlQ2VudGVyLnggIT09IHRoaXMud2lyZUNlbnRlcl8ueCB8fCB3aXJlQ2VudGVyLnkgIT09IHRoaXMud2lyZUNlbnRlcl8ueSkge1xuICAgIHRoaXMucXVlc3Rpb25NYXJrX1xuICAgICAgICAuYXR0cigneCcsIHRoaXMud2lyZUNlbnRlcl8ueClcbiAgICAgICAgLmF0dHIoJ3knLCB0aGlzLndpcmVDZW50ZXJfLnkpO1xuICB9XG59O1xuXG4vKipcbiAqIEhpZGUgdGhpcyB3aXJlIC0gdXNlZCB0byBoaWRlIHRoZSBpbmNvbWluZyB3aXJlIHdoZW4gd2UncmUgdHJ5aW5nIHRvIHNob3dcbiAqIHNpbXBsZXggbW9kZS5cbiAqL1xuTmV0U2ltVml6V2lyZS5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5nZXRSb290KCkuYWRkQ2xhc3MoJ2hpZGRlbi13aXJlJyk7XG59O1xuXG4vKipcbiAqIEtpbGxpbmcgYSB2aXN1YWxpemF0aW9uIG5vZGUgcmVtb3ZlcyBpdHMgSUQgc28gdGhhdCBpdCB3b24ndCBjb25mbGljdCB3aXRoXG4gKiBhbm90aGVyIG5vZGUgb2YgbWF0Y2hpbmcgSUQgYmVpbmcgYWRkZWQsIGFuZCBiZWdpbnMgaXRzIGV4aXQgYW5pbWF0aW9uLlxuICogQG92ZXJyaWRlXG4gKi9cbk5ldFNpbVZpeldpcmUucHJvdG90eXBlLmtpbGwgPSBmdW5jdGlvbiAoKSB7XG4gIE5ldFNpbVZpeldpcmUuc3VwZXJQcm90b3R5cGUua2lsbC5jYWxsKHRoaXMpO1xuICB0aGlzLmxvY2FsVml6Tm9kZSA9IG51bGw7XG4gIHRoaXMucmVtb3RlVml6Tm9kZSA9IG51bGw7XG59O1xuXG4vKipcbiAqIFVwZGF0ZSBlbmNvZGluZy12aWV3IHNldHRpbmdzLiAgRGV0ZXJtaW5lcyBob3cgYml0IHNldHMvcmVhZHMgYXJlXG4gKiBkaXNwbGF5ZWQgd2hlbiBhbmltYXRpbmcgYWJvdmUgdGhlIHdpcmUuXG4gKlxuICogQHBhcmFtIHtFbmNvZGluZ1R5cGVbXX0gbmV3RW5jb2RpbmdzXG4gKi9cbk5ldFNpbVZpeldpcmUucHJvdG90eXBlLnNldEVuY29kaW5ncyA9IGZ1bmN0aW9uIChuZXdFbmNvZGluZ3MpIHtcbiAgdGhpcy5lbmNvZGluZ3NfID0gbmV3RW5jb2RpbmdzO1xufTtcblxuLyoqXG4gKiBLaWNrIG9mZiBhbiBhbmltYXRpb24gb2YgdGhlIHdpcmUgc3RhdGUgYmVpbmcgc2V0IGJ5IHRoZSBsb2NhbCB2aXpub2RlLlxuICogQHBhcmFtIHtcIjBcInxcIjFcIn0gbmV3U3RhdGVcbiAqL1xuTmV0U2ltVml6V2lyZS5wcm90b3R5cGUuYW5pbWF0ZVNldFN0YXRlID0gZnVuY3Rpb24gKG5ld1N0YXRlKSB7XG4gIGlmICghKHRoaXMubG9jYWxWaXpOb2RlICYmIHRoaXMucmVtb3RlVml6Tm9kZSkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZmx5T3V0TXMgPSAzMDA7XG4gIHZhciBob2xkUG9zaXRpb25NcyA9IDMwMDtcblxuICB0aGlzLnN0b3BBbGxBbmltYXRpb24oKTtcbiAgdGhpcy5zZXRXaXJlQ2xhc3Nlc18obmV3U3RhdGUpO1xuICB0aGlzLnRleHRfLnRleHQodGhpcy5nZXREaXNwbGF5Qml0XyhuZXdTdGF0ZSkpO1xuICB0aGlzLnNuYXBUZXh0VG9Qb3NpdGlvbih0aGlzLmdldExvY2FsTm9kZVBvc2l0aW9uKCkpO1xuICB0aGlzLnR3ZWVuVGV4dFRvUG9zaXRpb24odGhpcy5nZXRXaXJlQ2VudGVyUG9zaXRpb24oKSwgZmx5T3V0TXMsXG4gICAgICB0d2VlbnMuZWFzZU91dFF1YWQpO1xuICB0aGlzLmRvQWZ0ZXJEZWxheShmbHlPdXRNcyArIGhvbGRQb3NpdGlvbk1zLCBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zZXRXaXJlQ2xhc3Nlc18oJ3Vua25vd24nKTtcbiAgfS5iaW5kKHRoaXMpKTtcbn07XG5cbi8qKlxuICogS2ljayBvZmYgYW4gYW5pbWF0aW9uIG9mIHRoZSB3aXJlIHN0YXRlIGJlaW5nIHJlYWQgYnkgdGhlIGxvY2FsIHZpem5vZGUuXG4gKiBAcGFyYW0ge1wiMFwifFwiMVwifSBuZXdTdGF0ZVxuICovXG5OZXRTaW1WaXpXaXJlLnByb3RvdHlwZS5hbmltYXRlUmVhZFN0YXRlID0gZnVuY3Rpb24gKG5ld1N0YXRlKSB7XG4gIGlmICghKHRoaXMubG9jYWxWaXpOb2RlICYmIHRoaXMucmVtb3RlVml6Tm9kZSkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgaG9sZFBvc2l0aW9uTXMgPSAzMDA7XG4gIHZhciBmbHlUb05vZGVNcyA9IDMwMDtcblxuICB0aGlzLnN0b3BBbGxBbmltYXRpb24oKTtcbiAgdGhpcy5zZXRXaXJlQ2xhc3Nlc18obmV3U3RhdGUpO1xuICB0aGlzLnRleHRfLnRleHQodGhpcy5nZXREaXNwbGF5Qml0XyhuZXdTdGF0ZSkpO1xuICB0aGlzLnNuYXBUZXh0VG9Qb3NpdGlvbih0aGlzLmdldFdpcmVDZW50ZXJQb3NpdGlvbigpKTtcbiAgdGhpcy5kb0FmdGVyRGVsYXkoaG9sZFBvc2l0aW9uTXMsIGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnR3ZWVuVGV4dFRvUG9zaXRpb24odGhpcy5nZXRMb2NhbE5vZGVQb3NpdGlvbigpLCBmbHlUb05vZGVNcyxcbiAgICAgICAgdHdlZW5zLmVhc2VPdXRRdWFkKTtcbiAgICB0aGlzLnNldFdpcmVDbGFzc2VzXygndW5rbm93bicpO1xuICB9LmJpbmQodGhpcykpO1xufTtcblxuLyoqXG4gKiBBZGRzL3JlbW92ZXMgY2xhc3NlcyBmcm9tIHRoZSBTVkcgcm9vdCBhY2NvcmRpbmcgdG8gdGhlIGdpdmVuIHdpcmUgc3RhdGUuXG4gKiBQYXNzaW5nIGFueXRoaW5nIG90aGVyIHRoYW4gXCIxXCIgb3IgXCIwXCIgd2lsbCBwdXQgdGhlIHdpcmUgaW4gYW4gXCJ1bmtub3duXCJcbiAqIHN0YXRlLCB3aGljaCBiZWdpbnMgYSBDU1MgdHJhbnNpdGlvbiBmYWRlIGJhY2sgdG8gZ3JheS5cbiAqIEBwYXJhbSB7XCIwXCJ8XCIxXCJ8Kn0gbmV3U3RhdGVcbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVZpeldpcmUucHJvdG90eXBlLnNldFdpcmVDbGFzc2VzXyA9IGZ1bmN0aW9uIChuZXdTdGF0ZSkge1xuICB2YXIgc3RhdGVPZmYgPSAobmV3U3RhdGUgPT09ICcwJyk7XG4gIHZhciBzdGF0ZU9uID0gKCFzdGF0ZU9mZiAmJiBuZXdTdGF0ZSA9PT0gJzEnKTtcbiAgdmFyIHN0YXRlVW5rbm93biA9ICghc3RhdGVPZmYgJiYgIXN0YXRlT24pO1xuXG4gIHRoaXMuZ2V0Um9vdCgpLnRvZ2dsZUNsYXNzKCdzdGF0ZS1vbicsIHN0YXRlT24pO1xuICB0aGlzLmdldFJvb3QoKS50b2dnbGVDbGFzcygnc3RhdGUtb2ZmJywgc3RhdGVPZmYpO1xuICB0aGlzLmdldFJvb3QoKS50b2dnbGVDbGFzcygnc3RhdGUtdW5rbm93bicsIHN0YXRlVW5rbm93bik7XG59O1xuXG4vKipcbiAqIEdldCBhbiBhcHByb3ByaWF0ZSBcImRpc3BsYXkgYml0XCIgdG8gc2hvdyBhYm92ZSB0aGUgd2lyZSwgZ2l2ZW4gdGhlXG4gKiBjdXJyZW50IGVuYWJsZWQgZW5jb2RpbmdzIChzaG91bGQgbWF0Y2ggdGhlIFwic2V0IHdpcmVcIiBidXR0b24gbGFiZWwpXG4gKiBAcGFyYW0ge1wiMFwifFwiMVwifSB3aXJlU3RhdGVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IGEgZGlzcGxheSBiaXQgYXBwcm9wcmlhdGUgdG8gdGhlIGVuYWJsZWQgZW5jb2RpbmdzLlxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltVml6V2lyZS5wcm90b3R5cGUuZ2V0RGlzcGxheUJpdF8gPSBmdW5jdGlvbiAod2lyZVN0YXRlKSB7XG4gIGlmICh0aGlzLmlzRW5jb2RpbmdFbmFibGVkXyhFbmNvZGluZ1R5cGUuQV9BTkRfQikgJiZcbiAgICAgICF0aGlzLmlzRW5jb2RpbmdFbmFibGVkXyhFbmNvZGluZ1R5cGUuQklOQVJZKSkge1xuICAgIHdpcmVTdGF0ZSA9IGJpbmFyeVRvQUIod2lyZVN0YXRlKTtcbiAgfVxuICByZXR1cm4gd2lyZVN0YXRlO1xufTtcblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIHRoZSBnaXZlbiBlbmNvZGluZyBpcyBjdXJyZW50bHkgZGlzcGxheWVkIGJ5IHRoZSBwYW5lbC5cbiAqIEBwYXJhbSB7RW5jb2RpbmdUeXBlfSBxdWVyeUVuY29kaW5nXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVZpeldpcmUucHJvdG90eXBlLmlzRW5jb2RpbmdFbmFibGVkXyA9IGZ1bmN0aW9uIChxdWVyeUVuY29kaW5nKSB7XG4gIHJldHVybiB0aGlzLmVuY29kaW5nc18uc29tZShmdW5jdGlvbiAoZW5hYmxlZEVuY29kaW5nKSB7XG4gICAgcmV0dXJuIGVuYWJsZWRFbmNvZGluZyA9PT0gcXVlcnlFbmNvZGluZztcbiAgfSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gYW5pbWF0ZWQgbW90aW9uIGZyb20gdGhlIHRleHQncyBjdXJyZW50IHBvc2l0aW9uIHRvIHRoZVxuICogZ2l2ZW4gY29vcmRpbmF0ZXMuXG4gKiBAcGFyYW0ge3t4Om51bWJlciwgeTpudW1iZXJ9fSBkZXN0aW5hdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IFtkdXJhdGlvbj02MDBdIGluIG1pbGxpc2Vjb25kc1xuICogQHBhcmFtIHtUd2VlbkZ1bmN0aW9ufSBbdHdlZW5GdW5jdGlvbj1saW5lYXJdXG4gKi9cbk5ldFNpbVZpeldpcmUucHJvdG90eXBlLnR3ZWVuVGV4dFRvUG9zaXRpb24gPSBmdW5jdGlvbiAoZGVzdGluYXRpb24sIGR1cmF0aW9uLFxuICAgIHR3ZWVuRnVuY3Rpb24pIHtcbiAgaWYgKGR1cmF0aW9uID4gMCkge1xuICAgIHRoaXMudHdlZW5zXy5wdXNoKG5ldyB0d2VlbnMuVHdlZW5WYWx1ZVRvKHRoaXMsICd0ZXh0UG9zWF8nLCBkZXN0aW5hdGlvbi54LFxuICAgICAgICBkdXJhdGlvbiwgdHdlZW5GdW5jdGlvbikpO1xuICAgIHRoaXMudHdlZW5zXy5wdXNoKG5ldyB0d2VlbnMuVHdlZW5WYWx1ZVRvKHRoaXMsICd0ZXh0UG9zWV8nLCBkZXN0aW5hdGlvbi55LFxuICAgICAgICBkdXJhdGlvbiwgdHdlZW5GdW5jdGlvbikpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMudGV4dFBvc1hfID0gZGVzdGluYXRpb24ueDtcbiAgICB0aGlzLnRleHRQb3NZXyA9IGRlc3RpbmF0aW9uLnk7XG4gICAgdGhpcy5mb3JjZVRleHRQb3NSZW5kZXJfID0gdHJ1ZTtcbiAgfVxufTtcblxuLyoqXG4gKiBTbmFwcyB0aGUgdGV4dCB0byB0aGUgZ2l2ZW4gcG9zaXRpb24uXG4gKiBAcGFyYW0ge3t4Om51bWJlciwgeTpudW1iZXJ9fSBkZXN0aW5hdGlvblxuICovXG5OZXRTaW1WaXpXaXJlLnByb3RvdHlwZS5zbmFwVGV4dFRvUG9zaXRpb24gPSBmdW5jdGlvbiAoZGVzdGluYXRpb24pIHtcbiAgdGhpcy50d2VlblRleHRUb1Bvc2l0aW9uKGRlc3RpbmF0aW9uLCAwKTtcbn07XG5cbi8qKlxuICogQHJldHVybnMge3t4Om51bWJlciwgeTpudW1iZXJ9fVxuICovXG5OZXRTaW1WaXpXaXJlLnByb3RvdHlwZS5nZXRMb2NhbE5vZGVQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICB4OiB0aGlzLmxvY2FsVml6Tm9kZS5wb3NYLFxuICAgIHk6IHRoaXMubG9jYWxWaXpOb2RlLnBvc1lcbiAgfTtcbn07XG5cbi8qKlxuICogQHJldHVybnMge3t4Om51bWJlciwgeTpudW1iZXJ9fVxuICovXG5OZXRTaW1WaXpXaXJlLnByb3RvdHlwZS5nZXRXaXJlQ2VudGVyUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB7XG4gICAgeDogKHRoaXMucmVtb3RlVml6Tm9kZS5wb3NYIC0gdGhpcy5sb2NhbFZpek5vZGUucG9zWCkgLyAyICtcbiAgICAgICAgdGhpcy5sb2NhbFZpek5vZGUucG9zWCxcbiAgICB5OiAodGhpcy5yZW1vdGVWaXpOb2RlLnBvc1kgLSB0aGlzLnJlbW90ZVZpek5vZGUucG9zWSkgLyAyICtcbiAgICAgICAgdGhpcy5sb2NhbFZpek5vZGUucG9zWSArIFRFWFRfRklOQUxfVkVSVElDQUxfT0ZGU0VUXG4gIH07XG59O1xuIiwiLyoqXG4gKiBAb3ZlcnZpZXcgTm9kZXMgaW4gdGhlIHZpc3VhbGl6YXRpb24gdGhhdCBtYXAgdG8gc2ltdWxhdGlvbiBlbnRpdGllcy5cbiAqL1xuLy8gU3RyaWN0IGxpbnRpbmc6IEFic29yYiBpbnRvIGdsb2JhbCBjb25maWcgd2hlbiBwb3NzaWJsZVxuLyoganNoaW50XG4gdW51c2VkOiB0cnVlLFxuIGVxZXFlcTogdHJ1ZSxcbiBtYXhsZW46IDEyMFxuICovXG4ndXNlIHN0cmljdCc7XG5cbnJlcXVpcmUoJy4uL3V0aWxzJyk7XG52YXIgTmV0U2ltQ29uc3RhbnRzID0gcmVxdWlyZSgnLi9OZXRTaW1Db25zdGFudHMnKTtcbnZhciBOZXRTaW1WaXpOb2RlID0gcmVxdWlyZSgnLi9OZXRTaW1WaXpOb2RlJyk7XG5cbnZhciBOb2RlVHlwZSA9IE5ldFNpbUNvbnN0YW50cy5Ob2RlVHlwZTtcblxudmFyIE5ldFNpbUdsb2JhbHMgPSByZXF1aXJlKCcuL05ldFNpbUdsb2JhbHMnKTtcblxuLyoqXG4gKiBAcGFyYW0ge05ldFNpbU5vZGV9IHNvdXJjZU5vZGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdXNlQmFja2dyb3VuZEFuaW1hdGlvbiAtIGNoYW5nZXMgdGhlIGJlaGF2aW9yIG9mIHRoaXMgbm9kZVxuICogICAgICAgIHdoZW4gaXQncyBpbiB0aGUgYmFja2dyb3VuZCBsYXllclxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXVnbWVudHMgTmV0U2ltVml6Tm9kZVxuICovXG52YXIgTmV0U2ltVml6U2ltdWxhdGlvbk5vZGUgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzb3VyY2VOb2RlLFxuICAgIHVzZUJhY2tncm91bmRBbmltYXRpb24pIHtcbiAgTmV0U2ltVml6Tm9kZS5jYWxsKHRoaXMsIHVzZUJhY2tncm91bmRBbmltYXRpb24pO1xuXG4gIC8qKlxuICAgKiBJRCBvZiB0aGUgTmV0U2ltTm9kZSB0aGF0IHRoaXMgTmV0U2ltVml6U2ltdWxhdGlvbk5vZGUgcmVwcmVzZW50cy5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMuY29ycmVzcG9uZGluZ05vZGVJRF8gPSBzb3VyY2VOb2RlLmVudGl0eUlEO1xuXG4gIC8qKlxuICAgKiBVVUlEIG9mIHRoZSBOZXRTaW1Ob2RlIHRoYXQgdGhpcyBOZXRTaW1WaXpTaW11bGF0aW9uTm9kZSByZXByZXNlbnRzLlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKi9cbiAgdGhpcy5jb3JyZXNwb25kaW5nTm9kZVV1aWRfID0gc291cmNlTm9kZS51dWlkO1xuXG4gIC8qKlxuICAgKiBJZiB3ZSBlbmQgdXAgcmVwcmVzZW50aW5nIGEgcm91dGVyLCB3ZSBtYXkgbmVlZCB0byBob2xkIHRoZSBhdXRvLWRucyBhZGRyZXNzXG4gICAqIHRvIHBhc3MgdG8gYSBmYWtlIGF1dG8tZG5zIG5vZGUuXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICB0aGlzLmF1dG9EbnNBZGRyZXNzID0gdW5kZWZpbmVkO1xuXG4gIHRoaXMuY29uZmlndXJlRnJvbShzb3VyY2VOb2RlKTtcbiAgdGhpcy5yZW5kZXIoKTtcbn07XG5OZXRTaW1WaXpTaW11bGF0aW9uTm9kZS5pbmhlcml0cyhOZXRTaW1WaXpOb2RlKTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtOZXRTaW1Ob2RlfSBzb3VyY2VOb2RlXG4gKi9cbk5ldFNpbVZpelNpbXVsYXRpb25Ob2RlLnByb3RvdHlwZS5jb25maWd1cmVGcm9tID0gZnVuY3Rpb24gKHNvdXJjZU5vZGUpIHtcbiAgdGhpcy5jb3JyZXNwb25kaW5nTm9kZUlkXyA9IHNvdXJjZU5vZGUuZW50aXR5SUQ7XG4gIHRoaXMuY29ycmVzcG9uZGluZ05vZGVVdWlkXyA9IHNvdXJjZU5vZGUudXVpZDtcblxuICB2YXIgbGV2ZWxDb25maWcgPSBOZXRTaW1HbG9iYWxzLmdldExldmVsQ29uZmlnKCk7XG4gIGlmIChsZXZlbENvbmZpZy5zaG93SG9zdG5hbWVJbkdyYXBoKSB7XG4gICAgdGhpcy5zZXROYW1lKHNvdXJjZU5vZGUuZ2V0SG9zdG5hbWUoKSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5zZXROYW1lKHNvdXJjZU5vZGUuZ2V0U2hvcnREaXNwbGF5TmFtZSgpKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VOb2RlLmdldE5vZGVUeXBlKCkgPT09IE5vZGVUeXBlLlJPVVRFUikge1xuICAgIHRoaXMuaXNSb3V0ZXIgPSB0cnVlO1xuICAgIHRoaXMuZ2V0Um9vdCgpLmFkZENsYXNzKCdyb3V0ZXItbm9kZScpO1xuICAgIHRoaXMuYXV0b0Ruc0FkZHJlc3MgPSBzb3VyY2VOb2RlLmdldEF1dG9EbnNBZGRyZXNzKCk7XG4gICAgaWYgKGxldmVsQ29uZmlnLmJyb2FkY2FzdE1vZGUpIHtcbiAgICAgIHRoaXMuZ2V0Um9vdCgpLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIElEIG9mIHRoZSBzaW11bGF0aW9uIGVudGl0eSB0aGF0IG1hcHMgdG8gdGhpcyBvbmUuXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5OZXRTaW1WaXpTaW11bGF0aW9uTm9kZS5wcm90b3R5cGUuZ2V0Q29ycmVzcG9uZGluZ0VudGl0eUlkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5jb3JyZXNwb25kaW5nTm9kZUlkXztcbn07XG5cbi8qKlxuICogQHBhcmFtIHtOZXRTaW1FbnRpdHl9IGVudGl0eVxuICogQHJldHVybnMge2Jvb2xlYW59IFRSVUUgb2YgdGhpcyBWaXpFbGVtZW50IHJlcHJlc2VudHMgdGhlIGdpdmVuIEVudGl0eS5cbiAqL1xuTmV0U2ltVml6U2ltdWxhdGlvbk5vZGUucHJvdG90eXBlLnJlcHJlc2VudHNFbnRpdHkgPSBmdW5jdGlvbiAoZW50aXR5KSB7XG4gIHJldHVybiB0aGlzLmNvcnJlc3BvbmRpbmdOb2RlSWRfID09PSBlbnRpdHkuZW50aXR5SUQgJiZcbiAgICAgIHRoaXMuY29ycmVzcG9uZGluZ05vZGVVdWlkXyA9PT0gZW50aXR5LnV1aWQ7XG59O1xuXG4vKipcbiAqIEtpbGxpbmcgYSB2aXN1YWxpemF0aW9uIG5vZGUgcmVtb3ZlcyBpdHMgSUQgc28gdGhhdCBpdCB3b24ndCBjb25mbGljdCB3aXRoXG4gKiBhbm90aGVyIG5vZGUgb2YgbWF0Y2hpbmcgSUQgYmVpbmcgYWRkZWQsIGFuZCBiZWdpbnMgaXRzIGV4aXQgYW5pbWF0aW9uLlxuICogQG92ZXJyaWRlXG4gKi9cbk5ldFNpbVZpelNpbXVsYXRpb25Ob2RlLnByb3RvdHlwZS5raWxsID0gZnVuY3Rpb24gKCkge1xuICBOZXRTaW1WaXpTaW11bGF0aW9uTm9kZS5zdXBlclByb3RvdHlwZS5raWxsLmNhbGwodGhpcyk7XG4gIHRoaXMuY29ycmVzcG9uZGluZ05vZGVJZF8gPSB1bmRlZmluZWQ7XG4gIHRoaXMuY29ycmVzcG9uZGluZ05vZGVVdWlkXyA9IHVuZGVmaW5lZDtcbn07XG4iLCIvKipcbiAqIEBvdmVydmlldyBWaXN1YWxpemF0aW9uIGF1dG8tZG5zIG5vZGUuXG4gKi9cbi8vIFN0cmljdCBsaW50aW5nOiBBYnNvcmIgaW50byBnbG9iYWwgY29uZmlnIHdoZW4gcG9zc2libGVcbi8qIGpzaGludFxuIHVudXNlZDogdHJ1ZSxcbiBlcWVxZXE6IHRydWUsXG4gbWF4bGVuOiAxMjBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5yZXF1aXJlKCcuLi91dGlscycpO1xudmFyIE5ldFNpbUdsb2JhbHMgPSByZXF1aXJlKCcuL05ldFNpbUdsb2JhbHMnKTtcbnZhciBOZXRTaW1WaXpOb2RlID0gcmVxdWlyZSgnLi9OZXRTaW1WaXpOb2RlJyk7XG5cbi8qKlxuICogQHBhcmFtIHtib29sZWFufSB1c2VCYWNrZ3JvdW5kQW5pbWF0aW9uIC0gY2hhbmdlcyB0aGUgYmVoYXZpb3Igb2YgdGhpcyBub2RlXG4gKiAgICAgICAgd2hlbiBpdCdzIGluIHRoZSBiYWNrZ3JvdW5kIGxheWVyXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhdWdtZW50cyBOZXRTaW1WaXpOb2RlXG4gKi9cbnZhciBOZXRTaW1WaXpBdXRvRG5zTm9kZSA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZUJhY2tncm91bmRBbmltYXRpb24pIHtcbiAgTmV0U2ltVml6Tm9kZS5jYWxsKHRoaXMsIHVzZUJhY2tncm91bmRBbmltYXRpb24pO1xuXG4gIHRoaXMuZ2V0Um9vdCgpLmFkZENsYXNzKCdhdXRvLWRucy1ub2RlJyk7XG5cbiAgdmFyIGxldmVsQ29uZmlnID0gTmV0U2ltR2xvYmFscy5nZXRMZXZlbENvbmZpZygpO1xuICBpZiAobGV2ZWxDb25maWcuc2hvd0hvc3RuYW1lSW5HcmFwaCkge1xuICAgIHRoaXMuc2V0TmFtZSgnZG5zJyk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5zZXROYW1lKCdETlMnKTtcbiAgfVxuXG4gIHRoaXMuc2V0SXNEbnNOb2RlKHRydWUpO1xuICB0aGlzLnJlbmRlcigpO1xufTtcbk5ldFNpbVZpekF1dG9EbnNOb2RlLmluaGVyaXRzKE5ldFNpbVZpek5vZGUpO1xuIiwiLyoqXG4gKiBAb3ZlcnZpZXcgTm9kZXMgaW4gdGhlIHZpc3VhbGl6YXRpb24uXG4gKi9cbi8vIFN0cmljdCBsaW50aW5nOiBBYnNvcmIgaW50byBnbG9iYWwgY29uZmlnIHdoZW4gcG9zc2libGVcbi8qIGpzaGludFxuIHVudXNlZDogdHJ1ZSxcbiBlcWVxZXE6IHRydWUsXG4gbWF4bGVuOiAxMjBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5yZXF1aXJlKCcuLi91dGlscycpO1xudmFyIE5ldFNpbUNvbnN0YW50cyA9IHJlcXVpcmUoJy4vTmV0U2ltQ29uc3RhbnRzJyk7XG52YXIgalF1ZXJ5U3ZnRWxlbWVudCA9IHJlcXVpcmUoJy4vTmV0U2ltVXRpbHMnKS5qUXVlcnlTdmdFbGVtZW50O1xudmFyIE5ldFNpbVZpekVsZW1lbnQgPSByZXF1aXJlKCcuL05ldFNpbVZpekVsZW1lbnQnKTtcbnZhciB0d2VlbnMgPSByZXF1aXJlKCcuL3R3ZWVucycpO1xuXG52YXIgRG5zTW9kZSA9IE5ldFNpbUNvbnN0YW50cy5EbnNNb2RlO1xuXG52YXIgTmV0U2ltR2xvYmFscyA9IHJlcXVpcmUoJy4vTmV0U2ltR2xvYmFscycpO1xuXG4vKipcbiAqIFRoZSBuYXJyb3dlc3QgdGhhdCBhIHRleHQgYnViYmxlIGlzIGFsbG93ZWQgdG8gYmUuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGNvbnN0XG4gKi9cbnZhciBURVhUX01JTl9XSURUSCA9IDMwO1xuXG4vKipcbiAqIFdpZHRoIHRvIGFkZCB0byB0aGUgYnViYmxlIGJleW9uZCB0aGUgd2lkdGggb2YgdGhlIHN0dWRlbnQncyBuYW1lLlxuICogQHR5cGUge251bWJlcn1cbiAqIEBjb25zdFxuICovXG52YXIgVEVYVF9QQURESU5HX1ggPSAyMDtcblxuLyoqXG4gKiBIZWlnaHQgdG8gYWRkIHRvIHRoZSBidWJibGUgYmV5b25kIHRoZSBoZWlnaHQgb2YgdGhlIHN0dWRlbnQncyBuYW1lLlxuICogQHR5cGUge251bWJlcn1cbiAqIEBjb25zdFxuICovXG52YXIgVEVYVF9QQURESU5HX1kgPSAxMDtcblxuLyoqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHVzZUJhY2tncm91bmRBbmltYXRpb24gLSBjaGFuZ2VzIHRoZSBiZWhhdmlvciBvZiB0aGlzIG5vZGVcbiAqICAgICAgICB3aGVuIGl0J3MgaW4gdGhlIGJhY2tncm91bmQgbGF5ZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhdWdtZW50cyBOZXRTaW1WaXpFbGVtZW50XG4gKi9cbnZhciBOZXRTaW1WaXpOb2RlID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlQmFja2dyb3VuZEFuaW1hdGlvbikge1xuICBOZXRTaW1WaXpFbGVtZW50LmNhbGwodGhpcyk7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlIHtzdHJpbmd9XG4gICAqL1xuICB0aGlzLmFkZHJlc3NfID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZSB7RG5zTW9kZX1cbiAgICovXG4gIHRoaXMuZG5zTW9kZV8gPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gc3RhcnQgb3IgdXBkYXRlIGFueSB0d2VlbnMgd2hpbGUgdGhlIG5vZGUgaXMgaW4gdGhlIGJhY2tncm91bmRcbiAgICogbGF5ZXIuXG4gICAqIEBwcml2YXRlIHtib29sZWFufVxuICAgKi9cbiAgdGhpcy51c2VCYWNrZ3JvdW5kQW5pbWF0aW9uXyA9IHVzZUJhY2tncm91bmRBbmltYXRpb247XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgdGhpcy5pc1JvdXRlciA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIHRoaXMuaXNMb2NhbE5vZGUgPSBmYWxzZTtcblxuICAvKipcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICB0aGlzLmlzRG5zTm9kZSA9IGZhbHNlO1xuXG4gIC8vIEdpdmUgb3VyIHJvb3Qgbm9kZSBhIHVzZWZ1bCBjbGFzc1xuICB2YXIgcm9vdCA9IHRoaXMuZ2V0Um9vdCgpO1xuICByb290LmFkZENsYXNzKCd2aXotbm9kZScpO1xuXG4gIC8vIEdvaW5nIGZvciBhIGRpYW1ldGVyIG9mIF9jbG9zZV8gdG8gNzVcbiAgdmFyIHJhZGl1cyA9IDM3O1xuICB2YXIgdGV4dFZlcnRpY2FsT2Zmc2V0ID0gNDtcblxuICAvKipcbiAgICpcbiAgICogQHR5cGUge2pRdWVyeX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGpRdWVyeVN2Z0VsZW1lbnQoJ2NpcmNsZScpXG4gICAgICAuYXR0cignY3gnLCAwKVxuICAgICAgLmF0dHIoJ2N5JywgMClcbiAgICAgIC5hdHRyKCdyJywgcmFkaXVzKVxuICAgICAgLmFwcGVuZFRvKHJvb3QpO1xuXG4gIHRoaXMubmFtZUdyb3VwXyA9IGpRdWVyeVN2Z0VsZW1lbnQoJ2cnKVxuICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwwKScpXG4gICAgICAuYXBwZW5kVG8ocm9vdCk7XG5cbiAgdGhpcy5kaXNwbGF5TmFtZV8gPSBqUXVlcnlTdmdFbGVtZW50KCd0ZXh0JylcbiAgICAgIC5hdHRyKCd4JywgMClcbiAgICAgIC5hdHRyKCd5JywgdGV4dFZlcnRpY2FsT2Zmc2V0KTtcblxuICB0aGlzLm5hbWVCb3hfID0galF1ZXJ5U3ZnRWxlbWVudCgncmVjdCcpXG4gICAgICAuYWRkQ2xhc3MoJ25hbWUtYm94Jyk7XG5cbiAgdGhpcy5uYW1lR3JvdXBfXG4gICAgICAuYXBwZW5kKHRoaXMubmFtZUJveF8pXG4gICAgICAuYXBwZW5kKHRoaXMuZGlzcGxheU5hbWVfKTtcblxuICB0aGlzLmFkZHJlc3NHcm91cF8gPSBqUXVlcnlTdmdFbGVtZW50KCdnJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsMzApJylcbiAgICAgIC5oaWRlKClcbiAgICAgIC5hcHBlbmRUbyhyb290KTtcblxuICB0aGlzLmFkZHJlc3NCb3hfID0galF1ZXJ5U3ZnRWxlbWVudCgncmVjdCcpXG4gICAgICAuYWRkQ2xhc3MoJ2FkZHJlc3MtYm94JylcbiAgICAgIC5hcHBlbmRUbyh0aGlzLmFkZHJlc3NHcm91cF8pO1xuXG4gIHRoaXMuYWRkcmVzc1RleHRfID0galF1ZXJ5U3ZnRWxlbWVudCgndGV4dCcpXG4gICAgICAuYWRkQ2xhc3MoJ2FkZHJlc3MtYm94JylcbiAgICAgIC5hdHRyKCd4JywgMClcbiAgICAgIC5hdHRyKCd5JywgdGV4dFZlcnRpY2FsT2Zmc2V0KVxuICAgICAgLnRleHQoJz8nKVxuICAgICAgLmFwcGVuZFRvKHRoaXMuYWRkcmVzc0dyb3VwXyk7XG5cbiAgLy8gU2V0IGFuIGluaXRpYWwgZGVmYXVsdCB0d2VlbiBmb3Igem9vbWluZyBpbiBmcm9tIG5vdGhpbmcuXG4gIGlmICh0aGlzLnVzZUJhY2tncm91bmRBbmltYXRpb25fKSB7XG4gICAgdGhpcy5zbmFwVG9TY2FsZSgwKTtcbiAgICB0aGlzLnR3ZWVuVG9TY2FsZSgwLjUsIDgwMCwgdHdlZW5zLmVhc2VPdXRFbGFzdGljKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnNuYXBUb1NjYWxlKDAuNSk7XG4gIH1cbn07XG5OZXRTaW1WaXpOb2RlLmluaGVyaXRzKE5ldFNpbVZpekVsZW1lbnQpO1xuXG4vKipcbiAqIEZsYWcgdGhpcyB2aXogbm9kZSBhcyB0aGUgc2ltdWxhdGlvbiBsb2NhbCBub2RlLlxuICovXG5OZXRTaW1WaXpOb2RlLnByb3RvdHlwZS5zZXRJc0xvY2FsTm9kZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5pc0xvY2FsTm9kZSA9IHRydWU7XG4gIHRoaXMuZ2V0Um9vdCgpLmFkZENsYXNzKCdsb2NhbC1ub2RlJyk7XG59O1xuXG4vKipcbiAqIENoYW5nZSB0aGUgZGlzcGxheSBuYW1lIG9mIHRoZSB2aXogbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IG5ld05hbWVcbiAqL1xuTmV0U2ltVml6Tm9kZS5wcm90b3R5cGUuc2V0TmFtZSA9IGZ1bmN0aW9uIChuZXdOYW1lKSB7XG4gIHRoaXMuZGlzcGxheU5hbWVfLnRleHQobmV3TmFtZSk7XG4gIHRoaXMucmVzaXplTmFtZUJveF8oKTtcbn07XG5cbi8qKiBAcHJpdmF0ZSAqL1xuTmV0U2ltVml6Tm9kZS5wcm90b3R5cGUucmVzaXplTmFtZUJveF8gPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMucmVzaXplUmVjdFRvVGV4dF8odGhpcy5uYW1lQm94XywgdGhpcy5kaXNwbGF5TmFtZV8pO1xufTtcblxuLyoqIEBwcml2YXRlICovXG5OZXRTaW1WaXpOb2RlLnByb3RvdHlwZS5yZXNpemVBZGRyZXNzQm94XyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5yZXNpemVSZWN0VG9UZXh0Xyh0aGlzLmFkZHJlc3NCb3hfLCB0aGlzLmFkZHJlc3NUZXh0Xyk7XG59O1xuXG4vKipcbiAqIFV0aWxpdHkgZm9yIHJlc2l6aW5nIGEgYmFja2dyb3VuZCByb3VuZGVkLXJlY3QgdG8gZml0IHRoZSBnaXZlbiB0ZXh0IGVsZW1lbnQuXG4gKiBAcGFyYW0ge2pRdWVyeX0gcmVjdFxuICogQHBhcmFtIHtqUXVlcnl9IHRleHRcbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVZpek5vZGUucHJvdG90eXBlLnJlc2l6ZVJlY3RUb1RleHRfID0gZnVuY3Rpb24gKHJlY3QsIHRleHQpIHtcbiAgdHJ5IHtcbiAgICB2YXIgYm94ID0gdGV4dFswXS5nZXRCQm94KCk7XG4gICAgdmFyIHdpZHRoID0gTWF0aC5tYXgoVEVYVF9NSU5fV0lEVEgsIGJveC53aWR0aCArIFRFWFRfUEFERElOR19YKTtcbiAgICB2YXIgaGVpZ2h0ID0gYm94LmhlaWdodCArIFRFWFRfUEFERElOR19ZO1xuICAgIHZhciBoYWxmV2lkdGggPSB3aWR0aCAvIDI7XG4gICAgdmFyIGhhbGZIZWlnaHQgPSBoZWlnaHQgLyAyO1xuICAgIHJlY3QuYXR0cigneCcsIC1oYWxmV2lkdGgpXG4gICAgICAgIC5hdHRyKCd5JywgLWhhbGZIZWlnaHQpXG4gICAgICAgIC5hdHRyKCdyeCcsIGhhbGZIZWlnaHQpXG4gICAgICAgIC5hdHRyKCdyeScsIGhhbGZIZWlnaHQpXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsIHdpZHRoKVxuICAgICAgICAuYXR0cignaGVpZ2h0JywgaGVpZ2h0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIEp1c3QgYWxsb3cgdGhpcyB0byBiZSBhIG5vLW9wIGlmIGl0IGZhaWxzLiAgSW4gc29tZSBicm93c2VycyxcbiAgICAvLyBnZXRCQm94IHdpbGwgdGhyb3cgaWYgdGhlIGVsZW1lbnQgaXMgbm90IHlldCBpbiB0aGUgRE9NLlxuICB9XG59O1xuXG4vKipcbiAqIEtpbGxpbmcgYSB2aXN1YWxpemF0aW9uIG5vZGUgcmVtb3ZlcyBpdHMgSUQgc28gdGhhdCBpdCB3b24ndCBjb25mbGljdCB3aXRoXG4gKiBhbm90aGVyIG5vZGUgb2YgbWF0Y2hpbmcgSUQgYmVpbmcgYWRkZWQsIGFuZCBiZWdpbnMgaXRzIGV4aXQgYW5pbWF0aW9uLlxuICogQG92ZXJyaWRlXG4gKi9cbk5ldFNpbVZpek5vZGUucHJvdG90eXBlLmtpbGwgPSBmdW5jdGlvbiAoKSB7XG4gIE5ldFNpbVZpek5vZGUuc3VwZXJQcm90b3R5cGUua2lsbC5jYWxsKHRoaXMpO1xuICB0aGlzLnN0b3BBbGxBbmltYXRpb24oKTtcbiAgdGhpcy50d2VlblRvU2NhbGUoMCwgMjAwLCB0d2VlbnMuZWFzZUluUXVhZCk7XG59O1xuXG4vKipcbiAqIFByb3ZpZGVzIGRyaWZ0aW5nIGFuaW1hdGlvbiBmb3Igbm9kZXMgaW4gdGhlIGJhY2tncm91bmQuXG4gKiBAcGFyYW0ge1J1bkxvb3AuQ2xvY2t9IGNsb2NrXG4gKi9cbk5ldFNpbVZpek5vZGUucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiAoY2xvY2spIHtcbiAgTmV0U2ltVml6Tm9kZS5zdXBlclByb3RvdHlwZS50aWNrLmNhbGwodGhpcywgY2xvY2spO1xuXG4gIC8vIFRyaWdnZXIgYSBuZXcgZHJpZnQgaWYgd2UncmUgaW4gdGhlIGJhY2tncm91bmQgYW5kIHRoZSBsYXN0IG9uZSBmaW5pc2hlZC5cbiAgaWYgKHRoaXMudXNlQmFja2dyb3VuZEFuaW1hdGlvbl8gJiYgIXRoaXMuaXNGb3JlZ3JvdW5kICYmXG4gICAgICB0aGlzLnR3ZWVuc18ubGVuZ3RoID09PSAwKSB7XG4gICAgdmFyIHJhbmRvbVggPSAzMDAgKiBNYXRoLnJhbmRvbSgpIC0gMTUwO1xuICAgIHZhciByYW5kb21ZID0gMzAwICogTWF0aC5yYW5kb20oKSAtIDE1MDtcbiAgICB0aGlzLnR3ZWVuVG9Qb3NpdGlvbihyYW5kb21YLCByYW5kb21ZLCAyMDAwMCwgdHdlZW5zLmVhc2VJbk91dFF1YWQpO1xuICB9XG59O1xuXG4vKipcbiAqIFdoZW4gdmlzaWJsZSwgcnVucyBldmVyeSBmcmFtZVxuICogQHBhcmFtIHtSdW5Mb29wLkNsb2NrfSBbY2xvY2tdXG4gKi9cbk5ldFNpbVZpek5vZGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChjbG9jaykge1xuICBOZXRTaW1WaXpOb2RlLnN1cGVyUHJvdG90eXBlLnJlbmRlci5jYWxsKHRoaXMsIGNsb2NrKTtcblxuICAvLyBJZiBjdXJyZW50bHkgYW5pbWF0aW5nLCBhZGp1c3QgdGV4dCBib3ggc2l6ZXMgdG8gbWF0Y2hcbiAgaWYgKHRoaXMuaXNGb3JlZ3JvdW5kICYmIHRoaXMudHdlZW5zXy5sZW5ndGggPiAwKSB7XG4gICAgdGhpcy5yZXNpemVOYW1lQm94XygpO1xuICAgIHRoaXMucmVzaXplQWRkcmVzc0JveF8oKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzRm9yZWdyb3VuZFxuICovXG5OZXRTaW1WaXpOb2RlLnByb3RvdHlwZS5vbkRlcHRoQ2hhbmdlID0gZnVuY3Rpb24gKGlzRm9yZWdyb3VuZCkge1xuICBOZXRTaW1WaXpOb2RlLnN1cGVyUHJvdG90eXBlLm9uRGVwdGhDaGFuZ2UuY2FsbCh0aGlzLCBpc0ZvcmVncm91bmQpO1xuXG4gIC8vIERvbid0IGFkZCB0d2VlbnMgaWYgdGhpcyBub2RlIGhhcyBiZWVuIGtpbGxlZFxuICBpZiAodGhpcy5pc0R5aW5nKCkgfHwgdGhpcy5pc0RlYWQoKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMudHdlZW5zXy5sZW5ndGggPSAwO1xuICBpZiAoaXNGb3JlZ3JvdW5kKSB7XG4gICAgdGhpcy50d2VlblRvU2NhbGUoMSwgNjAwLCB0d2VlbnMuZWFzZU91dEVsYXN0aWMpO1xuICB9IGVsc2UgaWYgKHRoaXMudXNlQmFja2dyb3VuZEFuaW1hdGlvbl8pIHtcbiAgICB0aGlzLnR3ZWVuVG9TY2FsZSgwLjUsIDYwMCwgdHdlZW5zLmVhc2VPdXRFbGFzdGljKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnNuYXBUb1NjYWxlKDAuNSk7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGFkZHJlc3NcbiAqL1xuTmV0U2ltVml6Tm9kZS5wcm90b3R5cGUuc2V0QWRkcmVzcyA9IGZ1bmN0aW9uIChhZGRyZXNzKSB7XG4gIHRoaXMuYWRkcmVzc18gPSBhZGRyZXNzO1xuICB0aGlzLnVwZGF0ZUFkZHJlc3NEaXNwbGF5KCk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7RE5TTW9kZX0gbmV3RG5zTW9kZVxuICovXG5OZXRTaW1WaXpOb2RlLnByb3RvdHlwZS5zZXREbnNNb2RlID0gZnVuY3Rpb24gKG5ld0Ruc01vZGUpIHtcbiAgdGhpcy5kbnNNb2RlXyA9IG5ld0Ruc01vZGU7XG4gIHRoaXMudXBkYXRlQWRkcmVzc0Rpc3BsYXkoKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtib29sZWFufSBpc0Ruc05vZGVcbiAqL1xuTmV0U2ltVml6Tm9kZS5wcm90b3R5cGUuc2V0SXNEbnNOb2RlID0gZnVuY3Rpb24gKGlzRG5zTm9kZSkge1xuICB0aGlzLmlzRG5zTm9kZSA9IGlzRG5zTm9kZTtcbiAgdGhpcy51cGRhdGVBZGRyZXNzRGlzcGxheSgpO1xufTtcblxuTmV0U2ltVml6Tm9kZS5wcm90b3R5cGUudXBkYXRlQWRkcmVzc0Rpc3BsYXkgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBsZXZlbENvbmZpZyA9IE5ldFNpbUdsb2JhbHMuZ2V0TGV2ZWxDb25maWcoKTtcblxuICAvLyBJZiB3ZSBhcmUgbmV2ZXIgYXNzaWduZWQgYW4gYWRkcmVzcywgZG9uJ3QgdHJ5IHRvIHNob3cgb25lLlxuICAvLyBJbiBicm9hZGNhc3QgbW9kZSB3ZSB3aWxsIGJlIGFzc2lnbmVkIGFkZHJlc3NlcyBidXQgbmV2ZXIgdXNlIHRoZW0sIHNvXG4gIC8vICAgdGhleSBzaG91bGQgYmUgaGlkZGVuLlxuICAvLyBSb3V0ZXJzIG5ldmVyIHNob3cgdGhlaXIgYWRkcmVzcy5cbiAgaWYgKHRoaXMuYWRkcmVzc18gPT09IHVuZGVmaW5lZCB8fCBsZXZlbENvbmZpZy5icm9hZGNhc3RNb2RlIHx8IHRoaXMuaXNSb3V0ZXIpIHtcbiAgICB0aGlzLmFkZHJlc3NHcm91cF8uaGlkZSgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuYWRkcmVzc0dyb3VwXy5zaG93KCk7XG4gIGlmICh0aGlzLmRuc01vZGVfID09PSBEbnNNb2RlLk5PTkUpIHtcbiAgICB0aGlzLmFkZHJlc3NUZXh0Xy50ZXh0KHRoaXMuYWRkcmVzc18gIT09IHVuZGVmaW5lZCA/IHRoaXMuYWRkcmVzc18gOiAnPycpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuYWRkcmVzc1RleHRfLnRleHQodGhpcy5pc0xvY2FsTm9kZSB8fCB0aGlzLmlzRG5zTm9kZSA/IHRoaXMuYWRkcmVzc18gOiAnPycpO1xuICB9XG4gIHRoaXMucmVzaXplQWRkcmVzc0JveF8oKTtcbn07XG4iLCIvKipcbiAqIEBvdmVydmlldyBCYXNlIHR5cGUgZm9yIHZpc2libGUgZWxlbWVudHMgaW4gdGhlIHZpc3VhbGl6YXRpb24uXG4gKi9cbi8vIFN0cmljdCBsaW50aW5nOiBBYnNvcmIgaW50byBnbG9iYWwgY29uZmlnIHdoZW4gcG9zc2libGVcbi8qIGpzaGludFxuIHVudXNlZDogdHJ1ZSxcbiBlcWVxZXE6IHRydWUsXG4gbWF4bGVuOiAxMjBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgalF1ZXJ5U3ZnRWxlbWVudCA9IHJlcXVpcmUoJy4vTmV0U2ltVXRpbHMnKS5qUXVlcnlTdmdFbGVtZW50O1xudmFyIHR3ZWVucyA9IHJlcXVpcmUoJy4vdHdlZW5zJyk7XG5cbi8qKlxuICogQSBWaXpFbGVtZW50IGlzIGFuIG9iamVjdCB0aGF0ICBoYXMgYSByZXByZXNlbnRhdGlvbiBpbiB0aGUgbmV0d29ya1xuICogdmlzdWFsaXphdGlvbi4gIEl0cyByb2xlIGlzIHRvIG1haW50YWluIHRoYXQgdmlzdWFsIHJlcHJlc2VudGF0aW9uLlxuICogQSBWaXpFbGVtZW50IGhhcyBoZWxwZXJzIGZvciBwb3NpdGlvbmluZywgc2NhbGluZyBhbmQgdHdlZW5pbmcuXG4gKiBFdmVyeSBWaXpFbGVtZW50IGhhcyBhIHJvb3QgZWxlbWVudCB3aGljaCBpcyBhIDxnPiB0YWcsIGFuIFNWRyBcImdyb3VwXCJcbiAqIHRoYXQgY29udGFpbnMgdGhlIG90aGVyIGNvbXBvbmVudHMgdGhhdCB3aWxsIGFjdHVhbGx5IGRyYXcuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbnZhciBOZXRTaW1WaXpFbGVtZW50ID0gbW9kdWxlLmV4cG9ydHMgPSAgZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMucG9zWCA9IDA7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICB0aGlzLnBvc1kgPSAwO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgdGhpcy5zY2FsZSA9IDE7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgdGhpcy5pc0ZvcmVncm91bmQgPSBmYWxzZTtcblxuICAvKipcbiAgICogUm9vdCBTVkcgPGc+IChncm91cCkgZWxlbWVudCBmb3IgdGhpcyBvYmplY3QuXG4gICAqIEB0eXBlIHtqUXVlcnl9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnJvb3RHcm91cF8gPSBqUXVlcnlTdmdFbGVtZW50KCdnJyk7XG5cbiAgLyoqXG4gICAqIFNldCBvZiB0d2VlbnMgd2Ugc2hvdWxkIGN1cnJlbnRseSBiZSBydW5uaW5nIG9uIHRoaXMgbm9kZS5cbiAgICogUHJvY2Vzc2VkIGJ5IHRpY2soKVxuICAgKiBAdHlwZSB7QXJyYXkuPGV4cG9ydHMuVHdlZW5WYWx1ZVRvPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMudHdlZW5zXyA9IFtdO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuaXNEZWFkXyA9IGZhbHNlO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7alF1ZXJ5fSB3cmFwcGVyIGFyb3VuZCByb290IDxnPiBlbGVtZW50XG4gKi9cbk5ldFNpbVZpekVsZW1lbnQucHJvdG90eXBlLmdldFJvb3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnJvb3RHcm91cF87XG59O1xuXG4vKipcbiAqIEJlZ2lucyB0aGUgcHJvY2VzcyBvZiBkZXN0cm95aW5nIHRoaXMgVml6RWxlbWVudC4gIE9uY2Ugc3RhcnRlZCwgdGhpc1xuICogcHJvY2VzcyBjYW5ub3QgYmUgc3RvcHBlZC5cbiAqIFRoaXMgbWV0aG9kIGNhbiBiZSBvdmVycmlkZGVuIHRvIHRyaWdnZXIgYW4gXCJvbi1kZWF0aFwiIGFuaW1hdGlvbi5cbiAqL1xuTmV0U2ltVml6RWxlbWVudC5wcm90b3R5cGUua2lsbCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5pc0RlYWRfID0gdHJ1ZTtcbn07XG5cbi8qKlxuICogQHJldHVybnMge2Jvb2xlYW59IHdoZXRoZXIgdGhpcyBlbnRpdHkgaXMgZG9uZSB3aXRoIGl0cyBkZWF0aCBhbmltYXRpb25cbiAqICAgICAgICAgIGFuZCBpcyByZWFkeSB0byBiZSBjbGVhbmVkIHVwIGJ5IHRoZSB2aXN1YWxpemF0aW9uIG1hbmFnZXIuXG4gKiAgICAgICAgICBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBoZXJlIHJldHVybnMgVFJVRSBhcyBzb29uIGFzIGtpbGwoKVxuICogICAgICAgICAgaXMgY2FsbGVkIGFuZCBhbGwgYW5pbWF0aW9ucyBhcmUgY29tcGxldGVkLlxuICovXG5OZXRTaW1WaXpFbGVtZW50LnByb3RvdHlwZS5pc0RlYWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmlzRGVhZF8gJiYgdGhpcy50d2VlbnNfLmxlbmd0aCA9PT0gMDtcbn07XG5cbi8qKlxuICogQHJldHVybnMge2Jvb2xlYW59IHdoZXRoZXIgdGhpcyBlbnRpdHkgaXMgcGxheWluZyBpdHMgZmluYWwgYW5pbWF0aW9uXG4gKiAgICAgICAgICBhbmQgd2lsbCBiZSByZWFkeSB0byBiZSBjbGVhbmVkIHVwIGJ5IHRoZSB2aXN1YWxpemF0aW9uIG1hbmFnZXJcbiAqICAgICAgICAgIHNvb24uXG4gKi9cbk5ldFNpbVZpekVsZW1lbnQucHJvdG90eXBlLmlzRHlpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmlzRGVhZF8gJiYgdGhpcy50d2VlbnNfLmxlbmd0aCA+IDA7XG59O1xuXG4vKipcbiAqIFVwZGF0ZSBhbGwgb2YgdGhlIHR3ZWVucyBjdXJyZW50bHkgcnVubmluZyBvbiB0aGlzIFZpekVsZW1lbnQgKHdoaWNoIHdpbGxcbiAqIHByb2JhYmx5IG1vZGlmeSBpdHMgcHJvcGVydGllcykgYW5kIHRoZW4gcmVtb3ZlIGFueSB0d2VlbnMgdGhhdCBhcmUgY29tcGxldGVkXG4gKiBmcm9tIHRoZSBsaXN0LlxuICovXG5OZXRTaW1WaXpFbGVtZW50LnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gKCkge1xufTtcblxuLyoqXG4gKiBVcGRhdGUgdGhlIHJvb3QgZ3JvdXAncyBwcm9wZXJ0aWVzIHRvIHJlZmxlY3Qgb3VyIGN1cnJlbnQgcG9zaXRpb25cbiAqIGFuZCBzY2FsZS5cbiAqIEBwYXJhbSB7UnVuTG9vcC5DbG9ja30gW2Nsb2NrXSAtIHNvbWV0aW1lcyBvbWl0dGVkIGR1cmluZyBzZXR1cFxuICovXG5OZXRTaW1WaXpFbGVtZW50LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoY2xvY2spIHtcbiAgaWYgKCFjbG9jaykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIGNhY2hlIGluaXRpYWwgc2V0dGluZ3MgaGVyZTsgd2UgY2hlY2sgdGhlbSBsYXRlciB0byBzZWUgaWYgYW55dGhpbmdcbiAgLy8gaGFzIGFjdHVhbGx5IGNoYW5nZWRcbiAgdmFyIHBvc1ggPSB0aGlzLnBvc1g7XG4gIHZhciBwb3NZID0gdGhpcy5wb3NZO1xuICB2YXIgc2NhbGUgPSB0aGlzLnNjYWxlO1xuXG4gIC8vIFVwZGF0ZSB0d2VlbnMgaW4gdGhlIHJlbmRlciBsb29wIHNvIHRoZXkgYXJlIHZlcnkgc21vb3RoXG4gIHRoaXMudHdlZW5zXy5mb3JFYWNoKGZ1bmN0aW9uICh0d2Vlbikge1xuICAgIHR3ZWVuLnRpY2soY2xvY2spO1xuICB9KTtcbiAgdGhpcy50d2VlbnNfID0gdGhpcy50d2VlbnNfLmZpbHRlcihmdW5jdGlvbiAodHdlZW4pIHtcbiAgICByZXR1cm4gIXR3ZWVuLmlzRmluaXNoZWQ7XG4gIH0pO1xuXG4gIC8vIElmIG5vdGhpbmcgaGFzIGNoYW5nZWQsIGRvbid0IGJvdGhlciB0byB1cGRhdGUgdHJhbnNmb3JtXG4gIGlmIChwb3NYICE9PSB0aGlzLnBvc1ggfHxcbiAgICAgIHBvc1kgIT09IHRoaXMucG9zWSB8fFxuICAgICAgc2NhbGUgIT09IHRoaXMuc2NhbGUpIHtcbiAgICB2YXIgdHJhbnNmb3JtID0gJ3RyYW5zbGF0ZSgnICsgdGhpcy5wb3NYICsgJyAnICsgdGhpcy5wb3NZICsgJyknICtcbiAgICAgICAgJyBzY2FsZSgnICsgdGhpcy5zY2FsZSArICcpJztcbiAgICB0aGlzLnJvb3RHcm91cF8uYXR0cigndHJhbnNmb3JtJywgdHJhbnNmb3JtKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzRm9yZWdyb3VuZFxuICovXG5OZXRTaW1WaXpFbGVtZW50LnByb3RvdHlwZS5vbkRlcHRoQ2hhbmdlID0gZnVuY3Rpb24gKGlzRm9yZWdyb3VuZCkge1xuICB0aGlzLmlzRm9yZWdyb3VuZCA9IGlzRm9yZWdyb3VuZDtcbn07XG5cbi8qKlxuICogVGhyb3cgYXdheSBhbGwgZXhpc3RpbmcgdHdlZW5zIG9uIHRoaXMgb2JqZWN0LlxuICovXG5OZXRTaW1WaXpFbGVtZW50LnByb3RvdHlwZS5zdG9wQWxsQW5pbWF0aW9uID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnR3ZWVuc18ubGVuZ3RoID0gMDtcbn07XG5cbi8qKlxuICogU3RvcHMgYW55IGV4aXN0aW5nIG1vdGlvbiBhbmltYXRpb24gYW5kIGJlZ2lucyBhbiBhbmltYXRlZCBtb3Rpb24gdG8gdGhlXG4gKiBnaXZlbiBjb29yZGluYXRlcy4gIE5vdGU6IFRoaXMgYW5pbWF0ZXMgdGhlIFZpekVsZW1lbnQncyByb290IGdyb3VwLlxuICogQHBhcmFtIHtudW1iZXJ9IG5ld1ggZ2l2ZW4gaW4gU1ZHIHBvaW50c1xuICogQHBhcmFtIHtudW1iZXJ9IG5ld1kgZ2l2ZW4gaW4gU1ZHIHBvaW50c1xuICogQHBhcmFtIHtudW1iZXJ9IFtkdXJhdGlvbj02MDBdIGluIG1pbGxpc2Vjb25kc1xuICogQHBhcmFtIHtUd2VlbkZ1bmN0aW9ufSBbdHdlZW5GdW5jdGlvbj1saW5lYXJdXG4gKi9cbk5ldFNpbVZpekVsZW1lbnQucHJvdG90eXBlLnR3ZWVuVG9Qb3NpdGlvbiA9IGZ1bmN0aW9uIChuZXdYLCBuZXdZLCBkdXJhdGlvbixcbiAgICB0d2VlbkZ1bmN0aW9uKSB7XG4gIC8vIERvbid0IGFjY2VwdCBuZXcgYW5pbWF0aW9uIGNvbW1hbmRzIGlmIHdlJ3ZlIGFscmVhZHkgYmVlbiBraWxsZWRcbiAgaWYgKHRoaXMuaXNEeWluZygpIHx8IHRoaXMuaXNEZWFkKCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBSZW1vdmUgYW55IGV4aXN0aW5nIHR3ZWVucyBjb250cm9sbGluZyBwb3NYIG9yIHBvc1lcbiAgdGhpcy5yZW1vdmVBbGxUd2VlbnNPblByb3BlcnRpZXMoWydwb3NYJywgJ3Bvc1knXSk7XG5cbiAgLy8gQWRkIHR3byBuZXcgdHdlZW5zLCBvbmUgZm9yIGVhY2ggYXhpc1xuICBpZiAoZHVyYXRpb24gPiAwKSB7XG4gICAgdGhpcy50d2VlbnNfLnB1c2gobmV3IHR3ZWVucy5Ud2VlblZhbHVlVG8odGhpcywgJ3Bvc1gnLCBuZXdYLCBkdXJhdGlvbixcbiAgICAgICAgdHdlZW5GdW5jdGlvbikpO1xuICAgIHRoaXMudHdlZW5zXy5wdXNoKG5ldyB0d2VlbnMuVHdlZW5WYWx1ZVRvKHRoaXMsICdwb3NZJywgbmV3WSwgZHVyYXRpb24sXG4gICAgICAgIHR3ZWVuRnVuY3Rpb24pKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnBvc1ggPSBuZXdYO1xuICAgIHRoaXMucG9zWSA9IG5ld1k7XG4gIH1cblxufTtcblxuLyoqXG4gKiBBbGlhcyBmb3IgY2FsbGluZyB0d2VlblRvUG9zaXRpb24gd2l0aCBhIHplcm8gZHVyYXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBuZXdYIGdpdmVuIGluIFNWRyBwb2ludHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZXdZIGdpdmVuIGluIFNWRyBwb2ludHNcbiAqL1xuTmV0U2ltVml6RWxlbWVudC5wcm90b3R5cGUuc25hcFRvUG9zaXRpb24gPSBmdW5jdGlvbiAobmV3WCwgbmV3WSkge1xuICB0aGlzLnR3ZWVuVG9Qb3NpdGlvbihuZXdYLCBuZXdZLCAwKTtcbn07XG5cbi8qKlxuICogU3RvcHMgYW55IGV4aXN0aW5nIGFuaW1hdGlvbiBvZiB0aGUgZW50aXR5J3Mgc2NhbGUgYW5kIGJlZ2lucyBhbiBhbmltYXRlZFxuICogY2hhbmdlIHRvIHRoZSBnaXZlbiB0YXJnZXQgc2NhbGUgdmFsdWUuICBOb3RlOiB0aGlzIGFuaW1hdGVzIHRoZSBWaXpFbGVtZW50J3NcbiAqIHJvb3QgZ3JvdXAuXG4gKiBAcGFyYW0ge251bWJlcn0gbmV3U2NhbGUgd2hlcmUgMS4wIGlzIDEwMCUgKHVuc2NhbGVkKVxuICogQHBhcmFtIHtudW1iZXJ9IFtkdXJhdGlvbj02MDBdIGluIG1pbGxpc2Vjb25kc1xuICogQHBhcmFtIHtUd2VlbkZ1bmN0aW9ufSBbdHdlZW5GdW5jdGlvbj1saW5lYXJdXG4gKi9cbk5ldFNpbVZpekVsZW1lbnQucHJvdG90eXBlLnR3ZWVuVG9TY2FsZSA9IGZ1bmN0aW9uIChuZXdTY2FsZSwgZHVyYXRpb24sXG4gICAgdHdlZW5GdW5jdGlvbikge1xuICAvLyBSZW1vdmUgZXhpc3Rpbmcgc2NhbGUgdHdlZW5zXG4gIHRoaXMucmVtb3ZlQWxsVHdlZW5zT25Qcm9wZXJ0eSgnc2NhbGUnKTtcblxuICAvLyBPbiBub256ZXJvIGR1cmF0aW9uLCBhZGQgdHdlZW4gdG8gdGFyZ2V0IHNjYWxlLiAgT3RoZXJ3aXNlIGp1c3Qgc2V0IGl0LlxuICBpZiAoZHVyYXRpb24gPiAwKSB7XG4gICAgdGhpcy50d2VlbnNfLnB1c2gobmV3IHR3ZWVucy5Ud2VlblZhbHVlVG8odGhpcywgJ3NjYWxlJywgbmV3U2NhbGUsIGR1cmF0aW9uLFxuICAgICAgICB0d2VlbkZ1bmN0aW9uKSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5zY2FsZSA9IG5ld1NjYWxlO1xuICB9XG59O1xuXG5OZXRTaW1WaXpFbGVtZW50LnByb3RvdHlwZS5kb0FmdGVyRGVsYXkgPSBmdW5jdGlvbiAoZGVsYXksIGNhbGxiYWNrKSB7XG4gIGlmIChkZWxheSA+IDApIHtcbiAgICB0aGlzLnR3ZWVuc18ucHVzaChuZXcgdHdlZW5zLkRvQWZ0ZXJEZWxheSh0aGlzLCBkZWxheSwgY2FsbGJhY2spKTtcbiAgfSBlbHNlIHtcbiAgICBjYWxsYmFjaygpO1xuICB9XG59O1xuXG4vKipcbiAqIFJlbW92ZSAoc3RvcCkgYWxsIGFjdGl2ZSB0d2VlbnMgdGhhdCBjb250cm9sIHRoZSBnaXZlbiBwcm9wZXJ0eSBvbiB0aGlzXG4gKiB2aXN1YWxpemF0aW9uIGVudGl0eS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eU5hbWVcbiAqL1xuTmV0U2ltVml6RWxlbWVudC5wcm90b3R5cGUucmVtb3ZlQWxsVHdlZW5zT25Qcm9wZXJ0eSA9IGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWUpIHtcbiAgdGhpcy5yZW1vdmVBbGxUd2VlbnNPblByb3BlcnRpZXMoW3Byb3BlcnR5TmFtZV0pO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgKHN0b3ApIGFsbCBhY3RpdmUgdHdlZW5zIHRoYXQgY29udHJvbCBhbnkgb2YgdGhlIGdpdmVuIHByb3BlcnRpZXNcbiAqIG9uIHRoaXMgdmlzdWFsaXphdGlvbiBlbnRpdHkuXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBwcm9wZXJ0eU5hbWVzXG4gKi9cbk5ldFNpbVZpekVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUFsbFR3ZWVuc09uUHJvcGVydGllcyA9IGZ1bmN0aW9uIChwcm9wZXJ0eU5hbWVzKSB7XG4gIHRoaXMudHdlZW5zXyA9IHRoaXMudHdlZW5zXy5maWx0ZXIoZnVuY3Rpb24gKHR3ZWVuKSB7XG4gICAgdmFyIHRhcmdldHNUaGlzRW50aXR5ID0gdHdlZW4udGFyZ2V0ID09PSB0aGlzO1xuICAgIHZhciBpc1JlbW92YWJsZVByb3BlcnR5ID0gcHJvcGVydHlOYW1lcy5zb21lKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICByZXR1cm4gdHdlZW4ucHJvcGVydHlOYW1lID09PSBuYW1lO1xuICAgIH0pO1xuXG4gICAgLy8gSW52ZXJ0IGZvciBmaWx0ZXIoKSBiZWNhdXNlIHdlIHdhbnQgdG8ga2VlcCBldmVyeXRoaW5nIEJVVCB0aGUgbWF0Y2hlZFxuICAgIC8vIHByb3BlcnRpZXNcbiAgICByZXR1cm4gISh0YXJnZXRzVGhpc0VudGl0eSAmJiBpc1JlbW92YWJsZVByb3BlcnR5KTtcbiAgfSwgdGhpcyk7XG59O1xuXG4vKipcbiAqIEFsaWFzIGZvciBjYWxsaW5nIHR3ZWVuVG9TY2FsZSB3aXRoIGEgemVybyBkdXJhdGlvbi5cbiAqIEBwYXJhbSB7bnVtYmVyfSBuZXdTY2FsZSB3aGVyZSAxLjAgaXMgMTAwJSAodW5zY2FsZWQpXG4gKi9cbk5ldFNpbVZpekVsZW1lbnQucHJvdG90eXBlLnNuYXBUb1NjYWxlID0gZnVuY3Rpb24gKG5ld1NjYWxlKSB7XG4gIHRoaXMudHdlZW5Ub1NjYWxlKG5ld1NjYWxlLCAwKTtcbn07XG4iLCIvKipcbiAqIEBvdmVydmlldyBUd2VlbiBmdW5jdGlvbnMgdXNlZCB0byBhbmltYXRlIHZpc3VhbGl6YXRpb24gZWxlbWVudHMuXG4gKi9cbi8vIFN0cmljdCBsaW50aW5nOiBBYnNvcmIgaW50byBnbG9iYWwgY29uZmlnIHdoZW4gcG9zc2libGVcbi8qIGpzaGludFxuIHVudXNlZDogdHJ1ZSxcbiBlcWVxZXE6IHRydWUsXG4gbWF4bGVuOiAxMjBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdmFsdWVPciA9IHJlcXVpcmUoJy4uL3V0aWxzJykudmFsdWVPcjtcblxuLyoqXG4gKiBEZWZhdWx0IHR3ZWVuIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kc1xuICogQHR5cGUge251bWJlcn1cbiAqIEBjb25zdFxuICovXG52YXIgREVGQVVMVF9UV0VFTl9EVVJBVElPTiA9IDYwMDtcblxuLyoqXG4gKiBBIGZvdXItYXJnIGludGVycG9sYXRpb24gZnVuY3Rpb24uXG4gKlxuICogQHR5cGVkZWYge2Z1bmN0aW9ufSBUd2VlbkZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gdCAtIGN1cnJlbnQgVGltZSwgaW4gbWlsbGlzZWNvbmRzIHNpbmNlIHR3ZWVuIGJlZ2FuXG4gKiBAcGFyYW0ge251bWJlcn0gYiAtIEJlZ2luIHZhbHVlXG4gKiBAcGFyYW0ge251bWJlcn0gYyAtIGZpbmFsIENoYW5nZSBpbiB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IGQgLSB0b3RhbCB0d2VlbiBEdXJhdGlvblxuICogQHJldHVybnMge251bWJlcn0gdGhlIGludGVycG9sYXRlZCB2YWx1ZSBmb3IgdGhlIGN1cnJlbnQgdGltZVxuICovXG5cbi8qKlxuICogSW50ZXJwb2xhdGVzIHdpdGggYSBsaXR0bGUgYmFjay1hbmQtZm9ydGggb3ZlciB0aGUgdGFyZ2V0IHZhbHVlIGF0IHRoZSBlbmQuXG4gKiBAdHlwZSB7VHdlZW5GdW5jdGlvbn1cbiAqL1xuZXhwb3J0cy5lYXNlT3V0RWxhc3RpYyA9IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XG4gIHZhciBzLCBwLCBhO1xuICBzPTEuNzAxNTg7XG4gIHA9MDtcbiAgYT1jO1xuICBpZiAodD09PTApIHtcbiAgICByZXR1cm4gYjtcbiAgfVxuICBpZiAoKHQvPWQpPT09MSkge1xuICAgIHJldHVybiBiK2M7XG4gIH1cbiAgaWYgKCFwKSB7XG4gICAgcD1kKjAuMztcbiAgfVxuICBpZiAoYSA8IE1hdGguYWJzKGMpKSB7XG4gICAgYT1jO1xuICAgIHM9cC80O1xuICB9IGVsc2Uge1xuICAgIHMgPSBwLygyKk1hdGguUEkpICogTWF0aC5hc2luIChjL2EpO1xuICB9XG4gIHJldHVybiBhKk1hdGgucG93KDIsLTEwKnQpICogTWF0aC5zaW4oICh0KmQtcykqKDIqTWF0aC5QSSkvcCApICsgYyArIGI7XG59O1xuXG4vKipcbiAqIEludGVycG9sYXRlcywgYWNjZWxlcmF0aW5nIGFzIGl0IGdvZXMuXG4gKiBAdHlwZSB7VHdlZW5GdW5jdGlvbn1cbiAqL1xuZXhwb3J0cy5lYXNlSW5RdWFkID0gZnVuY3Rpb24gKHQsIGIsIGMsIGQpIHtcbiAgcmV0dXJuIGMqKHQvPWQpKnQgKyBiO1xufTtcblxuLyoqXG4gKiBJbnRlcnBvbGF0ZXMsIGRlY2VsZXJhdGluZyBhcyBpdCBnb2VzLlxuICogQHR5cGUge1R3ZWVuRnVuY3Rpb259XG4gKi9cbmV4cG9ydHMuZWFzZU91dFF1YWQgPSBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xuICByZXR1cm4gLWMqKHQvPWQpKih0LTIpICsgYjtcbn07XG5cbmV4cG9ydHMuZWFzZUluT3V0UXVhZCA9IGZ1bmN0aW9uICh0LCBiLCBjLCBkKSB7XG4gIGlmICgodC89ZC8yKSA8IDEpIHtcbiAgICByZXR1cm4gYy8yKnQqdCArIGI7XG4gIH1cbiAgcmV0dXJuIC1jLzIgKiAoKC0tdCkqKHQtMikgLSAxKSArIGI7XG59O1xuXG4vKipcbiAqIExpbmVhciBpbnRlcnBvbGF0aW9uXG4gKiBAdHlwZSB7VHdlZW5GdW5jdGlvbn1cbiAqL1xuZXhwb3J0cy5saW5lYXIgPSBmdW5jdGlvbiAodCwgYiwgYywgZCkge1xuICByZXR1cm4gYyAqICh0IC8gZCkgKyBiO1xufTtcblxuLyoqXG4gKiBXcmFwcyBhIHR3ZWVuIG1ldGhvZCB3aXRoIHRoZSBzdGF0ZSBpdCBuZWVkcyB0byBhbmltYXRlIGEgcHJvcGVydHkuXG4gKiBPbiBjcmVhdGlvbiwgYXNzdW1lcyB0aGF0IHByb3BlcnR5J3MgY3VycmVudCB2YWx1ZSBmb3Igc3RhcnQgdmFsdWVzLlxuICogTXVzdCBiZSB0aWNrZWQgdG8gcHJvZ3Jlc3MgdG93YXJkIGNvbXBsZXRpb24uXG4gKlxuICogQHBhcmFtIHshT2JqZWN0fSB0YXJnZXQgLSBUaGUgb2JqZWN0IG93bmluZyB0aGUgcHJvcGVydHkgd2Ugd2FudCB0byBhbmltYXRlXG4gKiBAcGFyYW0geyFzdHJpbmd9IHByb3BlcnR5TmFtZSAtIE11c3QgYmUgYSB2YWxpZCBwcm9wZXJ0eSBvbiB0YXJnZXRcbiAqIEBwYXJhbSB7IW51bWJlcn0gZW5kVmFsdWUgLSBUaGUgZGVzaXJlZCBmaW5hbCB2YWx1ZSBvZiB0aGUgcHJvcGVydHlcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZHVyYXRpb25dIC0gSG93IGxvbmcgdGhlIHR3ZWVuIHNob3VsZCB0YWtlIGluIG1pbGxpc2Vjb25kcyxcbiAqICAgICAgICBkZWZhdWx0IDYwMG1zXG4gKiBAcGFyYW0ge1R3ZWVuRnVuY3Rpb259IFt0d2VlbkZ1bmN0aW9uXSAtIEEgdHdlZW4gZnVuY3Rpb24sIGRlZmF1bHQgbGluZWFyXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0cy5Ud2VlblZhbHVlVG8gPSBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wZXJ0eU5hbWUsIGVuZFZhbHVlLCBkdXJhdGlvbixcbiAgICB0d2VlbkZ1bmN0aW9uKSB7XG4gIC8qKlxuICAgKiBXaWxsIGJlIHNldCB0byBUUlVFIHdoZW4gdHdlZW4gaXMgY29tcGxldGVkLlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIHRoaXMuaXNGaW5pc2hlZCA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBXaWxsIGJlIHNldCBvbiBvdXIgZmlyc3QgdGljay5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuc3RhcnRUaW1lXyA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogQHR5cGUge09iamVjdH1cbiAgICovXG4gIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5wcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eU5hbWU7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtUd2VlbkZ1bmN0aW9ufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy50d2VlbkZ1bmN0aW9uXyA9IHZhbHVlT3IodHdlZW5GdW5jdGlvbiwgZXhwb3J0cy5saW5lYXIpO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5zdGFydFZhbHVlXyA9IHRhcmdldFtwcm9wZXJ0eU5hbWVdO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5kZWx0YVZhbHVlXyA9IGVuZFZhbHVlIC0gdGhpcy5zdGFydFZhbHVlXztcblxuICAvKipcbiAgICogRHVyYXRpb24gb2YgdHdlZW4gaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmR1cmF0aW9uXyA9IHZhbHVlT3IoZHVyYXRpb24sIERFRkFVTFRfVFdFRU5fRFVSQVRJT04pO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1J1bkxvb3AuY2xvY2t9IGNsb2NrXG4gKi9cbmV4cG9ydHMuVHdlZW5WYWx1ZVRvLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gKGNsb2NrKSB7XG4gIGlmICh0aGlzLnN0YXJ0VGltZV8gPT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuc3RhcnRUaW1lXyA9IGNsb2NrLnRpbWU7XG4gIH1cblxuICB2YXIgdGltZVNpbmNlU3RhcnQgPSBjbG9jay50aW1lIC0gdGhpcy5zdGFydFRpbWVfO1xuXG4gIGlmICh0aGlzLmRlbHRhVmFsdWVfICE9PSAwKSB7XG4gICAgdGhpcy50YXJnZXRbdGhpcy5wcm9wZXJ0eU5hbWVdID0gdGhpcy50d2VlbkZ1bmN0aW9uXyhcbiAgICAgICAgdGltZVNpbmNlU3RhcnQsXG4gICAgICAgIHRoaXMuc3RhcnRWYWx1ZV8sXG4gICAgICAgIHRoaXMuZGVsdGFWYWx1ZV8sXG4gICAgICAgIHRoaXMuZHVyYXRpb25fXG4gICAgKTtcbiAgfVxuXG4gIGlmICh0aW1lU2luY2VTdGFydCA+PSB0aGlzLmR1cmF0aW9uXykge1xuICAgIHRoaXMudGFyZ2V0W3RoaXMucHJvcGVydHlOYW1lXSA9IHRoaXMuc3RhcnRWYWx1ZV8gKyB0aGlzLmRlbHRhVmFsdWVfO1xuICAgIHRoaXMuaXNGaW5pc2hlZCA9IHRydWU7XG4gIH1cbn07XG5cbmV4cG9ydHMuRG9BZnRlckRlbGF5ID0gZnVuY3Rpb24gKHRhcmdldCwgZHVyYXRpb24sIGNhbGxiYWNrKSB7XG4gIC8qKlxuICAgKiBXaWxsIGJlIHNldCB0byBUUlVFIHdoZW4gdHdlZW4gaXMgY29tcGxldGVkLlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIHRoaXMuaXNGaW5pc2hlZCA9IGZhbHNlO1xuXG5cbiAgLyoqXG4gICAqIFdpbGwgYmUgc2V0IG9uIG91ciBmaXJzdCB0aWNrLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5zdGFydFRpbWVfID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cbiAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnByb3BlcnR5TmFtZSA9IG51bGw7XG5cbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHR3ZWVuIGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5kdXJhdGlvbl8gPSBkdXJhdGlvbjtcblxuICAvKipcbiAgICogRnVuY3Rpb24gdG8gY2FsbCB3aGVuIHRoZSBkdXJhdGlvbiBoYXMgZWxhcHNlZC5cbiAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgKi9cbiAgdGhpcy5jYWxsYmFja18gPSBjYWxsYmFjaztcbn07XG5cbi8qKlxuICogQHBhcmFtIHtSdW5Mb29wLmNsb2NrfSBjbG9ja1xuICovXG5leHBvcnRzLkRvQWZ0ZXJEZWxheS5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uIChjbG9jaykge1xuICBpZiAodGhpcy5zdGFydFRpbWVfID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnN0YXJ0VGltZV8gPSBjbG9jay50aW1lO1xuICB9XG5cbiAgdmFyIHRpbWVTaW5jZVN0YXJ0ID0gY2xvY2sudGltZSAtIHRoaXMuc3RhcnRUaW1lXztcbiAgaWYgKHRpbWVTaW5jZVN0YXJ0ID49IHRoaXMuZHVyYXRpb25fKSB7XG4gICAgdGhpcy5jYWxsYmFja18oKTtcbiAgICB0aGlzLmlzRmluaXNoZWQgPSB0cnVlO1xuICB9XG59O1xuIiwibW9kdWxlLmV4cG9ydHM9IChmdW5jdGlvbigpIHtcbiAgdmFyIHQgPSBmdW5jdGlvbiBhbm9ueW1vdXMobG9jYWxzLCBmaWx0ZXJzLCBlc2NhcGVcbi8qKi8pIHtcbmVzY2FwZSA9IGVzY2FwZSB8fCBmdW5jdGlvbiAoaHRtbCl7XG4gIHJldHVybiBTdHJpbmcoaHRtbClcbiAgICAucmVwbGFjZSgvJig/IVxcdys7KS9nLCAnJmFtcDsnKVxuICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcbiAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpXG4gICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKTtcbn07XG52YXIgYnVmID0gW107XG53aXRoIChsb2NhbHMgfHwge30pIHsgKGZ1bmN0aW9uKCl7IFxuIGJ1Zi5wdXNoKCcnKTsxO1xuLyoqXG4gKiBXaGV0aGVyIHRoZSBibHVycmVkIGJhY2tncm91bmQgbGF5ZXIgc2hvdWxkIGJlIHZpc2libGUuXG4gKiBAbmFtZSBzaG93QmFja2dyb3VuZFxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbjsgYnVmLnB1c2goJ1xcbjxzdmcgdmVyc2lvbj1cIjEuMVwiIHdpZHRoPVwiMjk4XCIgaGVpZ2h0PVwiMjk4XCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxcblxcbiAgJyk7MTA7IGlmIChzaG93QmFja2dyb3VuZCkgeyA7IGJ1Zi5wdXNoKCdcXG4gICAgPGZpbHRlciBpZD1cImJhY2tncm91bmRCbHVyXCI+XFxuICAgICAgPGZlR2F1c3NpYW5CbHVyIGluPVwiU291cmNlR3JhcGhpY1wiIHN0ZERldmlhdGlvbj1cIjVcIiAvPlxcbiAgICAgIDxmZUNvbXBvbmVudFRyYW5zZmVyPlxcbiAgICAgICAgPGZlRnVuY0Egc2xvcGU9XCIwLjVcIiB0eXBlPVwibGluZWFyXCI+PC9mZUZ1bmNBPlxcbiAgICAgIDwvZmVDb21wb25lbnRUcmFuc2Zlcj5cXG4gICAgPC9maWx0ZXI+XFxuICAnKTsxNzsgfSA7IGJ1Zi5wdXNoKCdcXG5cXG4gIDxnIGlkPVwiY2VudGVyZWQtZ3JvdXBcIiB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoMTUwLDE1MClcIj5cXG4gICAgPGcgaWQ9XCJiYWNrZ3JvdW5kLWdyb3VwXCJcXG4gICAgICAgJyk7MjE7IGlmIChzaG93QmFja2dyb3VuZCkgeyA7IGJ1Zi5wdXNoKCdcXG4gICAgICAgICBmaWx0ZXI9XCJ1cmwoI2JhY2tncm91bmRCbHVyKVwiXFxuICAgICAgICcpOzIzOyB9IGVsc2UgeyA7IGJ1Zi5wdXNoKCdcXG4gICAgICAgICB2aXNpYmlsaXR5PVwiaGlkZGVuXCJcXG4gICAgICAgJyk7MjU7IH0gOyBidWYucHVzaCgnXFxuICAgICAgICA+PC9nPlxcblxcbiAgICA8ZyBpZD1cImZvcmVncm91bmQtZ3JvdXBcIj48L2c+XFxuICA8L2c+XFxuPC9zdmc+XFxuJyk7IH0pKCk7XG59IFxucmV0dXJuIGJ1Zi5qb2luKCcnKTtcbn07XG4gIHJldHVybiBmdW5jdGlvbihsb2NhbHMpIHtcbiAgICByZXR1cm4gdChsb2NhbHMsIHJlcXVpcmUoXCJlanNcIikuZmlsdGVycyk7XG4gIH1cbn0oKSk7IiwiLyoqXG4gKiBAb3ZlcnZpZXcgVUkgY29udHJvbGxlciBmb3IgdGFicyBhcmVhIGluIGxlZnQgY29sdW1uXG4gKiAgICAgICAgICAgRGlyZWN0bHkgY29udHJvbHMgdGhlIGluc3RydWN0aW9ucyB0YWIsIG90aGVycyBhcmUgZGVsZWdhdGVkLlxuICogQHNlZSBOZXRTaW1NeURldmljZVRhYlxuICogQHNlZSBOZXRTaW1Sb3V0ZXJUYWJcbiAqIEBzZWUgTmV0U2ltRG5zVGFiXG4gKi9cbi8vIFN0cmljdCBsaW50aW5nOiBBYnNvcmIgaW50byBnbG9iYWwgY29uZmlnIHdoZW4gcG9zc2libGVcbi8qIGpzaGludFxuIHVudXNlZDogdHJ1ZSxcbiBlcWVxZXE6IHRydWUsXG4gbWF4bGVuOiAxMjBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgYnVpbGRNYXJrdXAgPSByZXF1aXJlKCcuL05ldFNpbVRhYnNDb21wb25lbnQuaHRtbC5lanMnKTtcbnZhciBOZXRTaW1Sb3V0ZXJUYWIgPSByZXF1aXJlKCcuL05ldFNpbVJvdXRlclRhYicpO1xudmFyIE5ldFNpbU15RGV2aWNlVGFiID0gcmVxdWlyZSgnLi9OZXRTaW1NeURldmljZVRhYicpO1xudmFyIE5ldFNpbURuc1RhYiA9IHJlcXVpcmUoJy4vTmV0U2ltRG5zVGFiJyk7XG52YXIgTmV0U2ltVGFiVHlwZSA9IHJlcXVpcmUoJy4vTmV0U2ltQ29uc3RhbnRzJykuTmV0U2ltVGFiVHlwZTtcbnZhciBzaG91bGRTaG93VGFiID0gcmVxdWlyZSgnLi9OZXRTaW1VdGlscycpLnNob3VsZFNob3dUYWI7XG52YXIgTmV0U2ltR2xvYmFscyA9IHJlcXVpcmUoJy4vTmV0U2ltR2xvYmFscycpO1xuXG4vKipcbiAqIFdyYXBwZXIgY29tcG9uZW50IGZvciB0YWJzIHBhbmVsIG9uIHRoZSByaWdodCBzaWRlIG9mIHRoZSBwYWdlLlxuICogQHBhcmFtIHtqUXVlcnl9IHJvb3REaXZcbiAqIEBwYXJhbSB7UnVuTG9vcH0gcnVuTG9vcFxuICogQHBhcmFtIHtPYmplY3R9IGNhbGxiYWNrc1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tzLmNodW5rU2l6ZVNsaWRlckNoYW5nZUNhbGxiYWNrXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja3MubXlEZXZpY2VCaXRSYXRlQ2hhbmdlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrcy5lbmNvZGluZ0NoYW5nZUNhbGxiYWNrXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja3Mucm91dGVyQmFuZHdpZHRoU2xpZGVyQ2hhbmdlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrcy5yb3V0ZXJCYW5kd2lkdGhTbGlkZXJTdG9wQ2FsbGJhY2tcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrcy5yb3V0ZXJNZW1vcnlTbGlkZXJDaGFuZ2VDYWxsYmFja1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tzLnJvdXRlck1lbW9yeVNsaWRlclN0b3BDYWxsYmFja1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tzLmRuc01vZGVDaGFuZ2VDYWxsYmFja1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tzLmJlY29tZURuc0NhbGxiYWNrXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIE5ldFNpbVRhYnNDb21wb25lbnQgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChyb290RGl2LCBydW5Mb29wLCBjYWxsYmFja3MpIHtcbiAgLyoqXG4gICAqIENvbXBvbmVudCByb290LCB3aGljaCB3ZSBmaWxsIHdoZW5ldmVyIHdlIGNhbGwgcmVuZGVyKClcbiAgICogQHR5cGUge2pRdWVyeX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucm9vdERpdl8gPSByb290RGl2O1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7UnVuTG9vcH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucnVuTG9vcF8gPSBydW5Mb29wO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7ZnVuY3Rpb259XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmNodW5rU2l6ZVNsaWRlckNoYW5nZUNhbGxiYWNrXyA9IGNhbGxiYWNrcy5jaHVua1NpemVTbGlkZXJDaGFuZ2VDYWxsYmFjaztcblxuICAvKipcbiAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5teURldmljZUJpdFJhdGVDaGFuZ2VDYWxsYmFja18gPSBjYWxsYmFja3MubXlEZXZpY2VCaXRSYXRlQ2hhbmdlQ2FsbGJhY2s7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtmdW5jdGlvbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuZW5jb2RpbmdDaGFuZ2VDYWxsYmFja18gPSBjYWxsYmFja3MuZW5jb2RpbmdDaGFuZ2VDYWxsYmFjaztcblxuICAvKipcbiAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5yb3V0ZXJCYW5kd2lkdGhTbGlkZXJDaGFuZ2VDYWxsYmFja18gPVxuICAgICAgY2FsbGJhY2tzLnJvdXRlckJhbmR3aWR0aFNsaWRlckNoYW5nZUNhbGxiYWNrO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7ZnVuY3Rpb259XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnJvdXRlckJhbmR3aWR0aFNsaWRlclN0b3BDYWxsYmFja18gPVxuICAgICAgY2FsbGJhY2tzLnJvdXRlckJhbmR3aWR0aFNsaWRlclN0b3BDYWxsYmFjaztcblxuICAvKipcbiAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5yb3V0ZXJNZW1vcnlTbGlkZXJDaGFuZ2VDYWxsYmFja18gPVxuICAgICAgY2FsbGJhY2tzLnJvdXRlck1lbW9yeVNsaWRlckNoYW5nZUNhbGxiYWNrO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7ZnVuY3Rpb259XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnJvdXRlck1lbW9yeVNsaWRlclN0b3BDYWxsYmFja18gPVxuICAgICAgY2FsbGJhY2tzLnJvdXRlck1lbW9yeVNsaWRlclN0b3BDYWxsYmFjaztcblxuICAvKipcbiAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5kbnNNb2RlQ2hhbmdlQ2FsbGJhY2tfID0gY2FsbGJhY2tzLmRuc01vZGVDaGFuZ2VDYWxsYmFjaztcblxuICAvKipcbiAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5iZWNvbWVEbnNDYWxsYmFja18gPSBjYWxsYmFja3MuYmVjb21lRG5zQ2FsbGJhY2s7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtOZXRTaW1Sb3V0ZXJUYWJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnJvdXRlclRhYl8gPSBudWxsO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7TmV0U2ltTXlEZXZpY2VUYWJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLm15RGV2aWNlVGFiXyA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtOZXRTaW1EbnNUYWJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmRuc1RhYl8gPSBudWxsO1xuXG4gIC8vIEluaXRpYWwgcmVuZGVyXG4gIHRoaXMucmVuZGVyKCk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7UnVuTG9vcH0gcnVuTG9vcFxuICovXG5OZXRTaW1UYWJzQ29tcG9uZW50LnByb3RvdHlwZS5hdHRhY2hUb1J1bkxvb3AgPSBmdW5jdGlvbiAocnVuTG9vcCkge1xuICBpZiAodGhpcy5yb3V0ZXJUYWJfKSB7XG4gICAgdGhpcy5yb3V0ZXJUYWJfLmF0dGFjaFRvUnVuTG9vcChydW5Mb29wKTtcbiAgfVxufTtcblxuLyoqXG4gKiBGaWxsIHRoZSByb290IGRpdiB3aXRoIG5ldyBlbGVtZW50cyByZWZsZWN0aW5nIHRoZSBjdXJyZW50IHN0YXRlXG4gKi9cbk5ldFNpbVRhYnNDb21wb25lbnQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGxldmVsQ29uZmlnID0gTmV0U2ltR2xvYmFscy5nZXRMZXZlbENvbmZpZygpO1xuICAvLyBDbG9uZSB0aGUgcmVmZXJlbmNlIGFyZWEgKHdpdGggaGFuZGxlcnMpIGJlZm9yZSB3ZSByZS1yZW5kZXJcbiAgdmFyIHJlZmVyZW5jZUFyZWEgPSAkKCcjcmVmZXJlbmNlX2FyZWEnKS5maXJzdCgpLmNsb25lKHRydWUpO1xuXG4gIC8vIFJlbW92ZSB0aGUgaW5zdHJ1Y3Rpb25zIGFyZWEsIHRvIHJlYXR0YWNoIGluIGEgbWludXRlLlxuICB2YXIgaW5zdHJ1Y3Rpb25zQXJlYSA9ICQoJyNidWJibGUnKS5maXJzdCgpLmRldGFjaCgpO1xuXG4gIHZhciByYXdNYXJrdXAgPSBidWlsZE1hcmt1cCh7XG4gICAgbGV2ZWw6IGxldmVsQ29uZmlnXG4gIH0pO1xuICB2YXIgalF1ZXJ5V3JhcCA9ICQocmF3TWFya3VwKTtcbiAgdGhpcy5yb290RGl2Xy5odG1sKGpRdWVyeVdyYXApO1xuXG4gIHRoaXMucm9vdERpdl8uZmluZCgnLm5ldHNpbS10YWJzJykudGFicyh7XG4gICAgYWN0aXZlOiBsZXZlbENvbmZpZy5kZWZhdWx0VGFiSW5kZXhcbiAgfSk7XG5cbiAgaWYgKHNob3VsZFNob3dUYWIobGV2ZWxDb25maWcsIE5ldFNpbVRhYlR5cGUuSU5TVFJVQ1RJT05TKSAmJiByZWZlcmVuY2VBcmVhKSB7XG4gICAgdmFyIGluc3RydWN0aW9uc1RhYiA9IHRoaXMucm9vdERpdl8uZmluZCgnI3RhYl9pbnN0cnVjdGlvbnMnKS5maXJzdCgpO1xuICAgIGluc3RydWN0aW9uc0FyZWEuYXBwZW5kVG8oaW5zdHJ1Y3Rpb25zVGFiKTtcbiAgICByZWZlcmVuY2VBcmVhLmFwcGVuZFRvKGluc3RydWN0aW9uc1RhYik7XG4gIH1cblxuICBpZiAoc2hvdWxkU2hvd1RhYihsZXZlbENvbmZpZywgTmV0U2ltVGFiVHlwZS5NWV9ERVZJQ0UpKSB7XG4gICAgdGhpcy5teURldmljZVRhYl8gPSBuZXcgTmV0U2ltTXlEZXZpY2VUYWIoXG4gICAgICAgIHRoaXMucm9vdERpdl8uZmluZCgnI3RhYl9teV9kZXZpY2UnKSxcbiAgICAgICAgdGhpcy5ydW5Mb29wXyxcbiAgICAgICAge1xuICAgICAgICAgIGNodW5rU2l6ZUNoYW5nZUNhbGxiYWNrOiB0aGlzLmNodW5rU2l6ZVNsaWRlckNoYW5nZUNhbGxiYWNrXyxcbiAgICAgICAgICBiaXRSYXRlQ2hhbmdlQ2FsbGJhY2s6IHRoaXMubXlEZXZpY2VCaXRSYXRlQ2hhbmdlQ2FsbGJhY2tfLFxuICAgICAgICAgIGVuY29kaW5nQ2hhbmdlQ2FsbGJhY2s6IHRoaXMuZW5jb2RpbmdDaGFuZ2VDYWxsYmFja19cbiAgICAgICAgfSk7XG4gIH1cblxuICBpZiAoc2hvdWxkU2hvd1RhYihsZXZlbENvbmZpZywgTmV0U2ltVGFiVHlwZS5ST1VURVIpKSB7XG4gICAgdGhpcy5yb3V0ZXJUYWJfID0gbmV3IE5ldFNpbVJvdXRlclRhYihcbiAgICAgICAgdGhpcy5yb290RGl2Xy5maW5kKCcjdGFiX3JvdXRlcicpLFxuICAgICAgICB7XG4gICAgICAgICAgYmFuZHdpZHRoU2xpZGVyQ2hhbmdlQ2FsbGJhY2s6IHRoaXMucm91dGVyQmFuZHdpZHRoU2xpZGVyQ2hhbmdlQ2FsbGJhY2tfLFxuICAgICAgICAgIGJhbmR3aWR0aFNsaWRlclN0b3BDYWxsYmFjazogdGhpcy5yb3V0ZXJCYW5kd2lkdGhTbGlkZXJTdG9wQ2FsbGJhY2tfLFxuICAgICAgICAgIG1lbW9yeVNsaWRlckNoYW5nZUNhbGxiYWNrOiB0aGlzLnJvdXRlck1lbW9yeVNsaWRlckNoYW5nZUNhbGxiYWNrXyxcbiAgICAgICAgICBtZW1vcnlTbGlkZXJTdG9wQ2FsbGJhY2s6IHRoaXMucm91dGVyTWVtb3J5U2xpZGVyU3RvcENhbGxiYWNrX1xuICAgICAgICB9KTtcbiAgfVxuXG4gIGlmIChzaG91bGRTaG93VGFiKGxldmVsQ29uZmlnLCBOZXRTaW1UYWJUeXBlLkROUykpIHtcbiAgICB0aGlzLmRuc1RhYl8gPSBuZXcgTmV0U2ltRG5zVGFiKFxuICAgICAgICB0aGlzLnJvb3REaXZfLmZpbmQoJyN0YWJfZG5zJyksXG4gICAgICAgIHRoaXMuZG5zTW9kZUNoYW5nZUNhbGxiYWNrXyxcbiAgICAgICAgdGhpcy5iZWNvbWVEbnNDYWxsYmFja18pO1xuICB9XG59O1xuXG4vKiogQHBhcmFtIHtudW1iZXJ9IG5ld0NodW5rU2l6ZSAqL1xuTmV0U2ltVGFic0NvbXBvbmVudC5wcm90b3R5cGUuc2V0Q2h1bmtTaXplID0gZnVuY3Rpb24gKG5ld0NodW5rU2l6ZSkge1xuICBpZiAodGhpcy5teURldmljZVRhYl8pIHtcbiAgICB0aGlzLm15RGV2aWNlVGFiXy5zZXRDaHVua1NpemUobmV3Q2h1bmtTaXplKTtcbiAgfVxufTtcblxuLyoqIEBwYXJhbSB7bnVtYmVyfSBuZXdCaXRSYXRlIGluIGJpdHMgcGVyIHNlY29uZCAqL1xuTmV0U2ltVGFic0NvbXBvbmVudC5wcm90b3R5cGUuc2V0TXlEZXZpY2VCaXRSYXRlID0gZnVuY3Rpb24gKG5ld0JpdFJhdGUpIHtcbiAgaWYgKHRoaXMubXlEZXZpY2VUYWJfKSB7XG4gICAgdGhpcy5teURldmljZVRhYl8uc2V0Qml0UmF0ZShuZXdCaXRSYXRlKTtcbiAgfVxufTtcblxuLyoqIEBwYXJhbSB7RW5jb2RpbmdUeXBlW119IG5ld0VuY29kaW5ncyAqL1xuTmV0U2ltVGFic0NvbXBvbmVudC5wcm90b3R5cGUuc2V0RW5jb2RpbmdzID0gZnVuY3Rpb24gKG5ld0VuY29kaW5ncykge1xuICBpZiAodGhpcy5teURldmljZVRhYl8pIHtcbiAgICB0aGlzLm15RGV2aWNlVGFiXy5zZXRFbmNvZGluZ3MobmV3RW5jb2RpbmdzKTtcbiAgfVxufTtcblxuLyoqIEBwYXJhbSB7bnVtYmVyfSBjcmVhdGlvblRpbWVzdGFtcE1zICovXG5OZXRTaW1UYWJzQ29tcG9uZW50LnByb3RvdHlwZS5zZXRSb3V0ZXJDcmVhdGlvblRpbWUgPSBmdW5jdGlvbiAoY3JlYXRpb25UaW1lc3RhbXBNcykge1xuICBpZiAodGhpcy5yb3V0ZXJUYWJfKSB7XG4gICAgdGhpcy5yb3V0ZXJUYWJfLnNldFJvdXRlckNyZWF0aW9uVGltZShjcmVhdGlvblRpbWVzdGFtcE1zKTtcbiAgfVxufTtcblxuLyoqIEBwYXJhbSB7bnVtYmVyfSBuZXdCYW5kd2lkdGggaW4gYml0cy9zZWNvbmQgKi9cbk5ldFNpbVRhYnNDb21wb25lbnQucHJvdG90eXBlLnNldFJvdXRlckJhbmR3aWR0aCA9IGZ1bmN0aW9uIChuZXdCYW5kd2lkdGgpIHtcbiAgaWYgKHRoaXMucm91dGVyVGFiXykge1xuICAgIHRoaXMucm91dGVyVGFiXy5zZXRCYW5kd2lkdGgobmV3QmFuZHdpZHRoKTtcbiAgfVxufTtcblxuLyoqIEBwYXJhbSB7bnVtYmVyfSBuZXdNZW1vcnkgaW4gYml0cyAqL1xuTmV0U2ltVGFic0NvbXBvbmVudC5wcm90b3R5cGUuc2V0Um91dGVyTWVtb3J5ID0gZnVuY3Rpb24gKG5ld01lbW9yeSkge1xuICBpZiAodGhpcy5yb3V0ZXJUYWJfKSB7XG4gICAgdGhpcy5yb3V0ZXJUYWJfLnNldE1lbW9yeShuZXdNZW1vcnkpO1xuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBxdWV1ZWRQYWNrZXRDb3VudFxuICovXG5OZXRTaW1UYWJzQ29tcG9uZW50LnByb3RvdHlwZS5zZXRSb3V0ZXJRdWV1ZWRQYWNrZXRDb3VudCA9IGZ1bmN0aW9uIChxdWV1ZWRQYWNrZXRDb3VudCkge1xuICBpZiAodGhpcy5yb3V0ZXJUYWJfKSB7XG4gICAgdGhpcy5yb3V0ZXJUYWJfLnNldFJvdXRlclF1ZXVlZFBhY2tldENvdW50KHF1ZXVlZFBhY2tldENvdW50KTtcbiAgfVxufTtcblxuLyoqIEBwYXJhbSB7bnVtYmVyfSB1c2VkTWVtb3J5SW5CaXRzICovXG5OZXRTaW1UYWJzQ29tcG9uZW50LnByb3RvdHlwZS5zZXRSb3V0ZXJNZW1vcnlJblVzZSA9IGZ1bmN0aW9uICh1c2VkTWVtb3J5SW5CaXRzKSB7XG4gIGlmICh0aGlzLnJvdXRlclRhYl8pIHtcbiAgICB0aGlzLnJvdXRlclRhYl8uc2V0TWVtb3J5SW5Vc2UodXNlZE1lbW9yeUluQml0cyk7XG4gIH1cbn07XG5cbk5ldFNpbVRhYnNDb21wb25lbnQucHJvdG90eXBlLnNldFJvdXRlckRhdGFSYXRlID0gZnVuY3Rpb24gKGRhdGFSYXRlQml0c1BlclNlY29uZCkge1xuICBpZiAodGhpcy5yb3V0ZXJUYWJfKSB7XG4gICAgdGhpcy5yb3V0ZXJUYWJfLnNldERhdGFSYXRlKGRhdGFSYXRlQml0c1BlclNlY29uZCk7XG4gIH1cbn07XG5cbi8qKiBAcGFyYW0ge3N0cmluZ30gbmV3RG5zTW9kZSAqL1xuTmV0U2ltVGFic0NvbXBvbmVudC5wcm90b3R5cGUuc2V0RG5zTW9kZSA9IGZ1bmN0aW9uIChuZXdEbnNNb2RlKSB7XG4gIGlmICh0aGlzLmRuc1RhYl8pIHtcbiAgICB0aGlzLmRuc1RhYl8uc2V0RG5zTW9kZShuZXdEbnNNb2RlKTtcbiAgfVxufTtcblxuLyoqIEBwYXJhbSB7Ym9vbGVhbn0gaXNEbnNOb2RlICovXG5OZXRTaW1UYWJzQ29tcG9uZW50LnByb3RvdHlwZS5zZXRJc0Ruc05vZGUgPSBmdW5jdGlvbiAoaXNEbnNOb2RlKSB7XG4gIGlmICh0aGlzLmRuc1RhYl8pIHtcbiAgICB0aGlzLmRuc1RhYl8uc2V0SXNEbnNOb2RlKGlzRG5zTm9kZSk7XG4gIH1cbn07XG5cbi8qKiBAcGFyYW0ge0FycmF5fSB0YWJsZUNvbnRlbnRzICovXG5OZXRTaW1UYWJzQ29tcG9uZW50LnByb3RvdHlwZS5zZXREbnNUYWJsZUNvbnRlbnRzID0gZnVuY3Rpb24gKHRhYmxlQ29udGVudHMpIHtcbiAgaWYgKHRoaXMuZG5zVGFiXykge1xuICAgIHRoaXMuZG5zVGFiXy5zZXREbnNUYWJsZUNvbnRlbnRzKHRhYmxlQ29udGVudHMpO1xuICB9XG59O1xuXG4vKiogQHBhcmFtIHtBcnJheX0gbG9nRGF0YSAqL1xuTmV0U2ltVGFic0NvbXBvbmVudC5wcm90b3R5cGUuc2V0Um91dGVyTG9nRGF0YSA9IGZ1bmN0aW9uIChsb2dEYXRhKSB7XG4gIGlmICh0aGlzLnJvdXRlclRhYl8pIHtcbiAgICB0aGlzLnJvdXRlclRhYl8uc2V0Um91dGVyTG9nRGF0YShsb2dEYXRhKTtcbiAgfVxufTtcbiIsIm1vZHVsZS5leHBvcnRzPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB0ID0gZnVuY3Rpb24gYW5vbnltb3VzKGxvY2FscywgZmlsdGVycywgZXNjYXBlXG4vKiovKSB7XG5lc2NhcGUgPSBlc2NhcGUgfHwgZnVuY3Rpb24gKGh0bWwpe1xuICByZXR1cm4gU3RyaW5nKGh0bWwpXG4gICAgLnJlcGxhY2UoLyYoPyFcXHcrOykvZywgJyZhbXA7JylcbiAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7Jyk7XG59O1xudmFyIGJ1ZiA9IFtdO1xud2l0aCAobG9jYWxzIHx8IHt9KSB7IChmdW5jdGlvbigpeyBcbiBidWYucHVzaCgnJyk7MTtcbiAgdmFyIGkxOG4gPSByZXF1aXJlKCcuL2xvY2FsZScpO1xuXG4gIHZhciBzaG91bGRTaG93VGFiID0gcmVxdWlyZSgnLi9OZXRTaW1VdGlscycpLnNob3VsZFNob3dUYWI7XG4gIHZhciBOZXRTaW1UYWJUeXBlID0gcmVxdWlyZSgnLi9OZXRTaW1Db25zdGFudHMnKS5OZXRTaW1UYWJUeXBlO1xuXG4gIHZhciBzaG93SW5zdHJ1Y3Rpb25zID0gc2hvdWxkU2hvd1RhYihsZXZlbCwgTmV0U2ltVGFiVHlwZS5JTlNUUlVDVElPTlMpO1xuICB2YXIgc2hvd015RGV2aWNlID0gc2hvdWxkU2hvd1RhYihsZXZlbCwgTmV0U2ltVGFiVHlwZS5NWV9ERVZJQ0UpO1xuICB2YXIgc2hvd1JvdXRlciA9IHNob3VsZFNob3dUYWIobGV2ZWwsIE5ldFNpbVRhYlR5cGUuUk9VVEVSKTtcbiAgdmFyIHNob3dEbnMgPSBzaG91bGRTaG93VGFiKGxldmVsLCBOZXRTaW1UYWJUeXBlLkROUyk7XG47IGJ1Zi5wdXNoKCdcXG48ZGl2IGNsYXNzPVwibmV0c2ltLXRhYnNcIj5cXG4gIDx1bD5cXG4gICAgJyk7MTQ7IGlmIChzaG93SW5zdHJ1Y3Rpb25zKSB7IDsgYnVmLnB1c2goJ1xcbiAgICA8bGk+PGEgaHJlZj1cIiN0YWJfaW5zdHJ1Y3Rpb25zXCI+JywgZXNjYXBlKCgxNSwgIGkxOG4uaW5zdHJ1Y3Rpb25zKCkgKSksICc8L2E+PC9saT5cXG4gICAgJyk7MTY7IH0gOyBidWYucHVzaCgnXFxuICAgICcpOzE3OyBpZiAoc2hvd015RGV2aWNlKSB7IDsgYnVmLnB1c2goJ1xcbiAgICAgIDxsaT48YSBocmVmPVwiI3RhYl9teV9kZXZpY2VcIj4nLCBlc2NhcGUoKDE4LCAgaTE4bi5teURldmljZSgpICkpLCAnPC9hPjwvbGk+XFxuICAgICcpOzE5OyB9IDsgYnVmLnB1c2goJ1xcbiAgICAnKTsyMDsgaWYgKHNob3dSb3V0ZXIpIHsgOyBidWYucHVzaCgnXFxuICAgICAgPGxpPjxhIGhyZWY9XCIjdGFiX3JvdXRlclwiPicsIGVzY2FwZSgoMjEsICBpMThuLnJvdXRlcigpICkpLCAnPC9hPjwvbGk+XFxuICAgICcpOzIyOyB9IDsgYnVmLnB1c2goJ1xcbiAgICAnKTsyMzsgaWYgKHNob3dEbnMpIHsgOyBidWYucHVzaCgnXFxuICAgICAgPGxpPjxhIGhyZWY9XCIjdGFiX2Ruc1wiPicsIGVzY2FwZSgoMjQsICBpMThuLmRucygpICkpLCAnPC9hPjwvbGk+XFxuICAgICcpOzI1OyB9IDsgYnVmLnB1c2goJ1xcbiAgPC91bD5cXG4gICcpOzI3OyBpZiAoc2hvd0luc3RydWN0aW9ucykgeyA7IGJ1Zi5wdXNoKCdcXG4gICAgPGRpdiBpZD1cInRhYl9pbnN0cnVjdGlvbnNcIj48L2Rpdj5cXG4gICcpOzI5OyB9IDsgYnVmLnB1c2goJ1xcbiAgJyk7MzA7IGlmIChzaG93TXlEZXZpY2UpIHsgOyBidWYucHVzaCgnXFxuICAgIDxkaXYgaWQ9XCJ0YWJfbXlfZGV2aWNlXCI+PC9kaXY+XFxuICAnKTszMjsgfSA7IGJ1Zi5wdXNoKCdcXG4gICcpOzMzOyBpZiAoc2hvd1JvdXRlcikgeyA7IGJ1Zi5wdXNoKCdcXG4gICAgPGRpdiBpZD1cInRhYl9yb3V0ZXJcIj48L2Rpdj5cXG4gICcpOzM1OyB9IDsgYnVmLnB1c2goJ1xcbiAgJyk7MzY7IGlmIChzaG93RG5zKSB7IDsgYnVmLnB1c2goJ1xcbiAgICA8ZGl2IGlkPVwidGFiX2Ruc1wiPjwvZGl2PlxcbiAgJyk7Mzg7IH0gOyBidWYucHVzaCgnXFxuPC9kaXY+Jyk7IH0pKCk7XG59IFxucmV0dXJuIGJ1Zi5qb2luKCcnKTtcbn07XG4gIHJldHVybiBmdW5jdGlvbihsb2NhbHMpIHtcbiAgICByZXR1cm4gdChsb2NhbHMsIHJlcXVpcmUoXCJlanNcIikuZmlsdGVycyk7XG4gIH1cbn0oKSk7IiwiLyoqXG4gKiBAb3ZlcnZpZXcgVUkgY29tcG9uZW50OiBUaGUgc21hbGwgZXhwYW5kYWJsZSBib3ggYWJvdmUgdGhlIHZpc3VhbGl6YXRpb24sXG4gKiAgICAgICAgICAgdXNlZCB0byBzaG93IGRlYnVnIGFuZCBkaWFnbm9zdGljIGluZm9ybWF0aW9uLlxuICovXG4vLyBTdHJpY3QgbGludGluZzogQWJzb3JiIGludG8gZ2xvYmFsIGNvbmZpZyB3aGVuIHBvc3NpYmxlXG4vKiBqc2hpbnRcbiB1bnVzZWQ6IHRydWUsXG4gZXFlcWVxOiB0cnVlLFxuIG1heGxlbjogMTIwXG4gKi9cbid1c2Ugc3RyaWN0JztcblxucmVxdWlyZSgnLi4vdXRpbHMnKTsgLy8gRm9yIEZ1bmN0aW9uLnByb3RvdHlwZS5pbmhlcml0cygpXG52YXIgaTE4biA9IHJlcXVpcmUoJy4vbG9jYWxlJyk7XG52YXIgbWFya3VwID0gcmVxdWlyZSgnLi9OZXRTaW1TdGF0dXNQYW5lbC5odG1sLmVqcycpO1xudmFyIE5ldFNpbVBhbmVsID0gcmVxdWlyZSgnLi9OZXRTaW1QYW5lbC5qcycpO1xudmFyIE5ldFNpbVV0aWxzID0gcmVxdWlyZSgnLi9OZXRTaW1VdGlscycpO1xuXG4vKipcbiAqIEdlbmVyYXRvciBhbmQgY29udHJvbGxlciBmb3IgY29ubmVjdGlvbiBzdGF0dXMgcGFuZWxcbiAqIGluIGxlZnQgY29sdW1uLCBkaXNwbGF5ZWQgd2hpbGUgY29ubmVjdGVkLlxuICogQHBhcmFtIHtqUXVlcnl9IHJvb3REaXZcbiAqIEBwYXJhbSB7T2JqZWN0fSBjYWxsYmFja3NcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrcy5kaXNjb25uZWN0Q2FsbGJhY2sgLSBtZXRob2QgdG8gY2FsbCB3aGVuIGRpc2Nvbm5lY3QgYnV0dG9uXG4gKiAgICAgICAgaXMgY2xpY2tlZC5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGF1Z21lbnRzIE5ldFNpbVBhbmVsXG4gKi9cbnZhciBOZXRTaW1TdGF0dXNQYW5lbCA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHJvb3REaXYsIGNhbGxiYWNrcykge1xuICAvKipcbiAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5kaXNjb25uZWN0Q2FsbGJhY2tfID0gY2FsbGJhY2tzLmRpc2Nvbm5lY3RDYWxsYmFjaztcblxuICAvLyBTdXBlcmNsYXNzIGNvbnN0cnVjdG9yXG4gIE5ldFNpbVBhbmVsLmNhbGwodGhpcywgcm9vdERpdiwge1xuICAgIGNsYXNzTmFtZTogJ25ldHNpbV9zdGF0dXNfcGFuZWwnLFxuICAgIHBhbmVsVGl0bGU6ICdTdGF0dXMnLFxuICAgIHVzZXJUb2dnbGVhYmxlOiBmYWxzZSxcbiAgICBiZWdpbk1pbmltaXplZDogdHJ1ZVxuICB9KTtcbn07XG5OZXRTaW1TdGF0dXNQYW5lbC5pbmhlcml0cyhOZXRTaW1QYW5lbCk7XG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IFtkYXRhXVxuICogQHBhcmFtIHtzdHJpbmd9IFtkYXRhLnJlbW90ZU5vZGVOYW1lXSAtIERpc3BsYXkgbmFtZSBvZiByZW1vdGUgbm9kZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbZGF0YS5teUhvc3RuYW1lXSAtIEhvc3RuYW1lIG9mIGxvY2FsIG5vZGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbZGF0YS5teUFkZHJlc3NdIC0gTG9jYWwgbm9kZSBhZGRyZXNzIGFzc2lnbmVkIGJ5IHJvdXRlclxuICogQHBhcmFtIHtzdHJpbmd9IFtkYXRhLnNoYXJlTGlua10gLSBVUkwgZm9yIHNoYXJpbmcgcHJpdmF0ZSBzaGFyZFxuICovXG5OZXRTaW1TdGF0dXNQYW5lbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgZGF0YSA9IGRhdGEgfHwge307XG5cbiAgLy8gQ2FwdHVyZSB0aXRsZSBiZWZvcmUgd2UgcmVuZGVyIHRoZSB3cmFwcGVyIHBhbmVsLlxuICB0aGlzLnNldFBhbmVsVGl0bGUoZGF0YS5yZW1vdGVOb2RlTmFtZSk7XG5cbiAgLy8gUmVuZGVyIGJvaWxlcnBsYXRlIHBhbmVsIHN0dWZmXG4gIE5ldFNpbVN0YXR1c1BhbmVsLnN1cGVyUHJvdG90eXBlLnJlbmRlci5jYWxsKHRoaXMpO1xuXG4gIC8vIFB1dCBvdXIgb3duIGNvbnRlbnQgaW50byB0aGUgcGFuZWwgYm9keVxuICB2YXIgbmV3TWFya3VwID0gJChtYXJrdXAoe1xuICAgIG15SG9zdG5hbWU6IGRhdGEubXlIb3N0bmFtZSxcbiAgICBteUFkZHJlc3M6IGRhdGEubXlBZGRyZXNzLFxuICAgIHNoYXJlTGluazogZGF0YS5zaGFyZUxpbmtcbiAgfSkpO1xuICB0aGlzLmdldEJvZHkoKS5odG1sKG5ld01hcmt1cCk7XG5cbiAgLy8gQWRkIGEgYnV0dG9uIHRvIHRoZSBwYW5lbCBoZWFkZXJcbiAgdGhpcy5hZGRCdXR0b24oXG4gICAgICBpMThuLmRpc2Nvbm5lY3RCdXR0b24oeyBjYXJldDogJzxpIGNsYXNzPVwiZmEgZmEtY2FyZXQtbGVmdFwiPjwvaT4nIH0pLFxuICAgICAgdGhpcy5kaXNjb25uZWN0Q2FsbGJhY2tfKTtcblxuICAvLyBCdXR0b24gdGhhdCB0YWtlcyB5b3UgdG8gdGhlIG5leHQgbGV2ZWwuXG4gIE5ldFNpbVV0aWxzLm1ha2VDb250aW51ZUJ1dHRvbih0aGlzKTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cz0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdCA9IGZ1bmN0aW9uIGFub255bW91cyhsb2NhbHMsIGZpbHRlcnMsIGVzY2FwZVxuLyoqLykge1xuZXNjYXBlID0gZXNjYXBlIHx8IGZ1bmN0aW9uIChodG1sKXtcbiAgcmV0dXJuIFN0cmluZyhodG1sKVxuICAgIC5yZXBsYWNlKC8mKD8hXFx3KzspL2csICcmYW1wOycpXG4gICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpO1xufTtcbnZhciBidWYgPSBbXTtcbndpdGggKGxvY2FscyB8fCB7fSkgeyAoZnVuY3Rpb24oKXsgXG4gYnVmLnB1c2goJycpOzE7XG52YXIgaTE4biA9IHJlcXVpcmUoJy4vbG9jYWxlJyk7XG47IGJ1Zi5wdXNoKCdcXG48ZGl2IGNsYXNzPVwiY29udGVudC13cmFwXCI+XFxuICAnKTs1OyBpZiAobXlIb3N0bmFtZSkgeyA7IGJ1Zi5wdXNoKCdcXG4gIDxwPk15IGhvc3RuYW1lOiAnLCBlc2NhcGUoKDYsICBteUhvc3RuYW1lICkpLCAnPC9wPlxcbiAgJyk7NzsgfSA7IGJ1Zi5wdXNoKCdcXG5cXG4gICcpOzk7IGlmIChteUFkZHJlc3MpIHsgOyBidWYucHVzaCgnXFxuICA8cD5NeSBhZGRyZXNzOiAnLCBlc2NhcGUoKDEwLCAgbXlBZGRyZXNzICkpLCAnPC9wPlxcbiAgJyk7MTE7IH0gOyBidWYucHVzaCgnXFxuXFxuICAnKTsxMzsgaWYgKHNoYXJlTGluaykgeyA7IGJ1Zi5wdXNoKCdcXG4gIDxwPjxhIGhyZWY9XCInLCBlc2NhcGUoKDE0LCAgc2hhcmVMaW5rICkpLCAnXCI+JywgZXNjYXBlKCgxNCwgIGkxOG4uc2hhcmVUaGlzTmV0d29yaygpICkpLCAnPC9hPjwvcD5cXG4gICcpOzE1OyB9IDsgYnVmLnB1c2goJ1xcbjwvZGl2PlxcbicpOyB9KSgpO1xufSBcbnJldHVybiBidWYuam9pbignJyk7XG59O1xuICByZXR1cm4gZnVuY3Rpb24obG9jYWxzKSB7XG4gICAgcmV0dXJuIHQobG9jYWxzLCByZXF1aXJlKFwiZWpzXCIpLmZpbHRlcnMpO1xuICB9XG59KCkpOyIsIi8qKlxuICogQG92ZXJ2aWV3IFJlcHJlc2VudHMgYSBjb2xsZWN0aW9uIG9mIHRhYmxlcyB0aGF0IG1hcCB0byBhIHBhcnRpY3VsYXJcbiAqICAgICAgICAgICBjbGFzcyBzZWN0aW9uJ3Mgc2ltdWxhdGlvbiwgaXNvbGF0ZWQgZnJvbSBvdGhlciBjbGFzcyBzZWN0aW9ucy5cbiAqL1xuLy8gU3RyaWN0IGxpbnRpbmc6IEFic29yYiBpbnRvIGdsb2JhbCBjb25maWcgd2hlbiBwb3NzaWJsZVxuLyoganNoaW50XG4gdW51c2VkOiB0cnVlLFxuIGVxZXFlcTogdHJ1ZSxcbiBtYXhsZW46IDEyMFxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBOZXRTaW1UYWJsZSA9IHJlcXVpcmUoJy4vTmV0U2ltVGFibGUnKTtcbnZhciBQdWJTdWJTZXJ2aWNlID0gcmVxdWlyZSgnLi9QdWJTdWJTZXJ2aWNlJyk7XG5cbi8qKlxuICogUHViU3ViIGV2ZW50IGtleSBmb3IgZXZlbnRzIGludmFsaWRhdGluZyBhbGwgdGFibGVzLlxuICogQGNvbnN0IHtzdHJpbmd9XG4gKi9cbnZhciBXSE9MRV9TSEFSRF9FVkVOVCA9ICdhbGxfdGFibGVzJztcblxuLyoqXG4gKiBBIHNoYXJkIGlzIGFuIGlzb2xhdGVkLCBjb21wbGV0ZSBzaW11bGF0aW9uIHN0YXRlIHNoYXJlZCBieSBhIHN1YnNldCBvZlxuICogdXNlcnMuICBJdCdzIG1hZGUgb2YgYSBzZXQgb2Ygc3RvcmFnZSB0YWJsZXMgc2V0IGFwYXJ0IGJ5IGEgcGFydGljdWxhclxuICogc2hhcmQgSUQgaW4gdGhlaXIgbmFtZXMuICBXZSB1c2Ugc2hhcmRzIHRvIGFsbG93IHN0dWRlbnRzIHRvIGludGVyYWN0IG9ubHlcbiAqIHdpdGggdGhlaXIgcGFydGljdWxhciBjbGFzcyB3aGlsZSBzdGlsbCBzdG9yaW5nIGFsbCBOZXRTaW0gdGFibGVzIHVuZGVyXG4gKiB0aGUgc2FtZSBBcHAgSUQuXG4gKlxuICogQHBhcmFtIHshc3RyaW5nfSBzaGFyZElEXG4gKiBAcGFyYW0geyFQdWJTdWJDb25maWd9IHB1YlN1YkNvbmZpZ1xuICogQGNvbnN0cnVjdG9yXG4gKi9cbnZhciBOZXRTaW1TaGFyZCA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHNoYXJkSUQsIHB1YlN1YkNvbmZpZykge1xuICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgdGhpcy5pZCA9IHNoYXJkSUQ7XG5cbiAgLyoqIEB0eXBlIHtQdWJTdWJTZXJ2aWNlfSAqL1xuICB0aGlzLnB1YlN1YiA9IFB1YlN1YlNlcnZpY2UuY3JlYXRlKHB1YlN1YkNvbmZpZyk7XG5cbiAgLyoqIEB0eXBlIHtQdWJTdWJDaGFubmVsfSAqL1xuICB0aGlzLnB1YlN1YkNoYW5uZWwgPSB0aGlzLnB1YlN1Yi5zdWJzY3JpYmUodGhpcy5pZCk7XG4gIHRoaXMucHViU3ViQ2hhbm5lbC5zdWJzY3JpYmUoV0hPTEVfU0hBUkRfRVZFTlQsXG4gICAgICBOZXRTaW1TaGFyZC5wcm90b3R5cGUub25QdWJTdWJFdmVudF8uYmluZCh0aGlzKSk7XG5cbiAgLyoqXG4gICAqIENvbGxlY3Rpb24gb2YgY2xpZW50ICh1c2VyKSBub2RlcyBhbmQgcm91dGVyIG5vZGVzIG9uIHRoZSBzaGFyZC5cbiAgICogRWFjaCBjbGllbnQgbm9kZSBjb3JyZXNwb25kcyB0byBhIHVzZXIgKG9yIGJyb3dzZXIgdGFiLCB0byBiZSBzcGVjaWZpYykuXG4gICAqIFJvdXRlciBub2RlcyBhcmUgbm90IGFzc29jaWF0ZWQgd2l0aCBhIHBhcnRpY3VsYXIgdXNlci5cbiAgICpcbiAgICogQWxsIGVudGl0aWVzIGluIHRoaXMgdGFibGUgZGVzY2VuZCBmcm9tIE5ldFNpbU5vZGUsIGFuZCBjYW4gYmUgZGVzZXJpYWxpemVkXG4gICAqIHZpYSB1dGlsaXRpZXMgaW4gTmV0U2ltTm9kZUZhY3RvcnlcbiAgICpcbiAgICogUm93cyBpbiB0aGlzIHRhYmxlIGFyZVxuICAgKiAtIGluc2VydGVkIHdoZW4gYSBub2RlIGlzIGNyZWF0ZWQgKHN1Y2ggYXMgd2hlbiBhIHVzZXIgY29ubmVjdHMpXG4gICAqIC0gdXBkYXRlZCBmb3IgY2VydGFpbiBjaGFuZ2VzIHRvIG5vZGUgc3RhdHVzIG9yIHJvdXRlciBjb25maWd1cmF0aW9uXG4gICAqIC0gZGVsZXRlZCB3aGVuIGEgbm9kZSBpcyBkZXN0cm95ZWQgKHN1Y2ggYXMgd2hlbiBhIHVzZXIgZGlzY29ubmVjdHMpXG4gICAqXG4gICAqIEB0eXBlIHtOZXRTaW1UYWJsZX1cbiAgICogQHNlZSB7TmV0U2ltTm9kZX1cbiAgICogQHNlZSB7TmV0U2ltQ2xpZW50Tm9kZX1cbiAgICogQHNlZSB7TmV0U2ltUm91dGVyTm9kZX1cbiAgICogQHNlZSB7TmV0U2ltTG9jYWxDbGllbnROb2RlfVxuICAgKiBAc2VlIHtOZXRTaW1Ob2RlRmFjdG9yeX1cbiAgICovXG4gIHRoaXMubm9kZVRhYmxlID0gbmV3IE5ldFNpbVRhYmxlKHRoaXMucHViU3ViQ2hhbm5lbCwgc2hhcmRJRCwgJ24nKTtcblxuICAvKipcbiAgICogQ29sbGVjdGlvbiBvZiB3aXJlcyBvbiB0aGUgc2hhcmQuICBXaXJlcyBkb2N1bWVudCB0aGUgY29ubmVjdGlvbnMgYmV0d2VlblxuICAgKiBub2RlcyBhbmQgY2VydGFpbiBub2RlIG1ldGFkYXRhLCBsaWtlIGhvc3RuYW1lcyBhbmQgYWRkcmVzc2VzLiAgV2lyZXNcbiAgICogcmVmZXJlbmNlIG5vZGUgSURzLCBhbmQgYXJlIHRoZXJlZm9yZSByZWZlcmVudGlhbGx5IGRlcGVuZGVudCBvbiB0aGUgbm9kZVxuICAgKiB0YWJsZS5cbiAgICpcbiAgICogQWxsIGVudGl0aWVzIGluIHRoaXMgdGFibGUgZGVzZXJpYWxpemUgaW50byBOZXRTaW1XaXJlLlxuICAgKlxuICAgKiBSb3dzIGluIHRoaXMgdGFibGUgYXJlXG4gICAqIC0gaW5zZXJ0ZWQgd2hlbiB0d28gbm9kZXMgYXJlIGNvbm5lY3RlZFxuICAgKiAtIHVwZGF0ZWQgd2hlbiBhc3NpZ25pbmcgYW4gYWRkcmVzc1xuICAgKiAtIGRlbGV0ZWQgd2hlbiB0d28gbm9kZXMgYXJlIGRpc2Nvbm5lY3RlZFxuICAgKlxuICAgKiBAdHlwZSB7TmV0U2ltVGFibGV9XG4gICAqIEBzZWUge05ldFNpbVdpcmV9XG4gICAqL1xuICB0aGlzLndpcmVUYWJsZSA9IG5ldyBOZXRTaW1UYWJsZSh0aGlzLnB1YlN1YkNoYW5uZWwsIHNoYXJkSUQsICd3Jyk7XG5cbiAgLyoqXG4gICAqIENvbGxlY3Rpb24gb2YgbWVzc2FnZXMgKGVucXVldWVkIG9yIGluLWZsaWdodCkgb24gdGhlIHNoYXJkLiAgTWVzc2FnZXNcbiAgICogcmVmZXJlbmNlIG5vZGUgSURzLCBhbmQgYXJlIHRoZXJlZm9yZSByZWZlcmVudGlhbGx5IGRlcGVuZGVudCBvbiB0aGUgbm9kZVxuICAgKiB0YWJsZS5cbiAgICpcbiAgICogQWxsIGVudGl0aWVzIGluIHRoaXMgdGFibGUgZGVzZXJpYWxpemUgaW50byBOZXRTaW1NZXNzYWdlLlxuICAgKlxuICAgKiBSb3dzIGluIHRoaXMgdGFibGUgYXJlXG4gICAqIC0gaW5zZXJ0ZWQgd2hlbiBhIG1lc3NhZ2UgaXMgc2VudFxuICAgKiAtIG5ldmVyIHVwZGF0ZWRcbiAgICogLSBkZWxldGVkIHdoZW4gYSBtZXNzYWdlIGlzIHJlY2VpdmVkXG4gICAqXG4gICAqIEB0eXBlIHtOZXRTaW1UYWJsZX1cbiAgICogQHNlZSB7TmV0U2ltTWVzc2FnZX1cbiAgICovXG4gIHRoaXMubWVzc2FnZVRhYmxlID0gbmV3IE5ldFNpbVRhYmxlKHRoaXMucHViU3ViQ2hhbm5lbCwgc2hhcmRJRCwgJ20nKTtcblxuICAvKipcbiAgICogQ29sbGVjdGlvbiBvZiBsb2cgZW50cmllcyBmb3Igbm9kZXMgb24gdGhlIHNoYXJkLiAgTG9ncyByZWZlcmVuY2Ugbm9kZSBJRHMsXG4gICAqIGFuZCBhcmUgdGhlcmVmb3JlIHJlZmVyZW50aWFsbHkgZGVwZW5kZW50IG9uIHRoZSBub2RlIHRhYmxlIChidXQgd2Ugc2hvdWxkXG4gICAqIGNoYW5nZSB0aGlzKS5jaGFubmVsXG4gICAqXG4gICAqIEFsbCBlbnRpdGllcyBpbiB0aGlzIHRhYmxlIGRlc2VyaWFsaXplIGludG8gTmV0U2ltTG9nRW50cnkuXG4gICAqXG4gICAqIFJvd3MgaW4gdGhpcyB0YWJsZSBhcmVcbiAgICogLSBpbnNlcnRlZCB3aGVuIGEgcm91dGVyIHJvdXRlcyBvciBkcm9wcyBhIG1lc3NhZ2VcbiAgICogLSBuZXZlciB1cGRhdGVkXG4gICAqIC0gbmV2ZXIgZGVsZXRlZFxuICAgKlxuICAgKiBAdHlwZSB7TmV0U2ltVGFibGV9XG4gICAqIEBzZWUge05ldFNpbUxvZ0VudHJ5fVxuICAgKi9cbiAgdGhpcy5sb2dUYWJsZSA9IG5ldyBOZXRTaW1UYWJsZSh0aGlzLnB1YlN1YkNoYW5uZWwsIHNoYXJkSUQsICdsJywge1xuICAgIC8vIFRoaXMgaXMgb25seSBzYWZlIHRvIGRvIGJlY2F1c2Ugd2UgbmV2ZXIgdXBkYXRlIG9yIGRlbGV0ZSByb3dzIGluIHRoaXMgdGFibGUuXG4gICAgdXNlSW5jcmVtZW50YWxSZWZyZXNoOiB0cnVlXG4gIH0pO1xuICB0aGlzLmxvZ1RhYmxlLnVuc3Vic2NyaWJlKCk7XG59O1xuXG4vKipcbiAqIE5lY2Vzc2FyeSB0ZWFyLWRvd24gZm9yIHNoYXJkLiAgSW4gcGFydGljdWxhciwgZGlzY29ubmVjdGluZ1xuICogZnJvbSBwdWJzdWIgc2VydmljZS5cbiAqL1xuTmV0U2ltU2hhcmQucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMubm9kZVRhYmxlLnVuc3Vic2NyaWJlKCk7XG4gIHRoaXMud2lyZVRhYmxlLnVuc3Vic2NyaWJlKCk7XG4gIHRoaXMubWVzc2FnZVRhYmxlLnVuc3Vic2NyaWJlKCk7XG4gIHRoaXMubG9nVGFibGUudW5zdWJzY3JpYmUoKTtcbiAgdGhpcy5wdWJTdWJDaGFubmVsLnVuc3Vic2NyaWJlKFdIT0xFX1NIQVJEX0VWRU5UKTtcbiAgdGhpcy5wdWJTdWJDaGFubmVsID0gbnVsbDtcbiAgdGhpcy5wdWJTdWIudW5zdWJzY3JpYmUodGhpcy5pZCk7XG59O1xuXG4vKipcbiAqIFRoaXMgdGljayBhbGxvd3Mgb3VyIHRhYmxlcyB0byBwb2xsIHRoZSBzZXJ2ZXIgZm9yIGNoYW5nZXMuXG4gKiBAcGFyYW0geyFSdW5Mb29wLkNsb2NrfSBjbG9ja1xuICovXG5OZXRTaW1TaGFyZC5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uIChjbG9jaykge1xuICB0aGlzLm5vZGVUYWJsZS50aWNrKGNsb2NrKTtcbiAgdGhpcy53aXJlVGFibGUudGljayhjbG9jayk7XG4gIHRoaXMubWVzc2FnZVRhYmxlLnRpY2soY2xvY2spO1xuICB0aGlzLmxvZ1RhYmxlLnRpY2soY2xvY2spO1xufTtcblxuLyoqXG4gKiBUaGUgXCJwYW5pYyBidXR0b25cIiBvcHRpb24gLSBjbGVhcnMgYWxsIGRhdGEgb24gdGhlIHNoYXJkLCBraWNraW5nIGFsbFxuICogdXNlcnMgb3V0IGFuZCBzdGFydGluZyBvdmVyLlxuICogQHBhcmFtIHtOb2RlU3R5bGVDYWxsYmFja30gb25Db21wbGV0ZVxuICovXG5OZXRTaW1TaGFyZC5wcm90b3R5cGUucmVzZXRFdmVyeXRoaW5nID0gZnVuY3Rpb24gKG9uQ29tcGxldGUpIHtcbiAgJC5hamF4KHtcbiAgICB1cmw6ICcvdjMvbmV0c2ltLycgKyB0aGlzLmlkLFxuICAgIHR5cGU6ICdkZWxldGUnLFxuICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCcsXG4gICAgZGF0YVR5cGU6IFwianNvblwiXG4gIH0pLmRvbmUoZnVuY3Rpb24oKSB7XG4gICAgb25Db21wbGV0ZShudWxsLCB0cnVlKTtcbiAgfSkuZmFpbChmdW5jdGlvbihyZXF1ZXN0LCBzdGF0dXMsIGVycm9yKSB7XG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcignc3RhdHVzOiAnICsgc3RhdHVzICsgJzsgZXJyb3I6ICcgKyBlcnJvcik7XG4gICAgb25Db21wbGV0ZShlcnIsIGZhbHNlKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIENhbGxlZCB3aGVuIHRoZSBQdWJTdWIgc2VydmljZSBmaXJlcyBhbiBldmVudCB0aGF0IGFwcGxpZXMgdG8gYWxsIHRhYmxlc1xuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltU2hhcmQucHJvdG90eXBlLm9uUHViU3ViRXZlbnRfID0gZnVuY3Rpb24gKCkge1xuICAvLyBSaWdodCBub3csIHRoZSBvbmx5IGFsbF90YWJsZXMgZXZlbnQgaXMgdGhlIHNoYXJkIHJlc2V0LlxuICAvLyBSZWZyZXNoaW5nIHRoZSBub2RlIHRhYmxlIGluZm9ybXMgb3VyIG5vZGUgdGhhdCBhIHJlc2V0IGhhcyBvY2N1cnJlZC5cbiAgLy8gVE9ETzogVXNlIGEgXCJkaXNjb25uZWN0IGZyb20gc2hhcmRcIiBjYWxsYmFjayBpbnN0ZWFkIGhlcmUuXG4gIHRoaXMubm9kZVRhYmxlLnJlZnJlc2goKTtcbn07XG4iLCIvKipcbiAqIEBvdmVydmlldyBXcmFwcGVkIHB1Yi9zdWIgc2VydmljZSBjbGllbnQgQVBJcyAobGlrZSBQdXNoZXIpXG4gKi9cbi8vIFN0cmljdCBsaW50aW5nOiBBYnNvcmIgaW50byBnbG9iYWwgY29uZmlnIHdoZW4gcG9zc2libGVcbi8qIGpzaGludFxuIHVudXNlZDogdHJ1ZSxcbiBlcWVxZXE6IHRydWUsXG5cbiBtYXhsZW46IDEyMFxuICovXG4vKiBnbG9iYWwgUHVzaGVyICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBQdWJTdWJDaGFubmVsID0gcmVxdWlyZSgnLi9QdWJTdWJDaGFubmVsJyk7XG5cbi8qKlxuICogSmF2YVNjcmlwdCBpbnRlcmZhY2UgZm9yIGEgcHVibGlzaC9zdWJzY3JpYmUgc2VydmljZSBwcm92aWRlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBhcHBsaWNhdGlvbktleVxuICogQGludGVyZmFjZVxuICovXG52YXIgUHViU3ViU2VydmljZSA9IGV4cG9ydHM7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUHViU3ViQ29uZmlnXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHVzZVB1c2hlciAtIFdoZXRoZXIgdG8gdXNlIFB1c2hlcidzIEFQSSwgb3IgYSBudWxsXG4gKiAgICAgICAgICAgaW1wbGVtZW50YXRpb24uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gcHVzaGVyQXBwbGljYXRpb25LZXkgLSBJZiB1c2luZyBQdXNoZXIsIHRoZSBwdWJsaWMga2V5XG4gKiAgICAgICAgICAgcmVxdWlyZWQgdG8gaW5pdGlhbGl6ZSB0aGUgUHVzaGVyIEFQSS5cbiAqL1xuXG4vKipcbiAqIENyZWF0ZSBhbiBBUEkgaW5zdGFuY2UgYXBwcm9wcmlhdGUgdG8gdGhlIGN1cnJlbnQgY29uZmlndXJhdGlvbi5cbiAqIEBwYXJhbSB7IVB1YlN1YkNvbmZpZ30gcHViU3ViQ29uZmlnXG4gKiBAcmV0dXJucyB7UHViU3ViU2VydmljZX1cbiAqL1xuUHViU3ViU2VydmljZS5jcmVhdGUgPSBmdW5jdGlvbiAocHViU3ViQ29uZmlnKSB7XG4gIGlmIChwdWJTdWJDb25maWcudXNlUHVzaGVyKSB7XG4gICAgcmV0dXJuIG5ldyBQdWJTdWJTZXJ2aWNlLlB1c2hlclNlcnZpY2UocHViU3ViQ29uZmlnLnB1c2hlckFwcGxpY2F0aW9uS2V5KTtcbiAgfVxuXG4gIHJldHVybiBuZXcgUHViU3ViU2VydmljZS5OdWxsU2VydmljZSgpO1xufTtcblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBuYW1lIFB1YlN1YlNlcnZpY2Ujc3Vic2NyaWJlXG4gKiBAcGFyYW0ge3N0cmluZ30gY2hhbm5lbElEIC0gQ2hhbm5lbCB0byB3aGljaCB3ZSBzdWJzY3JpYmUuXG4gKiBAcmV0dXJucyB7UHViU3ViQ2hhbm5lbH1cbiAqL1xuXG4vKipcbiAqIEBmdW5jdGlvblxuICogQG5hbWUgUHViU3ViU2VydmljZSN1bnN1YnNjcmliZVxuICogQHBhcmFtIHtzdHJpbmd9IGNoYW5uZWxJRCAtIENoYW5uZWwgZnJvbSB3aGljaCB3ZSB1bnN1YnNjcmliZS5cbiAqL1xuXG4vKipcbiAqIFN0dWIgaW1wbGVtZW50YXRpb24gb2YgUHViU3ViIEFQSS5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGltcGxlbWVudHMgUHViU3ViU2VydmljZVxuICovXG4vLyBEaXNhYmxlIFwidW51c2VkIHZhcmlhYmxlXCIgZXJyb3JzIGZvciBudWxsIGltcGxlbWVudGF0aW9uIGRlY2xhcmF0aW9uc1xuLyoganNoaW50IHVudXNlZDpmYWxzZSAqL1xuUHViU3ViU2VydmljZS5OdWxsU2VydmljZSA9IGZ1bmN0aW9uICgpIHsgfTtcblxuLyoqXG4gKiBTdWJzY3JpYmUgdG8gZXZlbnRzIG9uIGEgcGFydGljdWxhciBjaGFubmVsLlxuICogQHBhcmFtIHtzdHJpbmd9IGNoYW5uZWxJRFxuICogQHJldHVybnMge1B1YlN1YkNoYW5uZWx9XG4gKi9cblB1YlN1YlNlcnZpY2UuTnVsbFNlcnZpY2UucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChjaGFubmVsSUQpIHtcbiAgcmV0dXJuIG5ldyBQdWJTdWJDaGFubmVsLk51bGxDaGFubmVsKCk7XG59O1xuXG4vKipcbiAqIFVuc3Vic2NyaWJlIGZyb20gZXZlbnRzIG9uIGEgcGFydGljdWxhciBjaGFubmVsLlxuICogQHBhcmFtIHtzdHJpbmd9IGNoYW5uZWxJRFxuICovXG5QdWJTdWJTZXJ2aWNlLk51bGxTZXJ2aWNlLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uIChjaGFubmVsSUQpIHsgfTtcblxuLy8gUmUtZW5hYmxlIFwidW51c2VkIHZhcmlhYmxlXCIgZXJyb3Jcbi8qIGpzaGludCB1bnVzZWQ6dHJ1ZSAqL1xuXG4vKipcbiAqIFdyYXBwZWQgUHVzaGVyLmNvbSBBUEkuXG4gKiBAcGFyYW0ge3N0cmluZ30gYXBwbGljYXRpb25LZXlcbiAqIEBjb25zdHJ1Y3RvclxuICogQGltcGxlbWVudHMgUHViU3ViU2VydmljZVxuICovXG5QdWJTdWJTZXJ2aWNlLlB1c2hlclNlcnZpY2UgPSBmdW5jdGlvbiAoYXBwbGljYXRpb25LZXkpIHtcbiAgLyoqXG4gICAqIEluc3RhbmNlIG9mIGFjdHVhbCBQdXNoZXIgSmF2YVNjcmlwdCBBUEkuXG4gICAqIEB0eXBlIHtQdXNoZXJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmFwaV8gPSBuZXcgUHVzaGVyKGFwcGxpY2F0aW9uS2V5LCB7IGVuY3J5cHRlZDogdHJ1ZSB9KTtcbn07XG5cbi8qKlxuICogU3Vic2NyaWJlIHRvIGV2ZW50cyBvbiBhIHBhcnRpY3VsYXIgY2hhbm5lbC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBjaGFubmVsSURcbiAqIEByZXR1cm5zIHtQdWJTdWJDaGFubmVsfVxuICovXG5QdWJTdWJTZXJ2aWNlLlB1c2hlclNlcnZpY2UucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChjaGFubmVsSUQpIHtcbiAgcmV0dXJuIG5ldyBQdWJTdWJDaGFubmVsLlB1c2hlckNoYW5uZWwodGhpcy5hcGlfLnN1YnNjcmliZShjaGFubmVsSUQpKTtcbn07XG5cbi8qKlxuICogVW5zdWJzY3JpYmUgZnJvbSBldmVudHMgb24gYSBwYXJ0aWN1bGFyIGNoYW5uZWwuXG4gKiBAcGFyYW0ge3N0cmluZ30gY2hhbm5lbElEXG4gKi9cblB1YlN1YlNlcnZpY2UuUHVzaGVyU2VydmljZS5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoY2hhbm5lbElEKSB7XG4gIHRoaXMuYXBpXy51bnN1YnNjcmliZShjaGFubmVsSUQpO1xufTtcbiIsIi8qKlxuICogQG92ZXJ2aWV3IFdyYXBwZWQgcHViL3N1YiBzZXJ2aWNlIGNoYW5uZWwgQVBJcyAobGlrZSBQdXNoZXIncyBDaGFubmVsKVxuICovXG4vLyBTdHJpY3QgbGludGluZzogQWJzb3JiIGludG8gZ2xvYmFsIGNvbmZpZyB3aGVuIHBvc3NpYmxlXG4vKiBqc2hpbnRcbiB1bnVzZWQ6IHRydWUsXG4gZXFlcWVxOiB0cnVlLFxuIG1heGxlbjogMTIwXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBKYXZhc2NyaXB0IGludGVyZmFjZSBmb3IgYSBwdWJsaXNoL3N1YnNjcmliZSBjaGFubmVsLlxuICogQGludGVyZmFjZVxuICovXG52YXIgUHViU3ViQ2hhbm5lbCA9IGV4cG9ydHM7XG5cbi8qKlxuICogU3Vic2NyaWJlIHRvIGFuIGV2ZW50LCBzbyB0aGF0IHRoZSBnaXZlbiBjYWxsYmFjayBpcyBjYWxsZWQgd2hlbiB0aGVcbiAqIGV2ZW50IG9jY3Vycy5cbiAqIEBmdW5jdGlvblxuICogQG5hbWUgUHViU3ViQ2hhbm5lbCNzdWJzY3JpYmVcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQgdG8gYmluZCB0by5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gQSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbmV2ZXIgdGhlIGV2ZW50IGlzXG4gKiAgICAgICAgdHJpZ2dlcmVkLlxuICovXG5cbi8vIERpc2FibGUgXCJ1bnVzZWQgdmFyaWFibGVcIiBlcnJvcnMgZm9yIG51bGwgaW1wbGVtZW50YXRpb24gZGVjbGFyYXRpb25zXG4vKiBqc2hpbnQgdW51c2VkOmZhbHNlICovXG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAaW1wbGVtZW50cyBQdWJTdWJDaGFubmVsXG4gKi9cblB1YlN1YkNoYW5uZWwuTnVsbENoYW5uZWwgPSBmdW5jdGlvbiAoKSB7IH07XG5cbi8qKlxuICogU3Vic2NyaWJlIHRvIGFuIGV2ZW50IHNvIHRoZSBnaXZlbiBjYWxsYmFjayBpcyBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgb2NjdXJzLlxuICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50TmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBldmVudCB0byBiaW5kIHRvLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuZXZlciB0aGUgZXZlbnQgaXNcbiAqICAgICAgICB0cmlnZ2VyZWQuXG4gKi9cblB1YlN1YkNoYW5uZWwuTnVsbENoYW5uZWwucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7IH07XG5cbi8qKlxuICogVW5zdWJzY3JpYmUgYSBnaXZlbiBjYWxsYmFjayBmcm9tIGEgZ2l2ZW4gZXZlbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAqL1xuUHViU3ViQ2hhbm5lbC5OdWxsQ2hhbm5lbC5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoZXZlbnROYW1lKSB7IH07XG5cbi8vIFJlLWVuYWJsZSBcInVudXNlZCB2YXJpYWJsZVwiIGVycm9yXG4vKiBqc2hpbnQgdW51c2VkOnRydWUgKi9cblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBpbXBsZW1lbnRzIFB1YlN1YkNoYW5uZWxcbiAqL1xuUHViU3ViQ2hhbm5lbC5QdXNoZXJDaGFubmVsID0gZnVuY3Rpb24gKHB1c2hlckFwaUNoYW5uZWwpIHtcbiAgLyoqXG4gICAqIFRoZSBhY3R1YWwgUHVzaGVyIEFQSSdzIGNoYW5uZWwuXG4gICAqIEBwcml2YXRlIHtDaGFubmVsfVxuICAgKi9cbiAgdGhpcy5wdXNoZXJDaGFubmVsXyA9IHB1c2hlckFwaUNoYW5uZWw7XG5cbiAgLyoqXG4gICAqIENhY2hlIHByb3ZpZGVkIGNhbGxiYWNrcyBmb3IgZWFzeSB1bnN1YnNjcmliZS5cbiAgICogTWFwcyBldmVudCBuYW1lIHRvIGNhbGxiYWNrLlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5jYWxsYmFja3NfID0ge307XG59O1xuXG4vKipcbiAqIFN1YnNjcmliZSB0byBhbiBldmVudCBzbyB0aGUgZ2l2ZW4gY2FsbGJhY2sgaXMgY2FsbGVkIHdoZW4gdGhlIGV2ZW50IG9jY3Vycy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gY2FsbGJhY2tcbiAqIEB0aHJvd3Mge0Vycm9yfSBvbiBkb3VibGUtc3Vic2NyaWJlLlxuICovXG5QdWJTdWJDaGFubmVsLlB1c2hlckNoYW5uZWwucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gIHRoaXMucHVzaGVyQ2hhbm5lbF8uYmluZChldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgaWYgKHRoaXMuY2FsbGJhY2tzX1tldmVudE5hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJBbHJlYWR5IHN1YnNjcmliZWQgdG8gZXZlbnQgXCIgKyBldmVudE5hbWUpO1xuICB9XG4gIHRoaXMuY2FsbGJhY2tzX1tldmVudE5hbWVdID0gY2FsbGJhY2s7XG59O1xuXG4vKipcbiAqIFVuc3Vic2NyaWJlIGEgZ2l2ZW4gY2FsbGJhY2sgZnJvbSBhIGdpdmVuIGV2ZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lXG4gKi9cblB1YlN1YkNoYW5uZWwuUHVzaGVyQ2hhbm5lbC5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gIHRoaXMucHVzaGVyQ2hhbm5lbF8udW5iaW5kKGV2ZW50TmFtZSwgdGhpcy5jYWxsYmFja3NfW2V2ZW50TmFtZV0pO1xuICBkZWxldGUgdGhpcy5jYWxsYmFja3NfW2V2ZW50TmFtZV07XG59O1xuIiwiLyoqXG4gKiBAb3ZlcnZpZXcgV3JhcHMgcmVtb3RlIHN0b3JhZ2UgaW50ZXJmYWNlIGFuZCBwb2xsaW5nIGJlaGF2aW9yLlxuICovXG4vLyBTdHJpY3QgbGludGluZzogQWJzb3JiIGludG8gZ2xvYmFsIGNvbmZpZyB3aGVuIHBvc3NpYmxlXG4vKiBqc2hpbnRcbiB1bnVzZWQ6IHRydWUsXG4gZXFlcWVxOiB0cnVlLFxuIG1heGxlbjogMTIwXG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIF8gPSByZXF1aXJlKCcuLi91dGlscycpLmdldExvZGFzaCgpO1xudmFyIE9ic2VydmFibGVFdmVudCA9IHJlcXVpcmUoJy4uL09ic2VydmFibGVFdmVudCcpO1xudmFyIE5ldFNpbUFwaSA9IHJlcXVpcmUoJy4vTmV0U2ltQXBpJyk7XG52YXIgTmV0U2ltR2xvYmFscyA9IHJlcXVpcmUoJy4vTmV0U2ltR2xvYmFscycpO1xudmFyIEFyZ3VtZW50VXRpbHMgPSByZXF1aXJlKCcuL0FyZ3VtZW50VXRpbHMnKTtcblxuLyoqXG4gKiBNYXhpbXVtIHRpbWUgKGluIG1pbGxpc2Vjb25kcykgdGhhdCB0YWJsZXMgc2hvdWxkIHdhaXQgYmV0d2VlbiBmdWxsIGNhY2hlXG4gKiB1cGRhdGVzIGZyb20gdGhlIHNlcnZlci5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbnZhciBERUZBVUxUX1BPTExJTkdfREVMQVlfTVMgPSAxMDAwMDtcblxuLyoqXG4gKiBNaW5pbXVtIHRpbWUgKGluIG1zKSB0byB3YWl0IGFmdGVyIGFuIGludmFsaWRhdGlvbiBldmVudCBiZWZvcmUgYXR0ZW1wdGluZ1xuICogdG8gdHJpZ2dlciBhIHJlZnJlc2ggcmVxdWVzdC4gIFRoaXMgcHJvZHVjZXMgYSB3aW5kb3cgaW4gd2hpY2ggY2x1c3RlcmVkXG4gKiBpbnZhbGlkYXRpb25zIGNhbiBiZSBjYXB0dXJlZCBhbmQgY29hbGVzY2VkIHRvZ2V0aGVyLlxuICogQHR5cGUge251bWJlcn1cbiAqL1xudmFyIERFRkFVTFRfTUlOSU1VTV9ERUxBWV9CRUZPUkVfUkVGUkVTSF9NUyA9IDI1MDtcblxuLyoqXG4gKiBNYXhpbXVtIGFkZGl0aW9uYWwgcmFuZG9tIGRlbGF5IChpbiBtcykgdG8gYWRkIGJlZm9yZSB0aGUgcmVmcmVzaCByZXF1ZXN0LlxuICogSGVscHMgc3ByZWFkIG91dCByZXF1ZXN0cyBmcm9tIGRpZmZlcmVudCBjbGllbnRzIHJlc3BvbmRpbmcgdG8gdGhlIHNhbWVcbiAqIGludmFsaWRhdGlvbiBldmVudHMuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG52YXIgREVGQVVMVF9NQVhJTVVNX0RFTEFZX0pJVFRFUl9NUyA9IDIwMDtcblxuLyoqXG4gKiBNaW5pbXVtIHRpbWUgKGluIG1zKSB0byB3YWl0IGJldHdlZW4gcmVmcmVzaCByZXF1ZXN0cywgcmVnYXJkbGVzcyBvZiBob3dcbiAqIG1hbnkgaW52YWxpZGF0aW9uIGV2ZW50cyBvY2N1ci5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbnZhciBERUZBVUxUX01JTklNVU1fREVMQVlfQkVUV0VFTl9SRUZSRVNIRVNfTVMgPSAyNTAwO1xuXG4vKipcbiAqIFdyYXBzIHRoZSBhcHAgc3RvcmFnZSB0YWJsZSBBUEkgaW4gYW4gb2JqZWN0IHdpdGggbG9jYWxcbiAqIGNhY2hpbmcgYW5kIGNhbGxiYWNrcywgd2hpY2ggcHJvdmlkZXMgYSBub3RpZmljYXRpb24gQVBJIHRvIHRoZSByZXN0XG4gKiBvZiB0aGUgTmV0U2ltIGNvZGUuXG4gKiBAcGFyYW0geyFQdWJTdWJDaGFubmVsfSBjaGFubmVsIC0gVGhlIHB1YnN1YiBjaGFubmVsIHVzZWQgdG8gbGlzdGVuXG4gKiAgICAgICAgZm9yIGNoYW5nZXMgdG8gdGhlIHRhYmxlLmNlbGxQYWRkaW5nXG4gKiBAcGFyYW0geyFzdHJpbmd9IHNoYXJkSUQgLSBUaGUgc2hhcmQgSUQgc3BlY2lmaWMgdG8gdGhpcyBjbGFzcycgTmV0U2ltIGluc3RhbmNlLlxuICogQHBhcmFtIHshc3RyaW5nfSB0YWJsZU5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVtb3RlIHN0b3JhZ2UgdGFibGUgdG8gd3JhcC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBBZGRpdGlvbmFsIHRhYmxlIGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy51c2VJbmNyZW1lbnRhbFJlZnJlc2hdIC0gZGVmYXVsdHMgdG8gRkFMU0UuICBJZlxuICogICAgICAgIFRSVUUsIHRoaXMgdGFibGUgd2lsbCBvbmx5IHJlcXVlc3QgY29udGVudCB0aGF0IGlzIG5ldyBzaW5jZSBpdHNcbiAqICAgICAgICBsYXN0IHJlZnJlc2gsIG5vdCB0aGUgZW50aXJlIHRhYmxlIGNvbnRlbnRzLiAgQ3VycmVudGx5IHRoaXMgb3B0aW9uXG4gKiAgICAgICAgaXMgbm90IHNhZmUgdG8gdXNlIGlmIHlvdSBjYXJlIGFib3V0IHVwZGF0ZXMgb3IgZGVsZXRlcyBpbiB0aGUgdGFibGUuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWluaW11bURlbGF5QmVmb3JlUmVmcmVzaF0gLSBNaW5pbXVtIHRpbWUgKGluIG1zKVxuICogICAgICAgIHRvIHdhaXQgYWZ0ZXIgYW4gaW52YWxpZGF0aW9uIGV2ZW50IGJlZm9yZSBhdHRlbXB0aW5nIHRvIHRyaWdnZXIgYVxuICogICAgICAgIHJlZnJlc2ggcmVxdWVzdC4gIFRoaXMgcHJvZHVjZXMgYSB3aW5kb3cgaW4gd2hpY2ggY2x1c3RlcmVkXG4gKiAgICAgICAgaW52YWxpZGF0aW9ucyBjYW4gYmUgY2FwdHVyZWQgYW5kIGNvYWxlc2NlZCB0b2dldGhlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhpbXVtSml0dGVyRGVsYXldIC0gTWF4aW11bSBhZGRpdGlvbmFsIHJhbmRvbVxuICogICAgICAgIGRlbGF5IChpbiBtcykgdG8gYWRkIGJlZm9yZSB0aGUgcmVmcmVzaCByZXF1ZXN0LiAgSGVscHMgc3ByZWFkIG91dFxuICogICAgICAgIHJlcXVlc3RzIGZyb20gZGlmZmVyZW50IGNsaWVudHMgcmVzcG9uZGluZyB0byB0aGUgc2FtZSBpbnZhbGlkYXRpb25cbiAqICAgICAgICBldmVudHMuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWluaW11bURlbGF5QmV0d2VlblJlZnJlc2hlc10gLSBNaW5pbXVtIHRpbWUgKGluIG1zKVxuICogICAgICAgIHRvIHdhaXQgYmV0d2VlbiByZWZyZXNoIHJlcXVlc3RzLCByZWdhcmRsZXNzIG9mIGhvdyBtYW55IGludmFsaWRhdGlvblxuICogICAgICAgIGV2ZW50cyBvY2N1ci5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHRocm93cyB7RXJyb3J9IGlmIHdyb25nIG51bWJlciBvZiBhcmd1bWVudHMgYXJlIHByb3ZpZGVkLlxuICogQHRocm93cyB7VHlwZUVycm9yfSBpZiBpbnZhbGlkIHR5cGVzIGFyZSBwYXNzZWQgaW4gdGhlIG9wdGlvbnMgb2JqZWN0LlxuICovXG52YXIgTmV0U2ltVGFibGUgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjaGFubmVsLCBzaGFyZElELCB0YWJsZU5hbWUsIG9wdGlvbnMpIHtcbiAgQXJndW1lbnRVdGlscy52YWxpZGF0ZVJlcXVpcmVkKGNoYW5uZWwsICdjaGFubmVsJyk7XG4gIEFyZ3VtZW50VXRpbHMudmFsaWRhdGVSZXF1aXJlZChzaGFyZElELCAnc2hhcmRJRCcsIEFyZ3VtZW50VXRpbHMuaXNTdHJpbmcpO1xuICBBcmd1bWVudFV0aWxzLnZhbGlkYXRlUmVxdWlyZWQodGFibGVOYW1lLCAndGFibGVOYW1lJywgQXJndW1lbnRVdGlscy5pc1N0cmluZyk7XG4gIG9wdGlvbnMgPSBBcmd1bWVudFV0aWxzLmV4dGVuZE9wdGlvbnNPYmplY3Qob3B0aW9ucyk7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlIHtzdHJpbmd9XG4gICAqL1xuICB0aGlzLnRhYmxlTmFtZV8gPSB0YWJsZU5hbWU7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlIHtQdWJTdWJDaGFubmVsfVxuICAgKi9cbiAgdGhpcy5jaGFubmVsXyA9IGNoYW5uZWw7XG4gIHRoaXMuc3Vic2NyaWJlKCk7XG5cbiAgLyoqXG4gICAqIEFQSSBvYmplY3QgZm9yIG1ha2luZyByZW1vdGUgY2FsbHNcbiAgICogQHR5cGUge05ldFNpbUFwaX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuYXBpXyA9IE5ldFNpbUFwaS5tYWtlVGFibGVBcGkoc2hhcmRJRCwgdGFibGVOYW1lKTtcblxuICAvKipcbiAgICogRXZlbnQgdGhhdCBmaXJlcyB3aGVuIGZ1bGwgdGFibGUgdXBkYXRlcyBpbmRpY2F0ZSBhIGNoYW5nZSxcbiAgICogd2hlbiByb3dzIGFyZSBhZGRlZCwgb3Igd2hlbiByb3dzIGFyZSByZW1vdmVkLCBvciB3aGVuIHJvd3MgY2hhbmdlLlxuICAgKiBAdHlwZSB7T2JzZXJ2YWJsZUV2ZW50fVxuICAgKi9cbiAgdGhpcy50YWJsZUNoYW5nZSA9IG5ldyBPYnNlcnZhYmxlRXZlbnQoKTtcblxuICAvKipcbiAgICogU3RvcmUgdGFibGUgY29udGVudHMgbG9jYWxseSwgc28gd2UgY2FuIGRldGVjdCB3aGVuIGNoYW5nZXMgb2NjdXIuXG4gICAqIEBwcml2YXRlIHtPYmplY3R9XG4gICAqL1xuICB0aGlzLmNhY2hlXyA9IHt9O1xuXG4gIC8qKlxuICAgKiBUaGUgcm93IElEIG9mIHRoZSBtb3N0IHJlY2VudGx5IGluc2VydGVkIHJvdyByZXRyaWV2ZWQgZnJvbSByZW1vdGUgc3RvcmFnZS5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMubGF0ZXN0Um93SURfID0gMDtcblxuICAvKipcbiAgICogVW5peCB0aW1lc3RhbXAgZm9yIGxhc3QgdGltZSB0aGlzIHRhYmxlJ3MgY2FjaGUgY29udGVudHMgd2VyZSBmdWxseVxuICAgKiB1cGRhdGVkLiAgVXNlZCB0byBkZXRlcm1pbmUgd2hlbiB0byBwb2xsIHRoZSBzZXJ2ZXIgZm9yIGNoYW5nZXMuXG4gICAqIEBwcml2YXRlIHtudW1iZXJ9XG4gICAqL1xuICB0aGlzLmxhc3RSZWZyZXNoVGltZV8gPSAwO1xuXG4gIC8qKlxuICAgKiBJZiBUUlVFLCB3aWxsIG9ubHkgcmVxdWVzdCBkZWx0YXMgZnJvbSByZW1vdGUgc3RvcmFnZS4gIEN1cnJlbnRseVxuICAgKiB1bnNhZmUgaWYgd2UgY2FyZSBhYm91dCBtb3JlIHRoYW4gaW5zZXJ0cyB0byB0aGUgdGFibGUuXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy51c2VJbmNyZW1lbnRhbFJlZnJlc2hfID0gb3B0aW9ucy5nZXQoXG4gICAgICAndXNlSW5jcmVtZW50YWxSZWZyZXNoJyxcbiAgICAgIEFyZ3VtZW50VXRpbHMuaXNCb29sZWFuLFxuICAgICAgZmFsc2UpO1xuXG4gIC8qKlxuICAgKiBNaW5pbXVtIHRpbWUgKGluIG1zKSB0byB3YWl0IGFmdGVyIGFuIGludmFsaWRhdGlvbiBldmVudCBiZWZvcmUgYXR0ZW1wdGluZ1xuICAgKiB0byB0cmlnZ2VyIGEgcmVmcmVzaCByZXF1ZXN0LiAgVGhpcyBwcm9kdWNlcyBhIHdpbmRvdyBpbiB3aGljaCBjbHVzdGVyZWRcbiAgICogaW52YWxpZGF0aW9ucyBjYW4gYmUgY2FwdHVyZWQgYW5kIGNvYWxlc2NlZCB0b2dldGhlci5cbiAgICogQHByaXZhdGUge251bWJlcn1cbiAgICovXG4gIHRoaXMubWluaW11bURlbGF5QmVmb3JlUmVmcmVzaF8gPSBvcHRpb25zLmdldChcbiAgICAgICdtaW5pbXVtRGVsYXlCZWZvcmVSZWZyZXNoJyxcbiAgICAgIEFyZ3VtZW50VXRpbHMuaXNQb3NpdGl2ZU5vbmluZmluaXRlTnVtYmVyLFxuICAgICAgREVGQVVMVF9NSU5JTVVNX0RFTEFZX0JFRk9SRV9SRUZSRVNIX01TKTtcblxuICAvKipcbiAgICogTWF4aW11bSBhZGRpdGlvbmFsIHJhbmRvbSBkZWxheSAoaW4gbXMpIHRvIGFkZCBiZWZvcmUgdGhlIHJlZnJlc2ggcmVxdWVzdC5cbiAgICogSGVscHMgc3ByZWFkIG91dCByZXF1ZXN0cyBmcm9tIGRpZmZlcmVudCBjbGllbnRzIHJlc3BvbmRpbmcgdG8gdGhlIHNhbWVcbiAgICogaW52YWxpZGF0aW9uIGV2ZW50cy5cbiAgICogQHByaXZhdGUge251bWJlcn1cbiAgICovXG4gIHRoaXMubWF4aW11bUppdHRlckRlbGF5XyA9IG9wdGlvbnMuZ2V0KFxuICAgICAgJ21heGltdW1KaXR0ZXJEZWxheScsXG4gICAgICBBcmd1bWVudFV0aWxzLmlzUG9zaXRpdmVOb25pbmZpbml0ZU51bWJlcixcbiAgICAgIERFRkFVTFRfTUFYSU1VTV9ERUxBWV9KSVRURVJfTVMpO1xuXG4gIC8qKlxuICAgKiBNaW5pbXVtIHRpbWUgKGluIG1zKSB0byB3YWl0IGJldHdlZW4gcmVmcmVzaCByZXF1ZXN0cywgcmVnYXJkbGVzcyBvZiBob3dcbiAgICogbWFueSBpbnZhbGlkYXRpb24gZXZlbnRzIG9jY3VyLlxuICAgKiBAcHJpdmF0ZSB7bnVtYmVyfVxuICAgKi9cbiAgdGhpcy5taW5pbXVtRGVsYXlCZXR3ZWVuUmVmcmVzaGVzXyA9IG9wdGlvbnMuZ2V0KFxuICAgICAgJ21pbmltdW1EZWxheUJldHdlZW5SZWZyZXNoZXMnLFxuICAgICAgQXJndW1lbnRVdGlscy5pc1Bvc2l0aXZlTm9uaW5maW5pdGVOdW1iZXIsXG4gICAgICBERUZBVUxUX01JTklNVU1fREVMQVlfQkVUV0VFTl9SRUZSRVNIRVNfTVMpO1xuXG4gIC8qKlxuICAgKiBNaW5pbXVtIHRpbWUgKGluIG1pbGxpc2Vjb25kcykgdG8gd2FpdCBiZXR3ZWVuIHB1bGxpbmcgZnVsbCB0YWJsZSBjb250ZW50c1xuICAgKiBmcm9tIHJlbW90ZSBzdG9yYWdlLlxuICAgKiBAcHJpdmF0ZSB7bnVtYmVyfVxuICAgKi9cbiAgdGhpcy5wb2xsaW5nSW50ZXJ2YWxfID0gREVGQVVMVF9QT0xMSU5HX0RFTEFZX01TO1xuXG4gIC8qKlxuICAgKiBUaHJvdHRsZWQgdmVyc2lvbiAoc3BlY2lmaWMgdG8gdGhpcyBpbnN0YW5jZSkgb2YgdGhlIHJlZnJlc2ggb3BlcmF0aW9uLFxuICAgKiB1c2VkIHRvIGNvYWxlc2NlIHJlZnJlc2ggcmVxdWVzdHMuXG4gICAqIEBwcml2YXRlIHtmdW5jdGlvbn1cbiAgICovXG4gIHRoaXMucmVmcmVzaFRhYmxlXyA9IHRoaXMubWFrZVRocm90dGxlZFJlZnJlc2hfKCk7XG59O1xuXG4vKipcbiAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBjb25maWd1cmVkIHRhYmxlIG5hbWUuXG4gKi9cbk5ldFNpbVRhYmxlLnByb3RvdHlwZS5nZXRUYWJsZU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnRhYmxlTmFtZV87XG59O1xuXG4vKipcbiAqIFN1YnNjcmliZXMgdGhpcyB0YWJsZSdzIG9uUHViU3ViRXZlbnQgbWV0aG9kIHRvIGV2ZW50cyBmb3IgdGhpcyB0YWJsZVxuICogb24gb3VyIGxvY2FsIGNoYW5uZWwuXG4gKi9cbk5ldFNpbVRhYmxlLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuY2hhbm5lbF8uc3Vic2NyaWJlKHRoaXMudGFibGVOYW1lXyxcbiAgICAgIE5ldFNpbVRhYmxlLnByb3RvdHlwZS5vblB1YlN1YkV2ZW50Xy5iaW5kKHRoaXMpKTtcbn07XG5cbi8qKlxuICogVW51YnNjcmliZXMgdGhlIHNhdmVkIGNhbGxiYWNrIGZyb20gZXZlbnRzIGZvciB0aGlzIHRhYmxlIG9uIG91clxuICogbG9jYWwgY2hhbm5lbC5cbiAqL1xuTmV0U2ltVGFibGUucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmNoYW5uZWxfLnVuc3Vic2NyaWJlKHRoaXMudGFibGVOYW1lXyk7XG59O1xuXG4vKipcbiAqIEFzeW5jaHJvbm91c2x5IHJldHJpZXZlIG5ldy91cGRhdGVkIHRhYmxlIGNvbnRlbnQgZnJvbSB0aGUgc2VydmVyLCB1c2luZ1xuICogd2hhdGV2ZXIgbWV0aG9kIGlzIG1vc3QgYXBwcm9wcmlhdGUgdG8gdGhpcyB0YWJsZSdzIGNvbmZpZ3VyYXRpb24uXG4gKiBXaGVuIGRvbmUsIHVwZGF0ZXMgdGhlIGxvY2FsIGNhY2hlIGFuZCBoaXRzIHRoZSBwcm92aWRlZCBjYWxsYmFjayB0b1xuICogaW5kaWNhdGUgY29tcGxldGlvbi5cbiAqIEBwYXJhbSB7Tm9kZVN0eWxlQ2FsbGJhY2t9IFtjYWxsYmFja10gLSBpbmRpY2F0ZXMgY29tcGxldGlvbiBvZiB0aGUgb3BlcmF0aW9uLlxuICogQHJldHVybnMge2pRdWVyeS5Qcm9taXNlfSBHdWFyYW50ZWVkIHRvIHJlc29sdmUgYWZ0ZXIgdGhlIGNhY2hlIHVwZGF0ZSxcbiAqICAgICAgICAgIHNvIC5kb25lKCkgb3BlcmF0aW9ucyBjYW4gaW50ZXJhY3Qgd2l0aCB0aGUgY2FjaGUuXG4gKi9cbk5ldFNpbVRhYmxlLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIGNhbGxiYWNrID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkge307XG4gIHZhciBkZWZlcnJlZCA9ICQuRGVmZXJyZWQoKTtcblxuICAvLyBXaGljaCBBUEkgY2FsbCB0byBtYWtlXG4gIHZhciBhcGlDYWxsID0gdGhpcy51c2VJbmNyZW1lbnRhbFJlZnJlc2hfID9cbiAgICAgIHRoaXMuYXBpXy5hbGxSb3dzRnJvbUlELmJpbmQodGhpcy5hcGlfLCB0aGlzLmxhdGVzdFJvd0lEXyArIDEpIDpcbiAgICAgIHRoaXMuYXBpXy5hbGxSb3dzLmJpbmQodGhpcy5hcGlfKTtcblxuICAvLyBIb3cgdG8gdXBkYXRlIHRoZSBjYWNoZSAoZGVwZW5kcyBvbiB3aGF0IHdlIGV4cGVjdCB0byBnZXQgYmFjaylcbiAgdmFyIGNhY2hlVXBkYXRlID0gdGhpcy51c2VJbmNyZW1lbnRhbFJlZnJlc2hfID9cbiAgICAgIHRoaXMuaW5jcmVtZW50YWxDYWNoZVVwZGF0ZV8uYmluZCh0aGlzKSA6XG4gICAgICB0aGlzLmZ1bGxDYWNoZVVwZGF0ZV8uYmluZCh0aGlzKTtcblxuICAvLyBXaGF0IHNob3VsZCBoYXBwZW4gd2hlbiB0aGUgQVBJIGNhbGwgY29tcGxldGVzLlxuICB2YXIgYXBpQ2FsbENhbGxiYWNrID0gZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGNhbGxiYWNrKGVyciwgZGF0YSk7XG4gICAgICBkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FjaGVVcGRhdGUoZGF0YSk7XG4gICAgICBjYWxsYmFjayhlcnIsIGRhdGEpO1xuICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgIH1cbiAgfTtcblxuICAvLyBEbyB3ZSBmaXJlIHRoZSBBUEkgY2FsbCBub3csIG9yIGFmdGVyIGEgcmFuZG9tIGRlbGF5P1xuICBpZiAodGhpcy5tYXhpbXVtSml0dGVyRGVsYXlfID09PSAwKSB7XG4gICAgYXBpQ2FsbChhcGlDYWxsQ2FsbGJhY2spO1xuICB9IGVsc2Uge1xuICAgIHZhciBqaXR0ZXJUaW1lID0gTmV0U2ltR2xvYmFscy5yYW5kb21JbnRJblJhbmdlKDAsIHRoaXMubWF4aW11bUppdHRlckRlbGF5Xyk7XG4gICAgc2V0VGltZW91dChhcGlDYWxsLmJpbmQodGhpcywgYXBpQ2FsbENhbGxiYWNrKSwgaml0dGVyVGltZSk7XG4gIH1cblxuICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZSgpO1xufTtcblxuLyoqXG4gKiBHZW5lcmF0ZSB0aHJvdHRsZWQgcmVmcmVzaCBmdW5jdGlvbiB3aGljaCB3aWxsIGdlbmVyYXRlIGFjdHVhbCBzZXJ2ZXJcbiAqIHJlcXVlc3RzIGF0IHRoZSBtYXhpbXVtIGdpdmVuIHJhdGUgbm8gbWF0dGVyIGhvdyBmYXN0IGl0IGlzIGNhbGxlZC4gVGhpc1xuICogYWxsb3dzIHVzIHRvIGNvYWxlc2NlIHJlZnJlc2hBbGwgZXZlbnRzIGFuZCByZWR1Y2Ugc2VydmVyIGxvYWQuXG4gKlxuICogSG93IHRoaXMgd29ya3M6XG4gKiBXcmFwcyBhIGxvbmdlciB0aHJvdHRsZSB3aXRoIGxlYWRpbmcgYW5kIHRyYWlsaW5nIGV2ZW50cyBpbiBhIHNob3J0ZXIgZGVib3VuY2VcbiAqIHdpdGggYSBtYXhpbXVtIHdhaXQgdGltZS4gIFRoaXMgZ2l2ZXMgZ3JvdXBlZCBldmVudHMgYSBjaGFuY2UgdG8gY29hbGVzY2VcbiAqIHdpdGhvdXQgdHJpZ2dlcmluZyBhbiB1bm5lZWRlZCB0cmFpbGluZyBldmVudCBvbiB0aGUgbG9uZ2VyIHRocm90dGxlLlxuICpcbiAqIEhlcmUgYXJlIHNvbWUgZXhhbXBsZXMgb2Ygd2hhdCdzIGdvaW5nIG9uLCBpZiB1c2luZyBhIDEwMDBtcyB0aHJvdHRsZVxuICogd3JhcHBlZCBpbiBhIDI1MG1zIGRlYm91bmNlLlxuICpcbiAqIEluIGxvdyB0cmFmZmljIHdlIGNvbGxhcHNlIHR3byBncm91cHMgb2YgZXZlbnRzIHRvIGp1c3QgdHdvIGV2ZW50cy5cbiAqXG4gKiBvcmlnaW5hbCBldmVudHMgICA6ICAgfHwgfCAgICAgICAgICAgICAgICAgICAgIHwgfFxuICogZGVib3VuY2VkICAgICAgICAgOiAgIC0yNTA+fCAgICAgICAgICAgICAgICAgICAtMjUwPnxcbiAqIHRoZW4gdGhyb3R0bGVkICAgIDogICAgICAgIHwtLS0tLS0tLS0tLS0tLTEwMDAtPiAgICB8LS0tLS0tLS0tLS0tLS0xMDAwLT5cbiAqXG4gKiBJbiBoaWdoZXIgdHJhZmZpYyB3ZSBjb2xsYXBzZSB0aGUgZ3JvdXBzIGJ1dCBzdGlsbCBrZWVwIGV2ZW50cyBhdCBsZWFzdFxuICogb25lIHNlY29uZCBhcGFydC5cbiAqXG4gKiBvcmlnaW5hbCBldmVudHMgICA6ICAgfHwgfCAgICAgICAgfCAgICAgfCAgICAgIHwgfFxuICogZGVib3VuY2VkICAgICAgICAgOiAgIC0yNTA+fCAgICAgIC0yNTA+fC0yNTA+fCAtMjUwPnxcbiAqIHRoZW4gdGhyb3R0bGVkICAgIDogICAgICAgIHwtLS0tLS0tLS0tLS0tLTEwMDAtPnwtLS0tLS0tLS0tLS0tLTEwMDAtPnxcbiAqXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX1cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVRhYmxlLnByb3RvdHlwZS5tYWtlVGhyb3R0bGVkUmVmcmVzaF8gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB0aHJvdHRsZWRSZWZyZXNoID0gXy50aHJvdHRsZSh0aGlzLnJlZnJlc2guYmluZCh0aGlzKSxcbiAgICAgIHRoaXMubWluaW11bURlbGF5QmV0d2VlblJlZnJlc2hlc18pO1xuICByZXR1cm4gXy5kZWJvdW5jZSh0aHJvdHRsZWRSZWZyZXNoLCB0aGlzLm1pbmltdW1EZWxheUJlZm9yZVJlZnJlc2hfLFxuICAgICAge21heFdhaXQ6IHRoaXMubWluaW11bURlbGF5QmVmb3JlUmVmcmVzaF99KTtcbn07XG5cbi8qKlxuICogQHJldHVybnMge0FycmF5fSBhbGwgbG9jYWxseSBjYWNoZWQgdGFibGUgcm93c1xuICovXG5OZXRTaW1UYWJsZS5wcm90b3R5cGUucmVhZEFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuYXJyYXlGcm9tQ2FjaGVfKCk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7IW51bWJlcn0gZmlyc3RSb3dJRFxuICogQHJldHVybnMge0FycmF5fSBhbGwgbG9jYWxseSBjYWNoZWQgdGFibGUgcm93cyBoYXZpbmcgcm93IElEID49IGZpcnN0Um93SURcbiAqL1xuTmV0U2ltVGFibGUucHJvdG90eXBlLnJlYWRBbGxGcm9tSUQgPSBmdW5jdGlvbiAoZmlyc3RSb3dJRCkge1xuICByZXR1cm4gdGhpcy5hcnJheUZyb21DYWNoZV8oZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBrZXkgPj0gZmlyc3RSb3dJRDtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7IW51bWJlcn0gaWRcbiAqIEBwYXJhbSB7IU5vZGVTdHlsZUNhbGxiYWNrfSBjYWxsYmFja1xuICovXG5OZXRTaW1UYWJsZS5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uIChpZCwgY2FsbGJhY2spIHtcbiAgdGhpcy5hcGlfLmZldGNoUm93KGlkLCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgaWYgKGVyciA9PT0gbnVsbCkge1xuICAgICAgdGhpcy51cGRhdGVDYWNoZVJvd18oaWQsIGRhdGEpO1xuICAgIH1cbiAgICBjYWxsYmFjayhlcnIsIGRhdGEpO1xuICB9LmJpbmQodGhpcykpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAqIEBwYXJhbSB7IU5vZGVTdHlsZUNhbGxiYWNrfSBjYWxsYmFja1xuICovXG5OZXRTaW1UYWJsZS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gKHZhbHVlLCBjYWxsYmFjaykge1xuICB0aGlzLmFwaV8uY3JlYXRlUm93KHZhbHVlLCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgaWYgKGVyciA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5hZGRSb3dUb0NhY2hlXyhkYXRhKTtcbiAgICB9XG4gICAgY2FsbGJhY2soZXJyLCBkYXRhKTtcbiAgfS5iaW5kKHRoaXMpKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3RbXX0gdmFsdWVzXG4gKiBAcGFyYW0geyFOb2RlU3R5bGVDYWxsYmFja30gY2FsbGJhY2tcbiAqL1xuTmV0U2ltVGFibGUucHJvdG90eXBlLm11bHRpQ3JlYXRlID0gZnVuY3Rpb24gKHZhbHVlcywgY2FsbGJhY2spIHtcbiAgdGhpcy5hcGlfLmNyZWF0ZVJvdyh2YWx1ZXMsIGZ1bmN0aW9uIChlcnIsIGRhdGFzKSB7XG4gICAgaWYgKGVyciA9PT0gbnVsbCkge1xuICAgICAgZGF0YXMuZm9yRWFjaChmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLmFkZFJvd1RvQ2FjaGVfKGRhdGEpO1xuICAgICAgfSwgdGhpcyk7XG4gICAgfVxuICAgIGNhbGxiYWNrKGVyciwgZGF0YXMpO1xuICB9LmJpbmQodGhpcykpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0geyFudW1iZXJ9IGlkXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAqIEBwYXJhbSB7IU5vZGVTdHlsZUNhbGxiYWNrfSBjYWxsYmFja1xuICovXG5OZXRTaW1UYWJsZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGlkLCB2YWx1ZSwgY2FsbGJhY2spIHtcbiAgdGhpcy5hcGlfLnVwZGF0ZVJvdyhpZCwgdmFsdWUsIGZ1bmN0aW9uIChlcnIsIHN1Y2Nlc3MpIHtcbiAgICBpZiAoZXJyID09PSBudWxsKSB7XG4gICAgICB0aGlzLnVwZGF0ZUNhY2hlUm93XyhpZCwgdmFsdWUpO1xuICAgIH1cbiAgICBjYWxsYmFjayhlcnIsIHN1Y2Nlc3MpO1xuICB9LmJpbmQodGhpcykpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0geyFudW1iZXJ9IGlkXG4gKiBAcGFyYW0geyFOb2RlU3R5bGVDYWxsYmFja30gY2FsbGJhY2tcbiAqL1xuTmV0U2ltVGFibGUucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChpZCwgY2FsbGJhY2spIHtcbiAgdGhpcy5kZWxldGVNYW55KFtpZF0sIGNhbGxiYWNrKTtcbn07XG5cbi8qKlxuICogRGVsZXRlcyBtdWx0aXBsZSByb3dzIGZyb20gdGhlIHRhYmxlLlxuICogQHBhcmFtIHshbnVtYmVyW119IGlkc1xuICogQHBhcmFtIHshTm9kZVN0eWxlQ2FsbGJhY2t9IGNhbGxiYWNrXG4gKi9cbk5ldFNpbVRhYmxlLnByb3RvdHlwZS5kZWxldGVNYW55ID0gZnVuY3Rpb24gKGlkcywgY2FsbGJhY2spIHtcbiAgdGhpcy5hcGlfLmRlbGV0ZVJvd3MoaWRzLCBmdW5jdGlvbiAoZXJyLCBzdWNjZXNzKSB7XG4gICAgaWYgKGVyciA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5yZW1vdmVSb3dzRnJvbUNhY2hlXyhpZHMpO1xuICAgIH1cbiAgICBjYWxsYmFjayhlcnIsIHN1Y2Nlc3MpO1xuICB9LmJpbmQodGhpcykpO1xufTtcblxuLyoqXG4gKiBEZWxldGUgYSByb3cgdXNpbmcgYSBzeW5jaHJvbm91cyBjYWxsLiBGb3IgdXNlIHdoZW4gbmF2aWdhdGluZyBhd2F5IGZyb21cbiAqIHRoZSBwYWdlOyBtb3N0IG9mIHRoZSB0aW1lIGFuIGFzeW5jaHJvbm91cyBjYWxsIGlzIHByZWZlcnJlZC5cbiAqIEBwYXJhbSB7IW51bWJlcn0gaWRcbiAqL1xuTmV0U2ltVGFibGUucHJvdG90eXBlLnN5bmNocm9ub3VzRGVsZXRlID0gZnVuY3Rpb24gKGlkKSB7XG4gIHZhciBhc3luYyA9IGZhbHNlOyAvLyBGb3JjZSBzeW5jaHJvbm91cyByZXF1ZXN0XG4gIHRoaXMuYXBpXy5kZWxldGVSb3dzKFtpZF0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICAvLyBOb3RoaW5nIHdlIGNhbiByZWFsbHkgZG8gd2l0aCB0aGUgZXJyb3IsIGFzIHdlJ3JlIGluIHRoZSBwcm9jZXNzIG9mXG4gICAgICAvLyBuYXZpZ2F0aW5nIGF3YXkuIFRocm93IHNvIHRoYXQgaGlnaCBpbmNpZGVuY2UgcmF0ZXMgd2lsbCBzaG93IHVwIGluXG4gICAgICAvLyBuZXcgcmVsaWMuXG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlUm93c0Zyb21DYWNoZV8oW2lkXSk7XG4gIH0uYmluZCh0aGlzKSwgYXN5bmMpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5fSBhbGxSb3dzXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1UYWJsZS5wcm90b3R5cGUuZnVsbENhY2hlVXBkYXRlXyA9IGZ1bmN0aW9uIChhbGxSb3dzKSB7XG4gIC8vIFJlYnVpbGQgZW50aXJlIGNhY2hlXG4gIHZhciBtYXhSb3dJRCA9IDA7XG4gIHZhciBuZXdDYWNoZSA9IGFsbFJvd3MucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXJyZW50Um93KSB7XG4gICAgcHJldltjdXJyZW50Um93LmlkXSA9IGN1cnJlbnRSb3c7XG4gICAgaWYgKGN1cnJlbnRSb3cuaWQgPiBtYXhSb3dJRCkge1xuICAgICAgbWF4Um93SUQgPSBjdXJyZW50Um93LmlkO1xuICAgIH1cbiAgICByZXR1cm4gcHJldjtcbiAgfSwge30pO1xuXG4gIC8vIENoZWNrIGZvciBjaGFuZ2VzLCBpZiBhbnl0aGluZyBjaGFuZ2VkIG5vdGlmeSBhbGwgb2JzZXJ2ZXJzIG9uIHRhYmxlLlxuICBpZiAoIV8uaXNFcXVhbCh0aGlzLmNhY2hlXywgbmV3Q2FjaGUpKSB7XG4gICAgdGhpcy5jYWNoZV8gPSBuZXdDYWNoZTtcbiAgICB0aGlzLmxhdGVzdFJvd0lEXyA9IG1heFJvd0lEO1xuICAgIHRoaXMudGFibGVDaGFuZ2Uubm90aWZ5T2JzZXJ2ZXJzKCk7XG4gIH1cblxuICB0aGlzLmxhc3RSZWZyZXNoVGltZV8gPSBEYXRlLm5vdygpO1xufTtcblxuLyoqXG4gKiBBZGQgYW5kIHVwZGF0ZSByb3dzIGluIHRoZSBsb2NhbCBjYWNoZSBmcm9tIHRoZSBnaXZlbiBzZXQgb2YgbmV3IHJvd3NcbiAqIChwcm9iYWJseSByZXRyaWV2ZWQgZnJvbSB0aGUgc2VydmVyKS5cbiAqIEBwYXJhbSB7QXJyYXl9IG5ld1Jvd3NcbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVRhYmxlLnByb3RvdHlwZS5pbmNyZW1lbnRhbENhY2hlVXBkYXRlXyA9IGZ1bmN0aW9uIChuZXdSb3dzKSB7XG4gIGlmIChuZXdSb3dzLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgbWF4Um93SUQgPSAwO1xuICAgIG5ld1Jvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICB0aGlzLmNhY2hlX1tyb3cuaWRdID0gcm93O1xuICAgICAgbWF4Um93SUQgPSBNYXRoLm1heChtYXhSb3dJRCwgcm93LmlkKTtcbiAgICB9LCB0aGlzKTtcbiAgICB0aGlzLmxhdGVzdFJvd0lEXyA9IG1heFJvd0lEO1xuICAgIHRoaXMudGFibGVDaGFuZ2Uubm90aWZ5T2JzZXJ2ZXJzKCk7XG4gIH1cblxuICB0aGlzLmxhc3RSZWZyZXNoVGltZV8gPSBEYXRlLm5vdygpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0geyFPYmplY3R9IHJvd1xuICogQHBhcmFtIHshbnVtYmVyfSByb3cuaWRcbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVRhYmxlLnByb3RvdHlwZS5hZGRSb3dUb0NhY2hlXyA9IGZ1bmN0aW9uIChyb3cpIHtcbiAgdGhpcy5jYWNoZV9bcm93LmlkXSA9IHJvdztcbiAgdGhpcy50YWJsZUNoYW5nZS5ub3RpZnlPYnNlcnZlcnMoKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHshbnVtYmVyW119IGlkc1xuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltVGFibGUucHJvdG90eXBlLnJlbW92ZVJvd3NGcm9tQ2FjaGVfID0gZnVuY3Rpb24gKGlkcykge1xuICB2YXIgY2FjaGVDaGFuZ2VkID0gZmFsc2U7XG4gIGlkcy5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xuICAgIGlmICh0aGlzLmNhY2hlX1tpZF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgZGVsZXRlIHRoaXMuY2FjaGVfW2lkXTtcbiAgICAgIGNhY2hlQ2hhbmdlZCA9IHRydWU7XG4gICAgfVxuICB9LCB0aGlzKTtcblxuICBpZiAoY2FjaGVDaGFuZ2VkKSB7XG4gICAgdGhpcy50YWJsZUNoYW5nZS5ub3RpZnlPYnNlcnZlcnMoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0geyFudW1iZXJ9IGlkXG4gKiBAcGFyYW0geyFPYmplY3R9IHJvd1xuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltVGFibGUucHJvdG90eXBlLnVwZGF0ZUNhY2hlUm93XyA9IGZ1bmN0aW9uIChpZCwgcm93KSB7XG4gIHZhciBvbGRSb3cgPSB0aGlzLmNhY2hlX1tpZF07XG4gIHZhciBuZXdSb3cgPSByb3c7XG5cbiAgLy8gTWFudWFsbHkgYXBwbHkgSURzIHdoaWNoIHNob3VsZCBiZSBwcmVzZW50IGluIHJvdy5cbiAgbmV3Um93LmlkID0gaWQ7XG4gIG5ld1Jvdy51dWlkID0gb2xkUm93LnV1aWQ7XG5cbiAgaWYgKCFfLmlzRXF1YWwob2xkUm93LCBuZXdSb3cpKSB7XG4gICAgdGhpcy5jYWNoZV9baWRdID0gbmV3Um93O1xuICAgIHRoaXMudGFibGVDaGFuZ2Uubm90aWZ5T2JzZXJ2ZXJzKCk7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtmdW5jdGlvbihrZXksIHZhbHVlKX0gW3ByZWRpY2F0ZV0gLSBBIGNvbmRpdGlvbiBvbiByZXR1cm5pbmcgdGhlIHJvdy5cbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVRhYmxlLnByb3RvdHlwZS5hcnJheUZyb21DYWNoZV8gPSBmdW5jdGlvbiAocHJlZGljYXRlKSB7XG4gIHByZWRpY2F0ZSA9IHByZWRpY2F0ZSB8fCBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlOyB9O1xuICB2YXIgcmVzdWx0ID0gW107XG4gIGZvciAodmFyIGsgaW4gdGhpcy5jYWNoZV8pIHtcbiAgICBpZiAodGhpcy5jYWNoZV8uaGFzT3duUHJvcGVydHkoaykgJiYgcHJlZGljYXRlKGssIHRoaXMuY2FjaGVfW2tdKSkge1xuICAgICAgcmVzdWx0LnB1c2godGhpcy5jYWNoZV9ba10pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBDaGFuZ2VzIGhvdyBvZnRlbiB0aGlzIHRhYmxlIGZldGNoZXMgYSBmdWxsIHRhYmxlIHVwZGF0ZSBmcm9tIHRoZVxuICogc2VydmVyLlxuICogQHBhcmFtIHtudW1iZXJ9IGludGVydmFsTXMgLSBtaWxsaXNlY29uZHMgb2YgZGVsYXkgYmV0d2VlbiB1cGRhdGVzLlxuICovXG5OZXRTaW1UYWJsZS5wcm90b3R5cGUuc2V0UG9sbGluZ0ludGVydmFsID0gZnVuY3Rpb24gKGludGVydmFsTXMpIHtcbiAgdGhpcy5wb2xsaW5nSW50ZXJ2YWxfID0gaW50ZXJ2YWxNcztcbn07XG5cbi8qKlxuICogQ2hhbmdlIHRoZSBtYXhpbXVtIHJhdGUgYXQgd2hpY2ggdGhlIHJlZnJlc2ggb3BlcmF0aW9uIGZvciB0aGlzIHRhYmxlXG4gKiB3aWxsIF9hY3R1YWxseV8gYmUgZXhlY3V0ZWQsIG5vIG1hdHRlciBob3cgZmFzdCB3ZSByZWNlaXZlIGludmFsaWRhdGlvbnMuXG4gKiBAcGFyYW0ge251bWJlcn0gZGVsYXlNcyAtIE1pbmltdW0gbnVtYmVyIG9mIG1pbGxpc2Vjb25kc1xuICogICAgICAgIGJldHdlZW4gaW52YWxpZGF0aW9uLXRyaWdnZXJlZCByZXF1ZXN0cyB0byB0aGUgc2VydmVyLlxuICovXG5OZXRTaW1UYWJsZS5wcm90b3R5cGUuc2V0TWluaW11bURlbGF5QmV0d2VlblJlZnJlc2hlcyA9IGZ1bmN0aW9uIChkZWxheU1zKSB7XG4gIC8vIFRvIGRvIHRoaXMsIHdlIGp1c3QgcmVwbGFjZSB0aGUgdGhyb3R0bGVkIHJlZnJlc2ggZnVuY3Rpb24gd2l0aCBhIG5ldyBvbmUuXG4gIHRoaXMubWluaW11bURlbGF5QmV0d2VlblJlZnJlc2hlc18gPSBkZWxheU1zO1xuICB0aGlzLnJlZnJlc2hUYWJsZV8gPSB0aGlzLm1ha2VUaHJvdHRsZWRSZWZyZXNoXygpO1xufTtcblxuLyoqXG4gKiBDaGFuZ2UgdGhlIG1pbmltdW0gdGltZSAoaW4gbXMpIHRvIHdhaXQgYWZ0ZXIgYW4gaW52YWxpZGF0aW9uIGV2ZW50IGJlZm9yZVxuICogYXR0ZW1wdGluZyB0byB0cmlnZ2VyIGEgcmVmcmVzaCByZXF1ZXN0LiAgVGhpcyBwcm9kdWNlcyBhIHdpbmRvdyBpbiB3aGljaFxuICogY2x1c3RlcmVkIGludmFsaWRhdGlvbnMgY2FuIGJlIGNhcHR1cmVkIGFuZCBjb2FsZXNjZWQgdG9nZXRoZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gZGVsYXlNcyAtIE1pbmltdW0gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBiZXR3ZWVuIGZpcnN0XG4gKiAgICAgICAgaW52YWxpZGF0aW9uIGFuZCByZXF1ZXN0IHRvIHNlcnZlci5cbiAqL1xuTmV0U2ltVGFibGUucHJvdG90eXBlLnNldE1pbmltdW1EZWxheUJlZm9yZVJlZnJlc2ggPSBmdW5jdGlvbiAoZGVsYXlNcykge1xuICAvLyBUbyBkbyB0aGlzLCB3ZSBqdXN0IHJlcGxhY2UgdGhlIHRocm90dGxlZCByZWZyZXNoIGZ1bmN0aW9uIHdpdGggYSBuZXcgb25lLlxuICB0aGlzLm1pbmltdW1EZWxheUJlZm9yZVJlZnJlc2hfID0gZGVsYXlNcztcbiAgdGhpcy5yZWZyZXNoVGFibGVfID0gdGhpcy5tYWtlVGhyb3R0bGVkUmVmcmVzaF8oKTtcbn07XG5cbi8qKlxuICogQ2hhbmdlIHRoZSBNYXhpbXVtIGFkZGl0aW9uYWwgcmFuZG9tIGRlbGF5IChpbiBtcykgdG8gYWRkIGJlZm9yZSB0aGUgcmVmcmVzaFxuICogcmVxdWVzdC4gIEhlbHBzIHNwcmVhZCBvdXQgcmVxdWVzdHMgZnJvbSBkaWZmZXJlbnQgY2xpZW50cyByZXNwb25kaW5nIHRvIHRoZVxuICogc2FtZSBldmVudHMuXG4gKiBAcGFyYW0ge251bWJlcn0gZGVsYXlNcyAtIE1heGltdW0gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBhZGQgYmVmb3JlXG4gKiAgICAgICAgcmVmcmVzaCByZXF1ZXN0IGZpcmVzLlxuICovXG5OZXRTaW1UYWJsZS5wcm90b3R5cGUuc2V0TWF4aW11bUppdHRlckRlbGF5ID0gZnVuY3Rpb24gKGRlbGF5TXMpIHtcbiAgLy8gVG8gZG8gdGhpcywgd2UganVzdCByZXBsYWNlIHRoZSB0aHJvdHRsZWQgcmVmcmVzaCBmdW5jdGlvbiB3aXRoIGEgbmV3IG9uZS5cbiAgdGhpcy5tYXhpbXVtSml0dGVyRGVsYXlfID0gZGVsYXlNcztcbn07XG5cbi8qKiBQb2xscyBzZXJ2ZXIgZm9yIHVwZGF0ZXMsIGlmIGl0J3MgYmVlbiBsb25nIGVub3VnaC4gKi9cbk5ldFNpbVRhYmxlLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcbiAgaWYgKG5vdyAtIHRoaXMubGFzdFJlZnJlc2hUaW1lXyA+PSB0aGlzLnBvbGxpbmdJbnRlcnZhbF8pIHtcbiAgICB0aGlzLmxhc3RSZWZyZXNoVGltZV8gPSBub3c7XG4gICAgdGhpcy5yZWZyZXNoVGFibGVfKCk7XG4gIH1cbn07XG5cbi8qKlxuICogQ2FsbGVkIHdoZW4gdGhlIFB1YlN1YiBzZXJ2aWNlIGZpcmVzIGFuIGV2ZW50IHRoYXQgdGhpcyB0YWJsZSBpcyBzdWJzY3JpYmVkIHRvLlxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltVGFibGUucHJvdG90eXBlLm9uUHViU3ViRXZlbnRfID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnJlZnJlc2hUYWJsZV8oKTtcbn07XG4iLCIvKipcbiAqIEBvdmVydmlldyBVSSBjb250cm9sbGVyIGZvciB0aGUgc2VuZCBwYW5lbCAodGhlIGJvdHRvbSBwYW5lbCBvbiB0aGUgcmlnaHQpXG4gKiAgICAgICAgICAgd2hpY2ggaXMgdXNlZCB0byB0cmFuc21pdCBwYWNrZXRzLlxuICogQHNlZSBOZXRTaW1QYWNrZXRFZGl0b3Igd2hpY2ggaXMgdXNlZCBleHRlbnNpdmVseSBoZXJlLlxuICovXG4vLyBTdHJpY3QgbGludGluZzogQWJzb3JiIGludG8gZ2xvYmFsIGNvbmZpZyB3aGVuIHBvc3NpYmxlXG4vKiBqc2hpbnRcbiB1bnVzZWQ6IHRydWUsXG4gZXFlcWVxOiB0cnVlLFxuIG1heGxlbjogMTIwXG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcbnZhciBpMThuID0gcmVxdWlyZSgnLi9sb2NhbGUnKTtcbnZhciBtYXJrdXAgPSByZXF1aXJlKCcuL05ldFNpbVNlbmRQYW5lbC5odG1sLmVqcycpO1xudmFyIE5ldFNpbVBhbmVsID0gcmVxdWlyZSgnLi9OZXRTaW1QYW5lbCcpO1xudmFyIE5ldFNpbVBhY2tldEVkaXRvciA9IHJlcXVpcmUoJy4vTmV0U2ltUGFja2V0RWRpdG9yJyk7XG52YXIgTmV0U2ltUGFja2V0U2l6ZUNvbnRyb2wgPSByZXF1aXJlKCcuL05ldFNpbVBhY2tldFNpemVDb250cm9sJyk7XG52YXIgUGFja2V0ID0gcmVxdWlyZSgnLi9QYWNrZXQnKTtcbnZhciBEYXRhQ29udmVydGVycyA9IHJlcXVpcmUoJy4vRGF0YUNvbnZlcnRlcnMnKTtcbnZhciBOZXRTaW1Db25zdGFudHMgPSByZXF1aXJlKCcuL05ldFNpbUNvbnN0YW50cycpO1xudmFyIE5ldFNpbUdsb2JhbHMgPSByZXF1aXJlKCcuL05ldFNpbUdsb2JhbHMnKTtcblxudmFyIEVuY29kaW5nVHlwZSA9IE5ldFNpbUNvbnN0YW50cy5FbmNvZGluZ1R5cGU7XG52YXIgTWVzc2FnZUdyYW51bGFyaXR5ID0gTmV0U2ltQ29uc3RhbnRzLk1lc3NhZ2VHcmFudWxhcml0eTtcbnZhciBCSVRTX1BFUl9CWVRFID0gTmV0U2ltQ29uc3RhbnRzLkJJVFNfUEVSX0JZVEU7XG5cbnZhciBiaW5hcnlUb0FCID0gRGF0YUNvbnZlcnRlcnMuYmluYXJ5VG9BQjtcblxudmFyIGxvZ2dlciA9IHJlcXVpcmUoJy4vTmV0U2ltTG9nZ2VyJykuZ2V0U2luZ2xldG9uKCk7XG5cbi8qKlxuICogR2VuZXJhdG9yIGFuZCBjb250cm9sbGVyIGZvciBtZXNzYWdlIHNlbmRpbmcgdmlldy5cbiAqIEBwYXJhbSB7alF1ZXJ5fSByb290RGl2XG4gKiBAcGFyYW0ge05ldFNpbUxldmVsQ29uZmlndXJhdGlvbn0gbGV2ZWxDb25maWdcbiAqIEBwYXJhbSB7TmV0U2ltfSBuZXRzaW1cbiAqIEBjb25zdHJ1Y3RvclxuICogQGF1Z21lbnRzIE5ldFNpbVBhbmVsXG4gKi9cbnZhciBOZXRTaW1TZW5kUGFuZWwgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChyb290RGl2LCBsZXZlbENvbmZpZyxcbiAgICBuZXRzaW0pIHtcblxuICAvKipcbiAgICogQHR5cGUge05ldFNpbUxldmVsQ29uZmlndXJhdGlvbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMubGV2ZWxDb25maWdfID0gbGV2ZWxDb25maWc7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtQYWNrZXQuSGVhZGVyVHlwZVtdfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5wYWNrZXRTcGVjXyA9IGxldmVsQ29uZmlnLmNsaWVudEluaXRpYWxQYWNrZXRIZWFkZXI7XG5cbiAgLyoqXG4gICAqIENvbm5lY3Rpb24gdGhhdCBvd25zIHRoZSByb3V0ZXIgd2Ugd2lsbCByZXByZXNlbnQgLyBtYW5pcHVsYXRlXG4gICAqIEB0eXBlIHtOZXRTaW19XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLm5ldHNpbV8gPSBuZXRzaW07XG5cbiAgLyoqXG4gICAqIExpc3Qgb2YgY29udHJvbGxlcnMgZm9yIHBhY2tldHMgY3VycmVudGx5IGJlaW5nIGVkaXRlZC5cbiAgICogQHR5cGUge05ldFNpbVBhY2tldEVkaXRvcltdfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5wYWNrZXRzXyA9IFtdO1xuXG4gIC8qKlxuICAgKiBPdXIgbG9jYWwgbm9kZSdzIGFkZHJlc3MsIHplcm8gdW50aWwgYXNzaWduZWQgYnkgYSByb3V0ZXIuXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmZyb21BZGRyZXNzXyA9IDA7XG5cbiAgLyoqXG4gICAqIE1heGltdW0gcGFja2V0IGxlbmd0aCBjb25maWd1cmFibGUgYnkgc2xpZGVyLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5tYXhQYWNrZXRTaXplXyA9IGxldmVsQ29uZmlnLmRlZmF1bHRQYWNrZXRTaXplTGltaXQ7XG5cbiAgLyoqXG4gICAqIEJ5dGUtc2l6ZSB1c2VkIGZvciBmb3JtYXR0aW5nIGJpbmFyeSBhbmQgZm9yIGludGVycHJldGluZyBpdFxuICAgKiB0byBkZWNpbWFsIG9yIEFTQ0lJLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5jaHVua1NpemVfID0gQklUU19QRVJfQllURTtcblxuICAvKipcbiAgICogTG9jYWwgZGV2aWNlIGJpdHJhdGUgaW4gYml0cy1wZXItc2Vjb25kLCB3aGljaCBhZmZlY3RzIHNlbmQgYW5pbWF0aW9uXG4gICAqIHNwZWVkLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5iaXRSYXRlXyA9IEluZmluaXR5O1xuXG4gIC8qKlxuICAgKiBXaGF0IGVuY29kaW5ncyBhcmUgY3VycmVudGx5IHNlbGVjdGVkIGFuZCBkaXNwbGF5ZWQgaW4gZWFjaFxuICAgKiBwYWNrZXQgYW5kIHBhY2tldCBlZGl0b3IuXG4gICAqIEB0eXBlIHtFbmNvZGluZ1R5cGVbXX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuZW5hYmxlZEVuY29kaW5nc18gPSBsZXZlbENvbmZpZy5kZWZhdWx0RW5hYmxlZEVuY29kaW5ncztcblxuICAvKipcbiAgICogUmVmZXJlbmNlIHRvIHBhcmVudCBkaXYgb2YgcGFja2V0IGVkaXRvciBsaXN0LCBmb3IgYWRkaW5nIGFuZFxuICAgKiByZW1vdmluZyBwYWNrZXQgZWRpdG9ycy5cbiAgICogQHR5cGUge2pRdWVyeX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucGFja2V0c0Rpdl8gPSBudWxsO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7TmV0U2ltUGFja2V0U2l6ZUNvbnRyb2x9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnBhY2tldFNpemVDb250cm9sXyA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEZsYWcgZm9yIHdoZXRoZXIgdGhpcyBwYW5lbCBpcyBpbiBcInNlbmRpbmdcIiBtb2RlLCBub24taW50ZXJhY3RpdmUgd2hpbGVcbiAgICogaXQgYW5pbWF0ZXMgdGhlIHNlbmQgcHJvY2VzcyBmb3IgdGhlIGN1cnJlbnQgbWVzc2FnZS5cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmlzUGxheWluZ1NlbmRBbmltYXRpb25fID0gZmFsc2U7XG5cbiAgdmFyIHBhbmVsVGl0bGUgPSAobGV2ZWxDb25maWcubWVzc2FnZUdyYW51bGFyaXR5ID09PSBNZXNzYWdlR3JhbnVsYXJpdHkuUEFDS0VUUykgP1xuICAgICAgaTE4bi5zZW5kQU1lc3NhZ2UoKSA6IGkxOG4uc2VuZEJpdHMoKTtcblxuICAvLyBUT0RPOiBCYWQgcHJpdmF0ZSBtZW1iZXIgYWNjZXNzXG4gIHRoaXMubmV0c2ltXy5ydW5Mb29wXy50aWNrLnJlZ2lzdGVyKHRoaXMudGljay5iaW5kKHRoaXMpKTtcblxuICBOZXRTaW1QYW5lbC5jYWxsKHRoaXMsIHJvb3REaXYsIHtcbiAgICBjbGFzc05hbWU6ICduZXRzaW0tc2VuZC1wYW5lbCcsXG4gICAgcGFuZWxUaXRsZTogcGFuZWxUaXRsZVxuICB9KTtcbn07XG5OZXRTaW1TZW5kUGFuZWwuaW5oZXJpdHMoTmV0U2ltUGFuZWwpO1xuXG4vKipcbiAqIFB1dHMgc2VuZCBwYW5lbCBpbiBhIFwic2VuZGluZyBwYWNrZXRzXCIgbm9uaW50ZXJhY3RpdmUgc3RhdGUgYW5kIGJlZ2luc1xuICogc2VuZGluZyBwYWNrZXRzIHRvIHJlbW90ZS5cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVNlbmRQYW5lbC5wcm90b3R5cGUuYmVnaW5TZW5kaW5nUGFja2V0c18gPSBmdW5jdGlvbiAoKSB7XG4gIGlmICgwID09PSB0aGlzLnBhY2tldHNfLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuaXNQbGF5aW5nU2VuZEFuaW1hdGlvbl8gPSB0cnVlO1xuICB0aGlzLmRpc2FibGVFdmVyeXRoaW5nKCk7XG4gIHRoaXMucGFja2V0c19bMF0uYmVnaW5TZW5kaW5nKHRoaXMubmV0c2ltXy5teU5vZGUpO1xufTtcblxuLyoqXG4gKiBDYWxsYmFjayBmb3Igd2hlbiBhbiBpbmRpdmlkdWFsIHBhY2tldCBmaW5pc2hlcyBpdHMgc2VuZCBhbmltYXRpb24uXG4gKiBNb3N0IG9mIHRoZSB0aW1lIHRoZSBwYWNrZXQgZ2V0cyByZW1vdmVkIGFuZCB0aGUgbmV4dCBwYWNrZXQgYmVnaW5zIGl0c1xuICogYW5pbWF0aW9uLlxuICogSWYgaXQncyB0aGUgbGFzdCBwYWNrZXQsIHdlIGZpbmlzaCBzZW5kaW5nIGFuZCBwZXJmb3JtIGEgcGFja2V0IGVkaXRvclxuICogcmVzZXQgaW5zdGVhZC5cbiAqIEBwYXJhbSB7TmV0U2ltUGFja2V0RWRpdG9yfSBwYWNrZXRcbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVNlbmRQYW5lbC5wcm90b3R5cGUuZG9uZVNlbmRpbmdQYWNrZXRfID0gZnVuY3Rpb24gKHBhY2tldCkge1xuICAvLyBJZiBpdCdzIHRoZSBsYXN0IHBhY2tldCwgd2UncmUgZG9uZSBzZW5kaW5nIGFsdG9nZXRoZXIuXG4gIGlmICgxID09PSB0aGlzLnBhY2tldHNfLmxlbmd0aCkge1xuICAgIHRoaXMucmVzZXRQYWNrZXRzXygpO1xuICAgIHRoaXMuZW5hYmxlRXZlcnl0aGluZygpO1xuICAgIHRoaXMucGFja2V0c19bMF0uZ2V0Rmlyc3RWaXNpYmxlTWVzc2FnZUJveCgpLmZvY3VzKCk7XG4gICAgdGhpcy5pc1BsYXlpbmdTZW5kQW5pbWF0aW9uXyA9IGZhbHNlO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFJlbW92ZSB0aGUgY29tcGxldGVkIHBhY2tldCBhbmQgc3RhcnQgc2VuZGluZyB0aGUgbmV4dCBvbmUuXG4gIHRoaXMucmVtb3ZlUGFja2V0XyhwYWNrZXQpO1xuICB0aGlzLnBhY2tldHNfWzBdLmJlZ2luU2VuZGluZyh0aGlzLm5ldHNpbV8ubXlOb2RlKTtcbn07XG5cbi8qKlxuICogU2VuZCBwYW5lbCB1c2VzIGl0cyB0aWNrIHRvIFwic2VuZFwiIHBhY2tldHMgYXQgZGlmZmVyZW50IGJpdHJhdGVzLCBhbmltYXRpbmdcbiAqIHRoZSBiaW5hcnkgZHJhaW5pbmcgb3V0IG9mIHRoZSB3aWRnZXQgYW5kIGFjdHVhbGx5IHBvc3RpbmcgZWFjaCBwYWNrZXRcbiAqIHRvIHN0b3JhZ2UgYXMgaXQgY29tcGxldGVzLlxuICogQHBhcmFtIHtSdW5Mb29wLkNsb2NrfSBjbG9ja1xuICovXG5OZXRTaW1TZW5kUGFuZWwucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiAoY2xvY2spIHtcbiAgaWYgKHRoaXMuaXNQbGF5aW5nU2VuZEFuaW1hdGlvbl8gJiYgdGhpcy5wYWNrZXRzXy5sZW5ndGggPiAwKSB7XG4gICAgdGhpcy5wYWNrZXRzX1swXS50aWNrKGNsb2NrKTtcbiAgfVxufTtcblxuLyoqIFJlcGxhY2UgY29udGVudHMgb2Ygb3VyIHJvb3QgZWxlbWVudCB3aXRoIG91ciBvd24gbWFya3VwLiAqL1xuTmV0U2ltU2VuZFBhbmVsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFJlbmRlciBib2lsZXJwbGF0ZSBwYW5lbCBzdHVmZlxuICBOZXRTaW1TZW5kUGFuZWwuc3VwZXJQcm90b3R5cGUucmVuZGVyLmNhbGwodGhpcyk7XG5cbiAgLy8gUHV0IG91ciBvd24gY29udGVudCBpbnRvIHRoZSBwYW5lbCBib2R5XG4gIHZhciBuZXdNYXJrdXAgPSAkKG1hcmt1cCh7XG4gICAgbGV2ZWw6IHRoaXMubGV2ZWxDb25maWdfXG4gIH0pKTtcbiAgdGhpcy5nZXRCb2R5KCkuaHRtbChuZXdNYXJrdXApO1xuXG4gIC8vIEFkZCBwYWNrZXQgc2l6ZSBzbGlkZXIgY29udHJvbFxuICBpZiAodGhpcy5sZXZlbENvbmZpZ18uc2hvd1BhY2tldFNpemVDb250cm9sKSB7XG4gICAgdmFyIGxldmVsID0gTmV0U2ltR2xvYmFscy5nZXRMZXZlbENvbmZpZygpO1xuICAgIHZhciBlbmNvZGVyID0gbmV3IFBhY2tldC5FbmNvZGVyKGxldmVsLmFkZHJlc3NGb3JtYXQsXG4gICAgICAgIGxldmVsLnBhY2tldENvdW50Qml0V2lkdGgsIHRoaXMucGFja2V0U3BlY18pO1xuICAgIHRoaXMucGFja2V0U2l6ZUNvbnRyb2xfID0gbmV3IE5ldFNpbVBhY2tldFNpemVDb250cm9sKFxuICAgICAgICB0aGlzLnJvb3REaXZfLmZpbmQoJy5wYWNrZXQtc2l6ZScpLFxuICAgICAgICB0aGlzLnBhY2tldFNpemVDaGFuZ2VDYWxsYmFja18uYmluZCh0aGlzKSxcbiAgICAgICAge1xuICAgICAgICAgIG1pbmltdW1QYWNrZXRTaXplOiBlbmNvZGVyLmdldEhlYWRlckxlbmd0aCgpLFxuICAgICAgICAgIHNsaWRlclN0ZXBWYWx1ZTogMVxuICAgICAgICB9KTtcbiAgICB0aGlzLnBhY2tldFNpemVDb250cm9sXy5zZXRWYWx1ZSh0aGlzLm1heFBhY2tldFNpemVfKTtcbiAgfVxuXG4gIC8vIEJpbmQgdXNlZnVsIGVsZW1lbnRzIGFuZCBhZGQgaGFuZGxlcnNcbiAgdGhpcy5wYWNrZXRzRGl2XyA9IHRoaXMuZ2V0Qm9keSgpLmZpbmQoJy5zZW5kLXBhbmVsLXBhY2tldHMnKTtcbiAgdGhpcy5nZXRCb2R5KClcbiAgICAgIC5maW5kKCcjYWRkLXBhY2tldC1idXR0b24nKVxuICAgICAgLmNsaWNrKHRoaXMub25BZGRQYWNrZXRCdXR0b25QcmVzc18uYmluZCh0aGlzKSk7XG4gIC8vIFRPRE86IE5ldFNpbSBidXR0b25zIGluIHRoaXMgcGFuZWwgbmVlZCB0byBkbyBub3RoaW5nIGlmIGRpc2FibGVkIVxuICB0aGlzLmdldEJvZHkoKVxuICAgICAgLmZpbmQoJyNzZW5kLWJ1dHRvbicpXG4gICAgICAuY2xpY2sodGhpcy5vblNlbmRFdmVudFRyaWdnZXJlZF8uYmluZCh0aGlzKSk7XG4gIHRoaXMuZ2V0Qm9keSgpXG4gICAgICAuZmluZCgnI3NldC13aXJlLWJ1dHRvbicpXG4gICAgICAuY2xpY2sodGhpcy5vblNlbmRFdmVudFRyaWdnZXJlZF8uYmluZCh0aGlzKSk7XG5cbiAgLy8gTm90ZTogQXQgc29tZSBwb2ludCwgd2UgbWlnaHQgd2FudCB0byByZXBsYWNlIHRoaXMgd2l0aCBzb21ldGhpbmdcbiAgLy8gdGhhdCBuaWNlbHkgcmUtcmVuZGVycyB0aGUgY29udGVudHMgb2YgdGhpcy5wYWNrZXRzXy4uLiBmb3Igbm93LFxuICAvLyB3ZSBvbmx5IGNhbGwgcmVuZGVyIGZvciBzZXQtdXAsIHNvIGl0J3Mgb2theS5cbiAgdGhpcy5yZXNldFBhY2tldHNfKCk7XG59O1xuXG4vKipcbiAqIEFkZCBhIG5ldywgYmxhbmsgcGFja2V0IHRvIHRoZSBzZXQgb2YgcGFja2V0cyBiZWluZyBlZGl0ZWQuXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1TZW5kUGFuZWwucHJvdG90eXBlLmFkZFBhY2tldF8gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBuZXdQYWNrZXRDb3VudCA9IHRoaXMucGFja2V0c18ubGVuZ3RoICsgMTtcblxuICAvLyBVcGRhdGUgdGhlIHRvdGFsIHBhY2tldCBjb3VudCBvbiBhbGwgZXhpc3RpbmcgcGFja2V0c1xuICB0aGlzLnBhY2tldHNfLmZvckVhY2goZnVuY3Rpb24gKHBhY2tldEVkaXRvcikge1xuICAgIHBhY2tldEVkaXRvci5zZXRQYWNrZXRDb3VudChuZXdQYWNrZXRDb3VudCk7XG4gIH0pO1xuXG4gIC8vIENvcHkgdGhlIHRvIGFkZHJlc3Mgb2YgdGhlIHByZXZpb3VzIHBhY2tldCBpZiBpdCBleGlzdHMuIE90aGVyd2lzZVxuICAvLyB1c2UgdGhlIGxhc3QgYWRkcmVzcyBzZW50LlxuICAvLyBUT0RPOiBEbyB3ZSBuZWVkIHRvIGxvY2sgdGhlIHRvQWRkcmVzcyBmb3IgYWxsIG9mIHRoZXNlIHBhY2tldHMgdG9nZXRoZXI/XG4gIHZhciBuZXdQYWNrZXRUb0FkZHJlc3M7XG4gIGlmICh0aGlzLnBhY2tldHNfLmxlbmd0aCA+IDApIHtcbiAgICBuZXdQYWNrZXRUb0FkZHJlc3MgPSB0aGlzLnBhY2tldHNfW3RoaXMucGFja2V0c18ubGVuZ3RoIC0gMV0udG9BZGRyZXNzO1xuICB9IGVsc2Uge1xuICAgIG5ld1BhY2tldFRvQWRkcmVzcyA9ICcwJztcbiAgfVxuXG4gIC8vIENyZWF0ZSBhIG5ldyBwYWNrZXRcbiAgdmFyIG5ld1BhY2tldCA9IG5ldyBOZXRTaW1QYWNrZXRFZGl0b3Ioe1xuICAgIG1lc3NhZ2VHcmFudWxhcml0eTogdGhpcy5sZXZlbENvbmZpZ18ubWVzc2FnZUdyYW51bGFyaXR5LFxuICAgIHBhY2tldFNwZWM6IHRoaXMucGFja2V0U3BlY18sXG4gICAgdG9BZGRyZXNzOiBuZXdQYWNrZXRUb0FkZHJlc3MsXG4gICAgZnJvbUFkZHJlc3M6IHRoaXMuZnJvbUFkZHJlc3NfLFxuICAgIHBhY2tldEluZGV4OiBuZXdQYWNrZXRDb3VudCxcbiAgICBwYWNrZXRDb3VudDogbmV3UGFja2V0Q291bnQsXG4gICAgbWF4UGFja2V0U2l6ZTogdGhpcy5tYXhQYWNrZXRTaXplXyxcbiAgICBjaHVua1NpemU6IHRoaXMuY2h1bmtTaXplXyxcbiAgICBiaXRSYXRlOiB0aGlzLmJpdFJhdGVfLFxuICAgIGVuYWJsZWRFbmNvZGluZ3M6IHRoaXMuZW5hYmxlZEVuY29kaW5nc18sXG4gICAgcmVtb3ZlUGFja2V0Q2FsbGJhY2s6IHRoaXMucmVtb3ZlUGFja2V0Xy5iaW5kKHRoaXMpLFxuICAgIGRvbmVTZW5kaW5nQ2FsbGJhY2s6IHRoaXMuZG9uZVNlbmRpbmdQYWNrZXRfLmJpbmQodGhpcyksXG4gICAgY29udGVudENoYW5nZUNhbGxiYWNrOiB0aGlzLm9uQ29udGVudENoYW5nZV8uYmluZCh0aGlzKSxcbiAgICBlbnRlcktleVByZXNzZWRDYWxsYmFjazogdGhpcy5vblNlbmRFdmVudFRyaWdnZXJlZF8uYmluZCh0aGlzKVxuICB9KTtcblxuICAvLyBBdHRhY2ggdGhlIG5ldyBwYWNrZXQgdG8gdGhpcyBTZW5kUGFuZWxcbiAgdmFyIHVwZGF0ZUxheW91dCA9IHRoaXMubmV0c2ltXy51cGRhdGVMYXlvdXQuYmluZCh0aGlzLm5ldHNpbV8pO1xuICBuZXdQYWNrZXQuZ2V0Um9vdCgpLmFwcGVuZFRvKHRoaXMucGFja2V0c0Rpdl8pO1xuICBuZXdQYWNrZXQuZ2V0Um9vdCgpLmhpZGUoKS5zbGlkZURvd24oJ2Zhc3QnLCBmdW5jdGlvbiAoKSB7XG4gICAgbmV3UGFja2V0LmdldEZpcnN0VmlzaWJsZU1lc3NhZ2VCb3goKS5mb2N1cygpO1xuICAgIHVwZGF0ZUxheW91dCgpO1xuICB9KTtcbiAgdGhpcy5wYWNrZXRzXy5wdXNoKG5ld1BhY2tldCk7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhIHBhY2tldCBmcm9tIHRoZSBzZW5kIHBhbmVsLCBhbmQgYWRqdXN0IG90aGVyIHBhY2tldHMgZm9yXG4gKiBjb25zaXN0ZW5jeS5cbiAqIEBwYXJhbSB7TmV0U2ltUGFja2V0RWRpdG9yfSBwYWNrZXRcbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVNlbmRQYW5lbC5wcm90b3R5cGUucmVtb3ZlUGFja2V0XyA9IGZ1bmN0aW9uIChwYWNrZXQpIHtcbiAgLy8gUmVtb3ZlIGZyb20gRE9NXG4gIHZhciB1cGRhdGVMYXlvdXQgPSB0aGlzLm5ldHNpbV8udXBkYXRlTGF5b3V0LmJpbmQodGhpcy5uZXRzaW1fKTtcbiAgcGFja2V0LmdldFJvb3QoKVxuICAgICAgLnNsaWRlVXAoJ2Zhc3QnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgdXBkYXRlTGF5b3V0KCk7XG4gICAgICB9KTtcblxuICAvLyBSZW1vdmUgZnJvbSBpbnRlcm5hbCBjb2xsZWN0aW9uXG4gIHRoaXMucGFja2V0c18gPSB0aGlzLnBhY2tldHNfLmZpbHRlcihmdW5jdGlvbiAocGFja2V0RWRpdG9yKSB7XG4gICAgcmV0dXJuIHBhY2tldEVkaXRvciAhPT0gcGFja2V0O1xuICB9KTtcblxuICAvLyBBZGp1c3QgbnVtYmVyaW5nIG9mIHJlbWFpbmluZyBwYWNrZXRzIGlmIHdlJ3JlIG5vdCBtaWQtc2VuZFxuICBpZiAoIXRoaXMuaXNQbGF5aW5nU2VuZEFuaW1hdGlvbl8pIHtcbiAgICB2YXIgcGFja2V0Q291bnQgPSB0aGlzLnBhY2tldHNfLmxlbmd0aDtcbiAgICB2YXIgcGFja2V0SW5kZXg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWNrZXRDb3VudDsgaSsrKSB7XG4gICAgICBwYWNrZXRJbmRleCA9IGkgKyAxO1xuICAgICAgdGhpcy5wYWNrZXRzX1tpXS5zZXRQYWNrZXRJbmRleChwYWNrZXRJbmRleCk7XG4gICAgICB0aGlzLnBhY2tldHNfW2ldLnNldFBhY2tldENvdW50KHBhY2tldENvdW50KTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogUmVzZXQgdGhlIGVkaXRvciB0byBpdHMgJ2VtcHR5JyBzdGF0ZTogUmVtb3ZlIGFsbCBidXQgdGhlIGZpcnN0IHBhY2tldCxcbiAqIGFuZCByZXNldCB0aGUgZmlyc3QgcGFja2V0IHRvIGVtcHR5LlxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltU2VuZFBhbmVsLnByb3RvdHlwZS5yZXNldFBhY2tldHNfID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5wYWNrZXRzXy5sZW5ndGggPiAwKSB7XG4gICAgdGhpcy5wYWNrZXRzRGl2Xy5jaGlsZHJlbigpLnNsaWNlKDEpLnJlbW92ZSgpO1xuICAgIHRoaXMucGFja2V0c18ubGVuZ3RoID0gTWF0aC5taW4oMSwgdGhpcy5wYWNrZXRzXy5sZW5ndGgpO1xuICAgIHRoaXMucGFja2V0c19bMF0ucmVzZXRQYWNrZXQoKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmFkZFBhY2tldF8oKTtcbiAgfVxufTtcblxuLyoqXG4gKiBXaGVuIGFueSBwYWNrZXQgZWRpdG9yJ3MgYmluYXJ5IGNvbnRlbnQgY2hhbmdlcywgd2UgbWF5IHdhbnRcbiAqIHRvIHVwZGF0ZSBVSSB3cmFwcGVyIGVsZW1lbnRzIChsaWtlIHRoZSBcInNldCBuZXh0IGJpdFwiIGJ1dHRvbilcbiAqIGluIHJlc3BvbnNlXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1TZW5kUGFuZWwucHJvdG90eXBlLm9uQ29udGVudENoYW5nZV8gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBuZXh0Qml0ID0gdGhpcy5nZXROZXh0Qml0XygpO1xuXG4gIGlmIChuZXh0Qml0ID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBJZiB0aGVyZSBhcmUgbm8gYml0cyBxdWV1ZWQgdXAsIGRpc2FibGUgdGhlIGJ1dHRvblxuICAgIHRoaXMuZ2V0U2V0V2lyZUJ1dHRvbigpLnRleHQoaTE4bi5zZXRXaXJlKCkpO1xuICAgIHRoaXMuY29uZGl0aW9uYWxseVRvZ2dsZVNldFdpcmVCdXR0b24oKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBTcGVjaWFsIGNhc2U6IElmIHdlIGhhdmUgdGhlIFwiQS9CXCIgZW5jb2RpbmcgZW5hYmxlZCBidXQgX25vdF8gXCJCaW5hcnlcIixcbiAgICAvLyBmb3JtYXQgdGhpcyBidXR0b24gbGFiZWwgdXNpbmcgdGhlIFwiQS9CXCIgY29udmVudGlvblxuICAgIGlmICh0aGlzLmlzRW5jb2RpbmdFbmFibGVkXyhFbmNvZGluZ1R5cGUuQV9BTkRfQikgJiZcbiAgICAgICAgIXRoaXMuaXNFbmNvZGluZ0VuYWJsZWRfKEVuY29kaW5nVHlwZS5CSU5BUlkpKSB7XG4gICAgICBuZXh0Qml0ID0gYmluYXJ5VG9BQihuZXh0Qml0KTtcbiAgICB9XG5cbiAgICB0aGlzLmdldFNldFdpcmVCdXR0b24oKS50ZXh0KGkxOG4uc2V0V2lyZVRvVmFsdWUoeyB2YWx1ZTogbmV4dEJpdCB9KSk7XG4gICAgdGhpcy5jb25kaXRpb25hbGx5VG9nZ2xlU2V0V2lyZUJ1dHRvbigpO1xuICB9XG59O1xuXG4vKipcbiAqIENoZWNrIHdoZXRoZXIgdGhlIGdpdmVuIGVuY29kaW5nIGlzIGN1cnJlbnRseSBkaXNwbGF5ZWQgYnkgdGhlIHBhbmVsLlxuICogQHBhcmFtIHtFbmNvZGluZ1R5cGV9IHF1ZXJ5RW5jb2RpbmdcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltU2VuZFBhbmVsLnByb3RvdHlwZS5pc0VuY29kaW5nRW5hYmxlZF8gPSBmdW5jdGlvbiAocXVlcnlFbmNvZGluZykge1xuICByZXR1cm4gdGhpcy5lbmFibGVkRW5jb2RpbmdzXy5zb21lKGZ1bmN0aW9uIChlbmFibGVkRW5jb2RpbmcpIHtcbiAgICByZXR1cm4gZW5hYmxlZEVuY29kaW5nID09PSBxdWVyeUVuY29kaW5nO1xuICB9KTtcbn07XG5cbi8qKlxuICogVXBkYXRlIGZyb20gYWRkcmVzcyBmb3IgdGhlIHBhbmVsLCB1cGRhdGUgYWxsIHRoZSBwYWNrZXRzIHRvIHJlZmxlY3QgdGhpcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbZnJvbUFkZHJlc3NdIGRlZmF1bHQgemVyb1xuICovXG5OZXRTaW1TZW5kUGFuZWwucHJvdG90eXBlLnNldEZyb21BZGRyZXNzID0gZnVuY3Rpb24gKGZyb21BZGRyZXNzKSB7XG4gIC8vIGZyb21BZGRyZXNzIGNhbiBiZSB1bmRlZmluZWQgZm9yIG90aGVyIHBhcnRzIG9mIHRoZSBzaW0sIGJ1dCB3aXRoaW5cbiAgLy8gdGhlIHNlbmQgcGFuZWwgd2UganVzdCBzZXQgaXQgdG8gemVyby5cbiAgdGhpcy5mcm9tQWRkcmVzc18gPSB1dGlscy52YWx1ZU9yKGZyb21BZGRyZXNzLCAwKTtcblxuICB0aGlzLnBhY2tldHNfLmZvckVhY2goZnVuY3Rpb24gKHBhY2tldEVkaXRvcikge1xuICAgIHBhY2tldEVkaXRvci5zZXRGcm9tQWRkcmVzcyh0aGlzLmZyb21BZGRyZXNzXyk7XG4gIH0uYmluZCh0aGlzKSk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnR9IGpRdWVyeUV2ZW50XG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1TZW5kUGFuZWwucHJvdG90eXBlLm9uQWRkUGFja2V0QnV0dG9uUHJlc3NfID0gZnVuY3Rpb24gKGpRdWVyeUV2ZW50KSB7XG4gIHZhciB0aGlzQnV0dG9uID0gJChqUXVlcnlFdmVudC50YXJnZXQpO1xuICBpZiAodGhpc0J1dHRvbi5pcygnW2Rpc2FibGVkXScpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5hZGRQYWNrZXRfKCk7XG5cbiAgLy8gU2Nyb2xsIHRvIGVuZCBvZiBwYWNrZXQgYXJlYVxuICB2YXIgc2Nyb2xsaW5nQXJlYSA9IHRoaXMuZ2V0Qm9keSgpLmZpbmQoJy5zZW5kLXBhbmVsLXBhY2tldHMnKTtcbiAgc2Nyb2xsaW5nQXJlYS5hbmltYXRlKHsgc2Nyb2xsVG9wOiBzY3JvbGxpbmdBcmVhWzBdLnNjcm9sbEhlaWdodCB9LCAnZmFzdCcpO1xufTtcblxuLyoqXG4gKiBTZW5kIG1lc3NhZ2UgdG8gY29ubmVjdGVkIHJlbW90ZVxuICogQHBhcmFtIHtFdmVudH0galF1ZXJ5RXZlbnRcbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVNlbmRQYW5lbC5wcm90b3R5cGUub25TZW5kRXZlbnRUcmlnZ2VyZWRfID0gZnVuY3Rpb24gKGpRdWVyeUV2ZW50KSB7XG4gIHZhciB0cmlnZ2VyaW5nVGFyZ2V0ID0gJChqUXVlcnlFdmVudC50YXJnZXQpO1xuICBpZiAodHJpZ2dlcmluZ1RhcmdldC5pcygnW2Rpc2FibGVkXScpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGxldmVsID0gTmV0U2ltR2xvYmFscy5nZXRMZXZlbENvbmZpZygpO1xuICBpZiAobGV2ZWwubWVzc2FnZUdyYW51bGFyaXR5ID09PSBNZXNzYWdlR3JhbnVsYXJpdHkuUEFDS0VUUykge1xuICAgIHRoaXMuYmVnaW5TZW5kaW5nUGFja2V0c18oKTtcbiAgfSBlbHNlIGlmIChsZXZlbC5tZXNzYWdlR3JhbnVsYXJpdHkgPT09IE1lc3NhZ2VHcmFudWxhcml0eS5CSVRTKSB7XG4gICAgdGhpcy5zZW5kT25lQml0XygpO1xuICB9XG59O1xuXG4vKipcbiAqIFNlbmQgYSBzaW5nbGUgYml0LCBtYW51YWxseSAnc2V0dGluZyB0aGUgd2lyZSBzdGF0ZScuXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1TZW5kUGFuZWwucHJvdG90eXBlLnNlbmRPbmVCaXRfID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbXlOb2RlID0gdGhpcy5uZXRzaW1fLm15Tm9kZTtcbiAgaWYgKCFteU5vZGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUcmllZCB0byBzZXQgd2lyZSBzdGF0ZSB3aGVuIG5vIGNvbm5lY3Rpb24gaXMgZXN0YWJsaXNoZWQuXCIpO1xuICB9XG5cbiAgLy8gRmluZCB0aGUgZmlyc3QgYml0IG9mIHRoZSBmaXJzdCBwYWNrZXQuIERpc2FsbG93IHNldHRpbmcgdGhlIHdpcmVcbiAgLy8gaWYgdGhlcmUgaXMgbm8gZmlyc3QgYml0LlxuICB2YXIgbmV4dEJpdCA9IHRoaXMuZ2V0TmV4dEJpdF8oKTtcbiAgaWYgKG5leHRCaXQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlRyaWVkIHRvIHNldCB3aXJlIHN0YXRlIHdoZW4gbm8gYml0IGlzIHF1ZXVlZC5cIik7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5kaXNhYmxlRXZlcnl0aGluZygpO1xuICAgIHRoaXMubmV0c2ltXy5hbmltYXRlU2V0V2lyZVN0YXRlKG5leHRCaXQpO1xuICAgIG15Tm9kZS5zZXRTaW1wbGV4V2lyZVN0YXRlKG5leHRCaXQsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgbG9nZ2VyLndhcm4oZXJyLm1lc3NhZ2UpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY29uc3VtZUZpcnN0Qml0KCk7XG4gICAgICB0aGlzLmVuYWJsZUV2ZXJ5dGhpbmcoKTtcbiAgICAgIHRoaXMuY29uZGl0aW9uYWxseVRvZ2dsZVNldFdpcmVCdXR0b24oKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICB9XG59O1xuXG4vKipcbiAqIEdldCB0aGUgbmV4dCBiaXQgdGhhdCB3b3VsZCBiZSBzZW50LCBpZiBzZW5kaW5nIHRoZSBlbnRlcmVkIG1lc3NhZ2Ugb25lXG4gKiBiaXQgYXQgYSB0aW1lLlxuICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IHNpbmdsZSBiaXQgYXMgYSBcIjBcIiBvciBcIjFcIiBpZiB0aGVyZSBhcmVcbiAqIGJpdHMgdG8gYmUgc2VudCwgb3IgdW5kZWZpbmVkIG90aGVyd2lzZVxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltU2VuZFBhbmVsLnByb3RvdHlwZS5nZXROZXh0Qml0XyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMucGFja2V0c18ubGVuZ3RoID4gMCA/IHRoaXMucGFja2V0c19bMF0uZ2V0Rmlyc3RCaXQoKSA6IHVuZGVmaW5lZDtcbn07XG5cbi8qKiBEaXNhYmxlIGFsbCBjb250cm9scyBpbiB0aGlzIHBhbmVsLCB1c3VhbGx5IGR1cmluZyBuZXR3b3JrIGFjdGl2aXR5LiAqL1xuTmV0U2ltU2VuZFBhbmVsLnByb3RvdHlwZS5kaXNhYmxlRXZlcnl0aGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5nZXRCb2R5KCkuZmluZCgnaW5wdXQsIHRleHRhcmVhJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgdGhpcy5nZXRCb2R5KCkuZmluZCgnLm5ldHNpbS1idXR0b24nKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICBpZiAodGhpcy5wYWNrZXRTaXplQ29udHJvbF8pIHtcbiAgICB0aGlzLnBhY2tldFNpemVDb250cm9sXy5kaXNhYmxlKCk7XG4gIH1cbn07XG5cbi8qKlxuICogRmluZHMgdGhlIGJ1dHRvbiB1c2VkIHRvIHNldCB0aGUgd2lyZSBzdGF0ZVxuICogQHJldHVybnMge2pRdWVyeX1cbiAqL1xuTmV0U2ltU2VuZFBhbmVsLnByb3RvdHlwZS5nZXRTZXRXaXJlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5nZXRCb2R5KCkuZmluZCgnI3NldC13aXJlLWJ1dHRvbicpO1xufTtcblxuLyoqIEVuYWJsZXMgdGhlIHNldFdpcmVCdXR0b24gaWYgdGhlcmUgaXMgYW5vdGhlciBiaXQgaW4gdGhlIHF1ZXVlLFxuICogZGlzYWJsZXMgaXQgb3RoZXJ3aXNlLlxuICogQHJldHVybnMge2pRdWVyeX1cbiAqL1xuTmV0U2ltU2VuZFBhbmVsLnByb3RvdHlwZS5jb25kaXRpb25hbGx5VG9nZ2xlU2V0V2lyZUJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNldFdpcmVCdXR0b24gPSB0aGlzLmdldFNldFdpcmVCdXR0b24oKTtcbiAgaWYgKHRoaXMuZ2V0TmV4dEJpdF8oKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgc2V0V2lyZUJ1dHRvbi5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICB9IGVsc2Uge1xuICAgIHNldFdpcmVCdXR0b24ucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgfVxuICByZXR1cm4gc2V0V2lyZUJ1dHRvbjtcbn07XG5cbi8qKiBFbmFibGUgYWxsIGNvbnRyb2xzIGluIHRoaXMgcGFuZWwsIHVzdWFsbHkgYWZ0ZXIgbmV0d29yayBhY3Rpdml0eS4gKi9cbk5ldFNpbVNlbmRQYW5lbC5wcm90b3R5cGUuZW5hYmxlRXZlcnl0aGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5nZXRCb2R5KCkuZmluZCgnaW5wdXQsIHRleHRhcmVhJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gIHRoaXMuZ2V0Qm9keSgpLmZpbmQoJy5uZXRzaW0tYnV0dG9uJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgaWYgKHRoaXMucGFja2V0U2l6ZUNvbnRyb2xfKSB7XG4gICAgdGhpcy5wYWNrZXRTaXplQ29udHJvbF8uZW5hYmxlKCk7XG4gIH1cbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBmaXJzdCBiaXQgb2YgdGhlIGZpcnN0IHBhY2tldCwgdXN1YWxseSBiZWNhdXNlIHdlIGp1c3Qgc2VudFxuICogYSBzaW5nbGUgYml0IGluIHZhcmlhbnQgMS5cbiAqL1xuTmV0U2ltU2VuZFBhbmVsLnByb3RvdHlwZS5jb25zdW1lRmlyc3RCaXQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLnBhY2tldHNfLmxlbmd0aCA+IDApIHtcbiAgICB0aGlzLnBhY2tldHNfWzBdLmNvbnN1bWVGaXJzdEJpdCgpO1xuICAgIGlmICh0aGlzLnBhY2tldHNfWzBdLmdldFBhY2tldEJpbmFyeSgpID09PSAnJyAmJiB0aGlzLnBhY2tldHNfLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRoaXMucmVtb3ZlUGFja2V0Xyh0aGlzLnBhY2tldHNfWzBdKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogU2hvdyBvciBoaWRlIHBhcnRzIG9mIHRoZSBzZW5kIFVJIGJhc2VkIG9uIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZW5jb2RpbmdcbiAqIG1vZGUuXG4gKiBAcGFyYW0ge0VuY29kaW5nVHlwZVtdfSBuZXdFbmNvZGluZ3NcbiAqL1xuTmV0U2ltU2VuZFBhbmVsLnByb3RvdHlwZS5zZXRFbmNvZGluZ3MgPSBmdW5jdGlvbiAobmV3RW5jb2RpbmdzKSB7XG4gIHRoaXMuZW5hYmxlZEVuY29kaW5nc18gPSBuZXdFbmNvZGluZ3M7XG4gIHRoaXMucGFja2V0c18uZm9yRWFjaChmdW5jdGlvbiAocGFja2V0RWRpdG9yKSB7XG4gICAgcGFja2V0RWRpdG9yLnNldEVuY29kaW5ncyhuZXdFbmNvZGluZ3MpO1xuICB9KTtcbiAgdGhpcy5vbkNvbnRlbnRDaGFuZ2VfKCk7XG59O1xuXG4vKipcbiAqIENoYW5nZSBob3cgZGF0YSBpcyBpbnRlcnByZXRlZCBhbmQgZm9ybWF0dGVkIGJ5IHRoaXMgY29tcG9uZW50LCB0cmlnZ2VyaW5nXG4gKiBhbiB1cGRhdGUgb2YgYWxsIGlucHV0IGZpZWxkcy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBuZXdDaHVua1NpemVcbiAqL1xuTmV0U2ltU2VuZFBhbmVsLnByb3RvdHlwZS5zZXRDaHVua1NpemUgPSBmdW5jdGlvbiAobmV3Q2h1bmtTaXplKSB7XG4gIHRoaXMuY2h1bmtTaXplXyA9IG5ld0NodW5rU2l6ZTtcbiAgdGhpcy5wYWNrZXRzXy5mb3JFYWNoKGZ1bmN0aW9uIChwYWNrZXRFZGl0b3IpIHtcbiAgICBwYWNrZXRFZGl0b3Iuc2V0Q2h1bmtTaXplKG5ld0NodW5rU2l6ZSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBDaGFuZ2UgdGhlIGxvY2FsIGRldmljZSBiaXRyYXRlIHdoaWNoIGFmZmVjdHMgc2VuZCBhbmltYXRpb24gc3BlZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gbmV3Qml0UmF0ZSBpbiBiaXRzIHBlciBzZWNvbmRcbiAqL1xuTmV0U2ltU2VuZFBhbmVsLnByb3RvdHlwZS5zZXRCaXRSYXRlID0gZnVuY3Rpb24gKG5ld0JpdFJhdGUpIHtcbiAgdGhpcy5iaXRSYXRlXyA9IG5ld0JpdFJhdGU7XG4gIHRoaXMucGFja2V0c18uZm9yRWFjaChmdW5jdGlvbiAocGFja2V0RWRpdG9yKSB7XG4gICAgcGFja2V0RWRpdG9yLnNldEJpdFJhdGUobmV3Qml0UmF0ZSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBDYWxsYmFjayBwYXNzZWQgZG93biBpbnRvIHBhY2tldCBzaXplIGNvbnRyb2wsIGNhbGxlZCB3aGVuIHBhY2tldCBzaXplXG4gKiBpcyBjaGFuZ2VkIGJ5IHRoZSB1c2VyLlxuICogQHBhcmFtIHtudW1iZXJ9IG5ld1BhY2tldFNpemVcbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVNlbmRQYW5lbC5wcm90b3R5cGUucGFja2V0U2l6ZUNoYW5nZUNhbGxiYWNrXyA9IGZ1bmN0aW9uIChuZXdQYWNrZXRTaXplKSB7XG4gIHRoaXMubWF4UGFja2V0U2l6ZV8gPSBuZXdQYWNrZXRTaXplO1xuICB0aGlzLnBhY2tldHNfLmZvckVhY2goZnVuY3Rpb24gKHBhY2tldEVkaXRvcil7XG4gICAgcGFja2V0RWRpdG9yLnNldE1heFBhY2tldFNpemUobmV3UGFja2V0U2l6ZSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBBZnRlciB0b2dnbGluZyBwYW5lbCB2aXNpYmlsaXR5LCB0cmlnZ2VyIGEgbGF5b3V0IHVwZGF0ZSBzbyBzZW5kL2xvZyBwYW5lbFxuICogc3BhY2UgaXMgc2hhcmVkIGNvcnJlY3RseS5cbiAqIEBwcml2YXRlXG4gKiBAb3ZlcnJpZGVcbiAqL1xuTmV0U2ltU2VuZFBhbmVsLnByb3RvdHlwZS5vbk1pbmltaXplckNsaWNrXyA9IGZ1bmN0aW9uICgpIHtcbiAgTmV0U2ltU2VuZFBhbmVsLnN1cGVyUHJvdG90eXBlLm9uTWluaW1pemVyQ2xpY2tfLmNhbGwodGhpcyk7XG4gIHRoaXMubmV0c2ltXy51cGRhdGVMYXlvdXQoKTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cz0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdCA9IGZ1bmN0aW9uIGFub255bW91cyhsb2NhbHMsIGZpbHRlcnMsIGVzY2FwZVxuLyoqLykge1xuZXNjYXBlID0gZXNjYXBlIHx8IGZ1bmN0aW9uIChodG1sKXtcbiAgcmV0dXJuIFN0cmluZyhodG1sKVxuICAgIC5yZXBsYWNlKC8mKD8hXFx3KzspL2csICcmYW1wOycpXG4gICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpO1xufTtcbnZhciBidWYgPSBbXTtcbndpdGggKGxvY2FscyB8fCB7fSkgeyAoZnVuY3Rpb24oKXsgXG4gYnVmLnB1c2goJycpOzE7XG4gIHZhciBpMThuID0gcmVxdWlyZSgnLi9sb2NhbGUnKTtcbiAgdmFyIE1lc3NhZ2VHcmFudWxhcml0eSA9IHJlcXVpcmUoJy4vTmV0U2ltQ29uc3RhbnRzJykuTWVzc2FnZUdyYW51bGFyaXR5O1xuOyBidWYucHVzaCgnXFxuPGRpdiBjbGFzcz1cInNlbmQtcGFuZWwtcGFja2V0c1wiPjwvZGl2PlxcbjxkaXYgY2xhc3M9XCJwYW5lbC1mb290ZXJcIj5cXG4gIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLWNvbnRyb2xzXCI+XFxuICAgICcpOzg7IGlmIChsZXZlbC5zaG93QWRkUGFja2V0QnV0dG9uKSB7IDsgYnVmLnB1c2goJ1xcbiAgICAgIDxzcGFuIGNsYXNzPVwibmV0c2ltLWJ1dHRvbiBzZWNvbmRhcnkgbGFyZ2UtYnV0dG9uXCIgaWQ9XCJhZGQtcGFja2V0LWJ1dHRvblwiPicsIGVzY2FwZSgoOSwgIGkxOG4uYWRkUGFja2V0KCkgKSksICc8L3NwYW4+XFxuICAgICcpOzEwOyB9IDsgYnVmLnB1c2goJ1xcbiAgICAnKTsxMTsgaWYgKGxldmVsLm1lc3NhZ2VHcmFudWxhcml0eSA9PT0gTWVzc2FnZUdyYW51bGFyaXR5LlBBQ0tFVFMpIHsgOyBidWYucHVzaCgnXFxuICAgICAgPHNwYW4gY2xhc3M9XCJuZXRzaW0tYnV0dG9uIGxhcmdlLWJ1dHRvblwiIGlkPVwic2VuZC1idXR0b25cIj4nLCBlc2NhcGUoKDEyLCAgaTE4bi5zZW5kKCkgKSksICc8L3NwYW4+XFxuICAgICcpOzEzOyB9IGVsc2UgaWYgKGxldmVsLm1lc3NhZ2VHcmFudWxhcml0eSA9PT0gTWVzc2FnZUdyYW51bGFyaXR5LkJJVFMpIHsgOyBidWYucHVzaCgnXFxuICAgICAgPHNwYW4gY2xhc3M9XCJuZXRzaW0tYnV0dG9uIGxhcmdlLWJ1dHRvblwiIGlkPVwic2V0LXdpcmUtYnV0dG9uXCI+JywgZXNjYXBlKCgxNCwgIGkxOG4uc2V0V2lyZSgpICkpLCAnPC9zcGFuPlxcbiAgICAnKTsxNTsgfSA7IGJ1Zi5wdXNoKCdcXG4gIDwvZGl2PlxcbiAgPGRpdiBjbGFzcz1cInBhY2tldC1zaXplXCI+PC9kaXY+XFxuPC9kaXY+XFxuJyk7IH0pKCk7XG59IFxucmV0dXJuIGJ1Zi5qb2luKCcnKTtcbn07XG4gIHJldHVybiBmdW5jdGlvbihsb2NhbHMpIHtcbiAgICByZXR1cm4gdChsb2NhbHMsIHJlcXVpcmUoXCJlanNcIikuZmlsdGVycyk7XG4gIH1cbn0oKSk7IiwiLyoqXG4gKiBAb3ZlcnZpZXcgVUkgY29udHJvbGxlciBmb3IgdGhlIFwiUm91dGVyXCIgdGFiIGluIHRoZSBsZWZ0IGNvbHVtbi5cbiAqL1xuLy8gU3RyaWN0IGxpbnRpbmc6IEFic29yYiBpbnRvIGdsb2JhbCBjb25maWcgd2hlbiBwb3NzaWJsZVxuLyoganNoaW50XG4gdW51c2VkOiB0cnVlLFxuIGVxZXFlcTogdHJ1ZSxcbiBtYXhsZW46IDEyMFxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBtYXJrdXAgPSByZXF1aXJlKCcuL05ldFNpbVJvdXRlclRhYi5odG1sLmVqcycpO1xudmFyIE5ldFNpbUJhbmR3aWR0aENvbnRyb2wgPSByZXF1aXJlKCcuL05ldFNpbUJhbmR3aWR0aENvbnRyb2wnKTtcbnZhciBOZXRTaW1NZW1vcnlDb250cm9sID0gcmVxdWlyZSgnLi9OZXRTaW1NZW1vcnlDb250cm9sJyk7XG52YXIgTmV0U2ltUm91dGVyU3RhdHNUYWJsZSA9IHJlcXVpcmUoJy4vTmV0U2ltUm91dGVyU3RhdHNUYWJsZScpO1xudmFyIE5ldFNpbUdsb2JhbHMgPSByZXF1aXJlKCcuL05ldFNpbUdsb2JhbHMnKTtcblxuLyoqXG4gKiBHZW5lcmF0b3IgYW5kIGNvbnRyb2xsZXIgZm9yIHJvdXRlciBpbmZvcm1hdGlvbiB2aWV3LlxuICogQHBhcmFtIHtqUXVlcnl9IHJvb3REaXYgLSBQYXJlbnQgZWxlbWVudCBmb3IgdGhpcyBjb21wb25lbnQuXG4gKiBAcGFyYW0ge09iamVjdH0gY2FsbGJhY2tzXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja3MuYmFuZHdpZHRoU2xpZGVyQ2hhbmdlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrcy5iYW5kd2lkdGhTbGlkZXJTdG9wQ2FsbGJhY2tcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrcy5tZW1vcnlTbGlkZXJDaGFuZ2VDYWxsYmFja1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tzLm1lbW9yeVNsaWRlclN0b3BDYWxsYmFja1xuICogQGNvbnN0cnVjdG9yXG4gKi9cbnZhciBOZXRTaW1Sb3V0ZXJUYWIgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChyb290RGl2LCBjYWxsYmFja3MpIHtcbiAgLyoqXG4gICAqIENvbXBvbmVudCByb290LCB3aGljaCB3ZSBmaWxsIHdoZW5ldmVyIHdlIGNhbGwgcmVuZGVyKClcbiAgICogQHR5cGUge2pRdWVyeX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucm9vdERpdl8gPSByb290RGl2O1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7ZnVuY3Rpb259XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmJhbmR3aWR0aFNsaWRlckNoYW5nZUNhbGxiYWNrXyA9IGNhbGxiYWNrcy5iYW5kd2lkdGhTbGlkZXJDaGFuZ2VDYWxsYmFjaztcblxuICAvKipcbiAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5iYW5kd2lkdGhTbGlkZXJTdG9wQ2FsbGJhY2tfID0gY2FsbGJhY2tzLmJhbmR3aWR0aFNsaWRlclN0b3BDYWxsYmFjaztcblxuICAvKipcbiAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5tZW1vcnlTbGlkZXJDaGFuZ2VDYWxsYmFja18gPSBjYWxsYmFja3MubWVtb3J5U2xpZGVyQ2hhbmdlQ2FsbGJhY2s7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtmdW5jdGlvbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMubWVtb3J5U2xpZGVyU3RvcENhbGxiYWNrXyA9IGNhbGxiYWNrcy5tZW1vcnlTbGlkZXJTdG9wQ2FsbGJhY2s7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtOZXRTaW1Sb3V0ZXJTdGF0c1RhYmxlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5yb3V0ZXJTdGF0c1RhYmxlXyA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtOZXRTaW1CYW5kd2lkdGhDb250cm9sfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5iYW5kd2lkdGhDb250cm9sXyA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtOZXRTaW1NZW1vcnlDb250cm9sfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5tZW1vcnlDb250cm9sXyA9IG51bGw7XG5cbiAgLy8gSW5pdGlhbCByZW5kZXJcbiAgdGhpcy5yZW5kZXIoKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtSdW5Mb29wfSBydW5Mb29wXG4gKi9cbk5ldFNpbVJvdXRlclRhYi5wcm90b3R5cGUuYXR0YWNoVG9SdW5Mb29wID0gZnVuY3Rpb24gKHJ1bkxvb3ApIHtcbiAgaWYgKHRoaXMucm91dGVyU3RhdHNUYWJsZV8pIHtcbiAgICB0aGlzLnJvdXRlclN0YXRzVGFibGVfLmF0dGFjaFRvUnVuTG9vcChydW5Mb29wKTtcbiAgfVxufTtcblxuLyoqXG4gKiBGaWxsIHRoZSByb290IGRpdiB3aXRoIG5ldyBlbGVtZW50cyByZWZsZWN0aW5nIHRoZSBjdXJyZW50IHN0YXRlLlxuICovXG5OZXRTaW1Sb3V0ZXJUYWIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGxldmVsQ29uZmlnID0gTmV0U2ltR2xvYmFscy5nZXRMZXZlbENvbmZpZygpO1xuXG4gIHZhciByZW5kZXJlZE1hcmt1cCA9ICQobWFya3VwKHtcbiAgICBsZXZlbDogbGV2ZWxDb25maWdcbiAgfSkpO1xuICB0aGlzLnJvb3REaXZfLmh0bWwocmVuZGVyZWRNYXJrdXApO1xuICB0aGlzLnJvdXRlclN0YXRzVGFibGVfID0gbmV3IE5ldFNpbVJvdXRlclN0YXRzVGFibGUoXG4gICAgICB0aGlzLnJvb3REaXZfLmZpbmQoJy5yb3V0ZXItc3RhdHMnKSk7XG4gIGlmIChsZXZlbENvbmZpZy5zaG93Um91dGVyQmFuZHdpZHRoQ29udHJvbCkge1xuICAgIHRoaXMuYmFuZHdpZHRoQ29udHJvbF8gPSBuZXcgTmV0U2ltQmFuZHdpZHRoQ29udHJvbChcbiAgICAgICAgdGhpcy5yb290RGl2Xy5maW5kKCcuYmFuZHdpZHRoLWNvbnRyb2wnKSxcbiAgICAgICAgdGhpcy5iYW5kd2lkdGhTbGlkZXJDaGFuZ2VDYWxsYmFja18sXG4gICAgICAgIHRoaXMuYmFuZHdpZHRoU2xpZGVyU3RvcENhbGxiYWNrXyk7XG4gIH1cbiAgaWYgKGxldmVsQ29uZmlnLnNob3dSb3V0ZXJNZW1vcnlDb250cm9sKSB7XG4gICAgdGhpcy5tZW1vcnlDb250cm9sXyA9IG5ldyBOZXRTaW1NZW1vcnlDb250cm9sKFxuICAgICAgICB0aGlzLnJvb3REaXZfLmZpbmQoJy5tZW1vcnktY29udHJvbCcpLFxuICAgICAgICB0aGlzLm1lbW9yeVNsaWRlckNoYW5nZUNhbGxiYWNrXyxcbiAgICAgICAgdGhpcy5tZW1vcnlTbGlkZXJTdG9wQ2FsbGJhY2tfKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge05ldFNpbUxvZ0VudHJ5W119IGxvZ0RhdGFcbiAqL1xuTmV0U2ltUm91dGVyVGFiLnByb3RvdHlwZS5zZXRSb3V0ZXJMb2dEYXRhID0gZnVuY3Rpb24gKGxvZ0RhdGEpIHtcbiAgaWYgKHRoaXMucm91dGVyU3RhdHNUYWJsZV8pIHtcbiAgICB0aGlzLnJvdXRlclN0YXRzVGFibGVfLnNldFJvdXRlckxvZ0RhdGEobG9nRGF0YSk7XG4gIH1cbn07XG5cbi8qKiBAcGFyYW0ge251bWJlcn0gY3JlYXRpb25UaW1lc3RhbXBNcyAqL1xuTmV0U2ltUm91dGVyVGFiLnByb3RvdHlwZS5zZXRSb3V0ZXJDcmVhdGlvblRpbWUgPSBmdW5jdGlvbiAoY3JlYXRpb25UaW1lc3RhbXBNcykge1xuICBpZiAodGhpcy5yb3V0ZXJTdGF0c1RhYmxlXykge1xuICAgIHRoaXMucm91dGVyU3RhdHNUYWJsZV8uc2V0Um91dGVyQ3JlYXRpb25UaW1lKGNyZWF0aW9uVGltZXN0YW1wTXMpO1xuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZXdCYW5kd2lkdGggaW4gYml0cy9zZWNvbmRcbiAqL1xuTmV0U2ltUm91dGVyVGFiLnByb3RvdHlwZS5zZXRCYW5kd2lkdGggPSBmdW5jdGlvbiAobmV3QmFuZHdpZHRoKSB7XG4gIGlmICh0aGlzLmJhbmR3aWR0aENvbnRyb2xfKSB7XG4gICAgdGhpcy5iYW5kd2lkdGhDb250cm9sXy5zZXRWYWx1ZShuZXdCYW5kd2lkdGgpO1xuICB9XG4gIGlmICh0aGlzLnJvdXRlclN0YXRzVGFibGVfKSB7XG4gICAgdGhpcy5yb3V0ZXJTdGF0c1RhYmxlXy5zZXRCYW5kd2lkdGgobmV3QmFuZHdpZHRoKTtcbiAgfVxufTtcblxuLyoqIEBwYXJhbSB7bnVtYmVyfSBuZXdNZW1vcnkgaW4gYml0cy9zZWNvbmQgKi9cbk5ldFNpbVJvdXRlclRhYi5wcm90b3R5cGUuc2V0TWVtb3J5ID0gZnVuY3Rpb24gKG5ld01lbW9yeSkge1xuICBpZiAodGhpcy5tZW1vcnlDb250cm9sXykge1xuICAgIHRoaXMubWVtb3J5Q29udHJvbF8uc2V0VmFsdWUobmV3TWVtb3J5KTtcbiAgfVxuICBpZiAodGhpcy5yb3V0ZXJTdGF0c1RhYmxlXykge1xuICAgIHRoaXMucm91dGVyU3RhdHNUYWJsZV8uc2V0VG90YWxNZW1vcnkobmV3TWVtb3J5KTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gcXVldWVkUGFja2V0Q291bnRcbiAqL1xuTmV0U2ltUm91dGVyVGFiLnByb3RvdHlwZS5zZXRSb3V0ZXJRdWV1ZWRQYWNrZXRDb3VudCA9IGZ1bmN0aW9uIChxdWV1ZWRQYWNrZXRDb3VudCkge1xuICBpZiAodGhpcy5yb3V0ZXJTdGF0c1RhYmxlXykge1xuICAgIHRoaXMucm91dGVyU3RhdHNUYWJsZV8uc2V0Um91dGVyUXVldWVkUGFja2V0Q291bnQocXVldWVkUGFja2V0Q291bnQpO1xuICB9XG59O1xuXG4vKiogQHBhcmFtIHtudW1iZXJ9IHVzZWRNZW1vcnlJbkJpdHMgKi9cbk5ldFNpbVJvdXRlclRhYi5wcm90b3R5cGUuc2V0TWVtb3J5SW5Vc2UgPSBmdW5jdGlvbiAodXNlZE1lbW9yeUluQml0cykge1xuICBpZiAodGhpcy5yb3V0ZXJTdGF0c1RhYmxlXykge1xuICAgIHRoaXMucm91dGVyU3RhdHNUYWJsZV8uc2V0TWVtb3J5SW5Vc2UodXNlZE1lbW9yeUluQml0cyk7XG4gIH1cbn07XG5cbi8qKiBAcGFyYW0ge251bWJlcn0gZGF0YVJhdGVCaXRzUGVyU2Vjb25kICovXG5OZXRTaW1Sb3V0ZXJUYWIucHJvdG90eXBlLnNldERhdGFSYXRlID0gZnVuY3Rpb24gKGRhdGFSYXRlQml0c1BlclNlY29uZCkge1xuICBpZiAodGhpcy5yb3V0ZXJTdGF0c1RhYmxlXykge1xuICAgIHRoaXMucm91dGVyU3RhdHNUYWJsZV8uc2V0RGF0YVJhdGUoZGF0YVJhdGVCaXRzUGVyU2Vjb25kKTtcbiAgfVxufTtcbiIsIm1vZHVsZS5leHBvcnRzPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB0ID0gZnVuY3Rpb24gYW5vbnltb3VzKGxvY2FscywgZmlsdGVycywgZXNjYXBlXG4vKiovKSB7XG5lc2NhcGUgPSBlc2NhcGUgfHwgZnVuY3Rpb24gKGh0bWwpe1xuICByZXR1cm4gU3RyaW5nKGh0bWwpXG4gICAgLnJlcGxhY2UoLyYoPyFcXHcrOykvZywgJyZhbXA7JylcbiAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7Jyk7XG59O1xudmFyIGJ1ZiA9IFtdO1xud2l0aCAobG9jYWxzIHx8IHt9KSB7IChmdW5jdGlvbigpeyBcbiBidWYucHVzaCgnJyk7MTtcbnZhciBpMThuID0gcmVxdWlyZSgnLi9sb2NhbGUnKTtcbjsgYnVmLnB1c2goJ1xcbjxkaXYgY2xhc3M9XCJuZXRzaW0tcm91dGVyLXRhYlwiPlxcbiAgPGgxPicsIGVzY2FwZSgoNSwgIGkxOG4ucm91dGVyVGFiX3N0YXRzKCkgKSksICc8L2gxPlxcbiAgPGRpdiBjbGFzcz1cInJvdXRlci1zdGF0c1wiPjwvZGl2PlxcbiAgJyk7NzsgaWYgKGxldmVsLnNob3dSb3V0ZXJCYW5kd2lkdGhDb250cm9sKSB7IDsgYnVmLnB1c2goJ1xcbiAgICA8aDE+JywgZXNjYXBlKCg4LCAgaTE4bi5yb3V0ZXJUYWJfYmFuZHdpZHRoKCkgKSksICc8L2gxPlxcbiAgICA8ZGl2IGNsYXNzPVwiYmFuZHdpZHRoLWNvbnRyb2xcIj48L2Rpdj5cXG4gICcpOzEwOyB9IDsgYnVmLnB1c2goJ1xcbiAgJyk7MTE7IGlmIChsZXZlbC5zaG93Um91dGVyTWVtb3J5Q29udHJvbCkgeyA7IGJ1Zi5wdXNoKCdcXG4gICAgPGgxPicsIGVzY2FwZSgoMTIsICBpMThuLnJvdXRlclRhYl9tZW1vcnkoKSApKSwgJzwvaDE+XFxuICAgIDxkaXYgY2xhc3M9XCJtZW1vcnktY29udHJvbFwiPjwvZGl2PlxcbiAgJyk7MTQ7IH0gOyBidWYucHVzaCgnXFxuICA8aDE+JywgZXNjYXBlKCgxNSwgIGkxOG4ucm91dGVyVGFiX2xvZ3MoKSApKSwgJzwvaDE+XFxuICA8c3BhbiBjbGFzcz1cInNlY29uZGFyeSBuZXRzaW0tYnV0dG9uIGxhcmdlLWJ1dHRvblwiIGlkPVwic2hvdy1yb3V0ZXItbG9nLW1vZGFsLXR3b1wiIGRhdGEtdG9nZ2xlPVwibW9kYWxcIiBkYXRhLXRhcmdldD1cIiNyb3V0ZXItbG9nLW1vZGFsXCI+JywgZXNjYXBlKCgxNiwgIGkxOG4ubG9nQnJvd3NlckJ1dHRvbigpICkpLCAnPC9zcGFuPlxcbjwvZGl2PlxcbicpOyB9KSgpO1xufSBcbnJldHVybiBidWYuam9pbignJyk7XG59O1xuICByZXR1cm4gZnVuY3Rpb24obG9jYWxzKSB7XG4gICAgcmV0dXJuIHQobG9jYWxzLCByZXF1aXJlKFwiZWpzXCIpLmZpbHRlcnMpO1xuICB9XG59KCkpOyIsIi8qKlxuICogQG92ZXJ2aWV3IFVJIGNvbXBvbmVudCBkaXNwbGF5aW5nIHJvdXRlciBzdGF0cyBvbiB0aGUgXCJSb3V0ZXJcIiB0YWIuXG4gKi9cbi8vIFN0cmljdCBsaW50aW5nOiBBYnNvcmIgaW50byBnbG9iYWwgY29uZmlnIHdoZW4gcG9zc2libGVcbi8qIGpzaGludFxuIHVudXNlZDogdHJ1ZSxcbiBlcWVxZXE6IHRydWUsXG4gbWF4bGVuOiAxMjBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgbWFya3VwID0gcmVxdWlyZSgnLi9OZXRTaW1Sb3V0ZXJTdGF0c1RhYmxlLmh0bWwuZWpzJyk7XG52YXIgTmV0U2ltVXRpbHMgPSByZXF1aXJlKCcuL05ldFNpbVV0aWxzJyk7XG52YXIgTmV0U2ltTG9nRW50cnkgPSByZXF1aXJlKCcuL05ldFNpbUxvZ0VudHJ5Jyk7XG5cbi8qKlxuICogUmVuZGVyIGV2ZXJ5IGhhbGYtc2Vjb25kLCBtaW5pbXVtLlxuICogQHR5cGUge251bWJlcn1cbiAqIEBjb25zdFxuICovXG52YXIgTUFYX1JFTkRFUl9ERUxBWV9NUyA9IDUwMDtcblxuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGNvbnN0XG4gKi9cbnZhciBNSUxMSVNfUEVSX1NFQ09ORCA9IDEwMDA7XG5cbi8qKlxuICogQHR5cGUge251bWJlcn1cbiAqIEBjb25zdFxuICovXG52YXIgU0VDT05EU19QRVJfTUlOVVRFID0gNjA7XG5cbi8qKlxuICogQHR5cGUge251bWJlcn1cbiAqIEBjb25zdFxuICovXG52YXIgTUlMTElTX1BFUl9NSU5VVEUgPSBNSUxMSVNfUEVSX1NFQ09ORCAqIFNFQ09ORFNfUEVSX01JTlVURTtcblxuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGNvbnN0XG4gKi9cbnZhciBNSU5VVEVTX1BFUl9IT1VSID0gNjA7XG5cbi8qKlxuICogQHR5cGUge251bWJlcn1cbiAqIEBjb25zdFxuICovXG52YXIgTUlMTElTX1BFUl9IT1VSID0gTUlMTElTX1BFUl9NSU5VVEUgKiBNSU5VVEVTX1BFUl9IT1VSO1xuXG4vKipcbiAqIEdlbmVyYXRvciBhbmQgY29udHJvbGxlciBmb3IgRE5TIG5ldHdvcmsgbG9va3VwIHRhYmxlIGNvbXBvbmVudC5cbiAqIFNob3dzIGRpZmZlcmVudCBhbW91bnRzIG9mIGluZm9ybWF0aW9uIGRlcGVuZGluZyBvbiB0aGUgRE5TIG1vZGUuXG4gKlxuICogQHBhcmFtIHtqUXVlcnl9IHJvb3REaXZcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgTmV0U2ltUm91dGVyU3RhdHNUYWJsZSA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHJvb3REaXYpIHtcbiAgLyoqXG4gICAqIENvbXBvbmVudCByb290LCB3aGljaCB3ZSBmaWxsIHdoZW5ldmVyIHdlIGNhbGwgcmVuZGVyKClcbiAgICogQHR5cGUge2pRdWVyeX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucm9vdERpdl8gPSByb290RGl2O1xuXG4gIC8qKlxuICAgKiBMYXN0IHJlbmRlciB0aW1lLCBpbiBzaW11bGF0aW9uLXRpbWUuXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmxhc3RSZW5kZXJUaW1lXyA9IG51bGw7XG5cbiAgLyoqXG4gICAqIFVuaXggdGltZXN0YW1wIChsb2NhbCkgb2Ygcm91dGVyIGNyZWF0aW9uIHRpbWVcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucm91dGVyQ3JlYXRpb25UaW1lXyA9IDA7XG5cbiAgLyoqXG4gICAqIFRvdGFsIGNvdW50IG9mIHBhY2tldHMgdGhpcyByb3V0ZXIgaGFzIHJlY2VpdmVkLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy50b3RhbFBhY2tldHNfID0gMDtcblxuICAvKipcbiAgICogVG90YWwgY291bnQgb2YgcGFja2V0cyB0aGlzIHJvdXRlciBoYXMgc3VjY2Vzc2Z1bGx5IHByb2Nlc3NlZC5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuc3VjY2Vzc2Z1bFBhY2tldHNfID0gMDtcblxuICAvKipcbiAgICogVG90YWwgc2l6ZSBvZiBhbGwgcGFja2V0cyByZWNlaXZlZCBieSB0aGlzIHJvdXRlciwgaW4gYml0cy5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMudG90YWxEYXRhXyA9IDA7XG5cbiAgLyoqXG4gICAqIFRvdGFsIHNpemUgb2YgYWxsIHBhY2tldHMgc3VjY2Vzc2Z1bGx5IHByb2Nlc3NlZCBieSB0aGlzIHJvdXRlciwgaW4gYml0cy5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuc3VjY2Vzc2Z1bERhdGFfID0gMDtcblxuICAvKipcbiAgICogTWF4aW11bSByYXRlIG9mIGRhdGEgdHJhbnNmZXIgKGluIGJpdHMgcGVyIHNlY29uZClcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuYmFuZHdpZHRoTGltaXRfID0gMDtcblxuICAvKipcbiAgICogQXZlcmFnZSByYXRlIG9mIGRhdGEgdHJhbnNmZXIgKGluIGJpdHMgcGVyIHNlY29uZCkgb3ZlciB0aGUgbGFzdFxuICAgKiBEQVRBX1JBVEVfV0lORE9XX01TIG1pbGxpc2Vjb25kcy5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuZGF0YVJhdGVfID0gMDtcblxuICAvKipcbiAgICogUm91dGVyJ3MgdG90YWwgbWVtb3J5IGNhcGFjaXR5LCBpbiBiaXRzLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy50b3RhbE1lbW9yeV8gPSAwO1xuXG4gIC8qKlxuICAgKiBOdW1iZXIgb2YgcGFja2V0cyBpbiB0aGUgcm91dGVyJ3MgcXVldWUuXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnF1ZXVlZFBhY2tldHNfID0gMDtcblxuICAvKipcbiAgICogQ3VycmVudCBzaXplIG9mIHRoZSByb3V0ZXIncyBwYWNrZXQgcXVldWUsIGluIGJpdHMuXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnVzZWRNZW1vcnlfID0gMDtcblxuICB0aGlzLnJlbmRlcih7fSk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7UnVuTG9vcH0gcnVuTG9vcFxuICovXG5OZXRTaW1Sb3V0ZXJTdGF0c1RhYmxlLnByb3RvdHlwZS5hdHRhY2hUb1J1bkxvb3AgPSBmdW5jdGlvbiAocnVuTG9vcCkge1xuICBydW5Mb29wLnJlbmRlci5yZWdpc3Rlcih0aGlzLnJlbmRlci5iaW5kKHRoaXMpKTtcbn07XG5cbi8qKlxuICogRmlsbCB0aGUgcm9vdCBkaXYgd2l0aCBuZXcgZWxlbWVudHMgcmVmbGVjdGluZyB0aGUgY3VycmVudCBzdGF0ZVxuICogQHBhcmFtIHtSdW5Mb29wLkNsb2NrfSBjbG9ja1xuICovXG5OZXRTaW1Sb3V0ZXJTdGF0c1RhYmxlLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoY2xvY2spIHtcbiAgaWYgKCF0aGlzLm5lZWRzUmVuZGVyKGNsb2NrKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciByZW5kZXJlZE1hcmt1cCA9ICQobWFya3VwKHtcbiAgICB1cHRpbWU6IHRoaXMuZ2V0TG9jYWxpemVkVXB0aW1lKCksXG4gICAgcXVldWVkUGFja2V0czogdGhpcy5xdWV1ZWRQYWNrZXRzXyxcbiAgICB0b3RhbFBhY2tldHM6IHRoaXMudG90YWxQYWNrZXRzXyxcbiAgICBzdWNjZXNzZnVsUGFja2V0czogdGhpcy5zdWNjZXNzZnVsUGFja2V0c18sXG4gICAgdG90YWxEYXRhOiB0aGlzLnRvdGFsRGF0YV8sXG4gICAgc3VjY2Vzc2Z1bERhdGE6IHRoaXMuc3VjY2Vzc2Z1bERhdGFfLFxuICAgIGJhbmR3aWR0aExpbWl0OiB0aGlzLmJhbmR3aWR0aExpbWl0XyxcbiAgICBkYXRhUmF0ZTogdGhpcy5kYXRhUmF0ZV8sXG4gICAgdG90YWxNZW1vcnk6IHRoaXMudG90YWxNZW1vcnlfLFxuICAgIHVzZWRNZW1vcnk6IHRoaXMudXNlZE1lbW9yeV9cbiAgfSkpO1xuICB0aGlzLnJvb3REaXZfLmh0bWwocmVuZGVyZWRNYXJrdXApO1xuICB0aGlzLmxhc3RSZW5kZXJUaW1lXyA9IGNsb2NrLnRpbWU7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7UnVuTG9vcC5DbG9ja30gY2xvY2tcbiAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIGEgcmVuZGVyIG9wZXJhdGlvbiBpcyBuZWVkZWQuXG4gKi9cbk5ldFNpbVJvdXRlclN0YXRzVGFibGUucHJvdG90eXBlLm5lZWRzUmVuZGVyID0gZnVuY3Rpb24gKGNsb2NrKSB7XG4gIHJldHVybiAoIXRoaXMubGFzdFJlbmRlclRpbWVfIHx8XG4gICAgICBjbG9jay50aW1lIC0gdGhpcy5sYXN0UmVuZGVyVGltZV8gPiBNQVhfUkVOREVSX0RFTEFZX01TKTtcbn07XG5cbi8qKlxuICogTWFyayB0aGUgcm91dGVyIGxvZyBkYXRhIGRpcnR5LCBzbyB0aGF0IGl0IHdpbGwgcmUtcmVuZGVyIG9uIHRoZVxuICogbmV4dCBmcmFtZS5cbiAqL1xuTmV0U2ltUm91dGVyU3RhdHNUYWJsZS5wcm90b3R5cGUuc2V0TmVlZHNSZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMubGFzdFJlbmRlclRpbWVfID0gbnVsbDtcbn07XG5cbi8qKlxuICogR2V0IGEgZHVyYXRpb24gc3RyaW5nIGZvciB0aGUgY3VycmVudCByb3V0ZXIgdXB0aW1lLlxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuTmV0U2ltUm91dGVyU3RhdHNUYWJsZS5wcm90b3R5cGUuZ2V0TG9jYWxpemVkVXB0aW1lID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaG91cnNVcHRpbWUgPSAwO1xuICB2YXIgbWludXRlc1VwdGltZSA9IDA7XG4gIHZhciBzZWNvbmRzVXB0aW1lID0gMDtcbiAgaWYgKHRoaXMucm91dGVyQ3JlYXRpb25UaW1lXyA+IDApIHtcbiAgICB2YXIgbWlsbGlzZWNvbmRzVXB0aW1lID0gRGF0ZS5ub3coKSAtIHRoaXMucm91dGVyQ3JlYXRpb25UaW1lXztcbiAgICBob3Vyc1VwdGltZSA9IE1hdGguZmxvb3IobWlsbGlzZWNvbmRzVXB0aW1lIC8gTUlMTElTX1BFUl9IT1VSKTtcbiAgICBtaWxsaXNlY29uZHNVcHRpbWUgLT0gaG91cnNVcHRpbWUgKiBNSUxMSVNfUEVSX0hPVVI7XG4gICAgbWludXRlc1VwdGltZSA9IE1hdGguZmxvb3IobWlsbGlzZWNvbmRzVXB0aW1lIC8gTUlMTElTX1BFUl9NSU5VVEUpO1xuICAgIG1pbGxpc2Vjb25kc1VwdGltZSAtPSBtaW51dGVzVXB0aW1lICogTUlMTElTX1BFUl9NSU5VVEU7XG4gICAgc2Vjb25kc1VwdGltZSA9IE1hdGguZmxvb3IobWlsbGlzZWNvbmRzVXB0aW1lIC8gTUlMTElTX1BFUl9TRUNPTkQpO1xuICB9XG4gIHJldHVybiBob3Vyc1VwdGltZS50b1N0cmluZygpICtcbiAgICAgICc6JyArIE5ldFNpbVV0aWxzLnplcm9QYWRMZWZ0KG1pbnV0ZXNVcHRpbWUsIDIpICtcbiAgICAgICc6JyArIE5ldFNpbVV0aWxzLnplcm9QYWRMZWZ0KHNlY29uZHNVcHRpbWUsIDIpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge05ldFNpbUxvZ0VudHJ5W119IGxvZ0VudHJpZXNcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRvdGFsIGRhdGEgc2l6ZSwgaW4gYml0cywgb2YgcGFja2V0cyByZXByZXNlbnRlZCBieSB0aGVcbiAqICAgICAgICAgIGdpdmVuIGxvZyBlbnRyaWVzLlxuICovXG52YXIgdG90YWxTaXplT2ZQYWNrZXRzID0gZnVuY3Rpb24gKGxvZ0VudHJpZXMpIHtcbiAgcmV0dXJuIGxvZ0VudHJpZXMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXIpIHtcbiAgICByZXR1cm4gcHJldiArIGN1ci5iaW5hcnkubGVuZ3RoO1xuICB9LCAwKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtOZXRTaW1Mb2dFbnRyeVtdfSBsb2dEYXRhXG4gKi9cbk5ldFNpbVJvdXRlclN0YXRzVGFibGUucHJvdG90eXBlLnNldFJvdXRlckxvZ0RhdGEgPSBmdW5jdGlvbiAobG9nRGF0YSkge1xuICB2YXIgc3VjY2Vzc0xvZ3MgPSBsb2dEYXRhLmZpbHRlcihmdW5jdGlvbiAobG9nRW50cnkpIHtcbiAgICByZXR1cm4gbG9nRW50cnkuc3RhdHVzID09PSBOZXRTaW1Mb2dFbnRyeS5Mb2dTdGF0dXMuU1VDQ0VTUztcbiAgfSk7XG5cbiAgdGhpcy50b3RhbFBhY2tldHNfID0gbG9nRGF0YS5sZW5ndGg7XG4gIHRoaXMuc3VjY2Vzc2Z1bFBhY2tldHNfID0gc3VjY2Vzc0xvZ3MubGVuZ3RoO1xuXG4gIHRoaXMudG90YWxEYXRhXyA9IHRvdGFsU2l6ZU9mUGFja2V0cyhsb2dEYXRhKTtcbiAgdGhpcy5zdWNjZXNzZnVsRGF0YV8gPSB0b3RhbFNpemVPZlBhY2tldHMoc3VjY2Vzc0xvZ3MpO1xuXG4gIHRoaXMuc2V0TmVlZHNSZW5kZXIoKTtcbn07XG5cbi8qKiBAcGFyYW0ge251bWJlcn0gY3JlYXRpb25UaW1lc3RhbXBNcyAqL1xuTmV0U2ltUm91dGVyU3RhdHNUYWJsZS5wcm90b3R5cGUuc2V0Um91dGVyQ3JlYXRpb25UaW1lID0gZnVuY3Rpb24gKGNyZWF0aW9uVGltZXN0YW1wTXMpIHtcbiAgdGhpcy5yb3V0ZXJDcmVhdGlvblRpbWVfID0gY3JlYXRpb25UaW1lc3RhbXBNcztcbiAgdGhpcy5zZXROZWVkc1JlbmRlcigpO1xufTtcblxuLyoqIEBwYXJhbSB7bnVtYmVyfSBuZXdCYW5kd2lkdGggaW4gYml0cyBwZXIgc2Vjb25kICovXG5OZXRTaW1Sb3V0ZXJTdGF0c1RhYmxlLnByb3RvdHlwZS5zZXRCYW5kd2lkdGggPSBmdW5jdGlvbiAobmV3QmFuZHdpZHRoKSB7XG4gIHRoaXMuYmFuZHdpZHRoTGltaXRfID0gbmV3QmFuZHdpZHRoO1xuICB0aGlzLnNldE5lZWRzUmVuZGVyKCk7XG59O1xuXG4vKiogQHBhcmFtIHtudW1iZXJ9IHRvdGFsTWVtb3J5SW5CaXRzICovXG5OZXRTaW1Sb3V0ZXJTdGF0c1RhYmxlLnByb3RvdHlwZS5zZXRUb3RhbE1lbW9yeSA9IGZ1bmN0aW9uICh0b3RhbE1lbW9yeUluQml0cykge1xuICB0aGlzLnRvdGFsTWVtb3J5XyA9IHRvdGFsTWVtb3J5SW5CaXRzO1xuICB0aGlzLnNldE5lZWRzUmVuZGVyKCk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyfSBxdWV1ZWRQYWNrZXRDb3VudFxuICovXG5OZXRTaW1Sb3V0ZXJTdGF0c1RhYmxlLnByb3RvdHlwZS5zZXRSb3V0ZXJRdWV1ZWRQYWNrZXRDb3VudCA9IGZ1bmN0aW9uIChcbiAgICBxdWV1ZWRQYWNrZXRDb3VudCkge1xuICB0aGlzLnF1ZXVlZFBhY2tldHNfID0gcXVldWVkUGFja2V0Q291bnQ7XG4gIHRoaXMuc2V0TmVlZHNSZW5kZXIoKTtcbn07XG5cbi8qKiBAcGFyYW0ge251bWJlcn0gdXNlZE1lbW9yeUluQml0cyAqL1xuTmV0U2ltUm91dGVyU3RhdHNUYWJsZS5wcm90b3R5cGUuc2V0TWVtb3J5SW5Vc2UgPSBmdW5jdGlvbiAodXNlZE1lbW9yeUluQml0cykge1xuICB0aGlzLnVzZWRNZW1vcnlfID0gdXNlZE1lbW9yeUluQml0cztcbiAgdGhpcy5zZXROZWVkc1JlbmRlcigpO1xufTtcblxuLyoqIEBwYXJhbSB7bnVtYmVyfSBkYXRhUmF0ZUJpdHNQZXJTZWNvbmQgKi9cbk5ldFNpbVJvdXRlclN0YXRzVGFibGUucHJvdG90eXBlLnNldERhdGFSYXRlID0gZnVuY3Rpb24gKGRhdGFSYXRlQml0c1BlclNlY29uZCkge1xuICB0aGlzLmRhdGFSYXRlXyA9IGRhdGFSYXRlQml0c1BlclNlY29uZDtcbiAgdGhpcy5zZXROZWVkc1JlbmRlcigpO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB0ID0gZnVuY3Rpb24gYW5vbnltb3VzKGxvY2FscywgZmlsdGVycywgZXNjYXBlXG4vKiovKSB7XG5lc2NhcGUgPSBlc2NhcGUgfHwgZnVuY3Rpb24gKGh0bWwpe1xuICByZXR1cm4gU3RyaW5nKGh0bWwpXG4gICAgLnJlcGxhY2UoLyYoPyFcXHcrOykvZywgJyZhbXA7JylcbiAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7Jyk7XG59O1xudmFyIGJ1ZiA9IFtdO1xud2l0aCAobG9jYWxzIHx8IHt9KSB7IChmdW5jdGlvbigpeyBcbiBidWYucHVzaCgnJyk7MTtcbiAgdmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcbiAgdmFyIE5ldFNpbVV0aWxzID0gcmVxdWlyZSgnLi9OZXRTaW1VdGlscycpO1xuXG4gIC8qKlxuICAgKiBXcml0ZSBhIHN0YXRzIHJvdyB3aXRoIHRoZSBnaXZlbiB0aXRsZSBhbmQgdmFsdWUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0aXRsZSAtIGxvY2FsaXplZCBuYW1lIG9mIHRoZSBzdGF0aXN0aWMgKHRoZSBoZWFkZXIgY29sdW1uIGNvbnRlbnRzKVxuICAgKiBAcGFyYW0geyp9IHN0YXRWYWx1ZSAtIHRoZSB2YWx1ZSBvZiB0aGUgc3RhdGlzdGljXG4gICAqL1xuICB2YXIgd3JpdGVTdGF0Um93ID0gZnVuY3Rpb24gKHRpdGxlLCBzdGF0VmFsdWUpIHtcbiAgICA7IGJ1Zi5wdXNoKCdcXG4gICAgICA8dHI+XFxuICAgICAgICA8dGggbm93cmFwPicsIGVzY2FwZSgoMTMsICB0aXRsZSApKSwgJzwvdGg+XFxuICAgICAgICA8dGQ+JywgZXNjYXBlKCgxNCwgIHN0YXRWYWx1ZSApKSwgJzwvdGQ+XFxuICAgICAgPC90cj5cXG4gICAgJyk7MTY7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdyaXRlIGEgc3RhdHMgcm93IHRoYXQgZGlzcGxheXMgYSBmcmFjdGlvbiBhbmQgYWxzbyBpdHMgcGVyY2VudGFnZSBmb3JtLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGl0bGUgLSBsb2NhbGl6ZWQgbmFtZSBvZiB0aGUgc3RhdGlzdGljICh0aGUgaGVhZGVyIGNvbHVtbiBjb250ZW50cylcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBhcnRWYWx1ZSAtIG51bWVyYXRvciBvZiB0aGUgc3RhdFxuICAgKiBAcGFyYW0ge251bWJlcn0gdG90YWxWYWx1ZSAtIGRlbm9taW5hdG9yIG9mIHRoZSBzdGF0XG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFt0b1N0cmluZ0Z1bmN0aW9uXSBtZXRob2QgZm9yIGNvbnZlcnRpbmcgbnVtZXJhdG9yIGFuZCBkZW5vbWluYXRvciB0byBkaXNwbGF5IGZvcm1hdFxuICAgKi9cbiAgdmFyIGZyYWN0aW9uU3RhdFJvdyA9IGZ1bmN0aW9uICh0aXRsZSwgcGFydFZhbHVlLCB0b3RhbFZhbHVlLCB0b1N0cmluZ0Z1bmN0aW9uKSB7XG4gICAgdG9TdHJpbmdGdW5jdGlvbiA9IHV0aWxzLnZhbHVlT3IodG9TdHJpbmdGdW5jdGlvbiwgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHg7IH0pO1xuICAgIHZhciB2YWx1ZVN0cmluZyA9IHRvU3RyaW5nRnVuY3Rpb24ocGFydFZhbHVlKSArICcgLyAnICsgdG9TdHJpbmdGdW5jdGlvbih0b3RhbFZhbHVlKTtcbiAgICBpZiAodG90YWxWYWx1ZSA+IDAgJiYgdG90YWxWYWx1ZSA8IEluZmluaXR5KSB7XG4gICAgICB2YWx1ZVN0cmluZyArPSAnICgnICsgTWF0aC5yb3VuZCgxMDAgKiBwYXJ0VmFsdWUgLyB0b3RhbFZhbHVlKSArICclKSc7XG4gICAgfVxuICAgIHdyaXRlU3RhdFJvdyh0aXRsZSwgdmFsdWVTdHJpbmcpO1xuICB9O1xuOyBidWYucHVzaCgnXFxuPHRhYmxlPlxcbiAgPHRib2R5PlxcbiAgICAnKTszNzsgd3JpdGVTdGF0Um93KCdVcHRpbWUnLCB1cHRpbWUpOyA7IGJ1Zi5wdXNoKCdcXG4gICAgJyk7Mzg7IHdyaXRlU3RhdFJvdygnUXVldWVkIFBhY2tldHMnLCBxdWV1ZWRQYWNrZXRzKTsgOyBidWYucHVzaCgnXFxuICAgICcpOzM5OyBmcmFjdGlvblN0YXRSb3coJ01lbW9yeSBVc2UnLCB1c2VkTWVtb3J5LCB0b3RhbE1lbW9yeSwgTmV0U2ltVXRpbHMuYml0c1RvTG9jYWxpemVkUm91bmRlZEJ5dGVzaXplKTsgOyBidWYucHVzaCgnXFxuICAgICcpOzQwOyBmcmFjdGlvblN0YXRSb3coJ1Rocm91Z2hwdXQnLCBkYXRhUmF0ZSwgYmFuZHdpZHRoTGltaXQsIE5ldFNpbVV0aWxzLmJpdHJhdGVUb0xvY2FsaXplZFJvdW5kZWRCaXRyYXRlKTsgOyBidWYucHVzaCgnXFxuICAgICcpOzQxOyBmcmFjdGlvblN0YXRSb3coJ1JvdXRlZCBQYWNrZXRzJywgc3VjY2Vzc2Z1bFBhY2tldHMsIHRvdGFsUGFja2V0cyk7IDsgYnVmLnB1c2goJ1xcbiAgICAnKTs0MjsgZnJhY3Rpb25TdGF0Um93KCdSb3V0ZWQgRGF0YScsIHN1Y2Nlc3NmdWxEYXRhLCB0b3RhbERhdGEsIE5ldFNpbVV0aWxzLmJpdHNUb0xvY2FsaXplZFJvdW5kZWRCeXRlc2l6ZSk7IDsgYnVmLnB1c2goJ1xcbiAgPC90Ym9keT5cXG48L3RhYmxlPlxcbicpOyB9KSgpO1xufSBcbnJldHVybiBidWYuam9pbignJyk7XG59O1xuICByZXR1cm4gZnVuY3Rpb24obG9jYWxzKSB7XG4gICAgcmV0dXJuIHQobG9jYWxzLCByZXF1aXJlKFwiZWpzXCIpLmZpbHRlcnMpO1xuICB9XG59KCkpOyIsIi8qKlxuICogQG92ZXJ2aWV3IGEgbW9kYWwgZGlhbG9nIHNob3dpbmcgdGhlIHVuaW9uIG9mIGFsbCByb3V0ZXIgbG9ncyBmb3IgdGhlXG4gKiAgICAgICAgICAgY3VycmVudCBzaGFyZC5cbiAqL1xuLy8gU3RyaWN0IGxpbnRpbmc6IEFic29yYiBpbnRvIGdsb2JhbCBjb25maWcgd2hlbiBwb3NzaWJsZVxuLyoganNoaW50XG4gdW51c2VkOiB0cnVlLFxuIGVxZXFlcTogdHJ1ZSxcbiBtYXhsZW46IDEyMFxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBpMThuID0gcmVxdWlyZSgnLi9sb2NhbGUnKTtcbnZhciBOZXRTaW1Mb2dFbnRyeSA9IHJlcXVpcmUoJy4vTmV0U2ltTG9nRW50cnknKTtcbnZhciBQYWNrZXQgPSByZXF1aXJlKCcuL1BhY2tldCcpO1xudmFyIG1hcmt1cCA9IHJlcXVpcmUoJy4vTmV0U2ltUm91dGVyTG9nTW9kYWwuaHRtbC5lanMnKTtcbnZhciBOZXRTaW1HbG9iYWxzID0gcmVxdWlyZSgnLi9OZXRTaW1HbG9iYWxzJyk7XG5cbi8qKiBAY29uc3Qge3N0cmluZ30gKi9cbnZhciBMT0dfRU5UUllfREFUQV9LRVkgPSAnTG9nRW50cnknO1xuXG4vKiogQGNvbnN0IHtudW1iZXJ9ICovXG52YXIgTUFYSU1VTV9ST1dTX0lOX0ZVTExfUkVOREVSID0gNTAwO1xuXG4vKipcbiAqIEdlbmVyYXRvciBhbmQgY29udHJvbGxlciBmb3IgY29udGVudHMgb2YgbW9kYWwgZGlhbG9nIHRoYXQgcmV2ZWFsc1xuICogYWxsIHJvdXRlciBsb2dzIHRvZ2V0aGVyLCBpbiBhIHNlYXJjaGFibGUvc29ydGFibGUvZmlsdGVyYWJsZSBtYW5uZXIuXG4gKlxuICogQHBhcmFtIHtqUXVlcnl9IHJvb3REaXZcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgTmV0U2ltUm91dGVyTG9nTW9kYWwgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChyb290RGl2KSB7XG5cbiAgLyoqXG4gICAqIENvbXBvbmVudCByb290LCB3aGljaCB3ZSBmaWxsIHdoZW5ldmVyIHdlIGNhbGwgcmVuZGVyKClcbiAgICogQHByaXZhdGUge2pRdWVyeX1cbiAgICovXG4gIHRoaXMucm9vdERpdl8gPSByb290RGl2O1xuXG4gIC8qKlxuICAgKiBIaWRkZW4gYnkgZGVmYXVsdC5cbiAgICogQHByaXZhdGUge2Jvb2xlYW59XG4gICAqL1xuICB0aGlzLmlzVmlzaWJsZV8gPSBmYWxzZTtcblxuICAvLyBBdHRhY2ggaGFuZGxlcnMgZm9yIHNob3dpbmcgYW5kIGhpZGluZyB0aGUgbW9kYWxcbiAgdGhpcy5yb290RGl2Xy5vbignc2hvd24uYnMubW9kYWwnLCB0aGlzLm9uU2hvd18uYmluZCh0aGlzKSk7XG4gIHRoaXMucm9vdERpdl8ub24oJ2hpZGRlbi5icy5tb2RhbCcsIHRoaXMub25IaWRlXy5iaW5kKHRoaXMpKTtcblxuICAvKipcbiAgICogQHByaXZhdGUge05ldFNpbVNoYXJkfVxuICAgKi9cbiAgdGhpcy5zaGFyZF8gPSBudWxsO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZSB7TmV0U2ltUm91dGVyTm9kZX1cbiAgICovXG4gIHRoaXMucm91dGVyXyA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlIHtOZXRTaW1Mb2dFbnRyeX1cbiAgICovXG4gIHRoaXMubG9nRW50cmllc18gPSBbXTtcblxuICAvKipcbiAgICogVGhlIGhpZ2hlc3QgbG9nIHJvdyBJRCBzdG9yZWQgaW4gbG9nRW50cmllc18sIHVzZWQgdG8gb25seSByZXRyaWV2ZSBuZXdcbiAgICogbG9nIHJvd3MsIHdlIGRvbid0IG5lZWQgdG8gcmV0cmlldmUgZXZlcnl0aGluZy5cbiAgICogQHByaXZhdGUge251bWJlcn1cbiAgICovXG4gIHRoaXMubGF0ZXN0Um93SURfID0gMDtcblxuICAvKipcbiAgICogVHJhY2tpbmcgaW5mb3JtYXRpb24gZm9yIHdoaWNoIGV2ZW50cyB3ZSdyZSByZWdpc3RlcmVkIHRvLCBzbyB3ZSBjYW5cbiAgICogcGVyZm9ybSBjbGVhbnVwIGFzIG5lZWRlZC5cbiAgICogQHByaXZhdGUge09iamVjdH1cbiAgICovXG4gIHRoaXMuZXZlbnRLZXlzXyA9IHt9O1xuXG4gIC8qKlxuICAgKiBTb3J0aW5nIGtleSwgY2hhbmdlZCBieSB1c2VyIGludGVyYWN0aW9uLCB3aGljaCBkZXRlcm1pbmVzIHdoaWNoIHNvcnRcbiAgICogd2UgdXNlIG9uIHJlbmRlci5cbiAgICogQHByaXZhdGUge3N0cmluZ31cbiAgICovXG4gIHRoaXMuc29ydEJ5XyA9ICd0aW1lc3RhbXAnO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIGN1cnJlbnRseSB1c2luZyBhIGRlc2NlbmRpbmcgc29ydC5cbiAgICogQHByaXZhdGUge2Jvb2xlYW59XG4gICAqL1xuICB0aGlzLnNvcnREZXNjZW5kaW5nXyA9IHRydWU7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgd2UgYXJlIGN1cnJlbnRseSBpbiBcIkFsbC1Sb3V0ZXJcIiBtb2RlIG9yIGRlYWxpbmcgd2l0aCBhXG4gICAqIHNpbmdsZSByb3V0ZXIuICBBbHdheXMgaW5pdGlhbGl6ZXMgdG8gdHJ1ZSBiZWNhdXNlIHdlIG5ldmVyIGluaXRpYWxpemVcbiAgICogY29ubmVjdGVkIHRvIGEgc2luZ2xlIHJvdXRlci5cbiAgICogQHByaXZhdGUge2Jvb2xlYW59XG4gICAqL1xuICB0aGlzLmlzQWxsUm91dGVyTG9nTW9kZV8gPSB0cnVlO1xuXG4gIHRoaXMucmVuZGVyKCk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIGNvbXBhcmF0b3IgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBzb3J0IGxvZyBlbnRyaWVzLCBjb25maWd1cmVkXG4gKiB0byBzb3J0IGFjY29yZGluZyB0byB0aGUgbG9nIGJyb3dzZXIncyBjdXJyZW50IGNvbmZpZ3VyYXRpb24uXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oTmV0U2ltTG9nRW50cnksIE5ldFNpbUxvZ0VudHJ5KX0gY29tcGFyZXMgdHdvIGxvZyBlbnRyaWVzLFxuICogICAgICAgICAgcmV0dXJucyAtMSBpZiB0aGUgZmlyc3Qgb25lIGJlbG9uZ3MgYmVmb3JlIHRoZSBzZWNvbmQgb25lLCAxIGlmXG4gKiAgICAgICAgICB0aGUgZmlyc3Qgb25lIGJlbG9uZ3MgYWZ0ZXIgdGhlIHNlY29uZCBvbmUsIGFuZCAwIGlmIHRoZXkgaGF2ZSB0aGVcbiAqICAgICAgICAgIHNhbWUgc29ydCBwb3NpdGlvbi5cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVJvdXRlckxvZ01vZGFsLnByb3RvdHlwZS5nZXRTb3J0Q29tcGFyYXRvcl8gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBnZXRTb3J0VmFsdWUgPSBOZXRTaW1Sb3V0ZXJMb2dNb2RhbC5zb3J0S2V5VG9Tb3J0VmFsdWVHZXR0ZXJNYXBbdGhpcy5zb3J0QnlfXTtcbiAgdmFyIGludmVydE11bHRpcGxpZXIgPSB0aGlzLnNvcnREZXNjZW5kaW5nXyA/IC0xIDogMTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdmFyIHggPSBnZXRTb3J0VmFsdWUoYSk7XG4gICAgdmFyIHkgPSBnZXRTb3J0VmFsdWUoYik7XG4gICAgcmV0dXJuICh4IDwgeSA/IC0xIDogeCA+IHkgPyAxIDogMCkgKiBpbnZlcnRNdWx0aXBsaWVyO1xuICB9O1xufTtcblxuTmV0U2ltUm91dGVyTG9nTW9kYWwuc29ydEtleVRvU29ydFZhbHVlR2V0dGVyTWFwID0ge1xuXG4gICd0aW1lc3RhbXAnOiBmdW5jdGlvbiAobG9nRW50cnkpIHtcbiAgICByZXR1cm4gbG9nRW50cnkudGltZXN0YW1wO1xuICB9LFxuXG4gICdsb2dnZWQtYnknOiBmdW5jdGlvbiAobG9nRW50cnkpIHtcbiAgICB2YXIgb3JpZ2luTm9kZSA9IGxvZ0VudHJ5LmdldE9yaWdpbk5vZGUoKTtcbiAgICBpZiAob3JpZ2luTm9kZSkge1xuICAgICAgcmV0dXJuIG9yaWdpbk5vZGUuZ2V0RGlzcGxheU5hbWUoKTtcbiAgICB9XG4gICAgcmV0dXJuIGxvZ0VudHJ5Lm5vZGVJRC50b1N0cmluZygxMCk7XG4gIH0sXG5cbiAgJ3N0YXR1cyc6IGZ1bmN0aW9uIChsb2dFbnRyeSkge1xuICAgIHJldHVybiBsb2dFbnRyeS5nZXRMb2NhbGl6ZWRTdGF0dXMoKTtcbiAgfSxcblxuICAnZnJvbS1hZGRyZXNzJzogZnVuY3Rpb24gKGxvZ0VudHJ5KSB7XG4gICAgcmV0dXJuIGxvZ0VudHJ5LmdldEhlYWRlckZpZWxkKFBhY2tldC5IZWFkZXJUeXBlLkZST01fQUREUkVTUyk7XG4gIH0sXG5cbiAgJ3RvLWFkZHJlc3MnOiBmdW5jdGlvbiAobG9nRW50cnkpIHtcbiAgICByZXR1cm4gbG9nRW50cnkuZ2V0SGVhZGVyRmllbGQoUGFja2V0LkhlYWRlclR5cGUuVE9fQUREUkVTUyk7XG4gIH0sXG5cbiAgJ3BhY2tldC1pbmZvJzogZnVuY3Rpb24gKGxvZ0VudHJ5KSB7XG4gICAgcmV0dXJuIGxvZ0VudHJ5LmdldExvY2FsaXplZFBhY2tldEluZm8oKTtcbiAgfSxcblxuICAnbWVzc2FnZSc6IGZ1bmN0aW9uIChsb2dFbnRyeSkge1xuICAgIHJldHVybiBsb2dFbnRyeS5nZXRNZXNzYWdlQXNjaWkoKTtcbiAgfVxuXG59O1xuXG4vKipcbiAqIFN0YXRlIGNoYW5nZXMgdGhhdCBvY2N1ciB3aGVuIHNob2luZyB0aGUgbG9nLlxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltUm91dGVyTG9nTW9kYWwucHJvdG90eXBlLm9uU2hvd18gPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLnNoYXJkXykge1xuICAgIHRoaXMuc2hhcmRfLmxvZ1RhYmxlLnN1YnNjcmliZSgpO1xuICB9XG4gIHRoaXMuaXNWaXNpYmxlXyA9IHRydWU7XG4gIHRoaXMucmVuZGVyKCk7XG59O1xuXG4vKipcbiAqIFN0YXRlIGNoYW5nZXMgdGhhdCBvY2N1ciB3aGVuIGhpZGluZyB0aGUgbG9nLlxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltUm91dGVyTG9nTW9kYWwucHJvdG90eXBlLm9uSGlkZV8gPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLnNoYXJkXykge1xuICAgIHRoaXMuc2hhcmRfLmxvZ1RhYmxlLnVuc3Vic2NyaWJlKCk7XG4gIH1cbiAgdGhpcy5pc1Zpc2libGVfID0gZmFsc2U7XG59O1xuXG4vKipcbiAqIEByZXR1cm5zIHtib29sZWFufSBUUlVFIGlmIHRoZSBtb2RhbCBpcyBjdXJyZW50bHkgc2hvd2luZy5cbiAqL1xuTmV0U2ltUm91dGVyTG9nTW9kYWwucHJvdG90eXBlLmlzVmlzaWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuaXNWaXNpYmxlXztcbn07XG5cbi8qKlxuICogRmlsbCB0aGUgcm9vdCBkaXYgd2l0aCBuZXcgZWxlbWVudHMgcmVmbGVjdGluZyB0aGUgY3VycmVudCBzdGF0ZVxuICovXG5OZXRTaW1Sb3V0ZXJMb2dNb2RhbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAvLyBCZSBsYXp5LCBkb24ndCByZW5kZXIgaWYgbm90IHZpc2libGUuXG4gIGlmICghdGhpcy5pc1Zpc2libGUoKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFJlLXJlbmRlciBlbnRpcmUgbG9nIGJyb3dzZXIgVUlcbiAgdmFyIHJlbmRlcmVkTWFya3VwID0gJChtYXJrdXAoe1xuICAgIGlzQWxsUm91dGVyTG9nTW9kZTogdGhpcy5pc0FsbFJvdXRlckxvZ01vZGVfLFxuICAgIGNhblRvZ2dsZVJvdXRlckxvZ01vZGU6IHRoaXMuY2FuVG9nZ2xlUm91dGVyTG9nTW9kZV8oKSxcbiAgICBzb3J0Qnk6IHRoaXMuc29ydEJ5XyxcbiAgICBzb3J0RGVzY2VuZGluZzogdGhpcy5zb3J0RGVzY2VuZGluZ19cbiAgfSkpO1xuICB0aGlzLnJvb3REaXZfLmh0bWwocmVuZGVyZWRNYXJrdXApO1xuXG4gIC8vIEFkZCBpbnB1dCBoYW5kbGVyc1xuICB0aGlzLmdldFJvdXRlckxvZ1RvZ2dsZUJ1dHRvbigpLm9uZSgnY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnRvZ2dsZVJvdXRlckxvZ01vZGVfKCk7XG4gICAgdGhpcy5yZW5kZXIoKTtcbiAgfS5iaW5kKHRoaXMpKTtcblxuICB0aGlzLnJvb3REaXZfLmZpbmQoJ3RoJykuY2xpY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdGhpcy5vblNvcnRIZWFkZXJDbGlja18oJChldmVudC50YXJnZXQpLmF0dHIoJ2RhdGEtc29ydC1rZXknKSk7XG4gIH0uYmluZCh0aGlzKSk7XG5cbiAgLy8gQWRkIHJvd3MgdG8gdGhlIHRhYmxlXG4gIHZhciByb3dzID0gdGhpcy5nZXRTb3J0ZWRGaWx0ZXJlZExvZ0VudHJpZXModGhpcy5sb2dFbnRyaWVzXylcbiAgICAgIC5zbGljZSgwLCBNQVhJTVVNX1JPV1NfSU5fRlVMTF9SRU5ERVIpXG4gICAgICAubWFwKHRoaXMubWFrZVRhYmxlUm93Xy5iaW5kKHRoaXMpKTtcbiAgdGhpcy5yb290RGl2Xy5maW5kKCd0Ym9keScpLmFwcGVuZChyb3dzKTtcblxuICBpZiAocm93cy5sZW5ndGggPT09IE1BWElNVU1fUk9XU19JTl9GVUxMX1JFTkRFUikge1xuICAgIHZhciBtYXhSZW5kZXJlZFdhcm5pbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBtYXhSZW5kZXJlZFdhcm5pbmcuY2xhc3NOYW1lID0gJ2xvZy1icm93c2VyLWxpbWl0LW1lc3NhZ2UnO1xuICAgIG1heFJlbmRlcmVkV2FybmluZy50ZXh0Q29udGVudCA9IGkxOG4uc2hvd2luZ0ZpcnN0WExvZ0VudHJpZXMoe1xuICAgICAgeDogTUFYSU1VTV9ST1dTX0lOX0ZVTExfUkVOREVSXG4gICAgfSk7XG4gICAgdGhpcy5yb290RGl2Xy5maW5kKCd0YWJsZScpLmFmdGVyKG1heFJlbmRlcmVkV2FybmluZyk7XG4gIH1cbn07XG5cbi8qKlxuICogQ29udmVydCB0aGUgZ2l2ZW4gc2V0IG9mIGxvZyBlbnRyaWVzIHRvIHRhYmxlIHJvd3MgYW5kIGluc2VydCB0aGVtXG4gKiBpbnRvIHRoZSBET00sIGluc3RlYWQgb2YgcmUtcmVuZGVyaW5nIHRoZSB3aG9sZSB0YWJsZS5cbiAqIEBwYXJhbSB7IU5ldFNpbUxvZ0VudHJ5W119IG5ld0VudHJpZXNcbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVJvdXRlckxvZ01vZGFsLnByb3RvdHlwZS5yZW5kZXJOZXdMb2dFbnRyaWVzXyA9IGZ1bmN0aW9uIChuZXdFbnRyaWVzKSB7XG4gIC8vIEJlIGxhenksIGRvbid0IHJlbmRlciBhdCBhbGwgaWYgbm90IHZpc2libGUuXG4gIGlmICghdGhpcy5pc1Zpc2libGUoKSB8fCBuZXdFbnRyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKiBAdHlwZSB7alF1ZXJ5fSBUYWJsZSBib2R5IGVsZW1lbnQuICovXG4gIHZhciB0Ym9keSA9IHRoaXMucm9vdERpdl8uZmluZCgndGJvZHknKTtcblxuICAvLyBHZXQgZXhpc3RpbmcgdGFibGUgcm93IGVsZW1lbnRzLCB3aGljaCBhcmUgYWxyZWFkeSBzb3J0ZWQgYW5kIGZpbHRlcmVkLlxuICB2YXIgb2xkUm93cyA9IHRib2R5LmZpbmQoJ3RyJyk7XG5cbiAgLy8gU29ydCBhbmQgZmlsdGVyIHRoZSBuZXcgZW50cmllcywgYW5kIGdlbmVyYXRlIERPTSByb3dzIGZvciB0aGVtLlxuICBuZXdFbnRyaWVzID0gdGhpcy5nZXRTb3J0ZWRGaWx0ZXJlZExvZ0VudHJpZXMobmV3RW50cmllcyk7XG4gIHZhciBuZXdSb3dzID0gJChuZXdFbnRyaWVzLm1hcCh0aGlzLm1ha2VUYWJsZVJvd18uYmluZCh0aGlzKSkpO1xuXG4gIC8vIFdhbGsgYm90aCBjb2xsZWN0aW9ucyB0byBtZXJnZSBuZXcgcm93cyBpbnRvIHRoZSBET01cbiAgdmFyIG5leHRPbGQgPSBnZXROZXh0SW5mbyhvbGRSb3dzLCAwKTtcbiAgdmFyIG5leHROZXcgPSBnZXROZXh0SW5mbyhuZXdSb3dzLCAwKTtcbiAgdmFyIGNvbXBhcmF0b3IgPSB0aGlzLmdldFNvcnRDb21wYXJhdG9yXygpO1xuICB3aGlsZSAobmV4dE5ldy5pbmRleCA8IG5ld1Jvd3MubGVuZ3RoICYmIG5leHRPbGQuaW5kZXggPCBvbGRSb3dzLmxlbmd0aCkge1xuICAgIGlmIChjb21wYXJhdG9yKG5leHROZXcubG9nRW50cnksIG5leHRPbGQubG9nRW50cnkpIDw9IDApIHtcbiAgICAgIG5leHROZXcudGFibGVSb3cuaW5zZXJ0QmVmb3JlKG5leHRPbGQudGFibGVSb3cpO1xuICAgICAgbmV4dE5ldyA9IGdldE5leHRJbmZvKG5ld1Jvd3MsIG5leHROZXcuaW5kZXggKyAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV4dE9sZCA9IGdldE5leHRJbmZvKG9sZFJvd3MsIG5leHRPbGQuaW5kZXggKyAxKTtcbiAgICB9XG4gIH1cblxuICAvLyBQdXQgd2hhdGV2ZXIncyBsZWZ0IG9uIHRoZSBlbmQgb2YgdGhlIHRhYmxlXG4gIHRib2R5LmFwcGVuZChuZXdSb3dzLnNsaWNlKG5leHROZXcuaW5kZXgpKTtcbn07XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgaGVscGVyIG9iamVjdCBmb3IgcGVyZm9ybWluZyB0aGUgbG9nIHJvdyBtZXJnZS5cbiAqIEBwYXJhbSB7alF1ZXJ5fSByb3dzIC0gV3JhcHBlZCBjb2xsZWN0aW9uIG9mIHRhYmxlIHJvd3MuXG4gKiBAcGFyYW0geyFudW1iZXJ9IGF0SW5kZXggLSBJbmRleCBpbnRvIGByb3dzYCBhdCB3aGljaCBpbmZvIHNob3VsZCBiZSBnZW5lcmF0ZWQuXG4gKiBAcmV0dXJucyB7e2luZGV4OiBudW1iZXIsIHRhYmxlUm93OiBqUXVlcnksIGxvZ0VudHJ5OiBOZXRTaW1Mb2dFbnRyeX19XG4gKi9cbmZ1bmN0aW9uIGdldE5leHRJbmZvKHJvd3MsIGF0SW5kZXgpIHtcbiAgdmFyIHJvdyA9IHJvd3MuZXEoYXRJbmRleCk7XG4gIHJldHVybiB7XG4gICAgaW5kZXg6IGF0SW5kZXgsXG4gICAgdGFibGVSb3c6IHJvdyxcbiAgICBsb2dFbnRyeTogcm93Lmxlbmd0aCA+IDAgPyByb3cuZGF0YShMT0dfRU5UUllfREFUQV9LRVkpIDoge31cbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geyFOZXRTaW1Mb2dFbnRyeVtdfSBsb2dFbnRyaWVzXG4gKiBAcmV0dXJucyB7TmV0U2ltTG9nRW50cnlbXX0gc3Vic2V0IG9mIGxvZ0VudHJpZXMsIHNvcnRlZCBhbmQgZmlsdGVyZWRcbiAqICAgICAgICAgIGFjY29yZGluZyB0byB0aGUgbG9nIGJyb3dzZXIncyBjdXJyZW50IHNldHRpbmdzLlxuICovXG5OZXRTaW1Sb3V0ZXJMb2dNb2RhbC5wcm90b3R5cGUuZ2V0U29ydGVkRmlsdGVyZWRMb2dFbnRyaWVzID0gZnVuY3Rpb24gKGxvZ0VudHJpZXMpIHtcbiAgLy8gRmlsdGVyIGVudHJpZXMgdG8gY3VycmVudCBsb2cgYnJvd3NlciBmaWx0ZXIgbW9kZVxuICB2YXIgZmlsdGVyZWRMb2dFbnRyaWVzID0gdGhpcy5pc0FsbFJvdXRlckxvZ01vZGVfID9cbiAgICAgIGxvZ0VudHJpZXMgOlxuICAgICAgbG9nRW50cmllcy5maWx0ZXIoZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIHJldHVybiBlbnRyeS5ub2RlSUQgPT09IHRoaXMucm91dGVyXy5lbnRpdHlJRDtcbiAgICAgIH0sIHRoaXMpO1xuXG4gIHJldHVybiBmaWx0ZXJlZExvZ0VudHJpZXMuc29ydCh0aGlzLmdldFNvcnRDb21wYXJhdG9yXygpKTtcbn07XG5cbi8qKlxuICogR2l2ZW4gYSBsb2cgZW50cnksIGdlbmVyYXRlIGEgdGFibGUgcm93IHRoYXQgY2FuIGJlIGFkZGVkIHRvIHRoZSBsb2cgbW9kYWwuXG4gKiBAcGFyYW0geyFOZXRTaW1Mb2dFbnRyeX0gbG9nRW50cnlcbiAqIEByZXR1cm5zIHtFbGVtZW50fSBhIHRyIGVsZW1lbnQuXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1Sb3V0ZXJMb2dNb2RhbC5wcm90b3R5cGUubWFrZVRhYmxlUm93XyA9IGZ1bmN0aW9uIChsb2dFbnRyeSkge1xuICB2YXIgaGVhZGVyRmllbGRzID0gTmV0U2ltR2xvYmFscy5nZXRMZXZlbENvbmZpZygpLnJvdXRlckV4cGVjdHNQYWNrZXRIZWFkZXI7XG5cbiAgdmFyIHNob3dUb0FkZHJlc3MgPSBoZWFkZXJGaWVsZHMuaW5kZXhPZihQYWNrZXQuSGVhZGVyVHlwZS5UT19BRERSRVNTKSA+IC0xO1xuXG4gIHZhciBzaG93RnJvbUFkZHJlc3MgPSBoZWFkZXJGaWVsZHMuaW5kZXhPZihQYWNrZXQuSGVhZGVyVHlwZS5GUk9NX0FERFJFU1MpID4gLTE7XG5cbiAgdmFyIHNob3dQYWNrZXRJbmZvID0gaGVhZGVyRmllbGRzLmluZGV4T2YoUGFja2V0LkhlYWRlclR5cGUuUEFDS0VUX0lOREVYKSA+IC0xICYmXG4gICAgICBoZWFkZXJGaWVsZHMuaW5kZXhPZihQYWNrZXQuSGVhZGVyVHlwZS5QQUNLRVRfQ09VTlQpID4gLTE7XG5cbiAgdmFyIG9yaWdpbk5vZGUgPSBsb2dFbnRyeS5nZXRPcmlnaW5Ob2RlKCk7XG5cbiAgdmFyIHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG5cbiAgLy8gU3RvcmUgdGhlIGFjdHVhbCBsb2dFbnRyeSBvbiB0aGUgcm93IGZvciBzb3J0aW5nL21lcmdpbmcgbGF0ZXIuXG4gICQocm93KS5kYXRhKExPR19FTlRSWV9EQVRBX0tFWSwgbG9nRW50cnkpO1xuXG4gIHJvdy5hcHBlbmRDaGlsZChtYWtlQ2VsbChsb2dFbnRyeS5nZXRUaW1lU3RyaW5nKCkpKTtcblxuICByb3cuYXBwZW5kQ2hpbGQobWFrZUNlbGwob3JpZ2luTm9kZSA/XG4gICAgICBvcmlnaW5Ob2RlLmdldERpc3BsYXlOYW1lKCkgOiBsb2dFbnRyeS5ub2RlSUQpKTtcblxuICByb3cuYXBwZW5kQ2hpbGQobWFrZUNlbGwobG9nRW50cnkuZ2V0TG9jYWxpemVkU3RhdHVzKCkpKTtcblxuICBpZiAoc2hvd0Zyb21BZGRyZXNzKSB7XG4gICAgcm93LmFwcGVuZENoaWxkKG1ha2VDZWxsKGxvZ0VudHJ5LmdldEhlYWRlckZpZWxkKFBhY2tldC5IZWFkZXJUeXBlLkZST01fQUREUkVTUykpKTtcbiAgfVxuXG4gIGlmIChzaG93VG9BZGRyZXNzKSB7XG4gICAgcm93LmFwcGVuZENoaWxkKG1ha2VDZWxsKGxvZ0VudHJ5LmdldEhlYWRlckZpZWxkKFBhY2tldC5IZWFkZXJUeXBlLlRPX0FERFJFU1MpKSk7XG4gIH1cblxuICBpZiAoc2hvd1BhY2tldEluZm8pIHtcbiAgICByb3cuYXBwZW5kQ2hpbGQobWFrZUNlbGwobG9nRW50cnkuZ2V0TG9jYWxpemVkUGFja2V0SW5mbygpKSk7XG4gIH1cblxuICB2YXIgdGRNZXNzYWdlQm9keSA9IG1ha2VDZWxsKGxvZ0VudHJ5LmdldE1lc3NhZ2VBc2NpaSgpKTtcbiAgdGRNZXNzYWdlQm9keS5jbGFzc05hbWUgPSAnbWVzc2FnZSc7XG4gIHJvdy5hcHBlbmRDaGlsZCh0ZE1lc3NhZ2VCb2R5KTtcblxuICByZXR1cm4gcm93O1xufTtcblxuLyoqXG4gKiBAcGFyYW0geyFzdHJpbmd9IHRleHRcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudH0gdGhlIG5ldyBURCBlbGVtZW50LlxuICovXG5mdW5jdGlvbiBtYWtlQ2VsbCh0ZXh0KSB7XG4gIHZhciB0ZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RkJyk7XG4gIHRkLnN0eWxlLndoaXRlU3BhY2UgPSAnbm93cmFwJztcbiAgdGQudGV4dENvbnRlbnQgPSB0ZXh0O1xuICByZXR1cm4gdGQ7XG59XG5cbi8qKlxuICogQ2hhbmdlIHRoZSBzb3J0IHNldHRpbmdzIGFuZCByZS1yZW5kZXIgdGhlIGxvZyB0YWJsZS5cbiAqIEBwYXJhbSB7IXN0cmluZ30gc29ydEtleVxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltUm91dGVyTG9nTW9kYWwucHJvdG90eXBlLm9uU29ydEhlYWRlckNsaWNrXyA9IGZ1bmN0aW9uIChzb3J0S2V5KSB7XG4gIGlmICghc29ydEtleSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0aGlzLnNvcnRCeV8gPT09IHNvcnRLZXkpIHtcbiAgICB0aGlzLnNvcnREZXNjZW5kaW5nXyA9ICF0aGlzLnNvcnREZXNjZW5kaW5nXztcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnNvcnRCeV8gPSBzb3J0S2V5O1xuICAgIHRoaXMuc29ydERlc2NlbmRpbmdfID0gZmFsc2U7XG4gIH1cbiAgdGhpcy5yZW5kZXIoKTtcbn07XG5cbi8qKlxuICogQ2FsbGVkIGJ5IHRoZSBzdW11bGF0aW9uJ3Mgb25Sb3V0ZXJDb25uZWN0IGFuZCBvblJvdXRlckRpc2Nvbm5lY3RcbiAqIG1ldGhvZHMsIHRoaXMgbG9jYWxseSByZW1lbWJlcnMgdGhlIGN1cnJlbnQgcm91dGVyIHN0YXRlIGFuZCB0cmlnZ2Vyc1xuICogYSByZXJlbmRlclxuICogQHBhcmFtIHtOZXRTaW1Sb3V0ZXJOb2RlfSByb3V0ZXJcbiAqL1xuTmV0U2ltUm91dGVyTG9nTW9kYWwucHJvdG90eXBlLnNldFJvdXRlciA9IGZ1bmN0aW9uIChyb3V0ZXIpIHtcbiAgdGhpcy5yb3V0ZXJfID0gcm91dGVyO1xuICB0aGlzLmlzQWxsUm91dGVyTG9nTW9kZV8gPSAhdGhpcy5oYXNMb2NhbFJvdXRlcl8oKTtcbiAgdGhpcy5yZW5kZXIoKTtcbn07XG5cbi8qKlxuICogV2hldGhlciB3ZSBhcmUgY3VycmVudGx5IGNhcGFibGUgb2YgbG9nZ2luZyBhbGwgcm91dGVycyBvciBub3QuXG4gKiBJcyBhbHdheXMgdHJ1ZSBpZiB3ZSBhcmUgaW4gYSBsZXZlbCB3aXRoIGNvbm5lY3RlZCByb3V0ZXJzLlxuICogT3RoZXJ3aXNlLCBpcyBvbmx5IHRydWUgaWYgd2UgYXJlIG5vdCBsb2NhbGx5IGNvbm5lY3RlZCB0byBhIHJvdXRlci5cbiAqIEByZXR1cm5zIHtib29sZWFufVxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltUm91dGVyTG9nTW9kYWwucHJvdG90eXBlLmNhbkxvZ0FsbFJvdXRlcnNfID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gTmV0U2ltR2xvYmFscy5nZXRMZXZlbENvbmZpZygpLmNvbm5lY3RlZFJvdXRlcnMgfHwgIXRoaXMuaGFzTG9jYWxSb3V0ZXJfKCk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZmYgd2UgYXJlIGxvY2FsbHkgY29ubmVjdGVkIHRvIGEgcm91dGVyLlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1Sb3V0ZXJMb2dNb2RhbC5wcm90b3R5cGUuaGFzTG9jYWxSb3V0ZXJfID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gISEodGhpcy5yb3V0ZXJfKTtcbn07XG5cbi8qKlxuICogV2hldGhlciBvciBub3Qgd2UgY2FuIHN3aXRjaCBiZXR3ZWVuIGFsbC1yb3V0ZXIgYW5kIHNpbmdsZS1yb3V0ZXIgbG9nXG4gKiBtb2RlLiBXZSBjYW4gc3dpdGNoIHRvIHNpbmdsZS1yb3V0ZXIgaWZmIHdlIGhhdmUgYSBsb2NhbCByb3V0ZXIsIGFuZFxuICogd2UgY2FuIHN3aXRjaCB0byBhbGwtcm91dGVyIGlmZiB3ZSBhcmUgY2FwYWJsZSBvZiBsb2dnaW5nIGFsbCByb3V0ZXJzXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVJvdXRlckxvZ01vZGFsLnByb3RvdHlwZS5jYW5Ub2dnbGVSb3V0ZXJMb2dNb2RlXyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuaXNBbGxSb3V0ZXJMb2dNb2RlXykge1xuICAgIHJldHVybiB0aGlzLmhhc0xvY2FsUm91dGVyXygpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0aGlzLmNhbkxvZ0FsbFJvdXRlcnNfKCk7XG4gIH1cbn07XG5cbi8qKlxuICogVG9nZ2xlcyB0aGlzLmlzQWxsUm91dGVyTG9nTW9kZV8gYmV0d2VlbiBgdHJ1ZWAgYW5kIGBmYWxzZWBcbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVJvdXRlckxvZ01vZGFsLnByb3RvdHlwZS50b2dnbGVSb3V0ZXJMb2dNb2RlXyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5pc0FsbFJvdXRlckxvZ01vZGVfID0gIXRoaXMuaXNBbGxSb3V0ZXJMb2dNb2RlXztcbn07XG5cbi8qKlxuICogRmluZHMgdGhlIGJ1dHRvbiB1c2VkIHRvIHRvZ2dsZSBiZXR3ZWVuIHJvdXRlciBsb2cgbW9kZXNcbiAqIEByZXR1cm5zIHtqUXVlcnl9XG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1Sb3V0ZXJMb2dNb2RhbC5wcm90b3R5cGUuZ2V0Um91dGVyTG9nVG9nZ2xlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5yb290RGl2Xy5maW5kKCdidXR0b24jcm91dGVybG9nLXRvZ2dsZScpO1xufTtcblxuLyoqXG4gKiBHaXZlIHRoZSBsb2cgYnJvd3NlciBhIHJlZmVyZW5jZSB0byB0aGUgc2hhcmQsIHNvIHRoYXQgaXQgY2FuIHF1ZXJ5IHRoZVxuICogbG9nIHRhYmxlLiAgT3IsIHBhc3MgbnVsbCB3aGVuIGRpc2Nvbm5lY3RpbmcgZnJvbSBhIHNoYXJkLlxuICogQHBhcmFtIHtOZXRTaW1TaGFyZHxudWxsfSBuZXdTaGFyZFxuICovXG5OZXRTaW1Sb3V0ZXJMb2dNb2RhbC5wcm90b3R5cGUuc2V0U2hhcmQgPSBmdW5jdGlvbiAobmV3U2hhcmQpIHtcblxuICBpZiAodGhpcy5ldmVudEtleXNfLnJlZ2lzdGVyZWRXaXRoU2hhcmQpIHtcbiAgICB0aGlzLmV2ZW50S2V5c18ucmVnaXN0ZXJlZFdpdGhTaGFyZC5sb2dUYWJsZS50YWJsZUNoYW5nZS51bnJlZ2lzdGVyKFxuICAgICAgICB0aGlzLmV2ZW50S2V5c18ubG9nVGFibGVDaGFuZ2UpO1xuICAgIHRoaXMuZXZlbnRLZXlzXy5yZWdpc3RlcmVkV2l0aFNoYXJkID0gbnVsbDtcbiAgfVxuXG4gIGlmIChuZXdTaGFyZCkge1xuICAgIHRoaXMuZXZlbnRLZXlzXy5sb2dUYWJsZUNoYW5nZSA9IG5ld1NoYXJkLmxvZ1RhYmxlLnRhYmxlQ2hhbmdlLnJlZ2lzdGVyKFxuICAgICAgICB0aGlzLm9uTG9nVGFibGVDaGFuZ2VfLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZXZlbnRLZXlzXy5yZWdpc3RlcmVkV2l0aFNoYXJkID0gbmV3U2hhcmQ7XG4gIH1cblxuICAvLyBXaGVuIGNoYW5naW5nIHNoYXJkcywgcmVzZXQgbG9nIHNvIHdlIGZldGNoIHRoZSB3aG9sZSB0aGluZyBuZXh0IHRpbWUuXG4gIHRoaXMubG9nRW50cmllc18ubGVuZ3RoID0gMDtcbiAgdGhpcy5sYXRlc3RSb3dJRF8gPSAwO1xuICB0aGlzLnNoYXJkXyA9IG5ld1NoYXJkO1xufTtcblxuLyoqXG4gKiBIYW5kbGUgbG9nIHRhYmxlIGNoYW5nZXMuXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1Sb3V0ZXJMb2dNb2RhbC5wcm90b3R5cGUub25Mb2dUYWJsZUNoYW5nZV8gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBoZWFkZXJTcGVjID0gTmV0U2ltR2xvYmFscy5nZXRMZXZlbENvbmZpZygpLnJvdXRlckV4cGVjdHNQYWNrZXRIZWFkZXI7XG4gIHZhciBuZXdSb3dzID0gdGhpcy5zaGFyZF8ubG9nVGFibGUucmVhZEFsbEZyb21JRCh0aGlzLmxhdGVzdFJvd0lEXyArIDEpO1xuICB2YXIgbmV3TG9nRW50cmllcyA9IG5ld1Jvd3MubWFwKGZ1bmN0aW9uIChyb3cpIHtcbiAgICB0aGlzLmxhdGVzdFJvd0lEXyA9IE1hdGgubWF4KHJvdy5pZCwgdGhpcy5sYXRlc3RSb3dJRF8pO1xuICAgIHJldHVybiBuZXcgTmV0U2ltTG9nRW50cnkodGhpcy5zaGFyZF8sIHJvdywgaGVhZGVyU3BlYyk7XG4gIH0sIHRoaXMpO1xuICAvLyBNb2RpZnkgdGhpcy5sb2dFbnRyaWVzXyBpbi1wbGFjZSwgYXBwZW5kaW5nIG5ldyBsb2cgZW50cmllc1xuICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0aGlzLmxvZ0VudHJpZXNfLCBuZXdMb2dFbnRyaWVzKTtcbiAgdGhpcy5yZW5kZXJOZXdMb2dFbnRyaWVzXyhuZXdMb2dFbnRyaWVzKTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cz0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdCA9IGZ1bmN0aW9uIGFub255bW91cyhsb2NhbHMsIGZpbHRlcnMsIGVzY2FwZVxuLyoqLykge1xuZXNjYXBlID0gZXNjYXBlIHx8IGZ1bmN0aW9uIChodG1sKXtcbiAgcmV0dXJuIFN0cmluZyhodG1sKVxuICAgIC5yZXBsYWNlKC8mKD8hXFx3KzspL2csICcmYW1wOycpXG4gICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpO1xufTtcbnZhciBidWYgPSBbXTtcbndpdGggKGxvY2FscyB8fCB7fSkgeyAoZnVuY3Rpb24oKXsgXG4gYnVmLnB1c2goJycpOzE7XG52YXIgUGFja2V0ID0gcmVxdWlyZSgnLi9QYWNrZXQnKTtcbnZhciBpMThuID0gcmVxdWlyZSgnLi9sb2NhbGUnKTtcbnZhciBOZXRTaW1HbG9iYWxzID0gcmVxdWlyZSgnLi9OZXRTaW1HbG9iYWxzJyk7XG5cbnZhciBoZWFkZXJGaWVsZHMgPSBOZXRTaW1HbG9iYWxzLmdldExldmVsQ29uZmlnKCkucm91dGVyRXhwZWN0c1BhY2tldEhlYWRlcjtcblxuLyoqIEB0eXBlIHtib29sZWFufSAqL1xudmFyIHNob3dUb0FkZHJlc3MgPSBoZWFkZXJGaWVsZHMuaW5kZXhPZihQYWNrZXQuSGVhZGVyVHlwZS5UT19BRERSRVNTKSA+IC0xO1xuXG4vKiogQHR5cGUge2Jvb2xlYW59ICovXG52YXIgc2hvd0Zyb21BZGRyZXNzID0gaGVhZGVyRmllbGRzLmluZGV4T2YoUGFja2V0LkhlYWRlclR5cGUuRlJPTV9BRERSRVNTKSA+IC0xO1xuXG4vKiogQHR5cGUge2Jvb2xlYW59ICovXG52YXIgc2hvd1BhY2tldEluZm8gPSBoZWFkZXJGaWVsZHMuaW5kZXhPZihQYWNrZXQuSGVhZGVyVHlwZS5QQUNLRVRfSU5ERVgpID4gLTEgJiZcbiAgICBoZWFkZXJGaWVsZHMuaW5kZXhPZihQYWNrZXQuSGVhZGVyVHlwZS5QQUNLRVRfQ09VTlQpID4gLTE7XG5cbi8qKlxuICogQG5hbWUgaXNBbGxSb3V0ZXJMb2dNb2RlXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuXG4vKipcbiAqIEBuYW1lIHNvcnRCeVxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuXG4vKipcbiAqIEBuYW1lIHNvcnREZXNjZW5kaW5nXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqL1xuXG5mdW5jdGlvbiBzb3J0TWFya3VwRm9yKHNvcnRLZXkpIHtcbiAgaWYgKHNvcnRLZXkgPT09IHNvcnRCeSkge1xuICAgIGlmIChzb3J0RGVzY2VuZGluZykge1xuICAgICAgcmV0dXJuICc8aSBjbGFzcz1cImZhIGZhLXNvcnQtZGVzY1wiPjwvaT4nO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJzxpIGNsYXNzPVwiZmEgZmEtc29ydC1hc2NcIj48L2k+JztcbiAgICB9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuOyBidWYucHVzaCgnXFxuPGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZyBtb2RhbC1sZ1wiPlxcbiAgICA8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+XFxuICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZVwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCIgYXJpYS1sYWJlbD1cIkNsb3NlXCI+PHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj48L2J1dHRvbj5cXG5cXG4gICAgICAnKTs0ODsgaWYgKGNhblRvZ2dsZVJvdXRlckxvZ01vZGUpIHsgOyBidWYucHVzaCgnXFxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBpZD1cInJvdXRlcmxvZy10b2dnbGVcIiBjbGFzcz1cInB1bGwtcmlnaHQgYnRuIGJ0bi1wcmltYXJ5IGJ0bi1taW5pXCI+JywgZXNjYXBlKCg0OSwgIChpc0FsbFJvdXRlckxvZ01vZGUpID8gaTE4bi5sb2dCcm93c2VySGVhZGVyX3RvZ2dsZU1pbmUoKSA6IGkxOG4ubG9nQnJvd3NlckhlYWRlcl90b2dnbGVBbGwoKSApKSwgJzwvYnV0dG9uPlxcbiAgICAgICcpOzUwOyB9IDsgYnVmLnB1c2goJ1xcblxcbiAgICAgICcpOzUyOyBpZiAoaXNBbGxSb3V0ZXJMb2dNb2RlKSB7IDsgYnVmLnB1c2goJ1xcbiAgICAgICAgPGg0IGNsYXNzPVwibW9kYWwtdGl0bGVcIj4nLCBlc2NhcGUoKDUzLCAgaTE4bi5sb2dCcm93c2VySGVhZGVyX2FsbCgpICkpLCAnPC9oND5cXG4gICAgICAnKTs1NDsgfSBlbHNlIHsgOyBidWYucHVzaCgnXFxuICAgICAgICA8aDQgY2xhc3M9XCJtb2RhbC10aXRsZVwiPicsIGVzY2FwZSgoNTUsICBpMThuLmxvZ0Jyb3dzZXJIZWFkZXJfbWluZSgpICkpLCAnPC9oND5cXG4gICAgICAnKTs1NjsgfSA7IGJ1Zi5wdXNoKCdcXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+XFxuICAgICAgPHRhYmxlPlxcbiAgICAgICAgPHRoZWFkPlxcbiAgICAgICAgICA8dHI+XFxuICAgICAgICAgICAgPHRoIG5vd3JhcCBkYXRhLXNvcnQta2V5PVwidGltZXN0YW1wXCI+JywgZXNjYXBlKCg2MiwgIGkxOG4udGltZSgpICkpLCAnICcsICg2MiwgIHNvcnRNYXJrdXBGb3IoJ3RpbWVzdGFtcCcpICksICc8L3RoPlxcbiAgICAgICAgICAgIDx0aCBub3dyYXAgZGF0YS1zb3J0LWtleT1cImxvZ2dlZC1ieVwiPicsIGVzY2FwZSgoNjMsICBpMThuLmxvZ2dlZEJ5Tm9kZSgpICkpLCAnICcsICg2MywgIHNvcnRNYXJrdXBGb3IoJ2xvZ2dlZC1ieScpICksICc8L3RoPlxcbiAgICAgICAgICAgIDx0aCBub3dyYXAgZGF0YS1zb3J0LWtleT1cInN0YXR1c1wiPicsIGVzY2FwZSgoNjQsICBpMThuLnN0YXR1cygpICkpLCAnICcsICg2NCwgIHNvcnRNYXJrdXBGb3IoJ3N0YXR1cycpICksICc8L3RoPlxcbiAgICAgICAgICAgICcpOzY1OyBpZiAoc2hvd0Zyb21BZGRyZXNzKSB7IDsgYnVmLnB1c2goJ1xcbiAgICAgICAgICAgICAgPHRoIG5vd3JhcCBkYXRhLXNvcnQta2V5PVwiZnJvbS1hZGRyZXNzXCI+JywgZXNjYXBlKCg2NiwgIGkxOG4uZnJvbSgpICkpLCAnICcsICg2NiwgIHNvcnRNYXJrdXBGb3IoJ2Zyb20tYWRkcmVzcycpICksICc8L3RoPlxcbiAgICAgICAgICAgICcpOzY3OyB9IDsgYnVmLnB1c2goJ1xcbiAgICAgICAgICAgICcpOzY4OyBpZiAoc2hvd1RvQWRkcmVzcykgeyA7IGJ1Zi5wdXNoKCdcXG4gICAgICAgICAgICAgIDx0aCBub3dyYXAgZGF0YS1zb3J0LWtleT1cInRvLWFkZHJlc3NcIj4nLCBlc2NhcGUoKDY5LCAgaTE4bi50bygpICkpLCAnICcsICg2OSwgIHNvcnRNYXJrdXBGb3IoJ3RvLWFkZHJlc3MnKSApLCAnPC90aD5cXG4gICAgICAgICAgICAnKTs3MDsgfSA7IGJ1Zi5wdXNoKCdcXG4gICAgICAgICAgICAnKTs3MTsgaWYgKHNob3dQYWNrZXRJbmZvKSB7IDsgYnVmLnB1c2goJ1xcbiAgICAgICAgICAgICAgPHRoIG5vd3JhcCBkYXRhLXNvcnQta2V5PVwicGFja2V0LWluZm9cIj4nLCBlc2NhcGUoKDcyLCAgaTE4bi5wYWNrZXQoKSApKSwgJyAnLCAoNzIsICBzb3J0TWFya3VwRm9yKCdwYWNrZXQtaW5mbycpICksICc8L3RoPlxcbiAgICAgICAgICAgICcpOzczOyB9IDsgYnVmLnB1c2goJ1xcbiAgICAgICAgICAgIDx0aCBub3dyYXAgZGF0YS1zb3J0LWtleT1cIm1lc3NhZ2VcIj4nLCBlc2NhcGUoKDc0LCAgaTE4bi5tZXNzYWdlKCkgKSksICcgJywgKDc0LCAgc29ydE1hcmt1cEZvcignbWVzc2FnZScpICksICc8L3RoPlxcbiAgICAgICAgICA8L3RyPlxcbiAgICAgICAgPC90aGVhZD5cXG4gICAgICAgIDx0Ym9keT5cXG4gICAgICAgIDwvdGJvZHk+XFxuICAgICAgPC90YWJsZT5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj5cXG4gICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdFwiIGRhdGEtZGlzbWlzcz1cIm1vZGFsXCI+Q2xvc2U8L2J1dHRvbj5cXG4gICAgPC9kaXY+XFxuPC9kaXY+XFxuJyk7IH0pKCk7XG59IFxucmV0dXJuIGJ1Zi5qb2luKCcnKTtcbn07XG4gIHJldHVybiBmdW5jdGlvbihsb2NhbHMpIHtcbiAgICByZXR1cm4gdChsb2NhbHMsIHJlcXVpcmUoXCJlanNcIikuZmlsdGVycyk7XG4gIH1cbn0oKSk7IiwiLyoqXG4gKiBAb3ZlcnZpZXcgVUkgc2xpZGVyIHVzZWQgdG8gY2hhbmdlIG1heGltdW0gcGFja2V0IGxlbmd0aC5cbiAqL1xuLy8gU3RyaWN0IGxpbnRpbmc6IEFic29yYiBpbnRvIGdsb2JhbCBjb25maWcgd2hlbiBwb3NzaWJsZVxuLyoganNoaW50XG4gdW51c2VkOiB0cnVlLFxuIGVxZXFlcTogdHJ1ZSxcblxuIG1heGxlbjogMTIwXG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIGkxOG4gPSByZXF1aXJlKCcuL2xvY2FsZScpO1xudmFyIE5ldFNpbVNsaWRlciA9IHJlcXVpcmUoJy4vTmV0U2ltU2xpZGVyJyk7XG5cbi8qKlxuICogR2VuZXJhdG9yIGFuZCBjb250cm9sbGVyIGZvciBwYWNrZXQgc2l6ZSBzbGlkZXIvc2VsZWN0b3JcbiAqIEBwYXJhbSB7alF1ZXJ5fSByb290RGl2XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBwYWNrZXRTaXplQ2hhbmdlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5taW5pbXVtUGFja2V0U2l6ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXVnbWVudHMgTmV0U2ltU2xpZGVyXG4gKi9cbnZhciBOZXRTaW1QYWNrZXRTaXplQ29udHJvbCA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHJvb3REaXYsXG4gICAgcGFja2V0U2l6ZUNoYW5nZUNhbGxiYWNrLCBvcHRpb25zKSB7XG4gIE5ldFNpbVNsaWRlci5jYWxsKHRoaXMsIHJvb3REaXYsIHtcbiAgICBvbkNoYW5nZTogcGFja2V0U2l6ZUNoYW5nZUNhbGxiYWNrLFxuICAgIG1pbjogb3B0aW9ucy5taW5pbXVtUGFja2V0U2l6ZSxcbiAgICBtYXg6IDgxOTIsXG4gICAgdXBwZXJCb3VuZEluZmluaXRlOiBmYWxzZVxuICB9KTtcblxuICAvLyBBdXRvLXJlbmRlciwgdW5saWtlIG91ciBiYXNlIGNsYXNzXG4gIHRoaXMucmVuZGVyKCk7XG59O1xuTmV0U2ltUGFja2V0U2l6ZUNvbnRyb2wuaW5oZXJpdHMoTmV0U2ltU2xpZGVyKTtcblxuLyoqXG4gKiBHZXQgbG9jYWxpemVkIHBhY2tldCBzaXplIGRlc2NyaXB0aW9uIGZvciB0aGUgZ2l2ZW4gcGFja2V0IHNpemUuXG4gKiBAcGFyYW0ge251bWJlcn0gcGFja2V0U2l6ZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuTmV0U2ltUGFja2V0U2l6ZUNvbnRyb2wucHJvdG90eXBlLmdldFBhY2tldFNpemVUZXh0ID0gZnVuY3Rpb24gKHBhY2tldFNpemUpIHtcbiAgcmV0dXJuIGkxOG4ubnVtQml0c1BlclBhY2tldCh7IG51bUJpdHM6IHBhY2tldFNpemUgfSk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgbnVtZXJpYyB2YWx1ZSAoaW4gYml0cykgaW50byBhIGNvbXBhY3QgbG9jYWxpemVkIHN0cmluZ1xuICogcmVwcmVzZW50YXRpb24gb2YgdGhhdCB2YWx1ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgLSBudW1lcmljIHZhbHVlIG9mIHRoZSBjb250cm9sXG4gKiBAcmV0dXJucyB7c3RyaW5nfSAtIGxvY2FsaXplZCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdmFsdWVcbiAqIEBvdmVycmlkZVxuICovXG5OZXRTaW1QYWNrZXRTaXplQ29udHJvbC5wcm90b3R5cGUudmFsdWVUb0xhYmVsID0gZnVuY3Rpb24gKHZhbCkge1xuICBpZiAodmFsID09PSBJbmZpbml0eSkge1xuICAgIHJldHVybiBpMThuLnVubGltaXRlZCgpO1xuICB9XG4gIHJldHVybiBpMThuLm51bUJpdHNQZXJQYWNrZXQoe251bUJpdHM6IHZhbH0pO1xufTtcblxuLyoqXG4gKiBHZXQgbGFiZWxzIGZvciBlbmQgc2xpZGVyc1xuICogQHBhcmFtIHtudW1iZXJ9IHZhbFxuICogQHJldHVybnMge3N0cmluZ31cbiAqIEBvdmVycmlkZVxuICovXG5OZXRTaW1QYWNrZXRTaXplQ29udHJvbC5wcm90b3R5cGUudmFsdWVUb1Nob3J0TGFiZWwgPSBmdW5jdGlvbiAodmFsKSB7XG4gIGlmICh2YWwgPT09IEluZmluaXR5KSB7XG4gICAgcmV0dXJuIGkxOG4udW5saW1pdGVkKCk7XG4gIH1cbiAgcmV0dXJuIHZhbDtcbn07XG4iLCIvKipcbiAqIEBvdmVydmlldyBVSSBjb250cm9sbGVyIGZvciB0aGUgcGFja2V0IGVkaXRvciB3aGljaCBhbGxvd3MgZWRpdGluZyBtdWx0aXBsZVxuICogICAgICAgICAgIGVuY29kaW5ncyBhdCBvbmNlIGFuZCBsaXZlcyBpbnNpZGUgdGhlIHNlbmQgcGFuZWwuXG4gKiBAc2VlIE5ldFNpbVNlbmRQYW5lbCBmb3IgaG93IHRoaXMgaXMgdXNlZC5cbiAqL1xuLy8gU3RyaWN0IGxpbnRpbmc6IEFic29yYiBpbnRvIGdsb2JhbCBjb25maWcgd2hlbiBwb3NzaWJsZVxuLyoganNoaW50XG4gdW51c2VkOiB0cnVlLFxuIGVxZXFlcTogdHJ1ZSxcbiBtYXhsZW46IDEyMFxuICovXG4ndXNlIHN0cmljdCc7XG5cbnJlcXVpcmUoJy4uL3V0aWxzJyk7IC8vIEZvciBGdW5jdGlvbi5wcm90b3R5cGUuaW5oZXJpdHMoKVxudmFyIG5ldHNpbU1zZyA9IHJlcXVpcmUoJy4vbG9jYWxlJyk7XG52YXIgbWFya3VwID0gcmVxdWlyZSgnLi9OZXRTaW1QYWNrZXRFZGl0b3IuaHRtbC5lanMnKTtcbnZhciBLZXlDb2RlcyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cycpLktleUNvZGVzO1xudmFyIE5ldFNpbUVuY29kaW5nQ29udHJvbCA9IHJlcXVpcmUoJy4vTmV0U2ltRW5jb2RpbmdDb250cm9sJyk7XG52YXIgTmV0U2ltTG9nUGFuZWwgPSByZXF1aXJlKCcuL05ldFNpbUxvZ1BhbmVsJyk7XG52YXIgUGFja2V0ID0gcmVxdWlyZSgnLi9QYWNrZXQnKTtcbnZhciBEYXRhQ29udmVydGVycyA9IHJlcXVpcmUoJy4vRGF0YUNvbnZlcnRlcnMnKTtcbnZhciBOZXRTaW1Db25zdGFudHMgPSByZXF1aXJlKCcuL05ldFNpbUNvbnN0YW50cycpO1xudmFyIE5ldFNpbUdsb2JhbHMgPSByZXF1aXJlKCcuL05ldFNpbUdsb2JhbHMnKTtcblxudmFyIEVuY29kaW5nVHlwZSA9IE5ldFNpbUNvbnN0YW50cy5FbmNvZGluZ1R5cGU7XG52YXIgQklUU19QRVJfQllURSA9IE5ldFNpbUNvbnN0YW50cy5CSVRTX1BFUl9CWVRFO1xuXG52YXIgbWluaWZ5QmluYXJ5ID0gRGF0YUNvbnZlcnRlcnMubWluaWZ5QmluYXJ5O1xudmFyIGZvcm1hdEFCID0gRGF0YUNvbnZlcnRlcnMuZm9ybWF0QUI7XG52YXIgZm9ybWF0QmluYXJ5ID0gRGF0YUNvbnZlcnRlcnMuZm9ybWF0QmluYXJ5O1xudmFyIGZvcm1hdEhleCA9IERhdGFDb252ZXJ0ZXJzLmZvcm1hdEhleDtcbnZhciBhbGlnbkRlY2ltYWwgPSBEYXRhQ29udmVydGVycy5hbGlnbkRlY2ltYWw7XG52YXIgYWJUb0JpbmFyeSA9IERhdGFDb252ZXJ0ZXJzLmFiVG9CaW5hcnk7XG52YXIgYWJUb0ludCA9IERhdGFDb252ZXJ0ZXJzLmFiVG9JbnQ7XG52YXIgYmluYXJ5VG9BQiA9IERhdGFDb252ZXJ0ZXJzLmJpbmFyeVRvQUI7XG52YXIgYmluYXJ5VG9IZXggPSBEYXRhQ29udmVydGVycy5iaW5hcnlUb0hleDtcbnZhciBiaW5hcnlUb0ludCA9IERhdGFDb252ZXJ0ZXJzLmJpbmFyeVRvSW50O1xudmFyIGJpbmFyeVRvRGVjaW1hbCA9IERhdGFDb252ZXJ0ZXJzLmJpbmFyeVRvRGVjaW1hbDtcbnZhciBiaW5hcnlUb0FzY2lpID0gRGF0YUNvbnZlcnRlcnMuYmluYXJ5VG9Bc2NpaTtcbnZhciBoZXhUb0JpbmFyeSA9IERhdGFDb252ZXJ0ZXJzLmhleFRvQmluYXJ5O1xudmFyIGludFRvQUIgPSBEYXRhQ29udmVydGVycy5pbnRUb0FCO1xudmFyIGludFRvQmluYXJ5ID0gRGF0YUNvbnZlcnRlcnMuaW50VG9CaW5hcnk7XG52YXIgaW50VG9IZXggPSBEYXRhQ29udmVydGVycy5pbnRUb0hleDtcbnZhciBkZWNpbWFsVG9CaW5hcnkgPSBEYXRhQ29udmVydGVycy5kZWNpbWFsVG9CaW5hcnk7XG52YXIgYXNjaWlUb0JpbmFyeSA9IERhdGFDb252ZXJ0ZXJzLmFzY2lpVG9CaW5hcnk7XG5cbi8qKlxuICogVHlwZSBmb3IgdHJ1Y3R1cmVkIGFjY2VzcyB0byBqUXVlcnktd3JhcHBlZCBET00gZWxlbWVudHMuICBUd28gbGF5ZXJzIGRlZXA7XG4gKiBjYW4gYmUgdXNlZCBmb3IgcXVpY2sgYWNjZXNzIHRvIG9uZSBvZiB0aGUgZmllbGRzIGluIHRoZSBwYWNrZXQgZWRpdG9yIGdyaWRcbiAqIGJ5IHJlZmVyZW5jaW5nIHZpYSByb3cgYW5kIGNvbHVtbi5cbiAqXG4gKiBNYXAga2V5cyBhdCB0aGUgZmlyc3QgbGF5ZXIgY29ycmVzcG9uZCB0byBOZXRTaW1Db25zdGFudHMuRW5jb2RpbmdUeXBlLlxuICogTWFwIGtleXMgYXQgdGhlIHNlY29uZCBsYXllciBjb3JyZXNwb25kIHRvIFBhY2tldC5IZWFkZXJUeXBlLCBwbHVzIHRoZVxuICogICAnbWVzc2FnZScgZmllbGQuXG4gKlxuICogVXNhZ2U6XG4gKiAgIG1hcC5iaW5hcnkuZnJvbUFkZHJlc3NcbiAqICAgbWFwWydiaW5hcnknXVsnZnJvbUFkZHJlc3MnXVxuICogICBtYXBbRW5jb2RpbmdUeXBlLkJJTkFSWV1bUGFja2V0LkhlYWRlclR5cGUuRlJPTV9BRERSRVNTXVxuICpcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFVJTWFwXG4gKiBAcHJvcGVydHkge1VJUm93TWFwfSBhX2FuZF9iXG4gKiBAcHJvcGVydHkge1VJUm93TWFwfSBiaW5hcnlcbiAqIEBwcm9wZXJ0eSB7VUlSb3dNYXB9IGhleGFkZWNpbWFsXG4gKiBAcHJvcGVydHkge1VJUm93TWFwfSBkZWNpbWFsXG4gKiBAcHJvcGVydHkge1VJUm93TWFwfSBhc2NpaVxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gVUlSb3dNYXBcbiAqIEBwcm9wZXJ0eSB7alF1ZXJ5fSB0b0FkZHJlc3NcbiAqIEBwcm9wZXJ0eSB7alF1ZXJ5fSBmcm9tQWRkcmVzc1xuICogQHByb3BlcnR5IHtqUXVlcnl9IHBhY2tldEluZGV4XG4gKiBAcHJvcGVydHkge2pRdWVyeX0gcGFja2V0Q291bnRcbiAqIEBwcm9wZXJ0eSB7alF1ZXJ5fSBtZXNzYWdlXG4gKi9cblxuLyoqXG4gKiBHZW5lcmF0b3IgYW5kIGNvbnRyb2xsZXIgZm9yIG1lc3NhZ2Ugc2VuZGluZyB2aWV3LlxuICogQHBhcmFtIHtPYmplY3R9IGluaXRpYWxDb25maWdcbiAqIEBwYXJhbSB7TWVzc2FnZUdyYW51bGFyaXR5fSBpbml0aWFsQ29uZmlnLm1lc3NhZ2VHcmFudWxhcml0eVxuICogQHBhcmFtIHtQYWNrZXQuSGVhZGVyVHlwZVtdfSBpbml0aWFsQ29uZmlnLnBhY2tldFNwZWNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbaW5pdGlhbENvbmZpZy50b0FkZHJlc3NdXG4gKiBAcGFyYW0ge251bWJlcn0gW2luaXRpYWxDb25maWcuZnJvbUFkZHJlc3NdXG4gKiBAcGFyYW0ge251bWJlcn0gW2luaXRpYWxDb25maWcucGFja2V0SW5kZXhdXG4gKiBAcGFyYW0ge251bWJlcn0gW2luaXRpYWxDb25maWcucGFja2V0Q291bnRdXG4gKiBAcGFyYW0ge3N0cmluZ30gW2luaXRpYWxDb25maWcubWVzc2FnZV1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbaW5pdGlhbENvbmZpZy5tYXhQYWNrZXRTaXplXVxuICogQHBhcmFtIHtudW1iZXJ9IFtpbml0aWFsQ29uZmlnLmNodW5rU2l6ZV1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbaW5pdGlhbENvbmZpZy5iaXRSYXRlXVxuICogQHBhcmFtIHtFbmNvZGluZ1R5cGVbXX0gW2luaXRpYWxDb25maWcuZW5hYmxlZEVuY29kaW5nc11cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGluaXRpYWxDb25maWcucmVtb3ZlUGFja2V0Q2FsbGJhY2tcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGluaXRpYWxDb25maWcuZG9uZVNlbmRpbmdDYWxsYmFja1xuICogQHBhcmFtIHtmdW5jdGlvbn0gaW5pdGlhbENvbmZpZy5jb250ZW50Q2hhbmdlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGluaXRpYWxDb25maWcuZW50ZXJLZXlQcmVzc2VkQ2FsbGJhY2tcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgTmV0U2ltUGFja2V0RWRpdG9yID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaW5pdGlhbENvbmZpZykge1xuICB2YXIgbGV2ZWwgPSBOZXRTaW1HbG9iYWxzLmdldExldmVsQ29uZmlnKCk7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtSb3dUeXBlW119XG4gICAqIEBjb25zdFxuICAgKi9cbiAgdGhpcy5ST1dfVFlQRVMgPSBbXG4gICAge1xuICAgICAgdHlwZU5hbWU6IEVuY29kaW5nVHlwZS5BX0FORF9CLFxuICAgICAgYWRkcmVzc0ZpZWxkQWxsb3dlZENoYXJhY3RlcnM6IC9bQUJcXHNdL2ksXG4gICAgICBhZGRyZXNzRmllbGRDb252ZXJzaW9uOiBmdW5jdGlvbiAoYWJTdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIERhdGFDb252ZXJ0ZXJzLmJpbmFyeVRvQWRkcmVzc1N0cmluZyhcbiAgICAgICAgICAgIERhdGFDb252ZXJ0ZXJzLmFiVG9CaW5hcnkoYWJTdHJpbmcpLCBsZXZlbC5hZGRyZXNzRm9ybWF0KTtcbiAgICAgIH0sXG4gICAgICBzaG9ydE51bWJlckFsbG93ZWRDaGFyYWN0ZXJzOiAvW0FCXS9pLFxuICAgICAgc2hvcnROdW1iZXJDb252ZXJzaW9uOiB0cnVuY2F0ZWRBQlRvSW50LFxuICAgICAgbWVzc2FnZUFsbG93ZWRDaGFyYWN0ZXJzOiAvW0FCXFxzXS9pLFxuICAgICAgbWVzc2FnZUNvbnZlcnNpb246IGFiVG9CaW5hcnlcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGVOYW1lOiBFbmNvZGluZ1R5cGUuQklOQVJZLFxuICAgICAgYWRkcmVzc0ZpZWxkQWxsb3dlZENoYXJhY3RlcnM6IC9bMDFcXHNdL2ksXG4gICAgICBhZGRyZXNzRmllbGRDb252ZXJzaW9uOiBmdW5jdGlvbiAoYmluYXJ5U3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBEYXRhQ29udmVydGVycy5iaW5hcnlUb0FkZHJlc3NTdHJpbmcoXG4gICAgICAgICAgICBiaW5hcnlTdHJpbmcsIGxldmVsLmFkZHJlc3NGb3JtYXQpO1xuICAgICAgfSxcbiAgICAgIHNob3J0TnVtYmVyQWxsb3dlZENoYXJhY3RlcnM6IC9bMDFdLyxcbiAgICAgIHNob3J0TnVtYmVyQ29udmVyc2lvbjogdHJ1bmNhdGVkQmluYXJ5VG9JbnQsXG4gICAgICBtZXNzYWdlQWxsb3dlZENoYXJhY3RlcnM6IC9bMDFcXHNdLyxcbiAgICAgIG1lc3NhZ2VDb252ZXJzaW9uOiBtaW5pZnlCaW5hcnlcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGVOYW1lOiBFbmNvZGluZ1R5cGUuSEVYQURFQ0lNQUwsXG4gICAgICBhZGRyZXNzRmllbGRBbGxvd2VkQ2hhcmFjdGVyczogL1swLTlhLWZcXHNdL2ksXG4gICAgICBhZGRyZXNzRmllbGRDb252ZXJzaW9uOiBmdW5jdGlvbiAoaGV4U3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBEYXRhQ29udmVydGVycy5iaW5hcnlUb0FkZHJlc3NTdHJpbmcoXG4gICAgICAgICAgICBEYXRhQ29udmVydGVycy5oZXhUb0JpbmFyeShoZXhTdHJpbmcpLCBsZXZlbC5hZGRyZXNzRm9ybWF0KTtcbiAgICAgIH0sXG4gICAgICBzaG9ydE51bWJlckFsbG93ZWRDaGFyYWN0ZXJzOiAvWzAtOWEtZl0vaSxcbiAgICAgIHNob3J0TnVtYmVyQ29udmVyc2lvbjogdHJ1bmNhdGVkSGV4VG9JbnQsXG4gICAgICBtZXNzYWdlQWxsb3dlZENoYXJhY3RlcnM6IC9bMC05YS1mXFxzXS9pLFxuICAgICAgbWVzc2FnZUNvbnZlcnNpb246IGhleFRvQmluYXJ5XG4gICAgfSxcbiAgICB7XG4gICAgICB0eXBlTmFtZTogRW5jb2RpbmdUeXBlLkRFQ0lNQUwsXG4gICAgICBhZGRyZXNzRmllbGRBbGxvd2VkQ2hhcmFjdGVyczogL1swLTkuXFxzXS9pLFxuICAgICAgYWRkcmVzc0ZpZWxkQ29udmVyc2lvbjogY2xlYW5BZGRyZXNzU3RyaW5nLFxuICAgICAgc2hvcnROdW1iZXJBbGxvd2VkQ2hhcmFjdGVyczogL1swLTldLyxcbiAgICAgIHNob3J0TnVtYmVyQ29udmVyc2lvbjogdHJ1bmNhdGVkRGVjaW1hbFRvSW50LFxuICAgICAgbWVzc2FnZUFsbG93ZWRDaGFyYWN0ZXJzOiAvWzAtOVxcc10vLFxuICAgICAgbWVzc2FnZUNvbnZlcnNpb246IGZ1bmN0aW9uIChkZWNpbWFsU3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBkZWNpbWFsVG9CaW5hcnkoZGVjaW1hbFN0cmluZywgdGhpcy5jdXJyZW50Q2h1bmtTaXplXyk7XG4gICAgICB9LmJpbmQodGhpcylcbiAgICB9LFxuICAgIHtcbiAgICAgIHR5cGVOYW1lOiBFbmNvZGluZ1R5cGUuQVNDSUksXG4gICAgICBhZGRyZXNzRmllbGRBbGxvd2VkQ2hhcmFjdGVyczogL1swLTkuXFxzXS9pLFxuICAgICAgYWRkcmVzc0ZpZWxkQ29udmVyc2lvbjogY2xlYW5BZGRyZXNzU3RyaW5nLFxuICAgICAgc2hvcnROdW1iZXJBbGxvd2VkQ2hhcmFjdGVyczogL1swLTldLyxcbiAgICAgIHNob3J0TnVtYmVyQ29udmVyc2lvbjogdHJ1bmNhdGVkRGVjaW1hbFRvSW50LFxuICAgICAgbWVzc2FnZUFsbG93ZWRDaGFyYWN0ZXJzOiAvLi8sXG4gICAgICBtZXNzYWdlQ29udmVyc2lvbjogZnVuY3Rpb24gKGFzY2lpU3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBhc2NpaVRvQmluYXJ5KGFzY2lpU3RyaW5nLCB0aGlzLmN1cnJlbnRDaHVua1NpemVfKTtcbiAgICAgIH0uYmluZCh0aGlzKVxuICAgIH1cbiAgXTtcblxuICAvKipcbiAgICogQHR5cGUge2pRdWVyeX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucm9vdERpdl8gPSAkKCc8ZGl2PicpLmFkZENsYXNzKCduZXRzaW0tcGFja2V0Jyk7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtNZXNzYWdlR3JhbnVsYXJpdHl9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLm1lc3NhZ2VHcmFudWxhcml0eV8gPSBpbml0aWFsQ29uZmlnLm1lc3NhZ2VHcmFudWxhcml0eTtcblxuICAvKipcbiAgICogQHR5cGUge1BhY2tldC5IZWFkZXJUeXBlW119XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnBhY2tldFNwZWNfID0gaW5pdGlhbENvbmZpZy5wYWNrZXRTcGVjO1xuXG4gIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuICB0aGlzLnRvQWRkcmVzcyA9IGluaXRpYWxDb25maWcudG9BZGRyZXNzIHx8XG4gICAgICBEYXRhQ29udmVydGVycy5iaW5hcnlUb0FkZHJlc3NTdHJpbmcoJzAnLCBsZXZlbC5hZGRyZXNzRm9ybWF0KTtcblxuICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgdGhpcy5mcm9tQWRkcmVzcyA9IGluaXRpYWxDb25maWcuZnJvbUFkZHJlc3MgfHxcbiAgICAgIERhdGFDb252ZXJ0ZXJzLmJpbmFyeVRvQWRkcmVzc1N0cmluZygnMCcsIGxldmVsLmFkZHJlc3NGb3JtYXQpO1xuXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xuICB0aGlzLnBhY2tldEluZGV4ID0gaW5pdGlhbENvbmZpZy5wYWNrZXRJbmRleCAhPT0gdW5kZWZpbmVkID9cbiAgICAgIGluaXRpYWxDb25maWcucGFja2V0SW5kZXggOiAxO1xuXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xuICB0aGlzLnBhY2tldENvdW50ID0gaW5pdGlhbENvbmZpZy5wYWNrZXRDb3VudCAhPT0gdW5kZWZpbmVkID9cbiAgICAgIGluaXRpYWxDb25maWcucGFja2V0Q291bnQgOiAxO1xuXG4gIC8qKlxuICAgKiBCaW5hcnkgc3RyaW5nIG9mIG1lc3NhZ2UgYm9keSwgbGl2ZS1pbnRlcnByZXRlZCB0byBvdGhlciB2YWx1ZXMuXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICB0aGlzLm1lc3NhZ2UgPSBpbml0aWFsQ29uZmlnLm1lc3NhZ2UgfHwgJyc7XG5cbiAgLyoqXG4gICAqIE1heGltdW0gcGFja2V0IGxlbmd0aCBjb25maWd1cmFibGUgYnkgc2xpZGVyLlxuICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5tYXhQYWNrZXRTaXplXyA9IGluaXRpYWxDb25maWcubWF4UGFja2V0U2l6ZSB8fCA4MTkyO1xuXG4gIC8qKlxuICAgKiBCaXRzIHBlciBjaHVuay9ieXRlIGZvciBwYXJzaW5nIGFuZCBmb3JtYXR0aW5nIHB1cnBvc2VzLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5jdXJyZW50Q2h1bmtTaXplXyA9IGluaXRpYWxDb25maWcuY2h1bmtTaXplIHx8IEJJVFNfUEVSX0JZVEU7XG5cbiAgLyoqXG4gICAqIExvY2FsIGRldmljZSBiaXRyYXRlIChicHMpLCB3aGljaCBhZmZlY3RzIHNlbmQtYW5pbWF0aW9uIHNwZWVkLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5iaXRSYXRlXyA9IGluaXRpYWxDb25maWcuYml0UmF0ZSB8fCBJbmZpbml0eTtcblxuICB2YXIgZW5jb2RpbmdzID0gaW5pdGlhbENvbmZpZy5lbmFibGVkRW5jb2RpbmdzIHx8IFtdO1xuICAvKipcbiAgICogV2hpY2ggZW5jb2RpbmdzIHNob3VsZCBiZSB2aXNpYmxlIGluIHRoZSBlZGl0b3IuXG4gICAqIEB0eXBlIHtPYmplY3QuPEVuY29kaW5nVHlwZSwgYm9vbGVhbj59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmVuYWJsZWRFbmNvZGluZ3NIYXNoXyA9IE5ldFNpbUVuY29kaW5nQ29udHJvbC5lbmNvZGluZ3NBc0hhc2goZW5jb2RpbmdzKTtcblxuICAvKipcbiAgICogTWV0aG9kIHRvIGNhbGwgaW4gb3JkZXIgdG8gcmVtb3ZlIHRoaXMgcGFja2V0IGZyb20gaXRzIHBhcmVudC5cbiAgICogRnVuY3Rpb24gc2hvdWxkIHRha2UgdGhpcyBQYWNrZXRFZGl0b3IgYXMgYW4gYXJndW1lbnQuXG4gICAqIEB0eXBlIHtmdW5jdGlvbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucmVtb3ZlUGFja2V0Q2FsbGJhY2tfID0gaW5pdGlhbENvbmZpZy5yZW1vdmVQYWNrZXRDYWxsYmFjaztcblxuICAvKipcbiAgICogTWV0aG9kIHRvIGNhbGwgd2hlbiB0aGlzIHBhY2tldCBpcyBkb25lIHBsYXlpbmcgaXRzIHNlbmRpbmcgYW5pbWF0aW9uLlxuICAgKiBGdW5jdGlvbiBzaG91bGQgdGFrZSB0aGlzIFBhY2tldEVkaXRvciBhcyBhbiBhcmd1bWVudC5cbiAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5kb25lU2VuZGluZ0NhbGxiYWNrXyA9IGluaXRpYWxDb25maWcuZG9uZVNlbmRpbmdDYWxsYmFjaztcblxuICAvKipcbiAgICogTWV0aG9kIHRvIG5vdGlmeSBvdXIgcGFyZW50IGNvbnRhaW5lciB0aGF0IHRoZSBwYWNrZXQncyBiaW5hcnlcbiAgICogY29udGVudCBoYXMgY2hhbmdlZC5cbiAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5jb250ZW50Q2hhbmdlQ2FsbGJhY2tfID0gaW5pdGlhbENvbmZpZy5jb250ZW50Q2hhbmdlQ2FsbGJhY2s7XG5cbiAgLyoqXG4gICAqIE1ldGhvZCB0byBub3RpZnkgb3VyIHBhcmVudCBjb250YWluZXIgdGhhdCB0aGUgZW50ZXIga2V5IGhhcyBiZWVuXG4gICAqIHByZXNzZWRcbiAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5lbnRlcktleVByZXNzZWRDYWxsYmFja18gPSBpbml0aWFsQ29uZmlnLmVudGVyS2V5UHJlc3NlZENhbGxiYWNrO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7alF1ZXJ5fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5yZW1vdmVQYWNrZXRCdXR0b25fID0gbnVsbDtcblxuICAvKipcbiAgICogQHR5cGUge2pRdWVyeX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuYml0Q291bnRlcl8gPSBudWxsO1xuXG4gIC8qKlxuICAgKiBGbGFnIG5vdGluZyB3aGV0aGVyIHRoaXMgcGFja2V0IGVkaXRvciBpcyBpbiBhIG5vbi1pbnRlcmFjdGl2ZSBtb2RlXG4gICAqIHdoZXJlIGl0IGFuaW1hdGVzIGJpdHMgZHJhaW5pbmcvYmVpbmcgc2VudC5cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmlzUGxheWluZ1NlbmRBbmltYXRpb25fID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIEZsYWcgZm9yIHdoZXRoZXIgdGhpcyBlZGl0b3IgaXMgaW4gdGhlIG1pZGRsZSBvZiBhbiBhc3luYyBzZW5kIGNvbW1hbmQuXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5pc1NlbmRpbmdQYWNrZXRUb1JlbW90ZV8gPSBmYWxzZTtcblxuICAvKipcbiAgICogUmVmZXJlbmNlIHRvIGxvY2FsIGNsaWVudCBub2RlLCB1c2VkIGZvciBzZW5kaW5nIG1lc3NhZ2VzLlxuICAgKiBAdHlwZSB7TmV0U2ltTG9jYWxDbGllbnROb2RlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5teU5vZGVfID0gbnVsbDtcblxuICAvKipcbiAgICogQ2FwdHVyZSBwYWNrZXQgYmluYXJ5IGJlZm9yZSB0aGUgc2VuZCBhbmltYXRpb24gYmVnaW5zIHNvIHRoYXQgd2UgY2FuXG4gICAqIHNlbmQgdGhlIHdob2xlIHBhY2tldCB0byByZW1vdGUgc3RvcmFnZSB3aGVuIHRoZSBhbmltYXRpb24gaXMgZG9uZS5cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMub3JpZ2luYWxCaW5hcnlfID0gJyc7XG5cbiAgLyoqXG4gICAqIEluZGV4IGludG8gb3JpZ2luYWwgYmluYXJ5IGluZGljYXRpbmcgaG93IG1hbnkgYml0cyBoYXZlIGJlZW4gJ3NlbnQnXG4gICAqIGluIHRoZSBhbmltYXRpb24uXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnNlbmRBbmltYXRpb25JbmRleF8gPSAwO1xuXG4gIC8qKlxuICAgKiBTaW11bGF0aW9uLXRpbWUgdGltZXN0YW1wIChtcykgb2YgdGhlIGxhc3QgYml0LXNlbmQgYW5pbWF0aW9uLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5sYXN0Qml0U2VudFRpbWVfID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBNYXAgb2YgYm91bmQgVUkgZWxlbWVudHMgbWFuaXB1bGF0ZWQgYnkgdGhpcyBlZGl0b3IuICBQcm92aWRlcyBxdWlja1xuICAgKiBhY2Nlc3MgdG8gaW5wdXQgZWxlbWVudHMgaW4gdGhlIGVkaXRvciBncmlkLiAgU2VlIHR5cGUgbm90ZXMgZm9yIHVzYWdlLlxuICAgKlxuICAgKiBQb3B1bGF0ZWQgZHluYW1pY2FsbHkgaW4gYGJpbmRFbGVtZW50c19gIGR1cmluZyBgcmVuZGVyYC4gIE1heSBub3QgaW5jbHVkZVxuICAgKiBhbGwgZmllbGRzLCBhcyB3ZSB0cnkgdG8gb3B0aW1pemUgYW5kIG9taXQgZmllbGRzIG5vdCBlbmFibGVkIGluIHRoZSBsZXZlbC5cbiAgICpcbiAgICogQHR5cGUge1VJTWFwfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy51aV8gPSB7fTtcblxuICB0aGlzLnJlbmRlcigpO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gcm9vdCBkaXYsIGZvciBob29raW5nIHVwIHRvIGEgcGFyZW50IGVsZW1lbnQuXG4gKiBAcmV0dXJucyB7alF1ZXJ5fVxuICovXG5OZXRTaW1QYWNrZXRFZGl0b3IucHJvdG90eXBlLmdldFJvb3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnJvb3REaXZfO1xufTtcblxuLyoqXG4gKiBDbGVhciB0aGUgcGFja2V0IHBheWxvYWQgYW5kIHB1dCB0aGUgZWRpdG9yIGJhY2sgaW4gYSBzdGF0ZSB3aGVyZSBpdCdzXG4gKiByZWFkeSBmb3IgY29tcG9zaW5nIGEgbmV3IHBhY2tldC5cbiAqIEludGVudGlvbmFsbHkgcHJlc2VydmVzIHRvQWRkcmVzcyBhbmQgZnJvbUFkZHJlc3MuXG4gKi9cbk5ldFNpbVBhY2tldEVkaXRvci5wcm90b3R5cGUucmVzZXRQYWNrZXQgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMubWVzc2FnZSA9ICcnO1xuICB0aGlzLnBhY2tldEluZGV4ID0gMTtcbiAgdGhpcy5wYWNrZXRDb3VudCA9IDE7XG4gIHRoaXMub3JpZ2luYWxCaW5hcnlfID0gJyc7XG4gIHRoaXMuc2VuZEFuaW1hdGlvbkluZGV4XyA9IDA7XG4gIHRoaXMubGFzdEJpdFNlbnRUaW1lXyA9IHVuZGVmaW5lZDtcbiAgdGhpcy51cGRhdGVGaWVsZHNfKCk7XG4gIHRoaXMudXBkYXRlUmVtb3ZlQnV0dG9uVmlzaWJpbGl0eV8oKTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZmlyc3QgdmlzaWJsZSBtZXNzYWdlIGJveCwgc28gdGhhdCB3ZSBjYW4gZm9jdXMoKSBvbiBpdFxuICogQHJldHVybnMge2pRdWVyeX1cbiAqL1xuTmV0U2ltUGFja2V0RWRpdG9yLnByb3RvdHlwZS5nZXRGaXJzdFZpc2libGVNZXNzYWdlQm94ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5nZXRSb290KCkuZmluZCgndGV4dGFyZWEubWVzc2FnZTp2aXNpYmxlJykuZmlyc3QoKTtcbn07XG5cbi8qKiBSZXBsYWNlIGNvbnRlbnRzIG9mIG91ciByb290IGVsZW1lbnQgd2l0aCBvdXIgb3duIG1hcmt1cC4gKi9cbk5ldFNpbVBhY2tldEVkaXRvci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbmV3TWFya3VwID0gJChtYXJrdXAoe1xuICAgIG1lc3NhZ2VHcmFudWxhcml0eTogdGhpcy5tZXNzYWdlR3JhbnVsYXJpdHlfLFxuICAgIHBhY2tldFNwZWM6IHRoaXMucGFja2V0U3BlY18sXG4gICAgZW5hYmxlZEVuY29kaW5nc0hhc2g6IHRoaXMuZW5hYmxlZEVuY29kaW5nc0hhc2hfXG4gIH0pKTtcbiAgdGhpcy5yb290RGl2Xy5odG1sKG5ld01hcmt1cCk7XG4gIHRoaXMuYmluZEVsZW1lbnRzXygpO1xuICB0aGlzLnVwZGF0ZUZpZWxkc18oKTtcbiAgdGhpcy51cGRhdGVSZW1vdmVCdXR0b25WaXNpYmlsaXR5XygpO1xuICBOZXRTaW1Mb2dQYW5lbC5hZGp1c3RIZWFkZXJDb2x1bW5XaWR0aHModGhpcy5yb290RGl2Xyk7XG4gIE5ldFNpbUVuY29kaW5nQ29udHJvbC5oaWRlUm93c0J5RW5jb2RpbmcodGhpcy5yb290RGl2XyxcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMuZW5hYmxlZEVuY29kaW5nc0hhc2hfKSk7XG59O1xuXG4vKipcbiAqIFB1dCB0aGlzIHBhY2tldCBpbiBhIG1vZGUgd2hlcmUgaXQncyBub3QgZWRpdGFibGUuICBJbnN0ZWFkLCBpdCB3aWxsIGRyYWluXG4gKiBpdHMgYmluYXJ5IGF0IHRoZSBjdXJyZW50IGJpdHJhdGUgYW5kIGNhbGwgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gYWxsXG4gKiBvZiB0aGUgYmluYXJ5IGhhcyBiZWVuIGRyYWluZWQvXCJzZW50XCJcbiAqIEBwYXJhbSB7TmV0U2ltTG9jYWxDbGllbnROb2RlfSBteU5vZGVcbiAqL1xuTmV0U2ltUGFja2V0RWRpdG9yLnByb3RvdHlwZS5iZWdpblNlbmRpbmcgPSBmdW5jdGlvbiAobXlOb2RlKSB7XG4gIHRoaXMuaXNQbGF5aW5nU2VuZEFuaW1hdGlvbl8gPSB0cnVlO1xuICB0aGlzLm9yaWdpbmFsQmluYXJ5XyA9IHRoaXMuZ2V0UGFja2V0QmluYXJ5KCkuc3Vic3RyKDAsIHRoaXMubWF4UGFja2V0U2l6ZV8pO1xuICB0aGlzLnNlbmRBbmltYXRpb25JbmRleF8gPSAwO1xuICB0aGlzLm15Tm9kZV8gPSBteU5vZGU7XG5cbiAgLy8gRmluaXNoIG5vdyBpZiB0aGUgcGFja2V0IGlzIGVtcHR5LlxuICBpZiAoMCA9PT0gdGhpcy5vcmlnaW5hbEJpbmFyeV8ubGVuZ3RoKSB7XG4gICAgdGhpcy5maW5pc2hTZW5kaW5nKCk7XG4gIH1cbn07XG5cbi8qKlxuICogS2ljayBvZmYgdGhlIGFzeW5jIHNlbmQtdG8tcmVtb3RlIG9wZXJhdGlvbiBmb3IgdGhlIG9yaWdpbmFsIHBhY2tldCBiaW5hcnkuXG4gKiBXaGVuIGl0J3MgZG9uZSwgcmVtb3ZlIHRoaXMgbm93LWVtcHR5IHBhY2tldC5cbiAqL1xuTmV0U2ltUGFja2V0RWRpdG9yLnByb3RvdHlwZS5maW5pc2hTZW5kaW5nID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmlzUGxheWluZ1NlbmRBbmltYXRpb25fID0gZmFsc2U7XG4gIHRoaXMuaXNTZW5kaW5nUGFja2V0VG9SZW1vdGVfID0gdHJ1ZTtcbiAgdGhpcy5teU5vZGVfLnNlbmRNZXNzYWdlKHRoaXMub3JpZ2luYWxCaW5hcnlfLCBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5pc1NlbmRpbmdQYWNrZXRUb1JlbW90ZV8gPSBmYWxzZTtcbiAgICB0aGlzLmRvbmVTZW5kaW5nQ2FsbGJhY2tfKHRoaXMpO1xuICB9LmJpbmQodGhpcykpO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVFJVRSBpZiB0aGlzIHBhY2tldCBpcyBjdXJyZW50bHkgYmVpbmcgc2VudC5cbiAqL1xuTmV0U2ltUGFja2V0RWRpdG9yLnByb3RvdHlwZS5pc1NlbmRpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmlzUGxheWluZ1NlbmRBbmltYXRpb25fIHx8IHRoaXMuaXNTZW5kaW5nUGFja2V0VG9SZW1vdGVfO1xufTtcblxuLyoqXG4gKiBQYWNrZXQgRWRpdG9yIHRpY2sgaXMgY2FsbGVkIChtYW51YWxseSBieSB0aGUgTmV0U2ltU2VuZFBhbmVsKSB0byBhZHZhbmNlXG4gKiBpdHMgc2VuZGluZyBhbmltYXRpb24uXG4gKiBAcGFyYW0ge1J1bkxvb3AuQ2xvY2t9IGNsb2NrXG4gKi9cbk5ldFNpbVBhY2tldEVkaXRvci5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uIChjbG9jaykge1xuICAvLyBCZWZvcmUgd2Ugc3RhcnQgYW5pbWF0aW5nLCBvciBhZnRlciB3ZSBhcmUgZG9uZSBhbmltYXRpbmcsIGRvIG5vdGhpbmcuXG4gIGlmICghdGhpcy5pc1BsYXlpbmdTZW5kQW5pbWF0aW9uXyB8fCB0aGlzLmlzU2VuZGluZ1BhY2tldFRvUmVtb3RlXykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghdGhpcy5sYXN0Qml0U2VudFRpbWVfKSB7XG4gICAgdGhpcy5sYXN0Qml0U2VudFRpbWVfID0gY2xvY2sudGltZTtcbiAgfVxuXG4gIC8vIEhvdyBtYW55IGNoYXJhY3RlcnMgc2hvdWxkIGJlIGNvbnN1bWVkIHRoaXMgdGljaz9cbiAgdmFyIG1zUGVyQml0ID0gMTAwMCAqICgxIC8gdGhpcy5iaXRSYXRlXyk7XG4gIHZhciBtYXhCaXRzVG9TZW5kVGhpc1RpY2sgPSBJbmZpbml0eTtcbiAgaWYgKG1zUGVyQml0ID4gMCkge1xuICAgIHZhciBtc1NpbmNlTGFzdEJpdENvbnN1bWVkID0gY2xvY2sudGltZSAtIHRoaXMubGFzdEJpdFNlbnRUaW1lXztcbiAgICBtYXhCaXRzVG9TZW5kVGhpc1RpY2sgPSBNYXRoLmZsb29yKG1zU2luY2VMYXN0Qml0Q29uc3VtZWQgLyBtc1BlckJpdCk7XG4gIH1cblxuICBpZiAobWF4Qml0c1RvU2VuZFRoaXNUaWNrID4gMCkge1xuICAgIHRoaXMubGFzdEJpdFNlbnRUaW1lXyA9IGNsb2NrLnRpbWU7XG4gICAgdGhpcy5zZW5kQW5pbWF0aW9uSW5kZXhfICs9IG1heEJpdHNUb1NlbmRUaGlzVGljaztcbiAgICB0aGlzLnVwZGF0ZUZvckFuaW1hdGlvbl8oKTtcbiAgICBpZiAodGhpcy5zZW5kQW5pbWF0aW9uSW5kZXhfID49IHRoaXMub3JpZ2luYWxCaW5hcnlfLmxlbmd0aCkge1xuICAgICAgdGhpcy5maW5pc2hTZW5kaW5nKCk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEZvY3VzIGV2ZW50IGhhbmRsZXIuICBJZiB0aGUgdGFyZ2V0IGVsZW1lbnQgaGFzIGEgJ3dhdGVybWFyaycgY2xhc3MgdGhlblxuICogaXQgY29udGFpbnMgdGV4dCB3ZSBpbnRlbmQgdG8gY2xlYXIgYmVmb3JlIGFueSBlZGl0aW5nIG9jY3Vycy4gIFRoaXNcbiAqIGhhbmRsZXIgY2xlYXJzIHRoYXQgdGV4dCBhbmQgcmVtb3ZlcyB0aGUgY2xhc3MuXG4gKiBAcGFyYW0gZm9jdXNFdmVudFxuICovXG52YXIgcmVtb3ZlV2F0ZXJtYXJrID0gZnVuY3Rpb24gKGZvY3VzRXZlbnQpIHtcbiAgdmFyIHRhcmdldCA9ICQoZm9jdXNFdmVudC50YXJnZXQpO1xuICBpZiAodGFyZ2V0Lmhhc0NsYXNzKCd3YXRlcm1hcmsnKSkge1xuICAgIHRhcmdldC52YWwoJycpO1xuICAgIHRhcmdldC5yZW1vdmVDbGFzcygnd2F0ZXJtYXJrJyk7XG4gIH1cbn07XG5cbi8qKlxuICogSGVscGVyIG1ldGhvZCBmb3IgZGV0ZXJtaW5pbmcgaWYgYSBnaXZlbiBrZXlQcmVzcyBldmVudCByZXByZXNlbnRzIGFcbiAqIENMRUFOIGVudGVyIHByZXNzLiBBcyBpbiwgb25lIHdpdGhvdXQgdGhlIFNoaWZ0IG9yIENvbnRyb2wgbW9kaWZpZXJzLlxuICogQHBhcmFtIHtFdmVudH0ganF1ZXJ5RXZlbnRcbiAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmZiB0aGUgZ2l2ZW4gZXZlbnQgcmVwcmVzZW50cyBhIGNsZWFuIGVudGVyXG4gKi9cbnZhciBpc1VubW9kaWZpZWRFbnRlclByZXNzID0gZnVuY3Rpb24gKGpxdWVyeUV2ZW50KSB7XG4gIHJldHVybiAoanF1ZXJ5RXZlbnQua2V5Q29kZSA9PT0gS2V5Q29kZXMuRU5URVIgJiZcbiAgICAgICEoanF1ZXJ5RXZlbnQuY3RybEtleSB8fCBqcXVlcnlFdmVudC5zaGlmdEtleSkpO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEga2V5UHJlc3MgaGFuZGxlciB0aGF0IGFsbG93cyBvbmx5IHRoZSBnaXZlbiBjaGFyYWN0ZXJzIHRvIGJlXG4gKiB0eXBlZCBpbnRvIGEgdGV4dCBmaWVsZC5cbiAqIEBwYXJhbSB7UmVnRXhwfSB3aGl0ZWxpc3RSZWdleFxuICogQHJldHVybiB7ZnVuY3Rpb259IGFwcHJvcHJpYXRlIHRvIHBhc3MgdG8gLmtleXByZXNzKClcbiAqL1xudmFyIG1ha2VLZXlwcmVzc0hhbmRsZXJXaXRoV2hpdGVsaXN0ID0gZnVuY3Rpb24gKHdoaXRlbGlzdFJlZ2V4KSB7XG4gIC8qKlxuICAgKiBBIGtleVByZXNzIGhhbmRsZXIgdGhhdCBibG9ja3MgYWxsIHZpc2libGUgY2hhcmFjdGVycyBleGNlcHQgdGhvc2VcbiAgICogbWF0Y2hpbmcgdGhlIHdoaXRlbGlzdC4gIFBhc3NlcyB0aHJvdWdoIGludmlzaWJsZSBjaGFyYWN0ZXJzIChiYWNrc3BhY2UsXG4gICAqIGRlbGV0ZSkgYW5kIGNvbnRyb2wgY29tYmluYXRpb25zIChjb3B5LCBwYXN0ZSkuXG4gICAqXG4gICAqIEBwYXJhbSBrZXlFdmVudFxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBXaGV0aGVyIHRvIHByb3BhZ2F0ZSB0aGlzIGV2ZW50LiAgU2hvdWxkIHJldHVyblxuICAgKiAgICAgICAgICBGQUxTRSBpZiB3ZSBoYW5kbGUgdGhlIGV2ZW50IGFuZCBkb24ndCB3YW50IHRvIHBhc3MgaXQgb24sIFRSVUVcbiAgICogICAgICAgICAgaWYgd2UgYXJlIG5vdCBoYW5kbGluZyB0aGUgZXZlbnQuXG4gICAqL1xuICByZXR1cm4gZnVuY3Rpb24gKGtleUV2ZW50KSB7XG5cbiAgICAvLyBEb24ndCBibG9jayBjb250cm9sIGNvbWJpbmF0aW9ucyAoY29weSwgcGFzdGUsIGV0Yy4pXG4gICAgaWYgKGtleUV2ZW50Lm1ldGFLZXkgfHwga2V5RXZlbnQuY3RybEtleSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gRG9uJ3QgYmxvY2sgaW52aXNpYmxlIGNoYXJhY3RlcnM7IHdlIHdhbnQgdG8gYWxsb3cgYmFja3NwYWNlLCBkZWxldGUsIGV0Yy5cbiAgICBpZiAoa2V5RXZlbnQud2hpY2ggPCBLZXlDb2Rlcy5TUEFDRSB8fCBrZXlFdmVudC53aGljaCA+PSBLZXlDb2Rlcy5ERUxFVEUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIEF0IHRoaXMgcG9pbnQsIGlmIHRoZSBjaGFyYWN0ZXIgZG9lc24ndCBtYXRjaCwgd2Ugc2hvdWxkIGJsb2NrIGl0LlxuICAgIHZhciBrZXkgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGtleUV2ZW50LndoaWNoKTtcbiAgICBpZiAoIXdoaXRlbGlzdFJlZ2V4LnRlc3Qoa2V5KSkge1xuICAgICAga2V5RXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgalF1ZXJ5LWFwcHJvcHJpYXRlIGtleXVwIGhhbmRsZXIgZm9yIGEgdGV4dCBmaWVsZC5cbiAqIEdyYWJzIHRoZSBuZXcgdmFsdWUgb2YgdGhlIHRleHQgZmllbGQsIHJ1bnMgaXQgdGhyb3VnaCB0aGUgcHJvdmlkZWRcbiAqIGNvbnZlcnRlciBmdW5jdGlvbiwgc2V0cyB0aGUgcmVzdWx0IG9uIHRoZSBTZW5kV2lkZ2V0J3MgaW50ZXJuYWwgc3RhdGVcbiAqIGFuZCB0cmlnZ2VycyBhIGZpZWxkIHVwZGF0ZSBvbiB0aGUgd2lkZ2V0IHRoYXQgc2tpcHMgdGhlIGZpZWxkIGJlaW5nIGVkaXRlZC5cbiAqXG4gKiBTaW1pbGFyIHRvIG1ha2VCbHVySGFuZGxlciwgYnV0IGRvZXMgbm90IHVwZGF0ZSB0aGUgZmllbGQgY3VycmVudGx5XG4gKiBiZWluZyBlZGl0ZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkTmFtZSAtIG5hbWUgb2YgaW50ZXJuYWwgc3RhdGUgZmllbGQgdGhhdCB0aGUgdGV4dFxuICogICAgICAgIGZpZWxkIHNob3VsZCB1cGRhdGUuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjb252ZXJ0ZXJGdW5jdGlvbiAtIFRha2VzIHRoZSB0ZXh0IGZpZWxkJ3MgdmFsdWUgYW5kXG4gKiAgICAgICAgY29udmVydHMgaXQgdG8gYSBmb3JtYXQgYXBwcm9wcmlhdGUgdG8gdGhlIGludGVybmFsIHN0YXRlIGZpZWxkLlxuICogQHBhcmFtIHtudW1iZXJ9IFtmaWVsZFdpZHRoXSAtIG1heGltdW0gbnVtYmVyIG9mIGJpdHMgZm9yIGZpZWxkLCBwYXNzZWRcbiAqICAgICAgICB0aHJvdWdoIGFzIHNlY29uZCBhcmd1bWVudCB0byBjb252ZXJ0ZXIgZnVuY3Rpb24uXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259IHRoYXQgY2FuIGJlIHBhc3NlZCB0byAkLmtleXVwKClcbiAqL1xuTmV0U2ltUGFja2V0RWRpdG9yLnByb3RvdHlwZS5tYWtlS2V5dXBIYW5kbGVyID0gZnVuY3Rpb24gKGZpZWxkTmFtZSxcbiAgICBjb252ZXJ0ZXJGdW5jdGlvbiwgZmllbGRXaWR0aCkge1xuICByZXR1cm4gZnVuY3Rpb24gKGpxdWVyeUV2ZW50KSB7XG4gICAgdmFyIG5ld1ZhbHVlID0gY29udmVydGVyRnVuY3Rpb24oanF1ZXJ5RXZlbnQudGFyZ2V0LnZhbHVlLCBmaWVsZFdpZHRoKTtcbiAgICBpZiAodHlwZW9mIG5ld1ZhbHVlID09PSAnc3RyaW5nJyB8fCAhaXNOYU4obmV3VmFsdWUpKSB7XG4gICAgICB0aGlzW2ZpZWxkTmFtZV0gPSBuZXdWYWx1ZTtcbiAgICAgIHRoaXMudXBkYXRlRmllbGRzXyhqcXVlcnlFdmVudC50YXJnZXQpO1xuICAgIH1cbiAgfS5iaW5kKHRoaXMpO1xufTtcblxuLyoqXG4gKiBHZW5lcmF0ZSBhIGpRdWVyeS1hcHByb3ByaWF0ZSBibHVyIGhhbmRsZXIgZm9yIGEgdGV4dCBmaWVsZC5cbiAqIEdyYWJzIHRoZSBuZXcgdmFsdWUgb2YgdGhlIHRleHQgZmllbGQsIHJ1bnMgaXQgdGhyb3VnaCB0aGUgcHJvdmlkZWRcbiAqIGNvbnZlcnRlciBmdW5jdGlvbiwgc2V0cyB0aGUgcmVzdWx0IG9uIHRoZSBTZW5kV2lkZ2V0J3MgaW50ZXJuYWwgc3RhdGVcbiAqIGFuZCB0cmlnZ2VycyBhIGZ1bGwgZmllbGQgdXBkYXRlIG9mIHRoZSB3aWRnZXQgKGluY2x1ZGluZyB0aGUgZmllbGQgdGhhdCB3YXNcbiAqIGp1c3QgZWRpdGVkKS5cbiAqXG4gKiBTaW1pbGFyIHRvIG1ha2VLZXl1cEhhbmRsZXIsIGJ1dCBhbHNvIHVwZGF0ZXMgdGhlIGZpZWxkIHRoYXQgd2FzXG4gKiBqdXN0IGVkaXRlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZmllbGROYW1lIC0gbmFtZSBvZiBpbnRlcm5hbCBzdGF0ZSBmaWVsZCB0aGF0IHRoZSB0ZXh0XG4gKiAgICAgICAgZmllbGQgc2hvdWxkIHVwZGF0ZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNvbnZlcnRlckZ1bmN0aW9uIC0gVGFrZXMgdGhlIHRleHQgZmllbGQncyB2YWx1ZSBhbmRcbiAqICAgICAgICBjb252ZXJ0cyBpdCB0byBhIGZvcm1hdCBhcHByb3ByaWF0ZSB0byB0aGUgaW50ZXJuYWwgc3RhdGUgZmllbGQuXG4gKiBAcGFyYW0ge251bWJlcn0gW2ZpZWxkV2lkdGhdIC0gbWF4aW11bSBudW1iZXIgb2YgYml0cyBmb3IgZmllbGQsIHBhc3NlZFxuICogICAgICAgIHRocm91Z2ggYXMgc2Vjb25kIGFyZ3VtZW50IHRvIGNvbnZlcnRlciBmdW5jdGlvbi5cbiAqIEByZXR1cm5zIHtmdW5jdGlvbn0gdGhhdCBjYW4gYmUgcGFzc2VkIHRvICQuYmx1cigpXG4gKi9cbk5ldFNpbVBhY2tldEVkaXRvci5wcm90b3R5cGUubWFrZUJsdXJIYW5kbGVyID0gZnVuY3Rpb24gKGZpZWxkTmFtZSxcbiAgICBjb252ZXJ0ZXJGdW5jdGlvbiwgZmllbGRXaWR0aCkge1xuICByZXR1cm4gZnVuY3Rpb24gKGpxdWVyeUV2ZW50KSB7XG4gICAgdmFyIG5ld1ZhbHVlID0gY29udmVydGVyRnVuY3Rpb24oanF1ZXJ5RXZlbnQudGFyZ2V0LnZhbHVlLCBmaWVsZFdpZHRoKTtcbiAgICBpZiAodHlwZW9mIG5ld1ZhbHVlID09PSAnbnVtYmVyJyAmJiBpc05hTihuZXdWYWx1ZSkpIHtcbiAgICAgIG5ld1ZhbHVlID0gY29udmVydGVyRnVuY3Rpb24oJzAnKTtcbiAgICB9XG4gICAgdGhpc1tmaWVsZE5hbWVdID0gbmV3VmFsdWU7XG4gICAgdGhpcy51cGRhdGVGaWVsZHNfKCk7XG4gIH0uYmluZCh0aGlzKTtcbn07XG5cbi8qKlxuICogU3BlY2lmaWNhdGlvbiBmb3IgYW4gZW5jb2Rpbmcgcm93IGluIHRoZSBlZGl0b3IsIHdoaWNoIGRlc2lnbmF0ZXMgY2hhcmFjdGVyXG4gKiB3aGl0ZWxpc3RzIHRvIGxpbWl0IHR5cGluZyBpbiBjZXJ0YWluIGZpZWxkcywgYW5kIHJ1bGVzIGZvciBpbnRlcHJldGluZyB0aGVcbiAqIGZpZWxkIGZyb20gYmluYXJ5LlxuICogQHR5cGVkZWYge09iamVjdH0gUm93VHlwZVxuICogQHByb3BlcnR5IHtFbmNvZGluZ1R5cGV9IHR5cGVOYW1lXG4gKiBAcHJvcGVydHkge1JlZ0V4cH0gYWRkcmVzc0ZpZWxkQWxsb3dlZENoYXJhY3RlcnMgLSBXaGl0ZWxpc3Qgb2YgY2hhcmFjdGVyc1xuICogICAgICAgICAgIHRoYXQgbWF5IGJlIHR5cGVkIGludG8gYW4gYWRkcmVzcyBmaWVsZC5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IGFkZHJlc3NGaWVsZENvbnZlcnNpb24gLSBIb3cgdG8gY29udmVydCBmcm9tIGJpbmFyeVxuICogICAgICAgICAgIHRvIGFuIGFkZHJlc3Mgc3RyaW5nIGluIHRoaXMgcm93IHdoZW4gdGhlIGJpbmFyeSBpcyB1cGRhdGVkLlxuICogQHByb3BlcnR5IHtSZWdFeHB9IHNob3J0TnVtYmVyQWxsb3dlZENoYXJhY3RlcnMgLSBXaGl0ZWxpc3Qgb2YgY2hhcmFjdGVyc1xuICogICAgICAgICAgIHRoYXQgbWF5IGJlIHR5cGVkIGludG8gYSBoZWFkZXIgZmllbGQuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBzaG9ydE51bWJlckNvbnZlcnNpb24gLSBIb3cgdG8gY29udmVydCBmcm9tIGJpbmFyeVxuICogICAgICAgICAgIHRvIGEgaGVhZGVyIHZhbHVlIGluIHRoaXMgcm93IHdoZW4gdGhlIGJpbmFyeSBpcyB1cGRhdGVkLlxuICogQHByb3BlcnR5IHtSZWdFeHB9IG1lc3NhZ2VBbGxvd2VkQ2hhcmFjdGVycyAtIFdoaXRlbGlzdCBvZiBjaGFyYWN0ZXJzXG4gKiAgICAgICAgICAgdGhhdCBtYXkgYmUgdHlwZWQgaW50byB0aGUgbWVzc2FnZSBmaWVsZC5cbiAqIEBwcm9wZXJ0eSB7ZnVuY3Rpb259IG1lc3NhZ2VDb252ZXJzaW9uIC0gSG93IHRvIGNvbnZlcnQgZnJvbSBiaW5hcnkgdG9cbiAqICAgICAgICAgICB0aGUgbWVzc2FnZSB2YWx1ZSBpbiB0aGlzIHJvdyB3aGVuIHRoZSBiaW5hcnkgaXMgdXBkYXRlZC5cbiAqL1xuXG4vKipcbiAqIENvbnZlcnQgYmluYXJ5IHRvIGFuIGludGVnZXIsIGludGVudGlvbmFsbHkgbGltaXRpbmcgdGhlIGJpbmFyeSB3aWR0aCBzb1xuICogdGhhdCBvdmVyZmxvdyBjYW4gb2NjdXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gYmluYXJ5U3RyaW5nIChpbnRlcnByZXRlZCBhcyB1bnNpZ25lZClcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhXaWR0aCBpbiBiaXRzXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG52YXIgdHJ1bmNhdGVkQmluYXJ5VG9JbnQgPSBmdW5jdGlvbiAoYmluYXJ5U3RyaW5nLCBtYXhXaWR0aCkge1xuICByZXR1cm4gYmluYXJ5VG9JbnQoYmluYXJ5U3RyaW5nLnN1YnN0cigtbWF4V2lkdGgpKTtcbn07XG5cbi8qKlxuICogQ29udmVydCBBQnMgdG8gYW4gaW50ZWdlciwgaW50ZW50aW9uYWxseSBsaW1pdGluZyB0aGUgd2lkdGggc28gdGhhdCBvdmVyZmxvd1xuICogY2FuIG9jY3VyIChhbmFsYWdvdXMgdG8gdHJ1bmNhdGVkQmluYXJ5VG9JbnQpLiAgQSBpcyB0cmVhdGVkIGFzIHplcm8sIEIgYXNcbiAqIG9uZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBhYlN0cmluZ1xuICogQHBhcmFtIHtudW1iZXJ9IG1heFdpZHRoIGluIGJpdHNcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbnZhciB0cnVuY2F0ZWRBQlRvSW50ID0gZnVuY3Rpb24gKGFiU3RyaW5nLCBtYXhXaWR0aCkge1xuICByZXR1cm4gYWJUb0ludChhYlN0cmluZy5zdWJzdHIoLW1heFdpZHRoKSk7XG59O1xuXG4vKipcbiAqIENvbnZlcnQgYSBoZXhhZGVjaW1hbCBzdHJpbmcgdG8gYSBzaW5nbGUgaW50ZWdlciwgaW50ZW50aW9uYWxseSBsaW1pdGluZ1xuICogdGhlIGJpdC13aWR0aCB0byBzbyB0aGF0IG92ZXJmbG93IGNhbiBvY2N1ci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBoZXhTdHJpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXhXaWR0aCBpbiBiaXRzXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG52YXIgdHJ1bmNhdGVkSGV4VG9JbnQgPSBmdW5jdGlvbiAoaGV4U3RyaW5nLCBtYXhXaWR0aCkge1xuICByZXR1cm4gdHJ1bmNhdGVkQmluYXJ5VG9JbnQoaGV4VG9CaW5hcnkoaGV4U3RyaW5nKSwgbWF4V2lkdGgpO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0IGEgZGVjaW1hbCBzdHJpbmcgdG8gYW4gaW50ZWdlciwgaW50ZW50aW9uYWxseSBsaW1pdGluZyB0aGUgYml0LXdpZHRoXG4gKiBzbyB0aGF0IG92ZXJmbG93IGNhbiBvY2N1ci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkZWNpbWFsU3RyaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4V2lkdGggaW4gYml0c1xuICogQHJldHVybnMge251bWJlcn1cbiAqL1xudmFyIHRydW5jYXRlZERlY2ltYWxUb0ludCA9IGZ1bmN0aW9uIChkZWNpbWFsU3RyaW5nLCBtYXhXaWR0aCkge1xuICByZXR1cm4gdHJ1bmNhdGVkQmluYXJ5VG9JbnQoaW50VG9CaW5hcnkocGFyc2VJbnQoZGVjaW1hbFN0cmluZywgMTApKSwgbWF4V2lkdGgpO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0IGFuIGFkZHJlc3Mgc3RyaW5nIHRvIGJpbmFyeSBhbmQgYmFjayB1c2luZyB0aGUgbGV2ZWwncyBhZGRyZXNzXG4gKiBmb3JtYXQsIHdoaWNoIGNvZXJjZXMgaXQgdG8gdGhlIGV4YWN0IGZvcm1hdCB0aGUgbGV2ZWwgd2FudHMuXG4gKiBAcGFyYW0ge3N0cmluZ30gb3JpZ2luYWxTdHJpbmdcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbnZhciBjbGVhbkFkZHJlc3NTdHJpbmcgPSBmdW5jdGlvbiAob3JpZ2luYWxTdHJpbmcpIHtcbiAgdmFyIGxldmVsID0gTmV0U2ltR2xvYmFscy5nZXRMZXZlbENvbmZpZygpO1xuICB2YXIgYmluYXJ5Rm9ybSA9IERhdGFDb252ZXJ0ZXJzLmFkZHJlc3NTdHJpbmdUb0JpbmFyeShcbiAgICAgIG9yaWdpbmFsU3RyaW5nLCBsZXZlbC5hZGRyZXNzRm9ybWF0KTtcbiAgcmV0dXJuIERhdGFDb252ZXJ0ZXJzLmJpbmFyeVRvQWRkcmVzc1N0cmluZyhcbiAgICAgIGJpbmFyeUZvcm0sIGxldmVsLmFkZHJlc3NGb3JtYXQpO1xufTtcblxuLyoqXG4gKiBIZWxwZXIgbWV0aG9kIHRvIGZpbHRlciB0aGlzLlJPV19UWVBFUyBieSBlbmFibGVkIGVuY29kaW5nc1xuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHtSb3dUeXBlW119XG4gKi9cbk5ldFNpbVBhY2tldEVkaXRvci5wcm90b3R5cGUuZ2V0RW5hYmxlZFJvd1R5cGVzXyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuUk9XX1RZUEVTLmZpbHRlcihmdW5jdGlvbiAocm93VHlwZSkge1xuICAgIHJldHVybiB0aGlzLmlzRW5jb2RpbmdFbmFibGVkXyhyb3dUeXBlLnR5cGVOYW1lKTtcbiAgfSwgdGhpcyk7XG59O1xuXG4vKipcbiAqIEdldCByZWxldmFudCBlbGVtZW50cyBmcm9tIHRoZSBwYWdlIGFuZCBiaW5kIHRoZW0gdG8gbG9jYWwgdmFyaWFibGVzLlxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltUGFja2V0RWRpdG9yLnByb3RvdHlwZS5iaW5kRWxlbWVudHNfID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbGV2ZWwgPSBOZXRTaW1HbG9iYWxzLmdldExldmVsQ29uZmlnKCk7XG4gIHZhciBlbmNvZGVyID0gbmV3IFBhY2tldC5FbmNvZGVyKGxldmVsLmFkZHJlc3NGb3JtYXQsXG4gICAgICBsZXZlbC5wYWNrZXRDb3VudEJpdFdpZHRoLCB0aGlzLnBhY2tldFNwZWNfKTtcbiAgdmFyIHJvb3REaXYgPSB0aGlzLnJvb3REaXZfO1xuXG4gIHRoaXMuZ2V0RW5hYmxlZFJvd1R5cGVzXygpLmZvckVhY2goZnVuY3Rpb24gKHJvd1R5cGUpIHtcbiAgICB2YXIgdHIgPSByb290RGl2LmZpbmQoJ3RyLicgKyByb3dUeXBlLnR5cGVOYW1lKTtcbiAgICB0aGlzLnVpX1tyb3dUeXBlLnR5cGVOYW1lXSA9IHt9O1xuICAgIHZhciByb3dGaWVsZHMgPSB0aGlzLnVpX1tyb3dUeXBlLnR5cGVOYW1lXTtcblxuICAgIC8vIFdlIGF0dGFjaCBmb2N1cyAoc29tZXRpbWVzKSB0byBjbGVhciB0aGUgZmllbGQgd2F0ZXJtYXJrLCBpZiBwcmVzZW50XG4gICAgLy8gV2UgYXR0YWNoIGtleXByZXNzIHRvIGJsb2NrIGNlcnRhaW4gY2hhcmFjdGVyc1xuICAgIC8vIFdlIGF0dGFjaCBrZXl1cCB0byBsaXZlLXVwZGF0ZSB0aGUgd2lkZ2V0IGFzIHRoZSB1c2VyIHR5cGVzXG4gICAgLy8gV2UgYXR0YWNoIGJsdXIgdG8gcmVmb3JtYXQgdGhlIGVkaXRlZCBmaWVsZCB3aGVuIHRoZSB1c2VyIGxlYXZlcyBpdCxcbiAgICAvLyAgICBhbmQgdG8gY2F0Y2ggbm9uLWtleXVwIGNhc2VzIGxpa2UgY29weS9wYXN0ZS5cblxuICAgIHRoaXMucGFja2V0U3BlY18uZm9yRWFjaChmdW5jdGlvbiAoZmllbGRTcGVjKSB7XG4gICAgICAvKiogQHR5cGUge1BhY2tldC5IZWFkZXJUeXBlfSAqL1xuICAgICAgdmFyIGZpZWxkTmFtZSA9IGZpZWxkU3BlYztcbiAgICAgIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xuICAgICAgdmFyIGZpZWxkV2lkdGggPSBlbmNvZGVyLmdldEZpZWxkQml0V2lkdGgoZmllbGROYW1lKTtcblxuICAgICAgdmFyIGFsbG93ZWRDaGFyYWN0ZXJGdW5jdGlvbiwgY29udmVyc2lvbkZ1bmN0aW9uO1xuICAgICAgaWYgKFBhY2tldC5pc0FkZHJlc3NGaWVsZChmaWVsZE5hbWUpKSB7XG4gICAgICAgIGFsbG93ZWRDaGFyYWN0ZXJGdW5jdGlvbiA9IHJvd1R5cGUuYWRkcmVzc0ZpZWxkQWxsb3dlZENoYXJhY3RlcnM7XG4gICAgICAgIGNvbnZlcnNpb25GdW5jdGlvbiA9IHJvd1R5cGUuYWRkcmVzc0ZpZWxkQ29udmVyc2lvbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFsbG93ZWRDaGFyYWN0ZXJGdW5jdGlvbiA9IHJvd1R5cGUuc2hvcnROdW1iZXJBbGxvd2VkQ2hhcmFjdGVycztcbiAgICAgICAgY29udmVyc2lvbkZ1bmN0aW9uID0gcm93VHlwZS5zaG9ydE51bWJlckNvbnZlcnNpb247XG4gICAgICB9XG5cbiAgICAgIHJvd0ZpZWxkc1tmaWVsZE5hbWVdID0gdHIuZmluZCgnaW5wdXQuJyArIGZpZWxkTmFtZSk7XG4gICAgICByb3dGaWVsZHNbZmllbGROYW1lXS5rZXlwcmVzcyhtYWtlS2V5cHJlc3NIYW5kbGVyV2l0aFdoaXRlbGlzdChcbiAgICAgICAgICBhbGxvd2VkQ2hhcmFjdGVyRnVuY3Rpb24pKTtcbiAgICAgIHJvd0ZpZWxkc1tmaWVsZE5hbWVdLmtleXVwKHRoaXMubWFrZUtleXVwSGFuZGxlcihmaWVsZE5hbWUsXG4gICAgICAgICAgY29udmVyc2lvbkZ1bmN0aW9uLCBmaWVsZFdpZHRoKSk7XG4gICAgICByb3dGaWVsZHNbZmllbGROYW1lXS5ibHVyKHRoaXMubWFrZUJsdXJIYW5kbGVyKGZpZWxkTmFtZSxcbiAgICAgICAgICBjb252ZXJzaW9uRnVuY3Rpb24sIGZpZWxkV2lkdGgpKTtcbiAgICB9LCB0aGlzKTtcblxuICAgIHJvd0ZpZWxkcy5tZXNzYWdlID0gdHIuZmluZCgndGV4dGFyZWEubWVzc2FnZScpO1xuICAgIHJvd0ZpZWxkcy5tZXNzYWdlLmZvY3VzKHJlbW92ZVdhdGVybWFyayk7XG4gICAgcm93RmllbGRzLm1lc3NhZ2Uua2V5cHJlc3MoXG4gICAgICAgIG1ha2VLZXlwcmVzc0hhbmRsZXJXaXRoV2hpdGVsaXN0KHJvd1R5cGUubWVzc2FnZUFsbG93ZWRDaGFyYWN0ZXJzKSk7XG4gICAgcm93RmllbGRzLm1lc3NhZ2Uua2V5ZG93bihmdW5jdGlvbihqcXVlcnlFdmVudCl7XG4gICAgICBpZiAoaXNVbm1vZGlmaWVkRW50ZXJQcmVzcyhqcXVlcnlFdmVudCkpIHtcbiAgICAgICAgdGhpcy5lbnRlcktleVByZXNzZWRDYWxsYmFja18oanF1ZXJ5RXZlbnQpO1xuICAgICAgfVxuICAgIH0uYmluZCh0aGlzKSk7XG4gICAgcm93RmllbGRzLm1lc3NhZ2Uua2V5dXAoXG4gICAgICAgIHRoaXMubWFrZUtleXVwSGFuZGxlcignbWVzc2FnZScsIHJvd1R5cGUubWVzc2FnZUNvbnZlcnNpb24pKTtcbiAgICByb3dGaWVsZHMubWVzc2FnZS5ibHVyKFxuICAgICAgICB0aGlzLm1ha2VCbHVySGFuZGxlcignbWVzc2FnZScsIHJvd1R5cGUubWVzc2FnZUNvbnZlcnNpb24pKTtcbiAgfSwgdGhpcyk7XG5cbiAgdGhpcy5yZW1vdmVQYWNrZXRCdXR0b25fID0gcm9vdERpdi5maW5kKCcucmVtb3ZlLXBhY2tldC1idXR0b24nKTtcbiAgdGhpcy5yZW1vdmVQYWNrZXRCdXR0b25fLmNsaWNrKHRoaXMub25SZW1vdmVQYWNrZXRCdXR0b25DbGlja18uYmluZCh0aGlzKSk7XG4gIHRoaXMuYml0Q291bnRlcl8gPSByb290RGl2LmZpbmQoJy5iaXQtY291bnRlcicpO1xufTtcblxuLyoqXG4gKiBTcGVjaWFsIHVwZGF0ZSBtZXRob2QgY2FsbGVkIGR1cmluZyBzZW5kIGFuaW1hdGlvbiB0aGF0IGNoYW5nZXMgdGhlIGVkaXRvclxuICogZGlzcGxheSB0byBzaG93IGVhY2ggZmllbGQgbGVmdC10cnVuY2F0ZWQgYXQgYW4gYXBwcm9wcmlhdGUgYW1vdW50IGZvciB0aGVcbiAqIHNpbXVsYXRlZCBzZW5kIHByb2dyZXNzLlxuICpcbiAqIFRoaXMgd29ya3MgZGlmZmVyZW50bHkgZm9yIGRpZmZlcmVudCBmaWVsZHM6XG4gKiAgLSBCaW5hcnkgYW5kIEEvQiBmaWVsZHMgc2VuZCBhIHNpbmdsZSBiaXQgYXQgYSB0aW1lLlxuICogIC0gSGV4IHNlbmRzIGEgc2luZ2xlIGhleCBkaWdpdCBhdCBhIHRpbWUsIGJ1dCBhdCB0aGUgY29ycmVjdCBzbG93ZXIgcmF0ZS5cbiAqICAtIERlY2ltYWwgYW5kIEFTQ0lJIHNlbmQgb25lIGNodW5rIGF0IGEgdGltZSwgd2hpY2ggZGVwZW5kcyBvbiB0aGUgY3VycmVudFxuICogICAgY2h1bmsgc2l6ZSwgYW5kIGlzIGFkanVzdGVkIHRvIHRoZSBjb3JyZWN0IHNsb3dlciByYXRlIGFzIHdlbGwuICBGb3JcbiAqICAgIEFTQ0lJIHRoaXMgbWFwcyB0byBvbmUgY2hhcmFjdGVyIGF0IGEgdGltZS4gIEZvciBkZWNpbWFsLCBpdCdzIG9uZVxuICogICAgd2hpdGVzcGFjZS1kZWxpbWl0ZWQgbnVtYmVyLlxuICpcbiAqIFRoaXMgYXZvaWRzIHRoZSBqdW1ibGVkIGVmZmVjdCBvZiByZWludGVycHJldGluZyBub25iaW5hcnkgZmllbGRzIHVzaW5nXG4gKiBtaXNhbGlnbmVkIGJpbmFyeSwgYW5kIGNvbW11bmljYXRlcyBpbiBhIHZpc3VhbCB3YXkgdGhhdCBpdCB0YWtlcyBsb25nZXIgdG9cbiAqIHNlbmQgYSBzaW5nbGUgY2hhcmFjdGVyIHRoYW4gaXQgZG9lcyB0byBzZW5kIGEgc2luZ2xlIGJpdC5cbiAqXG4gKiBUaGlzIG1ldGhvZCBpcyBhbHNvIGRlc2lnbmVkIHRvIHNlbmQgdGhlIHBhY2tldCBoZWFkZXIgZmllbGRzIGluIHNlcXVlbmNlXG4gKiBiZWZvcmUgc2VuZGluZyB0aGUgcGFja2V0IGJvZHkuICBCb2R5IGJpbmFyeSBpcyBuZXZlciBzZWVuIGluIHRoZSBoZWFkZXJcbiAqIGZpZWxkcywgZWFjaCBmaWVsZCBpcyB0cmVhdGVkIGFzIGFuIGluZGVwZW5kZW50IHNwYWNlLlxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltUGFja2V0RWRpdG9yLnByb3RvdHlwZS51cGRhdGVGb3JBbmltYXRpb25fID0gZnVuY3Rpb24gKCkge1xuICB2YXIgY2h1bmtTaXplID0gdGhpcy5jdXJyZW50Q2h1bmtTaXplXztcbiAgdmFyIGxpdmVGaWVsZHMgPSBbXTtcblxuICAvLyBUaGVyZSBtYXkgYmUgcG90ZW50aWFsIGZvciBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gaGVyZSwgYnV0IGl0J3Mgbm90XG4gIC8vIHBhcnRpY3VsYXJseSBoaWdoIG9uIG91ciBwZXJmIGxpc3QgcmlnaHQgbm93LlxuXG4gIHZhciBsZXZlbCA9IE5ldFNpbUdsb2JhbHMuZ2V0TGV2ZWxDb25maWcoKTtcbiAgdmFyIGVuY29kZXIgPSBuZXcgUGFja2V0LkVuY29kZXIobGV2ZWwuYWRkcmVzc0Zvcm1hdCxcbiAgICAgIGxldmVsLnBhY2tldENvdW50Qml0V2lkdGgsIHRoaXMucGFja2V0U3BlY18pO1xuXG4gIHZhciBmaWVsZFN0YXJ0ID0gMDtcblxuICB0aGlzLnBhY2tldFNwZWNfLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkU3BlYykge1xuICAgIC8qKiBAdHlwZSB7UGFja2V0LkhlYWRlclR5cGV9ICovXG4gICAgdmFyIGZpZWxkTmFtZSA9IGZpZWxkU3BlYztcbiAgICAvKiogQHR5cGUge251bWJlcn0gKi9cbiAgICB2YXIgZmllbGRXaWR0aCA9IGVuY29kZXIuZ2V0RmllbGRCaXRXaWR0aChmaWVsZE5hbWUpO1xuXG4gICAgaWYgKHRoaXMuc2VuZEFuaW1hdGlvbkluZGV4XyA8IGZpZWxkU3RhcnQgKyBmaWVsZFdpZHRoKSB7XG4gICAgICAvLyBFaXRoZXIgd2UgaGF2ZW4ndCByZWFjaGVkIHRoaXMgZmllbGQgeWV0IG9yIHdlJ3JlIGN1cnJlbnRseSBhbmltYXRpbmdcbiAgICAgIC8vIHRocm91Z2ggaXQ7IGRvbid0IGRvIGFueXRoaW5nIHRvIHRoZSBtb3JlIGNvbXBsZXggZmllbGRzLCBhbmQgYW5pbWF0ZVxuICAgICAgLy8gdGhlIGJpbmFyeSBhcHByb3ByaWF0ZWx5LlxuICAgICAgdmFyIGZpZWxkQmluYXJ5ID0gdGhpcy5vcmlnaW5hbEJpbmFyeV8uc3Vic3RyKGZpZWxkU3RhcnQsIGZpZWxkV2lkdGgpO1xuICAgICAgdmFyIHRydW5jYXRlZEJpdHMgPSBNYXRoLm1heCgwLCB0aGlzLnNlbmRBbmltYXRpb25JbmRleF8gLSBmaWVsZFN0YXJ0KTtcblxuICAgICAgaWYgKHRoaXMuaXNFbmNvZGluZ0VuYWJsZWRfKEVuY29kaW5nVHlwZS5BX0FORF9CKSkge1xuICAgICAgICBsaXZlRmllbGRzLnB1c2goe1xuICAgICAgICAgIGlucHV0RWxlbWVudDogdGhpcy51aV9bRW5jb2RpbmdUeXBlLkFfQU5EX0JdW2ZpZWxkTmFtZV0sXG4gICAgICAgICAgbmV3VmFsdWU6IGJpbmFyeVRvQUIoZmllbGRCaW5hcnkpLnN1YnN0cih0cnVuY2F0ZWRCaXRzKVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNFbmNvZGluZ0VuYWJsZWRfKEVuY29kaW5nVHlwZS5CSU5BUlkpKSB7XG4gICAgICAgIGxpdmVGaWVsZHMucHVzaCh7XG4gICAgICAgICAgaW5wdXRFbGVtZW50OiB0aGlzLnVpX1tFbmNvZGluZ1R5cGUuQklOQVJZXVtmaWVsZE5hbWVdLFxuICAgICAgICAgIG5ld1ZhbHVlOiBmaWVsZEJpbmFyeS5zdWJzdHIodHJ1bmNhdGVkQml0cylcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmlzRW5jb2RpbmdFbmFibGVkXyhFbmNvZGluZ1R5cGUuSEVYQURFQ0lNQUwpKSB7XG4gICAgICAgIHZhciB0cnVuY2F0ZWRIZXhEaWdpdHMgPSBNYXRoLmZsb29yKHRydW5jYXRlZEJpdHMgLyA0KTtcbiAgICAgICAgbGl2ZUZpZWxkcy5wdXNoKHtcbiAgICAgICAgICBpbnB1dEVsZW1lbnQ6IHRoaXMudWlfW0VuY29kaW5nVHlwZS5IRVhBREVDSU1BTF1bZmllbGROYW1lXSxcbiAgICAgICAgICBuZXdWYWx1ZTogYmluYXJ5VG9IZXgoZmllbGRCaW5hcnkpLnN1YnN0cih0cnVuY2F0ZWRIZXhEaWdpdHMpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBXZSdyZSBwYXN0IHRoaXMgZmllbGQgLSBpdCBzaG91bGQgYmUgYmxhbmtcbiAgICAgIGlmICh0aGlzLmlzRW5jb2RpbmdFbmFibGVkXyhFbmNvZGluZ1R5cGUuQV9BTkRfQikpIHtcbiAgICAgICAgbGl2ZUZpZWxkcy5wdXNoKHtcbiAgICAgICAgICBpbnB1dEVsZW1lbnQ6IHRoaXMudWlfW0VuY29kaW5nVHlwZS5BX0FORF9CXVtmaWVsZE5hbWVdLFxuICAgICAgICAgIG5ld1ZhbHVlOiAnJ1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNFbmNvZGluZ0VuYWJsZWRfKEVuY29kaW5nVHlwZS5CSU5BUlkpKSB7XG4gICAgICAgIGxpdmVGaWVsZHMucHVzaCh7XG4gICAgICAgICAgaW5wdXRFbGVtZW50OiB0aGlzLnVpX1tFbmNvZGluZ1R5cGUuQklOQVJZXVtmaWVsZE5hbWVdLFxuICAgICAgICAgIG5ld1ZhbHVlOiAnJ1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNFbmNvZGluZ0VuYWJsZWRfKEVuY29kaW5nVHlwZS5IRVhBREVDSU1BTCkpIHtcbiAgICAgICAgbGl2ZUZpZWxkcy5wdXNoKHtcbiAgICAgICAgICBpbnB1dEVsZW1lbnQ6IHRoaXMudWlfW0VuY29kaW5nVHlwZS5IRVhBREVDSU1BTF1bZmllbGROYW1lXSxcbiAgICAgICAgICBuZXdWYWx1ZTogJydcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmlzRW5jb2RpbmdFbmFibGVkXyhFbmNvZGluZ1R5cGUuREVDSU1BTCkpIHtcbiAgICAgICAgbGl2ZUZpZWxkcy5wdXNoKHtcbiAgICAgICAgICBpbnB1dEVsZW1lbnQ6IHRoaXMudWlfW0VuY29kaW5nVHlwZS5ERUNJTUFMXVtmaWVsZE5hbWVdLFxuICAgICAgICAgIG5ld1ZhbHVlOiAnJ1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNFbmNvZGluZ0VuYWJsZWRfKEVuY29kaW5nVHlwZS5BU0NJSSkpIHtcbiAgICAgICAgbGl2ZUZpZWxkcy5wdXNoKHtcbiAgICAgICAgICBpbnB1dEVsZW1lbnQ6IHRoaXMudWlfW0VuY29kaW5nVHlwZS5BU0NJSV1bZmllbGROYW1lXSxcbiAgICAgICAgICBuZXdWYWx1ZTogJydcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWR2YW5jZSB0byB0aGUgbmV4dCBmaWVsZFxuICAgIGZpZWxkU3RhcnQgKz0gZmllbGRXaWR0aDtcbiAgfSwgdGhpcyk7XG5cbiAgdmFyIGJvZHlCaW5hcnkgPSB0aGlzLm9yaWdpbmFsQmluYXJ5Xy5zdWJzdHIoZmllbGRTdGFydCk7XG4gIHZhciB0cnVuY2F0ZWRCaXRzID0gTWF0aC5tYXgoMCwgdGhpcy5zZW5kQW5pbWF0aW9uSW5kZXhfIC0gZmllbGRTdGFydCk7XG4gIHZhciB0cnVuY2F0ZWRDaHVua3MgPSBNYXRoLmZsb29yKHRydW5jYXRlZEJpdHMgLyBjaHVua1NpemUpO1xuICB2YXIgcGFydGlhbEJpbmFyeUF0Q2h1bmtTaXplID0gYm9keUJpbmFyeS5zdWJzdHIodHJ1bmNhdGVkQ2h1bmtzICogY2h1bmtTaXplKTtcblxuICBpZiAodGhpcy5pc0VuY29kaW5nRW5hYmxlZF8oRW5jb2RpbmdUeXBlLkFfQU5EX0IpKSB7XG4gICAgbGl2ZUZpZWxkcy5wdXNoKHtcbiAgICAgIGlucHV0RWxlbWVudDogdGhpcy51aV9bRW5jb2RpbmdUeXBlLkFfQU5EX0JdLm1lc3NhZ2UsXG4gICAgICBuZXdWYWx1ZTogZm9ybWF0QUIoYmluYXJ5VG9BQihib2R5QmluYXJ5KS5zdWJzdHIodHJ1bmNhdGVkQml0cyksXG4gICAgICAgICAgY2h1bmtTaXplLCAtdHJ1bmNhdGVkQml0cyksXG4gICAgICB3YXRlcm1hcms6IG5ldHNpbU1zZy5hX2FuZF9iKClcbiAgICB9KTtcbiAgfVxuXG4gIGlmICh0aGlzLmlzRW5jb2RpbmdFbmFibGVkXyhFbmNvZGluZ1R5cGUuQklOQVJZKSkge1xuICAgIGxpdmVGaWVsZHMucHVzaCh7XG4gICAgICBpbnB1dEVsZW1lbnQ6IHRoaXMudWlfW0VuY29kaW5nVHlwZS5CSU5BUlldLm1lc3NhZ2UsXG4gICAgICBuZXdWYWx1ZTogZm9ybWF0QmluYXJ5KGJvZHlCaW5hcnkuc3Vic3RyKHRydW5jYXRlZEJpdHMpLCBjaHVua1NpemUsXG4gICAgICAgICAgLXRydW5jYXRlZEJpdHMpLFxuICAgICAgd2F0ZXJtYXJrOiBuZXRzaW1Nc2cuYmluYXJ5KClcbiAgICB9KTtcbiAgfVxuXG4gIGlmICh0aGlzLmlzRW5jb2RpbmdFbmFibGVkXyhFbmNvZGluZ1R5cGUuSEVYQURFQ0lNQUwpKSB7XG4gICAgdmFyIHRydW5jYXRlZEhleERpZ2l0cyA9IE1hdGguZmxvb3IodHJ1bmNhdGVkQml0cyAvIDQpO1xuICAgIGxpdmVGaWVsZHMucHVzaCh7XG4gICAgICBpbnB1dEVsZW1lbnQ6IHRoaXMudWlfW0VuY29kaW5nVHlwZS5IRVhBREVDSU1BTF0ubWVzc2FnZSxcbiAgICAgIG5ld1ZhbHVlOiBmb3JtYXRIZXgoYmluYXJ5VG9IZXgoYm9keUJpbmFyeSkuc3Vic3RyKHRydW5jYXRlZEhleERpZ2l0cyksXG4gICAgICAgICAgY2h1bmtTaXplLCAtdHJ1bmNhdGVkSGV4RGlnaXRzKSxcbiAgICAgIHdhdGVybWFyazogbmV0c2ltTXNnLmhleGFkZWNpbWFsKClcbiAgICB9KTtcbiAgfVxuXG4gIGlmICh0aGlzLmlzRW5jb2RpbmdFbmFibGVkXyhFbmNvZGluZ1R5cGUuREVDSU1BTCkpIHtcbiAgICBsaXZlRmllbGRzLnB1c2goe1xuICAgICAgaW5wdXRFbGVtZW50OiB0aGlzLnVpX1tFbmNvZGluZ1R5cGUuREVDSU1BTF0ubWVzc2FnZSxcbiAgICAgIG5ld1ZhbHVlOiBhbGlnbkRlY2ltYWwoYmluYXJ5VG9EZWNpbWFsKHBhcnRpYWxCaW5hcnlBdENodW5rU2l6ZSwgY2h1bmtTaXplKSksXG4gICAgICB3YXRlcm1hcms6IG5ldHNpbU1zZy5kZWNpbWFsKClcbiAgICB9KTtcbiAgfVxuXG4gIGlmICh0aGlzLmlzRW5jb2RpbmdFbmFibGVkXyhFbmNvZGluZ1R5cGUuQVNDSUkpKSB7XG4gICAgbGl2ZUZpZWxkcy5wdXNoKHtcbiAgICAgIGlucHV0RWxlbWVudDogdGhpcy51aV9bRW5jb2RpbmdUeXBlLkFTQ0lJXS5tZXNzYWdlLFxuICAgICAgbmV3VmFsdWU6IGJpbmFyeVRvQXNjaWkocGFydGlhbEJpbmFyeUF0Q2h1bmtTaXplLCBjaHVua1NpemUpLFxuICAgICAgd2F0ZXJtYXJrOiBuZXRzaW1Nc2cuYXNjaWkoKVxuICAgIH0pO1xuICB9XG5cbiAgbGl2ZUZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgIGlmIChmaWVsZC53YXRlcm1hcmsgJiYgZmllbGQubmV3VmFsdWUgPT09ICcnKSB7XG4gICAgICBmaWVsZC5pbnB1dEVsZW1lbnQudmFsKGZpZWxkLndhdGVybWFyayk7XG4gICAgICBmaWVsZC5pbnB1dEVsZW1lbnQuYWRkQ2xhc3MoJ3dhdGVybWFyaycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaWVsZC5pbnB1dEVsZW1lbnQudmFsKGZpZWxkLm5ld1ZhbHVlKTtcbiAgICAgIGZpZWxkLmlucHV0RWxlbWVudC5yZW1vdmVDbGFzcygnd2F0ZXJtYXJrJyk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogVXBkYXRlIHNlbmQgd2lkZ2V0IGRpc3BsYXlcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFtza2lwRWxlbWVudF0gLSBBIGZpZWxkIHRvIHNraXAgd2hpbGUgdXBkYXRpbmcsXG4gKiAgICAgICAgYmVjYXVzZSB3ZSBkb24ndCB3YW50IHRvIHRyYW5zZm9ybSBjb250ZW50IG91dCBmcm9tIHVuZGVyIHRoZVxuICogICAgICAgIHVzZXIncyBjdXJzb3IuXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1QYWNrZXRFZGl0b3IucHJvdG90eXBlLnVwZGF0ZUZpZWxkc18gPSBmdW5jdGlvbiAoc2tpcEVsZW1lbnQpIHtcbiAgdmFyIGNodW5rU2l6ZSA9IHRoaXMuY3VycmVudENodW5rU2l6ZV87XG4gIHZhciBsaXZlRmllbGRzID0gW107XG5cbiAgdmFyIGxldmVsID0gTmV0U2ltR2xvYmFscy5nZXRMZXZlbENvbmZpZygpO1xuICB2YXIgZW5jb2RlciA9IG5ldyBQYWNrZXQuRW5jb2RlcihsZXZlbC5hZGRyZXNzRm9ybWF0LFxuICAgICAgbGV2ZWwucGFja2V0Q291bnRCaXRXaWR0aCwgdGhpcy5wYWNrZXRTcGVjXyk7XG5cbiAgdGhpcy5wYWNrZXRTcGVjXy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZFNwZWMpIHtcbiAgICAvKiogQHR5cGUge1BhY2tldC5IZWFkZXJUeXBlfSAqL1xuICAgIHZhciBmaWVsZE5hbWUgPSBmaWVsZFNwZWM7XG4gICAgLyoqIEB0eXBlIHtudW1iZXJ9ICovXG4gICAgdmFyIGZpZWxkV2lkdGggPSBlbmNvZGVyLmdldEZpZWxkQml0V2lkdGgoZmllbGROYW1lKTtcblxuICAgIHZhciBhYkNvbnZlcnRlciwgYmluYXJ5Q29udmVydGVyLCBoZXhDb252ZXJ0ZXIsIGRlY2ltYWxDb252ZXJ0ZXIsIGFzY2lpQ29udmVydGVyO1xuICAgIGlmIChQYWNrZXQuaXNBZGRyZXNzRmllbGQoZmllbGROYW1lKSkge1xuICAgICAgYWJDb252ZXJ0ZXIgPSBmdW5jdGlvbiAoYWRkcmVzc1N0cmluZykge1xuICAgICAgICByZXR1cm4gRGF0YUNvbnZlcnRlcnMuYmluYXJ5VG9BQihcbiAgICAgICAgICAgIERhdGFDb252ZXJ0ZXJzLmFkZHJlc3NTdHJpbmdUb0JpbmFyeShcbiAgICAgICAgICAgICAgICBhZGRyZXNzU3RyaW5nLCBsZXZlbC5hZGRyZXNzRm9ybWF0KSk7XG4gICAgICB9O1xuICAgICAgYmluYXJ5Q29udmVydGVyID0gZnVuY3Rpb24gKGFkZHJlc3NTdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIERhdGFDb252ZXJ0ZXJzLmZvcm1hdEJpbmFyeUZvckFkZHJlc3NIZWFkZXIoXG4gICAgICAgICAgICBEYXRhQ29udmVydGVycy5hZGRyZXNzU3RyaW5nVG9CaW5hcnkoXG4gICAgICAgICAgICAgICAgYWRkcmVzc1N0cmluZyxcbiAgICAgICAgICAgICAgICBsZXZlbC5hZGRyZXNzRm9ybWF0KSxcbiAgICAgICAgICAgIGxldmVsLmFkZHJlc3NGb3JtYXQpO1xuICAgICAgfTtcbiAgICAgIGhleENvbnZlcnRlciA9IGZ1bmN0aW9uIChhZGRyZXNzU3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBEYXRhQ29udmVydGVycy5iaW5hcnlUb0hleChcbiAgICAgICAgICAgIERhdGFDb252ZXJ0ZXJzLmFkZHJlc3NTdHJpbmdUb0JpbmFyeShcbiAgICAgICAgICAgICAgICBhZGRyZXNzU3RyaW5nLCBsZXZlbC5hZGRyZXNzRm9ybWF0KSk7XG4gICAgICB9O1xuICAgICAgZGVjaW1hbENvbnZlcnRlciA9IGNsZWFuQWRkcmVzc1N0cmluZztcbiAgICAgIGFzY2lpQ29udmVydGVyID0gY2xlYW5BZGRyZXNzU3RyaW5nO1xuICAgIH0gZWxzZSB7XG4gICAgICBhYkNvbnZlcnRlciA9IGludFRvQUI7XG4gICAgICBiaW5hcnlDb252ZXJ0ZXIgPSBpbnRUb0JpbmFyeTtcbiAgICAgIGhleENvbnZlcnRlciA9IGludFRvSGV4O1xuICAgICAgZGVjaW1hbENvbnZlcnRlciA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHZhbC50b1N0cmluZygxMCk7XG4gICAgICB9O1xuICAgICAgYXNjaWlDb252ZXJ0ZXIgPSBkZWNpbWFsQ29udmVydGVyO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzRW5jb2RpbmdFbmFibGVkXyhFbmNvZGluZ1R5cGUuQV9BTkRfQikpIHtcbiAgICAgIGxpdmVGaWVsZHMucHVzaCh7XG4gICAgICAgIGlucHV0RWxlbWVudDogdGhpcy51aV9bRW5jb2RpbmdUeXBlLkFfQU5EX0JdW2ZpZWxkTmFtZV0sXG4gICAgICAgIG5ld1ZhbHVlOiBhYkNvbnZlcnRlcih0aGlzW2ZpZWxkTmFtZV0sIGZpZWxkV2lkdGgpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0VuY29kaW5nRW5hYmxlZF8oRW5jb2RpbmdUeXBlLkJJTkFSWSkpIHtcbiAgICAgIGxpdmVGaWVsZHMucHVzaCh7XG4gICAgICAgIGlucHV0RWxlbWVudDogdGhpcy51aV9bRW5jb2RpbmdUeXBlLkJJTkFSWV1bZmllbGROYW1lXSxcbiAgICAgICAgbmV3VmFsdWU6IGJpbmFyeUNvbnZlcnRlcih0aGlzW2ZpZWxkTmFtZV0sIGZpZWxkV2lkdGgpXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0VuY29kaW5nRW5hYmxlZF8oRW5jb2RpbmdUeXBlLkhFWEFERUNJTUFMKSkge1xuICAgICAgbGl2ZUZpZWxkcy5wdXNoKHtcbiAgICAgICAgaW5wdXRFbGVtZW50OiB0aGlzLnVpX1tFbmNvZGluZ1R5cGUuSEVYQURFQ0lNQUxdW2ZpZWxkTmFtZV0sXG4gICAgICAgIG5ld1ZhbHVlOiBoZXhDb252ZXJ0ZXIodGhpc1tmaWVsZE5hbWVdLCBNYXRoLmNlaWwoZmllbGRXaWR0aCAvIDQpKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNFbmNvZGluZ0VuYWJsZWRfKEVuY29kaW5nVHlwZS5ERUNJTUFMKSkge1xuICAgICAgbGl2ZUZpZWxkcy5wdXNoKHtcbiAgICAgICAgaW5wdXRFbGVtZW50OiB0aGlzLnVpX1tFbmNvZGluZ1R5cGUuREVDSU1BTF1bZmllbGROYW1lXSxcbiAgICAgICAgbmV3VmFsdWU6IGRlY2ltYWxDb252ZXJ0ZXIodGhpc1tmaWVsZE5hbWVdLCBmaWVsZFdpZHRoKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNFbmNvZGluZ0VuYWJsZWRfKEVuY29kaW5nVHlwZS5BU0NJSSkpIHtcbiAgICAgIGxpdmVGaWVsZHMucHVzaCh7XG4gICAgICAgIGlucHV0RWxlbWVudDogdGhpcy51aV9bRW5jb2RpbmdUeXBlLkFTQ0lJXVtmaWVsZE5hbWVdLFxuICAgICAgICBuZXdWYWx1ZTogYXNjaWlDb252ZXJ0ZXIodGhpc1tmaWVsZE5hbWVdLCBmaWVsZFdpZHRoKVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB0aGlzKTtcblxuICBpZiAodGhpcy5pc0VuY29kaW5nRW5hYmxlZF8oRW5jb2RpbmdUeXBlLkFfQU5EX0IpKSB7XG4gICAgbGl2ZUZpZWxkcy5wdXNoKHtcbiAgICAgIGlucHV0RWxlbWVudDogdGhpcy51aV9bRW5jb2RpbmdUeXBlLkFfQU5EX0JdLm1lc3NhZ2UsXG4gICAgICBuZXdWYWx1ZTogZm9ybWF0QUIoYmluYXJ5VG9BQih0aGlzLm1lc3NhZ2UpLCBjaHVua1NpemUpLFxuICAgICAgd2F0ZXJtYXJrOiBuZXRzaW1Nc2cuYV9hbmRfYigpXG4gICAgfSk7XG4gIH1cblxuICBpZiAodGhpcy5pc0VuY29kaW5nRW5hYmxlZF8oRW5jb2RpbmdUeXBlLkJJTkFSWSkpIHtcbiAgICBsaXZlRmllbGRzLnB1c2goe1xuICAgICAgaW5wdXRFbGVtZW50OiB0aGlzLnVpX1tFbmNvZGluZ1R5cGUuQklOQVJZXS5tZXNzYWdlLFxuICAgICAgbmV3VmFsdWU6IGZvcm1hdEJpbmFyeSh0aGlzLm1lc3NhZ2UsIGNodW5rU2l6ZSksXG4gICAgICB3YXRlcm1hcms6IG5ldHNpbU1zZy5iaW5hcnkoKVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKHRoaXMuaXNFbmNvZGluZ0VuYWJsZWRfKEVuY29kaW5nVHlwZS5IRVhBREVDSU1BTCkpIHtcbiAgICBsaXZlRmllbGRzLnB1c2goe1xuICAgICAgaW5wdXRFbGVtZW50OiB0aGlzLnVpX1tFbmNvZGluZ1R5cGUuSEVYQURFQ0lNQUxdLm1lc3NhZ2UsXG4gICAgICBuZXdWYWx1ZTogZm9ybWF0SGV4KGJpbmFyeVRvSGV4KHRoaXMubWVzc2FnZSksIGNodW5rU2l6ZSksXG4gICAgICB3YXRlcm1hcms6IG5ldHNpbU1zZy5oZXhhZGVjaW1hbCgpXG4gICAgfSk7XG4gIH1cblxuICBpZiAodGhpcy5pc0VuY29kaW5nRW5hYmxlZF8oRW5jb2RpbmdUeXBlLkRFQ0lNQUwpKSB7XG4gICAgbGl2ZUZpZWxkcy5wdXNoKHtcbiAgICAgIGlucHV0RWxlbWVudDogdGhpcy51aV9bRW5jb2RpbmdUeXBlLkRFQ0lNQUxdLm1lc3NhZ2UsXG4gICAgICBuZXdWYWx1ZTogYWxpZ25EZWNpbWFsKGJpbmFyeVRvRGVjaW1hbCh0aGlzLm1lc3NhZ2UsIGNodW5rU2l6ZSkpLFxuICAgICAgd2F0ZXJtYXJrOiBuZXRzaW1Nc2cuZGVjaW1hbCgpXG4gICAgfSk7XG4gIH1cblxuICBpZiAodGhpcy5pc0VuY29kaW5nRW5hYmxlZF8oRW5jb2RpbmdUeXBlLkFTQ0lJKSkge1xuICAgIGxpdmVGaWVsZHMucHVzaCh7XG4gICAgICBpbnB1dEVsZW1lbnQ6IHRoaXMudWlfW0VuY29kaW5nVHlwZS5BU0NJSV0ubWVzc2FnZSxcbiAgICAgIG5ld1ZhbHVlOiBiaW5hcnlUb0FzY2lpKHRoaXMubWVzc2FnZSwgY2h1bmtTaXplKSxcbiAgICAgIHdhdGVybWFyazogbmV0c2ltTXNnLmFzY2lpKClcbiAgICB9KTtcbiAgfVxuXG4gIGxpdmVGaWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcbiAgICBpZiAoZmllbGQuaW5wdXRFbGVtZW50WzBdICE9PSBza2lwRWxlbWVudCkge1xuICAgICAgaWYgKGZpZWxkLndhdGVybWFyayAmJiBmaWVsZC5uZXdWYWx1ZSA9PT0gJycpIHtcbiAgICAgICAgZmllbGQuaW5wdXRFbGVtZW50LnZhbChmaWVsZC53YXRlcm1hcmspO1xuICAgICAgICBmaWVsZC5pbnB1dEVsZW1lbnQuYWRkQ2xhc3MoJ3dhdGVybWFyaycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZmllbGQuaW5wdXRFbGVtZW50LnZhbChmaWVsZC5uZXdWYWx1ZSk7XG4gICAgICAgIGZpZWxkLmlucHV0RWxlbWVudC5yZW1vdmVDbGFzcygnd2F0ZXJtYXJrJyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICB0aGlzLnVwZGF0ZUJpdENvdW50ZXIoKTtcbiAgdGhpcy5jb250ZW50Q2hhbmdlQ2FsbGJhY2tfKCk7XG59O1xuXG4vKipcbiAqIElmIHRoZXJlJ3Mgb25seSBvbmUgcGFja2V0LCBhcHBsaWVzIFwiZGlzcGxheTogbm9uZVwiIHRvIHRoZSBidXR0b24gc28gdGhlXG4gKiBsYXN0IHBhY2tldCBjYW4ndCBiZSByZW1vdmVkLiAgT3RoZXJ3aXNlLCBjbGVhcnMgdGhlIENTUyBwcm9wZXJ0eSBvdmVycmlkZS5cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVBhY2tldEVkaXRvci5wcm90b3R5cGUudXBkYXRlUmVtb3ZlQnV0dG9uVmlzaWJpbGl0eV8gPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMucmVtb3ZlUGFja2V0QnV0dG9uXy5jc3MoJ2Rpc3BsYXknLCAodGhpcy5wYWNrZXRDb3VudCA9PT0gMSA/ICdub25lJyA6ICcnKSk7XG59O1xuXG4vKipcbiAqIFByb2R1Y2VzIGEgc2luZ2xlIGJpbmFyeSBzdHJpbmcgaW4gdGhlIGN1cnJlbnQgcGFja2V0IGZvcm1hdCwgYmFzZWRcbiAqIG9uIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSB3aWRnZXQgKGNvbnRlbnQgb2YgaXRzIGludGVybmFsIGZpZWxkcykuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSAtIGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiBwYWNrZXRcbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVBhY2tldEVkaXRvci5wcm90b3R5cGUuZ2V0UGFja2V0QmluYXJ5ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbGV2ZWwgPSBOZXRTaW1HbG9iYWxzLmdldExldmVsQ29uZmlnKCk7XG4gIHZhciBlbmNvZGVyID0gbmV3IFBhY2tldC5FbmNvZGVyKGxldmVsLmFkZHJlc3NGb3JtYXQsXG4gICAgICBsZXZlbC5wYWNrZXRDb3VudEJpdFdpZHRoLCB0aGlzLnBhY2tldFNwZWNfKTtcbiAgcmV0dXJuIGVuY29kZXIuY29uY2F0ZW5hdGVCaW5hcnkoXG4gICAgICBlbmNvZGVyLm1ha2VCaW5hcnlIZWFkZXJzKHtcbiAgICAgICAgdG9BZGRyZXNzOiB0aGlzLnRvQWRkcmVzcyxcbiAgICAgICAgZnJvbUFkZHJlc3M6IHRoaXMuZnJvbUFkZHJlc3MsXG4gICAgICAgIHBhY2tldEluZGV4OiB0aGlzLnBhY2tldEluZGV4LFxuICAgICAgICBwYWNrZXRDb3VudDogdGhpcy5wYWNrZXRDb3VudFxuICAgICAgfSksXG4gICAgICB0aGlzLm1lc3NhZ2UpO1xufTtcblxuLyoqXG4gKiBTZXRzIGVkaXRvciBmaWVsZHMgZnJvbSBhIGNvbXBsZXRlIHBhY2tldCBiaW5hcnksIGFjY29yZGluZyB0b1xuICogdGhlIGNvbmZpZ3VyZWQgaGVhZGVyIHNwZWNpZmljYXRpb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gcmF3QmluYXJ5XG4gKi9cbk5ldFNpbVBhY2tldEVkaXRvci5wcm90b3R5cGUuc2V0UGFja2V0QmluYXJ5ID0gZnVuY3Rpb24gKHJhd0JpbmFyeSkge1xuICB2YXIgcGFja2V0ID0gbmV3IFBhY2tldCh0aGlzLnBhY2tldFNwZWNfLCByYXdCaW5hcnkpO1xuXG4gIGlmICh0aGlzLnNwZWNDb250YWluc0hlYWRlcl8oUGFja2V0LkhlYWRlclR5cGUuVE9fQUREUkVTUykpIHtcbiAgICB0aGlzLnRvQWRkcmVzcyA9IHBhY2tldC5nZXRIZWFkZXJBc0FkZHJlc3NTdHJpbmcoUGFja2V0LkhlYWRlclR5cGUuVE9fQUREUkVTUyk7XG4gIH1cblxuICBpZiAodGhpcy5zcGVjQ29udGFpbnNIZWFkZXJfKFBhY2tldC5IZWFkZXJUeXBlLkZST01fQUREUkVTUykpIHtcbiAgICB0aGlzLmZyb21BZGRyZXNzID0gcGFja2V0LmdldEhlYWRlckFzQWRkcmVzc1N0cmluZyhQYWNrZXQuSGVhZGVyVHlwZS5GUk9NX0FERFJFU1MpO1xuICB9XG5cbiAgaWYgKHRoaXMuc3BlY0NvbnRhaW5zSGVhZGVyXyhQYWNrZXQuSGVhZGVyVHlwZS5QQUNLRVRfSU5ERVgpKSB7XG4gICAgdGhpcy5wYWNrZXRJbmRleCA9IHBhY2tldC5nZXRIZWFkZXJBc0ludChQYWNrZXQuSGVhZGVyVHlwZS5QQUNLRVRfSU5ERVgpO1xuICB9XG5cbiAgaWYgKHRoaXMuc3BlY0NvbnRhaW5zSGVhZGVyXyhQYWNrZXQuSGVhZGVyVHlwZS5QQUNLRVRfQ09VTlQpKSB7XG4gICAgdGhpcy5wYWNrZXRDb3VudCA9IHBhY2tldC5nZXRIZWFkZXJBc0ludChQYWNrZXQuSGVhZGVyVHlwZS5QQUNLRVRfQ09VTlQpO1xuICB9XG5cbiAgdGhpcy5tZXNzYWdlID0gcGFja2V0LmdldEJvZHlBc0JpbmFyeSgpO1xuXG4gIC8vIFJlLXJlbmRlciBhbGwgZW5jb2RpbmdzXG4gIHRoaXMudXBkYXRlRmllbGRzXygpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1BhY2tldC5IZWFkZXJUeXBlfSBoZWFkZXJLZXlcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltUGFja2V0RWRpdG9yLnByb3RvdHlwZS5zcGVjQ29udGFpbnNIZWFkZXJfID0gZnVuY3Rpb24gKGhlYWRlcktleSkge1xuICByZXR1cm4gdGhpcy5wYWNrZXRTcGVjXy5zb21lKGZ1bmN0aW9uIChoZWFkZXJTcGVjKSB7XG4gICAgcmV0dXJuIGhlYWRlclNwZWMgPT09IGhlYWRlcktleTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEdldCBqdXN0IHRoZSBmaXJzdCBiaXQgb2YgdGhlIHBhY2tldCBiaW5hcnkgaWYgaXQgZXhpc3RzLCBmb3JcbiAqIHNpbmdsZS1iaXQgc2VuZGluZyBtb2RlLlxuICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IGEgc2luZ2xlIGJpdCBpZiBpdCBleGlzdHMsIGFzIFwiMFwiIG9yIFwiMVwiLFxuICogb3IgdW5kZWZpbmVkIGlmIG5vbmUgZG9lcy5cbiAqL1xuTmV0U2ltUGFja2V0RWRpdG9yLnByb3RvdHlwZS5nZXRGaXJzdEJpdCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGJpbmFyeSA9IHRoaXMuZ2V0UGFja2V0QmluYXJ5KCk7XG4gIHJldHVybiBiaW5hcnkubGVuZ3RoID4gMCA/IGJpbmFyeS5zdWJzdHIoMCwgMSkgOiB1bmRlZmluZWQ7XG59O1xuXG4vKiogQHBhcmFtIHtudW1iZXJ9IGZyb21BZGRyZXNzICovXG5OZXRTaW1QYWNrZXRFZGl0b3IucHJvdG90eXBlLnNldEZyb21BZGRyZXNzID0gZnVuY3Rpb24gKGZyb21BZGRyZXNzKSB7XG4gIHRoaXMuZnJvbUFkZHJlc3MgPSBmcm9tQWRkcmVzcztcbiAgdGhpcy51cGRhdGVGaWVsZHNfKCk7XG59O1xuXG4vKiogQHBhcmFtIHtudW1iZXJ9IHBhY2tldEluZGV4ICovXG5OZXRTaW1QYWNrZXRFZGl0b3IucHJvdG90eXBlLnNldFBhY2tldEluZGV4ID0gZnVuY3Rpb24gKHBhY2tldEluZGV4KSB7XG4gIHRoaXMucGFja2V0SW5kZXggPSBwYWNrZXRJbmRleDtcbiAgdGhpcy51cGRhdGVGaWVsZHNfKCk7XG59O1xuXG4vKiogQHBhcmFtIHtudW1iZXJ9IHBhY2tldENvdW50ICovXG5OZXRTaW1QYWNrZXRFZGl0b3IucHJvdG90eXBlLnNldFBhY2tldENvdW50ID0gZnVuY3Rpb24gKHBhY2tldENvdW50KSB7XG4gIHRoaXMucGFja2V0Q291bnQgPSBwYWNrZXRDb3VudDtcbiAgdGhpcy51cGRhdGVGaWVsZHNfKCk7XG4gIHRoaXMudXBkYXRlUmVtb3ZlQnV0dG9uVmlzaWJpbGl0eV8oKTtcbn07XG5cbi8qKiBAcGFyYW0ge251bWJlcn0gbWF4UGFja2V0U2l6ZSAqL1xuTmV0U2ltUGFja2V0RWRpdG9yLnByb3RvdHlwZS5zZXRNYXhQYWNrZXRTaXplID0gZnVuY3Rpb24gKG1heFBhY2tldFNpemUpIHtcbiAgdGhpcy5tYXhQYWNrZXRTaXplXyA9IG1heFBhY2tldFNpemU7XG4gIHRoaXMudXBkYXRlQml0Q291bnRlcigpO1xufTtcblxuLyoqXG4gKiBTaG93IG9yIGhpZGUgcGFydHMgb2YgdGhlIHNlbmQgVUkgYmFzZWQgb24gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBlbmNvZGluZ1xuICogbW9kZS5cbiAqIEBwYXJhbSB7RW5jb2RpbmdUeXBlW119IG5ld0VuY29kaW5nc1xuICovXG5OZXRTaW1QYWNrZXRFZGl0b3IucHJvdG90eXBlLnNldEVuY29kaW5ncyA9IGZ1bmN0aW9uIChuZXdFbmNvZGluZ3MpIHtcbiAgdGhpcy5lbmFibGVkRW5jb2RpbmdzSGFzaF8gPSBOZXRTaW1FbmNvZGluZ0NvbnRyb2wuZW5jb2RpbmdzQXNIYXNoKG5ld0VuY29kaW5ncyk7XG4gIE5ldFNpbUVuY29kaW5nQ29udHJvbC5oaWRlUm93c0J5RW5jb2RpbmcodGhpcy5yb290RGl2XywgbmV3RW5jb2RpbmdzKTtcbiAgdGhpcy5yZW5kZXIoKTtcbn07XG5cbi8qKlxuICogSGVscGVyIG1ldGhvZCB0aGF0IGNoZWNrcyB0aGlzLmVuYWJsZWRFbmNvZGluZ3NIYXNoXyB0byBzZWUgaWYgdGhlIGdpdmVuXG4gKiBlbmNvZGluZyBpcyBlbmFibGVkXG4gKiBAcGFyYW0ge0VuY29kaW5nVHlwZX0gcXVlcnlFbmNvZGluZ1xuICogQHJldHVybnMge2Jvb2xlYW59IHdoZXRoZXIgb3Igbm90IHRoZSBnaXZlbiBlbmNvZGluZyBpcyBlbmFibGVkXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1QYWNrZXRFZGl0b3IucHJvdG90eXBlLmlzRW5jb2RpbmdFbmFibGVkXyA9IGZ1bmN0aW9uIChxdWVyeUVuY29kaW5nKSB7XG4gIHJldHVybiB0aGlzLmVuYWJsZWRFbmNvZGluZ3NIYXNoX1txdWVyeUVuY29kaW5nXSA9PT0gdHJ1ZTtcbn07XG5cbi8qKlxuICogQ2hhbmdlIGhvdyBkYXRhIGlzIGludGVycHJldGVkIGFuZCBmb3JtYXR0ZWQgYnkgdGhpcyBjb21wb25lbnQsIHRyaWdnZXJpbmdcbiAqIGFuIHVwZGF0ZSBvZiBhbGwgaW5wdXQgZmllbGRzLlxuICogQHBhcmFtIHtudW1iZXJ9IG5ld0NodW5rU2l6ZVxuICovXG5OZXRTaW1QYWNrZXRFZGl0b3IucHJvdG90eXBlLnNldENodW5rU2l6ZSA9IGZ1bmN0aW9uIChuZXdDaHVua1NpemUpIHtcbiAgdGhpcy5jdXJyZW50Q2h1bmtTaXplXyA9IG5ld0NodW5rU2l6ZTtcbiAgdGhpcy51cGRhdGVGaWVsZHNfKCk7XG59O1xuXG4vKipcbiAqIENoYW5nZSBsb2NhbCBkZXZpY2UgYml0cmF0ZSB3aGljaCBjaGFuZ2VzIHNlbmQgYW5pbWF0aW9uIHNwZWVkLlxuICogQHBhcmFtIHtudW1iZXJ9IG5ld0JpdFJhdGUgaW4gYml0cyBwZXIgc2Vjb25kXG4gKi9cbk5ldFNpbVBhY2tldEVkaXRvci5wcm90b3R5cGUuc2V0Qml0UmF0ZSA9IGZ1bmN0aW9uIChuZXdCaXRSYXRlKSB7XG4gIHRoaXMuYml0UmF0ZV8gPSBuZXdCaXRSYXRlO1xufTtcblxuLyoqXG4gKiBVcGRhdGUgdGhlIHZpc3VhbCBzdGF0ZSBvZiB0aGUgYml0IGNvdW50ZXIgdG8gcmVmbGVjdCB0aGUgY3VycmVudFxuICogbWVzc2FnZSBiaW5hcnkgbGVuZ3RoIGFuZCBtYXhpbXVtIHBhY2tldCBzaXplLlxuICovXG5OZXRTaW1QYWNrZXRFZGl0b3IucHJvdG90eXBlLnVwZGF0ZUJpdENvdW50ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzaXplID0gdGhpcy5nZXRQYWNrZXRCaW5hcnkoKS5sZW5ndGg7XG4gIHZhciBtYXhTaXplID0gdGhpcy5tYXhQYWNrZXRTaXplXztcbiAgdGhpcy5iaXRDb3VudGVyXy5odG1sKG5ldHNpbU1zZy5iaXRDb3VudGVyKHtcbiAgICB4OiBzaXplLFxuICAgIHk6IG1heFNpemVcbiAgfSkpO1xuXG4gIHRoaXMuYml0Q291bnRlcl8udG9nZ2xlQ2xhc3MoJ292ZXJzaXplZCcsIHNpemUgPiB0aGlzLm1heFBhY2tldFNpemVfKTtcbn07XG5cbi8qKlxuICogSGFuZGxlciBmb3IgdGhlIFwiUmVtb3ZlIFBhY2tldFwiIGJ1dHRvbi4gQ2FsbHMgaGFuZGxlciBwcm92aWRlZCBieVxuICogcGFyZW50LCBwYXNzaW5nIHNlbGYsIHNvIHRoYXQgcGFyZW50IGNhbiByZW1vdmUgdGhpcyBwYWNrZXQuXG4gKiBAcGFyYW0ge0V2ZW50fSBqUXVlcnlFdmVudFxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltUGFja2V0RWRpdG9yLnByb3RvdHlwZS5vblJlbW92ZVBhY2tldEJ1dHRvbkNsaWNrXyA9IGZ1bmN0aW9uIChqUXVlcnlFdmVudCkge1xuICB2YXIgdGhpc0J1dHRvbiA9ICQoalF1ZXJ5RXZlbnQudGFyZ2V0KTtcbiAgLy8gV2UgYWxzbyBjaGVjayBwYXJlbnQgZWxlbWVudHMgaGVyZSwgYmVjYXVzZSB0aGlzIGJ1dHRvbiB1c2VzIGEgZm9udC1hd2Vzb21lXG4gIC8vIGdseXBoIHRoYXQgY2FuIHJlY2VpdmUgdGhlIGV2ZW50IGluc3RlYWQgb2YgdGhlIGFjdHVhbCBidXR0b24uXG4gIGlmICh0aGlzQnV0dG9uLmlzKCdbZGlzYWJsZWRdJykgfHwgdGhpc0J1dHRvbi5wYXJlbnRzKCkuaXMoJ1tkaXNhYmxlZF0nKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMucmVtb3ZlUGFja2V0Q2FsbGJhY2tfKHRoaXMpO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgdGhlIGZpcnN0IGJpdCBvZiB0aGUgcGFja2V0IGJpbmFyeSwgdXNlZCB3aGVuIHNlbmRpbmcgb25lIGJpdFxuICogYXQgYSB0aW1lLlxuICovXG5OZXRTaW1QYWNrZXRFZGl0b3IucHJvdG90eXBlLmNvbnN1bWVGaXJzdEJpdCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5zZXRQYWNrZXRCaW5hcnkodGhpcy5nZXRQYWNrZXRCaW5hcnkoKS5zdWJzdHIoMSkpO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB0ID0gZnVuY3Rpb24gYW5vbnltb3VzKGxvY2FscywgZmlsdGVycywgZXNjYXBlXG4vKiovKSB7XG5lc2NhcGUgPSBlc2NhcGUgfHwgZnVuY3Rpb24gKGh0bWwpe1xuICByZXR1cm4gU3RyaW5nKGh0bWwpXG4gICAgLnJlcGxhY2UoLyYoPyFcXHcrOykvZywgJyZhbXA7JylcbiAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7Jyk7XG59O1xudmFyIGJ1ZiA9IFtdO1xud2l0aCAobG9jYWxzIHx8IHt9KSB7IChmdW5jdGlvbigpeyBcbiBidWYucHVzaCgnJyk7MTtcbiAgdmFyIGkxOG4gPSByZXF1aXJlKCcuL2xvY2FsZScpO1xuICB2YXIgTmV0U2ltQ29uc3RhbnRzID0gcmVxdWlyZSgnLi9OZXRTaW1Db25zdGFudHMnKTtcbiAgdmFyIE5ldFNpbVV0aWxzID0gcmVxdWlyZSgnLi9OZXRTaW1VdGlscycpO1xuICB2YXIgUGFja2V0ID0gcmVxdWlyZSgnLi9QYWNrZXQnKTtcblxuICB2YXIgRW5jb2RpbmdUeXBlID0gTmV0U2ltQ29uc3RhbnRzLkVuY29kaW5nVHlwZTtcbiAgdmFyIE1lc3NhZ2VHcmFudWxhcml0eSA9IE5ldFNpbUNvbnN0YW50cy5NZXNzYWdlR3JhbnVsYXJpdHk7XG4gIHZhciBQYWNrZXRVSUNvbHVtblR5cGUgPSBOZXRTaW1Db25zdGFudHMuUGFja2V0VUlDb2x1bW5UeXBlO1xuXG4gIHZhciBnZXRFbmNvZGluZ0xhYmVsID0gTmV0U2ltVXRpbHMuZ2V0RW5jb2RpbmdMYWJlbDtcbiAgdmFyIGZvckVhY2hFbnVtVmFsdWUgPSBOZXRTaW1VdGlscy5mb3JFYWNoRW51bVZhbHVlO1xuXG4gIC8qKlxuICAqIEBuYW1lIGVuYWJsZWRFbmNvZGluZ3NIYXNoXG4gICogQHR5cGUge09iamVjdH1cbiAgKi9cblxuICBmdW5jdGlvbiBpc0VuY29kaW5nRW5hYmxlZChxdWVyeUVuY29kaW5nKSB7XG4gICAgcmV0dXJuIGVuYWJsZWRFbmNvZGluZ3NIYXNoW3F1ZXJ5RW5jb2RpbmddID09PSB0cnVlO1xuICB9XG5cbiAgLyoqIEB0eXBlIHtQYWNrZXQuSGVhZGVyVHlwZVtdfSAqL1xuICB2YXIgaGVhZGVyRmllbGRzID0gcGFja2V0U3BlYztcblxuICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gIHZhciBzaG93VG9BZGRyZXNzID0gaGVhZGVyRmllbGRzLmluZGV4T2YoUGFja2V0LkhlYWRlclR5cGUuVE9fQUREUkVTUykgPiAtMTtcblxuICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gIHZhciBzaG93RnJvbUFkZHJlc3MgPSBoZWFkZXJGaWVsZHMuaW5kZXhPZihQYWNrZXQuSGVhZGVyVHlwZS5GUk9NX0FERFJFU1MpID4gLTE7XG5cbiAgLyoqIEB0eXBlIHtib29sZWFufSAqL1xuICB2YXIgc2hvd1BhY2tldEluZm8gPSBoZWFkZXJGaWVsZHMuaW5kZXhPZihQYWNrZXQuSGVhZGVyVHlwZS5QQUNLRVRfSU5ERVgpID4gLTEgJiZcbiAgICAgIGhlYWRlckZpZWxkcy5pbmRleE9mKFBhY2tldC5IZWFkZXJUeXBlLlBBQ0tFVF9DT1VOVCkgPiAtMTtcblxuICAvKiogQHR5cGUge2Jvb2xlYW59ICovXG4gIHZhciB1c2VQYWNrZXRHcmFudWxhcml0eSA9IChtZXNzYWdlR3JhbnVsYXJpdHkgPT09IE1lc3NhZ2VHcmFudWxhcml0eS5QQUNLRVRTKTtcblxuICAvKipcbiAgICogV3JpdGUgdGhlIHRhYmxlIGhlYWRlciB0byB0aGUgcGFnZSwgd2l0aCB0aGUgYXBwcm9wcmlhdGUgcGFja2V0LWhlYWRlciBjb2x1bW5zIGVuYWJsZWQuXG4gICAqL1xuICBmdW5jdGlvbiB0YWJsZUhlYWRlcigpIHtcbiAgICA7IGJ1Zi5wdXNoKCdcXG4gICAgICA8dGhlYWQ+XFxuICAgICAgICA8dHI+XFxuICAgICAgICAgIDx0aCBub3dyYXAgY2xhc3M9XCInLCBlc2NhcGUoKDQ2LCAgUGFja2V0VUlDb2x1bW5UeXBlLkVOQ09ESU5HX0xBQkVMICkpLCAnXCI+PC90aD5cXG4gICAgICAgICAgJyk7NDc7IGlmIChzaG93VG9BZGRyZXNzKSB7IDsgYnVmLnB1c2goJ1xcbiAgICAgICAgICA8dGggbm93cmFwIGNsYXNzPVwiJywgZXNjYXBlKCg0OCwgIFBhY2tldFVJQ29sdW1uVHlwZS5UT19BRERSRVNTICkpLCAnXCI+JywgZXNjYXBlKCg0OCwgIGkxOG4udG8oKSApKSwgJzwvdGg+XFxuICAgICAgICAgICcpOzQ5OyB9IDsgYnVmLnB1c2goJ1xcbiAgICAgICAgICAnKTs1MDsgaWYgKHNob3dGcm9tQWRkcmVzcykgeyA7IGJ1Zi5wdXNoKCdcXG4gICAgICAgICAgPHRoIG5vd3JhcCBjbGFzcz1cIicsIGVzY2FwZSgoNTEsICBQYWNrZXRVSUNvbHVtblR5cGUuRlJPTV9BRERSRVNTICkpLCAnXCI+JywgZXNjYXBlKCg1MSwgIGkxOG4uZnJvbSgpICkpLCAnPC90aD5cXG4gICAgICAgICAgJyk7NTI7IH0gOyBidWYucHVzaCgnXFxuICAgICAgICAgICcpOzUzOyBpZiAoc2hvd1BhY2tldEluZm8pIHsgOyBidWYucHVzaCgnXFxuICAgICAgICAgIDx0aCBub3dyYXAgY2xhc3M9XCInLCBlc2NhcGUoKDU0LCAgUGFja2V0VUlDb2x1bW5UeXBlLlBBQ0tFVF9JTkZPICkpLCAnXCI+JywgZXNjYXBlKCg1NCwgIGkxOG4ucGFja2V0KCkgKSksICc8L3RoPlxcbiAgICAgICAgICAnKTs1NTsgfSA7IGJ1Zi5wdXNoKCdcXG4gICAgICAgICAgPHRoIGNsYXNzPVwiJywgZXNjYXBlKCg1NiwgIFBhY2tldFVJQ29sdW1uVHlwZS5NRVNTQUdFICkpLCAnXCI+XFxuICAgICAgICAgICAgJywgZXNjYXBlKCg1NywgIGkxOG4ubWVzc2FnZSgpICkpLCAnXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBhY2tldC1jb250cm9sc1wiPlxcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJuZXRzaW0tYnV0dG9uIHNlY29uZGFyeSByZW1vdmUtcGFja2V0LWJ1dHRvblwiIHRpdGxlPVwiJywgZXNjYXBlKCg1OSwgIGkxOG4ucmVtb3ZlUGFja2V0KCkgKSksICdcIj48aSBjbGFzcz1cImZhIGZhLXRpbWVzXCI+PC9pPjwvc3Bhbj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgPC90aD5cXG4gICAgICAgIDwvdHI+XFxuICAgICAgPC90aGVhZD5cXG4gICAgJyk7NjQ7XG4gIH1cblxuICAvKipcbiAgICogV3JpdGUgYSB0YWJsZSByb3cgdG8gdGhlIHBhZ2UgZm9yIHRoZSBnaXZlbiBkYXRhIGVuY29kaW5nLlxuICAgKiBAcGFyYW0ge0VuY29kaW5nVHlwZX0gZW5jb2RpbmdUeXBlXG4gICAqL1xuICBmdW5jdGlvbiBlZGl0b3JSb3coZW5jb2RpbmdUeXBlKSB7XG4gICAgOyBidWYucHVzaCgnXFxuICAgICAgPHRyIGNsYXNzPVwiJywgZXNjYXBlKCg3MywgIGVuY29kaW5nVHlwZSApKSwgJ1wiPlxcbiAgICAgICAgPHRoIG5vd3JhcCBjbGFzcz1cIicsIGVzY2FwZSgoNzQsICBQYWNrZXRVSUNvbHVtblR5cGUuRU5DT0RJTkdfTEFCRUwgKSksICdcIj4nLCBlc2NhcGUoKDc0LCAgZ2V0RW5jb2RpbmdMYWJlbChlbmNvZGluZ1R5cGUpICkpLCAnPC90aD5cXG4gICAgICAgICcpOzc1OyBpZiAoc2hvd1RvQWRkcmVzcykgeyA7IGJ1Zi5wdXNoKCdcXG4gICAgICAgIDx0ZCBub3dyYXAgY2xhc3M9XCInLCBlc2NhcGUoKDc2LCAgUGFja2V0VUlDb2x1bW5UeXBlLlRPX0FERFJFU1MgKSksICdcIj48aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cIicsIGVzY2FwZSgoNzYsICBQYWNrZXQuSGVhZGVyVHlwZS5UT19BRERSRVNTICkpLCAnXCIgLz48L3RkPlxcbiAgICAgICAgJyk7Nzc7IH0gOyBidWYucHVzaCgnXFxuICAgICAgICAnKTs3ODsgaWYgKHNob3dGcm9tQWRkcmVzcykgeyA7IGJ1Zi5wdXNoKCdcXG4gICAgICAgIDx0ZCBub3dyYXAgY2xhc3M9XCInLCBlc2NhcGUoKDc5LCAgUGFja2V0VUlDb2x1bW5UeXBlLkZST01fQUREUkVTUyApKSwgJ1wiPjxpbnB1dCB0eXBlPVwidGV4dFwiIHJlYWRvbmx5IGNsYXNzPVwiJywgZXNjYXBlKCg3OSwgIFBhY2tldC5IZWFkZXJUeXBlLkZST01fQUREUkVTUyApKSwgJ1wiIC8+PC90ZD5cXG4gICAgICAgICcpOzgwOyB9IDsgYnVmLnB1c2goJ1xcbiAgICAgICAgJyk7ODE7IGlmIChzaG93UGFja2V0SW5mbykgeyA7IGJ1Zi5wdXNoKCdcXG4gICAgICAgIDx0ZCBub3dyYXAgY2xhc3M9XCInLCBlc2NhcGUoKDgyLCAgUGFja2V0VUlDb2x1bW5UeXBlLlBBQ0tFVF9JTkZPICkpLCAnXCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgcmVhZG9ubHkgY2xhc3M9XCInLCBlc2NhcGUoKDgyLCAgUGFja2V0LkhlYWRlclR5cGUuUEFDS0VUX0lOREVYICkpLCAnXCIgLz4nLCBlc2NhcGUoKDgyLCAgaTE4bi5fb2ZfKCkgKSksICc8aW5wdXQgdHlwZT1cInRleHRcIiByZWFkb25seSBjbGFzcz1cIicsIGVzY2FwZSgoODIsICBQYWNrZXQuSGVhZGVyVHlwZS5QQUNLRVRfQ09VTlQgKSksICdcIiAvPjwvdGQ+XFxuICAgICAgICAnKTs4MzsgfSA7IGJ1Zi5wdXNoKCdcXG4gICAgICAgIDx0ZCBjbGFzcz1cIicsIGVzY2FwZSgoODQsICBQYWNrZXRVSUNvbHVtblR5cGUuTUVTU0FHRSApKSwgJ1wiPjxkaXY+PHRleHRhcmVhIGNsYXNzPVwibWVzc2FnZVwiPjwvdGV4dGFyZWE+PC9kaXY+PC90ZD5cXG4gICAgICA8L3RyPlxcbiAgICAnKTs4NjtcbiAgfVxuOyBidWYucHVzaCgnXFxuPHRhYmxlPlxcbiAgJyk7OTA7XG4gICAgLy8gT25seSB3cml0ZSB0aGUgaGVhZGVyIHJvdyBpZiB3ZSBhcmUgdXNpbmcgcGFja2V0c1xuICAgIGlmICh1c2VQYWNrZXRHcmFudWxhcml0eSkge1xuICAgICAgdGFibGVIZWFkZXIoKTtcbiAgICB9XG4gIDsgYnVmLnB1c2goJ1xcbiAgPHRib2R5PlxcbiAgICAnKTs5NztcbiAgICAgIC8vIFdyaXRlIGEgYm9keSByb3cgZm9yIGV2ZXJ5IHBhY2tldCBlbmNvZGluZzsgd2UgaGlkZSBzb21lIG9mIHRoZW0gcG9zdC1yZW5kZXIuXG4gICAgICBmb3JFYWNoRW51bVZhbHVlKEVuY29kaW5nVHlwZSwgZnVuY3Rpb24gKGVuY29kaW5nVHlwZSkge1xuICAgICAgICBpZiAoaXNFbmNvZGluZ0VuYWJsZWQoZW5jb2RpbmdUeXBlKSkge1xuICAgICAgICAgIGVkaXRvclJvdyhlbmNvZGluZ1R5cGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICA7IGJ1Zi5wdXNoKCdcXG4gIDwvdGJvZHk+XFxuPC90YWJsZT5cXG5cXG4nKTsxMDg7IGlmICh1c2VQYWNrZXRHcmFudWxhcml0eSkgeyA7IGJ1Zi5wdXNoKCdcXG4gIDxkaXYgY2xhc3M9XCJiaXQtY291bnRlclwiPjwvZGl2PlxcbicpOzExMDsgfSA7IGJ1Zi5wdXNoKCdcXG4nKTsgfSkoKTtcbn0gXG5yZXR1cm4gYnVmLmpvaW4oJycpO1xufTtcbiAgcmV0dXJuIGZ1bmN0aW9uKGxvY2Fscykge1xuICAgIHJldHVybiB0KGxvY2FscywgcmVxdWlyZShcImVqc1wiKS5maWx0ZXJzKTtcbiAgfVxufSgpKTsiLCIvKipcbiAqIEBvdmVydmlldyBVSSBjb250cm9sbGVyIGZvciB0aGUgXCJNeSBEZXZpY2VcIiB0YWIgaW4gdGhlIGxlZnQgY29sdW1uLlxuICovXG4vLyBTdHJpY3QgbGludGluZzogQWJzb3JiIGludG8gZ2xvYmFsIGNvbmZpZyB3aGVuIHBvc3NpYmxlXG4vKiBqc2hpbnRcbiB1bnVzZWQ6IHRydWUsXG4gZXFlcWVxOiB0cnVlLFxuIG1heGxlbjogMTIwXG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIG1hcmt1cCA9IHJlcXVpcmUoJy4vTmV0U2ltTXlEZXZpY2VUYWIuaHRtbC5lanMnKTtcbnZhciBOZXRTaW1CaXRSYXRlQ29udHJvbCA9IHJlcXVpcmUoJy4vTmV0U2ltQml0UmF0ZUNvbnRyb2wnKTtcbnZhciBOZXRTaW1QdWxzZVJhdGVDb250cm9sID0gcmVxdWlyZSgnLi9OZXRTaW1QdWxzZVJhdGVDb250cm9sJyk7XG52YXIgTmV0U2ltQ2h1bmtTaXplQ29udHJvbCA9IHJlcXVpcmUoJy4vTmV0U2ltQ2h1bmtTaXplQ29udHJvbCcpO1xudmFyIE5ldFNpbUVuY29kaW5nQ29udHJvbCA9IHJlcXVpcmUoJy4vTmV0U2ltRW5jb2RpbmdDb250cm9sJyk7XG52YXIgTmV0U2ltTWV0cm9ub21lID0gcmVxdWlyZSgnLi9OZXRTaW1NZXRyb25vbWUnKTtcbnZhciBOZXRTaW1HbG9iYWxzID0gcmVxdWlyZSgnLi9OZXRTaW1HbG9iYWxzJyk7XG5cbi8qKlxuICogR2VuZXJhdG9yIGFuZCBjb250cm9sbGVyIGZvciBcIk15IERldmljZVwiIHRhYi5cbiAqIEBwYXJhbSB7alF1ZXJ5fSByb290RGl2XG4gKiBAcGFyYW0ge1J1bkxvb3B9IHJ1bkxvb3BcbiAqIEBwYXJhbSB7T2JqZWN0fSBjYWxsYmFja3NcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrcy5jaHVua1NpemVDaGFuZ2VDYWxsYmFja1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tzLmJpdFJhdGVDaGFuZ2VDYWxsYmFja1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tzLmVuY29kaW5nQ2hhbmdlQ2FsbGJhY2tcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgTmV0U2ltTXlEZXZpY2VUYWIgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChyb290RGl2LCBydW5Mb29wLCBjYWxsYmFja3MpIHtcbiAgLyoqXG4gICAqIENvbXBvbmVudCByb290LCB3aGljaCB3ZSBmaWxsIHdoZW5ldmVyIHdlIGNhbGwgcmVuZGVyKClcbiAgICogQHR5cGUge2pRdWVyeX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucm9vdERpdl8gPSByb290RGl2O1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7UnVuTG9vcH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucnVuTG9vcF8gPSBydW5Mb29wO1xuXG4gIC8qKlxuICAgKiBGcmVxdWVuY3kgb2YgbWV0cm9ub21lIHB1bHNlcywgaW4gcHVsc2VzIHBlciBzZWNvbmRcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuYml0c1BlclNlY29uZF8gPSAxO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7ZnVuY3Rpb259XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmNodW5rU2l6ZVNsaWRlckNoYW5nZUNhbGxiYWNrXyA9IGNhbGxiYWNrcy5jaHVua1NpemVDaGFuZ2VDYWxsYmFjaztcblxuICAvKipcbiAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5iaXRSYXRlQ2hhbmdlQ2FsbGJhY2tfID0gY2FsbGJhY2tzLmJpdFJhdGVDaGFuZ2VDYWxsYmFjaztcblxuICAvKipcbiAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5lbmNvZGluZ0NoYW5nZUNhbGxiYWNrXyA9IGNhbGxiYWNrcy5lbmNvZGluZ0NoYW5nZUNhbGxiYWNrO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7TmV0U2ltTWV0cm9ub21lfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5tZXRyb25vbWVfID0gbnVsbDtcblxuICAvKipcbiAgICogQHR5cGUge05ldFNpbVB1bHNlUmF0ZUNvbnRyb2x9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnB1bHNlUmF0ZUNvbnRyb2xfID0gbnVsbDtcblxuICAvKipcbiAgICogQHR5cGUge05ldFNpbUJpdFJhdGVDb250cm9sfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5iaXRSYXRlQ29udHJvbF8gPSBudWxsO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7TmV0U2ltQ2h1bmtTaXplQ29udHJvbH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuY2h1bmtTaXplQ29udHJvbF8gPSBudWxsO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7TmV0U2ltRW5jb2RpbmdDb250cm9sfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5lbmNvZGluZ0NvbnRyb2xfID0gbnVsbDtcblxuICB0aGlzLnJlbmRlcigpO1xufTtcblxuLyoqXG4gKiBGaWxsIHRoZSByb290IGRpdiB3aXRoIG5ldyBlbGVtZW50cyByZWZsZWN0aW5nIHRoZSBjdXJyZW50IHN0YXRlXG4gKi9cbk5ldFNpbU15RGV2aWNlVGFiLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBsZXZlbENvbmZpZyA9IE5ldFNpbUdsb2JhbHMuZ2V0TGV2ZWxDb25maWcoKTtcblxuICB2YXIgcmVuZGVyZWRNYXJrdXAgPSAkKG1hcmt1cCh7XG4gICAgbGV2ZWw6IGxldmVsQ29uZmlnXG4gIH0pKTtcbiAgdGhpcy5yb290RGl2Xy5odG1sKHJlbmRlcmVkTWFya3VwKTtcblxuICBpZiAobGV2ZWxDb25maWcuc2hvd01ldHJvbm9tZSkge1xuICAgIHRoaXMubWV0cm9ub21lXyA9IG5ldyBOZXRTaW1NZXRyb25vbWUoXG4gICAgICAgIHRoaXMucm9vdERpdl8uZmluZCgnLm1ldHJvbm9tZScpLFxuICAgICAgICB0aGlzLnJ1bkxvb3BfKTtcbiAgICB0aGlzLm1ldHJvbm9tZV8uc2V0RnJlcXVlbmN5KHRoaXMuYml0c1BlclNlY29uZF8pO1xuICB9XG5cbiAgaWYgKGxldmVsQ29uZmlnLnNob3dQdWxzZVJhdGVTbGlkZXIpIHtcbiAgICB0aGlzLnB1bHNlUmF0ZUNvbnRyb2xfID0gbmV3IE5ldFNpbVB1bHNlUmF0ZUNvbnRyb2woXG4gICAgICAgIHRoaXMucm9vdERpdl8uZmluZCgnLnB1bHNlLXJhdGUnKSxcbiAgICAgICAgMSAvIHRoaXMuYml0c1BlclNlY29uZF8sXG4gICAgICAgIGZ1bmN0aW9uIChzZWNvbmRzUGVyQml0KSB7XG4gICAgICAgICAgdGhpcy5iaXRSYXRlQ2hhbmdlQ2FsbGJhY2tfKDEgLyBzZWNvbmRzUGVyQml0KTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIGlmIChsZXZlbENvbmZpZy5zaG93Qml0UmF0ZUNvbnRyb2wpIHtcbiAgICB0aGlzLmJpdFJhdGVDb250cm9sXyA9IG5ldyBOZXRTaW1CaXRSYXRlQ29udHJvbChcbiAgICAgICAgdGhpcy5yb290RGl2Xy5maW5kKCcuYml0cmF0ZScpLFxuICAgICAgICB0aGlzLmJpdHNQZXJTZWNvbmRfLFxuICAgICAgICB0aGlzLmJpdFJhdGVDaGFuZ2VDYWxsYmFja18pO1xuICAgIGlmIChsZXZlbENvbmZpZy5sb2NrQml0UmF0ZUNvbnRyb2wpIHtcbiAgICAgIHRoaXMuYml0UmF0ZUNvbnRyb2xfLmRpc2FibGUoKTtcbiAgICB9XG4gIH1cblxuICBpZiAobGV2ZWxDb25maWcuc2hvd0NodW5rU2l6ZUNvbnRyb2wpIHtcbiAgICB0aGlzLmNodW5rU2l6ZUNvbnRyb2xfID0gbmV3IE5ldFNpbUNodW5rU2l6ZUNvbnRyb2woXG4gICAgICAgIHRoaXMucm9vdERpdl8uZmluZCgnLmNodW5rLXNpemUnKSxcbiAgICAgICAgdGhpcy5jaHVua1NpemVTbGlkZXJDaGFuZ2VDYWxsYmFja18pO1xuICAgIGlmIChsZXZlbENvbmZpZy5sb2NrQ2h1bmtTaXplQ29udHJvbCkge1xuICAgICAgdGhpcy5jaHVua1NpemVDb250cm9sXy5kaXNhYmxlKCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGxldmVsQ29uZmlnLnNob3dFbmNvZGluZ0NvbnRyb2xzLmxlbmd0aCA+IDApIHtcbiAgICB0aGlzLmVuY29kaW5nQ29udHJvbF8gPSBuZXcgTmV0U2ltRW5jb2RpbmdDb250cm9sKFxuICAgICAgICB0aGlzLnJvb3REaXZfLmZpbmQoJy5lbmNvZGluZycpLFxuICAgICAgICBsZXZlbENvbmZpZyxcbiAgICAgICAgdGhpcy5lbmNvZGluZ0NoYW5nZUNhbGxiYWNrXyk7XG4gIH1cbn07XG5cbi8qKlxuICogSGFuZGxlciBmb3IgY2hhbmdpbmcgdGhlIHBvc2l0aW9uIG9mIHRoZSBwdWxzZS1yYXRlIHNsaWRlclxuICogQHBhcmFtIHtudW1iZXJ9IHNlY29uZHNQZXJQdWxzZSBpbiBzZWNvbmRzIHBlciBwdWxzZVxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltTXlEZXZpY2VUYWIucHJvdG90eXBlLnB1bHNlUmF0ZVNsaWRlckNoYW5nZV8gPSBmdW5jdGlvbiAoc2Vjb25kc1BlclB1bHNlKSB7XG4gIHRoaXMuc2V0Qml0UmF0ZSgxIC8gc2Vjb25kc1BlclB1bHNlKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdHNQZXJTZWNvbmRcbiAqL1xuTmV0U2ltTXlEZXZpY2VUYWIucHJvdG90eXBlLnNldEJpdFJhdGUgPSBmdW5jdGlvbiAoYml0c1BlclNlY29uZCkge1xuICB0aGlzLmJpdHNQZXJTZWNvbmRfID0gYml0c1BlclNlY29uZDtcblxuICBpZiAodGhpcy5tZXRyb25vbWVfKSB7XG4gICAgdGhpcy5tZXRyb25vbWVfLnNldEZyZXF1ZW5jeShiaXRzUGVyU2Vjb25kKTtcbiAgfVxuXG4gIGlmICh0aGlzLmJpdFJhdGVDb250cm9sXykge1xuICAgIHRoaXMuYml0UmF0ZUNvbnRyb2xfLnNldFZhbHVlKGJpdHNQZXJTZWNvbmQpO1xuICB9XG5cbiAgaWYgKHRoaXMucHVsc2VSYXRlQ29udHJvbF8gJiYgYml0c1BlclNlY29uZCA8IEluZmluaXR5KSB7XG4gICAgdGhpcy5wdWxzZVJhdGVDb250cm9sXy5zZXRWYWx1ZSgxIC8gYml0c1BlclNlY29uZCk7XG4gIH1cbn07XG5cbi8qKlxuICogVXBkYXRlIHRoZSBzbGlkZXIgYW5kIGl0cyBsYWJlbCB0byBkaXNwbGF5IHRoZSBwcm92aWRlZCB2YWx1ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBuZXdDaHVua1NpemVcbiAqL1xuTmV0U2ltTXlEZXZpY2VUYWIucHJvdG90eXBlLnNldENodW5rU2l6ZSA9IGZ1bmN0aW9uIChuZXdDaHVua1NpemUpIHtcbiAgaWYgKHRoaXMuY2h1bmtTaXplQ29udHJvbF8pIHtcbiAgICB0aGlzLmNodW5rU2l6ZUNvbnRyb2xfLnNldFZhbHVlKG5ld0NodW5rU2l6ZSk7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtFbmNvZGluZ1R5cGVbXX0gbmV3RW5jb2RpbmdzXG4gKi9cbk5ldFNpbU15RGV2aWNlVGFiLnByb3RvdHlwZS5zZXRFbmNvZGluZ3MgPSBmdW5jdGlvbiAobmV3RW5jb2RpbmdzKSB7XG4gIGlmICh0aGlzLmVuY29kaW5nQ29udHJvbF8pIHtcbiAgICB0aGlzLmVuY29kaW5nQ29udHJvbF8uc2V0RW5jb2RpbmdzKG5ld0VuY29kaW5ncyk7XG4gIH1cbn07XG4iLCIvKipcbiAqIEBvdmVydmlldyBVSSBzbGlkZXIgZm9yIGNoYW5naW5nIHRoZSBwdWxzZSByYXRlIChiaXRyYXRlKSBvZiB0aGUgbG9jYWwgZGV2aWNlLlxuICogICAgICAgICAgIERpZmZlcnMgZnJvbSB0aGUgYml0cmF0ZSBzbGlkZXIgaW4gaXRzIHNjYWxlIGFuZCB1bml0cy5cbiAqIEBzZWUgTmV0U2ltQml0UmF0ZUNvbnRyb2xcbiAqL1xuLy8gU3RyaWN0IGxpbnRpbmc6IEFic29yYiBpbnRvIGdsb2JhbCBjb25maWcgd2hlbiBwb3NzaWJsZVxuLyoganNoaW50XG4gdW51c2VkOiB0cnVlLFxuIGVxZXFlcTogdHJ1ZSxcbiBtYXhsZW46IDEyMFxuICovXG4ndXNlIHN0cmljdCc7XG5cbi8vIFV0aWxzIHJlcXVpcmVkIG9ubHkgZm9yIEZ1bmN0aW9uLnByb3RvdHlwZS5pbmhlcml0cygpXG5yZXF1aXJlKCcuLi91dGlscycpO1xudmFyIGkxOG4gPSByZXF1aXJlKCcuL2xvY2FsZScpO1xudmFyIE5ldFNpbVNsaWRlciA9IHJlcXVpcmUoJy4vTmV0U2ltU2xpZGVyJyk7XG5cbi8qKlxuICogR2VuZXJhdG9yIGFuZCBjb250cm9sbGVyIGZvciBwYWNrZXQgc2l6ZSBzbGlkZXIvc2VsZWN0b3JcbiAqIEBwYXJhbSB7alF1ZXJ5fSByb290RGl2XG4gKiBAcGFyYW0ge251bWJlcn0gaW5pdGlhbFZhbHVlIC0gaW4gc2Vjb25kcyBwZXIgcHVsc2VcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHNsaWRlckNoYW5nZUNhbGxiYWNrXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIE5ldFNpbVB1bHNlUmF0ZUNvbnRyb2wgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChyb290RGl2LCBpbml0aWFsVmFsdWUsXG4gICAgc2xpZGVyQ2hhbmdlQ2FsbGJhY2spIHtcbiAgTmV0U2ltU2xpZGVyLkRlY2ltYWxQcmVjaXNpb25TbGlkZXIuY2FsbCh0aGlzLCByb290RGl2LCB7XG4gICAgb25DaGFuZ2U6IHNsaWRlckNoYW5nZUNhbGxiYWNrLFxuICAgIHZhbHVlOiBpbml0aWFsVmFsdWUsXG4gICAgbWluOiAwLjUsXG4gICAgbWF4OiA1LjAsXG4gICAgc3RlcDogLTAuMjVcbiAgfSk7XG5cbiAgLy8gQXV0by1yZW5kZXIsIHVubGlrZSBvdXIgYmFzZSBjbGFzc1xuICB0aGlzLnJlbmRlcigpO1xufTtcbk5ldFNpbVB1bHNlUmF0ZUNvbnRyb2wuaW5oZXJpdHMoTmV0U2ltU2xpZGVyLkRlY2ltYWxQcmVjaXNpb25TbGlkZXIpO1xuXG4vKipcbiAqIENvbnZlcnRzIGEgbnVtZXJpYyByYXRlIHZhbHVlIChpbiBzZWNvbmRzIHBlciBwdWxzZSkgaW50byBhXG4gKiBsb2NhbGl6ZWQgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoYXQgdmFsdWUuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIC0gbnVtZXJpYyB2YWx1ZSBvZiB0aGUgY29udHJvbFxuICogQHJldHVybnMge3N0cmluZ30gLSBsb2NhbGl6ZWQgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHZhbHVlXG4gKiBAb3ZlcnJpZGVcbiAqL1xuTmV0U2ltUHVsc2VSYXRlQ29udHJvbC5wcm90b3R5cGUudmFsdWVUb0xhYmVsID0gZnVuY3Rpb24gKHZhbCkge1xuICB2YXIgcm91bmRlZCA9IE1hdGguZmxvb3IodmFsICogMTAwKSAvIDEwMDtcbiAgaWYgKHJvdW5kZWQgPT09IDEpIHtcbiAgICByZXR1cm4gaTE4bi54U2Vjb25kUGVyUHVsc2UoeyB4OiByb3VuZGVkIH0pO1xuICB9XG4gIHJldHVybiBpMThuLnhTZWNvbmRzUGVyUHVsc2UoeyB4OiByb3VuZGVkIH0pO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhIG51bWVyaWMgcmF0ZSB2YWx1ZSAoaW4gc2Vjb25kcyBwZXIgcHVsc2UpIGludG8gYSBjb21wYWN0XG4gKiBsb2NhbGl6ZWQgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoYXQgdmFsdWUsIHVzZWQgZm9yIGVuZHMgb2YgdGhlIHNsaWRlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgLSBudW1lcmljIHZhbHVlIG9mIHRoZSBjb250cm9sXG4gKiBAcmV0dXJucyB7c3RyaW5nfSAtIGxvY2FsaXplZCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdmFsdWVcbiAqIEBvdmVycmlkZVxuICovXG5OZXRTaW1QdWxzZVJhdGVDb250cm9sLnByb3RvdHlwZS52YWx1ZVRvU2hvcnRMYWJlbCA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgcmV0dXJuIHZhbDtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cz0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdCA9IGZ1bmN0aW9uIGFub255bW91cyhsb2NhbHMsIGZpbHRlcnMsIGVzY2FwZVxuLyoqLykge1xuZXNjYXBlID0gZXNjYXBlIHx8IGZ1bmN0aW9uIChodG1sKXtcbiAgcmV0dXJuIFN0cmluZyhodG1sKVxuICAgIC5yZXBsYWNlKC8mKD8hXFx3KzspL2csICcmYW1wOycpXG4gICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpO1xufTtcbnZhciBidWYgPSBbXTtcbndpdGggKGxvY2FscyB8fCB7fSkgeyAoZnVuY3Rpb24oKXsgXG4gYnVmLnB1c2goJzxkaXYgY2xhc3M9XCJuZXRzaW0tbXktZGV2aWNlLXRhYlwiPlxcblxcbiAgJyk7MzsgaWYgKGxldmVsLnNob3dNZXRyb25vbWUpIHsgOyBidWYucHVzaCgnXFxuICAgIDxkaXYgY2xhc3M9XCJtZXRyb25vbWVcIj48L2Rpdj5cXG4gICcpOzU7IH0gOyBidWYucHVzaCgnXFxuXFxuICAnKTs3OyBpZiAobGV2ZWwuc2hvd1B1bHNlUmF0ZVNsaWRlcikgeyA7IGJ1Zi5wdXNoKCdcXG4gICAgPGgxPlB1bHNlIHJhdGU8L2gxPlxcbiAgICA8ZGl2IGNsYXNzPVwicHVsc2UtcmF0ZVwiPjwvZGl2PlxcbiAgJyk7MTA7IH0gOyBidWYucHVzaCgnXFxuXFxuICAnKTsxMjsgaWYgKGxldmVsLnNob3dCaXRSYXRlQ29udHJvbCkgeyA7IGJ1Zi5wdXNoKCdcXG4gICAgPGgxPkJpdHJhdGU8L2gxPlxcbiAgICA8ZGl2IGNsYXNzPVwiYml0cmF0ZVwiPjwvZGl2PlxcbiAgJyk7MTU7IH0gOyBidWYucHVzaCgnXFxuXFxuICAnKTsxNzsgaWYgKGxldmVsLnNob3dDaHVua1NpemVDb250cm9sKSB7IDsgYnVmLnB1c2goJ1xcbiAgICA8aDE+Q2h1bmsgc2l6ZTwvaDE+XFxuICAgIDxkaXYgY2xhc3M9XCJjaHVuay1zaXplXCI+PC9kaXY+XFxuICAnKTsyMDsgfSA7IGJ1Zi5wdXNoKCdcXG5cXG4gICcpOzIyOyBpZiAobGV2ZWwuc2hvd0VuY29kaW5nQ29udHJvbHMubGVuZ3RoID4gMCkgeyA7IGJ1Zi5wdXNoKCdcXG4gICAgPGRpdiBjbGFzcz1cImVuY29kaW5nXCI+PC9kaXY+XFxuICAnKTsyNDsgfSA7IGJ1Zi5wdXNoKCdcXG5cXG48L2Rpdj5cXG4nKTsgfSkoKTtcbn0gXG5yZXR1cm4gYnVmLmpvaW4oJycpO1xufTtcbiAgcmV0dXJuIGZ1bmN0aW9uKGxvY2Fscykge1xuICAgIHJldHVybiB0KGxvY2FscywgcmVxdWlyZShcImVqc1wiKS5maWx0ZXJzKTtcbiAgfVxufSgpKTsiLCIvKipcbiAqIEBvdmVydmlldyBVSSBjb21wb25lbnQ6IEFuIGFuaW1hdGVkIFNWRyBtZXRyb25vbWUuXG4gKi9cbi8vIFN0cmljdCBsaW50aW5nOiBBYnNvcmIgaW50byBnbG9iYWwgY29uZmlnIHdoZW4gcG9zc2libGVcbi8qIGpzaGludFxuIHVudXNlZDogdHJ1ZSxcbiBlcWVxZXE6IHRydWUsXG4gbWF4bGVuOiAxMjBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgbWFya3VwID0gcmVxdWlyZSgnLi9OZXRTaW1NZXRyb25vbWUuaHRtbC5lanMnKTtcblxuLyoqXG4gKiBBbiBTVkcgXCJtZXRyb25vbWVcIiwgaW4gdGhlIGZvcm0gb2YgYSByYWRpYWwgbWV0ZXIgdGhhdCBmaWxscyBhbmQgcmVzZXRzXG4gKiBhdCBhIHJlZ3VsYXIgaW50ZXJ2YWwuXG4gKlxuICogQHBhcmFtIHtqUXVlcnl9IHJvb3REaXZcbiAqIEBwYXJhbSB7UnVuTG9vcH0gcnVuTG9vcFxuICogQGNvbnN0cnVjdG9yXG4gKi9cbnZhciBOZXRTaW1NZXRyb25vbWUgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChyb290RGl2LCBydW5Mb29wKSB7XG4gIC8qKlxuICAgKiBDb21wb25lbnQgcm9vdCwgd2hpY2ggd2UgZmlsbCB3aGVuZXZlciB3ZSBjYWxsIHJlbmRlcigpXG4gICAqIEB0eXBlIHtqUXVlcnl9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnJvb3REaXZfID0gcm9vdERpdjtcblxuICAvKipcbiAgICogVGltZSBvZiBsYXN0IHB1bHNlLCBpbiBSdW5Mb29wIHNpbXVsYXRpb24gdGltZVxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5sYXN0UHVsc2VUaW1lXyA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogTWlsbGlzZWNvbmRzIGJldHdlZW4gbWV0cm9ub21lIHB1bHNlc1xuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5wdWxzZUludGVydmFsTWlsbGlzXyA9IDA7XG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZWQgcHJvZ3Jlc3MgdG93YXJkIHRoZSBuZXh0IHB1bHNlLCBmcm9tIDAuMCB0byAxLjBcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucHJvZ3Jlc3NfID0gMDtcblxuICAvKipcbiAgICogSG93IGxvbmcgaXQncyBiZWVuIHNpbmNlIHRoZSBsYXN0IHB1bHNlIGluIG1zXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnB1bHNlQWdlXyA9IDA7XG5cbiAgLy8gUmVnaXN0ZXIgd2l0aCBydW4gbG9vcFxuICBydW5Mb29wLnJlbmRlci5yZWdpc3Rlcih0aGlzLnJlbmRlci5iaW5kKHRoaXMpKTtcbn07XG5cbi8qKlxuICogRmlsbCB0aGUgcm9vdCBkaXYgd2l0aCBuZXcgZWxlbWVudHMgcmVmbGVjdGluZyB0aGUgY3VycmVudCBzdGF0ZVxuICogQHBhcmFtIHtSdW5Mb29wLkNsb2NrfSBjbG9ja1xuICovXG5OZXRTaW1NZXRyb25vbWUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIChjbG9jaykge1xuICBpZiAoIXRoaXMubGFzdFB1bHNlVGltZV8pIHtcbiAgICB0aGlzLmxhc3RQdWxzZVRpbWVfID0gY2xvY2sudGltZTtcbiAgfVxuXG4gIC8vIEFuIGluZmluaXRlIGludGVydmFsIG1lYW5zIHdlJ3JlIGVmZmVjdGl2ZWx5IHBhdXNlZCwgc28gc25hcCB0byB6ZXJvXG4gIC8vIHByb2dyZXNzICh2aXN1YWxpemVkIGFzIGFuIFwiZW1wdHlcIiBtZXRlcilcbiAgaWYgKHRoaXMucHVsc2VJbnRlcnZhbE1pbGxpc18gPT09IEluZmluaXR5KSB7XG4gICAgdGhpcy5wcm9ncmVzc18gPSAwO1xuICAgIHRoaXMucHVsc2VBZ2VfID0gSW5maW5pdHk7XG4gIH0gZWxzZSB7XG4gICAgLy8gRm9yIGEgbm9uLWluZmluaXRlIGludGVydmFsLCB1cGRhdGUgdGhlIG1ldGVyIHByb2dyZXNzIHZhbHVlIGFjY29yZGluZ1xuICAgIC8vIHRvIHRoZSBjdXJyZW50IHRpbWUuXG4gICAgdGhpcy5wdWxzZUFnZV8gPSBjbG9jay50aW1lIC0gdGhpcy5sYXN0UHVsc2VUaW1lXztcbiAgICB0aGlzLnByb2dyZXNzXyA9IE1hdGgubWluKHRoaXMucHVsc2VBZ2VfIC8gdGhpcy5wdWxzZUludGVydmFsTWlsbGlzXywgMSk7XG5cbiAgICBpZiAodGhpcy5wdWxzZUFnZV8gPj0gdGhpcy5wdWxzZUludGVydmFsTWlsbGlzXykge1xuICAgICAgLy8gUHVsc2VcbiAgICAgIHZhciBtaW5pbXVtTGFzdFB1bHNlVGltZSA9IGNsb2NrLnRpbWUgLSB0aGlzLnB1bHNlSW50ZXJ2YWxNaWxsaXNfO1xuICAgICAgd2hpbGUgKHRoaXMubGFzdFB1bHNlVGltZV8gPCBtaW5pbXVtTGFzdFB1bHNlVGltZSkge1xuICAgICAgICB0aGlzLmxhc3RQdWxzZVRpbWVfICs9IHRoaXMucHVsc2VJbnRlcnZhbE1pbGxpc187XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIHJlbmRlcmVkTWFya3VwID0gJChtYXJrdXAoe1xuICAgIHByb2dyZXNzOiB0aGlzLnByb2dyZXNzXyxcbiAgICBwdWxzZUFnZTogdGhpcy5wdWxzZUFnZV9cbiAgfSkpO1xuICB0aGlzLnJvb3REaXZfLmh0bWwocmVuZGVyZWRNYXJrdXApO1xufTtcblxuLyoqXG4gKiBDaGFuZ2UgdGhlIG1ldHJvbm9tZSBzcGVlZFxuICogQHBhcmFtIHtudW1iZXJ9IHB1bHNlc1BlclNlY29uZFxuICovXG5OZXRTaW1NZXRyb25vbWUucHJvdG90eXBlLnNldEZyZXF1ZW5jeSA9IGZ1bmN0aW9uIChwdWxzZXNQZXJTZWNvbmQpIHtcbiAgaWYgKHB1bHNlc1BlclNlY29uZCA9PT0gMCB8fCBwdWxzZXNQZXJTZWNvbmQgPT09IEluZmluaXR5KSB7XG4gICAgdGhpcy5wdWxzZUludGVydmFsTWlsbGlzXyA9IEluZmluaXR5O1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLnB1bHNlSW50ZXJ2YWxNaWxsaXNfID0gMTAwMCAvIHB1bHNlc1BlclNlY29uZDtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cz0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdCA9IGZ1bmN0aW9uIGFub255bW91cyhsb2NhbHMsIGZpbHRlcnMsIGVzY2FwZVxuLyoqLykge1xuZXNjYXBlID0gZXNjYXBlIHx8IGZ1bmN0aW9uIChodG1sKXtcbiAgcmV0dXJuIFN0cmluZyhodG1sKVxuICAgIC5yZXBsYWNlKC8mKD8hXFx3KzspL2csICcmYW1wOycpXG4gICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpO1xufTtcbnZhciBidWYgPSBbXTtcbndpdGggKGxvY2FscyB8fCB7fSkgeyAoZnVuY3Rpb24oKXsgXG4gYnVmLnB1c2goJycpOzE7XG4gIGZ1bmN0aW9uIG1vdmVDb21tYW5kKHgsIHkpIHtcbiAgICByZXR1cm4gJ00nICsgeCArICcgJyArIHk7XG4gIH1cblxuICBmdW5jdGlvbiBsaW5lQ29tbWFuZCh4LCB5KSB7XG4gICAgcmV0dXJuICdMICcgKyB4ICsgJyAnICsgeTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFyY0NvbW1hbmQoclgsIHJZLCByb3QsIGxhcmdlQXJjRmxhZywgc3dlZXBGbGFnLCBmaW5hbFgsIGZpbmFsWSkge1xuICAgIHJldHVybiAnQSAnICsgclggKyAnICcgKyByWSArICcsICcgKyByb3QgKyAnLCAnICsgbGFyZ2VBcmNGbGFnICsgJywgJyArIHN3ZWVwRmxhZyArICcsICcgKyBmaW5hbFggKyAnICcgKyBmaW5hbFk7XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVNoYXBlQ29tbWFuZCgpIHtcbiAgICByZXR1cm4gJ1onO1xuICB9XG5cbiAgLyoqXG4gICAqIE91dGVyIHJhZGl1cyBvZiBwcm9ncmVzcyBtZXRlclxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAY29uc3RcbiAgICovXG4gIHZhciBPVVRFUl9SQURVUyA9IDQ1O1xuXG4gIC8qKlxuICAgKiBJbm5lciByYWRpdXMgb2YgcHJvZ3Jlc3MgbWV0ZXIsIGFuZCBtYXhpbXVtIHJhZGl1cyBvZiBwdWxzZSBkb3RcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGNvbnN0XG4gICAqL1xuICB2YXIgSU5ORVJfUkFESVVTID0gMzA7XG5cbiAgLyoqXG4gICAqIEhvdyBsb25nIChpbiBtcykgaXQgdGFrZXMgdGhlIHB1bHNlIGNpcmNsZSB0byBzaHJpbmsgYmFjayB0byBub3RoaW5nIGFmdGVyIGl0IGFwcGVhcnNcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQGNvbnN0XG4gICAqL1xuICB2YXIgUFVMU0VfRkFMTE9GRl9NUyA9IDUwMDtcblxuICAvKipcbiAgICogUmFkaXVzIG9mIHRoZSBpbm5lciBwdWxzZSBkb3QsIGJhc2VkIG9uIHRoZSBwdWxzZSBhZ2UuICBTdGFydHMgZnVsbCBzaXplLCB0aGVuIHNocmlua3NcbiAgICogdG8gcj0wIG92ZXIgUFVMU0VfRkFMTE9GRl9NUy5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHZhciBwdWxzZUZhbGxvZmZOb3JtYWxpemVkUHJvZ3Jlc3MgPSBNYXRoLm1pbihwdWxzZUFnZS8gUFVMU0VfRkFMTE9GRl9NUywgMSk7XG4gIHZhciBwdWxzZURvdFJhZGl1cyA9IElOTkVSX1JBRElVUyAqICgxIC0gcHVsc2VGYWxsb2ZmTm9ybWFsaXplZFByb2dyZXNzKTtcblxuXG4gIC8qKlxuICAgKiBHaXZlbiBhIGNlcnRhaW4gcGVyY2VudGFnZSAoYXMgYSB2YWx1ZSBpbiB0aGUgcmFuZ2UgWzAuMC0xLjBdKSB0aGlzXG4gICAqIGdlbmVyYXRlcyBhIGRhdGEgc3RyaW5nIGZvciBhIFwicGF0aFwiIHN2ZyBvYmplY3QgdGhhdCBkcmF3cyBhIHBhcnRpYWxseS1maWxsZWQgYXJjXG4gICAqIHN3ZWVwaW5nIHRoZSBhcHByb3ByaWF0ZSBwZXJjZW50YWdlIG9mIGEgY2lyY2xlLlxuICAgKiBQcm9ncmVzcyBiZWdpbnMgaXRzIHN3ZWVwIGF0IFwiZWFzdFwiIGFuZCBwcm9jZWVkcyBjbG9ja3dpc2UuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBub3JtYWxpemVkUHJvZ3Jlc3MgLSBudW1iZXIgZnJvbSAwLjAgdG8gMS4wXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IGRhdGEgc3RyaW5nIG9mIGNvbW1hbmRzIGZvciBTVkcgcGF0aFxuICAgKi9cbiAgZnVuY3Rpb24gcHJvZ3Jlc3NNZXRlclN2Z1BhdGhEYXRhKG5vcm1hbGl6ZWRQcm9ncmVzcykge1xuICAgIHZhciB0ZXJtaW5hbFJhZGlhbnMgPSAyICogTWF0aC5QSSAqIG5vcm1hbGl6ZWRQcm9ncmVzc1xuICAgIHZhciBsYXJnZUFyYyA9IChub3JtYWxpemVkUHJvZ3Jlc3MgPj0gMC41KSA/IDEgOiAwO1xuICAgIHZhciBzaW5BbmdsZSA9IE1hdGguc2luKHRlcm1pbmFsUmFkaWFucyk7XG4gICAgdmFyIGNvc0FuZ2xlID0gTWF0aC5jb3ModGVybWluYWxSYWRpYW5zKTtcbiAgICB2YXIgb3V0ZXJUZXJtaW5hbFggPSBPVVRFUl9SQURVUyAqIGNvc0FuZ2xlO1xuICAgIHZhciBvdXRlclRlcm1pbmFsWSA9IE9VVEVSX1JBRFVTICogc2luQW5nbGU7XG4gICAgdmFyIGlubmVyVGVybWluYWxYID0gSU5ORVJfUkFESVVTICogY29zQW5nbGU7XG4gICAgdmFyIGlubmVyVGVybWluYWxZID0gSU5ORVJfUkFESVVTICogc2luQW5nbGU7XG4gICAgcmV0dXJuIFtcbiAgICAgIG1vdmVDb21tYW5kKE9VVEVSX1JBRFVTLCAwKSxcbiAgICAgIGFyY0NvbW1hbmQoT1VURVJfUkFEVVMsIE9VVEVSX1JBRFVTLCAwLCBsYXJnZUFyYywgMSwgb3V0ZXJUZXJtaW5hbFgsIG91dGVyVGVybWluYWxZKSxcbiAgICAgIGxpbmVDb21tYW5kKGlubmVyVGVybWluYWxYLCBpbm5lclRlcm1pbmFsWSksXG4gICAgICBhcmNDb21tYW5kKElOTkVSX1JBRElVUywgSU5ORVJfUkFESVVTLCAwLCBsYXJnZUFyYywgMCwgSU5ORVJfUkFESVVTLCAwKSxcbiAgICAgIGNsb3NlU2hhcGVDb21tYW5kKClcbiAgICBdLmpvaW4oJyAnKTtcbiAgfVxuOyBidWYucHVzaCgnXFxuPGRpdiBjbGFzcz1cIm5ldHNpbS1tZXRyb25vbWVcIj5cXG4gIDxzdmcgdmVyc2lvbj1cIjEuMVwiIHdpZHRoPVwiMTAwXCIgaGVpZ2h0PVwiMTAwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxcbiAgICA8ZyBpZD1cImNlbnRlcmVkLWdyb3VwXCIgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDUwLDUwKVwiPlxcbiAgICAgIDxjaXJjbGUgcj1cIjQ4XCIgY3g9XCIwXCIgY3k9XCIwXCIgZmlsbD1cImRhcmtncmF5XCI+PC9jaXJjbGU+XFxuICAgICAgPGNpcmNsZSByPVwiNDhcIiBjeD1cIi0xXCIgY3k9XCIxXCIgZmlsbD1cImxpZ2h0Z3JheVwiPjwvY2lyY2xlPlxcbiAgICAgIDxjaXJjbGUgcj1cIjQ2XCIgY3g9XCIwXCIgY3k9XCIwXCIgZmlsbD1cIiNmNWY1ZjVcIj48L2NpcmNsZT5cXG4gICAgICA8Y2lyY2xlIGNsYXNzPVwicHVsc2UtZG90XCIgcj1cIicsIGVzY2FwZSgoODAsICBwdWxzZURvdFJhZGl1cyApKSwgJ1wiIGN4PVwiMFwiIGN5PVwiMFwiPjwvY2lyY2xlPlxcbiAgICAgIDxnIHRyYW5zZm9ybT1cInJvdGF0ZSgtOTApXCI+XFxuICAgICAgICA8cGF0aCBjbGFzcz1cInByb2dyZXNzLW1ldGVyXCIgZD1cIicsIGVzY2FwZSgoODIsICBwcm9ncmVzc01ldGVyU3ZnUGF0aERhdGEocHJvZ3Jlc3MpICkpLCAnXCI+PC9wYXRoPlxcbiAgICAgIDwvZz5cXG4gICAgPC9nPlxcbiAgPC9zdmc+XFxuPC9kaXY+XFxuJyk7IH0pKCk7XG59IFxucmV0dXJuIGJ1Zi5qb2luKCcnKTtcbn07XG4gIHJldHVybiBmdW5jdGlvbihsb2NhbHMpIHtcbiAgICByZXR1cm4gdChsb2NhbHMsIHJlcXVpcmUoXCJlanNcIikuZmlsdGVycyk7XG4gIH1cbn0oKSk7IiwiLyoqXG4gKiBAb3ZlcnZpZXcgVUkgc2xpZGVyIHVzZWQgdG8gY29udHJvbCByb3V0ZXIgbWVtb3J5IHNpemUuXG4gKi9cbi8vIFN0cmljdCBsaW50aW5nOiBBYnNvcmIgaW50byBnbG9iYWwgY29uZmlnIHdoZW4gcG9zc2libGVcbi8qIGpzaGludFxuIHVudXNlZDogdHJ1ZSxcbiBlcWVxZXE6IHRydWUsXG4gbWF4bGVuOiAxMjBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5yZXF1aXJlKCcuLi91dGlscycpO1xudmFyIE5ldFNpbUNvbnN0YW50cyA9IHJlcXVpcmUoJy4vTmV0U2ltQ29uc3RhbnRzJyk7XG52YXIgTmV0U2ltVXRpbHMgPSByZXF1aXJlKCcuL05ldFNpbVV0aWxzJyk7XG52YXIgTmV0U2ltU2xpZGVyID0gcmVxdWlyZSgnLi9OZXRTaW1TbGlkZXInKTtcblxuLyoqXG4gKiBHZW5lcmF0b3IgYW5kIGNvbnRyb2xsZXIgZm9yIHBhY2tldCBzaXplIHNsaWRlci9zZWxlY3RvclxuICogQHBhcmFtIHtqUXVlcnl9IHJvb3REaXZcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHNsaWRlckNoYW5nZUNhbGxiYWNrXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzbGlkZXJTdG9wQ2FsbGJhY2tcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgTmV0U2ltTWVtb3J5Q29udHJvbCA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHJvb3REaXYsXG4gICAgc2xpZGVyQ2hhbmdlQ2FsbGJhY2ssIHNsaWRlclN0b3BDYWxsYmFjaykge1xuICBOZXRTaW1TbGlkZXIuTG9nYXJpdGhtaWNTbGlkZXIuY2FsbCh0aGlzLCByb290RGl2LCB7XG4gICAgb25DaGFuZ2U6IHNsaWRlckNoYW5nZUNhbGxiYWNrLFxuICAgIG9uU3RvcDogc2xpZGVyU3RvcENhbGxiYWNrLFxuICAgIHZhbHVlOiBJbmZpbml0eSxcbiAgICBtaW46IE5ldFNpbUNvbnN0YW50cy5CSVRTX1BFUl9CWVRFLFxuICAgIG1heDogTmV0U2ltQ29uc3RhbnRzLkJJVFNfUEVSX01FR0FCWVRFLFxuICAgIHVwcGVyQm91bmRJbmZpbml0ZTogdHJ1ZVxuICB9KTtcblxuICAvLyBBdXRvLXJlbmRlciwgdW5saWtlIG91ciBiYXNlIGNsYXNzXG4gIHRoaXMucmVuZGVyKCk7XG59O1xuTmV0U2ltTWVtb3J5Q29udHJvbC5pbmhlcml0cyhOZXRTaW1TbGlkZXIuTG9nYXJpdGhtaWNTbGlkZXIpO1xuXG4vKipcbiAqIENvbnZlcnRzIGEgbnVtZXJpYyBtZW1vcnkgdmFsdWUgKGluIGJpdHMpIGludG8gYSBjb21wYWN0IGxvY2FsaXplZCBzdHJpbmdcbiAqIHJlcHJlc2VudGF0aW9uIG9mIHRoYXQgdmFsdWUuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIC0gbnVtZXJpYyB2YWx1ZSBvZiB0aGUgY29udHJvbFxuICogQHJldHVybnMge3N0cmluZ30gLSBsb2NhbGl6ZWQgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHZhbHVlXG4gKiBAb3ZlcnJpZGVcbiAqL1xuTmV0U2ltTWVtb3J5Q29udHJvbC5wcm90b3R5cGUudmFsdWVUb0xhYmVsID0gZnVuY3Rpb24gKHZhbCkge1xuICByZXR1cm4gTmV0U2ltVXRpbHMuYml0c1RvTG9jYWxpemVkUm91bmRlZEJ5dGVzaXplKHZhbCk7XG59O1xuIiwiLyoqXG4gKiBAb3ZlcnZpZXcgVUkgY29tcG9uZW50LCBhIGxvZyBwYW5lbCAodXNlZCBhcyBcIlNlbnQgUGFja2V0c1wiIGFuZFxuICogICAgICAgICAgIFwiUmVjZWl2ZWQgUGFja2V0c1wiKSB0aGF0IGlzIHVzZWQgaW4gdGhlIHBhY2tldC1zZW5kaW5nXG4gKiAgICAgICAgICAgY29uZmlndXJhdGlvbnMgb2YgdGhlIHNpbXVsYXRvci5cbiAqXG4gKiBAc2VlIElOZXRTaW1Mb2dQYW5lbCBmb3IgdGhlIGludGVyZmFjZSBpbXBsZW1lbnRlZCBoZXJlLlxuICogQHNlZSBOZXRTaW1CaXRMb2dQYW5lbCBmb3IgdGhlIGNvbXBvbmVudCB1c2VkIGluIGJpdC1zZW5kaW5nIG1vZGUuXG4gKi9cbi8vIFN0cmljdCBsaW50aW5nOiBBYnNvcmIgaW50byBnbG9iYWwgY29uZmlnIHdoZW4gcG9zc2libGVcbi8qIGpzaGludFxuIHVudXNlZDogdHJ1ZSxcbiBlcWVxZXE6IHRydWUsXG4gbWF4bGVuOiAxMjBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xudmFyIGkxOG4gPSByZXF1aXJlKCcuL2xvY2FsZScpO1xudmFyIG1hcmt1cCA9IHJlcXVpcmUoJy4vTmV0U2ltTG9nUGFuZWwuaHRtbC5lanMnKTtcbnZhciBQYWNrZXQgPSByZXF1aXJlKCcuL1BhY2tldCcpO1xudmFyIHBhY2tldE1hcmt1cCA9IHJlcXVpcmUoJy4vTmV0U2ltTG9nUGFja2V0Lmh0bWwuZWpzJyk7XG52YXIgTmV0U2ltUGFuZWwgPSByZXF1aXJlKCcuL05ldFNpbVBhbmVsJyk7XG52YXIgTmV0U2ltRW5jb2RpbmdDb250cm9sID0gcmVxdWlyZSgnLi9OZXRTaW1FbmNvZGluZ0NvbnRyb2wnKTtcbnZhciBOZXRTaW1HbG9iYWxzID0gcmVxdWlyZSgnLi9OZXRTaW1HbG9iYWxzJyk7XG5cbi8qKlxuICogSG93IGxvbmcgdGhlIFwiZW50cmFuY2VcIiBhbmltYXRpb24gZm9yIG5ldyBtZXNzYWdlcyBsYXN0cywgaW4gbWlsbGlzZWNvbmRzLlxuICogQHR5cGUge251bWJlcn1cbiAqIEBjb25zdFxuICovXG52YXIgTUVTU0FHRV9TTElERV9JTl9EVVJBVElPTl9NUyA9IDQwMDtcblxuLyoqXG4gKiBIb3cgbWFueSBwYWNrZXRzIHRoZSBsb2cgbWF5IGtlZXAgaW4gaXRzIGhpc3RvcnkgKGFuZCBpbiB0aGUgRE9NISlcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAY29uc3RcbiAqL1xudmFyIERFRkFVTFRfTUFYSU1VTV9MT0dfUEFDS0VUUyA9IDUwO1xuXG4vKipcbiAqIE9iamVjdCB0aGF0IGNhbiBiZSBzZW50IGRhdGEgdG8gYmUgYnJvd3NlZCBieSB0aGUgdXNlciBhdCB0aGVpciBkaXNjcmV0aW9uXG4gKiBAaW50ZXJmYWNlXG4gKiBAbmFtZSBJTmV0U2ltTG9nUGFuZWxcbiAqL1xuXG4vKipcbiAqIFB1dCBkYXRhIGludG8gdGhlIGxvZ1xuICogQGZ1bmN0aW9uXG4gKiBAbmFtZSBJTmV0U2ltTG9nUGFuZWwjbG9nXG4gKiBAcGFyYW0ge3N0cmluZ30gYmluYXJ5XG4gKi9cblxuLyoqXG4gKiBTaG93IG9yIGhpZGUgcGFydHMgb2YgdGhlIGxvZyBiYXNlZCBvbiB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGVuY29kaW5nIG1vZGUuXG4gKiBAZnVuY3Rpb25cbiAqIEBuYW1lIElOZXRTaW1Mb2dQYW5lbCNzZXRFbmNvZGluZ3NcbiAqIEBwYXJhbSB7RW5jb2RpbmdUeXBlW119IG5ld0VuY29kaW5nc1xuICovXG5cbi8qKlxuICogQ2hhbmdlIGhvdyBiaW5hcnkgaW5wdXQgaW4gaW50ZXJwcmV0ZWQgYW5kIGZvcm1hdHRlZCBpbiB0aGUgbG9nLlxuICogQGZ1bmN0aW9uXG4gKiBAbmFtZSBJTmV0U2ltTG9nUGFuZWwjc2V0Q2h1bmtTaXplXG4gKiBAcGFyYW0ge251bWJlcn0gbmV3Q2h1bmtTaXplXG4gKi9cblxuLyoqXG4gKiBAZnVuY3Rpb25cbiAqIEBuYW1lIElOZXRTaW1Mb2dQYW5lbCNnZXRIZWlnaHRcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHZlcnRpY2FsIHNwYWNlIHRoYXQgcGFuZWwgY3VycmVudGx5IGNvbnN1bWVzIChpbmNsdWRpbmdcbiAqICAgICAgICAgIG1hcmdpbnMpIGluIHBpeGVscy5cbiAqL1xuXG4vKipcbiAqIFNldHMgdGhlIHZlcnRpY2FsIHNwYWNlIHRoYXQgdGhpcyBsb2cgcGFuZWwgc2hvdWxkIGNvbnN1bWUgKGluY2x1ZGluZyBtYXJnaW5zKVxuICogQGZ1bmN0aW9uXG4gKiBAbmFtZSBJTmV0U2ltTG9nUGFuZWwjc2V0SGVpZ2h0XG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0UGl4ZWxzXG4gKi9cblxuLyoqXG4gKiBHZW5lcmF0b3IgYW5kIGNvbnRyb2xsZXIgZm9yIG1lc3NhZ2UgbG9nLlxuICogQHBhcmFtIHtqUXVlcnl9IHJvb3REaXZcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucy5sb2dUaXRsZVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5pc01pbmltaXplZF0gZGVmYXVsdHMgdG8gRkFMU0VcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuaGFzVW5yZWFkTWVzc2FnZXNdIGRlZmF1bHRzIHRvIEZBTFNFXG4gKiBAcGFyYW0ge1BhY2tldC5IZWFkZXJUeXBlW119IG9wdGlvbnMucGFja2V0U3BlY1xuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heGltdW1Mb2dQYWNrZXRzXSBIb3cgbWFueSBwYWNrZXRzIHRoZSBsb2cgd2lsbFxuICogICAgICAgIGtlZXAgYmVmb3JlIGl0IHN0YXJ0cyBkcm9wcGluZyB0aGUgb2xkZXN0IG9uZXMuICBEZWZhdWx0cyB0b1xuICogICAgICAgIERFRkFVTFRfTUFYSU1VTV9MT0dfUEFDS0VUUy5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGF1Z21lbnRzIE5ldFNpbVBhbmVsXG4gKiBAaW1wbGVtZW50cyBJTmV0U2ltTG9nUGFuZWxcbiAqL1xudmFyIE5ldFNpbUxvZ1BhbmVsID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAocm9vdERpdiwgb3B0aW9ucykge1xuICAvKipcbiAgICogQHR5cGUge1BhY2tldC5IZWFkZXJUeXBlW119XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnBhY2tldFNwZWNfID0gb3B0aW9ucy5wYWNrZXRTcGVjO1xuXG4gIC8qKlxuICAgKiBMaXN0IG9mIGNvbnRyb2xsZXJzIGZvciBjdXJyZW50bHkgZGlzcGxheWVkIHBhY2tldHMuXG4gICAqIEB0eXBlIHtBcnJheS48TmV0U2ltTG9nUGFja2V0Pn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucGFja2V0c18gPSBbXTtcblxuICAvKipcbiAgICogQSBtZXNzYWdlIGVuY29kaW5nIChkaXNwbGF5KSBzZXR0aW5nLlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5jdXJyZW50RW5jb2RpbmdzXyA9IFtdO1xuXG4gIC8qKlxuICAgKiBDdXJyZW50IGNodW5rIHNpemUgKGJ5dGVzaXplKSBmb3IgaW50ZXJwcmV0aW5nIGJpbmFyeSBpbiB0aGUgbG9nLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5jdXJyZW50Q2h1bmtTaXplXyA9IDg7XG5cbiAgLyoqXG4gICAqIExvY2FsaXplZCBwYW5lbCB0aXRsZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5sb2dUaXRsZV8gPSBvcHRpb25zLmxvZ1RpdGxlO1xuXG4gIC8qKlxuICAgKiBXaGV0aGVyIG5ld2x5IGxvZ2dlZCBtZXNzYWdlcyBpbiB0aGlzIGxvZyBzaG91bGQgYmUgbWFya2VkIGFzIHVucmVhZFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuaGFzVW5yZWFkTWVzc2FnZXNfID0gISEob3B0aW9ucy5oYXNVbnJlYWRNZXNzYWdlcyk7XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBwYWNrZXRzIHRoaXMgbG9nIHBhbmVsIHdpbGwga2VlcCBpbiBpdHMgbWVtb3J5XG4gICAqIGFuZCBpbiB0aGUgRE9NLCBzbyB3ZSBkb24ndCBoYXZlIGEgZm9yZXZlci1ncm93aW5nIGxvZy5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQHByaXZhdGUsLFxuICAgKi9cbiAgdGhpcy5tYXhpbXVtTG9nUGFja2V0c18gPSB1dGlscy52YWx1ZU9yKG9wdGlvbnMubWF4aW11bUxvZ1BhY2tldHMsXG4gICAgICBERUZBVUxUX01BWElNVU1fTE9HX1BBQ0tFVFMpO1xuXG4gIC8vIEluaXRpYWwgcmVuZGVyXG4gIE5ldFNpbVBhbmVsLmNhbGwodGhpcywgcm9vdERpdiwge1xuICAgIGNsYXNzTmFtZTogJ25ldHNpbS1sb2ctcGFuZWwnLFxuICAgIHBhbmVsVGl0bGU6IG9wdGlvbnMubG9nVGl0bGUsXG4gICAgYmVnaW5NaW5pbWl6ZWQ6IG9wdGlvbnMuaXNNaW5pbWl6ZWRcbiAgfSk7XG59O1xuTmV0U2ltTG9nUGFuZWwuaW5oZXJpdHMoTmV0U2ltUGFuZWwpO1xuXG5OZXRTaW1Mb2dQYW5lbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAvLyBDcmVhdGUgYm9pbGVycGxhdGUgcGFuZWwgbWFya3VwXG4gIE5ldFNpbUxvZ1BhbmVsLnN1cGVyUHJvdG90eXBlLnJlbmRlci5jYWxsKHRoaXMpO1xuXG4gIC8vIEFkZCBvdXIgb3duIGNvbnRlbnQgbWFya3VwXG4gIHZhciBuZXdNYXJrdXAgPSAkKG1hcmt1cCh7fSkpO1xuICB0aGlzLmdldEJvZHkoKS5odG1sKG5ld01hcmt1cCk7XG5cbiAgLy8gQWRkIGEgY2xlYXIgYnV0dG9uIHRvIHRoZSBwYW5lbCBoZWFkZXJcbiAgdGhpcy5hZGRCdXR0b24oaTE4bi5jbGVhcigpLCB0aGlzLm9uQ2xlYXJCdXR0b25QcmVzc18uYmluZCh0aGlzKSk7XG5cbiAgLy8gQmluZCByZWZlcmVuY2UgdG8gc2Nyb2xsQXJlYSBmb3IgdXNlIHdoZW4gbG9nZ2luZy5cbiAgdGhpcy5zY3JvbGxBcmVhXyA9IHRoaXMuZ2V0Qm9keSgpLmZpbmQoJy5zY3JvbGwtYXJlYScpO1xuXG4gIHRoaXMudXBkYXRlVW5yZWFkQ291bnQoKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBwYWNrZXRzIGZyb20gdGhlIGxvZywgcmVzZXR0aW5nIGl0cyBzdGF0ZS5cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbUxvZ1BhbmVsLnByb3RvdHlwZS5vbkNsZWFyQnV0dG9uUHJlc3NfID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnNjcm9sbEFyZWFfLmVtcHR5KCk7XG4gIHRoaXMucGFja2V0c18ubGVuZ3RoID0gMDtcblxuICB0aGlzLnVwZGF0ZVVucmVhZENvdW50KCk7XG59O1xuXG4vKipcbiAqIFB1dCBhIG1lc3NhZ2UgaW50byB0aGUgbG9nLlxuICogQHBhcmFtIHtzdHJpbmd9IHBhY2tldEJpbmFyeVxuICogQHBhcmFtIHtudW1iZXJ9IHBhY2tldElEXG4gKi9cbk5ldFNpbUxvZ1BhbmVsLnByb3RvdHlwZS5sb2cgPSBmdW5jdGlvbiAocGFja2V0QmluYXJ5LCBwYWNrZXRJRCkge1xuXG4gIHZhciBwYWNrZXRBbHJlYWR5SW5Mb2cgPSB0aGlzLnBhY2tldHNfLnNvbWUoZnVuY3Rpb24gKHBhY2tldCkge1xuICAgIHJldHVybiBwYWNrZXQucGFja2V0SUQgPT09IHBhY2tldElEO1xuICB9KTtcblxuICBpZiAocGFja2V0QWxyZWFkeUluTG9nKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gUmVtb3ZlIGFsbCBwYWNrZXRzIHRoYXQgYXJlIGJleW9uZCBvdXIgbWF4aW11bSBzaXplXG4gIHRoaXMucGFja2V0c19cbiAgICAgIC5zcGxpY2UodGhpcy5tYXhpbXVtTG9nUGFja2V0c18gLSAxLCB0aGlzLnBhY2tldHNfLmxlbmd0aClcbiAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChwYWNrZXQpIHtcbiAgICAgICAgcGFja2V0LmdldFJvb3QoKS5yZW1vdmUoKTtcbiAgICAgIH0pO1xuXG4gIHZhciBuZXdQYWNrZXQgPSBuZXcgTmV0U2ltTG9nUGFja2V0KHBhY2tldEJpbmFyeSwgcGFja2V0SUQsIHtcbiAgICBwYWNrZXRTcGVjOiB0aGlzLnBhY2tldFNwZWNfLFxuICAgIGVuY29kaW5nczogdGhpcy5jdXJyZW50RW5jb2RpbmdzXyxcbiAgICBjaHVua1NpemU6IHRoaXMuY3VycmVudENodW5rU2l6ZV8sXG4gICAgaXNVbnJlYWQ6IHRoaXMuaGFzVW5yZWFkTWVzc2FnZXNfLFxuICAgIG1hcmtBc1JlYWRDYWxsYmFjazogdGhpcy51cGRhdGVVbnJlYWRDb3VudC5iaW5kKHRoaXMpXG4gIH0pO1xuXG4gIG5ld1BhY2tldC5nZXRSb290KCkucHJlcGVuZFRvKHRoaXMuc2Nyb2xsQXJlYV8pO1xuXG4gIHZhciBzY3JvbGxUb3AgPSB0aGlzLnNjcm9sbEFyZWFfLnNjcm9sbFRvcCgpO1xuXG4gIGlmIChzY3JvbGxUb3AgPT09IDApIHtcbiAgICAvLyBJZiBzY3JvbGxlZCB0byB0aGUgdG9wLCBhbmltYXRlIGEgcHJldHR5IHNsaWRlZG93blxuICAgIG5ld1BhY2tldC5nZXRSb290KCkuaGlkZSgpO1xuICAgIG5ld1BhY2tldC5nZXRSb290KCkuc2xpZGVEb3duKE1FU1NBR0VfU0xJREVfSU5fRFVSQVRJT05fTVMpO1xuICB9IGVsc2Uge1xuICAgIC8vIElmIHdlJ3JlIHNvbWV3aGVyZSBpbiB0aGUgbWlkZGxlIG9mIHRoZSBtZXNzYWdlcywgc2Nyb2xsIFwiZG93blwiXG4gICAgLy8gdG8gbWFpbnRhaW4gb3VyIHBsYWNlIHJlbGF0aXZlIHRvIHRoZSBtZXNzYWdlcyB3ZSdyZSBsb29raW5nIGF0XG5cbiAgICAvLyBTY3JvbGxpbmcgb25seSB0YWtlcyB0aGUgYm90dG9tIG1hcmdpbiBpbnRvIGFjY291bnQsIG5vdCB0b3BcbiAgICB2YXIgcGFja2V0SGVpZ2h0ID0gbmV3UGFja2V0LmdldFJvb3QoKS5vdXRlckhlaWdodCgpICtcbiAgICAgICAgcGFyc2VJbnQobmV3UGFja2V0LmdldFJvb3QoKS5jc3MoJ21hcmdpbkJvdHRvbScpKTtcblxuICAgIHRoaXMuc2Nyb2xsQXJlYV8uc2Nyb2xsVG9wKHNjcm9sbFRvcCArIHBhY2tldEhlaWdodCk7XG4gIH1cblxuICB0aGlzLnBhY2tldHNfLnVuc2hpZnQobmV3UGFja2V0KTtcblxuICB0aGlzLnVwZGF0ZVVucmVhZENvdW50KCk7XG59O1xuXG5OZXRTaW1Mb2dQYW5lbC5wcm90b3R5cGUudXBkYXRlVW5yZWFkQ291bnQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB1bnJlYWRDb3VudCA9IHRoaXMucGFja2V0c18ucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXIpIHtcbiAgICByZXR1cm4gcHJldiArIChjdXIuaXNVbnJlYWQgPyAxIDogMCk7XG4gIH0sIDApO1xuXG4gIGlmICh1bnJlYWRDb3VudCA+IDApIHtcbiAgICB0aGlzLnNldFBhbmVsVGl0bGUoaTE4bi5hcHBlbmRDb3VudFRvVGl0bGUoe1xuICAgICAgdGl0bGU6IHRoaXMubG9nVGl0bGVfLFxuICAgICAgY291bnQ6IHVucmVhZENvdW50XG4gICAgfSkpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuc2V0UGFuZWxUaXRsZSh0aGlzLmxvZ1RpdGxlXyk7XG4gIH1cbn07XG5cbi8qKlxuICogU2hvdyBvciBoaWRlIHBhcnRzIG9mIHRoZSBzZW5kIFVJIGJhc2VkIG9uIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZW5jb2RpbmdcbiAqIG1vZGUuXG4gKiBAcGFyYW0ge0VuY29kaW5nVHlwZVtdfSBuZXdFbmNvZGluZ3NcbiAqL1xuTmV0U2ltTG9nUGFuZWwucHJvdG90eXBlLnNldEVuY29kaW5ncyA9IGZ1bmN0aW9uIChuZXdFbmNvZGluZ3MpIHtcbiAgdGhpcy5jdXJyZW50RW5jb2RpbmdzXyA9IG5ld0VuY29kaW5ncztcbiAgdGhpcy5wYWNrZXRzXy5mb3JFYWNoKGZ1bmN0aW9uIChwYWNrZXQpIHtcbiAgICBwYWNrZXQuc2V0RW5jb2RpbmdzKG5ld0VuY29kaW5ncyk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBDaGFuZ2UgaG93IGJpbmFyeSBpbnB1dCBpbiBpbnRlcnByZXRlZCBhbmQgZm9ybWF0dGVkIGluIHRoZSBsb2cuXG4gKiBAcGFyYW0ge251bWJlcn0gbmV3Q2h1bmtTaXplXG4gKi9cbk5ldFNpbUxvZ1BhbmVsLnByb3RvdHlwZS5zZXRDaHVua1NpemUgPSBmdW5jdGlvbiAobmV3Q2h1bmtTaXplKSB7XG4gIHRoaXMuY3VycmVudENodW5rU2l6ZV8gPSBuZXdDaHVua1NpemU7XG4gIHRoaXMucGFja2V0c18uZm9yRWFjaChmdW5jdGlvbiAocGFja2V0KSB7XG4gICAgcGFja2V0LnNldENodW5rU2l6ZShuZXdDaHVua1NpemUpO1xuICB9KTtcbn07XG5cbi8qKlxuICogQSBjb21wb25lbnQvY29udHJvbGxlciBmb3IgZGlzcGxheSBvZiBhbiBpbmRpdmlkdWFsIHBhY2tldCBpbiB0aGUgbG9nLlxuICogQHBhcmFtIHtzdHJpbmd9IHBhY2tldEJpbmFyeSAtIHJhdyBwYWNrZXQgZGF0YVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7UGFja2V0LkhlYWRlclR5cGVbXX0gb3B0aW9ucy5wYWNrZXRTcGVjXG4gKiBAcGFyYW0ge0VuY29kaW5nVHlwZVtdfSBvcHRpb25zLmVuY29kaW5ncyAtIHdoaWNoIGRpc3BsYXkgc3R5bGUgdG8gdXNlIGluaXRpYWxseVxuICogQHBhcmFtIHtudW1iZXJ9IG9wdGlvbnMuY2h1bmtTaXplIC0gKG9yIGJ5dGVzaXplKSB0byB1c2Ugd2hlbiBpbnRlcnByZXRpbmcgYW5kXG4gKiAgICAgICAgZm9ybWF0dGluZyB0aGUgZGF0YS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5pc1VucmVhZCAtIHdoZXRoZXIgdGhpcyBwYWNrZXQgc2hvdWxkIGJlIHN0eWxlZFxuICogICAgICAgIGFzIFwidW5yZWFkXCIgYW5kIGhhdmUgYSBcIm1hcmsgYXMgcmVhZFwiIGJ1dHRvblxuICogQHBhcmFtIHtmdW5jdGlvbn0gb3B0aW9ucy5tYXJrQXNSZWFkQ2FsbGJhY2tcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgTmV0U2ltTG9nUGFja2V0ID0gZnVuY3Rpb24gKHBhY2tldEJpbmFyeSwgcGFja2V0SUQsIG9wdGlvbnMpIHtcblxuICAvKipcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMucGFja2V0SUQgPSBwYWNrZXRJRDtcblxuICAvKipcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucGFja2V0QmluYXJ5XyA9IHBhY2tldEJpbmFyeTtcblxuICAvKipcbiAgICogQHR5cGUge1BhY2tldC5IZWFkZXJUeXBlW119XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnBhY2tldFNwZWNfID0gb3B0aW9ucy5wYWNrZXRTcGVjO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7RW5jb2RpbmdUeXBlW119XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmVuY29kaW5nc18gPSBvcHRpb25zLmVuY29kaW5ncztcblxuICAvKipcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuY2h1bmtTaXplXyA9IG9wdGlvbnMuY2h1bmtTaXplO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIHRoaXMuaXNVbnJlYWQgPSBvcHRpb25zLmlzVW5yZWFkO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIHRoaXMuaXNNaW5pbWl6ZWQgPSBmYWxzZTtcblxuICAvKipcbiAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5tYXJrQXNSZWFkQ2FsbGJhY2tfID0gb3B0aW9ucy5tYXJrQXNSZWFkQ2FsbGJhY2s7XG5cbiAgLyoqXG4gICAqIFdyYXBwZXIgZGl2IHRoYXQgd2UgY3JlYXRlIG9uY2UsIGFuZCBmaWxsIHJlcGVhdGVkbHkgd2l0aCByZW5kZXIoKVxuICAgKiBAdHlwZSB7alF1ZXJ5fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5yb290RGl2XyA9ICQoJzxkaXY+JykuYWRkQ2xhc3MoJ3BhY2tldCcpO1xuICB0aGlzLnJvb3REaXZfLmNsaWNrKHRoaXMubWFya0FzUmVhZC5iaW5kKHRoaXMpKTtcblxuICAvLyBJbml0aWFsIGNvbnRlbnQgcG9wdWxhdGlvblxuICB0aGlzLnJlbmRlcigpO1xufTtcblxuLyoqXG4gKiBSZS1yZW5kZXIgZGl2IGNvbnRlbnRzIHRvIHJlcHJlc2VudCB0aGUgcGFja2V0IGluIGEgZGlmZmVyZW50IHdheS5cbiAqL1xuTmV0U2ltTG9nUGFja2V0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBlbmNvZGluZ3NIYXNoID0gTmV0U2ltRW5jb2RpbmdDb250cm9sLmVuY29kaW5nc0FzSGFzaCh0aGlzLmVuY29kaW5nc18pO1xuICB2YXIgcmF3TWFya3VwID0gcGFja2V0TWFya3VwKHtcbiAgICBwYWNrZXRCaW5hcnk6IHRoaXMucGFja2V0QmluYXJ5XyxcbiAgICBwYWNrZXRTcGVjOiB0aGlzLnBhY2tldFNwZWNfLFxuICAgIGVuYWJsZWRFbmNvZGluZ3NIYXNoOiBlbmNvZGluZ3NIYXNoLFxuICAgIGNodW5rU2l6ZTogdGhpcy5jaHVua1NpemVfLFxuICAgIGlzTWluaW1pemVkOiB0aGlzLmlzTWluaW1pemVkXG4gIH0pO1xuICB2YXIgalF1ZXJ5V3JhcCA9ICQocmF3TWFya3VwKTtcbiAgTmV0U2ltTG9nUGFuZWwuYWRqdXN0SGVhZGVyQ29sdW1uV2lkdGhzKGpRdWVyeVdyYXApO1xuICBOZXRTaW1FbmNvZGluZ0NvbnRyb2wuaGlkZVJvd3NCeUVuY29kaW5nKGpRdWVyeVdyYXAsIHRoaXMuZW5jb2RpbmdzXyk7XG4gIHRoaXMucm9vdERpdl8uaHRtbChqUXVlcnlXcmFwKTtcbiAgdGhpcy5yb290RGl2Xy5maW5kKCcuZXhwYW5kZXInKS5jbGljayh0aGlzLnRvZ2dsZU1pbmltaXplZC5iaW5kKHRoaXMpKTtcbiAgdGhpcy5yb290RGl2Xy50b2dnbGVDbGFzcygndW5yZWFkJywgdGhpcy5pc1VucmVhZCk7XG59O1xuXG4vKipcbiAqIFJldHVybiByb290IGRpdiwgZm9yIGhvb2tpbmcgdXAgdG8gYSBwYXJlbnQgZWxlbWVudC5cbiAqIEByZXR1cm5zIHtqUXVlcnl9XG4gKi9cbk5ldFNpbUxvZ1BhY2tldC5wcm90b3R5cGUuZ2V0Um9vdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMucm9vdERpdl87XG59O1xuXG4vKipcbiAqIEJlbmVhdGggdGhlIGdpdmVuIHJvb3QgZWxlbWVudCwgYWRqdXN0IHdpZHRocyBvZiBwYWNrZXQgaGVhZGVyIGNvbHVtbnNcbiAqIGFuZCBmaWVsZHMgdG8gbWF0Y2ggdGhlIGxldmVsJ3MgY29uZmlndXJlZCBwYWNrZXQgZm9ybWF0LlxuICogQHBhcmFtIHtqUXVlcnl9IHJvb3RFbGVtZW50XG4gKi9cbk5ldFNpbUxvZ1BhbmVsLmFkanVzdEhlYWRlckNvbHVtbldpZHRocyA9IGZ1bmN0aW9uIChyb290RWxlbWVudCkge1xuICB2YXIgbGV2ZWwgPSBOZXRTaW1HbG9iYWxzLmdldExldmVsQ29uZmlnKCk7XG4gIHZhciBlbmNvZGVyID0gbmV3IFBhY2tldC5FbmNvZGVyKFxuICAgICAgbGV2ZWwuYWRkcmVzc0Zvcm1hdCxcbiAgICAgIGxldmVsLnBhY2tldENvdW50Qml0V2lkdGgsXG4gICAgICBsZXZlbC5jbGllbnRJbml0aWFsUGFja2V0SGVhZGVyKTtcbiAgdmFyIGFkZHJlc3NCaXRXaWR0aCA9IGVuY29kZXIuZ2V0RmllbGRCaXRXaWR0aChcbiAgICAgIFBhY2tldC5IZWFkZXJUeXBlLlRPX0FERFJFU1MpO1xuICB2YXIgcGFja2V0SW5mb0JpdFdpZHRoID0gZW5jb2Rlci5nZXRGaWVsZEJpdFdpZHRoKFxuICAgICAgUGFja2V0LkhlYWRlclR5cGUuUEFDS0VUX0NPVU5UKTtcblxuICAvLyBBZGp1c3Qgd2lkdGggb2YgYWRkcmVzcyBjb2x1bW5zXG4gIC8vIEZvciBjb2x1bW5zLCA1MHB4IGlzIHN1ZmZpY2llbnQgZm9yIDQgYml0c1xuICB2YXIgUFhfUEVSX0JJVCA9IDUwIC8gNDtcbiAgdmFyIGFkZHJlc3NDb2x1bW5XaWR0aEluUHggPSBQWF9QRVJfQklUICogYWRkcmVzc0JpdFdpZHRoO1xuXG4gIC8vIEFkanVzdCB3aWR0aCBvZiBhZGRyZXNzIGNvbHVtbnNcbiAgcm9vdEVsZW1lbnQuZmluZCgndGQudG9BZGRyZXNzLCB0aC50b0FkZHJlc3MsIHRkLmZyb21BZGRyZXNzLCB0aC5mcm9tQWRkcmVzcycpXG4gICAgICAuY3NzKCd3aWR0aCcsIGFkZHJlc3NDb2x1bW5XaWR0aEluUHggKyAncHgnKTtcblxuXG4gIC8vIEFkanVzdCB3aWR0aCBvZiBhZGRyZXNzIGlucHV0IGZpZWxkc1xuICAvLyBGb3IgaW5wdXRzLCAzZW0gaXMgc3VmZmljaWVudCBmb3IgNCBiaXRzXG4gIHZhciBFTVNfUEVSX0JJVCA9IDMgLyA0O1xuICB2YXIgYWRkcmVzc0ZpZWxkV2lkdGhJbkVtcyA9IEVNU19QRVJfQklUICogYWRkcmVzc0JpdFdpZHRoO1xuICByb290RWxlbWVudC5maW5kKCd0ZC50b0FkZHJlc3MgaW5wdXQsIHRkLmZyb21BZGRyZXNzIGlucHV0JylcbiAgICAgIC5jc3MoJ3dpZHRoJywgYWRkcmVzc0ZpZWxkV2lkdGhJbkVtcyArICdlbScpO1xuXG5cbiAgLy8gQWRqdXN0IHdpZHRoIG9mIHBhY2tldCBpbmZvIGNvbHVtblxuICAvLyBQYWNrZXQgaW5mbyBjb2x1bW4gdXNlcyB0d28gZmllbGRzIGFuZCBhbiBleHRyYSAyMXB4IGZvciBcIiBvZiBcIlxuICB2YXIgcGFja2V0SW5mb0NvbHVtbldpZHRoSW5QeCA9ICgyICogUFhfUEVSX0JJVCAqIHBhY2tldEluZm9CaXRXaWR0aCkgKyAyMTtcbiAgcm9vdEVsZW1lbnQuZmluZCgndGQucGFja2V0SW5mbywgdGgucGFja2V0SW5mbycpXG4gICAgICAuY3NzKCd3aWR0aCcsIHBhY2tldEluZm9Db2x1bW5XaWR0aEluUHggKyAncHgnKTtcblxuICAvLyBBZGp1c3Qgd2lkdGggb2YgcGFja2V0IGluZm8gZmllbGRzXG4gIHZhciBwYWNrZXRJbmZvRmllbGRXaWR0aEluRW1zID0gRU1TX1BFUl9CSVQgKiBwYWNrZXRJbmZvQml0V2lkdGg7XG4gIHJvb3RFbGVtZW50LmZpbmQoJ3RkLnBhY2tldEluZm8gaW5wdXQnKVxuICAgICAgLmNzcygnd2lkdGgnLCBwYWNrZXRJbmZvRmllbGRXaWR0aEluRW1zICsgJ2VtJyk7XG59O1xuXG4vKipcbiAqIENoYW5nZSBlbmNvZGluZy1kaXNwbGF5IHNldHRpbmcgYW5kIHJlLXJlbmRlciBwYWNrZXQgY29udGVudHMgYWNjb3JkaW5nbHkuXG4gKiBAcGFyYW0ge0VuY29kaW5nVHlwZVtdfSBuZXdFbmNvZGluZ3NcbiAqL1xuTmV0U2ltTG9nUGFja2V0LnByb3RvdHlwZS5zZXRFbmNvZGluZ3MgPSBmdW5jdGlvbiAobmV3RW5jb2RpbmdzKSB7XG4gIHRoaXMuZW5jb2RpbmdzXyA9IG5ld0VuY29kaW5ncztcbiAgdGhpcy5yZW5kZXIoKTtcbn07XG5cbi8qKlxuICogQ2hhbmdlIGNodW5rIHNpemUgZm9yIGludGVycHJldGluZyBkYXRhIGFuZCByZS1yZW5kZXIgcGFja2V0IGNvbnRlbnRzXG4gKiBhY2NvcmRpbmdseS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBuZXdDaHVua1NpemVcbiAqL1xuTmV0U2ltTG9nUGFja2V0LnByb3RvdHlwZS5zZXRDaHVua1NpemUgPSBmdW5jdGlvbiAobmV3Q2h1bmtTaXplKSB7XG4gIHRoaXMuY2h1bmtTaXplXyA9IG5ld0NodW5rU2l6ZTtcbiAgdGhpcy5yZW5kZXIoKTtcbn07XG5cbi8qKlxuICogTWFyayB0aGUgcGFja2V0IGFzIHJlYWQsIGNoYW5naW5nIGl0cyBzdHlsZSBhbmQgcmVtb3ZpbmcgdGhlIFwibWFyayBhcyByZWFkXCJcbiAqIGJ1dHRvbi5cbiAqL1xuTmV0U2ltTG9nUGFja2V0LnByb3RvdHlwZS5tYXJrQXNSZWFkID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5pc1VucmVhZCkge1xuICAgIHRoaXMuaXNVbnJlYWQgPSBmYWxzZTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICAgIHRoaXMubWFya0FzUmVhZENhbGxiYWNrXygpO1xuICB9XG59O1xuXG5OZXRTaW1Mb2dQYWNrZXQucHJvdG90eXBlLnRvZ2dsZU1pbmltaXplZCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5pc01pbmltaXplZCA9ICF0aGlzLmlzTWluaW1pemVkO1xuICB0aGlzLnJlbmRlcigpO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IHRoaXMgbG9nIHBhbmVsIHNob3VsZCBjb25zdW1lIChpbmNsdWRpbmcgbWFyZ2lucylcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHRQaXhlbHNcbiAqL1xuTmV0U2ltTG9nUGFuZWwucHJvdG90eXBlLnNldEhlaWdodCA9IGZ1bmN0aW9uIChoZWlnaHRQaXhlbHMpIHtcbiAgdmFyIHJvb3QgPSB0aGlzLmdldFJvb3QoKS5maW5kKCcubmV0c2ltLXBhbmVsJyk7XG4gIHZhciBwYW5lbEhlYWRlciA9IHJvb3QuZmluZCgnaDEnKTtcbiAgdmFyIHBhbmVsQm9keSA9IHJvb3QuZmluZCgnLnBhbmVsLWJvZHknKTtcblxuICB2YXIgcGFuZWxNYXJnaW5zID0gcGFyc2VGbG9hdChyb290LmNzcygnbWFyZ2luLXRvcCcpKSArXG4gICAgICBwYXJzZUZsb2F0KHJvb3QuY3NzKCdtYXJnaW4tYm90dG9tJykpO1xuICB2YXIgaGVhZGVySGVpZ2h0ID0gcGFuZWxIZWFkZXIub3V0ZXJIZWlnaHQodHJ1ZSk7XG4gIHZhciBwYW5lbEJvcmRlcnMgPSBwYXJzZUZsb2F0KHBhbmVsQm9keS5jc3MoJ2JvcmRlci10b3Atd2lkdGgnKSkgK1xuICAgICAgcGFyc2VGbG9hdChwYW5lbEJvZHkuY3NzKCdib3JkZXItYm90dG9tLXdpZHRoJykpO1xuICB2YXIgc2Nyb2xsTWFyZ2lucyA9IHBhcnNlRmxvYXQodGhpcy5zY3JvbGxBcmVhXy5jc3MoJ21hcmdpbi10b3AnKSkgK1xuICAgICAgcGFyc2VGbG9hdCh0aGlzLnNjcm9sbEFyZWFfLmNzcygnbWFyZ2luLWJvdHRvbScpKTtcblxuICAvLyBXZSBzZXQgdGhlIHBhbmVsIGhlaWdodCBieSBmaXhpbmcgdGhlIHNpemUgb2YgaXRzIGlubmVyIHNjcm9sbGFibGVcbiAgLy8gYXJlYS5cbiAgdmFyIG5ld1Njcm9sbFZpZXdwb3J0SGVpZ2h0ID0gaGVpZ2h0UGl4ZWxzIC0gKHBhbmVsTWFyZ2lucyArIGhlYWRlckhlaWdodCArXG4gICAgICBwYW5lbEJvcmRlcnMgKyBzY3JvbGxNYXJnaW5zKTtcbiAgdGhpcy5zY3JvbGxBcmVhXy5oZWlnaHQoTWF0aC5mbG9vcihuZXdTY3JvbGxWaWV3cG9ydEhlaWdodCkpO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IHBhbmVsIGN1cnJlbnRseSBjb25zdW1lcyAoaW5jbHVkaW5nXG4gKiAgICAgICAgICBtYXJnaW5zKSBpbiBwaXhlbHMuXG4gKi9cbk5ldFNpbUxvZ1BhbmVsLnByb3RvdHlwZS5nZXRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmdldFJvb3QoKS5maW5kKCcubmV0c2ltLXBhbmVsJykub3V0ZXJIZWlnaHQodHJ1ZSk7XG59O1xuXG4vKipcbiAqIEFmdGVyIHRvZ2dsaW5nIHBhbmVsIHZpc2liaWxpdHksIHRyaWdnZXIgYSBsYXlvdXQgdXBkYXRlIHNvIHNlbmQvbG9nIHBhbmVsXG4gKiBzcGFjZSBpcyBzaGFyZWQgY29ycmVjdGx5LlxuICogQHByaXZhdGVcbiAqIEBvdmVycmlkZVxuICovXG5OZXRTaW1Mb2dQYW5lbC5wcm90b3R5cGUub25NaW5pbWl6ZXJDbGlja18gPSBmdW5jdGlvbiAoKSB7XG4gIE5ldFNpbUxvZ1BhbmVsLnN1cGVyUHJvdG90eXBlLm9uTWluaW1pemVyQ2xpY2tfLmNhbGwodGhpcyk7XG4gIE5ldFNpbUdsb2JhbHMudXBkYXRlTGF5b3V0KCk7XG59O1xuIiwibW9kdWxlLmV4cG9ydHM9IChmdW5jdGlvbigpIHtcbiAgdmFyIHQgPSBmdW5jdGlvbiBhbm9ueW1vdXMobG9jYWxzLCBmaWx0ZXJzLCBlc2NhcGVcbi8qKi8pIHtcbmVzY2FwZSA9IGVzY2FwZSB8fCBmdW5jdGlvbiAoaHRtbCl7XG4gIHJldHVybiBTdHJpbmcoaHRtbClcbiAgICAucmVwbGFjZSgvJig/IVxcdys7KS9nLCAnJmFtcDsnKVxuICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcbiAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpXG4gICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKTtcbn07XG52YXIgYnVmID0gW107XG53aXRoIChsb2NhbHMgfHwge30pIHsgKGZ1bmN0aW9uKCl7IFxuIGJ1Zi5wdXNoKCc8ZGl2IGNsYXNzPVwic2Nyb2xsLWFyZWFcIj5cXG48L2Rpdj5cXG4nKTsgfSkoKTtcbn0gXG5yZXR1cm4gYnVmLmpvaW4oJycpO1xufTtcbiAgcmV0dXJuIGZ1bmN0aW9uKGxvY2Fscykge1xuICAgIHJldHVybiB0KGxvY2FscywgcmVxdWlyZShcImVqc1wiKS5maWx0ZXJzKTtcbiAgfVxufSgpKTsiLCJtb2R1bGUuZXhwb3J0cz0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdCA9IGZ1bmN0aW9uIGFub255bW91cyhsb2NhbHMsIGZpbHRlcnMsIGVzY2FwZVxuLyoqLykge1xuZXNjYXBlID0gZXNjYXBlIHx8IGZ1bmN0aW9uIChodG1sKXtcbiAgcmV0dXJuIFN0cmluZyhodG1sKVxuICAgIC5yZXBsYWNlKC8mKD8hXFx3KzspL2csICcmYW1wOycpXG4gICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpO1xufTtcbnZhciBidWYgPSBbXTtcbndpdGggKGxvY2FscyB8fCB7fSkgeyAoZnVuY3Rpb24oKXsgXG4gYnVmLnB1c2goJycpOzE7XG4gIHZhciBOZXRTaW1Db25zdGFudHMgPSByZXF1aXJlKCcuL05ldFNpbUNvbnN0YW50cycpO1xuICB2YXIgTmV0U2ltR2xvYmFscyA9IHJlcXVpcmUoJy4vTmV0U2ltR2xvYmFscycpO1xuICB2YXIgRGF0YUNvbnZlcnRlcnMgPSByZXF1aXJlKCcuL0RhdGFDb252ZXJ0ZXJzJyk7XG4gIHZhciBpMThuID0gcmVxdWlyZSgnLi9sb2NhbGUnKTtcbiAgdmFyIGdldEVuY29kaW5nTGFiZWwgPSByZXF1aXJlKCcuL05ldFNpbVV0aWxzJykuZ2V0RW5jb2RpbmdMYWJlbDtcbiAgdmFyIFBhY2tldCA9IHJlcXVpcmUoJy4vUGFja2V0Jyk7XG5cbiAgdmFyIGxldmVsID0gTmV0U2ltR2xvYmFscy5nZXRMZXZlbENvbmZpZygpO1xuXG4gIHZhciBFbmNvZGluZ1R5cGUgPSBOZXRTaW1Db25zdGFudHMuRW5jb2RpbmdUeXBlO1xuICB2YXIgUGFja2V0VUlDb2x1bW5UeXBlID0gTmV0U2ltQ29uc3RhbnRzLlBhY2tldFVJQ29sdW1uVHlwZTtcblxuICB2YXIgZm9ybWF0QUIgPSBEYXRhQ29udmVydGVycy5mb3JtYXRBQjtcbiAgdmFyIGZvcm1hdEJpbmFyeSA9IERhdGFDb252ZXJ0ZXJzLmZvcm1hdEJpbmFyeTtcbiAgdmFyIGZvcm1hdEhleCA9IERhdGFDb252ZXJ0ZXJzLmZvcm1hdEhleDtcbiAgdmFyIGFsaWduRGVjaW1hbCA9IERhdGFDb252ZXJ0ZXJzLmFsaWduRGVjaW1hbDtcbiAgdmFyIGJpbmFyeVRvQUIgPSBEYXRhQ29udmVydGVycy5iaW5hcnlUb0FCO1xuICB2YXIgYmluYXJ5VG9JbnQgPSBEYXRhQ29udmVydGVycy5iaW5hcnlUb0ludDtcbiAgdmFyIGJpbmFyeVRvSGV4ID0gRGF0YUNvbnZlcnRlcnMuYmluYXJ5VG9IZXg7XG4gIHZhciBiaW5hcnlUb0RlY2ltYWwgPSBEYXRhQ29udmVydGVycy5iaW5hcnlUb0RlY2ltYWw7XG4gIHZhciBiaW5hcnlUb0FzY2lpID0gRGF0YUNvbnZlcnRlcnMuYmluYXJ5VG9Bc2NpaTtcbiAgdmFyIGJpbmFyeVRvQWRkcmVzc1N0cmluZyA9IGZ1bmN0aW9uIChiaW5hcnlTdHJpbmcpIHtcbiAgICByZXR1cm4gRGF0YUNvbnZlcnRlcnMuYmluYXJ5VG9BZGRyZXNzU3RyaW5nKGJpbmFyeVN0cmluZywgbGV2ZWwuYWRkcmVzc0Zvcm1hdCk7XG4gIH07XG4gIHZhciBmb3JtYXRCaW5hcnlGb3JBZGRyZXNzSGVhZGVyID0gZnVuY3Rpb24gKGJpbmFyeVN0cmluZykge1xuICAgIHJldHVybiBEYXRhQ29udmVydGVycy5mb3JtYXRCaW5hcnlGb3JBZGRyZXNzSGVhZGVyKGJpbmFyeVN0cmluZywgbGV2ZWwuYWRkcmVzc0Zvcm1hdCk7XG4gIH07XG5cbiAgLyoqIEB0eXBlIHtQYWNrZXR9ICovXG4gIHZhciBwYWNrZXQgPSBuZXcgUGFja2V0KHBhY2tldFNwZWMsIHBhY2tldEJpbmFyeSk7XG5cbiAgLyoqIEB0eXBlIHtQYWNrZXQuSGVhZGVyVHlwZVtdfSAqL1xuICB2YXIgaGVhZGVyRmllbGRzID0gcGFja2V0U3BlYztcblxuICB2YXIgc2hvd1RvQWRkcmVzcyA9IGhlYWRlckZpZWxkcy5pbmRleE9mKFBhY2tldC5IZWFkZXJUeXBlLlRPX0FERFJFU1MpID4gLTE7XG4gIHZhciBzaG93RnJvbUFkZHJlc3MgPSBoZWFkZXJGaWVsZHMuaW5kZXhPZihQYWNrZXQuSGVhZGVyVHlwZS5GUk9NX0FERFJFU1MpID4gLTE7XG4gIHZhciBzaG93UGFja2V0SW5mbyA9IGhlYWRlckZpZWxkcy5pbmRleE9mKFBhY2tldC5IZWFkZXJUeXBlLlBBQ0tFVF9JTkRFWCkgPiAtMSAmJlxuICAgICAgaGVhZGVyRmllbGRzLmluZGV4T2YoUGFja2V0LkhlYWRlclR5cGUuUEFDS0VUX0NPVU5UKSA+IC0xO1xuXG4gIC8qKlxuICAqIEBuYW1lIGVuYWJsZWRFbmNvZGluZ3NIYXNoXG4gICogQHR5cGUge09iamVjdH1cbiAgKi9cblxuICBmdW5jdGlvbiBpc0VuY29kaW5nRW5hYmxlZChxdWVyeUVuY29kaW5nKSB7XG4gICAgcmV0dXJuIGVuYWJsZWRFbmNvZGluZ3NIYXNoW3F1ZXJ5RW5jb2RpbmddID09PSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhY2tldCBvbmUtbGluZSBzdW1tYXJ5IHNob3VsZCBvbmx5IHVzZSB0aGUgaGlnaGVzdC1sZXZlbCBlbmFibGVkIGVuY29kaW5nLlxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0T25lTGluZVBhY2tldFN1bW1hcnkoKSB7XG4gICAgdmFyIG1lc3NhZ2VCaW5hcnkgPSBwYWNrZXQuZ2V0Qm9keUFzQmluYXJ5KCk7XG4gICAgaWYgKGlzRW5jb2RpbmdFbmFibGVkKEVuY29kaW5nVHlwZS5BU0NJSSkpIHtcbiAgICAgIHJldHVybiBiaW5hcnlUb0FzY2lpKG1lc3NhZ2VCaW5hcnksIGNodW5rU2l6ZSk7XG4gICAgfSBlbHNlIGlmIChpc0VuY29kaW5nRW5hYmxlZChFbmNvZGluZ1R5cGUuREVDSU1BTCkpIHtcbiAgICAgIHJldHVybiBhbGlnbkRlY2ltYWwoYmluYXJ5VG9EZWNpbWFsKG1lc3NhZ2VCaW5hcnksIGNodW5rU2l6ZSkpO1xuICAgIH0gZWxzZSBpZiAoaXNFbmNvZGluZ0VuYWJsZWQoRW5jb2RpbmdUeXBlLkhFWEFERUNJTUFMKSkge1xuICAgICAgcmV0dXJuIGZvcm1hdEhleChiaW5hcnlUb0hleChtZXNzYWdlQmluYXJ5KSwgY2h1bmtTaXplKTtcbiAgICB9IGVsc2UgaWYgKGlzRW5jb2RpbmdFbmFibGVkKEVuY29kaW5nVHlwZS5CSU5BUlkpKSB7XG4gICAgICByZXR1cm4gZm9ybWF0QmluYXJ5KG1lc3NhZ2VCaW5hcnksIGNodW5rU2l6ZSk7XG4gICAgfSBlbHNlIGlmIChpc0VuY29kaW5nRW5hYmxlZChFbmNvZGluZ1R5cGUuQV9BTkRfQikpIHtcbiAgICAgIHJldHVybiBmb3JtYXRBQihiaW5hcnlUb0FCKG1lc3NhZ2VCaW5hcnkpLCBjaHVua1NpemUpO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZUJpbmFyeTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge0VuY29kaW5nVHlwZX0gZW5jb2RpbmdUeXBlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0b0FkZHJlc3NcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZyb21BZGRyZXNzXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYWNrZXRJbmZvXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlXG4gICAqL1xuICBmdW5jdGlvbiBsb2dSb3dJZkVuY29kaW5nRW5hYmxlZChlbmNvZGluZ1R5cGUsIHRvQWRkcmVzcywgZnJvbUFkZHJlc3MsIHBhY2tldEluZm8sIG1lc3NhZ2UpIHtcbiAgICBpZiAoaXNFbmNvZGluZ0VuYWJsZWQoZW5jb2RpbmdUeXBlKSkge1xuICAgICAgOyBidWYucHVzaCgnXFxuICAgICAgICA8dHIgY2xhc3M9XCInLCBlc2NhcGUoKDc5LCAgZW5jb2RpbmdUeXBlICkpLCAnXCI+XFxuICAgICAgICAgIDx0aCBub3dyYXAgY2xhc3M9XCInLCBlc2NhcGUoKDgwLCAgUGFja2V0VUlDb2x1bW5UeXBlLkVOQ09ESU5HX0xBQkVMICkpLCAnXCI+JywgZXNjYXBlKCg4MCwgIGdldEVuY29kaW5nTGFiZWwoZW5jb2RpbmdUeXBlKSApKSwgJzwvdGg+XFxuICAgICAgICAgICcpOzgxOyBpZiAoc2hvd1RvQWRkcmVzcykgeyA7IGJ1Zi5wdXNoKCdcXG4gICAgICAgICAgICA8dGQgbm93cmFwIGNsYXNzPVwiJywgZXNjYXBlKCg4MiwgIFBhY2tldFVJQ29sdW1uVHlwZS5UT19BRERSRVNTICkpLCAnXCI+JywgZXNjYXBlKCg4MiwgIHRvQWRkcmVzcyApKSwgJzwvdGQ+XFxuICAgICAgICAgICcpOzgzOyB9IDsgYnVmLnB1c2goJ1xcbiAgICAgICAgICAnKTs4NDsgaWYgKHNob3dGcm9tQWRkcmVzcykgeyA7IGJ1Zi5wdXNoKCdcXG4gICAgICAgICAgICA8dGQgbm93cmFwIGNsYXNzPVwiJywgZXNjYXBlKCg4NSwgIFBhY2tldFVJQ29sdW1uVHlwZS5GUk9NX0FERFJFU1MgKSksICdcIj4nLCBlc2NhcGUoKDg1LCAgZnJvbUFkZHJlc3MgKSksICc8L3RkPlxcbiAgICAgICAgICAnKTs4NjsgfSA7IGJ1Zi5wdXNoKCdcXG4gICAgICAgICAgJyk7ODc7IGlmIChzaG93UGFja2V0SW5mbykgeyA7IGJ1Zi5wdXNoKCdcXG4gICAgICAgICAgICA8dGQgbm93cmFwIGNsYXNzPVwiJywgZXNjYXBlKCg4OCwgIFBhY2tldFVJQ29sdW1uVHlwZS5QQUNLRVRfSU5GTyApKSwgJ1wiPicsIGVzY2FwZSgoODgsICBwYWNrZXRJbmZvICkpLCAnPC90ZD5cXG4gICAgICAgICAgJyk7ODk7IH0gOyBidWYucHVzaCgnXFxuICAgICAgICAgIDx0ZCBjbGFzcz1cIicsIGVzY2FwZSgoOTAsICBQYWNrZXRVSUNvbHVtblR5cGUuTUVTU0FHRSApKSwgJ1wiPicsIGVzY2FwZSgoOTAsICBtZXNzYWdlICkpLCAnPC90ZD5cXG4gICAgICAgIDwvdHI+XFxuICAgICcpOzkyO1xuICAgIH1cbiAgfVxuIDsgYnVmLnB1c2goJ1xcbiAgJyk7OTY7XG4gICAgdmFyIHRvQWRkcmVzcyA9IHNob3dUb0FkZHJlc3MgPyBwYWNrZXQuZ2V0SGVhZGVyQXNCaW5hcnkoUGFja2V0LkhlYWRlclR5cGUuVE9fQUREUkVTUykgOiAnJztcbiAgICB2YXIgZnJvbUFkZHJlc3MgPSBzaG93RnJvbUFkZHJlc3MgPyBwYWNrZXQuZ2V0SGVhZGVyQXNCaW5hcnkoUGFja2V0LkhlYWRlclR5cGUuRlJPTV9BRERSRVNTKSA6ICcnO1xuICAgIHZhciBwYWNrZXRJbmRleCA9IHNob3dQYWNrZXRJbmZvID8gcGFja2V0LmdldEhlYWRlckFzQmluYXJ5KFBhY2tldC5IZWFkZXJUeXBlLlBBQ0tFVF9JTkRFWCkgOiAnJztcbiAgICB2YXIgcGFja2V0Q291bnQgPSBzaG93UGFja2V0SW5mbyA/IHBhY2tldC5nZXRIZWFkZXJBc0JpbmFyeShQYWNrZXQuSGVhZGVyVHlwZS5QQUNLRVRfQ09VTlQpIDogJyc7XG4gICAgdmFyIG1lc3NhZ2UgPSBwYWNrZXQuZ2V0Qm9keUFzQmluYXJ5KCk7XG4gIDsgYnVmLnB1c2goJ1xcbiAgJyk7MTAzOyBpZiAoaXNNaW5pbWl6ZWQpIHsgOyBidWYucHVzaCgnXFxuICAgICAgPGRpdiBjbGFzcz1cIm1pbmltaXplZC1wYWNrZXQgc2luZ2xlLWxpbmUtd2l0aC1lbGxpcHNpcyB1c2VyLWRhdGFcIj5cXG4gICAgICAgIDxpIGNsYXNzPVwiZmEgZmEtcGx1cy1zcXVhcmUgZXhwYW5kZXJcIj48L2k+XFxuICAgICAgICAnLCBlc2NhcGUoKDEwNiwgIGdldE9uZUxpbmVQYWNrZXRTdW1tYXJ5KCkgKSksICdcXG4gICAgICA8L2Rpdj5cXG4gICcpOzEwODsgfSBlbHNlIHsgOyBidWYucHVzaCgnXFxuICAgIDx0YWJsZSBjbGFzcz1cIm1heGltaXplZC1wYWNrZXRcIj5cXG4gICAgICA8dGhlYWQ+XFxuICAgICAgICA8dHI+XFxuICAgICAgICAgIDx0aCBub3dyYXAgY2xhc3M9XCInLCBlc2NhcGUoKDExMiwgIFBhY2tldFVJQ29sdW1uVHlwZS5FTkNPRElOR19MQUJFTCApKSwgJ1wiPlxcbiAgICAgICAgICAgIDxpIGNsYXNzPVwiZmEgZmEtbWludXMtc3F1YXJlIGV4cGFuZGVyXCI+PC9pPlxcbiAgICAgICAgICA8L3RoPlxcbiAgICAgICAgICAnKTsxMTU7IGlmIChzaG93VG9BZGRyZXNzKSB7IDsgYnVmLnB1c2goJ1xcbiAgICAgICAgICAgIDx0aCBub3dyYXAgY2xhc3M9XCInLCBlc2NhcGUoKDExNiwgIFBhY2tldFVJQ29sdW1uVHlwZS5UT19BRERSRVNTICkpLCAnXCI+JywgZXNjYXBlKCgxMTYsICBpMThuLnRvKCkgKSksICc8L3RoPlxcbiAgICAgICAgICAnKTsxMTc7IH0gOyBidWYucHVzaCgnXFxuICAgICAgICAgICcpOzExODsgaWYgKHNob3dGcm9tQWRkcmVzcykgeyA7IGJ1Zi5wdXNoKCdcXG4gICAgICAgICAgICA8dGggbm93cmFwIGNsYXNzPVwiJywgZXNjYXBlKCgxMTksICBQYWNrZXRVSUNvbHVtblR5cGUuRlJPTV9BRERSRVNTICkpLCAnXCI+JywgZXNjYXBlKCgxMTksICBpMThuLmZyb20oKSApKSwgJzwvdGg+XFxuICAgICAgICAgICcpOzEyMDsgfSA7IGJ1Zi5wdXNoKCdcXG4gICAgICAgICAgJyk7MTIxOyBpZiAoc2hvd1BhY2tldEluZm8pIHsgOyBidWYucHVzaCgnXFxuICAgICAgICAgICAgPHRoIG5vd3JhcCBjbGFzcz1cIicsIGVzY2FwZSgoMTIyLCAgUGFja2V0VUlDb2x1bW5UeXBlLlBBQ0tFVF9JTkZPICkpLCAnXCI+JywgZXNjYXBlKCgxMjIsICBpMThuLnBhY2tldCgpICkpLCAnPC90aD5cXG4gICAgICAgICAgJyk7MTIzOyB9IDsgYnVmLnB1c2goJ1xcbiAgICAgICAgICA8dGggY2xhc3M9XCInLCBlc2NhcGUoKDEyNCwgIFBhY2tldFVJQ29sdW1uVHlwZS5NRVNTQUdFICkpLCAnXCI+XFxuICAgICAgICAgICAgJywgZXNjYXBlKCgxMjUsICBpMThuLm1lc3NhZ2UoKSApKSwgJ1xcbiAgICAgICAgICA8L3RoPlxcbiAgICAgICAgPC90cj5cXG4gICAgICA8L3RoZWFkPlxcbiAgICAgIDx0Ym9keT5cXG4gICAgICAnKTsxMzA7XG4gICAgICAgIGxvZ1Jvd0lmRW5jb2RpbmdFbmFibGVkKEVuY29kaW5nVHlwZS5BU0NJSSxcbiAgICAgICAgICAgIGJpbmFyeVRvQWRkcmVzc1N0cmluZyh0b0FkZHJlc3MpLFxuICAgICAgICAgICAgYmluYXJ5VG9BZGRyZXNzU3RyaW5nKGZyb21BZGRyZXNzKSxcbiAgICAgICAgICAgIGkxOG4ueE9mWVBhY2tldHMoe1xuICAgICAgICAgICAgICB4OiBiaW5hcnlUb0ludChwYWNrZXRJbmRleCksXG4gICAgICAgICAgICAgIHk6IGJpbmFyeVRvSW50KHBhY2tldENvdW50KVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBiaW5hcnlUb0FzY2lpKG1lc3NhZ2UsIGNodW5rU2l6ZSkpO1xuXG4gICAgICAgIGxvZ1Jvd0lmRW5jb2RpbmdFbmFibGVkKEVuY29kaW5nVHlwZS5ERUNJTUFMLFxuICAgICAgICAgICAgYmluYXJ5VG9BZGRyZXNzU3RyaW5nKHRvQWRkcmVzcyksXG4gICAgICAgICAgICBiaW5hcnlUb0FkZHJlc3NTdHJpbmcoZnJvbUFkZHJlc3MpLFxuICAgICAgICAgICAgaTE4bi54T2ZZUGFja2V0cyh7XG4gICAgICAgICAgICAgIHg6IGJpbmFyeVRvSW50KHBhY2tldEluZGV4KSxcbiAgICAgICAgICAgICAgeTogYmluYXJ5VG9JbnQocGFja2V0Q291bnQpXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGFsaWduRGVjaW1hbChiaW5hcnlUb0RlY2ltYWwobWVzc2FnZSwgY2h1bmtTaXplKSkpO1xuXG4gICAgICAgIGxvZ1Jvd0lmRW5jb2RpbmdFbmFibGVkKEVuY29kaW5nVHlwZS5IRVhBREVDSU1BTCxcbiAgICAgICAgICAgIGJpbmFyeVRvSGV4KHRvQWRkcmVzcyksXG4gICAgICAgICAgICBiaW5hcnlUb0hleChmcm9tQWRkcmVzcyksXG4gICAgICAgICAgICBpMThuLnhPZllQYWNrZXRzKHtcbiAgICAgICAgICAgICAgeDogYmluYXJ5VG9IZXgocGFja2V0SW5kZXgpLFxuICAgICAgICAgICAgICB5OiBiaW5hcnlUb0hleChwYWNrZXRDb3VudClcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZm9ybWF0SGV4KGJpbmFyeVRvSGV4KG1lc3NhZ2UpLCBjaHVua1NpemUpKTtcblxuICAgICAgICBsb2dSb3dJZkVuY29kaW5nRW5hYmxlZChFbmNvZGluZ1R5cGUuQklOQVJZLFxuICAgICAgICAgICAgZm9ybWF0QmluYXJ5Rm9yQWRkcmVzc0hlYWRlcih0b0FkZHJlc3MsIDQpLFxuICAgICAgICAgICAgZm9ybWF0QmluYXJ5Rm9yQWRkcmVzc0hlYWRlcihmcm9tQWRkcmVzcywgNCksXG4gICAgICAgICAgICBmb3JtYXRCaW5hcnkocGFja2V0SW5kZXggKyBwYWNrZXRDb3VudCwgbGV2ZWwucGFja2V0Q291bnRCaXRXaWR0aCksXG4gICAgICAgICAgICBmb3JtYXRCaW5hcnkobWVzc2FnZSwgY2h1bmtTaXplKSk7XG5cbiAgICAgICAgbG9nUm93SWZFbmNvZGluZ0VuYWJsZWQoRW5jb2RpbmdUeXBlLkFfQU5EX0IsXG4gICAgICAgICAgICBiaW5hcnlUb0FCKHRvQWRkcmVzcyksXG4gICAgICAgICAgICBiaW5hcnlUb0FCKGZyb21BZGRyZXNzKSxcbiAgICAgICAgICAgIGZvcm1hdEFCKGJpbmFyeVRvQUIocGFja2V0SW5kZXggKyBwYWNrZXRDb3VudCksIGxldmVsLnBhY2tldENvdW50Qml0V2lkdGgpLFxuICAgICAgICAgICAgZm9ybWF0QUIoYmluYXJ5VG9BQihtZXNzYWdlKSwgY2h1bmtTaXplKSk7XG4gICAgICAgOyBidWYucHVzaCgnXFxuICAgICAgPC90Ym9keT5cXG4gICAgPC90YWJsZT5cXG4gICcpOzE3MjsgfSA7IGJ1Zi5wdXNoKCdcXG4nKTsgfSkoKTtcbn0gXG5yZXR1cm4gYnVmLmpvaW4oJycpO1xufTtcbiAgcmV0dXJuIGZ1bmN0aW9uKGxvY2Fscykge1xuICAgIHJldHVybiB0KGxvY2FscywgcmVxdWlyZShcImVqc1wiKS5maWx0ZXJzKTtcbiAgfVxufSgpKTsiLCIvKipcbiAqIEBvdmVydmlldyBTaW11bGF0aW9uIGVudGl0eSBjb250cm9sbGVyIHJlc2VydmVkIGZvciB0aGUgbG9jYWwgY2xpZW50J3NcbiAqICAgICAgICAgICBzaW11bGF0aW9uIG5vZGUuXG4gKiBAc2VlIE5ldFNpbUNsaWVudE5vZGUgZm9yIHRoZSBjb250cm9sbGVyIHVzZWQgZm9yIG90aGVyIGNsaWVudCBub2Rlc1xuICogICAgICBpbiB0aGUgc2ltdWxhdGlvbi5cbiAqL1xuLy8gU3RyaWN0IGxpbnRpbmc6IEFic29yYiBpbnRvIGdsb2JhbCBjb25maWcgd2hlbiBwb3NzaWJsZVxuLyoganNoaW50XG4gdW51c2VkOiB0cnVlLFxuIGVxZXFlcTogdHJ1ZSxcbiBtYXhsZW46IDEyMFxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG52YXIgXyA9IHV0aWxzLmdldExvZGFzaCgpO1xudmFyIGkxOG4gPSByZXF1aXJlKCcuL2xvY2FsZScpO1xudmFyIE5ldFNpbUNsaWVudE5vZGUgPSByZXF1aXJlKCcuL05ldFNpbUNsaWVudE5vZGUnKTtcbnZhciBOZXRTaW1FbnRpdHkgPSByZXF1aXJlKCcuL05ldFNpbUVudGl0eScpO1xudmFyIE5ldFNpbUFsZXJ0ID0gcmVxdWlyZSgnLi9OZXRTaW1BbGVydCcpO1xudmFyIE5ldFNpbU1lc3NhZ2UgPSByZXF1aXJlKCcuL05ldFNpbU1lc3NhZ2UnKTtcbnZhciBOZXRTaW1Mb2dnZXIgPSByZXF1aXJlKCcuL05ldFNpbUxvZ2dlcicpO1xudmFyIE5ldFNpbVJvdXRlck5vZGUgPSByZXF1aXJlKCcuL05ldFNpbVJvdXRlck5vZGUnKTtcbnZhciBPYnNlcnZhYmxlRXZlbnQgPSByZXF1aXJlKCcuLi9PYnNlcnZhYmxlRXZlbnQnKTtcblxudmFyIGxvZ2dlciA9IE5ldFNpbUxvZ2dlci5nZXRTaW5nbGV0b24oKTtcbnZhciBOZXRTaW1Db25zdGFudHMgPSByZXF1aXJlKCcuL05ldFNpbUNvbnN0YW50cycpO1xudmFyIE5ldFNpbUdsb2JhbHMgPSByZXF1aXJlKCcuL05ldFNpbUdsb2JhbHMnKTtcblxudmFyIE1lc3NhZ2VHcmFudWxhcml0eSA9IE5ldFNpbUNvbnN0YW50cy5NZXNzYWdlR3JhbnVsYXJpdHk7XG5cbi8qKlxuICogQ2xpZW50IG1vZGVsIG9mIG5vZGUgYmVpbmcgc2ltdWxhdGVkIG9uIHRoZSBsb2NhbCBjbGllbnQuXG4gKlxuICogUHJvdmlkZXMgc3BlY2lhbCBhY2Nlc3MgZm9yIG1hbmlwdWxhdGluZyB0aGUgbG9jYWxseS1vd25lZCBjbGllbnQgbm9kZSBpblxuICogd2F5cyB0aGF0IHlvdSBhcmVuJ3QgYWxsb3dlZCB0byBtYW5pcHVsYXRlIG90aGVyIGNsaWVudCBub2Rlcy5cbiAqXG4gKiBAcGFyYW0geyFOZXRTaW1TaGFyZH0gc2hhcmRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbY2xpZW50Um93XSAtIExvYmJ5IHJvdyBmb3IgdGhpcyByb3V0ZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhdWdtZW50cyBOZXRTaW1DbGllbnROb2RlXG4gKi9cbnZhciBOZXRTaW1Mb2NhbENsaWVudE5vZGUgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzaGFyZCwgY2xpZW50Um93KSB7XG4gIE5ldFNpbUNsaWVudE5vZGUuY2FsbCh0aGlzLCBzaGFyZCwgY2xpZW50Um93KTtcblxuICAvLyBUT0RPIChiYnVjaGFuYW4pOiBDb25zaWRlcjpcbiAgLy8gICAgICBEbyB3ZSBiZW5lZml0IGZyb20gaW5oZXJpdGFuY2UgaGVyZT8gIFdvdWxkIGl0IGJlIGNsZWFuZXIgdG8gbWFrZSB0aGlzXG4gIC8vICAgICAgbm90LWFuLWVudGl0eSB0aGF0IG1hbmlwdWxhdGVzIGEgc3RvY2sgTmV0U2ltQ2xpZW50Tm9kZT8gIFdpbGwgYW5vdGhlclxuICAvLyAgICAgIGRldmVsb3BlciBmaW5kIGl0IGVhc3kgdG8gdW5kZXJzdGFuZCBob3cgdGhpcyBjbGFzcyB3b3Jrcz9cblxuICAvKipcbiAgICogQ2xpZW50IG5vZGVzIGNhbiBiZSBjb25uZWN0ZWQgdG8gb3RoZXIgY2xpZW50cy5cbiAgICogQHR5cGUge05ldFNpbUNsaWVudE5vZGV9XG4gICAqL1xuICB0aGlzLm15UmVtb3RlQ2xpZW50ID0gbnVsbDtcblxuICAvKipcbiAgICogSUQgb2YgdGhlIHJvdXRlciB0aGlzIGNsaWVudCBub2RlIGlzIGNvbm5lY3RlZCB0by4gIFVuZGVmaW5lZCBpZlxuICAgKiBub3QgY29ubmVjdGVkIHRvIGEgcm91dGVyLlxuICAgKiBAdHlwZSB7bnVtYmVyfHVuZGVmaW5lZH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMubXlSb3V0ZXJJRF8gPSB1bmRlZmluZWQ7XG5cbiAgLyoqXG4gICAqIFNldCBvZiByb3V0ZXIgY29udHJvbGxlcnMgZW5hYmxlZCBmb3Igc2ltdWxhdGlvbiBieSB0aGlzIG5vZGUuXG4gICAqIEB0eXBlIHtOZXRTaW1Sb3V0ZXJOb2RlW119XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnJvdXRlcnNfID0gW107XG5cbiAgLyoqXG4gICAqIFdpZGdldCB3aGVyZSB3ZSB3aWxsIHBvc3Qgc2VudCBtZXNzYWdlcy5cbiAgICogQHR5cGUge05ldFNpbUxvZ1BhbmVsfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5zZW50TG9nXyA9IG51bGw7XG5cbiAgLyoqXG4gICAqIFdpZGdldCB3aGVyZSB3ZSB3aWxsIHBvc3QgcmVjZWl2ZWQgbWVzc2FnZXNcbiAgICogQHR5cGUge05ldFNpbUxvZ1BhbmVsfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5yZWNlaXZlZExvZ18gPSBudWxsO1xuXG4gIC8qKlxuICAgKiBDaGFuZ2UgZXZlbnQgb3RoZXJzIGNhbiBvYnNlcnZlLCB3aGljaCB3ZSB3aWxsIGZpcmUgd2hlbiB3ZVxuICAgKiBjb25uZWN0IG9yIGRpc2Nvbm5lY3QgZnJvbSBhIHJvdXRlciBvciByZW1vdGUgY2xpZW50XG4gICAqIEB0eXBlIHtPYnNlcnZhYmxlRXZlbnR9XG4gICAqL1xuICB0aGlzLnJlbW90ZUNoYW5nZSA9IG5ldyBPYnNlcnZhYmxlRXZlbnQoKTtcblxuICAvKipcbiAgICogQ2FsbGJhY2sgZm9yIHdoZW4gc29tZXRoaW5nIGluZGljYXRlcyB0aGF0IHRoaXMgbm9kZSBoYXMgYmVlblxuICAgKiBkaXNjb25uZWN0ZWQgZnJvbSB0aGUgaW5zdGFuY2UuXG4gICAqIEB0eXBlIHtmdW5jdGlvbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMub25Ob2RlTG9zdENvbm5lY3Rpb25fID0gZnVuY3Rpb24gKCkge307XG5cbiAgLyoqXG4gICAqIEV2ZW50IHJlZ2lzdHJhdGlvbiBpbmZvcm1hdGlvblxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cbiAgdGhpcy5ldmVudEtleXMgPSB7fTtcbn07XG5OZXRTaW1Mb2NhbENsaWVudE5vZGUuaW5oZXJpdHMoTmV0U2ltQ2xpZW50Tm9kZSk7XG5cbi8qKlxuICogU3RhdGljIGFzeW5jIGNyZWF0aW9uIG1ldGhvZC4gU2VlIE5ldFNpbUVudGl0eS5jcmVhdGUoKS5cbiAqIEBwYXJhbSB7IU5ldFNpbVNoYXJkfSBzaGFyZFxuICogQHBhcmFtIHtzdHJpbmd9IGRpc3BsYXlOYW1lXG4gKiBAcGFyYW0geyFOb2RlU3R5bGVDYWxsYmFja30gb25Db21wbGV0ZSAtIE1ldGhvZCB0aGF0IHdpbGwgYmUgZ2l2ZW4gdGhlXG4gKiAgICAgICAgY3JlYXRlZCBlbnRpdHksIG9yIG51bGwgaWYgZW50aXR5IGNyZWF0aW9uIGZhaWxlZC5cbiAqL1xuTmV0U2ltTG9jYWxDbGllbnROb2RlLmNyZWF0ZSA9IGZ1bmN0aW9uIChzaGFyZCwgZGlzcGxheU5hbWUsIG9uQ29tcGxldGUpIHtcbiAgLy8gVE9ETyAoYmJ1Y2hhbmFuKTogTW9kaWZ5IGFuZCByZXR1cm4gdGhlIHRlbXBsYXRlIG5vZGUgaW5zdGVhZCBvZlxuICAvLyBtYWtpbmcgdHdvIGluIHRoaXMgbWV0aG9kLlxuICB2YXIgdGVtcGxhdGVOb2RlID0gbmV3IE5ldFNpbUxvY2FsQ2xpZW50Tm9kZShzaGFyZCk7XG4gIHRlbXBsYXRlTm9kZS5kaXNwbGF5TmFtZV8gPSBkaXNwbGF5TmFtZTtcbiAgdGVtcGxhdGVOb2RlLmdldFRhYmxlKCkuY3JlYXRlKHRlbXBsYXRlTm9kZS5idWlsZFJvdygpLCBmdW5jdGlvbiAoZXJyLCByb3cpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBvbkNvbXBsZXRlKGVyciwgbnVsbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG5ld05vZGUgPSBuZXcgTmV0U2ltTG9jYWxDbGllbnROb2RlKHNoYXJkLCByb3cpO1xuICAgIG9uQ29tcGxldGUobnVsbCwgbmV3Tm9kZSk7XG4gIH0pO1xufTtcblxuLyoqIFNldCBub2RlJ3MgZGlzcGxheSBuYW1lLiAgRG9lcyBub3QgdHJpZ2dlciBhbiB1cGRhdGUhICovXG5OZXRTaW1Mb2NhbENsaWVudE5vZGUucHJvdG90eXBlLnNldERpc3BsYXlOYW1lID0gZnVuY3Rpb24gKGRpc3BsYXlOYW1lKSB7XG4gIHRoaXMuZGlzcGxheU5hbWVfID0gZGlzcGxheU5hbWU7XG59O1xuXG4vKipcbiAqIENvbmZpZ3VyZSB0aGlzIG5vZGUgY29udHJvbGxlciB0byBhY3RpdmVseSBzaW11bGF0ZSwgYW5kIHRvIHBvc3Qgc2VudCBhbmRcbiAqIHJlY2VpdmVkIG1lc3NhZ2VzIHRvIHRoZSBnaXZlbiBsb2cgd2lkZ2V0cy5cbiAqIEBwYXJhbSB7IU5ldFNpbUxvZ1BhbmVsfSBzZW50TG9nXG4gKiBAcGFyYW0geyFOZXRTaW1Mb2dQYW5lbH0gcmVjZWl2ZWRMb2dcbiAqL1xuTmV0U2ltTG9jYWxDbGllbnROb2RlLnByb3RvdHlwZS5pbml0aWFsaXplU2ltdWxhdGlvbiA9IGZ1bmN0aW9uIChzZW50TG9nLFxuICAgIHJlY2VpdmVkTG9nKSB7XG4gIHRoaXMuc2VudExvZ18gPSBzZW50TG9nO1xuICB0aGlzLnJlY2VpdmVkTG9nXyA9IHJlY2VpdmVkTG9nO1xuXG4gIC8vIFN1YnNjcmliZSB0byB0YWJsZSBjaGFuZ2VzXG4gIHRoaXMuZXZlbnRLZXlzLm5vZGVUYWJsZSA9IHRoaXMuc2hhcmRfLm5vZGVUYWJsZS50YWJsZUNoYW5nZS5yZWdpc3RlcihcbiAgICAgIHRoaXMub25Ob2RlVGFibGVDaGFuZ2VfLmJpbmQodGhpcykpO1xuICB0aGlzLmV2ZW50S2V5cy53aXJlVGFibGUgPSB0aGlzLnNoYXJkXy53aXJlVGFibGUudGFibGVDaGFuZ2UucmVnaXN0ZXIoXG4gICAgICB0aGlzLm9uV2lyZVRhYmxlQ2hhbmdlXy5iaW5kKHRoaXMpKTtcbiAgdGhpcy5ldmVudEtleXMubWVzc2FnZVRhYmxlID0gdGhpcy5zaGFyZF8ubWVzc2FnZVRhYmxlLnRhYmxlQ2hhbmdlLnJlZ2lzdGVyKFxuICAgICAgdGhpcy5vbk1lc3NhZ2VUYWJsZUNoYW5nZV8uYmluZCh0aGlzKSk7XG4gIHRoaXMuZXZlbnRLZXlzLnJlZ2lzdGVyZWRPblNoYXJkID0gdGhpcy5zaGFyZF87XG5cbiAgLy8gU2V0IHVwIGluaXRpYWwgc3RhdGUgZnJvbSBjYWNoZWQgcm93c1xuICB0aGlzLm9uTm9kZVRhYmxlQ2hhbmdlXygpO1xufTtcblxuLyoqXG4gKiBHaXZlcyB0aGUgc2ltdWxhdGluZyBub2RlIGEgY2hhbmNlIHRvIHVucmVnaXN0ZXIgZnJvbSBhbnl0aGluZyBpdCB3YXNcbiAqIG9ic2VydmluZy5cbiAqL1xuTmV0U2ltTG9jYWxDbGllbnROb2RlLnByb3RvdHlwZS5zdG9wU2ltdWxhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuZXZlbnRLZXlzLnJlZ2lzdGVyZWRPblNoYXJkKSB7XG4gICAgdGhpcy5ldmVudEtleXMucmVnaXN0ZXJlZE9uU2hhcmQubm9kZVRhYmxlLnRhYmxlQ2hhbmdlLnVucmVnaXN0ZXIoXG4gICAgICAgIHRoaXMuZXZlbnRLZXlzLm5vZGVUYWJsZSk7XG4gICAgdGhpcy5ldmVudEtleXMucmVnaXN0ZXJlZE9uU2hhcmQud2lyZVRhYmxlLnRhYmxlQ2hhbmdlLnVucmVnaXN0ZXIoXG4gICAgICAgIHRoaXMuZXZlbnRLZXlzLndpcmVUYWJsZSk7XG4gICAgdGhpcy5ldmVudEtleXMucmVnaXN0ZXJlZE9uU2hhcmQubWVzc2FnZVRhYmxlLnRhYmxlQ2hhbmdlLnVucmVnaXN0ZXIoXG4gICAgICAgIHRoaXMuZXZlbnRLZXlzLm1lc3NhZ2VUYWJsZSk7XG4gICAgdGhpcy5ldmVudEtleXMucmVnaXN0ZXJlZE9uU2hhcmQgPSBudWxsO1xuICB9XG59O1xuXG4vKipcbiAqIFRpY2tzIHRoZSBzaW11bGF0aW9uIHJvdXRlcnNcbiAqIEBwYXJhbSB7IVJ1bkxvb3AuQ2xvY2t9IGNsb2NrXG4gKi9cbk5ldFNpbUxvY2FsQ2xpZW50Tm9kZS5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uIChjbG9jaykge1xuICAvLyBUT0RPIChiYnVjaGFuYW4pOiBNb3ZlIHRoZSByb3V0ZXIgY29sbGVjdGlvbiBhbmQgdGlja2luZyB0aGVcbiAgLy8gcm91dGVycyB1cCB0byBuZXRzaW0uanMgKG9yIGVsc2V3aGVyZSlcbiAgdGhpcy5yb3V0ZXJzXy5mb3JFYWNoKGZ1bmN0aW9uIChyb3V0ZXIpIHtcbiAgICByb3V0ZXIudGljayhjbG9jayk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBHaXZlIHRoaXMgbm9kZSBhbiBhY3Rpb24gdG8gdGFrZSBpZiBpdCBkZXRlY3RzIHRoYXQgaXQgaXMgbm8gbG9uZ2VyIHBhcnRcbiAqIG9mIHRoZSBzaGFyZC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uTm9kZUxvc3RDb25uZWN0aW9uXG4gKi9cbk5ldFNpbUxvY2FsQ2xpZW50Tm9kZS5wcm90b3R5cGUuc2V0TG9zdENvbm5lY3Rpb25DYWxsYmFjayA9IGZ1bmN0aW9uIChcbiAgICBvbk5vZGVMb3N0Q29ubmVjdGlvbikge1xuICB0aGlzLm9uTm9kZUxvc3RDb25uZWN0aW9uXyA9IG9uTm9kZUxvc3RDb25uZWN0aW9uO1xufTtcblxuLyoqXG4gKiBJZiBhIGNsaWVudCB1cGRhdGUgZmFpbHMsIHNob3VsZCBhdHRlbXB0IGFuIGF1dG9tYXRpYyByZWNvbm5lY3QuXG4gKiBAcGFyYW0ge05vZGVTdHlsZUNhbGxiYWNrfSBbb25Db21wbGV0ZV1cbiAqL1xuTmV0U2ltTG9jYWxDbGllbnROb2RlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAob25Db21wbGV0ZSkge1xuICBvbkNvbXBsZXRlID0gb25Db21wbGV0ZSB8fCBmdW5jdGlvbiAoKSB7fTtcblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIE5ldFNpbUxvY2FsQ2xpZW50Tm9kZS5zdXBlclByb3RvdHlwZS51cGRhdGUuY2FsbCh0aGlzLCBmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoXCJMb2NhbCBub2RlIHVwZGF0ZSBmYWlsZWQ6IFwiICsgZXJyLm1lc3NhZ2UpO1xuICAgICAgc2VsZi5vbk5vZGVMb3N0Q29ubmVjdGlvbl8oKTtcbiAgICB9XG4gICAgb25Db21wbGV0ZShlcnIsIHJlc3VsdCk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBDb25uZWN0IHRvIGEgcmVtb3RlIGNsaWVudCBub2RlLlxuICogQHBhcmFtIHtOZXRTaW1DbGllbnROb2RlfSBjbGllbnRcbiAqIEBwYXJhbSB7IU5vZGVTdHlsZUNhbGxiYWNrfSBvbkNvbXBsZXRlXG4gKi9cbk5ldFNpbUxvY2FsQ2xpZW50Tm9kZS5wcm90b3R5cGUuY29ubmVjdFRvQ2xpZW50ID0gZnVuY3Rpb24gKGNsaWVudCwgb25Db21wbGV0ZSkge1xuICB0aGlzLmNvbm5lY3RUb05vZGUoY2xpZW50LCBmdW5jdGlvbiAoZXJyLCB3aXJlKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgb25Db21wbGV0ZShlcnIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENoZWNrIHdoZXRoZXIgV0UganVzdCBlc3RhYmxpc2hlZCBhIG11dHVhbCBjb25uZWN0aW9uIHdpdGggYSByZW1vdGUgY2xpZW50LlxuICAgIHRoaXMuc2hhcmRfLndpcmVUYWJsZS5yZWZyZXNoKCkuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMub25XaXJlVGFibGVDaGFuZ2VfKHRoaXMuc2hhcmRfLndpcmVUYWJsZS5yZWFkQWxsKCkpO1xuICAgICAgb25Db21wbGV0ZShlcnIsIHdpcmUpO1xuICAgIH0uYmluZCh0aGlzKSk7XG4gIH0uYmluZCh0aGlzKSk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7IU5ldFNpbVJvdXRlck5vZGV9IHJvdXRlclxuICogQHBhcmFtIHtOb2RlU3R5bGVDYWxsYmFja30gb25Db21wbGV0ZVxuICovXG5OZXRTaW1Mb2NhbENsaWVudE5vZGUucHJvdG90eXBlLmNvbm5lY3RUb1JvdXRlciA9IGZ1bmN0aW9uIChyb3V0ZXIsIG9uQ29tcGxldGUpIHtcbiAgb25Db21wbGV0ZSA9IG9uQ29tcGxldGUgfHwgZnVuY3Rpb24gKCkge307XG5cbiAgbG9nZ2VyLmluZm8odGhpcy5nZXREaXNwbGF5TmFtZSgpICsgXCI6IENvbm5lY3RpbmcgdG8gXCIgKyByb3V0ZXIuZ2V0RGlzcGxheU5hbWUoKSk7XG4gIHRoaXMuY29ubmVjdFRvTm9kZShyb3V0ZXIsIGZ1bmN0aW9uIChlcnIsIHdpcmUpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBvbkNvbXBsZXRlKGVycik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5teVJvdXRlcklEXyA9IHJvdXRlci5lbnRpdHlJRDtcblxuICAgIHRoaXMucmVtb3RlQ2hhbmdlLm5vdGlmeU9ic2VydmVycyh0aGlzLmdldE91dGdvaW5nV2lyZSgpLCB0aGlzLmdldE15Um91dGVyKCkpO1xuICAgIG9uQ29tcGxldGUobnVsbCwgd2lyZSk7XG4gIH0uYmluZCh0aGlzKSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhbiBhcHByb3ByaWF0ZSBpbml0aWFsIHdpcmUgcm93IGZvciBjb25uZWN0aW5nIHRvIHRoZSBnaXZlbiBub2RlLlxuICogT3ZlcnJpZGVzIE5ldFNpbU5vZGUgdmVyc2lvbiB0byBhZGQgaW1wcm92ZWQgY29ubmVjdC10by1yb3V0ZXIgZnVuY3Rpb25hbGl0eS5cbiAqIEBwYXJhbSB7IU5ldFNpbU5vZGV9IG90aGVyTm9kZVxuICogQHJldHVybnMge1dpcmVSb3d9XG4gKiBAb3ZlcnJpZGVcbiAqL1xuTmV0U2ltTG9jYWxDbGllbnROb2RlLnByb3RvdHlwZS5tYWtlV2lyZVJvd0ZvckNvbm5lY3RpbmdUbyA9IGZ1bmN0aW9uIChvdGhlck5vZGUpIHtcbiAgaWYgKG90aGVyTm9kZSBpbnN0YW5jZW9mIE5ldFNpbVJvdXRlck5vZGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbG9jYWxOb2RlSUQ6IHRoaXMuZW50aXR5SUQsXG4gICAgICByZW1vdGVOb2RlSUQ6IG90aGVyTm9kZS5lbnRpdHlJRCxcbiAgICAgIGxvY2FsQWRkcmVzczogb3RoZXJOb2RlLmdldFJhbmRvbUF2YWlsYWJsZUNsaWVudEFkZHJlc3MoKSxcbiAgICAgIHJlbW90ZUFkZHJlc3M6IG90aGVyTm9kZS5nZXRBZGRyZXNzKCksXG4gICAgICBsb2NhbEhvc3RuYW1lOiB0aGlzLmdldEhvc3RuYW1lKCksXG4gICAgICByZW1vdGVIb3N0bmFtZTogb3RoZXJOb2RlLmdldEhvc3RuYW1lKClcbiAgICB9O1xuICB9XG4gIHJldHVybiBOZXRTaW1Mb2NhbENsaWVudE5vZGUuc3VwZXJQcm90b3R5cGVcbiAgICAgIC5tYWtlV2lyZVJvd0ZvckNvbm5lY3RpbmdUby5jYWxsKHRoaXMsIG90aGVyTm9kZSk7XG59O1xuXG4vKipcbiAqIEhlbHBlci9hY2Nlc3NvciBmb3Igcm91dGVyIGNvbnRyb2xsZXIgaW5zdGFuY2UgZm9yIHRoZSByb3V0ZXIgdGhhdCB0aGlzXG4gKiBjbGllbnQgaXMgZGlyZWN0bHkgY29ubmVjdGVkIHRvLlxuICogQHJldHVybnMge05ldFNpbVJvdXRlck5vZGV8bnVsbH0gUm91dGVyIHdlIGFyZSBjb25uZWN0ZWQgdG8gb3IgbnVsbCBpZiBub3RcbiAqICAgICAgICAgIGNvbm5lY3RlZCB0byBhIHJvdXRlciBhdCBhbGwuXG4gKi9cbk5ldFNpbUxvY2FsQ2xpZW50Tm9kZS5wcm90b3R5cGUuZ2V0TXlSb3V0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLm15Um91dGVySURfID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBfLmZpbmQodGhpcy5yb3V0ZXJzXywgZnVuY3Rpb24gKHJvdXRlcikge1xuICAgIHJldHVybiByb3V0ZXIuZW50aXR5SUQgPT09IHRoaXMubXlSb3V0ZXJJRF87XG4gIH0uYmluZCh0aGlzKSk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZVN0eWxlQ2FsbGJhY2t9IFtvbkNvbXBsZXRlXVxuICovXG5OZXRTaW1Mb2NhbENsaWVudE5vZGUucHJvdG90eXBlLmRpc2Nvbm5lY3RSZW1vdGUgPSBmdW5jdGlvbiAob25Db21wbGV0ZSkge1xuICBvbkNvbXBsZXRlID0gb25Db21wbGV0ZSB8fCBmdW5jdGlvbiAoKSB7fTtcblxuICAvLyBzYXZlIHRoZSB3aXJlIHNvIHdlIGNhbiBkZXN0cm95IGl0XG4gIHZhciB3aXJlID0gdGhpcy5nZXRPdXRnb2luZ1dpcmUoKTtcblxuICAvLyByZW1vdmUgYWxsIGxvY2FsIHJlZmVyZW5jZXMgdG8gY29ubmVjdGlvbnNcbiAgdGhpcy5jbGVhblVwQmVmb3JlRGVzdHJveWluZ1dpcmVfKCk7XG5cbiAgLy8gZGVzdHJveSB3aXJlIG9uIEFQSVxuICB3aXJlLmRlc3Ryb3koZnVuY3Rpb24gKGVycikge1xuICAgIC8vIFdlJ3JlIG5vdCBnb2luZyB0byBzdG9wIGlmIGFuIGVycm9yIG9jY3VycmVkIGhlcmU7IHRoZSBlcnJvciBtaWdodFxuICAgIC8vIGp1c3QgYmUgdGhhdCB0aGUgd2lyZSB3YXMgYWxyZWFkeSBjbGVhbmVkIHVwIGJ5IGFub3RoZXIgbm9kZS5cbiAgICAvLyBBcyBsb25nIGFzIHdlIG1ha2UgYSBnb29kLWZhaXRoIGRpc2Nvbm5lY3QgZWZmb3J0LCB0aGUgY2xlYW51cCBzeXN0ZW1cbiAgICAvLyB3aWxsIGNvcnJlY3QgYW55IG1pc3Rha2VzIGFuZCB3ZSB3b24ndCBsb2NrIHVwIG91ciBjbGllbnQgdHJ5aW5nIHRvXG4gICAgLy8gcmUtZGlzY29ubmVjdC5cbiAgICBpZiAoZXJyKSB7XG4gICAgICBsb2dnZXIuaW5mbyhcIkVycm9yIHdoaWxlIGRpc2Nvbm5lY3Rpbmc6IFwiICsgZXJyLm1lc3NhZ2UpO1xuICAgIH1cbiAgICBvbkNvbXBsZXRlKG51bGwpO1xuICB9LmJpbmQodGhpcykpO1xufTtcblxuLyoqXG4gKiBDb21tb24gY2xlYW51cCBiZWhhdmlvciBzaGFyZWQgYmV0d2VlbiB0aGUgc3luY2hyb25vdXMgYW5kIGFzeW5jaHJvbm91c1xuICogZGlzY29ubmVjdCBwYXRocy5cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbUxvY2FsQ2xpZW50Tm9kZS5wcm90b3R5cGUuY2xlYW5VcEJlZm9yZURlc3Ryb3lpbmdXaXJlXyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5teVJlbW90ZUNsaWVudCA9IG51bGw7XG4gIHRoaXMubXlSb3V0ZXJJRF8gPSB1bmRlZmluZWQ7XG4gIHRoaXMucmVtb3RlQ2hhbmdlLm5vdGlmeU9ic2VydmVycyhudWxsLCBudWxsKTtcbn07XG5cbi8qKlxuICogUHV0IGEgbWVzc2FnZSBvbiBvdXIgb3V0Z29pbmcgd2lyZSwgdG8gd2hhdGV2ZXIgd2UgYXJlIGNvbm5lY3RlZCB0b1xuICogYXQgdGhlIG1vbWVudC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXlsb2FkXG4gKiBAcGFyYW0geyFOb2RlU3R5bGVDYWxsYmFja30gb25Db21wbGV0ZVxuICovXG5OZXRTaW1Mb2NhbENsaWVudE5vZGUucHJvdG90eXBlLnNlbmRNZXNzYWdlID0gZnVuY3Rpb24gKHBheWxvYWQsIG9uQ29tcGxldGUpIHtcbiAgdmFyIG15V2lyZSA9IHRoaXMuZ2V0T3V0Z29pbmdXaXJlKCk7XG4gIGlmICghbXlXaXJlKSB7XG4gICAgb25Db21wbGV0ZShuZXcgRXJyb3IoJ0Nhbm5vdCBzZW5kIG1lc3NhZ2U7IG5vdCBjb25uZWN0ZWQuJykpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBsb2NhbE5vZGVJRCA9IG15V2lyZS5sb2NhbE5vZGVJRDtcbiAgdmFyIHJlbW90ZU5vZGVJRCA9IG15V2lyZS5yZW1vdGVOb2RlSUQ7XG5cbiAgLy8gV2hvIHdpbGwgYmUgcmVzcG9uc2libGUgZm9yIHBpY2tpbmcgdXAvY2xlYW5pbmcgdXAgdGhpcyBtZXNzYWdlP1xuICB2YXIgc2ltdWxhdGluZ05vZGVJRCA9IHRoaXMuc2VsZWN0U2ltdWxhdGluZ05vZGVfKGxvY2FsTm9kZUlELCByZW1vdGVOb2RlSUQpO1xuICB2YXIgbGV2ZWxDb25maWcgPSBOZXRTaW1HbG9iYWxzLmdldExldmVsQ29uZmlnKCk7XG4gIHZhciBleHRyYUhvcHMgPSBsZXZlbENvbmZpZy5taW5pbXVtRXh0cmFIb3BzO1xuICBpZiAobGV2ZWxDb25maWcubWluaW11bUV4dHJhSG9wcyAhPT0gbGV2ZWxDb25maWcubWF4aW11bUV4dHJhSG9wcykge1xuICAgIGV4dHJhSG9wcyA9IE5ldFNpbUdsb2JhbHMucmFuZG9tSW50SW5SYW5nZShcbiAgICAgICAgbGV2ZWxDb25maWcubWluaW11bUV4dHJhSG9wcyxcbiAgICAgICAgbGV2ZWxDb25maWcubWF4aW11bUV4dHJhSG9wcyArIDEpO1xuICB9XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBOZXRTaW1NZXNzYWdlLnNlbmQoXG4gICAgICB0aGlzLnNoYXJkXyxcbiAgICAgIHtcbiAgICAgICAgZnJvbU5vZGVJRDogbG9jYWxOb2RlSUQsXG4gICAgICAgIHRvTm9kZUlEOiByZW1vdGVOb2RlSUQsXG4gICAgICAgIHNpbXVsYXRlZEJ5OiBzaW11bGF0aW5nTm9kZUlELFxuICAgICAgICBwYXlsb2FkOiBwYXlsb2FkLFxuICAgICAgICBleHRyYUhvcHNSZW1haW5pbmc6IGV4dHJhSG9wc1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uIChlcnIsIHJvdykge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gc2VuZCBtZXNzYWdlOiAnICsgZXJyLm1lc3NhZ2UgKyBcIlxcblwiICtcbiAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpO1xuICAgICAgICAgIE5ldFNpbUFsZXJ0LmVycm9yKGkxOG4uc2VuZE1lc3NhZ2VFcnJvcigpKTtcbiAgICAgICAgICBvbkNvbXBsZXRlKGVycik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbG9nZ2VyLmluZm8odGhpcy5nZXREaXNwbGF5TmFtZSgpICsgJzogU2VudCBtZXNzYWdlOicgK1xuICAgICAgICAgICAgJ1xcbmZyb206ICcgKyBsb2NhbE5vZGVJRCArXG4gICAgICAgICAgICAnXFxudG8gIDogJyArIHJlbW90ZU5vZGVJRCArXG4gICAgICAgICAgICAnXFxuc2ltIDogJyArIHNpbXVsYXRpbmdOb2RlSUQgK1xuICAgICAgICAgICAgJ1xcbmhvcHM6ICcgKyBleHRyYUhvcHMpO1xuXG4gICAgICAgIGlmIChzZWxmLnNlbnRMb2dfKSB7XG4gICAgICAgICAgc2VsZi5zZW50TG9nXy5sb2cocGF5bG9hZCwgcm93LmlkKTtcbiAgICAgICAgfVxuICAgICAgICBvbkNvbXBsZXRlKG51bGwpO1xuICAgICAgfS5iaW5kKHRoaXMpXG4gICk7XG59O1xuXG4vKipcbiAqIERlY2lkZSB3aGV0aGVyIHRoZSBsb2NhbCBub2RlIG9yIHRoZSByZW1vdGUgbm9kZSB3aWxsIGJlIHJlc3BvbnNpYmxlXG4gKiBmb3IgcGlja2luZyB1cCBhbmQgY2xlYW5pbmcgdXAgdGhpcyBtZXNzYWdlIGZyb20gcmVtb3RlIHN0b3JhZ2UuXG4gKiBAcGFyYW0ge251bWJlcn0gbG9jYWxOb2RlSURcbiAqIEBwYXJhbSB7bnVtYmVyfSByZW1vdGVOb2RlSURcbiAqIEByZXR1cm5zIHtudW1iZXJ9IG9uZSBvZiB0aGUgdHdvIElEcyBwcm92aWRlZFxuICovXG5OZXRTaW1Mb2NhbENsaWVudE5vZGUucHJvdG90eXBlLnNlbGVjdFNpbXVsYXRpbmdOb2RlXyA9IGZ1bmN0aW9uIChsb2NhbE5vZGVJRCxcbiAgICByZW1vdGVOb2RlSUQpIHtcbiAgaWYgKE5ldFNpbUdsb2JhbHMuZ2V0TGV2ZWxDb25maWcoKS5tZXNzYWdlR3JhbnVsYXJpdHkgPT09IE1lc3NhZ2VHcmFudWxhcml0eS5CSVRTKSB7XG4gICAgLy8gSW4gc2ltcGxleCB3aXJlIG1vZGUsIHRoZSBsb2NhbCBub2RlIGNsZWFucyB1cCBpdHMgb3duIG1lc3NhZ2VzXG4gICAgLy8gd2hlbiBpdCBrbm93cyB0aGV5IGFyZSBubyBsb25nZXIgY3VycmVudC5cbiAgICByZXR1cm4gbG9jYWxOb2RlSUQ7XG4gIH0gZWxzZSBpZiAodGhpcy5teVJvdXRlcklEXyAhPT0gdW5kZWZpbmVkICYmIHRoaXMubXlSb3V0ZXJJRF8gPT09IHJlbW90ZU5vZGVJRCkge1xuICAgIC8vIElmIHNlbmRpbmcgdG8gYSByb3V0ZXIsIHdlIHdpbGwgZG8gb3VyIG93biBzaW11bGF0aW9uIG9uIHRoZSByb3V0ZXInc1xuICAgIC8vIGJlaGFsZlxuICAgIHJldHVybiBsb2NhbE5vZGVJRDtcbiAgfVxuICAvLyBEZWZhdWx0IGNhc2U6IFRoZSBkZXNpZ25hdGVkIHJlY2lwaWVudCBtdXN0IHBpY2sgdXAgdGhlIG1lc3NhZ2UuXG4gIHJldHVybiByZW1vdGVOb2RlSUQ7XG59O1xuXG4vKipcbiAqIFNlcXVlbnRpYWxseSBwdXRzIGEgbGlzdCBvZiBtZXNzYWdlcyBvbnRvIHRoZSBvdXRnb2luZyB3aXJlLCB0byB3aGF0ZXZlclxuICogd2UgYXJlIGNvbm5lY3RlZCB0byBhdCB0aGUgbW9tZW50LlxuICogQHBhcmFtIHtzdHJpbmdbXX0gcGF5bG9hZHNcbiAqIEBwYXJhbSB7IU5vZGVTdHlsZUNhbGxiYWNrfSBvbkNvbXBsZXRlXG4gKi9cbk5ldFNpbUxvY2FsQ2xpZW50Tm9kZS5wcm90b3R5cGUuc2VuZE1lc3NhZ2VzID0gZnVuY3Rpb24gKHBheWxvYWRzLCBvbkNvbXBsZXRlKSB7XG4gIGlmIChwYXlsb2Fkcy5sZW5ndGggPT09IDApIHtcbiAgICBvbkNvbXBsZXRlKG51bGwpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuc2VuZE1lc3NhZ2UocGF5bG9hZHNbMF0sIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIG9uQ29tcGxldGUoZXJyLCByZXN1bHQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2VuZE1lc3NhZ2VzKHBheWxvYWRzLnNsaWNlKDEpLCBvbkNvbXBsZXRlKTtcbiAgfS5iaW5kKHRoaXMpKTtcbn07XG5cbi8qKlxuICogV2hlbmV2ZXIgdGhlIG5vZGUgdGFibGUgY2hhbmdlcywgbWFrZSBuZWVkZWQgY2hhbmdlcyB0byBvdXIgY29sbGVjdGlvbiBvZlxuICogcm91dGVycyBjb25maWd1cmVkIHRvIHNpbXVsYXRlIGZvciB0aGUgbG9jYWwgbm9kZS5cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbUxvY2FsQ2xpZW50Tm9kZS5wcm90b3R5cGUub25Ob2RlVGFibGVDaGFuZ2VfID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbm9kZVJvd3MgPSB0aGlzLnNoYXJkXy5ub2RlVGFibGUucmVhZEFsbCgpO1xuXG4gIC8vIElmIG91ciBvd24gcm93IGlzIGdvbmUsIGRyb3AgZXZlcnl0aGluZyBhbmQgaGFuZGxlIGRpc2Nvbm5lY3QuXG4gIGlmICghdGhpcy5jYW5GaW5kT3duUm93SW4obm9kZVJvd3MpKSB7XG4gICAgdGhpcy5vbk5vZGVMb3N0Q29ubmVjdGlvbl8oKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBSZW1vdmUgc2ltdWxhdGluZyByb3V0ZXJzIHRoYXQgaGF2ZSB2YW5pc2hlZCBmcm9tIHJlbW90ZSBzdG9yYWdlLlxuICB0aGlzLnJvdXRlcnNfID0gdGhpcy5yb3V0ZXJzXy5maWx0ZXIoZnVuY3Rpb24gKHNpbXVsYXRpbmdSb3V0ZXIpIHtcbiAgICB2YXIgc3RpbGxFeGlzdHMgPSBub2RlUm93cy5zb21lKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgIHJldHVybiByb3cuaWQgPT09IHNpbXVsYXRpbmdSb3V0ZXIuZW50aXR5SUQ7XG4gICAgfSk7XG4gICAgaWYgKCFzdGlsbEV4aXN0cykge1xuICAgICAgc2ltdWxhdGluZ1JvdXRlci5zdG9wU2ltdWxhdGlvbigpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG5cbiAgLy8gQ3JlYXRlIGFuZCBzaW11bGF0ZSBuZXcgcm91dGVyc1xuICBub2RlUm93cy5maWx0ZXIoZnVuY3Rpb24gKHJvdykge1xuICAgIHJldHVybiByb3cudHlwZSA9PT0gTmV0U2ltQ29uc3RhbnRzLk5vZGVUeXBlLlJPVVRFUjtcbiAgfSkuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgdmFyIGFscmVhZHlTaW11bGF0aW5nID0gdGhpcy5yb3V0ZXJzXy5zb21lKGZ1bmN0aW9uIChzaW11bGF0aW5nUm91dGVyKSB7XG4gICAgICByZXR1cm4gcm93LmlkID09PSBzaW11bGF0aW5nUm91dGVyLmVudGl0eUlEO1xuICAgIH0pO1xuXG4gICAgaWYgKCFhbHJlYWR5U2ltdWxhdGluZykge1xuICAgICAgdmFyIG5ld1JvdXRlciA9IG5ldyBOZXRTaW1Sb3V0ZXJOb2RlKHRoaXMuc2hhcmRfLCByb3cpO1xuICAgICAgbmV3Um91dGVyLmluaXRpYWxpemVTaW11bGF0aW9uKHRoaXMuZW50aXR5SUQpO1xuICAgICAgdGhpcy5yb3V0ZXJzXy5wdXNoKG5ld1JvdXRlcik7XG4gICAgfVxuICB9LCB0aGlzKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3RbXX0gbm9kZVJvd3NcbiAqIEByZXR1cm5zIHtib29sZWFufSBUUlVFIGlmIG93biByb3cgaXMgaW4gZ2l2ZW4gcm93IGNvbGxlY3Rpb25cbiAqL1xuTmV0U2ltTG9jYWxDbGllbnROb2RlLnByb3RvdHlwZS5jYW5GaW5kT3duUm93SW4gPSBmdW5jdGlvbiAobm9kZVJvd3MpIHtcbiAgcmV0dXJuIG5vZGVSb3dzLnNvbWUoZnVuY3Rpb24gKHJvdykge1xuICAgIHJldHVybiByb3cuaWQgPT09IHRoaXMuZW50aXR5SUQgJiYgcm93LnV1aWQgPT09IHRoaXMudXVpZDtcbiAgfSwgdGhpcyk7XG59O1xuXG4vKipcbiAqIEhhbmRsZXIgZm9yIGFueSB3aXJlIHRhYmxlIGNoYW5nZS4gIFVzZWQgaGVyZSB0byBkZXRlY3QgbXV0dWFsXG4gKiBjb25uZWN0aW9ucyBiZXR3ZWVuIGNsaWVudCBub2RlcyB0aGF0IGluZGljYXRlIHdlIGNhbiBtb3ZlIHRvIGFcbiAqIFwiY29ubmVjdGVkXCIgc3RhdGUgb3Igc3RvcCB0cnlpbmcgdG8gY29ubmVjdC5cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbUxvY2FsQ2xpZW50Tm9kZS5wcm90b3R5cGUub25XaXJlVGFibGVDaGFuZ2VfID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbXlXaXJlID0gdGhpcy5nZXRPdXRnb2luZ1dpcmUoKTtcbiAgaWYgKCFteVdpcmUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgd2lyZVJvd3MgPSB0aGlzLnNoYXJkXy53aXJlVGFibGUucmVhZEFsbCgpO1xuICB2YXIgbXlDb25uZWN0aW9uVGFyZ2V0V2lyZVJvdywgaXNUYXJnZXRDb25uZWN0ZWRUb1NvbWVvbmVFbHNlO1xuXG4gIC8vIExvb2sgZm9yIG11dHVhbCBjb25uZWN0aW9uXG4gIHZhciBtdXR1YWxDb25uZWN0aW9uUm93ID0gXy5maW5kKHdpcmVSb3dzLCBmdW5jdGlvbiAocm93KSB7XG4gICAgcmV0dXJuIHJvdy5yZW1vdGVOb2RlSUQgPT09IG15V2lyZS5sb2NhbE5vZGVJRCAmJlxuICAgICAgICByb3cubG9jYWxOb2RlSUQgPT09IG15V2lyZS5yZW1vdGVOb2RlSUQ7XG4gIH0uYmluZCh0aGlzKSk7XG5cbiAgaWYgKG11dHVhbENvbm5lY3Rpb25Sb3cgJiYgIXRoaXMubXlSZW1vdGVDbGllbnQpIHtcbiAgICAvLyBOZXcgbXV0dWFsIGNvbm5lY3Rpb24hIEdldCB0aGUgbm9kZSBmb3Igb3VyIG93biB1c2UuXG4gICAgTmV0U2ltQ2xpZW50Tm9kZS5nZXQobXV0dWFsQ29ubmVjdGlvblJvdy5sb2NhbE5vZGVJRCwgdGhpcy5zaGFyZF8sXG4gICAgICAgIGZ1bmN0aW9uIChlcnIsIHJlbW90ZUNsaWVudCkge1xuICAgICAgICAgIHRoaXMubXlSZW1vdGVDbGllbnQgPSByZW1vdGVDbGllbnQ7XG4gICAgICAgICAgdGhpcy5yZW1vdGVDaGFuZ2Uubm90aWZ5T2JzZXJ2ZXJzKG15V2lyZSwgdGhpcy5teVJlbW90ZUNsaWVudCk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gIH0gZWxzZSBpZiAoIW11dHVhbENvbm5lY3Rpb25Sb3cgJiYgdGhpcy5teVJlbW90ZUNsaWVudCkge1xuICAgIC8vIFJlbW90ZSBjbGllbnQgZGlzY29ubmVjdGVkIG9yIHdlIGRpc2Nvbm5lY3RlZDsgZWl0aGVyIHdheSB3ZSBhcmVcbiAgICAvLyBubyBsb25nZXIgY29ubmVjdGVkLlxuICAgIE5ldFNpbUFsZXJ0LmluZm8oaTE4bi5hbGVydFBhcnRuZXJEaXNjb25uZWN0ZWQoKSk7XG4gICAgdGhpcy5kaXNjb25uZWN0UmVtb3RlKCk7XG4gIH0gZWxzZSBpZiAoIW11dHVhbENvbm5lY3Rpb25Sb3cgJiYgIXRoaXMubXlSZW1vdGVDbGllbnQpIHtcbiAgICAvLyBUaGUgY2xpZW50IHdlJ3JlIHRyeWluZyB0byBjb25uZWN0IHRvIG1pZ2h0IGhhdmUgY29ubmVjdGVkIHRvXG4gICAgLy8gc29tZW9uZSBlbHNlOyBjaGVjayBpZiB0aGV5IGRpZCBhbmQgaWYgc28sIHN0b3AgdHJ5aW5nIHRvIGNvbm5lY3RcbiAgICBteUNvbm5lY3Rpb25UYXJnZXRXaXJlUm93ID0gXy5maW5kKHdpcmVSb3dzLCBmdW5jdGlvbihyb3cpIHtcbiAgICAgIHJldHVybiByb3cubG9jYWxOb2RlSUQgPT09IG15V2lyZS5yZW1vdGVOb2RlSUQgJiZcbiAgICAgICAgICByb3cucmVtb3RlTm9kZUlEICE9PSBteVdpcmUubG9jYWxOb2RlSUQ7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgICBpc1RhcmdldENvbm5lY3RlZFRvU29tZW9uZUVsc2UgPSBteUNvbm5lY3Rpb25UYXJnZXRXaXJlUm93ID9cbiAgICAgICAgd2lyZVJvd3Muc29tZShmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgcmV0dXJuIHJvdy5yZW1vdGVOb2RlSUQgPT09IG15Q29ubmVjdGlvblRhcmdldFdpcmVSb3cubG9jYWxOb2RlSUQgJiZcbiAgICAgICAgICAgICAgcm93LmxvY2FsTm9kZUlEID09PSBteUNvbm5lY3Rpb25UYXJnZXRXaXJlUm93LnJlbW90ZU5vZGVJRDtcbiAgICAgICAgfSkgOiB1bmRlZmluZWQ7XG4gICAgaWYgKG15Q29ubmVjdGlvblRhcmdldFdpcmVSb3cgJiYgaXNUYXJnZXRDb25uZWN0ZWRUb1NvbWVvbmVFbHNlKSB7XG4gICAgICBOZXRTaW1BbGVydC5pbmZvKGkxOG4uYWxlcnRDb25uZWN0aW9uUmVmdXNlZCgpKTtcbiAgICAgIHRoaXMuZGlzY29ubmVjdFJlbW90ZSgpO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBMaXN0ZW5zIGZvciBjaGFuZ2VzIHRvIHRoZSBtZXNzYWdlIHRhYmxlLiAgRGV0ZWN0cyBhbmQgaGFuZGxlcyBtZXNzYWdlc1xuICogc2VudCB0byB0aGlzIG5vZGUuXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1Mb2NhbENsaWVudE5vZGUucHJvdG90eXBlLm9uTWVzc2FnZVRhYmxlQ2hhbmdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCFOZXRTaW1HbG9iYWxzLmdldExldmVsQ29uZmlnKCkuYXV0b21hdGljUmVjZWl2ZSkge1xuICAgIC8vIEluIHRoaXMgbGV2ZWwsIHdlIHdpbGwgbm90IGF1dG9tYXRpY2FsbHkgcGljayB1cCBtZXNzYWdlcyBkaXJlY3RlZFxuICAgIC8vIGF0IHVzLiAgV2UgbXVzdCBtYW51YWxseSBjYWxsIGEgcmVjZWl2ZSBtZXRob2QgaW5zdGVhZC5cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodGhpcy5pc1Byb2Nlc3NpbmdNZXNzYWdlc18pIHtcbiAgICAvLyBXZSdyZSBhbHJlYWR5IGluIHRoaXMgbWV0aG9kLCBnZXR0aW5nIGNhbGxlZCByZWN1cnNpdmVseSBiZWNhdXNlXG4gICAgLy8gd2UgYXJlIG1ha2luZyBjaGFuZ2VzIHRvIHRoZSB0YWJsZS4gIElnbm9yZSB0aGlzIGNhbGwuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIG1lc3NhZ2VzID0gdGhpcy5zaGFyZF8ubWVzc2FnZVRhYmxlLnJlYWRBbGwoKVxuICAgICAgLm1hcChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgIHJldHVybiBuZXcgTmV0U2ltTWVzc2FnZSh0aGlzLnNoYXJkXywgcm93KTtcbiAgICAgIH0uYmluZCh0aGlzKSlcbiAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2UudG9Ob2RlSUQgPT09IHRoaXMuZW50aXR5SUQgJiZcbiAgICAgICAgICAgIG1lc3NhZ2Uuc2ltdWxhdGVkQnkgPT09IHRoaXMuZW50aXR5SUQ7XG4gICAgICB9LmJpbmQodGhpcykpO1xuXG4gIGlmIChtZXNzYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAvLyBObyBtZXNzYWdlcyBmb3IgdXMsIG5vIHdvcmsgdG8gZG9cbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBTZXR1cCAoc3luYyk6IFNldCBwcm9jZXNzaW5nIGZsYWdcbiAgbG9nZ2VyLmluZm8oXCJMb2NhbCBub2RlIHJlY2VpdmVkIFwiICsgbWVzc2FnZXMubGVuZ3RoICsgXCIgbWVzc2FnZXNcIik7XG4gIHRoaXMuaXNQcm9jZXNzaW5nTWVzc2FnZXNfID0gdHJ1ZTtcblxuICAvLyBTdGVwIDEgKGFzeW5jKTogUHVsbCBhbGwgb3VyIG1lc3NhZ2VzIG91dCBvZiBzdG9yYWdlXG4gIE5ldFNpbUVudGl0eS5kZXN0cm95RW50aXRpZXMobWVzc2FnZXMsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIHB1bGxpbmcgbWVzc2FnZSBvZmYgdGhlIHdpcmU6ICcgKyBlcnIubWVzc2FnZSk7XG4gICAgICB0aGlzLmlzUHJvY2Vzc2luZ01lc3NhZ2VzXyA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFN0ZXAgMiAoc3luYyk6IEhhbmRsZSBhbGwgbWVzc2FnZXNcbiAgICBtZXNzYWdlcy5mb3JFYWNoKGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICB0aGlzLmhhbmRsZU1lc3NhZ2VfKG1lc3NhZ2UpO1xuICAgIH0sIHRoaXMpO1xuXG4gICAgLy8gQ2xlYW51cCAoc3luYyk6IENsZWFyIHByb2Nlc3NpbmcgZmxhZ1xuICAgIGxvZ2dlci5pbmZvKFwiTG9jYWwgbm9kZSBmaW5pc2hlZCBwcm9jZXNzaW5nIFwiICsgbWVzc2FnZXMubGVuZ3RoICsgXCIgbWVzc2FnZXNcIik7XG4gICAgdGhpcy5pc1Byb2Nlc3NpbmdNZXNzYWdlc18gPSBmYWxzZTtcbiAgfS5iaW5kKHRoaXMpKTtcbn07XG5cbi8qKlxuICogUG9zdCBtZXNzYWdlIHRvICdyZWNlaXZlZCcgbG9nLlxuICogQHBhcmFtIHshTmV0U2ltTWVzc2FnZX0gbWVzc2FnZVxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltTG9jYWxDbGllbnROb2RlLnByb3RvdHlwZS5oYW5kbGVNZXNzYWdlXyA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gIGxvZ2dlci5pbmZvKHRoaXMuZ2V0RGlzcGxheU5hbWUoKSArICc6IEhhbmRsaW5nIGluY29taW5nIG1lc3NhZ2UnKTtcbiAgLy8gVE9ETzogSG93IG11Y2ggdmFsaWRhdGlvbiBzaG91bGQgd2UgZG8gaGVyZT9cbiAgaWYgKHRoaXMucmVjZWl2ZWRMb2dfKSB7XG4gICAgdGhpcy5yZWNlaXZlZExvZ18ubG9nKG1lc3NhZ2UucGF5bG9hZCwgbWVzc2FnZS5lbnRpdHlJRCk7XG4gIH1cbn07XG5cbi8qKlxuICogQXN5bmNocm9ub3VzbHkgcmVjZWl2ZSB0aGUgbGF0ZXN0IG1lc3NhZ2Ugc2hhcmVkIGJldHdlZW4gdGhpcyBub2RlXG4gKiBhbmQgaXRzIGNvbm5lY3RlZCByZW1vdGUgbm9kZS5cbiAqIEBwYXJhbSB7IU5vZGVTdHlsZUNhbGxiYWNrfSBvbkNvbXBsZXRlIC0gZ2l2ZW4gdGhlIG1lc3NhZ2UgYXMgYSByZXN1bHQsIG9yXG4gKiAgICAgICAgTlVMTCBpZiBubyBtZXNzYWdlcyBleGlzdC5cbiAqL1xuTmV0U2ltTG9jYWxDbGllbnROb2RlLnByb3RvdHlwZS5nZXRMYXRlc3RNZXNzYWdlT25TaW1wbGV4V2lyZSA9IGZ1bmN0aW9uIChvbkNvbXBsZXRlKSB7XG4gIHZhciBteVdpcmUgPSB0aGlzLmdldE91dGdvaW5nV2lyZSgpO1xuICBpZiAoIW15V2lyZSkge1xuICAgIG9uQ29tcGxldGUobmV3IEVycm9yKFwiVW5hYmxlIHRvIHJldHJpZXZlIG1lc3NhZ2U7IG5vdCBjb25uZWN0ZWQuXCIpKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBEb2VzIGFuIGFzeW5jaHJvbm91cyByZXF1ZXN0IHRvIHRoZSBtZXNzYWdlIHRhYmxlIHRvIGVuc3VyZSB3ZSBoYXZlXG4gIC8vIHRoZSBsYXRlc3QgY29udGVudHNcbiAgdmFyIG1lc3NhZ2VUYWJsZSA9IHRoaXMuc2hhcmRfLm1lc3NhZ2VUYWJsZTtcbiAgbWVzc2FnZVRhYmxlLnJlZnJlc2goKVxuICAgIC5mYWlsKG9uQ29tcGxldGUpXG4gICAgLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBXZSBvbmx5IGNhcmUgYWJvdXQgcm93cyBvbiBvdXIgKHNpbXBsZXgpIHdpcmVcbiAgICAgICAgdmFyIHJvd3NPbldpcmUgPSBtZXNzYWdlVGFibGUucmVhZEFsbCgpLmZpbHRlcihmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgcmV0dXJuIG15V2lyZS5pc01lc3NhZ2VSb3dPblNpbXBsZXhXaXJlKHJvdyk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIHJvd3MsIGNvbXBsZXRlIHN1Y2Nlc3NmdWxseSBidXQgcGFzcyBudWxsIHJlc3VsdC5cbiAgICAgICAgaWYgKHJvd3NPbldpcmUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgb25Db21wbGV0ZShudWxsLCBudWxsKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGFzdFJvdyA9IHJvd3NPbldpcmVbcm93c09uV2lyZS5sZW5ndGggLSAxXTtcbiAgICAgICAgb25Db21wbGV0ZShudWxsLCBuZXcgTmV0U2ltTWVzc2FnZSh0aGlzLnNoYXJkXywgbGFzdFJvdykpO1xuICAgICAgfS5iaW5kKHRoaXMpKTtcbn07XG5cbi8qKlxuICogQXN5bmNocm9ub3VzbHkgc2V0IHRoZSBzdGF0ZSBvZiB0aGUgc2hhcmVkIHdpcmUuXG4gKiBAcGFyYW0ge3N0cmluZ30gbmV3U3RhdGUgLSBwcm9iYWJseSBvdWdodCB0byBiZSBcIjBcIiBvciBcIjFcIlxuICogQHBhcmFtIHshTm9kZVN0eWxlQ2FsbGJhY2t9IG9uQ29tcGxldGVcbiAqL1xuTmV0U2ltTG9jYWxDbGllbnROb2RlLnByb3RvdHlwZS5zZXRTaW1wbGV4V2lyZVN0YXRlID0gZnVuY3Rpb24gKG5ld1N0YXRlLCBvbkNvbXBsZXRlKSB7XG4gIHRoaXMuc2VuZE1lc3NhZ2UobmV3U3RhdGUsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBsb2dnZXIud2FybihlcnIubWVzc2FnZSk7XG4gICAgICBvbkNvbXBsZXRlKG5ldyBFcnJvcihcIkZhaWxlZCB0byBzZXQgd2lyZSBzdGF0ZS5cIikpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFdlJ3JlIG5vdCBkb25lISAgQWxzbyBkbyBvdXIgcGFydCB0byBrZWVwIHRoZSBtZXNzYWdlIHRhYmxlIGNsZWFuLlxuICAgIHRoaXMucmVtb3ZlTXlPbGRNZXNzYWdlc0Zyb21XaXJlXyhvbkNvbXBsZXRlKTtcbiAgfS5iaW5kKHRoaXMpKTtcblxufTtcblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBtZXNzYWdlcyBvbiB0aGUgY3VycmVudCB3aXJlIHRoYXQgYXJlIHNpbXVsYXRlZCBieSB0aGUgbG9jYWxcbiAqIG5vZGUgYW5kIGFyZSBub3QgdGhlIGxhdGVzdCBtZXNzYWdlIG9uIHRoZSB3aXJlLlxuICogVXNlZCBieSBzaW1wbGV4IGNvbmZpZ3VyYXRpb25zIHdoZXJlIHdlIG9ubHkgY2FyZSBhYm91dCB0aGUgd2lyZSdzIGN1cnJlbnRcbiAqIChsYXRlc3QpIHN0YXRlLlxuICogQHBhcmFtIHshTm9kZVN0eWxlQ2FsbGJhY2t9IG9uQ29tcGxldGVcbiAqL1xuTmV0U2ltTG9jYWxDbGllbnROb2RlLnByb3RvdHlwZS5yZW1vdmVNeU9sZE1lc3NhZ2VzRnJvbVdpcmVfID0gZnVuY3Rpb24gKG9uQ29tcGxldGUpIHtcbiAgdmFyIG15V2lyZSA9IHRoaXMuZ2V0T3V0Z29pbmdXaXJlKCk7XG4gIGlmICghbXlXaXJlKSB7XG4gICAgb25Db21wbGV0ZShuZXcgRXJyb3IoXCJVbmFibGUgdG8gcmV0cmlldmUgbWVzc2FnZTsgbm90IGNvbm5lY3RlZC5cIikpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIERvZXMgYW4gYXN5bmNocm9ub3VzIHJlcXVlc3QgdG8gdGhlIG1lc3NhZ2UgdGFibGUgdG8gZW5zdXJlIHdlIGhhdmVcbiAgLy8gdGhlIGxhdGVzdCBjb250ZW50c1xuICB2YXIgbWVzc2FnZVRhYmxlID0gdGhpcy5zaGFyZF8ubWVzc2FnZVRhYmxlO1xuICBtZXNzYWdlVGFibGUucmVmcmVzaCgpXG4gICAgLmZhaWwob25Db21wbGV0ZSlcbiAgICAuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFdlIG9ubHkgY2FyZSBhYm91dCByb3dzIG9uIG91ciAoc2ltcGxleCkgd2lyZVxuICAgICAgICB2YXIgcm93c09uV2lyZSA9IG1lc3NhZ2VUYWJsZS5yZWFkQWxsKCkuZmlsdGVyKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICByZXR1cm4gbXlXaXJlLmlzTWVzc2FnZVJvd09uU2ltcGxleFdpcmUocm93KTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgLy8gXCJPbGRcIiByb3dzIGFyZSBhbGwgYnV0IHRoZSBsYXN0IGVsZW1lbnQgKHRoZSBsYXRlc3Qgb25lKVxuICAgICAgICB2YXIgb2xkUm93c09uV2lyZSA9IHJvd3NPbldpcmUuc2xpY2UoMCwgLTEpO1xuXG4gICAgICAgIC8vIFdlIGFyZSBvbmx5IGluIGNoYXJnZSBvZiBkZWxldGluZyBtZXNzYWdlcyB0aGF0IHdlIGFyZSBzaW11bGF0aW5nXG4gICAgICAgIHZhciBteU9sZFJvd3NPbldpcmUgPSBvbGRSb3dzT25XaXJlLmZpbHRlcihmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgcmV0dXJuIHJvdy5zaW11bGF0ZWRCeSA9PT0gdGhpcy5lbnRpdHlJRDtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgLy8gQ29udmVydCB0byBtZXNzYWdlIGVudGl0aWVzIHNvIHdlIGNhbiBkZXN0cm95IHRoZW1cbiAgICAgICAgdmFyIG15T2xkTWVzc2FnZXNPbldpcmUgPSBteU9sZFJvd3NPbldpcmUubWFwKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IE5ldFNpbU1lc3NhZ2UodGhpcy5zaGFyZF8sIHJvdyk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIE5ldFNpbUVudGl0eS5kZXN0cm95RW50aXRpZXMobXlPbGRNZXNzYWdlc09uV2lyZSwgb25Db21wbGV0ZSk7XG4gICAgICB9LmJpbmQodGhpcykpO1xufTtcbiIsIi8qKlxuICogQG92ZXJ2aWV3IFVJIGNvbnRyb2xsZXIgZm9yIGxvYmJ5IC0gaGFuZGxlcyBmbG93IGZvciBuYW1lIGVudHJ5LCBzZWN0aW9uXG4gKiAgICAgICAgICAgc2VsZWN0aW9uLCBhbmQgcmVtb3RlIG5vZGUgc2VsZWN0aW9uLlxuICogQHNlZSBOZXRTaW1TaGFyZFNlbGVjdGlvblBhbmVsIGZvciBuYW1lIGVudHJ5IGFuZCBzaGFyZCBzZWxlY3Rpb24uXG4gKiBAc2VlIE5ldFNpbVJlbW90ZU5vZGVTZWxlY3Rpb25QYW5lbCBmb3IgaW1wbGVtZW50YXRpb24gb2YgdGhlIGFjdHVhbFxuICogICAgICBsb2JieSB0YWJsZS5cbiAqL1xuLy8gU3RyaWN0IGxpbnRpbmc6IEFic29yYiBpbnRvIGdsb2JhbCBjb25maWcgd2hlbiBwb3NzaWJsZVxuLyoganNoaW50XG4gdW51c2VkOiB0cnVlLFxuIGVxZXFlcTogdHJ1ZSxcbiBtYXhsZW46IDEyMFxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG52YXIgXyA9IHV0aWxzLmdldExvZGFzaCgpO1xudmFyIGkxOG4gPSByZXF1aXJlKCcuL2xvY2FsZScpO1xudmFyIE5ldFNpbU5vZGVGYWN0b3J5ID0gcmVxdWlyZSgnLi9OZXRTaW1Ob2RlRmFjdG9yeScpO1xudmFyIE5ldFNpbUNsaWVudE5vZGUgPSByZXF1aXJlKCcuL05ldFNpbUNsaWVudE5vZGUnKTtcbnZhciBOZXRTaW1BbGVydCA9IHJlcXVpcmUoJy4vTmV0U2ltQWxlcnQnKTtcbnZhciBOZXRTaW1BcGlFcnJvciA9IHJlcXVpcmUoJy4vTmV0U2ltQXBpRXJyb3InKTtcbnZhciBOZXRTaW1Sb3V0ZXJOb2RlID0gcmVxdWlyZSgnLi9OZXRTaW1Sb3V0ZXJOb2RlJyk7XG52YXIgTmV0U2ltU2hhcmRTZWxlY3Rpb25QYW5lbCA9IHJlcXVpcmUoJy4vTmV0U2ltU2hhcmRTZWxlY3Rpb25QYW5lbCcpO1xudmFyIE5ldFNpbVJlbW90ZU5vZGVTZWxlY3Rpb25QYW5lbCA9IHJlcXVpcmUoJy4vTmV0U2ltUmVtb3RlTm9kZVNlbGVjdGlvblBhbmVsJyk7XG5cbnZhciBsb2dnZXIgPSByZXF1aXJlKCcuL05ldFNpbUxvZ2dlcicpLmdldFNpbmdsZXRvbigpO1xudmFyIE5ldFNpbUdsb2JhbHMgPSByZXF1aXJlKCcuL05ldFNpbUdsb2JhbHMnKTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTaGFyZENob2ljZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IHNoYXJkU2VlZCAtIHVuaXF1ZSBrZXkgZm9yIHNoYXJkIHdpdGhpbiBsZXZlbCwgdXNlZCBpblxuICogICAgICAgICAgIHNoYXJlIFVSTHNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzaGFyZElEIC0gdW5pcXVlIGtleSBmb3Igc2hhcmQgaW4gdGFibGVzIEFQSSwgdXNlZCBhc1xuICogICAgICAgICAgIHByZWZpeCB0byB0YWJsZSBuYW1lcy4gIE11c3QgYmUgNDggY2hhcmFjdGVycyBvciBsZXNzLCBhbmRcbiAqICAgICAgICAgICBjb25zaXN0ZW50bHkgZ2VuZXJhdGFibGUgZnJvbSBhIGxldmVsIElEIGFuZCBzZWVkLlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGRpc3BsYXlOYW1lIC0gbG9jYWxpemVkIHNoYXJkIG5hbWVcbiAqL1xuXG4vKipcbiAqIEdlbmVyYXRvciBhbmQgY29udHJvbGxlciBmb3IgbG9iYnkvY29ubmVjdGlvbiBjb250cm9scy5cbiAqXG4gKiBAcGFyYW0ge2pRdWVyeX0gcm9vdERpdlxuICogQHBhcmFtIHtOZXRTaW19IGNvbm5lY3Rpb24gLSBUaGUgc2hhcmQgY29ubmVjdGlvbiB0aGF0IHRoaXNcbiAqICAgICAgICBsb2JieSBjb250cm9sIHdpbGwgbWFuaXB1bGF0ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge0Rhc2hib2FyZFVzZXJ9IG9wdGlvbnMudXNlclxuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMubGV2ZWxLZXlcbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnNoYXJlZFNoYXJkU2VlZFxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXVnbWVudHMgTmV0U2ltUGFuZWxcbiAqL1xudmFyIE5ldFNpbUxvYmJ5ID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAocm9vdERpdiwgbmV0c2ltLCBvcHRpb25zKSB7XG4gIC8qKlxuICAgKiBAdHlwZSB7alF1ZXJ5fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5yb290RGl2XyA9IHJvb3REaXY7XG5cbiAgLyoqXG4gICAqIFNoYXJkIGNvbm5lY3Rpb24gdGhhdCB0aGlzIGxvYmJ5IGNvbnRyb2wgd2lsbCBtYW5pcHVsYXRlLlxuICAgKiBAdHlwZSB7TmV0U2ltfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5uZXRzaW1fID0gbmV0c2ltO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5sZXZlbEtleV8gPSBvcHRpb25zLmxldmVsS2V5O1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7TmV0U2ltU2hhcmRTZWxlY3Rpb25QYW5lbH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuc2hhcmRTZWxlY3Rpb25QYW5lbF8gPSBudWxsO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7TmV0U2ltUmVtb3RlTm9kZVNlbGVjdGlvblBhbmVsfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5ub2RlU2VsZWN0aW9uUGFuZWxfID0gbnVsbDtcblxuICAvKipcbiAgICogQHR5cGUge05ldFNpbVNoYXJkfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5zaGFyZF8gPSBudWxsO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7TmV0U2ltTG9jYWxDbGllbnROb2RlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5teU5vZGVfID0gbnVsbDtcblxuICAvKipcbiAgICogU3RvcmFnZSBmb3IgT2JzZXJ2YWJsZUV2ZW50IHJlZ2lzdHJhdGlvbiBrZXlzLCB0byBtYWtlIHN1cmUgd2VcbiAgICogY2FuIHVucmVnaXN0ZXIgYXMgbmVlZGVkLlxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKi9cbiAgdGhpcy5ldmVudEtleXMgPSB7fTtcblxuICAvKipcbiAgICogQHR5cGUge0Rhc2hib2FyZFVzZXJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnVzZXJfID0gb3B0aW9ucy51c2VyO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5kaXNwbGF5TmFtZV8gPSAob3B0aW9ucy51c2VyLmlzU2lnbmVkSW4pID8gb3B0aW9ucy51c2VyLm5hbWUgOiAnJztcblxuICAvKipcbiAgICogU2hhcmQgb3B0aW9ucyBmb3IgdGhlIGN1cnJlbnQgdXNlclxuICAgKiBAdHlwZSB7U2hhcmRDaG9pY2VbXX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuc2hhcmRDaG9pY2VzXyA9IFtdO1xuXG4gIC8qKlxuICAgKiBXaGljaCBzaGFyZCBJRCBpcyBjdXJyZW50bHkgc2VsZWN0ZWRcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuc2VsZWN0ZWRTaGFyZElEXyA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogQHR5cGUge05ldFNpbU5vZGVbXX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMubm9kZXNPblNoYXJkXyA9IFtdO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7TmV0U2ltTm9kZVtdfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5pbmNvbWluZ0Nvbm5lY3Rpb25Ob2Rlc18gPSBbXTtcblxuICAvKipcbiAgICogQHR5cGUge05ldFNpbU5vZGV9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnJlbW90ZU5vZGVfID0gbnVsbDtcblxuICAvKipcbiAgICogQWxsb3dzIG11bHRpcGxlIG1ldGhvZHMgdG8gaGF2ZSBhICdkaXNhYmxlJyBsb2NrIG9uIHRoZSBsb2JieS5cbiAgICogQHR5cGUge09iamVjdH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuZGlzYWJsZUV2ZXJ5dGhpbmdLZXlzXyA9IHt9O1xuXG4gIC8vIEZpZ3VyZSBvdXQgdGhlIGxpc3Qgb2YgdXNlciBzZWN0aW9ucywgd2hpY2ggcmVxdWlyZXMgYW4gYXN5bmMgcmVxdWVzdFxuICAvLyBhbmQgcmUtcmVuZGVyIGlmIHRoZSB1c2VyIGlzIHNpZ25lZCBpbi5cbiAgaWYgKG9wdGlvbnMudXNlci5pc1NpZ25lZEluKSB7XG4gICAgdGhpcy5nZXRVc2VyU2VjdGlvbnNfKGZ1bmN0aW9uIChzZWN0aW9uTGlzdCkge1xuICAgICAgdGhpcy5idWlsZFNoYXJkQ2hvaWNlTGlzdF8oc2VjdGlvbkxpc3QsIG9wdGlvbnMuc2hhcmVkU2hhcmRTZWVkKTtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmJ1aWxkU2hhcmRDaG9pY2VMaXN0XyhbXSwgb3B0aW9ucy5zaGFyZWRTaGFyZFNlZWQpO1xuICB9XG5cbiAgLy8gSW5pdGlhbCByZW5kZXJcbiAgdGhpcy5yZW5kZXIoKTtcblxuICAvLyBSZWdpc3RlciBmb3IgZXZlbnRzXG4gIHRoaXMubmV0c2ltXy5zaGFyZENoYW5nZS5yZWdpc3Rlcih0aGlzLm9uU2hhcmRDaGFuZ2VfLmJpbmQodGhpcykpO1xufTtcblxuLyoqXG4gKiBSZWNyZWF0ZSBtYXJrdXAgd2l0aGluIHBhbmVsIGJvZHkuXG4gKi9cbk5ldFNpbUxvYmJ5LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBpc0Nvbm5lY3RlZFRvU2hhcmQgPSAodGhpcy5zaGFyZF8gIT09IG51bGwpO1xuICBpZiAoIWlzQ29ubmVjdGVkVG9TaGFyZCkge1xuXG4gICAgLy8gU2hhcmQgc2VsZWN0aW9uIHBhbmVsOiBDb250cm9scyBmb3Igc2V0dGluZyBkaXNwbGF5IG5hbWUgYW5kIHBpY2tpbmdcbiAgICAvLyBhIHNlY3Rpb24sIGlmIHRoZXkgYXJlbid0IHNldCBhdXRvbWF0aWNhbGx5LlxuICAgIHRoaXMuc2hhcmRTZWxlY3Rpb25QYW5lbF8gPSBuZXcgTmV0U2ltU2hhcmRTZWxlY3Rpb25QYW5lbChcbiAgICAgICAgdGhpcy5yb290RGl2XyxcbiAgICAgICAge1xuICAgICAgICAgIGRpc3BsYXlOYW1lOiB0aGlzLmRpc3BsYXlOYW1lXyxcbiAgICAgICAgICBzaGFyZENob2ljZXM6IHRoaXMuc2hhcmRDaG9pY2VzXyxcbiAgICAgICAgICBzZWxlY3RlZFNoYXJkSUQ6IHRoaXMuc2VsZWN0ZWRTaGFyZElEXyxcbiAgICAgICAgICBkaXNhYmxlQ29udHJvbHM6IHRoaXMuaXNFdmVyeXRoaW5nRGlzYWJsZWQoKVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgc2V0TmFtZUNhbGxiYWNrOiB0aGlzLnNldERpc3BsYXlOYW1lLmJpbmQodGhpcyksXG4gICAgICAgICAgc2V0U2hhcmRDYWxsYmFjazogdGhpcy5zZXRTaGFyZElELmJpbmQodGhpcylcbiAgICAgICAgfSk7XG5cbiAgfSBlbHNlIHtcblxuICAgIC8vIE5vZGUgc2VsZWN0aW9uIHBhbmVsOiBUaGUgbG9iYnkgbGlzdCBvZiB3aG8gd2UgY2FuIGNvbm5lY3QgdG8sIGFuZFxuICAgIC8vIGNvbnRyb2xzIGZvciBwaWNraW5nIG9uZSBhbmQgY29ubmVjdGluZy5cbiAgICB0aGlzLm5vZGVTZWxlY3Rpb25QYW5lbF8gPSBuZXcgTmV0U2ltUmVtb3RlTm9kZVNlbGVjdGlvblBhbmVsKFxuICAgICAgICB0aGlzLnJvb3REaXZfLFxuICAgICAgICB7XG4gICAgICAgICAgdXNlcjogdGhpcy51c2VyXyxcbiAgICAgICAgICBzaGFyZElEOiB0aGlzLnNoYXJkXy5pZCxcbiAgICAgICAgICBub2Rlc09uU2hhcmQ6IHRoaXMubm9kZXNPblNoYXJkXyxcbiAgICAgICAgICBpbmNvbWluZ0Nvbm5lY3Rpb25Ob2RlczogdGhpcy5pbmNvbWluZ0Nvbm5lY3Rpb25Ob2Rlc18sXG4gICAgICAgICAgcmVtb3RlTm9kZTogdGhpcy5yZW1vdGVOb2RlXyxcbiAgICAgICAgICBteU5vZGVJRDogdGhpcy5teU5vZGVfLmVudGl0eUlELFxuICAgICAgICAgIGRpc2FibGVDb250cm9sczogdGhpcy5pc0V2ZXJ5dGhpbmdEaXNhYmxlZCgpXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBhZGRSb3V0ZXJDYWxsYmFjazogdGhpcy5hZGRSb3V0ZXJUb0xvYmJ5LmJpbmQodGhpcyksXG4gICAgICAgICAgY2FuY2VsQnV0dG9uQ2FsbGJhY2s6IHRoaXMub25DYW5jZWxCdXR0b25DbGlja18uYmluZCh0aGlzKSxcbiAgICAgICAgICBqb2luQnV0dG9uQ2FsbGJhY2s6IHRoaXMub25Kb2luQnV0dG9uQ2xpY2tfLmJpbmQodGhpcyksXG4gICAgICAgICAgcmVzZXRTaGFyZENhbGxiYWNrOiB0aGlzLm9uUmVzZXRTaGFyZEJ1dHRvbkNsaWNrXy5iaW5kKHRoaXMpXG4gICAgICAgIH0pO1xuXG4gIH1cblxuICB0aGlzLm5ldHNpbV8uZGVib3VuY2VkUmVzaXplRm9vdGVyKCk7XG59O1xuXG5OZXRTaW1Mb2JieS5wcm90b3R5cGUudXBkYXRlTGF5b3V0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5ub2RlU2VsZWN0aW9uUGFuZWxfKSB7XG4gICAgdGhpcy5ub2RlU2VsZWN0aW9uUGFuZWxfLnVwZGF0ZUxheW91dCgpO1xuICB9XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBkaXNwbGF5TmFtZVxuICovXG5OZXRTaW1Mb2JieS5wcm90b3R5cGUuc2V0RGlzcGxheU5hbWUgPSBmdW5jdGlvbiAoZGlzcGxheU5hbWUpIHtcbiAgdGhpcy5kaXNwbGF5TmFtZV8gPSBkaXNwbGF5TmFtZTtcbiAgdGhpcy5yZW5kZXIoKTtcblxuICBpZiAodGhpcy5zZWxlY3RlZFNoYXJkSURfICYmIHRoaXMuZGlzcGxheU5hbWVfICYmXG4gICAgICAhdGhpcy5uZXRzaW1fLmlzQ29ubmVjdGVkVG9TaGFyZElEKHRoaXMuc2VsZWN0ZWRTaGFyZElEXykpIHtcbiAgICB0aGlzLm5ldHNpbV8uY29ubmVjdFRvU2hhcmQodGhpcy5zZWxlY3RlZFNoYXJkSURfLCB0aGlzLmRpc3BsYXlOYW1lXyk7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHNoYXJkSURcbiAqL1xuTmV0U2ltTG9iYnkucHJvdG90eXBlLnNldFNoYXJkSUQgPSBmdW5jdGlvbiAoc2hhcmRJRCkge1xuICB0aGlzLnNlbGVjdGVkU2hhcmRJRF8gPSBzaGFyZElEO1xuICB0aGlzLnJlbmRlcigpO1xuXG4gIGlmICh0aGlzLnNlbGVjdGVkU2hhcmRJRF8gJiYgdGhpcy5kaXNwbGF5TmFtZV8gJiZcbiAgICAgICF0aGlzLm5ldHNpbV8uaXNDb25uZWN0ZWRUb1NoYXJkSUQodGhpcy5zZWxlY3RlZFNoYXJkSURfKSkge1xuICAgIHRoaXMubmV0c2ltXy5jb25uZWN0VG9TaGFyZCh0aGlzLnNlbGVjdGVkU2hhcmRJRF8sIHRoaXMuZGlzcGxheU5hbWVfKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge05ldFNpbVNoYXJkfSBzaGFyZFxuICogQHBhcmFtIHtOZXRTaW1Mb2NhbENsaWVudE5vZGV9IG15Tm9kZVxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltTG9iYnkucHJvdG90eXBlLm9uU2hhcmRDaGFuZ2VfID0gZnVuY3Rpb24gKHNoYXJkLCBteU5vZGUpIHtcbiAgLy8gVW5yZWdpc3RlciBvbGQgaGFuZGxlcnNcbiAgaWYgKHRoaXMuZXZlbnRLZXlzLnJlZ2lzdGVyZWRTaGFyZCkge1xuICAgIHRoaXMuZXZlbnRLZXlzLnJlZ2lzdGVyZWRTaGFyZC5ub2RlVGFibGUudGFibGVDaGFuZ2UudW5yZWdpc3RlcihcbiAgICAgICAgdGhpcy5ldmVudEtleXMubm9kZVRhYmxlKTtcbiAgICB0aGlzLmV2ZW50S2V5cy5yZWdpc3RlcmVkU2hhcmQud2lyZVRhYmxlLnRhYmxlQ2hhbmdlLnVucmVnaXN0ZXIoXG4gICAgICAgIHRoaXMuZXZlbnRLZXlzLndpcmVUYWJsZSk7XG4gICAgdGhpcy5yZWdpc3RlcmVkU2hhcmQgPSB1bmRlZmluZWQ7XG4gIH1cblxuICB0aGlzLnNoYXJkXyA9IHNoYXJkO1xuICB0aGlzLm15Tm9kZV8gPSBteU5vZGU7XG5cbiAgaWYgKHRoaXMuc2hhcmRfKSB7XG4gICAgLy8gV2UgZ290IGNvbm5lY3RlZCB0byBhIHNoYXJkIVxuICAgIC8vIFJlZ2lzdGVyIGZvciBldmVudHNcbiAgICB0aGlzLmV2ZW50S2V5cy5ub2RlVGFibGUgPSB0aGlzLnNoYXJkXy5ub2RlVGFibGUudGFibGVDaGFuZ2UucmVnaXN0ZXIoXG4gICAgICAgIHRoaXMub25Ob2RlVGFibGVDaGFuZ2VfLmJpbmQodGhpcykpO1xuICAgIHRoaXMuZXZlbnRLZXlzLndpcmVUYWJsZSA9IHRoaXMuc2hhcmRfLndpcmVUYWJsZS50YWJsZUNoYW5nZS5yZWdpc3RlcihcbiAgICAgICAgdGhpcy5vbldpcmVUYWJsZUNoYW5nZV8uYmluZCh0aGlzKSk7XG4gICAgdGhpcy5ldmVudEtleXMucmVnaXN0ZXJlZFNoYXJkID0gdGhpcy5zaGFyZF87XG5cbiAgICAvLyBUcmlnZ2VyIGEgZm9yY2VkIHJlYWQgb2YgdGhlIG5vZGUgdGFibGVcbiAgICB0aGlzLmZldGNoSW5pdGlhbExvYmJ5RGF0YV8oKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBXZSd2ZSBiZWVuIGRpc2Nvbm5lY3RlZCBmcm9tIGEgc2hhcmRcbiAgICAvLyBDbGVhciBvdXIgc2VsZWN0ZWQgc2hhcmQgSURcbiAgICB0aGlzLnNlbGVjdGVkU2hhcmRJRF8gPSB1bmRlZmluZWQ7XG5cbiAgICAvLyBDbGVhciBjYWNoZWQgbG9iYnkgZGF0YVxuICAgIHRoaXMubm9kZXNPblNoYXJkXy5sZW5ndGggPSAwO1xuICAgIHRoaXMuaW5jb21pbmdDb25uZWN0aW9uTm9kZXNfLmxlbmd0aCA9IDA7XG5cbiAgICAvLyBSZWRyYXcgdGhlIGxvYmJ5XG4gICAgdGhpcy5yZW5kZXIoKTtcblxuICAgIC8vIElmIHRoZXJlJ3Mgb25seSBvbmUgb3B0aW9uLCB0cnkgdG8gYXV0by1yZWNvbm5lY3RcbiAgICBpZiAodGhpcy5zaGFyZENob2ljZXNfLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdGhpcy5zZXRTaGFyZElEKHRoaXMuc2hhcmRDaG9pY2VzX1swXS5zaGFyZElEKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogVXBvbiBjb25uZWN0aW5nIHRvIGEgbmV3IHNoYXJkLCB3ZSBuZWVkIHRvIHRyaWdnZXIgYSBtYW51YWwgcmVhZCBvZiB0aGVcbiAqIG5vZGUgYW5kIHdpcmUgdGFibGVzIHRvIGVuc3VyZSBvdXIgbG9iYnkgbGlzdGluZyBpcyBjb3JyZWN0LiAgT3RoZXJ3aXNlIHdlJ2RcbiAqIGhhdmUgdG8gd2FpdCB1bnRpbCBhIGNoYW5nZSB3YXMgZGV0ZWN0ZWQgaW4gb25lIG9mIHRob3NlIHRhYmxlcy5cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbUxvYmJ5LnByb3RvdHlwZS5mZXRjaEluaXRpYWxMb2JieURhdGFfID0gZnVuY3Rpb24gKCkge1xuICAkLndoZW4odGhpcy5zaGFyZF8ubm9kZVRhYmxlLnJlZnJlc2goKSwgdGhpcy5zaGFyZF8ud2lyZVRhYmxlLnJlZnJlc2goKSlcbiAgICAgIC5mYWlsKGZ1bmN0aW9uIChub2RlRXJyLCB3aXJlRXJyKSB7XG4gICAgICAgIGlmIChub2RlRXJyKSB7XG4gICAgICAgICAgbG9nZ2VyLndhcm4oJ05vZGUgdGFibGUgcmVmcmVzaCBmYWlsZWQ6ICcgKyBub2RlRXJyKTtcbiAgICAgICAgfSBlbHNlIGlmICh3aXJlRXJyKSB7XG4gICAgICAgICAgbG9nZ2VyLndhcm4oJ1dpcmUgdGFibGUgcmVmcmVzaCBmYWlsZWQ6ICcgKyB3aXJlRXJyKTtcbiAgICAgICAgfVxuICAgICAgfS5iaW5kKHRoaXMpKVxuICAgICAgLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBCZWNhdXNlIHRoZSBsb2JieSBtYXkgbm90IGdldCB0YWJsZS1jaGFuZ2UgZXZlbnRzIGZyb20gdGhpcyByZWZyZXNoLFxuICAgICAgICAvLyBtYW51YWxseSBwYXNzIHRoZSBjYWNoZWQgdGFibGUgY29udGVudHMgaW4uXG4gICAgICAgIHRoaXMub25Ob2RlVGFibGVDaGFuZ2VfKCk7XG4gICAgICAgIHRoaXMub25XaXJlVGFibGVDaGFuZ2VfKCk7XG5cbiAgICAgICAgLy8gSWYgd2UgdXNlIHJvdXRlcnMgYW5kIHRoZXJlJ3Mgbm8gcm91dGVyLCBjcmVhdGUgYSByb3V0ZXIuXG4gICAgICAgIC8vIFRPRE86IE1vdmUgdGhpcyBsb2dpYyB0byB0aGUgc2VydmVyLCBzb21laG93LlxuICAgICAgICBpZiAoTmV0U2ltR2xvYmFscy5nZXRMZXZlbENvbmZpZygpLmNhbkNvbm5lY3RUb1JvdXRlcnMgJiZcbiAgICAgICAgICAgICF0aGlzLmRvZXNTaGFyZENvbnRhaW5Sb3V0ZXIoKSkge1xuICAgICAgICAgIHRoaXMuYWRkUm91dGVyVG9Mb2JieSgpO1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcykpO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlciB0aGUgY3VycmVudGx5IGNhY2hlZCBub2RlIGRhdGEgZm9yIHRoZSBzaGFyZFxuICogICAgICAgICAgaW5jbHVkZXMgYSByb3V0ZXIgbm9kZS5cbiAqL1xuTmV0U2ltTG9iYnkucHJvdG90eXBlLmRvZXNTaGFyZENvbnRhaW5Sb3V0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB1bmRlZmluZWQgIT09IF8uZmluZCh0aGlzLm5vZGVzT25TaGFyZF8sIGZ1bmN0aW9uIChzaGFyZE5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHNoYXJkTm9kZSBpbnN0YW5jZW9mIE5ldFNpbVJvdXRlck5vZGU7XG4gICAgICB9KTtcbn07XG5cbi8qKlxuICogR2VuZXJhdGUgYSBuZXcgcm91dGVyIG5vZGUsIGNvbmZpZ3VyZWQgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IGxldmVsLlxuICogVGhlIGNoYW5nZSB0byB0aGUgbm9kZSB0YWJsZSBzaG91bGQgdHJpZ2dlciBhcHByb3ByaWF0ZSB1cGRhdGVzIHRvIHZhcmlvdXNcbiAqIFVJIGVsZW1lbnRzLlxuICovXG5OZXRTaW1Mb2JieS5wcm90b3R5cGUuYWRkUm91dGVyVG9Mb2JieSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGVuYWJsZUNhbGxiYWNrID0gdGhpcy5kaXNhYmxlRXZlcnl0aGluZygpO1xuICBOZXRTaW1Sb3V0ZXJOb2RlLmNyZWF0ZSh0aGlzLnNoYXJkXywgZnVuY3Rpb24gKGVycikge1xuICAgIGVuYWJsZUNhbGxiYWNrKCk7XG4gICAgaWYgKGVycikge1xuICAgICAgdmFyIFZhbGlkYXRpb25FcnJvciA9IE5ldFNpbUFwaUVycm9yLlZhbGlkYXRpb25FcnJvcjtcbiAgICAgIHN3aXRjaCAoZXJyLmRldGFpbHMpIHtcbiAgICAgICAgY2FzZSBWYWxpZGF0aW9uRXJyb3IuQ09ORkxJQ1Q6XG4gICAgICAgICAgLy8gQW5vdGhlciByb3V0ZXIgd2l0aCB0aGUgc2FtZSByb3V0ZXJOdW1iZXIgYWxyZWFkeSBleGlzdHMuXG4gICAgICAgICAgLy8gSWdub3JlIHRoaXM7IHRvIHRoZSB1c2VyIGl0IGxvb2tzIGxpa2UgaXQgd29ya2VkIVxuICAgICAgICAgIGxvZ2dlci53YXJuKCdEaWQgbm90IGNyZWF0ZSByb3V0ZXI7ICcgK1xuICAgICAgICAgICAgICAnQW5vdGhlciB1c2VyIGNyZWF0ZWQgYSByb3V0ZXIgYXQgdGhlIHNhbWUgdGltZS4nKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIFZhbGlkYXRpb25FcnJvci5MSU1JVF9SRUFDSEVEOlxuICAgICAgICAgIC8vIFRoZSBzZXJ2ZXIncyByb3V0ZXIgbGltaXQgaGFzIGJlZW4gcmVhY2hlZC5cbiAgICAgICAgICAvLyBVc3VhbGx5IHRoZSBjbGllbnQgd2lsbCByZW1vdmUgdGhlIFwiQWRkIFJvdXRlclwiIGJ1dHRvbiBmaXJzdC5cbiAgICAgICAgICBsb2dnZXIud2FybignRGlkIG5vdCBjcmVhdGUgcm91dGVyOyBSb3V0ZXIgbGltaXQgcmVhY2hlZC4nKTtcbiAgICAgICAgICBOZXRTaW1BbGVydC53YXJuKGkxOG4ucm91dGVyTGltaXRSZWFjaGVkRXJyb3IoKSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBNYWxmb3JtZWQgcm93IG9yIHNvbWUgb3RoZXIgdW5leHBlY3RlZCBlcnJvci5cbiAgICAgICAgICBsb2dnZXIuZXJyb3IoXCJVbmFibGUgdG8gY3JlYXRlIHJvdXRlcjogXCIgKyBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgTmV0U2ltQWxlcnQuZXJyb3IoaTE4bi5hZGRSb3V0ZXJUb0xvYmJ5RXJyb3IoKSk7XG4gICAgICB9XG4gICAgfVxuICB9LmJpbmQodGhpcykpO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVFJVRSBpZiBhbnl0aGluZyBoYXMgcmVxdWVzdGVkIHRoZSB3aG9sZSBsb2JieSB0byBiZVxuICogICAgICAgICAgZGlzYWJsZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuTmV0U2ltTG9iYnkucHJvdG90eXBlLmlzRXZlcnl0aGluZ0Rpc2FibGVkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5kaXNhYmxlRXZlcnl0aGluZ0tleXNfKS5sZW5ndGggPiAwO1xufTtcblxuLyoqXG4gKiBEaXNhYmxlIGFsbCBvZiB0aGUgbG9iYnkgY29udHJvbHMgdG9nZXRoZXIuXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259IENhbGxiYWNrIGZvciByZS1lbmFibGluZyB0aGUgbG9iYnkuXG4gKi9cbk5ldFNpbUxvYmJ5LnByb3RvdHlwZS5kaXNhYmxlRXZlcnl0aGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJlcXVlc3RLZXkgPSB1dGlscy5jcmVhdGVVdWlkKCk7XG4gIHRoaXMuZGlzYWJsZUV2ZXJ5dGhpbmdLZXlzX1tyZXF1ZXN0S2V5XSA9IHRydWU7XG5cbiAgaWYgKHRoaXMubm9kZVNlbGVjdGlvblBhbmVsXykge1xuICAgIHRoaXMubm9kZVNlbGVjdGlvblBhbmVsXy5kaXNhYmxlRXZlcnl0aGluZygpO1xuICB9XG5cbiAgLy8gUmV0dXJuIGFuICdlbmFibGUnIGNhbGxiYWNrXG4gIHJldHVybiB0aGlzLmVuYWJsZUV2ZXJ5dGhpbmdfLmJpbmQodGhpcywgcmVxdWVzdEtleSk7XG59O1xuXG4vKipcbiAqIFJlbGVhc2UgYSAnZGlzYWJsZS1ob2xkJyBvbiB0aGUgbG9iYnkgYW5kIHJlLWVuYWJsZSB0aGUgbG9iYnkgY29udHJvbHMgaWZcbiAqIGl0IHdhcyB0aGUgbGFzdCBzdWNoIGRpc2FibGUtaG9sZC5cbiAqIEBwYXJhbSB7IXN0cmluZ30ga2V5IC0gYSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBwYXJ0aWN1bGFyIGRpc2FibGUgcmVxdWVzdC5cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbUxvYmJ5LnByb3RvdHlwZS5lbmFibGVFdmVyeXRoaW5nXyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgZGVsZXRlIHRoaXMuZGlzYWJsZUV2ZXJ5dGhpbmdLZXlzX1trZXldO1xuICBpZiAoIXRoaXMuaXNFdmVyeXRoaW5nRGlzYWJsZWQoKSkge1xuICAgIGlmICh0aGlzLm5vZGVTZWxlY3Rpb25QYW5lbF8pIHtcbiAgICAgIHRoaXMubm9kZVNlbGVjdGlvblBhbmVsXy5lbmFibGVFdmVyeXRoaW5nKCk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEhhbmRsZXIgZm9yIGNsaWNraW5nIHRoZSBcIkpvaW5cIiBidXR0b24uXG4gKiBAcGFyYW0ge05ldFNpbUNsaWVudE5vZGV8TmV0U2ltUm91dGVyTm9kZX0gbm9kZVRvSm9pblxuICovXG5OZXRTaW1Mb2JieS5wcm90b3R5cGUub25Kb2luQnV0dG9uQ2xpY2tfID0gZnVuY3Rpb24gKG5vZGVUb0pvaW4pIHtcbiAgdmFyIGVuYWJsZUNhbGxiYWNrID0gdGhpcy5kaXNhYmxlRXZlcnl0aGluZygpO1xuICBpZiAobm9kZVRvSm9pbiBpbnN0YW5jZW9mIE5ldFNpbVJvdXRlck5vZGUpIHtcbiAgICB0aGlzLm5ldHNpbV8uY29ubmVjdFRvUm91dGVyKG5vZGVUb0pvaW4uZW50aXR5SUQsIGVuYWJsZUNhbGxiYWNrKTtcbiAgfSBlbHNlIGlmIChub2RlVG9Kb2luIGluc3RhbmNlb2YgTmV0U2ltQ2xpZW50Tm9kZSkge1xuICAgIHRoaXMubXlOb2RlXy5jb25uZWN0VG9DbGllbnQobm9kZVRvSm9pbiwgZW5hYmxlQ2FsbGJhY2spO1xuICB9XG59O1xuXG4vKipcbiAqIEhhbmRsZXIgZm9yIGNsaWNraW5nIHRoZSBcIkNhbmNlbFwiIGJ1dHRvbiB0byBzdG9wIHRyeWluZyB0byBjb25uZWN0IHRvXG4gKiBhbm90aGVyIGNsaWVudC5cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbUxvYmJ5LnByb3RvdHlwZS5vbkNhbmNlbEJ1dHRvbkNsaWNrXyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGVuYWJsZUNhbGxiYWNrID0gdGhpcy5kaXNhYmxlRXZlcnl0aGluZygpO1xuICB0aGlzLm5ldHNpbV8uZGlzY29ubmVjdEZyb21SZW1vdGUoZW5hYmxlQ2FsbGJhY2spO1xufTtcblxuLyoqXG4gKiBIYW5kbGUgZm9yIGNsaWNraW5nIHRoZSByZXNldCBzaGFyZCBidXR0b24uXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1Mb2JieS5wcm90b3R5cGUub25SZXNldFNoYXJkQnV0dG9uQ2xpY2tfID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLm5ldHNpbV8ucmVzZXRTaGFyZCgpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgd2hlbmV2ZXIgYSBjaGFuZ2UgaXMgZGV0ZWN0ZWQgaW4gdGhlIG5vZGVzIHRhYmxlIC0gd2hpY2ggc2hvdWxkXG4gKiB0cmlnZ2VyIGEgcmVmcmVzaCBvZiB0aGUgbG9iYnkgbGlzdGluZ1xuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltTG9iYnkucHJvdG90eXBlLm9uTm9kZVRhYmxlQ2hhbmdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5ub2Rlc09uU2hhcmRfID0gTmV0U2ltTm9kZUZhY3Rvcnkubm9kZXNGcm9tUm93cyh0aGlzLnNoYXJkXyxcbiAgICAgIHRoaXMuc2hhcmRfLm5vZGVUYWJsZS5yZWFkQWxsKCkpO1xuICB0aGlzLnJlbmRlcigpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgd2hlbmV2ZXIgYSBjaGFuZ2UgaXMgZGV0ZWN0ZWQgaW4gdGhlIHdpcmVzIHRhYmxlLlxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltTG9iYnkucHJvdG90eXBlLm9uV2lyZVRhYmxlQ2hhbmdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJvd3MgPSB0aGlzLnNoYXJkXy53aXJlVGFibGUucmVhZEFsbCgpO1xuICAvLyBVcGRhdGUgdGhlIGNvbGxlY3Rpb24gb2Ygbm9kZXMgd2l0aCBjb25uZWN0aW9ucyBwb2ludGluZyB0b3dhcmQgdXMuXG4gIHRoaXMuaW5jb21pbmdDb25uZWN0aW9uTm9kZXNfID0gcm93cy5maWx0ZXIoZnVuY3Rpb24gKHdpcmVSb3cpIHtcbiAgICByZXR1cm4gd2lyZVJvdy5yZW1vdGVOb2RlSUQgPT09IHRoaXMubXlOb2RlXy5lbnRpdHlJRDtcbiAgfSwgdGhpcykubWFwKGZ1bmN0aW9uICh3aXJlUm93KSB7XG4gICAgcmV0dXJuIF8uZmluZCh0aGlzLm5vZGVzT25TaGFyZF8sIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICByZXR1cm4gbm9kZS5lbnRpdHlJRCA9PT0gd2lyZVJvdy5sb2NhbE5vZGVJRDtcbiAgICB9KTtcbiAgfSwgdGhpcykuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgLy8gSW4gY2FzZSB0aGUgd2lyZSB0YWJsZSBjaGFuZ2UgY29tZXMgaW4gYmVmb3JlIHRoZSBub2RlIHRhYmxlIGNoYW5nZS5cbiAgICByZXR1cm4gbm9kZSAhPT0gdW5kZWZpbmVkO1xuICB9KTtcblxuICAvLyBGaW5kIG91dGdvaW5nIHdpcmVzXG4gIHZhciBvdXRnb2luZ1dpcmVSb3cgPSBfLmZpbmQocm93cywgZnVuY3Rpb24gKHdpcmVSb3cpIHtcbiAgICByZXR1cm4gd2lyZVJvdy5sb2NhbE5vZGVJRCA9PT0gdGhpcy5teU5vZGVfLmVudGl0eUlEO1xuICB9LmJpbmQodGhpcykpO1xuXG4gIHRoaXMucmVtb3RlTm9kZV8gPSBvdXRnb2luZ1dpcmVSb3cgP1xuICAgICAgXy5maW5kKHRoaXMubm9kZXNPblNoYXJkXywgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuZW50aXR5SUQgPT09IG91dGdvaW5nV2lyZVJvdy5yZW1vdGVOb2RlSUQ7XG4gICAgICB9KSA6IG51bGw7XG5cbiAgLy8gUmUtcmVuZGVyIHdpdGggbmV3IGluZm9ybWF0aW9uXG4gIHRoaXMucmVuZGVyKCk7XG59O1xuXG5cbi8qKlxuICogU2VuZCBhIHJlcXVlc3QgdG8gZGFzaGJvYXJkIGFuZCByZXRyaWV2ZSBhIEpTT04gYXJyYXkgbGlzdGluZyB0aGVcbiAqIHNlY3Rpb25zIHRoaXMgdXNlciBiZWxvbmdzIHRvLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbUxvYmJ5LnByb3RvdHlwZS5nZXRVc2VyU2VjdGlvbnNfID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHZhciBtZW1iZXJTZWN0aW9uc1JlcXVlc3QgPSAkLmFqYXgoe1xuICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgdXJsOiAnL3YyL3NlY3Rpb25zL21lbWJlcnNoaXAnXG4gIH0pO1xuXG4gIHZhciBvd25lZFNlY3Rpb25zUmVxdWVzdCA9ICQuYWpheCh7XG4gICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICB1cmw6ICcvdjIvc2VjdGlvbnMnXG4gIH0pO1xuXG4gICQud2hlbihtZW1iZXJTZWN0aW9uc1JlcXVlc3QsIG93bmVkU2VjdGlvbnNSZXF1ZXN0KS5kb25lKGZ1bmN0aW9uIChyZXN1bHQxLCByZXN1bHQyKSB7XG4gICAgdmFyIG1lbWJlclNlY3Rpb25EYXRhID0gcmVzdWx0MVswXTtcbiAgICB2YXIgb3duZWRTZWN0aW9uRGF0YSA9IHJlc3VsdDJbMF07XG4gICAgY2FsbGJhY2sobWVtYmVyU2VjdGlvbkRhdGEuY29uY2F0KG93bmVkU2VjdGlvbkRhdGEpKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFBvcHVsYXRlIHRoZSBpbnRlcm5hbCBjYWNoZSBvZiBzaGFyZCBvcHRpb25zLCBnaXZlbiBhIHNldCBvZiB0aGUgY3VycmVudFxuICogdXNlcidzIHNlY3Rpb25zLlxuICogQHBhcmFtIHtBcnJheX0gc2VjdGlvbkxpc3QgLSBsaXN0IG9mIHNlY3Rpb25zIHRoaXMgdXNlciBpcyBhIG1lbWJlciBvclxuICogICAgICAgIGFkbWluaXN0cmF0b3Igb2YuICBFYWNoIHNlY3Rpb24gaGFzIGFuIGlkIGFuZCBhIG5hbWUuICBNYXkgYmUgZW1wdHkuXG4gKiBAcGFyYW0ge3N0cmluZ30gc2hhcmVkU2hhcmRTZWVkIC0gYSBzaGFyZCBJRCBwcmVzZW50IGlmIHdlIHJlYWNoZWQgbmV0c2ltXG4gKiAgICAgICAgdmlhIGEgc2hhcmUgbGluay4gIFdlIHNob3VsZCBtYWtlIHN1cmUgdGhpcyBzaGFyZCBpcyBhbiBvcHRpb24uXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1Mb2JieS5wcm90b3R5cGUuYnVpbGRTaGFyZENob2ljZUxpc3RfID0gZnVuY3Rpb24gKFxuICAgIHNlY3Rpb25MaXN0LCBzaGFyZWRTaGFyZFNlZWQpIHtcbiAgdGhpcy5zaGFyZENob2ljZXNfLmxlbmd0aCA9IDA7XG5cbiAgLy8gSWYgd2UgaGF2ZSBhIHNoYXJlZCBzaGFyZCBzZWVkLCBwdXQgaXQgZmlyc3QgaW4gdGhlIGxpc3Q6XG4gIGlmIChzaGFyZWRTaGFyZFNlZWQpIHtcbiAgICB2YXIgc2hhcmVkU2hhcmRJRCA9IHRoaXMubWFrZVNoYXJkSURGcm9tU2VlZF8oc2hhcmVkU2hhcmRTZWVkKTtcbiAgICB0aGlzLnNoYXJkQ2hvaWNlc18ucHVzaCh7XG4gICAgICBzaGFyZFNlZWQ6IHNoYXJlZFNoYXJkU2VlZCxcbiAgICAgIHNoYXJkSUQ6IHNoYXJlZFNoYXJkSUQsXG4gICAgICBkaXNwbGF5TmFtZTogc2hhcmVkU2hhcmRTZWVkXG4gICAgfSk7XG4gIH1cblxuICAvLyBBZGQgdXNlcidzIHNlY3Rpb25zIHRvIHRoZSBzaGFyZCBsaXN0XG4gIHRoaXMuc2hhcmRDaG9pY2VzXyA9IHRoaXMuc2hhcmRDaG9pY2VzXy5jb25jYXQoXG4gICAgICBzZWN0aW9uTGlzdC5tYXAoZnVuY3Rpb24gKHNlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzaGFyZFNlZWQ6IHNlY3Rpb24uaWQsXG4gICAgICAgICAgc2hhcmRJRDogdGhpcy5tYWtlU2hhcmRJREZyb21TZWVkXyhzZWN0aW9uLmlkKSxcbiAgICAgICAgICBkaXNwbGF5TmFtZTogc2VjdGlvbi5uYW1lXG4gICAgICAgIH07XG4gICAgICB9LmJpbmQodGhpcykpKTtcblxuICAvLyBJZiB0aGVyZSBzdGlsbCBhcmVuJ3QgYW55IG9wdGlvbnMsIGdlbmVyYXRlIGEgcmFuZG9tIHNoYXJkXG4gIGlmICh0aGlzLnNoYXJkQ2hvaWNlc18ubGVuZ3RoID09PSAwKSB7XG4gICAgdmFyIHNlZWQgPSB1dGlscy5jcmVhdGVVdWlkKCk7XG4gICAgdmFyIHJhbmRvbVNoYXJkSUQgPSB0aGlzLm1ha2VTaGFyZElERnJvbVNlZWRfKHNlZWQpO1xuICAgIHRoaXMuc2hhcmRDaG9pY2VzXy5wdXNoKHtcbiAgICAgIHNoYXJkU2VlZDogc2VlZCxcbiAgICAgIHNoYXJkSUQ6IHJhbmRvbVNoYXJkSUQsXG4gICAgICBkaXNwbGF5TmFtZTogaTE4bi5teVByaXZhdGVOZXR3b3JrKClcbiAgICB9KTtcbiAgfVxuXG4gIC8vIElmIHRoZXJlJ3Mgb25seSBvbmUgcG9zc2libGUgc2hhcmQsIHNlbGVjdCBpdCBieSBkZWZhdWx0XG4gIGlmICh0aGlzLnNoYXJkQ2hvaWNlc18ubGVuZ3RoID09PSAxICYmICF0aGlzLnNlbGVjdGVkU2hhcmRJRF8pIHtcbiAgICB0aGlzLnNldFNoYXJkSUQodGhpcy5zaGFyZENob2ljZXNfWzBdLnNoYXJkSUQpO1xuICB9XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgdW5pcXVlIHNoYXJkIGtleSBmcm9tIHRoZSBnaXZlbiBzZWVkXG4gKiBAcGFyYW0ge3N0cmluZ30gc2VlZFxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltTG9iYnkucHJvdG90eXBlLm1ha2VTaGFyZElERnJvbVNlZWRfID0gZnVuY3Rpb24gKHNlZWQpIHtcbiAgLy8gVE9ETyAoYmJ1Y2hhbmFuKSA6IEhhc2ggc2hhcmQgSUQsIG1vcmUgbGlrZWx5IHRvIGVuc3VyZSBpdCdzIHVuaXF1ZVxuICAvLyAgICAgICAgICAgICAgICAgICAgYW5kIGZpdHMgd2l0aGluIDQ4IGNoYXJhY3RlcnMuXG4gIC8vIE1heWJlIGdyYWIgdGhpcyBNSVQtbGljZW5zZWQgaW1wbGVtZW50YXRpb24gdmlhIG5vZGU/XG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ibHVlaW1wL0phdmFTY3JpcHQtTUQ1XG4gIHJldHVybiAoJ25zXycgKyB0aGlzLmxldmVsS2V5XyArICdfJyArIHNlZWQpLnN1YnN0cigwLCA0OCk7XG59O1xuXG4vKipcbiAqIEdldHMgYSBzaGFyZSBVUkwgZm9yIHRoZSBjdXJyZW50bHktc2VsZWN0ZWQgc2hhcmQgSUQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBvciBlbXB0eSBzdHJpbmcgaWYgdGhlcmUgaXMgbm8gc2hhcmQgc2VsZWN0ZWQuXG4gKi9cbk5ldFNpbUxvYmJ5LnByb3RvdHlwZS5nZXRTaGFyZUxpbmsgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICghdGhpcy5kaXNwbGF5TmFtZV8pIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICB2YXIgc2VsZWN0ZWRTaGFyZCA9IF8uZmluZCh0aGlzLnNoYXJkQ2hvaWNlc18sIGZ1bmN0aW9uIChzaGFyZCkge1xuICAgIHJldHVybiBzaGFyZC5zaGFyZElEID09PSB0aGlzLnNlbGVjdGVkU2hhcmRJRF87XG4gIH0uYmluZCh0aGlzKSk7XG5cbiAgaWYgKHNlbGVjdGVkU2hhcmQpIHtcbiAgICB2YXIgYmFzZUxvY2F0aW9uID0gZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICtcbiAgICAgICAgZG9jdW1lbnQubG9jYXRpb24uaG9zdCArIGRvY3VtZW50LmxvY2F0aW9uLnBhdGhuYW1lO1xuICAgIHJldHVybiBiYXNlTG9jYXRpb24gKyAnP3M9JyArIHNlbGVjdGVkU2hhcmQuc2hhcmRTZWVkO1xuICB9XG5cbiAgcmV0dXJuICcnO1xufTtcbiIsIi8qKlxuICogQG92ZXJ2aWV3IExvYmJ5IFVJIGNvbXBvbmVudCB1c2VkIGZvciBuYW1lIGVudHJ5IGFuZCBzZWxlY3RpbmcgYSBzaGFyZC9jbGFzc1xuICogICAgICAgICAgIHNlY3Rpb24uXG4gKiBAc2VlIE5ldFNpbUxvYmJ5IGZvciB1c2FnZS5cbiAqL1xuLy8gU3RyaWN0IGxpbnRpbmc6IEFic29yYiBpbnRvIGdsb2JhbCBjb25maWcgd2hlbiBwb3NzaWJsZVxuLyoganNoaW50XG4gdW51c2VkOiB0cnVlLFxuIGVxZXFlcTogdHJ1ZSxcbiBtYXhsZW46IDEyMFxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG52YXIgaTE4biA9IHJlcXVpcmUoJy4vbG9jYWxlJyk7XG52YXIgbWFya3VwID0gcmVxdWlyZSgnLi9OZXRTaW1TaGFyZFNlbGVjdGlvblBhbmVsLmh0bWwuZWpzJyk7XG52YXIgTmV0U2ltUGFuZWwgPSByZXF1aXJlKCcuL05ldFNpbVBhbmVsJyk7XG5cbnZhciBLZXlDb2RlcyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cycpLktleUNvZGVzO1xuXG4vKipcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAY29uc3RcbiAqL1xudmFyIFNFTEVDVE9SX05PTkVfVkFMVUUgPSAnJztcblxuLyoqXG4gKiBHZW5lcmF0b3IgYW5kIGNvbnRyb2xsZXIgZm9yIG1lc3NhZ2UgbG9nLlxuICpcbiAqIEBwYXJhbSB7alF1ZXJ5fSByb290RGl2XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmRpc3BsYXlOYW1lXG4gKiBAcGFyYW0ge0FycmF5fSBvcHRpb25zLnNoYXJkQ2hvaWNlc1xuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuc2VsZWN0ZWRTaGFyZElEXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNhbGxiYWNrc1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tzLnNldE5hbWVDYWxsYmFja1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tzLnNldFNoYXJkQ2FsbGJhY2tcbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhdWdtZW50cyBOZXRTaW1QYW5lbFxuICovXG52YXIgTmV0U2ltU2hhcmRTZWxlY3Rpb25QYW5lbCA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHJvb3REaXYsIG9wdGlvbnMsXG4gICAgY2FsbGJhY2tzKSB7XG4gIC8qKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5kaXNwbGF5TmFtZV8gPSBvcHRpb25zLmRpc3BsYXlOYW1lO1xuXG4gIC8qKlxuICAgKiBTaGFyZCBvcHRpb25zIGZvciB0aGUgY3VycmVudCB1c2VyXG4gICAqIEB0eXBlIHtTaGFyZENob2ljZVtdfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5zaGFyZENob2ljZXNfID0gdXRpbHMudmFsdWVPcihvcHRpb25zLnNoYXJkQ2hvaWNlcywgW10pO1xuXG4gIC8qKlxuICAgKiBXaGljaCBzaGFyZCBJRCBpcyBjdXJyZW50bHkgc2VsZWN0ZWRcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuc2VsZWN0ZWRTaGFyZElEXyA9IHV0aWxzLnZhbHVlT3Iob3B0aW9ucy5zZWxlY3RlZFNoYXJkSUQsIFNFTEVDVE9SX05PTkVfVkFMVUUpO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7ZnVuY3Rpb259XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnNldE5hbWVDYWxsYmFja18gPSBjYWxsYmFja3Muc2V0TmFtZUNhbGxiYWNrO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7ZnVuY3Rpb259XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnNldFNoYXJkQ2FsbGJhY2tfID0gY2FsbGJhY2tzLnNldFNoYXJkQ2FsbGJhY2s7XG5cbiAgLy8gSW5pdGlhbCByZW5kZXJcbiAgTmV0U2ltUGFuZWwuY2FsbCh0aGlzLCByb290RGl2LCB7XG4gICAgY2xhc3NOYW1lOiAnbmV0c2ltLXNoYXJkLXNlbGVjdGlvbi1wYW5lbCcsXG4gICAgcGFuZWxUaXRsZTogaTE4bi5waWNrQVNlY3Rpb24oKSxcbiAgICB1c2VyVG9nZ2xlYWJsZTogZmFsc2VcbiAgfSk7XG59O1xuTmV0U2ltU2hhcmRTZWxlY3Rpb25QYW5lbC5pbmhlcml0cyhOZXRTaW1QYW5lbCk7XG5cbi8qKlxuICogUmVjcmVhdGUgbWFya3VwIHdpdGhpbiBwYW5lbCBib2R5LlxuICovXG5OZXRTaW1TaGFyZFNlbGVjdGlvblBhbmVsLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIENyZWF0ZSBib2lsZXJwbGF0ZSBwYW5lbCBtYXJrdXBcbiAgTmV0U2ltU2hhcmRTZWxlY3Rpb25QYW5lbC5zdXBlclByb3RvdHlwZS5yZW5kZXIuY2FsbCh0aGlzKTtcblxuICAvLyBBZGQgb3VyIG93biBjb250ZW50IG1hcmt1cFxuICB2YXIgbmV3TWFya3VwID0gJChtYXJrdXAoe1xuICAgIGRpc3BsYXlOYW1lOiB0aGlzLmRpc3BsYXlOYW1lXyxcbiAgICBzZWxlY3RlZFNoYXJkSUQ6IHRoaXMuc2VsZWN0ZWRTaGFyZElEXyxcbiAgICBzaGFyZENob2ljZXM6IHRoaXMuc2hhcmRDaG9pY2VzXyxcbiAgICBTRUxFQ1RPUl9OT05FX1ZBTFVFOiBTRUxFQ1RPUl9OT05FX1ZBTFVFXG4gIH0pKTtcbiAgdGhpcy5nZXRCb2R5KCkuaHRtbChuZXdNYXJrdXApO1xuXG4gIC8vIEJpbmQgaGFuZGxlcnNcbiAgdmFyIG5hbWVGaWVsZCA9IHRoaXMuZ2V0Qm9keSgpLmZpbmQoJyNuZXRzaW0tbG9iYnktbmFtZScpO1xuICBuYW1lRmllbGQua2V5dXAodGhpcy5vbk5hbWVLZXlVcF8uYmluZCh0aGlzKSk7XG5cbiAgdmFyIHNldE5hbWVCdXR0b24gPSB0aGlzLmdldEJvZHkoKS5maW5kKCcjbmV0c2ltLWxvYmJ5LXNldC1uYW1lLWJ1dHRvbicpO1xuICBzZXROYW1lQnV0dG9uLmNsaWNrKHRoaXMuc2V0TmFtZUJ1dHRvbkNsaWNrXy5iaW5kKHRoaXMpKTtcblxuICB2YXIgc2hhcmRTZWxlY3QgPSB0aGlzLmdldEJvZHkoKS5maW5kKCcjbmV0c2ltLXNoYXJkLXNlbGVjdCcpO1xuICBzaGFyZFNlbGVjdC5jaGFuZ2UodGhpcy5vblNoYXJkU2VsZWN0Q2hhbmdlXy5iaW5kKHRoaXMpKTtcbiAgc2hhcmRTZWxlY3Qua2V5dXAodGhpcy5vblNoYXJkU2VsZWN0S2V5VXBfLmJpbmQodGhpcykpO1xuXG4gIHZhciBzZXRTaGFyZEJ1dHRvbiA9IHRoaXMuZ2V0Qm9keSgpLmZpbmQoJyNuZXRzaW0tc2hhcmQtY29uZmlybS1idXR0b24nKTtcbiAgc2V0U2hhcmRCdXR0b24uY2xpY2sodGhpcy5zZXRTaGFyZEJ1dHRvbkNsaWNrXy5iaW5kKHRoaXMpKTtcblxuICAvLyBBdCB0aGUgZW5kIG9mIGFueSByZW5kZXIgd2Ugc2hvdWxkIGZvY3VzIG9uIHRoZSBlYXJsaWVzdCB1bnNhdGlzZmllZFxuICAvLyBmaWVsZCwgb3IgaWYgYWxsIGZpZWxkcyBhcmUgc2F0aXNmaWVkLCB0cnkgY29ubmVjdGluZyB0byB0aGUgc3BlY2lmaWVkXG4gIC8vIHNoYXJkLlxuICBpZiAodGhpcy5kaXNwbGF5TmFtZV8ubGVuZ3RoID09PSAwKSB7XG4gICAgbmFtZUZpZWxkLmZvY3VzKCk7XG4gIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RlZFNoYXJkSURfID09PSBTRUxFQ1RPUl9OT05FX1ZBTFVFKSB7XG4gICAgc2hhcmRTZWxlY3QuZm9jdXMoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge0V2ZW50fSBqUXVlcnlFdmVudFxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltU2hhcmRTZWxlY3Rpb25QYW5lbC5wcm90b3R5cGUub25OYW1lS2V5VXBfID0gZnVuY3Rpb24gKGpRdWVyeUV2ZW50KSB7XG4gIHZhciBuYW1lID0galF1ZXJ5RXZlbnQudGFyZ2V0LnZhbHVlO1xuICB2YXIgc2V0TmFtZUJ1dHRvbiA9IHRoaXMuZ2V0Qm9keSgpLmZpbmQoJyNuZXRzaW0tbG9iYnktc2V0LW5hbWUtYnV0dG9uJyk7XG4gIHNldE5hbWVCdXR0b24uYXR0cignZGlzYWJsZWQnLCBuYW1lLmxlbmd0aCA9PT0gMCk7XG5cbiAgaWYgKG5hbWUubGVuZ3RoID4gMCAmJiBqUXVlcnlFdmVudC53aGljaCA9PT0gS2V5Q29kZXMuRU5URVIpIHtcbiAgICB0aGlzLnNldE5hbWVCdXR0b25DbGlja18oKTtcbiAgfVxufTtcblxuLyoqIEBwcml2YXRlICovXG5OZXRTaW1TaGFyZFNlbGVjdGlvblBhbmVsLnByb3RvdHlwZS5zZXROYW1lQnV0dG9uQ2xpY2tfID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnNldE5hbWVDYWxsYmFja18odGhpcy5nZXRCb2R5KCkuZmluZCgnI25ldHNpbS1sb2JieS1uYW1lJykudmFsKCkpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge0V2ZW50fSBqUXVlcnlFdmVudFxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltU2hhcmRTZWxlY3Rpb25QYW5lbC5wcm90b3R5cGUub25TaGFyZFNlbGVjdENoYW5nZV8gPSBmdW5jdGlvbiAoalF1ZXJ5RXZlbnQpIHtcbiAgdmFyIHNoYXJkSUQgPSBqUXVlcnlFdmVudC50YXJnZXQudmFsdWU7XG4gIHZhciBzZXRTaGFyZEJ1dHRvbiA9IHRoaXMuZ2V0Qm9keSgpLmZpbmQoJyNuZXRzaW0tc2hhcmQtY29uZmlybS1idXR0b24nKTtcbiAgc2V0U2hhcmRCdXR0b24uYXR0cignZGlzYWJsZWQnLCAhc2hhcmRJRCB8fCBzaGFyZElEID09PSBTRUxFQ1RPUl9OT05FX1ZBTFVFKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtFdmVudH0galF1ZXJ5RXZlbnRcbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVNoYXJkU2VsZWN0aW9uUGFuZWwucHJvdG90eXBlLm9uU2hhcmRTZWxlY3RLZXlVcF8gPSBmdW5jdGlvbiAoalF1ZXJ5RXZlbnQpIHtcbiAgdmFyIHNoYXJkSUQgPSBqUXVlcnlFdmVudC50YXJnZXQudmFsdWU7XG4gIGlmIChzaGFyZElEICYmIHNoYXJkSUQgIT09IFNFTEVDVE9SX05PTkVfVkFMVUUgJiZcbiAgICAgIGpRdWVyeUV2ZW50LndoaWNoID09PSBLZXlDb2Rlcy5FTlRFUikge1xuICAgIHRoaXMuc2V0U2hhcmRCdXR0b25DbGlja18oKTtcbiAgfVxufTtcblxuLyoqIEBwcml2YXRlICovXG5OZXRTaW1TaGFyZFNlbGVjdGlvblBhbmVsLnByb3RvdHlwZS5zZXRTaGFyZEJ1dHRvbkNsaWNrXyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5zZXRTaGFyZENhbGxiYWNrXyh0aGlzLmdldEJvZHkoKS5maW5kKCcjbmV0c2ltLXNoYXJkLXNlbGVjdCcpLnZhbCgpKTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cz0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdCA9IGZ1bmN0aW9uIGFub255bW91cyhsb2NhbHMsIGZpbHRlcnMsIGVzY2FwZVxuLyoqLykge1xuZXNjYXBlID0gZXNjYXBlIHx8IGZ1bmN0aW9uIChodG1sKXtcbiAgcmV0dXJuIFN0cmluZyhodG1sKVxuICAgIC5yZXBsYWNlKC8mKD8hXFx3KzspL2csICcmYW1wOycpXG4gICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpO1xufTtcbnZhciBidWYgPSBbXTtcbndpdGggKGxvY2FscyB8fCB7fSkgeyAoZnVuY3Rpb24oKXsgXG4gYnVmLnB1c2goJycpOzE7XG4gIHZhciBpMThuID0gcmVxdWlyZSgnLi9sb2NhbGUnKTtcbjsgYnVmLnB1c2goJ1xcbjxkaXYgY2xhc3M9XCJjb250ZW50LXdyYXBcIj5cXG4gIDxkaXYgY2xhc3M9XCJmaWVsZC1ib3ggZGlzcGxheS1uYW1lLWNvbnRyb2xcIj5cXG4gICAgPGxhYmVsIGZvcj1cIm5ldHNpbS1sb2JieS1uYW1lXCI+JywgZXNjYXBlKCg2LCAgaTE4bi5teU5hbWUoKSApKSwgJzwvbGFiZWw+XFxuICAgIDxpbnB1dCBpZD1cIm5ldHNpbS1sb2JieS1uYW1lXCIgdHlwZT1cInRleHRcIiB2YWx1ZT1cIicsIGVzY2FwZSgoNywgIGRpc3BsYXlOYW1lICkpLCAnXCIgJyk7NzsgaWYgKGRpc3BsYXlOYW1lLmxlbmd0aCA+IDApIHsgOyBidWYucHVzaCgnZGlzYWJsZWQnKTs3OyB9IDsgYnVmLnB1c2goJyAvPlxcbiAgICAnKTs4OyBpZiAoZGlzcGxheU5hbWUubGVuZ3RoID09PSAwKSB7IDsgYnVmLnB1c2goJ1xcbiAgICAgIDxpbnB1dCBpZD1cIm5ldHNpbS1sb2JieS1zZXQtbmFtZS1idXR0b25cIiB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCInLCBlc2NhcGUoKDksICBpMThuLnNldE5hbWUoKSApKSwgJ1wiIGRpc2FibGVkIC8+XFxuICAgICcpOzEwOyB9IDsgYnVmLnB1c2goJ1xcbiAgPC9kaXY+XFxuICAnKTsxMjsgaWYgKGRpc3BsYXlOYW1lLmxlbmd0aCA+IDApIHsgOyBidWYucHVzaCgnXFxuICAgIDxkaXYgY2xhc3M9XCJmaWVsZC1ib3ggc2hhcmQtY29udHJvbFwiPlxcbiAgICAgIDxsYWJlbCBmb3I9XCJuZXRzaW0tc2hhcmQtc2VsZWN0XCI+JywgZXNjYXBlKCgxNCwgIGkxOG4ubXlTZWN0aW9uKCkgKSksICc8L2xhYmVsPlxcbiAgICAgIDxzZWxlY3QgaWQ9XCJuZXRzaW0tc2hhcmQtc2VsZWN0XCIgJyk7MTU7IGlmIChzZWxlY3RlZFNoYXJkSUQpIHsgOyBidWYucHVzaCgnZGlzYWJsZWQnKTsxNTsgfSA7IGJ1Zi5wdXNoKCc+XFxuICAgICAgICA8b3B0aW9uIHZhbHVlPVwiJywgZXNjYXBlKCgxNiwgIFNFTEVDVE9SX05PTkVfVkFMVUUgKSksICdcIj4nLCBlc2NhcGUoKDE2LCAgaTE4bi5kcm9wZG93blBpY2tPbmUoKSApKSwgJzwvb3B0aW9uPlxcbiAgICAgICAgJyk7MTc7XG4gICAgICAgICAgdmFyIHNlbGVjdGVkQW55U2hhcmQgPSBmYWxzZTtcbiAgICAgICAgICBzaGFyZENob2ljZXMuZm9yRWFjaChmdW5jdGlvbiAoc2hhcmRDaG9pY2UpIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVzID0gJyc7XG4gICAgICAgICAgICBpZiAoc2hhcmRDaG9pY2Uuc2hhcmRJRCA9PT0gc2VsZWN0ZWRTaGFyZElEKSB7XG4gICAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSAnc2VsZWN0ZWQnO1xuICAgICAgICAgICAgICBzZWxlY3RlZEFueVNoYXJkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDsgYnVmLnB1c2goJ1xcbiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIicsIGVzY2FwZSgoMjYsICBzaGFyZENob2ljZS5zaGFyZElEICkpLCAnXCIgJywgZXNjYXBlKCgyNiwgIGF0dHJpYnV0ZXMgKSksICc+JywgZXNjYXBlKCgyNiwgIHNoYXJkQ2hvaWNlLmRpc3BsYXlOYW1lICkpLCAnPC9vcHRpb24+XFxuICAgICAgICAgICAgJyk7Mjc7XG4gICAgICAgICAgfSk7XG4gICAgICAgIDsgYnVmLnB1c2goJ1xcbiAgICAgIDwvc2VsZWN0PlxcbiAgICAgICcpOzMxOyBpZiAoIXNlbGVjdGVkU2hhcmRJRCkgeyA7IGJ1Zi5wdXNoKCdcXG4gICAgICAgIDxpbnB1dCBpZD1cIm5ldHNpbS1zaGFyZC1jb25maXJtLWJ1dHRvblwiIHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cIicsIGVzY2FwZSgoMzIsICBpMThuLmpvaW5TZWN0aW9uKCkgKSksICdcIiAnKTszMjsgaWYgKCFzZWxlY3RlZEFueVNoYXJkKSB7IDsgYnVmLnB1c2goJ2Rpc2FibGVkJyk7MzI7IH0gOyBidWYucHVzaCgnIC8+XFxuICAgICAgJyk7MzM7IH0gOyBidWYucHVzaCgnXFxuICAgIDwvZGl2PlxcbiAgJyk7MzU7IH0gOyBidWYucHVzaCgnXFxuICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj5cXG48L2Rpdj5cXG4nKTsgfSkoKTtcbn0gXG5yZXR1cm4gYnVmLmpvaW4oJycpO1xufTtcbiAgcmV0dXJuIGZ1bmN0aW9uKGxvY2Fscykge1xuICAgIHJldHVybiB0KGxvY2FscywgcmVxdWlyZShcImVqc1wiKS5maWx0ZXJzKTtcbiAgfVxufSgpKTsiLCIvKipcbiAqIEBvdmVydmlldyBMb2JieSB0YWJsZSBVSSBjb21wb25lbnQuXG4gKiBAc2VlIE5ldFNpbUxvYmJ5IGZvciB1c2FnZS5cbiAqL1xuLy8gU3RyaWN0IGxpbnRpbmc6IEFic29yYiBpbnRvIGdsb2JhbCBjb25maWcgd2hlbiBwb3NzaWJsZVxuLyoganNoaW50XG4gdW51c2VkOiB0cnVlLFxuIGVxZXFlcTogdHJ1ZSxcbiBtYXhsZW46IDEyMFxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG52YXIgXyA9IHV0aWxzLmdldExvZGFzaCgpO1xudmFyIGkxOG4gPSByZXF1aXJlKCcuL2xvY2FsZScpO1xudmFyIE5ldFNpbVBhbmVsID0gcmVxdWlyZSgnLi9OZXRTaW1QYW5lbCcpO1xudmFyIG1hcmt1cCA9IHJlcXVpcmUoJy4vTmV0U2ltUmVtb3RlTm9kZVNlbGVjdGlvblBhbmVsLmh0bWwuZWpzJyk7XG52YXIgTm9kZVR5cGUgPSByZXF1aXJlKCcuL05ldFNpbUNvbnN0YW50cycpLk5vZGVUeXBlO1xudmFyIE5ldFNpbUdsb2JhbHMgPSByZXF1aXJlKCcuL05ldFNpbUdsb2JhbHMnKTtcbnZhciBOZXRTaW1VdGlscyA9IHJlcXVpcmUoJy4vTmV0U2ltVXRpbHMnKTtcbnZhciBOZXRTaW1Sb3V0ZXJOb2RlID0gcmVxdWlyZSgnLi9OZXRTaW1Sb3V0ZXJOb2RlJyk7XG5cbi8qKlxuICogQXBwbHkgYSB2ZXJ5IHNtYWxsIGRlYm91bmNlIHRvIGxvYmJ5IGJ1dHRvbnMgdG8gYXZvaWQgZG9pbmcgZXh0cmEgd29ya1xuICogYXMgYSByZXN1bHQgb2YgZG91YmxlLWNsaWNrcyBhbmQvb3Igc2NyaXB0cyB0aGF0IHdhbnQgdG8gY2xpY2sgYnV0dG9ucyBhXG4gKiBmZXcgdGhvdXNhbmQgdGltZXMuXG4gKiBAY29uc3Qge251bWJlcn1cbiAqL1xudmFyIEJVVFRPTl9ERUJPVU5DRV9EVVJBVElPTl9NUyA9IDEwMDtcblxuLyoqXG4gKiBHZW5lcmF0b3IgYW5kIGNvbnRyb2xsZXIgZm9yIGxvYmJ5IG5vZGUgbGlzdGluZywgc2VsZWN0aW9uLCBhbmQgY29ubmVjdGlvblxuICogY29udHJvbHMuXG4gKlxuICogQHBhcmFtIHtqUXVlcnl9IHJvb3REaXZcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtEYXNoYm9hcmRVc2VyfSBvcHRpb25zLnVzZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnNoYXJkSURcbiAqIEBwYXJhbSB7TmV0U2ltTm9kZVtdfSBvcHRpb25zLm5vZGVzT25TaGFyZFxuICogQHBhcmFtIHtOZXRTaW1Ob2RlW119IG9wdGlvbnMuaW5jb21pbmdDb25uZWN0aW9uTm9kZXNcbiAqIEBwYXJhbSB7TmV0U2ltTm9kZX0gb3B0aW9ucy5yZW1vdGVOb2RlIC0gbnVsbCBpZiBub3QgYXR0ZW1wdGluZyB0byBjb25uZWN0XG4gKiBAcGFyYW0ge251bWJlcn0gb3B0aW9ucy5teU5vZGVJRFxuICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLmRpc2FibGVDb250cm9sc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjYWxsYmFja3NcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrcy5hZGRSb3V0ZXJDYWxsYmFja1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tzLmNhbmNlbEJ1dHRvbkNhbGxiYWNrXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja3Muam9pbkJ1dHRvbkNhbGxiYWNrXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja3MucmVzZXRTaGFyZENhbGxiYWNrXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXVnbWVudHMgTmV0U2ltUGFuZWxcbiAqL1xudmFyIE5ldFNpbVJlbW90ZU5vZGVTZWxlY3Rpb25QYW5lbCA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHJvb3REaXYsXG4gICAgb3B0aW9ucywgY2FsbGJhY2tzKSB7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtEYXNoYm9hcmRVc2VyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy51c2VyXyA9IG9wdGlvbnMudXNlcjtcblxuICAvKipcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuc2hhcmRJRF8gPSBvcHRpb25zLnNoYXJkSUQ7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtOZXRTaW1Ob2RlW119XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLm5vZGVzT25TaGFyZF8gPSBvcHRpb25zLm5vZGVzT25TaGFyZDtcblxuICAvKipcbiAgICogQHR5cGUge05ldFNpbU5vZGVbXX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuaW5jb21pbmdDb25uZWN0aW9uTm9kZXNfID0gb3B0aW9ucy5pbmNvbWluZ0Nvbm5lY3Rpb25Ob2RlcztcblxuICAvKipcbiAgICogQHR5cGUge05ldFNpbU5vZGV9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnJlbW90ZU5vZGVfID0gb3B0aW9ucy5yZW1vdGVOb2RlO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5teU5vZGVJRF8gPSBvcHRpb25zLm15Tm9kZUlEO1xuXG4gIGZ1bmN0aW9uIGJ1dHRvbkRlYm91bmNlKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIF8uZGVib3VuY2UoY2FsbGJhY2ssIEJVVFRPTl9ERUJPVU5DRV9EVVJBVElPTl9NUywge1xuICAgICAgbGVhZGluZzogdHJ1ZSxcbiAgICAgIHRyYWlsaW5nOiBmYWxzZVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXIgZm9yIFwiQWRkIFJvdXRlclwiIGJ1dHRvblxuICAgKiBAdHlwZSB7ZnVuY3Rpb259XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmFkZFJvdXRlckNhbGxiYWNrXyA9IGJ1dHRvbkRlYm91bmNlKGNhbGxiYWNrcy5hZGRSb3V0ZXJDYWxsYmFjayk7XG5cbiAgLyoqXG4gICAqIEhhbmRsZXIgZm9yIGNhbmNlbCBidXR0b24gKGJhY2tzIG91dCBvZiBub24tbXV0dWFsIGNvbm5lY3Rpb24pXG4gICAqIEB0eXBlIHtmdW5jdGlvbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuY2FuY2VsQnV0dG9uQ2FsbGJhY2tfID0gYnV0dG9uRGVib3VuY2UoY2FsbGJhY2tzLmNhbmNlbEJ1dHRvbkNhbGxiYWNrKTtcblxuICAvKipcbiAgICogSGFuZGxlciBmb3IgXCJqb2luXCIgYnV0dG9uIG5leHQgdG8gZWFjaCBjb25uZWN0YWJsZSBub2RlLlxuICAgKiBAdHlwZSB7ZnVuY3Rpb259XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmpvaW5CdXR0b25DYWxsYmFja18gPSBidXR0b25EZWJvdW5jZShjYWxsYmFja3Muam9pbkJ1dHRvbkNhbGxiYWNrKTtcblxuICAvKipcbiAgICogSGFuZGxlciBmb3IgXCJyZXNldCBzaGFyZFwiIGJ1dHRvbiBjbGljay5cbiAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5yZXNldFNoYXJkQ2FsbGJhY2tfID0gYnV0dG9uRGVib3VuY2UoY2FsbGJhY2tzLnJlc2V0U2hhcmRDYWxsYmFjayk7XG5cbiAgLy8gSW5pdGlhbCByZW5kZXJcbiAgTmV0U2ltUGFuZWwuY2FsbCh0aGlzLCByb290RGl2LCB7XG4gICAgY2xhc3NOYW1lOiAnbmV0c2ltLWxvYmJ5LXBhbmVsJyxcbiAgICBwYW5lbFRpdGxlOiB0aGlzLmdldExvY2FsaXplZFBhbmVsVGl0bGUoKSxcbiAgICB1c2VyVG9nZ2xlYWJsZTogZmFsc2VcbiAgfSk7XG5cbiAgaWYgKG9wdGlvbnMuZGlzYWJsZUNvbnRyb2xzKSB7XG4gICAgdGhpcy5kaXNhYmxlRXZlcnl0aGluZygpO1xuICB9XG59O1xuTmV0U2ltUmVtb3RlTm9kZVNlbGVjdGlvblBhbmVsLmluaGVyaXRzKE5ldFNpbVBhbmVsKTtcblxuLyoqXG4gKiBSZWNyZWF0ZSBtYXJrdXAgd2l0aGluIHBhbmVsIGJvZHkuXG4gKi9cbk5ldFNpbVJlbW90ZU5vZGVTZWxlY3Rpb25QYW5lbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAvLyBDbG9uZSB0aGUgcmVmZXJlbmNlIGFyZWEgKHdpdGggaGFuZGxlcnMpIGJlZm9yZSB3ZSByZS1yZW5kZXJcbiAgdmFyIHJlZmVyZW5jZUFyZWEgPSAkKCcjcmVmZXJlbmNlX2FyZWEnKS5maXJzdCgpLmNsb25lKHRydWUpO1xuXG4gIC8vIENyZWF0ZSBib2lsZXJwbGF0ZSBwYW5lbCBtYXJrdXBcbiAgTmV0U2ltUmVtb3RlTm9kZVNlbGVjdGlvblBhbmVsLnN1cGVyUHJvdG90eXBlLnJlbmRlci5jYWxsKHRoaXMpO1xuXG4gIC8vIEFkZCBvdXIgb3duIGNvbnRlbnQgbWFya3VwXG4gIHZhciBuZXdNYXJrdXAgPSAkKG1hcmt1cCh7XG4gICAgY29udHJvbGxlcjogdGhpcyxcbiAgICBub2Rlc09uU2hhcmQ6IHRoaXMubm9kZXNPblNoYXJkXyxcbiAgICBpbmNvbWluZ0Nvbm5lY3Rpb25Ob2RlczogdGhpcy5pbmNvbWluZ0Nvbm5lY3Rpb25Ob2Rlc18sXG4gICAgcmVtb3RlTm9kZTogdGhpcy5yZW1vdGVOb2RlX1xuICB9KSk7XG4gIHRoaXMuZ2V0Qm9keSgpLmh0bWwobmV3TWFya3VwKTtcblxuICB0aGlzLnVwZGF0ZUxheW91dCgpO1xuXG4gIC8vIE1vdmUgdGhlIHJlZmVyZW5jZSBhcmVhIHRvIGJlbmVhdGggdGhlIGluc3RydWN0aW9uc1xuICB0aGlzLmdldEJvZHkoKS5maW5kKCcucmVmZXJlbmNlLWFyZWEtcGxhY2Vob2xkZXInKS5hcHBlbmQocmVmZXJlbmNlQXJlYSk7XG5cbiAgLy8gVGVhY2hlcnMgYW5kIGFkbWlucyBnZXQgYSBzcGVjaWFsIFwiUmVzZXQgU2ltdWxhdGlvblwiIGJ1dHRvblxuICBpZiAodGhpcy5jYW5DdXJyZW50VXNlclJlc2V0U2hhcmQoKSkge1xuICAgIHRoaXMuYWRkQnV0dG9uKGkxOG4uc2hhcmRSZXNldEJ1dHRvbigpLCB0aGlzLnJlc2V0U2hhcmRDYWxsYmFja18pO1xuICB9XG5cbiAgLy8gQnV0dG9uIHRoYXQgdGFrZXMgeW91IHRvIHRoZSBuZXh0IGxldmVsLlxuICBOZXRTaW1VdGlscy5tYWtlQ29udGludWVCdXR0b24odGhpcyk7XG5cbiAgdGhpcy5hZGRSb3V0ZXJCdXR0b25fID0gdGhpcy5nZXRCb2R5KCkuZmluZCgnI25ldHNpbS1sb2JieS1hZGQtcm91dGVyJyk7XG4gIHRoaXMuYWRkUm91dGVyQnV0dG9uXy5jbGljayh1bmxlc3NEaXNhYmxlZCh0aGlzLmFkZFJvdXRlckNhbGxiYWNrXykpO1xuXG4gIHRoaXMuZ2V0Qm9keSgpLmZpbmQoJy5qb2luLWJ1dHRvbicpLmNsaWNrKFxuICAgICAgdW5sZXNzRGlzYWJsZWQodGhpcy5vbkpvaW5DbGlja18uYmluZCh0aGlzKSkpO1xuICB0aGlzLmdldEJvZHkoKS5maW5kKCcuYWNjZXB0LWJ1dHRvbicpLmNsaWNrKFxuICAgICAgdW5sZXNzRGlzYWJsZWQodGhpcy5vbkpvaW5DbGlja18uYmluZCh0aGlzKSkpO1xuICB0aGlzLmdldEJvZHkoKS5maW5kKCcuY2FuY2VsLWJ1dHRvbicpLmNsaWNrKFxuICAgICAgdW5sZXNzRGlzYWJsZWQodGhpcy5jYW5jZWxCdXR0b25DYWxsYmFja18pKTtcbn07XG5cbi8qKlxuICogV3JhcCB0aGUgcHJvdmlkZWQgY2FsbGJhY2sgaW4gYSBjaGVjayB0byBtYWtlIHN1cmUgdGhlIHRhcmdldCBpcyBub3QgZGlzYWJsZWQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICogQHJldHVybnMge2Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiB1bmxlc3NEaXNhYmxlZChjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gKGpRdWVyeUV2ZW50KSB7XG4gICAgaWYgKCEkKGpRdWVyeUV2ZW50LnRhcmdldCkuaXMoJ1tkaXNhYmxlZF0nKSkge1xuICAgICAgY2FsbGJhY2soalF1ZXJ5RXZlbnQpO1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBsYXlvdXQgb2YgdGhlIG1hcmt1cCwgdXN1YWxseSBpbiByZXNwb25zZSB0byBhIHdpbmRvd1xuICogcmVzaXplLiBDdXJyZW50bHkganVzdCBhZGp1c3RzIHRoZSBoZWlnaHQgb2YgdGhlIGxvYmJ5IHRhYmxlIHRvIGtlZXBcbiAqIGV2ZXJ5dGhpbmcgb25zY3JlZW4uXG4gKi9cbk5ldFNpbVJlbW90ZU5vZGVTZWxlY3Rpb25QYW5lbC5wcm90b3R5cGUudXBkYXRlTGF5b3V0ID0gZnVuY3Rpb24gKCkge1xuXG4gIHZhciBsb2JieVRhYmxlID0gdGhpcy5nZXRCb2R5KCkuZmluZCgnI25ldHNpbS1zY3JvbGxpbmctbG9iYnknKTtcbiAgdmFyIGNvbnRhaW5lciA9IHRoaXMuZ2V0Qm9keSgpLmNsb3Nlc3QoJyNuZXRzaW0tZGlzY29ubmVjdGVkJyk7XG5cbiAgaWYgKGxvYmJ5VGFibGUuaXMoJzp2aXNpYmxlJykpIHtcbiAgICBsb2JieVRhYmxlLmhlaWdodChcIm5vbmVcIik7XG4gICAgdmFyIG92ZXJmbG93ID0gY29udGFpbmVyLnByb3AoJ3Njcm9sbEhlaWdodCcpIC0gY29udGFpbmVyLnByb3AoJ2NsaWVudEhlaWdodCcpO1xuXG4gICAgaWYgKG92ZXJmbG93ID4gMCkge1xuICAgICAgdmFyIG5ld0hlaWdodCA9IGxvYmJ5VGFibGUuaGVpZ2h0KCkgLSBvdmVyZmxvdztcbiAgICAgIHZhciBtaW5IZWlnaHQgPSBsb2JieVRhYmxlLmZpbmQoJ3RyJykuZmlyc3QoKS5vdXRlckhlaWdodCh0cnVlKTtcbiAgICAgIGxvYmJ5VGFibGUuaGVpZ2h0KE1hdGgubWF4KG5ld0hlaWdodCwgbWluSGVpZ2h0KSk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEByZXR1cm5zIHtzdHJpbmd9IGEgbG9jYWxpemVkIHBhbmVsIHRpdGxlIGFwcHJvcHJpYXRlIHRvIHRoZSBjdXJyZW50IGxldmVsXG4gKiAgICAgICAgICBjb25maWd1cmF0aW9uXG4gKi9cbk5ldFNpbVJlbW90ZU5vZGVTZWxlY3Rpb25QYW5lbC5wcm90b3R5cGUuZ2V0TG9jYWxpemVkUGFuZWxUaXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGxldmVsQ29uZmlnID0gTmV0U2ltR2xvYmFscy5nZXRMZXZlbENvbmZpZygpO1xuXG4gIGlmIChsZXZlbENvbmZpZy5jYW5Db25uZWN0VG9DbGllbnRzICYmXG4gICAgICBsZXZlbENvbmZpZy5jYW5Db25uZWN0VG9Sb3V0ZXJzKSB7XG4gICAgcmV0dXJuIGkxOG4uY29ubmVjdFRvQU5vZGUoKTtcbiAgfSBlbHNlIGlmIChsZXZlbENvbmZpZy5jYW5Db25uZWN0VG9DbGllbnRzKSB7XG4gICAgcmV0dXJuIGkxOG4uY29ubmVjdFRvQVBlZXIoKTtcbiAgfSBlbHNlIGlmIChsZXZlbENvbmZpZy5jYW5Db25uZWN0VG9Sb3V0ZXJzKSB7XG4gICAgaWYgKGxldmVsQ29uZmlnLmJyb2FkY2FzdE1vZGUpIHtcbiAgICAgIHJldHVybiBpMThuLmNvbm5lY3RUb0FSb29tKCk7XG4gICAgfVxuICAgIHJldHVybiBpMThuLmNvbm5lY3RUb0FSb3V0ZXIoKTtcbiAgfVxuICByZXR1cm4gaTE4bi5jb25uZWN0VG9BTm9kZSgpO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBsb2NhbGl6ZWQgbG9iYnkgaW5zdHJ1Y3Rpb25zIGFwcHJvcHJpYXRlIHRvIHRoZSBjdXJyZW50XG4gKiAgICAgICAgICBsZXZlbCBjb25maWd1cmF0aW9uXG4gKi9cbk5ldFNpbVJlbW90ZU5vZGVTZWxlY3Rpb25QYW5lbC5wcm90b3R5cGUuZ2V0TG9jYWxpemVkTG9iYnlJbnN0cnVjdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBsZXZlbENvbmZpZyA9IE5ldFNpbUdsb2JhbHMuZ2V0TGV2ZWxDb25maWcoKTtcblxuICBpZiAobGV2ZWxDb25maWcuY2FuQ29ubmVjdFRvQ2xpZW50cyAmJlxuICAgICAgbGV2ZWxDb25maWcuY2FuQ29ubmVjdFRvUm91dGVycykge1xuICAgIHJldHVybiBpMThuLmxvYmJ5SW5zdHJ1Y3Rpb25zR2VuZXJhbCgpO1xuICB9IGVsc2UgaWYgKGxldmVsQ29uZmlnLmNhbkNvbm5lY3RUb0NsaWVudHMpIHtcbiAgICByZXR1cm4gaTE4bi5sb2JieUluc3RydWN0aW9uc0ZvclBlZXJzKCk7XG4gIH0gZWxzZSBpZiAobGV2ZWxDb25maWcuY2FuQ29ubmVjdFRvUm91dGVycykge1xuICAgIGlmIChsZXZlbENvbmZpZy5icm9hZGNhc3RNb2RlKSB7XG4gICAgICByZXR1cm4gaTE4bi5sb2JieUluc3RydWN0aW9uc0ZvclJvb21zKCk7XG4gICAgfVxuICAgIHJldHVybiBpMThuLmxvYmJ5SW5zdHJ1Y3Rpb25zRm9yUm91dGVycygpO1xuICB9XG4gIHJldHVybiBpMThuLmxvYmJ5SW5zdHJ1Y3Rpb25zR2VuZXJhbCgpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge0V2ZW50fSBqUXVlcnlFdmVudFxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltUmVtb3RlTm9kZVNlbGVjdGlvblBhbmVsLnByb3RvdHlwZS5vbkpvaW5DbGlja18gPSBmdW5jdGlvbiAoalF1ZXJ5RXZlbnQpIHtcbiAgdmFyIHRhcmdldCA9ICQoalF1ZXJ5RXZlbnQudGFyZ2V0KTtcbiAgdmFyIG5vZGVJRCA9IHRhcmdldC5kYXRhKCdub2RlSWQnKTtcbiAgdmFyIGNsaWNrZWROb2RlID0gXy5maW5kKHRoaXMubm9kZXNPblNoYXJkXywgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5lbnRpdHlJRCA9PT0gbm9kZUlEO1xuICB9KTtcblxuICB0aGlzLmpvaW5CdXR0b25DYWxsYmFja18oY2xpY2tlZE5vZGUpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge05ldFNpbU5vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5OZXRTaW1SZW1vdGVOb2RlU2VsZWN0aW9uUGFuZWwucHJvdG90eXBlLmlzTXlOb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgcmV0dXJuIHRoaXMubXlOb2RlSURfID09PSBub2RlLmVudGl0eUlEO1xufTtcblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIHRoZSBsZXZlbCBjb25maWd1cmF0aW9uIGFsbG93cyBjb25uZWN0aW9ucyB0byB0aGUgc3BlY2lmaWVkXG4gKiBub2RlLlxuICogQHBhcmFtIHtOZXRTaW1Ob2RlfSBjb25uZWN0aW9uVGFyZ2V0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gd2hldGhlciBjb25uZWN0aW9uIHRvIHRoZSB0YXJnZXQgaXMgYWxsb3dlZFxuICovXG5OZXRTaW1SZW1vdGVOb2RlU2VsZWN0aW9uUGFuZWwucHJvdG90eXBlLmNhbkNvbm5lY3RUb05vZGUgPSBmdW5jdGlvbiAoY29ubmVjdGlvblRhcmdldCkge1xuICAvLyBDYW4ndCBjb25uZWN0IHRvIG93biBub2RlXG4gIGlmICh0aGlzLmlzTXlOb2RlKGNvbm5lY3Rpb25UYXJnZXQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGlzQ2xpZW50ID0gKGNvbm5lY3Rpb25UYXJnZXQuZ2V0Tm9kZVR5cGUoKSA9PT0gTm9kZVR5cGUuQ0xJRU5UKTtcbiAgdmFyIGlzUm91dGVyID0gKGNvbm5lY3Rpb25UYXJnZXQuZ2V0Tm9kZVR5cGUoKSA9PT0gTm9kZVR5cGUuUk9VVEVSKTtcblxuICAvLyBDYW4ndCBjb25uZWN0IHRvIGZ1bGwgcm91dGVyc1xuICBpZiAoY29ubmVjdGlvblRhcmdldC5pc0Z1bGwoKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFBlcm1pc3NpYmxlIGNvbm5lY3Rpb24gbGltaXRlZCBieSBsZXZlbCBjb25maWd1cmF0aW9uXG4gIHZhciBsZXZlbENvbmZpZyA9IE5ldFNpbUdsb2JhbHMuZ2V0TGV2ZWxDb25maWcoKTtcbiAgdmFyIGFsbG93Q2xpZW50cyA9IGxldmVsQ29uZmlnLmNhbkNvbm5lY3RUb0NsaWVudHM7XG4gIHZhciBhbGxvd1JvdXRlcnMgPSBsZXZlbENvbmZpZy5jYW5Db25uZWN0VG9Sb3V0ZXJzO1xuICByZXR1cm4gKGlzQ2xpZW50ICYmIGFsbG93Q2xpZW50cykgfHwgKGlzUm91dGVyICYmIGFsbG93Um91dGVycyk7XG59O1xuXG4vKipcbiAqIEByZXR1cm5zIHtib29sZWFufSBUUlVFIGlmIHdlIGhhdmUgYW4gb3BlbiBvdXRnb2luZyBjb25uZWN0aW9uIHJlcXVlc3QuXG4gKi9cbk5ldFNpbVJlbW90ZU5vZGVTZWxlY3Rpb25QYW5lbC5wcm90b3R5cGUuaGFzT3V0Z29pbmdSZXF1ZXN0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gISEodGhpcy5yZW1vdGVOb2RlXyk7XG59O1xuXG4vKipcbiAqIEZvciB1c2Ugd2l0aCBBcnJheS5wcm90b3R5cGUuZmlsdGVyKClcbiAqIEBwYXJhbSB7TmV0U2ltTm9kZX0gbm9kZVxuICogQHJldHVybnMge2Jvb2xlYW59IFRSVUUgaWYgdGhlIGdpdmVuIG5vZGUgc2hvdWxkIHNob3cgdXAgaW4gdGhlIGxvYmJ5XG4gKi9cbk5ldFNpbVJlbW90ZU5vZGVTZWxlY3Rpb25QYW5lbC5wcm90b3R5cGUuc2hvdWxkU2hvd05vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICB2YXIgbGV2ZWxDb25maWcgPSBOZXRTaW1HbG9iYWxzLmdldExldmVsQ29uZmlnKCk7XG4gIHZhciBpc0NsaWVudCA9IChub2RlLmdldE5vZGVUeXBlKCkgPT09IE5vZGVUeXBlLkNMSUVOVCk7XG4gIHZhciBpc1JvdXRlciA9IChub2RlLmdldE5vZGVUeXBlKCkgPT09IE5vZGVUeXBlLlJPVVRFUik7XG4gIHZhciBzaG93Q2xpZW50cyA9IGxldmVsQ29uZmlnLnNob3dDbGllbnRzSW5Mb2JieTtcbiAgdmFyIHNob3dSb3V0ZXJzID0gbGV2ZWxDb25maWcuc2hvd1JvdXRlcnNJbkxvYmJ5O1xuICByZXR1cm4gKGlzQ2xpZW50ICYmIHNob3dDbGllbnRzKSB8fCAoaXNSb3V0ZXIgJiYgc2hvd1JvdXRlcnMpO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVFJVRSBpZiB3ZSBleHBlY3QgdGhlIGN1cnJlbnQgdXNlciB0byBoYXZlIHBlcm1pc3Npb24gdG9cbiAqICAgICAgICAgIHBlcmZvcm0gYSBzaGFyZCByZXNldC4gIE9ubHkgZ292ZXJucyBkaXNwbGF5IG9mIHNoYXJkIHJlc2V0IGJ1dHRvbixcbiAqICAgICAgICAgIGFjdHVhbCByZXNldCBpcyBhdXRoZW50aWNhdGVkIG9uIHRoZSBzZXJ2ZXIuXG4gKi9cbk5ldFNpbVJlbW90ZU5vZGVTZWxlY3Rpb25QYW5lbC5wcm90b3R5cGUuY2FuQ3VycmVudFVzZXJSZXNldFNoYXJkID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMudXNlcl8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSBpZiAodGhpcy51c2VyXy5pc0FkbWluKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBGaW5kIGEgc2VjdGlvbiBJRCBpbiB0aGUgY3VycmVudCBzaGFyZCBJRFxuICB2YXIgbWF0Y2hlcyA9IC9fKFxcZCspJC8uZXhlYyh0aGlzLnNoYXJkSURfKTtcbiAgaWYgKCFtYXRjaGVzKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gbWF0Y2hlc1sxXSBpcyB0aGUgZmlyc3QgY2FwdHVyZSBncm91cCAoXFxkKyksIHRoZSBudW1lcmljIHNlY3Rpb24gSUQuXG4gIHZhciBzZWN0aW9uSUQgPSBwYXJzZUludChtYXRjaGVzWzFdLCAxMCk7XG4gIHJldHVybiB0aGlzLnVzZXJfLm93bnNTZWN0aW9uKHNlY3Rpb25JRCk7XG59O1xuXG4vKipcbiAqIEByZXR1cm5zIHtib29sZWFufSBUUlVFIGlmIGl0J3MgY3VycmVudGx5IHBvc3NpYmxlIHRvIGFkZCBhIG5ldyByb3V0ZXIuXG4gKiAgICAgICAgICBEcml2ZXMgd2hldGhlciB0aGUgXCJBZGQgUm91dGVyXCIgYnV0dG9uIHNob3VsZCBiZSBkaXNwbGF5ZWQuXG4gKi9cbk5ldFNpbVJlbW90ZU5vZGVTZWxlY3Rpb25QYW5lbC5wcm90b3R5cGUuY2FuQWRkUm91dGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbGV2ZWxDb25maWcgPSBOZXRTaW1HbG9iYWxzLmdldExldmVsQ29uZmlnKCk7XG4gIGlmICh0aGlzLmhhc091dGdvaW5nUmVxdWVzdCgpIHx8ICFsZXZlbENvbmZpZy5zaG93QWRkUm91dGVyQnV0dG9uKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIHJvdXRlckxpbWl0ID0gTmV0U2ltUm91dGVyTm9kZS5nZXRNYXhpbXVtUm91dGVyc1BlclNoYXJkKCk7XG4gIHZhciByb3V0ZXJDb3VudCA9IHRoaXMubm9kZXNPblNoYXJkXy5maWx0ZXIoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICByZXR1cm4gTm9kZVR5cGUuUk9VVEVSID09PSBub2RlLmdldE5vZGVUeXBlKCk7XG4gIH0pLmxlbmd0aDtcbiAgcmV0dXJuIHJvdXRlckNvdW50IDwgcm91dGVyTGltaXQ7XG59O1xuXG4vKipcbiAqIERpc2FibGUgYWxsIG9mIHRoZSBidXR0b25zIHdpdGhpbiB0aGUgcGFuZWwgKGRvZXMgbm90IGFwcGx5IHRvIHBhbmVsLWhlYWRlclxuICogYnV0dG9ucyEpXG4gKi9cbk5ldFNpbVJlbW90ZU5vZGVTZWxlY3Rpb25QYW5lbC5wcm90b3R5cGUuZGlzYWJsZUV2ZXJ5dGhpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuZ2V0Qm9keSgpLmZpbmQoJy5uZXRzaW0tYnV0dG9uJykuYXR0cignZGlzYWJsZWQnLCB0cnVlKTtcbn07XG5cbi8qKlxuICogRW5hYmxlIGFsbCBvZiB0aGUgYnV0dG9ucyB3aXRoaW4gdGhlIHBhbmVsIChkb2VzIG5vdCBhcHBseSB0byBwYW5lbC1oZWFkZXJcbiAqIGJ1dHRvbnMhKVxuICovXG5OZXRTaW1SZW1vdGVOb2RlU2VsZWN0aW9uUGFuZWwucHJvdG90eXBlLmVuYWJsZUV2ZXJ5dGhpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuZ2V0Qm9keSgpLmZpbmQoJy5uZXRzaW0tYnV0dG9uJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cz0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdCA9IGZ1bmN0aW9uIGFub255bW91cyhsb2NhbHMsIGZpbHRlcnMsIGVzY2FwZVxuLyoqLykge1xuZXNjYXBlID0gZXNjYXBlIHx8IGZ1bmN0aW9uIChodG1sKXtcbiAgcmV0dXJuIFN0cmluZyhodG1sKVxuICAgIC5yZXBsYWNlKC8mKD8hXFx3KzspL2csICcmYW1wOycpXG4gICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpO1xufTtcbnZhciBidWYgPSBbXTtcbndpdGggKGxvY2FscyB8fCB7fSkgeyAoZnVuY3Rpb24oKXsgXG4gYnVmLnB1c2goJycpOzE7XG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xudmFyIF8gPSB1dGlscy5nZXRMb2Rhc2goKTtcbnZhciBpMThuID0gcmVxdWlyZSgnLi9sb2NhbGUnKTtcbnZhciBOZXRTaW1HbG9iYWxzID0gcmVxdWlyZSgnLi9OZXRTaW1HbG9iYWxzJyk7XG52YXIgTm9kZVR5cGUgPSByZXF1aXJlKCcuL05ldFNpbUNvbnN0YW50cycpLk5vZGVUeXBlO1xuXG4vKiogQHR5cGUge2Z1bmN0aW9ufSAqL1xudmFyIGdldEFzc2V0VXJsID0gTmV0U2ltR2xvYmFscy5nZXRBc3NldFVybEZ1bmN0aW9uKCk7XG5cbi8qKiBAdHlwZSB7TmV0U2ltTGV2ZWxDb25maWd1cmF0aW9ufSAqL1xudmFyIGxldmVsQ29uZmlnID0gTmV0U2ltR2xvYmFscy5nZXRMZXZlbENvbmZpZygpO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFJvd01ldGFkYXRhXG4gKiBAcHJvcGVydHkge251bWJlcn0gbm9kZUlEXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY2xhc3NBdHRyXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZGlzcGxheU5hbWVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBzdGF0dXNcbiAqL1xuXG4vKipcbiAqIEZvciB1c2Ugd2l0aCBBcnJheS5wcm90b3R5cGUuZmlsdGVyKClcbiAqIEBwYXJhbSB7TmV0U2ltTm9kZX0gbm9kZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbnZhciBvbWl0SW5jb21pbmdDb25uZWN0aW9uTm9kZXMgPSBmdW5jdGlvbiAobm9kZSkge1xuICByZXR1cm4gdW5kZWZpbmVkID09PSBfLmZpbmQoaW5jb21pbmdDb25uZWN0aW9uTm9kZXMsIGZ1bmN0aW9uIChjb25uZWN0aW9uUmVxdWVzdE5vZGUpIHtcbiAgICAgICAgcmV0dXJuIGNvbm5lY3Rpb25SZXF1ZXN0Tm9kZS5lbnRpdHlJRCA9PT0gbm9kZS5lbnRpdHlJRDtcbiAgICAgIH0pO1xufTtcblxuLyoqXG4gKiBGb3IgdXNlIHdpdGggQXJyYXkucHJvdG90eXBlLmZpbHRlcigpXG4gKiBAcGFyYW0ge05ldFNpbU5vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG52YXIgb21pdE91dGdvaW5nUmVxdWVzdFRhcmdldHMgPSBmdW5jdGlvbiAobm9kZSkge1xuICByZXR1cm4gIXJlbW90ZU5vZGUgfHwgKHJlbW90ZU5vZGUuZW50aXR5SUQgIT09IG5vZGUuZW50aXR5SUQpO1xufTtcblxuLyoqXG4gKiBGb3IgdXNlIHdpdGggQXJyYXkucHJvdG90eXBlLm1hcCgpXG4gKiBAcGFyYW0ge05ldFNpbU5vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHtSb3dNZXRhZGF0YX1cbiAqL1xudmFyIG5vZGVUb1Jvd01ldGFkYXRhID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgdmFyIGRpc3BsYXlOYW1lID0gbm9kZS5nZXREaXNwbGF5TmFtZSgpO1xuICB2YXIgc29ydEtleSA9IGRpc3BsYXlOYW1lO1xuICB2YXIgY2xhc3NlcyA9IFsndXNlci1yb3cnXTtcblxuICBpZiAobm9kZS5nZXROb2RlVHlwZSgpID09PSBOb2RlVHlwZS5ST1VURVIpIHtcbiAgICAvLyBTb3J0IHJvdXRlcnMgYnkgbGVmdC1wYWRkZWQgcm91dGVyIG51bWJlciAobG9va3MgbGlrZSBuYXR1cmFsIHNvcnQpXG4gICAgc29ydEtleSA9ICgnMDAwJyArIG5vZGUucm91dGVyTnVtYmVyKS5zbGljZSgtMyk7XG4gICAgY2xhc3NlcyA9IFsncm91dGVyLXJvdyddO1xuICB9XG5cbiAgaWYgKGNvbnRyb2xsZXIuaXNNeU5vZGUobm9kZSkpIHtcbiAgICBjbGFzc2VzLnB1c2goJ293bi1yb3cnKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbm9kZUlEOiBub2RlLmVudGl0eUlELFxuICAgIHNvcnRLZXk6IHNvcnRLZXksXG4gICAgY2xhc3NBdHRyOiBjbGFzc2VzLmpvaW4oJyAnKSxcbiAgICBkaXNwbGF5TmFtZTogZGlzcGxheU5hbWUsXG4gICAgaG9zdG5hbWU6IG5vZGUuZ2V0SG9zdG5hbWUoKSxcbiAgICBzdGF0dXM6IG5vZGUuZ2V0U3RhdHVzKCksXG4gICAgaXNGdWxsOiBub2RlLmlzRnVsbCgpLFxuICAgIGNhbkNvbm5lY3RUb05vZGU6IGNvbnRyb2xsZXIuY2FuQ29ubmVjdFRvTm9kZShub2RlKVxuICB9O1xufTtcblxuLyoqXG4gKiBGb3IgdXNlIHdpdGggQXJyYXkucHJvdG90eXBlLnNvcnQoKVxuICogQHBhcmFtIHtSb3dNZXRhZGF0YX0gYVxuICogQHBhcmFtIHtSb3dNZXRhZGF0YX0gYlxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xudmFyIGxvYmJ5U29ydCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gIHJldHVybiAoYS5zb3J0S2V5ID4gYi5zb3J0S2V5KSA/IDEgOiAtMTtcbn07XG5cbnZhciBsb2JieVJvd3MgPSBub2Rlc09uU2hhcmRcbiAgICAuZmlsdGVyKGNvbnRyb2xsZXIuc2hvdWxkU2hvd05vZGUuYmluZChjb250cm9sbGVyKSlcbiAgICAuZmlsdGVyKG9taXRJbmNvbWluZ0Nvbm5lY3Rpb25Ob2RlcylcbiAgICAuZmlsdGVyKG9taXRPdXRnb2luZ1JlcXVlc3RUYXJnZXRzKVxuICAgIC5tYXAobm9kZVRvUm93TWV0YWRhdGEpXG4gICAgLnNvcnQobG9iYnlTb3J0KTtcblxudmFyIHJlcXVlc3RSb3dzID0gaW5jb21pbmdDb25uZWN0aW9uTm9kZXNcbiAgICAuZmlsdGVyKGNvbnRyb2xsZXIuc2hvdWxkU2hvd05vZGUuYmluZChjb250cm9sbGVyKSlcbiAgICAuZmlsdGVyKG9taXRPdXRnb2luZ1JlcXVlc3RUYXJnZXRzKVxuICAgIC5tYXAobm9kZVRvUm93TWV0YWRhdGEpXG4gICAgLnNvcnQobG9iYnlTb3J0KTtcblxudmFyIG91dGdvaW5nUmVxdWVzdFJvd3MgPSAocmVtb3RlTm9kZSA/IFsgcmVtb3RlTm9kZSBdIDogW10pXG4gICAgLmZpbHRlcihjb250cm9sbGVyLnNob3VsZFNob3dOb2RlLmJpbmQoY29udHJvbGxlcikpXG4gICAgLm1hcChub2RlVG9Sb3dNZXRhZGF0YSk7XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGJ1dHRvblRleHRcbiAqIEBwYXJhbSB7c3RyaW5nfSBidXR0b25JRFxuICogQHBhcmFtIHtzdHJpbmdbXX0gZXh0cmFDbGFzc2VzXG4gKiBAcGFyYW0ge09iamVjdH0gZXh0cmFBdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBtYXJrdXAgZm9yIE5ldFNpbS1zdHlsZSBidXR0b25cbiAqL1xuZnVuY3Rpb24gYnV0dG9uTWFya3VwKGJ1dHRvblRleHQsIGJ1dHRvbklELCBleHRyYUNsYXNzZXMsIGV4dHJhQXR0cmlidXRlcykge1xuICB2YXIgY2xhc3NlcyA9IHV0aWxzLnZhbHVlT3IoZXh0cmFDbGFzc2VzLCBbXSk7XG4gIGNsYXNzZXMucHVzaCgnbmV0c2ltLWJ1dHRvbicpO1xuICBjbGFzc2VzLnB1c2goJ2xhcmdlLWJ1dHRvbicpO1xuXG4gIGV4dHJhQXR0cmlidXRlcyA9IHV0aWxzLnZhbHVlT3IoZXh0cmFBdHRyaWJ1dGVzLCB7fSk7XG5cbiAgdmFyIG1hcmt1cCA9ICc8c3BhbiBjbGFzcz1cIicgKyBjbGFzc2VzLmpvaW4oJyAnKSArICdcIiAnO1xuXG4gIC8vIElEIGF0dHJpYnV0ZSBmb3Igc3BhbiB0YWdcbiAgaWYgKGJ1dHRvbklEKSB7XG4gICAgbWFya3VwICs9ICdpZD1cIicgKyBidXR0b25JRCArICdcIiAnO1xuICB9XG5cbiAgLy8gRXh0cmEgYXR0cmlidXRlcyBmb3Igc3BhbiB0YWdcbiAgZm9yICh2YXIga2V5IGluIGV4dHJhQXR0cmlidXRlcykge1xuICAgIGlmIChleHRyYUF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgbWFya3VwICs9IGtleSArICc9XCInICsgZXh0cmFBdHRyaWJ1dGVzW2tleV0gKyAnXCIgJztcbiAgICB9XG4gIH1cblxuICBtYXJrdXAgKz0gJz4nICsgYnV0dG9uVGV4dCArICc8L3NwYW4+JztcbiAgcmV0dXJuIG1hcmt1cDtcbn1cblxuZnVuY3Rpb24gd3JpdGVCZWdpblRhYmxlKGNsYXNzbmFtZSkge1xuICBpZiAoY2xhc3NuYW1lKSB7XG4gICAgOyBidWYucHVzaCgnPHRhYmxlIGNsYXNzPVwiJywgZXNjYXBlKCgxMzUsIGNsYXNzbmFtZSkpLCAnXCI+Jyk7MTM1O1xuICB9IGVsc2Uge1xuICAgIDsgYnVmLnB1c2goJzx0YWJsZT4nKTsxMzc7XG4gIH1cbn1cblxuZnVuY3Rpb24gd3JpdGVFbmRUYWJsZSgpIHtcbiAgOyBidWYucHVzaCgnPC90YWJsZT4nKTsxNDI7XG59XG5cbmZ1bmN0aW9uIHdyaXRlQmVnaW5UYm9keSgpIHtcbiAgOyBidWYucHVzaCgnPHRib2R5PicpOzE0Njtcbn1cblxuZnVuY3Rpb24gd3JpdGVFbmRUYm9keSgpIHtcbiAgOyBidWYucHVzaCgnPC90Ym9keT4nKTsxNTA7XG59XG5cbmZ1bmN0aW9uIHdyaXRlSGVhZGVyKGhlYWRlclRleHQpIHtcbiAgOyBidWYucHVzaCgnXFxuICAgIDx0aGVhZD5cXG4gICAgICA8dHI+XFxuICAgICAgICA8dGggY29sc3Bhbj1cIjNcIj4nLCBlc2NhcGUoKDE1NywgIGhlYWRlclRleHQgKSksICc8L3RoPlxcbiAgICAgIDwvdHI+XFxuICAgIDwvdGhlYWQ+XFxuICAnKTsxNjA7XG59XG5cbmZ1bmN0aW9uIHdyaXRlRW1wdHlSb3coY29udGVudHMpIHtcbiAgY29udGVudHMgPSB1dGlscy52YWx1ZU9yKGNvbnRlbnRzLCAnJyk7XG4gIDsgYnVmLnB1c2goJ1xcbiAgICA8dHI+XFxuICAgICAgPHRkIGNvbHNwYW49XCIzXCIgY2xhc3M9XCJlbXB0eS1yb3dcIj4nLCAoMTY3LCAgY29udGVudHMgKSwgJzwvdGQ+XFxuICAgIDwvdHI+XFxuICAnKTsxNjk7XG59XG5cbmZ1bmN0aW9uIHdyaXRlTm9kZVJvdyhyb3csIG5vZGVTdGF0dXMsIGJ1dHRvblR5cGUsIGFkZGxDbGFzcykge1xuICAgIHZhciBidXR0b247XG4gICAgaWYgKGJ1dHRvblR5cGUgPT09ICdqb2luLWJ1dHRvbicpIHtcbiAgICAgIGJ1dHRvbiA9IGJ1dHRvbk1hcmt1cChpMThuLmJ1dHRvbkpvaW4oKSwgdW5kZWZpbmVkLCBbYnV0dG9uVHlwZSwgYWRkbENsYXNzXSwgeyAnZGF0YS1ub2RlLWlkJzogcm93Lm5vZGVJRCB9KTtcbiAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUgPT09ICdhY2NlcHQtYnV0dG9uJykge1xuICAgICAgYnV0dG9uID0gYnV0dG9uTWFya3VwKGkxOG4uYnV0dG9uQWNjZXB0KCksIHVuZGVmaW5lZCwgW2J1dHRvblR5cGUsIGFkZGxDbGFzc10sIHsgJ2RhdGEtbm9kZS1pZCc6IHJvdy5ub2RlSUQgfSk7XG4gICAgfSBlbHNlIGlmIChidXR0b25UeXBlID09PSAnY2FuY2VsLWJ1dHRvbicpIHtcbiAgICAgIGJ1dHRvbiA9IGJ1dHRvbk1hcmt1cChpMThuLmJ1dHRvbkNhbmNlbCgpLCB1bmRlZmluZWQsIFtidXR0b25UeXBlLCBhZGRsQ2xhc3MsICdzZWNvbmRhcnknXSwgeyAnZGF0YS1ub2RlLWlkJzogcm93Lm5vZGVJRCB9KTtcbiAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUgPT09ICdmdWxsLWJ1dHRvbicpIHtcbiAgICAgIGJ1dHRvbiA9IGJ1dHRvbk1hcmt1cChpMThuLmJ1dHRvbkZ1bGwoKSwgdW5kZWZpbmVkLCBbYnV0dG9uVHlwZSwgYWRkbENsYXNzXSwgeyAnZGlzYWJsZWQnOiAnZGlzYWJsZWQnIH0pO1xuICAgIH1cbiAgOyBidWYucHVzaCgnXFxuICAgIDx0cj5cXG4gICAgICA8dGQgbm93cmFwPicsIGVzY2FwZSgoMTg1LCAgcm93LmRpc3BsYXlOYW1lICkpLCAnIDxzbWFsbD4oJywgZXNjYXBlKCgxODUsICByb3cuaG9zdG5hbWUgKSksICcpPC9zbWFsbD48L3RkPlxcbiAgICAgICcpOzE4NjsgaWYgKGJ1dHRvbikgeyA7IGJ1Zi5wdXNoKCdcXG4gICAgICAgIDx0ZD4nLCAoMTg3LCAgbm9kZVN0YXR1cyApLCAnPC90ZD5cXG4gICAgICAgIDx0ZCBjbGFzcz1cImJ1dHRvbi1jb2x1bW5cIj5cXG4gICAgICAgICAgJywgKDE4OSwgIGJ1dHRvbiApLCAnXFxuICAgICAgICA8L3RkPlxcbiAgICAgICcpOzE5MTsgfSBlbHNlIHsgOyBidWYucHVzaCgnXFxuICAgICAgICA8dGQgY29sc3Bhbj1cIjJcIj4nLCAoMTkyLCAgbm9kZVN0YXR1cyApLCAnPC90ZD5cXG4gICAgICAnKTsxOTM7IH0gOyBidWYucHVzaCgnXFxuICAgIDwvdHI+XFxuICAnKTsxOTU7XG59XG5cbjsgYnVmLnB1c2goJ1xcbjxkaXYgY2xhc3M9XCJjb250ZW50LXdyYXBcIj5cXG4gIDxkaXYgY2xhc3M9XCJpbnN0cnVjdGlvbnNcIj5cXG4gICAgJywgZXNjYXBlKCgyMDEsICBjb250cm9sbGVyLmdldExvY2FsaXplZExvYmJ5SW5zdHJ1Y3Rpb25zKCkgKSksICdcXG4gICAgPGRpdiBjbGFzcz1cInJlZmVyZW5jZS1hcmVhLXBsYWNlaG9sZGVyXCI+PC9kaXY+XFxuICA8L2Rpdj5cXG4gIDxkaXYgY2xhc3M9XCJjb250cm9sc1wiPlxcblxcbiAgICAnKTsyMDY7XG4gICAgICAvLyBPdXRnb2luZyByZXF1ZXN0IHRhYmxlIChoaWRkZW4gaWYgZW1wdHkpXG4gICAgICBpZiAob3V0Z29pbmdSZXF1ZXN0Um93cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHdyaXRlQmVnaW5UYWJsZSgpO1xuICAgICAgICB3cml0ZUhlYWRlcihpMThuLm91dGdvaW5nQ29ubmVjdGlvblJlcXVlc3RzKCkpO1xuICAgICAgICB3cml0ZUJlZ2luVGJvZHkoKTtcbiAgICAgICAgb3V0Z29pbmdSZXF1ZXN0Um93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICB2YXIgb3V0Z29pbmdTdGF0dXMgPSBpMThuLmxvYmJ5U3RhdHVzV2FpdGluZ0Zvck90aGVyKHtcbiAgICAgICAgICAgIHNwaW5uZXI6ICc8aW1nIHNyYz1cIicgKyBnZXRBc3NldFVybCgnbWVkaWEvbmV0c2ltL2xvYWRpbmcuZ2lmJykgKyAnXCIgLz4nLFxuICAgICAgICAgICAgb3RoZXJOYW1lOiByb3cuZGlzcGxheU5hbWUsXG4gICAgICAgICAgICBvdGhlclN0YXR1czogcm93LnN0YXR1c1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHdyaXRlTm9kZVJvdyhyb3csIG91dGdvaW5nU3RhdHVzLCAnY2FuY2VsLWJ1dHRvbicsIHJvdy5jbGFzc0F0dHIpO1xuICAgICAgICB9KTtcbiAgICAgICAgd3JpdGVFbmRUYm9keSgpO1xuICAgICAgICB3cml0ZUVuZFRhYmxlKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEluY29taW5nIHJlcXVlc3RzIHRhYmxlIChoaWRkZW4gaWYgZW1wdHkpXG4gICAgICBpZiAocmVxdWVzdFJvd3MubGVuZ3RoID4gMCkge1xuICAgICAgICB3cml0ZUJlZ2luVGFibGUoKTtcbiAgICAgICAgd3JpdGVIZWFkZXIoaTE4bi5pbmNvbWluZ0Nvbm5lY3Rpb25SZXF1ZXN0cygpKTtcbiAgICAgICAgd3JpdGVCZWdpblRib2R5KCk7XG4gICAgICAgIHJlcXVlc3RSb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICAgIHZhciBidXR0b25UeXBlO1xuICAgICAgICAgIGlmICghY29udHJvbGxlci5oYXNPdXRnb2luZ1JlcXVlc3QoKSAmJiByb3cuY2FuQ29ubmVjdFRvTm9kZSkge1xuICAgICAgICAgICAgYnV0dG9uVHlwZSA9ICdhY2NlcHQtYnV0dG9uJztcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGluY29taW5nU3RhdHVzID0gaTE4bi5sb2JieVN0YXR1c1dhaXRpbmdGb3JZb3UoKTtcbiAgICAgICAgICB3cml0ZU5vZGVSb3cocm93LCBpbmNvbWluZ1N0YXR1cywgYnV0dG9uVHlwZSwgcm93LmNsYXNzQXR0cik7XG4gICAgICAgIH0pO1xuICAgICAgICB3cml0ZUVuZFRib2R5KCk7XG4gICAgICAgIHdyaXRlRW5kVGFibGUoKTtcbiAgICAgIH1cbiAgICA7IGJ1Zi5wdXNoKCdcXG5cXG4gICAgJyk7MjQyO1xuICAgICAgLy8gUHJpbWFyeSBsb2JieSBsaXN0XG4gICAgICB3cml0ZUJlZ2luVGFibGUoXCJub21hcmdpblwiKTtcbiAgICAgIHdyaXRlSGVhZGVyKGkxOG4ubG9iYnkoKSk7XG4gICAgICB3cml0ZUVuZFRhYmxlKCk7XG4gICAgOyBidWYucHVzaCgnXFxuICAgIDxkaXYgaWQ9XCJuZXRzaW0tc2Nyb2xsaW5nLWxvYmJ5XCI+XFxuICAgICcpOzI0OTtcbiAgICAgIHdyaXRlQmVnaW5UYWJsZSgpO1xuICAgICAgd3JpdGVCZWdpblRib2R5KCk7XG4gICAgICBsb2JieVJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgIHZhciBidXR0b25UeXBlO1xuICAgICAgICBpZiAoIWNvbnRyb2xsZXIuaGFzT3V0Z29pbmdSZXF1ZXN0KCkpIHtcbiAgICAgICAgICBpZiAocm93LmlzRnVsbCkge1xuICAgICAgICAgICAgYnV0dG9uVHlwZSA9ICdmdWxsLWJ1dHRvbic7XG4gICAgICAgICAgfSBlbHNlIGlmIChyb3cuY2FuQ29ubmVjdFRvTm9kZSkge1xuICAgICAgICAgICAgYnV0dG9uVHlwZSA9ICdqb2luLWJ1dHRvbic7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHdyaXRlTm9kZVJvdyhyb3csIHJvdy5zdGF0dXMsIGJ1dHRvblR5cGUsIHJvdy5jbGFzc0F0dHIpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBidXR0b25zID0gW107XG5cbiAgICAgIGlmIChjb250cm9sbGVyLmNhbkFkZFJvdXRlcigpKSB7XG4gICAgICAgIHZhciBidXR0b25UZXh0ID0gbGV2ZWxDb25maWcuYnJvYWRjYXN0TW9kZSA/IGkxOG4uYWRkUm9vbSgpIDogaTE4bi5hZGRSb3V0ZXIoKTtcbiAgICAgICAgYnV0dG9ucy5wdXNoKGJ1dHRvbk1hcmt1cChcbiAgICAgICAgICAgIGJ1dHRvblRleHQsXG4gICAgICAgICAgICAnbmV0c2ltLWxvYmJ5LWFkZC1yb3V0ZXInLFxuICAgICAgICAgICAgWydzZWNvbmRhcnknXVxuICAgICAgICApKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGxldmVsQ29uZmlnLnNob3dMb2dCcm93c2VyQnV0dG9uKSB7XG4gICAgICAgIGJ1dHRvbnMucHVzaChidXR0b25NYXJrdXAoXG4gICAgICAgICAgICBpMThuLmxvZ0Jyb3dzZXJCdXR0b24oKSxcbiAgICAgICAgICAgICdzaG93LXJvdXRlci1sb2ctbW9kYWwnLFxuICAgICAgICAgICAgWydzZWNvbmRhcnknXSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgJ2RhdGEtdG9nZ2xlJzonbW9kYWwnLFxuICAgICAgICAgICAgICAnZGF0YS10YXJnZXQnOicjcm91dGVyLWxvZy1tb2RhbCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChidXR0b25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgd3JpdGVFbXB0eVJvdyhidXR0b25zLmpvaW4oJyAnKSk7XG4gICAgICB9IGVsc2UgaWYgKGxvYmJ5Um93cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgd3JpdGVFbXB0eVJvdyhpMThuLmxvYmJ5SXNFbXB0eSgpKTtcbiAgICAgIH1cblxuICAgICAgd3JpdGVFbmRUYm9keSgpO1xuICAgICAgd3JpdGVFbmRUYWJsZSgpO1xuICAgIDsgYnVmLnB1c2goJ1xcbiAgICA8L2Rpdj5cXG5cXG4gIDwvZGl2PlxcbiAgPGRpdiBjbGFzcz1cImNsZWFyXCI+PC9kaXY+XFxuPC9kaXY+XFxuJyk7IH0pKCk7XG59IFxucmV0dXJuIGJ1Zi5qb2luKCcnKTtcbn07XG4gIHJldHVybiBmdW5jdGlvbihsb2NhbHMpIHtcbiAgICByZXR1cm4gdChsb2NhbHMsIHJlcXVpcmUoXCJlanNcIikuZmlsdGVycyk7XG4gIH1cbn0oKSk7IiwiLyoqXG4gKiBAb3ZlcnZpZXcgVXRpbGl0eSBtZXRob2RzIGZvciBnZW5lcmF0aW5nIHRoZSByaWdodCBraW5kcyBvZiBub2RlIGNvbnRyb2xsZXJzXG4gKiAgICAgICAgICAgZnJvbSByYXcgbm9kZSB0YWJsZSByb3dzLlxuICovXG4vLyBTdHJpY3QgbGludGluZzogQWJzb3JiIGludG8gZ2xvYmFsIGNvbmZpZyB3aGVuIHBvc3NpYmxlXG4vKiBqc2hpbnRcbiB1bnVzZWQ6IHRydWUsXG4gZXFlcWVxOiB0cnVlLFxuIG1heGxlbjogMTIwXG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIE5ldFNpbUNvbnN0YW50cyA9IHJlcXVpcmUoJy4vTmV0U2ltQ29uc3RhbnRzJyk7XG5cbnZhciBOb2RlVHlwZSA9IE5ldFNpbUNvbnN0YW50cy5Ob2RlVHlwZTtcblxudmFyIE5ldFNpbU5vZGVGYWN0b3J5ID0gbW9kdWxlLmV4cG9ydHM7XG5cbi8qKlxuICogR2l2ZW4gYSBzZXQgb2Ygcm93cyBmcm9tIHRoZSBub2RlIHRhYmxlIG9uIGEgc2hhcmQsIGdpdmVzIGJhY2sgYSBzZXQgb2Ygbm9kZVxuICogY29udHJvbGxlcnMgKG9mIGFwcHJvcHJpYXRlIHR5cGVzKS5cbiAqIEBwYXJhbSB7IU5ldFNpbVNoYXJkfSBzaGFyZFxuICogQHBhcmFtIHshQXJyYXkuPE9iamVjdD59IG5vZGVSb3dzXG4gKiBAdGhyb3dzIHdoZW4gYSByb3cgZG9lc24ndCBoYXZlIGEgbWFwcGFibGUgbm9kZSB0eXBlLlxuICogQHJldHVybiB7QXJyYXkuPE5ldFNpbU5vZGU+fSBub2RlcyBmb3IgdGhlIHJvd3NcbiAqL1xuTmV0U2ltTm9kZUZhY3Rvcnkubm9kZXNGcm9tUm93cyA9IGZ1bmN0aW9uIChzaGFyZCwgbm9kZVJvd3MpIHtcbiAgcmV0dXJuIG5vZGVSb3dzLm1hcChOZXRTaW1Ob2RlRmFjdG9yeS5ub2RlRnJvbVJvdy5iaW5kKHRoaXMsIHNoYXJkKSk7XG59O1xuXG4vKipcbiAqIEdpdmVuIGEgcm93IGZyb20gdGhlIG5vZGUgdGFibGUgb24gYSBzaGFyZCwgZ2l2ZXMgYmFjayBhIG5vZGUgY29udHJvbGxlcnNcbiAqIChvZiBhcHByb3ByaWF0ZSB0eXBlcykuXG4gKiBAcGFyYW0geyFOZXRTaW1TaGFyZH0gc2hhcmRcbiAqIEBwYXJhbSB7IU9iamVjdH0gbm9kZVJvd1xuICogQHRocm93cyB3aGVuIHRoZSByb3cgZG9lc24ndCBoYXZlIGEgbWFwcGFibGUgbm9kZSB0eXBlLlxuICogQHJldHVybiB7TmV0U2ltTm9kZX0gbm9kZSBmb3IgdGhlIHJvd3NcbiAqL1xuTmV0U2ltTm9kZUZhY3Rvcnkubm9kZUZyb21Sb3cgPSBmdW5jdGlvbiAoc2hhcmQsIG5vZGVSb3cpIHtcbiAgaWYgKG5vZGVSb3cudHlwZSA9PT0gTm9kZVR5cGUuQ0xJRU5UKSB7XG4gICAgdmFyIE5ldFNpbUNsaWVudE5vZGUgPSByZXF1aXJlKCcuL05ldFNpbUNsaWVudE5vZGUnKTtcbiAgICByZXR1cm4gbmV3IE5ldFNpbUNsaWVudE5vZGUoc2hhcmQsIG5vZGVSb3cpO1xuICB9IGVsc2UgaWYgKG5vZGVSb3cudHlwZSA9PT0gTm9kZVR5cGUuUk9VVEVSKSB7XG4gICAgdmFyIE5ldFNpbVJvdXRlck5vZGUgPSByZXF1aXJlKCcuL05ldFNpbVJvdXRlck5vZGUnKTtcbiAgICByZXR1cm4gbmV3IE5ldFNpbVJvdXRlck5vZGUoc2hhcmQsIG5vZGVSb3cpO1xuICB9XG5cbiAgLy8gT29wcyEgIFdlIHByb2JhYmx5IHNob3VsZG4ndCBldmVyIGdldCBoZXJlLlxuICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gbWFwIHJvdyB0byBub2RlLlwiKTtcbn07XG4iLCIvKipcbiAqIEBvdmVydmlldyBSb3V0ZXIgbm9kZSBzaW11bGF0aW9uIGVudGl0eS4gIEFsc28gY29udGFpbnMgbG9naWMgZm9yIHRoZVxuICogICAgICAgICAgIGF1dG8tRE5TIHN5c3RlbS5cbiAqL1xuLy8gU3RyaWN0IGxpbnRpbmc6IEFic29yYiBpbnRvIGdsb2JhbCBjb25maWcgd2hlbiBwb3NzaWJsZVxuLyoganNoaW50XG4gdW51c2VkOiB0cnVlLFxuIGVxZXFlcTogdHJ1ZSxcbiBtYXhsZW46IDEyMFxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG52YXIgaTE4biA9IHJlcXVpcmUoJy4vbG9jYWxlJyk7XG52YXIgTmV0U2ltQ29uc3RhbnRzID0gcmVxdWlyZSgnLi9OZXRTaW1Db25zdGFudHMnKTtcbnZhciBOZXRTaW1VdGlscyA9IHJlcXVpcmUoJy4vTmV0U2ltVXRpbHMnKTtcbnZhciBOZXRTaW1Ob2RlID0gcmVxdWlyZSgnLi9OZXRTaW1Ob2RlJyk7XG52YXIgTmV0U2ltRW50aXR5ID0gcmVxdWlyZSgnLi9OZXRTaW1FbnRpdHknKTtcbnZhciBOZXRTaW1Mb2dFbnRyeSA9IHJlcXVpcmUoJy4vTmV0U2ltTG9nRW50cnknKTtcbnZhciBOZXRTaW1Mb2dnZXIgPSByZXF1aXJlKCcuL05ldFNpbUxvZ2dlcicpO1xudmFyIE5ldFNpbVdpcmUgPSByZXF1aXJlKCcuL05ldFNpbVdpcmUnKTtcbnZhciBOZXRTaW1NZXNzYWdlID0gcmVxdWlyZSgnLi9OZXRTaW1NZXNzYWdlJyk7XG52YXIgT2JzZXJ2YWJsZUV2ZW50ID0gcmVxdWlyZSgnLi4vT2JzZXJ2YWJsZUV2ZW50Jyk7XG52YXIgUGFja2V0ID0gcmVxdWlyZSgnLi9QYWNrZXQnKTtcbnZhciBEYXRhQ29udmVydGVycyA9IHJlcXVpcmUoJy4vRGF0YUNvbnZlcnRlcnMnKTtcbnZhciBOZXRTaW1Ob2RlRmFjdG9yeSA9IHJlcXVpcmUoJy4vTmV0U2ltTm9kZUZhY3RvcnknKTtcblxudmFyIF8gPSB1dGlscy5nZXRMb2Rhc2goKTtcblxudmFyIHNlcmlhbGl6ZU51bWJlciA9IE5ldFNpbVV0aWxzLnNlcmlhbGl6ZU51bWJlcjtcbnZhciBkZXNlcmlhbGl6ZU51bWJlciA9IE5ldFNpbVV0aWxzLmRlc2VyaWFsaXplTnVtYmVyO1xuXG52YXIgYXNjaWlUb0JpbmFyeSA9IERhdGFDb252ZXJ0ZXJzLmFzY2lpVG9CaW5hcnk7XG5cbnZhciBEbnNNb2RlID0gTmV0U2ltQ29uc3RhbnRzLkRuc01vZGU7XG52YXIgTm9kZVR5cGUgPSBOZXRTaW1Db25zdGFudHMuTm9kZVR5cGU7XG52YXIgQklUU19QRVJfQllURSA9IE5ldFNpbUNvbnN0YW50cy5CSVRTX1BFUl9CWVRFO1xuXG52YXIgbG9nZ2VyID0gTmV0U2ltTG9nZ2VyLmdldFNpbmdsZXRvbigpO1xudmFyIE5ldFNpbUdsb2JhbHMgPSByZXF1aXJlKCcuL05ldFNpbUdsb2JhbHMnKTtcblxuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQHJlYWRvbmx5XG4gKi9cbnZhciBNQVhfQ0xJRU5UX0NPTk5FQ1RJT05TID0gNjtcblxuLyoqXG4gKiBDb252ZW5pZW50bHksIGEgcm91dGVyJ3MgYWRkcmVzcyBpbiBpdHMgbG9jYWwgbmV0d29yayBpcyBhbHdheXMgemVyby5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAcmVhZG9ubHlcbiAqL1xudmFyIFJPVVRFUl9MT0NBTF9BRERSRVNTID0gMDtcblxuLyoqXG4gKiBBZGRyZXNzIHRoYXQgY2FuIG9ubHkgYmUgdXNlZCBmb3IgdGhlIGF1dG8tZG5zIG5vZGUuXG4gKiBNYXkgZXZlbnR1YWxseSBiZSByZXBsYWNlZCB3aXRoIGEgZHluYW1pY2FsbHkgYXNzaWduZWQgYWRkcmVzcy5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAcmVhZG9ubHlcbiAqL1xudmFyIEFVVE9fRE5TX1JFU0VSVkVEX0FERFJFU1MgPSAxNTtcblxuLyoqXG4gKiBIb3N0bmFtZSBhc3NpZ25lZCB0byB0aGUgYXV0b21hdGljIGRucyAnbm9kZScgaW4gdGhlIGxvY2FsIG5ldHdvcmsuXG4gKiBUaGVyZSB3aWxsIG9ubHkgYmUgb25lIG9mIHRoZXNlLCBzbyBpdCBjYW4gYmUgc2ltcGxlLlxuICogQHR5cGUge3N0cmluZ31cbiAqIEByZWFkb25seVxuICovXG52YXIgQVVUT19ETlNfSE9TVE5BTUUgPSAnZG5zJztcblxuLyoqXG4gKiBWYWx1ZSB0aGUgYXV0by1ETlMgd2lsbCByZXR1cm4gaW5zdGVhZCBvZiBhbiBhZGRyZXNzIHdoZW4gaXQgY2FuJ3RcbiAqIGxvY2F0ZSBhIG5vZGUgd2l0aCB0aGUgZ2l2ZW4gaG9zdG5hbWUgaW4gdGhlIGxvY2FsIG5ldHdvcmsuXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQHJlYWRvbmx5XG4gKi9cbnZhciBBVVRPX0ROU19OT1RfRk9VTkQgPSAnTk9UX0ZPVU5EJztcblxuLyoqXG4gKiBNYXhpbXVtIHBhY2tldCBsaWZldGltZSBpbiB0aGUgcm91dGVyIHF1ZXVlLCBzb3J0IG9mIGEgcHJpbWl0aXZlIFRpbWUtVG8tTGl2ZVxuICogc3lzdGVtIHRoYXQgaGVscHMgcHJldmVudCBhIHF1ZXVlIGZyb20gYmVpbmcgaW5kZWZpbml0ZWx5IGJsb2NrZWQgYnkgYSB2ZXJ5XG4gKiBsYXJnZSBwYWNrZXQuICBQYWNrZXRzIHRoYXQgZXhjZWVkIHRoaXMgdGltZSB3aWxsIHNpbGVudGx5IGZhaWwgZGVsaXZlcnkuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQHJlYWRvbmx5XG4gKi9cbnZhciBQQUNLRVRfTUFYX0xJRkVUSU1FX01TID0gMTAgKiA2MCAqIDEwMDA7XG5cbi8qKlxuICogVG8gYXZvaWQgY2FsY3VsYXRpbmcgYSB0b3RhbGx5IHVucmVhc29uYWJsZSBudW1iZXIgb2YgYWRkcmVzc2VzLCB0aGlzIGlzXG4gKiB0aGUgbW9zdCBhZGRyZXNzZXMgd2Ugd2lsbCBjb25zaWRlciB3aGVuIHBpY2tpbmcgb25lIGZvciBhIG5ldyBob3N0LlxuICogVGhpcyBtZWFucyBmdWxsIHN1cHBvcnQgdXAgdG8gYSAxMi1iaXQgYWRkcmVzcyBwYXJ0LCB3aGljaCBzaG91bGQgYmUgbW9yZVxuICogdGhhbiBlbm91Z2guXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG52YXIgQUREUkVTU19PUFRJT05fTElNSVQgPSA0MDk2O1xuXG4vKipcbiAqIENsaWVudCBtb2RlbCBvZiBzaW11bGF0ZWQgcm91dGVyXG4gKlxuICogUmVwcmVzZW50cyB0aGUgY2xpZW50J3MgdmlldyBvZiBhIGdpdmVuIHJvdXRlciwgcHJvdmlkZXMgbWV0aG9kcyBmb3JcbiAqICAgbGV0dGluZyB0aGUgY2xpZW50IGludGVyYWN0IHdpdGggdGhlIHJvdXRlciwgYW5kIHdyYXBzIHRoZSBjbGllbnQnc1xuICogICB3b3JrIGRvaW5nIHBhcnQgb2YgdGhlIHJvdXRlciBzaW11bGF0aW9uLlxuICpcbiAqIEEgcm91dGVyIC1leGlzdHMtIHdoZW4gaXQgaGFzIGEgcm93IGluIHRoZSBsb2JieSB0YWJsZSBvZiB0eXBlICdyb3V0ZXInXG4gKiBBIHJvdXRlciBpcyBjb25uZWN0ZWQgdG8gYSB1c2VyIHdoZW4gYSAndXNlcicgcm93IGV4aXN0cyBpbiB0aGUgbG9iYnlcbiAqICAgdGFibGUgdGhhdCBoYXMgYSBzdGF0dXMgJ0Nvbm5lY3RlZCB0byB7cm91dGVyIElEfSBieSB3aXJlcyB7WCwgWX0nLlxuICogQSByb3V0ZXIgd2lsbCBhbHNvIHNoYXJlIGEgd2lyZSAoc2ltcGxleCkgb3Igd2lyZXMgKGR1cGxleCkgd2l0aCBlYWNoIHVzZXIsXG4gKiAgIHdoaWNoIGFwcGVhciBpbiB0aGUgd2lyZSB0YWJsZS5cbiAqXG4gKiBAcGFyYW0geyFOZXRTaW1TaGFyZH0gc2hhcmRcbiAqIEBwYXJhbSB7Um91dGVyUm93fSBbcm91dGVyUm93XSAtIExvYmJ5IHJvdyBmb3IgdGhpcyByb3V0ZXIuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhdWdtZW50cyBOZXRTaW1Ob2RlXG4gKi9cbnZhciBOZXRTaW1Sb3V0ZXJOb2RlID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc2hhcmQsIHJvdykge1xuICByb3cgPSByb3cgIT09IHVuZGVmaW5lZCA/IHJvdyA6IHt9O1xuICBOZXRTaW1Ob2RlLmNhbGwodGhpcywgc2hhcmQsIHJvdyk7XG5cbiAgdmFyIGxldmVsQ29uZmlnID0gTmV0U2ltR2xvYmFscy5nZXRMZXZlbENvbmZpZygpO1xuXG4gIC8qKlxuICAgKiBUaGlzIHJvdXRlcidzIGlkZW50aWZ5aW5nIG51bWJlciwgd2hpY2ggZ2V0cyB0cmFuc2xhdGVkIGludG8gaXRzIGFkZHJlc3MuXG4gICAqIFNob3VsZCBiZSB1bmlxdWUgYW1vbmcgcm91dGVycyBvbiB0aGUgc2hhcmQuXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICB0aGlzLnJvdXRlck51bWJlciA9IHJvdy5yb3V0ZXJOdW1iZXI7XG5cbiAgLyoqXG4gICAqIFVuaXggdGltZXN0YW1wIChsb2NhbCkgb2Ygcm91dGVyIGNyZWF0aW9uIHRpbWUuXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICB0aGlzLmNyZWF0aW9uVGltZSA9IHV0aWxzLnZhbHVlT3Iocm93LmNyZWF0aW9uVGltZSwgRGF0ZS5ub3coKSk7XG5cbiAgLyoqXG4gICAqIFNldHMgY3VycmVudCBETlMgbW9kZSBmb3IgdGhlIHJvdXRlcidzIGxvY2FsIG5ldHdvcmsuXG4gICAqIFRoaXMgdmFsdWUgaXMgbWFuaXB1bGF0ZWQgYnkgYWxsIGNsaWVudHMuXG4gICAqIEB0eXBlIHtEbnNNb2RlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5kbnNNb2RlID0gdXRpbHMudmFsdWVPcihyb3cuZG5zTW9kZSwgbGV2ZWxDb25maWcuZGVmYXVsdERuc01vZGUpO1xuXG4gIC8qKlxuICAgKiBTZXRzIGN1cnJlbnQgRE5TIG5vZGUgSUQgZm9yIHRoZSByb3V0ZXIncyBsb2NhbCBuZXR3b3JrLlxuICAgKiBUaGlzIHZhbHVlIGlzIG1hbmlwdWxhdGVkIGJ5IGFsbCBjbGllbnRzLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5kbnNOb2RlSUQgPSByb3cuZG5zTm9kZUlEO1xuXG4gIC8qKlxuICAgKiBTcGVlZCAoaW4gYml0cyBwZXIgc2Vjb25kKSBhdCB3aGljaCBtZXNzYWdlcyBhcmUgcHJvY2Vzc2VkLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgdGhpcy5iYW5kd2lkdGggPSB1dGlscy52YWx1ZU9yKGRlc2VyaWFsaXplTnVtYmVyKHJvdy5iYW5kd2lkdGgpLFxuICAgICAgbGV2ZWxDb25maWcuZGVmYXVsdFJvdXRlckJhbmR3aWR0aCk7XG5cbiAgLyoqXG4gICAqIEFtb3VudCBvZiBkYXRhIChpbiBiaXRzKSB0aGF0IHRoZSByb3V0ZXIgcXVldWUgY2FuIGhvbGQgYmVmb3JlIGl0IHN0YXJ0c1xuICAgKiBkcm9wcGluZyBwYWNrZXRzLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgdGhpcy5tZW1vcnkgPSB1dGlscy52YWx1ZU9yKGRlc2VyaWFsaXplTnVtYmVyKHJvdy5tZW1vcnkpLFxuICAgICAgbGV2ZWxDb25maWcuZGVmYXVsdFJvdXRlck1lbW9yeSk7XG5cbiAgLyoqXG4gICAqIFBlcmNlbnQgY2hhbmNlICgwLTEpIHRoYXQgYSBwYWNrZXQgYmVpbmcgcm91dGVkIHdpbGwgYmUgZHJvcHBlZCBmb3Igbm9cbiAgICogcmVhc29uLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgdGhpcy5yYW5kb21Ecm9wQ2hhbmNlID0gdXRpbHMudmFsdWVPcihyb3cucmFuZG9tRHJvcENoYW5jZSxcbiAgICAgIGxldmVsQ29uZmlnLmRlZmF1bHRSYW5kb21Ecm9wQ2hhbmNlKTtcblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBhIHN1YnNldCBvZiBjb25uZWN0aW9uIGFuZCBtZXNzYWdlIGV2ZW50cyB0aGF0IHRoaXNcbiAgICogcm91dGVyIHdpbGwgcmVzcG9uZCB0bywgb25seSBtYW5hZ2luZyBldmVudHMgZnJvbSB0aGUgZ2l2ZW4gbm9kZSBJRCxcbiAgICogdG8gYXZvaWQgY29uZmxpY3Rpbmcgd2l0aCBvdGhlciBjbGllbnRzIGFsc28gc2ltdWxhdGluZyB0aGlzIHJvdXRlci5cbiAgICpcbiAgICogTm90IHBlcnNpc3RlZCBvbiBzZXJ2ZXIuXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnNpbXVsYXRlRm9yU2VuZGVyXyA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogTG9jYWwgY2FjaGUgb2YgdGhlIGxhc3QgdGljayB0aW1lIGluIHRoZSBsb2NhbCBzaW11bGF0aW9uLlxuICAgKiBBbGxvd3MgdXMgdG8gc2NoZWR1bGUvdGltZXN0YW1wIGV2ZW50cyB0aGF0IGRvbid0IGhhcHBlbiBpbnNpZGUgdGhlXG4gICAqIHRpY2sgZXZlbnQuXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnNpbXVsYXRpb25UaW1lXyA9IDA7XG5cbiAgLyoqXG4gICAqIFBhY2tldCBmb3JtYXQgc3BlY2lmaWNhdGlvbiB0aGlzIHJvdXRlciB3aWxsIHVzZSB0byBwYXJzZSwgcm91dGUsIGFuZCBsb2dcbiAgICogcGFja2V0cyB0aGF0IGl0IHJlY2VpdmVzLiAgU2V0IG9uIHJvdXRlciB0aGF0IGlzIHNpbXVsYXRlZCBieSBjbGllbnQuXG4gICAqXG4gICAqIE5vdCBwZXJzaXN0ZWQgb24gc2VydmVyLlxuICAgKlxuICAgKiBAdHlwZSB7UGFja2V0LkhlYWRlclR5cGVbXX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucGFja2V0U3BlY18gPSBbXTtcblxuICAvKipcbiAgICogTG9jYWwgY2FjaGUgb2Ygb3VyIHJlbW90ZSByb3csIHVzZWQgdG8gZGVjaWRlIHdoZXRoZXIgb3VyIHN0YXRlIGhhc1xuICAgKiBjaGFuZ2VkLlxuICAgKiBcbiAgICogTm90IHBlcnNpc3RlZCB0byBzZXJ2ZXIuXG4gICAqIFxuICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5zdGF0ZUNhY2hlXyA9IHt9O1xuICBcbiAgLyoqXG4gICAqIEV2ZW50IG90aGVycyBjYW4gb2JzZXJ2ZSwgd2hpY2ggd2UgZmlyZSB3aGVuIG91ciBvd24gcmVtb3RlIHJvdyBjaGFuZ2VzLlxuICAgKiBcbiAgICogQHR5cGUge09ic2VydmFibGVFdmVudH1cbiAgICovXG4gIHRoaXMuc3RhdGVDaGFuZ2UgPSBuZXcgT2JzZXJ2YWJsZUV2ZW50KCk7XG5cbiAgLyoqXG4gICAqIEV2ZW50IG90aGVycyBjYW4gb2JzZXJ2ZSwgd2hpY2ggd2UgZmlyZSB3aGVuIHRoZSByb3V0ZXIgc3RhdGlzdGljc1xuICAgKiBjaGFuZ2UgKHdoaWNoIG1heSBiZSB2ZXJ5IGZyZXF1ZW50Li4uKVxuICAgKlxuICAgKiBAdHlwZSB7T2JzZXJ2YWJsZUV2ZW50fVxuICAgKi9cbiAgdGhpcy5zdGF0c0NoYW5nZSA9IG5ldyBPYnNlcnZhYmxlRXZlbnQoKTtcblxuICAvKipcbiAgICogTG9jYWwgY2FjaGUgb2Ygd2lyZXMgYXR0YWNoZWQgdG8gdGhpcyByb3V0ZXIsIHVzZWQgZm9yIGRldGVjdGluZyBhbmRcbiAgICogYnJvYWRjYXN0aW5nIHJlbGV2YW50IGNoYW5nZXMuXG4gICAqXG4gICAqIE5vdCBwZXJzaXN0ZWQgb24gc2VydmVyLlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXl9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLm15V2lyZVJvd0NhY2hlXyA9IFtdO1xuXG4gIC8qKlxuICAgKiBFdmVudCBvdGhlcnMgY2FuIG9ic2VydmUsIHdoaWNoIHdlIGZpcmUgd2hlbiB0aGUgcm91dGVyJ3Mgc2V0IG9mIHdpcmVzXG4gICAqIGNoYW5nZXMgaW5kaWNhdGluZyBhIGNoYW5nZSBpbiB0aGUgbG9jYWwgbmV0d29yay5cbiAgICpcbiAgICogQHR5cGUge09ic2VydmFibGVFdmVudH1cbiAgICovXG4gIHRoaXMud2lyZXNDaGFuZ2UgPSBuZXcgT2JzZXJ2YWJsZUV2ZW50KCk7XG5cbiAgLyoqXG4gICAqIExvY2FsIGNhY2hlIG9mIGxvZyByb3dzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHJvdXRlciwgdXNlZCBmb3IgZGV0ZWN0aW5nXG4gICAqIGFuZCBicm9hZGNhc3RpbmcgcmVsZXZhbnQgY2hhbmdlcy5cbiAgICogXG4gICAqIEB0eXBlIHtBcnJheX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMubXlMb2dSb3dDYWNoZV8gPSBbXTtcbiAgXG4gIC8qKlxuICAgKiBFdmVudCBvdGhlcnMgY2FuIG9ic2VydmUsIHdoaWNoIHdlIGZpcmUgd2hlbiB0aGUgcm91dGVyJ3MgbG9nIGNvbnRlbnRcbiAgICogY2hhbmdlcy5cbiAgICogXG4gICAqIEB0eXBlIHtPYnNlcnZhYmxlRXZlbnR9XG4gICAqL1xuICB0aGlzLmxvZ0NoYW5nZSA9IG5ldyBPYnNlcnZhYmxlRXZlbnQoKTtcblxuICAvKipcbiAgICogV2hldGhlciByb3V0ZXIgaXMgaW4gdGhlIG1pZGRsZSBvZiB3b3JrLiAgS2VlcHMgcm91dGVyIGZyb20gcGlja2luZyB1cFxuICAgKiBpdHMgb3duIGNoYW5nZSBub3RpZmljYXRpb25zIG9yIGludGVycnVwdGluZyBpdHMgb3duIHByb2Nlc3Nlcy5cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmlzUm91dGVyUHJvY2Vzc2luZ18gPSBmYWxzZTtcblxuICAvKipcbiAgICogTG9jYWwgY2FjaGUgb2YgbWVzc2FnZXMgdGhhdCBuZWVkIHRvIGJlIHByb2Nlc3NlZCBieSAoYW55IHNpbXVsYXRpb25cbiAgICogb2YpIHRoZSByb3V0ZXIuICBVc2VkIGZvciB0cmFja2luZyByb3V0ZXIgbWVtb3J5LCB0aHJvdWdocHV0LCBldGMuXG4gICAqIEB0eXBlIHtOZXRTaW1NZXNzYWdlW119XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnJvdXRlclF1ZXVlQ2FjaGVfID0gW107XG5cbiAgLyoqXG4gICAqIFNldCBvZiBzY2hlZHVsZWQgJ3JvdXRpbmcgZXZlbnRzJ1xuICAgKiBAdHlwZSB7T2JqZWN0W119XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmxvY2FsUm91dGluZ1NjaGVkdWxlXyA9IFtdO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuaXNBdXRvRG5zUHJvY2Vzc2luZ18gPSBmYWxzZTtcblxuICAvKipcbiAgICogTG9jYWwgY2FjaGUgb2YgbWVzc2FnZXMgdGhhdCBuZWVkIHRvIGJlIHByb2Nlc3NlZCBieSAoYW55IHNpbXVsYXRpb25cbiAgICogb2YpIHRoZSBhdXRvLUROUy4gVXNlZCBmb3Igc3RhdHMgYW5kIGxpbWl0aW5nLlxuICAgKiBAdHlwZSB7TmV0U2ltTWVzc2FnZVtdfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5hdXRvRG5zUXVldWVfID0gW107XG5cbiAgLyoqXG4gICAqIE1vc3QgY2xpZW50cyB0aGF0IGNhbiBiZSBjb25uZWN0ZWQgdG8gdGhpcyByb3V0ZXIuXG4gICAqIE1vdmVkIHRvIGluc3RhbmNlIHZhcmlhYmxlIHNvIHRoYXQgdGVzdHMgY2FuIG92ZXJyaWRlIGl0IGluIGNlcnRhaW4gY2FzZXMuXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLm1heENsaWVudENvbm5lY3Rpb25zXyA9IE1BWF9DTElFTlRfQ09OTkVDVElPTlM7XG59O1xuTmV0U2ltUm91dGVyTm9kZS5pbmhlcml0cyhOZXRTaW1Ob2RlKTtcblxuLyoqXG4gKiBTdGF0aWMgYXN5bmMgY3JlYXRpb24gbWV0aG9kLiBTZWUgTmV0U2ltRW50aXR5LmNyZWF0ZSgpLlxuICogQHBhcmFtIHshTmV0U2ltU2hhcmR9IHNoYXJkXG4gKiBAcGFyYW0geyFOb2RlU3R5bGVDYWxsYmFja30gb25Db21wbGV0ZSAtIE1ldGhvZCB0aGF0IHdpbGwgYmUgZ2l2ZW4gdGhlXG4gKiAgICAgICAgY3JlYXRlZCBlbnRpdHksIG9yIG51bGwgaWYgZW50aXR5IGNyZWF0aW9uIGZhaWxlZC5cbiAqL1xuTmV0U2ltUm91dGVyTm9kZS5jcmVhdGUgPSBmdW5jdGlvbiAoc2hhcmQsIG9uQ29tcGxldGUpIHtcbiAgdmFyIG5leHRSb3V0ZXJOdW1iZXIgPSAxO1xuICBzaGFyZC5ub2RlVGFibGUucmVhZEFsbCgpLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICBpZiAoTm9kZVR5cGUuUk9VVEVSID09PSBub2RlLnR5cGUgJiYgbm9kZS5yb3V0ZXJOdW1iZXIgPj0gbmV4dFJvdXRlck51bWJlcikge1xuICAgICAgbmV4dFJvdXRlck51bWJlciA9IG5vZGUucm91dGVyTnVtYmVyICsgMTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBlbnRpdHkgPSBuZXcgTmV0U2ltUm91dGVyTm9kZShzaGFyZCwgeyByb3V0ZXJOdW1iZXI6IG5leHRSb3V0ZXJOdW1iZXIgfSk7XG4gIGVudGl0eS5nZXRUYWJsZSgpLmNyZWF0ZShlbnRpdHkuYnVpbGRSb3coKSwgZnVuY3Rpb24gKGVyciwgcm93KSB7XG4gICAgaWYgKGVycikge1xuICAgICAgb25Db21wbGV0ZShlcnIsIG51bGwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBvbkNvbXBsZXRlKG51bGwsIG5ldyBOZXRTaW1Sb3V0ZXJOb2RlKHNoYXJkLCByb3cpKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFN0YXRpYyBhc3luYyByZXRyaWV2YWwgbWV0aG9kLiAgU2VlIE5ldFNpbUVudGl0eS5nZXQoKS5cbiAqIEBwYXJhbSB7IW51bWJlcn0gcm91dGVySUQgLSBUaGUgcm93IElEIGZvciB0aGUgZW50aXR5IHlvdSdkIGxpa2UgdG8gZmluZC5cbiAqIEBwYXJhbSB7IU5ldFNpbVNoYXJkfSBzaGFyZFxuICogQHBhcmFtIHshTm9kZVN0eWxlQ2FsbGJhY2t9IG9uQ29tcGxldGUgLSBNZXRob2QgdGhhdCB3aWxsIGJlIGdpdmVuIHRoZVxuICogICAgICAgIGZvdW5kIGVudGl0eSwgb3IgbnVsbCBpZiBlbnRpdHkgc2VhcmNoIGZhaWxlZC5cbiAqL1xuTmV0U2ltUm91dGVyTm9kZS5nZXQgPSBmdW5jdGlvbiAocm91dGVySUQsIHNoYXJkLCBvbkNvbXBsZXRlKSB7XG4gIE5ldFNpbUVudGl0eS5nZXQoTmV0U2ltUm91dGVyTm9kZSwgcm91dGVySUQsIHNoYXJkLCBvbkNvbXBsZXRlKTtcbn07XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gUm91dGVyUm93XG4gKiBAcHJvcGVydHkge251bWJlcn0gY3JlYXRpb25UaW1lIC0gVW5peCB0aW1lc3RhbXAgKGxvY2FsKVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGJhbmR3aWR0aCAtIFJvdXRlciBtYXggdHJhbnNtaXNzaW9uL3Byb2Nlc3NpbmcgcmF0ZVxuICogICAgICAgICAgIGluIGJpdHMvc2Vjb25kXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWVtb3J5IC0gUm91dGVyIG1heCBxdWV1ZSBjYXBhY2l0eSBpbiBiaXRzXG4gKiBAcHJvcGVydHkge0Ruc01vZGV9IGRuc01vZGUgLSBDdXJyZW50IEROUyBtb2RlIGZvciB0aGUgbG9jYWwgbmV0d29ya1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGRuc05vZGVJRCAtIEVudGl0eSBJRCBvZiB0aGUgY3VycmVudCBETlMgbm9kZSBpbiB0aGVcbiAqICAgICAgICAgICBsb2NhbCBuZXR3b3JrLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJhbmRvbURyb3BDaGFuY2UgLSBPZGRzICgwLTEpIHRoYXQgYSBwYWNrZXQgYmVpbmcgcm91dGVkXG4gKiAgICAgICAgICAgd2lsbCBiZSBkcm9wcGVkIGZvciBubyByZWFzb24uXG4gKi9cblxuLyoqXG4gKiBCdWlsZCB0YWJsZSByb3cgZm9yIHRoaXMgbm9kZS5cbiAqIEByZXR1cm5zIHtSb3V0ZXJSb3d9XG4gKiBAcHJpdmF0ZVxuICogQG92ZXJyaWRlXG4gKi9cbk5ldFNpbVJvdXRlck5vZGUucHJvdG90eXBlLmJ1aWxkUm93ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdXRpbHMuZXh0ZW5kKFxuICAgICAgTmV0U2ltUm91dGVyTm9kZS5zdXBlclByb3RvdHlwZS5idWlsZFJvdy5jYWxsKHRoaXMpLFxuICAgICAge1xuICAgICAgICByb3V0ZXJOdW1iZXI6IHRoaXMucm91dGVyTnVtYmVyLFxuICAgICAgICBjcmVhdGlvblRpbWU6IHRoaXMuY3JlYXRpb25UaW1lLFxuICAgICAgICBiYW5kd2lkdGg6IHNlcmlhbGl6ZU51bWJlcih0aGlzLmJhbmR3aWR0aCksXG4gICAgICAgIG1lbW9yeTogc2VyaWFsaXplTnVtYmVyKHRoaXMubWVtb3J5KSxcbiAgICAgICAgZG5zTW9kZTogdGhpcy5kbnNNb2RlLFxuICAgICAgICBkbnNOb2RlSUQ6IHRoaXMuZG5zTm9kZUlELFxuICAgICAgICByYW5kb21Ecm9wQ2hhbmNlOiB0aGlzLnJhbmRvbURyb3BDaGFuY2VcbiAgICAgIH1cbiAgKTtcbn07XG5cbi8qKlxuICogTG9hZCBzdGF0ZSBmcm9tIHJlbW90ZVJvdyBpbnRvIGxvY2FsIG1vZGVsLCB0aGVuIG5vdGlmeSBhbnl0aGluZyBvYnNlcnZpbmdcbiAqIHVzIHRoYXQgd2UndmUgY2hhbmdlZC5cbiAqIEBwYXJhbSB7Um91dGVyUm93fSByZW1vdGVSb3dcbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVJvdXRlck5vZGUucHJvdG90eXBlLm9uTXlTdGF0ZUNoYW5nZV8gPSBmdW5jdGlvbiAocmVtb3RlUm93KSB7XG4gIHRoaXMucm91dGVyTnVtYmVyID0gcmVtb3RlUm93LnJvdXRlck51bWJlcjtcbiAgdGhpcy5jcmVhdGlvblRpbWUgPSByZW1vdGVSb3cuY3JlYXRpb25UaW1lO1xuICB0aGlzLmJhbmR3aWR0aCA9IGRlc2VyaWFsaXplTnVtYmVyKHJlbW90ZVJvdy5iYW5kd2lkdGgpO1xuICB0aGlzLm1lbW9yeSA9IGRlc2VyaWFsaXplTnVtYmVyKHJlbW90ZVJvdy5tZW1vcnkpO1xuICB0aGlzLmRuc01vZGUgPSByZW1vdGVSb3cuZG5zTW9kZTtcbiAgdGhpcy5kbnNOb2RlSUQgPSByZW1vdGVSb3cuZG5zTm9kZUlEO1xuICB0aGlzLnJhbmRvbURyb3BDaGFuY2UgPSByZW1vdGVSb3cucmFuZG9tRHJvcENoYW5jZTtcbiAgdGhpcy5zdGF0ZUNoYW5nZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7XG59O1xuXG4vKipcbiAqIFBlcmZvcm1zIHF1ZXVlZCByb3V0aW5nIGFuZCBETlMgb3BlcmF0aW9ucy5cbiAqIEBwYXJhbSB7UnVuTG9vcC5DbG9ja30gY2xvY2tcbiAqL1xuTmV0U2ltUm91dGVyTm9kZS5wcm90b3R5cGUudGljayA9IGZ1bmN0aW9uIChjbG9jaykge1xuICB0aGlzLnNpbXVsYXRpb25UaW1lXyA9IGNsb2NrLnRpbWU7XG4gIHRoaXMucm91dGVPdmVyZHVlTWVzc2FnZXNfKGNsb2NrKTtcbiAgaWYgKHRoaXMuZG5zTW9kZSA9PT0gRG5zTW9kZS5BVVRPTUFUSUMpIHtcbiAgICB0aGlzLnRpY2tBdXRvRG5zXyhjbG9jayk7XG4gIH1cbn07XG5cbi8qKlxuICogVGhpcyBuYW1lIGlzIGEgYml0IG9mIGEgbWlzbm9tZXIsIGJ1dCBpdCdzIG1lbW9yYWJsZTsgd2UgYWN0dWFsbHkgcm91dGVcbiAqIGFsbCBtZXNzYWdlcyB0aGF0IGFyZSBEVUUgb3IgT1ZFUkRVRS5cbiAqIEBwYXJhbSB7UnVuTG9vcC5DbG9ja30gY2xvY2tcbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVJvdXRlck5vZGUucHJvdG90eXBlLnJvdXRlT3ZlcmR1ZU1lc3NhZ2VzXyA9IGZ1bmN0aW9uIChjbG9jaykge1xuICBpZiAodGhpcy5pc1JvdXRlclByb2Nlc3NpbmdfKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gU2VwYXJhdGUgb3V0IG1lc3NhZ2VzIHdob3NlIHNjaGVkdWxlZCB0aW1lIGhhcyBhcnJpdmVkIG9yIGlzIHBhc3QuXG4gIC8vIEZsYWcgdGhlbSBzbyB3ZSBjYW4gcmVtb3ZlIHRoZW0gbGF0ZXIuXG4gIHZhciByZWFkeVNjaGVkdWxlTWVzc2FnZXMgPSBbXTtcbiAgdmFyIGV4cGlyZWRTY2hlZHVsZU1lc3NhZ2VzID0gW107XG4gIHRoaXMubG9jYWxSb3V0aW5nU2NoZWR1bGVfLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBpZiAoY2xvY2sudGltZSA+PSBpdGVtLmNvbXBsZXRpb25UaW1lKSB7XG4gICAgICBpdGVtLmJlaW5nUm91dGVkID0gdHJ1ZTtcbiAgICAgIHJlYWR5U2NoZWR1bGVNZXNzYWdlcy5wdXNoKGl0ZW0ubWVzc2FnZSk7XG4gICAgfSBlbHNlIGlmIChjbG9jay50aW1lID49IGl0ZW0uZXhwaXJhdGlvblRpbWUpIHtcbiAgICAgIGl0ZW0uYmVpbmdSb3V0ZWQgPSB0cnVlO1xuICAgICAgZXhwaXJlZFNjaGVkdWxlTWVzc2FnZXMucHVzaChpdGVtLm1lc3NhZ2UpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gSWYgbm8gbWVzc2FnZXMgYXJlIHJlYWR5LCB3ZSdyZSBkb25lLlxuICBpZiAocmVhZHlTY2hlZHVsZU1lc3NhZ2VzLmxlbmd0aCArIGV4cGlyZWRTY2hlZHVsZU1lc3NhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEZpcnN0LCByZW1vdmUgdGhlIGV4cGlyZWQgaXRlbXMuICBUaGV5IGp1c3Qgc2lsZW50bHkgdmFuaXNoXG4gIHRoaXMuaXNSb3V0ZXJQcm9jZXNzaW5nXyA9IHRydWU7XG4gIE5ldFNpbUVudGl0eS5kZXN0cm95RW50aXRpZXMoZXhwaXJlZFNjaGVkdWxlTWVzc2FnZXMsIGZ1bmN0aW9uICgpIHtcblxuICAgIC8vIE5leHQsIHByb2Nlc3MgdGhlIG1lc3NhZ2VzIHRoYXQgYXJlIHJlYWR5IGZvciByb3V0aW5nXG4gICAgdGhpcy5yb3V0ZU1lc3NhZ2VzXyhyZWFkeVNjaGVkdWxlTWVzc2FnZXMsIGZ1bmN0aW9uICgpIHtcblxuICAgICAgLy8gRmluYWxseSwgcmVtb3ZlIGFsbCB0aGUgc2NoZWR1bGUgZW50cmllcyB0aGF0IHdlIGZsYWdnZWQgZWFybGllclxuICAgICAgdGhpcy5sb2NhbFJvdXRpbmdTY2hlZHVsZV8gPSB0aGlzLmxvY2FsUm91dGluZ1NjaGVkdWxlXy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuICFpdGVtLmJlaW5nUm91dGVkO1xuICAgICAgfSk7XG4gICAgICB0aGlzLmlzUm91dGVyUHJvY2Vzc2luZ18gPSBmYWxzZTtcblxuICAgIH0uYmluZCh0aGlzKSk7XG4gIH0uYmluZCh0aGlzKSk7XG59O1xuXG4vKipcbiAqIEV4YW1pbmUgdGhlIHF1ZXVlLCBhbmQgYWRkL2FkanVzdCBzY2hlZHVsZSBlbnRyaWVzIGZvciBwYWNrZXRzIHRoYXRcbiAqIHNob3VsZCBiZSBoYW5kbGVkIGJ5IHRoZSBsb2NhbCBzaW11bGF0aW9uLiAgSWYgYSBwYWNrZXQgaGFzIG5vIGVudHJ5LFxuICogaXQgc2hvdWxkIGJlIGFkZGVkIHRvIHRoZSBzY2hlZHVsZS4gIElmIGl0IGRvZXMgYW5kIHdlIGNhbiBzZWUgdGhhdCBpdHNcbiAqIHNjaGVkdWxlZCBjb21wbGV0aW9uIHRpbWUgaXMgdG9vIGZhciBpbiB0aGUgZnV0dXJlLCB3ZSBzaG91bGQgbW92ZSBpdCB1cC5cbiAqL1xuTmV0U2ltUm91dGVyTm9kZS5wcm90b3R5cGUucmVjYWxjdWxhdGVTY2hlZHVsZSA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gVG8gY2FsY3VsYXRlIG91ciBzY2hlZHVsZSwgd2Uga2VlcCBhIHJvbGxpbmcgXCJQZXNzaW1pc3RpYyBjb21wbGV0aW9uIHRpbWVcIlxuICAvLyBhcyB3ZSB3YWxrIGRvd24gdGhlIHF1ZXVlLiAgVGhpcyBcInBlc3NpbWlzdGljIHRpbWVcIiBpcyB3aGVuIHRoZSBwYWNrZXRcbiAgLy8gd291bGQgZmluaXNoIHByb2Nlc3NpbmcsIGFzc3VtaW5nIGFsbCBvZiB0aGUgcGFja2V0cyBhaGVhZCBvZiBpdCBpbiB0aGVcbiAgLy8gcXVldWUgbXVzdCBiZSBwcm9jZXNzZWQgZmlyc3QgYW5kIHRoZSBmaXJzdCBwYWNrZXQgaW4gdGhlIHF1ZXVlIGlzIGp1c3RcbiAgLy8gc3RhcnRpbmcgdG8gcHJvY2VzcyBub3cuICBXZSBkbyB0aGlzIGJlY2F1c2UgdGhlIGZpcnN0IHBhY2tldCBtaWdodCBiZVxuICAvLyBvd25lZCBieSBhIHJlbW90ZSBjbGllbnQsIHNvIHdlIHdvbid0IGhhdmUgcGFydGlhbCBwcm9ncmVzcyBpbmZvcm1hdGlvblxuICAvLyBvbiBpdC5cbiAgLy9cbiAgLy8gVGh1cywgdGhlIHBlc3NpbWlzdGljIHRpbWUgaXMgdGhlIF9sYXRlc3RfIHdlIHdvdWxkIGV4cGVjdCB0aGUgcm91dGVyXG4gIC8vIHRvIGJlIGRvbmUgcHJvY2Vzc2luZyB0aGUgcGFja2V0IGdpdmVuIHRoZSBjdXJyZW50IGJhbmR3aWR0aCBzZXR0aW5nLFxuICAvLyBpZiB0aGUgcm91dGVyIHdhcyBhbiBhY3R1YWwgaGFyZHdhcmUgZGV2aWNlLlxuICAvL1xuICAvLyBUaGUgZXN0aW1hdGUgaXMgYWN0dWFsbHkgX29wdGltaXN0aWNfIGluIHRoZSBzZW5zZSB0aGF0IGl0IGRvZXNuJ3Qgd2FpdFxuICAvLyBmb3Igbm90aWZpY2F0aW9uIHRoYXQgYSByZW1vdGVseS1zaW11bGF0ZWQgcGFja2V0IGlzIGRvbmUgYmVmb3JlXG4gIC8vIHByb2Nlc3NpbmcgYSBsb2NhbGx5LXNpbXVsYXRlZCBvbmUuICBXZSdyZSBtYWtpbmcgb3VyIGJlc3QgZ3Vlc3MgYWJvdXRcbiAgLy8gaG93IHRoZSBwYWNrZXRzIHdvdWxkIGJlIHRpbWVkIHdpdGggbm8gbGF0ZW5jeSBpbnRyb2R1Y2luZyBnYXBzIGJldHdlZW5cbiAgLy8gcGFja2V0cy5cbiAgLy9cbiAgLy8gSWYgdGhlIGNsaWVudCBzaW11bGF0aW5nIHRoZSBwYWNrZXQgYXQgdGhlIGhlYWQgb2YgdGhlIHF1ZXVlIGRpc2Nvbm5lY3RzXG4gIC8vIGl0IHdvbid0IGJsb2NrIG90aGVyIHBhY2tldHMgZnJvbSBiZWluZyBzZW50LCBidXQgaXQgd2lsbCBpbmNyZWFzZSB0aGVpclxuICAvLyBcInBlc3NpbWlzdGljIGVzdGltYXRlc1wiIHVudGlsIHRoYXQgb3JwaGFuZWQgcGFja2V0IGdldHMgY2xlYW5lZCB1cC5cblxuICB2YXIgcXVldWVTaXplSW5CaXRzID0gMDtcbiAgdmFyIHBlc3NpbWlzdGljQ29tcGxldGlvblRpbWUgPSB0aGlzLnNpbXVsYXRpb25UaW1lXztcbiAgdmFyIHF1ZXVlZE1lc3NhZ2U7XG4gIHZhciBwcm9jZXNzaW5nRHVyYXRpb247XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yb3V0ZXJRdWV1ZUNhY2hlXy5sZW5ndGg7IGkrKykge1xuICAgIHF1ZXVlZE1lc3NhZ2UgPSB0aGlzLnJvdXRlclF1ZXVlQ2FjaGVfW2ldO1xuICAgIHF1ZXVlU2l6ZUluQml0cyArPSBxdWV1ZWRNZXNzYWdlLnBheWxvYWQubGVuZ3RoO1xuICAgIHByb2Nlc3NpbmdEdXJhdGlvbiA9IHRoaXMuY2FsY3VsYXRlUHJvY2Vzc2luZ0R1cmF0aW9uRm9yTWVzc2FnZV8ocXVldWVkTWVzc2FnZSk7XG4gICAgcGVzc2ltaXN0aWNDb21wbGV0aW9uVGltZSArPSBwcm9jZXNzaW5nRHVyYXRpb247XG5cbiAgICAvLyBEb24ndCBzY2hlZHVsZSBiZXlvbmQgbWVtb3J5IGNhcGFjaXR5OyB3ZSdyZSBnb2luZyB0byBkcm9wIHRob3NlIHBhY2tldHNcbiAgICBpZiAodGhpcy5sb2NhbFNpbXVsYXRpb25Pd25zTWVzc2FnZV8ocXVldWVkTWVzc2FnZSkgJiZcbiAgICAgICAgcXVldWVTaXplSW5CaXRzIDw9IHRoaXMubWVtb3J5KSB7XG4gICAgICB0aGlzLnNjaGVkdWxlUm91dGluZ0Zvck1lc3NhZ2UocXVldWVkTWVzc2FnZSwgcGVzc2ltaXN0aWNDb21wbGV0aW9uVGltZSk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIENoZWNrcyB0aGUgc2NoZWR1bGUgZm9yIHRoZSBxdWV1ZWQgcm93LiAgSWYgbm8gc2NoZWR1bGUgZW50cnkgZXhpc3RzLCBhZGRzXG4gKiBhIG5ldyBvbmUgd2l0aCB0aGUgcHJvdmlkZWQgcGVzc2ltaXN0aWMgY29tcGxldGlvbiB0aW1lLiAgSWYgaXQncyBhbHJlYWR5XG4gKiBzY2hlZHVsZWQgYW5kIHRoZSBwZXNzaW1pc3RpYyB0aW1lIGdpdmVuIGlzIEJFVFRFUiB0aGFuIHRoZSBwcmV2aW91c2x5XG4gKiBzY2hlZHVsZWQgY29tcGxldGlvbiB0aW1lLCB3aWxsIHVwZGF0ZSB0aGUgc2NoZWR1bGUgZW50cnkgd2l0aCB0aGUgYmV0dGVyXG4gKiB0aW1lLlxuICogQHBhcmFtIHtOZXRTaW1NZXNzYWdlfSBxdWV1ZWRNZXNzYWdlXG4gKiBAcGFyYW0ge251bWJlcn0gcGVzc2ltaXN0aWNDb21wbGV0aW9uVGltZSAtIGluIGxvY2FsIHNpbXVsYXRpb24gdGltZVxuICovXG5OZXRTaW1Sb3V0ZXJOb2RlLnByb3RvdHlwZS5zY2hlZHVsZVJvdXRpbmdGb3JNZXNzYWdlID0gZnVuY3Rpb24gKHF1ZXVlZE1lc3NhZ2UsXG4gICAgcGVzc2ltaXN0aWNDb21wbGV0aW9uVGltZSkge1xuICB2YXIgc2NoZWR1bGVJdGVtID0gXy5maW5kKHRoaXMubG9jYWxSb3V0aW5nU2NoZWR1bGVfLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgIHJldHVybiBpdGVtLm1lc3NhZ2UuZW50aXR5SUQgPT09IHF1ZXVlZE1lc3NhZ2UuZW50aXR5SUQ7XG4gIH0pO1xuXG4gIGlmIChzY2hlZHVsZUl0ZW0pIHtcbiAgICAvLyBXaGVuIG91ciBwZXNzaW1pc3RpYyB0aW1lIGlzIGJldHRlciB0aGFuIG91ciBzY2hlZHVsZWQgdGltZSB3ZVxuICAgIC8vIHNob3VsZCB1cGRhdGUgdGhlIHNjaGVkdWxlZCB0aW1lLiAgVGhpcyBjYW4gaGFwcGVuIHdoZW4gbWVzc2FnZXNcbiAgICAvLyBlYXJsaWVyIGluIHRoZSBxdWV1ZSBleHBpcmUsIG9yIGFyZSBvdGhlcndpc2UgcmVtb3ZlZCBlYXJsaWVyIHRoYW5cbiAgICAvLyB0aGVpciBzaXplIGxlZCB1cyB0byBleHBlY3QuXG4gICAgaWYgKHBlc3NpbWlzdGljQ29tcGxldGlvblRpbWUgPCBzY2hlZHVsZUl0ZW0uY29tcGxldGlvblRpbWUpIHtcbiAgICAgIHNjaGVkdWxlSXRlbS5jb21wbGV0aW9uVGltZSA9IHBlc3NpbWlzdGljQ29tcGxldGlvblRpbWU7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIElmIHRoZSBpdGVtIGRvZXNuJ3QgaGF2ZSBhIHNjaGVkdWxlIGVudHJ5IGF0IGFsbCwgYWRkIGl0XG4gICAgdGhpcy5hZGRNZXNzYWdlVG9TY2hlZHVsZV8ocXVldWVkTWVzc2FnZSwgcGVzc2ltaXN0aWNDb21wbGV0aW9uVGltZSk7XG4gIH1cbn07XG5cbi8qKlxuICogQWRkcyBhIG5ldyBlbnRyeSB0byB0aGUgcm91dGluZyBzY2hlZHVsZSwgd2l0aCBhIGRlZmF1bHQgZXhwaXJhdGlvbiB0aW1lLlxuICogQHBhcmFtIHtOZXRTaW1NZXNzYWdlfSBxdWV1ZWRNZXNzYWdlIC0gbWVzc2FnZSB0byByb3V0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGNvbXBsZXRpb25UaW1lIC0gaW4gc2ltdWxhdGlvbiB0aW1lXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1Sb3V0ZXJOb2RlLnByb3RvdHlwZS5hZGRNZXNzYWdlVG9TY2hlZHVsZV8gPSBmdW5jdGlvbiAocXVldWVkTWVzc2FnZSxcbiAgICBjb21wbGV0aW9uVGltZSkge1xuICB0aGlzLmxvY2FsUm91dGluZ1NjaGVkdWxlXy5wdXNoKHtcbiAgICBtZXNzYWdlOiBxdWV1ZWRNZXNzYWdlLFxuICAgIGNvbXBsZXRpb25UaW1lOiBjb21wbGV0aW9uVGltZSxcbiAgICBleHBpcmF0aW9uVGltZTogdGhpcy5zaW11bGF0aW9uVGltZV8gKyBQQUNLRVRfTUFYX0xJRkVUSU1FX01TLFxuICAgIGJlaW5nUm91dGVkOiBmYWxzZVxuICB9KTtcbn07XG5cbi8qKlxuICogVGFrZXMgYSBtZXNzYWdlIG91dCBvZiB0aGUgcm91dGluZyBzY2hlZHVsZS4gIE1vZGlmaWVzIHRoZSBzY2hlZHVsZSxcbiAqIHNob3VsZCBub3QgYmUgY2FsbGVkIHdoaWxlIGl0ZXJhdGluZyB0aHJvdWdoIHRoZSBzY2hlZHVsZSFcbiAqIERvZXMgbm90aGluZyBpZiB0aGUgbWVzc2FnZSBpc24ndCBwcmVzZW50IGluIHRoZSBzY2hlZHVsZS5cbiAqIEBwYXJhbSB7TmV0U2ltTWVzc2FnZX0gcXVldWVkTWVzc2FnZVxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltUm91dGVyTm9kZS5wcm90b3R5cGUucmVtb3ZlTWVzc2FnZUZyb21TY2hlZHVsZV8gPSBmdW5jdGlvbiAocXVldWVkTWVzc2FnZSkge1xuICB2YXIgc2NoZWR1bGVJZHg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sb2NhbFJvdXRpbmdTY2hlZHVsZV8ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodGhpcy5sb2NhbFJvdXRpbmdTY2hlZHVsZV9baV0ubWVzc2FnZS5lbnRpdHlJRCA9PT0gcXVldWVkTWVzc2FnZS5lbnRpdHlJRCkge1xuICAgICAgc2NoZWR1bGVJZHggPSBpO1xuICAgIH1cbiAgfVxuICBpZiAoc2NoZWR1bGVJZHggIT09IHVuZGVmaW5lZCkge1xuICAgIHRoaXMubG9jYWxSb3V0aW5nU2NoZWR1bGVfLnNwbGljZShzY2hlZHVsZUlkeCwgMSk7XG4gIH1cbn07XG5cbi8qKlxuICogTGV0cyB0aGUgYXV0by1ETlMgcGFydCBvZiB0aGUgcm91dGVyIHNpbXVsYXRpb24gaGFuZGxlIGl0cyByZXF1ZXN0cy5cbiAqIEZvciBub3csIGF1dG8tRE5TIGNhbiBkbyBcImJhdGNoXCIgcHJvY2Vzc2luZywgbm8gdGhyb3VnaHB1dCBsaW1pdHMuXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1Sb3V0ZXJOb2RlLnByb3RvdHlwZS50aWNrQXV0b0Ruc18gPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmlzQXV0b0Ruc1Byb2Nlc3NpbmdfKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRmlsdGVyIEROUyBxdWV1ZSBkb3duIHRvIHJlcXVlc3RzIHRoZSBsb2NhbCBzaW11bGF0aW9uIHNob3VsZCBoYW5kbGUuXG4gIHZhciBsb2NhbFNpbURuc1JlcXVlc3RzID0gdGhpcy5hdXRvRG5zUXVldWVfXG4gICAgICAuZmlsdGVyKHRoaXMubG9jYWxTaW11bGF0aW9uT3duc01lc3NhZ2VfLmJpbmQodGhpcykpO1xuXG4gIC8vIElmIHRoZXJlJ3Mgbm90aGluZyB3ZSBjYW4gcHJvY2Vzcywgd2UncmUgZG9uZS5cbiAgaWYgKGxvY2FsU2ltRG5zUmVxdWVzdHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gUHJvY2VzcyBETlMgcmVxdWVzdHNcbiAgdGhpcy5pc0F1dG9EbnNQcm9jZXNzaW5nXyA9IHRydWU7XG4gIHRoaXMucHJvY2Vzc0F1dG9EbnNSZXF1ZXN0c18obG9jYWxTaW1EbnNSZXF1ZXN0cywgZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuaXNBdXRvRG5zUHJvY2Vzc2luZ18gPSBmYWxzZTtcbiAgfS5iaW5kKHRoaXMpKTtcbn07XG5cbi8qKiBAaW5oZXJpdGRvYyAqL1xuTmV0U2ltUm91dGVyTm9kZS5wcm90b3R5cGUuZ2V0RGlzcGxheU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gIGlmIChOZXRTaW1HbG9iYWxzLmdldExldmVsQ29uZmlnKCkuYnJvYWRjYXN0TW9kZSkge1xuICAgIHJldHVybiBpMThuLnJvb21OdW1iZXJYKHtcbiAgICAgIHg6IHRoaXMuZ2V0Um91dGVyTnVtYmVyKClcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBpMThuLnJvdXRlck51bWJlclgoe1xuICAgIHg6IHRoaXMuZ2V0Um91dGVyTnVtYmVyKClcbiAgfSk7XG59O1xuXG4vKipcbiAqIEdpdmVuIHRoZSBsZXZlbCBhZGRyZXNzIGZvcm1hdCBzdHJpbmcgKGUuZy4gXCI0LjQuNC40XCIpIHdoaWNoIGl0IHB1bGxzIGZyb21cbiAqIGdsb2JhbHMsIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlIHBhcnNlZCBsZW5ndGhzIG9mIGVhY2ggZm9ybWF0IHBhcnQgaW4gb3JkZXJcbiAqIChlLmcuIFs0LCA0LCA0LCA0XSkuXG4gKiBAcmV0dXJucyB7bnVtYmVyW119XG4gKi9cbmZ1bmN0aW9uIGdldEFkZHJlc3NGb3JtYXRQYXJ0cygpIHtcbiAgcmV0dXJuIE5ldFNpbUdsb2JhbHNcbiAgICAgIC5nZXRMZXZlbENvbmZpZygpXG4gICAgICAuYWRkcmVzc0Zvcm1hdFxuICAgICAgLnNwbGl0KC9cXEQrLylcbiAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHBhcnQpIHtcbiAgICAgICAgcmV0dXJuIHBhcnQubGVuZ3RoID4gMDtcbiAgICAgIH0pXG4gICAgICAubWFwKGZ1bmN0aW9uIChwYXJ0KSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludChwYXJ0LCAxMCk7XG4gICAgICB9KTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgdGhhdCBwcmV2ZW50cyB0aGUgcm91dGVyJ3MgZGlzcGxheSBudW1iZXIgb3IgYWRkcmVzcyBmcm9tIGJlaW5nIGJleW9uZFxuICogdGhlIHJlcHJlc2VudGFibGUgc2l6ZSBvZiB0aGUgdGhlIHJvdXRlciBwYXJ0IGluIHRoZSBhZGRyZXNzIGZvcm1hdCAoaWZcbiAqIHR3by1wYXJ0IGFkZHJlc3NlcyBhcmUgYmVpbmcgdXNlZCkuXG4gKiBEb2VzIG5vdCBkbyBhbnl0aGluZyBzcGVjaWFsIHRvIHByZXZlbnQgY29sbGlzaW9ucywganVzdCByZXR1cm5zIGVudGl0eUlEXG4gKiBtb2R1bG8gdGhlIGFzc2lnbmFibGUgYWRkcmVzcyBzcGFjZSAtIGJ1dCB0aGlzIHdpbGwgYmUgYmV0dGVyIHRoYW4gaGF2aW5nXG4gKiBub24tY29uZmxpY3Rpbmcgcm91dGVycyB5b3UgY2FuIG5ldmVyIGFkZHJlc3MgYXQgYWxsLlxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuTmV0U2ltUm91dGVyTm9kZS5wcm90b3R5cGUuZ2V0Um91dGVyTnVtYmVyID0gZnVuY3Rpb24gKCkge1xuICAvLyBJZiB0d28gb3IgbW9yZSBwYXJ0cywgbGltaXQgb3VyIHJvdXRlciBudW1iZXIgdG8gdGhlIG1heGltdW0gdmFsdWUgb2ZcbiAgLy8gdGhlIHNlY29uZC10by1sYXN0IGFkZHJlc3MgcGFydC5cbiAgdmFyIGFkZHJlc3NGb3JtYXRQYXJ0cyA9IGdldEFkZHJlc3NGb3JtYXRQYXJ0cygpO1xuICBpZiAoYWRkcmVzc0Zvcm1hdFBhcnRzLmxlbmd0aCA+PSAyKSB7XG4gICAgdmFyIGFzc2lnbmFibGVBZGRyZXNzVmFsdWVzID0gTWF0aC5wb3coMiwgYWRkcmVzc0Zvcm1hdFBhcnRzLnJldmVyc2UoKVsxXSk7XG4gICAgcmV0dXJuIHRoaXMucm91dGVyTnVtYmVyICUgYXNzaWduYWJsZUFkZHJlc3NWYWx1ZXM7XG4gIH1cbiAgcmV0dXJuIHRoaXMucm91dGVyTnVtYmVyO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIG1heGltdW0gbnVtYmVyIG9mIHJvdXRlcnMgdGhhdCB3aWxsIGJlIGFsbG93ZWQgb24gdGhlIHNoYXJkLlxuICogSW4gbW9zdCBsZXZlbHMgdGhpcyBpcyBhIHN0cmljdCBnbG9iYWwgdmFsdWUgKHByb2JhYmx5IDIwKS5cbiAqIEluIGxldmVscyB1c2luZyBhbiBhZGRyZXNzIGZvcm1hdCB3aXRoIHR3byBvciBtb3JlIHBhcnRzIHRoZSBzZWNvbmQtdG8tbGFzdFxuICogcGFydCBkZXRlcm1pbmVzIHRoZSBhZGRyZXNzYWJsZSBzcGFjZSBmb3Igcm91dGVycywgYW5kIHRoZSBtYXggcm91dGVyc1xuICogd2lsbCBiZSB0aGUgbWluaW11bSBvZiB0aGUgZ2xvYmFsIG1heCBhbmQgdGhlIGFkZHJlc3NhYmxlIHNwYWNlLlxuICpcbiAqIEBleGFtcGxlIElmIHRoZSBnbG9iYWwgbWF4IHJvdXRlcnMgaXMgMjAsIGJ1dCB0aGUgYWRkcmVzcyBmb3JtYXQgaXMgNC40LFxuICogICAgICAgICAgd2UgY2FuIG9ubHkgYWRkcmVzcyAxNiByb3V0ZXJzIChsZXNzIHRoYW4gMjApIHNvIDE2IGlzIG91ciBtYXhcbiAqICAgICAgICAgIHJvdXRlcnMgcGVyIHNoYXJkIHZhbHVlLlxuICpcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbk5ldFNpbVJvdXRlck5vZGUuZ2V0TWF4aW11bVJvdXRlcnNQZXJTaGFyZCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gSWYgdHdvIG9yIG1vcmUgcGFydHMsIGxpbWl0IG91ciByb3V0ZXJzIHRvIHRoZSBtYXhpbXVtIHZhbHVlIG9mXG4gIC8vIHRoZSBzZWNvbmQtdG8tbGFzdCBhZGRyZXNzIHBhcnQuXG4gIHZhciBhZGRyZXNzRm9ybWF0UGFydHMgPSBnZXRBZGRyZXNzRm9ybWF0UGFydHMoKTtcbiAgaWYgKGFkZHJlc3NGb3JtYXRQYXJ0cy5sZW5ndGggPj0gMikge1xuICAgIHJldHVybiBNYXRoLm1pbihOZXRTaW1HbG9iYWxzLmdldEdsb2JhbE1heFJvdXRlcnMoKSxcbiAgICAgICAgTWF0aC5wb3coMiwgYWRkcmVzc0Zvcm1hdFBhcnRzLnJldmVyc2UoKVsxXSkpO1xuICB9XG4gIHJldHVybiBOZXRTaW1HbG9iYWxzLmdldEdsb2JhbE1heFJvdXRlcnMoKTtcbn07XG5cbi8qKlxuICogR2V0IG5vZGUncyBvd24gYWRkcmVzcywgd2hpY2ggaXMgZGVwZW5kZW50IG9uIHRoZSBhZGRyZXNzIGZvcm1hdFxuICogY29uZmlndXJlZCBpbiB0aGUgbGV2ZWwgYnV0IGZvciByb3V0ZXJzIGFsd2F5cyBlbmRzIGluIHplcm8uXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5OZXRTaW1Sb3V0ZXJOb2RlLnByb3RvdHlwZS5nZXRBZGRyZXNzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5tYWtlTG9jYWxOZXR3b3JrQWRkcmVzc18oUk9VVEVSX0xPQ0FMX0FERFJFU1MpO1xufTtcblxuLyoqXG4gKiBHZXQgbG9jYWwgbmV0d29yaydzIGF1dG8tZG5zIGFkZHJlc3MsIHdoaWNoIGlzIGRlcGVuZGVudCBvbiB0aGUgYWRkcmVzc1xuICogZm9ybWF0IGNvbmZpZ3VyZWQgZm9yIHRoZSBsZXZlbCBidXQgdGhlIGxhc3QgcGFydCBzaG91bGQgYWx3YXlzIGJlIDE1LlxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuTmV0U2ltUm91dGVyTm9kZS5wcm90b3R5cGUuZ2V0QXV0b0Ruc0FkZHJlc3MgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLm1ha2VMb2NhbE5ldHdvcmtBZGRyZXNzXyhBVVRPX0ROU19SRVNFUlZFRF9BRERSRVNTKTtcbn07XG5cbi8qKlxuICogR2V0IG5vZGUncyBob3N0bmFtZSwgYSBtb2RpZmllZCB2ZXJzaW9uIG9mIGl0cyBkaXNwbGF5IG5hbWUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICogQG92ZXJyaWRlXG4gKi9cbk5ldFNpbVJvdXRlck5vZGUucHJvdG90eXBlLmdldEhvc3RuYW1lID0gZnVuY3Rpb24gKCkge1xuICAvLyBVc2UgcmVnZXggdG8gc3RyaXAgYW55dGhpbmcgdGhhdCdzIG5vdCBhIHdvcmQtY2hhcmFjdGVyIG9yIGEgZGlnaXRcbiAgLy8gZnJvbSB0aGUgbm9kZSdzIGRpc3BsYXkgbmFtZS4gIEZvciByb3V0ZXJzLCB3ZSBkb24ndCBhcHBlbmQgdGhlIG5vZGUgSURcbiAgLy8gYmVjYXVzZSBpdCdzIGFscmVhZHkgcGFydCBvZiB0aGUgZGlzcGxheSBuYW1lLlxuICByZXR1cm4gdGhpcy5nZXREaXNwbGF5TmFtZSgpLnJlcGxhY2UoL1teXFx3XFxkXS9nLCAnJykudG9Mb3dlckNhc2UoKTtcbn07XG5cbi8qKiBAaW5oZXJpdGRvYyAqL1xuTmV0U2ltUm91dGVyTm9kZS5wcm90b3R5cGUuZ2V0Tm9kZVR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBOb2RlVHlwZS5ST1VURVI7XG59O1xuXG4vKiogQGluaGVyaXRkb2MgKi9cbk5ldFNpbVJvdXRlck5vZGUucHJvdG90eXBlLmdldFN0YXR1cyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGxldmVsQ29uZmlnID0gTmV0U2ltR2xvYmFscy5nZXRMZXZlbENvbmZpZygpO1xuICB2YXIgY29ubmVjdGlvbkNvdW50ID0gdGhpcy5jb3VudENvbm5lY3Rpb25zKCk7XG4gIGlmIChjb25uZWN0aW9uQ291bnQgPT09IDApIHtcbiAgICBpZiAobGV2ZWxDb25maWcuYnJvYWRjYXN0TW9kZSkge1xuICAgICAgcmV0dXJuIGkxOG4ucm9vbVN0YXR1c05vQ29ubmVjdGlvbnMoe1xuICAgICAgICBtYXhpbXVtQ2xpZW50czogdGhpcy5tYXhDbGllbnRDb25uZWN0aW9uc19cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBpMThuLnJvdXRlclN0YXR1c05vQ29ubmVjdGlvbnMoe1xuICAgICAgbWF4aW11bUNsaWVudHM6IHRoaXMubWF4Q2xpZW50Q29ubmVjdGlvbnNfXG4gICAgfSk7XG4gIH1cblxuICB2YXIgY29ubmVjdGVkTm9kZU5hbWVzID0gdGhpcy5nZXRDb25uZWN0ZWROb2RlTmFtZXNfKCkuam9pbignLCAnKTtcbiAgaWYgKGNvbm5lY3Rpb25Db3VudCA+PSB0aGlzLm1heENsaWVudENvbm5lY3Rpb25zXykge1xuICAgIGlmIChsZXZlbENvbmZpZy5icm9hZGNhc3RNb2RlKSB7XG4gICAgICByZXR1cm4gaTE4bi5yb29tU3RhdHVzRnVsbCh7XG4gICAgICAgIGNvbm5lY3RlZENsaWVudHM6IGNvbm5lY3RlZE5vZGVOYW1lc1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGkxOG4ucm91dGVyU3RhdHVzRnVsbCh7XG4gICAgICBjb25uZWN0ZWRDbGllbnRzOiBjb25uZWN0ZWROb2RlTmFtZXNcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChsZXZlbENvbmZpZy5icm9hZGNhc3RNb2RlKSB7XG4gICAgcmV0dXJuIGkxOG4ucm9vbVN0YXR1cyh7XG4gICAgICBjb25uZWN0ZWRDbGllbnRzOiBjb25uZWN0ZWROb2RlTmFtZXMsXG4gICAgICByZW1haW5pbmdTcGFjZTogKHRoaXMubWF4Q2xpZW50Q29ubmVjdGlvbnNfIC0gY29ubmVjdGlvbkNvdW50KVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGkxOG4ucm91dGVyU3RhdHVzKHtcbiAgICBjb25uZWN0ZWRDbGllbnRzOiBjb25uZWN0ZWROb2RlTmFtZXMsXG4gICAgcmVtYWluaW5nU3BhY2U6ICh0aGlzLm1heENsaWVudENvbm5lY3Rpb25zXyAtIGNvbm5lY3Rpb25Db3VudClcbiAgfSk7XG59O1xuXG4vKipcbiAqIEByZXR1cm5zIHtzdHJpbmdbXX0gdGhlIG5hbWVzIG9mIGFsbCB0aGUgbm9kZXMgY29ubmVjdGVkIHRvIHRoaXMgcm91dGVyLlxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltUm91dGVyTm9kZS5wcm90b3R5cGUuZ2V0Q29ubmVjdGVkTm9kZU5hbWVzXyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGNhY2hlZE5vZGVSb3dzID0gdGhpcy5zaGFyZF8ubm9kZVRhYmxlLnJlYWRBbGwoKTtcbiAgcmV0dXJuIHRoaXMuZ2V0Q29ubmVjdGlvbnMoKS5tYXAoZnVuY3Rpb24gKHdpcmUpIHtcbiAgICB2YXIgbm9kZVJvdyA9IF8uZmluZChjYWNoZWROb2RlUm93cywgZnVuY3Rpb24gKG5vZGVSb3cpIHtcbiAgICAgIHJldHVybiBub2RlUm93LmlkID09PSB3aXJlLmxvY2FsTm9kZUlEO1xuICAgIH0pO1xuICAgIGlmIChub2RlUm93KSB7XG4gICAgICByZXR1cm4gbm9kZVJvdy5uYW1lO1xuICAgIH1cbiAgICByZXR1cm4gaTE4bi51bmtub3duTm9kZSgpO1xuICB9KTtcbn07XG5cbi8qKiBAaW5oZXJpdGRvYyAqL1xuTmV0U2ltUm91dGVyTm9kZS5wcm90b3R5cGUuaXNGdWxsID0gZnVuY3Rpb24gKCkge1xuICAvLyBEZXRlcm1pbmUgc3RhdHVzIGJhc2VkIG9uIGNhY2hlZCB3aXJlIGRhdGFcbiAgdmFyIGNhY2hlZFdpcmVSb3dzID0gdGhpcy5zaGFyZF8ud2lyZVRhYmxlLnJlYWRBbGwoKTtcbiAgdmFyIGluY29taW5nV2lyZVJvd3MgPSBjYWNoZWRXaXJlUm93cy5maWx0ZXIoZnVuY3Rpb24gKHdpcmVSb3cpIHtcbiAgICByZXR1cm4gd2lyZVJvdy5yZW1vdGVOb2RlSUQgPT09IHRoaXMuZW50aXR5SUQ7XG4gIH0sIHRoaXMpO1xuXG4gIHJldHVybiBpbmNvbWluZ1dpcmVSb3dzLmxlbmd0aCA+PSB0aGlzLm1heENsaWVudENvbm5lY3Rpb25zXztcbn07XG5cbi8qKlxuICogTWFrZXMgc3VyZSB0aGF0IHRoZSBnaXZlbiBzcGVjaWZpY2F0aW9uIGNvbnRhaW5zIHRoZSBmaWVsZHMgdGhhdCB0aGlzXG4gKiByb3V0ZXIgbmVlZHMgdG8gZG8gaXRzIGpvYi5cbiAqIEBwYXJhbSB7UGFja2V0LkhlYWRlclR5cGVbXX0gcGFja2V0U3BlY1xuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltUm91dGVyTm9kZS5wcm90b3R5cGUudmFsaWRhdGVQYWNrZXRTcGVjXyA9IGZ1bmN0aW9uIChwYWNrZXRTcGVjKSB7XG4gIC8vIFRoZXJlIGFyZSBubyByZXF1aXJlbWVudHMgaW4gYnJvYWRjYXN0IG1vZGVcbiAgaWYgKE5ldFNpbUdsb2JhbHMuZ2V0TGV2ZWxDb25maWcoKS5icm9hZGNhc3RNb2RlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gUmVxdWlyZSBUT19BRERSRVNTIGZvciByb3V0aW5nXG4gIGlmICghcGFja2V0U3BlYy5zb21lKGZ1bmN0aW9uIChoZWFkZXJGaWVsZCkge1xuICAgICAgICByZXR1cm4gaGVhZGVyRmllbGQgPT09IFBhY2tldC5IZWFkZXJUeXBlLlRPX0FERFJFU1M7XG4gICAgICB9KSkge1xuICAgIGxvZ2dlci53YXJuKFwiUGFja2V0IHNwZWNpZmljYXRpb24gZG9lcyBub3QgaGF2ZSBhIHRvQWRkcmVzcyBmaWVsZC5cIik7XG4gIH1cblxuICAvLyBSZXF1aXJlIEZST01fQUREUkVTUyBmb3IgYXV0by1ETlMgdGFza3NcbiAgaWYgKCFwYWNrZXRTcGVjLnNvbWUoZnVuY3Rpb24gKGhlYWRlckZpZWxkKSB7XG4gICAgICAgIHJldHVybiBoZWFkZXJGaWVsZCA9PT0gUGFja2V0LkhlYWRlclR5cGUuRlJPTV9BRERSRVNTO1xuICAgICAgfSkpIHtcbiAgICBsb2dnZXIud2FybihcIlBhY2tldCBzcGVjaWZpY2F0aW9uIGRvZXMgbm90IGhhdmUgYSBmcm9tQWRkcmVzcyBmaWVsZC5cIik7XG4gIH1cbn07XG5cbi8qKlxuICogUHV0cyB0aGlzIHJvdXRlciBjb250cm9sbGVyIGludG8gYSBtb2RlIHdoZXJlIGl0IHdpbGwgb25seVxuICogc2ltdWxhdGUgZm9yIGNvbm5lY3Rpb24gYW5kIG1lc3NhZ2VzIC1mcm9tLSB0aGUgZ2l2ZW4gbm9kZS5cbiAqIEBwYXJhbSB7IW51bWJlcn0gbm9kZUlEXG4gKi9cbk5ldFNpbVJvdXRlck5vZGUucHJvdG90eXBlLmluaXRpYWxpemVTaW11bGF0aW9uID0gZnVuY3Rpb24gKG5vZGVJRCkge1xuICB0aGlzLnNpbXVsYXRlRm9yU2VuZGVyXyA9IG5vZGVJRDtcbiAgdGhpcy5wYWNrZXRTcGVjXyA9IE5ldFNpbUdsb2JhbHMuZ2V0TGV2ZWxDb25maWcoKS5yb3V0ZXJFeHBlY3RzUGFja2V0SGVhZGVyO1xuICB0aGlzLnZhbGlkYXRlUGFja2V0U3BlY18odGhpcy5wYWNrZXRTcGVjXyk7XG5cbiAgaWYgKG5vZGVJRCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIG5vZGVDaGFuZ2VFdmVudCA9IHRoaXMuc2hhcmRfLm5vZGVUYWJsZS50YWJsZUNoYW5nZTtcbiAgICB2YXIgbm9kZUNoYW5nZUhhbmRsZXIgPSB0aGlzLm9uTm9kZVRhYmxlQ2hhbmdlXy5iaW5kKHRoaXMpO1xuICAgIHRoaXMubm9kZUNoYW5nZUtleV8gPSBub2RlQ2hhbmdlRXZlbnQucmVnaXN0ZXIobm9kZUNoYW5nZUhhbmRsZXIpO1xuICAgIFxuICAgIHZhciB3aXJlQ2hhbmdlRXZlbnQgPSB0aGlzLnNoYXJkXy53aXJlVGFibGUudGFibGVDaGFuZ2U7XG4gICAgdmFyIHdpcmVDaGFuZ2VIYW5kbGVyID0gdGhpcy5vbldpcmVUYWJsZUNoYW5nZV8uYmluZCh0aGlzKTtcbiAgICB0aGlzLndpcmVDaGFuZ2VLZXlfID0gd2lyZUNoYW5nZUV2ZW50LnJlZ2lzdGVyKHdpcmVDaGFuZ2VIYW5kbGVyKTtcblxuICAgIHZhciBsb2dDaGFuZ2VFdmVudCA9IHRoaXMuc2hhcmRfLmxvZ1RhYmxlLnRhYmxlQ2hhbmdlO1xuICAgIHZhciBsb2dDaGFuZ2VIYW5kbGVyID0gdGhpcy5vbkxvZ1RhYmxlQ2hhbmdlXy5iaW5kKHRoaXMpO1xuICAgIHRoaXMubG9nQ2hhbmdlS2V5XyA9IGxvZ0NoYW5nZUV2ZW50LnJlZ2lzdGVyKGxvZ0NoYW5nZUhhbmRsZXIpO1xuXG4gICAgdmFyIG5ld01lc3NhZ2VFdmVudCA9IHRoaXMuc2hhcmRfLm1lc3NhZ2VUYWJsZS50YWJsZUNoYW5nZTtcbiAgICB2YXIgbmV3TWVzc2FnZUhhbmRsZXIgPSB0aGlzLm9uTWVzc2FnZVRhYmxlQ2hhbmdlXy5iaW5kKHRoaXMpO1xuICAgIHRoaXMubmV3TWVzc2FnZUV2ZW50S2V5XyA9IG5ld01lc3NhZ2VFdmVudC5yZWdpc3RlcihuZXdNZXNzYWdlSGFuZGxlcik7XG5cbiAgICAvLyBQb3B1bGF0ZSByb3V0ZXIgd2lyZSBjYWNoZSB3aXRoIGluaXRpYWwgZGF0YVxuICAgIHRoaXMub25XaXJlVGFibGVDaGFuZ2VfKCk7XG5cbiAgICAvLyBQb3B1bGF0ZSByb3V0ZXIgbG9nIGNhY2hlIHdpdGggaW5pdGlhbCBkYXRhXG4gICAgdGhpcy5vbkxvZ1RhYmxlQ2hhbmdlXygpO1xuICB9XG59O1xuXG4vKipcbiAqIEdpdmVzIHRoZSBzaW11bGF0aW5nIG5vZGUgYSBjaGFuY2UgdG8gdW5yZWdpc3RlciBmcm9tIGFueXRoaW5nIGl0XG4gKiB3YXMgb2JzZXJ2aW5nLlxuICovXG5OZXRTaW1Sb3V0ZXJOb2RlLnByb3RvdHlwZS5zdG9wU2ltdWxhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMubm9kZUNoYW5nZUtleV8gIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBub2RlQ2hhbmdlRXZlbnQgPSB0aGlzLnNoYXJkXy5ub2RlVGFibGUudGFibGVDaGFuZ2U7XG4gICAgbm9kZUNoYW5nZUV2ZW50LnVucmVnaXN0ZXIodGhpcy5ub2RlQ2hhbmdlS2V5Xyk7XG4gICAgdGhpcy5ub2RlQ2hhbmdlS2V5XyA9IHVuZGVmaW5lZDtcbiAgfVxuICBcbiAgaWYgKHRoaXMud2lyZUNoYW5nZUtleV8gIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciB3aXJlQ2hhbmdlRXZlbnQgPSB0aGlzLnNoYXJkXy53aXJlVGFibGUudGFibGVDaGFuZ2U7XG4gICAgd2lyZUNoYW5nZUV2ZW50LnVucmVnaXN0ZXIodGhpcy53aXJlQ2hhbmdlS2V5Xyk7XG4gICAgdGhpcy53aXJlQ2hhbmdlS2V5XyA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0aGlzLmxvZ0NoYW5nZUtleV8gIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBsb2dDaGFuZ2VFdmVudCA9IHRoaXMuc2hhcmRfLmxvZ1RhYmxlLnRhYmxlQ2hhbmdlO1xuICAgIGxvZ0NoYW5nZUV2ZW50LnVucmVnaXN0ZXIodGhpcy5sb2dDaGFuZ2VLZXlfKTtcbiAgICB0aGlzLmxvZ0NoYW5nZUtleV8gPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAodGhpcy5uZXdNZXNzYWdlRXZlbnRLZXlfICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgbmV3TWVzc2FnZUV2ZW50ID0gdGhpcy5zaGFyZF8ubWVzc2FnZVRhYmxlLnRhYmxlQ2hhbmdlO1xuICAgIG5ld01lc3NhZ2VFdmVudC51bnJlZ2lzdGVyKHRoaXMubmV3TWVzc2FnZUV2ZW50S2V5Xyk7XG4gICAgdGhpcy5uZXdNZXNzYWdlRXZlbnRLZXlfID0gdW5kZWZpbmVkO1xuICB9XG59O1xuXG4vKipcbiAqIFB1dHMgdGhlIHJvdXRlciBpbnRvIHRoZSBnaXZlbiBETlMgbW9kZSwgdHJpZ2dlcnMgYSByZW1vdGUgdXBkYXRlLFxuICogYW5kIGNyZWF0ZXMvZGVzdHJveXMgdGhlIG5ldHdvcmsncyBhdXRvbWF0aWMgRE5TIG5vZGUuXG4gKiBAcGFyYW0ge0Ruc01vZGV9IG5ld0Ruc01vZGVcbiAqL1xuTmV0U2ltUm91dGVyTm9kZS5wcm90b3R5cGUuc2V0RG5zTW9kZSA9IGZ1bmN0aW9uIChuZXdEbnNNb2RlKSB7XG4gIGlmICh0aGlzLmRuc01vZGUgPT09IG5ld0Ruc01vZGUpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodGhpcy5kbnNNb2RlID09PSBEbnNNb2RlLk5PTkUpIHtcbiAgICB0aGlzLmRuc05vZGVJRCA9IHVuZGVmaW5lZDtcbiAgfSBlbHNlIGlmICh0aGlzLmRuc01vZGUgPT09IERuc01vZGUuQVVUT01BVElDKSB7XG4gICAgdGhpcy5kbnNOb2RlSUQgPSBBVVRPX0ROU19SRVNFUlZFRF9BRERSRVNTO1xuICB9XG5cbiAgdGhpcy5kbnNNb2RlID0gbmV3RG5zTW9kZTtcbiAgdGhpcy51cGRhdGUoKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IG5ld0JhbmR3aWR0aCBpbiBiaXRzIHBlciBzZWNvbmRcbiAqL1xuTmV0U2ltUm91dGVyTm9kZS5wcm90b3R5cGUuc2V0QmFuZHdpZHRoID0gZnVuY3Rpb24gKG5ld0JhbmR3aWR0aCkge1xuICBpZiAodGhpcy5iYW5kd2lkdGggPT09IG5ld0JhbmR3aWR0aCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuYmFuZHdpZHRoID0gbmV3QmFuZHdpZHRoO1xuICB0aGlzLnJlY2FsY3VsYXRlU2NoZWR1bGUoKTtcbiAgdGhpcy51cGRhdGUoKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IG5ld01lbW9yeSBpbiBiaXRzXG4gKi9cbk5ldFNpbVJvdXRlck5vZGUucHJvdG90eXBlLnNldE1lbW9yeSA9IGZ1bmN0aW9uIChuZXdNZW1vcnkpIHtcbiAgaWYgKHRoaXMubWVtb3J5ID09PSBuZXdNZW1vcnkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLm1lbW9yeSA9IG5ld01lbW9yeTtcbiAgdGhpcy5lbmZvcmNlTWVtb3J5TGltaXRfKCk7XG4gIHRoaXMudXBkYXRlKCk7XG59O1xuXG4vKipcbiAqIEByZXR1cm5zIHtOZXRTaW1XaXJlW119IGFsbCBvZiB0aGUgd2lyZXMgdGhhdCBhcmUgYXR0YWNoZWQgdG8gdGhpcyByb3V0ZXIuXG4gKi9cbk5ldFNpbVJvdXRlck5vZGUucHJvdG90eXBlLmdldENvbm5lY3Rpb25zID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2hhcmQgPSB0aGlzLnNoYXJkXztcbiAgdmFyIHJvdXRlcklEID0gdGhpcy5lbnRpdHlJRDtcbiAgcmV0dXJuIHNoYXJkLndpcmVUYWJsZS5yZWFkQWxsKCkuZmlsdGVyKGZ1bmN0aW9uICh3aXJlUm93KSB7XG4gICAgcmV0dXJuIHdpcmVSb3cucmVtb3RlTm9kZUlEID09PSByb3V0ZXJJRDtcbiAgfSkubWFwKGZ1bmN0aW9uICh3aXJlUm93KSB7XG4gICAgcmV0dXJuIG5ldyBOZXRTaW1XaXJlKHNoYXJkLCB3aXJlUm93KTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEByZXR1cm5zIHtudW1iZXJ9IHRvdGFsIG51bWJlciBvZiB3aXJlcyBjb25uZWN0ZWQgdG8gdGhpcyByb3V0ZXIuXG4gKi9cbk5ldFNpbVJvdXRlck5vZGUucHJvdG90eXBlLmNvdW50Q29ubmVjdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmdldENvbm5lY3Rpb25zKCkubGVuZ3RoO1xufTtcblxuLyoqXG4gKiBBZGQgYSByb3V0ZXIgbG9nIGVudHJ5IChub3QgZGV2ZWxvcG1lbnQgbG9nZ2luZywgdGhpcyBpcyB1c2VyLWZhY2luZyEpXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFja2V0IC0gYmluYXJ5IGxvZyBwYXlsb2FkXG4gKiBAcGFyYW0ge05ldFNpbUxvZ0VudHJ5LkxvZ1N0YXR1c30gc3RhdHVzXG4gKi9cbk5ldFNpbVJvdXRlck5vZGUucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uIChwYWNrZXQsIHN0YXR1cykge1xuICBOZXRTaW1Mb2dFbnRyeS5jcmVhdGUoXG4gICAgICB0aGlzLnNoYXJkXyxcbiAgICAgIHRoaXMuZW50aXR5SUQsXG4gICAgICBwYWNrZXQsXG4gICAgICBzdGF0dXMsXG4gICAgICBmdW5jdGlvbiAoKSB7fSk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXl9IGhheXN0YWNrXG4gKiBAcGFyYW0geyp9IG5lZWRsZVxuICogQHJldHVybnMge2Jvb2xlYW59IFRSVUUgaWYgbmVlZGxlIGZvdW5kIGluIGhheXN0YWNrXG4gKi9cbnZhciBjb250YWlucyA9IGZ1bmN0aW9uIChoYXlzdGFjaywgbmVlZGxlKSB7XG4gIHJldHVybiBoYXlzdGFjay5zb21lKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVsZW1lbnQgPT09IG5lZWRsZTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIENhbGxlZCB3aGVuIGFub3RoZXIgbm9kZSBlc3RhYmxpc2hlcyBhIGNvbm5lY3Rpb24gdG8gdGhpcyBvbmUsIGdpdmluZyB0aGlzXG4gKiBub2RlIGEgY2hhbmNlIHRvIHJlamVjdCB0aGUgY29ubmVjdGlvbi5cbiAqXG4gKiBUaGUgcm91dGVyIGNoZWNrcyBhZ2FpbnN0IGl0cyBjb25uZWN0aW9uIGxpbWl0LCBhbmQgcmVqZWN0cyB0aGUgY29ubmVjdGlvblxuICogaWYgaXRzIGxpbWl0IGlzIG5vdyBleGNlZWRlZC5cbiAqXG4gKiBAcGFyYW0geyFOZXRTaW1Ob2RlfSBvdGhlck5vZGUgYXR0ZW1wdGluZyB0byBjb25uZWN0IHRvIHRoaXMgb25lXG4gKiBAcGFyYW0geyFOb2RlU3R5bGVDYWxsYmFja30gb25Db21wbGV0ZSByZXNwb25zZSBtZXRob2QgLSBzaG91bGQgY2FsbCB3aXRoIFRSVUVcbiAqICAgICAgICBpZiBjb25uZWN0aW9uIGlzIGFsbG93ZWQsIEZBTFNFIGlmIGNvbm5lY3Rpb24gaXMgcmVqZWN0ZWQuXG4gKi9cbk5ldFNpbVJvdXRlck5vZGUucHJvdG90eXBlLmFjY2VwdENvbm5lY3Rpb24gPSBmdW5jdGlvbiAob3RoZXJOb2RlLCBvbkNvbXBsZXRlKSB7XG4gIHZhciByZWplY3Rpb25SZWFzb24gPSBudWxsO1xuXG4gIC8vIEZvcmNlIGEgcmVmcmVzaCB0byB2ZXJpZnkgdGhhdCB3ZSBoYXZlIG5vdCBleGNlZWRlZCB0aGUgY29ubmVjdGlvbiBsaW1pdC5cbiAgdGhpcy5zaGFyZF8ud2lyZVRhYmxlLnJlZnJlc2goKVxuICAgICAgLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29ubmVjdGlvbnMgPSB0aGlzLmdldENvbm5lY3Rpb25zKCk7XG5cbiAgICAgICAgLy8gQ2hlY2sgZm9yIGNvbm5lY3Rpb24gbGltaXQgZXhjZWVkZWRcbiAgICAgICAgaWYgKGNvbm5lY3Rpb25zLmxlbmd0aCA+IHRoaXMubWF4Q2xpZW50Q29ubmVjdGlvbnNfKSB7XG4gICAgICAgICAgcmVqZWN0aW9uUmVhc29uID0gbmV3IEVycm9yKFwiVG9vIG1hbnkgY29ubmVjdGlvbnMuXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGZvciBhZGRyZXNzIGNvbGxpc2lvbnNcbiAgICAgICAgdmFyIGFkZHJlc3Nlc1NvRmFyID0ge307XG4gICAgICAgIGFkZHJlc3Nlc1NvRmFyW3RoaXMuZ2V0QWRkcmVzcygpXSA9IHRydWU7XG4gICAgICAgIGFkZHJlc3Nlc1NvRmFyW3RoaXMuZ2V0QXV0b0Ruc0FkZHJlc3MoKV0gPSB0cnVlO1xuICAgICAgICB2YXIgYWRkcmVzc0NvbGxpc2lvbiA9IGNvbm5lY3Rpb25zLnNvbWUoZnVuY3Rpb24gKHdpcmUpIHtcbiAgICAgICAgICB2YXIgY29sbGlkZXMgPSBhZGRyZXNzZXNTb0Zhci5oYXNPd25Qcm9wZXJ0eSh3aXJlLmxvY2FsQWRkcmVzcyk7XG4gICAgICAgICAgYWRkcmVzc2VzU29GYXJbd2lyZS5sb2NhbEFkZHJlc3NdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gY29sbGlkZXM7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYWRkcmVzc0NvbGxpc2lvbikge1xuICAgICAgICAgIHJlamVjdGlvblJlYXNvbiA9IG5ldyBFcnJvcihcIkFkZHJlc3MgY29sbGlzaW9uIGRldGVjdGVkLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICB9LmJpbmQodGhpcykpXG4gICAgICAuZmFpbChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGxvZ2dlci5pbmZvKFwiUmVqZWN0ZWQgY29ubmVjdGlvbiBmcm9tIFwiICsgb3RoZXJOb2RlLmdldERpc3BsYXlOYW1lKCkgK1xuICAgICAgICAgICAgXCI6IFwiICsgZXJyLm1lc3NhZ2UpO1xuICAgICAgICByZWplY3Rpb25SZWFzb24gPSBlcnI7XG4gICAgICB9KVxuICAgICAgLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIG9uQ29tcGxldGUocmVqZWN0aW9uUmVhc29uLCBudWxsID09PSByZWplY3Rpb25SZWFzb24pO1xuICAgICAgfSk7XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgbGlzdCBvZiBhdmFpbGFibGUgYWRkcmVzc2VzLCB0aGVuIHBpY2sgb25lIGF0IHJhbmRvbSBhbmQgcmV0dXJuIGl0LlxuICogQHJldHVybnMge3N0cmluZ30gYSBuZXcgYXZhaWxhYmxlIGFkZHJlc3MuXG4gKi9cbk5ldFNpbVJvdXRlck5vZGUucHJvdG90eXBlLmdldFJhbmRvbUF2YWlsYWJsZUNsaWVudEFkZHJlc3MgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBhZGRyZXNzTGlzdCA9IHRoaXMuZ2V0Q29ubmVjdGlvbnMoKS5maWx0ZXIoZnVuY3Rpb24gKHdpcmUpIHtcbiAgICByZXR1cm4gd2lyZS5sb2NhbEFkZHJlc3MgIT09IHVuZGVmaW5lZDtcbiAgfSkubWFwKGZ1bmN0aW9uICh3aXJlKSB7XG4gICAgcmV0dXJuIHdpcmUubG9jYWxBZGRyZXNzO1xuICB9KTtcblxuICAvLyBHZW5lcmF0ZSBhIGxpc3Qgb2YgdW51c2VkIGFkZHJlc3NlcyBpbiB0aGUgYWRkcmVzc2FibGUgc3BhY2UgKHRvIGEgbGltaXQpXG4gIHZhciBhZGRyZXNzRm9ybWF0ID0gTmV0U2ltR2xvYmFscy5nZXRMZXZlbENvbmZpZygpLmFkZHJlc3NGb3JtYXQ7XG4gIHZhciBhZGRyZXNzUGFydFNpemVzID0gYWRkcmVzc0Zvcm1hdC5zcGxpdCgvXFxEKy8pLmZpbHRlcihmdW5jdGlvbiAocGFydCkge1xuICAgIHJldHVybiBwYXJ0Lmxlbmd0aCA+IDA7XG4gIH0pLm1hcChmdW5jdGlvbiAocGFydCkge1xuICAgIHJldHVybiBwYXJzZUludChwYXJ0LCAxMCk7XG4gIH0pLnJldmVyc2UoKTtcbiAgdmFyIG1heExvY2FsQWRkcmVzc2VzID0gTWF0aC5taW4oTWF0aC5wb3coMiwgYWRkcmVzc1BhcnRTaXplc1swXSksXG4gICAgICBBRERSRVNTX09QVElPTl9MSU1JVCk7XG5cbiAgdmFyIHBvc3NpYmxlQWRkcmVzc2VzID0gW107XG4gIHZhciBuZXh0QWRkcmVzcztcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhMb2NhbEFkZHJlc3NlczsgaSsrKSB7XG4gICAgbmV4dEFkZHJlc3MgPSB0aGlzLm1ha2VMb2NhbE5ldHdvcmtBZGRyZXNzXyhpKTtcbiAgICAvLyBWZXJpZnkgdGhhdCB0aGUgYWRkcmVzcyBpbiBxdWVzdGlvbiBpcyBub3QgdGFrZW4gYWxyZWFkeS5cbiAgICBpZiAoIShuZXh0QWRkcmVzcyA9PT0gdGhpcy5nZXRBZGRyZXNzKCkgfHxcbiAgICAgICAgbmV4dEFkZHJlc3MgPT09IHRoaXMuZ2V0QXV0b0Ruc0FkZHJlc3MoKSB8fFxuICAgICAgICBjb250YWlucyhhZGRyZXNzTGlzdCwgbmV4dEFkZHJlc3MpKSkge1xuICAgICAgcG9zc2libGVBZGRyZXNzZXMucHVzaChuZXh0QWRkcmVzcyk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHJhbmRvbUluZGV4ID0gTmV0U2ltR2xvYmFscy5yYW5kb21JbnRJblJhbmdlKDAsIHBvc3NpYmxlQWRkcmVzc2VzLmxlbmd0aCk7XG4gIHJldHVybiBwb3NzaWJsZUFkZHJlc3Nlc1tyYW5kb21JbmRleF07XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlIGFuIGFkZHJlc3MgbWF0Y2hpbmcgdGhlIGxldmVsJ3MgY29uZmlndXJlZCBhZGRyZXNzIGZvcm1hdCwgdGhhdFxuICogZmFsbHMgd2l0aGluIHRoaXMgcm91dGVyJ3MgbG9jYWwgbmV0d29yayBhbmQgZW5kcyBpbiB0aGUgZ2l2ZW4gdmFsdWUuXG4gKiBAcGFyYW0ge251bWJlcn0gbGFzdFBhcnRcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1Sb3V0ZXJOb2RlLnByb3RvdHlwZS5tYWtlTG9jYWxOZXR3b3JrQWRkcmVzc18gPSBmdW5jdGlvbiAobGFzdFBhcnQpIHtcbiAgdmFyIGFkZHJlc3NGb3JtYXQgPSBOZXRTaW1HbG9iYWxzLmdldExldmVsQ29uZmlnKCkuYWRkcmVzc0Zvcm1hdDtcbiAgdmFyIHVzZWRMYXN0UGFydCA9IGZhbHNlO1xuICB2YXIgdXNlZFJvdXRlcklEID0gZmFsc2U7XG5cbiAgcmV0dXJuIGFkZHJlc3NGb3JtYXQuc3BsaXQoLyhcXEQrKS8pLnJldmVyc2UoKS5tYXAoZnVuY3Rpb24gKHBhcnQpIHtcbiAgICB2YXIgYml0V2lkdGggPSBwYXJzZUludChwYXJ0LCAxMCk7XG4gICAgaWYgKGlzTmFOKGJpdFdpZHRoKSkge1xuICAgICAgLy8gVGhpcyBpcyBhIG5vbi1udW1iZXIgcGFydCwgcGFzcyBpdCB0aHJvdWdoIHRvIHRoZSByZXN1bHRcbiAgICAgIHJldHVybiBwYXJ0O1xuICAgIH1cblxuICAgIGlmICghdXNlZExhc3RQYXJ0KSB7XG4gICAgICB1c2VkTGFzdFBhcnQgPSB0cnVlO1xuICAgICAgcmV0dXJuIGxhc3RQYXJ0LnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgaWYgKCF1c2VkUm91dGVySUQpIHtcbiAgICAgIHVzZWRSb3V0ZXJJRCA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcy5nZXRSb3V0ZXJOdW1iZXIoKS50b1N0cmluZygpO1xuICAgIH1cblxuICAgIHJldHVybiAnMCc7XG4gIH0uYmluZCh0aGlzKSkucmV2ZXJzZSgpLmpvaW4oJycpO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7QXJyYXl9IEEgbGlzdCBvZiByZW1vdGUgbm9kZXMgY29ubmVjdGVkIHRvIHRoaXMgcm91dGVyLCBpbmNsdWRpbmdcbiAqICAgICAgICAgIHRoZWlyIGhvc3RuYW1lLCBhZGRyZXNzLCB3aGV0aGVyIHRoZXkgYXJlIHRoZSBsb2NhbCBub2RlLCBhbmRcbiAqICAgICAgICAgIHdoZXRoZXIgdGhleSBhcmUgdGhlIGN1cnJlbnQgRE5TIG5vZGUgZm9yIHRoZSBuZXR3b3JrLlxuICovXG5OZXRTaW1Sb3V0ZXJOb2RlLnByb3RvdHlwZS5nZXRBZGRyZXNzVGFibGUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBhZGRyZXNzVGFibGUgPSB0aGlzLm15V2lyZVJvd0NhY2hlXy5tYXAoZnVuY3Rpb24gKHJvdykge1xuICAgIHJldHVybiB7XG4gICAgICBob3N0bmFtZTogcm93LmxvY2FsSG9zdG5hbWUsXG4gICAgICBhZGRyZXNzOiByb3cubG9jYWxBZGRyZXNzLFxuICAgICAgaXNMb2NhbDogKHJvdy5sb2NhbE5vZGVJRCA9PT0gdGhpcy5zaW11bGF0ZUZvclNlbmRlcl8pLFxuICAgICAgaXNEbnNOb2RlOiAocm93LmxvY2FsTm9kZUlEID09PSB0aGlzLmRuc05vZGVJRClcbiAgICB9O1xuICB9LmJpbmQodGhpcykpO1xuXG4gIC8vIFNwZWNpYWwgY2FzZTogSW4gYXV0by1kbnMgbW9kZSB3ZSBhZGQgdGhlIEROUyBlbnRyeSB0byB0aGUgYWRkcmVzcyB0YWJsZVxuICBpZiAodGhpcy5kbnNNb2RlID09PSBEbnNNb2RlLkFVVE9NQVRJQykge1xuICAgIGFkZHJlc3NUYWJsZS5wdXNoKHtcbiAgICAgIGhvc3RuYW1lOiBBVVRPX0ROU19IT1NUTkFNRSxcbiAgICAgIGFkZHJlc3M6IHRoaXMuZ2V0QXV0b0Ruc0FkZHJlc3MoKSxcbiAgICAgIGlzTG9jYWw6IGZhbHNlLFxuICAgICAgaXNEbnNOb2RlOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gYWRkcmVzc1RhYmxlO1xufTtcblxuLyoqXG4gKiBHaXZlbiBhIG5vZGUgSUQsIGZpbmRzIHRoZSBsb2NhbCBuZXR3b3JrIGFkZHJlc3Mgb2YgdGhhdCBub2RlLiAgQ2Fubm90XG4gKiBiZSB1c2VkIHRvIGZpbmQgdGhlIGFkZHJlc3Mgb2YgdGhlIHJvdXRlciBvciBhdXRvLWRucyBub2RlIChzaW5jZSB0aGVpclxuICogbm9kZSBJRHMgYXJlIG5vdCB1bmlxdWUpLiAgV2lsbCByZXR1cm4gdW5kZWZpbmVkIGlmIHRoZSBub2RlIElEIGlzIG5vdFxuICogZm91bmQuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IG5vZGVJRFxuICogQHJldHVybnMge251bWJlcnx1bmRlZmluZWR9XG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1Sb3V0ZXJOb2RlLnByb3RvdHlwZS5nZXRBZGRyZXNzRm9yTm9kZUlEXyA9IGZ1bmN0aW9uIChub2RlSUQpIHtcbiAgdmFyIHdpcmVSb3cgPSBfLmZpbmQodGhpcy5teVdpcmVSb3dDYWNoZV8sIGZ1bmN0aW9uIChyb3cpIHtcbiAgICByZXR1cm4gcm93LmxvY2FsTm9kZUlEID09PSBub2RlSUQ7XG4gIH0pO1xuXG4gIGlmICh3aXJlUm93ICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gd2lyZVJvdy5sb2NhbEFkZHJlc3M7XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbi8qKlxuICogR2l2ZW4gYSBob3N0bmFtZSwgZmluZHMgdGhlIGxvY2FsIG5ldHdvcmsgYWRkcmVzcyBvZiB0aGUgbm9kZSB3aXRoIHRoYXRcbiAqIGhvc3RuYW1lLiAgV2lsbCByZXR1cm4gdW5kZWZpbmVkIGlmIG5vIG5vZGUgd2l0aCB0aGF0IGhvc3RuYW1lIGlzIGZvdW5kLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBob3N0bmFtZVxuICogQHJldHVybnMge251bWJlcnx1bmRlZmluZWR9XG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1Sb3V0ZXJOb2RlLnByb3RvdHlwZS5nZXRBZGRyZXNzRm9ySG9zdG5hbWVfID0gZnVuY3Rpb24gKGhvc3RuYW1lKSB7XG4gIGlmIChob3N0bmFtZSA9PT0gdGhpcy5nZXRIb3N0bmFtZSgpKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QWRkcmVzcygpO1xuICB9XG5cbiAgaWYgKHRoaXMuZG5zTW9kZSA9PT0gRG5zTW9kZS5BVVRPTUFUSUMgJiYgaG9zdG5hbWUgPT09IEFVVE9fRE5TX0hPU1ROQU1FKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXV0b0Ruc0FkZHJlc3MoKTtcbiAgfVxuXG4gIHZhciB3aXJlUm93ID0gXy5maW5kKHRoaXMubXlXaXJlUm93Q2FjaGVfLCBmdW5jdGlvbiAocm93KSB7XG4gICAgcmV0dXJuIHJvdy5sb2NhbEhvc3RuYW1lID09PSBob3N0bmFtZTtcbiAgfSk7XG5cbiAgaWYgKHdpcmVSb3cgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB3aXJlUm93LmxvY2FsQWRkcmVzcztcbiAgfVxuXG4gIC8vIElmIHdlIGRvbid0IGhhdmUgY29ubmVjdGVkIHJvdXRlcnMsIHRoaXMgaXMgYXMgZmFyIGFzIHRoZSBhdXRvLUROUyBjYW4gc2VlLlxuICBpZiAoIU5ldFNpbUdsb2JhbHMuZ2V0TGV2ZWxDb25maWcoKS5jb25uZWN0ZWRSb3V0ZXJzKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8vIElzIGl0IHNvbWUgbm9kZSBlbHNld2hlcmUgb24gdGhlIHNoYXJkP1xuICB2YXIgbm9kZXMgPSBOZXRTaW1Ob2RlRmFjdG9yeS5ub2Rlc0Zyb21Sb3dzKHRoaXMuc2hhcmRfLFxuICAgICAgdGhpcy5zaGFyZF8ubm9kZVRhYmxlLnJlYWRBbGwoKSk7XG4gIHZhciBub2RlID0gXy5maW5kKG5vZGVzLCBmdW5jdGlvbiAobm9kZSkge1xuICAgIHJldHVybiBub2RlLmdldEhvc3RuYW1lKCkgPT09IGhvc3RuYW1lO1xuICB9KTtcbiAgaWYgKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5nZXRBZGRyZXNzKCk7XG4gIH1cblxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuLyoqXG4gKiBHaXZlbiBhIGxvY2FsIG5ldHdvcmsgYWRkcmVzcywgZmluZHMgdGhlIG5vZGUgSUQgb2YgdGhlIG5vZGUgYXQgdGhhdFxuICogYWRkcmVzcy4gIFdpbGwgcmV0dXJuIHVuZGVmaW5lZCBpZiBubyBub2RlIGlzIGZvdW5kIGF0IHRoZSBnaXZlbiBhZGRyZXNzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBhZGRyZXNzXG4gKiBAcmV0dXJucyB7bnVtYmVyfHVuZGVmaW5lZH1cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVJvdXRlck5vZGUucHJvdG90eXBlLmdldE5vZGVJREZvckFkZHJlc3NfID0gZnVuY3Rpb24gKGFkZHJlc3MpIHtcbiAgaWYgKGFkZHJlc3MgPT09IHRoaXMuZ2V0QWRkcmVzcygpKSB7XG4gICAgcmV0dXJuIHRoaXMuZW50aXR5SUQ7XG4gIH1cblxuICBpZiAodGhpcy5kbnNNb2RlID09PSBEbnNNb2RlLkFVVE9NQVRJQyAmJlxuICAgICAgYWRkcmVzcyA9PT0gdGhpcy5nZXRBdXRvRG5zQWRkcmVzcygpKSB7XG4gICAgcmV0dXJuIHRoaXMuZW50aXR5SUQ7XG4gIH1cblxuICB2YXIgd2lyZVJvdyA9IF8uZmluZCh0aGlzLm15V2lyZVJvd0NhY2hlXywgZnVuY3Rpb24gKHJvdykge1xuICAgIHJldHVybiByb3cubG9jYWxBZGRyZXNzID09PSBhZGRyZXNzO1xuICB9KTtcblxuICBpZiAod2lyZVJvdyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHdpcmVSb3cubG9jYWxOb2RlSUQ7XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbi8qKlxuICogR2l2ZW4gYSBuZXR3b3JrIGFkZHJlc3MsIGZpbmRzIHRoZSBub2RlIHRoYXQgaXMgdGhlIG5leHQgc3RlcCBhbG9uZyB0aGVcbiAqIGNvcnJlY3QgcGF0aCBmcm9tIHRoaXMgcm91dGVyIHRvIHRoYXQgYWRkcmVzcy4gIFdpbGwgcmV0dXJuIG51bGwgaWYgbm9cbiAqIHBhdGggdG8gdGhlIGFkZHJlc3MgaXMgZm91bmQuXG4gKiBAcGFyYW0ge3N0cmluZ30gYWRkcmVzc1xuICogQHBhcmFtIHtudW1iZXJ9IGhvcHNSZW1haW5pbmdcbiAqIEBwYXJhbSB7bnVtYmVyW119IHZpc2l0ZWROb2RlSURzXG4gKiBAcmV0dXJucyB7TmV0U2ltTm9kZXxudWxsfVxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltUm91dGVyTm9kZS5wcm90b3R5cGUuZ2V0TmV4dE5vZGVUb3dhcmRBZGRyZXNzXyA9IGZ1bmN0aW9uIChhZGRyZXNzLFxuICAgIGhvcHNSZW1haW5pbmcsIHZpc2l0ZWROb2RlSURzKSB7XG4gIC8vIElzIGl0IHVzP1xuICBpZiAoYWRkcmVzcyA9PT0gdGhpcy5nZXRBZGRyZXNzKCkpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIElzIGl0IG91ciBBdXRvLUROUyBub2RlP1xuICBpZiAodGhpcy5kbnNNb2RlID09PSBEbnNNb2RlLkFVVE9NQVRJQyAmJiBhZGRyZXNzID09PSB0aGlzLmdldEF1dG9EbnNBZGRyZXNzKCkpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIElzIGl0IGEgbG9jYWwgY2xpZW50P1xuICB2YXIgbm9kZXMgPSBOZXRTaW1Ob2RlRmFjdG9yeS5ub2Rlc0Zyb21Sb3dzKHRoaXMuc2hhcmRfLFxuICAgICAgdGhpcy5zaGFyZF8ubm9kZVRhYmxlLnJlYWRBbGwoKSk7XG4gIHZhciB3aXJlUm93ID0gXy5maW5kKHRoaXMubXlXaXJlUm93Q2FjaGVfLCBmdW5jdGlvbiAocm93KSB7XG4gICAgcmV0dXJuIHJvdy5sb2NhbEFkZHJlc3MgPT09IGFkZHJlc3M7XG4gIH0pO1xuICBpZiAod2lyZVJvdyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIGxvY2FsQ2xpZW50ID0gXy5maW5kKG5vZGVzLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgcmV0dXJuIG5vZGUuZW50aXR5SUQgPT09IHdpcmVSb3cubG9jYWxOb2RlSUQ7XG4gICAgfSk7XG4gICAgaWYgKGxvY2FsQ2xpZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBsb2NhbENsaWVudDtcbiAgICB9XG4gIH1cblxuICAvLyBFbmQgb2YgbG9jYWwgc3VibmV0IGNhc2VzOlxuICAvLyBJbiBsZXZlbHMgd2hlcmUgcm91dGVycyBhcmUgbm90IGNvbm5lY3RlZCwgdGhpcyBpcyBhcyBmYXIgYXMgd2UgZ28uXG4gIHZhciBsZXZlbENvbmZpZyA9IE5ldFNpbUdsb2JhbHMuZ2V0TGV2ZWxDb25maWcoKTtcbiAgaWYgKCFsZXZlbENvbmZpZy5jb25uZWN0ZWRSb3V0ZXJzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBJcyBpdCBhbm90aGVyIG5vZGU/XG4gIHZhciBkZXN0aW5hdGlvbk5vZGUgPSBfLmZpbmQobm9kZXMsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgcmV0dXJuIGFkZHJlc3MgPT09IG5vZGUuZ2V0QWRkcmVzcygpIHx8XG4gICAgICAgIChub2RlLmRuc01vZGUgPT09IERuc01vZGUuQVVUT01BVElDICYmXG4gICAgICAgICAgbm9kZS5nZXROb2RlVHlwZSgpID09PSBOb2RlVHlwZS5ST1VURVIgJiZcbiAgICAgICAgICBhZGRyZXNzID09PSBub2RlLmdldEF1dG9EbnNBZGRyZXNzKCkpO1xuICB9KTtcblxuICAvLyBJZiB0aGUgbm9kZSB3ZSdyZSBhZnRlciBkb2Vzbid0IGV4aXN0IGFueXdoZXJlLCB3ZSBzaG91bGQgc3RvcCBub3cuXG4gIGlmICghZGVzdGluYXRpb25Ob2RlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvLyBXZSBhcmUgdHJ5aW5nIHRvIGdldCBzb21ld2hlcmUgZWxzZSEgIEZpZ3VyZSBvdXQgd2hhdCB0aGUgdGFyZ2V0IHJvdXRlclxuICAvLyBmb3Igb3VyIGRlc3RpbmF0aW9uIGlzLlxuICB2YXIgZGVzdGluYXRpb25Sb3V0ZXIgPSBudWxsO1xuICBpZiAoZGVzdGluYXRpb25Ob2RlLmdldE5vZGVUeXBlKCkgPT09IE5vZGVUeXBlLlJPVVRFUikge1xuICAgIGRlc3RpbmF0aW9uUm91dGVyID0gZGVzdGluYXRpb25Ob2RlO1xuICB9IGVsc2Uge1xuICAgIHZhciBkZXN0aW5hdGlvbldpcmUgPSBkZXN0aW5hdGlvbk5vZGUuZ2V0T3V0Z29pbmdXaXJlKCk7XG4gICAgaWYgKGRlc3RpbmF0aW9uV2lyZSkge1xuICAgICAgZGVzdGluYXRpb25Sb3V0ZXIgPSB1dGlscy52YWx1ZU9yKF8uZmluZChub2RlcywgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUuZW50aXR5SUQgPT09IGRlc3RpbmF0aW9uV2lyZS5yZW1vdGVOb2RlSUQ7XG4gICAgICB9KSwgbnVsbCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCFkZXN0aW5hdGlvblJvdXRlcikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLy8gSWYgd2UgaGF2ZSBleHRyYSBob3BzLCB3ZSBzaG91bGQgdHJ5IGFuZCBnbyB0byBhIHJvdXRlciB0aGF0IGlzIE5PVFxuICAvLyB0aGUgdGFyZ2V0IHJvdXRlci5cbiAgaWYgKGhvcHNSZW1haW5pbmcgPiAwKSB7XG4gICAgLy8gR2VuZXJhdGUgdGhlIHNldCBvZiBwb3NzaWJsZSB0YXJnZXQgcm91dGVyc1xuICAgIHZhciBwb3NzaWJsZURlc3RpbmF0aW9uUm91dGVycyA9IG5vZGVzLmZpbHRlcihmdW5jdGlvbiAobm9kZSkge1xuICAgICAgcmV0dXJuIG5vZGUuZ2V0Tm9kZVR5cGUoKSA9PT0gTm9kZVR5cGUuUk9VVEVSICYmXG4gICAgICAgICAgbm9kZS5lbnRpdHlJRCAhPT0gZGVzdGluYXRpb25Sb3V0ZXIuZW50aXR5SUQgJiZcbiAgICAgICAgICBub2RlLmVudGl0eUlEICE9PSB0aGlzLmVudGl0eUlEICYmXG4gICAgICAgICAgIXZpc2l0ZWROb2RlSURzLnNvbWUoZnVuY3Rpb24gKHZpc2l0ZWRJRCkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGUuZW50aXR5SUQgPT09IHZpc2l0ZWRJRDtcbiAgICAgICAgICB9KTtcbiAgICB9LCB0aGlzKTtcbiAgICBpZiAocG9zc2libGVEZXN0aW5hdGlvblJvdXRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIE5ldFNpbUdsb2JhbHMucmFuZG9tUGlja09uZShwb3NzaWJsZURlc3RpbmF0aW9uUm91dGVycyk7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgdGhlcmUncyBub3doZXJlIGVsc2UgdG8gZ28gb3Igd2UgYXJlIG91dCBvZiBleHRyYSBob3BzLCBnbyB0byB0aGVcbiAgLy8gdGFyZ2V0IHJvdXRlci5cbiAgcmV0dXJuIGRlc3RpbmF0aW9uUm91dGVyO1xufTtcblxuLyoqXG4gKiBXaGVuIHRoZSBub2RlIHRhYmxlIGNoYW5nZXMsIHdlIGNoZWNrIHdoZXRoZXIgb3VyIG93biByb3cgaGFzIGNoYW5nZWRcbiAqIGFuZCBwcm9wYWdhdGUgdGhvc2UgY2hhbmdlcyBhcyBhcHByb3ByaWF0ZS5cbiAqIEBwcml2YXRlXG4gKiBAdGhyb3dzXG4gKi9cbk5ldFNpbVJvdXRlck5vZGUucHJvdG90eXBlLm9uTm9kZVRhYmxlQ2hhbmdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIG15Um93ID0gXy5maW5kKHRoaXMuc2hhcmRfLm5vZGVUYWJsZS5yZWFkQWxsKCksIGZ1bmN0aW9uIChyb3cpIHtcbiAgICByZXR1cm4gcm93LmlkID09PSB0aGlzLmVudGl0eUlEO1xuICB9LmJpbmQodGhpcykpO1xuXG4gIGlmIChteVJvdyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gVGhpcyBjYW4gaGFwcGVuIG5vdywgdG8gbm9uLXByaW1hcnkgcm91dGVycywgYmVjYXVzZSBkZXRlY3Rpb25cbiAgICAvLyBvZiB0aGUgcm91dGVyJ3MgcmVtb3ZhbCAoc3RvcHBpbmcgaXRzIHNpbXVsYXRpb24pIGluIE5ldFNpbUxvY2FsQ2xpZW50Tm9kZVxuICAgIC8vIGFuZCB0aGlzIG1ldGhvZCBoYXBwZW4gaW4gYW4gdW5jZXJ0YWluIG9yZGVyLlxuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghXy5pc0VxdWFsKHRoaXMuc3RhdGVDYWNoZV8sIG15Um93KSkge1xuICAgIHRoaXMuc3RhdGVDYWNoZV8gPSBteVJvdztcbiAgICB0aGlzLm9uTXlTdGF0ZUNoYW5nZV8obXlSb3cpO1xuICB9XG59O1xuXG4vKipcbiAqIFdoZW4gdGhlIHdpcmVzIHRhYmxlIGNoYW5nZXMsIHdlIG1heSBoYXZlIGEgbmV3IGNvbm5lY3Rpb24gb3IgaGF2ZSBsb3N0XG4gKiBhIGNvbm5lY3Rpb24uICBQcm9wYWdhdGUgdXBkYXRlcyBhYm91dCBvdXIgY29ubmVjdGlvbnNcbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVJvdXRlck5vZGUucHJvdG90eXBlLm9uV2lyZVRhYmxlQ2hhbmdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIG15V2lyZVJvd3MgPSB0aGlzLnNoYXJkXy53aXJlVGFibGUucmVhZEFsbCgpLmZpbHRlcihmdW5jdGlvbiAocm93KSB7XG4gICAgcmV0dXJuIHJvdy5yZW1vdGVOb2RlSUQgPT09IHRoaXMuZW50aXR5SUQ7XG4gIH0uYmluZCh0aGlzKSk7XG5cbiAgaWYgKCFfLmlzRXF1YWwodGhpcy5teVdpcmVSb3dDYWNoZV8sIG15V2lyZVJvd3MpKSB7XG4gICAgdGhpcy5teVdpcmVSb3dDYWNoZV8gPSBteVdpcmVSb3dzO1xuICAgIHRoaXMud2lyZXNDaGFuZ2Uubm90aWZ5T2JzZXJ2ZXJzKCk7XG4gIH1cbn07XG5cbi8qKlxuICogV2hlbiB0aGUgbG9ncyB0YWJsZSBjaGFuZ2VzLCB3ZSBtYXkgaGF2ZSBhIG5ldyBjb25uZWN0aW9uIG9yIGhhdmUgbG9zdFxuICogYSBjb25uZWN0aW9uLiAgUHJvcGFnYXRlIHVwZGF0ZXMgYWJvdXQgb3VyIGNvbm5lY3Rpb25zXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1Sb3V0ZXJOb2RlLnByb3RvdHlwZS5vbkxvZ1RhYmxlQ2hhbmdlXyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIG15TG9nUm93cyA9IHRoaXMuc2hhcmRfLmxvZ1RhYmxlLnJlYWRBbGwoKS5maWx0ZXIoZnVuY3Rpb24gKHJvdykge1xuICAgIHJldHVybiByb3cubm9kZUlEID09PSB0aGlzLmVudGl0eUlEO1xuICB9LmJpbmQodGhpcykpO1xuXG4gIGlmICghXy5pc0VxdWFsKHRoaXMubXlMb2dSb3dDYWNoZV8sIG15TG9nUm93cykpIHtcbiAgICB0aGlzLm15TG9nUm93Q2FjaGVfID0gbXlMb2dSb3dzO1xuICAgIHRoaXMubG9nQ2hhbmdlLm5vdGlmeU9ic2VydmVycygpO1xuICB9XG59O1xuXG4vKipcbiAqIEdldCBsaXN0IG9mIGxvZyBlbnRyaWVzIGluIHRoaXMgcm91dGVyJ3MgbWVtb3J5LlxuICogQHJldHVybnMge05ldFNpbUxvZ0VudHJ5W119XG4gKi9cbk5ldFNpbVJvdXRlck5vZGUucHJvdG90eXBlLmdldExvZyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMubXlMb2dSb3dDYWNoZV8ubWFwKGZ1bmN0aW9uIChyb3cpIHtcbiAgICByZXR1cm4gbmV3IE5ldFNpbUxvZ0VudHJ5KHRoaXMuc2hhcmRfLCByb3csIHRoaXMucGFja2V0U3BlY18pO1xuICB9LmJpbmQodGhpcykpO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB0aGUgbnVtYmVyIG9mIHBhY2tldHMgaW4gdGhlIHJvdXRlciBxdWV1ZVxuICovXG5OZXRTaW1Sb3V0ZXJOb2RlLnByb3RvdHlwZS5nZXRRdWV1ZWRQYWNrZXRDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMucm91dGVyUXVldWVDYWNoZV8ubGVuZ3RoO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7bnVtYmVyfSByb3V0ZXIgbWVtb3J5IGN1cnJlbnRseSBpbiB1c2UsIGluIGJpdHNcbiAqL1xuTmV0U2ltUm91dGVyTm9kZS5wcm90b3R5cGUuZ2V0TWVtb3J5SW5Vc2UgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnJvdXRlclF1ZXVlQ2FjaGVfLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VyKSB7XG4gICAgcmV0dXJuIHByZXYgKyBjdXIucGF5bG9hZC5sZW5ndGg7XG4gIH0sIDApO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBleHBlY3RlZCByb3V0ZXIgZGF0YSByYXRlIChpbiBiaXRzIHBlciBzZWNvbmQpIG92ZXIgdGhlXG4gKiAgICAgICAgICBuZXh0IHNlY29uZFxuICovXG5OZXRTaW1Sb3V0ZXJOb2RlLnByb3RvdHlwZS5nZXRDdXJyZW50RGF0YVJhdGUgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIEZvciBzaW1wbGljaXR5LCB3ZSdyZSBkZWZpbmluZyB0aGUgJ2N1cmVudCBkYXRhIHJhdGUnIGFzIGhvdyBtYW55IGJpdHNcbiAgLy8gd2UgZXhwZWN0IHRvIGdldCBwcm9jZXNzZWQgaW4gdGhlIG5leHQgc2Vjb25kOyB3aGljaCBpcyBvdXIgcXVldWUgc2l6ZSxcbiAgLy8gY2FwcGVkIGF0IG91ciBiYW5kd2lkdGguXG4gIHJldHVybiBNYXRoLm1pbih0aGlzLmdldE1lbW9yeUluVXNlKCksIHRoaXMuYmFuZHdpZHRoKTtcbn07XG5cbi8qKlxuICogV2hlbiB0aGUgbWVzc2FnZSB0YWJsZSBjaGFuZ2VzLCB3ZSBtaWdodCBoYXZlIGEgbmV3IG1lc3NhZ2UgdG8gaGFuZGxlLlxuICogQ2hlY2sgZm9yIGFuZCBoYW5kbGUgdW5oYW5kbGVkIG1lc3NhZ2VzLlxuICogQHByaXZhdGVcbiAqIEB0aHJvd3MgaWYgdGhpcyBtZXRob2QgaXMgY2FsbGVkIG9uIGEgbm9uLXNpbXVsYXRpbmcgcm91dGVyLlxuICovXG5OZXRTaW1Sb3V0ZXJOb2RlLnByb3RvdHlwZS5vbk1lc3NhZ2VUYWJsZUNoYW5nZV8gPSBmdW5jdGlvbiAoKSB7XG4gIGlmICghdGhpcy5zaW11bGF0ZUZvclNlbmRlcl8pIHtcbiAgICAvLyBXaGF0PyAgT25seSBzaW11bGF0aW5nIHJvdXRlcnMgc2hvdWxkIGJlIGhvb2tlZCB1cCB0byBtZXNzYWdlIG5vdGlmaWNhdGlvbnMuXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm9uLXNpbXVsYXRpbmcgcm91dGVyIGdvdCBtZXNzYWdlIHRhYmxlIGNoYW5nZSBub3RpZmljdGlvblwiKTtcbiAgfVxuXG4gIHZhciBtZXNzYWdlcyA9IHRoaXMuc2hhcmRfLm1lc3NhZ2VUYWJsZS5yZWFkQWxsKCkubWFwKGZ1bmN0aW9uKHJvdyl7XG4gICAgcmV0dXJuIG5ldyBOZXRTaW1NZXNzYWdlKHRoaXMuc2hhcmRfLCByb3cpO1xuICB9LmJpbmQodGhpcykpO1xuXG4gIHRoaXMudXBkYXRlUm91dGVyUXVldWVfKG1lc3NhZ2VzKTtcblxuICBpZiAodGhpcy5kbnNNb2RlID09PSBEbnNNb2RlLkFVVE9NQVRJQykge1xuICAgIHRoaXMudXBkYXRlQXV0b0Ruc1F1ZXVlXyhtZXNzYWdlcyk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBVcGRhdGVzIG91ciBjYWNoZSBvZiBhbGwgbWVzc2FnZXMgdGhhdCBhcmUgZ29pbmcgdG8gdGhlIHJvdXRlciAocmVnYXJkbGVzc1xuICogb2Ygd2hpY2ggc2ltdWxhdGlvbiB3aWxsIGhhbmRsZSB0aGVtKSwgc28gd2UgY2FuIHVzZSBpdCBmb3Igc3RhdHMgYW5kIHJhdGVcbiAqIGxpbWl0aW5nLlxuICogQHBhcmFtIHtOZXRTaW1NZXNzYWdlW119IG1lc3NhZ2VzXG4gKi9cbk5ldFNpbVJvdXRlck5vZGUucHJvdG90eXBlLnVwZGF0ZVJvdXRlclF1ZXVlXyA9IGZ1bmN0aW9uIChtZXNzYWdlcykge1xuICB2YXIgbmV3UXVldWUgPSBtZXNzYWdlc1xuICAgIC5maWx0ZXIoTmV0U2ltTWVzc2FnZS5pc1ZhbGlkKVxuICAgIC5maWx0ZXIodGhpcy5pc01lc3NhZ2VUb1JvdXRlcl8uYmluZCh0aGlzKSk7XG4gIGlmIChfLmlzRXF1YWwodGhpcy5yb3V0ZXJRdWV1ZUNhY2hlXywgbmV3UXVldWUpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbG9nZ2VyLmluZm8odGhpcy5nZXREaXNwbGF5TmFtZSgpICsgJzogTWVzc2FnZSBxdWV1ZSB1cGRhdGVkIChzaXplICcgK1xuICAgICAgbmV3UXVldWUubGVuZ3RoICsgJyknKTtcblxuICB0aGlzLnJvdXRlclF1ZXVlQ2FjaGVfID0gbmV3UXVldWU7XG4gIHRoaXMucmVjYWxjdWxhdGVTY2hlZHVsZSgpO1xuICB0aGlzLmVuZm9yY2VNZW1vcnlMaW1pdF8oKTtcbiAgdGhpcy5zdGF0c0NoYW5nZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7XG59O1xuXG4vKipcbiAqIENoZWNrcyB0aGUgcm91dGVyIHF1ZXVlIGZvciBwYWNrZXRzIGJleW9uZCB0aGUgcm91dGVyJ3MgbWVtb3J5IGxpbWl0LFxuICogYW5kIGRyb3BzIHRoZSBmaXJzdCBvbmUgd2Ugc2ltdWxhdGUgbG9jYWxseS4gIFNpbmNlIHRoaXMgd2lsbCB0cmlnZ2VyXG4gKiBhIHRhYmxlIGNoYW5nZSwgdGhpcyB3aWxsIG9jY3VyIGFzeW5jLXJlY3Vyc2l2ZWx5IHVudGlsIGFsbCBwYWNrZXRzXG4gKiBvdmVyIHRoZSBtZW1vcnkgbGltaXQgYXJlIGRyb3BwZWQuXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1Sb3V0ZXJOb2RlLnByb3RvdHlwZS5lbmZvcmNlTWVtb3J5TGltaXRfID0gZnVuY3Rpb24gKCkge1xuICAvLyBPbmx5IHByb2NlZWQgaWYgYSBwYWNrZXQgd2Ugc2ltdWxhdGUgZXhpc3RzIGJleW9uZCB0aGUgbWVtb3J5IGxpbWl0XG4gIHZhciBkcm9wcGFibGVQYWNrZXQgPSB0aGlzLmZpbmRGaXJzdExvY2FsbHlTaW11bGF0ZWRQYWNrZXRPdmVyTWVtb3J5TGltaXQoKTtcbiAgaWYgKCFkcm9wcGFibGVQYWNrZXQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLnJlbW92ZU1lc3NhZ2VGcm9tU2NoZWR1bGVfKGRyb3BwYWJsZVBhY2tldCk7XG4gIGRyb3BwYWJsZVBhY2tldC5kZXN0cm95KGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICAvLyBSYXJlbHksIHRoaXMgY291bGQgZmlyZSB0d2ljZSBmb3Igb25lIHBhY2tldCBhbmQgaGF2ZSBvbmUgZHJvcCBmYWlsLlxuICAgICAgLy8gVGhhdCdzIGZpbmU7IGp1c3QgZG9uJ3QgbG9nIGlmIHdlIGRpZG4ndCBzdWNjZXNzZnVsbHkgZHJvcC5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmxvZyhkcm9wcGFibGVQYWNrZXQucGF5bG9hZCwgTmV0U2ltTG9nRW50cnkuTG9nU3RhdHVzLkRST1BQRUQpO1xuICB9LmJpbmQodGhpcykpO1xufTtcblxuLyoqXG4gKiBXYWxrIHRoZSByb3V0ZXIgcXVldWUsIGFuZCByZXR1cm4gdGhlIGZpcnN0IHBhY2tldCB3ZSBmaW5kIGJleW9uZCB0aGUgcm91dGVyJ3NcbiAqIG1lbW9yeSBjYXBhY2l0eSB0aGF0IHRoZSBsb2NhbCBzaW11bGF0aW9uIGNvbnRyb2xzIGFuZCBpcyBhYmxlIHRvIGRyb3AuXG4gKiBAcmV0dXJucyB7TmV0U2ltTWVzc2FnZXxudWxsfSBudWxsIGlmIG5vIHN1Y2ggbWVzc2FnZSBpcyBmb3VuZC5cbiAqL1xuTmV0U2ltUm91dGVyTm9kZS5wcm90b3R5cGUuZmluZEZpcnN0TG9jYWxseVNpbXVsYXRlZFBhY2tldE92ZXJNZW1vcnlMaW1pdCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHBhY2tldDtcbiAgdmFyIHVzZWRNZW1vcnkgPSAwO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucm91dGVyUXVldWVDYWNoZV8ubGVuZ3RoOyBpKyspIHtcbiAgICBwYWNrZXQgPSB0aGlzLnJvdXRlclF1ZXVlQ2FjaGVfW2ldO1xuICAgIHVzZWRNZW1vcnkgKz0gcGFja2V0LnBheWxvYWQubGVuZ3RoO1xuICAgIGlmICh1c2VkTWVtb3J5ID4gdGhpcy5tZW1vcnkgJiYgdGhpcy5sb2NhbFNpbXVsYXRpb25Pd25zTWVzc2FnZV8ocGFja2V0KSkge1xuICAgICAgcmV0dXJuIHBhY2tldDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7TmV0U2ltTWVzc2FnZX0gbWVzc2FnZVxuICogQHJldHVybnMge2Jvb2xlYW59IFRSVUUgaWYgdGhpcyBtZXNzYWdlIGlzIGRlc3RpbmVkIGZvciB0aGUgcm91dGVyIChub3QgdGhlXG4gKiAgICAgICAgICBhdXRvLUROUyBwYXJ0IHRob3VnaCEpIGFuZCBGQUxTRSBpZiBkZXN0aW5lZCBhbnl3aGVyZSBlbHNlLlxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltUm91dGVyTm9kZS5wcm90b3R5cGUuaXNNZXNzYWdlVG9Sb3V0ZXJfID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgaWYgKHRoaXMuZG5zTW9kZSA9PT0gRG5zTW9kZS5BVVRPTUFUSUMgJiYgdGhpcy5pc01lc3NhZ2VUb0F1dG9EbnNfKG1lc3NhZ2UpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIG1lc3NhZ2UudG9Ob2RlSUQgPT09IHRoaXMuZW50aXR5SUQ7XG59O1xuXG5OZXRTaW1Sb3V0ZXJOb2RlLnByb3RvdHlwZS5yb3V0ZU1lc3NhZ2VzXyA9IGZ1bmN0aW9uIChtZXNzYWdlcywgb25Db21wbGV0ZSkge1xuICBpZiAobWVzc2FnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgb25Db21wbGV0ZShudWxsKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLnJvdXRlTWVzc2FnZV8obWVzc2FnZXNbMF0sIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIG9uQ29tcGxldGUoZXJyLCByZXN1bHQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMucm91dGVNZXNzYWdlc18obWVzc2FnZXMuc2xpY2UoMSksIG9uQ29tcGxldGUpO1xuICB9LmJpbmQodGhpcykpO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtOZXRTaW1NZXNzYWdlfSBtZXNzYWdlXG4gKiBAcGFyYW0geyFOb2RlU3R5bGVDYWxsYmFja30gb25Db21wbGV0ZVxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltUm91dGVyTm9kZS5wcm90b3R5cGUucm91dGVNZXNzYWdlXyA9IGZ1bmN0aW9uIChtZXNzYWdlLCBvbkNvbXBsZXRlKSB7XG4gIG1lc3NhZ2UuZGVzdHJveShmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBvbkNvbXBsZXRlKGVyciwgcmVzdWx0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBBcHBseSByYW5kb20gY2hhbmNlIHRvIGRyb3AgcGFja2V0LCByaWdodCBhcyB3ZSBhcmUgYWJvdXQgdG8gZm9yd2FyZCBpdFxuICAgIGlmICh0aGlzLnJhbmRvbURyb3BDaGFuY2UgPiAwICYmIE5ldFNpbUdsb2JhbHMucmFuZG9tKCkgPD0gdGhpcy5yYW5kb21Ecm9wQ2hhbmNlKSB7XG4gICAgICB0aGlzLmxvZyhtZXNzYWdlLnBheWxvYWQsIE5ldFNpbUxvZ0VudHJ5LkxvZ1N0YXR1cy5EUk9QUEVEKTtcbiAgICAgIG9uQ29tcGxldGUobnVsbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGxldmVsQ29uZmlnID0gTmV0U2ltR2xvYmFscy5nZXRMZXZlbENvbmZpZygpO1xuICAgIGlmIChsZXZlbENvbmZpZy5icm9hZGNhc3RNb2RlKSB7XG4gICAgICB0aGlzLmZvcndhcmRNZXNzYWdlVG9BbGxfKG1lc3NhZ2UsIG9uQ29tcGxldGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmZvcndhcmRNZXNzYWdlVG9SZWNpcGllbnRfKG1lc3NhZ2UsIG9uQ29tcGxldGUpO1xuICAgIH1cbiAgfS5iaW5kKHRoaXMpKTtcbn07XG5cbi8qKlxuICogRm9yd2FyZCB0aGUgZ2l2ZW4gbWVzc2FnZSB0byBhbGwgbm9kZXMgdGhhdCBhcmUgY29ubmVjdGVkIHRvIHRoaXMgcm91dGVyLlxuICogVGhpcyBpcyBlZmZlY3RpdmVseSBcImh1YlwiIG9wZXJhdGlvbi5cbiAqIEBwYXJhbSB7TmV0U2ltTWVzc2FnZX0gbWVzc2FnZVxuICogQHBhcmFtIHshTm9kZVN0eWxlQ2FsbGJhY2t9IG9uQ29tcGxldGVcbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVJvdXRlck5vZGUucHJvdG90eXBlLmZvcndhcmRNZXNzYWdlVG9BbGxfID0gZnVuY3Rpb24gKG1lc3NhZ2UsIG9uQ29tcGxldGUpIHtcbiAgLy8gQXNzdW1wdGlvbnMgZm9yIGJyb2FkY2FzdCBtb2RlOlxuICAvLyAxLiBXZSBjYW4gdG90YWxseSBpZ25vcmUgcGFja2V0IGhlYWRlcnMsIGJlY2F1c2UgYWRkcmVzc2VzIGRvbid0IG1hdHRlclxuICAvLyAyLiBXZSB3b24ndCBzZW5kIHRvIHRoZSBBdXRvLUROUywgc2luY2UgRE5TIG1ha2Ugbm8gc2Vuc2Ugd2l0aCBubyBhZGRyZXNzZXNcblxuICAvLyBHcmFiIHRoZSBsaXN0IG9mIGFsbCBjb25uZWN0ZWQgbm9kZXNcbiAgdmFyIGNvbm5lY3RlZE5vZGVJRHMgPSB0aGlzLm15V2lyZVJvd0NhY2hlXy5tYXAoZnVuY3Rpb24gKHdpcmVSb3cpIHtcbiAgICByZXR1cm4gd2lyZVJvdy5sb2NhbE5vZGVJRDtcbiAgfSk7XG5cbiAgdGhpcy5mb3J3YXJkTWVzc2FnZVRvTm9kZUlEc18obWVzc2FnZSwgY29ubmVjdGVkTm9kZUlEcywgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgaWYgKGVycikge1xuICAgICAgdGhpcy5sb2cobWVzc2FnZS5wYXlsb2FkLCBOZXRTaW1Mb2dFbnRyeS5Mb2dTdGF0dXMuRFJPUFBFRCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubG9nKG1lc3NhZ2UucGF5bG9hZCwgTmV0U2ltTG9nRW50cnkuTG9nU3RhdHVzLlNVQ0NFU1MpO1xuICAgIH1cbiAgICBvbkNvbXBsZXRlKGVyciwgcmVzdWx0KTtcbiAgfS5iaW5kKHRoaXMpKTtcbn07XG5cbi8qKlxuICogRm9yd2FyZCB0aGUgZ2l2ZW4gbWVzc2FnZSB0byB0aGUgbGlzdCBvZiBub2RlIElEcyBwcm92aWRlZC5cbiAqIFRoaXMgZnVuY3Rpb24gd29ya3MgYnkgY2FsbGluZyBpdHNlbGYgcmVjdXJzaXZlbHkgd2l0aCB0aGUgdGFpbCBvZiB0aGVcbiAqIG5vZGUgSUQgbGlzdCBlYWNoIHRpbWUgaXQgZmluaXNoZXMgc2VuZGluZyBvbmUgb2YgdGhlIG1lc3NhZ2VzLCBzb1xuICogdGltaW5nIG9uIHRoaXMgXCJicm9hZGNhc3RcIiB3b24ndCBiZSBleGFjdGx5IGNvcnJlY3QgLSB0aGF0J3MgcHJvYmFibHkgb2theVxuICogdGhvdWdoLCBlc3BlY2lhbGx5IGF0IHRoZSBwb2ludCBpbiB0aGUgY3VycmljdWx1bSB3aGVyZSB0aGlzIGlzIHVzZWQuXG4gKiBAcGFyYW0ge05ldFNpbU1lc3NhZ2V9IG1lc3NhZ2VcbiAqIEBwYXJhbSB7bnVtYmVyW119IG5vZGVJRHNcbiAqIEBwYXJhbSB7IU5vZGVTdHlsZUNhbGxiYWNrfSBvbkNvbXBsZXRlXG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1Sb3V0ZXJOb2RlLnByb3RvdHlwZS5mb3J3YXJkTWVzc2FnZVRvTm9kZUlEc18gPSBmdW5jdGlvbiAobWVzc2FnZSxcbiAgICBub2RlSURzLCBvbkNvbXBsZXRlKSB7XG5cbiAgdmFyIG1lc3NhZ2VzID0gbm9kZUlEcy5tYXAoZnVuY3Rpb24obm9kZUlEKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZnJvbU5vZGVJRDogdGhpcy5lbnRpdHlJRCxcbiAgICAgICAgdG9Ob2RlSUQ6IG5vZGVJRCxcbiAgICAgICAgc2ltdWxhdGVkQnk6IG5vZGVJRCxcbiAgICAgICAgcGF5bG9hZDogbWVzc2FnZS5wYXlsb2FkXG4gICAgICB9O1xuICB9LCB0aGlzKTtcblxuICBOZXRTaW1NZXNzYWdlLnNlbmRNYW55KHRoaXMuc2hhcmRfLCBtZXNzYWdlcywgb25Db21wbGV0ZSk7XG59O1xuXG4vKipcbiAqIFJlYWQgdGhlIGdpdmVuIG1lc3NhZ2UgdG8gZmluZCBpdHMgZGVzdGluYXRpb24gYWRkcmVzcywgdHJ5IGFuZCBtYXAgdGhhdFxuICogYWRkcmVzcyB0byBvbmUgb2Ygb3VyIGNvbm5lY3Rpb25zLCBhbmQgc2VuZCB0aGUgbWVzc2FnZSBwYXlsb2FkIHRvXG4gKiB0aGUgbmV3IGFkZHJlc3MuXG4gKlxuICogQHBhcmFtIHtOZXRTaW1NZXNzYWdlfSBtZXNzYWdlXG4gKiBAcGFyYW0geyFOb2RlU3R5bGVDYWxsYmFja30gb25Db21wbGV0ZVxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltUm91dGVyTm9kZS5wcm90b3R5cGUuZm9yd2FyZE1lc3NhZ2VUb1JlY2lwaWVudF8gPSBmdW5jdGlvbiAobWVzc2FnZSwgb25Db21wbGV0ZSkge1xuICB2YXIgdG9BZGRyZXNzO1xuICB2YXIgcm91dGVyTm9kZUlEID0gdGhpcy5lbnRpdHlJRDtcblxuICAvLyBGaW5kIGEgY29ubmVjdGlvbiB0byByb3V0ZSB0aGlzIG1lc3NhZ2UgdG8uXG4gIHRyeSB7XG4gICAgdmFyIHBhY2tldCA9IG5ldyBQYWNrZXQodGhpcy5wYWNrZXRTcGVjXywgbWVzc2FnZS5wYXlsb2FkKTtcbiAgICB0b0FkZHJlc3MgPSBwYWNrZXQuZ2V0SGVhZGVyQXNBZGRyZXNzU3RyaW5nKFBhY2tldC5IZWFkZXJUeXBlLlRPX0FERFJFU1MpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci53YXJuKFwiUGFja2V0IG5vdCByZWFkYWJsZSBieSByb3V0ZXJcIik7XG4gICAgdGhpcy5sb2cobWVzc2FnZS5wYXlsb2FkLCBOZXRTaW1Mb2dFbnRyeS5Mb2dTdGF0dXMuRFJPUFBFRCk7XG4gICAgb25Db21wbGV0ZShudWxsKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZGVzdGluYXRpb25Ob2RlID0gdGhpcy5nZXROZXh0Tm9kZVRvd2FyZEFkZHJlc3NfKHRvQWRkcmVzcyxcbiAgICAgIG1lc3NhZ2UuZXh0cmFIb3BzUmVtYWluaW5nLCBtZXNzYWdlLnZpc2l0ZWROb2RlSURzKTtcbiAgaWYgKGRlc3RpbmF0aW9uTm9kZSA9PT0gbnVsbCkge1xuICAgIC8vIENhbid0IGZpbmQgb3IgcmVhY2ggdGhlIGFkZHJlc3Mgd2l0aGluIHRoZSBzaW11bGF0aW9uXG4gICAgbG9nZ2VyLndhcm4oXCJEZXN0aW5hdGlvbiBhZGRyZXNzIG5vdCByZWFjaGFibGVcIik7XG4gICAgdGhpcy5sb2cobWVzc2FnZS5wYXlsb2FkLCBOZXRTaW1Mb2dFbnRyeS5Mb2dTdGF0dXMuRFJPUFBFRCk7XG4gICAgb25Db21wbGV0ZShudWxsKTtcbiAgICByZXR1cm47XG4gIH0gZWxzZSBpZiAoZGVzdGluYXRpb25Ob2RlID09PSB0aGlzICYmIHRvQWRkcmVzcyA9PT0gdGhpcy5nZXRBZGRyZXNzKCkpIHtcbiAgICAvLyBUaGlzIHJvdXRlciBJUyB0aGUgcGFja2V0J3MgZGVzdGluYXRpb24sIGl0J3MgZG9uZS5cbiAgICBsb2dnZXIud2FybihcIlBhY2tldCBzdG9wcGVkIGF0IHJvdXRlci5cIik7XG4gICAgdGhpcy5sb2cobWVzc2FnZS5wYXlsb2FkLCBOZXRTaW1Mb2dFbnRyeS5Mb2dTdGF0dXMuU1VDQ0VTUyk7XG4gICAgb25Db21wbGV0ZShudWxsKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBUT0RPOiBIYW5kbGUgYmFkIHN0YXRlIHdoZXJlIG1vcmUgdGhhbiBvbmUgd2lyZSBtYXRjaGVzIGRlc3QgYWRkcmVzcz9cblxuICAvLyBUaGUgc2VuZGVyIHNpbXVsYXRlcyBhIG1lc3NhZ2UgdW50aWwgaXQgcmVhY2hlcyB0aGUgZmluYWwgbGVnIG9mIGl0cyB0cmlwLFxuICAvLyB3aGVuIGl0J3MgZ29pbmcgdG8gYSBjbGllbnQgbm9kZS4gIEF0IHRoYXQgcG9pbnQsIHRoZSByZWNpcGllbnQgdGFrZXMgb3Zlci5cbiAgdmFyIHNpbXVsYXRpbmdOb2RlSUQgPSBtZXNzYWdlLnNpbXVsYXRlZEJ5O1xuICBpZiAoZGVzdGluYXRpb25Ob2RlLmdldE5vZGVUeXBlKCkgPT09IE5vZGVUeXBlLkNMSUVOVCkge1xuICAgIHNpbXVsYXRpbmdOb2RlSUQgPSBkZXN0aW5hdGlvbk5vZGUuZW50aXR5SUQ7XG4gIH1cblxuICAvLyBDcmVhdGUgYSBuZXcgbWVzc2FnZSB3aXRoIGEgbmV3IHBheWxvYWQuXG4gIE5ldFNpbU1lc3NhZ2Uuc2VuZChcbiAgICAgIHRoaXMuc2hhcmRfLFxuICAgICAge1xuICAgICAgICBmcm9tTm9kZUlEOiByb3V0ZXJOb2RlSUQsXG4gICAgICAgIHRvTm9kZUlEOiBkZXN0aW5hdGlvbk5vZGUuZW50aXR5SUQsXG4gICAgICAgIHNpbXVsYXRlZEJ5OiBzaW11bGF0aW5nTm9kZUlELFxuICAgICAgICBwYXlsb2FkOiBtZXNzYWdlLnBheWxvYWQsXG4gICAgICAgIGV4dHJhSG9wc1JlbWFpbmluZzogTWF0aC5tYXgoMCwgbWVzc2FnZS5leHRyYUhvcHNSZW1haW5pbmcgLSAxKSxcbiAgICAgICAgdmlzaXRlZE5vZGVJRHM6IG1lc3NhZ2UudmlzaXRlZE5vZGVJRHMuY29uY2F0KHRoaXMuZW50aXR5SUQpXG4gICAgICB9LFxuICAgICAgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgICAgIHRoaXMubG9nKG1lc3NhZ2UucGF5bG9hZCwgTmV0U2ltTG9nRW50cnkuTG9nU3RhdHVzLlNVQ0NFU1MpO1xuICAgICAgICBvbkNvbXBsZXRlKGVyciwgcmVzdWx0KTtcbiAgICAgIH0uYmluZCh0aGlzKVxuICApO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge05ldFNpbU1lc3NhZ2V9IG1lc3NhZ2VcbiAqIEByZXR1cm5zIHtib29sZWFufSBUUlVFIGlmIHRoZSBnaXZlbiBtZXNzYWdlIHNob3VsZCBiZSBvcGVyYXRlZCBvbiBieSB0aGUgbG9jYWxcbiAqICAgICAgICAgIHNpbXVsYXRpb24sIEZBTFNFIGlmIGFub3RoZXIgdXNlcidzIHNpbXVsYXRpb24gc2hvdWxkIGhhbmRsZSBpdC5cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVJvdXRlck5vZGUucHJvdG90eXBlLmxvY2FsU2ltdWxhdGlvbk93bnNNZXNzYWdlXyA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gIHJldHVybiB0aGlzLnNpbXVsYXRlRm9yU2VuZGVyXyAmJlxuICAgICAgbWVzc2FnZS5zaW11bGF0ZWRCeSA9PT0gdGhpcy5zaW11bGF0ZUZvclNlbmRlcl87XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7TmV0U2ltTWVzc2FnZX0gbWVzc2FnZVxuICogQHJldHVybnMge251bWJlcn0gdGltZSByZXF1aXJlZCB0byBwcm9jZXNzIHRoaXMgbWVzc2FnZSwgaW4gbWlsbGlzZWNvbmRzLlxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltUm91dGVyTm9kZS5wcm90b3R5cGUuY2FsY3VsYXRlUHJvY2Vzc2luZ0R1cmF0aW9uRm9yTWVzc2FnZV8gPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICBpZiAodGhpcy5iYW5kd2lkdGggPT09IEluZmluaXR5KSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgcmV0dXJuIG1lc3NhZ2UucGF5bG9hZC5sZW5ndGggKiAxMDAwIC8gdGhpcy5iYW5kd2lkdGg7XG59O1xuXG4vKipcbiAqIFVwZGF0ZSBxdWV1ZSBvZiBhbGwgYXV0by1kbnMgbWVzc2FnZXMsIHdoaWNoIGNhbiBiZSB1c2VkIGZvciBzdGF0cyBvciBsaW1pdGluZy5cbiAqIEBwYXJhbSB7TmV0U2ltTWVzc2FnZVtdfSBtZXNzYWdlc1xuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltUm91dGVyTm9kZS5wcm90b3R5cGUudXBkYXRlQXV0b0Ruc1F1ZXVlXyA9IGZ1bmN0aW9uIChtZXNzYWdlcykge1xuICB2YXIgbmV3UXVldWUgPSBtZXNzYWdlcy5maWx0ZXIodGhpcy5pc01lc3NhZ2VUb0F1dG9EbnNfLmJpbmQodGhpcykpO1xuICBpZiAoXy5pc0VxdWFsKHRoaXMuYXV0b0Ruc1F1ZXVlXywgbmV3UXVldWUpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5hdXRvRG5zUXVldWVfID0gbmV3UXVldWU7XG4gIC8vIFByb3BhZ2F0ZSBub3RpZmljYXRpb24gb2YgcXVldWUgY2hhbmdlP1xuICAvLyBXb3JrIHdpbGwgcHJvY2VlZCBvbiBuZXh0IHRpY2tcbn07XG5cbi8qKlxuICogQHBhcmFtIHtOZXRTaW1NZXNzYWdlfSBtZXNzYWdlXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5OZXRTaW1Sb3V0ZXJOb2RlLnByb3RvdHlwZS5pc01lc3NhZ2VUb0F1dG9EbnNfID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgdmFyIHBhY2tldCwgdG9BZGRyZXNzO1xuICB0cnkge1xuICAgIHBhY2tldCA9IG5ldyBQYWNrZXQodGhpcy5wYWNrZXRTcGVjXywgbWVzc2FnZS5wYXlsb2FkKTtcbiAgICB0b0FkZHJlc3MgPSBwYWNrZXQuZ2V0SGVhZGVyQXNBZGRyZXNzU3RyaW5nKFBhY2tldC5IZWFkZXJUeXBlLlRPX0FERFJFU1MpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGxvZ2dlci53YXJuKFwiUGFja2V0IG5vdCByZWFkYWJsZSBieSBhdXRvLUROUzogXCIgKyBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gTWVzc2FnZXMgdG8gdGhlIGF1dG8tZG5zIGFyZSBib3RoIHRvIGFuZCBmcm9tIHRoZSByb3V0ZXIgbm9kZSwgYW5kXG4gIC8vIGFkZHJlc3NlZCB0byB0aGUgRE5TLlxuICByZXR1cm4gbWVzc2FnZS50b05vZGVJRCA9PT0gdGhpcy5lbnRpdHlJRCAmJlxuICAgICAgbWVzc2FnZS5mcm9tTm9kZUlEID09PSB0aGlzLmVudGl0eUlEICYmXG4gICAgICB0b0FkZHJlc3MgPT09IHRoaXMuZ2V0QXV0b0Ruc0FkZHJlc3MoKTtcbn07XG5cbi8qKlxuICogQmF0Y2gtcHJvY2VzcyBETlMgcmVxdWVzdHMsIGdlbmVyYXRpbmcgcmVzcG9uc2VzIHdoZXJldmVyIHBvc3NpYmxlLlxuICogQHBhcmFtIHtOZXRTaW1NZXNzYWdlW119IG1lc3NhZ2VzXG4gKiBAcGFyYW0geyFOb2RlU3R5bGVDYWxsYmFja30gb25Db21wbGV0ZVxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltUm91dGVyTm9kZS5wcm90b3R5cGUucHJvY2Vzc0F1dG9EbnNSZXF1ZXN0c18gPSBmdW5jdGlvbiAobWVzc2FnZXMsIG9uQ29tcGxldGUpIHtcbiAgLy8gMS4gUmVtb3ZlIHRoZSByZXF1ZXN0cyBmcm9tIHRoZSB3aXJlXG4gIE5ldFNpbUVudGl0eS5kZXN0cm95RW50aXRpZXMobWVzc2FnZXMsIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIG9uQ29tcGxldGUoZXJyLCByZXN1bHQpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIDIuIEdlbmVyYXRlIGFsbCByZXNwb25zZXMsIGFzeW5jaHJvbm91c2x5LlxuICAgIHRoaXMuZ2VuZXJhdGVEbnNSZXNwb25zZXNfKG1lc3NhZ2VzLCBvbkNvbXBsZXRlKTtcbiAgfS5iaW5kKHRoaXMpKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtOZXRTaW1NZXNzYWdlW119IG1lc3NhZ2VzXG4gKiBAcGFyYW0geyFOb2RlU3R5bGVDYWxsYmFja30gb25Db21wbGV0ZVxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltUm91dGVyTm9kZS5wcm90b3R5cGUuZ2VuZXJhdGVEbnNSZXNwb25zZXNfID0gZnVuY3Rpb24gKG1lc3NhZ2VzLCBvbkNvbXBsZXRlKSB7XG4gIGlmIChtZXNzYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICBvbkNvbXBsZXRlKG51bGwpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFByb2Nlc3MgaGVhZFxuICB0aGlzLmdlbmVyYXRlRG5zUmVzcG9uc2VfKG1lc3NhZ2VzWzBdLCBmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBvbkNvbXBsZXRlKGVyciwgcmVzdWx0KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBQcm9jZXNzIHRhaWxcbiAgICB0aGlzLmdlbmVyYXRlRG5zUmVzcG9uc2VzXyhtZXNzYWdlcy5zbGljZSgxKSwgb25Db21wbGV0ZSk7XG4gIH0uYmluZCh0aGlzKSk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7TmV0U2ltTWVzc2FnZX0gbWVzc2FnZVxuICogQHBhcmFtIHshTm9kZVN0eWxlQ2FsbGJhY2t9IG9uQ29tcGxldGVcbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVJvdXRlck5vZGUucHJvdG90eXBlLmdlbmVyYXRlRG5zUmVzcG9uc2VfID0gZnVuY3Rpb24gKG1lc3NhZ2UsIG9uQ29tcGxldGUpIHtcbiAgdmFyIHBhY2tldCwgZnJvbUFkZHJlc3MsIHF1ZXJ5LCByZXNwb25zZUhlYWRlcnMsIHJlc3BvbnNlQm9keSwgcmVzcG9uc2VCaW5hcnk7XG4gIHZhciByb3V0ZXJOb2RlSUQgPSB0aGlzLmVudGl0eUlEO1xuICB2YXIgYXV0b0Ruc05vZGVJRCA9IHRoaXMuZW50aXR5SUQ7XG5cbiAgLy8gRXh0cmFjdCBtZXNzYWdlIGNvbnRlbnRzXG4gIHRyeSB7XG4gICAgcGFja2V0ID0gbmV3IFBhY2tldCh0aGlzLnBhY2tldFNwZWNfLCBtZXNzYWdlLnBheWxvYWQpO1xuICAgIGZyb21BZGRyZXNzID0gcGFja2V0LmdldEhlYWRlckFzQWRkcmVzc1N0cmluZyhQYWNrZXQuSGVhZGVyVHlwZS5GUk9NX0FERFJFU1MpO1xuICAgIHF1ZXJ5ID0gcGFja2V0LmdldEJvZHlBc0FzY2lpKEJJVFNfUEVSX0JZVEUpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vIE1hbGZvcm1lZCBwYWNrZXQsIGlnbm9yZVxuICAgIG9uQ29tcGxldGUoZXJyb3IpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIENoZWNrIHRoYXQgdGhlIHF1ZXJ5IGlzIHdlbGwtZm9ybWVkXG4gIC8vIFJlZ2V4IG1hdGNoIFwiR0VUIFtob3N0bmFtZXMuLi5dXCJcbiAgLy8gVGhlbiBiZWxvdywgd2UnbGwgc3BsaXQgdGhlIGhvc3RuYW1lcyBvbiB3aGl0ZXNwYWNlIHRvIHByb2Nlc3MgdGhlbS5cbiAgdmFyIHJlcXVlc3RNYXRjaCA9IHF1ZXJ5Lm1hdGNoKC9HRVRcXHMrKFxcUy4qKS8pO1xuICBpZiAocmVxdWVzdE1hdGNoICE9PSBudWxsKSB7XG4gICAgLy8gR29vZCByZXF1ZXN0LCBsb29rIHVwIGFsbCBhZGRyZXNzZXMgYW5kIGJ1aWxkIHVwIHJlc3BvbnNlXG4gICAgLy8gU2tpcHBpbmcgZmlyc3QgbWF0Y2gsIHdoaWNoIGlzIHRoZSBmdWxsIHJlZ2V4XG4gICAgdmFyIHJlc3BvbnNlcyA9IHJlcXVlc3RNYXRjaFsxXS5zcGxpdCgvXFxzKy8pLm1hcChmdW5jdGlvbiAocXVlcnlIb3N0bmFtZSkge1xuICAgICAgdmFyIGFkZHJlc3MgPSB0aGlzLmdldEFkZHJlc3NGb3JIb3N0bmFtZV8ocXVlcnlIb3N0bmFtZSk7XG4gICAgICByZXR1cm4gcXVlcnlIb3N0bmFtZSArICc6JyArIHV0aWxzLnZhbHVlT3IoYWRkcmVzcywgQVVUT19ETlNfTk9UX0ZPVU5EKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICAgIHJlc3BvbnNlQm9keSA9IHJlc3BvbnNlcy5qb2luKCcgJyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gTWFsZm9ybWVkIHJlcXVlc3QsIHNlbmQgYmFjayBpbnN0cnVjdGlvbnNcbiAgICByZXNwb25zZUJvZHkgPSBpMThuLmF1dG9EbnNVc2FnZU1lc3NhZ2UoKTtcbiAgfVxuXG4gIHJlc3BvbnNlSGVhZGVycyA9IHtcbiAgICBmcm9tQWRkcmVzczp0aGlzLmdldEF1dG9EbnNBZGRyZXNzKCksXG4gICAgdG9BZGRyZXNzOiBmcm9tQWRkcmVzcyxcbiAgICBwYWNrZXRJbmRleDogMSxcbiAgICBwYWNrZXRDb3VudDogMVxuICB9O1xuXG4gIHJlc3BvbnNlQmluYXJ5ID0gcGFja2V0LmVuY29kZXIuY29uY2F0ZW5hdGVCaW5hcnkoXG4gICAgICBwYWNrZXQuZW5jb2Rlci5tYWtlQmluYXJ5SGVhZGVycyhyZXNwb25zZUhlYWRlcnMpLFxuICAgICAgYXNjaWlUb0JpbmFyeShyZXNwb25zZUJvZHksIEJJVFNfUEVSX0JZVEUpKTtcblxuICBOZXRTaW1NZXNzYWdlLnNlbmQoXG4gICAgICB0aGlzLnNoYXJkXyxcbiAgICAgIHtcbiAgICAgICAgZnJvbU5vZGVJRDogYXV0b0Ruc05vZGVJRCxcbiAgICAgICAgdG9Ob2RlSUQ6IHJvdXRlck5vZGVJRCxcbiAgICAgICAgc2ltdWxhdGVkQnk6IG1lc3NhZ2Uuc2ltdWxhdGVkQnksXG4gICAgICAgIHBheWxvYWQ6IHJlc3BvbnNlQmluYXJ5XG4gICAgICB9LFxuICAgICAgb25Db21wbGV0ZSk7XG59O1xuIiwiLyoqXG4gKiBAb3ZlcnZpZXcgU2ltdWxhdGlvbiBlbnRpdHkgZm9yIGEgbWVzc2FnZSBiZXR3ZWVuIHR3byBub2Rlcy5cbiAqL1xuLy8gU3RyaWN0IGxpbnRpbmc6IEFic29yYiBpbnRvIGdsb2JhbCBjb25maWcgd2hlbiBwb3NzaWJsZVxuLyoganNoaW50XG4gdW51c2VkOiB0cnVlLFxuIGVxZXFlcTogdHJ1ZSxcbiBtYXhsZW46IDEyMFxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG52YXIgTmV0U2ltRW50aXR5ID0gcmVxdWlyZSgnLi9OZXRTaW1FbnRpdHknKTtcbnZhciBEYXRhQ29udmVydGVycyA9IHJlcXVpcmUoJy4vRGF0YUNvbnZlcnRlcnMnKTtcbnZhciBiYXNlNjRUb0JpbmFyeSA9IERhdGFDb252ZXJ0ZXJzLmJhc2U2NFRvQmluYXJ5O1xudmFyIGJpbmFyeVRvQmFzZTY0ID0gRGF0YUNvbnZlcnRlcnMuYmluYXJ5VG9CYXNlNjQ7XG52YXIgTmV0U2ltTG9nZ2VyID0gcmVxdWlyZSgnLi9OZXRTaW1Mb2dnZXInKTtcblxudmFyIGxvZ2dlciA9IE5ldFNpbUxvZ2dlci5nZXRTaW5nbGV0b24oKTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBNZXNzYWdlRGF0YVxuICogQHByb3BlcnR5IHshbnVtYmVyfSBmcm9tTm9kZUlEIC0gc2VuZGVyIG5vZGUgSURcbiAqIEBwcm9wZXJ0eSB7IW51bWJlcn0gdG9Ob2RlSUQgLSBkZXN0aW5hdGlvbiBub2RlIElEXG4gKiBAcHJvcGVydHkgeyFudW1iZXJ9IHNpbXVsYXRlZEJ5IC0gbm9kZSBJRCBvZiBjbGllbnQgc2ltdWxhdGluZyBtZXNzYWdlXG4gKiBAcHJvcGVydHkgeyFzdHJpbmd9IHBheWxvYWQgLSBtZXNzYWdlIGNvbnRlbnQgaW4gYSBiaW5hcnkgc3RyaW5nXG4gKiBAcHJvcGVydHkge251bWJlcn0gZXh0cmFIb3BzUmVtYWluaW5nXG4gKiBAcHJvcGVydHkge251bWJlcltdfSB2aXNpdGVkTm9kZUlEc1xuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gTWVzc2FnZVJvd1xuICogQHByb3BlcnR5IHshbnVtYmVyfSBmcm9tTm9kZUlEIC0gdGhpcyBtZXNzYWdlIGluLWZsaWdodC1mcm9tIG5vZGVcbiAqIEBwcm9wZXJ0eSB7IW51bWJlcn0gdG9Ob2RlSUQgLSB0aGlzIG1lc3NhZ2UgaW4tZmxpZ2h0LXRvIG5vZGVcbiAqIEBwcm9wZXJ0eSB7IW51bWJlcn0gc2ltdWxhdGVkQnkgLSBOb2RlIElEIG9mIHRoZSBjbGllbnQgcmVzcG9uc2libGUgZm9yXG4gKiAgICAgICAgICAgYWxsIG9wZXJhdGlvbnMgaW52b2x2aW5nIHRoaXMgbWVzc2FnZS5cbiAqIEBwcm9wZXJ0eSB7IUJhc2U2NFBheWxvYWR9IGJhc2U2NFBheWxvYWQgLSBiYXNlNjQtZW5jb2RlZCBiaW5hcnlcbiAqICAgICAgICAgICBtZXNzYWdlIGNvbnRlbnQsIGFsbCBvZiB3aGljaCBjYW4gYmUgZXhwb3NlZCB0byB0aGVcbiAqICAgICAgICAgICBzdHVkZW50LiAgTWF5IGNvbnRhaW4gaGVhZGVycyBvZiBpdHMgb3duLlxuICogQHByb3BlcnR5IHshbnVtYmVyfSBleHRyYUhvcHNSZW1haW5pbmdcbiAqIEBwcm9wZXJ0eSB7IW51bWJlcltdfSB2aXNpdGVkTm9kZUlEc1xuICovXG5cbi8qKlxuICogTG9jYWwgY29udHJvbGxlciBmb3IgYSBtZXNzYWdlIHRoYXQgaXMgJ29uIHRoZSB3aXJlJ1xuICpcbiAqIERvZXNuJ3QgYWN0dWFsbHkgaGF2ZSBhbnkgYXNzb2NpYXRpb24gd2l0aCB0aGUgd2lyZSAtIG9uZSBjb3VsZCxcbiAqIHRoZW9yZXRpY2FsbHksIHNlbmQgYSBtZXNzYWdlIGZyb20gYW55IG5vZGUgaW4gdGhlIHNpbXVsYXRpb24gdG8gYW55IG90aGVyXG4gKiBub2RlIGluIHRoZSBzaW11bGF0aW9uLlxuICpcbiAqIEFueSBtZXNzYWdlIHRoYXQgZXhpc3RzIGluIHRoZSB0YWJsZSBpcyAnaW4gdHJhbnNpdCcgdG8gYSBub2RlLiAgTm9kZXNcbiAqIHNob3VsZCByZW1vdmUgbWVzc2FnZXMgYXMgc29vbiBhcyB0aGV5IHJlY2VpdmUgdGhlbS5cbiAqXG4gKiBAcGFyYW0geyFOZXRTaW1TaGFyZH0gc2hhcmQgLSBUaGUgc2hhcmQgd2hlcmUgdGhpcyB3aXJlIGxpdmVzLlxuICogQHBhcmFtIHtNZXNzYWdlUm93fSBbbWVzc2FnZVJvd10gLSBBIHJvdyBvdXQgb2YgdGhlIF9tZXNzYWdlIHRhYmxlIG9uIHRoZVxuICogICAgICAgIHNoYXJkLiAgSWYgcHJvdmlkZWQsIHdpbGwgaW5pdGlhbGl6ZSB0aGlzIG1lc3NhZ2Ugd2l0aCB0aGUgZ2l2ZW5cbiAqICAgICAgICBkYXRhLiAgSWYgbm90LCB0aGlzIG1lc3NhZ2Ugd2lsbCBpbml0aWFsaXplIHRvIGRlZmF1bHQgdmFsdWVzLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXVnbWVudHMgTmV0U2ltRW50aXR5XG4gKiBAaW1wbGVtZW50cyBNZXNzYWdlRGF0YVxuICovXG52YXIgTmV0U2ltTWVzc2FnZSA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHNoYXJkLCBtZXNzYWdlUm93KSB7XG4gIG1lc3NhZ2VSb3cgPSBtZXNzYWdlUm93ICE9PSB1bmRlZmluZWQgPyBtZXNzYWdlUm93IDoge307XG4gIE5ldFNpbUVudGl0eS5jYWxsKHRoaXMsIHNoYXJkLCBtZXNzYWdlUm93KTtcblxuICAvKipcbiAgICogTm9kZSBJRCB0aGF0IHRoaXMgbWVzc2FnZSBpcyAnaW4gdHJhbnNpdCcgZnJvbS5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMuZnJvbU5vZGVJRCA9IG1lc3NhZ2VSb3cuZnJvbU5vZGVJRDtcblxuICAvKipcbiAgICogTm9kZSBJRCB0aGF0IHRoaXMgbWVzc2FnZSBpcyAnaW4gdHJhbnNpdCcgdG8uXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICB0aGlzLnRvTm9kZUlEID0gbWVzc2FnZVJvdy50b05vZGVJRDtcblxuICAvKipcbiAgICogSUQgb2YgdGhlIG5vZGUgcmVzcG9uc2libGUgZm9yIG9wZXJhdGlvbnMgb24gdGhpcyBtZXNzYWdlLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgdGhpcy5zaW11bGF0ZWRCeSA9IG1lc3NhZ2VSb3cuc2ltdWxhdGVkQnk7XG5cbiAgLyoqXG4gICAqIEFsbCBvdGhlciBtZXNzYWdlIGNvbnRlbnQsIGluY2x1ZGluZyB0aGUgJ3BhY2tldHMnIHN0dWRlbnRzIHdpbGwgc2VuZC5cbiAgICogQHR5cGUgeyp9XG4gICAqL1xuICB0aGlzLnBheWxvYWQgPSAnJztcbiAgaWYgKG1lc3NhZ2VSb3cuYmFzZTY0UGF5bG9hZCkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLnBheWxvYWQgPSBiYXNlNjRUb0JpbmFyeShtZXNzYWdlUm93LmJhc2U2NFBheWxvYWQuc3RyaW5nLFxuICAgICAgICAgIG1lc3NhZ2VSb3cuYmFzZTY0UGF5bG9hZC5sZW4pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGxvZ2dlci5lcnJvcihlLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB0aGlzIGlzIGFuIGludGVyLXJvdXRlciBtZXNzYWdlLCB0aGUgbnVtYmVyIG9mIHJvdXRlcnMgdGhpc1xuICAgKiBtZXNzYWdlIHNob3VsZCB0cnkgdG8gdmlzaXQgYmVmb3JlIGdvaW5nIHRvIHRoZSByb3V0ZXIgdGhhdFxuICAgKiB3aWxsIGFjdHVhbGx5IGxlYWQgdG8gaXRzIGRlc3RpbmF0aW9uLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgdGhpcy5leHRyYUhvcHNSZW1haW5pbmcgPSB1dGlscy52YWx1ZU9yKG1lc3NhZ2VSb3cuZXh0cmFIb3BzUmVtYWluaW5nLCAwKTtcblxuICAvKipcbiAgICogQSBoaXN0b3J5IG9mIHJvdXRlciBub2RlIElEcyB0aGlzIG1lc3NhZ2UgaGFzIHZpc2l0ZWQuXG4gICAqIEB0eXBlIHtudW1iZXJbXX1cbiAgICovXG4gIHRoaXMudmlzaXRlZE5vZGVJRHMgPSB1dGlscy52YWx1ZU9yKG1lc3NhZ2VSb3cudmlzaXRlZE5vZGVJRHMsIFtdKTtcbn07XG5OZXRTaW1NZXNzYWdlLmluaGVyaXRzKE5ldFNpbUVudGl0eSk7XG5cbi8qKlxuICogU3RhdGljIHJvdyBjb25zdHJ1Y3Rpb24gbWV0aG9kLiBVc2VkIGJ5IGR5bmFtaWMgYnVpbGRSb3cgbWV0aG9kIGFuZFxuICogYnkgc3RhdGljIGFzeW5jIEFQSSBjcmVhdGlvbiBtZXRob2RzIHRvIGNyZWF0ZSBhIHByb3Blcmx5LWZvcm1hdHRlZFxuICogcm93IGZvciBkYXRhYmFzZSBpbnNlcnRpb25cbiAqIEBwYXJhbSB7TWVzc2FnZURhdGF9IG1lc3NhZ2VEYXRhXG4gKiBAcmV0dXJucyB7TWVzc2FnZVJvd31cbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gaWYgcGF5bG9hZCBpcyBpbnZhbGlkXG4gKi9cbk5ldFNpbU1lc3NhZ2UuYnVpbGRSb3dGcm9tRGF0YSA9IGZ1bmN0aW9uIChtZXNzYWdlRGF0YSkge1xuICByZXR1cm4ge1xuICAgIGZyb21Ob2RlSUQ6IG1lc3NhZ2VEYXRhLmZyb21Ob2RlSUQsXG4gICAgdG9Ob2RlSUQ6IG1lc3NhZ2VEYXRhLnRvTm9kZUlELFxuICAgIHNpbXVsYXRlZEJ5OiBtZXNzYWdlRGF0YS5zaW11bGF0ZWRCeSxcbiAgICBiYXNlNjRQYXlsb2FkOiBiaW5hcnlUb0Jhc2U2NChtZXNzYWdlRGF0YS5wYXlsb2FkKSxcbiAgICBleHRyYUhvcHNSZW1haW5pbmc6IHV0aWxzLnZhbHVlT3IobWVzc2FnZURhdGEuZXh0cmFIb3BzUmVtYWluaW5nLCAwKSxcbiAgICB2aXNpdGVkTm9kZUlEczogdXRpbHMudmFsdWVPcihtZXNzYWdlRGF0YS52aXNpdGVkTm9kZUlEcywgW10pXG4gIH07XG59O1xuXG4vKipcbiAqIFN0YXRpYyBhc3luYyBjcmVhdGlvbiBtZXRob2QuICBDcmVhdGVzIGEgbmV3IG1lc3NhZ2Ugb24gdGhlIGdpdmVuIHNoYXJkLFxuICogYW5kIHRoZW4gY2FsbHMgdGhlIGNhbGxiYWNrIHdpdGggYSBzdWNjZXNzIGJvb2xlYW4uXG4gKiBAcGFyYW0geyFOZXRTaW1TaGFyZH0gc2hhcmRcbiAqIEBwYXJhbSB7IU1lc3NhZ2VEYXRhfSBtZXNzYWdlRGF0YVxuICogQHBhcmFtIHshTm9kZVN0eWxlQ2FsbGJhY2t9IG9uQ29tcGxldGUgKHN1Y2Nlc3MpXG4gKi9cbk5ldFNpbU1lc3NhZ2Uuc2VuZCA9IGZ1bmN0aW9uIChzaGFyZCwgbWVzc2FnZURhdGEsIG9uQ29tcGxldGUpIHtcbiAgdHJ5IHtcbiAgICB2YXIgcm93ID0gTmV0U2ltTWVzc2FnZS5idWlsZFJvd0Zyb21EYXRhKG1lc3NhZ2VEYXRhKTtcbiAgICBzaGFyZC5tZXNzYWdlVGFibGUuY3JlYXRlKHJvdywgb25Db21wbGV0ZSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIG9uQ29tcGxldGUoZXJyLCBudWxsKTtcbiAgfVxufTtcblxuLyoqXG4gKiBTdGF0aWMgYXN5bmMgbXVsdGktY3JlYXRlIG1ldGhvZC4gQ3JlYXRlcyBuZXcgbWVzc2FnZXMgb24gdGhlIGdpdmVuIHNoYXJkLFxuICogYW5kIHRoZW4gY2FsbHMgdGhlIGNhbGxiYWNrIHdpdGggYSBzdWNjZXNzIGJvb2xlYW4uXG4gKiBAcGFyYW0geyFOZXRTaW1TaGFyZH0gc2hhcmRcbiAqIEBwYXJhbSB7TWVzc2FnZURhdGFbXX0gbWVzc2FnZURhdGFzXG4gKiBAcGFyYW0geyFOb2RlU3R5bGVDYWxsYmFja30gb25Db21wbGV0ZSAoc3VjY2VzcylcbiAqL1xuTmV0U2ltTWVzc2FnZS5zZW5kTWFueSA9IGZ1bmN0aW9uIChzaGFyZCwgbWVzc2FnZURhdGFzLCBvbkNvbXBsZXRlKSB7XG4gIHRyeSB7XG4gICAgdmFyIHJvd3MgPSBtZXNzYWdlRGF0YXMubWFwKE5ldFNpbU1lc3NhZ2UuYnVpbGRSb3dGcm9tRGF0YSk7XG4gICAgc2hhcmQubWVzc2FnZVRhYmxlLm11bHRpQ3JlYXRlKHJvd3MsIG9uQ29tcGxldGUpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBvbkNvbXBsZXRlKGVyciwgbnVsbCk7XG4gIH1cbn07XG5cbi8qKlxuICogU3RhdGljIGhlbHBlci5cbiAqIEBwYXJhbSB7TmV0U2ltTWVzc2FnZX0gbWVzc2FnZVxuICogQHJldHVybnMge2Jvb2xlYW59IFRSVUUgaWZmIHRoZSBnaXZlbiBtZXNzYWdlIGlzIHdlbGwtZm9ybWVkLlxuICovXG5OZXRTaW1NZXNzYWdlLmlzVmFsaWQgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICByZXR1cm4gL15bMDFdKiQvLnRlc3QobWVzc2FnZS5wYXlsb2FkKTtcbn07XG5cbi8qKlxuICogSGVscGVyIHRoYXQgZ2V0cyB0aGUgd2lyZXMgdGFibGUgZm9yIHRoZSBjb25maWd1cmVkIGluc3RhbmNlLlxuICogQHJldHVybnMge05ldFNpbVRhYmxlfVxuICovXG5OZXRTaW1NZXNzYWdlLnByb3RvdHlwZS5nZXRUYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuc2hhcmRfLm1lc3NhZ2VUYWJsZTtcbn07XG5cbi8qKlxuICogQnVpbGQgb3duIHJvdyBmb3IgdGhlIG1lc3NhZ2UgdGFibGVcbiAqIEByZXR1cm5zIHtNZXNzYWdlUm93fVxuICogQHRocm93cyB7VHlwZUVycm9yfSBpZiBwYXlsb2FkIGlzIGludmFsaWRcbiAqL1xuTmV0U2ltTWVzc2FnZS5wcm90b3R5cGUuYnVpbGRSb3cgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBOZXRTaW1NZXNzYWdlLmJ1aWxkUm93RnJvbURhdGEodGhpcyk7XG59O1xuIiwiLyoqXG4gKiBAb3ZlcnZpZXcgU2ltdWxhdGlvbiBlbnRpdHkgZm9yIHJvdXRlciBsb2cgZW50cmllcy5cbiAqL1xuLy8gU3RyaWN0IGxpbnRpbmc6IEFic29yYiBpbnRvIGdsb2JhbCBjb25maWcgd2hlbiBwb3NzaWJsZVxuLyoganNoaW50XG4gdW51c2VkOiB0cnVlLFxuIGVxZXFlcTogdHJ1ZSxcbiBtYXhsZW46IDEyMFxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG52YXIgXyA9IHV0aWxzLmdldExvZGFzaCgpO1xudmFyIGkxOG4gPSByZXF1aXJlKCcuL2xvY2FsZScpO1xudmFyIE5ldFNpbUVudGl0eSA9IHJlcXVpcmUoJy4vTmV0U2ltRW50aXR5Jyk7XG52YXIgUGFja2V0ID0gcmVxdWlyZSgnLi9QYWNrZXQnKTtcbnZhciBOZXRTaW1Ob2RlRmFjdG9yeSA9IHJlcXVpcmUoJy4vTmV0U2ltTm9kZUZhY3RvcnknKTtcbnZhciBEYXRhQ29udmVydGVycyA9IHJlcXVpcmUoJy4vRGF0YUNvbnZlcnRlcnMnKTtcbnZhciBmb3JtYXRCaW5hcnkgPSBEYXRhQ29udmVydGVycy5mb3JtYXRCaW5hcnk7XG52YXIgYmFzZTY0VG9CaW5hcnkgPSBEYXRhQ29udmVydGVycy5iYXNlNjRUb0JpbmFyeTtcbnZhciBiaW5hcnlUb0Jhc2U2NCA9IERhdGFDb252ZXJ0ZXJzLmJpbmFyeVRvQmFzZTY0O1xudmFyIE5ldFNpbUxvZ2dlciA9IHJlcXVpcmUoJy4vTmV0U2ltTG9nZ2VyJyk7XG5cbnZhciBCSVRTX1BFUl9CWVRFID0gcmVxdWlyZSgnLi9OZXRTaW1Db25zdGFudHMnKS5CSVRTX1BFUl9CWVRFO1xudmFyIGxvZ2dlciA9IE5ldFNpbUxvZ2dlci5nZXRTaW5nbGV0b24oKTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBMb2dFbnRyeVJvd1xuICogQHByb3BlcnR5IHtudW1iZXJ9IG5vZGVJRFxuICogQHByb3BlcnR5IHtCYXNlNjRQYXlsb2FkfSBiYXNlNjRCaW5hcnkgLSBiYXNlNjQtZW5jb2RlZCBiaW5hcnlcbiAqICAgICAgICAgICBtZXNzYWdlIGNvbnRlbnQsIGFsbCBvZiB3aGljaCBjYW4gYmUgZXhwb3NlZCB0byB0aGVcbiAqICAgICAgICAgICBzdHVkZW50LiAgTWF5IGNvbnRhaW4gaGVhZGVycyBvZiBpdHMgb3duLlxuICogQHByb3BlcnR5IHtOZXRTaW1Mb2dFbnRyeS5Mb2dTdGF0dXN9IHN0YXR1c1xuICogQHByb3BlcnR5IHtudW1iZXJ9IHRpbWVzdGFtcFxuICovXG5cbi8qKlxuICogRW50cnkgaW4gc2hhcmVkIGxvZyBmb3IgYSBub2RlIG9uIHRoZSBuZXR3b3JrLlxuICpcbiAqIE9uY2UgY3JlYXRlZCwgc2hvdWxkIG5vdCBiZSBtb2RpZmllZCB1bnRpbC91bmxlc3MgYSBjbGVhbnVwIHByb2Nlc3NcbiAqIHJlbW92ZXMgaXQuXG4gKlxuICogQHBhcmFtIHshTmV0U2ltU2hhcmR9IHNoYXJkIC0gVGhlIHNoYXJkIHdoZXJlIHRoaXMgbG9nIGVudHJ5IGxpdmVzLlxuICogQHBhcmFtIHtMb2dFbnRyeVJvd30gW3Jvd10gLSBBIHJvdyBvdXQgb2YgdGhlIGxvZyB0YWJsZSBvbiB0aGVcbiAqICAgICAgICBzaGFyZC4gIElmIHByb3ZpZGVkLCB3aWxsIGluaXRpYWxpemUgdGhpcyBsb2cgd2l0aCB0aGUgZ2l2ZW5cbiAqICAgICAgICBkYXRhLiAgSWYgbm90LCB0aGlzIGxvZyB3aWxsIGluaXRpYWxpemUgdG8gZGVmYXVsdCB2YWx1ZXMuXG4gKiBAcGFyYW0ge1BhY2tldC5IZWFkZXJUeXBlW119IFtwYWNrZXRTcGVjXSAtIFBhY2tldCBsYXlvdXQgc3BlYyB1c2VkIHRvXG4gKiAgICAgICAgaW50ZXJwcmV0IHRoZSBjb250ZW50cyBvZiB0aGUgbG9nZ2VkIHBhY2tldFxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXVnbWVudHMgTmV0U2ltRW50aXR5XG4gKi9cbnZhciBOZXRTaW1Mb2dFbnRyeSA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHNoYXJkLCByb3csIHBhY2tldFNwZWMpIHtcbiAgcm93ID0gcm93ICE9PSB1bmRlZmluZWQgPyByb3cgOiB7fTtcbiAgTmV0U2ltRW50aXR5LmNhbGwodGhpcywgc2hhcmQsIHJvdyk7XG5cbiAgLyoqXG4gICAqIE5vZGUgSUQgb2YgdGhlIG5vZGUgdGhhdCBvd25zIHRoaXMgbG9nIGVudHJ5IChlLmcuIGEgcm91dGVyIG5vZGUpXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICB0aGlzLm5vZGVJRCA9IHJvdy5ub2RlSUQ7XG5cbiAgLyoqXG4gICAqIEJpbmFyeSBjb250ZW50IG9mIHRoZSBsb2cgZW50cnkuICBEZWZhdWx0cyB0byBlbXB0eSBzdHJpbmcuXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICB0aGlzLmJpbmFyeSA9ICcnO1xuICBpZiAocm93LmJhc2U2NEJpbmFyeSkge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmJpbmFyeSA9IGJhc2U2NFRvQmluYXJ5KHJvdy5iYXNlNjRCaW5hcnkuc3RyaW5nLCByb3cuYmFzZTY0QmluYXJ5Lmxlbik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbG9nZ2VyLmVycm9yKGUubWVzc2FnZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0YXR1cyB2YWx1ZSBmb3IgbG9nIGVudHJ5OyBmb3Igcm91dGVyIGxvZywgdXN1YWxseSBTVUNDRVNTIGZvciBjb21wbGV0aW9uXG4gICAqIG9mIHJvdXRpbmcgb3IgRFJPUFBFRCBpZiByb3V0aW5nIGZhaWxlZC5cbiAgICogQHR5cGUge05ldFNpbUxvZ0VudHJ5LkxvZ1N0YXR1c31cbiAgICovXG4gIHRoaXMuc3RhdHVzID0gdXRpbHMudmFsdWVPcihyb3cuc3RhdHVzLCBOZXRTaW1Mb2dFbnRyeS5Mb2dTdGF0dXMuU1VDQ0VTUyk7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtQYWNrZXR9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnBhY2tldF8gPSBuZXcgUGFja2V0KHV0aWxzLnZhbHVlT3IocGFja2V0U3BlYywgW10pLCB0aGlzLmJpbmFyeSk7XG5cbiAgLyoqXG4gICAqIFVuaXggdGltZXN0YW1wIChsb2NhbCkgb2YgbG9nIGNyZWF0aW9uIHRpbWUuXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICB0aGlzLnRpbWVzdGFtcCA9IChyb3cudGltZXN0YW1wICE9PSB1bmRlZmluZWQpID8gcm93LnRpbWVzdGFtcCA6IERhdGUubm93KCk7XG59O1xuTmV0U2ltTG9nRW50cnkuaW5oZXJpdHMoTmV0U2ltRW50aXR5KTtcblxuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICogQGNvbnN0XG4gKi9cbk5ldFNpbUxvZ0VudHJ5LkxvZ1N0YXR1cyA9IHtcbiAgU1VDQ0VTUzogJ3N1Y2Nlc3MnLFxuICBEUk9QUEVEOiAnZHJvcHBlZCdcbn07XG5cbi8qKlxuICogSGVscGVyIHRoYXQgZ2V0cyB0aGUgbG9nIHRhYmxlIGZvciB0aGUgY29uZmlndXJlZCBpbnN0YW5jZS5cbiAqIEByZXR1cm5zIHtOZXRTaW1UYWJsZX1cbiAqL1xuTmV0U2ltTG9nRW50cnkucHJvdG90eXBlLmdldFRhYmxlID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5zaGFyZF8ubG9nVGFibGU7XG59O1xuXG4vKipcbiAqIEJ1aWxkIG93biByb3cgZm9yIHRoZSBsb2cgdGFibGVcbiAqIEByZXR1cm5zIHtMb2dFbnRyeVJvd31cbiAqL1xuTmV0U2ltTG9nRW50cnkucHJvdG90eXBlLmJ1aWxkUm93ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIG5vZGVJRDogdGhpcy5ub2RlSUQsXG4gICAgYmFzZTY0QmluYXJ5OiBiaW5hcnlUb0Jhc2U2NCh0aGlzLmJpbmFyeSksXG4gICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICB0aW1lc3RhbXA6IHRoaXMudGltZXN0YW1wXG4gIH07XG59O1xuXG4vKipcbiAqIFN0YXRpYyBhc3luYyBjcmVhdGlvbiBtZXRob2QuICBDcmVhdGVzIGEgbmV3IG1lc3NhZ2Ugb24gdGhlIGdpdmVuIHNoYXJkLFxuICogYW5kIHRoZW4gY2FsbHMgdGhlIGNhbGxiYWNrIHdpdGggYSBzdWNjZXNzIGJvb2xlYW4uXG4gKiBAcGFyYW0geyFOZXRTaW1TaGFyZH0gc2hhcmRcbiAqIEBwYXJhbSB7IW51bWJlcn0gbm9kZUlEIC0gYXNzb2NpYXRlZCBub2RlJ3Mgcm93IElEXG4gKiBAcGFyYW0geyFzdHJpbmd9IGJpbmFyeSAtIGxvZyBjb250ZW50c1xuICogQHBhcmFtIHtOZXRTaW1Mb2dFbnRyeS5Mb2dTdGF0dXN9IHN0YXR1c1xuICogQHBhcmFtIHshTm9kZVN0eWxlQ2FsbGJhY2t9IG9uQ29tcGxldGUgKHN1Y2Nlc3MpXG4gKi9cbk5ldFNpbUxvZ0VudHJ5LmNyZWF0ZSA9IGZ1bmN0aW9uIChzaGFyZCwgbm9kZUlELCBiaW5hcnksIHN0YXR1cywgb25Db21wbGV0ZSkge1xuICB2YXIgZW50aXR5ID0gbmV3IE5ldFNpbUxvZ0VudHJ5KHNoYXJkKTtcbiAgZW50aXR5Lm5vZGVJRCA9IG5vZGVJRDtcbiAgZW50aXR5LmJpbmFyeSA9IGJpbmFyeTtcbiAgZW50aXR5LnN0YXR1cyA9IHN0YXR1cztcbiAgZW50aXR5LnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gIGVudGl0eS5nZXRUYWJsZSgpLmNyZWF0ZShlbnRpdHkuYnVpbGRSb3coKSwgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgaWYgKGVycikge1xuICAgICAgb25Db21wbGV0ZShlcnIsIG51bGwpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBvbkNvbXBsZXRlKGVyciwgbmV3IE5ldFNpbUxvZ0VudHJ5KHNoYXJkLCByZXN1bHQpKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIEdldCByZXF1ZXN0ZWQgcGFja2V0IGhlYWRlciBmaWVsZCBhcyBhIHN0cmluZy4gIFJldHVybnMgZW1wdHkgc3RyaW5nXG4gKiBpZiB0aGUgcmVxdWVzdGVkIGZpZWxkIGlzIG5vdCBpbiB0aGUgY3VycmVudCBwYWNrZXQgZm9ybWF0LlxuICogQHBhcmFtIHtQYWNrZXQuSGVhZGVyVHlwZX0gZmllbGRcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbk5ldFNpbUxvZ0VudHJ5LnByb3RvdHlwZS5nZXRIZWFkZXJGaWVsZCA9IGZ1bmN0aW9uIChmaWVsZCkge1xuICB0cnkge1xuICAgIGlmIChQYWNrZXQuaXNBZGRyZXNzRmllbGQoZmllbGQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5wYWNrZXRfLmdldEhlYWRlckFzQWRkcmVzc1N0cmluZyhmaWVsZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnBhY2tldF8uZ2V0SGVhZGVyQXNJbnQoZmllbGQpLnRvU3RyaW5nKCk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG4vKiogR2V0IHBhY2tldCBtZXNzYWdlIGFzIGJpbmFyeS4gKi9cbk5ldFNpbUxvZ0VudHJ5LnByb3RvdHlwZS5nZXRNZXNzYWdlQmluYXJ5ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gZm9ybWF0QmluYXJ5KHRoaXMucGFja2V0Xy5nZXRCb2R5QXNCaW5hcnkoKSwgQklUU19QRVJfQllURSk7XG59O1xuXG4vKiogR2V0IHBhY2tldCBtZXNzYWdlIGFzIEFTQ0lJICovXG5OZXRTaW1Mb2dFbnRyeS5wcm90b3R5cGUuZ2V0TWVzc2FnZUFzY2lpID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5wYWNrZXRfLmdldEJvZHlBc0FzY2lpKEJJVFNfUEVSX0JZVEUpO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBMb2NhbGl6ZWQgcGFja2V0IHN0YXR1cywgXCJzdWNjZXNzXCIgb3IgXCJkcm9wcGVkXCJcbiAqL1xuTmV0U2ltTG9nRW50cnkucHJvdG90eXBlLmdldExvY2FsaXplZFN0YXR1cyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuc3RhdHVzID09PSBOZXRTaW1Mb2dFbnRyeS5Mb2dTdGF0dXMuU1VDQ0VTUykge1xuICAgIHJldHVybiBpMThuLmxvZ1N0YXR1c19zdWNjZXNzKCk7XG4gIH0gZWxzZSBpZiAodGhpcy5zdGF0dXMgPT09IE5ldFNpbUxvZ0VudHJ5LkxvZ1N0YXR1cy5EUk9QUEVEKSB7XG4gICAgcmV0dXJuIGkxOG4ubG9nU3RhdHVzX2Ryb3BwZWQoKTtcbiAgfVxuICByZXR1cm4gJyc7XG59O1xuXG4vKipcbiAqIEByZXR1cm5zIHtzdHJpbmd9IExvY2FsaXplZCBcIlggb2YgWVwiIHBhY2tldCBjb3VudCBpbmZvIGZvciB0aGlzIGVudHJ5LlxuICovXG5OZXRTaW1Mb2dFbnRyeS5wcm90b3R5cGUuZ2V0TG9jYWxpemVkUGFja2V0SW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIGkxOG4ueE9mWVBhY2tldHMoe1xuICAgIHg6IHRoaXMuZ2V0SGVhZGVyRmllbGQoUGFja2V0LkhlYWRlclR5cGUuUEFDS0VUX0lOREVYKSxcbiAgICB5OiB0aGlzLmdldEhlYWRlckZpZWxkKFBhY2tldC5IZWFkZXJUeXBlLlBBQ0tFVF9DT1VOVClcbiAgfSk7XG59O1xuXG4vKipcbiAqIEByZXR1cm5zIHtzdHJpbmd9IDEyLWhvdXIgdGltZSB3aXRoIG1pbGxpc2Vjb25kc1xuICovXG5OZXRTaW1Mb2dFbnRyeS5wcm90b3R5cGUuZ2V0VGltZVN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIG1vbWVudCh0aGlzLnRpbWVzdGFtcCkuZm9ybWF0KCdoOm1tOnNzLlNTUyBBJyk7XG59O1xuXG4vKipcbiAqIEdldCBhIGNvbnRyb2xsZXIgZm9yIHRoZSBub2RlIHRoYXQgZ2VuZXJhdGVkIHRoaXMgbG9nIGVudHJ5XG4gKiBAcmV0dXJucyB7TmV0U2ltQ2xpZW50Tm9kZXxOZXRTaW1Sb3V0ZXJOb2RlfG51bGx9XG4gKi9cbk5ldFNpbUxvZ0VudHJ5LnByb3RvdHlwZS5nZXRPcmlnaW5Ob2RlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbm9kZVJvd3MgPSB0aGlzLnNoYXJkXy5ub2RlVGFibGUucmVhZEFsbCgpO1xuICB2YXIgb3JpZ2luTm9kZVJvdyA9IF8uZmluZChub2RlUm93cywgZnVuY3Rpb24gKHJvdykge1xuICAgIHJldHVybiByb3cuaWQgPT09IHRoaXMubm9kZUlEO1xuICB9LmJpbmQodGhpcykpO1xuXG4gIGlmICghb3JpZ2luTm9kZVJvdykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIE5ldFNpbU5vZGVGYWN0b3J5Lm5vZGVGcm9tUm93KHRoaXMuc2hhcmRfLCBvcmlnaW5Ob2RlUm93KTtcbn07XG4iLCIvLyEgbW9tZW50LmpzXG4vLyEgdmVyc2lvbiA6IDIuMTAuNlxuLy8hIGF1dGhvcnMgOiBUaW0gV29vZCwgSXNrcmVuIENoZXJuZXYsIE1vbWVudC5qcyBjb250cmlidXRvcnNcbi8vISBsaWNlbnNlIDogTUlUXG4vLyEgbW9tZW50anMuY29tXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCkgOlxuICAgIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gICAgZ2xvYmFsLm1vbWVudCA9IGZhY3RvcnkoKVxufSh0aGlzLCBmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBob29rQ2FsbGJhY2s7XG5cbiAgICBmdW5jdGlvbiB1dGlsc19ob29rc19faG9va3MgKCkge1xuICAgICAgICByZXR1cm4gaG9va0NhbGxiYWNrLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBpcyBkb25lIHRvIHJlZ2lzdGVyIHRoZSBtZXRob2QgY2FsbGVkIHdpdGggbW9tZW50KClcbiAgICAvLyB3aXRob3V0IGNyZWF0aW5nIGNpcmN1bGFyIGRlcGVuZGVuY2llcy5cbiAgICBmdW5jdGlvbiBzZXRIb29rQ2FsbGJhY2sgKGNhbGxiYWNrKSB7XG4gICAgICAgIGhvb2tDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzQXJyYXkoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChpbnB1dCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEYXRlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBpbnB1dCBpbnN0YW5jZW9mIERhdGUgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGlucHV0KSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1hcChhcnIsIGZuKSB7XG4gICAgICAgIHZhciByZXMgPSBbXSwgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgcmVzLnB1c2goZm4oYXJyW2ldLCBpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYXNPd25Qcm9wKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLCBiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBleHRlbmQoYSwgYikge1xuICAgICAgICBmb3IgKHZhciBpIGluIGIpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKGIsIGkpKSB7XG4gICAgICAgICAgICAgICAgYVtpXSA9IGJbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzT3duUHJvcChiLCAndG9TdHJpbmcnKSkge1xuICAgICAgICAgICAgYS50b1N0cmluZyA9IGIudG9TdHJpbmc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzT3duUHJvcChiLCAndmFsdWVPZicpKSB7XG4gICAgICAgICAgICBhLnZhbHVlT2YgPSBiLnZhbHVlT2Y7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVfdXRjX19jcmVhdGVVVEMgKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0KSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVMb2NhbE9yVVRDKGlucHV0LCBmb3JtYXQsIGxvY2FsZSwgc3RyaWN0LCB0cnVlKS51dGMoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZWZhdWx0UGFyc2luZ0ZsYWdzKCkge1xuICAgICAgICAvLyBXZSBuZWVkIHRvIGRlZXAgY2xvbmUgdGhpcyBvYmplY3QuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbXB0eSAgICAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgIHVudXNlZFRva2VucyAgICA6IFtdLFxuICAgICAgICAgICAgdW51c2VkSW5wdXQgICAgIDogW10sXG4gICAgICAgICAgICBvdmVyZmxvdyAgICAgICAgOiAtMixcbiAgICAgICAgICAgIGNoYXJzTGVmdE92ZXIgICA6IDAsXG4gICAgICAgICAgICBudWxsSW5wdXQgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgIGludmFsaWRNb250aCAgICA6IG51bGwsXG4gICAgICAgICAgICBpbnZhbGlkRm9ybWF0ICAgOiBmYWxzZSxcbiAgICAgICAgICAgIHVzZXJJbnZhbGlkYXRlZCA6IGZhbHNlLFxuICAgICAgICAgICAgaXNvICAgICAgICAgICAgIDogZmFsc2VcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQYXJzaW5nRmxhZ3MobSkge1xuICAgICAgICBpZiAobS5fcGYgPT0gbnVsbCkge1xuICAgICAgICAgICAgbS5fcGYgPSBkZWZhdWx0UGFyc2luZ0ZsYWdzKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG0uX3BmO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbGlkX19pc1ZhbGlkKG0pIHtcbiAgICAgICAgaWYgKG0uX2lzVmFsaWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGZsYWdzID0gZ2V0UGFyc2luZ0ZsYWdzKG0pO1xuICAgICAgICAgICAgbS5faXNWYWxpZCA9ICFpc05hTihtLl9kLmdldFRpbWUoKSkgJiZcbiAgICAgICAgICAgICAgICBmbGFncy5vdmVyZmxvdyA8IDAgJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3MuZW1wdHkgJiZcbiAgICAgICAgICAgICAgICAhZmxhZ3MuaW52YWxpZE1vbnRoICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLmludmFsaWRXZWVrZGF5ICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLm51bGxJbnB1dCAmJlxuICAgICAgICAgICAgICAgICFmbGFncy5pbnZhbGlkRm9ybWF0ICYmXG4gICAgICAgICAgICAgICAgIWZsYWdzLnVzZXJJbnZhbGlkYXRlZDtcblxuICAgICAgICAgICAgaWYgKG0uX3N0cmljdCkge1xuICAgICAgICAgICAgICAgIG0uX2lzVmFsaWQgPSBtLl9pc1ZhbGlkICYmXG4gICAgICAgICAgICAgICAgICAgIGZsYWdzLmNoYXJzTGVmdE92ZXIgPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3MudW51c2VkVG9rZW5zLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgICAgICAgICAgICAgICBmbGFncy5iaWdIb3VyID09PSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG0uX2lzVmFsaWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmFsaWRfX2NyZWF0ZUludmFsaWQgKGZsYWdzKSB7XG4gICAgICAgIHZhciBtID0gY3JlYXRlX3V0Y19fY3JlYXRlVVRDKE5hTik7XG4gICAgICAgIGlmIChmbGFncyAhPSBudWxsKSB7XG4gICAgICAgICAgICBleHRlbmQoZ2V0UGFyc2luZ0ZsYWdzKG0pLCBmbGFncyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MobSkudXNlckludmFsaWRhdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtO1xuICAgIH1cblxuICAgIHZhciBtb21lbnRQcm9wZXJ0aWVzID0gdXRpbHNfaG9va3NfX2hvb2tzLm1vbWVudFByb3BlcnRpZXMgPSBbXTtcblxuICAgIGZ1bmN0aW9uIGNvcHlDb25maWcodG8sIGZyb20pIHtcbiAgICAgICAgdmFyIGksIHByb3AsIHZhbDtcblxuICAgICAgICBpZiAodHlwZW9mIGZyb20uX2lzQU1vbWVudE9iamVjdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRvLl9pc0FNb21lbnRPYmplY3QgPSBmcm9tLl9pc0FNb21lbnRPYmplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBmcm9tLl9pICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdG8uX2kgPSBmcm9tLl9pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZnJvbS5fZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRvLl9mID0gZnJvbS5fZjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGZyb20uX2wgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0by5fbCA9IGZyb20uX2w7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBmcm9tLl9zdHJpY3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0by5fc3RyaWN0ID0gZnJvbS5fc3RyaWN0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZnJvbS5fdHptICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdG8uX3R6bSA9IGZyb20uX3R6bTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGZyb20uX2lzVVRDICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdG8uX2lzVVRDID0gZnJvbS5faXNVVEM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBmcm9tLl9vZmZzZXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0by5fb2Zmc2V0ID0gZnJvbS5fb2Zmc2V0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZnJvbS5fcGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0by5fcGYgPSBnZXRQYXJzaW5nRmxhZ3MoZnJvbSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBmcm9tLl9sb2NhbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0by5fbG9jYWxlID0gZnJvbS5fbG9jYWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1vbWVudFByb3BlcnRpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yIChpIGluIG1vbWVudFByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICBwcm9wID0gbW9tZW50UHJvcGVydGllc1tpXTtcbiAgICAgICAgICAgICAgICB2YWwgPSBmcm9tW3Byb3BdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICB0b1twcm9wXSA9IHZhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdG87XG4gICAgfVxuXG4gICAgdmFyIHVwZGF0ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcblxuICAgIC8vIE1vbWVudCBwcm90b3R5cGUgb2JqZWN0XG4gICAgZnVuY3Rpb24gTW9tZW50KGNvbmZpZykge1xuICAgICAgICBjb3B5Q29uZmlnKHRoaXMsIGNvbmZpZyk7XG4gICAgICAgIHRoaXMuX2QgPSBuZXcgRGF0ZShjb25maWcuX2QgIT0gbnVsbCA/IGNvbmZpZy5fZC5nZXRUaW1lKCkgOiBOYU4pO1xuICAgICAgICAvLyBQcmV2ZW50IGluZmluaXRlIGxvb3AgaW4gY2FzZSB1cGRhdGVPZmZzZXQgY3JlYXRlcyBuZXcgbW9tZW50XG4gICAgICAgIC8vIG9iamVjdHMuXG4gICAgICAgIGlmICh1cGRhdGVJblByb2dyZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdXBkYXRlSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAgICAgICB1dGlsc19ob29rc19faG9va3MudXBkYXRlT2Zmc2V0KHRoaXMpO1xuICAgICAgICAgICAgdXBkYXRlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNNb21lbnQgKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgTW9tZW50IHx8IChvYmogIT0gbnVsbCAmJiBvYmouX2lzQU1vbWVudE9iamVjdCAhPSBudWxsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhYnNGbG9vciAobnVtYmVyKSB7XG4gICAgICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5jZWlsKG51bWJlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihudW1iZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9JbnQoYXJndW1lbnRGb3JDb2VyY2lvbikge1xuICAgICAgICB2YXIgY29lcmNlZE51bWJlciA9ICthcmd1bWVudEZvckNvZXJjaW9uLFxuICAgICAgICAgICAgdmFsdWUgPSAwO1xuXG4gICAgICAgIGlmIChjb2VyY2VkTnVtYmVyICE9PSAwICYmIGlzRmluaXRlKGNvZXJjZWROdW1iZXIpKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGFic0Zsb29yKGNvZXJjZWROdW1iZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbXBhcmVBcnJheXMoYXJyYXkxLCBhcnJheTIsIGRvbnRDb252ZXJ0KSB7XG4gICAgICAgIHZhciBsZW4gPSBNYXRoLm1pbihhcnJheTEubGVuZ3RoLCBhcnJheTIubGVuZ3RoKSxcbiAgICAgICAgICAgIGxlbmd0aERpZmYgPSBNYXRoLmFicyhhcnJheTEubGVuZ3RoIC0gYXJyYXkyLmxlbmd0aCksXG4gICAgICAgICAgICBkaWZmcyA9IDAsXG4gICAgICAgICAgICBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGlmICgoZG9udENvbnZlcnQgJiYgYXJyYXkxW2ldICE9PSBhcnJheTJbaV0pIHx8XG4gICAgICAgICAgICAgICAgKCFkb250Q29udmVydCAmJiB0b0ludChhcnJheTFbaV0pICE9PSB0b0ludChhcnJheTJbaV0pKSkge1xuICAgICAgICAgICAgICAgIGRpZmZzKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpZmZzICsgbGVuZ3RoRGlmZjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBMb2NhbGUoKSB7XG4gICAgfVxuXG4gICAgdmFyIGxvY2FsZXMgPSB7fTtcbiAgICB2YXIgZ2xvYmFsTG9jYWxlO1xuXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplTG9jYWxlKGtleSkge1xuICAgICAgICByZXR1cm4ga2V5ID8ga2V5LnRvTG93ZXJDYXNlKCkucmVwbGFjZSgnXycsICctJykgOiBrZXk7XG4gICAgfVxuXG4gICAgLy8gcGljayB0aGUgbG9jYWxlIGZyb20gdGhlIGFycmF5XG4gICAgLy8gdHJ5IFsnZW4tYXUnLCAnZW4tZ2InXSBhcyAnZW4tYXUnLCAnZW4tZ2InLCAnZW4nLCBhcyBpbiBtb3ZlIHRocm91Z2ggdGhlIGxpc3QgdHJ5aW5nIGVhY2hcbiAgICAvLyBzdWJzdHJpbmcgZnJvbSBtb3N0IHNwZWNpZmljIHRvIGxlYXN0LCBidXQgbW92ZSB0byB0aGUgbmV4dCBhcnJheSBpdGVtIGlmIGl0J3MgYSBtb3JlIHNwZWNpZmljIHZhcmlhbnQgdGhhbiB0aGUgY3VycmVudCByb290XG4gICAgZnVuY3Rpb24gY2hvb3NlTG9jYWxlKG5hbWVzKSB7XG4gICAgICAgIHZhciBpID0gMCwgaiwgbmV4dCwgbG9jYWxlLCBzcGxpdDtcblxuICAgICAgICB3aGlsZSAoaSA8IG5hbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgc3BsaXQgPSBub3JtYWxpemVMb2NhbGUobmFtZXNbaV0pLnNwbGl0KCctJyk7XG4gICAgICAgICAgICBqID0gc3BsaXQubGVuZ3RoO1xuICAgICAgICAgICAgbmV4dCA9IG5vcm1hbGl6ZUxvY2FsZShuYW1lc1tpICsgMV0pO1xuICAgICAgICAgICAgbmV4dCA9IG5leHQgPyBuZXh0LnNwbGl0KCctJykgOiBudWxsO1xuICAgICAgICAgICAgd2hpbGUgKGogPiAwKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxlID0gbG9hZExvY2FsZShzcGxpdC5zbGljZSgwLCBqKS5qb2luKCctJykpO1xuICAgICAgICAgICAgICAgIGlmIChsb2NhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5leHQgJiYgbmV4dC5sZW5ndGggPj0gaiAmJiBjb21wYXJlQXJyYXlzKHNwbGl0LCBuZXh0LCB0cnVlKSA+PSBqIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAvL3RoZSBuZXh0IGFycmF5IGl0ZW0gaXMgYmV0dGVyIHRoYW4gYSBzaGFsbG93ZXIgc3Vic3RyaW5nIG9mIHRoaXMgb25lXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBqLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9hZExvY2FsZShuYW1lKSB7XG4gICAgICAgIHZhciBvbGRMb2NhbGUgPSBudWxsO1xuICAgICAgICAvLyBUT0RPOiBGaW5kIGEgYmV0dGVyIHdheSB0byByZWdpc3RlciBhbmQgbG9hZCBhbGwgdGhlIGxvY2FsZXMgaW4gTm9kZVxuICAgICAgICBpZiAoIWxvY2FsZXNbbmFtZV0gJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICAgICAgICBtb2R1bGUgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgb2xkTG9jYWxlID0gZ2xvYmFsTG9jYWxlLl9hYmJyO1xuICAgICAgICAgICAgICAgIHJlcXVpcmUoJy4vbG9jYWxlLycgKyBuYW1lKTtcbiAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIGRlZmluZUxvY2FsZSBjdXJyZW50bHkgYWxzbyBzZXRzIHRoZSBnbG9iYWwgbG9jYWxlLCB3ZVxuICAgICAgICAgICAgICAgIC8vIHdhbnQgdG8gdW5kbyB0aGF0IGZvciBsYXp5IGxvYWRlZCBsb2NhbGVzXG4gICAgICAgICAgICAgICAgbG9jYWxlX2xvY2FsZXNfX2dldFNldEdsb2JhbExvY2FsZShvbGRMb2NhbGUpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxvY2FsZXNbbmFtZV07XG4gICAgfVxuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGxvYWQgbG9jYWxlIGFuZCB0aGVuIHNldCB0aGUgZ2xvYmFsIGxvY2FsZS4gIElmXG4gICAgLy8gbm8gYXJndW1lbnRzIGFyZSBwYXNzZWQgaW4sIGl0IHdpbGwgc2ltcGx5IHJldHVybiB0aGUgY3VycmVudCBnbG9iYWxcbiAgICAvLyBsb2NhbGUga2V5LlxuICAgIGZ1bmN0aW9uIGxvY2FsZV9sb2NhbGVzX19nZXRTZXRHbG9iYWxMb2NhbGUgKGtleSwgdmFsdWVzKSB7XG4gICAgICAgIHZhciBkYXRhO1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBkYXRhID0gbG9jYWxlX2xvY2FsZXNfX2dldExvY2FsZShrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGF0YSA9IGRlZmluZUxvY2FsZShrZXksIHZhbHVlcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgLy8gbW9tZW50LmR1cmF0aW9uLl9sb2NhbGUgPSBtb21lbnQuX2xvY2FsZSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgZ2xvYmFsTG9jYWxlID0gZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnbG9iYWxMb2NhbGUuX2FiYnI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVmaW5lTG9jYWxlIChuYW1lLCB2YWx1ZXMpIHtcbiAgICAgICAgaWYgKHZhbHVlcyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFsdWVzLmFiYnIgPSBuYW1lO1xuICAgICAgICAgICAgbG9jYWxlc1tuYW1lXSA9IGxvY2FsZXNbbmFtZV0gfHwgbmV3IExvY2FsZSgpO1xuICAgICAgICAgICAgbG9jYWxlc1tuYW1lXS5zZXQodmFsdWVzKTtcblxuICAgICAgICAgICAgLy8gYmFja3dhcmRzIGNvbXBhdCBmb3Igbm93OiBhbHNvIHNldCB0aGUgbG9jYWxlXG4gICAgICAgICAgICBsb2NhbGVfbG9jYWxlc19fZ2V0U2V0R2xvYmFsTG9jYWxlKG5hbWUpO1xuXG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlc1tuYW1lXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHVzZWZ1bCBmb3IgdGVzdGluZ1xuICAgICAgICAgICAgZGVsZXRlIGxvY2FsZXNbbmFtZV07XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHJldHVybnMgbG9jYWxlIGRhdGFcbiAgICBmdW5jdGlvbiBsb2NhbGVfbG9jYWxlc19fZ2V0TG9jYWxlIChrZXkpIHtcbiAgICAgICAgdmFyIGxvY2FsZTtcblxuICAgICAgICBpZiAoa2V5ICYmIGtleS5fbG9jYWxlICYmIGtleS5fbG9jYWxlLl9hYmJyKSB7XG4gICAgICAgICAgICBrZXkgPSBrZXkuX2xvY2FsZS5fYWJicjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gZ2xvYmFsTG9jYWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc0FycmF5KGtleSkpIHtcbiAgICAgICAgICAgIC8vc2hvcnQtY2lyY3VpdCBldmVyeXRoaW5nIGVsc2VcbiAgICAgICAgICAgIGxvY2FsZSA9IGxvYWRMb2NhbGUoa2V5KTtcbiAgICAgICAgICAgIGlmIChsb2NhbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAga2V5ID0gW2tleV07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2hvb3NlTG9jYWxlKGtleSk7XG4gICAgfVxuXG4gICAgdmFyIGFsaWFzZXMgPSB7fTtcblxuICAgIGZ1bmN0aW9uIGFkZFVuaXRBbGlhcyAodW5pdCwgc2hvcnRoYW5kKSB7XG4gICAgICAgIHZhciBsb3dlckNhc2UgPSB1bml0LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGFsaWFzZXNbbG93ZXJDYXNlXSA9IGFsaWFzZXNbbG93ZXJDYXNlICsgJ3MnXSA9IGFsaWFzZXNbc2hvcnRoYW5kXSA9IHVuaXQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbm9ybWFsaXplVW5pdHModW5pdHMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB1bml0cyA9PT0gJ3N0cmluZycgPyBhbGlhc2VzW3VuaXRzXSB8fCBhbGlhc2VzW3VuaXRzLnRvTG93ZXJDYXNlKCldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZU9iamVjdFVuaXRzKGlucHV0T2JqZWN0KSB7XG4gICAgICAgIHZhciBub3JtYWxpemVkSW5wdXQgPSB7fSxcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm9wLFxuICAgICAgICAgICAgcHJvcDtcblxuICAgICAgICBmb3IgKHByb3AgaW4gaW5wdXRPYmplY3QpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wKGlucHV0T2JqZWN0LCBwcm9wKSkge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRQcm9wID0gbm9ybWFsaXplVW5pdHMocHJvcCk7XG4gICAgICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRQcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRJbnB1dFtub3JtYWxpemVkUHJvcF0gPSBpbnB1dE9iamVjdFtwcm9wXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9ybWFsaXplZElucHV0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VHZXRTZXQgKHVuaXQsIGtlZXBUaW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZ2V0X3NldF9fc2V0KHRoaXMsIHVuaXQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB1dGlsc19ob29rc19faG9va3MudXBkYXRlT2Zmc2V0KHRoaXMsIGtlZXBUaW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldF9zZXRfX2dldCh0aGlzLCB1bml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRfc2V0X19nZXQgKG1vbSwgdW5pdCkge1xuICAgICAgICByZXR1cm4gbW9tLl9kWydnZXQnICsgKG1vbS5faXNVVEMgPyAnVVRDJyA6ICcnKSArIHVuaXRdKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0X3NldF9fc2V0IChtb20sIHVuaXQsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgdW5pdF0odmFsdWUpO1xuICAgIH1cblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFNldCAodW5pdHMsIHZhbHVlKSB7XG4gICAgICAgIHZhciB1bml0O1xuICAgICAgICBpZiAodHlwZW9mIHVuaXRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgZm9yICh1bml0IGluIHVuaXRzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXQodW5pdCwgdW5pdHNbdW5pdF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXNbdW5pdHNdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNbdW5pdHNdKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB6ZXJvRmlsbChudW1iZXIsIHRhcmdldExlbmd0aCwgZm9yY2VTaWduKSB7XG4gICAgICAgIHZhciBhYnNOdW1iZXIgPSAnJyArIE1hdGguYWJzKG51bWJlciksXG4gICAgICAgICAgICB6ZXJvc1RvRmlsbCA9IHRhcmdldExlbmd0aCAtIGFic051bWJlci5sZW5ndGgsXG4gICAgICAgICAgICBzaWduID0gbnVtYmVyID49IDA7XG4gICAgICAgIHJldHVybiAoc2lnbiA/IChmb3JjZVNpZ24gPyAnKycgOiAnJykgOiAnLScpICtcbiAgICAgICAgICAgIE1hdGgucG93KDEwLCBNYXRoLm1heCgwLCB6ZXJvc1RvRmlsbCkpLnRvU3RyaW5nKCkuc3Vic3RyKDEpICsgYWJzTnVtYmVyO1xuICAgIH1cblxuICAgIHZhciBmb3JtYXR0aW5nVG9rZW5zID0gLyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KE1vfE1NP00/TT98RG98REREb3xERD9EP0Q/fGRkZD9kP3xkbz98d1tvfHddP3xXW298V10/fFF8WVlZWVlZfFlZWVlZfFlZWVl8WVl8Z2coZ2dnPyk/fEdHKEdHRz8pP3xlfEV8YXxBfGhoP3xISD98bW0/fHNzP3xTezEsOX18eHxYfHp6P3xaWj98LikvZztcblxuICAgIHZhciBsb2NhbEZvcm1hdHRpbmdUb2tlbnMgPSAvKFxcW1teXFxbXSpcXF0pfChcXFxcKT8oTFRTfExUfExMP0w/TD98bHsxLDR9KS9nO1xuXG4gICAgdmFyIGZvcm1hdEZ1bmN0aW9ucyA9IHt9O1xuXG4gICAgdmFyIGZvcm1hdFRva2VuRnVuY3Rpb25zID0ge307XG5cbiAgICAvLyB0b2tlbjogICAgJ00nXG4gICAgLy8gcGFkZGVkOiAgIFsnTU0nLCAyXVxuICAgIC8vIG9yZGluYWw6ICAnTW8nXG4gICAgLy8gY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHsgdGhpcy5tb250aCgpICsgMSB9XG4gICAgZnVuY3Rpb24gYWRkRm9ybWF0VG9rZW4gKHRva2VuLCBwYWRkZWQsIG9yZGluYWwsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBmdW5jID0gY2FsbGJhY2s7XG4gICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBmdW5jID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW2NhbGxiYWNrXSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICAgIGZvcm1hdFRva2VuRnVuY3Rpb25zW3Rva2VuXSA9IGZ1bmM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhZGRlZCkge1xuICAgICAgICAgICAgZm9ybWF0VG9rZW5GdW5jdGlvbnNbcGFkZGVkWzBdXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gemVyb0ZpbGwoZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCBwYWRkZWRbMV0sIHBhZGRlZFsyXSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmRpbmFsKSB7XG4gICAgICAgICAgICBmb3JtYXRUb2tlbkZ1bmN0aW9uc1tvcmRpbmFsXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkub3JkaW5hbChmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHRva2VuKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGlucHV0KSB7XG4gICAgICAgIGlmIChpbnB1dC5tYXRjaCgvXFxbW1xcc1xcU10vKSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL15cXFt8XFxdJC9nLCAnJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlucHV0LnJlcGxhY2UoL1xcXFwvZywgJycpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VGb3JtYXRGdW5jdGlvbihmb3JtYXQpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gZm9ybWF0Lm1hdGNoKGZvcm1hdHRpbmdUb2tlbnMpLCBpLCBsZW5ndGg7XG5cbiAgICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChmb3JtYXRUb2tlbkZ1bmN0aW9uc1thcnJheVtpXV0pIHtcbiAgICAgICAgICAgICAgICBhcnJheVtpXSA9IGZvcm1hdFRva2VuRnVuY3Rpb25zW2FycmF5W2ldXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYXJyYXlbaV0gPSByZW1vdmVGb3JtYXR0aW5nVG9rZW5zKGFycmF5W2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAobW9tKSB7XG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gJyc7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQgKz0gYXJyYXlbaV0gaW5zdGFuY2VvZiBGdW5jdGlvbiA/IGFycmF5W2ldLmNhbGwobW9tLCBmb3JtYXQpIDogYXJyYXlbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIGZvcm1hdCBkYXRlIHVzaW5nIG5hdGl2ZSBkYXRlIG9iamVjdFxuICAgIGZ1bmN0aW9uIGZvcm1hdE1vbWVudChtLCBmb3JtYXQpIHtcbiAgICAgICAgaWYgKCFtLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG0ubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JtYXQgPSBleHBhbmRGb3JtYXQoZm9ybWF0LCBtLmxvY2FsZURhdGEoKSk7XG4gICAgICAgIGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdID0gZm9ybWF0RnVuY3Rpb25zW2Zvcm1hdF0gfHwgbWFrZUZvcm1hdEZ1bmN0aW9uKGZvcm1hdCk7XG5cbiAgICAgICAgcmV0dXJuIGZvcm1hdEZ1bmN0aW9uc1tmb3JtYXRdKG0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGV4cGFuZEZvcm1hdChmb3JtYXQsIGxvY2FsZSkge1xuICAgICAgICB2YXIgaSA9IDU7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVwbGFjZUxvbmdEYXRlRm9ybWF0VG9rZW5zKGlucHV0KSB7XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxlLmxvbmdEYXRlRm9ybWF0KGlucHV0KSB8fCBpbnB1dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy5sYXN0SW5kZXggPSAwO1xuICAgICAgICB3aGlsZSAoaSA+PSAwICYmIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy50ZXN0KGZvcm1hdCkpIHtcbiAgICAgICAgICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKGxvY2FsRm9ybWF0dGluZ1Rva2VucywgcmVwbGFjZUxvbmdEYXRlRm9ybWF0VG9rZW5zKTtcbiAgICAgICAgICAgIGxvY2FsRm9ybWF0dGluZ1Rva2Vucy5sYXN0SW5kZXggPSAwO1xuICAgICAgICAgICAgaSAtPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZvcm1hdDtcbiAgICB9XG5cbiAgICB2YXIgbWF0Y2gxICAgICAgICAgPSAvXFxkLzsgICAgICAgICAgICAvLyAgICAgICAwIC0gOVxuICAgIHZhciBtYXRjaDIgICAgICAgICA9IC9cXGRcXGQvOyAgICAgICAgICAvLyAgICAgIDAwIC0gOTlcbiAgICB2YXIgbWF0Y2gzICAgICAgICAgPSAvXFxkezN9LzsgICAgICAgICAvLyAgICAgMDAwIC0gOTk5XG4gICAgdmFyIG1hdGNoNCAgICAgICAgID0gL1xcZHs0fS87ICAgICAgICAgLy8gICAgMDAwMCAtIDk5OTlcbiAgICB2YXIgbWF0Y2g2ICAgICAgICAgPSAvWystXT9cXGR7Nn0vOyAgICAvLyAtOTk5OTk5IC0gOTk5OTk5XG4gICAgdmFyIG1hdGNoMXRvMiAgICAgID0gL1xcZFxcZD8vOyAgICAgICAgIC8vICAgICAgIDAgLSA5OVxuICAgIHZhciBtYXRjaDF0bzMgICAgICA9IC9cXGR7MSwzfS87ICAgICAgIC8vICAgICAgIDAgLSA5OTlcbiAgICB2YXIgbWF0Y2gxdG80ICAgICAgPSAvXFxkezEsNH0vOyAgICAgICAvLyAgICAgICAwIC0gOTk5OVxuICAgIHZhciBtYXRjaDF0bzYgICAgICA9IC9bKy1dP1xcZHsxLDZ9LzsgIC8vIC05OTk5OTkgLSA5OTk5OTlcblxuICAgIHZhciBtYXRjaFVuc2lnbmVkICA9IC9cXGQrLzsgICAgICAgICAgIC8vICAgICAgIDAgLSBpbmZcbiAgICB2YXIgbWF0Y2hTaWduZWQgICAgPSAvWystXT9cXGQrLzsgICAgICAvLyAgICAtaW5mIC0gaW5mXG5cbiAgICB2YXIgbWF0Y2hPZmZzZXQgICAgPSAvWnxbKy1dXFxkXFxkOj9cXGRcXGQvZ2k7IC8vICswMDowMCAtMDA6MDAgKzAwMDAgLTAwMDAgb3IgWlxuXG4gICAgdmFyIG1hdGNoVGltZXN0YW1wID0gL1srLV0/XFxkKyhcXC5cXGR7MSwzfSk/LzsgLy8gMTIzNDU2Nzg5IDEyMzQ1Njc4OS4xMjNcblxuICAgIC8vIGFueSB3b3JkIChvciB0d28pIGNoYXJhY3RlcnMgb3IgbnVtYmVycyBpbmNsdWRpbmcgdHdvL3RocmVlIHdvcmQgbW9udGggaW4gYXJhYmljLlxuICAgIHZhciBtYXRjaFdvcmQgPSAvWzAtOV0qWydhLXpcXHUwMEEwLVxcdTA1RkZcXHUwNzAwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdK3xbXFx1MDYwMC1cXHUwNkZGXFwvXSsoXFxzKj9bXFx1MDYwMC1cXHUwNkZGXSspezEsMn0vaTtcblxuICAgIHZhciByZWdleGVzID0ge307XG5cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uIChzdGgpIHtcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzIzMjVcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBzdGggPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzdGgpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gYWRkUmVnZXhUb2tlbiAodG9rZW4sIHJlZ2V4LCBzdHJpY3RSZWdleCkge1xuICAgICAgICByZWdleGVzW3Rva2VuXSA9IGlzRnVuY3Rpb24ocmVnZXgpID8gcmVnZXggOiBmdW5jdGlvbiAoaXNTdHJpY3QpIHtcbiAgICAgICAgICAgIHJldHVybiAoaXNTdHJpY3QgJiYgc3RyaWN0UmVnZXgpID8gc3RyaWN0UmVnZXggOiByZWdleDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQYXJzZVJlZ2V4Rm9yVG9rZW4gKHRva2VuLCBjb25maWcpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wKHJlZ2V4ZXMsIHRva2VuKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodW5lc2NhcGVGb3JtYXQodG9rZW4pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZWdleGVzW3Rva2VuXShjb25maWcuX3N0cmljdCwgY29uZmlnLl9sb2NhbGUpO1xuICAgIH1cblxuICAgIC8vIENvZGUgZnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM1NjE0OTMvaXMtdGhlcmUtYS1yZWdleHAtZXNjYXBlLWZ1bmN0aW9uLWluLWphdmFzY3JpcHRcbiAgICBmdW5jdGlvbiB1bmVzY2FwZUZvcm1hdChzKSB7XG4gICAgICAgIHJldHVybiBzLnJlcGxhY2UoJ1xcXFwnLCAnJykucmVwbGFjZSgvXFxcXChcXFspfFxcXFwoXFxdKXxcXFsoW15cXF1cXFtdKilcXF18XFxcXCguKS9nLCBmdW5jdGlvbiAobWF0Y2hlZCwgcDEsIHAyLCBwMywgcDQpIHtcbiAgICAgICAgICAgIHJldHVybiBwMSB8fCBwMiB8fCBwMyB8fCBwNDtcbiAgICAgICAgfSkucmVwbGFjZSgvWy1cXC9cXFxcXiQqKz8uKCl8W1xcXXt9XS9nLCAnXFxcXCQmJyk7XG4gICAgfVxuXG4gICAgdmFyIHRva2VucyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gYWRkUGFyc2VUb2tlbiAodG9rZW4sIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBpLCBmdW5jID0gY2FsbGJhY2s7XG4gICAgICAgIGlmICh0eXBlb2YgdG9rZW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0b2tlbiA9IFt0b2tlbl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGZ1bmMgPSBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgICAgICAgICAgYXJyYXlbY2FsbGJhY2tdID0gdG9JbnQoaW5wdXQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdG9rZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRva2Vuc1t0b2tlbltpXV0gPSBmdW5jO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkV2Vla1BhcnNlVG9rZW4gKHRva2VuLCBjYWxsYmFjaykge1xuICAgICAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgICAgICBjb25maWcuX3cgPSBjb25maWcuX3cgfHwge307XG4gICAgICAgICAgICBjYWxsYmFjayhpbnB1dCwgY29uZmlnLl93LCBjb25maWcsIHRva2VuKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkVGltZVRvQXJyYXlGcm9tVG9rZW4odG9rZW4sIGlucHV0LCBjb25maWcpIHtcbiAgICAgICAgaWYgKGlucHV0ICE9IG51bGwgJiYgaGFzT3duUHJvcCh0b2tlbnMsIHRva2VuKSkge1xuICAgICAgICAgICAgdG9rZW5zW3Rva2VuXShpbnB1dCwgY29uZmlnLl9hLCBjb25maWcsIHRva2VuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBZRUFSID0gMDtcbiAgICB2YXIgTU9OVEggPSAxO1xuICAgIHZhciBEQVRFID0gMjtcbiAgICB2YXIgSE9VUiA9IDM7XG4gICAgdmFyIE1JTlVURSA9IDQ7XG4gICAgdmFyIFNFQ09ORCA9IDU7XG4gICAgdmFyIE1JTExJU0VDT05EID0gNjtcblxuICAgIGZ1bmN0aW9uIGRheXNJbk1vbnRoKHllYXIsIG1vbnRoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShEYXRlLlVUQyh5ZWFyLCBtb250aCArIDEsIDApKS5nZXRVVENEYXRlKCk7XG4gICAgfVxuXG4gICAgLy8gRk9STUFUVElOR1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ00nLCBbJ01NJywgMl0sICdNbycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW9udGgoKSArIDE7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignTU1NJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzU2hvcnQodGhpcywgZm9ybWF0KTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdNTU1NJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzKHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ21vbnRoJywgJ00nKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ00nLCAgICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ01NJywgICBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignTU1NJywgIG1hdGNoV29yZCk7XG4gICAgYWRkUmVnZXhUb2tlbignTU1NTScsIG1hdGNoV29yZCk7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnTScsICdNTSddLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W01PTlRIXSA9IHRvSW50KGlucHV0KSAtIDE7XG4gICAgfSk7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnTU1NJywgJ01NTU0nXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnLCB0b2tlbikge1xuICAgICAgICB2YXIgbW9udGggPSBjb25maWcuX2xvY2FsZS5tb250aHNQYXJzZShpbnB1dCwgdG9rZW4sIGNvbmZpZy5fc3RyaWN0KTtcbiAgICAgICAgLy8gaWYgd2UgZGlkbid0IGZpbmQgYSBtb250aCBuYW1lLCBtYXJrIHRoZSBkYXRlIGFzIGludmFsaWQuXG4gICAgICAgIGlmIChtb250aCAhPSBudWxsKSB7XG4gICAgICAgICAgICBhcnJheVtNT05USF0gPSBtb250aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRNb250aCA9IGlucHV0O1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBMT0NBTEVTXG5cbiAgICB2YXIgZGVmYXVsdExvY2FsZU1vbnRocyA9ICdKYW51YXJ5X0ZlYnJ1YXJ5X01hcmNoX0FwcmlsX01heV9KdW5lX0p1bHlfQXVndXN0X1NlcHRlbWJlcl9PY3RvYmVyX05vdmVtYmVyX0RlY2VtYmVyJy5zcGxpdCgnXycpO1xuICAgIGZ1bmN0aW9uIGxvY2FsZU1vbnRocyAobSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzW20ubW9udGgoKV07XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVNb250aHNTaG9ydCA9ICdKYW5fRmViX01hcl9BcHJfTWF5X0p1bl9KdWxfQXVnX1NlcF9PY3RfTm92X0RlYycuc3BsaXQoJ18nKTtcbiAgICBmdW5jdGlvbiBsb2NhbGVNb250aHNTaG9ydCAobSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW9udGhzU2hvcnRbbS5tb250aCgpXTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVNb250aHNQYXJzZSAobW9udGhOYW1lLCBmb3JtYXQsIHN0cmljdCkge1xuICAgICAgICB2YXIgaSwgbW9tLCByZWdleDtcblxuICAgICAgICBpZiAoIXRoaXMuX21vbnRoc1BhcnNlKSB7XG4gICAgICAgICAgICB0aGlzLl9tb250aHNQYXJzZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fbG9uZ01vbnRoc1BhcnNlID0gW107XG4gICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICAgICAgLy8gbWFrZSB0aGUgcmVnZXggaWYgd2UgZG9uJ3QgaGF2ZSBpdCBhbHJlYWR5XG4gICAgICAgICAgICBtb20gPSBjcmVhdGVfdXRjX19jcmVhdGVVVEMoWzIwMDAsIGldKTtcbiAgICAgICAgICAgIGlmIChzdHJpY3QgJiYgIXRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvbmdNb250aHNQYXJzZVtpXSA9IG5ldyBSZWdFeHAoJ14nICsgdGhpcy5tb250aHMobW9tLCAnJykucmVwbGFjZSgnLicsICcnKSArICckJywgJ2knKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaG9ydE1vbnRoc1BhcnNlW2ldID0gbmV3IFJlZ0V4cCgnXicgKyB0aGlzLm1vbnRoc1Nob3J0KG1vbSwgJycpLnJlcGxhY2UoJy4nLCAnJykgKyAnJCcsICdpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXN0cmljdCAmJiAhdGhpcy5fbW9udGhzUGFyc2VbaV0pIHtcbiAgICAgICAgICAgICAgICByZWdleCA9ICdeJyArIHRoaXMubW9udGhzKG1vbSwgJycpICsgJ3xeJyArIHRoaXMubW9udGhzU2hvcnQobW9tLCAnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW9udGhzUGFyc2VbaV0gPSBuZXcgUmVnRXhwKHJlZ2V4LnJlcGxhY2UoJy4nLCAnJyksICdpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0ZXN0IHRoZSByZWdleFxuICAgICAgICAgICAgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdNTU1NJyAmJiB0aGlzLl9sb25nTW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmljdCAmJiBmb3JtYXQgPT09ICdNTU0nICYmIHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFzdHJpY3QgJiYgdGhpcy5fbW9udGhzUGFyc2VbaV0udGVzdChtb250aE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBzZXRNb250aCAobW9tLCB2YWx1ZSkge1xuICAgICAgICB2YXIgZGF5T2ZNb250aDtcblxuICAgICAgICAvLyBUT0RPOiBNb3ZlIHRoaXMgb3V0IG9mIGhlcmUhXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IG1vbS5sb2NhbGVEYXRhKCkubW9udGhzUGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgLy8gVE9ETzogQW5vdGhlciBzaWxlbnQgZmFpbHVyZT9cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGRheU9mTW9udGggPSBNYXRoLm1pbihtb20uZGF0ZSgpLCBkYXlzSW5Nb250aChtb20ueWVhcigpLCB2YWx1ZSkpO1xuICAgICAgICBtb20uX2RbJ3NldCcgKyAobW9tLl9pc1VUQyA/ICdVVEMnIDogJycpICsgJ01vbnRoJ10odmFsdWUsIGRheU9mTW9udGgpO1xuICAgICAgICByZXR1cm4gbW9tO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFNldE1vbnRoICh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgc2V0TW9udGgodGhpcywgdmFsdWUpO1xuICAgICAgICAgICAgdXRpbHNfaG9va3NfX2hvb2tzLnVwZGF0ZU9mZnNldCh0aGlzLCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGdldF9zZXRfX2dldCh0aGlzLCAnTW9udGgnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldERheXNJbk1vbnRoICgpIHtcbiAgICAgICAgcmV0dXJuIGRheXNJbk1vbnRoKHRoaXMueWVhcigpLCB0aGlzLm1vbnRoKCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoZWNrT3ZlcmZsb3cgKG0pIHtcbiAgICAgICAgdmFyIG92ZXJmbG93O1xuICAgICAgICB2YXIgYSA9IG0uX2E7XG5cbiAgICAgICAgaWYgKGEgJiYgZ2V0UGFyc2luZ0ZsYWdzKG0pLm92ZXJmbG93ID09PSAtMikge1xuICAgICAgICAgICAgb3ZlcmZsb3cgPVxuICAgICAgICAgICAgICAgIGFbTU9OVEhdICAgICAgIDwgMCB8fCBhW01PTlRIXSAgICAgICA+IDExICA/IE1PTlRIIDpcbiAgICAgICAgICAgICAgICBhW0RBVEVdICAgICAgICA8IDEgfHwgYVtEQVRFXSAgICAgICAgPiBkYXlzSW5Nb250aChhW1lFQVJdLCBhW01PTlRIXSkgPyBEQVRFIDpcbiAgICAgICAgICAgICAgICBhW0hPVVJdICAgICAgICA8IDAgfHwgYVtIT1VSXSAgICAgICAgPiAyNCB8fCAoYVtIT1VSXSA9PT0gMjQgJiYgKGFbTUlOVVRFXSAhPT0gMCB8fCBhW1NFQ09ORF0gIT09IDAgfHwgYVtNSUxMSVNFQ09ORF0gIT09IDApKSA/IEhPVVIgOlxuICAgICAgICAgICAgICAgIGFbTUlOVVRFXSAgICAgIDwgMCB8fCBhW01JTlVURV0gICAgICA+IDU5ICA/IE1JTlVURSA6XG4gICAgICAgICAgICAgICAgYVtTRUNPTkRdICAgICAgPCAwIHx8IGFbU0VDT05EXSAgICAgID4gNTkgID8gU0VDT05EIDpcbiAgICAgICAgICAgICAgICBhW01JTExJU0VDT05EXSA8IDAgfHwgYVtNSUxMSVNFQ09ORF0gPiA5OTkgPyBNSUxMSVNFQ09ORCA6XG4gICAgICAgICAgICAgICAgLTE7XG5cbiAgICAgICAgICAgIGlmIChnZXRQYXJzaW5nRmxhZ3MobSkuX292ZXJmbG93RGF5T2ZZZWFyICYmIChvdmVyZmxvdyA8IFlFQVIgfHwgb3ZlcmZsb3cgPiBEQVRFKSkge1xuICAgICAgICAgICAgICAgIG92ZXJmbG93ID0gREFURTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKG0pLm92ZXJmbG93ID0gb3ZlcmZsb3c7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB3YXJuKG1zZykge1xuICAgICAgICBpZiAodXRpbHNfaG9va3NfX2hvb2tzLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncyA9PT0gZmFsc2UgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIGNvbnNvbGUud2Fybikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdEZXByZWNhdGlvbiB3YXJuaW5nOiAnICsgbXNnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlcHJlY2F0ZShtc2csIGZuKSB7XG4gICAgICAgIHZhciBmaXJzdFRpbWUgPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGZpcnN0VGltZSkge1xuICAgICAgICAgICAgICAgIHdhcm4obXNnICsgJ1xcbicgKyAobmV3IEVycm9yKCkpLnN0YWNrKTtcbiAgICAgICAgICAgICAgICBmaXJzdFRpbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9LCBmbik7XG4gICAgfVxuXG4gICAgdmFyIGRlcHJlY2F0aW9ucyA9IHt9O1xuXG4gICAgZnVuY3Rpb24gZGVwcmVjYXRlU2ltcGxlKG5hbWUsIG1zZykge1xuICAgICAgICBpZiAoIWRlcHJlY2F0aW9uc1tuYW1lXSkge1xuICAgICAgICAgICAgd2Fybihtc2cpO1xuICAgICAgICAgICAgZGVwcmVjYXRpb25zW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHV0aWxzX2hvb2tzX19ob29rcy5zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ3MgPSBmYWxzZTtcblxuICAgIHZhciBmcm9tX3N0cmluZ19faXNvUmVnZXggPSAvXlxccyooPzpbKy1dXFxkezZ9fFxcZHs0fSktKD86KFxcZFxcZC1cXGRcXGQpfChXXFxkXFxkJCl8KFdcXGRcXGQtXFxkKXwoXFxkXFxkXFxkKSkoKFR8ICkoXFxkXFxkKDpcXGRcXGQoOlxcZFxcZChcXC5cXGQrKT8pPyk/KT8oW1xcK1xcLV1cXGRcXGQoPzo6P1xcZFxcZCk/fFxccypaKT8pPyQvO1xuXG4gICAgdmFyIGlzb0RhdGVzID0gW1xuICAgICAgICBbJ1lZWVlZWS1NTS1ERCcsIC9bKy1dXFxkezZ9LVxcZHsyfS1cXGR7Mn0vXSxcbiAgICAgICAgWydZWVlZLU1NLUREJywgL1xcZHs0fS1cXGR7Mn0tXFxkezJ9L10sXG4gICAgICAgIFsnR0dHRy1bV11XVy1FJywgL1xcZHs0fS1XXFxkezJ9LVxcZC9dLFxuICAgICAgICBbJ0dHR0ctW1ddV1cnLCAvXFxkezR9LVdcXGR7Mn0vXSxcbiAgICAgICAgWydZWVlZLURERCcsIC9cXGR7NH0tXFxkezN9L11cbiAgICBdO1xuXG4gICAgLy8gaXNvIHRpbWUgZm9ybWF0cyBhbmQgcmVnZXhlc1xuICAgIHZhciBpc29UaW1lcyA9IFtcbiAgICAgICAgWydISDptbTpzcy5TU1NTJywgLyhUfCApXFxkXFxkOlxcZFxcZDpcXGRcXGRcXC5cXGQrL10sXG4gICAgICAgIFsnSEg6bW06c3MnLCAvKFR8IClcXGRcXGQ6XFxkXFxkOlxcZFxcZC9dLFxuICAgICAgICBbJ0hIOm1tJywgLyhUfCApXFxkXFxkOlxcZFxcZC9dLFxuICAgICAgICBbJ0hIJywgLyhUfCApXFxkXFxkL11cbiAgICBdO1xuXG4gICAgdmFyIGFzcE5ldEpzb25SZWdleCA9IC9eXFwvP0RhdGVcXCgoXFwtP1xcZCspL2k7XG5cbiAgICAvLyBkYXRlIGZyb20gaXNvIGZvcm1hdFxuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21JU08oY29uZmlnKSB7XG4gICAgICAgIHZhciBpLCBsLFxuICAgICAgICAgICAgc3RyaW5nID0gY29uZmlnLl9pLFxuICAgICAgICAgICAgbWF0Y2ggPSBmcm9tX3N0cmluZ19faXNvUmVnZXguZXhlYyhzdHJpbmcpO1xuXG4gICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaXNvID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSBpc29EYXRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNvRGF0ZXNbaV1bMV0uZXhlYyhzdHJpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZy5fZiA9IGlzb0RhdGVzW2ldWzBdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gaXNvVGltZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzb1RpbWVzW2ldWzFdLmV4ZWMoc3RyaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBtYXRjaFs2XSBzaG91bGQgYmUgJ1QnIG9yIHNwYWNlXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZy5fZiArPSAobWF0Y2hbNl0gfHwgJyAnKSArIGlzb1RpbWVzW2ldWzBdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RyaW5nLm1hdGNoKG1hdGNoT2Zmc2V0KSkge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5fZiArPSAnWic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KGNvbmZpZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25maWcuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRhdGUgZnJvbSBpc28gZm9ybWF0IG9yIGZhbGxiYWNrXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZyhjb25maWcpIHtcbiAgICAgICAgdmFyIG1hdGNoZWQgPSBhc3BOZXRKc29uUmVnZXguZXhlYyhjb25maWcuX2kpO1xuXG4gICAgICAgIGlmIChtYXRjaGVkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZSgrbWF0Y2hlZFsxXSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25maWdGcm9tSVNPKGNvbmZpZyk7XG4gICAgICAgIGlmIChjb25maWcuX2lzVmFsaWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBkZWxldGUgY29uZmlnLl9pc1ZhbGlkO1xuICAgICAgICAgICAgdXRpbHNfaG9va3NfX2hvb2tzLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1dGlsc19ob29rc19faG9va3MuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2sgPSBkZXByZWNhdGUoXG4gICAgICAgICdtb21lbnQgY29uc3RydWN0aW9uIGZhbGxzIGJhY2sgdG8ganMgRGF0ZS4gVGhpcyBpcyAnICtcbiAgICAgICAgJ2Rpc2NvdXJhZ2VkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdXBjb21pbmcgbWFqb3IgJyArXG4gICAgICAgICdyZWxlYXNlLiBQbGVhc2UgcmVmZXIgdG8gJyArXG4gICAgICAgICdodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTQwNyBmb3IgbW9yZSBpbmZvLicsXG4gICAgICAgIGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGNvbmZpZy5faSArIChjb25maWcuX3VzZVVUQyA/ICcgVVRDJyA6ICcnKSk7XG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlRGF0ZSAoeSwgbSwgZCwgaCwgTSwgcywgbXMpIHtcbiAgICAgICAgLy9jYW4ndCBqdXN0IGFwcGx5KCkgdG8gY3JlYXRlIGEgZGF0ZTpcbiAgICAgICAgLy9odHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE4MTM0OC9pbnN0YW50aWF0aW5nLWEtamF2YXNjcmlwdC1vYmplY3QtYnktY2FsbGluZy1wcm90b3R5cGUtY29uc3RydWN0b3ItYXBwbHlcbiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh5LCBtLCBkLCBoLCBNLCBzLCBtcyk7XG5cbiAgICAgICAgLy90aGUgZGF0ZSBjb25zdHJ1Y3RvciBkb2Vzbid0IGFjY2VwdCB5ZWFycyA8IDE5NzBcbiAgICAgICAgaWYgKHkgPCAxOTcwKSB7XG4gICAgICAgICAgICBkYXRlLnNldEZ1bGxZZWFyKHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZVVUQ0RhdGUgKHkpIHtcbiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShEYXRlLlVUQy5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcbiAgICAgICAgaWYgKHkgPCAxOTcwKSB7XG4gICAgICAgICAgICBkYXRlLnNldFVUQ0Z1bGxZZWFyKHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnWVknLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy55ZWFyKCkgJSAxMDA7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1lZWVknLCAgIDRdLCAgICAgICAwLCAneWVhcicpO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnWVlZWVknLCAgNV0sICAgICAgIDAsICd5ZWFyJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydZWVlZWVknLCA2LCB0cnVlXSwgMCwgJ3llYXInKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygneWVhcicsICd5Jyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdZJywgICAgICBtYXRjaFNpZ25lZCk7XG4gICAgYWRkUmVnZXhUb2tlbignWVknLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1lZWVknLCAgIG1hdGNoMXRvNCwgbWF0Y2g0KTtcbiAgICBhZGRSZWdleFRva2VuKCdZWVlZWScsICBtYXRjaDF0bzYsIG1hdGNoNik7XG4gICAgYWRkUmVnZXhUb2tlbignWVlZWVlZJywgbWF0Y2gxdG82LCBtYXRjaDYpO1xuXG4gICAgYWRkUGFyc2VUb2tlbihbJ1lZWVlZJywgJ1lZWVlZWSddLCBZRUFSKTtcbiAgICBhZGRQYXJzZVRva2VuKCdZWVlZJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSkge1xuICAgICAgICBhcnJheVtZRUFSXSA9IGlucHV0Lmxlbmd0aCA9PT0gMiA/IHV0aWxzX2hvb2tzX19ob29rcy5wYXJzZVR3b0RpZ2l0WWVhcihpbnB1dCkgOiB0b0ludChpbnB1dCk7XG4gICAgfSk7XG4gICAgYWRkUGFyc2VUb2tlbignWVknLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W1lFQVJdID0gdXRpbHNfaG9va3NfX2hvb2tzLnBhcnNlVHdvRGlnaXRZZWFyKGlucHV0KTtcbiAgICB9KTtcblxuICAgIC8vIEhFTFBFUlNcblxuICAgIGZ1bmN0aW9uIGRheXNJblllYXIoeWVhcikge1xuICAgICAgICByZXR1cm4gaXNMZWFwWWVhcih5ZWFyKSA/IDM2NiA6IDM2NTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0xlYXBZZWFyKHllYXIpIHtcbiAgICAgICAgcmV0dXJuICh5ZWFyICUgNCA9PT0gMCAmJiB5ZWFyICUgMTAwICE9PSAwKSB8fCB5ZWFyICUgNDAwID09PSAwO1xuICAgIH1cblxuICAgIC8vIEhPT0tTXG5cbiAgICB1dGlsc19ob29rc19faG9va3MucGFyc2VUd29EaWdpdFllYXIgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHRvSW50KGlucHV0KSArICh0b0ludChpbnB1dCkgPiA2OCA/IDE5MDAgOiAyMDAwKTtcbiAgICB9O1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgdmFyIGdldFNldFllYXIgPSBtYWtlR2V0U2V0KCdGdWxsWWVhcicsIGZhbHNlKTtcblxuICAgIGZ1bmN0aW9uIGdldElzTGVhcFllYXIgKCkge1xuICAgICAgICByZXR1cm4gaXNMZWFwWWVhcih0aGlzLnllYXIoKSk7XG4gICAgfVxuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ3cnLCBbJ3d3JywgMl0sICd3bycsICd3ZWVrJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ1cnLCBbJ1dXJywgMl0sICdXbycsICdpc29XZWVrJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ3dlZWsnLCAndycpO1xuICAgIGFkZFVuaXRBbGlhcygnaXNvV2VlaycsICdXJyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCd3JywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignd3cnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignVycsICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1dXJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oWyd3JywgJ3d3JywgJ1cnLCAnV1cnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgIHdlZWtbdG9rZW4uc3Vic3RyKDAsIDEpXSA9IHRvSW50KGlucHV0KTtcbiAgICB9KTtcblxuICAgIC8vIEhFTFBFUlNcblxuICAgIC8vIGZpcnN0RGF5T2ZXZWVrICAgICAgIDAgPSBzdW4sIDYgPSBzYXRcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICB0aGUgZGF5IG9mIHRoZSB3ZWVrIHRoYXQgc3RhcnRzIHRoZSB3ZWVrXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgKHVzdWFsbHkgc3VuZGF5IG9yIG1vbmRheSlcbiAgICAvLyBmaXJzdERheU9mV2Vla09mWWVhciAwID0gc3VuLCA2ID0gc2F0XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICAgdGhlIGZpcnN0IHdlZWsgaXMgdGhlIHdlZWsgdGhhdCBjb250YWlucyB0aGUgZmlyc3RcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICBvZiB0aGlzIGRheSBvZiB0aGUgd2Vla1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgIChlZy4gSVNPIHdlZWtzIHVzZSB0aHVyc2RheSAoNCkpXG4gICAgZnVuY3Rpb24gd2Vla09mWWVhcihtb20sIGZpcnN0RGF5T2ZXZWVrLCBmaXJzdERheU9mV2Vla09mWWVhcikge1xuICAgICAgICB2YXIgZW5kID0gZmlyc3REYXlPZldlZWtPZlllYXIgLSBmaXJzdERheU9mV2VlayxcbiAgICAgICAgICAgIGRheXNUb0RheU9mV2VlayA9IGZpcnN0RGF5T2ZXZWVrT2ZZZWFyIC0gbW9tLmRheSgpLFxuICAgICAgICAgICAgYWRqdXN0ZWRNb21lbnQ7XG5cblxuICAgICAgICBpZiAoZGF5c1RvRGF5T2ZXZWVrID4gZW5kKSB7XG4gICAgICAgICAgICBkYXlzVG9EYXlPZldlZWsgLT0gNztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYXlzVG9EYXlPZldlZWsgPCBlbmQgLSA3KSB7XG4gICAgICAgICAgICBkYXlzVG9EYXlPZldlZWsgKz0gNztcbiAgICAgICAgfVxuXG4gICAgICAgIGFkanVzdGVkTW9tZW50ID0gbG9jYWxfX2NyZWF0ZUxvY2FsKG1vbSkuYWRkKGRheXNUb0RheU9mV2VlaywgJ2QnKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdlZWs6IE1hdGguY2VpbChhZGp1c3RlZE1vbWVudC5kYXlPZlllYXIoKSAvIDcpLFxuICAgICAgICAgICAgeWVhcjogYWRqdXN0ZWRNb21lbnQueWVhcigpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gTE9DQUxFU1xuXG4gICAgZnVuY3Rpb24gbG9jYWxlV2VlayAobW9tKSB7XG4gICAgICAgIHJldHVybiB3ZWVrT2ZZZWFyKG1vbSwgdGhpcy5fd2Vlay5kb3csIHRoaXMuX3dlZWsuZG95KS53ZWVrO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TG9jYWxlV2VlayA9IHtcbiAgICAgICAgZG93IDogMCwgLy8gU3VuZGF5IGlzIHRoZSBmaXJzdCBkYXkgb2YgdGhlIHdlZWsuXG4gICAgICAgIGRveSA6IDYgIC8vIFRoZSB3ZWVrIHRoYXQgY29udGFpbnMgSmFuIDFzdCBpcyB0aGUgZmlyc3Qgd2VlayBvZiB0aGUgeWVhci5cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbG9jYWxlRmlyc3REYXlPZldlZWsgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2Vlay5kb3c7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxlRmlyc3REYXlPZlllYXIgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2Vlay5kb3k7XG4gICAgfVxuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgZnVuY3Rpb24gZ2V0U2V0V2VlayAoaW5wdXQpIHtcbiAgICAgICAgdmFyIHdlZWsgPSB0aGlzLmxvY2FsZURhdGEoKS53ZWVrKHRoaXMpO1xuICAgICAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHdlZWsgOiB0aGlzLmFkZCgoaW5wdXQgLSB3ZWVrKSAqIDcsICdkJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0SVNPV2VlayAoaW5wdXQpIHtcbiAgICAgICAgdmFyIHdlZWsgPSB3ZWVrT2ZZZWFyKHRoaXMsIDEsIDQpLndlZWs7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2VlayA6IHRoaXMuYWRkKChpbnB1dCAtIHdlZWspICogNywgJ2QnKTtcbiAgICB9XG5cbiAgICBhZGRGb3JtYXRUb2tlbignREREJywgWydEREREJywgM10sICdERERvJywgJ2RheU9mWWVhcicpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdkYXlPZlllYXInLCAnREREJyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdEREQnLCAgbWF0Y2gxdG8zKTtcbiAgICBhZGRSZWdleFRva2VuKCdEREREJywgbWF0Y2gzKTtcbiAgICBhZGRQYXJzZVRva2VuKFsnREREJywgJ0REREQnXSwgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZy5fZGF5T2ZZZWFyID0gdG9JbnQoaW5wdXQpO1xuICAgIH0pO1xuXG4gICAgLy8gSEVMUEVSU1xuXG4gICAgLy9odHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT193ZWVrX2RhdGUjQ2FsY3VsYXRpbmdfYV9kYXRlX2dpdmVuX3RoZV95ZWFyLjJDX3dlZWtfbnVtYmVyX2FuZF93ZWVrZGF5XG4gICAgZnVuY3Rpb24gZGF5T2ZZZWFyRnJvbVdlZWtzKHllYXIsIHdlZWssIHdlZWtkYXksIGZpcnN0RGF5T2ZXZWVrT2ZZZWFyLCBmaXJzdERheU9mV2Vlaykge1xuICAgICAgICB2YXIgd2VlazFKYW4gPSA2ICsgZmlyc3REYXlPZldlZWsgLSBmaXJzdERheU9mV2Vla09mWWVhciwgamFuWCA9IGNyZWF0ZVVUQ0RhdGUoeWVhciwgMCwgMSArIHdlZWsxSmFuKSwgZCA9IGphblguZ2V0VVRDRGF5KCksIGRheU9mWWVhcjtcbiAgICAgICAgaWYgKGQgPCBmaXJzdERheU9mV2Vlaykge1xuICAgICAgICAgICAgZCArPSA3O1xuICAgICAgICB9XG5cbiAgICAgICAgd2Vla2RheSA9IHdlZWtkYXkgIT0gbnVsbCA/IDEgKiB3ZWVrZGF5IDogZmlyc3REYXlPZldlZWs7XG5cbiAgICAgICAgZGF5T2ZZZWFyID0gMSArIHdlZWsxSmFuICsgNyAqICh3ZWVrIC0gMSkgLSBkICsgd2Vla2RheTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeWVhcjogZGF5T2ZZZWFyID4gMCA/IHllYXIgOiB5ZWFyIC0gMSxcbiAgICAgICAgICAgIGRheU9mWWVhcjogZGF5T2ZZZWFyID4gMCA/ICBkYXlPZlllYXIgOiBkYXlzSW5ZZWFyKHllYXIgLSAxKSArIGRheU9mWWVhclxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIE1PTUVOVFNcblxuICAgIGZ1bmN0aW9uIGdldFNldERheU9mWWVhciAoaW5wdXQpIHtcbiAgICAgICAgdmFyIGRheU9mWWVhciA9IE1hdGgucm91bmQoKHRoaXMuY2xvbmUoKS5zdGFydE9mKCdkYXknKSAtIHRoaXMuY2xvbmUoKS5zdGFydE9mKCd5ZWFyJykpIC8gODY0ZTUpICsgMTtcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyBkYXlPZlllYXIgOiB0aGlzLmFkZCgoaW5wdXQgLSBkYXlPZlllYXIpLCAnZCcpO1xuICAgIH1cblxuICAgIC8vIFBpY2sgdGhlIGZpcnN0IGRlZmluZWQgb2YgdHdvIG9yIHRocmVlIGFyZ3VtZW50cy5cbiAgICBmdW5jdGlvbiBkZWZhdWx0cyhhLCBiLCBjKSB7XG4gICAgICAgIGlmIChhICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICB9XG4gICAgICAgIGlmIChiICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKSB7XG4gICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBpZiAoY29uZmlnLl91c2VVVEMpIHtcbiAgICAgICAgICAgIHJldHVybiBbbm93LmdldFVUQ0Z1bGxZZWFyKCksIG5vdy5nZXRVVENNb250aCgpLCBub3cuZ2V0VVRDRGF0ZSgpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW25vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgbm93LmdldERhdGUoKV07XG4gICAgfVxuXG4gICAgLy8gY29udmVydCBhbiBhcnJheSB0byBhIGRhdGUuXG4gICAgLy8gdGhlIGFycmF5IHNob3VsZCBtaXJyb3IgdGhlIHBhcmFtZXRlcnMgYmVsb3dcbiAgICAvLyBub3RlOiBhbGwgdmFsdWVzIHBhc3QgdGhlIHllYXIgYXJlIG9wdGlvbmFsIGFuZCB3aWxsIGRlZmF1bHQgdG8gdGhlIGxvd2VzdCBwb3NzaWJsZSB2YWx1ZS5cbiAgICAvLyBbeWVhciwgbW9udGgsIGRheSAsIGhvdXIsIG1pbnV0ZSwgc2Vjb25kLCBtaWxsaXNlY29uZF1cbiAgICBmdW5jdGlvbiBjb25maWdGcm9tQXJyYXkgKGNvbmZpZykge1xuICAgICAgICB2YXIgaSwgZGF0ZSwgaW5wdXQgPSBbXSwgY3VycmVudERhdGUsIHllYXJUb1VzZTtcblxuICAgICAgICBpZiAoY29uZmlnLl9kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50RGF0ZSA9IGN1cnJlbnREYXRlQXJyYXkoY29uZmlnKTtcblxuICAgICAgICAvL2NvbXB1dGUgZGF5IG9mIHRoZSB5ZWFyIGZyb20gd2Vla3MgYW5kIHdlZWtkYXlzXG4gICAgICAgIGlmIChjb25maWcuX3cgJiYgY29uZmlnLl9hW0RBVEVdID09IG51bGwgJiYgY29uZmlnLl9hW01PTlRIXSA9PSBudWxsKSB7XG4gICAgICAgICAgICBkYXlPZlllYXJGcm9tV2Vla0luZm8oY29uZmlnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vaWYgdGhlIGRheSBvZiB0aGUgeWVhciBpcyBzZXQsIGZpZ3VyZSBvdXQgd2hhdCBpdCBpc1xuICAgICAgICBpZiAoY29uZmlnLl9kYXlPZlllYXIpIHtcbiAgICAgICAgICAgIHllYXJUb1VzZSA9IGRlZmF1bHRzKGNvbmZpZy5fYVtZRUFSXSwgY3VycmVudERhdGVbWUVBUl0pO1xuXG4gICAgICAgICAgICBpZiAoY29uZmlnLl9kYXlPZlllYXIgPiBkYXlzSW5ZZWFyKHllYXJUb1VzZSkpIHtcbiAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5fb3ZlcmZsb3dEYXlPZlllYXIgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkYXRlID0gY3JlYXRlVVRDRGF0ZSh5ZWFyVG9Vc2UsIDAsIGNvbmZpZy5fZGF5T2ZZZWFyKTtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtNT05USF0gPSBkYXRlLmdldFVUQ01vbnRoKCk7XG4gICAgICAgICAgICBjb25maWcuX2FbREFURV0gPSBkYXRlLmdldFVUQ0RhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERlZmF1bHQgdG8gY3VycmVudCBkYXRlLlxuICAgICAgICAvLyAqIGlmIG5vIHllYXIsIG1vbnRoLCBkYXkgb2YgbW9udGggYXJlIGdpdmVuLCBkZWZhdWx0IHRvIHRvZGF5XG4gICAgICAgIC8vICogaWYgZGF5IG9mIG1vbnRoIGlzIGdpdmVuLCBkZWZhdWx0IG1vbnRoIGFuZCB5ZWFyXG4gICAgICAgIC8vICogaWYgbW9udGggaXMgZ2l2ZW4sIGRlZmF1bHQgb25seSB5ZWFyXG4gICAgICAgIC8vICogaWYgeWVhciBpcyBnaXZlbiwgZG9uJ3QgZGVmYXVsdCBhbnl0aGluZ1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMyAmJiBjb25maWcuX2FbaV0gPT0gbnVsbDsgKytpKSB7XG4gICAgICAgICAgICBjb25maWcuX2FbaV0gPSBpbnB1dFtpXSA9IGN1cnJlbnREYXRlW2ldO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gWmVybyBvdXQgd2hhdGV2ZXIgd2FzIG5vdCBkZWZhdWx0ZWQsIGluY2x1ZGluZyB0aW1lXG4gICAgICAgIGZvciAoOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgICAgICBjb25maWcuX2FbaV0gPSBpbnB1dFtpXSA9IChjb25maWcuX2FbaV0gPT0gbnVsbCkgPyAoaSA9PT0gMiA/IDEgOiAwKSA6IGNvbmZpZy5fYVtpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGZvciAyNDowMDowMC4wMDBcbiAgICAgICAgaWYgKGNvbmZpZy5fYVtIT1VSXSA9PT0gMjQgJiZcbiAgICAgICAgICAgICAgICBjb25maWcuX2FbTUlOVVRFXSA9PT0gMCAmJlxuICAgICAgICAgICAgICAgIGNvbmZpZy5fYVtTRUNPTkRdID09PSAwICYmXG4gICAgICAgICAgICAgICAgY29uZmlnLl9hW01JTExJU0VDT05EXSA9PT0gMCkge1xuICAgICAgICAgICAgY29uZmlnLl9uZXh0RGF5ID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbmZpZy5fYVtIT1VSXSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICBjb25maWcuX2QgPSAoY29uZmlnLl91c2VVVEMgPyBjcmVhdGVVVENEYXRlIDogY3JlYXRlRGF0ZSkuYXBwbHkobnVsbCwgaW5wdXQpO1xuICAgICAgICAvLyBBcHBseSB0aW1lem9uZSBvZmZzZXQgZnJvbSBpbnB1dC4gVGhlIGFjdHVhbCB1dGNPZmZzZXQgY2FuIGJlIGNoYW5nZWRcbiAgICAgICAgLy8gd2l0aCBwYXJzZVpvbmUuXG4gICAgICAgIGlmIChjb25maWcuX3R6bSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25maWcuX2Quc2V0VVRDTWludXRlcyhjb25maWcuX2QuZ2V0VVRDTWludXRlcygpIC0gY29uZmlnLl90em0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbmZpZy5fbmV4dERheSkge1xuICAgICAgICAgICAgY29uZmlnLl9hW0hPVVJdID0gMjQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkYXlPZlllYXJGcm9tV2Vla0luZm8oY29uZmlnKSB7XG4gICAgICAgIHZhciB3LCB3ZWVrWWVhciwgd2Vlaywgd2Vla2RheSwgZG93LCBkb3ksIHRlbXA7XG5cbiAgICAgICAgdyA9IGNvbmZpZy5fdztcbiAgICAgICAgaWYgKHcuR0cgIT0gbnVsbCB8fCB3LlcgIT0gbnVsbCB8fCB3LkUgIT0gbnVsbCkge1xuICAgICAgICAgICAgZG93ID0gMTtcbiAgICAgICAgICAgIGRveSA9IDQ7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IFdlIG5lZWQgdG8gdGFrZSB0aGUgY3VycmVudCBpc29XZWVrWWVhciwgYnV0IHRoYXQgZGVwZW5kcyBvblxuICAgICAgICAgICAgLy8gaG93IHdlIGludGVycHJldCBub3cgKGxvY2FsLCB1dGMsIGZpeGVkIG9mZnNldCkuIFNvIGNyZWF0ZVxuICAgICAgICAgICAgLy8gYSBub3cgdmVyc2lvbiBvZiBjdXJyZW50IGNvbmZpZyAodGFrZSBsb2NhbC91dGMvb2Zmc2V0IGZsYWdzLCBhbmRcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBub3cpLlxuICAgICAgICAgICAgd2Vla1llYXIgPSBkZWZhdWx0cyh3LkdHLCBjb25maWcuX2FbWUVBUl0sIHdlZWtPZlllYXIobG9jYWxfX2NyZWF0ZUxvY2FsKCksIDEsIDQpLnllYXIpO1xuICAgICAgICAgICAgd2VlayA9IGRlZmF1bHRzKHcuVywgMSk7XG4gICAgICAgICAgICB3ZWVrZGF5ID0gZGVmYXVsdHMody5FLCAxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRvdyA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRvdztcbiAgICAgICAgICAgIGRveSA9IGNvbmZpZy5fbG9jYWxlLl93ZWVrLmRveTtcblxuICAgICAgICAgICAgd2Vla1llYXIgPSBkZWZhdWx0cyh3LmdnLCBjb25maWcuX2FbWUVBUl0sIHdlZWtPZlllYXIobG9jYWxfX2NyZWF0ZUxvY2FsKCksIGRvdywgZG95KS55ZWFyKTtcbiAgICAgICAgICAgIHdlZWsgPSBkZWZhdWx0cyh3LncsIDEpO1xuXG4gICAgICAgICAgICBpZiAody5kICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyB3ZWVrZGF5IC0tIGxvdyBkYXkgbnVtYmVycyBhcmUgY29uc2lkZXJlZCBuZXh0IHdlZWtcbiAgICAgICAgICAgICAgICB3ZWVrZGF5ID0gdy5kO1xuICAgICAgICAgICAgICAgIGlmICh3ZWVrZGF5IDwgZG93KSB7XG4gICAgICAgICAgICAgICAgICAgICsrd2VlaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHcuZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy8gbG9jYWwgd2Vla2RheSAtLSBjb3VudGluZyBzdGFydHMgZnJvbSBiZWdpbmluZyBvZiB3ZWVrXG4gICAgICAgICAgICAgICAgd2Vla2RheSA9IHcuZSArIGRvdztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZGVmYXVsdCB0byBiZWdpbmluZyBvZiB3ZWVrXG4gICAgICAgICAgICAgICAgd2Vla2RheSA9IGRvdztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0ZW1wID0gZGF5T2ZZZWFyRnJvbVdlZWtzKHdlZWtZZWFyLCB3ZWVrLCB3ZWVrZGF5LCBkb3ksIGRvdyk7XG5cbiAgICAgICAgY29uZmlnLl9hW1lFQVJdID0gdGVtcC55ZWFyO1xuICAgICAgICBjb25maWcuX2RheU9mWWVhciA9IHRlbXAuZGF5T2ZZZWFyO1xuICAgIH1cblxuICAgIHV0aWxzX2hvb2tzX19ob29rcy5JU09fODYwMSA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gICAgLy8gZGF0ZSBmcm9tIHN0cmluZyBhbmQgZm9ybWF0IHN0cmluZ1xuICAgIGZ1bmN0aW9uIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKSB7XG4gICAgICAgIC8vIFRPRE86IE1vdmUgdGhpcyB0byBhbm90aGVyIHBhcnQgb2YgdGhlIGNyZWF0aW9uIGZsb3cgdG8gcHJldmVudCBjaXJjdWxhciBkZXBzXG4gICAgICAgIGlmIChjb25maWcuX2YgPT09IHV0aWxzX2hvb2tzX19ob29rcy5JU09fODYwMSkge1xuICAgICAgICAgICAgY29uZmlnRnJvbUlTTyhjb25maWcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uZmlnLl9hID0gW107XG4gICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmVtcHR5ID0gdHJ1ZTtcblxuICAgICAgICAvLyBUaGlzIGFycmF5IGlzIHVzZWQgdG8gbWFrZSBhIERhdGUsIGVpdGhlciB3aXRoIGBuZXcgRGF0ZWAgb3IgYERhdGUuVVRDYFxuICAgICAgICB2YXIgc3RyaW5nID0gJycgKyBjb25maWcuX2ksXG4gICAgICAgICAgICBpLCBwYXJzZWRJbnB1dCwgdG9rZW5zLCB0b2tlbiwgc2tpcHBlZCxcbiAgICAgICAgICAgIHN0cmluZ0xlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG4gICAgICAgICAgICB0b3RhbFBhcnNlZElucHV0TGVuZ3RoID0gMDtcblxuICAgICAgICB0b2tlbnMgPSBleHBhbmRGb3JtYXQoY29uZmlnLl9mLCBjb25maWcuX2xvY2FsZSkubWF0Y2goZm9ybWF0dGluZ1Rva2VucykgfHwgW107XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgICAgICAgICBwYXJzZWRJbnB1dCA9IChzdHJpbmcubWF0Y2goZ2V0UGFyc2VSZWdleEZvclRva2VuKHRva2VuLCBjb25maWcpKSB8fCBbXSlbMF07XG4gICAgICAgICAgICBpZiAocGFyc2VkSW5wdXQpIHtcbiAgICAgICAgICAgICAgICBza2lwcGVkID0gc3RyaW5nLnN1YnN0cigwLCBzdHJpbmcuaW5kZXhPZihwYXJzZWRJbnB1dCkpO1xuICAgICAgICAgICAgICAgIGlmIChza2lwcGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkSW5wdXQucHVzaChza2lwcGVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnNsaWNlKHN0cmluZy5pbmRleE9mKHBhcnNlZElucHV0KSArIHBhcnNlZElucHV0Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG90YWxQYXJzZWRJbnB1dExlbmd0aCArPSBwYXJzZWRJbnB1dC5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkb24ndCBwYXJzZSBpZiBpdCdzIG5vdCBhIGtub3duIHRva2VuXG4gICAgICAgICAgICBpZiAoZm9ybWF0VG9rZW5GdW5jdGlvbnNbdG9rZW5dKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZElucHV0KSB7XG4gICAgICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS51bnVzZWRUb2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFkZFRpbWVUb0FycmF5RnJvbVRva2VuKHRva2VuLCBwYXJzZWRJbnB1dCwgY29uZmlnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbmZpZy5fc3RyaWN0ICYmICFwYXJzZWRJbnB1dCkge1xuICAgICAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLnVudXNlZFRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCByZW1haW5pbmcgdW5wYXJzZWQgaW5wdXQgbGVuZ3RoIHRvIHRoZSBzdHJpbmdcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuY2hhcnNMZWZ0T3ZlciA9IHN0cmluZ0xlbmd0aCAtIHRvdGFsUGFyc2VkSW5wdXRMZW5ndGg7XG4gICAgICAgIGlmIChzdHJpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykudW51c2VkSW5wdXQucHVzaChzdHJpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2xlYXIgXzEyaCBmbGFnIGlmIGhvdXIgaXMgPD0gMTJcbiAgICAgICAgaWYgKGdldFBhcnNpbmdGbGFncyhjb25maWcpLmJpZ0hvdXIgPT09IHRydWUgJiZcbiAgICAgICAgICAgICAgICBjb25maWcuX2FbSE9VUl0gPD0gMTIgJiZcbiAgICAgICAgICAgICAgICBjb25maWcuX2FbSE9VUl0gPiAwKSB7XG4gICAgICAgICAgICBnZXRQYXJzaW5nRmxhZ3MoY29uZmlnKS5iaWdIb3VyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIGhhbmRsZSBtZXJpZGllbVxuICAgICAgICBjb25maWcuX2FbSE9VUl0gPSBtZXJpZGllbUZpeFdyYXAoY29uZmlnLl9sb2NhbGUsIGNvbmZpZy5fYVtIT1VSXSwgY29uZmlnLl9tZXJpZGllbSk7XG5cbiAgICAgICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG4gICAgICAgIGNoZWNrT3ZlcmZsb3coY29uZmlnKTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIG1lcmlkaWVtRml4V3JhcCAobG9jYWxlLCBob3VyLCBtZXJpZGllbSkge1xuICAgICAgICB2YXIgaXNQbTtcblxuICAgICAgICBpZiAobWVyaWRpZW0gPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gbm90aGluZyB0byBkb1xuICAgICAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvY2FsZS5tZXJpZGllbUhvdXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsZS5tZXJpZGllbUhvdXIoaG91ciwgbWVyaWRpZW0pO1xuICAgICAgICB9IGVsc2UgaWYgKGxvY2FsZS5pc1BNICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrXG4gICAgICAgICAgICBpc1BtID0gbG9jYWxlLmlzUE0obWVyaWRpZW0pO1xuICAgICAgICAgICAgaWYgKGlzUG0gJiYgaG91ciA8IDEyKSB7XG4gICAgICAgICAgICAgICAgaG91ciArPSAxMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNQbSAmJiBob3VyID09PSAxMikge1xuICAgICAgICAgICAgICAgIGhvdXIgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhvdXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG5vdCBzdXBwb3NlZCB0byBoYXBwZW5cbiAgICAgICAgICAgIHJldHVybiBob3VyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29uZmlnRnJvbVN0cmluZ0FuZEFycmF5KGNvbmZpZykge1xuICAgICAgICB2YXIgdGVtcENvbmZpZyxcbiAgICAgICAgICAgIGJlc3RNb21lbnQsXG5cbiAgICAgICAgICAgIHNjb3JlVG9CZWF0LFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGN1cnJlbnRTY29yZTtcblxuICAgICAgICBpZiAoY29uZmlnLl9mLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuaW52YWxpZEZvcm1hdCA9IHRydWU7XG4gICAgICAgICAgICBjb25maWcuX2QgPSBuZXcgRGF0ZShOYU4pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbmZpZy5fZi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY3VycmVudFNjb3JlID0gMDtcbiAgICAgICAgICAgIHRlbXBDb25maWcgPSBjb3B5Q29uZmlnKHt9LCBjb25maWcpO1xuICAgICAgICAgICAgaWYgKGNvbmZpZy5fdXNlVVRDICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0ZW1wQ29uZmlnLl91c2VVVEMgPSBjb25maWcuX3VzZVVUQztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlbXBDb25maWcuX2YgPSBjb25maWcuX2ZbaV07XG4gICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kRm9ybWF0KHRlbXBDb25maWcpO1xuXG4gICAgICAgICAgICBpZiAoIXZhbGlkX19pc1ZhbGlkKHRlbXBDb25maWcpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIGFueSBpbnB1dCB0aGF0IHdhcyBub3QgcGFyc2VkIGFkZCBhIHBlbmFsdHkgZm9yIHRoYXQgZm9ybWF0XG4gICAgICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLmNoYXJzTGVmdE92ZXI7XG5cbiAgICAgICAgICAgIC8vb3IgdG9rZW5zXG4gICAgICAgICAgICBjdXJyZW50U2NvcmUgKz0gZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnVudXNlZFRva2Vucy5sZW5ndGggKiAxMDtcblxuICAgICAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKHRlbXBDb25maWcpLnNjb3JlID0gY3VycmVudFNjb3JlO1xuXG4gICAgICAgICAgICBpZiAoc2NvcmVUb0JlYXQgPT0gbnVsbCB8fCBjdXJyZW50U2NvcmUgPCBzY29yZVRvQmVhdCkge1xuICAgICAgICAgICAgICAgIHNjb3JlVG9CZWF0ID0gY3VycmVudFNjb3JlO1xuICAgICAgICAgICAgICAgIGJlc3RNb21lbnQgPSB0ZW1wQ29uZmlnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZXh0ZW5kKGNvbmZpZywgYmVzdE1vbWVudCB8fCB0ZW1wQ29uZmlnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25maWdGcm9tT2JqZWN0KGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnLl9kKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaSA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKGNvbmZpZy5faSk7XG4gICAgICAgIGNvbmZpZy5fYSA9IFtpLnllYXIsIGkubW9udGgsIGkuZGF5IHx8IGkuZGF0ZSwgaS5ob3VyLCBpLm1pbnV0ZSwgaS5zZWNvbmQsIGkubWlsbGlzZWNvbmRdO1xuXG4gICAgICAgIGNvbmZpZ0Zyb21BcnJheShjb25maWcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUZyb21Db25maWcgKGNvbmZpZykge1xuICAgICAgICB2YXIgcmVzID0gbmV3IE1vbWVudChjaGVja092ZXJmbG93KHByZXBhcmVDb25maWcoY29uZmlnKSkpO1xuICAgICAgICBpZiAocmVzLl9uZXh0RGF5KSB7XG4gICAgICAgICAgICAvLyBBZGRpbmcgaXMgc21hcnQgZW5vdWdoIGFyb3VuZCBEU1RcbiAgICAgICAgICAgIHJlcy5hZGQoMSwgJ2QnKTtcbiAgICAgICAgICAgIHJlcy5fbmV4dERheSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJlcGFyZUNvbmZpZyAoY29uZmlnKSB7XG4gICAgICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faSxcbiAgICAgICAgICAgIGZvcm1hdCA9IGNvbmZpZy5fZjtcblxuICAgICAgICBjb25maWcuX2xvY2FsZSA9IGNvbmZpZy5fbG9jYWxlIHx8IGxvY2FsZV9sb2NhbGVzX19nZXRMb2NhbGUoY29uZmlnLl9sKTtcblxuICAgICAgICBpZiAoaW5wdXQgPT09IG51bGwgfHwgKGZvcm1hdCA9PT0gdW5kZWZpbmVkICYmIGlucHV0ID09PSAnJykpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWxpZF9fY3JlYXRlSW52YWxpZCh7bnVsbElucHV0OiB0cnVlfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29uZmlnLl9pID0gaW5wdXQgPSBjb25maWcuX2xvY2FsZS5wcmVwYXJzZShpbnB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNNb21lbnQoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1vbWVudChjaGVja092ZXJmbG93KGlucHV0KSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShmb3JtYXQpKSB7XG4gICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nQW5kQXJyYXkoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmIChmb3JtYXQpIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21TdHJpbmdBbmRGb3JtYXQoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0RhdGUoaW5wdXQpKSB7XG4gICAgICAgICAgICBjb25maWcuX2QgPSBpbnB1dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21JbnB1dChjb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25maWdGcm9tSW5wdXQoY29uZmlnKSB7XG4gICAgICAgIHZhciBpbnB1dCA9IGNvbmZpZy5faTtcbiAgICAgICAgaWYgKGlucHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNEYXRlKGlucHV0KSkge1xuICAgICAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUoK2lucHV0KTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25maWdGcm9tU3RyaW5nKGNvbmZpZyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShpbnB1dCkpIHtcbiAgICAgICAgICAgIGNvbmZpZy5fYSA9IG1hcChpbnB1dC5zbGljZSgwKSwgZnVuY3Rpb24gKG9iaikge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludChvYmosIDEwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uZmlnRnJvbUFycmF5KGNvbmZpZyk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKGlucHV0KSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNvbmZpZ0Zyb21PYmplY3QoY29uZmlnKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YoaW5wdXQpID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgLy8gZnJvbSBtaWxsaXNlY29uZHNcbiAgICAgICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKGlucHV0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHV0aWxzX2hvb2tzX19ob29rcy5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhjb25maWcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlTG9jYWxPclVUQyAoaW5wdXQsIGZvcm1hdCwgbG9jYWxlLCBzdHJpY3QsIGlzVVRDKSB7XG4gICAgICAgIHZhciBjID0ge307XG5cbiAgICAgICAgaWYgKHR5cGVvZihsb2NhbGUpID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHN0cmljdCA9IGxvY2FsZTtcbiAgICAgICAgICAgIGxvY2FsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBvYmplY3QgY29uc3RydWN0aW9uIG11c3QgYmUgZG9uZSB0aGlzIHdheS5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzE0MjNcbiAgICAgICAgYy5faXNBTW9tZW50T2JqZWN0ID0gdHJ1ZTtcbiAgICAgICAgYy5fdXNlVVRDID0gYy5faXNVVEMgPSBpc1VUQztcbiAgICAgICAgYy5fbCA9IGxvY2FsZTtcbiAgICAgICAgYy5faSA9IGlucHV0O1xuICAgICAgICBjLl9mID0gZm9ybWF0O1xuICAgICAgICBjLl9zdHJpY3QgPSBzdHJpY3Q7XG5cbiAgICAgICAgcmV0dXJuIGNyZWF0ZUZyb21Db25maWcoYyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxfX2NyZWF0ZUxvY2FsIChpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCkge1xuICAgICAgICByZXR1cm4gY3JlYXRlTG9jYWxPclVUQyhpbnB1dCwgZm9ybWF0LCBsb2NhbGUsIHN0cmljdCwgZmFsc2UpO1xuICAgIH1cblxuICAgIHZhciBwcm90b3R5cGVNaW4gPSBkZXByZWNhdGUoXG4gICAgICAgICAnbW9tZW50KCkubWluIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQubWluIGluc3RlYWQuIGh0dHBzOi8vZ2l0aHViLmNvbS9tb21lbnQvbW9tZW50L2lzc3Vlcy8xNTQ4JyxcbiAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICB2YXIgb3RoZXIgPSBsb2NhbF9fY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICByZXR1cm4gb3RoZXIgPCB0aGlzID8gdGhpcyA6IG90aGVyO1xuICAgICAgICAgfVxuICAgICApO1xuXG4gICAgdmFyIHByb3RvdHlwZU1heCA9IGRlcHJlY2F0ZShcbiAgICAgICAgJ21vbWVudCgpLm1heCBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1heCBpbnN0ZWFkLiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTU0OCcsXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvdGhlciA9IGxvY2FsX19jcmVhdGVMb2NhbC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgcmV0dXJuIG90aGVyID4gdGhpcyA/IHRoaXMgOiBvdGhlcjtcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICAvLyBQaWNrIGEgbW9tZW50IG0gZnJvbSBtb21lbnRzIHNvIHRoYXQgbVtmbl0ob3RoZXIpIGlzIHRydWUgZm9yIGFsbFxuICAgIC8vIG90aGVyLiBUaGlzIHJlbGllcyBvbiB0aGUgZnVuY3Rpb24gZm4gdG8gYmUgdHJhbnNpdGl2ZS5cbiAgICAvL1xuICAgIC8vIG1vbWVudHMgc2hvdWxkIGVpdGhlciBiZSBhbiBhcnJheSBvZiBtb21lbnQgb2JqZWN0cyBvciBhbiBhcnJheSwgd2hvc2VcbiAgICAvLyBmaXJzdCBlbGVtZW50IGlzIGFuIGFycmF5IG9mIG1vbWVudCBvYmplY3RzLlxuICAgIGZ1bmN0aW9uIHBpY2tCeShmbiwgbW9tZW50cykge1xuICAgICAgICB2YXIgcmVzLCBpO1xuICAgICAgICBpZiAobW9tZW50cy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShtb21lbnRzWzBdKSkge1xuICAgICAgICAgICAgbW9tZW50cyA9IG1vbWVudHNbMF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtb21lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsX19jcmVhdGVMb2NhbCgpO1xuICAgICAgICB9XG4gICAgICAgIHJlcyA9IG1vbWVudHNbMF07XG4gICAgICAgIGZvciAoaSA9IDE7IGkgPCBtb21lbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoIW1vbWVudHNbaV0uaXNWYWxpZCgpIHx8IG1vbWVudHNbaV1bZm5dKHJlcykpIHtcbiAgICAgICAgICAgICAgICByZXMgPSBtb21lbnRzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogVXNlIFtdLnNvcnQgaW5zdGVhZD9cbiAgICBmdW5jdGlvbiBtaW4gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKTtcblxuICAgICAgICByZXR1cm4gcGlja0J5KCdpc0JlZm9yZScsIGFyZ3MpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1heCAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgICAgIHJldHVybiBwaWNrQnkoJ2lzQWZ0ZXInLCBhcmdzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBEdXJhdGlvbiAoZHVyYXRpb24pIHtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRJbnB1dCA9IG5vcm1hbGl6ZU9iamVjdFVuaXRzKGR1cmF0aW9uKSxcbiAgICAgICAgICAgIHllYXJzID0gbm9ybWFsaXplZElucHV0LnllYXIgfHwgMCxcbiAgICAgICAgICAgIHF1YXJ0ZXJzID0gbm9ybWFsaXplZElucHV0LnF1YXJ0ZXIgfHwgMCxcbiAgICAgICAgICAgIG1vbnRocyA9IG5vcm1hbGl6ZWRJbnB1dC5tb250aCB8fCAwLFxuICAgICAgICAgICAgd2Vla3MgPSBub3JtYWxpemVkSW5wdXQud2VlayB8fCAwLFxuICAgICAgICAgICAgZGF5cyA9IG5vcm1hbGl6ZWRJbnB1dC5kYXkgfHwgMCxcbiAgICAgICAgICAgIGhvdXJzID0gbm9ybWFsaXplZElucHV0LmhvdXIgfHwgMCxcbiAgICAgICAgICAgIG1pbnV0ZXMgPSBub3JtYWxpemVkSW5wdXQubWludXRlIHx8IDAsXG4gICAgICAgICAgICBzZWNvbmRzID0gbm9ybWFsaXplZElucHV0LnNlY29uZCB8fCAwLFxuICAgICAgICAgICAgbWlsbGlzZWNvbmRzID0gbm9ybWFsaXplZElucHV0Lm1pbGxpc2Vjb25kIHx8IDA7XG5cbiAgICAgICAgLy8gcmVwcmVzZW50YXRpb24gZm9yIGRhdGVBZGRSZW1vdmVcbiAgICAgICAgdGhpcy5fbWlsbGlzZWNvbmRzID0gK21pbGxpc2Vjb25kcyArXG4gICAgICAgICAgICBzZWNvbmRzICogMWUzICsgLy8gMTAwMFxuICAgICAgICAgICAgbWludXRlcyAqIDZlNCArIC8vIDEwMDAgKiA2MFxuICAgICAgICAgICAgaG91cnMgKiAzNmU1OyAvLyAxMDAwICogNjAgKiA2MFxuICAgICAgICAvLyBCZWNhdXNlIG9mIGRhdGVBZGRSZW1vdmUgdHJlYXRzIDI0IGhvdXJzIGFzIGRpZmZlcmVudCBmcm9tIGFcbiAgICAgICAgLy8gZGF5IHdoZW4gd29ya2luZyBhcm91bmQgRFNULCB3ZSBuZWVkIHRvIHN0b3JlIHRoZW0gc2VwYXJhdGVseVxuICAgICAgICB0aGlzLl9kYXlzID0gK2RheXMgK1xuICAgICAgICAgICAgd2Vla3MgKiA3O1xuICAgICAgICAvLyBJdCBpcyBpbXBvc3NpYmxlIHRyYW5zbGF0ZSBtb250aHMgaW50byBkYXlzIHdpdGhvdXQga25vd2luZ1xuICAgICAgICAvLyB3aGljaCBtb250aHMgeW91IGFyZSBhcmUgdGFsa2luZyBhYm91dCwgc28gd2UgaGF2ZSB0byBzdG9yZVxuICAgICAgICAvLyBpdCBzZXBhcmF0ZWx5LlxuICAgICAgICB0aGlzLl9tb250aHMgPSArbW9udGhzICtcbiAgICAgICAgICAgIHF1YXJ0ZXJzICogMyArXG4gICAgICAgICAgICB5ZWFycyAqIDEyO1xuXG4gICAgICAgIHRoaXMuX2RhdGEgPSB7fTtcblxuICAgICAgICB0aGlzLl9sb2NhbGUgPSBsb2NhbGVfbG9jYWxlc19fZ2V0TG9jYWxlKCk7XG5cbiAgICAgICAgdGhpcy5fYnViYmxlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEdXJhdGlvbiAob2JqKSB7XG4gICAgICAgIHJldHVybiBvYmogaW5zdGFuY2VvZiBEdXJhdGlvbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvZmZzZXQgKHRva2VuLCBzZXBhcmF0b3IpIHtcbiAgICAgICAgYWRkRm9ybWF0VG9rZW4odG9rZW4sIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSB0aGlzLnV0Y09mZnNldCgpO1xuICAgICAgICAgICAgdmFyIHNpZ24gPSAnKyc7XG4gICAgICAgICAgICBpZiAob2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IC1vZmZzZXQ7XG4gICAgICAgICAgICAgICAgc2lnbiA9ICctJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzaWduICsgemVyb0ZpbGwofn4ob2Zmc2V0IC8gNjApLCAyKSArIHNlcGFyYXRvciArIHplcm9GaWxsKH5+KG9mZnNldCkgJSA2MCwgMik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9mZnNldCgnWicsICc6Jyk7XG4gICAgb2Zmc2V0KCdaWicsICcnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ1onLCAgbWF0Y2hPZmZzZXQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1paJywgbWF0Y2hPZmZzZXQpO1xuICAgIGFkZFBhcnNlVG9rZW4oWydaJywgJ1paJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBjb25maWcuX3VzZVVUQyA9IHRydWU7XG4gICAgICAgIGNvbmZpZy5fdHptID0gb2Zmc2V0RnJvbVN0cmluZyhpbnB1dCk7XG4gICAgfSk7XG5cbiAgICAvLyBIRUxQRVJTXG5cbiAgICAvLyB0aW1lem9uZSBjaHVua2VyXG4gICAgLy8gJysxMDowMCcgPiBbJzEwJywgICcwMCddXG4gICAgLy8gJy0xNTMwJyAgPiBbJy0xNScsICczMCddXG4gICAgdmFyIGNodW5rT2Zmc2V0ID0gLyhbXFwrXFwtXXxcXGRcXGQpL2dpO1xuXG4gICAgZnVuY3Rpb24gb2Zmc2V0RnJvbVN0cmluZyhzdHJpbmcpIHtcbiAgICAgICAgdmFyIG1hdGNoZXMgPSAoKHN0cmluZyB8fCAnJykubWF0Y2gobWF0Y2hPZmZzZXQpIHx8IFtdKTtcbiAgICAgICAgdmFyIGNodW5rICAgPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0gfHwgW107XG4gICAgICAgIHZhciBwYXJ0cyAgID0gKGNodW5rICsgJycpLm1hdGNoKGNodW5rT2Zmc2V0KSB8fCBbJy0nLCAwLCAwXTtcbiAgICAgICAgdmFyIG1pbnV0ZXMgPSArKHBhcnRzWzFdICogNjApICsgdG9JbnQocGFydHNbMl0pO1xuXG4gICAgICAgIHJldHVybiBwYXJ0c1swXSA9PT0gJysnID8gbWludXRlcyA6IC1taW51dGVzO1xuICAgIH1cblxuICAgIC8vIFJldHVybiBhIG1vbWVudCBmcm9tIGlucHV0LCB0aGF0IGlzIGxvY2FsL3V0Yy96b25lIGVxdWl2YWxlbnQgdG8gbW9kZWwuXG4gICAgZnVuY3Rpb24gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCBtb2RlbCkge1xuICAgICAgICB2YXIgcmVzLCBkaWZmO1xuICAgICAgICBpZiAobW9kZWwuX2lzVVRDKSB7XG4gICAgICAgICAgICByZXMgPSBtb2RlbC5jbG9uZSgpO1xuICAgICAgICAgICAgZGlmZiA9IChpc01vbWVudChpbnB1dCkgfHwgaXNEYXRlKGlucHV0KSA/ICtpbnB1dCA6ICtsb2NhbF9fY3JlYXRlTG9jYWwoaW5wdXQpKSAtICgrcmVzKTtcbiAgICAgICAgICAgIC8vIFVzZSBsb3ctbGV2ZWwgYXBpLCBiZWNhdXNlIHRoaXMgZm4gaXMgbG93LWxldmVsIGFwaS5cbiAgICAgICAgICAgIHJlcy5fZC5zZXRUaW1lKCtyZXMuX2QgKyBkaWZmKTtcbiAgICAgICAgICAgIHV0aWxzX2hvb2tzX19ob29rcy51cGRhdGVPZmZzZXQocmVzLCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsX19jcmVhdGVMb2NhbChpbnB1dCkubG9jYWwoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldERhdGVPZmZzZXQgKG0pIHtcbiAgICAgICAgLy8gT24gRmlyZWZveC4yNCBEYXRlI2dldFRpbWV6b25lT2Zmc2V0IHJldHVybnMgYSBmbG9hdGluZyBwb2ludC5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvcHVsbC8xODcxXG4gICAgICAgIHJldHVybiAtTWF0aC5yb3VuZChtLl9kLmdldFRpbWV6b25lT2Zmc2V0KCkgLyAxNSkgKiAxNTtcbiAgICB9XG5cbiAgICAvLyBIT09LU1xuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlciBhIG1vbWVudCBpcyBtdXRhdGVkLlxuICAgIC8vIEl0IGlzIGludGVuZGVkIHRvIGtlZXAgdGhlIG9mZnNldCBpbiBzeW5jIHdpdGggdGhlIHRpbWV6b25lLlxuICAgIHV0aWxzX2hvb2tzX19ob29rcy51cGRhdGVPZmZzZXQgPSBmdW5jdGlvbiAoKSB7fTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIC8vIGtlZXBMb2NhbFRpbWUgPSB0cnVlIG1lYW5zIG9ubHkgY2hhbmdlIHRoZSB0aW1lem9uZSwgd2l0aG91dFxuICAgIC8vIGFmZmVjdGluZyB0aGUgbG9jYWwgaG91ci4gU28gNTozMToyNiArMDMwMCAtLVt1dGNPZmZzZXQoMiwgdHJ1ZSldLS0+XG4gICAgLy8gNTozMToyNiArMDIwMCBJdCBpcyBwb3NzaWJsZSB0aGF0IDU6MzE6MjYgZG9lc24ndCBleGlzdCB3aXRoIG9mZnNldFxuICAgIC8vICswMjAwLCBzbyB3ZSBhZGp1c3QgdGhlIHRpbWUgYXMgbmVlZGVkLCB0byBiZSB2YWxpZC5cbiAgICAvL1xuICAgIC8vIEtlZXBpbmcgdGhlIHRpbWUgYWN0dWFsbHkgYWRkcy9zdWJ0cmFjdHMgKG9uZSBob3VyKVxuICAgIC8vIGZyb20gdGhlIGFjdHVhbCByZXByZXNlbnRlZCB0aW1lLiBUaGF0IGlzIHdoeSB3ZSBjYWxsIHVwZGF0ZU9mZnNldFxuICAgIC8vIGEgc2Vjb25kIHRpbWUuIEluIGNhc2UgaXQgd2FudHMgdXMgdG8gY2hhbmdlIHRoZSBvZmZzZXQgYWdhaW5cbiAgICAvLyBfY2hhbmdlSW5Qcm9ncmVzcyA9PSB0cnVlIGNhc2UsIHRoZW4gd2UgaGF2ZSB0byBhZGp1c3QsIGJlY2F1c2VcbiAgICAvLyB0aGVyZSBpcyBubyBzdWNoIHRpbWUgaW4gdGhlIGdpdmVuIHRpbWV6b25lLlxuICAgIGZ1bmN0aW9uIGdldFNldE9mZnNldCAoaW5wdXQsIGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMuX29mZnNldCB8fCAwLFxuICAgICAgICAgICAgbG9jYWxBZGp1c3Q7XG4gICAgICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGlucHV0ID0gb2Zmc2V0RnJvbVN0cmluZyhpbnB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoaW5wdXQpIDwgMTYpIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IGlucHV0ICogNjA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2lzVVRDICYmIGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgICAgICAgICBsb2NhbEFkanVzdCA9IGdldERhdGVPZmZzZXQodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9vZmZzZXQgPSBpbnB1dDtcbiAgICAgICAgICAgIHRoaXMuX2lzVVRDID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChsb2NhbEFkanVzdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQobG9jYWxBZGp1c3QsICdtJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2Zmc2V0ICE9PSBpbnB1dCkge1xuICAgICAgICAgICAgICAgIGlmICgha2VlcExvY2FsVGltZSB8fCB0aGlzLl9jaGFuZ2VJblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZF9zdWJ0cmFjdF9fYWRkU3VidHJhY3QodGhpcywgY3JlYXRlX19jcmVhdGVEdXJhdGlvbihpbnB1dCAtIG9mZnNldCwgJ20nKSwgMSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2hhbmdlSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHV0aWxzX2hvb2tzX19ob29rcy51cGRhdGVPZmZzZXQodGhpcywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NoYW5nZUluUHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDID8gb2Zmc2V0IDogZ2V0RGF0ZU9mZnNldCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFNldFpvbmUgKGlucHV0LCBrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGlucHV0ID0gLWlucHV0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnV0Y09mZnNldChpbnB1dCwga2VlcExvY2FsVGltZSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIC10aGlzLnV0Y09mZnNldCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0T2Zmc2V0VG9VVEMgKGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXRjT2Zmc2V0KDAsIGtlZXBMb2NhbFRpbWUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldE9mZnNldFRvTG9jYWwgKGtlZXBMb2NhbFRpbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzVVRDKSB7XG4gICAgICAgICAgICB0aGlzLnV0Y09mZnNldCgwLCBrZWVwTG9jYWxUaW1lKTtcbiAgICAgICAgICAgIHRoaXMuX2lzVVRDID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmIChrZWVwTG9jYWxUaW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdWJ0cmFjdChnZXREYXRlT2Zmc2V0KHRoaXMpLCAnbScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldE9mZnNldFRvUGFyc2VkT2Zmc2V0ICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3R6bSkge1xuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQodGhpcy5fdHptKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5faSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMudXRjT2Zmc2V0KG9mZnNldEZyb21TdHJpbmcodGhpcy5faSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhc0FsaWduZWRIb3VyT2Zmc2V0IChpbnB1dCkge1xuICAgICAgICBpbnB1dCA9IGlucHV0ID8gbG9jYWxfX2NyZWF0ZUxvY2FsKGlucHV0KS51dGNPZmZzZXQoKSA6IDA7XG5cbiAgICAgICAgcmV0dXJuICh0aGlzLnV0Y09mZnNldCgpIC0gaW5wdXQpICUgNjAgPT09IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNEYXlsaWdodFNhdmluZ1RpbWUgKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoKSA+IHRoaXMuY2xvbmUoKS5tb250aCgwKS51dGNPZmZzZXQoKSB8fFxuICAgICAgICAgICAgdGhpcy51dGNPZmZzZXQoKSA+IHRoaXMuY2xvbmUoKS5tb250aCg1KS51dGNPZmZzZXQoKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRGF5bGlnaHRTYXZpbmdUaW1lU2hpZnRlZCAoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5faXNEU1RTaGlmdGVkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzRFNUU2hpZnRlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjID0ge307XG5cbiAgICAgICAgY29weUNvbmZpZyhjLCB0aGlzKTtcbiAgICAgICAgYyA9IHByZXBhcmVDb25maWcoYyk7XG5cbiAgICAgICAgaWYgKGMuX2EpIHtcbiAgICAgICAgICAgIHZhciBvdGhlciA9IGMuX2lzVVRDID8gY3JlYXRlX3V0Y19fY3JlYXRlVVRDKGMuX2EpIDogbG9jYWxfX2NyZWF0ZUxvY2FsKGMuX2EpO1xuICAgICAgICAgICAgdGhpcy5faXNEU1RTaGlmdGVkID0gdGhpcy5pc1ZhbGlkKCkgJiZcbiAgICAgICAgICAgICAgICBjb21wYXJlQXJyYXlzKGMuX2EsIG90aGVyLnRvQXJyYXkoKSkgPiAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faXNEU1RTaGlmdGVkID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5faXNEU1RTaGlmdGVkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzTG9jYWwgKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuX2lzVVRDO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVXRjT2Zmc2V0ICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzVXRjICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVVRDICYmIHRoaXMuX29mZnNldCA9PT0gMDtcbiAgICB9XG5cbiAgICB2YXIgYXNwTmV0UmVnZXggPSAvKFxcLSk/KD86KFxcZCopXFwuKT8oXFxkKylcXDooXFxkKykoPzpcXDooXFxkKylcXC4/KFxcZHszfSk/KT8vO1xuXG4gICAgLy8gZnJvbSBodHRwOi8vZG9jcy5jbG9zdXJlLWxpYnJhcnkuZ29vZ2xlY29kZS5jb20vZ2l0L2Nsb3N1cmVfZ29vZ19kYXRlX2RhdGUuanMuc291cmNlLmh0bWxcbiAgICAvLyBzb21ld2hhdCBtb3JlIGluIGxpbmUgd2l0aCA0LjQuMy4yIDIwMDQgc3BlYywgYnV0IGFsbG93cyBkZWNpbWFsIGFueXdoZXJlXG4gICAgdmFyIGNyZWF0ZV9faXNvUmVnZXggPSAvXigtKT9QKD86KD86KFswLTksLl0qKVkpPyg/OihbMC05LC5dKilNKT8oPzooWzAtOSwuXSopRCk/KD86VCg/OihbMC05LC5dKilIKT8oPzooWzAtOSwuXSopTSk/KD86KFswLTksLl0qKVMpPyk/fChbMC05LC5dKilXKSQvO1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlX19jcmVhdGVEdXJhdGlvbiAoaW5wdXQsIGtleSkge1xuICAgICAgICB2YXIgZHVyYXRpb24gPSBpbnB1dCxcbiAgICAgICAgICAgIC8vIG1hdGNoaW5nIGFnYWluc3QgcmVnZXhwIGlzIGV4cGVuc2l2ZSwgZG8gaXQgb24gZGVtYW5kXG4gICAgICAgICAgICBtYXRjaCA9IG51bGwsXG4gICAgICAgICAgICBzaWduLFxuICAgICAgICAgICAgcmV0LFxuICAgICAgICAgICAgZGlmZlJlcztcblxuICAgICAgICBpZiAoaXNEdXJhdGlvbihpbnB1dCkpIHtcbiAgICAgICAgICAgIGR1cmF0aW9uID0ge1xuICAgICAgICAgICAgICAgIG1zIDogaW5wdXQuX21pbGxpc2Vjb25kcyxcbiAgICAgICAgICAgICAgICBkICA6IGlucHV0Ll9kYXlzLFxuICAgICAgICAgICAgICAgIE0gIDogaW5wdXQuX21vbnRoc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaW5wdXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IHt9O1xuICAgICAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uW2tleV0gPSBpbnB1dDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb24ubWlsbGlzZWNvbmRzID0gaW5wdXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoISEobWF0Y2ggPSBhc3BOZXRSZWdleC5leGVjKGlucHV0KSkpIHtcbiAgICAgICAgICAgIHNpZ24gPSAobWF0Y2hbMV0gPT09ICctJykgPyAtMSA6IDE7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB5ICA6IDAsXG4gICAgICAgICAgICAgICAgZCAgOiB0b0ludChtYXRjaFtEQVRFXSkgICAgICAgICogc2lnbixcbiAgICAgICAgICAgICAgICBoICA6IHRvSW50KG1hdGNoW0hPVVJdKSAgICAgICAgKiBzaWduLFxuICAgICAgICAgICAgICAgIG0gIDogdG9JbnQobWF0Y2hbTUlOVVRFXSkgICAgICAqIHNpZ24sXG4gICAgICAgICAgICAgICAgcyAgOiB0b0ludChtYXRjaFtTRUNPTkRdKSAgICAgICogc2lnbixcbiAgICAgICAgICAgICAgICBtcyA6IHRvSW50KG1hdGNoW01JTExJU0VDT05EXSkgKiBzaWduXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKCEhKG1hdGNoID0gY3JlYXRlX19pc29SZWdleC5leGVjKGlucHV0KSkpIHtcbiAgICAgICAgICAgIHNpZ24gPSAobWF0Y2hbMV0gPT09ICctJykgPyAtMSA6IDE7XG4gICAgICAgICAgICBkdXJhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICB5IDogcGFyc2VJc28obWF0Y2hbMl0sIHNpZ24pLFxuICAgICAgICAgICAgICAgIE0gOiBwYXJzZUlzbyhtYXRjaFszXSwgc2lnbiksXG4gICAgICAgICAgICAgICAgZCA6IHBhcnNlSXNvKG1hdGNoWzRdLCBzaWduKSxcbiAgICAgICAgICAgICAgICBoIDogcGFyc2VJc28obWF0Y2hbNV0sIHNpZ24pLFxuICAgICAgICAgICAgICAgIG0gOiBwYXJzZUlzbyhtYXRjaFs2XSwgc2lnbiksXG4gICAgICAgICAgICAgICAgcyA6IHBhcnNlSXNvKG1hdGNoWzddLCBzaWduKSxcbiAgICAgICAgICAgICAgICB3IDogcGFyc2VJc28obWF0Y2hbOF0sIHNpZ24pXG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGR1cmF0aW9uID09IG51bGwpIHsvLyBjaGVja3MgZm9yIG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICBkdXJhdGlvbiA9IHt9O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkdXJhdGlvbiA9PT0gJ29iamVjdCcgJiYgKCdmcm9tJyBpbiBkdXJhdGlvbiB8fCAndG8nIGluIGR1cmF0aW9uKSkge1xuICAgICAgICAgICAgZGlmZlJlcyA9IG1vbWVudHNEaWZmZXJlbmNlKGxvY2FsX19jcmVhdGVMb2NhbChkdXJhdGlvbi5mcm9tKSwgbG9jYWxfX2NyZWF0ZUxvY2FsKGR1cmF0aW9uLnRvKSk7XG5cbiAgICAgICAgICAgIGR1cmF0aW9uID0ge307XG4gICAgICAgICAgICBkdXJhdGlvbi5tcyA9IGRpZmZSZXMubWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgZHVyYXRpb24uTSA9IGRpZmZSZXMubW9udGhzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0ID0gbmV3IER1cmF0aW9uKGR1cmF0aW9uKTtcblxuICAgICAgICBpZiAoaXNEdXJhdGlvbihpbnB1dCkgJiYgaGFzT3duUHJvcChpbnB1dCwgJ19sb2NhbGUnKSkge1xuICAgICAgICAgICAgcmV0Ll9sb2NhbGUgPSBpbnB1dC5fbG9jYWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICBjcmVhdGVfX2NyZWF0ZUR1cmF0aW9uLmZuID0gRHVyYXRpb24ucHJvdG90eXBlO1xuXG4gICAgZnVuY3Rpb24gcGFyc2VJc28gKGlucCwgc2lnbikge1xuICAgICAgICAvLyBXZSdkIG5vcm1hbGx5IHVzZSB+fmlucCBmb3IgdGhpcywgYnV0IHVuZm9ydHVuYXRlbHkgaXQgYWxzb1xuICAgICAgICAvLyBjb252ZXJ0cyBmbG9hdHMgdG8gaW50cy5cbiAgICAgICAgLy8gaW5wIG1heSBiZSB1bmRlZmluZWQsIHNvIGNhcmVmdWwgY2FsbGluZyByZXBsYWNlIG9uIGl0LlxuICAgICAgICB2YXIgcmVzID0gaW5wICYmIHBhcnNlRmxvYXQoaW5wLnJlcGxhY2UoJywnLCAnLicpKTtcbiAgICAgICAgLy8gYXBwbHkgc2lnbiB3aGlsZSB3ZSdyZSBhdCBpdFxuICAgICAgICByZXR1cm4gKGlzTmFOKHJlcykgPyAwIDogcmVzKSAqIHNpZ247XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikge1xuICAgICAgICB2YXIgcmVzID0ge21pbGxpc2Vjb25kczogMCwgbW9udGhzOiAwfTtcblxuICAgICAgICByZXMubW9udGhzID0gb3RoZXIubW9udGgoKSAtIGJhc2UubW9udGgoKSArXG4gICAgICAgICAgICAob3RoZXIueWVhcigpIC0gYmFzZS55ZWFyKCkpICogMTI7XG4gICAgICAgIGlmIChiYXNlLmNsb25lKCkuYWRkKHJlcy5tb250aHMsICdNJykuaXNBZnRlcihvdGhlcikpIHtcbiAgICAgICAgICAgIC0tcmVzLm1vbnRocztcbiAgICAgICAgfVxuXG4gICAgICAgIHJlcy5taWxsaXNlY29uZHMgPSArb3RoZXIgLSArKGJhc2UuY2xvbmUoKS5hZGQocmVzLm1vbnRocywgJ00nKSk7XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcikge1xuICAgICAgICB2YXIgcmVzO1xuICAgICAgICBvdGhlciA9IGNsb25lV2l0aE9mZnNldChvdGhlciwgYmFzZSk7XG4gICAgICAgIGlmIChiYXNlLmlzQmVmb3JlKG90aGVyKSkge1xuICAgICAgICAgICAgcmVzID0gcG9zaXRpdmVNb21lbnRzRGlmZmVyZW5jZShiYXNlLCBvdGhlcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXMgPSBwb3NpdGl2ZU1vbWVudHNEaWZmZXJlbmNlKG90aGVyLCBiYXNlKTtcbiAgICAgICAgICAgIHJlcy5taWxsaXNlY29uZHMgPSAtcmVzLm1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgIHJlcy5tb250aHMgPSAtcmVzLm1vbnRocztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQWRkZXIoZGlyZWN0aW9uLCBuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodmFsLCBwZXJpb2QpIHtcbiAgICAgICAgICAgIHZhciBkdXIsIHRtcDtcbiAgICAgICAgICAgIC8vaW52ZXJ0IHRoZSBhcmd1bWVudHMsIGJ1dCBjb21wbGFpbiBhYm91dCBpdFxuICAgICAgICAgICAgaWYgKHBlcmlvZCAhPT0gbnVsbCAmJiAhaXNOYU4oK3BlcmlvZCkpIHtcbiAgICAgICAgICAgICAgICBkZXByZWNhdGVTaW1wbGUobmFtZSwgJ21vbWVudCgpLicgKyBuYW1lICArICcocGVyaW9kLCBudW1iZXIpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgbW9tZW50KCkuJyArIG5hbWUgKyAnKG51bWJlciwgcGVyaW9kKS4nKTtcbiAgICAgICAgICAgICAgICB0bXAgPSB2YWw7IHZhbCA9IHBlcmlvZDsgcGVyaW9kID0gdG1wO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWwgPSB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/ICt2YWwgOiB2YWw7XG4gICAgICAgICAgICBkdXIgPSBjcmVhdGVfX2NyZWF0ZUR1cmF0aW9uKHZhbCwgcGVyaW9kKTtcbiAgICAgICAgICAgIGFkZF9zdWJ0cmFjdF9fYWRkU3VidHJhY3QodGhpcywgZHVyLCBkaXJlY3Rpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkX3N1YnRyYWN0X19hZGRTdWJ0cmFjdCAobW9tLCBkdXJhdGlvbiwgaXNBZGRpbmcsIHVwZGF0ZU9mZnNldCkge1xuICAgICAgICB2YXIgbWlsbGlzZWNvbmRzID0gZHVyYXRpb24uX21pbGxpc2Vjb25kcyxcbiAgICAgICAgICAgIGRheXMgPSBkdXJhdGlvbi5fZGF5cyxcbiAgICAgICAgICAgIG1vbnRocyA9IGR1cmF0aW9uLl9tb250aHM7XG4gICAgICAgIHVwZGF0ZU9mZnNldCA9IHVwZGF0ZU9mZnNldCA9PSBudWxsID8gdHJ1ZSA6IHVwZGF0ZU9mZnNldDtcblxuICAgICAgICBpZiAobWlsbGlzZWNvbmRzKSB7XG4gICAgICAgICAgICBtb20uX2Quc2V0VGltZSgrbW9tLl9kICsgbWlsbGlzZWNvbmRzICogaXNBZGRpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYXlzKSB7XG4gICAgICAgICAgICBnZXRfc2V0X19zZXQobW9tLCAnRGF0ZScsIGdldF9zZXRfX2dldChtb20sICdEYXRlJykgKyBkYXlzICogaXNBZGRpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb250aHMpIHtcbiAgICAgICAgICAgIHNldE1vbnRoKG1vbSwgZ2V0X3NldF9fZ2V0KG1vbSwgJ01vbnRoJykgKyBtb250aHMgKiBpc0FkZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVwZGF0ZU9mZnNldCkge1xuICAgICAgICAgICAgdXRpbHNfaG9va3NfX2hvb2tzLnVwZGF0ZU9mZnNldChtb20sIGRheXMgfHwgbW9udGhzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBhZGRfc3VidHJhY3RfX2FkZCAgICAgID0gY3JlYXRlQWRkZXIoMSwgJ2FkZCcpO1xuICAgIHZhciBhZGRfc3VidHJhY3RfX3N1YnRyYWN0ID0gY3JlYXRlQWRkZXIoLTEsICdzdWJ0cmFjdCcpO1xuXG4gICAgZnVuY3Rpb24gbW9tZW50X2NhbGVuZGFyX19jYWxlbmRhciAodGltZSwgZm9ybWF0cykge1xuICAgICAgICAvLyBXZSB3YW50IHRvIGNvbXBhcmUgdGhlIHN0YXJ0IG9mIHRvZGF5LCB2cyB0aGlzLlxuICAgICAgICAvLyBHZXR0aW5nIHN0YXJ0LW9mLXRvZGF5IGRlcGVuZHMgb24gd2hldGhlciB3ZSdyZSBsb2NhbC91dGMvb2Zmc2V0IG9yIG5vdC5cbiAgICAgICAgdmFyIG5vdyA9IHRpbWUgfHwgbG9jYWxfX2NyZWF0ZUxvY2FsKCksXG4gICAgICAgICAgICBzb2QgPSBjbG9uZVdpdGhPZmZzZXQobm93LCB0aGlzKS5zdGFydE9mKCdkYXknKSxcbiAgICAgICAgICAgIGRpZmYgPSB0aGlzLmRpZmYoc29kLCAnZGF5cycsIHRydWUpLFxuICAgICAgICAgICAgZm9ybWF0ID0gZGlmZiA8IC02ID8gJ3NhbWVFbHNlJyA6XG4gICAgICAgICAgICAgICAgZGlmZiA8IC0xID8gJ2xhc3RXZWVrJyA6XG4gICAgICAgICAgICAgICAgZGlmZiA8IDAgPyAnbGFzdERheScgOlxuICAgICAgICAgICAgICAgIGRpZmYgPCAxID8gJ3NhbWVEYXknIDpcbiAgICAgICAgICAgICAgICBkaWZmIDwgMiA/ICduZXh0RGF5JyA6XG4gICAgICAgICAgICAgICAgZGlmZiA8IDcgPyAnbmV4dFdlZWsnIDogJ3NhbWVFbHNlJztcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0KGZvcm1hdHMgJiYgZm9ybWF0c1tmb3JtYXRdIHx8IHRoaXMubG9jYWxlRGF0YSgpLmNhbGVuZGFyKGZvcm1hdCwgdGhpcywgbG9jYWxfX2NyZWF0ZUxvY2FsKG5vdykpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbG9uZSAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTW9tZW50KHRoaXMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzQWZ0ZXIgKGlucHV0LCB1bml0cykge1xuICAgICAgICB2YXIgaW5wdXRNcztcbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh0eXBlb2YgdW5pdHMgIT09ICd1bmRlZmluZWQnID8gdW5pdHMgOiAnbWlsbGlzZWNvbmQnKTtcbiAgICAgICAgaWYgKHVuaXRzID09PSAnbWlsbGlzZWNvbmQnKSB7XG4gICAgICAgICAgICBpbnB1dCA9IGlzTW9tZW50KGlucHV0KSA/IGlucHV0IDogbG9jYWxfX2NyZWF0ZUxvY2FsKGlucHV0KTtcbiAgICAgICAgICAgIHJldHVybiArdGhpcyA+ICtpbnB1dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlucHV0TXMgPSBpc01vbWVudChpbnB1dCkgPyAraW5wdXQgOiArbG9jYWxfX2NyZWF0ZUxvY2FsKGlucHV0KTtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dE1zIDwgK3RoaXMuY2xvbmUoKS5zdGFydE9mKHVuaXRzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzQmVmb3JlIChpbnB1dCwgdW5pdHMpIHtcbiAgICAgICAgdmFyIGlucHV0TXM7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModHlwZW9mIHVuaXRzICE9PSAndW5kZWZpbmVkJyA/IHVuaXRzIDogJ21pbGxpc2Vjb25kJyk7XG4gICAgICAgIGlmICh1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICAgICAgaW5wdXQgPSBpc01vbWVudChpbnB1dCkgPyBpbnB1dCA6IGxvY2FsX19jcmVhdGVMb2NhbChpbnB1dCk7XG4gICAgICAgICAgICByZXR1cm4gK3RoaXMgPCAraW5wdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnB1dE1zID0gaXNNb21lbnQoaW5wdXQpID8gK2lucHV0IDogK2xvY2FsX19jcmVhdGVMb2NhbChpbnB1dCk7XG4gICAgICAgICAgICByZXR1cm4gK3RoaXMuY2xvbmUoKS5lbmRPZih1bml0cykgPCBpbnB1dE1zO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNCZXR3ZWVuIChmcm9tLCB0bywgdW5pdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNBZnRlcihmcm9tLCB1bml0cykgJiYgdGhpcy5pc0JlZm9yZSh0bywgdW5pdHMpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzU2FtZSAoaW5wdXQsIHVuaXRzKSB7XG4gICAgICAgIHZhciBpbnB1dE1zO1xuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzIHx8ICdtaWxsaXNlY29uZCcpO1xuICAgICAgICBpZiAodW5pdHMgPT09ICdtaWxsaXNlY29uZCcpIHtcbiAgICAgICAgICAgIGlucHV0ID0gaXNNb21lbnQoaW5wdXQpID8gaW5wdXQgOiBsb2NhbF9fY3JlYXRlTG9jYWwoaW5wdXQpO1xuICAgICAgICAgICAgcmV0dXJuICt0aGlzID09PSAraW5wdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnB1dE1zID0gK2xvY2FsX19jcmVhdGVMb2NhbChpbnB1dCk7XG4gICAgICAgICAgICByZXR1cm4gKyh0aGlzLmNsb25lKCkuc3RhcnRPZih1bml0cykpIDw9IGlucHV0TXMgJiYgaW5wdXRNcyA8PSArKHRoaXMuY2xvbmUoKS5lbmRPZih1bml0cykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGlmZiAoaW5wdXQsIHVuaXRzLCBhc0Zsb2F0KSB7XG4gICAgICAgIHZhciB0aGF0ID0gY2xvbmVXaXRoT2Zmc2V0KGlucHV0LCB0aGlzKSxcbiAgICAgICAgICAgIHpvbmVEZWx0YSA9ICh0aGF0LnV0Y09mZnNldCgpIC0gdGhpcy51dGNPZmZzZXQoKSkgKiA2ZTQsXG4gICAgICAgICAgICBkZWx0YSwgb3V0cHV0O1xuXG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuXG4gICAgICAgIGlmICh1bml0cyA9PT0gJ3llYXInIHx8IHVuaXRzID09PSAnbW9udGgnIHx8IHVuaXRzID09PSAncXVhcnRlcicpIHtcbiAgICAgICAgICAgIG91dHB1dCA9IG1vbnRoRGlmZih0aGlzLCB0aGF0KTtcbiAgICAgICAgICAgIGlmICh1bml0cyA9PT0gJ3F1YXJ0ZXInKSB7XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gb3V0cHV0IC8gMztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodW5pdHMgPT09ICd5ZWFyJykge1xuICAgICAgICAgICAgICAgIG91dHB1dCA9IG91dHB1dCAvIDEyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVsdGEgPSB0aGlzIC0gdGhhdDtcbiAgICAgICAgICAgIG91dHB1dCA9IHVuaXRzID09PSAnc2Vjb25kJyA/IGRlbHRhIC8gMWUzIDogLy8gMTAwMFxuICAgICAgICAgICAgICAgIHVuaXRzID09PSAnbWludXRlJyA/IGRlbHRhIC8gNmU0IDogLy8gMTAwMCAqIDYwXG4gICAgICAgICAgICAgICAgdW5pdHMgPT09ICdob3VyJyA/IGRlbHRhIC8gMzZlNSA6IC8vIDEwMDAgKiA2MCAqIDYwXG4gICAgICAgICAgICAgICAgdW5pdHMgPT09ICdkYXknID8gKGRlbHRhIC0gem9uZURlbHRhKSAvIDg2NGU1IDogLy8gMTAwMCAqIDYwICogNjAgKiAyNCwgbmVnYXRlIGRzdFxuICAgICAgICAgICAgICAgIHVuaXRzID09PSAnd2VlaycgPyAoZGVsdGEgLSB6b25lRGVsdGEpIC8gNjA0OGU1IDogLy8gMTAwMCAqIDYwICogNjAgKiAyNCAqIDcsIG5lZ2F0ZSBkc3RcbiAgICAgICAgICAgICAgICBkZWx0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXNGbG9hdCA/IG91dHB1dCA6IGFic0Zsb29yKG91dHB1dCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW9udGhEaWZmIChhLCBiKSB7XG4gICAgICAgIC8vIGRpZmZlcmVuY2UgaW4gbW9udGhzXG4gICAgICAgIHZhciB3aG9sZU1vbnRoRGlmZiA9ICgoYi55ZWFyKCkgLSBhLnllYXIoKSkgKiAxMikgKyAoYi5tb250aCgpIC0gYS5tb250aCgpKSxcbiAgICAgICAgICAgIC8vIGIgaXMgaW4gKGFuY2hvciAtIDEgbW9udGgsIGFuY2hvciArIDEgbW9udGgpXG4gICAgICAgICAgICBhbmNob3IgPSBhLmNsb25lKCkuYWRkKHdob2xlTW9udGhEaWZmLCAnbW9udGhzJyksXG4gICAgICAgICAgICBhbmNob3IyLCBhZGp1c3Q7XG5cbiAgICAgICAgaWYgKGIgLSBhbmNob3IgPCAwKSB7XG4gICAgICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiAtIDEsICdtb250aHMnKTtcbiAgICAgICAgICAgIC8vIGxpbmVhciBhY3Jvc3MgdGhlIG1vbnRoXG4gICAgICAgICAgICBhZGp1c3QgPSAoYiAtIGFuY2hvcikgLyAoYW5jaG9yIC0gYW5jaG9yMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhbmNob3IyID0gYS5jbG9uZSgpLmFkZCh3aG9sZU1vbnRoRGlmZiArIDEsICdtb250aHMnKTtcbiAgICAgICAgICAgIC8vIGxpbmVhciBhY3Jvc3MgdGhlIG1vbnRoXG4gICAgICAgICAgICBhZGp1c3QgPSAoYiAtIGFuY2hvcikgLyAoYW5jaG9yMiAtIGFuY2hvcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gLSh3aG9sZU1vbnRoRGlmZiArIGFkanVzdCk7XG4gICAgfVxuXG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLmRlZmF1bHRGb3JtYXQgPSAnWVlZWS1NTS1ERFRISDptbTpzc1onO1xuXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmxvY2FsZSgnZW4nKS5mb3JtYXQoJ2RkZCBNTU0gREQgWVlZWSBISDptbTpzcyBbR01UXVpaJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbW9tZW50X2Zvcm1hdF9fdG9JU09TdHJpbmcgKCkge1xuICAgICAgICB2YXIgbSA9IHRoaXMuY2xvbmUoKS51dGMoKTtcbiAgICAgICAgaWYgKDAgPCBtLnllYXIoKSAmJiBtLnllYXIoKSA8PSA5OTk5KSB7XG4gICAgICAgICAgICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgLy8gbmF0aXZlIGltcGxlbWVudGF0aW9uIGlzIH41MHggZmFzdGVyLCB1c2UgaXQgd2hlbiB3ZSBjYW5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50b0RhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0TW9tZW50KG0sICdZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0TW9tZW50KG0sICdZWVlZWVktTU0tRERbVF1ISDptbTpzcy5TU1NbWl0nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZvcm1hdCAoaW5wdXRTdHJpbmcpIHtcbiAgICAgICAgdmFyIG91dHB1dCA9IGZvcm1hdE1vbWVudCh0aGlzLCBpbnB1dFN0cmluZyB8fCB1dGlsc19ob29rc19faG9va3MuZGVmYXVsdEZvcm1hdCk7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5wb3N0Zm9ybWF0KG91dHB1dCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZnJvbSAodGltZSwgd2l0aG91dFN1ZmZpeCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkuaW52YWxpZERhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3JlYXRlX19jcmVhdGVEdXJhdGlvbih7dG86IHRoaXMsIGZyb206IHRpbWV9KS5sb2NhbGUodGhpcy5sb2NhbGUoKSkuaHVtYW5pemUoIXdpdGhvdXRTdWZmaXgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZyb21Ob3cgKHdpdGhvdXRTdWZmaXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnJvbShsb2NhbF9fY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG8gKHRpbWUsIHdpdGhvdXRTdWZmaXgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNyZWF0ZV9fY3JlYXRlRHVyYXRpb24oe2Zyb206IHRoaXMsIHRvOiB0aW1lfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCF3aXRob3V0U3VmZml4KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b05vdyAod2l0aG91dFN1ZmZpeCkge1xuICAgICAgICByZXR1cm4gdGhpcy50byhsb2NhbF9fY3JlYXRlTG9jYWwoKSwgd2l0aG91dFN1ZmZpeCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbG9jYWxlIChrZXkpIHtcbiAgICAgICAgdmFyIG5ld0xvY2FsZURhdGE7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9jYWxlLl9hYmJyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3TG9jYWxlRGF0YSA9IGxvY2FsZV9sb2NhbGVzX19nZXRMb2NhbGUoa2V5KTtcbiAgICAgICAgICAgIGlmIChuZXdMb2NhbGVEYXRhICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbGUgPSBuZXdMb2NhbGVEYXRhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbGFuZyA9IGRlcHJlY2F0ZShcbiAgICAgICAgJ21vbWVudCgpLmxhbmcoKSBpcyBkZXByZWNhdGVkLiBJbnN0ZWFkLCB1c2UgbW9tZW50KCkubG9jYWxlRGF0YSgpIHRvIGdldCB0aGUgbGFuZ3VhZ2UgY29uZmlndXJhdGlvbi4gVXNlIG1vbWVudCgpLmxvY2FsZSgpIHRvIGNoYW5nZSBsYW5ndWFnZXMuJyxcbiAgICAgICAgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGUoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICk7XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVEYXRhICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2FsZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdGFydE9mICh1bml0cykge1xuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgLy8gdGhlIGZvbGxvd2luZyBzd2l0Y2ggaW50ZW50aW9uYWxseSBvbWl0cyBicmVhayBrZXl3b3Jkc1xuICAgICAgICAvLyB0byB1dGlsaXplIGZhbGxpbmcgdGhyb3VnaCB0aGUgY2FzZXMuXG4gICAgICAgIHN3aXRjaCAodW5pdHMpIHtcbiAgICAgICAgY2FzZSAneWVhcic6XG4gICAgICAgICAgICB0aGlzLm1vbnRoKDApO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICdxdWFydGVyJzpcbiAgICAgICAgY2FzZSAnbW9udGgnOlxuICAgICAgICAgICAgdGhpcy5kYXRlKDEpO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICd3ZWVrJzpcbiAgICAgICAgY2FzZSAnaXNvV2Vlayc6XG4gICAgICAgIGNhc2UgJ2RheSc6XG4gICAgICAgICAgICB0aGlzLmhvdXJzKDApO1xuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICBjYXNlICdob3VyJzpcbiAgICAgICAgICAgIHRoaXMubWludXRlcygwKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAnbWludXRlJzpcbiAgICAgICAgICAgIHRoaXMuc2Vjb25kcygwKTtcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgY2FzZSAnc2Vjb25kJzpcbiAgICAgICAgICAgIHRoaXMubWlsbGlzZWNvbmRzKDApO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2Vla3MgYXJlIGEgc3BlY2lhbCBjYXNlXG4gICAgICAgIGlmICh1bml0cyA9PT0gJ3dlZWsnKSB7XG4gICAgICAgICAgICB0aGlzLndlZWtkYXkoMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVuaXRzID09PSAnaXNvV2VlaycpIHtcbiAgICAgICAgICAgIHRoaXMuaXNvV2Vla2RheSgxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHF1YXJ0ZXJzIGFyZSBhbHNvIHNwZWNpYWxcbiAgICAgICAgaWYgKHVuaXRzID09PSAncXVhcnRlcicpIHtcbiAgICAgICAgICAgIHRoaXMubW9udGgoTWF0aC5mbG9vcih0aGlzLm1vbnRoKCkgLyAzKSAqIDMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZW5kT2YgKHVuaXRzKSB7XG4gICAgICAgIHVuaXRzID0gbm9ybWFsaXplVW5pdHModW5pdHMpO1xuICAgICAgICBpZiAodW5pdHMgPT09IHVuZGVmaW5lZCB8fCB1bml0cyA9PT0gJ21pbGxpc2Vjb25kJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRPZih1bml0cykuYWRkKDEsICh1bml0cyA9PT0gJ2lzb1dlZWsnID8gJ3dlZWsnIDogdW5pdHMpKS5zdWJ0cmFjdCgxLCAnbXMnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b190eXBlX192YWx1ZU9mICgpIHtcbiAgICAgICAgcmV0dXJuICt0aGlzLl9kIC0gKCh0aGlzLl9vZmZzZXQgfHwgMCkgKiA2MDAwMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdW5peCAoKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKCt0aGlzIC8gMTAwMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9EYXRlICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29mZnNldCA/IG5ldyBEYXRlKCt0aGlzKSA6IHRoaXMuX2Q7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9BcnJheSAoKSB7XG4gICAgICAgIHZhciBtID0gdGhpcztcbiAgICAgICAgcmV0dXJuIFttLnllYXIoKSwgbS5tb250aCgpLCBtLmRhdGUoKSwgbS5ob3VyKCksIG0ubWludXRlKCksIG0uc2Vjb25kKCksIG0ubWlsbGlzZWNvbmQoKV07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9PYmplY3QgKCkge1xuICAgICAgICB2YXIgbSA9IHRoaXM7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB5ZWFyczogbS55ZWFyKCksXG4gICAgICAgICAgICBtb250aHM6IG0ubW9udGgoKSxcbiAgICAgICAgICAgIGRhdGU6IG0uZGF0ZSgpLFxuICAgICAgICAgICAgaG91cnM6IG0uaG91cnMoKSxcbiAgICAgICAgICAgIG1pbnV0ZXM6IG0ubWludXRlcygpLFxuICAgICAgICAgICAgc2Vjb25kczogbS5zZWNvbmRzKCksXG4gICAgICAgICAgICBtaWxsaXNlY29uZHM6IG0ubWlsbGlzZWNvbmRzKClcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb21lbnRfdmFsaWRfX2lzVmFsaWQgKCkge1xuICAgICAgICByZXR1cm4gdmFsaWRfX2lzVmFsaWQodGhpcyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2luZ0ZsYWdzICgpIHtcbiAgICAgICAgcmV0dXJuIGV4dGVuZCh7fSwgZ2V0UGFyc2luZ0ZsYWdzKHRoaXMpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnZhbGlkQXQgKCkge1xuICAgICAgICByZXR1cm4gZ2V0UGFyc2luZ0ZsYWdzKHRoaXMpLm92ZXJmbG93O1xuICAgIH1cblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnZ2cnLCAyXSwgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53ZWVrWWVhcigpICUgMTAwO1xuICAgIH0pO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oMCwgWydHRycsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzb1dlZWtZZWFyKCkgJSAxMDA7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBhZGRXZWVrWWVhckZvcm1hdFRva2VuICh0b2tlbiwgZ2V0dGVyKSB7XG4gICAgICAgIGFkZEZvcm1hdFRva2VuKDAsIFt0b2tlbiwgdG9rZW4ubGVuZ3RoXSwgMCwgZ2V0dGVyKTtcbiAgICB9XG5cbiAgICBhZGRXZWVrWWVhckZvcm1hdFRva2VuKCdnZ2dnJywgICAgICd3ZWVrWWVhcicpO1xuICAgIGFkZFdlZWtZZWFyRm9ybWF0VG9rZW4oJ2dnZ2dnJywgICAgJ3dlZWtZZWFyJyk7XG4gICAgYWRkV2Vla1llYXJGb3JtYXRUb2tlbignR0dHRycsICAnaXNvV2Vla1llYXInKTtcbiAgICBhZGRXZWVrWWVhckZvcm1hdFRva2VuKCdHR0dHRycsICdpc29XZWVrWWVhcicpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCd3ZWVrWWVhcicsICdnZycpO1xuICAgIGFkZFVuaXRBbGlhcygnaXNvV2Vla1llYXInLCAnR0cnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ0cnLCAgICAgIG1hdGNoU2lnbmVkKTtcbiAgICBhZGRSZWdleFRva2VuKCdnJywgICAgICBtYXRjaFNpZ25lZCk7XG4gICAgYWRkUmVnZXhUb2tlbignR0cnLCAgICAgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2dnJywgICAgIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRSZWdleFRva2VuKCdHR0dHJywgICBtYXRjaDF0bzQsIG1hdGNoNCk7XG4gICAgYWRkUmVnZXhUb2tlbignZ2dnZycsICAgbWF0Y2gxdG80LCBtYXRjaDQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0dHR0dHJywgIG1hdGNoMXRvNiwgbWF0Y2g2KTtcbiAgICBhZGRSZWdleFRva2VuKCdnZ2dnZycsICBtYXRjaDF0bzYsIG1hdGNoNik7XG5cbiAgICBhZGRXZWVrUGFyc2VUb2tlbihbJ2dnZ2cnLCAnZ2dnZ2cnLCAnR0dHRycsICdHR0dHRyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgd2Vla1t0b2tlbi5zdWJzdHIoMCwgMildID0gdG9JbnQoaW5wdXQpO1xuICAgIH0pO1xuXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oWydnZycsICdHRyddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZywgdG9rZW4pIHtcbiAgICAgICAgd2Vla1t0b2tlbl0gPSB1dGlsc19ob29rc19faG9va3MucGFyc2VUd29EaWdpdFllYXIoaW5wdXQpO1xuICAgIH0pO1xuXG4gICAgLy8gSEVMUEVSU1xuXG4gICAgZnVuY3Rpb24gd2Vla3NJblllYXIoeWVhciwgZG93LCBkb3kpIHtcbiAgICAgICAgcmV0dXJuIHdlZWtPZlllYXIobG9jYWxfX2NyZWF0ZUxvY2FsKFt5ZWFyLCAxMSwgMzEgKyBkb3cgLSBkb3ldKSwgZG93LCBkb3kpLndlZWs7XG4gICAgfVxuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgZnVuY3Rpb24gZ2V0U2V0V2Vla1llYXIgKGlucHV0KSB7XG4gICAgICAgIHZhciB5ZWFyID0gd2Vla09mWWVhcih0aGlzLCB0aGlzLmxvY2FsZURhdGEoKS5fd2Vlay5kb3csIHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRveSkueWVhcjtcbiAgICAgICAgcmV0dXJuIGlucHV0ID09IG51bGwgPyB5ZWFyIDogdGhpcy5hZGQoKGlucHV0IC0geWVhciksICd5Jyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U2V0SVNPV2Vla1llYXIgKGlucHV0KSB7XG4gICAgICAgIHZhciB5ZWFyID0gd2Vla09mWWVhcih0aGlzLCAxLCA0KS55ZWFyO1xuICAgICAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHllYXIgOiB0aGlzLmFkZCgoaW5wdXQgLSB5ZWFyKSwgJ3knKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRJU09XZWVrc0luWWVhciAoKSB7XG4gICAgICAgIHJldHVybiB3ZWVrc0luWWVhcih0aGlzLnllYXIoKSwgMSwgNCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0V2Vla3NJblllYXIgKCkge1xuICAgICAgICB2YXIgd2Vla0luZm8gPSB0aGlzLmxvY2FsZURhdGEoKS5fd2VlaztcbiAgICAgICAgcmV0dXJuIHdlZWtzSW5ZZWFyKHRoaXMueWVhcigpLCB3ZWVrSW5mby5kb3csIHdlZWtJbmZvLmRveSk7XG4gICAgfVxuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ1EnLCAwLCAwLCAncXVhcnRlcicpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdxdWFydGVyJywgJ1EnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ1EnLCBtYXRjaDEpO1xuICAgIGFkZFBhcnNlVG9rZW4oJ1EnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W01PTlRIXSA9ICh0b0ludChpbnB1dCkgLSAxKSAqIDM7XG4gICAgfSk7XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXRRdWFydGVyIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IE1hdGguY2VpbCgodGhpcy5tb250aCgpICsgMSkgLyAzKSA6IHRoaXMubW9udGgoKGlucHV0IC0gMSkgKiAzICsgdGhpcy5tb250aCgpICUgMyk7XG4gICAgfVxuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ0QnLCBbJ0REJywgMl0sICdEbycsICdkYXRlJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ2RhdGUnLCAnRCcpO1xuXG4gICAgLy8gUEFSU0lOR1xuXG4gICAgYWRkUmVnZXhUb2tlbignRCcsICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0REJywgbWF0Y2gxdG8yLCBtYXRjaDIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0RvJywgZnVuY3Rpb24gKGlzU3RyaWN0LCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGlzU3RyaWN0ID8gbG9jYWxlLl9vcmRpbmFsUGFyc2UgOiBsb2NhbGUuX29yZGluYWxQYXJzZUxlbmllbnQ7XG4gICAgfSk7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnRCcsICdERCddLCBEQVRFKTtcbiAgICBhZGRQYXJzZVRva2VuKCdEbycsIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXkpIHtcbiAgICAgICAgYXJyYXlbREFURV0gPSB0b0ludChpbnB1dC5tYXRjaChtYXRjaDF0bzIpWzBdLCAxMCk7XG4gICAgfSk7XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICB2YXIgZ2V0U2V0RGF5T2ZNb250aCA9IG1ha2VHZXRTZXQoJ0RhdGUnLCB0cnVlKTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdkJywgMCwgJ2RvJywgJ2RheScpO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ2RkJywgMCwgMCwgZnVuY3Rpb24gKGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXNNaW4odGhpcywgZm9ybWF0KTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdkZGQnLCAwLCAwLCBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c1Nob3J0KHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignZGRkZCcsIDAsIDAsIGZ1bmN0aW9uIChmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzKHRoaXMsIGZvcm1hdCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignZScsIDAsIDAsICd3ZWVrZGF5Jyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ0UnLCAwLCAwLCAnaXNvV2Vla2RheScpO1xuXG4gICAgLy8gQUxJQVNFU1xuXG4gICAgYWRkVW5pdEFsaWFzKCdkYXknLCAnZCcpO1xuICAgIGFkZFVuaXRBbGlhcygnd2Vla2RheScsICdlJyk7XG4gICAgYWRkVW5pdEFsaWFzKCdpc29XZWVrZGF5JywgJ0UnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ2QnLCAgICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2UnLCAgICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0UnLCAgICBtYXRjaDF0bzIpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2RkJywgICBtYXRjaFdvcmQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2RkZCcsICBtYXRjaFdvcmQpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ2RkZGQnLCBtYXRjaFdvcmQpO1xuXG4gICAgYWRkV2Vla1BhcnNlVG9rZW4oWydkZCcsICdkZGQnLCAnZGRkZCddLCBmdW5jdGlvbiAoaW5wdXQsIHdlZWssIGNvbmZpZykge1xuICAgICAgICB2YXIgd2Vla2RheSA9IGNvbmZpZy5fbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQpO1xuICAgICAgICAvLyBpZiB3ZSBkaWRuJ3QgZ2V0IGEgd2Vla2RheSBuYW1lLCBtYXJrIHRoZSBkYXRlIGFzIGludmFsaWRcbiAgICAgICAgaWYgKHdlZWtkYXkgIT0gbnVsbCkge1xuICAgICAgICAgICAgd2Vlay5kID0gd2Vla2RheTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGdldFBhcnNpbmdGbGFncyhjb25maWcpLmludmFsaWRXZWVrZGF5ID0gaW5wdXQ7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGFkZFdlZWtQYXJzZVRva2VuKFsnZCcsICdlJywgJ0UnXSwgZnVuY3Rpb24gKGlucHV0LCB3ZWVrLCBjb25maWcsIHRva2VuKSB7XG4gICAgICAgIHdlZWtbdG9rZW5dID0gdG9JbnQoaW5wdXQpO1xuICAgIH0pO1xuXG4gICAgLy8gSEVMUEVSU1xuXG4gICAgZnVuY3Rpb24gcGFyc2VXZWVrZGF5KGlucHV0LCBsb2NhbGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNOYU4oaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoaW5wdXQsIDEwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlucHV0ID0gbG9jYWxlLndlZWtkYXlzUGFyc2UoaW5wdXQpO1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gTE9DQUxFU1xuXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5cyA9ICdTdW5kYXlfTW9uZGF5X1R1ZXNkYXlfV2VkbmVzZGF5X1RodXJzZGF5X0ZyaWRheV9TYXR1cmRheScuc3BsaXQoJ18nKTtcbiAgICBmdW5jdGlvbiBsb2NhbGVXZWVrZGF5cyAobSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2Vla2RheXNbbS5kYXkoKV07XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRMb2NhbGVXZWVrZGF5c1Nob3J0ID0gJ1N1bl9Nb25fVHVlX1dlZF9UaHVfRnJpX1NhdCcuc3BsaXQoJ18nKTtcbiAgICBmdW5jdGlvbiBsb2NhbGVXZWVrZGF5c1Nob3J0IChtKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWVrZGF5c1Nob3J0W20uZGF5KCldO1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW4gPSAnU3VfTW9fVHVfV2VfVGhfRnJfU2EnLnNwbGl0KCdfJyk7XG4gICAgZnVuY3Rpb24gbG9jYWxlV2Vla2RheXNNaW4gKG0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlZWtkYXlzTWluW20uZGF5KCldO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxvY2FsZVdlZWtkYXlzUGFyc2UgKHdlZWtkYXlOYW1lKSB7XG4gICAgICAgIHZhciBpLCBtb20sIHJlZ2V4O1xuXG4gICAgICAgIHRoaXMuX3dlZWtkYXlzUGFyc2UgPSB0aGlzLl93ZWVrZGF5c1BhcnNlIHx8IFtdO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA3OyBpKyspIHtcbiAgICAgICAgICAgIC8vIG1ha2UgdGhlIHJlZ2V4IGlmIHdlIGRvbid0IGhhdmUgaXQgYWxyZWFkeVxuICAgICAgICAgICAgaWYgKCF0aGlzLl93ZWVrZGF5c1BhcnNlW2ldKSB7XG4gICAgICAgICAgICAgICAgbW9tID0gbG9jYWxfX2NyZWF0ZUxvY2FsKFsyMDAwLCAxXSkuZGF5KGkpO1xuICAgICAgICAgICAgICAgIHJlZ2V4ID0gJ14nICsgdGhpcy53ZWVrZGF5cyhtb20sICcnKSArICd8XicgKyB0aGlzLndlZWtkYXlzU2hvcnQobW9tLCAnJykgKyAnfF4nICsgdGhpcy53ZWVrZGF5c01pbihtb20sICcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWVrZGF5c1BhcnNlW2ldID0gbmV3IFJlZ0V4cChyZWdleC5yZXBsYWNlKCcuJywgJycpLCAnaScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGVzdCB0aGUgcmVnZXhcbiAgICAgICAgICAgIGlmICh0aGlzLl93ZWVrZGF5c1BhcnNlW2ldLnRlc3Qod2Vla2RheU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRTZXREYXlPZldlZWsgKGlucHV0KSB7XG4gICAgICAgIHZhciBkYXkgPSB0aGlzLl9pc1VUQyA/IHRoaXMuX2QuZ2V0VVRDRGF5KCkgOiB0aGlzLl9kLmdldERheSgpO1xuICAgICAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaW5wdXQgPSBwYXJzZVdlZWtkYXkoaW5wdXQsIHRoaXMubG9jYWxlRGF0YSgpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFkZChpbnB1dCAtIGRheSwgJ2QnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBkYXk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRMb2NhbGVEYXlPZldlZWsgKGlucHV0KSB7XG4gICAgICAgIHZhciB3ZWVrZGF5ID0gKHRoaXMuZGF5KCkgKyA3IC0gdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG93KSAlIDc7XG4gICAgICAgIHJldHVybiBpbnB1dCA9PSBudWxsID8gd2Vla2RheSA6IHRoaXMuYWRkKGlucHV0IC0gd2Vla2RheSwgJ2QnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTZXRJU09EYXlPZldlZWsgKGlucHV0KSB7XG4gICAgICAgIC8vIGJlaGF2ZXMgdGhlIHNhbWUgYXMgbW9tZW50I2RheSBleGNlcHRcbiAgICAgICAgLy8gYXMgYSBnZXR0ZXIsIHJldHVybnMgNyBpbnN0ZWFkIG9mIDAgKDEtNyByYW5nZSBpbnN0ZWFkIG9mIDAtNilcbiAgICAgICAgLy8gYXMgYSBzZXR0ZXIsIHN1bmRheSBzaG91bGQgYmVsb25nIHRvIHRoZSBwcmV2aW91cyB3ZWVrLlxuICAgICAgICByZXR1cm4gaW5wdXQgPT0gbnVsbCA/IHRoaXMuZGF5KCkgfHwgNyA6IHRoaXMuZGF5KHRoaXMuZGF5KCkgJSA3ID8gaW5wdXQgOiBpbnB1dCAtIDcpO1xuICAgIH1cblxuICAgIGFkZEZvcm1hdFRva2VuKCdIJywgWydISCcsIDJdLCAwLCAnaG91cicpO1xuICAgIGFkZEZvcm1hdFRva2VuKCdoJywgWydoaCcsIDJdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhvdXJzKCkgJSAxMiB8fCAxMjtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIG1lcmlkaWVtICh0b2tlbiwgbG93ZXJjYXNlKSB7XG4gICAgICAgIGFkZEZvcm1hdFRva2VuKHRva2VuLCAwLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubWVyaWRpZW0odGhpcy5ob3VycygpLCB0aGlzLm1pbnV0ZXMoKSwgbG93ZXJjYXNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbWVyaWRpZW0oJ2EnLCB0cnVlKTtcbiAgICBtZXJpZGllbSgnQScsIGZhbHNlKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnaG91cicsICdoJyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBmdW5jdGlvbiBtYXRjaE1lcmlkaWVtIChpc1N0cmljdCwgbG9jYWxlKSB7XG4gICAgICAgIHJldHVybiBsb2NhbGUuX21lcmlkaWVtUGFyc2U7XG4gICAgfVxuXG4gICAgYWRkUmVnZXhUb2tlbignYScsICBtYXRjaE1lcmlkaWVtKTtcbiAgICBhZGRSZWdleFRva2VuKCdBJywgIG1hdGNoTWVyaWRpZW0pO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ0gnLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdoJywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignSEgnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignaGgnLCBtYXRjaDF0bzIsIG1hdGNoMik7XG5cbiAgICBhZGRQYXJzZVRva2VuKFsnSCcsICdISCddLCBIT1VSKTtcbiAgICBhZGRQYXJzZVRva2VuKFsnYScsICdBJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBjb25maWcuX2lzUG0gPSBjb25maWcuX2xvY2FsZS5pc1BNKGlucHV0KTtcbiAgICAgICAgY29uZmlnLl9tZXJpZGllbSA9IGlucHV0O1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oWydoJywgJ2hoJ10sIGZ1bmN0aW9uIChpbnB1dCwgYXJyYXksIGNvbmZpZykge1xuICAgICAgICBhcnJheVtIT1VSXSA9IHRvSW50KGlucHV0KTtcbiAgICAgICAgZ2V0UGFyc2luZ0ZsYWdzKGNvbmZpZykuYmlnSG91ciA9IHRydWU7XG4gICAgfSk7XG5cbiAgICAvLyBMT0NBTEVTXG5cbiAgICBmdW5jdGlvbiBsb2NhbGVJc1BNIChpbnB1dCkge1xuICAgICAgICAvLyBJRTggUXVpcmtzIE1vZGUgJiBJRTcgU3RhbmRhcmRzIE1vZGUgZG8gbm90IGFsbG93IGFjY2Vzc2luZyBzdHJpbmdzIGxpa2UgYXJyYXlzXG4gICAgICAgIC8vIFVzaW5nIGNoYXJBdCBzaG91bGQgYmUgbW9yZSBjb21wYXRpYmxlLlxuICAgICAgICByZXR1cm4gKChpbnB1dCArICcnKS50b0xvd2VyQ2FzZSgpLmNoYXJBdCgwKSA9PT0gJ3AnKTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdExvY2FsZU1lcmlkaWVtUGFyc2UgPSAvW2FwXVxcLj9tP1xcLj8vaTtcbiAgICBmdW5jdGlvbiBsb2NhbGVNZXJpZGllbSAoaG91cnMsIG1pbnV0ZXMsIGlzTG93ZXIpIHtcbiAgICAgICAgaWYgKGhvdXJzID4gMTEpIHtcbiAgICAgICAgICAgIHJldHVybiBpc0xvd2VyID8gJ3BtJyA6ICdQTSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaXNMb3dlciA/ICdhbScgOiAnQU0nO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICAvLyBTZXR0aW5nIHRoZSBob3VyIHNob3VsZCBrZWVwIHRoZSB0aW1lLCBiZWNhdXNlIHRoZSB1c2VyIGV4cGxpY2l0bHlcbiAgICAvLyBzcGVjaWZpZWQgd2hpY2ggaG91ciBoZSB3YW50cy4gU28gdHJ5aW5nIHRvIG1haW50YWluIHRoZSBzYW1lIGhvdXIgKGluXG4gICAgLy8gYSBuZXcgdGltZXpvbmUpIG1ha2VzIHNlbnNlLiBBZGRpbmcvc3VidHJhY3RpbmcgaG91cnMgZG9lcyBub3QgZm9sbG93XG4gICAgLy8gdGhpcyBydWxlLlxuICAgIHZhciBnZXRTZXRIb3VyID0gbWFrZUdldFNldCgnSG91cnMnLCB0cnVlKTtcblxuICAgIGFkZEZvcm1hdFRva2VuKCdtJywgWydtbScsIDJdLCAwLCAnbWludXRlJyk7XG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ21pbnV0ZScsICdtJyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdtJywgIG1hdGNoMXRvMik7XG4gICAgYWRkUmVnZXhUb2tlbignbW0nLCBtYXRjaDF0bzIsIG1hdGNoMik7XG4gICAgYWRkUGFyc2VUb2tlbihbJ20nLCAnbW0nXSwgTUlOVVRFKTtcblxuICAgIC8vIE1PTUVOVFNcblxuICAgIHZhciBnZXRTZXRNaW51dGUgPSBtYWtlR2V0U2V0KCdNaW51dGVzJywgZmFsc2UpO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ3MnLCBbJ3NzJywgMl0sIDAsICdzZWNvbmQnKTtcblxuICAgIC8vIEFMSUFTRVNcblxuICAgIGFkZFVuaXRBbGlhcygnc2Vjb25kJywgJ3MnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ3MnLCAgbWF0Y2gxdG8yKTtcbiAgICBhZGRSZWdleFRva2VuKCdzcycsIG1hdGNoMXRvMiwgbWF0Y2gyKTtcbiAgICBhZGRQYXJzZVRva2VuKFsncycsICdzcyddLCBTRUNPTkQpO1xuXG4gICAgLy8gTU9NRU5UU1xuXG4gICAgdmFyIGdldFNldFNlY29uZCA9IG1ha2VHZXRTZXQoJ1NlY29uZHMnLCBmYWxzZSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbignUycsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwMCk7XG4gICAgfSk7XG5cbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTJywgMl0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIH5+KHRoaXMubWlsbGlzZWNvbmQoKSAvIDEwKTtcbiAgICB9KTtcblxuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTJywgM10sIDAsICdtaWxsaXNlY29uZCcpO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTUycsIDRdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTJywgNV0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTUycsIDZdLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwO1xuICAgIH0pO1xuICAgIGFkZEZvcm1hdFRva2VuKDAsIFsnU1NTU1NTUycsIDddLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTJywgOF0sIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWlsbGlzZWNvbmQoKSAqIDEwMDAwMDtcbiAgICB9KTtcbiAgICBhZGRGb3JtYXRUb2tlbigwLCBbJ1NTU1NTU1NTUycsIDldLCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbGxpc2Vjb25kKCkgKiAxMDAwMDAwO1xuICAgIH0pO1xuXG5cbiAgICAvLyBBTElBU0VTXG5cbiAgICBhZGRVbml0QWxpYXMoJ21pbGxpc2Vjb25kJywgJ21zJyk7XG5cbiAgICAvLyBQQVJTSU5HXG5cbiAgICBhZGRSZWdleFRva2VuKCdTJywgICAgbWF0Y2gxdG8zLCBtYXRjaDEpO1xuICAgIGFkZFJlZ2V4VG9rZW4oJ1NTJywgICBtYXRjaDF0bzMsIG1hdGNoMik7XG4gICAgYWRkUmVnZXhUb2tlbignU1NTJywgIG1hdGNoMXRvMywgbWF0Y2gzKTtcblxuICAgIHZhciB0b2tlbjtcbiAgICBmb3IgKHRva2VuID0gJ1NTU1MnOyB0b2tlbi5sZW5ndGggPD0gOTsgdG9rZW4gKz0gJ1MnKSB7XG4gICAgICAgIGFkZFJlZ2V4VG9rZW4odG9rZW4sIG1hdGNoVW5zaWduZWQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlTXMoaW5wdXQsIGFycmF5KSB7XG4gICAgICAgIGFycmF5W01JTExJU0VDT05EXSA9IHRvSW50KCgnMC4nICsgaW5wdXQpICogMTAwMCk7XG4gICAgfVxuXG4gICAgZm9yICh0b2tlbiA9ICdTJzsgdG9rZW4ubGVuZ3RoIDw9IDk7IHRva2VuICs9ICdTJykge1xuICAgICAgICBhZGRQYXJzZVRva2VuKHRva2VuLCBwYXJzZU1zKTtcbiAgICB9XG4gICAgLy8gTU9NRU5UU1xuXG4gICAgdmFyIGdldFNldE1pbGxpc2Vjb25kID0gbWFrZUdldFNldCgnTWlsbGlzZWNvbmRzJywgZmFsc2UpO1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ3onLCAgMCwgMCwgJ3pvbmVBYmJyJyk7XG4gICAgYWRkRm9ybWF0VG9rZW4oJ3p6JywgMCwgMCwgJ3pvbmVOYW1lJyk7XG5cbiAgICAvLyBNT01FTlRTXG5cbiAgICBmdW5jdGlvbiBnZXRab25lQWJiciAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1VUQyA/ICdVVEMnIDogJyc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Wm9uZU5hbWUgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNVVEMgPyAnQ29vcmRpbmF0ZWQgVW5pdmVyc2FsIFRpbWUnIDogJyc7XG4gICAgfVxuXG4gICAgdmFyIG1vbWVudFByb3RvdHlwZV9fcHJvdG8gPSBNb21lbnQucHJvdG90eXBlO1xuXG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5hZGQgICAgICAgICAgPSBhZGRfc3VidHJhY3RfX2FkZDtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmNhbGVuZGFyICAgICA9IG1vbWVudF9jYWxlbmRhcl9fY2FsZW5kYXI7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5jbG9uZSAgICAgICAgPSBjbG9uZTtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmRpZmYgICAgICAgICA9IGRpZmY7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5lbmRPZiAgICAgICAgPSBlbmRPZjtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmZvcm1hdCAgICAgICA9IGZvcm1hdDtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmZyb20gICAgICAgICA9IGZyb207XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5mcm9tTm93ICAgICAgPSBmcm9tTm93O1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8udG8gICAgICAgICAgID0gdG87XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by50b05vdyAgICAgICAgPSB0b05vdztcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmdldCAgICAgICAgICA9IGdldFNldDtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmludmFsaWRBdCAgICA9IGludmFsaWRBdDtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmlzQWZ0ZXIgICAgICA9IGlzQWZ0ZXI7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc0JlZm9yZSAgICAgPSBpc0JlZm9yZTtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmlzQmV0d2VlbiAgICA9IGlzQmV0d2VlbjtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmlzU2FtZSAgICAgICA9IGlzU2FtZTtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmlzVmFsaWQgICAgICA9IG1vbWVudF92YWxpZF9faXNWYWxpZDtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmxhbmcgICAgICAgICA9IGxhbmc7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5sb2NhbGUgICAgICAgPSBsb2NhbGU7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5sb2NhbGVEYXRhICAgPSBsb2NhbGVEYXRhO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ubWF4ICAgICAgICAgID0gcHJvdG90eXBlTWF4O1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ubWluICAgICAgICAgID0gcHJvdG90eXBlTWluO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ucGFyc2luZ0ZsYWdzID0gcGFyc2luZ0ZsYWdzO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uc2V0ICAgICAgICAgID0gZ2V0U2V0O1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uc3RhcnRPZiAgICAgID0gc3RhcnRPZjtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnN1YnRyYWN0ICAgICA9IGFkZF9zdWJ0cmFjdF9fc3VidHJhY3Q7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by50b0FycmF5ICAgICAgPSB0b0FycmF5O1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8udG9PYmplY3QgICAgID0gdG9PYmplY3Q7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by50b0RhdGUgICAgICAgPSB0b0RhdGU7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by50b0lTT1N0cmluZyAgPSBtb21lbnRfZm9ybWF0X190b0lTT1N0cmluZztcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnRvSlNPTiAgICAgICA9IG1vbWVudF9mb3JtYXRfX3RvSVNPU3RyaW5nO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8udG9TdHJpbmcgICAgID0gdG9TdHJpbmc7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by51bml4ICAgICAgICAgPSB1bml4O1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8udmFsdWVPZiAgICAgID0gdG9fdHlwZV9fdmFsdWVPZjtcblxuICAgIC8vIFllYXJcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnllYXIgICAgICAgPSBnZXRTZXRZZWFyO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaXNMZWFwWWVhciA9IGdldElzTGVhcFllYXI7XG5cbiAgICAvLyBXZWVrIFllYXJcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLndlZWtZZWFyICAgID0gZ2V0U2V0V2Vla1llYXI7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc29XZWVrWWVhciA9IGdldFNldElTT1dlZWtZZWFyO1xuXG4gICAgLy8gUXVhcnRlclxuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ucXVhcnRlciA9IG1vbWVudFByb3RvdHlwZV9fcHJvdG8ucXVhcnRlcnMgPSBnZXRTZXRRdWFydGVyO1xuXG4gICAgLy8gTW9udGhcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLm1vbnRoICAgICAgID0gZ2V0U2V0TW9udGg7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5kYXlzSW5Nb250aCA9IGdldERheXNJbk1vbnRoO1xuXG4gICAgLy8gV2Vla1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ud2VlayAgICAgICAgICAgPSBtb21lbnRQcm90b3R5cGVfX3Byb3RvLndlZWtzICAgICAgICA9IGdldFNldFdlZWs7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc29XZWVrICAgICAgICA9IG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaXNvV2Vla3MgICAgID0gZ2V0U2V0SVNPV2VlaztcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLndlZWtzSW5ZZWFyICAgID0gZ2V0V2Vla3NJblllYXI7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc29XZWVrc0luWWVhciA9IGdldElTT1dlZWtzSW5ZZWFyO1xuXG4gICAgLy8gRGF5XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5kYXRlICAgICAgID0gZ2V0U2V0RGF5T2ZNb250aDtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmRheSAgICAgICAgPSBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmRheXMgICAgICAgICAgICAgPSBnZXRTZXREYXlPZldlZWs7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by53ZWVrZGF5ICAgID0gZ2V0U2V0TG9jYWxlRGF5T2ZXZWVrO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaXNvV2Vla2RheSA9IGdldFNldElTT0RheU9mV2VlaztcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmRheU9mWWVhciAgPSBnZXRTZXREYXlPZlllYXI7XG5cbiAgICAvLyBIb3VyXG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5ob3VyID0gbW9tZW50UHJvdG90eXBlX19wcm90by5ob3VycyA9IGdldFNldEhvdXI7XG5cbiAgICAvLyBNaW51dGVcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLm1pbnV0ZSA9IG1vbWVudFByb3RvdHlwZV9fcHJvdG8ubWludXRlcyA9IGdldFNldE1pbnV0ZTtcblxuICAgIC8vIFNlY29uZFxuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uc2Vjb25kID0gbW9tZW50UHJvdG90eXBlX19wcm90by5zZWNvbmRzID0gZ2V0U2V0U2Vjb25kO1xuXG4gICAgLy8gTWlsbGlzZWNvbmRcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLm1pbGxpc2Vjb25kID0gbW9tZW50UHJvdG90eXBlX19wcm90by5taWxsaXNlY29uZHMgPSBnZXRTZXRNaWxsaXNlY29uZDtcblxuICAgIC8vIE9mZnNldFxuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8udXRjT2Zmc2V0ICAgICAgICAgICAgPSBnZXRTZXRPZmZzZXQ7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by51dGMgICAgICAgICAgICAgICAgICA9IHNldE9mZnNldFRvVVRDO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ubG9jYWwgICAgICAgICAgICAgICAgPSBzZXRPZmZzZXRUb0xvY2FsO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ucGFyc2Vab25lICAgICAgICAgICAgPSBzZXRPZmZzZXRUb1BhcnNlZE9mZnNldDtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmhhc0FsaWduZWRIb3VyT2Zmc2V0ID0gaGFzQWxpZ25lZEhvdXJPZmZzZXQ7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc0RTVCAgICAgICAgICAgICAgICA9IGlzRGF5bGlnaHRTYXZpbmdUaW1lO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaXNEU1RTaGlmdGVkICAgICAgICAgPSBpc0RheWxpZ2h0U2F2aW5nVGltZVNoaWZ0ZWQ7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc0xvY2FsICAgICAgICAgICAgICA9IGlzTG9jYWw7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by5pc1V0Y09mZnNldCAgICAgICAgICA9IGlzVXRjT2Zmc2V0O1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uaXNVdGMgICAgICAgICAgICAgICAgPSBpc1V0YztcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmlzVVRDICAgICAgICAgICAgICAgID0gaXNVdGM7XG5cbiAgICAvLyBUaW1lem9uZVxuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8uem9uZUFiYnIgPSBnZXRab25lQWJicjtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLnpvbmVOYW1lID0gZ2V0Wm9uZU5hbWU7XG5cbiAgICAvLyBEZXByZWNhdGlvbnNcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLmRhdGVzICA9IGRlcHJlY2F0ZSgnZGF0ZXMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIGRhdGUgaW5zdGVhZC4nLCBnZXRTZXREYXlPZk1vbnRoKTtcbiAgICBtb21lbnRQcm90b3R5cGVfX3Byb3RvLm1vbnRocyA9IGRlcHJlY2F0ZSgnbW9udGhzIGFjY2Vzc29yIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb250aCBpbnN0ZWFkJywgZ2V0U2V0TW9udGgpO1xuICAgIG1vbWVudFByb3RvdHlwZV9fcHJvdG8ueWVhcnMgID0gZGVwcmVjYXRlKCd5ZWFycyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgeWVhciBpbnN0ZWFkJywgZ2V0U2V0WWVhcik7XG4gICAgbW9tZW50UHJvdG90eXBlX19wcm90by56b25lICAgPSBkZXByZWNhdGUoJ21vbWVudCgpLnpvbmUgaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudCgpLnV0Y09mZnNldCBpbnN0ZWFkLiBodHRwczovL2dpdGh1Yi5jb20vbW9tZW50L21vbWVudC9pc3N1ZXMvMTc3OScsIGdldFNldFpvbmUpO1xuXG4gICAgdmFyIG1vbWVudFByb3RvdHlwZSA9IG1vbWVudFByb3RvdHlwZV9fcHJvdG87XG5cbiAgICBmdW5jdGlvbiBtb21lbnRfX2NyZWF0ZVVuaXggKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBsb2NhbF9fY3JlYXRlTG9jYWwoaW5wdXQgKiAxMDAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtb21lbnRfX2NyZWF0ZUluWm9uZSAoKSB7XG4gICAgICAgIHJldHVybiBsb2NhbF9fY3JlYXRlTG9jYWwuYXBwbHkobnVsbCwgYXJndW1lbnRzKS5wYXJzZVpvbmUoKTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdENhbGVuZGFyID0ge1xuICAgICAgICBzYW1lRGF5IDogJ1tUb2RheSBhdF0gTFQnLFxuICAgICAgICBuZXh0RGF5IDogJ1tUb21vcnJvdyBhdF0gTFQnLFxuICAgICAgICBuZXh0V2VlayA6ICdkZGRkIFthdF0gTFQnLFxuICAgICAgICBsYXN0RGF5IDogJ1tZZXN0ZXJkYXkgYXRdIExUJyxcbiAgICAgICAgbGFzdFdlZWsgOiAnW0xhc3RdIGRkZGQgW2F0XSBMVCcsXG4gICAgICAgIHNhbWVFbHNlIDogJ0wnXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGxvY2FsZV9jYWxlbmRhcl9fY2FsZW5kYXIgKGtleSwgbW9tLCBub3cpIHtcbiAgICAgICAgdmFyIG91dHB1dCA9IHRoaXMuX2NhbGVuZGFyW2tleV07XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb3V0cHV0ID09PSAnZnVuY3Rpb24nID8gb3V0cHV0LmNhbGwobW9tLCBub3cpIDogb3V0cHV0O1xuICAgIH1cblxuICAgIHZhciBkZWZhdWx0TG9uZ0RhdGVGb3JtYXQgPSB7XG4gICAgICAgIExUUyAgOiAnaDptbTpzcyBBJyxcbiAgICAgICAgTFQgICA6ICdoOm1tIEEnLFxuICAgICAgICBMICAgIDogJ01NL0REL1lZWVknLFxuICAgICAgICBMTCAgIDogJ01NTU0gRCwgWVlZWScsXG4gICAgICAgIExMTCAgOiAnTU1NTSBELCBZWVlZIGg6bW0gQScsXG4gICAgICAgIExMTEwgOiAnZGRkZCwgTU1NTSBELCBZWVlZIGg6bW0gQSdcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbG9uZ0RhdGVGb3JtYXQgKGtleSkge1xuICAgICAgICB2YXIgZm9ybWF0ID0gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XSxcbiAgICAgICAgICAgIGZvcm1hdFVwcGVyID0gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5LnRvVXBwZXJDYXNlKCldO1xuXG4gICAgICAgIGlmIChmb3JtYXQgfHwgIWZvcm1hdFVwcGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XSA9IGZvcm1hdFVwcGVyLnJlcGxhY2UoL01NTU18TU18RER8ZGRkZC9nLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsLnNsaWNlKDEpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fbG9uZ0RhdGVGb3JtYXRba2V5XTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdEludmFsaWREYXRlID0gJ0ludmFsaWQgZGF0ZSc7XG5cbiAgICBmdW5jdGlvbiBpbnZhbGlkRGF0ZSAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZhbGlkRGF0ZTtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdE9yZGluYWwgPSAnJWQnO1xuICAgIHZhciBkZWZhdWx0T3JkaW5hbFBhcnNlID0gL1xcZHsxLDJ9LztcblxuICAgIGZ1bmN0aW9uIG9yZGluYWwgKG51bWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3JkaW5hbC5yZXBsYWNlKCclZCcsIG51bWJlcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJlUGFyc2VQb3N0Rm9ybWF0IChzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdFJlbGF0aXZlVGltZSA9IHtcbiAgICAgICAgZnV0dXJlIDogJ2luICVzJyxcbiAgICAgICAgcGFzdCAgIDogJyVzIGFnbycsXG4gICAgICAgIHMgIDogJ2EgZmV3IHNlY29uZHMnLFxuICAgICAgICBtICA6ICdhIG1pbnV0ZScsXG4gICAgICAgIG1tIDogJyVkIG1pbnV0ZXMnLFxuICAgICAgICBoICA6ICdhbiBob3VyJyxcbiAgICAgICAgaGggOiAnJWQgaG91cnMnLFxuICAgICAgICBkICA6ICdhIGRheScsXG4gICAgICAgIGRkIDogJyVkIGRheXMnLFxuICAgICAgICBNICA6ICdhIG1vbnRoJyxcbiAgICAgICAgTU0gOiAnJWQgbW9udGhzJyxcbiAgICAgICAgeSAgOiAnYSB5ZWFyJyxcbiAgICAgICAgeXkgOiAnJWQgeWVhcnMnXG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHJlbGF0aXZlX19yZWxhdGl2ZVRpbWUgKG51bWJlciwgd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSkge1xuICAgICAgICB2YXIgb3V0cHV0ID0gdGhpcy5fcmVsYXRpdmVUaW1lW3N0cmluZ107XG4gICAgICAgIHJldHVybiAodHlwZW9mIG91dHB1dCA9PT0gJ2Z1bmN0aW9uJykgP1xuICAgICAgICAgICAgb3V0cHV0KG51bWJlciwgd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSkgOlxuICAgICAgICAgICAgb3V0cHV0LnJlcGxhY2UoLyVkL2ksIG51bWJlcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFzdEZ1dHVyZSAoZGlmZiwgb3V0cHV0KSB7XG4gICAgICAgIHZhciBmb3JtYXQgPSB0aGlzLl9yZWxhdGl2ZVRpbWVbZGlmZiA+IDAgPyAnZnV0dXJlJyA6ICdwYXN0J107XG4gICAgICAgIHJldHVybiB0eXBlb2YgZm9ybWF0ID09PSAnZnVuY3Rpb24nID8gZm9ybWF0KG91dHB1dCkgOiBmb3JtYXQucmVwbGFjZSgvJXMvaSwgb3V0cHV0KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsb2NhbGVfc2V0X19zZXQgKGNvbmZpZykge1xuICAgICAgICB2YXIgcHJvcCwgaTtcbiAgICAgICAgZm9yIChpIGluIGNvbmZpZykge1xuICAgICAgICAgICAgcHJvcCA9IGNvbmZpZ1tpXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRoaXNbaV0gPSBwcm9wO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzWydfJyArIGldID0gcHJvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBMZW5pZW50IG9yZGluYWwgcGFyc2luZyBhY2NlcHRzIGp1c3QgYSBudW1iZXIgaW4gYWRkaXRpb24gdG9cbiAgICAgICAgLy8gbnVtYmVyICsgKHBvc3NpYmx5KSBzdHVmZiBjb21pbmcgZnJvbSBfb3JkaW5hbFBhcnNlTGVuaWVudC5cbiAgICAgICAgdGhpcy5fb3JkaW5hbFBhcnNlTGVuaWVudCA9IG5ldyBSZWdFeHAodGhpcy5fb3JkaW5hbFBhcnNlLnNvdXJjZSArICd8JyArICgvXFxkezEsMn0vKS5zb3VyY2UpO1xuICAgIH1cblxuICAgIHZhciBwcm90b3R5cGVfX3Byb3RvID0gTG9jYWxlLnByb3RvdHlwZTtcblxuICAgIHByb3RvdHlwZV9fcHJvdG8uX2NhbGVuZGFyICAgICAgID0gZGVmYXVsdENhbGVuZGFyO1xuICAgIHByb3RvdHlwZV9fcHJvdG8uY2FsZW5kYXIgICAgICAgID0gbG9jYWxlX2NhbGVuZGFyX19jYWxlbmRhcjtcbiAgICBwcm90b3R5cGVfX3Byb3RvLl9sb25nRGF0ZUZvcm1hdCA9IGRlZmF1bHRMb25nRGF0ZUZvcm1hdDtcbiAgICBwcm90b3R5cGVfX3Byb3RvLmxvbmdEYXRlRm9ybWF0ICA9IGxvbmdEYXRlRm9ybWF0O1xuICAgIHByb3RvdHlwZV9fcHJvdG8uX2ludmFsaWREYXRlICAgID0gZGVmYXVsdEludmFsaWREYXRlO1xuICAgIHByb3RvdHlwZV9fcHJvdG8uaW52YWxpZERhdGUgICAgID0gaW52YWxpZERhdGU7XG4gICAgcHJvdG90eXBlX19wcm90by5fb3JkaW5hbCAgICAgICAgPSBkZWZhdWx0T3JkaW5hbDtcbiAgICBwcm90b3R5cGVfX3Byb3RvLm9yZGluYWwgICAgICAgICA9IG9yZGluYWw7XG4gICAgcHJvdG90eXBlX19wcm90by5fb3JkaW5hbFBhcnNlICAgPSBkZWZhdWx0T3JkaW5hbFBhcnNlO1xuICAgIHByb3RvdHlwZV9fcHJvdG8ucHJlcGFyc2UgICAgICAgID0gcHJlUGFyc2VQb3N0Rm9ybWF0O1xuICAgIHByb3RvdHlwZV9fcHJvdG8ucG9zdGZvcm1hdCAgICAgID0gcHJlUGFyc2VQb3N0Rm9ybWF0O1xuICAgIHByb3RvdHlwZV9fcHJvdG8uX3JlbGF0aXZlVGltZSAgID0gZGVmYXVsdFJlbGF0aXZlVGltZTtcbiAgICBwcm90b3R5cGVfX3Byb3RvLnJlbGF0aXZlVGltZSAgICA9IHJlbGF0aXZlX19yZWxhdGl2ZVRpbWU7XG4gICAgcHJvdG90eXBlX19wcm90by5wYXN0RnV0dXJlICAgICAgPSBwYXN0RnV0dXJlO1xuICAgIHByb3RvdHlwZV9fcHJvdG8uc2V0ICAgICAgICAgICAgID0gbG9jYWxlX3NldF9fc2V0O1xuXG4gICAgLy8gTW9udGhcbiAgICBwcm90b3R5cGVfX3Byb3RvLm1vbnRocyAgICAgICA9ICAgICAgICBsb2NhbGVNb250aHM7XG4gICAgcHJvdG90eXBlX19wcm90by5fbW9udGhzICAgICAgPSBkZWZhdWx0TG9jYWxlTW9udGhzO1xuICAgIHByb3RvdHlwZV9fcHJvdG8ubW9udGhzU2hvcnQgID0gICAgICAgIGxvY2FsZU1vbnRoc1Nob3J0O1xuICAgIHByb3RvdHlwZV9fcHJvdG8uX21vbnRoc1Nob3J0ID0gZGVmYXVsdExvY2FsZU1vbnRoc1Nob3J0O1xuICAgIHByb3RvdHlwZV9fcHJvdG8ubW9udGhzUGFyc2UgID0gICAgICAgIGxvY2FsZU1vbnRoc1BhcnNlO1xuXG4gICAgLy8gV2Vla1xuICAgIHByb3RvdHlwZV9fcHJvdG8ud2VlayA9IGxvY2FsZVdlZWs7XG4gICAgcHJvdG90eXBlX19wcm90by5fd2VlayA9IGRlZmF1bHRMb2NhbGVXZWVrO1xuICAgIHByb3RvdHlwZV9fcHJvdG8uZmlyc3REYXlPZlllYXIgPSBsb2NhbGVGaXJzdERheU9mWWVhcjtcbiAgICBwcm90b3R5cGVfX3Byb3RvLmZpcnN0RGF5T2ZXZWVrID0gbG9jYWxlRmlyc3REYXlPZldlZWs7XG5cbiAgICAvLyBEYXkgb2YgV2Vla1xuICAgIHByb3RvdHlwZV9fcHJvdG8ud2Vla2RheXMgICAgICAgPSAgICAgICAgbG9jYWxlV2Vla2RheXM7XG4gICAgcHJvdG90eXBlX19wcm90by5fd2Vla2RheXMgICAgICA9IGRlZmF1bHRMb2NhbGVXZWVrZGF5cztcbiAgICBwcm90b3R5cGVfX3Byb3RvLndlZWtkYXlzTWluICAgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzTWluO1xuICAgIHByb3RvdHlwZV9fcHJvdG8uX3dlZWtkYXlzTWluICAgPSBkZWZhdWx0TG9jYWxlV2Vla2RheXNNaW47XG4gICAgcHJvdG90eXBlX19wcm90by53ZWVrZGF5c1Nob3J0ICA9ICAgICAgICBsb2NhbGVXZWVrZGF5c1Nob3J0O1xuICAgIHByb3RvdHlwZV9fcHJvdG8uX3dlZWtkYXlzU2hvcnQgPSBkZWZhdWx0TG9jYWxlV2Vla2RheXNTaG9ydDtcbiAgICBwcm90b3R5cGVfX3Byb3RvLndlZWtkYXlzUGFyc2UgID0gICAgICAgIGxvY2FsZVdlZWtkYXlzUGFyc2U7XG5cbiAgICAvLyBIb3Vyc1xuICAgIHByb3RvdHlwZV9fcHJvdG8uaXNQTSA9IGxvY2FsZUlzUE07XG4gICAgcHJvdG90eXBlX19wcm90by5fbWVyaWRpZW1QYXJzZSA9IGRlZmF1bHRMb2NhbGVNZXJpZGllbVBhcnNlO1xuICAgIHByb3RvdHlwZV9fcHJvdG8ubWVyaWRpZW0gPSBsb2NhbGVNZXJpZGllbTtcblxuICAgIGZ1bmN0aW9uIGxpc3RzX19nZXQgKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCBzZXR0ZXIpIHtcbiAgICAgICAgdmFyIGxvY2FsZSA9IGxvY2FsZV9sb2NhbGVzX19nZXRMb2NhbGUoKTtcbiAgICAgICAgdmFyIHV0YyA9IGNyZWF0ZV91dGNfX2NyZWF0ZVVUQygpLnNldChzZXR0ZXIsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIGxvY2FsZVtmaWVsZF0odXRjLCBmb3JtYXQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3QgKGZvcm1hdCwgaW5kZXgsIGZpZWxkLCBjb3VudCwgc2V0dGVyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZm9ybWF0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaW5kZXggPSBmb3JtYXQ7XG4gICAgICAgICAgICBmb3JtYXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBmb3JtYXQgPSBmb3JtYXQgfHwgJyc7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBsaXN0c19fZ2V0KGZvcm1hdCwgaW5kZXgsIGZpZWxkLCBzZXR0ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGk7XG4gICAgICAgIHZhciBvdXQgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIG91dFtpXSA9IGxpc3RzX19nZXQoZm9ybWF0LCBpLCBmaWVsZCwgc2V0dGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RzX19saXN0TW9udGhzIChmb3JtYXQsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBsaXN0KGZvcm1hdCwgaW5kZXgsICdtb250aHMnLCAxMiwgJ21vbnRoJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdHNfX2xpc3RNb250aHNTaG9ydCAoZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdChmb3JtYXQsIGluZGV4LCAnbW9udGhzU2hvcnQnLCAxMiwgJ21vbnRoJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdHNfX2xpc3RXZWVrZGF5cyAoZm9ybWF0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gbGlzdChmb3JtYXQsIGluZGV4LCAnd2Vla2RheXMnLCA3LCAnZGF5Jyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlzdHNfX2xpc3RXZWVrZGF5c1Nob3J0IChmb3JtYXQsIGluZGV4KSB7XG4gICAgICAgIHJldHVybiBsaXN0KGZvcm1hdCwgaW5kZXgsICd3ZWVrZGF5c1Nob3J0JywgNywgJ2RheScpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGxpc3RzX19saXN0V2Vla2RheXNNaW4gKGZvcm1hdCwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGxpc3QoZm9ybWF0LCBpbmRleCwgJ3dlZWtkYXlzTWluJywgNywgJ2RheScpO1xuICAgIH1cblxuICAgIGxvY2FsZV9sb2NhbGVzX19nZXRTZXRHbG9iYWxMb2NhbGUoJ2VuJywge1xuICAgICAgICBvcmRpbmFsUGFyc2U6IC9cXGR7MSwyfSh0aHxzdHxuZHxyZCkvLFxuICAgICAgICBvcmRpbmFsIDogZnVuY3Rpb24gKG51bWJlcikge1xuICAgICAgICAgICAgdmFyIGIgPSBudW1iZXIgJSAxMCxcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSAodG9JbnQobnVtYmVyICUgMTAwIC8gMTApID09PSAxKSA/ICd0aCcgOlxuICAgICAgICAgICAgICAgIChiID09PSAxKSA/ICdzdCcgOlxuICAgICAgICAgICAgICAgIChiID09PSAyKSA/ICduZCcgOlxuICAgICAgICAgICAgICAgIChiID09PSAzKSA/ICdyZCcgOiAndGgnO1xuICAgICAgICAgICAgcmV0dXJuIG51bWJlciArIG91dHB1dDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gU2lkZSBlZmZlY3QgaW1wb3J0c1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5sYW5nID0gZGVwcmVjYXRlKCdtb21lbnQubGFuZyBpcyBkZXByZWNhdGVkLiBVc2UgbW9tZW50LmxvY2FsZSBpbnN0ZWFkLicsIGxvY2FsZV9sb2NhbGVzX19nZXRTZXRHbG9iYWxMb2NhbGUpO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5sYW5nRGF0YSA9IGRlcHJlY2F0ZSgnbW9tZW50LmxhbmdEYXRhIGlzIGRlcHJlY2F0ZWQuIFVzZSBtb21lbnQubG9jYWxlRGF0YSBpbnN0ZWFkLicsIGxvY2FsZV9sb2NhbGVzX19nZXRMb2NhbGUpO1xuXG4gICAgdmFyIG1hdGhBYnMgPSBNYXRoLmFicztcblxuICAgIGZ1bmN0aW9uIGR1cmF0aW9uX2Fic19fYWJzICgpIHtcbiAgICAgICAgdmFyIGRhdGEgICAgICAgICAgID0gdGhpcy5fZGF0YTtcblxuICAgICAgICB0aGlzLl9taWxsaXNlY29uZHMgPSBtYXRoQWJzKHRoaXMuX21pbGxpc2Vjb25kcyk7XG4gICAgICAgIHRoaXMuX2RheXMgICAgICAgICA9IG1hdGhBYnModGhpcy5fZGF5cyk7XG4gICAgICAgIHRoaXMuX21vbnRocyAgICAgICA9IG1hdGhBYnModGhpcy5fbW9udGhzKTtcblxuICAgICAgICBkYXRhLm1pbGxpc2Vjb25kcyAgPSBtYXRoQWJzKGRhdGEubWlsbGlzZWNvbmRzKTtcbiAgICAgICAgZGF0YS5zZWNvbmRzICAgICAgID0gbWF0aEFicyhkYXRhLnNlY29uZHMpO1xuICAgICAgICBkYXRhLm1pbnV0ZXMgICAgICAgPSBtYXRoQWJzKGRhdGEubWludXRlcyk7XG4gICAgICAgIGRhdGEuaG91cnMgICAgICAgICA9IG1hdGhBYnMoZGF0YS5ob3Vycyk7XG4gICAgICAgIGRhdGEubW9udGhzICAgICAgICA9IG1hdGhBYnMoZGF0YS5tb250aHMpO1xuICAgICAgICBkYXRhLnllYXJzICAgICAgICAgPSBtYXRoQWJzKGRhdGEueWVhcnMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGR1cmF0aW9uX2FkZF9zdWJ0cmFjdF9fYWRkU3VidHJhY3QgKGR1cmF0aW9uLCBpbnB1dCwgdmFsdWUsIGRpcmVjdGlvbikge1xuICAgICAgICB2YXIgb3RoZXIgPSBjcmVhdGVfX2NyZWF0ZUR1cmF0aW9uKGlucHV0LCB2YWx1ZSk7XG5cbiAgICAgICAgZHVyYXRpb24uX21pbGxpc2Vjb25kcyArPSBkaXJlY3Rpb24gKiBvdGhlci5fbWlsbGlzZWNvbmRzO1xuICAgICAgICBkdXJhdGlvbi5fZGF5cyAgICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9kYXlzO1xuICAgICAgICBkdXJhdGlvbi5fbW9udGhzICAgICAgICs9IGRpcmVjdGlvbiAqIG90aGVyLl9tb250aHM7XG5cbiAgICAgICAgcmV0dXJuIGR1cmF0aW9uLl9idWJibGUoKTtcbiAgICB9XG5cbiAgICAvLyBzdXBwb3J0cyBvbmx5IDIuMC1zdHlsZSBhZGQoMSwgJ3MnKSBvciBhZGQoZHVyYXRpb24pXG4gICAgZnVuY3Rpb24gZHVyYXRpb25fYWRkX3N1YnRyYWN0X19hZGQgKGlucHV0LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZHVyYXRpb25fYWRkX3N1YnRyYWN0X19hZGRTdWJ0cmFjdCh0aGlzLCBpbnB1dCwgdmFsdWUsIDEpO1xuICAgIH1cblxuICAgIC8vIHN1cHBvcnRzIG9ubHkgMi4wLXN0eWxlIHN1YnRyYWN0KDEsICdzJykgb3Igc3VidHJhY3QoZHVyYXRpb24pXG4gICAgZnVuY3Rpb24gZHVyYXRpb25fYWRkX3N1YnRyYWN0X19zdWJ0cmFjdCAoaW5wdXQsIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBkdXJhdGlvbl9hZGRfc3VidHJhY3RfX2FkZFN1YnRyYWN0KHRoaXMsIGlucHV0LCB2YWx1ZSwgLTEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFic0NlaWwgKG51bWJlcikge1xuICAgICAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IobnVtYmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmNlaWwobnVtYmVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGJ1YmJsZSAoKSB7XG4gICAgICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG4gICAgICAgIHZhciBkYXlzICAgICAgICAgPSB0aGlzLl9kYXlzO1xuICAgICAgICB2YXIgbW9udGhzICAgICAgID0gdGhpcy5fbW9udGhzO1xuICAgICAgICB2YXIgZGF0YSAgICAgICAgID0gdGhpcy5fZGF0YTtcbiAgICAgICAgdmFyIHNlY29uZHMsIG1pbnV0ZXMsIGhvdXJzLCB5ZWFycywgbW9udGhzRnJvbURheXM7XG5cbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBhIG1peCBvZiBwb3NpdGl2ZSBhbmQgbmVnYXRpdmUgdmFsdWVzLCBidWJibGUgZG93biBmaXJzdFxuICAgICAgICAvLyBjaGVjazogaHR0cHM6Ly9naXRodWIuY29tL21vbWVudC9tb21lbnQvaXNzdWVzLzIxNjZcbiAgICAgICAgaWYgKCEoKG1pbGxpc2Vjb25kcyA+PSAwICYmIGRheXMgPj0gMCAmJiBtb250aHMgPj0gMCkgfHxcbiAgICAgICAgICAgICAgICAobWlsbGlzZWNvbmRzIDw9IDAgJiYgZGF5cyA8PSAwICYmIG1vbnRocyA8PSAwKSkpIHtcbiAgICAgICAgICAgIG1pbGxpc2Vjb25kcyArPSBhYnNDZWlsKG1vbnRoc1RvRGF5cyhtb250aHMpICsgZGF5cykgKiA4NjRlNTtcbiAgICAgICAgICAgIGRheXMgPSAwO1xuICAgICAgICAgICAgbW9udGhzID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBidWJibGVzIHVwIHZhbHVlcywgc2VlIHRoZSB0ZXN0cyBmb3JcbiAgICAgICAgLy8gZXhhbXBsZXMgb2Ygd2hhdCB0aGF0IG1lYW5zLlxuICAgICAgICBkYXRhLm1pbGxpc2Vjb25kcyA9IG1pbGxpc2Vjb25kcyAlIDEwMDA7XG5cbiAgICAgICAgc2Vjb25kcyAgICAgICAgICAgPSBhYnNGbG9vcihtaWxsaXNlY29uZHMgLyAxMDAwKTtcbiAgICAgICAgZGF0YS5zZWNvbmRzICAgICAgPSBzZWNvbmRzICUgNjA7XG5cbiAgICAgICAgbWludXRlcyAgICAgICAgICAgPSBhYnNGbG9vcihzZWNvbmRzIC8gNjApO1xuICAgICAgICBkYXRhLm1pbnV0ZXMgICAgICA9IG1pbnV0ZXMgJSA2MDtcblxuICAgICAgICBob3VycyAgICAgICAgICAgICA9IGFic0Zsb29yKG1pbnV0ZXMgLyA2MCk7XG4gICAgICAgIGRhdGEuaG91cnMgICAgICAgID0gaG91cnMgJSAyNDtcblxuICAgICAgICBkYXlzICs9IGFic0Zsb29yKGhvdXJzIC8gMjQpO1xuXG4gICAgICAgIC8vIGNvbnZlcnQgZGF5cyB0byBtb250aHNcbiAgICAgICAgbW9udGhzRnJvbURheXMgPSBhYnNGbG9vcihkYXlzVG9Nb250aHMoZGF5cykpO1xuICAgICAgICBtb250aHMgKz0gbW9udGhzRnJvbURheXM7XG4gICAgICAgIGRheXMgLT0gYWJzQ2VpbChtb250aHNUb0RheXMobW9udGhzRnJvbURheXMpKTtcblxuICAgICAgICAvLyAxMiBtb250aHMgLT4gMSB5ZWFyXG4gICAgICAgIHllYXJzID0gYWJzRmxvb3IobW9udGhzIC8gMTIpO1xuICAgICAgICBtb250aHMgJT0gMTI7XG5cbiAgICAgICAgZGF0YS5kYXlzICAgPSBkYXlzO1xuICAgICAgICBkYXRhLm1vbnRocyA9IG1vbnRocztcbiAgICAgICAgZGF0YS55ZWFycyAgPSB5ZWFycztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkYXlzVG9Nb250aHMgKGRheXMpIHtcbiAgICAgICAgLy8gNDAwIHllYXJzIGhhdmUgMTQ2MDk3IGRheXMgKHRha2luZyBpbnRvIGFjY291bnQgbGVhcCB5ZWFyIHJ1bGVzKVxuICAgICAgICAvLyA0MDAgeWVhcnMgaGF2ZSAxMiBtb250aHMgPT09IDQ4MDBcbiAgICAgICAgcmV0dXJuIGRheXMgKiA0ODAwIC8gMTQ2MDk3O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1vbnRoc1RvRGF5cyAobW9udGhzKSB7XG4gICAgICAgIC8vIHRoZSByZXZlcnNlIG9mIGRheXNUb01vbnRoc1xuICAgICAgICByZXR1cm4gbW9udGhzICogMTQ2MDk3IC8gNDgwMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcyAodW5pdHMpIHtcbiAgICAgICAgdmFyIGRheXM7XG4gICAgICAgIHZhciBtb250aHM7XG4gICAgICAgIHZhciBtaWxsaXNlY29uZHMgPSB0aGlzLl9taWxsaXNlY29uZHM7XG5cbiAgICAgICAgdW5pdHMgPSBub3JtYWxpemVVbml0cyh1bml0cyk7XG5cbiAgICAgICAgaWYgKHVuaXRzID09PSAnbW9udGgnIHx8IHVuaXRzID09PSAneWVhcicpIHtcbiAgICAgICAgICAgIGRheXMgICA9IHRoaXMuX2RheXMgICArIG1pbGxpc2Vjb25kcyAvIDg2NGU1O1xuICAgICAgICAgICAgbW9udGhzID0gdGhpcy5fbW9udGhzICsgZGF5c1RvTW9udGhzKGRheXMpO1xuICAgICAgICAgICAgcmV0dXJuIHVuaXRzID09PSAnbW9udGgnID8gbW9udGhzIDogbW9udGhzIC8gMTI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBoYW5kbGUgbWlsbGlzZWNvbmRzIHNlcGFyYXRlbHkgYmVjYXVzZSBvZiBmbG9hdGluZyBwb2ludCBtYXRoIGVycm9ycyAoaXNzdWUgIzE4NjcpXG4gICAgICAgICAgICBkYXlzID0gdGhpcy5fZGF5cyArIE1hdGgucm91bmQobW9udGhzVG9EYXlzKHRoaXMuX21vbnRocykpO1xuICAgICAgICAgICAgc3dpdGNoICh1bml0cykge1xuICAgICAgICAgICAgICAgIGNhc2UgJ3dlZWsnICAgOiByZXR1cm4gZGF5cyAvIDcgICAgICsgbWlsbGlzZWNvbmRzIC8gNjA0OGU1O1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RheScgICAgOiByZXR1cm4gZGF5cyAgICAgICAgICsgbWlsbGlzZWNvbmRzIC8gODY0ZTU7XG4gICAgICAgICAgICAgICAgY2FzZSAnaG91cicgICA6IHJldHVybiBkYXlzICogMjQgICAgKyBtaWxsaXNlY29uZHMgLyAzNmU1O1xuICAgICAgICAgICAgICAgIGNhc2UgJ21pbnV0ZScgOiByZXR1cm4gZGF5cyAqIDE0NDAgICsgbWlsbGlzZWNvbmRzIC8gNmU0O1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NlY29uZCcgOiByZXR1cm4gZGF5cyAqIDg2NDAwICsgbWlsbGlzZWNvbmRzIC8gMTAwMDtcbiAgICAgICAgICAgICAgICAvLyBNYXRoLmZsb29yIHByZXZlbnRzIGZsb2F0aW5nIHBvaW50IG1hdGggZXJyb3JzIGhlcmVcbiAgICAgICAgICAgICAgICBjYXNlICdtaWxsaXNlY29uZCc6IHJldHVybiBNYXRoLmZsb29yKGRheXMgKiA4NjRlNSkgKyBtaWxsaXNlY29uZHM7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHVuaXQgJyArIHVuaXRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRPRE86IFVzZSB0aGlzLmFzKCdtcycpP1xuICAgIGZ1bmN0aW9uIGR1cmF0aW9uX2FzX192YWx1ZU9mICgpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHRoaXMuX21pbGxpc2Vjb25kcyArXG4gICAgICAgICAgICB0aGlzLl9kYXlzICogODY0ZTUgK1xuICAgICAgICAgICAgKHRoaXMuX21vbnRocyAlIDEyKSAqIDI1OTJlNiArXG4gICAgICAgICAgICB0b0ludCh0aGlzLl9tb250aHMgLyAxMikgKiAzMTUzNmU2XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUFzIChhbGlhcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXMoYWxpYXMpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHZhciBhc01pbGxpc2Vjb25kcyA9IG1ha2VBcygnbXMnKTtcbiAgICB2YXIgYXNTZWNvbmRzICAgICAgPSBtYWtlQXMoJ3MnKTtcbiAgICB2YXIgYXNNaW51dGVzICAgICAgPSBtYWtlQXMoJ20nKTtcbiAgICB2YXIgYXNIb3VycyAgICAgICAgPSBtYWtlQXMoJ2gnKTtcbiAgICB2YXIgYXNEYXlzICAgICAgICAgPSBtYWtlQXMoJ2QnKTtcbiAgICB2YXIgYXNXZWVrcyAgICAgICAgPSBtYWtlQXMoJ3cnKTtcbiAgICB2YXIgYXNNb250aHMgICAgICAgPSBtYWtlQXMoJ00nKTtcbiAgICB2YXIgYXNZZWFycyAgICAgICAgPSBtYWtlQXMoJ3knKTtcblxuICAgIGZ1bmN0aW9uIGR1cmF0aW9uX2dldF9fZ2V0ICh1bml0cykge1xuICAgICAgICB1bml0cyA9IG5vcm1hbGl6ZVVuaXRzKHVuaXRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXNbdW5pdHMgKyAncyddKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUdldHRlcihuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGF0YVtuYW1lXTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgbWlsbGlzZWNvbmRzID0gbWFrZUdldHRlcignbWlsbGlzZWNvbmRzJyk7XG4gICAgdmFyIHNlY29uZHMgICAgICA9IG1ha2VHZXR0ZXIoJ3NlY29uZHMnKTtcbiAgICB2YXIgbWludXRlcyAgICAgID0gbWFrZUdldHRlcignbWludXRlcycpO1xuICAgIHZhciBob3VycyAgICAgICAgPSBtYWtlR2V0dGVyKCdob3VycycpO1xuICAgIHZhciBkYXlzICAgICAgICAgPSBtYWtlR2V0dGVyKCdkYXlzJyk7XG4gICAgdmFyIG1vbnRocyAgICAgICA9IG1ha2VHZXR0ZXIoJ21vbnRocycpO1xuICAgIHZhciB5ZWFycyAgICAgICAgPSBtYWtlR2V0dGVyKCd5ZWFycycpO1xuXG4gICAgZnVuY3Rpb24gd2Vla3MgKCkge1xuICAgICAgICByZXR1cm4gYWJzRmxvb3IodGhpcy5kYXlzKCkgLyA3KTtcbiAgICB9XG5cbiAgICB2YXIgcm91bmQgPSBNYXRoLnJvdW5kO1xuICAgIHZhciB0aHJlc2hvbGRzID0ge1xuICAgICAgICBzOiA0NSwgIC8vIHNlY29uZHMgdG8gbWludXRlXG4gICAgICAgIG06IDQ1LCAgLy8gbWludXRlcyB0byBob3VyXG4gICAgICAgIGg6IDIyLCAgLy8gaG91cnMgdG8gZGF5XG4gICAgICAgIGQ6IDI2LCAgLy8gZGF5cyB0byBtb250aFxuICAgICAgICBNOiAxMSAgIC8vIG1vbnRocyB0byB5ZWFyXG4gICAgfTtcblxuICAgIC8vIGhlbHBlciBmdW5jdGlvbiBmb3IgbW9tZW50LmZuLmZyb20sIG1vbWVudC5mbi5mcm9tTm93LCBhbmQgbW9tZW50LmR1cmF0aW9uLmZuLmh1bWFuaXplXG4gICAgZnVuY3Rpb24gc3Vic3RpdHV0ZVRpbWVBZ28oc3RyaW5nLCBudW1iZXIsIHdpdGhvdXRTdWZmaXgsIGlzRnV0dXJlLCBsb2NhbGUpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsZS5yZWxhdGl2ZVRpbWUobnVtYmVyIHx8IDEsICEhd2l0aG91dFN1ZmZpeCwgc3RyaW5nLCBpc0Z1dHVyZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZHVyYXRpb25faHVtYW5pemVfX3JlbGF0aXZlVGltZSAocG9zTmVnRHVyYXRpb24sIHdpdGhvdXRTdWZmaXgsIGxvY2FsZSkge1xuICAgICAgICB2YXIgZHVyYXRpb24gPSBjcmVhdGVfX2NyZWF0ZUR1cmF0aW9uKHBvc05lZ0R1cmF0aW9uKS5hYnMoKTtcbiAgICAgICAgdmFyIHNlY29uZHMgID0gcm91bmQoZHVyYXRpb24uYXMoJ3MnKSk7XG4gICAgICAgIHZhciBtaW51dGVzICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdtJykpO1xuICAgICAgICB2YXIgaG91cnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygnaCcpKTtcbiAgICAgICAgdmFyIGRheXMgICAgID0gcm91bmQoZHVyYXRpb24uYXMoJ2QnKSk7XG4gICAgICAgIHZhciBtb250aHMgICA9IHJvdW5kKGR1cmF0aW9uLmFzKCdNJykpO1xuICAgICAgICB2YXIgeWVhcnMgICAgPSByb3VuZChkdXJhdGlvbi5hcygneScpKTtcblxuICAgICAgICB2YXIgYSA9IHNlY29uZHMgPCB0aHJlc2hvbGRzLnMgJiYgWydzJywgc2Vjb25kc10gIHx8XG4gICAgICAgICAgICAgICAgbWludXRlcyA9PT0gMSAgICAgICAgICAmJiBbJ20nXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgICAgICBtaW51dGVzIDwgdGhyZXNob2xkcy5tICYmIFsnbW0nLCBtaW51dGVzXSB8fFxuICAgICAgICAgICAgICAgIGhvdXJzICAgPT09IDEgICAgICAgICAgJiYgWydoJ10gICAgICAgICAgIHx8XG4gICAgICAgICAgICAgICAgaG91cnMgICA8IHRocmVzaG9sZHMuaCAmJiBbJ2hoJywgaG91cnNdICAgfHxcbiAgICAgICAgICAgICAgICBkYXlzICAgID09PSAxICAgICAgICAgICYmIFsnZCddICAgICAgICAgICB8fFxuICAgICAgICAgICAgICAgIGRheXMgICAgPCB0aHJlc2hvbGRzLmQgJiYgWydkZCcsIGRheXNdICAgIHx8XG4gICAgICAgICAgICAgICAgbW9udGhzICA9PT0gMSAgICAgICAgICAmJiBbJ00nXSAgICAgICAgICAgfHxcbiAgICAgICAgICAgICAgICBtb250aHMgIDwgdGhyZXNob2xkcy5NICYmIFsnTU0nLCBtb250aHNdICB8fFxuICAgICAgICAgICAgICAgIHllYXJzICAgPT09IDEgICAgICAgICAgJiYgWyd5J10gICAgICAgICAgIHx8IFsneXknLCB5ZWFyc107XG5cbiAgICAgICAgYVsyXSA9IHdpdGhvdXRTdWZmaXg7XG4gICAgICAgIGFbM10gPSArcG9zTmVnRHVyYXRpb24gPiAwO1xuICAgICAgICBhWzRdID0gbG9jYWxlO1xuICAgICAgICByZXR1cm4gc3Vic3RpdHV0ZVRpbWVBZ28uYXBwbHkobnVsbCwgYSk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBhbGxvd3MgeW91IHRvIHNldCBhIHRocmVzaG9sZCBmb3IgcmVsYXRpdmUgdGltZSBzdHJpbmdzXG4gICAgZnVuY3Rpb24gZHVyYXRpb25faHVtYW5pemVfX2dldFNldFJlbGF0aXZlVGltZVRocmVzaG9sZCAodGhyZXNob2xkLCBsaW1pdCkge1xuICAgICAgICBpZiAodGhyZXNob2xkc1t0aHJlc2hvbGRdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGltaXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRocmVzaG9sZHNbdGhyZXNob2xkXTtcbiAgICAgICAgfVxuICAgICAgICB0aHJlc2hvbGRzW3RocmVzaG9sZF0gPSBsaW1pdDtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaHVtYW5pemUgKHdpdGhTdWZmaXgpIHtcbiAgICAgICAgdmFyIGxvY2FsZSA9IHRoaXMubG9jYWxlRGF0YSgpO1xuICAgICAgICB2YXIgb3V0cHV0ID0gZHVyYXRpb25faHVtYW5pemVfX3JlbGF0aXZlVGltZSh0aGlzLCAhd2l0aFN1ZmZpeCwgbG9jYWxlKTtcblxuICAgICAgICBpZiAod2l0aFN1ZmZpeCkge1xuICAgICAgICAgICAgb3V0cHV0ID0gbG9jYWxlLnBhc3RGdXR1cmUoK3RoaXMsIG91dHB1dCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbG9jYWxlLnBvc3Rmb3JtYXQob3V0cHV0KTtcbiAgICB9XG5cbiAgICB2YXIgaXNvX3N0cmluZ19fYWJzID0gTWF0aC5hYnM7XG5cbiAgICBmdW5jdGlvbiBpc29fc3RyaW5nX190b0lTT1N0cmluZygpIHtcbiAgICAgICAgLy8gZm9yIElTTyBzdHJpbmdzIHdlIGRvIG5vdCB1c2UgdGhlIG5vcm1hbCBidWJibGluZyBydWxlczpcbiAgICAgICAgLy8gICogbWlsbGlzZWNvbmRzIGJ1YmJsZSB1cCB1bnRpbCB0aGV5IGJlY29tZSBob3Vyc1xuICAgICAgICAvLyAgKiBkYXlzIGRvIG5vdCBidWJibGUgYXQgYWxsXG4gICAgICAgIC8vICAqIG1vbnRocyBidWJibGUgdXAgdW50aWwgdGhleSBiZWNvbWUgeWVhcnNcbiAgICAgICAgLy8gVGhpcyBpcyBiZWNhdXNlIHRoZXJlIGlzIG5vIGNvbnRleHQtZnJlZSBjb252ZXJzaW9uIGJldHdlZW4gaG91cnMgYW5kIGRheXNcbiAgICAgICAgLy8gKHRoaW5rIG9mIGNsb2NrIGNoYW5nZXMpXG4gICAgICAgIC8vIGFuZCBhbHNvIG5vdCBiZXR3ZWVuIGRheXMgYW5kIG1vbnRocyAoMjgtMzEgZGF5cyBwZXIgbW9udGgpXG4gICAgICAgIHZhciBzZWNvbmRzID0gaXNvX3N0cmluZ19fYWJzKHRoaXMuX21pbGxpc2Vjb25kcykgLyAxMDAwO1xuICAgICAgICB2YXIgZGF5cyAgICAgICAgID0gaXNvX3N0cmluZ19fYWJzKHRoaXMuX2RheXMpO1xuICAgICAgICB2YXIgbW9udGhzICAgICAgID0gaXNvX3N0cmluZ19fYWJzKHRoaXMuX21vbnRocyk7XG4gICAgICAgIHZhciBtaW51dGVzLCBob3VycywgeWVhcnM7XG5cbiAgICAgICAgLy8gMzYwMCBzZWNvbmRzIC0+IDYwIG1pbnV0ZXMgLT4gMSBob3VyXG4gICAgICAgIG1pbnV0ZXMgICAgICAgICAgID0gYWJzRmxvb3Ioc2Vjb25kcyAvIDYwKTtcbiAgICAgICAgaG91cnMgICAgICAgICAgICAgPSBhYnNGbG9vcihtaW51dGVzIC8gNjApO1xuICAgICAgICBzZWNvbmRzICU9IDYwO1xuICAgICAgICBtaW51dGVzICU9IDYwO1xuXG4gICAgICAgIC8vIDEyIG1vbnRocyAtPiAxIHllYXJcbiAgICAgICAgeWVhcnMgID0gYWJzRmxvb3IobW9udGhzIC8gMTIpO1xuICAgICAgICBtb250aHMgJT0gMTI7XG5cblxuICAgICAgICAvLyBpbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vZG9yZGlsbGUvbW9tZW50LWlzb2R1cmF0aW9uL2Jsb2IvbWFzdGVyL21vbWVudC5pc29kdXJhdGlvbi5qc1xuICAgICAgICB2YXIgWSA9IHllYXJzO1xuICAgICAgICB2YXIgTSA9IG1vbnRocztcbiAgICAgICAgdmFyIEQgPSBkYXlzO1xuICAgICAgICB2YXIgaCA9IGhvdXJzO1xuICAgICAgICB2YXIgbSA9IG1pbnV0ZXM7XG4gICAgICAgIHZhciBzID0gc2Vjb25kcztcbiAgICAgICAgdmFyIHRvdGFsID0gdGhpcy5hc1NlY29uZHMoKTtcblxuICAgICAgICBpZiAoIXRvdGFsKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHRoZSBzYW1lIGFzIEMjJ3MgKE5vZGEpIGFuZCBweXRob24gKGlzb2RhdGUpLi4uXG4gICAgICAgICAgICAvLyBidXQgbm90IG90aGVyIEpTIChnb29nLmRhdGUpXG4gICAgICAgICAgICByZXR1cm4gJ1AwRCc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKHRvdGFsIDwgMCA/ICctJyA6ICcnKSArXG4gICAgICAgICAgICAnUCcgK1xuICAgICAgICAgICAgKFkgPyBZICsgJ1knIDogJycpICtcbiAgICAgICAgICAgIChNID8gTSArICdNJyA6ICcnKSArXG4gICAgICAgICAgICAoRCA/IEQgKyAnRCcgOiAnJykgK1xuICAgICAgICAgICAgKChoIHx8IG0gfHwgcykgPyAnVCcgOiAnJykgK1xuICAgICAgICAgICAgKGggPyBoICsgJ0gnIDogJycpICtcbiAgICAgICAgICAgIChtID8gbSArICdNJyA6ICcnKSArXG4gICAgICAgICAgICAocyA/IHMgKyAnUycgOiAnJyk7XG4gICAgfVxuXG4gICAgdmFyIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8gPSBEdXJhdGlvbi5wcm90b3R5cGU7XG5cbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLmFicyAgICAgICAgICAgID0gZHVyYXRpb25fYWJzX19hYnM7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5hZGQgICAgICAgICAgICA9IGR1cmF0aW9uX2FkZF9zdWJ0cmFjdF9fYWRkO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uc3VidHJhY3QgICAgICAgPSBkdXJhdGlvbl9hZGRfc3VidHJhY3RfX3N1YnRyYWN0O1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uYXMgICAgICAgICAgICAgPSBhcztcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLmFzTWlsbGlzZWNvbmRzID0gYXNNaWxsaXNlY29uZHM7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5hc1NlY29uZHMgICAgICA9IGFzU2Vjb25kcztcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLmFzTWludXRlcyAgICAgID0gYXNNaW51dGVzO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uYXNIb3VycyAgICAgICAgPSBhc0hvdXJzO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uYXNEYXlzICAgICAgICAgPSBhc0RheXM7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5hc1dlZWtzICAgICAgICA9IGFzV2Vla3M7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5hc01vbnRocyAgICAgICA9IGFzTW9udGhzO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uYXNZZWFycyAgICAgICAgPSBhc1llYXJzO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8udmFsdWVPZiAgICAgICAgPSBkdXJhdGlvbl9hc19fdmFsdWVPZjtcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLl9idWJibGUgICAgICAgID0gYnViYmxlO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uZ2V0ICAgICAgICAgICAgPSBkdXJhdGlvbl9nZXRfX2dldDtcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLm1pbGxpc2Vjb25kcyAgID0gbWlsbGlzZWNvbmRzO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uc2Vjb25kcyAgICAgICAgPSBzZWNvbmRzO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8ubWludXRlcyAgICAgICAgPSBtaW51dGVzO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8uaG91cnMgICAgICAgICAgPSBob3VycztcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLmRheXMgICAgICAgICAgID0gZGF5cztcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLndlZWtzICAgICAgICAgID0gd2Vla3M7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5tb250aHMgICAgICAgICA9IG1vbnRocztcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLnllYXJzICAgICAgICAgID0geWVhcnM7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5odW1hbml6ZSAgICAgICA9IGh1bWFuaXplO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8udG9JU09TdHJpbmcgICAgPSBpc29fc3RyaW5nX190b0lTT1N0cmluZztcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLnRvU3RyaW5nICAgICAgID0gaXNvX3N0cmluZ19fdG9JU09TdHJpbmc7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by50b0pTT04gICAgICAgICA9IGlzb19zdHJpbmdfX3RvSVNPU3RyaW5nO1xuICAgIGR1cmF0aW9uX3Byb3RvdHlwZV9fcHJvdG8ubG9jYWxlICAgICAgICAgPSBsb2NhbGU7XG4gICAgZHVyYXRpb25fcHJvdG90eXBlX19wcm90by5sb2NhbGVEYXRhICAgICA9IGxvY2FsZURhdGE7XG5cbiAgICAvLyBEZXByZWNhdGlvbnNcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLnRvSXNvU3RyaW5nID0gZGVwcmVjYXRlKCd0b0lzb1N0cmluZygpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgdG9JU09TdHJpbmcoKSBpbnN0ZWFkIChub3RpY2UgdGhlIGNhcGl0YWxzKScsIGlzb19zdHJpbmdfX3RvSVNPU3RyaW5nKTtcbiAgICBkdXJhdGlvbl9wcm90b3R5cGVfX3Byb3RvLmxhbmcgPSBsYW5nO1xuXG4gICAgLy8gU2lkZSBlZmZlY3QgaW1wb3J0c1xuXG4gICAgYWRkRm9ybWF0VG9rZW4oJ1gnLCAwLCAwLCAndW5peCcpO1xuICAgIGFkZEZvcm1hdFRva2VuKCd4JywgMCwgMCwgJ3ZhbHVlT2YnKTtcblxuICAgIC8vIFBBUlNJTkdcblxuICAgIGFkZFJlZ2V4VG9rZW4oJ3gnLCBtYXRjaFNpZ25lZCk7XG4gICAgYWRkUmVnZXhUb2tlbignWCcsIG1hdGNoVGltZXN0YW1wKTtcbiAgICBhZGRQYXJzZVRva2VuKCdYJywgZnVuY3Rpb24gKGlucHV0LCBhcnJheSwgY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZy5fZCA9IG5ldyBEYXRlKHBhcnNlRmxvYXQoaW5wdXQsIDEwKSAqIDEwMDApO1xuICAgIH0pO1xuICAgIGFkZFBhcnNlVG9rZW4oJ3gnLCBmdW5jdGlvbiAoaW5wdXQsIGFycmF5LCBjb25maWcpIHtcbiAgICAgICAgY29uZmlnLl9kID0gbmV3IERhdGUodG9JbnQoaW5wdXQpKTtcbiAgICB9KTtcblxuICAgIC8vIFNpZGUgZWZmZWN0IGltcG9ydHNcblxuXG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLnZlcnNpb24gPSAnMi4xMC42JztcblxuICAgIHNldEhvb2tDYWxsYmFjayhsb2NhbF9fY3JlYXRlTG9jYWwpO1xuXG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLmZuICAgICAgICAgICAgICAgICAgICA9IG1vbWVudFByb3RvdHlwZTtcbiAgICB1dGlsc19ob29rc19faG9va3MubWluICAgICAgICAgICAgICAgICAgID0gbWluO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5tYXggICAgICAgICAgICAgICAgICAgPSBtYXg7XG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLnV0YyAgICAgICAgICAgICAgICAgICA9IGNyZWF0ZV91dGNfX2NyZWF0ZVVUQztcbiAgICB1dGlsc19ob29rc19faG9va3MudW5peCAgICAgICAgICAgICAgICAgID0gbW9tZW50X19jcmVhdGVVbml4O1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5tb250aHMgICAgICAgICAgICAgICAgPSBsaXN0c19fbGlzdE1vbnRocztcbiAgICB1dGlsc19ob29rc19faG9va3MuaXNEYXRlICAgICAgICAgICAgICAgID0gaXNEYXRlO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5sb2NhbGUgICAgICAgICAgICAgICAgPSBsb2NhbGVfbG9jYWxlc19fZ2V0U2V0R2xvYmFsTG9jYWxlO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5pbnZhbGlkICAgICAgICAgICAgICAgPSB2YWxpZF9fY3JlYXRlSW52YWxpZDtcbiAgICB1dGlsc19ob29rc19faG9va3MuZHVyYXRpb24gICAgICAgICAgICAgID0gY3JlYXRlX19jcmVhdGVEdXJhdGlvbjtcbiAgICB1dGlsc19ob29rc19faG9va3MuaXNNb21lbnQgICAgICAgICAgICAgID0gaXNNb21lbnQ7XG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLndlZWtkYXlzICAgICAgICAgICAgICA9IGxpc3RzX19saXN0V2Vla2RheXM7XG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLnBhcnNlWm9uZSAgICAgICAgICAgICA9IG1vbWVudF9fY3JlYXRlSW5ab25lO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5sb2NhbGVEYXRhICAgICAgICAgICAgPSBsb2NhbGVfbG9jYWxlc19fZ2V0TG9jYWxlO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5pc0R1cmF0aW9uICAgICAgICAgICAgPSBpc0R1cmF0aW9uO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5tb250aHNTaG9ydCAgICAgICAgICAgPSBsaXN0c19fbGlzdE1vbnRoc1Nob3J0O1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy53ZWVrZGF5c01pbiAgICAgICAgICAgPSBsaXN0c19fbGlzdFdlZWtkYXlzTWluO1xuICAgIHV0aWxzX2hvb2tzX19ob29rcy5kZWZpbmVMb2NhbGUgICAgICAgICAgPSBkZWZpbmVMb2NhbGU7XG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLndlZWtkYXlzU2hvcnQgICAgICAgICA9IGxpc3RzX19saXN0V2Vla2RheXNTaG9ydDtcbiAgICB1dGlsc19ob29rc19faG9va3Mubm9ybWFsaXplVW5pdHMgICAgICAgID0gbm9ybWFsaXplVW5pdHM7XG4gICAgdXRpbHNfaG9va3NfX2hvb2tzLnJlbGF0aXZlVGltZVRocmVzaG9sZCA9IGR1cmF0aW9uX2h1bWFuaXplX19nZXRTZXRSZWxhdGl2ZVRpbWVUaHJlc2hvbGQ7XG5cbiAgICB2YXIgX21vbWVudCA9IHV0aWxzX2hvb2tzX19ob29rcztcblxuICAgIHJldHVybiBfbW9tZW50O1xuXG59KSk7IiwiLyoqXG4gKiBAb3ZlcnZpZXcgVXRpbGl0eSBjbGFzcyBmb3IgZW5jb2RpbmcgYW5kIGRlY29kaW5nIHNpbXVsYXRlZCBwYWNrZXRzLlxuICovXG4vLyBTdHJpY3QgbGludGluZzogQWJzb3JiIGludG8gZ2xvYmFsIGNvbmZpZyB3aGVuIHBvc3NpYmxlXG4vKiBqc2hpbnRcbiB1bnVzZWQ6IHRydWUsXG4gZXFlcWVxOiB0cnVlLFxuIG1heGxlbjogMTIwXG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIE5ldFNpbVV0aWxzID0gcmVxdWlyZSgnLi9OZXRTaW1VdGlscycpO1xudmFyIERhdGFDb252ZXJ0ZXJzID0gcmVxdWlyZSgnLi9EYXRhQ29udmVydGVycycpO1xudmFyIE5ldFNpbUdsb2JhbHMgPSByZXF1aXJlKCcuL05ldFNpbUdsb2JhbHMnKTtcblxuLyoqXG4gKiBXcmFwcyBiaW5hcnkgcGFja2V0IGNvbnRlbnQgd2l0aCB0aGUgZm9ybWF0IGluZm9ybWF0aW9uIHJlcXVpcmVkIHRvXG4gKiBpbnRlcnByZXQgaXQuXG4gKiBAcGFyYW0ge1BhY2tldC5IZWFkZXJUeXBlW119IGZvcm1hdFNwZWNcbiAqIEBwYXJhbSB7c3RyaW5nfSBiaW5hcnlcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgUGFja2V0ID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoZm9ybWF0U3BlYywgYmluYXJ5KSB7XG4gIHZhciBsZXZlbCA9IE5ldFNpbUdsb2JhbHMuZ2V0TGV2ZWxDb25maWcoKTtcblxuICAvKiogQHR5cGUge1BhY2tldC5FbmNvZGVyfSAqL1xuICB0aGlzLmVuY29kZXIgPSBuZXcgUGFja2V0LkVuY29kZXIobGV2ZWwuYWRkcmVzc0Zvcm1hdCxcbiAgICAgIGxldmVsLnBhY2tldENvdW50Qml0V2lkdGgsIGZvcm1hdFNwZWMpO1xuXG4gIC8qKiBAdHlwZSB7c3RyaW5nfSBvZiBiaW5hcnkgY29udGVudCAqL1xuICB0aGlzLmJpbmFyeSA9IGJpbmFyeTtcbn07XG5cbi8qKlxuICogUG9zc2libGUgcGFja2V0IGhlYWRlciBmaWVsZHMuICBWYWx1ZXMgdG8gdGhpcyBlbnVtIGJlY29tZSBrZXlzXG4gKiB0aGF0IGNhbiBiZSB1c2VkIHdoZW4gZGVmaW5pbmcgYSBsZXZlbCBjb25maWd1cmF0aW9uLiAgVGhleSBhbHNvIGNvcnJlc3BvbmRcbiAqIHRvIGNsYXNzIG5hbWVzIHRoYXQgZ2V0IGFwcGxpZWQgdG8gZmllbGRzIHJlcHJlc2VudGluZyBkYXRhIGluIHRoYXQgY29sdW1uLlxuICogQGVudW0ge3N0cmluZ31cbiAqIEByZWFkb25seVxuICovXG5QYWNrZXQuSGVhZGVyVHlwZSA9IHtcbiAgVE9fQUREUkVTUzogJ3RvQWRkcmVzcycsXG4gIEZST01fQUREUkVTUzogJ2Zyb21BZGRyZXNzJyxcbiAgUEFDS0VUX0lOREVYOiAncGFja2V0SW5kZXgnLFxuICBQQUNLRVRfQ09VTlQ6ICdwYWNrZXRDb3VudCdcbn07XG5cbi8qKlxuICogV2hldGhlciB0aGUgZ2l2ZW4gaGVhZGVyIGZpZWxkIHR5cGUgd2lsbCB1c2UgdGhlIGFkZHJlc3MgZm9ybWF0LlxuICogQHBhcmFtIHtQYWNrZXQuSGVhZGVyVHlwZX0gaGVhZGVyVHlwZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cblBhY2tldC5pc0FkZHJlc3NGaWVsZCA9IGZ1bmN0aW9uIChoZWFkZXJUeXBlKSB7XG4gIHJldHVybiBoZWFkZXJUeXBlID09PSBQYWNrZXQuSGVhZGVyVHlwZS5UT19BRERSRVNTIHx8XG4gICAgICBoZWFkZXJUeXBlID09PSBQYWNrZXQuSGVhZGVyVHlwZS5GUk9NX0FERFJFU1M7XG59O1xuXG4vKipcbiAqIFdoZXRoZXIgdGhlIGdpdmVuIGhlYWRlciBmaWVsZCB3aWxsIHVzZSB0aGUgcGFja2V0Q291bnQgYml0IHdpZHRoLlxuICogQHBhcmFtIHtQYWNrZXQuSGVhZGVyVHlwZX0gaGVhZGVyVHlwZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cblBhY2tldC5pc1BhY2tldEZpZWxkID0gZnVuY3Rpb24gKGhlYWRlclR5cGUpIHtcbiAgcmV0dXJuIGhlYWRlclR5cGUgPT09IFBhY2tldC5IZWFkZXJUeXBlLlBBQ0tFVF9JTkRFWCB8fFxuICAgICAgaGVhZGVyVHlwZSA9PT0gUGFja2V0LkhlYWRlclR5cGUuUEFDS0VUX0NPVU5UO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1BhY2tldC5IZWFkZXJUeXBlfSBoZWFkZXJUeXBlXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBvZiBiaW5hcnkgY29udGVudFxuICovXG5QYWNrZXQucHJvdG90eXBlLmdldEhlYWRlckFzQmluYXJ5ID0gZnVuY3Rpb24gKGhlYWRlclR5cGUpIHtcbiAgcmV0dXJuIHRoaXMuZW5jb2Rlci5nZXRIZWFkZXIoaGVhZGVyVHlwZSwgdGhpcy5iaW5hcnkpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1BhY2tldC5IZWFkZXJUeXBlfSBoZWFkZXJUeXBlXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxuICovXG5QYWNrZXQucHJvdG90eXBlLmdldEhlYWRlckFzSW50ID0gZnVuY3Rpb24gKGhlYWRlclR5cGUpIHtcbiAgcmV0dXJuIHRoaXMuZW5jb2Rlci5nZXRIZWFkZXJBc0ludChoZWFkZXJUeXBlLCB0aGlzLmJpbmFyeSk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7UGFja2V0LkhlYWRlclR5cGV9IGhlYWRlclR5cGVcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cblBhY2tldC5wcm90b3R5cGUuZ2V0SGVhZGVyQXNBZGRyZXNzU3RyaW5nID0gZnVuY3Rpb24gKGhlYWRlclR5cGUpIHtcbiAgcmV0dXJuIHRoaXMuZW5jb2Rlci5nZXRIZWFkZXJBc0FkZHJlc3NTdHJpbmcoaGVhZGVyVHlwZSwgdGhpcy5iaW5hcnkpO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBiaW5hcnkgY29udGVudFxuICovXG5QYWNrZXQucHJvdG90eXBlLmdldEJvZHlBc0JpbmFyeSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuZW5jb2Rlci5nZXRCb2R5KHRoaXMuYmluYXJ5KTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IGJpdHNQZXJDaGFyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBhc2NpaSBjb250ZW50XG4gKi9cblBhY2tldC5wcm90b3R5cGUuZ2V0Qm9keUFzQXNjaWkgPSBmdW5jdGlvbiAoYml0c1BlckNoYXIpIHtcbiAgcmV0dXJuIHRoaXMuZW5jb2Rlci5nZXRCb2R5QXNBc2NpaSh0aGlzLmJpbmFyeSwgYml0c1BlckNoYXIpO1xufTtcblxuLyoqXG4gKiBHaXZlbiBhIHBhcnRpY3VsYXIgcGFja2V0IGZvcm1hdCwgY2FuIGNvbnZlcnQgYSBzZXQgb2YgZmllbGRzIGRvd25cbiAqIGludG8gYSBiaW5hcnkgc3RyaW5nIG1hdGNoaW5nIHRoZSBzcGVjaWZpY2F0aW9uLCBvciBleHRyYWN0IGZpZWxkc1xuICogb24gZGVtYW5kIGZyb20gYSBiaW5hcnkgc3RyaW5nLlxuICogQHBhcmFtIHtBZGRyZXNzSGVhZGVyRm9ybWF0fSBhZGRyZXNzRm9ybWF0XG4gKiBAcGFyYW0ge251bWJlcn0gcGFja2V0Q291bnRCaXRXaWR0aFxuICogQHBhcmFtIHtQYWNrZXQuSGVhZGVyVHlwZVtdfSBoZWFkZXJTcGVjIC0gU3BlY2lmaWNhdGlvbiBvZiBwYWNrZXQgZm9ybWF0LCBhblxuICogICAgICAgIG9yZGVyZWQgc2V0IG9mIG9iamVjdHMgaW4gdGhlIGZvcm0ge2tleTpzdHJpbmcsIGJpdHM6bnVtYmVyfSB3aGVyZVxuICogICAgICAgIGtleSBpcyB0aGUgZmllbGQgbmFtZSB5b3UnbGwgdXNlIHRvIHJldHJpZXZlIHRoZSBpbmZvcm1hdGlvbiwgYW5kXG4gKiAgICAgICAgYml0cyBpcyB0aGUgbGVuZ3RoIG9mIHRoZSBmaWVsZC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5QYWNrZXQuRW5jb2RlciA9IGZ1bmN0aW9uIChhZGRyZXNzRm9ybWF0LCBwYWNrZXRDb3VudEJpdFdpZHRoLCBoZWFkZXJTcGVjKSB7XG4gIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuICB0aGlzLmFkZHJlc3NGb3JtYXRfID0gYWRkcmVzc0Zvcm1hdDtcblxuICB0aGlzLmFkZHJlc3NCaXRXaWR0aF8gPSB0aGlzLmNhbGN1bGF0ZUJpdFdpZHRoKHRoaXMuYWRkcmVzc0Zvcm1hdF8pO1xuXG4gIC8qKiBAdHlwZSB7bnVtYmVyfSAqL1xuICB0aGlzLnBhY2tldENvdW50Qml0V2lkdGhfID0gcGFja2V0Q291bnRCaXRXaWR0aDtcblxuICAvKiogQHR5cGUge1BhY2tldC5IZWFkZXJUeXBlW119ICovXG4gIHRoaXMuaGVhZGVyU3BlY18gPSBoZWFkZXJTcGVjO1xuXG4gIHRoaXMudmFsaWRhdGVTcGVjKCk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7QWRkcmVzc0hlYWRlckZvcm1hdH0gYWRkcmVzc0Zvcm1hdFxuICogQHByaXZhdGVcbiAqL1xuUGFja2V0LkVuY29kZXIucHJvdG90eXBlLmNhbGN1bGF0ZUJpdFdpZHRoID0gZnVuY3Rpb24gKGFkZHJlc3NGb3JtYXQpIHtcbiAgcmV0dXJuIGFkZHJlc3NGb3JtYXQuc3BsaXQoL1xcRCsvKS5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGN1cikge1xuICAgIHJldHVybiBwcmV2ICsgKHBhcnNlSW50KGN1ciwgMTApIHx8IDApO1xuICB9LCAwKTtcbn07XG5cbi8qKlxuICogVmVyaWZ5IHRoYXQgdGhlIGNvbmZpZ3VyZWQgZm9ybWF0IHNwZWNpZmljYXRpb24gZGVzY3JpYmVzIGEgdmFsaWQgZm9ybWF0IHRoYXRcbiAqIGNhbiBiZSB1c2VkIGJ5IHRoZSBQYWNrZXQuRW5jb2RlciBvYmplY3QuXG4gKi9cblBhY2tldC5FbmNvZGVyLnByb3RvdHlwZS52YWxpZGF0ZVNwZWMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBrZXlDYWNoZSA9IHt9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5oZWFkZXJTcGVjXy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpc0FkZHJlc3NGaWVsZCA9IFBhY2tldC5pc0FkZHJlc3NGaWVsZCh0aGlzLmhlYWRlclNwZWNfW2ldKTtcbiAgICB2YXIgaXNQYWNrZXRGaWVsZCA9IFBhY2tldC5pc1BhY2tldEZpZWxkKHRoaXMuaGVhZGVyU3BlY19baV0pO1xuXG4gICAgaWYgKGlzQWRkcmVzc0ZpZWxkICYmIHRoaXMuYWRkcmVzc0JpdFdpZHRoXyA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYWNrZXQgZm9ybWF0OiBJbmNsdWRlcyBhbiBhZGRyZXNzIGZpZWxkIGJ1dCBcIiArXG4gICAgICAgIFwiIGFkZHJlc3MgZm9ybWF0IGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIGlmIChpc1BhY2tldEZpZWxkICYmIHRoaXMucGFja2V0Q291bnRCaXRXaWR0aF8gPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcGFja2V0IGZvcm1hdDogSW5jbHVkZXMgYSBwYWNrZXQgY291bnQgZmllbGQgXCIgK1xuICAgICAgICAgIFwiIGJ1dCBwYWNrZXQgZmllbGQgYml0IHdpZHRoIGlzIHplcm9cIik7XG4gICAgfVxuXG4gICAgaWYgKCFpc0FkZHJlc3NGaWVsZCAmJiAhaXNQYWNrZXRGaWVsZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYWNrZXQgZm9ybWF0OiBVbnJlY29nbml6ZWQgcGFja2V0IGhlYWRlciBmaWVsZCBcIiArXG4gICAgICAgICAgdGhpcy5oZWFkZXJTcGVjX1tpXSk7XG4gICAgfVxuXG4gICAgaWYgKGtleUNhY2hlLmhhc093blByb3BlcnR5KHRoaXMuaGVhZGVyU3BlY19baV0pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBhY2tldCBmb3JtYXQ6IEZpZWxkIGtleXMgbXVzdCBiZSB1bmlxdWUuXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrZXlDYWNoZVt0aGlzLmhlYWRlclNwZWNfW2ldXSA9ICd1c2VkJztcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogUmV0cmlldmUgcmVxdWVzdGVkIGhlYWRlciBmaWVsZCBieSBrZXkgZnJvbSB0aGUgcHJvdmlkZWQgYmluYXJ5IGJsb2IuXG4gKlxuICogQHBhcmFtIHtQYWNrZXQuSGVhZGVyVHlwZX0ga2V5IC0gd2hpY2ggaGVhZGVyIHRvIHJldHJpZXZlXG4gKiBAcGFyYW0ge3N0cmluZ30gYmluYXJ5IGZvciBlbnRpcmUgcGFja2V0XG4gKiBAcmV0dXJucyB7c3RyaW5nfSBiaW5hcnkgc3RyaW5nIHZhbHVlIGZvciBoZWFkZXIgZmllbGRcbiAqIEB0aHJvd3Mgd2hlbiByZXF1ZXN0ZWQga2V5IGlzIG5vdCBpbiB0aGUgY29uZmlndXJlZCBwYWNrZXQgc3BlY1xuICovXG5QYWNrZXQuRW5jb2Rlci5wcm90b3R5cGUuZ2V0SGVhZGVyID0gZnVuY3Rpb24gKGtleSwgYmluYXJ5KSB7XG4gIHZhciBydWxlSW5kZXggPSAwLCBiaW5hcnlJbmRleCA9IDA7XG5cbiAgLy8gU3RyaXAgd2hpdGVzcGFjZSBzbyB3ZSBkb24ndCB3b3JyeSBhYm91dCBiZWluZyBwYXNzZWQgZm9ybWF0dGVkIGJpbmFyeVxuICBiaW5hcnkgPSBEYXRhQ29udmVydGVycy5taW5pZnlCaW5hcnkoYmluYXJ5KTtcblxuICB3aGlsZSAodGhpcy5oZWFkZXJTcGVjX1tydWxlSW5kZXhdICE9PSBrZXkpIHtcbiAgICBiaW5hcnlJbmRleCArPSB0aGlzLmdldEZpZWxkQml0V2lkdGgodGhpcy5oZWFkZXJTcGVjX1tydWxlSW5kZXhdKTtcbiAgICBydWxlSW5kZXgrKztcblxuICAgIGlmIChydWxlSW5kZXggPj0gdGhpcy5oZWFkZXJTcGVjXy5sZW5ndGgpIHtcbiAgICAgIC8vIERpZG4ndCBmaW5kIGtleVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdLZXkgXCInICsga2V5ICsgJ1wiIG5vdCBmb3VuZCBpbiBwYWNrZXQgc3BlYy4nKTtcbiAgICB9XG4gIH1cblxuICAvLyBSZWFkIHZhbHVlXG4gIHZhciBiaXRXaWR0aCA9IHRoaXMuZ2V0RmllbGRCaXRXaWR0aCh0aGlzLmhlYWRlclNwZWNfW3J1bGVJbmRleF0pO1xuICB2YXIgYml0cyA9IGJpbmFyeS5zbGljZShiaW5hcnlJbmRleCwgYmluYXJ5SW5kZXggKyBiaXRXaWR0aCk7XG5cbiAgLy8gUmlnaHQtcGFkIHdpdGggemVyb2VzIHRvIGRlc2lyZWQgc2l6ZVxuICBpZiAoYml0V2lkdGggIT09IEluZmluaXR5KSB7XG4gICAgd2hpbGUgKGJpdHMubGVuZ3RoIDwgYml0V2lkdGgpIHtcbiAgICAgIGJpdHMgKz0gJzAnO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBiaXRzO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1BhY2tldC5IZWFkZXJUeXBlfSBrZXkgLSBmaWVsZCBuYW1lXG4gKiBAcGFyYW0ge3N0cmluZ30gYmluYXJ5IC0gZW50aXJlIHBhY2tldCBhcyBhIGJpbmFyeSBzdHJpbmdcbiAqIEByZXR1cm5zIHtudW1iZXJ9IC0gcmVxdWVzdGVkIGZpZWxkLCBpbnRlcnByZXRlZCBhcyBhbiBpbnQuXG4gKi9cblBhY2tldC5FbmNvZGVyLnByb3RvdHlwZS5nZXRIZWFkZXJBc0ludCA9IGZ1bmN0aW9uIChrZXksIGJpbmFyeSkge1xuICByZXR1cm4gRGF0YUNvbnZlcnRlcnMuYmluYXJ5VG9JbnQodGhpcy5nZXRIZWFkZXIoa2V5LCBiaW5hcnkpKTtcbn07XG5cbi8qKlxuICogUmV0cmlldmUgYW4gYWRkcmVzcyBoZWFkZXIgYXMgYSBzdHJpbmcsIHNvIHdlIGNhbiBnaXZlIHRoZSBtdWx0aS1wYXJ0XG4gKiByZXByZXNlbnRhdGlvbi5cbiAqIEBwYXJhbSB7UGFja2V0LkhlYWRlclR5cGV9IGtleVxuICogQHBhcmFtIHtzdHJpbmd9IGJpbmFyeSBmb3Igd2hvbGUgcGFja2V0XG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5QYWNrZXQuRW5jb2Rlci5wcm90b3R5cGUuZ2V0SGVhZGVyQXNBZGRyZXNzU3RyaW5nID0gZnVuY3Rpb24gKGtleSwgYmluYXJ5KSB7XG4gIHJldHVybiBEYXRhQ29udmVydGVycy5iaW5hcnlUb0FkZHJlc3NTdHJpbmcoXG4gICAgICB0aGlzLmdldEhlYWRlcihrZXksIGJpbmFyeSksIHRoaXMuYWRkcmVzc0Zvcm1hdF8pO1xufTtcblxuLyoqXG4gKiBTa2lwIG92ZXIgaGVhZGVycyBnaXZlbiBpbiBzcGVjIGFuZCByZXR1cm4gcmVtYWluZGVyIG9mIGJpbmFyeSB3aGljaFxuICogbXVzdCBiZSB0aGUgbWVzc2FnZSBib2R5LlxuICogQHBhcmFtIHtzdHJpbmd9IGJpbmFyeSAtIGVudGlyZSBwYWNrZXQgYXMgYSBiaW5hcnkgc3RyaW5nXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBwYWNrZXQgYm9keSBiaW5hcnkgc3RyaW5nXG4gKi9cblBhY2tldC5FbmNvZGVyLnByb3RvdHlwZS5nZXRCb2R5ID0gZnVuY3Rpb24gKGJpbmFyeSkge1xuICByZXR1cm4gRGF0YUNvbnZlcnRlcnMubWluaWZ5QmluYXJ5KGJpbmFyeSlcbiAgICAgIC5zbGljZSh0aGlzLmdldEhlYWRlckxlbmd0aCgpKTtcbn07XG5cbi8qKlxuICogQHJldHVybnMge251bWJlcn0gSG93IG1hbnkgYml0cyB0aGUgaGVhZGVyIHRha2VzIHVwXG4gKi9cblBhY2tldC5FbmNvZGVyLnByb3RvdHlwZS5nZXRIZWFkZXJMZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmhlYWRlclNwZWNfLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VyKSB7XG4gICAgcmV0dXJuIHByZXYgKyB0aGlzLmdldEZpZWxkQml0V2lkdGgoY3VyKTtcbiAgfS5iaW5kKHRoaXMpLCAwKTtcbn07XG5cbi8qKlxuICogU2tpcCBvdmVyIGhlYWRlcnMgZ2l2ZW4gaW4gc3BlYywgYW5kIHJldHVybiByZW1haW5kZXIgb2YgcGFja2V0IGludGVycHJldGVkXG4gKiB0byBhc2NpaSB3aXRoIHRoZSBnaXZlbiBjaGFyYWN0ZXIgd2lkdGguXG4gKiBAcGFyYW0ge3N0cmluZ30gYmluYXJ5IC0gZW50aXJlIHBhY2tldCBhcyBhIGJpbmFyeSBzdHJpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRzUGVyQ2hhciAtIGJpdHMgdG8gcmVwcmVzZW50IGFzIGEgc2luZ2xlIGNoYXJhY3RlcixcbiAqICAgICAgICByZWNvbW1lbmRlZCB0byB1c2UgOCBmb3Igbm9ybWFsIEFTQ0lJLlxuICovXG5QYWNrZXQuRW5jb2Rlci5wcm90b3R5cGUuZ2V0Qm9keUFzQXNjaWkgPSBmdW5jdGlvbiAoYmluYXJ5LCBiaXRzUGVyQ2hhcikge1xuICByZXR1cm4gRGF0YUNvbnZlcnRlcnMuYmluYXJ5VG9Bc2NpaSh0aGlzLmdldEJvZHkoYmluYXJ5KSwgYml0c1BlckNoYXIpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge1BhY2tldC5IZWFkZXJUeXBlfSBoZWFkZXJUeXBlXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBob3cgbWFueSBiaXRzIHRoYXQgZmllbGQgc2hvdWxkIHRha2UgaW4gdGhlIHBhY2tldCBoZWFkZXJcbiAqL1xuUGFja2V0LkVuY29kZXIucHJvdG90eXBlLmdldEZpZWxkQml0V2lkdGggPSBmdW5jdGlvbiAoaGVhZGVyVHlwZSkge1xuICBpZiAoUGFja2V0LmlzQWRkcmVzc0ZpZWxkKGhlYWRlclR5cGUpKSB7XG4gICAgcmV0dXJuIHRoaXMuYWRkcmVzc0JpdFdpZHRoXztcbiAgfVxuXG4gIGlmIChQYWNrZXQuaXNQYWNrZXRGaWVsZChoZWFkZXJUeXBlKSkge1xuICAgIHJldHVybiB0aGlzLnBhY2tldENvdW50Qml0V2lkdGhfO1xuICB9XG5cbiAgLy8gU2hvdWxkIG5ldmVyIGdldCBoZXJlLlxuICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gc2VsZWN0IGEgYml0LXdpZHRoIGZvciBmaWVsZCBcIiArIGhlYWRlclR5cGUpO1xufTtcblxuLyoqXG4gKiBHaXZlbiBhIFwiaGVhZGVyc1wiIG9iamVjdCB3aGVyZSB0aGUgdmFsdWVzIGFyZSBudW1iZXJzLCByZXR1cm5zIGEgY29ycmVzcG9uZGluZ1xuICogXCJoZWFkZXJzXCIgb2JqZWN0IHdoZXJlIHRoZSB2YWx1ZXMgaGF2ZSBhbGwgYmVlbiBjb252ZXJ0ZWQgdG8gYmluYXJ5XG4gKiByZXByZXNlbnRhdGlvbnMgYXQgdGhlIGFwcHJvcHJpYXRlIHdpZHRoLiAgT25seSBoZWFkZXIgZmllbGRzIHRoYXQgYXBwZWFyIGluXG4gKiB0aGUgY29uZmlndXJlZCBwYWNrZXQgaGVhZGVyIGZvcm1hdCB3aWxsIGJlIGNvbnZlcnRlZCBhbmQgcGFzc2VkIHRocm91Z2ggdG9cbiAqIG91dHB1dC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBoZWFkZXJzIC0gd2l0aCBudW1iZXIgdmFsdWVzXG4gKi9cblBhY2tldC5FbmNvZGVyLnByb3RvdHlwZS5tYWtlQmluYXJ5SGVhZGVycyA9IGZ1bmN0aW9uIChoZWFkZXJzKSB7XG4gIHZhciBiaW5hcnlIZWFkZXJzID0ge307XG4gIHRoaXMuaGVhZGVyU3BlY18uZm9yRWFjaChmdW5jdGlvbiAoaGVhZGVyRmllbGQpe1xuICAgIGlmIChoZWFkZXJzLmhhc093blByb3BlcnR5KGhlYWRlckZpZWxkKSkge1xuICAgICAgLy8gQ29udmVydCBkaWZmZXJlbnRseSBmb3IgYWRkcmVzcyBhbmQgcGFja2V0IGZpZWxkcz9cbiAgICAgIGlmIChQYWNrZXQuaXNBZGRyZXNzRmllbGQoaGVhZGVyRmllbGQpKSB7XG4gICAgICAgIGJpbmFyeUhlYWRlcnNbaGVhZGVyRmllbGRdID0gdGhpcy5hZGRyZXNzU3RyaW5nVG9CaW5hcnkoaGVhZGVyc1toZWFkZXJGaWVsZF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmluYXJ5SGVhZGVyc1toZWFkZXJGaWVsZF0gPSBEYXRhQ29udmVydGVycy5pbnRUb0JpbmFyeShcbiAgICAgICAgICAgIGhlYWRlcnNbaGVhZGVyRmllbGRdLCB0aGlzLmdldEZpZWxkQml0V2lkdGgoaGVhZGVyRmllbGQpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHRoaXMpO1xuICByZXR1cm4gYmluYXJ5SGVhZGVycztcbn07XG5cbi8qKlxuICogQ29udmVydCBhbiBhZGRyZXNzIHN0cmluZyAocG9zc2libHkgbXVsdGktcGFydCkgaW50byBiaW5hcnkgYmFzZWQgb24gdGhlXG4gKiBjb25maWd1cmVkIGFkZHJlc3MgZm9ybWF0LlxuICogQHBhcmFtIHtzdHJpbmd9IGFkZHJlc3NcbiAqIEByZXR1cm5zIHtzdHJpbmd9IGJpbmFyeSByZXByZXNlbnRhdGlvblxuICovXG5QYWNrZXQuRW5jb2Rlci5wcm90b3R5cGUuYWRkcmVzc1N0cmluZ1RvQmluYXJ5ID0gZnVuY3Rpb24gKGFkZHJlc3MpIHtcbiAgcmV0dXJuIERhdGFDb252ZXJ0ZXJzLmFkZHJlc3NTdHJpbmdUb0JpbmFyeShhZGRyZXNzLCB0aGlzLmFkZHJlc3NGb3JtYXRfKTtcbn07XG5cbi8qKlxuICogVGFrZXMgYSBzZXQgb2YgYmluYXJ5IGhlYWRlcnMgYW5kIGEgYmluYXJ5IGJvZHksIGFuZCBnZW5lcmF0ZXMgYSBjb21wbGV0ZVxuICogcGFja2V0IGJpbmFyeSBtYXRjaGluZyB0aGUgY29uZmlndXJlZCBwYWNrZXQgc3BlYyBpbiB0ZXJtcyBvZiBoZWFkZXIgd2lkdGhcbiAqIGFuZCBvcmRlcmluZy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYmluYXJ5SGVhZGVycyAtIGhhc2ggY29udGFpbmluZyBwYWNrZXQgaGVhZGVycyBpbiBiaW5hcnksIHdoZXJlXG4gKiAgICAgICAgdGhlIGhhc2gga2V5cyBjb3JyZXNwb25kIHRvIHRoZSBcImtleVwiIHZhbHVlcyBpbiB0aGUgcGFja2V0IHNwZWMsIGFuZFxuICogICAgICAgIHRoZSBoYXNoIHZhbHVlcyBhcmUgYmluYXJ5IHN0cmluZ3MuXG4gKiBAcGFyYW0ge3N0cmluZ30gYm9keSAtIGJpbmFyeSBzdHJpbmcgb2YgdGhlIHVubGltaXRlZC1sZW5ndGggYm9keSBvZiB0aGVcbiAqICAgICAgICBwYWNrZXQsIHdoaWNoIHdpbGwgYmUgcGxhY2VkIGFmdGVyIHRoZSBwYWNrZXQgaGVhZGVycy5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBiaW5hcnkgc3RyaW5nIG9mIHByb3ZpZGVkIGRhdGEsIGNvbmZvcm1pbmcgdG8gY29uZmlndXJlZFxuICogICAgICAgICAgcGFja2V0IGZvcm1hdC5cbiAqL1xuUGFja2V0LkVuY29kZXIucHJvdG90eXBlLmNvbmNhdGVuYXRlQmluYXJ5ID0gZnVuY3Rpb24gKGJpbmFyeUhlYWRlcnMsIGJvZHkpIHtcbiAgdmFyIHBhcnRzID0gW107XG5cbiAgdGhpcy5oZWFkZXJTcGVjXy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZFNwZWMpIHtcbiAgICB2YXIgZmllbGRXaWR0aCA9IHRoaXMuZ2V0RmllbGRCaXRXaWR0aChmaWVsZFNwZWMpO1xuXG4gICAgLy8gR2V0IGhlYWRlciB2YWx1ZSBmcm9tIHByb3ZpZGVkIGhlYWRlcnMsIGlmIGl0IGV4aXN0cy5cbiAgICAvLyBJZiBub3QsIHdlJ2xsIHN0YXJ0IHdpdGggYW4gZW1wdHkgc3RyaW5nIGFuZCBwYWQgaXQgdG8gdGhlIGNvcnJlY3RcbiAgICAvLyBsZW5ndGgsIGJlbG93LlxuICAgIHZhciBmaWVsZEJpdHMgPSBiaW5hcnlIZWFkZXJzLmhhc093blByb3BlcnR5KGZpZWxkU3BlYykgP1xuICAgICAgICBiaW5hcnlIZWFkZXJzW2ZpZWxkU3BlY10gOiAnJztcblxuICAgIC8vIFJpZ2h0LXRydW5jYXRlIHRvIHRoZSBkZXNpcmVkIHNpemVcbiAgICBmaWVsZEJpdHMgPSBmaWVsZEJpdHMuc2xpY2UoMCwgZmllbGRXaWR0aCk7XG5cbiAgICAvLyBMZWZ0LXBhZCB0byBkZXNpcmVkIHNpemVcbiAgICBmaWVsZEJpdHMgPSBOZXRTaW1VdGlscy56ZXJvUGFkTGVmdChmaWVsZEJpdHMsIGZpZWxkV2lkdGgpO1xuXG4gICAgcGFydHMucHVzaChmaWVsZEJpdHMpO1xuICB9LCB0aGlzKTtcblxuICBwYXJ0cy5wdXNoKGJvZHkpO1xuXG4gIHJldHVybiBwYXJ0cy5qb2luKCcnKTtcbn07XG4iLCIvKipcbiAqIEBvdmVydmlldyBVSSBjb250cm9sbGVyIGZvciB0aGUgRE5TIHRhYiBpbiB0aGUgbGVmdCBjb2x1bW4uXG4gKi9cbi8vIFN0cmljdCBsaW50aW5nOiBBYnNvcmIgaW50byBnbG9iYWwgY29uZmlnIHdoZW4gcG9zc2libGVcbi8qIGpzaGludFxuIHVudXNlZDogdHJ1ZSxcbiBlcWVxZXE6IHRydWUsXG4gbWF4bGVuOiAxMjBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgbWFya3VwID0gcmVxdWlyZSgnLi9OZXRTaW1EbnNUYWIuaHRtbC5lanMnKTtcbnZhciBEbnNNb2RlID0gcmVxdWlyZSgnLi9OZXRTaW1Db25zdGFudHMnKS5EbnNNb2RlO1xudmFyIE5ldFNpbURuc01vZGVDb250cm9sID0gcmVxdWlyZSgnLi9OZXRTaW1EbnNNb2RlQ29udHJvbCcpO1xudmFyIE5ldFNpbURuc01hbnVhbENvbnRyb2wgPSByZXF1aXJlKCcuL05ldFNpbURuc01hbnVhbENvbnRyb2wnKTtcbnZhciBOZXRTaW1EbnNUYWJsZSA9IHJlcXVpcmUoJy4vTmV0U2ltRG5zVGFibGUnKTtcbnZhciBOZXRTaW1HbG9iYWxzID0gcmVxdWlyZSgnLi9OZXRTaW1HbG9iYWxzJyk7XG5cbi8qKlxuICogR2VuZXJhdG9yIGFuZCBjb250cm9sbGVyIGZvciBcIkROU1wiIHRhYi5cbiAqIEBwYXJhbSB7alF1ZXJ5fSByb290RGl2XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBkbnNNb2RlQ2hhbmdlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGJlY29tZURuc0NhbGxiYWNrXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIE5ldFNpbURuc1RhYiA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHJvb3REaXYsIGRuc01vZGVDaGFuZ2VDYWxsYmFjayxcbiAgICBiZWNvbWVEbnNDYWxsYmFjaykge1xuICAvKipcbiAgICogQ29tcG9uZW50IHJvb3QsIHdoaWNoIHdlIGZpbGwgd2hlbmV2ZXIgd2UgY2FsbCByZW5kZXIoKVxuICAgKiBAdHlwZSB7alF1ZXJ5fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5yb290RGl2XyA9IHJvb3REaXY7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtmdW5jdGlvbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuZG5zTW9kZUNoYW5nZUNhbGxiYWNrXyA9IGRuc01vZGVDaGFuZ2VDYWxsYmFjaztcblxuICAvKipcbiAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5iZWNvbWVEbnNDYWxsYmFja18gPSBiZWNvbWVEbnNDYWxsYmFjaztcblxuICAvKipcbiAgICogQHR5cGUge05ldFNpbURuc01vZGVDb250cm9sfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5kbnNNb2RlQ29udHJvbF8gPSBudWxsO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7TmV0U2ltRG5zTWFudWFsQ29udHJvbH1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuZG5zTWFudWFsQ29udHJvbF8gPSBudWxsO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7TmV0U2ltRG5zVGFibGV9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmRuc1RhYmxlXyA9IG51bGw7XG5cbiAgdGhpcy5yZW5kZXIoKTtcbn07XG5cbi8qKlxuICogRmlsbCB0aGUgcm9vdCBkaXYgd2l0aCBuZXcgZWxlbWVudHMgcmVmbGVjdGluZyB0aGUgY3VycmVudCBzdGF0ZVxuICovXG5OZXRTaW1EbnNUYWIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGxldmVsQ29uZmlnID0gTmV0U2ltR2xvYmFscy5nZXRMZXZlbENvbmZpZygpO1xuXG4gIHZhciByZW5kZXJlZE1hcmt1cCA9ICQobWFya3VwKHtcbiAgICBsZXZlbDogbGV2ZWxDb25maWdcbiAgfSkpO1xuICB0aGlzLnJvb3REaXZfLmh0bWwocmVuZGVyZWRNYXJrdXApO1xuXG4gIGlmIChsZXZlbENvbmZpZy5zaG93RG5zTW9kZUNvbnRyb2wpIHtcbiAgICB0aGlzLmRuc01vZGVDb250cm9sXyA9IG5ldyBOZXRTaW1EbnNNb2RlQ29udHJvbChcbiAgICAgICAgdGhpcy5yb290RGl2Xy5maW5kKCcuZG5zX21vZGUnKSxcbiAgICAgICAgdGhpcy5kbnNNb2RlQ2hhbmdlQ2FsbGJhY2tfKTtcbiAgfVxuXG4gIHRoaXMuZG5zTWFudWFsQ29udHJvbF8gPSBuZXcgTmV0U2ltRG5zTWFudWFsQ29udHJvbChcbiAgICAgIHRoaXMucm9vdERpdl8uZmluZCgnLmRuc19tYW51YWxfY29udHJvbCcpLFxuICAgICAgdGhpcy5iZWNvbWVEbnNDYWxsYmFja18pO1xuXG4gIHRoaXMuZG5zVGFibGVfID0gbmV3IE5ldFNpbURuc1RhYmxlKFxuICAgICAgdGhpcy5yb290RGl2Xy5maW5kKCcuZG5zX3RhYmxlJykpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge0Ruc01vZGV9IG5ld0Ruc01vZGVcbiAqL1xuTmV0U2ltRG5zVGFiLnByb3RvdHlwZS5zZXREbnNNb2RlID0gZnVuY3Rpb24gKG5ld0Ruc01vZGUpIHtcbiAgaWYgKHRoaXMuZG5zTW9kZUNvbnRyb2xfKSB7XG4gICAgdGhpcy5kbnNNb2RlQ29udHJvbF8uc2V0RG5zTW9kZShuZXdEbnNNb2RlKTtcbiAgfVxuXG4gIHRoaXMuZG5zVGFibGVfLnNldERuc01vZGUobmV3RG5zTW9kZSk7XG4gIHRoaXMucm9vdERpdl8uZmluZCgnLmRuc19tYW51YWxfY29udHJvbCcpLnRvZ2dsZShuZXdEbnNNb2RlID09PSBEbnNNb2RlLk1BTlVBTCk7XG4gIHRoaXMucm9vdERpdl8uZmluZCgnLmRucy1ub3RlcycpLnRvZ2dsZShuZXdEbnNNb2RlICE9PSBEbnNNb2RlLk5PTkUpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzRG5zTm9kZVxuICovXG5OZXRTaW1EbnNUYWIucHJvdG90eXBlLnNldElzRG5zTm9kZSA9IGZ1bmN0aW9uIChpc0Ruc05vZGUpIHtcbiAgdGhpcy5kbnNNYW51YWxDb250cm9sXy5zZXRJc0Ruc05vZGUoaXNEbnNOb2RlKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtBcnJheX0gdGFibGVDb250ZW50c1xuICovXG5OZXRTaW1EbnNUYWIucHJvdG90eXBlLnNldERuc1RhYmxlQ29udGVudHMgPSBmdW5jdGlvbiAodGFibGVDb250ZW50cykge1xuICB0aGlzLmRuc1RhYmxlXy5zZXREbnNUYWJsZUNvbnRlbnRzKHRhYmxlQ29udGVudHMpO1xufTtcbiIsIi8qKlxuICogQG92ZXJ2aWV3IFVJIHRhYmxlIG9mIGxvY2FsIHN1Ym5ldCwgZGlzcGxheWluZyBob3N0bmFtZSA9PiBhZGRyZXNzIG1hcC5cbiAqL1xuLy8gU3RyaWN0IGxpbnRpbmc6IEFic29yYiBpbnRvIGdsb2JhbCBjb25maWcgd2hlbiBwb3NzaWJsZVxuLyoganNoaW50XG4gdW51c2VkOiB0cnVlLFxuIGVxZXFlcTogdHJ1ZSxcbiBtYXhsZW46IDEyMFxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBtYXJrdXAgPSByZXF1aXJlKCcuL05ldFNpbURuc1RhYmxlLmh0bWwuZWpzJyk7XG52YXIgRG5zTW9kZSA9IHJlcXVpcmUoJy4vTmV0U2ltQ29uc3RhbnRzJykuRG5zTW9kZTtcblxuLyoqXG4gKiBHZW5lcmF0b3IgYW5kIGNvbnRyb2xsZXIgZm9yIEROUyBuZXR3b3JrIGxvb2t1cCB0YWJsZSBjb21wb25lbnQuXG4gKiBTaG93cyBkaWZmZXJlbnQgYW1vdW50cyBvZiBpbmZvcm1hdGlvbiBkZXBlbmRpbmcgb24gdGhlIEROUyBtb2RlLlxuICpcbiAqIEBwYXJhbSB7alF1ZXJ5fSByb290RGl2XG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIE5ldFNpbURuc1RhYmxlID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAocm9vdERpdikge1xuICAvKipcbiAgICogQ29tcG9uZW50IHJvb3QsIHdoaWNoIHdlIGZpbGwgd2hlbmV2ZXIgd2UgY2FsbCByZW5kZXIoKVxuICAgKiBAdHlwZSB7alF1ZXJ5fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5yb290RGl2XyA9IHJvb3REaXY7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtEbnNNb2RlfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5kbnNNb2RlXyA9IERuc01vZGUuTk9ORTtcblxuICAvKipcbiAgICogQHR5cGUge0FycmF5fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5hZGRyZXNzVGFibGVEYXRhXyA9IFtdO1xuXG4gIHRoaXMucmVuZGVyKCk7XG59O1xuXG4vKipcbiAqIEZpbGwgdGhlIHJvb3QgZGl2IHdpdGggbmV3IGVsZW1lbnRzIHJlZmxlY3RpbmcgdGhlIGN1cnJlbnQgc3RhdGVcbiAqL1xuTmV0U2ltRG5zVGFibGUucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJlbmRlcmVkTWFya3VwID0gJChtYXJrdXAoe1xuICAgIGRuc01vZGU6IHRoaXMuZG5zTW9kZV8sXG4gICAgdGFibGVEYXRhOiB0aGlzLmFkZHJlc3NUYWJsZURhdGFfXG4gIH0pKTtcbiAgdGhpcy5yb290RGl2Xy5odG1sKHJlbmRlcmVkTWFya3VwKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtEbnNNb2RlfSBuZXdEbnNNb2RlXG4gKi9cbk5ldFNpbURuc1RhYmxlLnByb3RvdHlwZS5zZXREbnNNb2RlID0gZnVuY3Rpb24gKG5ld0Ruc01vZGUpIHtcbiAgdGhpcy5kbnNNb2RlXyA9IG5ld0Ruc01vZGU7XG4gIHRoaXMucmVuZGVyKCk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXl9IHRhYmxlQ29udGVudHNcbiAqL1xuTmV0U2ltRG5zVGFibGUucHJvdG90eXBlLnNldERuc1RhYmxlQ29udGVudHMgPSBmdW5jdGlvbiAodGFibGVDb250ZW50cykge1xuICB0aGlzLmFkZHJlc3NUYWJsZURhdGFfID0gdGFibGVDb250ZW50cztcbiAgdGhpcy5yZW5kZXIoKTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cz0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdCA9IGZ1bmN0aW9uIGFub255bW91cyhsb2NhbHMsIGZpbHRlcnMsIGVzY2FwZVxuLyoqLykge1xuZXNjYXBlID0gZXNjYXBlIHx8IGZ1bmN0aW9uIChodG1sKXtcbiAgcmV0dXJuIFN0cmluZyhodG1sKVxuICAgIC5yZXBsYWNlKC8mKD8hXFx3KzspL2csICcmYW1wOycpXG4gICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpO1xufTtcbnZhciBidWYgPSBbXTtcbndpdGggKGxvY2FscyB8fCB7fSkgeyAoZnVuY3Rpb24oKXsgXG4gYnVmLnB1c2goJycpOzE7XG52YXIgRG5zTW9kZSA9IHJlcXVpcmUoJy4vTmV0U2ltQ29uc3RhbnRzJykuRG5zTW9kZTtcbjsgYnVmLnB1c2goJ1xcbjxkaXYgY2xhc3M9XCJuZXRzaW0tZG5zLXRhYmxlXCI+XFxuICA8aDE+TXkgTmV0d29yazwvaDE+XFxuICA8dGFibGU+XFxuICAgIDx0aGVhZD5cXG4gICAgPHRyPlxcbiAgICAgIDx0aD5Ib3N0bmFtZTwvdGg+XFxuICAgICAgPHRoPkFkZHJlc3M8L3RoPlxcbiAgICA8L3RyPlxcbiAgICA8L3RoZWFkPlxcbiAgICA8dGJvZHk+XFxuICAgICcpOzE0O1xuICAgIHRhYmxlRGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgIHZhciBkaXNwbGF5SG9zdG5hbWUgPSByb3cuaG9zdG5hbWU7XG4gICAgICB2YXIgZGlzcGxheUFkZHJlc3MgPSAnJztcbiAgICAgIHZhciByb3dDbGFzc2VzID0gW107XG5cbiAgICAgIGlmIChkbnNNb2RlID09PSBEbnNNb2RlLk5PTkUgfHwgcm93LmlzRG5zTm9kZSB8fCByb3cuaXNMb2NhbCkge1xuICAgICAgICBkaXNwbGF5QWRkcmVzcyA9IHJvdy5hZGRyZXNzO1xuICAgICAgfVxuXG4gICAgICBpZiAocm93LmlzTG9jYWwpIHtcbiAgICAgICAgZGlzcGxheUhvc3RuYW1lICs9IFwiIChNZSlcIjtcbiAgICAgICAgcm93Q2xhc3Nlcy5wdXNoKCdsb2NhbC1ub2RlJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyb3cuaXNEbnNOb2RlICYmIGRuc01vZGUgIT09IERuc01vZGUuTk9ORSkge1xuICAgICAgICBkaXNwbGF5SG9zdG5hbWUgKz0gXCIgKEROUylcIjtcbiAgICAgICAgcm93Q2xhc3Nlcy5wdXNoKCdkbnMtbm9kZScpO1xuICAgICAgfVxuICAgICAgOyBidWYucHVzaCgnXFxuICAgICAgICA8dHIgY2xhc3M9XCInLCBlc2NhcGUoKDM0LCAgcm93Q2xhc3Nlcy5qb2luKCcgJykgKSksICdcIj5cXG4gICAgICAgICAgPHRkPicsIGVzY2FwZSgoMzUsICBkaXNwbGF5SG9zdG5hbWUgKSksICc8L3RkPlxcbiAgICAgICAgICA8dGQ+JywgZXNjYXBlKCgzNiwgIGRpc3BsYXlBZGRyZXNzICkpLCAnPC90ZD5cXG4gICAgICAgIDwvdHI+XFxuICAgICAgJyk7Mzg7XG4gICAgfSk7XG4gICAgOyBidWYucHVzaCgnXFxuICAgIDwvdGJvZHk+XFxuICA8L3RhYmxlPlxcbjwvZGl2PicpOyB9KSgpO1xufSBcbnJldHVybiBidWYuam9pbignJyk7XG59O1xuICByZXR1cm4gZnVuY3Rpb24obG9jYWxzKSB7XG4gICAgcmV0dXJuIHQobG9jYWxzLCByZXF1aXJlKFwiZWpzXCIpLmZpbHRlcnMpO1xuICB9XG59KCkpOyIsIm1vZHVsZS5leHBvcnRzPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB0ID0gZnVuY3Rpb24gYW5vbnltb3VzKGxvY2FscywgZmlsdGVycywgZXNjYXBlXG4vKiovKSB7XG5lc2NhcGUgPSBlc2NhcGUgfHwgZnVuY3Rpb24gKGh0bWwpe1xuICByZXR1cm4gU3RyaW5nKGh0bWwpXG4gICAgLnJlcGxhY2UoLyYoPyFcXHcrOykvZywgJyZhbXA7JylcbiAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7Jyk7XG59O1xudmFyIGJ1ZiA9IFtdO1xud2l0aCAobG9jYWxzIHx8IHt9KSB7IChmdW5jdGlvbigpeyBcbiBidWYucHVzaCgnPGRpdiBjbGFzcz1cIm5ldHNpbS1kbnMtdGFiXCI+XFxuICAnKTsyOyBpZiAobGV2ZWwuc2hvd0Ruc01vZGVDb250cm9sKSB7IDsgYnVmLnB1c2goJ1xcbiAgPGRpdiBjbGFzcz1cImRuc19tb2RlXCI+PC9kaXY+XFxuICAnKTs0OyB9IDsgYnVmLnB1c2goJ1xcbiAgPGRpdiBjbGFzcz1cImRuc19tYW51YWxfY29udHJvbFwiPjwvZGl2PlxcbiAgPGRpdiBjbGFzcz1cImRuc190YWJsZVwiPjwvZGl2PlxcbiAgPGRpdiBjbGFzcz1cImRucy1ub3Rlc1wiPlxcbiAgICA8aDE+Tm90ZXM8L2gxPlxcbiAgICA8ZGl2PlxcbiAgICAgIDx0ZXh0YXJlYT48L3RleHRhcmVhPlxcbiAgICA8L2Rpdj5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcbicpOyB9KSgpO1xufSBcbnJldHVybiBidWYuam9pbignJyk7XG59O1xuICByZXR1cm4gZnVuY3Rpb24obG9jYWxzKSB7XG4gICAgcmV0dXJuIHQobG9jYWxzLCByZXF1aXJlKFwiZWpzXCIpLmZpbHRlcnMpO1xuICB9XG59KCkpOyIsIi8qKlxuICogQG92ZXJ2aWV3IFVJIGNvbXBvbmVudCB1c2VkIHRvIHNlbGVjdCBhIEROUyBtb2RlIGF0IHJ1bnRpbWUuXG4gKi9cbi8vIFN0cmljdCBsaW50aW5nOiBBYnNvcmIgaW50byBnbG9iYWwgY29uZmlnIHdoZW4gcG9zc2libGVcbi8qIGpzaGludFxuIHVudXNlZDogdHJ1ZSxcbiBlcWVxZXE6IHRydWUsXG4gbWF4bGVuOiAxMjBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgbWFya3VwID0gcmVxdWlyZSgnLi9OZXRTaW1EbnNNb2RlQ29udHJvbC5odG1sLmVqcycpO1xudmFyIERuc01vZGUgPSByZXF1aXJlKCcuL05ldFNpbUNvbnN0YW50cycpLkRuc01vZGU7XG5cbi8qKlxuICogR2VuZXJhdG9yIGFuZCBjb250cm9sbGVyIGZvciBETlMgbW9kZSBzZWxlY3RvclxuICogQHBhcmFtIHtqUXVlcnl9IHJvb3REaXZcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGRuc01vZGVDaGFuZ2VDYWxsYmFja1xuICogQGNvbnN0cnVjdG9yXG4gKi9cbnZhciBOZXRTaW1EbnNNb2RlQ29udHJvbCA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHJvb3REaXYsXG4gICAgZG5zTW9kZUNoYW5nZUNhbGxiYWNrKSB7XG4gIC8qKlxuICAgKiBDb21wb25lbnQgcm9vdCwgd2hpY2ggd2UgZmlsbCB3aGVuZXZlciB3ZSBjYWxsIHJlbmRlcigpXG4gICAqIEB0eXBlIHtqUXVlcnl9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnJvb3REaXZfID0gcm9vdERpdjtcblxuICAvKipcbiAgICogQHR5cGUge2Z1bmN0aW9ufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5kbnNNb2RlQ2hhbmdlQ2FsbGJhY2tfID0gZG5zTW9kZUNoYW5nZUNhbGxiYWNrO1xuXG4gIC8qKlxuICAgKiBTZXQgb2YgYWxsIEROUyBtb2RlIHJhZGlvIGJ1dHRvbnNcbiAgICogQHR5cGUge2pRdWVyeX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuZG5zTW9kZVJhZGlvc18gPSBudWxsO1xuXG4gIC8qKlxuICAgKiBJbnRlcm5hbCBzdGF0ZTogQ3VycmVudCBETlMgbW9kZS5cbiAgICogQHR5cGUge0Ruc01vZGV9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmN1cnJlbnREbnNNb2RlXyA9IERuc01vZGUuTk9ORTtcblxuICB0aGlzLnJlbmRlcigpO1xufTtcblxuLyoqXG4gKiBGaWxsIHRoZSByb290IGRpdiB3aXRoIG5ldyBlbGVtZW50cyByZWZsZWN0aW5nIHRoZSBjdXJyZW50IHN0YXRlXG4gKi9cbk5ldFNpbURuc01vZGVDb250cm9sLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciByZW5kZXJlZE1hcmt1cCA9ICQobWFya3VwKHt9KSk7XG4gIHRoaXMucm9vdERpdl8uaHRtbChyZW5kZXJlZE1hcmt1cCk7XG5cbiAgdGhpcy5kbnNNb2RlUmFkaW9zXyA9IHRoaXMucm9vdERpdl8uZmluZCgnaW5wdXRbdHlwZT1cInJhZGlvXCJdW25hbWU9XCJkbnNfbW9kZVwiXScpO1xuICB0aGlzLmRuc01vZGVSYWRpb3NfLmNoYW5nZSh0aGlzLm9uRG5zTW9kZUNoYW5nZV8uYmluZCh0aGlzKSk7XG4gIHRoaXMuc2V0RG5zTW9kZSh0aGlzLmN1cnJlbnREbnNNb2RlXyk7XG59O1xuXG4vKipcbiAqIEhhbmRsZXIgZm9yIGEgbmV3IHJhZGlvIGJ1dHRvbiBiZWluZyBzZWxlY3RlZC5cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbURuc01vZGVDb250cm9sLnByb3RvdHlwZS5vbkRuc01vZGVDaGFuZ2VfID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbmV3RG5zTW9kZSA9IHRoaXMuZG5zTW9kZVJhZGlvc18uZmlsdGVyKCc6Y2hlY2tlZCcpLnZhbCgpO1xuICB0aGlzLmRuc01vZGVDaGFuZ2VDYWxsYmFja18obmV3RG5zTW9kZSk7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7RG5zTW9kZX0gbmV3RG5zTW9kZVxuICovXG5OZXRTaW1EbnNNb2RlQ29udHJvbC5wcm90b3R5cGUuc2V0RG5zTW9kZSA9IGZ1bmN0aW9uIChuZXdEbnNNb2RlKSB7XG4gIHRoaXMuY3VycmVudERuc01vZGVfID0gbmV3RG5zTW9kZTtcbiAgdGhpcy5kbnNNb2RlUmFkaW9zX1xuICAgICAgLmZpbHRlcignW3ZhbHVlPVwiJyArIG5ld0Ruc01vZGUgKyAnXCJdJylcbiAgICAgIC5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG59O1xuIiwibW9kdWxlLmV4cG9ydHM9IChmdW5jdGlvbigpIHtcbiAgdmFyIHQgPSBmdW5jdGlvbiBhbm9ueW1vdXMobG9jYWxzLCBmaWx0ZXJzLCBlc2NhcGVcbi8qKi8pIHtcbmVzY2FwZSA9IGVzY2FwZSB8fCBmdW5jdGlvbiAoaHRtbCl7XG4gIHJldHVybiBTdHJpbmcoaHRtbClcbiAgICAucmVwbGFjZSgvJig/IVxcdys7KS9nLCAnJmFtcDsnKVxuICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcbiAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpXG4gICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKTtcbn07XG52YXIgYnVmID0gW107XG53aXRoIChsb2NhbHMgfHwge30pIHsgKGZ1bmN0aW9uKCl7IFxuIGJ1Zi5wdXNoKCcnKTsxO1xuICB2YXIgRG5zTW9kZSA9IHJlcXVpcmUoJy4vTmV0U2ltQ29uc3RhbnRzJykuRG5zTW9kZTtcbiAgdmFyIGkxOG4gPSByZXF1aXJlKCcuL2xvY2FsZScpO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge2V4cG9ydHMuRG5zTW9kZX0gbW9kZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGFiZWxcbiAgICovXG4gIGZ1bmN0aW9uIG1ha2VSYWRpbyhtb2RlLCBsYWJlbCkge1xuICAgIDsgYnVmLnB1c2goJ1xcbiAgICA8ZGl2IGNsYXNzPVwiZG5zX21vZGVfJywgZXNjYXBlKCgxMSwgIG1vZGUgKSksICdcIj5cXG4gICAgICA8aW5wdXQgaWQ9XCJkbnNfbW9kZV8nLCBlc2NhcGUoKDEyLCAgbW9kZSApKSwgJ1wiXFxuICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXFxuICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkbnNfbW9kZVwiXFxuICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiJywgZXNjYXBlKCgxNSwgIG1vZGUgKSksICdcIiAvPlxcbiAgICAgIDxsYWJlbCBmb3I9XCJkbnNfbW9kZV8nLCBlc2NhcGUoKDE2LCAgbW9kZSApKSwgJ1wiPicsIGVzY2FwZSgoMTYsICBsYWJlbCApKSwgJzwvbGFiZWw+XFxuICAgIDwvZGl2PlxcbiAgICAnKTsxODtcbiAgfVxuOyBidWYucHVzaCgnXFxuPGRpdiBjbGFzcz1cImRucy1tb2RlLWNvbnRyb2xcIj5cXG4gIDxoMT4nLCBlc2NhcGUoKDIyLCAgaTE4bi5kbnNNb2RlKCkgKSksICc8L2gxPlxcbiAgJyk7MjM7IG1ha2VSYWRpbyhEbnNNb2RlLk5PTkUsIGkxOG4uZG5zTW9kZV9OT05FKCkpOyA7IGJ1Zi5wdXNoKCdcXG4gICcpOzI0OyBtYWtlUmFkaW8oRG5zTW9kZS5NQU5VQUwsIGkxOG4uZG5zTW9kZV9NQU5VQUwoKSk7IDsgYnVmLnB1c2goJ1xcbiAgJyk7MjU7IG1ha2VSYWRpbyhEbnNNb2RlLkFVVE9NQVRJQywgaTE4bi5kbnNNb2RlX0FVVE9NQVRJQygpKTsgOyBidWYucHVzaCgnXFxuPC9kaXY+XFxuJyk7IH0pKCk7XG59IFxucmV0dXJuIGJ1Zi5qb2luKCcnKTtcbn07XG4gIHJldHVybiBmdW5jdGlvbihsb2NhbHMpIHtcbiAgICByZXR1cm4gdChsb2NhbHMsIHJlcXVpcmUoXCJlanNcIikuZmlsdGVycyk7XG4gIH1cbn0oKSk7IiwiLyoqXG4gKiBAb3ZlcnZpZXcgVUkgYnV0dG9uIHVzZWQgYmVjb21lIHRoZSBjdXJyZW50IEROUyBub2RlIGluIG1hbnVhbCBETlMgbW9kZS5cbiAqL1xuLy8gU3RyaWN0IGxpbnRpbmc6IEFic29yYiBpbnRvIGdsb2JhbCBjb25maWcgd2hlbiBwb3NzaWJsZVxuLyoganNoaW50XG4gdW51c2VkOiB0cnVlLFxuIGVxZXFlcTogdHJ1ZSxcbiBtYXhsZW46IDEyMFxuICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBtYXJrdXAgPSByZXF1aXJlKCcuL05ldFNpbURuc01hbnVhbENvbnRyb2wuaHRtbC5lanMnKTtcblxuLyoqXG4gKiBHZW5lcmF0b3IgYW5kIGNvbnRyb2xsZXIgZm9yIEROUyBtb2RlIHNlbGVjdG9yXG4gKiBAcGFyYW0ge2pRdWVyeX0gcm9vdERpdlxuICogQHBhcmFtIHtmdW5jdGlvbn0gYmVjb21lRG5zQ2FsbGJhY2tcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgTmV0U2ltRG5zTWFudWFsQ29udHJvbCA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHJvb3REaXYsXG4gICAgYmVjb21lRG5zQ2FsbGJhY2spIHtcbiAgLyoqXG4gICAqIENvbXBvbmVudCByb290LCB3aGljaCB3ZSBmaWxsIHdoZW5ldmVyIHdlIGNhbGwgcmVuZGVyKClcbiAgICogQHR5cGUge2pRdWVyeX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucm9vdERpdl8gPSByb290RGl2O1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7ZnVuY3Rpb259XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmJlY29tZURuc0NhbGxiYWNrXyA9IGJlY29tZURuc0NhbGxiYWNrO1xuXG4gIHRoaXMucmVuZGVyKCk7XG59O1xuXG4vKipcbiAqIEZpbGwgdGhlIHJvb3QgZGl2IHdpdGggbmV3IGVsZW1lbnRzIHJlZmxlY3RpbmcgdGhlIGN1cnJlbnQgc3RhdGVcbiAqL1xuTmV0U2ltRG5zTWFudWFsQ29udHJvbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcmVuZGVyZWRNYXJrdXAgPSAkKG1hcmt1cCh7fSkpO1xuICB0aGlzLnJvb3REaXZfLmh0bWwocmVuZGVyZWRNYXJrdXApO1xuICB0aGlzLnJvb3REaXZfLmZpbmQoJ2lucHV0W3R5cGU9XCJidXR0b25cIl0nKS5jbGljayhcbiAgICAgIHRoaXMub25CZWNvbWVEbnNCdXR0b25DbGlja18uYmluZCh0aGlzKSk7XG59O1xuXG4vKipcbiAqIEhhbmRsZXIgZm9yIGJ1dHRvbiBjbGljay5cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbURuc01hbnVhbENvbnRyb2wucHJvdG90eXBlLm9uQmVjb21lRG5zQnV0dG9uQ2xpY2tfID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmJlY29tZURuc0NhbGxiYWNrXygpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzRG5zTm9kZVxuICovXG5OZXRTaW1EbnNNYW51YWxDb250cm9sLnByb3RvdHlwZS5zZXRJc0Ruc05vZGUgPSBmdW5jdGlvbiAoaXNEbnNOb2RlKSB7XG4gIHRoaXMucm9vdERpdl8uZmluZCgnaW5wdXRbdHlwZT1cImJ1dHRvblwiXScpLmF0dHIoJ2Rpc2FibGVkJywgaXNEbnNOb2RlKTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cz0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdCA9IGZ1bmN0aW9uIGFub255bW91cyhsb2NhbHMsIGZpbHRlcnMsIGVzY2FwZVxuLyoqLykge1xuZXNjYXBlID0gZXNjYXBlIHx8IGZ1bmN0aW9uIChodG1sKXtcbiAgcmV0dXJuIFN0cmluZyhodG1sKVxuICAgIC5yZXBsYWNlKC8mKD8hXFx3KzspL2csICcmYW1wOycpXG4gICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpO1xufTtcbnZhciBidWYgPSBbXTtcbndpdGggKGxvY2FscyB8fCB7fSkgeyAoZnVuY3Rpb24oKXsgXG4gYnVmLnB1c2goJzxkaXYgY2xhc3M9XCJuZXRzaW1fZG5zX21hbnVhbF9jb250cm9sXCI+XFxuICA8aDE+TWFudWFsIENvbnRyb2w8L2gxPlxcbiAgPGlucHV0IGlkPVwiYmVjb21lX2Ruc19idXR0b25cIiB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJUYWtlIG92ZXIgYXMgRE5TXCIgLz5cXG48L2Rpdj4nKTsgfSkoKTtcbn0gXG5yZXR1cm4gYnVmLmpvaW4oJycpO1xufTtcbiAgcmV0dXJuIGZ1bmN0aW9uKGxvY2Fscykge1xuICAgIHJldHVybiB0KGxvY2FscywgcmVxdWlyZShcImVqc1wiKS5maWx0ZXJzKTtcbiAgfVxufSgpKTsiLCIvKipcbiAqIEBvdmVydmlldyBTaW11bGF0ZWQgY2xpZW50IG5vZGUuXG4gKi9cbi8vIFN0cmljdCBsaW50aW5nOiBBYnNvcmIgaW50byBnbG9iYWwgY29uZmlnIHdoZW4gcG9zc2libGVcbi8qIGpzaGludFxuIHVudXNlZDogdHJ1ZSxcbiBlcWVxZXE6IHRydWUsXG4gbWF4bGVuOiAxMjBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xudmFyIF8gPSB1dGlscy5nZXRMb2Rhc2goKTtcbnZhciBpMThuID0gcmVxdWlyZSgnLi9sb2NhbGUnKTtcbnZhciBOb2RlVHlwZSA9IHJlcXVpcmUoJy4vTmV0U2ltQ29uc3RhbnRzJykuTm9kZVR5cGU7XG52YXIgTmV0U2ltRW50aXR5ID0gcmVxdWlyZSgnLi9OZXRTaW1FbnRpdHknKTtcbnZhciBOZXRTaW1Ob2RlID0gcmVxdWlyZSgnLi9OZXRTaW1Ob2RlJyk7XG52YXIgTmV0U2ltV2lyZSA9IHJlcXVpcmUoJy4vTmV0U2ltV2lyZScpO1xuXG4vKipcbiAqIENsaWVudCBtb2RlbCBvZiBzaW11bGF0ZWQgbm9kZVxuICpcbiAqIFJlcHJlc2VudHMgdGhlIGNsaWVudCdzIHZpZXcgb2YgYSBub2RlIHRoYXQgaXMgY29udHJvbGxlZCBieSBhIHVzZXIgY2xpZW50LFxuICogZWl0aGVyIGJ5IG91ciBvd24gY2xpZW50IG9yIHNvbWVib2R5IGVsc2Uncy4gIElzIGEgTmV0U2ltRW50aXR5LCBtZWFuaW5nXG4gKiBpdCB3cmFwcyBhIHJvdyBpbiB0aGUgbm9kZSB0YWJsZSBhbmQgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBhcm91bmQgaXQuXG4gKlxuICogWW91IG1heSBiZSBsb29raW5nIGZvciBOZXRTaW1Mb2NhbENsaWVudE5vZGUgaWYgeW91J3JlIHRyeWluZyB0byBtYW5pcHVsYXRlXG4gKiB5b3VyIGxvY2FsIGNsaWVudCBub2RlLlxuICpcbiAqIEBwYXJhbSB7IU5ldFNpbVNoYXJkfSBzaGFyZFxuICogQHBhcmFtIHtPYmplY3R9IFtjbGllbnRSb3ddIC0gTG9iYnkgcm93IGZvciB0aGlzIHJvdXRlci5cbiAqIEBjb25zdHJ1Y3RvclxuICogQGF1Z21lbnRzIE5ldFNpbU5vZGVcbiAqL1xudmFyIE5ldFNpbUNsaWVudE5vZGUgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzaGFyZCwgY2xpZW50Um93KSB7XG4gIE5ldFNpbU5vZGUuY2FsbCh0aGlzLCBzaGFyZCwgY2xpZW50Um93KTtcbn07XG5OZXRTaW1DbGllbnROb2RlLmluaGVyaXRzKE5ldFNpbU5vZGUpO1xuXG4vKiogQGluaGVyaXRkb2MgKi9cbk5ldFNpbUNsaWVudE5vZGUucHJvdG90eXBlLmdldE5vZGVUeXBlID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gTm9kZVR5cGUuQ0xJRU5UO1xufTtcblxuLyoqIEBpbmhlcml0ZG9jICovXG5OZXRTaW1DbGllbnROb2RlLnByb3RvdHlwZS5nZXRTdGF0dXMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBvdXRnb2luZ1dpcmUgPSB0aGlzLmdldE91dGdvaW5nV2lyZSgpO1xuICBpZiAoIW91dGdvaW5nV2lyZSkge1xuICAgIHJldHVybiBpMThuLm5vdENvbm5lY3RlZCgpO1xuICB9XG5cbiAgLy8gR2V0IHJlbW90ZSBub2RlIGZvciBkaXNwbGF5IG5hbWUgLyBob3N0bmFtZVxuICB2YXIgY2FjaGVkTm9kZVJvd3MgPSB0aGlzLnNoYXJkXy5ub2RlVGFibGUucmVhZEFsbCgpO1xuICB2YXIgcmVtb3RlTm9kZVJvdyA9IF8uZmluZChjYWNoZWROb2RlUm93cywgZnVuY3Rpb24gKG5vZGVSb3cpIHtcbiAgICByZXR1cm4gbm9kZVJvdy5pZCA9PT0gb3V0Z29pbmdXaXJlLnJlbW90ZU5vZGVJRDtcbiAgfSk7XG5cbiAgdmFyIHJlbW90ZU5vZGVOYW1lID0gaTE4bi51bmtub3duTm9kZSgpO1xuICBpZiAocmVtb3RlTm9kZVJvdykge1xuICAgIHJlbW90ZU5vZGVOYW1lID0gcmVtb3RlTm9kZVJvdy5uYW1lO1xuICB9XG5cbiAgLy8gQ2hlY2sgZm9yIGNvbm5lY3Rpb24gc3RhdGVcbiAgdmFyIG11dHVhbENvbm5lY3Rpb247XG4gIGlmIChyZW1vdGVOb2RlUm93ICYmIHJlbW90ZU5vZGVSb3cudHlwZSA9PT0gTm9kZVR5cGUuUk9VVEVSKSB7XG4gICAgbXV0dWFsQ29ubmVjdGlvbiA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNhY2hlZFdpcmVSb3dzID0gdGhpcy5zaGFyZF8ud2lyZVRhYmxlLnJlYWRBbGwoKTtcbiAgICBtdXR1YWxDb25uZWN0aW9uID0gY2FjaGVkV2lyZVJvd3Muc29tZShmdW5jdGlvbiAod2lyZVJvdykge1xuICAgICAgcmV0dXJuIHdpcmVSb3cubG9jYWxOb2RlSUQgPT09IG91dGdvaW5nV2lyZS5yZW1vdGVOb2RlSUQgJiZcbiAgICAgICAgICB3aXJlUm93LnJlbW90ZU5vZGVJRCA9PT0gb3V0Z29pbmdXaXJlLmxvY2FsTm9kZUlEO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKG11dHVhbENvbm5lY3Rpb24pIHtcbiAgICByZXR1cm4gaTE4bi5jb25uZWN0ZWRUb05vZGVOYW1lKHtub2RlTmFtZTpyZW1vdGVOb2RlTmFtZX0pO1xuICB9XG4gIHJldHVybiBpMThuLmNvbm5lY3RpbmdUb05vZGVOYW1lKHtub2RlTmFtZTpyZW1vdGVOb2RlTmFtZX0pO1xufTtcblxuLyoqIEBpbmhlcml0ZG9jICovXG5OZXRTaW1DbGllbnROb2RlLnByb3RvdHlwZS5pc0Z1bGwgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBvdXRnb2luZ1dpcmUgPSB0aGlzLmdldE91dGdvaW5nV2lyZSgpO1xuICBpZiAoIW91dGdvaW5nV2lyZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgY2FjaGVkV2lyZVJvd3MgPSB0aGlzLnNoYXJkXy53aXJlVGFibGUucmVhZEFsbCgpO1xuICByZXR1cm4gY2FjaGVkV2lyZVJvd3Muc29tZShmdW5jdGlvbiAod2lyZVJvdykge1xuICAgIHJldHVybiB3aXJlUm93LmxvY2FsTm9kZUlEID09PSBvdXRnb2luZ1dpcmUucmVtb3RlTm9kZUlEICYmXG4gICAgICAgIHdpcmVSb3cucmVtb3RlTm9kZUlEID09PSBvdXRnb2luZ1dpcmUubG9jYWxOb2RlSUQ7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgd2hhdCBhZGRyZXNzIGhhcyBiZWVuIGFzc2lnbmVkIHRvIHRoaXMgY2xpZW50IG9uIGl0cyBvdXRnb2luZ1xuICogd2lyZS5cbiAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfVxuICovXG5OZXRTaW1DbGllbnROb2RlLnByb3RvdHlwZS5nZXRBZGRyZXNzID0gZnVuY3Rpb24gKCkge1xuICB2YXIgd2lyZSA9IHRoaXMuZ2V0T3V0Z29pbmdXaXJlKCk7XG4gIGlmICghd2lyZSkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIHdpcmUubG9jYWxBZGRyZXNzO1xufTtcblxuLyoqXG4gKiBCYXNlZCBvbiBjYWNoZWQgd2lyZSBkYXRhLCByZXRyaWV2ZSB0aGlzIG5vZGUncyBvdXRnb2luZyB3aXJlLlxuICogQHJldHVybnMge05ldFNpbVdpcmV8bnVsbH0gbnVsbCBpZiB3aXJlIGRvZXMgbm90IGV4aXN0LlxuICovXG5OZXRTaW1DbGllbnROb2RlLnByb3RvdHlwZS5nZXRPdXRnb2luZ1dpcmUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBjYWNoZWRXaXJlUm93cyA9IHRoaXMuc2hhcmRfLndpcmVUYWJsZS5yZWFkQWxsKCk7XG4gIHZhciBvdXRnb2luZ1dpcmVSb3cgPSBfLmZpbmQoY2FjaGVkV2lyZVJvd3MsIGZ1bmN0aW9uICh3aXJlUm93KSB7XG4gICAgcmV0dXJuIHdpcmVSb3cubG9jYWxOb2RlSUQgPT09IHRoaXMuZW50aXR5SUQ7XG4gIH0sIHRoaXMpO1xuICBpZiAob3V0Z29pbmdXaXJlUm93KSB7XG4gICAgcmV0dXJuIG5ldyBOZXRTaW1XaXJlKHRoaXMuc2hhcmRfLCBvdXRnb2luZ1dpcmVSb3cpO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuLyoqXG4gKiBTdGF0aWMgYXN5bmMgcmV0cmlldmFsIG1ldGhvZC4gIFNlZSBOZXRTaW1FbnRpdHkuZ2V0KCkuXG4gKiBAcGFyYW0geyFudW1iZXJ9IG5vZGVJRCAtIFRoZSByb3cgSUQgZm9yIHRoZSBlbnRpdHkgeW91J2QgbGlrZSB0byBmaW5kLlxuICogQHBhcmFtIHshTmV0U2ltU2hhcmR9IHNoYXJkXG4gKiBAcGFyYW0geyFOb2RlU3R5bGVDYWxsYmFja30gb25Db21wbGV0ZSAtIE1ldGhvZCB0aGF0IHdpbGwgYmUgZ2l2ZW4gdGhlXG4gKiAgICAgICAgZm91bmQgZW50aXR5LCBvciBudWxsIGlmIGVudGl0eSBzZWFyY2ggZmFpbGVkLlxuICovXG5OZXRTaW1DbGllbnROb2RlLmdldCA9IGZ1bmN0aW9uIChub2RlSUQsIHNoYXJkLCBvbkNvbXBsZXRlKSB7XG4gIE5ldFNpbUVudGl0eS5nZXQoTmV0U2ltQ2xpZW50Tm9kZSwgbm9kZUlELCBzaGFyZCwgb25Db21wbGV0ZSk7XG59O1xuIiwiLyoqXG4gKiBAb3ZlcnZpZXcgQSBiYXNlIGNsYXNzIGZvciBhbGwgc2ltdWxhdGlvbiBub2RlIGVudGl0aWVzLlxuICovXG4vLyBTdHJpY3QgbGludGluZzogQWJzb3JiIGludG8gZ2xvYmFsIGNvbmZpZyB3aGVuIHBvc3NpYmxlXG4vKiBqc2hpbnRcbiB1bnVzZWQ6IHRydWUsXG4gZXFlcWVxOiB0cnVlLFxuIG1heGxlbjogMTIwXG4gKi9cbid1c2Ugc3RyaWN0JztcblxucmVxdWlyZSgnLi4vdXRpbHMnKTtcbnZhciBpMThuID0gcmVxdWlyZSgnLi9sb2NhbGUnKTtcbnZhciBOZXRTaW1FbnRpdHkgPSByZXF1aXJlKCcuL05ldFNpbUVudGl0eScpO1xudmFyIE5ldFNpbVdpcmUgPSByZXF1aXJlKCcuL05ldFNpbVdpcmUnKTtcblxuLyoqXG4gKiBDbGllbnQgbW9kZWwgb2Ygc2ltdWxhdGVkIG5ldHdvcmsgZW50aXR5LCB3aGljaCBsaXZlc1xuICogaW4gYSBzaGFyZCB0YWJsZS5cbiAqXG4gKiBXcmFwcyB0aGUgZW50aXR5IHJvdyB3aXRoIGhlbHBlciBtZXRob2RzIGZvciBleGFtaW5pbmcgYW5kIG1haW50YWluaW5nXG4gKiB0aGUgZW50aXR5IHN0YXRlIGluIHNoYXJlZCBzdG9yYWdlLlxuICpcbiAqIEBwYXJhbSB7IU5ldFNpbVNoYXJkfSBzaGFyZFxuICogQHBhcmFtIHtPYmplY3R9IFtub2RlUm93XSBKU09OIHJvdyBmcm9tIHRhYmxlLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXVnbWVudHMgTmV0U2ltRW50aXR5XG4gKi9cbnZhciBOZXRTaW1Ob2RlID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoc2hhcmQsIG5vZGVSb3cpIHtcbiAgbm9kZVJvdyA9IG5vZGVSb3cgIT09IHVuZGVmaW5lZCA/IG5vZGVSb3cgOiB7fTtcbiAgTmV0U2ltRW50aXR5LmNhbGwodGhpcywgc2hhcmQsIG5vZGVSb3cpO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5kaXNwbGF5TmFtZV8gPSBub2RlUm93Lm5hbWU7XG59O1xuTmV0U2ltTm9kZS5pbmhlcml0cyhOZXRTaW1FbnRpdHkpO1xuXG4vKipcbiAqIEdldCBzaGFyZWQgdGFibGUgZm9yIG5vZGVzXG4gKiBAcmV0dXJucyB7U2hhcmVkVGFibGV9XG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1Ob2RlLnByb3RvdHlwZS5nZXRUYWJsZT0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5zaGFyZF8ubm9kZVRhYmxlO1xufTtcblxuLyoqIEJ1aWxkIHRhYmxlIHJvdyBmb3IgdGhpcyBub2RlICovXG5OZXRTaW1Ob2RlLnByb3RvdHlwZS5idWlsZFJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiB0aGlzLmdldE5vZGVUeXBlKCksXG4gICAgbmFtZTogdGhpcy5nZXREaXNwbGF5TmFtZSgpXG4gIH07XG59O1xuXG4vKipcbiAqIEdldCBub2RlJ3MgZGlzcGxheSBuYW1lLCB3aGljaCBpcyBzdG9yZWQgaW4gdGFibGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5OZXRTaW1Ob2RlLnByb3RvdHlwZS5nZXREaXNwbGF5TmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuZGlzcGxheU5hbWVfID8gdGhpcy5kaXNwbGF5TmFtZV8gOiBpMThuLmRlZmF1bHROb2RlTmFtZSgpO1xufTtcblxuLyoqXG4gKiBHZXQgbm9kZSdzIHNob3J0IGRpc3BsYXkgbmFtZSwgd2hpY2ggaXMgdGhlIHNhbWUgYXMgdGhlIGRpc3BsYXkgbmFtZVxuICogYnV0IHRydW5jYXRlZCB0byB0aGUgZmlyc3Qgd29yZCBpZiBpdCdzIG92ZXIgYSBjZXJ0YWluIGxlbmd0aC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbk5ldFNpbU5vZGUucHJvdG90eXBlLmdldFNob3J0RGlzcGxheU5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIElmIHRoZSBuYW1lIGlzIGxvbmdlciB0aGFuIHRlbiBjaGFyYWN0ZXJzIChsb25nZXIgdGhhbiBcIlJvdXRlciA5OTlcIilcbiAgLy8gdGhlbiBvbmx5IHNob3cgdXAgdG8gdGhlIGZpcnN0IHdoaXRlc3BhY2UuXG4gIHZhciBzaG9ydE5hbWUgPSB0aGlzLmdldERpc3BsYXlOYW1lKCk7XG4gIGlmIChzaG9ydE5hbWUubGVuZ3RoID4gMTApIHtcbiAgICBzaG9ydE5hbWUgPSBzaG9ydE5hbWUuc3BsaXQoL1xccy8pWzBdO1xuICB9XG4gIHJldHVybiBzaG9ydE5hbWU7XG59O1xuXG4vKipcbiAqIEdldCBub2RlJ3MgaG9zdG5hbWUsIGEgbW9kaWZpZWQgdmVyc2lvbiBvZiBpdHMgZGlzcGxheSBuYW1lLlxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuTmV0U2ltTm9kZS5wcm90b3R5cGUuZ2V0SG9zdG5hbWUgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFN0cmlwIGV2ZXJ5dGhpbmcgdGhhdCdzIG5vdCBhIHdvcmQtY2hhcmFjdGVyIG9yIGEgZGlnaXQgZnJvbSB0aGUgZGlzcGxheVxuICAvLyBuYW1lLCB0aGVuIGFwcGVuZCB0aGUgbm9kZSBJRCBzbyB0aGF0IGhvc3RuYW1lcyBhcmUgbW9yZSBsaWtlbHkgdG9cbiAgLy8gYmUgdW5pcXVlLlxuICByZXR1cm4gdGhpcy5nZXRTaG9ydERpc3BsYXlOYW1lKCkucmVwbGFjZSgvW15cXHdcXGRdL2csICcnKS50b0xvd2VyQ2FzZSgpICtcbiAgICAgIHRoaXMuZW50aXR5SUQ7XG59O1xuXG4vKipcbiAqIEdldCBub2RlJ3MgdHlwZS5cbiAqIEByZXR1cm5zIHtOb2RlVHlwZX1cbiAqL1xuTmV0U2ltTm9kZS5wcm90b3R5cGUuZ2V0Tm9kZVR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gIHRocm93IG5ldyBFcnJvcignZ2V0Tm9kZVR5cGUgbWV0aG9kIGlzIG5vdCBpbXBsZW1lbnRlZCcpO1xufTtcblxuLyoqXG4gKiBHZXQgbG9jYWxpemVkIGRlc2NyaXB0aW9uIG9mIG5vZGUgc3RhdHVzLlxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuTmV0U2ltTm9kZS5wcm90b3R5cGUuZ2V0U3RhdHVzID0gZnVuY3Rpb24gKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ2dldFN0YXR1cyBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkJyk7XG59O1xuXG4vKipcbiAqIFdoZXRoZXIgb3Igbm90IHRoaXMgbm9kZSBjYW4gYWNjZXB0IGFueSBtb3JlIGNvbm5lY3Rpb25zXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTmV0U2ltTm9kZS5wcm90b3R5cGUuaXNGdWxsID0gZnVuY3Rpb24gKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ2lzRnVsbCBtZXRob2QgaXMgbm90IGltcGxlbWVudGVkJyk7XG59O1xuXG4vKipcbiAqIEVzdGFibGlzaCBhIGNvbm5lY3Rpb24gYmV0d2VlbiB0aGlzIG5vZGUgYW5kIGFub3RoZXIgbm9kZSxcbiAqIGJ5IGNyZWF0aW5nIGEgd2lyZSBiZXR3ZWVuIHRoZW0sIGFuZCB2ZXJpZnlpbmcgdGhhdCB0aGUgcmVtb3RlIG5vZGVcbiAqIGNhbiBhY2NlcHQgdGhlIGNvbm5lY3Rpb24uXG4gKiBXaGVuIGZpbmlzaGVkLCBjYWxscyBvbkNvbXBsZXRlKHt0aGUgbmV3IHdpcmV9KVxuICogT24gZmFpbHVyZSwgY2FsbHMgb25Db21wbGV0ZShudWxsKVxuICogQHBhcmFtIHshTmV0U2ltTm9kZX0gb3RoZXJOb2RlXG4gKiBAcGFyYW0ge05vZGVTdHlsZUNhbGxiYWNrfSBbb25Db21wbGV0ZV1cbiAqL1xuTmV0U2ltTm9kZS5wcm90b3R5cGUuY29ubmVjdFRvTm9kZSA9IGZ1bmN0aW9uIChvdGhlck5vZGUsIG9uQ29tcGxldGUpIHtcbiAgb25Db21wbGV0ZSA9IG9uQ29tcGxldGUgfHwgZnVuY3Rpb24gKCkge307XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBOZXRTaW1XaXJlLmNyZWF0ZSh0aGlzLnNoYXJkXyxcbiAgICAgIHRoaXMubWFrZVdpcmVSb3dGb3JDb25uZWN0aW5nVG8ob3RoZXJOb2RlKSxcbiAgICAgIGZ1bmN0aW9uIChlcnIsIHdpcmUpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIG9uQ29tcGxldGUoZXJyLCBudWxsKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBvdGhlck5vZGUuYWNjZXB0Q29ubmVjdGlvbihzZWxmLCBmdW5jdGlvbiAoZXJyLCBpc0FjY2VwdGVkKSB7XG4gICAgICAgICAgaWYgKGVyciB8fCAhaXNBY2NlcHRlZCkge1xuICAgICAgICAgICAgd2lyZS5kZXN0cm95KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgb25Db21wbGV0ZShuZXcgRXJyb3IoJ0Nvbm5lY3Rpb24gcmVqZWN0ZWQ6ICcgKyBlcnIubWVzc2FnZSksIG51bGwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgb25Db21wbGV0ZShudWxsLCB3aXJlKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbn07XG5cbi8qKlxuICogQ3JlYXRlIGFuIGFwcHJvcHJpYXRlIGluaXRpYWwgd2lyZSByb3cgZm9yIGNvbm5lY3RpbmcgdG8gdGhlIGdpdmVuIG5vZGUuXG4gKiBAcGFyYW0geyFOZXRTaW1Ob2RlfSBvdGhlck5vZGVcbiAqIEByZXR1cm5zIHtXaXJlUm93fVxuICovXG5OZXRTaW1Ob2RlLnByb3RvdHlwZS5tYWtlV2lyZVJvd0ZvckNvbm5lY3RpbmdUbyA9IGZ1bmN0aW9uIChvdGhlck5vZGUpIHtcbiAgcmV0dXJuIHtcbiAgICBsb2NhbE5vZGVJRDogdGhpcy5lbnRpdHlJRCxcbiAgICByZW1vdGVOb2RlSUQ6IG90aGVyTm9kZS5lbnRpdHlJRFxuICB9O1xufTtcblxuLyoqXG4gKiBDYWxsZWQgd2hlbiBhbm90aGVyIG5vZGUgZXN0YWJsaXNoZXMgYSBjb25uZWN0aW9uIHRvIHRoaXMgb25lLCBnaXZpbmcgdGhpc1xuICogbm9kZSBhIGNoYW5jZSB0byByZWplY3QgdGhlIGNvbm5lY3Rpb24uXG4gKiBAcGFyYW0geyFOZXRTaW1Ob2RlfSBvdGhlck5vZGUgYXR0ZW1wdGluZyB0byBjb25uZWN0IHRvIHRoaXMgb25lXG4gKiBAcGFyYW0geyFOb2RlU3R5bGVDYWxsYmFja30gb25Db21wbGV0ZSByZXNwb25zZSBtZXRob2QgLSBzaG91bGQgY2FsbCB3aXRoIFRSVUVcbiAqICAgICAgICBpZiBjb25uZWN0aW9uIGlzIGFsbG93ZWQsIEZBTFNFIGlmIGNvbm5lY3Rpb24gaXMgcmVqZWN0ZWQuXG4gKi9cbk5ldFNpbU5vZGUucHJvdG90eXBlLmFjY2VwdENvbm5lY3Rpb24gPSBmdW5jdGlvbiAob3RoZXJOb2RlLCBvbkNvbXBsZXRlKSB7XG4gIG9uQ29tcGxldGUobnVsbCwgdHJ1ZSk7XG59O1xuIiwiLyoqXG4gKiBAb3ZlcnZpZXcgU2ltdWxhdGlvbiBFbnRpdHk6IEEgY29ubmVjdGlvbiBiZXR3ZWVuIHR3byBub2RlcyBhbmQgcmVsYXRlZFxuICogICAgICAgICAgIG1ldGFkYXRhLlxuICovXG4vLyBTdHJpY3QgbGludGluZzogQWJzb3JiIGludG8gZ2xvYmFsIGNvbmZpZyB3aGVuIHBvc3NpYmxlXG4vKiBqc2hpbnRcbiB1bnVzZWQ6IHRydWUsXG4gZXFlcWVxOiB0cnVlLFxuIG1heGxlbjogMTIwXG4gKi9cbid1c2Ugc3RyaWN0JztcblxucmVxdWlyZSgnLi4vdXRpbHMnKTtcbnZhciBOZXRTaW1FbnRpdHkgPSByZXF1aXJlKCcuL05ldFNpbUVudGl0eScpO1xudmFyIEFyZ3VtZW50VXRpbHMgPSByZXF1aXJlKCcuL0FyZ3VtZW50VXRpbHMnKTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBXaXJlUm93XG4gKiBAcHJvcGVydHkgeyFudW1iZXJ9IGxvY2FsTm9kZUlEXG4gKiBAcHJvcGVydHkgeyFudW1iZXJ9IHJlbW90ZU5vZGVJRFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGxvY2FsQWRkcmVzc1xuICogQHByb3BlcnR5IHtzdHJpbmd9IHJlbW90ZUFkZHJlc3NcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBsb2NhbEhvc3RuYW1lXG4gKiBAcHJvcGVydHkge3N0cmluZ30gcmVtb3RlSG9zdG5hbWVcbiAqL1xuXG4vKipcbiAqIExvY2FsIGNvbnRyb2xsZXIgZm9yIGEgc2ltdWxhdGVkIGNvbm5lY3Rpb24gYmV0d2VlbiBub2RlcyxcbiAqIHdoaWNoIGlzIHN0b3JlZCBpbiB0aGUgd2lyZSB0YWJsZSBvbiB0aGUgc2hhcmQuICBUaGUgY29udHJvbGxlciBjYW5cbiAqIGJlIGluaXRpYWxpemVkIHdpdGggdGhlIEpTT04gcm93IGZyb20gdGhlIHRhYmxlLCBlZmZlY3RpdmVseSB3cmFwcGluZyB0aGF0XG4gKiBkYXRhIGluIGhlbHBmdWwgbWV0aG9kcy5cbiAqXG4gKiBAcGFyYW0geyFOZXRTaW1TaGFyZH0gc2hhcmQgLSBUaGUgc2hhcmQgd2hlcmUgdGhpcyB3aXJlIGxpdmVzLlxuICogQHBhcmFtIHtXaXJlUm93fSBbd2lyZVJvd10gLSBBIHJvdyBvdXQgb2YgdGhlIF93aXJlIHRhYmxlIG9uIHRoZSBzaGFyZC5cbiAqICAgICAgICBJZiBwcm92aWRlZCwgd2lsbCBpbml0aWFsaXplIHRoaXMgd2lyZSB3aXRoIHRoZSBnaXZlbiBkYXRhLiAgSWYgbm90LFxuICogICAgICAgIHRoaXMgd2lyZSB3aWxsIGluaXRpYWxpemUgdG8gZGVmYXVsdCB2YWx1ZXMuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhdWdtZW50cyBOZXRTaW1FbnRpdHlcbiAqL1xudmFyIE5ldFNpbVdpcmUgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzaGFyZCwgd2lyZVJvdykge1xuICB3aXJlUm93ID0gd2lyZVJvdyAhPT0gdW5kZWZpbmVkID8gd2lyZVJvdyA6IHt9O1xuICBOZXRTaW1FbnRpdHkuY2FsbCh0aGlzLCBzaGFyZCwgd2lyZVJvdyk7XG5cbiAgLyoqXG4gICAqIENvbm5lY3RlZCBub2RlIHJvdyBJRHMgd2l0aGluIHRoZSBfbG9iYnkgdGFibGVcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMubG9jYWxOb2RlSUQgPSB3aXJlUm93LmxvY2FsTm9kZUlEO1xuICAvKiogQHR5cGUge251bWJlcn0gKi9cbiAgdGhpcy5yZW1vdGVOb2RlSUQgPSB3aXJlUm93LnJlbW90ZU5vZGVJRDtcblxuICAvKipcbiAgICogQXNzaWduZWQgbG9jYWwgYWRkcmVzc2VzIGZvciB0aGUgZW5kcyBvZiB0aGlzIHdpcmUuXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICB0aGlzLmxvY2FsQWRkcmVzcyA9IHdpcmVSb3cubG9jYWxBZGRyZXNzO1xuICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgdGhpcy5yZW1vdGVBZGRyZXNzID0gd2lyZVJvdy5yZW1vdGVBZGRyZXNzO1xuXG4gIC8qKlxuICAgKiBEaXNwbGF5IGhvc3RuYW1lcyBmb3IgdGhlIGVuZHMgb2YgdGhpcyB3aXJlLlxuICAgKiBHZW5lcmFsbHksIGVhY2ggZW5kcG9pbnQgc2hvdWxkIHNldCBpdHMgb3duIGhvc3RuYW1lLlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKi9cbiAgdGhpcy5sb2NhbEhvc3RuYW1lID0gd2lyZVJvdy5sb2NhbEhvc3RuYW1lO1xuICAvKiogQHR5cGUge3N0cmluZ30gKi9cbiAgdGhpcy5yZW1vdGVIb3N0bmFtZSA9IHdpcmVSb3cucmVtb3RlSG9zdG5hbWU7XG59O1xuTmV0U2ltV2lyZS5pbmhlcml0cyhOZXRTaW1FbnRpdHkpO1xuXG4vKipcbiAqIFN0YXRpYyBhc3luYyBjcmVhdGlvbiBtZXRob2QuICBTZWUgTmV0U2ltRW50aXR5LmNyZWF0ZSgpLlxuICogQHBhcmFtIHshTmV0U2ltU2hhcmR9IHNoYXJkXG4gKiBAcGFyYW0geyFXaXJlUm93fSBpbml0aWFsUm93XG4gKiBAcGFyYW0geyFOb2RlU3R5bGVDYWxsYmFja30gb25Db21wbGV0ZSAtIE1ldGhvZCB0aGF0IHdpbGwgYmUgZ2l2ZW4gdGhlXG4gKiAgICAgICAgY3JlYXRlZCBlbnRpdHksIG9yIG51bGwgaWYgZW50aXR5IGNyZWF0aW9uIGZhaWxlZC5cbiAqL1xuTmV0U2ltV2lyZS5jcmVhdGUgPSBmdW5jdGlvbiAoc2hhcmQsIGluaXRpYWxSb3csIG9uQ29tcGxldGUpIHtcbiAgQXJndW1lbnRVdGlscy52YWxpZGF0ZVJlcXVpcmVkKGluaXRpYWxSb3csIFwiaW5pdGlhbFJvd1wiKTtcbiAgQXJndW1lbnRVdGlscy52YWxpZGF0ZVJlcXVpcmVkKGluaXRpYWxSb3cubG9jYWxOb2RlSUQsIFwibG9jYWxOb2RlSURcIixcbiAgICAgIEFyZ3VtZW50VXRpbHMuaXNQb3NpdGl2ZU5vbmluZmluaXRlTnVtYmVyKTtcbiAgQXJndW1lbnRVdGlscy52YWxpZGF0ZVJlcXVpcmVkKGluaXRpYWxSb3cucmVtb3RlTm9kZUlELCBcInJlbW90ZU5vZGVJRFwiLFxuICAgICAgQXJndW1lbnRVdGlscy5pc1Bvc2l0aXZlTm9uaW5maW5pdGVOdW1iZXIpO1xuICB2YXIgZW50aXR5ID0gbmV3IE5ldFNpbVdpcmUoc2hhcmQsIGluaXRpYWxSb3cpO1xuICBlbnRpdHkuZ2V0VGFibGUoKS5jcmVhdGUoZW50aXR5LmJ1aWxkUm93KCksIGZ1bmN0aW9uIChlcnIsIHJvdykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIG9uQ29tcGxldGUoZXJyLCBudWxsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgb25Db21wbGV0ZShudWxsLCBuZXcgTmV0U2ltV2lyZShzaGFyZCwgcm93KSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBIZWxwZXIgdGhhdCBnZXRzIHRoZSB3aXJlcyB0YWJsZSBmb3IgdGhlIGNvbmZpZ3VyZWQgc2hhcmQuXG4gKiBAcmV0dXJucyB7TmV0U2ltVGFibGV9XG4gKi9cbk5ldFNpbVdpcmUucHJvdG90eXBlLmdldFRhYmxlID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5zaGFyZF8ud2lyZVRhYmxlO1xufTtcblxuLyoqXG4gKiBCdWlsZCBvd24gcm93IGZvciB0aGUgd2lyZSB0YWJsZVxuICogQHJldHVybnMge1dpcmVSb3d9XG4gKi9cbk5ldFNpbVdpcmUucHJvdG90eXBlLmJ1aWxkUm93ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge1xuICAgIGxvY2FsTm9kZUlEOiB0aGlzLmxvY2FsTm9kZUlELFxuICAgIHJlbW90ZU5vZGVJRDogdGhpcy5yZW1vdGVOb2RlSUQsXG4gICAgbG9jYWxBZGRyZXNzOiB0aGlzLmxvY2FsQWRkcmVzcyxcbiAgICByZW1vdGVBZGRyZXNzOiB0aGlzLnJlbW90ZUFkZHJlc3MsXG4gICAgbG9jYWxIb3N0bmFtZTogdGhpcy5sb2NhbEhvc3RuYW1lLFxuICAgIHJlbW90ZUhvc3RuYW1lOiB0aGlzLnJlbW90ZUhvc3RuYW1lXG4gIH07XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7TWVzc2FnZVJvd30gbWVzc2FnZVJvd1xuICogQHJldHVybnMge2Jvb2xlYW59IFRSVUUgaWYgdGhlIGdpdmVuIG1lc3NhZ2UgaXMgdHJhdmVsbGluZyBiZXR3ZWVuIHRoZSBub2Rlc1xuICogICAgICAgICAgdGhhdCB0aGlzIHdpcmUgY29ubmVjdHMsIGluIHRoZSB3aXJlJ3MgZGlyZWN0aW9uLlxuICovXG5OZXRTaW1XaXJlLnByb3RvdHlwZS5pc01lc3NhZ2VSb3dPbkR1cGxleFdpcmUgPSBmdW5jdGlvbiAobWVzc2FnZVJvdykge1xuICByZXR1cm4gdGhpcy5sb2NhbE5vZGVJRCA9PT0gbWVzc2FnZVJvdy5mcm9tTm9kZUlEICYmXG4gICAgICB0aGlzLnJlbW90ZU5vZGVJRCA9PT0gbWVzc2FnZVJvdy50b05vZGVJRDtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtNZXNzYWdlUm93fSBtZXNzYWdlUm93XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVFJVRSBpZiB0aGUgZ2l2ZW4gbWVzc2FnZSBpcyB0cmF2ZWxsaW5nIGJldHdlZW4gdGhlIG5vZGVzXG4gKiAgICAgICAgICB0aGF0IHRoaXMgd2lyZSBjb25uZWN0cywgaW4gZWl0aGVyIGRpcmVjdGlvbi5cbiAqL1xuTmV0U2ltV2lyZS5wcm90b3R5cGUuaXNNZXNzYWdlUm93T25TaW1wbGV4V2lyZSA9IGZ1bmN0aW9uIChtZXNzYWdlUm93KSB7XG4gIHZhciBvbldpcmUgPSB0aGlzLmlzTWVzc2FnZVJvd09uRHVwbGV4V2lyZShtZXNzYWdlUm93KTtcbiAgdmFyIG9uUmV2ZXJzZVdpcmUgPSB0aGlzLmxvY2FsTm9kZUlEID09PSBtZXNzYWdlUm93LnRvTm9kZUlEICYmXG4gICAgICB0aGlzLnJlbW90ZU5vZGVJRCA9PT0gbWVzc2FnZVJvdy5mcm9tTm9kZUlEO1xuICByZXR1cm4gb25XaXJlIHx8IG9uUmV2ZXJzZVdpcmU7XG59O1xuIiwiLyoqXG4gKiBAb3ZlcnZpZXcgYmFzZSBjbGFzcyBmb3IgYWxsIHNpbXVsYXRpb24gZW50aXRpZXMuXG4gKi9cbi8vIFN0cmljdCBsaW50aW5nOiBBYnNvcmIgaW50byBnbG9iYWwgY29uZmlnIHdoZW4gcG9zc2libGVcbi8qIGpzaGludFxuIHVudXNlZDogdHJ1ZSxcbiBlcWVxZXE6IHRydWUsXG4gbWF4bGVuOiAxMjBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENsaWVudCBtb2RlbCBvZiBzaW11bGF0ZWQgbmV0d29yayBlbnRpdHksIHdoaWNoIGxpdmVzIGluIGEgc2hhcmQgdGFibGUuXG4gKlxuICogV3JhcHMgdGhlIGVudGl0eSByb3cgd2l0aCBoZWxwZXIgbWV0aG9kcyBmb3IgZXhhbWluaW5nIGFuZCBtYWludGFpbmluZ1xuICogdGhlIGVudGl0eSBzdGF0ZSBpbiBzaGFyZWQgc3RvcmFnZS5cbiAqXG4gKiBAcGFyYW0geyFOZXRTaW1TaGFyZH0gc2hhcmRcbiAqIEBwYXJhbSB7T2JqZWN0fSBbZW50aXR5Um93XSBKU09OIHJvdyBmcm9tIHRhYmxlLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbnZhciBOZXRTaW1FbnRpdHkgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzaGFyZCwgZW50aXR5Um93KSB7XG4gIGlmIChlbnRpdHlSb3cgPT09IHVuZGVmaW5lZCkge1xuICAgIGVudGl0eVJvdyA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtOZXRTaW1TaGFyZH1cbiAgICogQHByb3RlY3RlZFxuICAgKi9cbiAgdGhpcy5zaGFyZF8gPSBzaGFyZDtcblxuICAvKipcbiAgICogTm9kZSdzIHJvdyBJRCB3aXRoaW4gdGhlIF9sb2JieSB0YWJsZS4gIFVuaXF1ZSB3aXRoaW4gaW5zdGFuY2UuXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqL1xuICB0aGlzLmVudGl0eUlEID0gZW50aXR5Um93LmlkO1xuXG4gIC8qKlxuICAgKiBOb2RlJ3MgVVVJRCBhc3NpZ25lZCB3aGVuIGl0IHdhcyBpbml0aWFsbHkgaW5zZXJ0ZWQgaW50byB0aGUgdGFibGUuXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqL1xuICB0aGlzLnV1aWQgPSBlbnRpdHlSb3cudXVpZDtcbn07XG5cbi8qKlxuICogU3RhdGljIGFzeW5jIGNyZWF0aW9uIG1ldGhvZC4gIENyZWF0ZXMgYSBuZXcgZW50aXR5IG9uIHRoZSBnaXZlbiBzaGFyZCxcbiAqIGFuZCB0aGVuIGNhbGxzIHRoZSBjYWxsYmFjayB3aXRoIGEgbG9jYWwgY29udHJvbGxlciBmb3IgdGhlIG5ldyBlbnRpdHkuXG4gKiBAcGFyYW0geyFmdW5jdGlvbn0gRW50aXR5VHlwZSAtIFRoZSBjb25zdHJ1Y3RvciBmb3IgdGhlIGVudGl0eSB0eXBlIHlvdSB3YW50XG4gKiAgICAgICAgdG8gY3JlYXRlLlxuICogQHBhcmFtIHshTmV0U2ltU2hhcmR9IHNoYXJkXG4gKiBAcGFyYW0geyFOb2RlU3R5bGVDYWxsYmFja30gb25Db21wbGV0ZSAtIE1ldGhvZCB0aGF0IHdpbGwgYmUgZ2l2ZW4gdGhlXG4gKiAgICAgICAgY3JlYXRlZCBlbnRpdHksIG9yIG51bGwgaWYgZW50aXR5IGNyZWF0aW9uIGZhaWxlZC5cbiAqL1xuTmV0U2ltRW50aXR5LmNyZWF0ZSA9IGZ1bmN0aW9uIChFbnRpdHlUeXBlLCBzaGFyZCwgb25Db21wbGV0ZSkge1xuICB2YXIgZW50aXR5ID0gbmV3IEVudGl0eVR5cGUoc2hhcmQpO1xuICBlbnRpdHkuZ2V0VGFibGUoKS5jcmVhdGUoZW50aXR5LmJ1aWxkUm93KCksIGZ1bmN0aW9uIChlcnIsIHJvdykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIG9uQ29tcGxldGUoZXJyLCBudWxsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25Db21wbGV0ZShudWxsLCBuZXcgRW50aXR5VHlwZShzaGFyZCwgcm93KSk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICogU3RhdGljIGFzeW5jIHJldHJpZXZhbCBtZXRob2QuICBTZWFyY2hlcyBmb3IgYSBuZXcgZW50aXR5IG9uIHRoZSBnaXZlblxuICogc2hhcmQsIGFuZCB0aGVuIGNhbGxzIHRoZSBjYWxsYmFjayB3aXRoIGEgbG9jYWwgY29udHJvbGxlciBmb3IgdGhlXG4gKiBmb3VuZCBlbnRpdHkuXG4gKiBAcGFyYW0geyFmdW5jdGlvbn0gRW50aXR5VHlwZSAtIFRoZSBjb25zdHJ1Y3RvciBmb3IgdGhlIGVudGl0eSB0eXBlIHlvdSB3YW50XG4gKiAgICAgICAgdG8gZmluZC5cbiAqIEBwYXJhbSB7IW51bWJlcn0gZW50aXR5SUQgLSBUaGUgcm93IElEIGZvciB0aGUgZW50aXR5IHlvdSdkIGxpa2UgdG8gZmluZC5cbiAqIEBwYXJhbSB7IU5ldFNpbVNoYXJkfSBzaGFyZFxuICogQHBhcmFtIHshTm9kZVN0eWxlQ2FsbGJhY2t9IG9uQ29tcGxldGUgLSBNZXRob2QgdGhhdCB3aWxsIGJlIGdpdmVuIHRoZVxuICogICAgICAgIGZvdW5kIGVudGl0eSwgb3IgbnVsbCBpZiBlbnRpdHkgc2VhcmNoIGZhaWxlZC5cbiAqL1xuTmV0U2ltRW50aXR5LmdldCA9IGZ1bmN0aW9uIChFbnRpdHlUeXBlLCBlbnRpdHlJRCwgc2hhcmQsIG9uQ29tcGxldGUpIHtcbiAgdmFyIGVudGl0eSA9IG5ldyBFbnRpdHlUeXBlKHNoYXJkKTtcbiAgZW50aXR5LmdldFRhYmxlKCkucmVhZChlbnRpdHlJRCwgZnVuY3Rpb24gKGVyciwgcm93KSB7XG4gICAgaWYgKGVycikge1xuICAgICAgb25Db21wbGV0ZShlcnIsIG51bGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvbkNvbXBsZXRlKGVyciwgbmV3IEVudGl0eVR5cGUoc2hhcmQsIHJvdykpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKipcbiAqIFB1c2ggZW50aXR5IHN0YXRlIGludG8gcmVtb3RlIHN0b3JhZ2UuXG4gKiBAcGFyYW0ge05vZGVTdHlsZUNhbGxiYWNrfSBbb25Db21wbGV0ZV0gLSBPcHRpb25hbCBjb21wbGV0aW9uIGNhbGxiYWNrLlxuICovXG5OZXRTaW1FbnRpdHkucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChvbkNvbXBsZXRlKSB7XG4gIG9uQ29tcGxldGUgPSBvbkNvbXBsZXRlIHx8IGZ1bmN0aW9uICgpIHt9O1xuXG4gIHRoaXMuZ2V0VGFibGUoKS51cGRhdGUodGhpcy5lbnRpdHlJRCwgdGhpcy5idWlsZFJvdygpLCBvbkNvbXBsZXRlKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGVudGl0eSBmcm9tIHJlbW90ZSBzdG9yYWdlLlxuICogQHBhcmFtIHtOb2RlU3R5bGVDYWxsYmFja30gW29uQ29tcGxldGVdIC0gT3B0aW9uYWwgY29tcGxldGlvbiBjYWxsYmFja1xuICovXG5OZXRTaW1FbnRpdHkucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob25Db21wbGV0ZSkge1xuICBvbkNvbXBsZXRlID0gb25Db21wbGV0ZSB8fCBmdW5jdGlvbiAoKSB7fTtcblxuICB0aGlzLmdldFRhYmxlKCkuZGVsZXRlKHRoaXMuZW50aXR5SUQsIG9uQ29tcGxldGUpO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgZW50aXR5IGZyb20gcmVtb3RlIHN0b3JhZ2UsIHVzaW5nIGEgc3luY2hyb25vdXMgY2FsbC5cbiAqIEZvciB1c2Ugd2hlbiBuYXZpZ2F0aW5nIGF3YXkgZnJvbSB0aGUgcGFnZTsgb3RoZXJ3aXNlLCBhc3luYyB2ZXJzaW9uXG4gKiBpcyBwcmVmZXJyZWQuXG4gKiBAcmV0dXJucyB7RXJyb3J8bnVsbH0gZXJyb3IgaWYgZW50aXR5IGRlbGV0ZSBmYWlsc1xuICovXG5OZXRTaW1FbnRpdHkucHJvdG90eXBlLnN5bmNocm9ub3VzRGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuZ2V0VGFibGUoKS5zeW5jaHJvbm91c0RlbGV0ZSh0aGlzLmVudGl0eUlEKTtcbn07XG5cbi8qKiBHZXQgc3RvcmFnZSB0YWJsZSBmb3IgdGhpcyBlbnRpdHkgdHlwZS4gKi9cbk5ldFNpbUVudGl0eS5wcm90b3R5cGUuZ2V0VGFibGUgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBpbXBsZW1lbnRlZCBieSBhIGNoaWxkIGNsYXNzLlxuICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBnZXRUYWJsZSBpcyBub3QgaW1wbGVtZW50ZWQuJyk7XG59O1xuXG4vKiogQ29uc3RydWN0IHRhYmxlIHJvdyBmb3IgdGhpcyBlbnRpdHkuICovXG5OZXRTaW1FbnRpdHkucHJvdG90eXBlLmJ1aWxkUm93ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4ge307XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIGFsbCBwcm92aWRlZCBlbnRpdGllcyAoZnJvbSByZW1vdGUgc3RvcmFnZSkgYXN5bmNocm9ub3VzbHksIGFuZFxuICogY2FsbHMgb25Db21wbGV0ZSB3aGVuIGFsbCBlbnRpdGllcyBoYXZlIGJlZW4gZGVzdHJveWVkIGFuZC9vciBhbiBlcnJvciBvY2N1cnMuXG4gKiBAcGFyYW0ge05ldFNpbUVudGl0eVtdfSBlbnRpdGllc1xuICogQHBhcmFtIHshTm9kZVN0eWxlQ2FsbGJhY2t9IG9uQ29tcGxldGVcbiAqIEB0aHJvd3Mge0Vycm9yfSBpZiBhbGwgcGFzc2VkIGVudGl0aWVzIGRvIG5vdCBiZWxvbmcgdG8gdGhlIHNhbWUgdGFibGUuXG4gKi9cbk5ldFNpbUVudGl0eS5kZXN0cm95RW50aXRpZXMgPSBmdW5jdGlvbiAoZW50aXRpZXMsIG9uQ29tcGxldGUpIHtcbiAgaWYgKGVudGl0aWVzLmxlbmd0aCA9PT0gMCkge1xuICAgIG9uQ29tcGxldGUobnVsbCwgdHJ1ZSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHRhYmxlID0gZW50aXRpZXNbMF0uZ2V0VGFibGUoKTtcbiAgdmFyIGVudGl0eUlEcyA9IGVudGl0aWVzLm1hcChmdW5jdGlvbiAoZW50aXR5KSB7XG4gICAgaWYgKGVudGl0eS5nZXRUYWJsZSgpICE9PSB0YWJsZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZGVzdHJveUVudGl0aWVzIHJlcXVpcmVzIGFsbCBlbnRpdGllcyB0byBiZSBpbiB0aGUgc2FtZSB0YWJsZVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGVudGl0eS5lbnRpdHlJRDtcbiAgfSk7XG5cbiAgdGFibGUuZGVsZXRlTWFueShlbnRpdHlJRHMsIG9uQ29tcGxldGUpO1xufTtcbiIsIi8qKlxuICogQG92ZXJ2aWV3IFVJIHNsaWRlciB1c2VkIHRvIGNoYW5nZSB0aGUgbG9jYWwgZGV2aWNlJ3MgY2h1bmsgc2l6ZSwgd2hpY2hcbiAqICAgICAgICAgICBpcyB1c2VkIHdoZW4gaW50ZXJwcmV0aW5nIGJpbmFyeSB0byBvdGhlciBmb3JtYXRzLlxuICovXG4vLyBTdHJpY3QgbGludGluZzogQWJzb3JiIGludG8gZ2xvYmFsIGNvbmZpZyB3aGVuIHBvc3NpYmxlXG4vKiBqc2hpbnRcbiB1bnVzZWQ6IHRydWUsXG4gZXFlcWVxOiB0cnVlLFxuIG1heGxlbjogMTIwXG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIGkxOG4gPSByZXF1aXJlKCcuL2xvY2FsZScpO1xudmFyIE5ldFNpbVNsaWRlciA9IHJlcXVpcmUoJy4vTmV0U2ltU2xpZGVyJyk7XG5cbi8qKlxuICogR2VuZXJhdG9yIGFuZCBjb250cm9sbGVyIGZvciBjaHVuayBzaXplIHNsaWRlci9zZWxlY3RvclxuICogQHBhcmFtIHtqUXVlcnl9IHJvb3REaXZcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNodW5rU2l6ZUNoYW5nZUNhbGxiYWNrXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhdWdtZW50cyBOZXRTaW1TbGlkZXJcbiAqL1xudmFyIE5ldFNpbUNodW5rU2l6ZUNvbnRyb2wgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChyb290RGl2LFxuICAgIGNodW5rU2l6ZUNoYW5nZUNhbGxiYWNrKSB7XG4gIE5ldFNpbVNsaWRlci5jYWxsKHRoaXMsIHJvb3REaXYsIHtcbiAgICBvbkNoYW5nZTogY2h1bmtTaXplQ2hhbmdlQ2FsbGJhY2ssXG4gICAgbWluOiAxLFxuICAgIG1heDogMzJcbiAgfSk7XG5cbiAgLy8gQXV0by1yZW5kZXIsIHVubGlrZSBvdXIgcGFyZW50IGNsYXNzXG4gIHRoaXMucmVuZGVyKCk7XG59O1xuTmV0U2ltQ2h1bmtTaXplQ29udHJvbC5pbmhlcml0cyhOZXRTaW1TbGlkZXIpO1xuXG4vKipcbiAqIENvbnZlcnRzIGFuIGV4dGVybmFsLWZhY2luZyBudW1lcmljIHZhbHVlIGludG8gYSBsb2NhbGl6ZWQgc3RyaW5nXG4gKiByZXByZXNlbnRhdGlvbiBvZiB0aGF0IHZhbHVlLlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCAtIG51bWVyaWMgdmFsdWUgb2YgdGhlIGNvbnRyb2xcbiAqIEByZXR1cm5zIHtzdHJpbmd9IC0gbG9jYWxpemVkIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB2YWx1ZVxuICogQG92ZXJyaWRlXG4gKi9cbk5ldFNpbUNodW5rU2l6ZUNvbnRyb2wucHJvdG90eXBlLnZhbHVlVG9MYWJlbCA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgcmV0dXJuIGkxOG4ubnVtQml0c1BlckNodW5rKHtcbiAgICBudW1CaXRzOiB2YWxcbiAgfSk7XG59O1xuXG4vKipcbiAqIEFsdGVybmF0ZSBsYWJlbCBjb252ZXJ0ZXIsIHVzZWQgZm9yIHNsaWRlciBlbmQgbGFiZWxzLlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCAtIG51bWVyaWMgdmFsdWUgb2YgdGhlIGNvbnRyb2xcbiAqIEByZXR1cm5zIHtzdHJpbmd9IC0gbG9jYWxpemVkIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB2YWx1ZVxuICogQG92ZXJyaWRlXG4gKi9cbk5ldFNpbUNodW5rU2l6ZUNvbnRyb2wucHJvdG90eXBlLnZhbHVlVG9TaG9ydExhYmVsID0gZnVuY3Rpb24gKHZhbCkge1xuICByZXR1cm4gdmFsLnRvU3RyaW5nKCk7XG59O1xuIiwiLyoqXG4gKiBAb3ZlcnZpZXcgVUkgc2xpZGVyIHVzZWQgdG8gY2hhbmdlIHRoZSBsb2NhbCBkZXZpY2UncyBiaXRyYXRlLlxuICogICAgICAgICAgIERpZmZlcnMgZnJvbSB0aGUgcHVsc2UgcmF0ZSBzbGlkZXIgaW4gc2NhbGUgYW5kIHVuaXRzLlxuICogQHNlZSBOZXRTaW1QdWxzZVJhdGVDb250cm9sXG4gKi9cbi8vIFN0cmljdCBsaW50aW5nOiBBYnNvcmIgaW50byBnbG9iYWwgY29uZmlnIHdoZW4gcG9zc2libGVcbi8qIGpzaGludFxuIHVudXNlZDogdHJ1ZSxcbiBlcWVxZXE6IHRydWUsXG4gbWF4bGVuOiAxMjBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG4vLyBVdGlscyByZXF1aXJlZCBvbmx5IGZvciBGdW5jdGlvbi5wcm90b3R5cGUuaW5oZXJpdHMoKVxucmVxdWlyZSgnLi4vdXRpbHMnKTtcbnZhciBOZXRTaW1VdGlscyA9IHJlcXVpcmUoJy4vTmV0U2ltVXRpbHMnKTtcbnZhciBOZXRTaW1TbGlkZXIgPSByZXF1aXJlKCcuL05ldFNpbVNsaWRlcicpO1xuXG4vKipcbiAqIEdlbmVyYXRvciBhbmQgY29udHJvbGxlciBmb3IgcGFja2V0IHNpemUgc2xpZGVyL3NlbGVjdG9yXG4gKiBAcGFyYW0ge2pRdWVyeX0gcm9vdERpdlxuICogQHBhcmFtIHtudW1iZXJ9IGluaXRpYWxWYWx1ZSAtIGluIGJpdHMgcGVyIHNlY29uZFxuICogQHBhcmFtIHtmdW5jdGlvbn0gc2xpZGVyQ2hhbmdlQ2FsbGJhY2tcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgTmV0U2ltQml0UmF0ZUNvbnRyb2wgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChyb290RGl2LCBpbml0aWFsVmFsdWUsXG4gICAgc2xpZGVyQ2hhbmdlQ2FsbGJhY2spIHtcbiAgTmV0U2ltU2xpZGVyLmNhbGwodGhpcywgcm9vdERpdiwge1xuICAgIG9uQ2hhbmdlOiBzbGlkZXJDaGFuZ2VDYWxsYmFjayxcbiAgICB2YWx1ZTogaW5pdGlhbFZhbHVlLFxuICAgIG1pbjogMSxcbiAgICBtYXg6IDIwLFxuICAgIHVwcGVyQm91bmRJbmZpbml0ZTogdHJ1ZVxuICB9KTtcblxuICAvLyBBdXRvLXJlbmRlciwgdW5saWtlIG91ciBiYXNlIGNsYXNzXG4gIHRoaXMucmVuZGVyKCk7XG59O1xuTmV0U2ltQml0UmF0ZUNvbnRyb2wuaW5oZXJpdHMoTmV0U2ltU2xpZGVyKTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhIG51bWVyaWMgcmF0ZSB2YWx1ZSAoaW4gYml0cyBwZXJzIHNlY29uZCkgaW50byBhXG4gKiBsb2NhbGl6ZWQgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoYXQgdmFsdWUuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIC0gbnVtZXJpYyB2YWx1ZSBvZiB0aGUgY29udHJvbFxuICogQHJldHVybnMge3N0cmluZ30gLSBsb2NhbGl6ZWQgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHZhbHVlXG4gKiBAb3ZlcnJpZGVcbiAqL1xuTmV0U2ltQml0UmF0ZUNvbnRyb2wucHJvdG90eXBlLnZhbHVlVG9MYWJlbCA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgcmV0dXJuIE5ldFNpbVV0aWxzLmJpdHJhdGVUb0xvY2FsaXplZFJvdW5kZWRCaXRyYXRlKHZhbCk7XG59O1xuIiwiLyoqXG4gKiBAb3ZlcnZpZXcgVUkgY29tcG9uZW50LCBhIGxvZyBwYW5lbCAodXNlZCBhcyBcIlNlbnQgQml0c1wiIGFuZCBcIlJlY2VpdmVkIEJpdHNcIilcbiAqICAgICAgICAgICB0aGF0IGlzIHVzZWQgaW4gdGhlIHNpbmdsZS1iaXQtc2VuZGluZyBjb25maWd1cmF0aW9ucyBvZiB0aGUgc2ltdWxhdG9yLlxuICpcbiAqIEBzZWUgSU5ldFNpbUxvZ1BhbmVsIGZvciB0aGUgaW50ZXJmYWNlIGltcGxlbWVudGVkIGhlcmUuXG4gKiBAc2VlIE5ldFNpbUxvZ1BhbmVsIGZvciB0aGUgY29tcG9uZW50IHVzZWQgaW4gcGFja2V0LXNlbmRpbmcgbW9kZS5cbiAqL1xuLy8gU3RyaWN0IGxpbnRpbmc6IEFic29yYiBpbnRvIGdsb2JhbCBjb25maWcgd2hlbiBwb3NzaWJsZVxuLyoganNoaW50XG4gdW51c2VkOiB0cnVlLFxuIGVxZXFlcTogdHJ1ZSxcbiBtYXhsZW46IDEyMFxuICovXG4ndXNlIHN0cmljdCc7XG5cbnJlcXVpcmUoJy4uL3V0aWxzJyk7IC8vIEZvciBGdW5jdGlvbi5wcm90b3R5cGUuaW5oZXJpdHMoKVxudmFyIGkxOG4gPSByZXF1aXJlKCcuL2xvY2FsZScpO1xudmFyIG1hcmt1cCA9IHJlcXVpcmUoJy4vTmV0U2ltQml0TG9nUGFuZWwuaHRtbC5lanMnKTtcbnZhciBOZXRTaW1QYW5lbCA9IHJlcXVpcmUoJy4vTmV0U2ltUGFuZWwnKTtcbnZhciBOZXRTaW1FbmNvZGluZ0NvbnRyb2wgPSByZXF1aXJlKCcuL05ldFNpbUVuY29kaW5nQ29udHJvbCcpO1xudmFyIE5ldFNpbUdsb2JhbHMgPSByZXF1aXJlKCcuL05ldFNpbUdsb2JhbHMnKTtcblxudmFyIGxvZ2dlciA9IHJlcXVpcmUoJy4vTmV0U2ltTG9nZ2VyJykuZ2V0U2luZ2xldG9uKCk7XG5cbi8qKlxuICogR2VuZXJhdG9yIGFuZCBjb250cm9sbGVyIGZvciBiaXQtbG9nLCB3aGljaCByZWNlaXZlcyBiaXRzIG9uZSBhdCBhIHRpbWUuXG4gKiBAcGFyYW0ge2pRdWVyeX0gcm9vdERpdlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLmxvZ1RpdGxlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmlzTWluaW1pemVkXSBkZWZhdWx0cyB0byBGQUxTRVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zaG93UmVhZFdpcmVCdXR0b25dIGRlZmF1bHRzIHRvIEZBTFNFXG4gKiBAcGFyYW0ge05ldFNpbX0gb3B0aW9ucy5uZXRzaW1cbiAqIEBjb25zdHJ1Y3RvclxuICogQGF1Z21lbnRzIE5ldFNpbVBhbmVsXG4gKiBAaW1wbGVtZW50cyBJTmV0U2ltTG9nUGFuZWxcbiAqL1xudmFyIE5ldFNpbUJpdExvZ1BhbmVsID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAocm9vdERpdiwgb3B0aW9ucykge1xuICAvKipcbiAgICogVGhlIGN1cnJlbnQgYmluYXJ5IGNvbnRlbnRzIG9mIHRoZSBsb2cgcGFuZWxcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuYmluYXJ5XyA9ICcnO1xuXG4gIC8qKlxuICAgKiBBIG1lc3NhZ2UgZW5jb2RpbmcgKGRpc3BsYXkpIHNldHRpbmcuXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmVuY29kaW5nc18gPSBbXTtcblxuICAvKipcbiAgICogQ3VycmVudCBjaHVuayBzaXplIChieXRlc2l6ZSkgZm9yIGludGVycHJldGluZyBiaW5hcnkgaW4gdGhlIGxvZy5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuY2h1bmtTaXplXyA9IDg7XG5cbiAgLyoqXG4gICAqIExvY2FsaXplZCBwYW5lbCB0aXRsZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5sb2dUaXRsZV8gPSBvcHRpb25zLmxvZ1RpdGxlO1xuXG4gIC8qKlxuICAgKiBSZWZlcmVuY2UgdG8gdGhlIHRvcC1sZXZlbCBOZXRTaW0gY29udHJvbGxlciBmb3IgcmVhZGluZyBiaXRzIGFuZFxuICAgKiB0cmlnZ2VyaW5nIGFuaW1hdGlvbnMuXG4gICAqIEB0eXBlIHtOZXRTaW19XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLm5ldHNpbV8gPSBvcHRpb25zLm5ldHNpbTtcblxuICAvKipcbiAgICogV2hldGhlciB0aGlzIGxvZyBzaG91bGQgaGF2ZSBhIFwiUmVhZCBXaXJlXCIgYnV0dG9uLlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuc2hvd1JlYWRXaXJlQnV0dG9uXyA9IG9wdGlvbnMuc2hvd1JlYWRXaXJlQnV0dG9uO1xuXG4gIC8qKlxuICAgKiBIb3cgdGFsbCB0aGUgb3ZlcmFsbCBwYW5lbCBzaG91bGQgYmUgd2hlbiBpdCdzIG9wZW4gKGluIHBpeGVscykuXG4gICAqIFNldCBieSBhIGR5bmFtaWMgcmVzaXplIHN5c3RlbS5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMub3BlbkhlaWdodF8gPSAwO1xuXG4gIC8vIEluaXRpYWwgcmVuZGVyXG4gIE5ldFNpbVBhbmVsLmNhbGwodGhpcywgcm9vdERpdiwge1xuICAgIGNsYXNzTmFtZTogJ25ldHNpbS1sb2ctcGFuZWwnLFxuICAgIHBhbmVsVGl0bGU6IG9wdGlvbnMubG9nVGl0bGUsXG4gICAgYmVnaW5NaW5pbWl6ZWQ6IG9wdGlvbnMuaXNNaW5pbWl6ZWRcbiAgfSk7XG59O1xuTmV0U2ltQml0TG9nUGFuZWwuaW5oZXJpdHMoTmV0U2ltUGFuZWwpO1xuXG5OZXRTaW1CaXRMb2dQYW5lbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAvLyBDcmVhdGUgYm9pbGVycGxhdGUgcGFuZWwgbWFya3VwXG4gIE5ldFNpbUJpdExvZ1BhbmVsLnN1cGVyUHJvdG90eXBlLnJlbmRlci5jYWxsKHRoaXMpO1xuXG4gIC8vIEFkZCBvdXIgb3duIGNvbnRlbnQgbWFya3VwXG4gIHZhciBuZXdNYXJrdXAgPSAkKG1hcmt1cCh7XG4gICAgYmluYXJ5OiB0aGlzLmJpbmFyeV8sXG4gICAgZW5hYmxlZEVuY29kaW5nczogdGhpcy5lbmNvZGluZ3NfLFxuICAgIGNodW5rU2l6ZTogdGhpcy5jaHVua1NpemVfLFxuICAgIHNob3dSZWFkV2lyZUJ1dHRvbjogdGhpcy5zaG93UmVhZFdpcmVCdXR0b25fXG4gIH0pKTtcbiAgdGhpcy5nZXRCb2R5KCkuaHRtbChuZXdNYXJrdXApO1xuICBOZXRTaW1FbmNvZGluZ0NvbnRyb2wuaGlkZVJvd3NCeUVuY29kaW5nKHRoaXMuZ2V0Qm9keSgpLCB0aGlzLmVuY29kaW5nc18pO1xuXG5cbiAgdGhpcy5nZXRCb2R5KCkuZmluZCgnI3JlYWQtd2lyZS1idXR0b24nKVxuICAgICAgLmNsaWNrKHRoaXMub25SZWNlaXZlQnV0dG9uUHJlc3NfLmJpbmQodGhpcykpO1xuXG4gIC8vIEFkZCBhIGNsZWFyIGJ1dHRvbiB0byB0aGUgcGFuZWwgaGVhZGVyXG4gIHRoaXMuYWRkQnV0dG9uKGkxOG4uY2xlYXIoKSwgdGhpcy5vbkNsZWFyQnV0dG9uUHJlc3NfLmJpbmQodGhpcykpO1xuXG4gIC8vIFNuYXAgYmFjayB0byB0aGUgZHluYW1pYyBzaXplIHdlJ3ZlIGJlZW4gZ2l2ZW4uXG4gIHRoaXMuc2l6ZVRvT3BlbkhlaWdodF8oKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBwYWNrZXRzIGZyb20gdGhlIGxvZywgcmVzZXR0aW5nIGl0cyBzdGF0ZS5cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbUJpdExvZ1BhbmVsLnByb3RvdHlwZS5vbkNsZWFyQnV0dG9uUHJlc3NfID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmJpbmFyeV8gPSAnJztcbiAgdGhpcy5yZW5kZXIoKTtcbn07XG5cbi8qKlxuICogQXN5bmNocm9ub3VzbHkgZmV0Y2ggdGhlIHdpcmUgc3RhdGUgZnJvbSByZW1vdGUgc3RvcmFnZSwgYW5kIGxvZyBpdC5cbiAqIEBwYXJhbSB7RXZlbnR9IGpRdWVyeUV2ZW50XG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1CaXRMb2dQYW5lbC5wcm90b3R5cGUub25SZWNlaXZlQnV0dG9uUHJlc3NfID0gZnVuY3Rpb24gKGpRdWVyeUV2ZW50KSB7XG4gIHZhciB0aGlzQnV0dG9uID0gJChqUXVlcnlFdmVudC50YXJnZXQpO1xuICBpZiAodGhpc0J1dHRvbi5pcygnW2Rpc2FibGVkXScpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpc0J1dHRvbi5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICB0aGlzLm5ldHNpbV8ucmVjZWl2ZUJpdChmdW5jdGlvbiAoZXJyLCBtZXNzYWdlKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgbG9nZ2VyLndhcm4oXCJFcnJvciByZWFkaW5nIHdpcmUgc3RhdGU6IFwiICsgZXJyLm1lc3NhZ2UpO1xuICAgICAgdGhpc0J1dHRvbi5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEEgc3VjY2Vzc2Z1bCBmZXRjaCB3aXRoIGEgbnVsbCBtZXNzYWdlIG1lYW5zIHRoZXJlJ3Mgbm90aGluZ1xuICAgIC8vIG9uIHRoZSB3aXJlLiAgV2Ugc2hvdWxkIGxvZyBpdHMgZGVmYXVsdCBzdGF0ZTogb2ZmL3plcm9cbiAgICB2YXIgcmVjZWl2ZWRCaXQgPSAnMCc7XG4gICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgIHJlY2VpdmVkQml0ID0gbWVzc2FnZS5wYXlsb2FkO1xuICAgIH1cblxuICAgIHRoaXMubG9nKHJlY2VpdmVkQml0KTtcbiAgICB0aGlzLm5ldHNpbV8uYW5pbWF0ZVJlYWRXaXJlU3RhdGUocmVjZWl2ZWRCaXQpO1xuICAgIHRoaXNCdXR0b24ucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgfS5iaW5kKHRoaXMpKTtcbn07XG5cbi8qKlxuICogUHV0IGEgbWVzc2FnZSBpbnRvIHRoZSBsb2cuXG4gKiBAcGFyYW0ge3N0cmluZ30gYmluYXJ5Qml0XG4gKi9cbk5ldFNpbUJpdExvZ1BhbmVsLnByb3RvdHlwZS5sb2cgPSBmdW5jdGlvbiAoYmluYXJ5Qml0KSB7XG4gIHRoaXMuYmluYXJ5XyArPSBiaW5hcnlCaXQudG9TdHJpbmcoKTtcbiAgdGhpcy5yZW5kZXIoKTtcbn07XG5cbi8qKlxuICogU2hvdyBvciBoaWRlIHBhcnRzIG9mIHRoZSBzZW5kIFVJIGJhc2VkIG9uIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZW5jb2RpbmdcbiAqIG1vZGUuXG4gKiBAcGFyYW0ge0VuY29kaW5nVHlwZVtdfSBuZXdFbmNvZGluZ3NcbiAqL1xuTmV0U2ltQml0TG9nUGFuZWwucHJvdG90eXBlLnNldEVuY29kaW5ncyA9IGZ1bmN0aW9uIChuZXdFbmNvZGluZ3MpIHtcbiAgdGhpcy5lbmNvZGluZ3NfID0gbmV3RW5jb2RpbmdzO1xuICB0aGlzLnJlbmRlcigpO1xufTtcblxuLyoqXG4gKiBDaGFuZ2UgaG93IGJpbmFyeSBpbnB1dCBpbiBpbnRlcnByZXRlZCBhbmQgZm9ybWF0dGVkIGluIHRoZSBsb2cuXG4gKiBAcGFyYW0ge251bWJlcn0gbmV3Q2h1bmtTaXplXG4gKi9cbk5ldFNpbUJpdExvZ1BhbmVsLnByb3RvdHlwZS5zZXRDaHVua1NpemUgPSBmdW5jdGlvbiAobmV3Q2h1bmtTaXplKSB7XG4gIHRoaXMuY2h1bmtTaXplXyA9IG5ld0NodW5rU2l6ZTtcbiAgdGhpcy5yZW5kZXIoKTtcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgdmVydGljYWwgc3BhY2UgdGhhdCB0aGlzIGxvZyBwYW5lbCBzaG91bGQgY29uc3VtZSAoaW5jbHVkaW5nIG1hcmdpbnMpXG4gKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0UGl4ZWxzXG4gKi9cbk5ldFNpbUJpdExvZ1BhbmVsLnByb3RvdHlwZS5zZXRIZWlnaHQgPSBmdW5jdGlvbiAoaGVpZ2h0UGl4ZWxzKSB7XG4gIHRoaXMub3BlbkhlaWdodF8gPSBoZWlnaHRQaXhlbHM7XG4gIHRoaXMuc2l6ZVRvT3BlbkhlaWdodF8oKTtcbn07XG5cbi8qKlxuICogU2NhbGUgdGhlIHNjcm9sbCBhcmVhIGluc2lkZSB0aGUgcGFuZWwgc28gdGhhdCB0aGUgd2hvbGUgcGFuZWxcbiAqIGlzIHRoZSBkZXNpcmVkIGhlaWdodC5cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbUJpdExvZ1BhbmVsLnByb3RvdHlwZS5zaXplVG9PcGVuSGVpZ2h0XyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJvb3QgPSB0aGlzLmdldFJvb3QoKS5maW5kKCcubmV0c2ltLXBhbmVsJyk7XG4gIHZhciBwYW5lbEhlYWRlciA9IHJvb3QuZmluZCgnaDEnKTtcbiAgdmFyIHBhbmVsQm9keSA9IHJvb3QuZmluZCgnLnBhbmVsLWJvZHknKTtcbiAgdmFyIHNjcm9sbEFyZWEgPSByb290LmZpbmQoJy5zY3JvbGwtYXJlYScpO1xuXG4gIHZhciBwYW5lbE1hcmdpbnMgPSBwYXJzZUZsb2F0KHJvb3QuY3NzKCdtYXJnaW4tdG9wJykpICtcbiAgICAgIHBhcnNlRmxvYXQocm9vdC5jc3MoJ21hcmdpbi1ib3R0b20nKSk7XG4gIHZhciBoZWFkZXJIZWlnaHQgPSBwYW5lbEhlYWRlci5vdXRlckhlaWdodCh0cnVlKTtcbiAgdmFyIHBhbmVsQm9yZGVycyA9IHBhcnNlRmxvYXQocGFuZWxCb2R5LmNzcygnYm9yZGVyLXRvcC13aWR0aCcpKSArXG4gICAgICBwYXJzZUZsb2F0KHBhbmVsQm9keS5jc3MoJ2JvcmRlci1ib3R0b20td2lkdGgnKSk7XG4gIHZhciBzY3JvbGxNYXJnaW5zID0gcGFyc2VGbG9hdChzY3JvbGxBcmVhLmNzcygnbWFyZ2luLXRvcCcpKSArXG4gICAgICBwYXJzZUZsb2F0KHNjcm9sbEFyZWEuY3NzKCdtYXJnaW4tYm90dG9tJykpO1xuXG4gIC8vIFdlIHNldCB0aGUgcGFuZWwgaGVpZ2h0IGJ5IGZpeGluZyB0aGUgc2l6ZSBvZiBpdHMgaW5uZXIgc2Nyb2xsYWJsZVxuICAvLyBhcmVhLlxuICB2YXIgbmV3U2Nyb2xsVmlld3BvcnRIZWlnaHQgPSB0aGlzLm9wZW5IZWlnaHRfIC0gKHBhbmVsTWFyZ2lucyArIGhlYWRlckhlaWdodCArXG4gICAgICBwYW5lbEJvcmRlcnMgKyBzY3JvbGxNYXJnaW5zKTtcbiAgc2Nyb2xsQXJlYS5oZWlnaHQoTWF0aC5mbG9vcihuZXdTY3JvbGxWaWV3cG9ydEhlaWdodCkpO1xufTtcblxuLyoqXG4gKiBAcmV0dXJucyB7bnVtYmVyfSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IHBhbmVsIGN1cnJlbnRseSBjb25zdW1lcyAoaW5jbHVkaW5nXG4gKiBtYXJnaW5zKSBpbiBwaXhlbHMuXG4gKi9cbk5ldFNpbUJpdExvZ1BhbmVsLnByb3RvdHlwZS5nZXRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmdldFJvb3QoKS5maW5kKCcubmV0c2ltLXBhbmVsJykub3V0ZXJIZWlnaHQodHJ1ZSk7XG59O1xuXG4vKipcbiAqIEFmdGVyIHRvZ2dsaW5nIHBhbmVsIHZpc2liaWxpdHksIHRyaWdnZXIgYSBsYXlvdXQgdXBkYXRlIHNvIHNlbmQvbG9nIHBhbmVsXG4gKiBzcGFjZSBpcyBzaGFyZWQgY29ycmVjdGx5LlxuICogQHByaXZhdGVcbiAqIEBvdmVycmlkZVxuICovXG5OZXRTaW1CaXRMb2dQYW5lbC5wcm90b3R5cGUub25NaW5pbWl6ZXJDbGlja18gPSBmdW5jdGlvbiAoKSB7XG4gIE5ldFNpbUJpdExvZ1BhbmVsLnN1cGVyUHJvdG90eXBlLm9uTWluaW1pemVyQ2xpY2tfLmNhbGwodGhpcyk7XG4gIE5ldFNpbUdsb2JhbHMudXBkYXRlTGF5b3V0KCk7XG59O1xuIiwiLyoqXG4gKiBAb3ZlcnZpZXcgYmFzZSBjbGFzcyBmb3IgYWxsIFwicGFuZWxzXCIgKHZpc3VhbCBib3hlcykgaW4gdGhlIE5ldFNpbVxuICogICAgICAgICAgIGludGVyZmFjZSwgcHJvdmlkZXMgc29tZSBjb21tb24gZXhwYW5kL2NvbGxhcHNlIGZ1bmN0aW9uYWxpdHkuXG4gKi9cbi8vIFN0cmljdCBsaW50aW5nOiBBYnNvcmIgaW50byBnbG9iYWwgY29uZmlnIHdoZW4gcG9zc2libGVcbi8qIGpzaGludFxuIHVudXNlZDogdHJ1ZSxcbiBlcWVxZXE6IHRydWUsXG4gbWF4bGVuOiAxMjBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xudmFyIG1hcmt1cCA9IHJlcXVpcmUoJy4vTmV0U2ltUGFuZWwuaHRtbC5lanMnKTtcbnZhciBBcmd1bWVudFV0aWxzID0gcmVxdWlyZSgnLi9Bcmd1bWVudFV0aWxzJyk7XG5cbi8qKlxuICogR2VuZXJhdG9yIGFuZCBjb250cm9sbGVyIGZvciBhIE5ldFNpbSBQYW5lbCwgYSBzaW5nbGUgc2VjdGlvbiBvbiB0aGVcbiAqIHBhZ2Ugd2hpY2ggbWF5IGJlIGNvbGxhcHNpYmxlLlxuICogQHBhcmFtIHtqUXVlcnl9IHJvb3REaXYgLSBFbGVtZW50IHdpdGhpbiB3aGljaCB0aGUgcGFuZWwgaXMgcmVjcmVhdGVkXG4gKiAgICAgICAgZXZlcnkgdGltZSByZW5kZXIoKSBpcyBjYWxsZWQuICBXaWxsIHdpcGUgb3V0IGNvbnRlbnRzIG9mIHRoaXNcbiAqICAgICAgICBlbGVtZW50LCBidXQgbm90IHRoZSBlbGVtZW50IGl0c2VsZi5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5jbGFzc05hbWVdIC0gYW4gYWRkaXRpb25hbCBjbGFzcyB0byBiZSBhcHBlbmRlZCB0b1xuICogICAgICAgIHRoZSBwYW5lbCdzIHJvb3QgKG9uZSBsYXllciBpbnNpZGUgcm9vdERpdikgZm9yIHN0eWxlIHJ1bGVzLlxuICogICAgICAgIERlZmF1bHRzIHRvIG5vIGNsYXNzLCBzbyBvbmx5IHRoZSAnbmV0c2ltLXBhbmVsJyBjbGFzcyB3aWxsIGJlIHVzZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMucGFuZWxUaXRsZV0gLSBMb2NhbGl6ZWQgaW5pdGlhbCBwYW5lbCB0aXRsZS5cbiAqICAgICAgICBEZWZhdWx0cyB0byBlbXB0eSBzdHJpbmcuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnVzZXJUb2dnbGVhYmxlXSAtIFdoZXRoZXIgdGhpcyBwYW5lbCBjYW4gYmUgbWluaW1pemVkXG4gKiAgICAgICAgKGNsb3NlZCkgYnkgY2xpY2tpbmcgb24gdGhlIHRpdGxlLiBEZWZhdWx0cyB0byBUUlVFLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iZWdpbk1pbmltaXplZF0gLSBXaGV0aGVyIHRoaXMgcGFuZWwgc2hvdWxkIGJlXG4gKiAgICAgICAgbWluaW1pemVkIChjbG9zZWQpIHdoZW4gaXQgaXMgaW5pdGlhbGx5IGNyZWF0ZWQuICBEZWZhdWx0cyB0byBGQUxTRS5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgTmV0U2ltUGFuZWwgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChyb290RGl2LCBvcHRpb25zKSB7XG4gIC8qKlxuICAgKiBVbmlxdWUgaW5zdGFuY2UgSUQgZm9yIHRoaXMgcGFuZWwsIGluIGNhc2Ugd2UgaGF2ZSBzZXZlcmFsXG4gICAqIG9mIHRoZW0gb24gYSBwYWdlLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5pbnN0YW5jZUlEXyA9IE5ldFNpbVBhbmVsLnVuaXF1ZUlEQ291bnRlcjtcbiAgTmV0U2ltUGFuZWwudW5pcXVlSURDb3VudGVyKys7XG5cbiAgLyoqXG4gICAqIENvbXBvbmVudCByb290LCB3aGljaCB3ZSBmaWxsIHdoZW5ldmVyIHdlIGNhbGwgcmVuZGVyKClcbiAgICogQHR5cGUge2pRdWVyeX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucm9vdERpdl8gPSByb290RGl2O1xuXG4gIC8qKlxuICAgKiBBbiBhZGRpdGlvbmFsIGNsYXNzTmFtZSB0byBiZSBhcHBlbmRlZCB0byB0aGUgcGFuZWwncyByb290IChvbmUgbGF5ZXJcbiAgICogaW5zaWRlIHJvb3REaXYpLCBmb3Igc3R5bGUgcnVsZXMuXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmNsYXNzTmFtZV8gPSB1dGlscy52YWx1ZU9yKG9wdGlvbnMuY2xhc3NOYW1lLCAnJyk7XG5cbiAgLyoqXG4gICAqIFBhbmVsIHRpdGxlLCBkaXNwbGF5ZWQgaW4gaGVhZGVyLlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5wYW5lbFRpdGxlXyA9IHV0aWxzLnZhbHVlT3Iob3B0aW9ucy5wYW5lbFRpdGxlLCAnJyk7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhpcyBwYW5lbCBjYW4gYmUgbWluaW1pemVkIChjbG9zZWQpIGJ5IGNsaWNraW5nIG9uIHRoZSB0aXRsZS5cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnVzZXJUb2dnbGVhYmxlXyA9IHV0aWxzLnZhbHVlT3Iob3B0aW9ucy51c2VyVG9nZ2xlYWJsZSwgdHJ1ZSk7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIGNvbXBvbmVudCBpcyBtaW5pbWl6ZWQsIGZvciBjb25zaXN0ZW50XG4gICAqIHN0YXRlIGFjcm9zcyByZS1yZW5kZXJzLlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuaXNNaW5pbWl6ZWRfID0gdXRpbHMudmFsdWVPcihvcHRpb25zLmJlZ2luTWluaW1pemVkLCBmYWxzZSk7XG5cbiAgLy8gSW5pdGlhbCByZW5kZXJcbiAgdGhpcy5yZW5kZXIoKTtcbn07XG5cbi8qKlxuICogU3RhdGljIGNvdW50ZXIgdXNlZCB0byBnZW5lcmF0ZS91bmlxdWVseSBpZGVudGlmeSBkaWZmZXJlbnQgaW5zdGFuY2VzXG4gKiBvZiB0aGlzIGxvZyB3aWRnZXQgb24gdGhlIHBhZ2UuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5OZXRTaW1QYW5lbC51bmlxdWVJRENvdW50ZXIgPSAwO1xuXG4vKipcbiAqIFJlYnVpbGQgdGhlIHBhbmVsIGNvbnRlbnRzIGluc2lkZSBvZiB0aGUgcm9vdERpdlxuICovXG5OZXRTaW1QYW5lbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbmV3TWFya3VwID0gJChtYXJrdXAoe1xuICAgIGluc3RhbmNlSUQ6IHRoaXMuaW5zdGFuY2VJRF8sXG4gICAgY2xhc3NOYW1lOiB0aGlzLmNsYXNzTmFtZV8sXG4gICAgcGFuZWxUaXRsZTogdGhpcy5wYW5lbFRpdGxlXyxcbiAgICB1c2VyVG9nZ2xlYWJsZTogdGhpcy51c2VyVG9nZ2xlYWJsZV9cbiAgfSkpO1xuICB0aGlzLnJvb3REaXZfLmh0bWwobmV3TWFya3VwKTtcblxuICBpZiAodGhpcy51c2VyVG9nZ2xlYWJsZV8pIHtcbiAgICB0aGlzLnJvb3REaXZfLmZpbmQoJy5taW5pbWl6ZXInKS5jbGljayh0aGlzLm9uTWluaW1pemVyQ2xpY2tfLmJpbmQodGhpcykpO1xuICB9XG4gIHRoaXMuc2V0TWluaW1pemVkKHRoaXMuaXNNaW5pbWl6ZWRfKTtcbn07XG5cbi8qKlxuICogQHJldHVybnMge2pRdWVyeX0gYSBoYW5kbGUgb24gdGhlIHJvb3QgZWxlbWVudCBmb3IgdGhpcyBwYW5lbFxuICovXG5OZXRTaW1QYW5lbC5wcm90b3R5cGUuZ2V0Um9vdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMucm9vdERpdl87XG59O1xuXG4vKipcbiAqIFNldCBwYW5lbCB0aXRsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuZXdUaXRsZSAtIExvY2FsaXplZCBwYW5lbCB0aXRsZS5cbiAqL1xuTmV0U2ltUGFuZWwucHJvdG90eXBlLnNldFBhbmVsVGl0bGUgPSBmdW5jdGlvbiAobmV3VGl0bGUpIHtcbiAgdGhpcy5wYW5lbFRpdGxlXyA9IG5ld1RpdGxlO1xuICB0aGlzLnJvb3REaXZfLmZpbmQoJy50aXRsZS10ZXh0JykudGV4dChuZXdUaXRsZSk7XG59O1xuXG4vKipcbiAqIFRvZ2dsZSB3aGV0aGVyIHRoaXMgcGFuZWwgaXMgbWluaW1pemVkLlxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltUGFuZWwucHJvdG90eXBlLm9uTWluaW1pemVyQ2xpY2tfID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnNldE1pbmltaXplZCghdGhpcy5pc01pbmltaXplZF8pO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGJlY29tZU1pbmltaXplZFxuICovXG5OZXRTaW1QYW5lbC5wcm90b3R5cGUuc2V0TWluaW1pemVkID0gZnVuY3Rpb24gKGJlY29tZU1pbmltaXplZCkge1xuICB2YXIgcGFuZWxEaXYgPSB0aGlzLnJvb3REaXZfLmZpbmQoJy5uZXRzaW0tcGFuZWwnKTtcbiAgdmFyIG1pbmltaXplciA9IHBhbmVsRGl2LmZpbmQoJy5taW5pbWl6ZXInKTtcbiAgaWYgKGJlY29tZU1pbmltaXplZCkge1xuICAgIHBhbmVsRGl2LmFkZENsYXNzKCdtaW5pbWl6ZWQnKTtcbiAgICBtaW5pbWl6ZXIuZmluZCgnLmZhJylcbiAgICAgICAgLmFkZENsYXNzKCdmYS1wbHVzLXNxdWFyZScpXG4gICAgICAgIC5yZW1vdmVDbGFzcygnZmEtbWludXMtc3F1YXJlJyk7XG4gIH0gZWxzZSB7XG4gICAgcGFuZWxEaXYucmVtb3ZlQ2xhc3MoJ21pbmltaXplZCcpO1xuICAgIG1pbmltaXplci5maW5kKCcuZmEnKVxuICAgICAgICAuYWRkQ2xhc3MoJ2ZhLW1pbnVzLXNxdWFyZScpXG4gICAgICAgIC5yZW1vdmVDbGFzcygnZmEtcGx1cy1zcXVhcmUnKTtcbiAgfVxuICB0aGlzLmlzTWluaW1pemVkXyA9IGJlY29tZU1pbmltaXplZDtcbn07XG5cbi8qKlxuICogV2hldGhlciB0aGlzIHBhbmVsIGlzIGN1cnJlbnRseSBtaW5pbWl6ZWQgKHNob3dpbmcgb25seSBpdHMgaGVhZGVyKSBvciBub3QuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuTmV0U2ltUGFuZWwucHJvdG90eXBlLmlzTWluaW1pemVkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5pc01pbmltaXplZF87XG59O1xuXG4vKipcbiAqIEFkZCBhIGJ1dHRvbiB0byB0aGUgcmlnaHQgZW5kIG9mIHRoZSBwYW5lbCBoZWFkZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gYnV0dG9uVGV4dFxuICogQHBhcmFtIHtmdW5jdGlvbn0gcHJlc3NDYWxsYmFja1xuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5zZWNvbmRhcnldIC0gZGVmYXVsdCBUUlVFLCBzZWNvbmRhcnkgYnV0dG9uIHN0eWxlXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBbb3B0aW9ucy5jbGFzc2VzXSAtIGRlZmF1bHQgW10sIGFkZGl0aW9uYWwgY2xhc3NlcyBvbiB0aGVcbiAqICAgICAgICBidXR0b24gZWxlbWVudC5cbiAqL1xuTmV0U2ltUGFuZWwucHJvdG90eXBlLmFkZEJ1dHRvbiA9IGZ1bmN0aW9uKGJ1dHRvblRleHQsIHByZXNzQ2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IEFyZ3VtZW50VXRpbHMuZXh0ZW5kT3B0aW9uc09iamVjdChvcHRpb25zIHx8IHt9KTtcblxuICB2YXIgYnV0dG9uID0gJCgnPHNwYW4+JylcbiAgICAgIC5hZGRDbGFzcygnbmV0c2ltLWJ1dHRvbicpXG4gICAgICAuaHRtbChidXR0b25UZXh0KVxuICAgICAgLmNsaWNrKHByZXNzQ2FsbGJhY2spO1xuXG4gIGlmIChvcHRpb25zLmdldCgnc2Vjb25kYXJ5JywgQXJndW1lbnRVdGlscy5pc0Jvb2xlYW4sIHRydWUpKSB7XG4gICAgYnV0dG9uLmFkZENsYXNzKCdzZWNvbmRhcnknKTtcbiAgfVxuXG4gIG9wdGlvbnMuZ2V0KCdjbGFzc2VzJywgQXJndW1lbnRVdGlscy5pc0FycmF5T2ZTdHJpbmdzKCksIFtdKVxuICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgICAgICBidXR0b24uYWRkQ2xhc3MoY2xhc3NOYW1lKTtcbiAgICAgIH0pO1xuXG4gIGJ1dHRvbi5hcHBlbmRUbyh0aGlzLnJvb3REaXZfLmZpbmQoJy5wYW5lbC1jb250cm9scycpKTtcbn07XG5cbi8qKlxuICogQHJldHVybnMge2pRdWVyeX0gdGhlIGJvZHkgRGl2IG9mIHRoZSBwYW5lbCwgZm9yIHBhbmVsIGNvbnRlbnQuXG4gKi9cbk5ldFNpbVBhbmVsLnByb3RvdHlwZS5nZXRCb2R5ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5yb290RGl2Xy5maW5kKCcucGFuZWwtYm9keScpO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB0ID0gZnVuY3Rpb24gYW5vbnltb3VzKGxvY2FscywgZmlsdGVycywgZXNjYXBlXG4vKiovKSB7XG5lc2NhcGUgPSBlc2NhcGUgfHwgZnVuY3Rpb24gKGh0bWwpe1xuICByZXR1cm4gU3RyaW5nKGh0bWwpXG4gICAgLnJlcGxhY2UoLyYoPyFcXHcrOykvZywgJyZhbXA7JylcbiAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7Jyk7XG59O1xudmFyIGJ1ZiA9IFtdO1xud2l0aCAobG9jYWxzIHx8IHt9KSB7IChmdW5jdGlvbigpeyBcbiBidWYucHVzaCgnPGRpdiBpZD1cIm5ldHNpbS1wYW5lbC0nLCBlc2NhcGUoKDEsICBpbnN0YW5jZUlEICkpLCAnXCJcXG4gICAgIGNsYXNzPVwibmV0c2ltLXBhbmVsICcsIGVzY2FwZSgoMiwgIGNsYXNzTmFtZSApKSwgJ1wiPlxcbiAgPGgxPlxcbiAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udHJvbHNcIj48L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cInNpbmdsZS1saW5lLXdpdGgtZWxsaXBzaXMgcGFkLWxlZnQnKTs1OyBpZiAodXNlclRvZ2dsZWFibGUpIHsgOyBidWYucHVzaCgnIG1pbmltaXplcicpOzU7IH0gOyBidWYucHVzaCgnXCI+XFxuICAgICAgJyk7NjsgaWYgKHVzZXJUb2dnbGVhYmxlKSB7IDsgYnVmLnB1c2goJ1xcbiAgICAgICAgPGkgY2xhc3M9XCJmYSBmYS1taW51cy1zcXVhcmVcIj48L2k+XFxuICAgICAgJyk7ODsgfSA7IGJ1Zi5wdXNoKCdcXG4gICAgICA8c3BhbiBjbGFzcz1cInRpdGxlLXRleHRcIj4nLCBlc2NhcGUoKDksICBwYW5lbFRpdGxlICkpLCAnPC9zcGFuPlxcbiAgICA8L2Rpdj5cXG4gIDwvaDE+XFxuICA8ZGl2IGNsYXNzPVwicGFuZWwtYm9keVwiPlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuJyk7IH0pKCk7XG59IFxucmV0dXJuIGJ1Zi5qb2luKCcnKTtcbn07XG4gIHJldHVybiBmdW5jdGlvbihsb2NhbHMpIHtcbiAgICByZXR1cm4gdChsb2NhbHMsIHJlcXVpcmUoXCJlanNcIikuZmlsdGVycyk7XG4gIH1cbn0oKSk7IiwiLyoqXG4gKiBAb3ZlcnZpZXcgVUkgY29udHJvbGxlciBmb3Igc2V0IG9mIHJhZGlvIGJ1dHRvbnMgdXNlZCB0byBzZWxlY3QgZGlzcGxheSBlbmNvZGluZ3MuXG4gKi9cbi8vIFN0cmljdCBsaW50aW5nOiBBYnNvcmIgaW50byBnbG9iYWwgY29uZmlnIHdoZW4gcG9zc2libGVcbi8qIGpzaGludFxuIHVudXNlZDogdHJ1ZSxcbiBlcWVxZXE6IHRydWUsXG4gbWF4bGVuOiAxMjBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgbWFya3VwID0gcmVxdWlyZSgnLi9OZXRTaW1FbmNvZGluZ0NvbnRyb2wuaHRtbC5lanMnKTtcbnZhciBFbmNvZGluZ1R5cGUgPSByZXF1aXJlKCcuL05ldFNpbUNvbnN0YW50cycpLkVuY29kaW5nVHlwZTtcblxuLyoqXG4gKiBHZW5lcmF0b3IgYW5kIGNvbnRyb2xsZXIgZm9yIG1lc3NhZ2UgZW5jb2Rpbmcgc2VsZWN0b3I6IEEgZHJvcGRvd24gdGhhdFxuICogY29udHJvbHMgd2hldGhlciBtZXNzYWdlcyBhcmUgZGlzcGxheWVkIGluIHNvbWUgY29tYmluYXRpb24gb2YgYmluYXJ5LCBoZXgsXG4gKiBkZWNpbWFsLCBhc2NpaSwgZXRjLlxuICogQHBhcmFtIHtqUXVlcnl9IHJvb3REaXZcbiAqIEBwYXJhbSB7TmV0U2ltTGV2ZWxDb25maWd1cmF0aW9ufSBsZXZlbENvbmZpZ1xuICogQHBhcmFtIHtmdW5jdGlvbn0gY2hhbmdlRW5jb2RpbmdDYWxsYmFja1xuICogQGNvbnN0cnVjdG9yXG4gKi9cbnZhciBOZXRTaW1FbmNvZGluZ0NvbnRyb2wgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChyb290RGl2LCBsZXZlbENvbmZpZyxcbiAgICBjaGFuZ2VFbmNvZGluZ0NhbGxiYWNrKSB7XG4gIC8qKlxuICAgKiBDb21wb25lbnQgcm9vdCwgd2hpY2ggd2UgZmlsbCB3aGVuZXZlciB3ZSBjYWxsIHJlbmRlcigpXG4gICAqIEB0eXBlIHtqUXVlcnl9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnJvb3REaXZfID0gcm9vdERpdjtcblxuICAvKipcbiAgICogQHR5cGUge05ldFNpbUxldmVsQ29uZmlndXJhdGlvbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMubGV2ZWxDb25maWdfID0gbGV2ZWxDb25maWc7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtmdW5jdGlvbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuY2hhbmdlRW5jb2RpbmdDYWxsYmFja18gPSBjaGFuZ2VFbmNvZGluZ0NhbGxiYWNrO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7alF1ZXJ5fVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5jaGVja2JveGVzXyA9IG51bGw7XG5cbiAgLy8gSW5pdGlhbCByZW5kZXJcbiAgdGhpcy5yZW5kZXIoKTtcbn07XG5cbi8qKlxuICogRmlsbCB0aGUgcm9vdCBkaXYgd2l0aCBuZXcgZWxlbWVudHMgcmVmbGVjdGluZyB0aGUgY3VycmVudCBzdGF0ZVxuICovXG5OZXRTaW1FbmNvZGluZ0NvbnRyb2wucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHJlbmRlcmVkTWFya3VwID0gJChtYXJrdXAoe1xuICAgIGxldmVsOiB0aGlzLmxldmVsQ29uZmlnX1xuICB9KSk7XG4gIHRoaXMucm9vdERpdl8uaHRtbChyZW5kZXJlZE1hcmt1cCk7XG4gIHRoaXMuY2hlY2tib3hlc18gPSB0aGlzLnJvb3REaXZfLmZpbmQoXG4gICAgICAnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdW25hbWU9XCJlbmNvZGluZ19jaGVja2JveGVzXCJdJyk7XG4gIHRoaXMuY2hlY2tib3hlc18uY2hhbmdlKHRoaXMub25DaGVja2JveGVzQ2hhbmdlXy5iaW5kKHRoaXMpKTtcbn07XG5cbi8qKlxuICogU2VuZCBuZXcgc2VsZWN0ZWQgZW5jb2RpbmdzIHRvIHJlZ2lzdGVyZWQgY2FsbGJhY2sgb24gY2hhbmdlLlxuICogQHByaXZhdGVcbiAqL1xuTmV0U2ltRW5jb2RpbmdDb250cm9sLnByb3RvdHlwZS5vbkNoZWNrYm94ZXNDaGFuZ2VfID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZWN0ZWRFbmNvZGluZ3MgPSBbXTtcbiAgdGhpcy5jaGVja2JveGVzXy5maWx0ZXIoJzpjaGVja2VkJykuZWFjaChmdW5jdGlvbiAoaSwgZWxlbWVudCkge1xuICAgIHNlbGVjdGVkRW5jb2RpbmdzLnB1c2goZWxlbWVudC52YWx1ZSk7XG4gIH0pO1xuICB0aGlzLmNoYW5nZUVuY29kaW5nQ2FsbGJhY2tfKHNlbGVjdGVkRW5jb2RpbmdzKTtcbn07XG5cbi8qKlxuICogQ2hhbmdlIHNlbGVjdG9yIHZhbHVlIHRvIHRoZSBuZXcgcHJvdmlkZWQgdmFsdWUuXG4gKiBAcGFyYW0ge0VuY29kaW5nVHlwZVtdfSBuZXdFbmNvZGluZ3NcbiAqL1xuTmV0U2ltRW5jb2RpbmdDb250cm9sLnByb3RvdHlwZS5zZXRFbmNvZGluZ3MgPSBmdW5jdGlvbiAobmV3RW5jb2RpbmdzKSB7XG4gIHRoaXMuY2hlY2tib3hlc18uZWFjaChmdW5jdGlvbiAoaSwgZWxlbWVudCkge1xuICAgICQoZWxlbWVudCkuYXR0cignY2hlY2tlZCcsIChuZXdFbmNvZGluZ3MuaW5kZXhPZihlbGVtZW50LnZhbHVlKSA+IC0xKSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBHZW5lcmF0ZSBhIGpRdWVyeSBzZWxlY3RvciBzdHJpbmcgdGhhdCB3aWxsIGdldCBhbGwgcm93cyB0aGF0XG4gKiBoYXZlIEFOWSBvZiB0aGUgcHJvdmlkZWQgY2xhc3Nlcy5cbiAqIEBwYXJhbSB7RW5jb2RpbmdUeXBlW119IGVuY29kaW5nc1xuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xudmFyIG1ha2VFbmNvZGluZ1Jvd1NlbGVjdG9yID0gZnVuY3Rpb24gKGVuY29kaW5ncykge1xuICByZXR1cm4gZW5jb2RpbmdzLm1hcChmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgcmV0dXJuICd0ci4nICsgY2xhc3NOYW1lO1xuICB9KS5qb2luKCcsICcpO1xufTtcblxuLyoqXG4gKiBTdGF0aWMgaGVscGVyLCBzaG93cy9oaWRlcyByb3dzIHVuZGVyIHByb3ZpZGVkIGVsZW1lbnQgYWNjb3JkaW5nIHRvIHRoZSBnaXZlblxuICogZW5jb2Rpbmcgc2V0dGluZy5cbiAqIEBwYXJhbSB7alF1ZXJ5fSByb290RWxlbWVudCAtIHJvb3Qgb2YgZWxlbWVudHMgdG8gc2hvdy9oaWRlXG4gKiBAcGFyYW0ge0VuY29kaW5nVHlwZVtdfSBlbmNvZGluZ3MgLSBhIG1lc3NhZ2UgZW5jb2Rpbmcgc2V0dGluZ1xuICovXG5OZXRTaW1FbmNvZGluZ0NvbnRyb2wuaGlkZVJvd3NCeUVuY29kaW5nID0gZnVuY3Rpb24gKHJvb3RFbGVtZW50LCBlbmNvZGluZ3MpIHtcbiAgdmFyIGhpZGRlbkVuY29kaW5ncyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gRW5jb2RpbmdUeXBlKSB7XG4gICAgaWYgKEVuY29kaW5nVHlwZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmXG4gICAgICAgIGVuY29kaW5ncy5pbmRleE9mKEVuY29kaW5nVHlwZVtrZXldKSA9PT0gLTEpIHtcbiAgICAgIGhpZGRlbkVuY29kaW5ncy5wdXNoKEVuY29kaW5nVHlwZVtrZXldKTtcbiAgICB9XG4gIH1cbiAgcm9vdEVsZW1lbnQuZmluZChtYWtlRW5jb2RpbmdSb3dTZWxlY3RvcihlbmNvZGluZ3MpKS5zaG93KCk7XG4gIHJvb3RFbGVtZW50LmZpbmQobWFrZUVuY29kaW5nUm93U2VsZWN0b3IoaGlkZGVuRW5jb2RpbmdzKSkuaGlkZSgpO1xufTtcblxuLyoqXG4gKiBTdGF0aWMgaGVscGVyIHRoYXQgY29udmVydHMgYSBnaXZlbiBhcnJheSBvZiBlbmNvZGluZ3MgdG8gYW4gb2JqZWN0XG4gKiBtYXBwaW5nIGVhY2ggZW5jb2RpbmcgdG8gYHRydWVgLiBVc2VkIGZvciBtb3JlIGVmZmljaWVudFxuICogaXNFbmNvZGluZ0VuYWJsZWQgY2hlY2tzXG4gKiBAcGFyYW0ge0VuY29kaW5nVHlwZVtdfSBlbmNvZGluZ3NcbiAqIEByZXR1cm5zIHtPYmplY3QuPEVuY29kaW5nVHlwZSwgYm9vbGVhbj59XG4gKi9cbk5ldFNpbUVuY29kaW5nQ29udHJvbC5lbmNvZGluZ3NBc0hhc2ggPSBmdW5jdGlvbiAoZW5jb2RpbmdzKSB7XG4gIHJldHVybiBlbmNvZGluZ3MucmVkdWNlKGZ1bmN0aW9uIChoYXNoLCBlbmNvZGluZykge1xuICAgIGhhc2hbZW5jb2RpbmddID0gdHJ1ZTtcbiAgICByZXR1cm4gaGFzaDtcbiAgfSwge30pO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB0ID0gZnVuY3Rpb24gYW5vbnltb3VzKGxvY2FscywgZmlsdGVycywgZXNjYXBlXG4vKiovKSB7XG5lc2NhcGUgPSBlc2NhcGUgfHwgZnVuY3Rpb24gKGh0bWwpe1xuICByZXR1cm4gU3RyaW5nKGh0bWwpXG4gICAgLnJlcGxhY2UoLyYoPyFcXHcrOykvZywgJyZhbXA7JylcbiAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7Jyk7XG59O1xudmFyIGJ1ZiA9IFtdO1xud2l0aCAobG9jYWxzIHx8IHt9KSB7IChmdW5jdGlvbigpeyBcbiBidWYucHVzaCgnJyk7MTtcbiAgdmFyIEVuY29kaW5nVHlwZSA9IHJlcXVpcmUoJy4vTmV0U2ltQ29uc3RhbnRzJykuRW5jb2RpbmdUeXBlO1xuICB2YXIgaTE4biA9IHJlcXVpcmUoJy4vbG9jYWxlJyk7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RW5jb2RpbmdUeXBlfSBlbmNvZGluZ1R5cGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGVuY29kaW5nTGFiZWxcbiAgICovXG4gIGZ1bmN0aW9uIG1ha2VDaGVja2JveChlbmNvZGluZ1R5cGUsIGVuY29kaW5nTGFiZWwpIHtcbiAgICB2YXIgZGl2Q2xhc3NlcyA9IFsnZW5jb2RpbmdfY2hlY2tib3hlc18nICsgZW5jb2RpbmdUeXBlXTtcbiAgICBpZiAobGV2ZWwuc2hvd0VuY29kaW5nQ29udHJvbHMuaW5kZXhPZihlbmNvZGluZ1R5cGUpID09PSAtMSkge1xuICAgICAgZGl2Q2xhc3Nlcy5wdXNoKCdoaWRkZW4tY29udHJvbCcpO1xuICAgIH1cbiAgICA7IGJ1Zi5wdXNoKCdcXG4gICAgPGRpdiBjbGFzcz1cIicsIGVzY2FwZSgoMTUsICBkaXZDbGFzc2VzLmpvaW4oJyAnKSApKSwgJ1wiPlxcbiAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIlxcbiAgICAgICAgICAgICBuYW1lPVwiZW5jb2RpbmdfY2hlY2tib3hlc1wiXFxuICAgICAgICAgICAgIGlkPVwiZW5jb2RpbmdfY2hlY2tib3hlc18nLCBlc2NhcGUoKDE4LCAgZW5jb2RpbmdUeXBlICkpLCAnXCJcXG4gICAgICAgICAgICAgdmFsdWU9XCInLCBlc2NhcGUoKDE5LCAgZW5jb2RpbmdUeXBlICkpLCAnXCJcXG4gICAgICAgICAgLz5cXG4gICAgICA8bGFiZWwgZm9yPVwiZW5jb2RpbmdfY2hlY2tib3hlc18nLCBlc2NhcGUoKDIxLCAgZW5jb2RpbmdUeXBlICkpLCAnXCI+JywgZXNjYXBlKCgyMSwgIGVuY29kaW5nTGFiZWwgKSksICc8L2xhYmVsPlxcbiAgICA8L2Rpdj5cXG4gICAgJyk7MjM7XG4gIH1cbjsgYnVmLnB1c2goJ1xcbjxkaXYgY2xhc3M9XCJuZXRzaW0tZW5jb2Rpbmctc2VsZWN0b3JcIj5cXG4gIDxoMT4nLCBlc2NhcGUoKDI3LCAgaTE4bi5lbmNvZGluZygpICkpLCAnPC9oMT5cXG4gICcpOzI4OyBtYWtlQ2hlY2tib3goRW5jb2RpbmdUeXBlLkFTQ0lJLCBpMThuLmFzY2lpKCkpOyA7IGJ1Zi5wdXNoKCdcXG4gICcpOzI5OyBtYWtlQ2hlY2tib3goRW5jb2RpbmdUeXBlLkRFQ0lNQUwsIGkxOG4uZGVjaW1hbCgpKTsgOyBidWYucHVzaCgnXFxuICAnKTszMDsgbWFrZUNoZWNrYm94KEVuY29kaW5nVHlwZS5IRVhBREVDSU1BTCwgaTE4bi5oZXhhZGVjaW1hbCgpKTsgOyBidWYucHVzaCgnXFxuICAnKTszMTsgbWFrZUNoZWNrYm94KEVuY29kaW5nVHlwZS5CSU5BUlksIGkxOG4uYmluYXJ5KCkpOyA7IGJ1Zi5wdXNoKCdcXG4gICcpOzMyOyBtYWtlQ2hlY2tib3goRW5jb2RpbmdUeXBlLkFfQU5EX0IsIGkxOG4uYV9hbmRfYigpKTsgOyBidWYucHVzaCgnXFxuPC9kaXY+Jyk7IH0pKCk7XG59IFxucmV0dXJuIGJ1Zi5qb2luKCcnKTtcbn07XG4gIHJldHVybiBmdW5jdGlvbihsb2NhbHMpIHtcbiAgICByZXR1cm4gdChsb2NhbHMsIHJlcXVpcmUoXCJlanNcIikuZmlsdGVycyk7XG4gIH1cbn0oKSk7IiwibW9kdWxlLmV4cG9ydHM9IChmdW5jdGlvbigpIHtcbiAgdmFyIHQgPSBmdW5jdGlvbiBhbm9ueW1vdXMobG9jYWxzLCBmaWx0ZXJzLCBlc2NhcGVcbi8qKi8pIHtcbmVzY2FwZSA9IGVzY2FwZSB8fCBmdW5jdGlvbiAoaHRtbCl7XG4gIHJldHVybiBTdHJpbmcoaHRtbClcbiAgICAucmVwbGFjZSgvJig/IVxcdys7KS9nLCAnJmFtcDsnKVxuICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcbiAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpXG4gICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKTtcbn07XG52YXIgYnVmID0gW107XG53aXRoIChsb2NhbHMgfHwge30pIHsgKGZ1bmN0aW9uKCl7IFxuIGJ1Zi5wdXNoKCcnKTsxO1xuICB2YXIgaTE4biA9IHJlcXVpcmUoJy4vbG9jYWxlJyk7XG4gIHZhciBOZXRTaW1Db25zdGFudHMgPSByZXF1aXJlKCcuL05ldFNpbUNvbnN0YW50cycpO1xuICB2YXIgRGF0YUNvbnZlcnRlcnMgPSByZXF1aXJlKCcuL0RhdGFDb252ZXJ0ZXJzJyk7XG5cbiAgdmFyIGdldEVuY29kaW5nTGFiZWwgPSByZXF1aXJlKCcuL05ldFNpbVV0aWxzJykuZ2V0RW5jb2RpbmdMYWJlbDtcblxuICB2YXIgRW5jb2RpbmdUeXBlID0gTmV0U2ltQ29uc3RhbnRzLkVuY29kaW5nVHlwZTtcbiAgdmFyIFBhY2tldFVJQ29sdW1uVHlwZSA9IE5ldFNpbUNvbnN0YW50cy5QYWNrZXRVSUNvbHVtblR5cGU7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7RW5jb2RpbmdUeXBlfSBlbmNvZGluZ1R5cGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IGVuY29kZWRDb250ZW50XG4gICAqL1xuICBmdW5jdGlvbiBsb2dSb3coZW5jb2RpbmdUeXBlLCBlbmNvZGVkQ29udGVudCkge1xuICAgIDsgYnVmLnB1c2goJ1xcbiAgICA8dHIgY2xhc3M9XCInLCBlc2NhcGUoKDE3LCAgZW5jb2RpbmdUeXBlICkpLCAnXCI+XFxuICAgICAgPHRoIG5vd3JhcCBjbGFzcz1cIicsIGVzY2FwZSgoMTgsICBQYWNrZXRVSUNvbHVtblR5cGUuRU5DT0RJTkdfTEFCRUwgKSksICdcIj4nLCBlc2NhcGUoKDE4LCAgZ2V0RW5jb2RpbmdMYWJlbChlbmNvZGluZ1R5cGUpICkpLCAnPC90aD5cXG4gICAgICA8dGQgY2xhc3M9XCInLCBlc2NhcGUoKDE5LCAgUGFja2V0VUlDb2x1bW5UeXBlLk1FU1NBR0UgKSksICdcIj4nLCBlc2NhcGUoKDE5LCAgZW5jb2RlZENvbnRlbnQgKSksICc8L3RkPlxcbiAgICA8L3RyPlxcbiAgICAnKTsyMTtcbiAgfVxuOyBidWYucHVzaCgnXFxuPGRpdiBjbGFzcz1cInNjcm9sbC1hcmVhIGJpdC1sb2ctc2Nyb2xsLWFyZWFcIj5cXG4gIDxkaXYgY2xhc3M9XCJwYWNrZXRcIj5cXG4gICAgPHRhYmxlPlxcbiAgICAgIDx0Ym9keT5cXG4gICAgICAgICcpOzI4O1xuICAgICAgICAgIGxvZ1JvdyhFbmNvZGluZ1R5cGUuQVNDSUksIERhdGFDb252ZXJ0ZXJzLmJpbmFyeVRvQXNjaWkoYmluYXJ5LCBjaHVua1NpemUpKTtcblxuICAgICAgICAgIGxvZ1JvdyhFbmNvZGluZ1R5cGUuREVDSU1BTCwgRGF0YUNvbnZlcnRlcnMuYWxpZ25EZWNpbWFsKERhdGFDb252ZXJ0ZXJzLmJpbmFyeVRvRGVjaW1hbChiaW5hcnksIGNodW5rU2l6ZSkpKTtcblxuICAgICAgICAgIGxvZ1JvdyhFbmNvZGluZ1R5cGUuSEVYQURFQ0lNQUwsIERhdGFDb252ZXJ0ZXJzLmZvcm1hdEhleChEYXRhQ29udmVydGVycy5iaW5hcnlUb0hleChiaW5hcnkpLCBjaHVua1NpemUpKTtcblxuICAgICAgICAgIGxvZ1JvdyhFbmNvZGluZ1R5cGUuQklOQVJZLCBEYXRhQ29udmVydGVycy5mb3JtYXRCaW5hcnkoYmluYXJ5LCBjaHVua1NpemUpKTtcblxuICAgICAgICAgIGxvZ1JvdyhFbmNvZGluZ1R5cGUuQV9BTkRfQiwgRGF0YUNvbnZlcnRlcnMuZm9ybWF0QUIoRGF0YUNvbnZlcnRlcnMuYmluYXJ5VG9BQihiaW5hcnkpLCBjaHVua1NpemUpKTtcbiAgICAgICAgOyBidWYucHVzaCgnXFxuICAgICAgPC90Ym9keT5cXG4gICAgPC90YWJsZT5cXG4gIDwvZGl2PlxcbiAgJyk7NDI7IGlmIChzaG93UmVhZFdpcmVCdXR0b24pIHsgOyBidWYucHVzaCgnXFxuICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1mb290ZXIgYml0LWxvZy1wYW5lbC1mb290ZXJcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1jb250cm9sc1wiPlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJuZXRzaW0tYnV0dG9uIGxhcmdlLWJ1dHRvblwiIGlkPVwicmVhZC13aXJlLWJ1dHRvblwiPicsIGVzY2FwZSgoNDUsICBpMThuLnJlYWRXaXJlKCkgKSksICc8L3NwYW4+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgJyk7NDg7IH0gOyBidWYucHVzaCgnXFxuPC9kaXY+XFxuJyk7IH0pKCk7XG59IFxucmV0dXJuIGJ1Zi5qb2luKCcnKTtcbn07XG4gIHJldHVybiBmdW5jdGlvbihsb2NhbHMpIHtcbiAgICByZXR1cm4gdChsb2NhbHMsIHJlcXVpcmUoXCJlanNcIikuZmlsdGVycyk7XG4gIH1cbn0oKSk7IiwiLyoqXG4gKiBAb3ZlcnZpZXcgVUkgU2xpZGVyIGNvbnRyb2wgdXNlZCBmb3IgY2hhbmdpbmcgc2ltdWxhdGVkIHJvdXRlciBiYW5kd2lkdGguXG4gKi9cbi8vIFN0cmljdCBsaW50aW5nOiBBYnNvcmIgaW50byBnbG9iYWwgY29uZmlnIHdoZW4gcG9zc2libGVcbi8qIGpzaGludFxuIHVudXNlZDogdHJ1ZSxcbiBlcWVxZXE6IHRydWUsXG4gbWF4bGVuOiAxMjBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG4vLyBVdGlscyByZXF1aXJlZCBvbmx5IGZvciBGdW5jdGlvbi5wcm90b3R5cGUuaW5oZXJpdHMoKVxucmVxdWlyZSgnLi4vdXRpbHMnKTtcbnZhciBOZXRTaW1Db25zdGFudHMgPSByZXF1aXJlKCcuL05ldFNpbUNvbnN0YW50cycpO1xudmFyIE5ldFNpbVV0aWxzID0gcmVxdWlyZSgnLi9OZXRTaW1VdGlscycpO1xudmFyIE5ldFNpbVNsaWRlciA9IHJlcXVpcmUoJy4vTmV0U2ltU2xpZGVyJyk7XG5cbi8qKlxuICogR2VuZXJhdG9yIGFuZCBjb250cm9sbGVyIGZvciBwYWNrZXQgc2l6ZSBzbGlkZXIvc2VsZWN0b3JcbiAqIEBwYXJhbSB7alF1ZXJ5fSByb290RGl2XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBzbGlkZXJDaGFuZ2VDYWxsYmFja1xuICogQHBhcmFtIHtmdW5jdGlvbn0gc2xpZGVyU3RvcENhbGxiYWNrXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIE5ldFNpbUJhbmR3aWR0aENvbnRyb2wgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChyb290RGl2LFxuICAgIHNsaWRlckNoYW5nZUNhbGxiYWNrLCBzbGlkZXJTdG9wQ2FsbGJhY2spIHtcbiAgTmV0U2ltU2xpZGVyLkxvZ2FyaXRobWljU2xpZGVyLmNhbGwodGhpcywgcm9vdERpdiwge1xuICAgIG9uQ2hhbmdlOiBzbGlkZXJDaGFuZ2VDYWxsYmFjayxcbiAgICBvblN0b3A6IHNsaWRlclN0b3BDYWxsYmFjayxcbiAgICB2YWx1ZTogSW5maW5pdHksXG4gICAgbWluOiA0LFxuICAgIG1heDogMTI4ICogTmV0U2ltQ29uc3RhbnRzLkJJVFNfUEVSX0tJTE9CSVQsXG4gICAgdXBwZXJCb3VuZEluZmluaXRlOiB0cnVlXG4gIH0pO1xuXG4gIC8vIEF1dG8tcmVuZGVyLCB1bmxpa2Ugb3VyIGJhc2UgY2xhc3NcbiAgdGhpcy5yZW5kZXIoKTtcbn07XG5OZXRTaW1CYW5kd2lkdGhDb250cm9sLmluaGVyaXRzKE5ldFNpbVNsaWRlci5Mb2dhcml0aG1pY1NsaWRlcik7XG5cbi8qKlxuICogQ29udmVydHMgYSBudW1lcmljIGJhbmR3aWR0aCB2YWx1ZSAoaW4gYml0cykgaW50byBhIGNvbXBhY3QgbG9jYWxpemVkIHN0cmluZ1xuICogcmVwcmVzZW50YXRpb24gb2YgdGhhdCB2YWx1ZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgLSBudW1lcmljIHZhbHVlIG9mIHRoZSBjb250cm9sXG4gKiBAcmV0dXJucyB7c3RyaW5nfSAtIGxvY2FsaXplZCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdmFsdWVcbiAqIEBvdmVycmlkZVxuICovXG5OZXRTaW1CYW5kd2lkdGhDb250cm9sLnByb3RvdHlwZS52YWx1ZVRvTGFiZWwgPSBmdW5jdGlvbiAodmFsKSB7XG4gIHJldHVybiBOZXRTaW1VdGlscy5iaXRyYXRlVG9Mb2NhbGl6ZWRSb3VuZGVkQml0cmF0ZSh2YWwpO1xufTtcbiIsIi8qKlxuICogQG92ZXJ2aWV3IEJhc2UgaW1wbGVtZW50YXRpb24gb2YgTmV0U2ltIFVJIHNsaWRlcnMuXG4gKi9cbi8vIFN0cmljdCBsaW50aW5nOiBBYnNvcmIgaW50byBnbG9iYWwgY29uZmlnIHdoZW4gcG9zc2libGVcbi8qIGpzaGludFxuIHVudXNlZDogdHJ1ZSxcbiBlcWVxZXE6IHRydWUsXG4gbWF4bGVuOiAxMjBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xudmFyIG1hcmt1cCA9IHJlcXVpcmUoJy4vTmV0U2ltU2xpZGVyLmh0bWwuZWpzJyk7XG52YXIgaTE4biA9IHJlcXVpcmUoJy4vbG9jYWxlJyk7XG5cbi8qKlxuICogQHR5cGUge251bWJlcn1cbiAqIEBjb25zdFxuICovXG52YXIgU0xJREVSX0RFRkFVTFRfTUlOX1ZBTFVFID0gMDtcblxuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGNvbnN0XG4gKi9cbnZhciBTTElERVJfREVGQVVMVF9NQVhfVkFMVUUgPSAxMDA7XG5cbi8qKlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtqUXVlcnl9IHJvb3REaXYgLSBlbGVtZW50IHdob3NlIGNvbnRlbnQgd2UgcmVwbGFjZSB3aXRoIHRoZSBzbGlkZXJcbiAqICAgICAgICBvbiByZW5kZXIoKVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IFtvcHRpb25zLm9uQ2hhbmdlXSAtIGEgZnVuY3Rpb24gaW52b2tlZCB3aGVuZXZlciB0aGVcbiAqICAgICAgICBzbGlkZXItdmFsdWUgaXMgY2hhbmdlZCBieSB0aGUgc3R1ZGVudC4gIFBhc3NlZCB0aGUgbmV3IHZhbHVlIGFzIGFuXG4gKiAgICAgICAgYXJndW1lbnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0aW9ucy5vblN0b3BdIC0gYSBmdW5jdGlvbiBpbnZva2VkIG9ubHkgd2hlbiB0aGVcbiAqICAgICAgICBzbGlkZXItaGFuZGxlIGlzIHJlbGVhc2VkIGJ5IHRoZSBzdHVkZW50LiAgUGFzc2VkIHRoZSBuZXcgdmFsdWUgYXMgYW5cbiAqICAgICAgICBhcmd1bWVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy52YWx1ZV0gLSBJbml0aWFsIHZhbHVlIG9mIHRoZSBzbGlkZXIuICBEZWZhdWx0cyB0b1xuICogICAgICAgIHNsaWRlciBtaW5pbXVtIHZhbHVlLlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1pbl0gLSBMb3dlc3QgcG9zc2libGUgdmFsdWUgb2YgdGhlIHNsaWRlcjtcbiAqICAgICAgICBuZXh0LXRvLWxvd2VzdCBpZiBsb3dlckJvdW5kSW5maW5pdGUgaXMgdHJ1ZS4gIERlZmF1bHRzIHRvIHplcm8uXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4XSAtIEhpZ2hlc3QgcG9zc2libGUgdmFsdWUgb2YgdGhlIHNsaWRlcjtcbiAqICAgICAgICBuZXh0LXRvLWhpZ2hlc3QgaWYgdXBwZXJCb3VuZEluZmluaXRlIGlzIHRydWUuICBEZWZhdWx0cyB0byAxMDAuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc3RlcF0gLSBTdGVwLXZhbHVlIG9mIGpRdWVyeVVJIHNsaWRlciAtIG5vdFxuICogICAgICAgIG5lY2Vzc2FyaWx5IHJlbGF0ZWQgdG8gbWluIGFuZCBtYXggdmFsdWVzIGlmIHlvdSBwcm92aWRlIGN1c3RvbSB2YWx1ZVxuICogICAgICAgIGNvbnZlcnRlcnMuIERlZmF1bHRzIHRvIDEuICBJZiBuZWdhdGl2ZSwgdGhlIHNsaWRlciBpcyByZXZlcnNlZCBhbmRcbiAqICAgICAgICBwdXRzIHRoZSBtaW4gdmFsdWUgb24gdGhlIHJpZ2h0LiAgQ2Fubm90IGJlIHplcm8gb3Igbm9uaW50ZWdlci5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudXBwZXJCb3VuZEluZmluaXRlXSAtIGlmIFRSVUUsIHRoZSBoaWdoZXN0IHZhbHVlXG4gKiAgICAgICAgb24gdGhlIHNsaWRlciB3aWxsIGJlIEluZmluaXR5L1VubGltaXRlZC4gIERlZmF1bHQgRkFMU0UuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxvd2VyQm91bmRJbmZpbml0ZV0gLSBpZiBUUlVFLCB0aGUgbG93ZXN0IHZhbHVlXG4gKiAgICAgICAgb24gdGhlIHNsaWRlciB3aWxsIGJlIC1JbmZpbml0eS9VbmxpbWl0ZWQuICBEZWZhdWx0IEZBTFNFLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5pc0Rpc2FibGVkXSAtIGlmIFRSVUUgdGhlIHNsaWRlciB2YWx1ZSBpcyBsb2NrZWRcbiAqICAgICAgICBhbmQgY2Fubm90IGJlIGNoYW5nZWQuXG4gKi9cbnZhciBOZXRTaW1TbGlkZXIgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChyb290RGl2LCBvcHRpb25zKSB7XG4gIC8qKlxuICAgKiBVbmlxdWUgaW5zdGFuY2UgSUQgZm9yIHRoaXMgcGFuZWwsIGluIGNhc2Ugd2UgaGF2ZSBzZXZlcmFsXG4gICAqIG9mIHRoZW0gb24gYSBwYWdlLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5pbnN0YW5jZUlEXyA9IE5ldFNpbVNsaWRlci51bmlxdWVJRENvdW50ZXI7XG4gIE5ldFNpbVNsaWRlci51bmlxdWVJRENvdW50ZXIrKztcblxuICAvKipcbiAgICogQHR5cGUge2pRdWVyeX1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucm9vdERpdl8gPSByb290RGl2O1xuXG4gIC8qKlxuICAgKiBBIGZ1bmN0aW9uIGludm9rZWQgd2hlbmV2ZXIgdGhlIHNsaWRlci12YWx1ZSBpcyBjaGFuZ2VkIGJ5IHRoZSBzdHVkZW50LlxuICAgKiBQYXNzZWQgdGhlIG5ldyB2YWx1ZSAobm90IHNsaWRlciBwb3NpdGlvbikgYXMgYW4gYXJndW1lbnQuXG4gICAqIEB0eXBlIHtmdW5jdGlvbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuY2hhbmdlQ2FsbGJhY2tfID0gdXRpbHMudmFsdWVPcihvcHRpb25zLm9uQ2hhbmdlLCBmdW5jdGlvbiAoKSB7fSk7XG5cbiAgLyoqXG4gICAqIEEgZnVuY3Rpb24gaW52b2tlZCBvbmx5IHdoZW4gdGhlIHNsaWRlci1oYW5kbGUgaXMgcmVsZWFzZWQgYnkgdGhlIHN0dWRlbnQuXG4gICAqIFBhc3NlZCB0aGUgbmV3IHZhbHVlIChub3Qgc2xpZGVyIHBvc2l0aW9uKSBhcyBhbiBhcmd1bWVudFxuICAgKiBAdHlwZSB7ZnVuY3Rpb259XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnN0b3BDYWxsYmFja18gPSB1dGlscy52YWx1ZU9yKG9wdGlvbnMub25TdG9wLCBmdW5jdGlvbiAoKSB7fSk7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLm1pblZhbHVlXyA9IHV0aWxzLnZhbHVlT3Iob3B0aW9ucy5taW4sIFNMSURFUl9ERUZBVUxUX01JTl9WQUxVRSk7XG5cbiAgLyoqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLm1heFZhbHVlXyA9IHV0aWxzLnZhbHVlT3Iob3B0aW9ucy5tYXgsIFNMSURFUl9ERUZBVUxUX01BWF9WQUxVRSk7XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IChvdXR3YXJkLWZhY2luZykgdmFsdWUgb2YgdGhlIHNsaWRlci5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMudmFsdWVfID0gdXRpbHMudmFsdWVPcihvcHRpb25zLnZhbHVlLCB0aGlzLm1pblZhbHVlXyk7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIHNsaWRlciBtYXhpbXVtIHZhbHVlIHNob3VsZCBiZSBJbmZpbml0eS5cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLmlzVXBwZXJCb3VuZEluZmluaXRlXyA9IHV0aWxzLnZhbHVlT3Iob3B0aW9ucy51cHBlckJvdW5kSW5maW5pdGUsIGZhbHNlKTtcblxuICAvKipcbiAgICogV2hldGhlciB0aGUgc2xpZGVyIG1pbmltaW11bSB2YWx1ZSBzaG91bGQgYmUgLUluZmluaXR5LlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuaXNMb3dlckJvdW5kSW5maW5pdGVfID0gdXRpbHMudmFsdWVPcihvcHRpb25zLmxvd2VyQm91bmRJbmZpbml0ZSwgZmFsc2UpO1xuXG4gIC8qKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5zdGVwXyA9IHV0aWxzLnZhbHVlT3Iob3B0aW9ucy5zdGVwLCAxKTtcbiAgaWYgKHRoaXMuc3RlcF8gPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOZXRTaW1TbGlkZXIgZG9lcyBub3Qgc3VwcG9ydCB6ZXJvIHN0ZXAgdmFsdWVzLlwiKTtcbiAgfSBlbHNlIGlmICh0aGlzLnN0ZXBfICUgMSAhPT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5ldFNpbVNsaWRlciBkb2VzIG5vdCBzdXBwb3J0IG5vbi1pbnRlZ2VyIHN0ZXAgdmFsdWVzLiBcIiArXG4gICAgICAgIFwiIFVzZSBEZWNpbWFsUHJlY2lzaW9uU2xpZGVyIGluc3RlYWQuXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIHNsaWRlciBpcyBkaXNhYmxlZCBhbmQgbm9uaW50ZXJhY3RhYmxlLlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMuaXNEaXNhYmxlZF8gPSB1dGlscy52YWx1ZU9yKG9wdGlvbnMuaXNEaXNhYmxlZCwgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBTdGF0aWMgY291bnRlciB1c2VkIHRvIGdlbmVyYXRlL3VuaXF1ZWx5IGlkZW50aWZ5IGRpZmZlcmVudCBpbnN0YW5jZXNcbiAqIG9mIHRoaXMgY29tcG9uZW50IG9uIHRoZSBwYWdlXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5OZXRTaW1TbGlkZXIudW5pcXVlSURDb3VudGVyID0gMDtcblxuLyoqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVFJVRSBpZiB0aGUgc3RlcCB2YWx1ZSBpcyBsZXNzIHRoYW4gemVyby5cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVNsaWRlci5wcm90b3R5cGUuaXNTdGVwTmVnYXRpdmVfID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5zdGVwXyA8IDA7XG59O1xuXG4vKipcbiAqIEZpbGwgdGhlIHJvb3QgZGl2IHdpdGggbmV3IGVsZW1lbnRzIHJlZmxlY3RpbmcgdGhlIGN1cnJlbnQgc3RhdGVcbiAqL1xuTmV0U2ltU2xpZGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBtaW5WYWx1ZSA9IHRoaXMuaXNMb3dlckJvdW5kSW5maW5pdGVfID8gLUluZmluaXR5IDogdGhpcy5taW5WYWx1ZV87XG4gIHZhciBtYXhWYWx1ZSA9IHRoaXMuaXNVcHBlckJvdW5kSW5maW5pdGVfID8gSW5maW5pdHkgOiB0aGlzLm1heFZhbHVlXztcbiAgdmFyIG1pblBvc2l0aW9uID0gdGhpcy52YWx1ZVRvU2xpZGVyUG9zaXRpb24oXG4gICAgICB0aGlzLmlzU3RlcE5lZ2F0aXZlXygpID8gbWF4VmFsdWUgOiBtaW5WYWx1ZSk7XG4gIHZhciBtYXhQb3NpdGlvbiA9IHRoaXMudmFsdWVUb1NsaWRlclBvc2l0aW9uKFxuICAgICAgdGhpcy5pc1N0ZXBOZWdhdGl2ZV8oKSA/IG1pblZhbHVlIDogbWF4VmFsdWUpO1xuXG4gIHZhciByZW5kZXJlZE1hcmt1cCA9ICQobWFya3VwKHtcbiAgICBpbnN0YW5jZUlEOiB0aGlzLmluc3RhbmNlSURfLFxuICAgIG1pblZhbHVlOiB0aGlzLnZhbHVlVG9TaG9ydExhYmVsKHRoaXMuaXNTdGVwTmVnYXRpdmVfKCkgPyBtYXhWYWx1ZSA6IG1pblZhbHVlKSxcbiAgICBtYXhWYWx1ZTogdGhpcy52YWx1ZVRvU2hvcnRMYWJlbCh0aGlzLmlzU3RlcE5lZ2F0aXZlXygpID8gbWluVmFsdWUgOiBtYXhWYWx1ZSlcbiAgfSkpO1xuICB0aGlzLnJvb3REaXZfLmh0bWwocmVuZGVyZWRNYXJrdXApO1xuXG4gIHRoaXMucm9vdERpdl8uZmluZCgnLnNsaWRlcicpXG4gICAgICAuc2xpZGVyKHtcbiAgICAgICAgdmFsdWU6IHRoaXMudmFsdWVUb1NsaWRlclBvc2l0aW9uKHRoaXMudmFsdWVfKSxcbiAgICAgICAgbWluOiBtaW5Qb3NpdGlvbixcbiAgICAgICAgbWF4OiBtYXhQb3NpdGlvbixcbiAgICAgICAgc3RlcDogTWF0aC5hYnModGhpcy5zdGVwXyksXG4gICAgICAgIHNsaWRlOiB0aGlzLm9uU2xpZGVyVmFsdWVDaGFuZ2VfLmJpbmQodGhpcyksXG4gICAgICAgIHN0b3A6IHRoaXMub25TbGlkZXJTdG9wXy5iaW5kKHRoaXMpLFxuICAgICAgICBkaXNhYmxlZDogdGhpcy5pc0Rpc2FibGVkX1xuICAgICAgfSk7XG5cbiAgLy8gVXNlIHdpZGVyIGxhYmVscyBpZiB3ZSBoYXZlIGFuIGluZmluaXRlIGJvdW5kXG4gIGlmICh0aGlzLmlzTG93ZXJCb3VuZEluZmluaXRlXyB8fCB0aGlzLmlzVXBwZXJCb3VuZEluZmluaXRlXykge1xuICAgIHRoaXMucm9vdERpdl8uZmluZCgnLnNsaWRlci1sYWJlbHMnKS5hZGRDbGFzcygnd2lkZS1sYWJlbHMnKTtcbiAgfVxuXG4gIHRoaXMuc2V0TGFiZWxGcm9tVmFsdWVfKHRoaXMudmFsdWVfKTtcbn07XG5cbi8qKlxuICogRGlzYWJsZSB0aGlzIHNsaWRlciwgc28gdGhlIHVzZXIgY2FuJ3QgY2hhbmdlIGl0cyB2YWx1ZVxuICovXG5OZXRTaW1TbGlkZXIucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuaXNEaXNhYmxlZF8gPSB0cnVlO1xuICB0aGlzLnJvb3REaXZfLmZpbmQoJy5zbGlkZXInKS5zbGlkZXIoJ29wdGlvbicsICdkaXNhYmxlZCcsIHRydWUpO1xufTtcblxuLyoqXG4gKiBFbmFibGUgdGhpcyBzbGlkZXIsIHNvIHRoZSB1c2VyIGNhbiBjaGFuZ2UgaXRzIHZhbHVlXG4gKi9cbk5ldFNpbVNsaWRlci5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmlzRGlzYWJsZWRfID0gZmFsc2U7XG4gIHRoaXMucm9vdERpdl8uZmluZCgnLnNsaWRlcicpLnNsaWRlcignb3B0aW9uJywgJ2Rpc2FibGVkJywgZmFsc2UpO1xufTtcblxuLyoqXG4gKiBFeHRlcm5hbCBhY2Nlc3MgdG8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgc2xpZGVyLlxuICogQHBhcmFtIHtudW1iZXJ9IG5ld1ZhbHVlXG4gKi9cbk5ldFNpbVNsaWRlci5wcm90b3R5cGUuc2V0VmFsdWUgPSBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgaWYgKHRoaXMudmFsdWVfID09PSBuZXdWYWx1ZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMudmFsdWVfID0gbmV3VmFsdWU7XG4gIHRoaXMucm9vdERpdl8uZmluZCgnLnNsaWRlcicpLnNsaWRlcignb3B0aW9uJywgJ3ZhbHVlJyxcbiAgICAgIHRoaXMudmFsdWVUb1NsaWRlclBvc2l0aW9uKG5ld1ZhbHVlKSk7XG4gIHRoaXMuc2V0TGFiZWxGcm9tVmFsdWVfKG5ld1ZhbHVlKTtcbn07XG5cbi8qKiBAcHJpdmF0ZSAqL1xuTmV0U2ltU2xpZGVyLnByb3RvdHlwZS5vblNsaWRlclZhbHVlQ2hhbmdlXyA9IGZ1bmN0aW9uIChldmVudCwgdWkpIHtcbiAgdmFyIG5ld1ZhbHVlID0gdGhpcy5zbGlkZXJQb3NpdGlvblRvVmFsdWUodWkudmFsdWUpO1xuICB0aGlzLnZhbHVlXyA9IG5ld1ZhbHVlO1xuICB0aGlzLnNldExhYmVsRnJvbVZhbHVlXyhuZXdWYWx1ZSk7XG4gIHRoaXMuY2hhbmdlQ2FsbGJhY2tfKG5ld1ZhbHVlKTtcbn07XG5cbi8qKiBAcHJpdmF0ZSAqL1xuTmV0U2ltU2xpZGVyLnByb3RvdHlwZS5vblNsaWRlclN0b3BfID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnN0b3BDYWxsYmFja18odGhpcy52YWx1ZV8pO1xufTtcblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBzbGlkZXIgbGFiZWwgdG8gbG9jYWxpemUgYW5kIGRpc3BsYXkgdGhlIGdpdmVuIHZhbHVlLlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCAtIHNsaWRlciB2YWx1ZSB0byBkaXNwbGF5XG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1TbGlkZXIucHJvdG90eXBlLnNldExhYmVsRnJvbVZhbHVlXyA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgdGhpcy5yb290RGl2Xy5maW5kKCcuc2xpZGVyLXZhbHVlJykudGV4dCh0aGlzLnZhbHVlVG9MYWJlbCh2YWwpKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgdGhlIGdpdmVuIHZhbHVlIGludG8gYW4gaW50ZXJuYWwgdmFsdWUgd2UgY2FuIHBhc3MgdG8gdGhlXG4gKiBqUXVlcnlVSSBzbGlkZXIgY29udHJvbC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgLSBleHRlcm5hbC1mYWNpbmcgdmFsdWVcbiAqIEByZXR1cm5zIHtudW1iZXJ9IC0gaW50ZXJuYWwgc2xpZGVyIHZhbHVlXG4gKi9cbk5ldFNpbVNsaWRlci5wcm90b3R5cGUudmFsdWVUb1NsaWRlclBvc2l0aW9uID0gZnVuY3Rpb24gKHZhbCkge1xuICBpZiAodGhpcy5pc1VwcGVyQm91bmRJbmZpbml0ZV8gJiYgdmFsID4gdGhpcy5tYXhWYWx1ZV8pIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZVRvU2xpZGVyUG9zaXRpb24odGhpcy5tYXhWYWx1ZV8pICsgdGhpcy5zdGVwXztcbiAgfSBlbHNlIGlmICh0aGlzLmlzTG93ZXJCb3VuZEluZmluaXRlXyAmJiB2YWwgPCB0aGlzLm1pblZhbHVlXykge1xuICAgIHJldHVybiB0aGlzLnZhbHVlVG9TbGlkZXJQb3NpdGlvbih0aGlzLm1pblZhbHVlXykgLSB0aGlzLnN0ZXBfO1xuICB9XG4gIHJldHVybiBNYXRoLm1heCh0aGlzLm1pblZhbHVlXywgTWF0aC5taW4odGhpcy5tYXhWYWx1ZV8sIHZhbCkpICpcbiAgICAgICh0aGlzLmlzU3RlcE5lZ2F0aXZlXygpID8gLTEgOiAxKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgdGhlIGludGVybmFsIGpRdWVyeVVJIHNsaWRlciB2YWx1ZSBpbnRvIGFuIGV4dGVybmFsLWZhY2luZ1xuICogdmFsdWUgZm9yIHRoaXMgY29udHJvbC5cbiAqIFNob3VsZCBiZSBhbiBpbnZlcnNlIG9mIHZhbHVlVG9TbGlkZXJQb3NpdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyAtIGludGVybmFsIHNsaWRlciB2YWx1ZVxuICogQHJldHVybnMge251bWJlcn0gLSBleHRlcm5hbC1mYWNpbmcgdmFsdWVcbiAqL1xuTmV0U2ltU2xpZGVyLnByb3RvdHlwZS5zbGlkZXJQb3NpdGlvblRvVmFsdWUgPSBmdW5jdGlvbiAocG9zKSB7XG4gIGlmICh0aGlzLmlzU3RlcE5lZ2F0aXZlXygpKSB7XG4gICAgaWYgKHBvcyA8IHRoaXMudmFsdWVUb1NsaWRlclBvc2l0aW9uKHRoaXMubWF4VmFsdWVfKSkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNVcHBlckJvdW5kSW5maW5pdGVfID8gSW5maW5pdHkgOiB0aGlzLm1heFZhbHVlXztcbiAgICB9IGVsc2UgaWYgKHBvcyA+IHRoaXMudmFsdWVUb1NsaWRlclBvc2l0aW9uKHRoaXMubWluVmFsdWVfKSkge1xuICAgICAgcmV0dXJuIHRoaXMuaXNMb3dlckJvdW5kSW5maW5pdGVfID8gLUluZmluaXR5IDogdGhpcy5taW5WYWx1ZV87XG4gICAgfVxuICAgIHJldHVybiAtcG9zO1xuICB9IGVsc2Uge1xuICAgIGlmIChwb3MgPiB0aGlzLnZhbHVlVG9TbGlkZXJQb3NpdGlvbih0aGlzLm1heFZhbHVlXykpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzVXBwZXJCb3VuZEluZmluaXRlXyA/IEluZmluaXR5IDogdGhpcy5tYXhWYWx1ZV87XG4gICAgfSBlbHNlIGlmIChwb3MgPCB0aGlzLnZhbHVlVG9TbGlkZXJQb3NpdGlvbih0aGlzLm1pblZhbHVlXykpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzTG93ZXJCb3VuZEluZmluaXRlXyA/IC1JbmZpbml0eSA6IHRoaXMubWluVmFsdWVfO1xuICAgIH1cbiAgICByZXR1cm4gcG9zO1xuICB9XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGFuIGV4dGVybmFsLWZhY2luZyBudW1lcmljIHZhbHVlIGludG8gYSBsb2NhbGl6ZWQgc3RyaW5nXG4gKiByZXByZXNlbnRhdGlvbiBvZiB0aGF0IHZhbHVlLlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCAtIG51bWVyaWMgdmFsdWUgb2YgdGhlIGNvbnRyb2xcbiAqIEByZXR1cm5zIHtzdHJpbmd9IC0gbG9jYWxpemVkIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB2YWx1ZVxuICovXG5OZXRTaW1TbGlkZXIucHJvdG90eXBlLnZhbHVlVG9MYWJlbCA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgaWYgKHZhbCA9PT0gSW5maW5pdHkgfHwgdmFsID09PSAtSW5maW5pdHkpIHtcbiAgICByZXR1cm4gaTE4bi51bmxpbWl0ZWQoKTtcbiAgfVxuICByZXR1cm4gdmFsO1xufTtcblxuLyoqXG4gKiBBbHRlcm5hdGUgbGFiZWwgY29udmVydGVyLCB1c2VkIGZvciBzbGlkZXIgZW5kIGxhYmVscy5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgLSBudW1lcmljIHZhbHVlIG9mIHRoZSBjb250cm9sXG4gKiBAcmV0dXJucyB7c3RyaW5nfSAtIGxvY2FsaXplZCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdmFsdWVcbiAqL1xuTmV0U2ltU2xpZGVyLnByb3RvdHlwZS52YWx1ZVRvU2hvcnRMYWJlbCA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgcmV0dXJuIHRoaXMudmFsdWVUb0xhYmVsKHZhbCk7XG59O1xuXG4vKipcbiAqIFNpbmNlIGpRdWVyeVVJIHNsaWRlcnMgZG9uJ3Qgc3VwcG9ydCBub25pbnRlZ2VyIHN0ZXAgdmFsdWVzLCB0aGlzIGlzXG4gKiBhIHNpbXBsZSBoZWxwZXIgd3JhcHBlZCBhcm91bmQgTmV0U2ltU2xpZGVyIHRoYXQgYWRkcyBzdXBwb3J0IGZvclxuICogZnJhY3Rpb25hbCBzdGVwIHZhbHVlcyBkb3duIHRvIGEgZ2l2ZW4gcHJlY2lzaW9uLlxuICogQHBhcmFtIHtqUXVlcnl9IHJvb3REaXZcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gdGFrZXMgTmV0U2ltU2xpZGVyIG9wdGlvbnMsIGV4Y2VwdDpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zdGVwXSAtIHZhbHVlcyBiZXR3ZWVuIDAgYW5kIDEgYXJlIGFsbG93ZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucHJlY2lzaW9uXSAtIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyBvZiBwcmVjaXNpb25cbiAqICAgICAgICB0aGlzIHNsaWRlciBuZWVkcyAoY2FuIG1hdGNoIHRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgaW4geW91clxuICogICAgICAgIHN0ZXAgdmFsdWUpLiAgRGVmYXVsdCAyLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbk5ldFNpbVNsaWRlci5EZWNpbWFsUHJlY2lzaW9uU2xpZGVyID0gZnVuY3Rpb24gKHJvb3REaXYsIG9wdGlvbnMpIHtcbiAgLyoqXG4gICAqIE51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyBvZiBwcmVjaXNpb24gYWRkZWQgdG8gdGhlIGRlZmF1bHQgc2xpZGVyXG4gICAqIGZ1bmN0aW9uYWxpdHkuXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnByZWNpc2lvbl8gPSB1dGlscy52YWx1ZU9yKG9wdGlvbnMucHJlY2lzaW9uLCAyKTtcblxuICAvLyBXZSBjb252ZXJ0IHRoZSBnaXZlbiBzdGVwIHZhbHVlIGJ5IHRoZSByZXF1ZXN0ZWQgcHJlY2lzaW9uIGJlZm9yZSBwYXNzaW5nXG4gIC8vIGl0IG9uIHRvIE5ldFNpbVNsaWRlciwgc28gdGhhdCB3ZSBnaXZlIE5ldFNpbVNsaWRlciBhbiBpbnRlZ2VyIHN0ZXAgdmFsdWUuXG4gIG9wdGlvbnMuc3RlcCA9IG9wdGlvbnMuc3RlcCAqIE1hdGgucG93KDEwLCB0aGlzLnByZWNpc2lvbl8pO1xuXG4gIE5ldFNpbVNsaWRlci5jYWxsKHRoaXMsIHJvb3REaXYsIG9wdGlvbnMpO1xufTtcbk5ldFNpbVNsaWRlci5EZWNpbWFsUHJlY2lzaW9uU2xpZGVyLmluaGVyaXRzKE5ldFNpbVNsaWRlcik7XG5cbi8qKlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCAtIGV4dGVybmFsLWZhY2luZyB2YWx1ZVxuICogQHJldHVybnMge251bWJlcn0gLSBpbnRlcm5hbCBzbGlkZXIgdmFsdWVcbiAqIEBvdmVycmlkZVxuICovXG5OZXRTaW1TbGlkZXIuRGVjaW1hbFByZWNpc2lvblNsaWRlci5wcm90b3R5cGUudmFsdWVUb1NsaWRlclBvc2l0aW9uID0gZnVuY3Rpb24gKHZhbCkge1xuICAvLyBVc2UgY2xhbXBpbmcgZnJvbSBwYXJlbnQgY2xhc3MsIHdoaWNoIHNob3VsZCBiZSBhcHBsaWVkIGJlZm9yZSBvdXIgdHJhbnNmb3JtLlxuICByZXR1cm4gTmV0U2ltU2xpZGVyLnByb3RvdHlwZS52YWx1ZVRvU2xpZGVyUG9zaXRpb24uY2FsbCh0aGlzLCB2YWwpICpcbiAgICAgIE1hdGgucG93KDEwLCB0aGlzLnByZWNpc2lvbl8pO1xufTtcblxuLyoqXG4gKiBTaG91bGQgYmUgYW4gaW52ZXJzZSBvZiB2YWx1ZVRvU2xpZGVyUG9zaXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBwb3MgLSBpbnRlcm5hbCBzbGlkZXIgdmFsdWVcbiAqIEByZXR1cm5zIHtudW1iZXJ9IC0gZXh0ZXJuYWwtZmFjaW5nIHZhbHVlXG4gKiBAb3ZlcnJpZGVcbiAqL1xuTmV0U2ltU2xpZGVyLkRlY2ltYWxQcmVjaXNpb25TbGlkZXIucHJvdG90eXBlLnNsaWRlclBvc2l0aW9uVG9WYWx1ZSA9IGZ1bmN0aW9uIChwb3MpIHtcbiAgLy8gVXNlIGNsYW1waW5nIGZyb20gcGFyZW50IGNsYXNzLCB3aGljaCBzaG91bGQgYmUgYXBwbGllZCBiZWZvcmUgb3VyIHRyYW5zZm9ybS5cbiAgcmV0dXJuIE5ldFNpbVNsaWRlci5wcm90b3R5cGUuc2xpZGVyUG9zaXRpb25Ub1ZhbHVlLmNhbGwodGhpcywgcG9zKSAvXG4gICAgICBNYXRoLnBvdygxMCwgdGhpcy5wcmVjaXNpb25fKTtcbn07XG5cbi8qKlxuICogRGVmYXVsdCBtaW5pbXVtIG9mIHplcm8gaXMgdXNlbGVzcyB0byBhIGxvZ2FyaXRobWljIHNjYWxlXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGNvbnN0XG4gKi9cbnZhciBMT0dBUklUSE1JQ19ERUZBVUxUX01JTl9WQUxVRSA9IDE7XG5cbi8qKlxuICogQnkgZGVmYXVsdCwgYSBsb2dhcml0aG1pYyBzY2FsZSBzbGlkZXIgaW5jcmVhc2VzIGJ5IGEgZmFjdG9yIG9mIDJcbiAqIGV2ZXJ5IHN0ZXAuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG52YXIgTE9HQVJJVEhNSUNfREVGQVVMVF9CQVNFID0gMjtcblxuLyoqXG4gKiBAcGFyYW0ge2pRdWVyeX0gcm9vdERpdlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSB0YWtlcyBOZXRTaW1TbGlkZXIgb3B0aW9ucywgZXhjZXB0OlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1pbl0gLSBzYW1lIGFzIGJhc2Ugc2xpZGVyLCBidXQgZGVmYXVsdHMgdG8gMS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5sb2dCYXNlXSAtIGZhY3RvciBieSB3aGljaCB0aGUgdmFsdWUgaW5jcmVhc2VzXG4gKiAgICAgICAgd2l0aCBldmVyeSBzbGlkZXIgc3RlcC4gIERlZmF1bHQgYmFzZSAyLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXVnbWVudHMgTmV0U2ltU2xpZGVyXG4gKi9cbk5ldFNpbVNsaWRlci5Mb2dhcml0aG1pY1NsaWRlciA9IGZ1bmN0aW9uIChyb290RGl2LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMubWluID0gdXRpbHMudmFsdWVPcihvcHRpb25zLm1pbiwgTE9HQVJJVEhNSUNfREVGQVVMVF9NSU5fVkFMVUUpO1xuICBOZXRTaW1TbGlkZXIuY2FsbCh0aGlzLCByb290RGl2LCBvcHRpb25zKTtcblxuICAvKipcbiAgICogRmFjdG9yIGJ5IHdoaWNoIHRoZSB2YWx1ZSBpbmNyZWFzZXMgd2l0aCBldmVyeSBzbGlkZXIgc3RlcC5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMubG9nQmFzZV8gPSB1dGlscy52YWx1ZU9yKG9wdGlvbnMubG9nQmFzZSwgTE9HQVJJVEhNSUNfREVGQVVMVF9CQVNFKTtcblxuICAvKipcbiAgICogUHJlY2FsY3VsYXRlIG5hdHVyYWwgbG9nIG9mIG91ciBiYXNlIHZhbHVlLCBiZWNhdXNlIHdlJ2xsIHVzZSBpdCBhIGxvdC5cbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMubG5Mb2dCYXNlXyA9IE1hdGgubG9nKHRoaXMubG9nQmFzZV8pO1xuXG4gIHRoaXMuY2FsY3VsYXRlU2xpZGVyQm91bmRzXygpO1xufTtcbk5ldFNpbVNsaWRlci5Mb2dhcml0aG1pY1NsaWRlci5pbmhlcml0cyhOZXRTaW1TbGlkZXIpO1xuXG4vKipcbiAqIEZvciB0aGUgbG9nYXJpdGhtaWMgc2xpZGVyLCBpdCdzIGVhc2llc3QgdG8gY2FsY3VsYXRlIHRoZSBzbGlkZXJcbiAqIGJvdW5kYXJ5IHZhbHVlcyBvbmNlIGFuZCB1c2UgdGhlbSBsYXRlci5cbiAqIEBwcml2YXRlXG4gKi9cbk5ldFNpbVNsaWRlci5Mb2dhcml0aG1pY1NsaWRlci5wcm90b3R5cGUuY2FsY3VsYXRlU2xpZGVyQm91bmRzXyA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gUGljayBib3VuZGFyeSBzbGlkZXIgdmFsdWVzXG4gIHRoaXMubWF4U2xpZGVyUG9zaXRpb24gPSB0aGlzLmxvZ0Zsb29yXyh0aGlzLm1heFZhbHVlXyk7XG4gIC8vIEFkZCBhIHN0ZXAgaWYgd2UgZG9uJ3QgYWxyZWFkeSBsYW5kIGV4YWN0bHkgb24gYSBzdGVwLCB0b1xuICAvLyBjb21wZW5zYXRlIGZvciB0aGUgZmxvb3IoKSBvcGVyYXRpb25cbiAgaWYgKE1hdGgucG93KHRoaXMubG9nQmFzZV8sIHRoaXMubWF4U2xpZGVyUG9zaXRpb24pICE9PSB0aGlzLm1heFZhbHVlXykge1xuICAgIHRoaXMubWF4U2xpZGVyUG9zaXRpb24gKz0gdGhpcy5zdGVwXztcbiAgfVxuICB0aGlzLm1pblNsaWRlclBvc2l0aW9uID0gdGhpcy5sb2dGbG9vcl8odGhpcy5taW5WYWx1ZV8pO1xuXG4gIC8vIFBpY2sgaW5maW5pdHkgc2xpZGVyIHZhbHVlc1xuICB0aGlzLmluZmluaXR5U2xpZGVyUG9zaXRpb24gPSB0aGlzLm1heFNsaWRlclBvc2l0aW9uICsgdGhpcy5zdGVwXztcbiAgdGhpcy5uZWdJbmZpbml0eVNsaWRlclBvc2l0aW9uID0gdGhpcy5taW5TbGlkZXJQb3NpdGlvbiAtIHRoaXMuc3RlcF87XG59O1xuXG4vKipcbiAqIENoZWF0ZXIgXCJmbG9vcihsb2dfYmFzZV9uKHgpKVwiIG1ldGhvZCB3aXRoIGEgaGFja3kgd29ya2Fyb3VuZCBmb3JcbiAqIGZsb2F0aW5nLXBvaW50IGVycm9ycy4gIFVzZXMgdGhlIGxvZ2FyaXRobWljIGJhc2UgZmFjdG9yIHRoYXQgdGhlIHNsaWRlclxuICogaXMgY29uZmlndXJlZCBmb3IgKHRoaXMubG9nQmFzZV8pLiBHb29kIGVub3VnaCBmb3IgdGhlIHNsaWRlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWxcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5OZXRTaW1TbGlkZXIuTG9nYXJpdGhtaWNTbGlkZXIucHJvdG90eXBlLmxvZ0Zsb29yXyA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgLy8gSmF2YVNjcmlwdCBmbG9hdGluZy1wb2ludCBtYXRoIGNhdXNlcyB0aGlzIGxvZ2FyaXRobSBjYWxjdWxhdGlvbiB0b1xuICAvLyBzb21ldGltZXMgcmV0dXJuIHNsaWdodGx5IGltcHJlY2lzZSB2YWx1ZXMuIEZvciBleGFtcGxlOlxuICAvLyBsb2coMTAwMCkgLyBsb2coMTApID09PSAyLjk5OTk5OTk5OTk5OTk5OTZcbiAgLy8gQWx0aG91Z2ggd2UgdXN1YWxseSB3YW50IHRvIGZsb29yIG5vbmludGVnZXIgdmFsdWVzLCB0aGUgYWJvdmUgY2FsY3VsYXRpb25cbiAgLy8gaXMgc3VwcG9zZWQgdG8gY29tZSBvdXQgYXMgZXhhY3RseSAzLlxuICAvLyBUaGUgZnVkZ2UgZmFjdG9yIGJlbG93IGdpdmVzIGEgdGhyZXNob2xkIGF0IHdoaWNoIHdlIHdpbGwgY2VpbCgpIGEgcmVzdWx0XG4gIC8vIHJhdGhlciB0aGFuIGZsb29yKCkgaXQsIHRvIGFjY291bnQgZm9yIHRoaXMgaW1wcmVjaXNpb24uXG4gIC8vIFRoZSBfcmlnaHRfIHdheSB0byBmaXggdGhpcyBpcyB0byB1c2UgYSBiZXR0ZXIgbnVtYmVyIHR5cGUgbGlrZSBCaWdEZWNpbWFsLFxuICAvLyBidXQgaXQncyBub3QgcmVhbGx5IHdvcnRoIGl0IGZvciB0aGlzIHVzZSBjYXNlLiAgU2l4IGRpZ2l0cyBpcyBtb3JlIHRoYW5cbiAgLy8gZW5vdWdoIHByZWNpc2lvbiBmb3IgdGhlIHNsaWRlciB3aGVuIHdlJ3JlIHRyeWluZyB0byB3b3JrIHdpdGggd2hvbGVcbiAgLy8gbnVtYmVycyBhbnl3YXkuXG4gIHZhciBjZWlsVGhyZXNob2xkID0gMC4wMDAwMDAxO1xuICByZXR1cm4gTWF0aC5mbG9vcihjZWlsVGhyZXNob2xkICsgKE1hdGgubG9nKHZhbCkgLyB0aGlzLmxuTG9nQmFzZV8pKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgdGhlIGdpdmVuIHZhbHVlIGludG8gYW4gaW50ZXJuYWwgdmFsdWUgd2UgY2FuIHBhc3MgdG8gdGhlXG4gKiBqUXVlcnlVSSBzbGlkZXIgY29udHJvbC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgLSBleHRlcm5hbC1mYWNpbmcgdmFsdWVcbiAqIEByZXR1cm5zIHtudW1iZXJ9IC0gaW50ZXJuYWwgc2xpZGVyIHZhbHVlXG4gKiBAb3ZlcnJpZGVcbiAqL1xuTmV0U2ltU2xpZGVyLkxvZ2FyaXRobWljU2xpZGVyLnByb3RvdHlwZS52YWx1ZVRvU2xpZGVyUG9zaXRpb24gPSBmdW5jdGlvbiAodmFsKSB7XG4gIGlmICh2YWwgPiB0aGlzLm1heFZhbHVlXykge1xuICAgIHJldHVybiB0aGlzLmlzVXBwZXJCb3VuZEluZmluaXRlXyA/XG4gICAgICAgIHRoaXMuaW5maW5pdHlTbGlkZXJQb3NpdGlvbiA6IHRoaXMubWF4U2xpZGVyUG9zaXRpb247XG4gIH0gZWxzZSBpZiAodmFsID09PSB0aGlzLm1heFZhbHVlXykge1xuICAgIHJldHVybiAgdGhpcy5tYXhTbGlkZXJQb3NpdGlvbjtcbiAgfSBlbHNlIGlmICh2YWwgPCB0aGlzLm1pblZhbHVlXykge1xuICAgIHJldHVybiB0aGlzLmlzTG93ZXJCb3VuZEluZmluaXRlXyA/XG4gICAgICAgIHRoaXMubmVnSW5maW5pdHlTbGlkZXJQb3NpdGlvbiA6IHRoaXMubWluU2xpZGVyUG9zaXRpb247XG4gIH0gZWxzZSBpZiAodmFsID09PSB0aGlzLm1pblZhbHVlXykge1xuICAgIHJldHVybiB0aGlzLm1pblNsaWRlclBvc2l0aW9uO1xuICB9XG4gIHJldHVybiBNYXRoLm1heCh0aGlzLm1pblNsaWRlclBvc2l0aW9uLCB0aGlzLmxvZ0Zsb29yXyh2YWwpKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgdGhlIGludGVybmFsIGpRdWVyeVVJIHNsaWRlciB2YWx1ZSBpbnRvIGFuIGV4dGVybmFsLWZhY2luZ1xuICogdmFsdWUgZm9yIHRoaXMgY29udHJvbC5cbiAqIFNob3VsZCBiZSBhbiBpbnZlcnNlIG9mIHZhbHVlVG9TbGlkZXJQb3NpdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyAtIGludGVybmFsIHNsaWRlciB2YWx1ZVxuICogQHJldHVybnMge251bWJlcn0gLSBleHRlcm5hbC1mYWNpbmcgdmFsdWVcbiAqIEBvdmVycmlkZVxuICovXG5OZXRTaW1TbGlkZXIuTG9nYXJpdGhtaWNTbGlkZXIucHJvdG90eXBlLnNsaWRlclBvc2l0aW9uVG9WYWx1ZSA9IGZ1bmN0aW9uIChwb3MpIHtcbiAgaWYgKHBvcyA+IHRoaXMubWF4U2xpZGVyUG9zaXRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5pc1VwcGVyQm91bmRJbmZpbml0ZV8gPyBJbmZpbml0eSA6IHRoaXMubWF4VmFsdWVfO1xuICB9IGVsc2UgaWYgKHBvcyA9PT0gdGhpcy5tYXhTbGlkZXJQb3NpdGlvbikge1xuICAgIHJldHVybiB0aGlzLm1heFZhbHVlXztcbiAgfSBlbHNlIGlmIChwb3MgPCB0aGlzLm1pblNsaWRlclBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNMb3dlckJvdW5kSW5maW5pdGVfID8gLUluZmluaXR5IDogdGhpcy5taW5WYWx1ZV87XG4gIH0gZWxzZSBpZiAocG9zID09PSB0aGlzLm1pblNsaWRlclBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMubWluVmFsdWVfO1xuICB9XG4gIHJldHVybiBNYXRoLnBvdyh0aGlzLmxvZ0Jhc2VfLCBwb3MpO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB0ID0gZnVuY3Rpb24gYW5vbnltb3VzKGxvY2FscywgZmlsdGVycywgZXNjYXBlXG4vKiovKSB7XG5lc2NhcGUgPSBlc2NhcGUgfHwgZnVuY3Rpb24gKGh0bWwpe1xuICByZXR1cm4gU3RyaW5nKGh0bWwpXG4gICAgLnJlcGxhY2UoLyYoPyFcXHcrOykvZywgJyZhbXA7JylcbiAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7Jyk7XG59O1xudmFyIGJ1ZiA9IFtdO1xud2l0aCAobG9jYWxzIHx8IHt9KSB7IChmdW5jdGlvbigpeyBcbiBidWYucHVzaCgnPGRpdiBpZD1cIm5ldHNpbV9zbGlkZXJfJywgZXNjYXBlKCgxLCAgaW5zdGFuY2VJRCApKSwgJ1wiIGNsYXNzPVwibmV0c2ltLXNsaWRlclwiPlxcbiAgPGRpdiBjbGFzcz1cInNsaWRlci1pbmxpbmUtd3JhcFwiPlxcbiAgICA8ZGl2IGNsYXNzPVwic2xpZGVyXCI+PC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XCJzbGlkZXItbGFiZWxzXCI+XFxuICAgICAgPGRpdiBjbGFzcz1cIm1heC12YWx1ZVwiPicsIGVzY2FwZSgoNSwgIG1heFZhbHVlICkpLCAnPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cIm1pbi12YWx1ZVwiPicsIGVzY2FwZSgoNiwgIG1pblZhbHVlICkpLCAnPC9kaXY+XFxuICAgICAgPGRpdiBjbGFzcz1cImN1cnJlbnQtdmFsdWVcIj5cXG4gICAgICAgIDxsYWJlbD48c3BhbiBjbGFzcz1cInNsaWRlci12YWx1ZVwiPjwvc3Bhbj48L2xhYmVsPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcbicpOyB9KSgpO1xufSBcbnJldHVybiBidWYuam9pbignJyk7XG59O1xuICByZXR1cm4gZnVuY3Rpb24obG9jYWxzKSB7XG4gICAgcmV0dXJuIHQobG9jYWxzLCByZXF1aXJlKFwiZWpzXCIpLmZpbHRlcnMpO1xuICB9XG59KCkpOyIsIi8qKlxuICogQG92ZXJ2aWV3IFdyYXBzIE5ldFNpbSBSRVNUIEFQSXMgZm9yIG9wZXJhdGlvbnMgb2YgXCJ0YWJsZXNcIiBhbmQgXCJzaGFyZHMuXCJcbiAqIEBzZWUgbmV0X3NpbV9hcGkucmJcbiAqL1xuLy8gU3RyaWN0IGxpbnRpbmc6IEFic29yYiBpbnRvIGdsb2JhbCBjb25maWcgd2hlbiBwb3NzaWJsZVxuLyoganNoaW50XG4gZXFlcWVxOiB0cnVlLFxuIG1heGxlbjogMTIwXG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIE5ldFNpbUFwaUVycm9yID0gcmVxdWlyZSgnLi9OZXRTaW1BcGlFcnJvcicpO1xuXG4vKipcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAY29uc3RcbiAqL1xudmFyIE5FVFNJTV9BUElfQkFTRV9VUkwgPSAnL3YzL25ldHNpbSc7XG5cbi8qKlxuICogQG5hbWUgTmV0U2ltU2hhcmRBcGlcbiAqL1xudmFyIHNoYXJkQXBpID0ge1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gaW5pdGlhbGl6ZWQgTmV0U2ltIFNoYXJkIEFQSSBpbnN0YW5jZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHNoYXJkSURcbiAgICogQHJldHVybnMge05ldFNpbVNoYXJkQXBpfVxuICAgKi9cbiAgY3JlYXRlOiBmdW5jdGlvbiAoc2hhcmRJRCkge1xuICAgIHJldHVybiAkLmV4dGVuZCh7fSwgc2hhcmRBcGksIHtcblxuICAgICAgLyoqXG4gICAgICAgKiBTaGFyZCBpZGVudGlmaWVyLlxuICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAqL1xuICAgICAgc2hhcmRJRDogc2hhcmRJRCxcblxuICAgICAgLyoqXG4gICAgICAgKiBCZWdpbm5pbmcgcGFydCBvZiBVUkwgZm9yIGFsbCBjYWxscyB0aGF0IGludGVyYWN0IHdpdGggdGhlIHNoYXJkLlxuICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAqL1xuICAgICAgYmFzZVVybDogTkVUU0lNX0FQSV9CQVNFX1VSTCArICcvJyArIHNoYXJkSURcbiAgICB9KTtcbiAgfSxcblxuICBtYWtlVGFibGVBcGk6IGZ1bmN0aW9uICh0YWJsZU5hbWUpIHtcbiAgICByZXR1cm4gdGFibGVBcGkuY3JlYXRlKHRoaXMuc2hhcmRJRCwgdGFibGVOYW1lKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAbmFtZSBOZXRTaW1UYWJsZUFwaVxuICovXG52YXIgdGFibGVBcGkgPSB7XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBpbml0aWFsaXplZCBOZXRTaW0gVGFibGUgQVBJIGluc3RhbmNlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2hhcmRJRFxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGFibGVOYW1lXG4gICAqIEByZXR1cm5zIHtOZXRTaW1UYWJsZUFwaX1cbiAgICovXG4gIGNyZWF0ZTogZnVuY3Rpb24gKHNoYXJkSUQsIHRhYmxlTmFtZSkge1xuICAgIHJldHVybiAkLmV4dGVuZCh7fSwgdGFibGVBcGksIHtcblxuICAgICAgLyoqXG4gICAgICAgKiBTaGFyZCBpZGVudGlmaWVyLlxuICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAqL1xuICAgICAgc2hhcmRJRDogc2hhcmRJRCxcblxuICAgICAgLyoqXG4gICAgICAgKiBUYWJsZSBuYW1lLlxuICAgICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgICAqL1xuICAgICAgdGFibGVOYW1lOiB0YWJsZU5hbWUsXG5cbiAgICAgIC8qKlxuICAgICAgICogQmVnaW5uaW5nIHBhcnQgb2YgVVJMIGZvciBhbGwgY2FsbHMgdGhhdCBpbnRlcmFjdCBvbmx5IHdpdGhcbiAgICAgICAqIHRoaXMgdGFibGUuXG4gICAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAgICovXG4gICAgICBiYXNlVXJsOiBORVRTSU1fQVBJX0JBU0VfVVJMICsgJy8nICsgc2hhcmRJRCArICcvJyArIHRhYmxlTmFtZVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXF1ZXN0IGFsbCByb3dzIGZyb20gdGhlIGdpdmVuIHRhYmxlLlxuICAgKiBAcGFyYW0ge05vZGVTdHlsZUNhbGxiYWNrfSBjYWxsYmFjayAtIEV4cGVjdGVkIHJlc3VsdCBpcyBhbiBhcnJheSBvZlxuICAgKiAgICAgICAgcm93IG9iamVjdHMuXG4gICAqL1xuICBhbGxSb3dzOiBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6IHRoaXMuYmFzZVVybCxcbiAgICAgIHR5cGU6IFwiZ2V0XCIsXG4gICAgICBkYXRhVHlwZTogXCJqc29uXCJcbiAgICB9KS5kb25lKGZ1bmN0aW9uKGRhdGEsIHRleHQpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIGRhdGEpO1xuICAgIH0pLmZhaWwoZnVuY3Rpb24ocmVxdWVzdCwgc3RhdHVzLCBlcnJvcikge1xuICAgICAgY2FsbGJhY2sobmV3IE5ldFNpbUFwaUVycm9yKHJlcXVlc3QpLCBudWxsKTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogUmVxdWVzdCBhbGwgcm93cyBpbmNsdWRpbmcgYW5kIGZvbGxvd2luZyB0aGUgZ2l2ZW4gcm93IElEIGZyb20gdGhlIHRhYmxlLlxuICAgKiBAcGFyYW0ge2ludH0gcm93SUQgLSBsb3dlciBib3VuZCBvbiByb3cgSURzIHRvIGZldGNoXG4gICAqIEBwYXJhbSB7Tm9kZVN0eWxlQ2FsbGJhY2t9IGNhbGxiYWNrIC0gRXhwZWN0ZWQgcmVzdWx0IGlzIGFuIGFycmF5IG9mXG4gICAqICAgICAgICB0YWJsZSByb3dzLlxuICAgKi9cbiAgYWxsUm93c0Zyb21JRDogZnVuY3Rpb24ocm93SUQsIGNhbGxiYWNrKSB7XG4gICAgJC5hamF4KHtcbiAgICAgIHVybDogdGhpcy5iYXNlVXJsICsgJ0AnICsgcm93SUQsXG4gICAgICB0eXBlOiBcImdldFwiLFxuICAgICAgZGF0YVR5cGU6IFwianNvblwiXG4gICAgfSkuZG9uZShmdW5jdGlvbihkYXRhLCB0ZXh0KSB7XG4gICAgICBjYWxsYmFjayhudWxsLCBkYXRhKTtcbiAgICB9KS5mYWlsKGZ1bmN0aW9uKHJlcXVlc3QsIHN0YXR1cywgZXJyb3IpIHtcbiAgICAgIGNhbGxiYWNrKG5ldyBOZXRTaW1BcGlFcnJvcihyZXF1ZXN0KSwgbnVsbCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEluc2VydCBhIHJvdyBvciByb3dzIGludG8gdGhlIHRhYmxlLlxuICAgKiBAcGFyYW0ge09iamVjdHxPYmplY3RbXX0gdmFsdWUgLSBkZXNpcmVkIHJvdyBjb250ZW50cywgYXMgZWl0aGVyIGFuXG4gICAqICAgICAgICBPYmplY3QgZm9yIGEgc2luZ2xlIHJvdyBvciBhbiBBcnJheSBvZiBPYmplY3RzIGZvciBtdWx0aXBsZS5cbiAgICogICAgICAgIE11c3QgYmUgSlNPTi5zdHJpbmdpZnktYWJsZS5cbiAgICogQHBhcmFtIHtOb2RlU3R5bGVDYWxsYmFja30gY2FsbGJhY2sgLSBFeHBlY3RlZCByZXN1bHQgaXMgdGhlIGNyZWF0ZWRcbiAgICogICAgICAgIHJvdyBvYmplY3Qgb3Igb2JqZWN0cyAod2hpY2ggd2lsbCBpbmNsdWRlIGFuIGFzc2lnbmVkICdpZCdcbiAgICogICAgICAgIGtleSkuXG4gICAqL1xuICBjcmVhdGVSb3c6IGZ1bmN0aW9uKHZhbHVlLCBjYWxsYmFjaykge1xuICAgIHZhciBkYXRhO1xuXG4gICAgdHJ5IHtcbiAgICAgIGRhdGEgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY2FsbGJhY2soZSwgdW5kZWZpbmVkKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiB0aGlzLmJhc2VVcmwsXG4gICAgICB0eXBlOiBcInBvc3RcIixcbiAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcbiAgICAgIGRhdGE6IGRhdGFcbiAgICB9KS5kb25lKGZ1bmN0aW9uKGJvZHksIHRleHQpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIGJvZHkpO1xuICAgIH0pLmZhaWwoZnVuY3Rpb24ocmVxdWVzdCwgc3RhdHVzLCBlcnJvcikge1xuICAgICAgY2FsbGJhY2sobmV3IE5ldFNpbUFwaUVycm9yKHJlcXVlc3QpLCB1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZW1vdmUgbXVsdGlwbGUgcm93cyBhdCBvbmNlLlxuICAgKiBAcGFyYW0ge251bWJlcltdfSBpZHMgLSBUaGUgcm93IElEcyB0byByZW1vdmUuXG4gICAqIEBwYXJhbSB7Tm9kZVN0eWxlQ2FsbGJhY2t9IGNhbGxiYWNrIC0gRXhwZWN0ZWQgcmVzdWx0IGlzIFRSVUUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FzeW5jXSBkZWZhdWx0IFRSVUUuXG4gICAqL1xuICBkZWxldGVSb3dzOiBmdW5jdGlvbihpZHMsIGNhbGxiYWNrLCBhc3luYykge1xuICAgIGFzeW5jID0gYXN5bmMgIT09IGZhbHNlOyAvLyBgdW5kZWZpbmVkYCBtYXBzIHRvIHRydWVcblxuICAgIC8vIEdlbmVyYXRlIHF1ZXJ5IHN0cmluZyBpbiB0aGUgZm9ybSBcImlkW109MSZpZFtdPTImLi4uXCJcbiAgICB2YXIgcXVlcnlTdHJpbmcgPSBpZHMubWFwKGZ1bmN0aW9uIChpZCkge1xuICAgICAgcmV0dXJuICdpZFtdPScgKyBpZDtcbiAgICB9KS5qb2luKCcmJyk7XG5cbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiB0aGlzLmJhc2VVcmwgKyAnPycgKyBxdWVyeVN0cmluZyxcbiAgICAgIHR5cGU6ICdkZWxldGUnLFxuICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgIGFzeW5jOiBhc3luY1xuICAgIH0pLmRvbmUoZnVuY3Rpb24oZGF0YSwgdGV4dCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwgdHJ1ZSk7XG4gICAgfSkuZmFpbChmdW5jdGlvbihyZXF1ZXN0LCBzdGF0dXMsIGVycm9yKSB7XG4gICAgICBjYWxsYmFjayhuZXcgTmV0U2ltQXBpRXJyb3IocmVxdWVzdCksIGZhbHNlKTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogUmV0cmlldmUgYSByb3cuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpZCAtIFRoZSByb3cgaWRlbnRpZmllci5cbiAgICogQHBhcmFtIHtOb2RlU3R5bGVDYWxsYmFja30gY2FsbGJhY2sgLSBFeHBlY3RlZCByZXN1bHQgaXMgdGhlIHJlcXVlc3RlZFxuICAgKiAgICAgICAgcm93IG9iamVjdC5cbiAgICovXG4gIGZldGNoUm93OiBmdW5jdGlvbihpZCwgY2FsbGJhY2spIHtcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiB0aGlzLmJhc2VVcmwgKyBcIi9cIiArIGlkLFxuICAgICAgdHlwZTogXCJnZXRcIixcbiAgICAgIGRhdGFUeXBlOiBcImpzb25cIlxuICAgIH0pLmRvbmUoZnVuY3Rpb24oZGF0YSwgdGV4dCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwgZGF0YSk7XG4gICAgfSkuZmFpbChmdW5jdGlvbihyZXF1ZXN0LCBzdGF0dXMsIGVycm9yKSB7XG4gICAgICBjYWxsYmFjayhuZXcgTmV0U2ltQXBpRXJyb3IocmVxdWVzdCksIHVuZGVmaW5lZCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENoYW5nZSB0aGUgY29udGVudHMgb2YgYSByb3cuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpZCAtIFRoZSByb3cgaWRlbnRpZmllci5cbiAgICogQHBhcmFtIHtPYmplY3R9IHZhbHVlIC0gVGhlIG5ldyByb3cgY29udGVudHMuXG4gICAqIEBwYXJhbSB7Tm9kZVN0eWxlQ2FsbGJhY2t9IGNhbGxiYWNrIC0gRXhwZWN0ZWQgcmVzdWx0IGlzIHRoZSBuZXcgcm93IG9iamVjdC5cbiAgICovXG4gIHVwZGF0ZVJvdzogZnVuY3Rpb24oaWQsIHZhbHVlLCBjYWxsYmFjaykge1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6IHRoaXMuYmFzZVVybCArIFwiL1wiICsgaWQsXG4gICAgICB0eXBlOiBcInBvc3RcIixcbiAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIixcbiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHZhbHVlKVxuICAgIH0pLmRvbmUoZnVuY3Rpb24oZGF0YSwgdGV4dCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwgZGF0YSk7XG4gICAgfSkuZmFpbChmdW5jdGlvbihyZXF1ZXN0LCBzdGF0dXMsIGVycm9yKSB7XG4gICAgICBjYWxsYmFjayhuZXcgTmV0U2ltQXBpRXJyb3IocmVxdWVzdCksIGZhbHNlKTtcbiAgICB9KTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBOZXRTaW0gU2hhcmQgQVBJIGluc3RhbmNlIGZvciB0aGUgZ2l2ZW4gc2hhcmQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzaGFyZElEXG4gICAqIEByZXR1cm5zIHtOZXRTaW1TaGFyZEFwaX1cbiAgICovXG4gIG1ha2VTaGFyZEFwaTogZnVuY3Rpb24gKHNoYXJkSUQpIHtcbiAgICByZXR1cm4gc2hhcmRBcGkuY3JlYXRlKHNoYXJkSUQpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBOZXRTaW0gVGFibGUgQVBJIGluc3RhbmNlIGZvciB0aGUgZ2l2ZW4gc2hhcmQgYW5kIHRhYmxlIG5hbWUuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzaGFyZElEXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0YWJsZU5hbWVcbiAgICogQHJldHVybnMge05ldFNpbVRhYmxlQXBpfVxuICAgKi9cbiAgbWFrZVRhYmxlQXBpOiBmdW5jdGlvbiAoc2hhcmRJRCwgdGFibGVOYW1lKSB7XG4gICAgcmV0dXJuIHRhYmxlQXBpLmNyZWF0ZShzaGFyZElELCB0YWJsZU5hbWUpO1xuICB9XG59O1xuIiwiLyoqXG4gKiBAb3ZlcnZpZXcgRXh0ZW5kZWQgZXJyb3IgdHlwZSByZXR1cm5lZCBmb3IgZmFpbGVkIGludGVyYWN0aW9ucyB3aXRoIE5ldFNpbVxuICogc2VydmVyIEFQSSAobmV0X3NpbV9hcGkucmIpIHRoYXQgZXh0cmFjdHMgYW5kIGV4cG9zZXMgYWRkaXRpb25hbCBlcnJvciBpbmZvLlxuICovXG4vLyBTdHJpY3QgbGludGluZzogQWJzb3JiIGludG8gZ2xvYmFsIGNvbmZpZyB3aGVuIHBvc3NpYmxlXG4vKiBqc2hpbnRcbiB1bnVzZWQ6IHRydWUsXG4gZXFlcWVxOiB0cnVlLFxuIG1heGxlbjogMTIwXG4gKi9cbid1c2Ugc3RyaWN0JztcblxucmVxdWlyZSgnLi4vdXRpbHMnKTsgLy8gcHJvdmlkZSBGdW5jdGlvbi5wcm90b3R5cGUuaW5oZXJpdHNcblxuLyoqXG4gKiBTcGVjaWFsIGVycm9yIHR5cGUgZm9yIGZhaWxlZCBzZXJ2ZXIgcmVxdWVzdHMsIHdoaWNoIHRyaWVzIHRvIGV4dHJhY3RcbiAqIGFkZGl0aW9uYWwgZXJyb3IgaW5mb3JtYXRpb24gZnJvbSB0aGUgc2VydmVyJ3MgcmVzcG9uc2UuXG4gKiBAcGFyYW0ge2pxWEhSfSByZXF1ZXN0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBleHRlbmRzIEVycm9yXG4gKi9cbnZhciBOZXRTaW1BcGlFcnJvciA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gIHRoaXMubmFtZSA9ICdOZXRTaW1BcGlFcnJvcic7XG5cbiAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gIHRoaXMubWVzc2FnZSA9ICdSZXF1ZXN0IGZhaWxlZCc7XG5cbiAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gIHRoaXMuc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrO1xuXG4gIC8qKlxuICAgKiBBZGRpdGlvbmFsIGVycm9yIGluZm9ybWF0aW9uIHJldHVybmVkIGJ5IHRoZSBzZXJ2ZXIsIHdoaWNoIGNhbiBkcml2ZVxuICAgKiBzcGVjaWZpYyByZXNwb25zZXMgYnkgdGhlIGNsaWVudC5cbiAgICogQHR5cGUge3N0cmluZ3xBcnJheX1cbiAgICovXG4gIHRoaXMuZGV0YWlscyA9IHVuZGVmaW5lZDtcblxuICAvLyBBdHRlbXB0IHRvIGV4dHJhY3QgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBmcm9tIHRoZSByZXF1ZXN0IG9iamVjdFxuICBpZiAocmVxdWVzdCkge1xuICAgIHRoaXMubWVzc2FnZSA9ICdzdGF0dXM6ICcgKyByZXF1ZXN0LnN0YXR1cyArICc7IGVycm9yOiAnICsgcmVxdWVzdC5zdGF0dXNUZXh0O1xuICAgIHRyeSB7XG4gICAgICB2YXIgcmVzcG9uc2UgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiAgICAgIGlmIChyZXNwb25zZS5kZXRhaWxzKSB7XG4gICAgICAgIHRoaXMuZGV0YWlscyA9IHJlc3BvbnNlLmRldGFpbHM7XG4gICAgICAgIHRoaXMubWVzc2FnZSArPSAnOyBkZXRhaWxzOiAnICsgSlNPTi5zdHJpbmdpZnkodGhpcy5kZXRhaWxzKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmRldGFpbHMgPSBudWxsO1xuICAgIH1cbiAgfVxufTtcbk5ldFNpbUFwaUVycm9yLmluaGVyaXRzKEVycm9yKTtcblxuLyoqXG4gKiBXYXlzIHRoYXQgYSByb3cgaW5zZXJ0IG9wZXJhdGlvbiBjYW4gZmFpbCB2aWEgTmV0U2ltQXBpLlxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuTmV0U2ltQXBpRXJyb3IuVmFsaWRhdGlvbkVycm9yID0ge1xuICBNQUxGT1JNRUQ6ICdtYWxmb3JtZWQnLFxuICBDT05GTElDVDogJ2NvbmZsaWN0JyxcbiAgTElNSVRfUkVBQ0hFRDogJ2xpbWl0X3JlYWNoZWQnXG59O1xuIiwiLyoqXG4gKiBAb3ZlcnZpZXcgQ29udHJvbGxlciBmb3IgY3JlYXRpbmcgZ3Jvd2wtc3R5bGUgQm9vdHN0cmFwIGFsZXJ0c1xuICovXG4vLyBTdHJpY3QgbGludGluZzogQWJzb3JiIGludG8gZ2xvYmFsIGNvbmZpZyB3aGVuIHBvc3NpYmxlXG4vKiBqc2hpbnRcbiB1bnVzZWQ6IHRydWUsXG4gZXFlcWVxOiB0cnVlLFxuIG1heGxlbjogMTIwXG4gKi9cbi8qIGdsb2JhbCBzZXRUaW1lb3V0ICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBtYXJrdXAgPSByZXF1aXJlKCcuL05ldFNpbUFsZXJ0Lmh0bWwuZWpzJyk7XG52YXIgQXJndW1lbnRVdGlscyA9IHJlcXVpcmUoJy4vQXJndW1lbnRVdGlscycpO1xudmFyIE5ldFNpbUxvZ2dlciA9IHJlcXVpcmUoJy4vTmV0U2ltTG9nZ2VyJyk7XG5cbnZhciBsb2dnZXIgPSBOZXRTaW1Mb2dnZXIuZ2V0U2luZ2xldG9uKCk7XG5cbnZhciBOZXRTaW1BbGVydCA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8qKlxuICogUmV0dXJucyB0aGUgYWxlcnQgY29udGFpbmVyLCBvciBjcmVhdGVzIGFuZCBpbnNlcnRzIG9uZSBpZiBpdCBkb2VzXG4gKiBub3QgZXhpc3QuIEFsc28gYXR0YWNoZXMgYSBjbG9zZSBoYW5kbGVyIHNvIHRoZSBjb250YWluZXIgd2lsbFxuICogcmVtb3ZlIGl0c2VsZiB3aGVuIGl0IGVtcHRpZXNcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtqUXVlcnl9XG4gKi9cbk5ldFNpbUFsZXJ0LmdldE9yQ3JlYXRlQWxlcnRDb250YWluZXJfID0gZnVuY3Rpb24gKCkge1xuICB2YXIgYWxlcnRDb250YWluZXIgPSAkKCcubmV0c2ltLWFsZXJ0LWNvbnRhaW5lcicpO1xuXG4gIGlmIChhbGVydENvbnRhaW5lci5sZW5ndGggPT09IDApIHtcbiAgICBhbGVydENvbnRhaW5lciA9ICQoJzxkaXY+JykuYWRkQ2xhc3MoXCJuZXRzaW0tYWxlcnQtY29udGFpbmVyXCIpO1xuICAgICQoJyNuZXRzaW0nKS5hcHBlbmQoYWxlcnRDb250YWluZXIpO1xuXG4gICAgYWxlcnRDb250YWluZXIub24oJ2Nsb3NlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCQodGhpcykuY2hpbGRyZW4oKS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBhbGVydENvbnRhaW5lcjtcbn07XG5cbi8qKlxuICogU2ltcGxlIGNoZWNrIHRvIHNlZSBpZiBCb290c3RyYXAncyBBbGVydCBmdW5jdGlvbiBpcyBhdHRhY2hlZCB0byB0aGVcbiAqIGdsb2JhbCBqUXVlcnkgb2JqZWN0LlxuICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciBvciBub3QgYm9vdHN0cmFwJ3MgYGFsZXJ0YCBmdW5jdGlvbiBpc1xuICogICAgICAgICAgICAgICAgICAgbG9hZGVkIGFuZCBhdmFpbGFibGVcbiAqL1xuTmV0U2ltQWxlcnQuaXNCb290c3RyYXBBbGVydExvYWRlZF8gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAodHlwZW9mICQoKS5hbGVydCA9PT0gJ2Z1bmN0aW9uJyk7XG59O1xuXG4vKipcbiAqIFByaW1hcnkgYWxlcnQgY3JlYXRpb24gbWV0aG9kLiBFeHBlY3RzIGEgYm9keSBvZiBjb250ZW50IGZvciB0aGVcbiAqIGFsZXJ0IGFuZCBhIGZsYXZvciBmb3IgdGhlIGFsZXJ0IHR5cGUuIENhbiBvcHRpb25hbGx5IGluY2x1ZGUgYSB0aXRsZVxuICogYW5kIGEgdGltZW91dCB0aW1lLlxuICpcbiAqIEBwYXJhbSB7Ym9keX0gc3RyaW5nXG4gKiBAcGFyYW0ge2ZsYXZvcn0gc3RyaW5nXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMudGl0bGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBvcHRpb25zLnRpbWVvdXQgVGltZW91dCBpbiBtcy4gZGVmYXVsdHMgdG8gNTAwMC5cbiAqIEByZXR1cm4ge2pRdWVyeX0gdGhlIGNyZWF0ZWQgYWxlcnQgZWxlbWVudFxuICovXG5OZXRTaW1BbGVydC5jcmVhdGVfID0gZnVuY3Rpb24gKGJvZHksIGZsYXZvciwgb3B0aW9ucykge1xuXG4gIGlmICghTmV0U2ltQWxlcnQuaXNCb290c3RyYXBBbGVydExvYWRlZF8oKSkge1xuICAgIGxvZ2dlci53YXJuKFwiQm9vdHN0cmFwIEFsZXJ0IG5vdCBsb2FkZWQ7IE5ldFNpbUFsZXJ0IHJlZnVzaW5nIHRvIGNyZWF0ZSBhbGVydFwiKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBBcmd1bWVudFV0aWxzLnZhbGlkYXRlUmVxdWlyZWQoYm9keSwgJ2JvZHknLCBBcmd1bWVudFV0aWxzLmlzU3RyaW5nKTtcbiAgQXJndW1lbnRVdGlscy52YWxpZGF0ZVJlcXVpcmVkKGZsYXZvciwgJ2ZsYXZvcicsIEFyZ3VtZW50VXRpbHMuaXNTdHJpbmcpO1xuICBvcHRpb25zID0gQXJndW1lbnRVdGlscy5leHRlbmRPcHRpb25zT2JqZWN0KG9wdGlvbnMpO1xuXG4gIHZhciAkY29udGFpbmVyID0gTmV0U2ltQWxlcnQuZ2V0T3JDcmVhdGVBbGVydENvbnRhaW5lcl8oKTtcblxuICB2YXIgYm9vdHN0cmFwQWxlcnQgPSAkKG1hcmt1cCh7XG4gICAgZmxhdm9yOiBmbGF2b3IsXG4gICAgYm9keTogYm9keSxcbiAgICB0aXRsZTogb3B0aW9ucy5nZXQoJ3RpdGxlJywgQXJndW1lbnRVdGlscy5pc1N0cmluZylcbiAgfSkpO1xuXG4gICRjb250YWluZXIuYXBwZW5kKGJvb3RzdHJhcEFsZXJ0KTtcbiAgYm9vdHN0cmFwQWxlcnQuYWxlcnQoKTtcblxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICBib290c3RyYXBBbGVydC5hbGVydCgnY2xvc2UnKTtcbiAgfSwgb3B0aW9ucy5nZXQoJ3RpbWVvdXQnLCBBcmd1bWVudFV0aWxzLmlzUG9zaXRpdmVOb25pbmZpbml0ZU51bWJlciwgNTAwMCkpO1xuXG4gIHJldHVybiBib290c3RyYXBBbGVydDtcbn07XG5cbi8qKiBXcmFwcGVyIG1ldGhvZCB0byBjYWxsIGNyZWF0ZSB3aXRoIGFuIFwiYWxlcnQtd2FyblwiIGZsYXZvciAqL1xuTmV0U2ltQWxlcnQud2FybiA9IGZ1bmN0aW9uIChib2R5LCBvcHRpb25zKSB7XG4gIHJldHVybiBOZXRTaW1BbGVydC5jcmVhdGVfKGJvZHksIFwiYWxlcnQtd2FyblwiLCBvcHRpb25zKTtcbn07XG5cbi8qKiBXcmFwcGVyIG1ldGhvZCB0byBjYWxsIGNyZWF0ZSB3aXRoIGFuIFwiYWxlcnQtaW5mb1wiIGZsYXZvciAqL1xuTmV0U2ltQWxlcnQuaW5mbyA9IGZ1bmN0aW9uIChib2R5LCBvcHRpb25zKSB7XG4gIHJldHVybiBOZXRTaW1BbGVydC5jcmVhdGVfKGJvZHksIFwiYWxlcnQtaW5mb1wiLCBvcHRpb25zKTtcbn07XG5cbi8qKiBXcmFwcGVyIG1ldGhvZCB0byBjYWxsIGNyZWF0ZSB3aXRoIGFuIFwiYWxlcnQtZXJyb3JcIiBmbGF2b3IgKi9cbk5ldFNpbUFsZXJ0LmVycm9yID0gZnVuY3Rpb24gKGJvZHksIG9wdGlvbnMpIHtcbiAgcmV0dXJuIE5ldFNpbUFsZXJ0LmNyZWF0ZV8oYm9keSwgXCJhbGVydC1lcnJvclwiLCBvcHRpb25zKTtcbn07XG5cbi8qKiBXcmFwcGVyIG1ldGhvZCB0byBjYWxsIGNyZWF0ZSB3aXRoIGFuIFwiYWxlcnQtc3VjY2Vzc1wiIGZsYXZvciAqL1xuTmV0U2ltQWxlcnQuc3VjY2VzcyA9IGZ1bmN0aW9uIChib2R5LCBvcHRpb25zKSB7XG4gIHJldHVybiBOZXRTaW1BbGVydC5jcmVhdGVfKGJvZHksIFwiYWxlcnQtc3VjY2Vzc1wiLCBvcHRpb25zKTtcbn07XG4iLCJtb2R1bGUuZXhwb3J0cz0gKGZ1bmN0aW9uKCkge1xuICB2YXIgdCA9IGZ1bmN0aW9uIGFub255bW91cyhsb2NhbHMsIGZpbHRlcnMsIGVzY2FwZVxuLyoqLykge1xuZXNjYXBlID0gZXNjYXBlIHx8IGZ1bmN0aW9uIChodG1sKXtcbiAgcmV0dXJuIFN0cmluZyhodG1sKVxuICAgIC5yZXBsYWNlKC8mKD8hXFx3KzspL2csICcmYW1wOycpXG4gICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpO1xufTtcbnZhciBidWYgPSBbXTtcbndpdGggKGxvY2FscyB8fCB7fSkgeyAoZnVuY3Rpb24oKXsgXG4gYnVmLnB1c2goJycpOzE7XG4gIC8qKlxuICAgKiBAbmFtZSBib2R5XG4gICAqIEB0eXBlIHshc3RyaW5nfVxuICAgKi9cblxuICAvKipcbiAgICogQG5hbWUgZmxhdm9yXG4gICAqIEB0eXBlIHshc3RyaW5nfVxuICAgKi9cblxuICAvKipcbiAgICogQG5hbWUgdGl0bGVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG47IGJ1Zi5wdXNoKCdcXG48ZGl2IGNsYXNzPVwiYWxlcnQgbmV0c2ltLWFsZXJ0ICcsIGVzY2FwZSgoMTcsICBmbGF2b3IgKSksICcgZmFkZSBpblwiPlxcbiAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJuZXRzaW0tYWxlcnQtYnV0dG9uIGNsb3NlXCIgZGF0YS1kaXNtaXNzPVwiYWxlcnRcIiBhcmlhLWxhYmVsPVwiQ2xvc2VcIj48c3BhbiBhcmlhLWhpZGRlbj1cInRydWVcIj4mdGltZXM7PC9zcGFuPjwvYnV0dG9uPlxcbiAgJyk7MTk7IGlmICh0aXRsZSkgeyA7IGJ1Zi5wdXNoKCc8c3Ryb25nPicsIGVzY2FwZSgoMTksICB0aXRsZSApKSwgJzwvc3Ryb25nPicpOzE5OyB9IDsgYnVmLnB1c2goJ1xcbiAgJywgZXNjYXBlKCgyMCwgIGJvZHkgKSksICdcXG48L2Rpdj5cXG4nKTsgfSkoKTtcbn0gXG5yZXR1cm4gYnVmLmpvaW4oJycpO1xufTtcbiAgcmV0dXJuIGZ1bmN0aW9uKGxvY2Fscykge1xuICAgIHJldHVybiB0KGxvY2FscywgcmVxdWlyZShcImVqc1wiKS5maWx0ZXJzKTtcbiAgfVxufSgpKTsiLCIvKipcbiAqIEBvdmVydmlldyBQcm92aWRlcyB1dGlsaXR5IG1ldGhvZHMgZm9yIGNvbnZlcnRpbmcgdXNlciBkYXRhIGJldHdlZW5cbiAqICAgICAgICAgICBkaWZmZXJlbnQgZW5jb2RpbmdzLCBhbmQgZm9ybWF0dGluZyB0aG9zZSBlbmNvZGluZ3M6IGJpbmFyeSxcbiAqICAgICAgICAgICBoZXgsIGRlY2ltYWwsIEFTQ0lJLiAgXCJBIGFuZCBCXCIgaXMgYSBzcGVjaWFsIGVuY29kaW5nIHRoYXQgaXNcbiAqICAgICAgICAgICBqdXN0IGJpbmFyeSB3aXRoIFwiQVwiIHN1YidkIGZvciAwIGFuZCBcIkJcIiBzdWInZCBmb3IgMS5cbiAqL1xuLy8gU3RyaWN0IGxpbnRpbmc6IEFic29yYiBpbnRvIGdsb2JhbCBjb25maWcgd2hlbiBwb3NzaWJsZVxuLyoganNoaW50XG4gdW51c2VkOiB0cnVlLFxuIGVxZXFlcTogdHJ1ZSxcbiBtYXhsZW46IDEyMFxuICovXG4ndXNlIHN0cmljdCc7XG4vKiBnbG9iYWwgd2luZG93LCByZXF1aXJlLCBleHBvcnRzICovXG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7IC8vIEZvciBTdHJpbmcucHJvdG90eXBlLnJlcGVhdCBwb2x5ZmlsbFxudmFyIE5ldFNpbVV0aWxzID0gcmVxdWlyZSgnLi9OZXRTaW1VdGlscycpO1xuXG4vLyB3aW5kb3cue2J0b2EsIGF0b2J9IHBvbHlmaWxsc1xuaWYgKCEod2luZG93LmF0b2IgJiYgd2luZG93LmJ0b2EpKSB7XG4gIHZhciBiYXNlNjQgPSByZXF1aXJlKCdCYXNlNjQnKTtcbiAgd2luZG93LmJ0b2EgPSB3aW5kb3cuYnRvYSB8fCBiYXNlNjQuYnRvYTtcbiAgd2luZG93LmF0b2IgPSB3aW5kb3cuYXRvYiB8fCBiYXNlNjQuYXRvYjtcbn1cblxuLyoqXG4gKiBAdHlwZWRlZiB7c3RyaW5nfSBBZGRyZXNzSGVhZGVyRm9ybWF0XG4gKiBBIHN0cmluZyBpbmRpY2F0aW5nIHRoZSBwYXJ0cyBvZiBhbiBhZGRyZXNzIGZpZWxkIGluIHRoZSBwYWNrZXQgaGVhZGVyLFxuICogdGhlaXIgcmVzcGVjdGl2ZSBieXRlLXdpZHRocywgYW5kIHRoZSBzZXBhcmF0b3JzIHRvIGJlIHVzZWQgd2hlbiBjb252ZXJ0aW5nXG4gKiBiaW5hcnkgdG8gYSByZWFkYWJsZSBmb3JtYXQuXG4gKiBFeGFtcGxlczpcbiAqIFwiNFwiIGluZGljYXRlcyBhIHNpbmdsZSA0LWJ5dGUgbnVtYmVyLCBlLmcuIDUgLyAwMTAxXG4gKiBcIjguNFwiIGluZGljYXRlcyBhbiA4LWJ5dGUgbnVtYmVyIGZvbGxvd2VkIGJ5IGEgNC1ieXRlIG51bWJlciwgc2VwYXJhdGVkXG4gKiAgIGJ5IGEgcGVyaW9kLCBlLmcuIDEuMSAvIDAwMDAwMDAxMDAwMSBvciAxOC45IC8gMDAwMTAwMTAgMTAwMVxuICogXCI4LjguOC44XCIgd291bGQgYmUgYW4gSVB2NCBhZGRyZXNzLCBlLmcuXG4gKiAgIDEyNy4wLjAuMSAvIDAxMTExMTExIDAwMDAwMDAwIDAwMDAwMDAwIDAwMDAwMDAxXG4gKi9cblxuLyoqXG4gKiBDb252ZXJ0cyBhbiBBcyBhbmQgQnMgc3RyaW5nIGludG8gaXRzIG1vc3QgY29tcGFjdCByZXByZXNlbnRhdGlvbiwgZm9yY2VkXG4gKiB0byB1cHBlcmNhc2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gYWJTdHJpbmdcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydHMubWluaWZ5QUIgPSBmdW5jdGlvbiAoYWJTdHJpbmcpIHtcbiAgcmV0dXJuIGFiU3RyaW5nLnJlcGxhY2UoL1teQUJdL2dpLCAnJykudG9VcHBlckNhc2UoKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgYW4gQUItYmluYXJ5IHN0cmluZyB0byBhIGZvcm1hdHRlZCByZXByZXNlbnRhdGlvbiwgd2l0aCBjaHVua3NcbiAqIG9mIGEgc2V0IHNpemUgc2VwYXJhdGVkIGJ5IGEgc3BhY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gYWJTdHJpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSBjaHVua1NpemVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb2Zmc2V0XSBiaXQtb2Zmc2V0IGZvciBmb3JtYXR0aW5nIGVmZmVjdDsgZGVmYXVsdCAwLlxuICogQHJldHVybnMge3N0cmluZ30gZm9ybWF0dGVkIHZlcnNpb25cbiAqL1xuZXhwb3J0cy5mb3JtYXRBQiA9IGZ1bmN0aW9uIChhYlN0cmluZywgY2h1bmtTaXplLCBvZmZzZXQpIHtcbiAgcmV0dXJuIGV4cG9ydHMuZm9ybWF0QmluYXJ5KGV4cG9ydHMuYWJUb0JpbmFyeShhYlN0cmluZyksIGNodW5rU2l6ZSwgb2Zmc2V0KVxuICAgICAgLnJlcGxhY2UoLzAvZywgJ0EnKVxuICAgICAgLnJlcGxhY2UoLzEvZywgJ0InKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgYSBiaW5hcnkgc3RyaW5nIGludG8gaXRzIG1vc3QgY29tcGFjdCBzdHJpbmcgcmVwcmVzZW50YXRpb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gYmluYXJ5U3RyaW5nIHRoYXQgbWF5IGNvbnRhaW4gd2hpdGVzcGFjZVxuICogQHJldHVybnMge3N0cmluZ30gYmluYXJ5IHN0cmluZyB3aXRoIG5vIHdoaXRlc3BhY2VcbiAqL1xuZXhwb3J0cy5taW5pZnlCaW5hcnkgPSBmdW5jdGlvbiAoYmluYXJ5U3RyaW5nKSB7XG4gIHJldHVybiBiaW5hcnlTdHJpbmcucmVwbGFjZSgvW14wMV0vZywgJycpO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhIGJpbmFyeSBzdHJpbmcgdG8gYSBmb3JtYXR0ZWQgcmVwcmVzZW50YXRpb24sIHdpdGggY2h1bmtzIG9mXG4gKiBhIHNldCBzaXplIHNlcGFyYXRlZCBieSBhIHNwYWNlLlxuICogQHBhcmFtIHtzdHJpbmd9IGJpbmFyeVN0cmluZyAtIG1heSBiZSB1bmZvcm1hdHRlZCBhbHJlYWR5XG4gKiBAcGFyYW0ge251bWJlcn0gY2h1bmtTaXplIC0gaG93IG1hbnkgYml0cyBwZXIgZm9ybWF0IGNodW5rXG4gKiBAcGFyYW0ge251bWJlcn0gW29mZnNldF0gYml0LW9mZnNldCBmb3IgZm9ybWF0dGluZyBlZmZlY3Q7IGRlZmF1bHQgMC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IHByZXR0eSBmb3JtYXR0ZWQgYmluYXJ5IHN0cmluZ1xuICovXG5leHBvcnRzLmZvcm1hdEJpbmFyeSA9IGZ1bmN0aW9uIChiaW5hcnlTdHJpbmcsIGNodW5rU2l6ZSwgb2Zmc2V0KSB7XG4gIG9mZnNldCA9IHV0aWxzLnZhbHVlT3Iob2Zmc2V0LCAwKTtcbiAgaWYgKGNodW5rU2l6ZSA8PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJQYXJhbWV0ZXIgY2h1bmtTaXplIG11c3QgYmUgZ3JlYXRlciB0aGFuIHplcm9cIik7XG4gIH1cblxuICB2YXIgYmluYXJ5ID0gZXhwb3J0cy5taW5pZnlCaW5hcnkoYmluYXJ5U3RyaW5nKTtcblxuICB2YXIgY2h1bmtzID0gW107XG4gIHZhciBmaXJzdENodW5rTGVuZ3RoID0gdXRpbHMubW9kKG9mZnNldCwgY2h1bmtTaXplKTtcbiAgaWYgKGZpcnN0Q2h1bmtMZW5ndGggPiAwKSB7XG4gICAgY2h1bmtzLnB1c2goYmluYXJ5LnN1YnN0cigwLCBmaXJzdENodW5rTGVuZ3RoKSk7XG4gIH1cblxuICBmb3IgKHZhciBpID0gZmlyc3RDaHVua0xlbmd0aDsgaSA8IGJpbmFyeS5sZW5ndGg7IGkgKz0gY2h1bmtTaXplKSB7XG4gICAgY2h1bmtzLnB1c2goYmluYXJ5LnN1YnN0cihpLCBjaHVua1NpemUpKTtcbiAgfVxuXG4gIHJldHVybiBjaHVua3Muam9pbignICcpO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleGFkZWNpbWFsIHN0cmluZyBpbnRvIGl0cyBtb3N0IGNvbXBhY3Qgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICogU3RyaXBzIHdoaXRlc3BhY2UgYW5kIG5vbi1oZXggY2hhcmFjdGVycywgYW5kIGNvZXJjZXMgbGV0dGVycyB0byB1cHBlcmNhc2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gaGV4U3RyaW5nXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICovXG5leHBvcnRzLm1pbmlmeUhleCA9IGZ1bmN0aW9uIChoZXhTdHJpbmcpIHtcbiAgcmV0dXJuIGhleFN0cmluZy5yZXBsYWNlKC9bXjAtOUEtRl0vZ2ksICcnKS50b1VwcGVyQ2FzZSgpO1xufTtcblxuLyoqXG4gKiBSZWR1Y2VzIGFsbCB3aGl0ZXNwYWNlIHRvIHNpbmdsZSBjaGFyYWN0ZXJzIGFuZCBzdHJpcHMgbm9uLWRpZ2l0cy5cbiAqIEBwYXJhbSBkZWNpbWFsU3RyaW5nXG4gKi9cbmV4cG9ydHMubWluaWZ5RGVjaW1hbCA9IGZ1bmN0aW9uIChkZWNpbWFsU3RyaW5nKSB7XG4gIHJldHVybiBkZWNpbWFsU3RyaW5nLnJlcGxhY2UoLyheXFxzK3xcXHMrJHxbXjAtOVxcc10pL2csICcnKS5yZXBsYWNlKC9cXHMrL2csICcgJyk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgaGV4IHN0cmluZyB0byBhIGZvcm1hdHRlZCByZXByZXNlbnRhdGlvbiwgd2l0aCBjaHVua3Mgb2ZcbiAqIGEgc2V0IHNpemUgc2VwYXJhdGVkIGJ5IGEgc3BhY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gaGV4U3RyaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gY2h1bmtTaXplIC0gaW4gYml0cyFcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb2Zmc2V0XSBoZXgtZGlnaXQtb2Zmc2V0IGZvciBmb3JtYXR0aW5nIGVmZmVjdDsgZGVmYXVsdCAwLlxuICogQHJldHVybnMge3N0cmluZ30gZm9ybWF0dGVkIGhleFxuICovXG5leHBvcnRzLmZvcm1hdEhleCA9IGZ1bmN0aW9uIChoZXhTdHJpbmcsIGNodW5rU2l6ZSwgb2Zmc2V0KSB7XG4gIG9mZnNldCA9IHV0aWxzLnZhbHVlT3Iob2Zmc2V0LCAwKTtcbiAgaWYgKGNodW5rU2l6ZSA8PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJQYXJhbWV0ZXIgY2h1bmtTaXplIG11c3QgYmUgZ3JlYXRlciB0aGFuIHplcm9cIik7XG4gIH1cblxuICAvLyBEb24ndCBmb3JtYXQgaGV4IHdoZW4gdGhlIGNodW5rU2l6ZSBkb2Vzbid0IGFsaWduIHdpdGggaGV4IGNoYXJhY3RlcnMuXG4gIGlmIChjaHVua1NpemUgJSA0ICE9PSAwKSB7XG4gICAgcmV0dXJuIGhleFN0cmluZztcbiAgfVxuXG4gIHZhciBoZXhDaHVua1NpemUgPSBjaHVua1NpemUgLyA0O1xuICB2YXIgaGV4ID0gZXhwb3J0cy5taW5pZnlIZXgoaGV4U3RyaW5nKTtcblxuICB2YXIgY2h1bmtzID0gW107XG4gIHZhciBmaXJzdENodW5rTGVuZ3RoID0gdXRpbHMubW9kKG9mZnNldCwgaGV4Q2h1bmtTaXplKTtcbiAgaWYgKGZpcnN0Q2h1bmtMZW5ndGggPiAwKSB7XG4gICAgY2h1bmtzLnB1c2goaGV4LnN1YnN0cigwLCBmaXJzdENodW5rTGVuZ3RoKSk7XG4gIH1cblxuICBmb3IgKHZhciBpID0gZmlyc3RDaHVua0xlbmd0aDsgaSA8IGhleC5sZW5ndGg7IGkgKz0gaGV4Q2h1bmtTaXplKSB7XG4gICAgY2h1bmtzLnB1c2goaGV4LnN1YnN0cihpLCBoZXhDaHVua1NpemUpKTtcbiAgfVxuXG4gIHJldHVybiBjaHVua3Muam9pbignICcpO1xufTtcblxuLyoqXG4gKiBUYWtlcyBhIHNldCBvZiB3aGl0ZXNwYWNlLXNlcGFyYXRlZCBudW1iZXJzIGFuZCBwYWRzIHRoZSBzcGFjaW5nIGJldHdlZW5cbiAqIHRoZW0gdG8gdGhlIHdpZHRoIG9mIHRoZSB3aWRlc3QgbnVtYmVyLCBzbyB0aGF0IHRoZXkgbGluZSB1cCB3aGVuIHRoZXlcbiAqIHdyYXAuXG4gKiBAcGFyYW0ge3N0cmluZ30gZGVjaW1hbFN0cmluZ1xuICogQHJldHVybnMge3N0cmluZ30gYWxpZ25lZCBkZWNpbWFsIHN0cmluZ1xuICovXG5leHBvcnRzLmFsaWduRGVjaW1hbCA9IGZ1bmN0aW9uIChkZWNpbWFsU3RyaW5nKSB7XG4gIGlmIChkZWNpbWFsU3RyaW5nLnJlcGxhY2UoL1xcRC9nLCAnJykgPT09ICcnKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgdmFyIG51bWJlcnMgPSBleHBvcnRzLm1pbmlmeURlY2ltYWwoZGVjaW1hbFN0cmluZykuc3BsaXQoL1xccysvKTtcblxuICAvLyBGaW5kIHRoZSBsZW5ndGggb2YgdGhlIGxvbmdlc3QgbnVtYmVyXG4gIHZhciBtb3N0RGlnaXRzID0gbnVtYmVycy5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgY3VyKSB7XG4gICAgaWYgKGN1ci5sZW5ndGggPiBwcmV2KSB7XG4gICAgICByZXR1cm4gY3VyLmxlbmd0aDtcbiAgICB9XG4gICAgcmV0dXJuIHByZXY7XG4gIH0sIDApO1xuXG4gIHZhciB6ZXJvUGFkZGluZyA9ICcwJy5yZXBlYXQobW9zdERpZ2l0cyk7XG5cbiAgcmV0dXJuIG51bWJlcnMubWFwKGZ1bmN0aW9uIChudW1TdHJpbmcpIHtcbiAgICAvLyBMZWZ0LXBhZCBlYWNoIG51bWJlciB3aXRoIG5vbi1icmVha2luZyBzcGFjZXMgdXAgdG8gbWF4IHdpZHRoLlxuICAgIHJldHVybiAoemVyb1BhZGRpbmcgKyBudW1TdHJpbmcpLnNsaWNlKC1tb3N0RGlnaXRzKTtcbiAgfSkuam9pbignICcpO1xufTtcblxuLyoqXG4gKiBJbnRlcnByZXRzIGEgc3RyaW5nIG9mIEFzIGFuZCBCcyBhcyBiaW5hcnkgd2hlcmUgQSBpcyAwIGFuZCBCIGlzIDEsIHRoZW5cbiAqIGludGVycHJldHMgdGhhdCBiaW5hcnkgYXMgYSBzaW5nbGUgbnVtYmVyLCBhbmQgcmV0dXJucyB0aGF0IG51bWJlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBhYlN0cmluZ1xuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0cy5hYlRvSW50ID0gZnVuY3Rpb24gKGFiU3RyaW5nKSB7XG4gIHJldHVybiBleHBvcnRzLmJpbmFyeVRvSW50KGV4cG9ydHMuYWJUb0JpbmFyeShhYlN0cmluZykpO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhIG51bWJlciB0byBhbiBBQiBiaW5hcnkgcmVwcmVzZW50YXRpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSBudW1cbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aFxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0cy5pbnRUb0FCID0gZnVuY3Rpb24gKG51bSwgd2lkdGgpIHtcbiAgcmV0dXJuIGV4cG9ydHMuYmluYXJ5VG9BQihleHBvcnRzLmludFRvQmluYXJ5KG51bSwgd2lkdGgpKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgQXMgYW5kIEJzIHRvIGEgYmluYXJ5IHN0cmluZywgd2hlcmUgQSBpcyAwIGFuZCBCIGlzIDEuXG4gKiBAcGFyYW0ge3N0cmluZ30gYWJTdHJpbmdcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydHMuYWJUb0JpbmFyeSA9IGZ1bmN0aW9uIChhYlN0cmluZykge1xuICByZXR1cm4gZXhwb3J0cy5taW5pZnlBQihhYlN0cmluZykucmVwbGFjZSgvQS9nLCAnMCcpLnJlcGxhY2UoL0IvZywgJzEnKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgYmluYXJ5IGludG8gQXMgYW5kIEJzLCB3aGVyZSAwIGlzIEEgYW5kIDEgaXMgQi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBiaW5hcnlTdHJpbmdcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydHMuYmluYXJ5VG9BQiA9IGZ1bmN0aW9uIChiaW5hcnlTdHJpbmcpIHtcbiAgcmV0dXJuIGV4cG9ydHMubWluaWZ5QmluYXJ5KGJpbmFyeVN0cmluZykucmVwbGFjZSgvMC9nLCAnQScpLnJlcGxhY2UoLzEvZywgJ0InKTtcbn07XG5cbi8qKlxuICogSW50ZXJwcmV0cyBhIGJpbmFyeSBzdHJpbmcgYXMgYSBzaW5nbGUgbnVtYmVyLCBhbmQgcmV0dXJucyB0aGF0IG51bWJlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBiaW5hcnlTdHJpbmdcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbmV4cG9ydHMuYmluYXJ5VG9JbnQgPSBmdW5jdGlvbiAoYmluYXJ5U3RyaW5nKSB7XG4gIHJldHVybiBwYXJzZUludChleHBvcnRzLm1pbmlmeUJpbmFyeShiaW5hcnlTdHJpbmcpLCAyKTtcbn07XG5cbnZhciBpbnRUb1N0cmluZyA9IGZ1bmN0aW9uIChpbnQsIGJhc2UsIHdpZHRoKSB7XG4gIGlmICh3aWR0aCA8PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJPdXRwdXQgd2lkdGggbXVzdCBiZSBncmVhdGVyIHRoYW4gemVyb1wiKTtcbiAgfVxuICByZXR1cm4gTmV0U2ltVXRpbHMuemVyb1BhZExlZnQoaW50LnRvU3RyaW5nKGJhc2UpLCB3aWR0aCk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgbnVtYmVyIHRvIGEgYmluYXJ5IHN0cmluZyByZXByZXNlbnRhdGlvbiB3aXRoIHRoZSBnaXZlbiB3aWR0aC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBpbnQgLSBudW1iZXIgdG8gY29udmVydFxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gbnVtYmVyIG9mIGJpdHMgdG8gdXNlXG4gKiBAcmV0dXJucyB7c3RyaW5nfSAtIGJpbmFyeSByZXByZXNlbnRhdGlvbiB3aXRoIGxlbmd0aCBvZiBcIndpZHRoXCJcbiAqL1xuZXhwb3J0cy5pbnRUb0JpbmFyeSA9IGZ1bmN0aW9uIChpbnQsIHdpZHRoKSB7XG4gIHJldHVybiBpbnRUb1N0cmluZyhpbnQsIDIsIHdpZHRoKTtcbn07XG5cbi8qKlxuICogSW50ZXJwcmV0cyBhIGhleCBzdHJpbmcgYXMgYSBzaW5nbGUgbnVtYmVyLCBhbmQgcmV0dXJucyB0aGF0IG51bWJlci5cbiAqIEBwYXJhbSBoZXhhZGVjaW1hbFN0cmluZ1xuICogQHJldHVybnMge051bWJlcn1cbiAqL1xuZXhwb3J0cy5oZXhUb0ludCA9IGZ1bmN0aW9uIChoZXhhZGVjaW1hbFN0cmluZykge1xuICByZXR1cm4gcGFyc2VJbnQoZXhwb3J0cy5taW5pZnlIZXgoaGV4YWRlY2ltYWxTdHJpbmcpLCAxNik7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgbnVtYmVyIHRvIGEgaGV4YWRlY2ltYWwgc3RyaW5nIHJlcHJlc2VudGF0aW9uIHdpdGggdGhlIGdpdmVuXG4gKiB3aWR0aC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBpbnQgLSBudW1iZXIgdG8gY29udmVydFxuICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gbnVtYmVyIG9mIGNoYXJhY3RlcnMgdG8gdXNlXG4gKiBAcmV0dXJucyB7c3RyaW5nfSAtIGhleCByZXByZXNlbnRhdGlvbiB3aXRoIGxlbmd0aCBvZiBcIndpZHRoXCJcbiAqL1xuZXhwb3J0cy5pbnRUb0hleCA9IGZ1bmN0aW9uIChpbnQsIHdpZHRoKSB7XG4gIHJldHVybiBpbnRUb1N0cmluZyhpbnQsIDE2LCB3aWR0aCkudG9VcHBlckNhc2UoKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgYSBoZXggc3RyaW5nIHRvIGEgYmluYXJ5IHN0cmluZywgYnkgbWFwcGluZyBlYWNoIGhleCBjaGFyYWN0ZXJcbiAqIHRvIGZvdXIgYml0cyBvZiBiaW5hcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30gaGV4YWRlY2ltYWxTdHJpbmdcbiAqIEByZXR1cm5zIHtzdHJpbmd9IGJpbmFyeSByZXByZXNlbnRhdGlvbi5cbiAqL1xuZXhwb3J0cy5oZXhUb0JpbmFyeSA9IGZ1bmN0aW9uIChoZXhhZGVjaW1hbFN0cmluZykge1xuICB2YXIgdWdseUhleCA9IGV4cG9ydHMubWluaWZ5SGV4KGhleGFkZWNpbWFsU3RyaW5nKTtcbiAgdmFyIGJpbmFyeSA9ICcnO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdWdseUhleC5sZW5ndGg7IGkrKykge1xuICAgIGJpbmFyeSArPSBleHBvcnRzLmludFRvQmluYXJ5KGV4cG9ydHMuaGV4VG9JbnQodWdseUhleC5zdWJzdHIoaSwgMSkpLCA0KTtcbiAgfVxuXG4gIHJldHVybiBiaW5hcnk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgYmluYXJ5IHN0cmluZyB0byBhIGhleCBzdHJpbmcsIG1hcHBpbmcgZWFjaCBmb3VyIGJpdHMgaW50b1xuICogYSBoZXggY2hhcmFjdGVyIGFuZCByaWdodC1wYWRkaW5nIHdpdGggemVyb2VzIHRvIHJvdW5kIG91dCB0aGUgYmluYXJ5IGxlbmd0aC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBiaW5hcnlTdHJpbmdcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydHMuYmluYXJ5VG9IZXggPSBmdW5jdGlvbiAoYmluYXJ5U3RyaW5nKSB7XG4gIHZhciBjdXJyZW50TmliYmxlO1xuICB2YXIgbmliYmxlV2lkdGggPSA0O1xuICB2YXIgY2hhcnMgPSBbXTtcbiAgdmFyIHVnbHlCaW5hcnkgPSBleHBvcnRzLm1pbmlmeUJpbmFyeShiaW5hcnlTdHJpbmcpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHVnbHlCaW5hcnkubGVuZ3RoOyBpICs9IG5pYmJsZVdpZHRoKSB7XG4gICAgY3VycmVudE5pYmJsZSA9IE5ldFNpbVV0aWxzLnplcm9QYWRSaWdodChcbiAgICAgICAgdWdseUJpbmFyeS5zdWJzdHIoaSwgbmliYmxlV2lkdGgpLCBuaWJibGVXaWR0aCk7XG4gICAgY2hhcnMucHVzaChleHBvcnRzLmludFRvSGV4KGV4cG9ydHMuYmluYXJ5VG9JbnQoY3VycmVudE5pYmJsZSksIDEpKTtcbiAgfVxuICByZXR1cm4gY2hhcnMuam9pbignJyk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgc3RyaW5nIHNldCBvZiBudW1iZXJzIHRvIGEgYmluYXJ5IHJlcHJlc2VudGF0aW9uIG9mIHRob3NlIG51bWJlcnNcbiAqIHVzaW5nIHRoZSBnaXZlbiBieXRlLXNpemUuXG4gKiBAcGFyYW0ge3N0cmluZ30gZGVjaW1hbFN0cmluZyAtIEEgc2V0IG9mIG51bWJlcnMgc2VwYXJhdGVkIGJ5IHdoaXRlc3BhY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gYnl0ZVNpemUgLSBIb3cgbWFueSBiaXRzIHRvIHVzZSB0byByZXByZXNlbnQgZWFjaCBudW1iZXIuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBCaW5hcnkgcmVwcmVzZW50YXRpb24uXG4gKi9cbmV4cG9ydHMuZGVjaW1hbFRvQmluYXJ5ID0gZnVuY3Rpb24gKGRlY2ltYWxTdHJpbmcsIGJ5dGVTaXplKSB7XG4gIC8vIFNwZWNpYWwgY2FzZTogTm8gbnVtYmVyc1xuICBpZiAoZGVjaW1hbFN0cmluZy5yZXBsYWNlKC9cXEQvZywgJycpID09PSAnJykge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHJldHVybiBleHBvcnRzLm1pbmlmeURlY2ltYWwoZGVjaW1hbFN0cmluZylcbiAgICAgIC5zcGxpdCgvXFxzKy8pXG4gICAgICAubWFwKGZ1bmN0aW9uIChudW1TdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuaW50VG9CaW5hcnkocGFyc2VJbnQobnVtU3RyaW5nLCAxMCksIGJ5dGVTaXplKTtcbiAgICAgIH0pXG4gICAgICAuam9pbignJyk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGJpbmFyeSB0byBhIHN0cmluZyBvZiBkZWNpbWFsIG51bWJlcnMgc2VwYXJhdGVkIGJ5IHdoaXRlc3BhY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gYmluYXJ5U3RyaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gYnl0ZVNpemUgLSBIb3cgbWFueSBiaXRzIHRvIHJlYWQgZm9yIGVhY2ggbnVtYmVyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBkZWNpbWFsIG51bWJlcnNcbiAqL1xuZXhwb3J0cy5iaW5hcnlUb0RlY2ltYWwgPSBmdW5jdGlvbiAoYmluYXJ5U3RyaW5nLCBieXRlU2l6ZSkge1xuICB2YXIgY3VycmVudEJ5dGU7XG4gIHZhciBudW1iZXJzID0gW107XG4gIHZhciBiaW5hcnkgPSBleHBvcnRzLm1pbmlmeUJpbmFyeShiaW5hcnlTdHJpbmcpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJpbmFyeS5sZW5ndGg7IGkgKz0gYnl0ZVNpemUpIHtcbiAgICBjdXJyZW50Qnl0ZSA9IE5ldFNpbVV0aWxzLnplcm9QYWRSaWdodChiaW5hcnkuc3Vic3RyKGksIGJ5dGVTaXplKSwgYnl0ZVNpemUpO1xuICAgIG51bWJlcnMucHVzaChleHBvcnRzLmJpbmFyeVRvSW50KGN1cnJlbnRCeXRlKSk7XG4gIH1cbiAgcmV0dXJuIG51bWJlcnMuam9pbignICcpO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhc2NpaSB0byBiaW5hcnksIHVzaW5nIHRoZSBnaXZlbiBieXRlc2l6ZSBmb3IgZWFjaCBjaGFyYWN0ZXIuXG4gKiBPdmVyZmxvdyBpcyBpZ25vcmVkIChsZWZ0LXRyaW1tZWQpOyByZWNvbW1lbmQgdXNpbmcgYSBieXRlc2l6ZSBvZiA4IGluXG4gKiBtb3N0IGNpcmN1bXN0YW5jZXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gYXNjaWlTdHJpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSBieXRlU2l6ZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0cy5hc2NpaVRvQmluYXJ5ID0gZnVuY3Rpb24gKGFzY2lpU3RyaW5nLCBieXRlU2l6ZSkge1xuICB2YXIgYnl0ZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhc2NpaVN0cmluZy5sZW5ndGg7IGkrKykge1xuICAgIGJ5dGVzLnB1c2goZXhwb3J0cy5pbnRUb0JpbmFyeShhc2NpaVN0cmluZy5jaGFyQ29kZUF0KGkpLCBieXRlU2l6ZSkpO1xuICB9XG4gIHJldHVybiBieXRlcy5qb2luKCcnKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgYmluYXJ5IHRvIGFuIGFzY2lpIHN0cmluZywgdXNpbmcgdGhlIGdpdmVuIGJ5dGVzaXplIGZvciBlYWNoXG4gKiBjaGFyYWN0ZXIuICBJZiB0aGUgYmluYXJ5IGlzIG5vdCBkaXZpc2libGUgYnkgYnl0ZXNpemUsIHRoZSBmaW5hbCBjaGFyYWN0ZXJcbiAqIGlzIHJpZ2h0LXBhZGRlZC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBiaW5hcnlTdHJpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSBieXRlU2l6ZVxuICogQHJldHVybnMge3N0cmluZ30gQVNDSUkgc3RyaW5nXG4gKi9cbmV4cG9ydHMuYmluYXJ5VG9Bc2NpaSA9IGZ1bmN0aW9uIChiaW5hcnlTdHJpbmcsIGJ5dGVTaXplKSB7XG4gIGlmIChieXRlU2l6ZSA8PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJQYXJhbWV0ZXIgYnl0ZVNpemUgbXVzdCBiZSBncmVhdGVyIHRoYW4gemVyb1wiKTtcbiAgfVxuXG4gIHZhciBjdXJyZW50Qnl0ZTtcbiAgdmFyIGNoYXJzID0gW107XG4gIHZhciBiaW5hcnkgPSBleHBvcnRzLm1pbmlmeUJpbmFyeShiaW5hcnlTdHJpbmcpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGJpbmFyeS5sZW5ndGg7IGkgKz0gYnl0ZVNpemUpIHtcbiAgICBjdXJyZW50Qnl0ZSA9IE5ldFNpbVV0aWxzLnplcm9QYWRSaWdodChiaW5hcnkuc3Vic3RyKGksIGJ5dGVTaXplKSwgYnl0ZVNpemUpO1xuICAgIGNoYXJzLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShleHBvcnRzLmJpbmFyeVRvSW50KGN1cnJlbnRCeXRlKSkpO1xuICB9XG4gIHJldHVybiBjaGFycy5qb2luKCcnKTtcbn07XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQmFzZTY0UGF5bG9hZFxuICogQHByb3BlcnR5IHtzdHJpbmd9IHN0cmluZyAtIHRoZSBiYXNlNjQtZW5jb2RlZCBwYXlsb2FkXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGVuIC0gdGhlIGxlbmd0aCBvZiB0aGUgb3JpZ2luYWwgYmluYXJ5IHBheWxvYWRcbiAqL1xuXG4vKipcbiAqIENvbnZlcnRzIGJpbmFyeSB0byBhIGJhc2U2NCBzdHJpbmcgZm9yIG1vcmUgZWZmaWNpZW50IG5ldHdvcmtcbiAqIHRyYW5zZmVyLiBCZWNhdXNlIGJhc2U2NCBleHBlY3RzIGV2ZW4gYnl0ZXMsIHdlIHBhZCB0aGUgYmluYXJ5IHN0cmluZ1xuICogdG8gdGhlIG5lYXJlc3QgYnl0ZSBhbmQgcmV0dXJuIHRoZSBvcmlnaW5hbCBsZW5ndGguIFRoZSByZXZlcnNlXG4gKiBjb252ZXJzaW9uIGV4cGVjdHMgdG8gYmUgZ2l2ZW4gdGhhdCBvcmlnaW5hbCBsZW5ndGguXG4gKiBAcGFyYW0ge3N0cmluZ30gYmluYXJ5U3RyaW5nXG4gKiBAcmV0dXJucyB7QmFzZTY0UGF5bG9hZH0gT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGJhc2U2NCBzdHJpbmcgYW5kIHRoZVxuICogICAgICAgICAgbGVuZ3RoIG9mIG9mIHRoZSBvcmlnaW5hbCBiaW5hcnlTdHJpbmdcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gaWYgYmluYXJ5U3RyaW5nIGFyZ3VtZW50IGlzIG5vdCBhXG4gKiAgICAgICAgIHByb3Blcmx5LWZvcm1hdHRlZCBzdHJpbmcgb2YgemVyb2VzIGFuZCBvbmVzLlxuICogQGV4YW1wbGVcbiAqIC8vIHJldHVybnMgeyBzdHJpbmc6IFwia2c9PVwiLCBsZW46IDcgfVxuICogRGF0YUNvbnZlcnRlcnMuYmluYXJ5VG9CYXNlNjQoXCIxMDAxMDAxXCIpO1xuICovXG5leHBvcnRzLmJpbmFyeVRvQmFzZTY0ID0gZnVuY3Rpb24gKGJpbmFyeVN0cmluZykge1xuXG4gIGlmICgvXlswMV0qJC8udGVzdChiaW5hcnlTdHJpbmcpID09PSBmYWxzZSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhcmd1bWVudCBiaW5hcnlTdHJpbmcgdG8gbWV0aG9kIGJpbmFyeVRvQmFzZTY0XCIgK1xuICAgICAgXCJtdXN0IGJlIGEgYmluYXJ5IHN0cmluZzsgcmVjZWl2ZWQgXFxcIlwiICsgYmluYXJ5U3RyaW5nICsgXCJcXFwiIGluc3RlYWRcIik7XG4gIH1cblxuICB2YXIgYnl0ZUxlbiA9IE1hdGguY2VpbChiaW5hcnlTdHJpbmcubGVuZ3RoLzguMCkgKiA4O1xuICB2YXIgcGFkZGVkQmluYXJ5U3RyaW5nID0gTmV0U2ltVXRpbHMuemVyb1BhZFJpZ2h0KGJpbmFyeVN0cmluZywgYnl0ZUxlbik7XG4gIHZhciBwYXlsb2FkID0gd2luZG93LmJ0b2EoZXhwb3J0cy5iaW5hcnlUb0FzY2lpKHBhZGRlZEJpbmFyeVN0cmluZywgOCkpO1xuXG4gIHJldHVybiB7IHN0cmluZzogcGF5bG9hZCwgbGVuOiBiaW5hcnlTdHJpbmcubGVuZ3RoIH07XG5cbn07XG5cbi8qKlxuICogQ29udmVydHMgYSBiYXNlNjQgc3RyaW5nIGJhY2sgaW50byBhIGJpbmFyeSBzdHJpbmcgb2YgdGhlIHNwZWNpZmllZFxuICogbGVuZ3RoLlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2U2NHN0cmluZ1xuICogQHBhcmFtIHtudW1iZXJ9IGxlblxuICogQHJldHVybnMge3N0cmluZ30gYmluYXJ5U3RyaW5nXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IGlmIGJhc2U2NHN0cmluZyBhcmd1bWVudCBpcyBub3QgYVxuICogICAgICAgICBwcm9wZXJseSBiYXNlNjQtZW5jb2RlZCBzdHJpbmdcbiAqIEBleGFtcGxlXG4gKiAvLyByZXR1cm5zIFwiMTAwMTAwMVwiXG4gKiBEYXRhQ29udmVydGVycy5iYXNlNjRUb0JpbmFyeShcImtnPT1cIiwgNyk7XG4gKi9cbmV4cG9ydHMuYmFzZTY0VG9CaW5hcnkgPSBmdW5jdGlvbiAoYmFzZTY0c3RyaW5nLCBsZW4pIHtcbiAgdmFyIGRlY29kZWREYXRhO1xuICB0cnkge1xuICAgIGRlY29kZWREYXRhID0gd2luZG93LmF0b2IoYmFzZTY0c3RyaW5nKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhcmd1bWVudCBiYXNlNjRzdHJpbmcgdG8gbWV0aG9kIGJhc2U2NFRvQmluYXJ5XCIgK1xuICAgICAgICBcIm11c3QgYmUgYSBiYXNlNjQtZW5jb2RlZCBzdHJpbmdcIik7XG4gIH1cbiAgcmV0dXJuIGV4cG9ydHMuYXNjaWlUb0JpbmFyeShkZWNvZGVkRGF0YSwgOCkuc3Vic3RyKDAsIGxlbik7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGJpbmFyeSB0byBhbiBhZGRyZXNzIHN0cmluZyB1c2luZyB0aGUgcHJvdmlkZWQgYWRkcmVzcyBmb3JtYXQuXG4gKiBAcGFyYW0ge3N0cmluZ30gYmluYXJ5U3RyaW5nXG4gKiBAcGFyYW0ge0FkZHJlc3NIZWFkZXJGb3JtYXR9IGFkZHJlc3NGb3JtYXRcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmV4cG9ydHMuYmluYXJ5VG9BZGRyZXNzU3RyaW5nID0gZnVuY3Rpb24gKGJpbmFyeVN0cmluZywgYWRkcmVzc0Zvcm1hdCkge1xuICB2YXIgYmluYXJ5ID0gZXhwb3J0cy5taW5pZnlCaW5hcnkoYmluYXJ5U3RyaW5nKTtcbiAgaWYgKGJpbmFyeS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICB2YXIgaW5kZXhJbnRvQmluYXJ5ID0gMDtcblxuICAvLyBQYXJlbnRoZXNlcyBpbiB0aGUgc3BsaXQoKSByZWdleCBjYXVzZSB0aGUgZGl2aWRpbmcgZWxlbWVudHMgdG8gYmUgY2FwdHVyZWRcbiAgLy8gYW5kIGFsc28gaW5jbHVkZWQgaW4gdGhlIHJldHVybiB2YWx1ZS5cbiAgcmV0dXJuIGFkZHJlc3NGb3JtYXQuc3BsaXQoLyhcXEQrKS8pLm1hcChmdW5jdGlvbiAoZm9ybWF0UGFydCkge1xuICAgIHZhciBiaXRXaWR0aCA9IHBhcnNlSW50KGZvcm1hdFBhcnQsIDEwKTtcbiAgICBpZiAoaXNOYU4oYml0V2lkdGgpKSB7XG4gICAgICAvLyBQYXNzIG5vbi1udW1iZXIgcGFydHMgb2YgdGhlIGZvcm1hdCB0aHJvdWdoLCBzbyB3ZSB1c2UgdGhlIG9yaWdpbmFsXG4gICAgICAvLyBlbnRlcmVkIGNoYXJhY3RlcnMvbGF5b3V0IGZvciBmb3JtYXR0aW5nLlxuICAgICAgcmV0dXJuIGZvcm1hdFBhcnQ7XG4gICAgfVxuXG4gICAgdmFyIGJpbmFyeVNsaWNlID0gYmluYXJ5LnN1YnN0cihpbmRleEludG9CaW5hcnksIGJpdFdpZHRoKTtcbiAgICB2YXIgaW50VmFsID0gYmluYXJ5U2xpY2UubGVuZ3RoID4gMCA/XG4gICAgICAgIGV4cG9ydHMuYmluYXJ5VG9JbnQoYmluYXJ5U2xpY2UpIDogMDtcbiAgICBpbmRleEludG9CaW5hcnkgKz0gYml0V2lkdGg7XG4gICAgcmV0dXJuIGludFZhbC50b1N0cmluZygpO1xuICB9KS5qb2luKCcnKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgYSBmb3JtYXR0ZWQgYWRkcmVzcyBzdHJpbmcgKGRlY2ltYWwgbnVtYmVycyB3aXRoIHNlcGFyYXRvcnMpIGludG9cbiAqIGJpbmFyeSB3aXRoIGJpdC13aWR0aHMgZm9yIGVhY2ggcGFydCBtYXRjaGluZyB0aGUgZ2l2ZW4gZm9ybWF0LlxuICogQHBhcmFtIHtzdHJpbmd9IGFkZHJlc3NTdHJpbmdcbiAqIEBwYXJhbSB7QWRkcmVzc0hlYWRlckZvcm1hdH0gYWRkcmVzc0Zvcm1hdFxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0cy5hZGRyZXNzU3RyaW5nVG9CaW5hcnkgPSBmdW5jdGlvbiAoYWRkcmVzc1N0cmluZywgYWRkcmVzc0Zvcm1hdCkge1xuICBpZiAoYWRkcmVzc1N0cmluZy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICAvLyBBY3R1YWwgdXNlciBpbnB1dCwgY29udmVydGVkIHRvIGEgbnVtYmVyW11cbiAgdmFyIGFkZHJlc3NQYXJ0cyA9IGFkZHJlc3NTdHJpbmcudG9TdHJpbmcoKS5zcGxpdCgvXFxEKy8pLm1hcChmdW5jdGlvbiAoc3RyaW5nUGFydCkge1xuICAgIHJldHVybiBwYXJzZUludChzdHJpbmdQYXJ0LCAxMCk7XG4gIH0pLmZpbHRlcihmdW5jdGlvbiAobnVtYmVyUGFydCkge1xuICAgIHJldHVybiAhaXNOYU4obnVtYmVyUGFydCk7XG4gIH0pO1xuXG4gIC8vIEZvcm1hdCwgY29udmVydGVkIHRvIGEgbnVtYmVyW10gd2hlcmUgdGhlIG51bWJlcnMgYXJlIGJpdC13aWR0aHNcbiAgdmFyIHBhcnRXaWR0aHMgPSBhZGRyZXNzRm9ybWF0LnNwbGl0KC9cXEQrLykubWFwKGZ1bmN0aW9uKHN0cmluZ1BhcnQpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoc3RyaW5nUGFydCwgMTApO1xuICB9KS5maWx0ZXIoZnVuY3Rpb24gKG51bWJlclBhcnQpIHtcbiAgICByZXR1cm4gIWlzTmFOKG51bWJlclBhcnQpO1xuICB9KTtcblxuICB2YXIgcGFydFZhbHVlO1xuICB2YXIgYmluYXJ5ID0gJyc7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydFdpZHRocy5sZW5ndGg7IGkrKykge1xuICAgIHBhcnRWYWx1ZSA9IGkgPCBhZGRyZXNzUGFydHMubGVuZ3RoID8gYWRkcmVzc1BhcnRzW2ldIDogMDtcbiAgICBiaW5hcnkgPSBiaW5hcnkgKyBleHBvcnRzLmludFRvQmluYXJ5KHBhcnRWYWx1ZSwgcGFydFdpZHRoc1tpXSk7XG4gIH1cbiAgcmV0dXJuIGJpbmFyeTtcbn07XG5cbi8qKlxuICogQ29udmVydCBhIGJpbmFyeSBzdHJpbmcgdG8gYSBmb3JtYXR0ZWQgcmVwcmVzZW50YXRpb24sIHdpdGggY2h1bmtzIHRoYXRcbiAqIGNvcnJlc3BvbmQgdG8gdGhlIHBhcnRzIG9mIHRoZSBhZGRyZXNzIGhlYWRlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBiaW5hcnlTdHJpbmdcbiAqIEBwYXJhbSB7QWRkcmVzc0hlYWRlckZvcm1hdH0gYWRkcmVzc0Zvcm1hdFxuICovXG5leHBvcnRzLmZvcm1hdEJpbmFyeUZvckFkZHJlc3NIZWFkZXIgPSBmdW5jdGlvbiAoYmluYXJ5U3RyaW5nLCBhZGRyZXNzRm9ybWF0KSB7XG4gIHZhciBiaW5hcnkgPSBleHBvcnRzLm1pbmlmeUJpbmFyeShiaW5hcnlTdHJpbmcpO1xuXG4gIHZhciBwYXJ0V2lkdGhzID0gYWRkcmVzc0Zvcm1hdC5zcGxpdCgvXFxEKy8pLm1hcChmdW5jdGlvbihzdHJpbmdQYXJ0KSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KHN0cmluZ1BhcnQsIDEwKTtcbiAgfSkuZmlsdGVyKGZ1bmN0aW9uIChudW1iZXJQYXJ0KSB7XG4gICAgcmV0dXJuICFpc05hTihudW1iZXJQYXJ0KTtcbiAgfSk7XG5cbiAgdmFyIGNodW5rcyA9IFtdO1xuICB2YXIgaW5kZXggPSAwO1xuICBwYXJ0V2lkdGhzLmZvckVhY2goZnVuY3Rpb24gKGJpdFdpZHRoKSB7XG4gICAgdmFyIG5leHQgPSBiaW5hcnkuc3Vic3RyKGluZGV4LCBiaXRXaWR0aCk7XG4gICAgaWYgKG5leHQubGVuZ3RoID4gMCkge1xuICAgICAgY2h1bmtzLnB1c2gobmV4dCk7XG4gICAgfVxuICAgIGluZGV4ICs9IGJpdFdpZHRoO1xuICB9KTtcblxuICB2YXIgbmV4dCA9IGJpbmFyeS5zdWJzdHIoaW5kZXgpO1xuICBpZiAobmV4dC5sZW5ndGggPiAwKSB7XG4gICAgY2h1bmtzLnB1c2gobmV4dCk7XG4gIH1cblxuICByZXR1cm4gY2h1bmtzLmpvaW4oJyAnKTtcbn07XG4iLCI7KGZ1bmN0aW9uICgpIHtcblxuICB2YXIgb2JqZWN0ID0gdHlwZW9mIGV4cG9ydHMgIT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpczsgLy8gIzg6IHdlYiB3b3JrZXJzXG4gIHZhciBjaGFycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSc7XG5cbiAgZnVuY3Rpb24gSW52YWxpZENoYXJhY3RlckVycm9yKG1lc3NhZ2UpIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB9XG4gIEludmFsaWRDaGFyYWN0ZXJFcnJvci5wcm90b3R5cGUgPSBuZXcgRXJyb3I7XG4gIEludmFsaWRDaGFyYWN0ZXJFcnJvci5wcm90b3R5cGUubmFtZSA9ICdJbnZhbGlkQ2hhcmFjdGVyRXJyb3InO1xuXG4gIC8vIGVuY29kZXJcbiAgLy8gW2h0dHBzOi8vZ2lzdC5naXRodWIuY29tLzk5OTE2Nl0gYnkgW2h0dHBzOi8vZ2l0aHViLmNvbS9uaWduYWddXG4gIG9iamVjdC5idG9hIHx8IChcbiAgb2JqZWN0LmJ0b2EgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICB2YXIgc3RyID0gU3RyaW5nKGlucHV0KTtcbiAgICBmb3IgKFxuICAgICAgLy8gaW5pdGlhbGl6ZSByZXN1bHQgYW5kIGNvdW50ZXJcbiAgICAgIHZhciBibG9jaywgY2hhckNvZGUsIGlkeCA9IDAsIG1hcCA9IGNoYXJzLCBvdXRwdXQgPSAnJztcbiAgICAgIC8vIGlmIHRoZSBuZXh0IHN0ciBpbmRleCBkb2VzIG5vdCBleGlzdDpcbiAgICAgIC8vICAgY2hhbmdlIHRoZSBtYXBwaW5nIHRhYmxlIHRvIFwiPVwiXG4gICAgICAvLyAgIGNoZWNrIGlmIGQgaGFzIG5vIGZyYWN0aW9uYWwgZGlnaXRzXG4gICAgICBzdHIuY2hhckF0KGlkeCB8IDApIHx8IChtYXAgPSAnPScsIGlkeCAlIDEpO1xuICAgICAgLy8gXCI4IC0gaWR4ICUgMSAqIDhcIiBnZW5lcmF0ZXMgdGhlIHNlcXVlbmNlIDIsIDQsIDYsIDhcbiAgICAgIG91dHB1dCArPSBtYXAuY2hhckF0KDYzICYgYmxvY2sgPj4gOCAtIGlkeCAlIDEgKiA4KVxuICAgICkge1xuICAgICAgY2hhckNvZGUgPSBzdHIuY2hhckNvZGVBdChpZHggKz0gMy80KTtcbiAgICAgIGlmIChjaGFyQ29kZSA+IDB4RkYpIHtcbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRDaGFyYWN0ZXJFcnJvcihcIididG9hJyBmYWlsZWQ6IFRoZSBzdHJpbmcgdG8gYmUgZW5jb2RlZCBjb250YWlucyBjaGFyYWN0ZXJzIG91dHNpZGUgb2YgdGhlIExhdGluMSByYW5nZS5cIik7XG4gICAgICB9XG4gICAgICBibG9jayA9IGJsb2NrIDw8IDggfCBjaGFyQ29kZTtcbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfSk7XG5cbiAgLy8gZGVjb2RlclxuICAvLyBbaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vMTAyMDM5Nl0gYnkgW2h0dHBzOi8vZ2l0aHViLmNvbS9hdGtdXG4gIG9iamVjdC5hdG9iIHx8IChcbiAgb2JqZWN0LmF0b2IgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICB2YXIgc3RyID0gU3RyaW5nKGlucHV0KS5yZXBsYWNlKC89KyQvLCAnJyk7XG4gICAgaWYgKHN0ci5sZW5ndGggJSA0ID09IDEpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQ2hhcmFjdGVyRXJyb3IoXCInYXRvYicgZmFpbGVkOiBUaGUgc3RyaW5nIHRvIGJlIGRlY29kZWQgaXMgbm90IGNvcnJlY3RseSBlbmNvZGVkLlwiKTtcbiAgICB9XG4gICAgZm9yIChcbiAgICAgIC8vIGluaXRpYWxpemUgcmVzdWx0IGFuZCBjb3VudGVyc1xuICAgICAgdmFyIGJjID0gMCwgYnMsIGJ1ZmZlciwgaWR4ID0gMCwgb3V0cHV0ID0gJyc7XG4gICAgICAvLyBnZXQgbmV4dCBjaGFyYWN0ZXJcbiAgICAgIGJ1ZmZlciA9IHN0ci5jaGFyQXQoaWR4KyspO1xuICAgICAgLy8gY2hhcmFjdGVyIGZvdW5kIGluIHRhYmxlPyBpbml0aWFsaXplIGJpdCBzdG9yYWdlIGFuZCBhZGQgaXRzIGFzY2lpIHZhbHVlO1xuICAgICAgfmJ1ZmZlciAmJiAoYnMgPSBiYyAlIDQgPyBicyAqIDY0ICsgYnVmZmVyIDogYnVmZmVyLFxuICAgICAgICAvLyBhbmQgaWYgbm90IGZpcnN0IG9mIGVhY2ggNCBjaGFyYWN0ZXJzLFxuICAgICAgICAvLyBjb252ZXJ0IHRoZSBmaXJzdCA4IGJpdHMgdG8gb25lIGFzY2lpIGNoYXJhY3RlclxuICAgICAgICBiYysrICUgNCkgPyBvdXRwdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgyNTUgJiBicyA+PiAoLTIgKiBiYyAmIDYpKSA6IDBcbiAgICApIHtcbiAgICAgIC8vIHRyeSB0byBmaW5kIGNoYXJhY3RlciBpbiB0YWJsZSAoMC02Mywgbm90IGZvdW5kID0+IC0xKVxuICAgICAgYnVmZmVyID0gY2hhcnMuaW5kZXhPZihidWZmZXIpO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9KTtcblxufSgpKTtcbiIsIi8qKlxuICogQG92ZXJ2aWV3IFN0YXRpYyBoZWxwZXIgbWV0aG9kcyBmb3IgTmV0U2ltLlxuICovXG4vLyBTdHJpY3QgbGludGluZzogQWJzb3JiIGludG8gZ2xvYmFsIGNvbmZpZyB3aGVuIHBvc3NpYmxlXG4vKiBqc2hpbnRcbiB1bnVzZWQ6IHRydWUsXG4gZXFlcWVxOiB0cnVlLFxuIG1heGxlbjogMTIwXG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcbnZhciBfID0gdXRpbHMuZ2V0TG9kYXNoKCk7XG52YXIgaTE4biA9IHJlcXVpcmUoJy4vbG9jYWxlJyk7XG52YXIgTmV0U2ltQ29uc3RhbnRzID0gcmVxdWlyZSgnLi9OZXRTaW1Db25zdGFudHMnKTtcbnZhciBOZXRTaW1HbG9iYWxzID0gcmVxdWlyZSgnLi9OZXRTaW1HbG9iYWxzJyk7XG5cbnZhciBsb2dnZXIgPSByZXF1aXJlKCcuL05ldFNpbUxvZ2dlcicpLmdldFNpbmdsZXRvbigpO1xuXG52YXIgRW5jb2RpbmdUeXBlID0gTmV0U2ltQ29uc3RhbnRzLkVuY29kaW5nVHlwZTtcblxuLyoqXG4gKiBNYWtlIGEgbmV3IFNWRyBlbGVtZW50LCBhcHByb3ByaWF0ZWx5IG5hbWVzcGFjZWQsIHdyYXBwZWQgaW4gYSBqUXVlcnlcbiAqIG9iamVjdCBmb3IgKHNlbWktKWVhc3kgbWFuaXB1bGF0aW9uLlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSB0aGUgdGFnbmFtZSBmb3IgdGhlIHN2ZyBlbGVtZW50LlxuICogQHJldHVybnMge2pRdWVyeX0gZm9yIGNoYWluaW5nXG4gKi9cbmV4cG9ydHMualF1ZXJ5U3ZnRWxlbWVudCA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gIHZhciBuZXdFbGVtZW50ID0gJChkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgdHlwZSkpO1xuXG4gIC8qKlxuICAgKiBPdmVycmlkZSBhZGRDbGFzcyBzaW5jZSBqUXVlcnkgYWRkQ2xhc3MgZG9lc24ndCB3b3JrIG9uIHN2Zy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZVxuICAgKi9cbiAgbmV3RWxlbWVudC5hZGRDbGFzcyA9IGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICB2YXIgb2xkQ2xhc3NlcyA9IG5ld0VsZW1lbnQuYXR0cignY2xhc3MnKTtcbiAgICBpZiAoIW9sZENsYXNzZXMpIHtcbiAgICAgIG5ld0VsZW1lbnQuYXR0cignY2xhc3MnLCBjbGFzc05hbWUpO1xuICAgIH0gZWxzZSBpZiAoIW5ld0VsZW1lbnQuaGFzQ2xhc3MoY2xhc3NOYW1lKSkge1xuICAgICAgbmV3RWxlbWVudC5hdHRyKCdjbGFzcycsIG9sZENsYXNzZXMgKyAnICcgKyBjbGFzc05hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3RWxlbWVudDtcbiAgfTtcblxuICAvKipcbiAgICogT3ZlcnJpZGUgcmVtb3ZlQ2xhc3Mgc2luY2UgalF1ZXJ5IHJlbW92ZUNsYXNzIGRvZXNuJ3Qgd29yayBvbiBzdmcuXG4gICAqIFJlbW92ZXMgdGhlIGdpdmVuIGNsYXNzbmFtZSBpZiBpdCBleGlzdHMgb24gdGhlIGVsZW1lbnQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWVcbiAgICogQHJldHVybnMge2pRdWVyeX0gZm9yIGNoYWluaW5nXG4gICAqL1xuICBuZXdFbGVtZW50LnJlbW92ZUNsYXNzID0gZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgIHZhciBvbGRDbGFzc2VzID0gbmV3RWxlbWVudC5hdHRyKCdjbGFzcycpO1xuICAgIGlmIChvbGRDbGFzc2VzKSB7XG4gICAgICB2YXIgbmV3Q2xhc3NlcyA9IG9sZENsYXNzZXNcbiAgICAgICAgICAuc3BsaXQoL1xccysvZylcbiAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uICh3b3JkKSB7XG4gICAgICAgICAgICByZXR1cm4gd29yZCAhPT0gY2xhc3NOYW1lO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmpvaW4oJyAnKTtcbiAgICAgIG5ld0VsZW1lbnQuYXR0cignY2xhc3MnLCBuZXdDbGFzc2VzKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0VsZW1lbnQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIGhhc0NsYXNzIHNpbmNlIGpRdWVyeSBoYXNDbGFzcyBkb2Vzbid0IHdvcmsgb24gc3ZnLlxuICAgKiBDaGVja3Mgd2hldGhlciB0aGUgZWxlbWVudCBoYXMgdGhlIGdpdmVuIGNsYXNzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKi9cbiAgbmV3RWxlbWVudC5oYXNDbGFzcyA9IGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICB2YXIgb2xkQ2xhc3NlcyA9IG5ld0VsZW1lbnQuYXR0cignY2xhc3MnKTtcbiAgICByZXR1cm4gb2xkQ2xhc3NlcyAmJiBvbGRDbGFzc2VzLnNwbGl0KC9cXHMrL2cpXG4gICAgICAgIC5zb21lKGZ1bmN0aW9uIChleGlzdGluZ0NsYXNzKSB7XG4gICAgICAgICAgcmV0dXJuIGV4aXN0aW5nQ2xhc3MgPT09IGNsYXNzTmFtZTtcbiAgICAgICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRvZ2dsZUNsYXNzIHNpbmNlIGpRdWVyeSB0b2dnbGVDbGFzcyBkb2Vzbid0IHdvcmsgb24gc3ZnLlxuICAgKlxuICAgKiBUd28gdmVyc2lvbnM6XG4gICAqXG4gICAqIHRvZ2dsZUNsYXNzKGNsYXNzTmFtZSkgcmV2ZXJzZXMgdGhlIHN0YXRlIG9mIHRoZSBjbGFzcyBvbiB0aGUgZWxlbWVudDtcbiAgICogICBpZiBpdCBoYXMgdGhlIGNsYXNzIGl0IGdldHMgcmVtb3ZlZCwgaWYgaXQgZG9lc24ndCBoYXZlIHRoZSBjbGFzcyBpdFxuICAgKiAgIGdldHMgYWRkZWQuXG4gICAqXG4gICAqIHRvZ2dsZUNsYXNzKGNsYXNzTmFtZSwgc2hvdWxkSGF2ZUNsYXNzKSBhZGRzIG9yIHJlbW92ZXMgdGhlIGNsYXNzIG9uIHRoZVxuICAgKiAgIGVsZW1lbnQgZGVwZW5kaW5nIG9uIHRoZSB2YWx1ZSBvZiB0aGUgc2Vjb25kIGFyZ3VtZW50LlxuICAgKlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Nob3VsZEhhdmVDbGFzc11cbiAgICogQHJldHVybnMge2pRdWVyeX0gZm9yIGNoYWluaW5nXG4gICAqL1xuICBuZXdFbGVtZW50LnRvZ2dsZUNsYXNzID0gZnVuY3Rpb24gKGNsYXNzTmFtZSwgc2hvdWxkSGF2ZUNsYXNzKSB7XG4gICAgLy8gRGVmYXVsdCBzZWNvbmQgYXJndW1lbnQgLSBpZiBub3QgcHJvdmlkZWQsIHdlIGZsaXAgdGhlIGN1cnJlbnQgc3RhdGVcbiAgICBzaG91bGRIYXZlQ2xhc3MgPSB1dGlscy52YWx1ZU9yKHNob3VsZEhhdmVDbGFzcywgIW5ld0VsZW1lbnQuaGFzQ2xhc3MoY2xhc3NOYW1lKSk7XG5cbiAgICBpZiAoc2hvdWxkSGF2ZUNsYXNzKSB7XG4gICAgICBuZXdFbGVtZW50LmFkZENsYXNzKGNsYXNzTmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0VsZW1lbnQucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld0VsZW1lbnQ7XG4gIH07XG5cbiAgcmV0dXJuIG5ld0VsZW1lbnQ7XG59O1xuXG4vKipcbiAqIENoZWNrcyBjb25maWd1cmF0aW9uIGFnYWluc3QgdGFiIHR5cGUgdG8gZGVjaWRlIHdoZXRoZXIgdGFiXG4gKiBvZiB0eXBlIHNob3VsZCBiZSBzaG93bi5cbiAqIEBwYXJhbSB7TmV0U2ltTGV2ZWxDb25maWd1cmF0aW9ufSBsZXZlbENvbmZpZ1xuICogQHBhcmFtIHtOZXRTaW1UYWJUeXBlfSB0YWJUeXBlXG4gKi9cbmV4cG9ydHMuc2hvdWxkU2hvd1RhYiA9IGZ1bmN0aW9uIChsZXZlbENvbmZpZywgdGFiVHlwZSkge1xuICByZXR1cm4gbGV2ZWxDb25maWcuc2hvd1RhYnMuaW5kZXhPZih0YWJUeXBlKSA+IC0xO1xufTtcblxuLyoqXG4gKiBHZXQgdGhlIGxvY2FsaXplZCBzdHJpbmcgZm9yIHRoZSBnaXZlbiBlbmNvZGluZyB0eXBlLlxuICogQHBhcmFtIHtFbmNvZGluZ1R5cGV9IGVuY29kaW5nVHlwZVxuICogQHJldHVybnMge3N0cmluZ30gbG9jYWxpemVkIGVuY29kaW5nIG5hbWVcbiAqL1xuZXhwb3J0cy5nZXRFbmNvZGluZ0xhYmVsID0gZnVuY3Rpb24gKGVuY29kaW5nVHlwZSkge1xuICBpZiAoZW5jb2RpbmdUeXBlID09PSBFbmNvZGluZ1R5cGUuQVNDSUkpIHtcbiAgICByZXR1cm4gaTE4bi5hc2NpaSgpO1xuICB9IGVsc2UgaWYgKGVuY29kaW5nVHlwZSA9PT0gRW5jb2RpbmdUeXBlLkRFQ0lNQUwpIHtcbiAgICByZXR1cm4gaTE4bi5kZWNpbWFsKCk7XG4gIH0gZWxzZSBpZiAoZW5jb2RpbmdUeXBlID09PSBFbmNvZGluZ1R5cGUuSEVYQURFQ0lNQUwpIHtcbiAgICByZXR1cm4gaTE4bi5oZXgoKTtcbiAgfSBlbHNlIGlmIChlbmNvZGluZ1R5cGUgPT09IEVuY29kaW5nVHlwZS5CSU5BUlkpIHtcbiAgICByZXR1cm4gaTE4bi5iaW5hcnkoKTtcbiAgfSBlbHNlIGlmIChlbmNvZGluZ1R5cGUgPT09IEVuY29kaW5nVHlwZS5BX0FORF9CKSB7XG4gICAgcmV0dXJuIGkxOG4uYV9hbmRfYigpO1xuICB9XG4gIHJldHVybiAnJztcbn07XG5cbi8qKlxuICogQHBhcmFtIHtPYmplY3R9IGVudW1PYmogLSBUZWNobmljYWxseSBhbnkgb2JqZWN0LCBidXQgc2hvdWxkIGJlIHVzZWQgd2l0aFxuICogICAgICAgIGFuIGVudW0gbGlrZSB0aG9zZSBmb3VuZCBpbiBOZXRTaW1Db25zdGFudHNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZ1bmMgLSBBIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdmFsdWUgaW4gdGhlIGVudW0sXG4gKiAgICAgICAgd2hpY2ggZ2V0cyBwYXNzZWQgdGhlIGVudW0gdmFsdWUuXG4gKi9cbmV4cG9ydHMuZm9yRWFjaEVudW1WYWx1ZSA9IGZ1bmN0aW9uIChlbnVtT2JqLCBmdW5jKSB7XG4gIGZvciAodmFyIGVudW1LZXkgaW4gZW51bU9iaikge1xuICAgIGlmIChlbnVtT2JqLmhhc093blByb3BlcnR5KGVudW1LZXkpKSB7XG4gICAgICBmdW5jKGVudW1PYmpbZW51bUtleV0pO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBSdWxlcyB1c2VkIGJ5IHNlcmlhbGl6ZU51bWJlciBhbmQgZGVzZXJpYWxpemVOdW1iZXIgdG8gbWFwIHVuc3VwcG9ydGVkXG4gKiBKYXZhU2NyaXB0IHZhbHVlcyBpbnRvIEpTT04gYW5kIGJhY2suXG4gKiBAdHlwZSB7e2pzVmFsOiBudW1iZXIsIGpzb25WYWw6IHN0cmluZ31bXX1cbiAqIEByZWFkb25seVxuICovXG52YXIgTlVNQkVSX1NFUklBTElaQVRJT05fUlVMRVMgPSBbXG4gIHsganNWYWw6IEluZmluaXR5LCBqc29uVmFsOiAnSW5maW5pdHknIH0sXG4gIHsganNWYWw6IC1JbmZpbml0eSwganNvblZhbDogJy1JbmZpbml0eScgfSxcbiAgeyBqc1ZhbDogTmFOLCBqc29uVmFsOiAnTmFOJyB9LFxuICB7IGpzVmFsOiB1bmRlZmluZWQsIGpzb25WYWw6ICd1bmRlZmluZWQnIH1cbl07XG5cbi8qKlxuICogQ2hlY2tzIHRoYXQgdGhlIHByb3ZpZGVkIHZhbHVlIGlzIGFjdHVhbGx5IHRoZSBzcGVjaWFsIHZhbHVlIE5hTiwgdW5saWtlXG4gKiBzdGFuZGFyZCBpc05hTiB3aGljaCByZXR1cm5zIHRydWUgZm9yIGFueXRoaW5nIHRoYXQncyBub3QgYSBudW1iZXIuXG4gKiBAcGFyYW0geyp9IHZhbCAtIGFueSB2YWx1ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbnZhciBpc0V4YWN0bHlOYU4gPSBmdW5jdGlvbiAodmFsKSB7XG4gIC8vIE5hTiBpcyB0aGUgb25seSB2YWx1ZSBpbiBKYXZhU2NyaXB0IHRoYXQgaXMgbm90IGV4YWN0bHkgZXF1YWwgdG8gaXRzZWxmLlxuICAvLyBUaGVyZWZvcmUsIGlmIHZhbCAhPT0gdmFsLCB0aGVuIHZhbCBtdXN0IGJlIE5hTi5cbiAgcmV0dXJuIHZhbCAhPT0gdmFsO1xufTtcblxuLyoqXG4gKiBCZWNhdXNlIEpTT04gZG9lc24ndCBzdXBwb3J0IHRoZSB2YWx1ZXMgSW5maW5pdHksIE5hTiwgb3IgdW5kZWZpbmVkLCB5b3UgY2FuXG4gKiB1c2UgdGhpcyBtZXRob2QgdG8gc3RvcmUgdGhvc2UgdmFsdWVzIGluIEpTT04gYXMgc3RyaW5ncy5cbiAqIEBwYXJhbSB7bnVtYmVyfE5hTn0gbnVtXG4gKiBAcmV0dXJucyB7bnVtYmVyfHN0cmluZ31cbiAqL1xuZXhwb3J0cy5zZXJpYWxpemVOdW1iZXIgPSBmdW5jdGlvbiAobnVtKSB7XG4gIHZhciBhcHBsaWNhYmxlUnVsZSA9IF8uZmluZChOVU1CRVJfU0VSSUFMSVpBVElPTl9SVUxFUywgZnVuY3Rpb24gKHJ1bGUpIHtcbiAgICByZXR1cm4gcnVsZS5qc1ZhbCA9PT0gbnVtIHx8IChpc0V4YWN0bHlOYU4ocnVsZS5qc1ZhbCkgJiYgaXNFeGFjdGx5TmFOKG51bSkpO1xuICB9KTtcbiAgcmV0dXJuIGFwcGxpY2FibGVSdWxlID8gYXBwbGljYWJsZVJ1bGUuanNvblZhbCA6IG51bTtcbn07XG5cbi8qKlxuICogQmVjYXVzZSBKU09OIGRvZXNuJ3Qgc3VwcG9ydCB0aGUgdmFsdWVzIEluZmluaXR5LCBOYU4sIG9yIHVuZGVmaW5lZCwgeW91IGNhblxuICogdXNlIHRoaXMgbWV0aG9kIHRvIHJldHJpZXZlIGEgdmFsdWUgZnJvbSBKU09OIHRoYXQgaXMgZWl0aGVyIGEgbnVtYmVyIG9yIG9uZVxuICogb2YgdGhvc2UgdmFsdWVzLlxuICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBzdG9yZWROdW1cbiAqIEByZXR1cm5zIHtudW1iZXJ8TmFOfVxuICovXG5leHBvcnRzLmRlc2VyaWFsaXplTnVtYmVyID0gZnVuY3Rpb24gKHN0b3JlZE51bSkge1xuICB2YXIgYXBwbGljYWJsZVJ1bGUgPSBfLmZpbmQoTlVNQkVSX1NFUklBTElaQVRJT05fUlVMRVMsIGZ1bmN0aW9uIChydWxlKSB7XG4gICAgcmV0dXJuIHJ1bGUuanNvblZhbCA9PT0gc3RvcmVkTnVtO1xuICB9KTtcbiAgcmV0dXJuIGFwcGxpY2FibGVSdWxlID8gYXBwbGljYWJsZVJ1bGUuanNWYWwgOiBzdG9yZWROdW07XG59O1xuXG4vKipcbiAqIEhlbHBlciBmb3IgY29udmVydGluZyBmcm9tIGFuIG9sZGVyIGhlYWRlci1zcGVjIGZvcm1hdCB0byBhIG5ldywgc2ltcGxlciBvbmUuXG4gKiBPbGQgZm9ybWF0OiB7a2V5OntzdHJpbmd9LCBiaXRzOntudW1iZXJ9fVtdXG4gKiBOZXcgZm9ybWF0OiBzdHJpbmdbXVxuICogSWYgd2UgZGV0ZWN0IHRoZSBvbGQgZm9ybWF0LCB3ZSByZXR1cm4gYSBzcGVjIGluIHRoZSBuZXcgZm9ybWF0LlxuICogQHBhcmFtIHtBcnJheX0gc3BlY1xuICogQHJldHVybnMge0FycmF5fVxuICovXG5leHBvcnRzLnNjcnViSGVhZGVyU3BlY0ZvckJhY2t3YXJkc0NvbXBhdGliaWxpdHkgPSBmdW5jdGlvbiAoc3BlYykge1xuICB2YXIgZm91bmRPbGRGb3JtYXQgPSBmYWxzZTtcbiAgdmFyIHNjcnViYmVkU3BlYyA9IFtdO1xuICBzcGVjLmZvckVhY2goZnVuY3Rpb24gKHNwZWNFbnRyeSkge1xuICAgIGlmICh0eXBlb2Ygc3BlY0VudHJ5ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gVGhpcyBpcyBuZXcgbmV3IGZvcm1hdCwgd2UgY2FuIGp1c3QgY29weSBpdCBvdmVyLlxuICAgICAgc2NydWJiZWRTcGVjLnB1c2goc3BlY0VudHJ5KTtcbiAgICB9IGVsc2UgaWYgKHNwZWNFbnRyeSAhPT0gbnVsbCAmJiB0eXBlb2Ygc3BlY0VudHJ5ID09PSAnb2JqZWN0Jykge1xuICAgICAgLy8gVGhpcyBpcyB0aGUgb2xkIHtrZXk6JycsIGJpdHM6MH0gZm9ybWF0LiAgV2UganVzdCB3YW50IHRoZSBrZXkuXG4gICAgICBzY3J1YmJlZFNwZWMucHVzaChzcGVjRW50cnkua2V5KTtcbiAgICAgIGZvdW5kT2xkRm9ybWF0ID0gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIElzc3VlIGEgd2FybmluZyBpZiBhbiBvbGQgZm9ybWF0IGdvdCBjb252ZXJ0ZWQsIHNvIHdlIGtub3cgdG8gdXBkYXRlXG4gIC8vIHRoZSBsZXZlbC5cbiAgaWYgKGZvdW5kT2xkRm9ybWF0KSB7XG4gICAgbG9nZ2VyLndhcm4oXCJDb252ZXJ0aW5nIG9sZCBoZWFkZXIgc3BlY2lmaWNhdGlvbiBmb3JtYXQgdG8gbmV3IGZvcm1hdC5cIiArXG4gICAgICAgIFwiIFRoaXMgbGV2ZWwgc2hvdWxkIGJlIHVwZGF0ZWQgdG8gdXNlIHRoZSBuZXcgZm9ybWF0LlwiKTtcbiAgfVxuXG4gIHJldHVybiBzY3J1YmJlZFNwZWM7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7TmV0U2ltTGV2ZWxDb25maWd1cmF0aW9ufSBsZXZlbENvbmZpZ1xuICogQHJldHVybnMge05ldFNpbUxldmVsQ29uZmlndXJhdGlvbn0gc2FtZSB0aGluZywgYnV0IHdpdGggY2VydGFpbiB2YWx1ZXNcbiAqICAgICAgICAgIGNvbnZlcnRlZCBvciBjbGVhbmVkLlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0cy5zY3J1YkxldmVsQ29uZmlndXJhdGlvbl8gPSBmdW5jdGlvbiAobGV2ZWxDb25maWcpIHtcbiAgdmFyIHNjcnViYmVkTGV2ZWwgPSBfLmNsb25lKGxldmVsQ29uZmlnLCB0cnVlKTtcblxuICAvLyBDb252ZXJ0IG9sZCBoZWFkZXIgc3BlYyBmb3JtYXQgdG8gbmV3IGhlYWRlciBzcGVjIGZvcm1hdFxuICBzY3J1YmJlZExldmVsLnJvdXRlckV4cGVjdHNQYWNrZXRIZWFkZXIgPVxuICAgICAgZXhwb3J0cy5zY3J1YkhlYWRlclNwZWNGb3JCYWNrd2FyZHNDb21wYXRpYmlsaXR5KFxuICAgICAgICAgIHNjcnViYmVkTGV2ZWwucm91dGVyRXhwZWN0c1BhY2tldEhlYWRlcik7XG4gIHNjcnViYmVkTGV2ZWwuY2xpZW50SW5pdGlhbFBhY2tldEhlYWRlciA9XG4gICAgICBleHBvcnRzLnNjcnViSGVhZGVyU3BlY0ZvckJhY2t3YXJkc0NvbXBhdGliaWxpdHkoXG4gICAgICAgICAgc2NydWJiZWRMZXZlbC5jbGllbnRJbml0aWFsUGFja2V0SGVhZGVyKTtcblxuICAvLyBDb2VyY2UgY2VydGFpbiB2YWx1ZXMgdG8gc3RyaW5nIHRoYXQgbWlnaHQgaGF2ZSBiZWVuIG1pc3Rha2VuIGZvciBudW1iZXJzXG4gIHNjcnViYmVkTGV2ZWwuYWRkcmVzc0Zvcm1hdCA9IHNjcnViYmVkTGV2ZWwuYWRkcmVzc0Zvcm1hdC50b1N0cmluZygpO1xuXG4gIC8vIEV4cGxpY2l0bHkgbGlzdCBmaWVsZHMgdGhhdCB3ZSBzdXNwZWN0IG1heSBoYXZlIGEgc3RyaW5nIHZhbHVlIHRoYXRcbiAgLy8gbmVlZHMgdG8gYmUgY29udmVydGVkIHRvIGEgbnVtYmVyLCBsaWtlIFwiSW5maW5pdHlcIlxuICBzY3J1YmJlZExldmVsLmRlZmF1bHRQYWNrZXRTaXplTGltaXQgPSBleHBvcnRzLmRlc2VyaWFsaXplTnVtYmVyKFxuICAgICAgc2NydWJiZWRMZXZlbC5kZWZhdWx0UGFja2V0U2l6ZUxpbWl0KTtcblxuICAvLyBQYWNrZXQgU2l6ZSBjYW5ub3QgYmUgaW5maW5pdHk7IGRlZmF1bHRzIHRvIDhrYlxuICBpZiAoc2NydWJiZWRMZXZlbC5kZWZhdWx0UGFja2V0U2l6ZUxpbWl0ID09PSBJbmZpbml0eSkge1xuICAgIHNjcnViYmVkTGV2ZWwuZGVmYXVsdFBhY2tldFNpemVMaW1pdCA9IDgxOTI7XG4gIH1cblxuICBzY3J1YmJlZExldmVsLmRlZmF1bHRCaXRSYXRlQml0c1BlclNlY29uZCA9IGV4cG9ydHMuZGVzZXJpYWxpemVOdW1iZXIoXG4gICAgICBzY3J1YmJlZExldmVsLmRlZmF1bHRCaXRSYXRlQml0c1BlclNlY29uZCk7XG4gIHNjcnViYmVkTGV2ZWwuZGVmYXVsdENodW5rU2l6ZUJpdHMgPSBleHBvcnRzLmRlc2VyaWFsaXplTnVtYmVyKFxuICAgICAgc2NydWJiZWRMZXZlbC5kZWZhdWx0Q2h1bmtTaXplQml0cyk7XG4gIHNjcnViYmVkTGV2ZWwuZGVmYXVsdFJvdXRlckJhbmR3aWR0aCA9IGV4cG9ydHMuZGVzZXJpYWxpemVOdW1iZXIoXG4gICAgICBzY3J1YmJlZExldmVsLmRlZmF1bHRSb3V0ZXJCYW5kd2lkdGgpO1xuICBzY3J1YmJlZExldmVsLmRlZmF1bHRSb3V0ZXJNZW1vcnkgPSBleHBvcnRzLmRlc2VyaWFsaXplTnVtYmVyKFxuICAgICAgc2NydWJiZWRMZXZlbC5kZWZhdWx0Um91dGVyTWVtb3J5KTtcblxuICAvLyBHZW5lcmF0ZSBhIHdhcm5pbmcgaWYgd2Ugc2VlIGEgcG9zc2libGUgbWlzc2VkIHN0cmluZy10by1udW1iZXIgY29udmVyc2lvblxuICBPYmplY3Qua2V5cyhzY3J1YmJlZExldmVsKS5maWx0ZXIoZnVuY3Rpb24gKGtleSkge1xuICAgIC8vIElnbm9yZSBsZXZlbCBwYXJhbXMgd2l0aCB1bmRlcnNjb3JlcywgdGhleSBhcmUgdGhlIGRhc2hib2FyZCB2ZXJzaW9uc1xuICAgIC8vIG9mIHRoZSBjYW1lbENhc2UgcGFyYW1ldGVycyB0aGF0IHRoZSBhcHAgYWN0dWFsbHkgdXNlcy5cbiAgICByZXR1cm4gIS9fLy50ZXN0KGtleSk7XG4gIH0pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciB1bmNvbnZlcnRlZFZhbHVlID0gTlVNQkVSX1NFUklBTElaQVRJT05fUlVMRVMuc29tZShmdW5jdGlvbiAocnVsZSkge1xuICAgICAgcmV0dXJuIHNjcnViYmVkTGV2ZWxba2V5XSA9PT0gcnVsZS5qc29uVmFsO1xuICAgIH0pO1xuICAgIGlmICh1bmNvbnZlcnRlZFZhbHVlKSB7XG4gICAgICBsb2dnZXIud2FybihcIkxldmVsIG9wdGlvbiAnXCIgKyBrZXkgK1xuICAgICAgXCInIGhhcyB1bmNvbnZlcnRlZCBzdHJpbmcgdmFsdWUgJ1wiICsgc2NydWJiZWRMZXZlbFtrZXldICsgXCInXCIpO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHNjcnViYmVkTGV2ZWw7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgbnVtYmVyIG9mIGJpdHMgaW50byBhIGxvY2FsaXplZCByZXByZXNlbnRhdGlvbiBvZiB0aGF0IGRhdGFcbiAqIHNpemUgaW4gYnl0ZXMsIGtpbG9ieXRlcywgbWVnYWJ5dGVzLCBnaWdhYnl0ZXMuXG4gKiBAcGFyYW0ge251bWJlcn0gYml0c1xuICogQHJldHVybnMge3N0cmluZ30gLSBsb2NhbGl6ZWQgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHNpemUgaW4gYnl0ZXNcbiAqL1xuZXhwb3J0cy5iaXRzVG9Mb2NhbGl6ZWRSb3VuZGVkQnl0ZXNpemUgPSBmdW5jdGlvbiAoYml0cykge1xuICBpZiAoYml0cyA9PT0gSW5maW5pdHkpIHtcbiAgICByZXR1cm4gaTE4bi51bmxpbWl0ZWQoKTtcbiAgfVxuXG4gIHZhciBnYnl0ZXMgPSBNYXRoLmZsb29yKGJpdHMgLyBOZXRTaW1Db25zdGFudHMuQklUU19QRVJfR0lHQUJZVEUpO1xuICBpZiAoZ2J5dGVzID4gMCkge1xuICAgIHJldHVybiBpMThuLnhfR0J5dGVzKHsgeDogZ2J5dGVzIH0pO1xuICB9XG5cbiAgdmFyIG1ieXRlcyA9IE1hdGguZmxvb3IoYml0cyAvIE5ldFNpbUNvbnN0YW50cy5CSVRTX1BFUl9NRUdBQllURSk7XG4gIGlmIChtYnl0ZXMgPiAwKSB7XG4gICAgcmV0dXJuIGkxOG4ueF9NQnl0ZXMoeyB4OiBtYnl0ZXMgfSk7XG4gIH1cblxuICB2YXIga2J5dGVzID0gTWF0aC5mbG9vcihiaXRzIC8gTmV0U2ltQ29uc3RhbnRzLkJJVFNfUEVSX0tJTE9CWVRFKTtcbiAgaWYgKGtieXRlcyA+IDApIHtcbiAgICByZXR1cm4gaTE4bi54X0tCeXRlcyh7IHg6IGtieXRlcyB9KTtcbiAgfVxuXG4gIHZhciBieXRlcyA9IE1hdGguZmxvb3IoYml0cyAvIE5ldFNpbUNvbnN0YW50cy5CSVRTX1BFUl9CWVRFKTtcbiAgaWYgKGJ5dGVzID4gMCkge1xuICAgIHJldHVybiBpMThuLnhfQnl0ZXMoeyB4OiBieXRlcyB9KTtcbiAgfVxuXG4gIHJldHVybiBpMThuLnhfYml0cyh7IHg6IGJpdHMgfSk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgYml0cmF0ZSBpbnRvIGEgbG9jYWxpemVkIHJlcHJlc2VudGF0aW9uIG9mIHRoYXQgZGF0YVxuICogc2l6ZSBpbiBiaXRzL3NlYywga2lsb2JpdHMsIG1lZ2FiaXRzLCBnaWdhYml0cy5cbiAqIEBwYXJhbSB7bnVtYmVyfSBiaXRzUGVyU2Vjb25kXG4gKiBAcmV0dXJucyB7c3RyaW5nfSAtIGxvY2FsaXplZCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2Ygc3BlZWQgaW4gYml0c1xuICovXG5leHBvcnRzLmJpdHJhdGVUb0xvY2FsaXplZFJvdW5kZWRCaXRyYXRlID0gZnVuY3Rpb24gKGJpdHNQZXJTZWNvbmQpIHtcbiAgaWYgKGJpdHNQZXJTZWNvbmQgPT09IEluZmluaXR5KSB7XG4gICAgcmV0dXJuIGkxOG4udW5saW1pdGVkKCk7XG4gIH1cblxuICB2YXIgZ2JwcyA9IE1hdGguZmxvb3IoYml0c1BlclNlY29uZCAvIE5ldFNpbUNvbnN0YW50cy5CSVRTX1BFUl9HSUdBQklUKTtcbiAgaWYgKGdicHMgPiAwKSB7XG4gICAgcmV0dXJuIGkxOG4ueF9HYnBzKHsgeDogZ2JwcyB9KTtcbiAgfVxuXG4gIHZhciBtYnBzID0gTWF0aC5mbG9vcihiaXRzUGVyU2Vjb25kIC8gTmV0U2ltQ29uc3RhbnRzLkJJVFNfUEVSX01FR0FCSVQpO1xuICBpZiAobWJwcyA+IDApIHtcbiAgICByZXR1cm4gaTE4bi54X01icHMoeyB4OiBtYnBzIH0pO1xuICB9XG5cbiAgdmFyIGticHMgPSBNYXRoLmZsb29yKGJpdHNQZXJTZWNvbmQgLyBOZXRTaW1Db25zdGFudHMuQklUU19QRVJfS0lMT0JJVCk7XG4gIGlmIChrYnBzID4gMCkge1xuICAgIHJldHVybiBpMThuLnhfS2Jwcyh7IHg6IGticHMgfSk7XG4gIH1cblxuICB2YXIgYnBzID0gTWF0aC5mbG9vcihiaXRzUGVyU2Vjb25kICogMTAwKSAvIDEwMDtcbiAgcmV0dXJuIGkxOG4ueF9icHMoeyB4OiBicHMgfSk7XG59O1xuXG5leHBvcnRzLnplcm9QYWRMZWZ0ID0gZnVuY3Rpb24gKHN0cmluZywgZGVzaXJlZFdpZHRoKSB7XG4gIHZhciBwYWRkaW5nID0gJzAnLnJlcGVhdChkZXNpcmVkV2lkdGgpO1xuICByZXR1cm4gKHBhZGRpbmcgKyBzdHJpbmcpLnNsaWNlKC1kZXNpcmVkV2lkdGgpO1xufTtcblxuZXhwb3J0cy56ZXJvUGFkUmlnaHQgPSBmdW5jdGlvbiAoc3RyaW5nLCBkZXNpcmVkV2lkdGgpIHtcbiAgdmFyIHBhZGRpbmcgPSAnMCcucmVwZWF0KGRlc2lyZWRXaWR0aCk7XG4gIHJldHVybiAoc3RyaW5nICsgcGFkZGluZykuc3Vic3RyKDAsIGRlc2lyZWRXaWR0aCk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBDb250aW51ZS9GaW5pc2ggYnV0dG9uIG9uIHRoZSBnaXZlbiBOZXRTaW1QYW5lbCAoaW4gaXRzIGhlYWRlcikuXG4gKiBAcGFyYW0ge05ldFNpbVBhbmVsfSBvblBhbmVsXG4gKiBAc3RhdGljXG4gKi9cbmV4cG9ydHMubWFrZUNvbnRpbnVlQnV0dG9uID0gZnVuY3Rpb24gKG9uUGFuZWwpIHtcbiAgb25QYW5lbC5hZGRCdXR0b24oXG4gICAgICBpMThuLmNvbnRpbnVlQnV0dG9uKHsgY2FyZXQ6ICc8aSBjbGFzcz1cImZhIGZhLWNhcmV0LXJpZ2h0XCI+PC9pPicgfSksXG4gICAgICBmdW5jdGlvbiAoalF1ZXJ5RXZlbnQpIHtcbiAgICAgICAgaWYgKCEkKGpRdWVyeUV2ZW50LnRhcmdldCkuaXMoJzpkaXNhYmxlZCcpKSB7XG4gICAgICAgICAgTmV0U2ltR2xvYmFscy5jb21wbGV0ZUxldmVsQW5kQ29udGludWUoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgc2Vjb25kYXJ5OiBmYWxzZSxcbiAgICAgICAgY2xhc3NlczogWyAnc3VibWl0QnV0dG9uJyBdXG4gICAgICB9KTtcbn07XG4iLCIvLyBsb2NhbGUgZm9yIG5ldHNpbVxuXG5tb2R1bGUuZXhwb3J0cyA9IHdpbmRvdy5ibG9ja2x5Lm5ldHNpbV9sb2NhbGU7XG4iLCIvKipcbiAqIEBvdmVydmlldyBVdGlsaXR5IGNsYXNzIHdyYXBwaW5nIG1vcmUgZ3JhbnVsYXIgbG9nIGJlaGF2aW9yIHRoYXQgaXNuJ3RcbiAqIGF2YWlsYWJsZSBpbiBhbGwgYnJvd3NlcnMuICBBbHNvIG1ha2VzIGl0IGVhc3kgdG8gdHVybiBsb2dnaW5nIG9uIGFuZCBvZmZcbiAqIGluIHRlc3RzLlxuICovXG4vLyBTdHJpY3QgbGludGluZzogQWJzb3JiIGludG8gZ2xvYmFsIGNvbmZpZyB3aGVuIHBvc3NpYmxlXG4vKiBqc2hpbnRcbiB1bnVzZWQ6IHRydWUsXG4gZXFlcWVxOiB0cnVlLFxuXG4gbWF4bGVuOiAxMjBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIExvZ2dpbmcgQVBJIHRvIGNvbnRyb2wgbG9nIGxldmVscyBhbmQgc3VwcG9ydCBkaWZmZXJlbnQgYnJvd3NlcnNcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtDb25zb2xlfSB3aW5kb3cgY29uc29sZSBBUElcbiAqIEBwYXJhbSB7TG9nTGV2ZWx9IHZlcmJvc2l0eVxuICovXG52YXIgTmV0U2ltTG9nZ2VyID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAob3V0cHV0Q29uc29sZSwgdmVyYm9zaXR5IC8qPVZFUkJPU0UqLykge1xuICAvKipcbiAgICogQHR5cGUge0NvbnNvbGV9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLm91dHB1dENvbnNvbGVfID0gb3V0cHV0Q29uc29sZTtcblxuICAvKipcbiAgICogQWx3YXlzIG1hcHBlZCB0byBjb25zb2xlLmxvZywgb3Igbm8tb3AgaWYgbm90IGF2YWlsYWJsZS5cbiAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgdGhpcy5sb2dfID0gZnVuY3Rpb24gKCkge307XG5cbiAgLyoqXG4gICAqIElmIGNvbmZpZ3VyZWQgZm9yIGluZm8gbG9nZ2luZywgZ2V0cyBtYXBwZWQgdG8gY29uc29sZS5pbmZvLFxuICAgKiBmYWxscyBiYWNrIHRvIGNvbnNvbGUubG9nLCBvciBuby1vcC5cbiAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgKi9cbiAgdGhpcy5pbmZvID0gZnVuY3Rpb24gKCkge307XG5cbiAgLyoqXG4gICAqIElmIGNvbmZpZ3VyZWQgZm9yIHdhcm5pbmcgbG9nZ2luZywgZ2V0cyBtYXBwZWQgdG8gY29uc29sZS53YXJuLFxuICAgKiBmYWxscyBiYWNrIHRvIGNvbnNvbGUubG9nLCBvciBuby1vcC5cbiAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgKi9cbiAgdGhpcy53YXJuID0gZnVuY3Rpb24gKCkge307XG5cbiAgLyoqXG4gICAqIElmIGNvbmZpZ3VyZWQgZm9yIGVycm9yIGxvZ2dpbmcsIGdldHMgbWFwcGVkIHRvIGNvbnNvbGUuZXJyb3IsXG4gICAqIGZhbGxzIGJhY2sgdG8gY29uc29sZS5sb2csIG9yIG5vLW9wLlxuICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAqL1xuICB0aGlzLmVycm9yID0gZnVuY3Rpb24gKCkge307XG5cbiAgdGhpcy5zZXRWZXJib3NpdHkoKHVuZGVmaW5lZCA9PT0gdmVyYm9zaXR5KSA/XG4gICAgICBMb2dMZXZlbC5WRVJCT1NFIDogdmVyYm9zaXR5KTtcbn07XG5cbi8qKlxuICogTG9nIHZlcmJvc2l0eSBsZXZlbHMgZW51bS5cbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xudmFyIExvZ0xldmVsID0ge1xuICBOT05FOiAwLFxuICBFUlJPUjogMSxcbiAgV0FSTjogMixcbiAgSU5GTzogMyxcbiAgVkVSQk9TRTogNFxufTtcbk5ldFNpbUxvZ2dlci5Mb2dMZXZlbCA9IExvZ0xldmVsO1xuXG4vKipcbiAqIEdsb2JhbCBzaW5nbGV0b25cbiAqIEB0eXBlIHtOZXRTaW1Mb2dnZXJ9XG4gKi9cbnZhciBzaW5nbGV0b25JbnN0YW5jZTtcblxuLyoqXG4gKiBTdGF0aWMgZ2V0dGVyL2xhenktY3JlYXRvciBmb3IgdGhlIGdsb2JhbCBzaW5nbGV0b24gaW5zdGFuY2UuXG4gKiBAcmV0dXJucyB7TmV0U2ltTG9nZ2VyfVxuICovXG5OZXRTaW1Mb2dnZXIuZ2V0U2luZ2xldG9uID0gZnVuY3Rpb24gKCkge1xuICBpZiAoc2luZ2xldG9uSW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xuICAgIHNpbmdsZXRvbkluc3RhbmNlID0gbmV3IE5ldFNpbUxvZ2dlcihjb25zb2xlLCBMb2dMZXZlbC5XQVJOKTtcbiAgfVxuICByZXR1cm4gc2luZ2xldG9uSW5zdGFuY2U7XG59O1xuXG4vKipcbiAqIEJpbmRzIGludGVybmFsIGZ1bmN0aW9uIGNhbGxzIGFjY29yZGluZyB0byBnaXZlbiB2ZXJib3NpdHkgbGV2ZWwuXG4gKiBAcGFyYW0gdmVyYm9zaXR5XG4gKi9cbk5ldFNpbUxvZ2dlci5wcm90b3R5cGUuc2V0VmVyYm9zaXR5ID0gZnVuY3Rpb24gKHZlcmJvc2l0eSkge1xuICAvLyBOb3RlOiBXZSBkb24ndCBjYWxsIHRoaXMub3V0cHV0Q29uc29sZV8ubG9nLmJpbmQgaGVyZSwgYmVjYXVzZSBpbiBJRTkgdGhlXG4gIC8vIGNvbnNvbGUncyBsb2dnaW5nIG1ldGhvZHMgZG8gbm90IGluaGVyaXQgZnJvbSBGdW5jdGlvbi5cblxuICB0aGlzLmxvZ18gPSAodGhpcy5vdXRwdXRDb25zb2xlXyAmJiB0aGlzLm91dHB1dENvbnNvbGVfLmxvZykgP1xuICAgICAgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLm91dHB1dENvbnNvbGVfLmxvZywgdGhpcy5vdXRwdXRDb25zb2xlXykgOlxuICAgICAgZnVuY3Rpb24gKCkge307XG5cbiAgaWYgKHZlcmJvc2l0eSA+PSBMb2dMZXZlbC5JTkZPKSB7XG4gICAgdGhpcy5pbmZvID0gKHRoaXMub3V0cHV0Q29uc29sZV8gJiYgdGhpcy5vdXRwdXRDb25zb2xlXy5pbmZvKSA/XG4gICAgICAgIEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmNhbGwodGhpcy5vdXRwdXRDb25zb2xlXy5pbmZvLCB0aGlzLm91dHB1dENvbnNvbGVfKSA6XG4gICAgICAgIHRoaXMubG9nXztcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmluZm8gPSBmdW5jdGlvbiAoKSB7fTtcbiAgfVxuXG4gIGlmICh2ZXJib3NpdHkgPj0gTG9nTGV2ZWwuV0FSTikge1xuICAgIHRoaXMud2FybiA9ICh0aGlzLm91dHB1dENvbnNvbGVfICYmIHRoaXMub3V0cHV0Q29uc29sZV8ud2FybikgP1xuICAgICAgICBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMub3V0cHV0Q29uc29sZV8ud2FybiwgdGhpcy5vdXRwdXRDb25zb2xlXykgOlxuICAgICAgICB0aGlzLmxvZ187XG4gIH0gZWxzZSB7XG4gICAgdGhpcy53YXJuID0gZnVuY3Rpb24gKCkge307XG4gIH1cblxuICBpZiAodmVyYm9zaXR5ID49IExvZ0xldmVsLkVSUk9SKSB7XG4gICAgdGhpcy5lcnJvciA9ICh0aGlzLm91dHB1dENvbnNvbGVfICYmIHRoaXMub3V0cHV0Q29uc29sZV8uZXJyb3IpID9cbiAgICAgICAgRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuY2FsbCh0aGlzLm91dHB1dENvbnNvbGVfLmVycm9yLCB0aGlzLm91dHB1dENvbnNvbGVfKSA6XG4gICAgICAgIHRoaXMubG9nXztcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmVycm9yID0gZnVuY3Rpb24gKCkge307XG4gIH1cbn07XG5cbi8qKlxuICogV3JpdGVzIHRvIG91dHB1dCwgZGVwZW5kaW5nIG9uIGxvZyBsZXZlbFxuICogQHBhcmFtIHsqfSBtZXNzYWdlXG4gKiBAcGFyYW0ge0xvZ0xldmVsfSBsb2dMZXZlbFxuICovXG5OZXRTaW1Mb2dnZXIucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uIChtZXNzYWdlLCBsb2dMZXZlbCAvKj1JTkZPKi8pIHtcbiAgaWYgKHVuZGVmaW5lZCA9PT0gbG9nTGV2ZWwpIHtcbiAgICBsb2dMZXZlbCA9IExvZ0xldmVsLklORk87XG4gIH1cblxuICBzd2l0Y2ggKGxvZ0xldmVsKSB7XG4gICAgY2FzZSBMb2dMZXZlbC5FUlJPUjpcbiAgICAgIHRoaXMuZXJyb3IobWVzc2FnZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIExvZ0xldmVsLldBUk46XG4gICAgICB0aGlzLndhcm4obWVzc2FnZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIExvZ0xldmVsLklORk86XG4gICAgICB0aGlzLmluZm8obWVzc2FnZSk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhpcy5sb2dfKG1lc3NhZ2UpO1xuICB9XG59O1xuIiwiLyoqXG4gKiBAb3ZlcnZpZXcgR2xvYmFsIHNpbmdsZXRvbiB1c2VkIHRvIHNpbXBsaWZ5IGNlcnRhaW4gY3Jvc3MtY3V0dGluZyBjb25jZXJucyxcbiAqICAgICAgICAgICBpbmNsdWRpbmc6XG4gKlxuICogICAgICAgICAgIEFjY2VzcyB0byBsZXZlbCBjb25maWd1cmF0aW9uLlxuICogICAgICAgICAgIEFjY2VzcyB0byBlbnZpcm9ubWVudC1zcGVjaWZpYyBhc3NldCBVUkxzLlxuICogICAgICAgICAgIFJlcHJvZHVjaWJsZSByYW5kb20gbnVtYmVyIGZ1bmN0aW9ucyBmb3IgZWFzeSB0ZXN0aW5nLlxuICovXG4vLyBTdHJpY3QgbGludGluZzogQWJzb3JiIGludG8gZ2xvYmFsIGNvbmZpZyB3aGVuIHBvc3NpYmxlXG4vKiBqc2hpbnRcbiB1bnVzZWQ6IHRydWUsXG4gZXFlcWVxOiB0cnVlLFxuIG1heGxlbjogMTIwXG4gKi9cbid1c2Ugc3RyaWN0JztcblxudmFyIHNlZWRyYW5kb20gPSByZXF1aXJlKCdzZWVkcmFuZG9tJyk7XG5cbi8qKlxuICogUmVmZXJlbmNlIHRvIHJvb3QgU3R1ZGlvQXBwIGNvbnRyb2xsZXJcbiAqIEB0eXBlIHtTdHVkaW9BcHB9XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgc3R1ZGlvQXBwXyA9IG51bGw7XG5cbi8qKlxuICogUmVmZXJlbmNlIHRvIHJvb3QgTmV0U2ltIGNvbnRyb2xsZXJcbiAqIEB0eXBlIHtOZXRTaW19XG4gKiBAcHJpdmF0ZVxuICovXG52YXIgbmV0c2ltXyA9IG51bGw7XG5cbi8qKlxuICogUmVwbGFjYWJsZSBwc2V1ZG8tcmFuZG9tIG51bWJlciBnZW5lcmF0b3IgZnVuY3Rpb24gdGhhdCBsZXRzIHVzIHNldCBhIGdsb2JhbFxuICogcmFuZG9tIHNlZWQgaWYgd2Ugd2lzaC5cbiAqIEB0eXBlIHtmdW5jdGlvbn1cbiAqIEBwcml2YXRlXG4gKi9cbnZhciBwc2V1ZG9SYW5kb21OdW1iZXJGdW5jdGlvbl8gPSBNYXRoLnJhbmRvbTtcblxuLyoqXG4gKiBHZXQgYSByYW5kb20gaW50ZWdlciBpbiB0aGUgZ2l2ZW4gcmFuZ2UuXG4gKiBAcGFyYW0ge251bWJlcn0gbG93IGluY2x1c2l2ZSBsb3dlciBlbmQgb2YgcmFuZ2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBoaWdoIGV4Y2x1c2l2ZSB1cHBlciBlbmQgb2YgcmFuZ2VcbiAqIEByZXR1cm5zIHtudW1iZXJ9XG4gKi9cbnZhciByYW5kb21JbnRJblJhbmdlID0gZnVuY3Rpb24gKGxvdywgaGlnaCkge1xuICByZXR1cm4gTWF0aC5mbG9vcihwc2V1ZG9SYW5kb21OdW1iZXJGdW5jdGlvbl8oKSAqIChoaWdoIC0gbG93KSkgKyBsb3c7XG59O1xuXG4vKipcbiAqIFByb3ZpZGUgc2luZ2xldG9uIGFjY2VzcyB0byBnbG9iYWwgc2ltdWxhdGlvbiBzZXR0aW5nc1xuICovXG5tb2R1bGUuZXhwb3J0cyA9IHtcblxuICAvKipcbiAgICogU2V0IHRoZSByb290IGNvbnRyb2xsZXJzIHRoYXQgY2FuIGJlIHVzZWQgZm9yIGdsb2JhbCBvcGVyYXRpb25zLlxuICAgKiBAcGFyYW0ge1N0dWRpb0FwcH0gc3R1ZGlvQXBwXG4gICAqIEBwYXJhbSB7TmV0U2ltfSBuZXRzaW1cbiAgICovXG4gIHNldFJvb3RDb250cm9sbGVyczogZnVuY3Rpb24gKHN0dWRpb0FwcCwgbmV0c2ltKSB7XG4gICAgc3R1ZGlvQXBwXyA9IHN0dWRpb0FwcDtcbiAgICBuZXRzaW1fID0gbmV0c2ltO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7TmV0U2ltTGV2ZWxDb25maWd1cmF0aW9ufVxuICAgKi9cbiAgZ2V0TGV2ZWxDb25maWc6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbmV0c2ltXy5sZXZlbDtcbiAgfSxcblxuICAvKipcbiAgICogQHJldHVybnMge1B1YlN1YkNvbmZpZ31cbiAgICovXG4gIGdldFB1YlN1YkNvbmZpZzogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICB1c2VQdXNoZXI6IG5ldHNpbV8udXNlUHVzaGVyLFxuICAgICAgcHVzaGVyQXBwbGljYXRpb25LZXk6IG5ldHNpbV8ucHVzaGVyQXBwbGljYXRpb25LZXlcbiAgICB9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfVxuICAgKi9cbiAgZ2V0R2xvYmFsTWF4Um91dGVyczogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXRzaW1fLmdsb2JhbE1heFJvdXRlcnM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAgICovXG4gIGdldEFzc2V0VXJsRnVuY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gc3R1ZGlvQXBwXy5hc3NldFVybDtcbiAgfSxcblxuICAvKipcbiAgICogVHJpZ2dlciBhIGxheW91dCB1cGRhdGUgb2YgdGhlIHJpZ2h0IGNvbHVtbiwgcmVjZWl2ZWQvc2VudC9zZW5kIHBhbmVscy5cbiAgICovXG4gIHVwZGF0ZUxheW91dDogZnVuY3Rpb24gKCkge1xuICAgIG5ldHNpbV8udXBkYXRlTGF5b3V0KCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRyaWdnZXIgYW4gYXR0ZW1wdCB0byBjb21wbGV0ZSB0aGUgY3VycmVudCBsZXZlbCBhbmQgY29udGludWUgdG8gdGhlIG5leHQuXG4gICAqL1xuICBjb21wbGV0ZUxldmVsQW5kQ29udGludWU6IGZ1bmN0aW9uICgpIHtcbiAgICBuZXRzaW1fLmNvbXBsZXRlTGV2ZWxBbmRDb250aW51ZSgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXNlZWQgdGhlIHJhbmRvbSBudW1iZXIgZ2VuZXJhdG9yLiAgSWYgdGhpcyBpcyBuZXZlciBjYWxsZWQsIHRoZSBkZWZhdWx0XG4gICAqIE1hdGgucmFuZG9tIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIGdlbmVyYXRvci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1NlZWRcbiAgICovXG4gIHNldFJhbmRvbVNlZWQ6IGZ1bmN0aW9uIChuZXdTZWVkKSB7XG4gICAgcHNldWRvUmFuZG9tTnVtYmVyRnVuY3Rpb25fID0gc2VlZHJhbmRvbShuZXdTZWVkKTtcbiAgfSxcblxuICAvKipcbiAgICogQHJldHVybnMge251bWJlcn0gYSByYW5kb20gdmFsdWUgYmV0d2VlbiAwIGFuZCAxXG4gICAqL1xuICByYW5kb206IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcHNldWRvUmFuZG9tTnVtYmVyRnVuY3Rpb25fKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCBhIHJhbmRvbSBpbnRlZ2VyIGluIHRoZSBnaXZlbiByYW5nZS5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGxvdyBpbmNsdXNpdmUgbG93ZXIgZW5kIG9mIHJhbmdlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoaWdoIGV4Y2x1c2l2ZSB1cHBlciBlbmQgb2YgcmFuZ2VcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIHJhbmRvbUludEluUmFuZ2U6IHJhbmRvbUludEluUmFuZ2UsXG5cbiAgLyoqXG4gICAqIEdldCBhIHJhbmRvbSBpdGVtIG91dCBvZiBhIGNvbGxlY3Rpb25cbiAgICogQHBhcmFtIHtBcnJheX0gY29sbGVjdGlvblxuICAgKiBAcmV0dXJucyB7Kn0gdW5kZWZpbmVkIGlmIGNvbGxlY3Rpb24gaXMgZW1wdHlcbiAgICovXG4gIHJhbmRvbVBpY2tPbmU6IGZ1bmN0aW9uIChjb2xsZWN0aW9uKSB7XG4gICAgdmFyIHNpemUgPSBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICBpZiAoc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4gY29sbGVjdGlvbltyYW5kb21JbnRJblJhbmdlKDAsIHNpemUpXTtcbiAgfVxuXG59O1xuIiwiLy8gQSBsaWJyYXJ5IG9mIHNlZWRhYmxlIFJOR3MgaW1wbGVtZW50ZWQgaW4gSmF2YXNjcmlwdC5cbi8vXG4vLyBVc2FnZTpcbi8vXG4vLyB2YXIgc2VlZHJhbmRvbSA9IHJlcXVpcmUoJ3NlZWRyYW5kb20nKTtcbi8vIHZhciByYW5kb20gPSBzZWVkcmFuZG9tKDEpOyAvLyBvciBhbnkgc2VlZC5cbi8vIHZhciB4ID0gcmFuZG9tKCk7ICAgICAgIC8vIDAgPD0geCA8IDEuICBFdmVyeSBiaXQgaXMgcmFuZG9tLlxuLy8gdmFyIHggPSByYW5kb20ucXVpY2soKTsgLy8gMCA8PSB4IDwgMS4gIDMyIGJpdHMgb2YgcmFuZG9tbmVzcy5cblxuLy8gYWxlYSwgYSA1My1iaXQgbXVsdGlwbHktd2l0aC1jYXJyeSBnZW5lcmF0b3IgYnkgSm9oYW5uZXMgQmFhZ8O4ZS5cbi8vIFBlcmlvZDogfjJeMTE2XG4vLyBSZXBvcnRlZCB0byBwYXNzIGFsbCBCaWdDcnVzaCB0ZXN0cy5cbnZhciBhbGVhID0gcmVxdWlyZSgnLi9saWIvYWxlYScpO1xuXG4vLyB4b3IxMjgsIGEgcHVyZSB4b3Itc2hpZnQgZ2VuZXJhdG9yIGJ5IEdlb3JnZSBNYXJzYWdsaWEuXG4vLyBQZXJpb2Q6IDJeMTI4LTEuXG4vLyBSZXBvcnRlZCB0byBmYWlsOiBNYXRyaXhSYW5rIGFuZCBMaW5lYXJDb21wLlxudmFyIHhvcjEyOCA9IHJlcXVpcmUoJy4vbGliL3hvcjEyOCcpO1xuXG4vLyB4b3J3b3csIEdlb3JnZSBNYXJzYWdsaWEncyAxNjAtYml0IHhvci1zaGlmdCBjb21iaW5lZCBwbHVzIHdleWwuXG4vLyBQZXJpb2Q6IDJeMTkyLTJeMzJcbi8vIFJlcG9ydGVkIHRvIGZhaWw6IENvbGxpc2lvbk92ZXIsIFNpbXBQb2tlciwgYW5kIExpbmVhckNvbXAuXG52YXIgeG9yd293ID0gcmVxdWlyZSgnLi9saWIveG9yd293Jyk7XG5cbi8vIHhvcnNoaWZ0NywgYnkgRnJhbsOnb2lzIFBhbm5ldG9uIGFuZCBQaWVycmUgTCdlY3V5ZXIsIHRha2VzXG4vLyBhIGRpZmZlcmVudCBhcHByb2FjaDogaXQgYWRkcyByb2J1c3RuZXNzIGJ5IGFsbG93aW5nIG1vcmUgc2hpZnRzXG4vLyB0aGFuIE1hcnNhZ2xpYSdzIG9yaWdpbmFsIHRocmVlLiAgSXQgaXMgYSA3LXNoaWZ0IGdlbmVyYXRvclxuLy8gd2l0aCAyNTYgYml0cywgdGhhdCBwYXNzZXMgQmlnQ3J1c2ggd2l0aCBubyBzeXN0bWF0aWMgZmFpbHVyZXMuXG4vLyBQZXJpb2QgMl4yNTYtMS5cbi8vIE5vIHN5c3RlbWF0aWMgQmlnQ3J1c2ggZmFpbHVyZXMgcmVwb3J0ZWQuXG52YXIgeG9yc2hpZnQ3ID0gcmVxdWlyZSgnLi9saWIveG9yc2hpZnQ3Jyk7XG5cbi8vIHhvcjQwOTYsIGJ5IFJpY2hhcmQgQnJlbnQsIGlzIGEgNDA5Ni1iaXQgeG9yLXNoaWZ0IHdpdGggYVxuLy8gdmVyeSBsb25nIHBlcmlvZCB0aGF0IGFsc28gYWRkcyBhIFdleWwgZ2VuZXJhdG9yLiBJdCBhbHNvIHBhc3Nlc1xuLy8gQmlnQ3J1c2ggd2l0aCBubyBzeXN0ZW1hdGljIGZhaWx1cmVzLiAgSXRzIGxvbmcgcGVyaW9kIG1heVxuLy8gYmUgdXNlZnVsIGlmIHlvdSBoYXZlIG1hbnkgZ2VuZXJhdG9ycyBhbmQgbmVlZCB0byBhdm9pZFxuLy8gY29sbGlzaW9ucy5cbi8vIFBlcmlvZDogMl40MTI4LTJeMzIuXG4vLyBObyBzeXN0ZW1hdGljIEJpZ0NydXNoIGZhaWx1cmVzIHJlcG9ydGVkLlxudmFyIHhvcjQwOTYgPSByZXF1aXJlKCcuL2xpYi94b3I0MDk2Jyk7XG5cbi8vIFR5Y2hlLWksIGJ5IFNhbXVlbCBOZXZlcyBhbmQgRmlsaXBlIEFyYXVqbywgaXMgYSBiaXQtc2hpZnRpbmcgcmFuZG9tXG4vLyBudW1iZXIgZ2VuZXJhdG9yIGRlcml2ZWQgZnJvbSBDaGFDaGEsIGEgbW9kZXJuIHN0cmVhbSBjaXBoZXIuXG4vLyBodHRwczovL2VkZW4uZGVpLnVjLnB0L35zbmV2ZXMvcHVicy8yMDExLXNuZmEyLnBkZlxuLy8gUGVyaW9kOiB+Ml4xMjdcbi8vIE5vIHN5c3RlbWF0aWMgQmlnQ3J1c2ggZmFpbHVyZXMgcmVwb3J0ZWQuXG52YXIgdHljaGVpID0gcmVxdWlyZSgnLi9saWIvdHljaGVpJyk7XG5cbi8vIFRoZSBvcmlnaW5hbCBBUkM0LWJhc2VkIHBybmcgaW5jbHVkZWQgaW4gdGhpcyBsaWJyYXJ5LlxuLy8gUGVyaW9kOiB+Ml4xNjAwXG52YXIgc3IgPSByZXF1aXJlKCcuL3NlZWRyYW5kb20nKTtcblxuc3IuYWxlYSA9IGFsZWE7XG5zci54b3IxMjggPSB4b3IxMjg7XG5zci54b3J3b3cgPSB4b3J3b3c7XG5zci54b3JzaGlmdDcgPSB4b3JzaGlmdDc7XG5zci54b3I0MDk2ID0geG9yNDA5NjtcbnNyLnR5Y2hlaSA9IHR5Y2hlaTtcblxubW9kdWxlLmV4cG9ydHMgPSBzcjtcbiIsIi8qXG5Db3B5cmlnaHQgMjAxNCBEYXZpZCBCYXUuXG5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZ1xuYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG5cIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbndpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbmRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0b1xucGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvXG50aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlXG5pbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCxcbkVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULlxuSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTllcbkNMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsXG5UT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRVxuU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbiovXG5cbihmdW5jdGlvbiAocG9vbCwgbWF0aCkge1xuLy9cbi8vIFRoZSBmb2xsb3dpbmcgY29uc3RhbnRzIGFyZSByZWxhdGVkIHRvIElFRUUgNzU0IGxpbWl0cy5cbi8vXG52YXIgZ2xvYmFsID0gdGhpcyxcbiAgICB3aWR0aCA9IDI1NiwgICAgICAgIC8vIGVhY2ggUkM0IG91dHB1dCBpcyAwIDw9IHggPCAyNTZcbiAgICBjaHVua3MgPSA2LCAgICAgICAgIC8vIGF0IGxlYXN0IHNpeCBSQzQgb3V0cHV0cyBmb3IgZWFjaCBkb3VibGVcbiAgICBkaWdpdHMgPSA1MiwgICAgICAgIC8vIHRoZXJlIGFyZSA1MiBzaWduaWZpY2FudCBkaWdpdHMgaW4gYSBkb3VibGVcbiAgICBybmduYW1lID0gJ3JhbmRvbScsIC8vIHJuZ25hbWU6IG5hbWUgZm9yIE1hdGgucmFuZG9tIGFuZCBNYXRoLnNlZWRyYW5kb21cbiAgICBzdGFydGRlbm9tID0gbWF0aC5wb3cod2lkdGgsIGNodW5rcyksXG4gICAgc2lnbmlmaWNhbmNlID0gbWF0aC5wb3coMiwgZGlnaXRzKSxcbiAgICBvdmVyZmxvdyA9IHNpZ25pZmljYW5jZSAqIDIsXG4gICAgbWFzayA9IHdpZHRoIC0gMSxcbiAgICBub2RlY3J5cHRvOyAgICAgICAgIC8vIG5vZGUuanMgY3J5cHRvIG1vZHVsZSwgaW5pdGlhbGl6ZWQgYXQgdGhlIGJvdHRvbS5cblxuLy9cbi8vIHNlZWRyYW5kb20oKVxuLy8gVGhpcyBpcyB0aGUgc2VlZHJhbmRvbSBmdW5jdGlvbiBkZXNjcmliZWQgYWJvdmUuXG4vL1xuZnVuY3Rpb24gc2VlZHJhbmRvbShzZWVkLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICB2YXIga2V5ID0gW107XG4gIG9wdGlvbnMgPSAob3B0aW9ucyA9PSB0cnVlKSA/IHsgZW50cm9weTogdHJ1ZSB9IDogKG9wdGlvbnMgfHwge30pO1xuXG4gIC8vIEZsYXR0ZW4gdGhlIHNlZWQgc3RyaW5nIG9yIGJ1aWxkIG9uZSBmcm9tIGxvY2FsIGVudHJvcHkgaWYgbmVlZGVkLlxuICB2YXIgc2hvcnRzZWVkID0gbWl4a2V5KGZsYXR0ZW4oXG4gICAgb3B0aW9ucy5lbnRyb3B5ID8gW3NlZWQsIHRvc3RyaW5nKHBvb2wpXSA6XG4gICAgKHNlZWQgPT0gbnVsbCkgPyBhdXRvc2VlZCgpIDogc2VlZCwgMyksIGtleSk7XG5cbiAgLy8gVXNlIHRoZSBzZWVkIHRvIGluaXRpYWxpemUgYW4gQVJDNCBnZW5lcmF0b3IuXG4gIHZhciBhcmM0ID0gbmV3IEFSQzQoa2V5KTtcblxuICAvLyBUaGlzIGZ1bmN0aW9uIHJldHVybnMgYSByYW5kb20gZG91YmxlIGluIFswLCAxKSB0aGF0IGNvbnRhaW5zXG4gIC8vIHJhbmRvbW5lc3MgaW4gZXZlcnkgYml0IG9mIHRoZSBtYW50aXNzYSBvZiB0aGUgSUVFRSA3NTQgdmFsdWUuXG4gIHZhciBwcm5nID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG4gPSBhcmM0LmcoY2h1bmtzKSwgICAgICAgICAgICAgLy8gU3RhcnQgd2l0aCBhIG51bWVyYXRvciBuIDwgMiBeIDQ4XG4gICAgICAgIGQgPSBzdGFydGRlbm9tLCAgICAgICAgICAgICAgICAgLy8gICBhbmQgZGVub21pbmF0b3IgZCA9IDIgXiA0OC5cbiAgICAgICAgeCA9IDA7ICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGFuZCBubyAnZXh0cmEgbGFzdCBieXRlJy5cbiAgICB3aGlsZSAobiA8IHNpZ25pZmljYW5jZSkgeyAgICAgICAgICAvLyBGaWxsIHVwIGFsbCBzaWduaWZpY2FudCBkaWdpdHMgYnlcbiAgICAgIG4gPSAobiArIHgpICogd2lkdGg7ICAgICAgICAgICAgICAvLyAgIHNoaWZ0aW5nIG51bWVyYXRvciBhbmRcbiAgICAgIGQgKj0gd2lkdGg7ICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGRlbm9taW5hdG9yIGFuZCBnZW5lcmF0aW5nIGFcbiAgICAgIHggPSBhcmM0LmcoMSk7ICAgICAgICAgICAgICAgICAgICAvLyAgIG5ldyBsZWFzdC1zaWduaWZpY2FudC1ieXRlLlxuICAgIH1cbiAgICB3aGlsZSAobiA+PSBvdmVyZmxvdykgeyAgICAgICAgICAgICAvLyBUbyBhdm9pZCByb3VuZGluZyB1cCwgYmVmb3JlIGFkZGluZ1xuICAgICAgbiAvPSAyOyAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgbGFzdCBieXRlLCBzaGlmdCBldmVyeXRoaW5nXG4gICAgICBkIC89IDI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICByaWdodCB1c2luZyBpbnRlZ2VyIG1hdGggdW50aWxcbiAgICAgIHggPj4+PSAxOyAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIHdlIGhhdmUgZXhhY3RseSB0aGUgZGVzaXJlZCBiaXRzLlxuICAgIH1cbiAgICByZXR1cm4gKG4gKyB4KSAvIGQ7ICAgICAgICAgICAgICAgICAvLyBGb3JtIHRoZSBudW1iZXIgd2l0aGluIFswLCAxKS5cbiAgfTtcblxuICBwcm5nLmludDMyID0gZnVuY3Rpb24oKSB7IHJldHVybiBhcmM0LmcoNCkgfCAwOyB9XG4gIHBybmcucXVpY2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGFyYzQuZyg0KSAvIDB4MTAwMDAwMDAwOyB9XG4gIHBybmcuZG91YmxlID0gcHJuZztcblxuICAvLyBNaXggdGhlIHJhbmRvbW5lc3MgaW50byBhY2N1bXVsYXRlZCBlbnRyb3B5LlxuICBtaXhrZXkodG9zdHJpbmcoYXJjNC5TKSwgcG9vbCk7XG5cbiAgLy8gQ2FsbGluZyBjb252ZW50aW9uOiB3aGF0IHRvIHJldHVybiBhcyBhIGZ1bmN0aW9uIG9mIHBybmcsIHNlZWQsIGlzX21hdGguXG4gIHJldHVybiAob3B0aW9ucy5wYXNzIHx8IGNhbGxiYWNrIHx8XG4gICAgICBmdW5jdGlvbihwcm5nLCBzZWVkLCBpc19tYXRoX2NhbGwsIHN0YXRlKSB7XG4gICAgICAgIGlmIChzdGF0ZSkge1xuICAgICAgICAgIC8vIExvYWQgdGhlIGFyYzQgc3RhdGUgZnJvbSB0aGUgZ2l2ZW4gc3RhdGUgaWYgaXQgaGFzIGFuIFMgYXJyYXkuXG4gICAgICAgICAgaWYgKHN0YXRlLlMpIHsgY29weShzdGF0ZSwgYXJjNCk7IH1cbiAgICAgICAgICAvLyBPbmx5IHByb3ZpZGUgdGhlIC5zdGF0ZSBtZXRob2QgaWYgcmVxdWVzdGVkIHZpYSBvcHRpb25zLnN0YXRlLlxuICAgICAgICAgIHBybmcuc3RhdGUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGNvcHkoYXJjNCwge30pOyB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBjYWxsZWQgYXMgYSBtZXRob2Qgb2YgTWF0aCAoTWF0aC5zZWVkcmFuZG9tKCkpLCBtdXRhdGVcbiAgICAgICAgLy8gTWF0aC5yYW5kb20gYmVjYXVzZSB0aGF0IGlzIGhvdyBzZWVkcmFuZG9tLmpzIGhhcyB3b3JrZWQgc2luY2UgdjEuMC5cbiAgICAgICAgaWYgKGlzX21hdGhfY2FsbCkgeyBtYXRoW3JuZ25hbWVdID0gcHJuZzsgcmV0dXJuIHNlZWQ7IH1cblxuICAgICAgICAvLyBPdGhlcndpc2UsIGl0IGlzIGEgbmV3ZXIgY2FsbGluZyBjb252ZW50aW9uLCBzbyByZXR1cm4gdGhlXG4gICAgICAgIC8vIHBybmcgZGlyZWN0bHkuXG4gICAgICAgIGVsc2UgcmV0dXJuIHBybmc7XG4gICAgICB9KShcbiAgcHJuZyxcbiAgc2hvcnRzZWVkLFxuICAnZ2xvYmFsJyBpbiBvcHRpb25zID8gb3B0aW9ucy5nbG9iYWwgOiAodGhpcyA9PSBtYXRoKSxcbiAgb3B0aW9ucy5zdGF0ZSk7XG59XG5tYXRoWydzZWVkJyArIHJuZ25hbWVdID0gc2VlZHJhbmRvbTtcblxuLy9cbi8vIEFSQzRcbi8vXG4vLyBBbiBBUkM0IGltcGxlbWVudGF0aW9uLiAgVGhlIGNvbnN0cnVjdG9yIHRha2VzIGEga2V5IGluIHRoZSBmb3JtIG9mXG4vLyBhbiBhcnJheSBvZiBhdCBtb3N0ICh3aWR0aCkgaW50ZWdlcnMgdGhhdCBzaG91bGQgYmUgMCA8PSB4IDwgKHdpZHRoKS5cbi8vXG4vLyBUaGUgZyhjb3VudCkgbWV0aG9kIHJldHVybnMgYSBwc2V1ZG9yYW5kb20gaW50ZWdlciB0aGF0IGNvbmNhdGVuYXRlc1xuLy8gdGhlIG5leHQgKGNvdW50KSBvdXRwdXRzIGZyb20gQVJDNC4gIEl0cyByZXR1cm4gdmFsdWUgaXMgYSBudW1iZXIgeFxuLy8gdGhhdCBpcyBpbiB0aGUgcmFuZ2UgMCA8PSB4IDwgKHdpZHRoIF4gY291bnQpLlxuLy9cbmZ1bmN0aW9uIEFSQzQoa2V5KSB7XG4gIHZhciB0LCBrZXlsZW4gPSBrZXkubGVuZ3RoLFxuICAgICAgbWUgPSB0aGlzLCBpID0gMCwgaiA9IG1lLmkgPSBtZS5qID0gMCwgcyA9IG1lLlMgPSBbXTtcblxuICAvLyBUaGUgZW1wdHkga2V5IFtdIGlzIHRyZWF0ZWQgYXMgWzBdLlxuICBpZiAoIWtleWxlbikgeyBrZXkgPSBba2V5bGVuKytdOyB9XG5cbiAgLy8gU2V0IHVwIFMgdXNpbmcgdGhlIHN0YW5kYXJkIGtleSBzY2hlZHVsaW5nIGFsZ29yaXRobS5cbiAgd2hpbGUgKGkgPCB3aWR0aCkge1xuICAgIHNbaV0gPSBpKys7XG4gIH1cbiAgZm9yIChpID0gMDsgaSA8IHdpZHRoOyBpKyspIHtcbiAgICBzW2ldID0gc1tqID0gbWFzayAmIChqICsga2V5W2kgJSBrZXlsZW5dICsgKHQgPSBzW2ldKSldO1xuICAgIHNbal0gPSB0O1xuICB9XG5cbiAgLy8gVGhlIFwiZ1wiIG1ldGhvZCByZXR1cm5zIHRoZSBuZXh0IChjb3VudCkgb3V0cHV0cyBhcyBvbmUgbnVtYmVyLlxuICAobWUuZyA9IGZ1bmN0aW9uKGNvdW50KSB7XG4gICAgLy8gVXNpbmcgaW5zdGFuY2UgbWVtYmVycyBpbnN0ZWFkIG9mIGNsb3N1cmUgc3RhdGUgbmVhcmx5IGRvdWJsZXMgc3BlZWQuXG4gICAgdmFyIHQsIHIgPSAwLFxuICAgICAgICBpID0gbWUuaSwgaiA9IG1lLmosIHMgPSBtZS5TO1xuICAgIHdoaWxlIChjb3VudC0tKSB7XG4gICAgICB0ID0gc1tpID0gbWFzayAmIChpICsgMSldO1xuICAgICAgciA9IHIgKiB3aWR0aCArIHNbbWFzayAmICgoc1tpXSA9IHNbaiA9IG1hc2sgJiAoaiArIHQpXSkgKyAoc1tqXSA9IHQpKV07XG4gICAgfVxuICAgIG1lLmkgPSBpOyBtZS5qID0gajtcbiAgICByZXR1cm4gcjtcbiAgICAvLyBGb3Igcm9idXN0IHVucHJlZGljdGFiaWxpdHksIHRoZSBmdW5jdGlvbiBjYWxsIGJlbG93IGF1dG9tYXRpY2FsbHlcbiAgICAvLyBkaXNjYXJkcyBhbiBpbml0aWFsIGJhdGNoIG9mIHZhbHVlcy4gIFRoaXMgaXMgY2FsbGVkIFJDNC1kcm9wWzI1Nl0uXG4gICAgLy8gU2VlIGh0dHA6Ly9nb29nbGUuY29tL3NlYXJjaD9xPXJzYStmbHVocmVyK3Jlc3BvbnNlJmJ0bklcbiAgfSkod2lkdGgpO1xufVxuXG4vL1xuLy8gY29weSgpXG4vLyBDb3BpZXMgaW50ZXJuYWwgc3RhdGUgb2YgQVJDNCB0byBvciBmcm9tIGEgcGxhaW4gb2JqZWN0LlxuLy9cbmZ1bmN0aW9uIGNvcHkoZiwgdCkge1xuICB0LmkgPSBmLmk7XG4gIHQuaiA9IGYuajtcbiAgdC5TID0gZi5TLnNsaWNlKCk7XG4gIHJldHVybiB0O1xufTtcblxuLy9cbi8vIGZsYXR0ZW4oKVxuLy8gQ29udmVydHMgYW4gb2JqZWN0IHRyZWUgdG8gbmVzdGVkIGFycmF5cyBvZiBzdHJpbmdzLlxuLy9cbmZ1bmN0aW9uIGZsYXR0ZW4ob2JqLCBkZXB0aCkge1xuICB2YXIgcmVzdWx0ID0gW10sIHR5cCA9ICh0eXBlb2Ygb2JqKSwgcHJvcDtcbiAgaWYgKGRlcHRoICYmIHR5cCA9PSAnb2JqZWN0Jykge1xuICAgIGZvciAocHJvcCBpbiBvYmopIHtcbiAgICAgIHRyeSB7IHJlc3VsdC5wdXNoKGZsYXR0ZW4ob2JqW3Byb3BdLCBkZXB0aCAtIDEpKTsgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gIH1cbiAgcmV0dXJuIChyZXN1bHQubGVuZ3RoID8gcmVzdWx0IDogdHlwID09ICdzdHJpbmcnID8gb2JqIDogb2JqICsgJ1xcMCcpO1xufVxuXG4vL1xuLy8gbWl4a2V5KClcbi8vIE1peGVzIGEgc3RyaW5nIHNlZWQgaW50byBhIGtleSB0aGF0IGlzIGFuIGFycmF5IG9mIGludGVnZXJzLCBhbmRcbi8vIHJldHVybnMgYSBzaG9ydGVuZWQgc3RyaW5nIHNlZWQgdGhhdCBpcyBlcXVpdmFsZW50IHRvIHRoZSByZXN1bHQga2V5LlxuLy9cbmZ1bmN0aW9uIG1peGtleShzZWVkLCBrZXkpIHtcbiAgdmFyIHN0cmluZ3NlZWQgPSBzZWVkICsgJycsIHNtZWFyLCBqID0gMDtcbiAgd2hpbGUgKGogPCBzdHJpbmdzZWVkLmxlbmd0aCkge1xuICAgIGtleVttYXNrICYgal0gPVxuICAgICAgbWFzayAmICgoc21lYXIgXj0ga2V5W21hc2sgJiBqXSAqIDE5KSArIHN0cmluZ3NlZWQuY2hhckNvZGVBdChqKyspKTtcbiAgfVxuICByZXR1cm4gdG9zdHJpbmcoa2V5KTtcbn1cblxuLy9cbi8vIGF1dG9zZWVkKClcbi8vIFJldHVybnMgYW4gb2JqZWN0IGZvciBhdXRvc2VlZGluZywgdXNpbmcgd2luZG93LmNyeXB0byBhbmQgTm9kZSBjcnlwdG9cbi8vIG1vZHVsZSBpZiBhdmFpbGFibGUuXG4vL1xuZnVuY3Rpb24gYXV0b3NlZWQoKSB7XG4gIHRyeSB7XG4gICAgaWYgKG5vZGVjcnlwdG8pIHsgcmV0dXJuIHRvc3RyaW5nKG5vZGVjcnlwdG8ucmFuZG9tQnl0ZXMod2lkdGgpKTsgfVxuICAgIHZhciBvdXQgPSBuZXcgVWludDhBcnJheSh3aWR0aCk7XG4gICAgKGdsb2JhbC5jcnlwdG8gfHwgZ2xvYmFsLm1zQ3J5cHRvKS5nZXRSYW5kb21WYWx1ZXMob3V0KTtcbiAgICByZXR1cm4gdG9zdHJpbmcob3V0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHZhciBicm93c2VyID0gZ2xvYmFsLm5hdmlnYXRvcixcbiAgICAgICAgcGx1Z2lucyA9IGJyb3dzZXIgJiYgYnJvd3Nlci5wbHVnaW5zO1xuICAgIHJldHVybiBbK25ldyBEYXRlLCBnbG9iYWwsIHBsdWdpbnMsIGdsb2JhbC5zY3JlZW4sIHRvc3RyaW5nKHBvb2wpXTtcbiAgfVxufVxuXG4vL1xuLy8gdG9zdHJpbmcoKVxuLy8gQ29udmVydHMgYW4gYXJyYXkgb2YgY2hhcmNvZGVzIHRvIGEgc3RyaW5nXG4vL1xuZnVuY3Rpb24gdG9zdHJpbmcoYSkge1xuICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseSgwLCBhKTtcbn1cblxuLy9cbi8vIFdoZW4gc2VlZHJhbmRvbS5qcyBpcyBsb2FkZWQsIHdlIGltbWVkaWF0ZWx5IG1peCBhIGZldyBiaXRzXG4vLyBmcm9tIHRoZSBidWlsdC1pbiBSTkcgaW50byB0aGUgZW50cm9weSBwb29sLiAgQmVjYXVzZSB3ZSBkb1xuLy8gbm90IHdhbnQgdG8gaW50ZXJmZXJlIHdpdGggZGV0ZXJtaW5pc3RpYyBQUk5HIHN0YXRlIGxhdGVyLFxuLy8gc2VlZHJhbmRvbSB3aWxsIG5vdCBjYWxsIG1hdGgucmFuZG9tIG9uIGl0cyBvd24gYWdhaW4gYWZ0ZXJcbi8vIGluaXRpYWxpemF0aW9uLlxuLy9cbm1peGtleShtYXRoLnJhbmRvbSgpLCBwb29sKTtcblxuLy9cbi8vIE5vZGVqcyBhbmQgQU1EIHN1cHBvcnQ6IGV4cG9ydCB0aGUgaW1wbGVtZW50YXRpb24gYXMgYSBtb2R1bGUgdXNpbmdcbi8vIGVpdGhlciBjb252ZW50aW9uLlxuLy9cbmlmICgodHlwZW9mIG1vZHVsZSkgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBzZWVkcmFuZG9tO1xuICAvLyBXaGVuIGluIG5vZGUuanMsIHRyeSB1c2luZyBjcnlwdG8gcGFja2FnZSBmb3IgYXV0b3NlZWRpbmcuXG4gIHRyeSB7XG4gICAgbm9kZWNyeXB0byA9IHJlcXVpcmUoJ2NyeXB0bycpO1xuICB9IGNhdGNoIChleCkge31cbn0gZWxzZSBpZiAoKHR5cGVvZiBkZWZpbmUpID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICBkZWZpbmUoZnVuY3Rpb24oKSB7IHJldHVybiBzZWVkcmFuZG9tOyB9KTtcbn1cblxuLy8gRW5kIGFub255bW91cyBzY29wZSwgYW5kIHBhc3MgaW5pdGlhbCB2YWx1ZXMuXG59KShcbiAgW10sICAgICAvLyBwb29sOiBlbnRyb3B5IHBvb2wgc3RhcnRzIGVtcHR5XG4gIE1hdGggICAgLy8gbWF0aDogcGFja2FnZSBjb250YWluaW5nIHJhbmRvbSwgcG93LCBhbmQgc2VlZHJhbmRvbVxuKTtcbiIsIid1c2Ugc3RyaWN0J1xuXG5leHBvcnRzLnJhbmRvbUJ5dGVzID0gZXhwb3J0cy5ybmcgPSBleHBvcnRzLnBzZXVkb1JhbmRvbUJ5dGVzID0gZXhwb3J0cy5wcm5nID0gcmVxdWlyZSgncmFuZG9tYnl0ZXMnKVxuZXhwb3J0cy5jcmVhdGVIYXNoID0gZXhwb3J0cy5IYXNoID0gcmVxdWlyZSgnY3JlYXRlLWhhc2gnKVxuZXhwb3J0cy5jcmVhdGVIbWFjID0gZXhwb3J0cy5IbWFjID0gcmVxdWlyZSgnY3JlYXRlLWhtYWMnKVxuXG52YXIgaGFzaGVzID0gWydzaGExJywgJ3NoYTIyNCcsICdzaGEyNTYnLCAnc2hhMzg0JywgJ3NoYTUxMicsICdtZDUnLCAncm1kMTYwJ10uY29uY2F0KE9iamVjdC5rZXlzKHJlcXVpcmUoJ2Jyb3dzZXJpZnktc2lnbi9hbGdvcycpKSlcbmV4cG9ydHMuZ2V0SGFzaGVzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gaGFzaGVzXG59XG5cbnZhciBwID0gcmVxdWlyZSgncGJrZGYyJylcbmV4cG9ydHMucGJrZGYyID0gcC5wYmtkZjJcbmV4cG9ydHMucGJrZGYyU3luYyA9IHAucGJrZGYyU3luY1xuXG52YXIgYWVzID0gcmVxdWlyZSgnYnJvd3NlcmlmeS1jaXBoZXInKVxuO1tcbiAgJ0NpcGhlcicsXG4gICdjcmVhdGVDaXBoZXInLFxuICAnQ2lwaGVyaXYnLFxuICAnY3JlYXRlQ2lwaGVyaXYnLFxuICAnRGVjaXBoZXInLFxuICAnY3JlYXRlRGVjaXBoZXInLFxuICAnRGVjaXBoZXJpdicsXG4gICdjcmVhdGVEZWNpcGhlcml2JyxcbiAgJ2dldENpcGhlcnMnLFxuICAnbGlzdENpcGhlcnMnXG5dLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICBleHBvcnRzW2tleV0gPSBhZXNba2V5XVxufSlcblxudmFyIGRoID0gcmVxdWlyZSgnZGlmZmllLWhlbGxtYW4nKVxuO1tcbiAgJ0RpZmZpZUhlbGxtYW5Hcm91cCcsXG4gICdjcmVhdGVEaWZmaWVIZWxsbWFuR3JvdXAnLFxuICAnZ2V0RGlmZmllSGVsbG1hbicsXG4gICdjcmVhdGVEaWZmaWVIZWxsbWFuJyxcbiAgJ0RpZmZpZUhlbGxtYW4nXG5dLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICBleHBvcnRzW2tleV0gPSBkaFtrZXldXG59KVxuXG52YXIgc2lnbiA9IHJlcXVpcmUoJ2Jyb3dzZXJpZnktc2lnbicpXG47W1xuICAnY3JlYXRlU2lnbicsXG4gICdTaWduJyxcbiAgJ2NyZWF0ZVZlcmlmeScsXG4gICdWZXJpZnknXG5dLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICBleHBvcnRzW2tleV0gPSBzaWduW2tleV1cbn0pXG5cbmV4cG9ydHMuY3JlYXRlRUNESCA9IHJlcXVpcmUoJ2NyZWF0ZS1lY2RoJylcblxudmFyIHB1YmxpY0VuY3J5cHQgPSByZXF1aXJlKCdwdWJsaWMtZW5jcnlwdCcpXG5cbjtbXG4gICdwdWJsaWNFbmNyeXB0JyxcbiAgJ3ByaXZhdGVFbmNyeXB0JyxcbiAgJ3B1YmxpY0RlY3J5cHQnLFxuICAncHJpdmF0ZURlY3J5cHQnXG5dLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICBleHBvcnRzW2tleV0gPSBwdWJsaWNFbmNyeXB0W2tleV1cbn0pXG5cbi8vIHRoZSBsZWFzdCBJIGNhbiBkbyBpcyBtYWtlIGVycm9yIG1lc3NhZ2VzIGZvciB0aGUgcmVzdCBvZiB0aGUgbm9kZS5qcy9jcnlwdG8gYXBpLlxuO1tcbiAgJ2NyZWF0ZUNyZWRlbnRpYWxzJ1xuXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gIGV4cG9ydHNbbmFtZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFtcbiAgICAgICdzb3JyeSwgJyArIG5hbWUgKyAnIGlzIG5vdCBpbXBsZW1lbnRlZCB5ZXQnLFxuICAgICAgJ3dlIGFjY2VwdCBwdWxsIHJlcXVlc3RzJyxcbiAgICAgICdodHRwczovL2dpdGh1Yi5jb20vY3J5cHRvLWJyb3dzZXJpZnkvY3J5cHRvLWJyb3dzZXJpZnknXG4gICAgXS5qb2luKCdcXG4nKSlcbiAgfVxufSlcbiIsImV4cG9ydHMucHVibGljRW5jcnlwdCA9IHJlcXVpcmUoJy4vcHVibGljRW5jcnlwdCcpO1xuZXhwb3J0cy5wcml2YXRlRGVjcnlwdCA9IHJlcXVpcmUoJy4vcHJpdmF0ZURlY3J5cHQnKTtcblxuZXhwb3J0cy5wcml2YXRlRW5jcnlwdCA9IGZ1bmN0aW9uIHByaXZhdGVFbmNyeXB0KGtleSwgYnVmKSB7XG4gIHJldHVybiBleHBvcnRzLnB1YmxpY0VuY3J5cHQoa2V5LCBidWYsIHRydWUpO1xufTtcblxuZXhwb3J0cy5wdWJsaWNEZWNyeXB0ID0gZnVuY3Rpb24gcHVibGljRGVjcnlwdChrZXksIGJ1Zikge1xuICByZXR1cm4gZXhwb3J0cy5wcml2YXRlRGVjcnlwdChrZXksIGJ1ZiwgdHJ1ZSk7XG59OyIsIihmdW5jdGlvbiAoQnVmZmVyKXtcbnZhciBwYXJzZUtleXMgPSByZXF1aXJlKCdwYXJzZS1hc24xJyk7XG52YXIgcmFuZG9tQnl0ZXMgPSByZXF1aXJlKCdyYW5kb21ieXRlcycpO1xudmFyIGNyZWF0ZUhhc2ggPSByZXF1aXJlKCdjcmVhdGUtaGFzaCcpO1xudmFyIG1nZiA9IHJlcXVpcmUoJy4vbWdmJyk7XG52YXIgeG9yID0gcmVxdWlyZSgnLi94b3InKTtcbnZhciBibiA9IHJlcXVpcmUoJ2JuLmpzJyk7XG52YXIgd2l0aFB1YmxpYyA9IHJlcXVpcmUoJy4vd2l0aFB1YmxpYycpO1xudmFyIGNydCA9IHJlcXVpcmUoJ2Jyb3dzZXJpZnktcnNhJyk7XG5cbnZhciBjb25zdGFudHMgPSB7XG4gIFJTQV9QS0NTMV9PQUVQX1BBRERJTkc6IDQsXG4gIFJTQV9QS0NTMV9QQURESU46IDEsXG4gIFJTQV9OT19QQURESU5HOiAzXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHB1YmxpY0VuY3J5cHQocHVibGljX2tleSwgbXNnLCByZXZlcnNlKSB7XG4gIHZhciBwYWRkaW5nO1xuICBpZiAocHVibGljX2tleS5wYWRkaW5nKSB7XG4gICAgcGFkZGluZyA9IHB1YmxpY19rZXkucGFkZGluZztcbiAgfSBlbHNlIGlmIChyZXZlcnNlKSB7XG4gICAgcGFkZGluZyA9IDE7XG4gIH0gZWxzZSB7XG4gICAgcGFkZGluZyA9IDQ7XG4gIH1cbiAgdmFyIGtleSA9IHBhcnNlS2V5cyhwdWJsaWNfa2V5KTtcbiAgdmFyIHBhZGRlZE1zZztcbiAgaWYgKHBhZGRpbmcgPT09IDQpIHtcbiAgICBwYWRkZWRNc2cgPSBvYWVwKGtleSwgbXNnKTtcbiAgfSBlbHNlIGlmIChwYWRkaW5nID09PSAxKSB7XG4gICAgcGFkZGVkTXNnID0gcGtjczEoa2V5LCBtc2csIHJldmVyc2UpO1xuICB9IGVsc2UgaWYgKHBhZGRpbmcgPT09IDMpIHtcbiAgICBwYWRkZWRNc2cgPSBuZXcgYm4obXNnKTtcbiAgICBpZiAocGFkZGVkTXNnLmNtcChrZXkubW9kdWx1cykgPj0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdkYXRhIHRvbyBsb25nIGZvciBtb2R1bHVzJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biBwYWRkaW5nJyk7XG4gIH1cbiAgaWYgKHJldmVyc2UpIHtcbiAgICByZXR1cm4gY3J0KHBhZGRlZE1zZywga2V5KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gd2l0aFB1YmxpYyhwYWRkZWRNc2csIGtleSk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIG9hZXAoa2V5LCBtc2cpe1xuICB2YXIgayA9IGtleS5tb2R1bHVzLmJ5dGVMZW5ndGgoKTtcbiAgdmFyIG1MZW4gPSBtc2cubGVuZ3RoO1xuICB2YXIgaUhhc2ggPSBjcmVhdGVIYXNoKCdzaGExJykudXBkYXRlKG5ldyBCdWZmZXIoJycpKS5kaWdlc3QoKTtcbiAgdmFyIGhMZW4gPSBpSGFzaC5sZW5ndGg7XG4gIHZhciBoTGVuMiA9IDIgKiBoTGVuO1xuICBpZiAobUxlbiA+IGsgLSBoTGVuMiAtIDIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ21lc3NhZ2UgdG9vIGxvbmcnKTtcbiAgfVxuICB2YXIgcHMgPSBuZXcgQnVmZmVyKGsgLSBtTGVuIC0gaExlbjIgLSAyKTtcbiAgcHMuZmlsbCgwKTtcbiAgdmFyIGRibGVuID0gayAtIGhMZW4gLSAxO1xuICB2YXIgc2VlZCA9IHJhbmRvbUJ5dGVzKGhMZW4pO1xuICB2YXIgbWFza2VkRGIgPSB4b3IoQnVmZmVyLmNvbmNhdChbaUhhc2gsIHBzLCBuZXcgQnVmZmVyKFsxXSksIG1zZ10sIGRibGVuKSwgbWdmKHNlZWQsIGRibGVuKSk7XG4gIHZhciBtYXNrZWRTZWVkID0geG9yKHNlZWQsIG1nZihtYXNrZWREYiwgaExlbikpO1xuICByZXR1cm4gbmV3IGJuKEJ1ZmZlci5jb25jYXQoW25ldyBCdWZmZXIoWzBdKSwgbWFza2VkU2VlZCwgbWFza2VkRGJdLCBrKSk7XG59XG5mdW5jdGlvbiBwa2NzMShrZXksIG1zZywgcmV2ZXJzZSl7XG4gIHZhciBtTGVuID0gbXNnLmxlbmd0aDtcbiAgdmFyIGsgPSBrZXkubW9kdWx1cy5ieXRlTGVuZ3RoKCk7XG4gIGlmIChtTGVuID4gayAtIDExKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdtZXNzYWdlIHRvbyBsb25nJyk7XG4gIH1cbiAgdmFyIHBzO1xuICBpZiAocmV2ZXJzZSkge1xuICAgIHBzID0gbmV3IEJ1ZmZlcihrIC0gbUxlbiAtIDMpO1xuICAgIHBzLmZpbGwoMHhmZik7XG4gIH0gZWxzZSB7XG4gICAgcHMgPSBub25aZXJvKGsgLSBtTGVuIC0gMyk7XG4gIH1cbiAgcmV0dXJuIG5ldyBibihCdWZmZXIuY29uY2F0KFtuZXcgQnVmZmVyKFswLCByZXZlcnNlPzE6Ml0pLCBwcywgbmV3IEJ1ZmZlcihbMF0pLCBtc2ddLCBrKSk7XG59XG5mdW5jdGlvbiBub25aZXJvKGxlbiwgY3J5cHRvKSB7XG4gIHZhciBvdXQgPSBuZXcgQnVmZmVyKGxlbik7XG4gIHZhciBpID0gMDtcbiAgdmFyIGNhY2hlID0gcmFuZG9tQnl0ZXMobGVuKjIpO1xuICB2YXIgY3VyID0gMDtcbiAgdmFyIG51bTtcbiAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICBpZiAoY3VyID09PSBjYWNoZS5sZW5ndGgpIHtcbiAgICAgIGNhY2hlID0gcmFuZG9tQnl0ZXMobGVuKjIpO1xuICAgICAgY3VyID0gMDtcbiAgICB9XG4gICAgbnVtID0gY2FjaGVbY3VyKytdO1xuICAgIGlmIChudW0pIHtcbiAgICAgIG91dFtpKytdID0gbnVtO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0O1xufVxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZjSFZpYkdsakxXVnVZM0o1Y0hRdmNIVmliR2xqUlc1amNubHdkQzVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pTzBGQlFVRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRU0lzSW1acGJHVWlPaUpuWlc1bGNtRjBaV1F1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaWRtRnlJSEJoY25ObFMyVjVjeUE5SUhKbGNYVnBjbVVvSjNCaGNuTmxMV0Z6YmpFbktUdGNiblpoY2lCeVlXNWtiMjFDZVhSbGN5QTlJSEpsY1hWcGNtVW9KM0poYm1SdmJXSjVkR1Z6SnlrN1hHNTJZWElnWTNKbFlYUmxTR0Z6YUNBOUlISmxjWFZwY21Vb0oyTnlaV0YwWlMxb1lYTm9KeWs3WEc1MllYSWdiV2RtSUQwZ2NtVnhkV2x5WlNnbkxpOXRaMlluS1R0Y2JuWmhjaUI0YjNJZ1BTQnlaWEYxYVhKbEtDY3VMM2h2Y2ljcE8xeHVkbUZ5SUdKdUlEMGdjbVZ4ZFdseVpTZ25ZbTR1YW5NbktUdGNiblpoY2lCM2FYUm9VSFZpYkdsaklEMGdjbVZ4ZFdseVpTZ25MaTkzYVhSb1VIVmliR2xqSnlrN1hHNTJZWElnWTNKMElEMGdjbVZ4ZFdseVpTZ25Zbkp2ZDNObGNtbG1lUzF5YzJFbktUdGNibHh1ZG1GeUlHTnZibk4wWVc1MGN5QTlJSHRjYmlBZ1VsTkJYMUJMUTFNeFgwOUJSVkJmVUVGRVJFbE9Sem9nTkN4Y2JpQWdVbE5CWDFCTFExTXhYMUJCUkVSSlRqb2dNU3hjYmlBZ1VsTkJYMDVQWDFCQlJFUkpUa2M2SUROY2JuMDdYRzVjYm0xdlpIVnNaUzVsZUhCdmNuUnpJRDBnWm5WdVkzUnBiMjRnY0hWaWJHbGpSVzVqY25sd2RDaHdkV0pzYVdOZmEyVjVMQ0J0YzJjc0lISmxkbVZ5YzJVcElIdGNiaUFnZG1GeUlIQmhaR1JwYm1jN1hHNGdJR2xtSUNod2RXSnNhV05mYTJWNUxuQmhaR1JwYm1jcElIdGNiaUFnSUNCd1lXUmthVzVuSUQwZ2NIVmliR2xqWDJ0bGVTNXdZV1JrYVc1bk8xeHVJQ0I5SUdWc2MyVWdhV1lnS0hKbGRtVnljMlVwSUh0Y2JpQWdJQ0J3WVdSa2FXNW5JRDBnTVR0Y2JpQWdmU0JsYkhObElIdGNiaUFnSUNCd1lXUmthVzVuSUQwZ05EdGNiaUFnZlZ4dUlDQjJZWElnYTJWNUlEMGdjR0Z5YzJWTFpYbHpLSEIxWW14cFkxOXJaWGtwTzF4dUlDQjJZWElnY0dGa1pHVmtUWE5uTzF4dUlDQnBaaUFvY0dGa1pHbHVaeUE5UFQwZ05Da2dlMXh1SUNBZ0lIQmhaR1JsWkUxelp5QTlJRzloWlhBb2EyVjVMQ0J0YzJjcE8xeHVJQ0I5SUdWc2MyVWdhV1lnS0hCaFpHUnBibWNnUFQwOUlERXBJSHRjYmlBZ0lDQndZV1JrWldSTmMyY2dQU0J3YTJOek1TaHJaWGtzSUcxelp5d2djbVYyWlhKelpTazdYRzRnSUgwZ1pXeHpaU0JwWmlBb2NHRmtaR2x1WnlBOVBUMGdNeWtnZTF4dUlDQWdJSEJoWkdSbFpFMXpaeUE5SUc1bGR5QmliaWh0YzJjcE8xeHVJQ0FnSUdsbUlDaHdZV1JrWldSTmMyY3VZMjF3S0d0bGVTNXRiMlIxYkhWektTQStQU0F3S1NCN1hHNGdJQ0FnSUNCMGFISnZkeUJ1WlhjZ1JYSnliM0lvSjJSaGRHRWdkRzl2SUd4dmJtY2dabTl5SUcxdlpIVnNkWE1uS1R0Y2JpQWdJQ0I5WEc0Z0lIMGdaV3h6WlNCN1hHNGdJQ0FnZEdoeWIzY2dibVYzSUVWeWNtOXlLQ2QxYm10dWIzZHVJSEJoWkdScGJtY25LVHRjYmlBZ2ZWeHVJQ0JwWmlBb2NtVjJaWEp6WlNrZ2UxeHVJQ0FnSUhKbGRIVnliaUJqY25Rb2NHRmtaR1ZrVFhObkxDQnJaWGtwTzF4dUlDQjlJR1ZzYzJVZ2UxeHVJQ0FnSUhKbGRIVnliaUIzYVhSb1VIVmliR2xqS0hCaFpHUmxaRTF6Wnl3Z2EyVjVLVHRjYmlBZ2ZWeHVmVHRjYmx4dVpuVnVZM1JwYjI0Z2IyRmxjQ2hyWlhrc0lHMXpaeWw3WEc0Z0lIWmhjaUJySUQwZ2EyVjVMbTF2WkhWc2RYTXVZbmwwWlV4bGJtZDBhQ2dwTzF4dUlDQjJZWElnYlV4bGJpQTlJRzF6Wnk1c1pXNW5kR2c3WEc0Z0lIWmhjaUJwU0dGemFDQTlJR055WldGMFpVaGhjMmdvSjNOb1lURW5LUzUxY0dSaGRHVW9ibVYzSUVKMVptWmxjaWduSnlrcExtUnBaMlZ6ZENncE8xeHVJQ0IyWVhJZ2FFeGxiaUE5SUdsSVlYTm9MbXhsYm1kMGFEdGNiaUFnZG1GeUlHaE1aVzR5SUQwZ01pQXFJR2hNWlc0N1hHNGdJR2xtSUNodFRHVnVJRDRnYXlBdElHaE1aVzR5SUMwZ01pa2dlMXh1SUNBZ0lIUm9jbTkzSUc1bGR5QkZjbkp2Y2lnbmJXVnpjMkZuWlNCMGIyOGdiRzl1WnljcE8xeHVJQ0I5WEc0Z0lIWmhjaUJ3Y3lBOUlHNWxkeUJDZFdabVpYSW9heUF0SUcxTVpXNGdMU0JvVEdWdU1pQXRJRElwTzF4dUlDQndjeTVtYVd4c0tEQXBPMXh1SUNCMllYSWdaR0pzWlc0Z1BTQnJJQzBnYUV4bGJpQXRJREU3WEc0Z0lIWmhjaUJ6WldWa0lEMGdjbUZ1Wkc5dFFubDBaWE1vYUV4bGJpazdYRzRnSUhaaGNpQnRZWE5yWldSRVlpQTlJSGh2Y2loQ2RXWm1aWEl1WTI5dVkyRjBLRnRwU0dGemFDd2djSE1zSUc1bGR5QkNkV1ptWlhJb1d6RmRLU3dnYlhOblhTd2daR0pzWlc0cExDQnRaMllvYzJWbFpDd2daR0pzWlc0cEtUdGNiaUFnZG1GeUlHMWhjMnRsWkZObFpXUWdQU0I0YjNJb2MyVmxaQ3dnYldkbUtHMWhjMnRsWkVSaUxDQm9UR1Z1S1NrN1hHNGdJSEpsZEhWeWJpQnVaWGNnWW00b1FuVm1abVZ5TG1OdmJtTmhkQ2hiYm1WM0lFSjFabVpsY2loYk1GMHBMQ0J0WVhOclpXUlRaV1ZrTENCdFlYTnJaV1JFWWwwc0lHc3BLVHRjYm4xY2JtWjFibU4wYVc5dUlIQnJZM014S0d0bGVTd2diWE5uTENCeVpYWmxjbk5sS1h0Y2JpQWdkbUZ5SUcxTVpXNGdQU0J0YzJjdWJHVnVaM1JvTzF4dUlDQjJZWElnYXlBOUlHdGxlUzV0YjJSMWJIVnpMbUo1ZEdWTVpXNW5kR2dvS1R0Y2JpQWdhV1lnS0cxTVpXNGdQaUJySUMwZ01URXBJSHRjYmlBZ0lDQjBhSEp2ZHlCdVpYY2dSWEp5YjNJb0oyMWxjM05oWjJVZ2RHOXZJR3h2Ym1jbktUdGNiaUFnZlZ4dUlDQjJZWElnY0hNN1hHNGdJR2xtSUNoeVpYWmxjbk5sS1NCN1hHNGdJQ0FnY0hNZ1BTQnVaWGNnUW5WbVptVnlLR3NnTFNCdFRHVnVJQzBnTXlrN1hHNGdJQ0FnY0hNdVptbHNiQ2d3ZUdabUtUdGNiaUFnZlNCbGJITmxJSHRjYmlBZ0lDQndjeUE5SUc1dmJscGxjbThvYXlBdElHMU1aVzRnTFNBektUdGNiaUFnZlZ4dUlDQnlaWFIxY200Z2JtVjNJR0p1S0VKMVptWmxjaTVqYjI1allYUW9XMjVsZHlCQ2RXWm1aWElvV3pBc0lISmxkbVZ5YzJVL01Ub3lYU2tzSUhCekxDQnVaWGNnUW5WbVptVnlLRnN3WFNrc0lHMXpaMTBzSUdzcEtUdGNibjFjYm1aMWJtTjBhVzl1SUc1dmJscGxjbThvYkdWdUxDQmpjbmx3ZEc4cElIdGNiaUFnZG1GeUlHOTFkQ0E5SUc1bGR5QkNkV1ptWlhJb2JHVnVLVHRjYmlBZ2RtRnlJR2tnUFNBd08xeHVJQ0IyWVhJZ1kyRmphR1VnUFNCeVlXNWtiMjFDZVhSbGN5aHNaVzRxTWlrN1hHNGdJSFpoY2lCamRYSWdQU0F3TzF4dUlDQjJZWElnYm5WdE8xeHVJQ0IzYUdsc1pTQW9hU0E4SUd4bGJpa2dlMXh1SUNBZ0lHbG1JQ2hqZFhJZ1BUMDlJR05oWTJobExteGxibWQwYUNrZ2UxeHVJQ0FnSUNBZ1kyRmphR1VnUFNCeVlXNWtiMjFDZVhSbGN5aHNaVzRxTWlrN1hHNGdJQ0FnSUNCamRYSWdQU0F3TzF4dUlDQWdJSDFjYmlBZ0lDQnVkVzBnUFNCallXTm9aVnRqZFhJcksxMDdYRzRnSUNBZ2FXWWdLRzUxYlNrZ2UxeHVJQ0FnSUNBZ2IzVjBXMmtySzEwZ1BTQnVkVzA3WEc0Z0lDQWdmVnh1SUNCOVhHNGdJSEpsZEhWeWJpQnZkWFE3WEc1OUlsMTkiLCIoZnVuY3Rpb24gKEJ1ZmZlcil7XG52YXIgcGFyc2VLZXlzID0gcmVxdWlyZSgncGFyc2UtYXNuMScpO1xudmFyIG1nZiA9IHJlcXVpcmUoJy4vbWdmJyk7XG52YXIgeG9yID0gcmVxdWlyZSgnLi94b3InKTtcbnZhciBibiA9IHJlcXVpcmUoJ2JuLmpzJyk7XG52YXIgY3J0ID0gcmVxdWlyZSgnYnJvd3NlcmlmeS1yc2EnKTtcbnZhciBjcmVhdGVIYXNoID0gcmVxdWlyZSgnY3JlYXRlLWhhc2gnKTtcbnZhciB3aXRoUHVibGljID0gcmVxdWlyZSgnLi93aXRoUHVibGljJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHByaXZhdGVEZWNyeXB0KHByaXZhdGVfa2V5LCBlbmMsIHJldmVyc2UpIHtcbiAgdmFyIHBhZGRpbmc7XG4gIGlmIChwcml2YXRlX2tleS5wYWRkaW5nKSB7XG4gICAgcGFkZGluZyA9IHByaXZhdGVfa2V5LnBhZGRpbmc7XG4gIH0gZWxzZSBpZiAocmV2ZXJzZSkge1xuICAgIHBhZGRpbmcgPSAxO1xuICB9IGVsc2Uge1xuICAgIHBhZGRpbmcgPSA0O1xuICB9XG4gIFxuICB2YXIga2V5ID0gcGFyc2VLZXlzKHByaXZhdGVfa2V5KTtcbiAgdmFyIGsgPSBrZXkubW9kdWx1cy5ieXRlTGVuZ3RoKCk7XG4gIGlmIChlbmMubGVuZ3RoID4gayB8fCBuZXcgYm4oZW5jKS5jbXAoa2V5Lm1vZHVsdXMpID49IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2RlY3J5cHRpb24gZXJyb3InKTtcbiAgfVxuICB2YXIgbXNnO1xuICBpZiAocmV2ZXJzZSkge1xuICAgIG1zZyA9IHdpdGhQdWJsaWMobmV3IGJuKGVuYyksIGtleSk7XG4gIH0gZWxzZSB7XG4gICAgbXNnID0gY3J0KGVuYywga2V5KTtcbiAgfVxuICB2YXIgekJ1ZmZlciA9IG5ldyBCdWZmZXIoayAtIG1zZy5sZW5ndGgpO1xuICB6QnVmZmVyLmZpbGwoMCk7XG4gIG1zZyA9IEJ1ZmZlci5jb25jYXQoW3pCdWZmZXIsIG1zZ10sIGspO1xuICBpZiAocGFkZGluZyA9PT0gNCkge1xuICAgIHJldHVybiBvYWVwKGtleSwgbXNnKTtcbiAgfSBlbHNlIGlmIChwYWRkaW5nID09PSAxKSB7XG4gICAgcmV0dXJuIHBrY3MxKGtleSwgbXNnLCByZXZlcnNlKTtcbiAgfSBlbHNlIGlmIChwYWRkaW5nID09PSAzKSB7XG4gICAgcmV0dXJuIG1zZztcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gcGFkZGluZycpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBvYWVwKGtleSwgbXNnKXtcbiAgdmFyIG4gPSBrZXkubW9kdWx1cztcbiAgdmFyIGsgPSBrZXkubW9kdWx1cy5ieXRlTGVuZ3RoKCk7XG4gIHZhciBtTGVuID0gbXNnLmxlbmd0aDtcbiAgdmFyIGlIYXNoID0gY3JlYXRlSGFzaCgnc2hhMScpLnVwZGF0ZShuZXcgQnVmZmVyKCcnKSkuZGlnZXN0KCk7XG4gIHZhciBoTGVuID0gaUhhc2gubGVuZ3RoO1xuICB2YXIgaExlbjIgPSAyICogaExlbjtcbiAgaWYgKG1zZ1swXSAhPT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignZGVjcnlwdGlvbiBlcnJvcicpO1xuICB9XG4gIHZhciBtYXNrZWRTZWVkID0gbXNnLnNsaWNlKDEsIGhMZW4gKyAxKTtcbiAgdmFyIG1hc2tlZERiID0gIG1zZy5zbGljZShoTGVuICsgMSk7XG4gIHZhciBzZWVkID0geG9yKG1hc2tlZFNlZWQsIG1nZihtYXNrZWREYiwgaExlbikpO1xuICB2YXIgZGIgPSB4b3IobWFza2VkRGIsIG1nZihzZWVkLCBrIC0gaExlbiAtIDEpKTtcbiAgaWYgKGNvbXBhcmUoaUhhc2gsIGRiLnNsaWNlKDAsIGhMZW4pKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignZGVjcnlwdGlvbiBlcnJvcicpO1xuICB9XG4gIHZhciBpID0gaExlbjtcbiAgd2hpbGUgKGRiW2ldID09PSAwKSB7XG4gICAgaSsrO1xuICB9XG4gIGlmIChkYltpKytdICE9PSAxKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdkZWNyeXB0aW9uIGVycm9yJyk7XG4gIH1cbiAgcmV0dXJuIGRiLnNsaWNlKGkpO1xufVxuXG5mdW5jdGlvbiBwa2NzMShrZXksIG1zZywgcmV2ZXJzZSl7XG4gIHZhciBwMSA9IG1zZy5zbGljZSgwLCAyKTtcbiAgdmFyIGkgPSAyO1xuICB2YXIgc3RhdHVzID0gMDtcbiAgd2hpbGUgKG1zZ1tpKytdICE9PSAwKSB7XG4gICAgaWYgKGkgPj0gbXNnLmxlbmd0aCkge1xuICAgICAgc3RhdHVzKys7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgdmFyIHBzID0gbXNnLnNsaWNlKDIsIGkgLSAxKTtcbiAgdmFyIHAyID0gbXNnLnNsaWNlKGkgLSAxLCBpKTtcblxuICBpZiAoKHAxLnRvU3RyaW5nKCdoZXgnKSAhPT0gJzAwMDInICYmICFyZXZlcnNlKSB8fCAocDEudG9TdHJpbmcoJ2hleCcpICE9PSAnMDAwMScgJiYgcmV2ZXJzZSkpe1xuICAgIHN0YXR1cysrO1xuICB9XG4gIGlmIChwcy5sZW5ndGggPCA4KSB7XG4gICAgc3RhdHVzKys7XG4gIH1cbiAgaWYgKHN0YXR1cykge1xuICAgIHRocm93IG5ldyBFcnJvcignZGVjcnlwdGlvbiBlcnJvcicpO1xuICB9XG4gIHJldHVybiAgbXNnLnNsaWNlKGkpO1xufVxuZnVuY3Rpb24gY29tcGFyZShhLCBiKXtcbiAgYSA9IG5ldyBCdWZmZXIoYSk7XG4gIGIgPSBuZXcgQnVmZmVyKGIpO1xuICB2YXIgZGlmID0gMDtcbiAgdmFyIGxlbiA9IGEubGVuZ3RoO1xuICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgZGlmKys7XG4gICAgbGVuID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKTtcbiAgfVxuICB2YXIgaSA9IC0xO1xuICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgZGlmICs9IChhW2ldIF4gYltpXSk7XG4gIH1cbiAgcmV0dXJuIGRpZjtcbn1cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12Y0hWaWJHbGpMV1Z1WTNKNWNIUXZjSEpwZG1GMFpVUmxZM0o1Y0hRdWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqdEJRVUZCTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFTSXNJbVpwYkdVaU9pSm5aVzVsY21GMFpXUXVhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpZG1GeUlIQmhjbk5sUzJWNWN5QTlJSEpsY1hWcGNtVW9KM0JoY25ObExXRnpiakVuS1R0Y2JuWmhjaUJ0WjJZZ1BTQnlaWEYxYVhKbEtDY3VMMjFuWmljcE8xeHVkbUZ5SUhodmNpQTlJSEpsY1hWcGNtVW9KeTR2ZUc5eUp5azdYRzUyWVhJZ1ltNGdQU0J5WlhGMWFYSmxLQ2RpYmk1cWN5Y3BPMXh1ZG1GeUlHTnlkQ0E5SUhKbGNYVnBjbVVvSjJKeWIzZHpaWEpwWm5rdGNuTmhKeWs3WEc1MllYSWdZM0psWVhSbFNHRnphQ0E5SUhKbGNYVnBjbVVvSjJOeVpXRjBaUzFvWVhOb0p5azdYRzUyWVhJZ2QybDBhRkIxWW14cFl5QTlJSEpsY1hWcGNtVW9KeTR2ZDJsMGFGQjFZbXhwWXljcE8xeHViVzlrZFd4bExtVjRjRzl5ZEhNZ1BTQm1kVzVqZEdsdmJpQndjbWwyWVhSbFJHVmpjbmx3ZENod2NtbDJZWFJsWDJ0bGVTd2daVzVqTENCeVpYWmxjbk5sS1NCN1hHNGdJSFpoY2lCd1lXUmthVzVuTzF4dUlDQnBaaUFvY0hKcGRtRjBaVjlyWlhrdWNHRmtaR2x1WnlrZ2UxeHVJQ0FnSUhCaFpHUnBibWNnUFNCd2NtbDJZWFJsWDJ0bGVTNXdZV1JrYVc1bk8xeHVJQ0I5SUdWc2MyVWdhV1lnS0hKbGRtVnljMlVwSUh0Y2JpQWdJQ0J3WVdSa2FXNW5JRDBnTVR0Y2JpQWdmU0JsYkhObElIdGNiaUFnSUNCd1lXUmthVzVuSUQwZ05EdGNiaUFnZlZ4dUlDQmNiaUFnZG1GeUlHdGxlU0E5SUhCaGNuTmxTMlY1Y3lod2NtbDJZWFJsWDJ0bGVTazdYRzRnSUhaaGNpQnJJRDBnYTJWNUxtMXZaSFZzZFhNdVlubDBaVXhsYm1kMGFDZ3BPMXh1SUNCcFppQW9aVzVqTG14bGJtZDBhQ0ErSUdzZ2ZId2dibVYzSUdKdUtHVnVZeWt1WTIxd0tHdGxlUzV0YjJSMWJIVnpLU0ErUFNBd0tTQjdYRzRnSUNBZ2RHaHliM2NnYm1WM0lFVnljbTl5S0Nka1pXTnllWEIwYVc5dUlHVnljbTl5SnlrN1hHNGdJSDFjYmlBZ2RtRnlJRzF6Wnp0Y2JpQWdhV1lnS0hKbGRtVnljMlVwSUh0Y2JpQWdJQ0J0YzJjZ1BTQjNhWFJvVUhWaWJHbGpLRzVsZHlCaWJpaGxibU1wTENCclpYa3BPMXh1SUNCOUlHVnNjMlVnZTF4dUlDQWdJRzF6WnlBOUlHTnlkQ2hsYm1Nc0lHdGxlU2s3WEc0Z0lIMWNiaUFnZG1GeUlIcENkV1ptWlhJZ1BTQnVaWGNnUW5WbVptVnlLR3NnTFNCdGMyY3ViR1Z1WjNSb0tUdGNiaUFnZWtKMVptWmxjaTVtYVd4c0tEQXBPMXh1SUNCdGMyY2dQU0JDZFdabVpYSXVZMjl1WTJGMEtGdDZRblZtWm1WeUxDQnRjMmRkTENCcktUdGNiaUFnYVdZZ0tIQmhaR1JwYm1jZ1BUMDlJRFFwSUh0Y2JpQWdJQ0J5WlhSMWNtNGdiMkZsY0NoclpYa3NJRzF6WnlrN1hHNGdJSDBnWld4elpTQnBaaUFvY0dGa1pHbHVaeUE5UFQwZ01Ta2dlMXh1SUNBZ0lISmxkSFZ5YmlCd2EyTnpNU2hyWlhrc0lHMXpaeXdnY21WMlpYSnpaU2s3WEc0Z0lIMGdaV3h6WlNCcFppQW9jR0ZrWkdsdVp5QTlQVDBnTXlrZ2UxeHVJQ0FnSUhKbGRIVnliaUJ0YzJjN1hHNGdJSDBnWld4elpTQjdYRzRnSUNBZ2RHaHliM2NnYm1WM0lFVnljbTl5S0NkMWJtdHViM2R1SUhCaFpHUnBibWNuS1R0Y2JpQWdmVnh1ZlR0Y2JseHVablZ1WTNScGIyNGdiMkZsY0NoclpYa3NJRzF6WnlsN1hHNGdJSFpoY2lCdUlEMGdhMlY1TG0xdlpIVnNkWE03WEc0Z0lIWmhjaUJySUQwZ2EyVjVMbTF2WkhWc2RYTXVZbmwwWlV4bGJtZDBhQ2dwTzF4dUlDQjJZWElnYlV4bGJpQTlJRzF6Wnk1c1pXNW5kR2c3WEc0Z0lIWmhjaUJwU0dGemFDQTlJR055WldGMFpVaGhjMmdvSjNOb1lURW5LUzUxY0dSaGRHVW9ibVYzSUVKMVptWmxjaWduSnlrcExtUnBaMlZ6ZENncE8xeHVJQ0IyWVhJZ2FFeGxiaUE5SUdsSVlYTm9MbXhsYm1kMGFEdGNiaUFnZG1GeUlHaE1aVzR5SUQwZ01pQXFJR2hNWlc0N1hHNGdJR2xtSUNodGMyZGJNRjBnSVQwOUlEQXBJSHRjYmlBZ0lDQjBhSEp2ZHlCdVpYY2dSWEp5YjNJb0oyUmxZM0o1Y0hScGIyNGdaWEp5YjNJbktUdGNiaUFnZlZ4dUlDQjJZWElnYldGemEyVmtVMlZsWkNBOUlHMXpaeTV6YkdsalpTZ3hMQ0JvVEdWdUlDc2dNU2s3WEc0Z0lIWmhjaUJ0WVhOclpXUkVZaUE5SUNCdGMyY3VjMnhwWTJVb2FFeGxiaUFySURFcE8xeHVJQ0IyWVhJZ2MyVmxaQ0E5SUhodmNpaHRZWE5yWldSVFpXVmtMQ0J0WjJZb2JXRnphMlZrUkdJc0lHaE1aVzRwS1R0Y2JpQWdkbUZ5SUdSaUlEMGdlRzl5S0cxaGMydGxaRVJpTENCdFoyWW9jMlZsWkN3Z2F5QXRJR2hNWlc0Z0xTQXhLU2s3WEc0Z0lHbG1JQ2hqYjIxd1lYSmxLR2xJWVhOb0xDQmtZaTV6YkdsalpTZ3dMQ0JvVEdWdUtTa3BJSHRjYmlBZ0lDQjBhSEp2ZHlCdVpYY2dSWEp5YjNJb0oyUmxZM0o1Y0hScGIyNGdaWEp5YjNJbktUdGNiaUFnZlZ4dUlDQjJZWElnYVNBOUlHaE1aVzQ3WEc0Z0lIZG9hV3hsSUNoa1lsdHBYU0E5UFQwZ01Da2dlMXh1SUNBZ0lHa3JLenRjYmlBZ2ZWeHVJQ0JwWmlBb1pHSmJhU3NyWFNBaFBUMGdNU2tnZTF4dUlDQWdJSFJvY205M0lHNWxkeUJGY25KdmNpZ25aR1ZqY25sd2RHbHZiaUJsY25KdmNpY3BPMXh1SUNCOVhHNGdJSEpsZEhWeWJpQmtZaTV6YkdsalpTaHBLVHRjYm4xY2JseHVablZ1WTNScGIyNGdjR3RqY3pFb2EyVjVMQ0J0YzJjc0lISmxkbVZ5YzJVcGUxeHVJQ0IyWVhJZ2NERWdQU0J0YzJjdWMyeHBZMlVvTUN3Z01pazdYRzRnSUhaaGNpQnBJRDBnTWp0Y2JpQWdkbUZ5SUhOMFlYUjFjeUE5SURBN1hHNGdJSGRvYVd4bElDaHRjMmRiYVNzclhTQWhQVDBnTUNrZ2UxeHVJQ0FnSUdsbUlDaHBJRDQ5SUcxelp5NXNaVzVuZEdncElIdGNiaUFnSUNBZ0lITjBZWFIxY3lzck8xeHVJQ0FnSUNBZ1luSmxZV3M3WEc0Z0lDQWdmVnh1SUNCOVhHNGdJSFpoY2lCd2N5QTlJRzF6Wnk1emJHbGpaU2d5TENCcElDMGdNU2s3WEc0Z0lIWmhjaUJ3TWlBOUlHMXpaeTV6YkdsalpTaHBJQzBnTVN3Z2FTazdYRzVjYmlBZ2FXWWdLQ2h3TVM1MGIxTjBjbWx1WnlnbmFHVjRKeWtnSVQwOUlDY3dNREF5SnlBbUppQWhjbVYyWlhKelpTa2dmSHdnS0hBeExuUnZVM1J5YVc1bktDZG9aWGduS1NBaFBUMGdKekF3TURFbklDWW1JSEpsZG1WeWMyVXBLWHRjYmlBZ0lDQnpkR0YwZFhNckt6dGNiaUFnZlZ4dUlDQnBaaUFvY0hNdWJHVnVaM1JvSUR3Z09Da2dlMXh1SUNBZ0lITjBZWFIxY3lzck8xeHVJQ0I5WEc0Z0lHbG1JQ2h6ZEdGMGRYTXBJSHRjYmlBZ0lDQjBhSEp2ZHlCdVpYY2dSWEp5YjNJb0oyUmxZM0o1Y0hScGIyNGdaWEp5YjNJbktUdGNiaUFnZlZ4dUlDQnlaWFIxY200Z0lHMXpaeTV6YkdsalpTaHBLVHRjYm4xY2JtWjFibU4wYVc5dUlHTnZiWEJoY21Vb1lTd2dZaWw3WEc0Z0lHRWdQU0J1WlhjZ1FuVm1abVZ5S0dFcE8xeHVJQ0JpSUQwZ2JtVjNJRUoxWm1abGNpaGlLVHRjYmlBZ2RtRnlJR1JwWmlBOUlEQTdYRzRnSUhaaGNpQnNaVzRnUFNCaExteGxibWQwYUR0Y2JpQWdhV1lnS0dFdWJHVnVaM1JvSUNFOVBTQmlMbXhsYm1kMGFDa2dlMXh1SUNBZ0lHUnBaaXNyTzF4dUlDQWdJR3hsYmlBOUlFMWhkR2d1YldsdUtHRXViR1Z1WjNSb0xDQmlMbXhsYm1kMGFDazdYRzRnSUgxY2JpQWdkbUZ5SUdrZ1BTQXRNVHRjYmlBZ2QyaHBiR1VnS0NzcmFTQThJR3hsYmlrZ2UxeHVJQ0FnSUdScFppQXJQU0FvWVZ0cFhTQmVJR0piYVYwcE8xeHVJQ0I5WEc0Z0lISmxkSFZ5YmlCa2FXWTdYRzU5SWwxOSIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24geG9yKGEsIGIpIHtcbiAgdmFyIGxlbiA9IGEubGVuZ3RoO1xuICB2YXIgaSA9IC0xO1xuICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgYVtpXSBePSBiW2ldO1xuICB9XG4gIHJldHVybiBhXG59OyIsIihmdW5jdGlvbiAoQnVmZmVyKXtcbnZhciBibiA9IHJlcXVpcmUoJ2JuLmpzJyk7XG5mdW5jdGlvbiB3aXRoUHVibGljKHBhZGRlZE1zZywga2V5KSB7XG4gIHJldHVybiBuZXcgQnVmZmVyKHBhZGRlZE1zZ1xuICAgIC50b1JlZChibi5tb250KGtleS5tb2R1bHVzKSlcbiAgICAucmVkUG93KG5ldyBibihrZXkucHVibGljRXhwb25lbnQpKVxuICAgIC5mcm9tUmVkKClcbiAgICAudG9BcnJheSgpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3aXRoUHVibGljO1xufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZjSFZpYkdsakxXVnVZM0o1Y0hRdmQybDBhRkIxWW14cFl5NXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPMEZCUVVFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFaUxDSm1hV3hsSWpvaVoyVnVaWEpoZEdWa0xtcHpJaXdpYzI5MWNtTmxVbTl2ZENJNklpSXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJblpoY2lCaWJpQTlJSEpsY1hWcGNtVW9KMkp1TG1wekp5azdYRzVtZFc1amRHbHZiaUIzYVhSb1VIVmliR2xqS0hCaFpHUmxaRTF6Wnl3Z2EyVjVLU0I3WEc0Z0lISmxkSFZ5YmlCdVpYY2dRblZtWm1WeUtIQmhaR1JsWkUxeloxeHVJQ0FnSUM1MGIxSmxaQ2hpYmk1dGIyNTBLR3RsZVM1dGIyUjFiSFZ6S1NsY2JpQWdJQ0F1Y21Wa1VHOTNLRzVsZHlCaWJpaHJaWGt1Y0hWaWJHbGpSWGh3YjI1bGJuUXBLVnh1SUNBZ0lDNW1jbTl0VW1Wa0tDbGNiaUFnSUNBdWRHOUJjbkpoZVNncEtUdGNibjFjYmx4dWJXOWtkV3hsTG1WNGNHOXlkSE1nUFNCM2FYUm9VSFZpYkdsak95SmRmUT09IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xudmFyIGFzbjEgPSByZXF1aXJlKCcuL2FzbjEnKVxudmFyIGFlc2lkID0gcmVxdWlyZSgnLi9hZXNpZC5qc29uJylcbnZhciBmaXhQcm9jID0gcmVxdWlyZSgnLi9maXhQcm9jJylcbnZhciBjaXBoZXJzID0gcmVxdWlyZSgnYnJvd3NlcmlmeS1hZXMnKVxudmFyIGNvbXBhdCA9IHJlcXVpcmUoJ3Bia2RmMicpXG5tb2R1bGUuZXhwb3J0cyA9IHBhcnNlS2V5c1xuXG5mdW5jdGlvbiBwYXJzZUtleXMgKGJ1ZmZlcikge1xuICB2YXIgcGFzc3dvcmRcbiAgaWYgKHR5cGVvZiBidWZmZXIgPT09ICdvYmplY3QnICYmICFCdWZmZXIuaXNCdWZmZXIoYnVmZmVyKSkge1xuICAgIHBhc3N3b3JkID0gYnVmZmVyLnBhc3NwaHJhc2VcbiAgICBidWZmZXIgPSBidWZmZXIua2V5XG4gIH1cbiAgaWYgKHR5cGVvZiBidWZmZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgYnVmZmVyID0gbmV3IEJ1ZmZlcihidWZmZXIpXG4gIH1cblxuICB2YXIgc3RyaXBwZWQgPSBmaXhQcm9jKGJ1ZmZlciwgcGFzc3dvcmQpXG5cbiAgdmFyIHR5cGUgPSBzdHJpcHBlZC50YWdcbiAgdmFyIGRhdGEgPSBzdHJpcHBlZC5kYXRhXG4gIHZhciBzdWJ0eXBlLCBuZGF0YVxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICdQVUJMSUMgS0VZJzpcbiAgICAgIG5kYXRhID0gYXNuMS5QdWJsaWNLZXkuZGVjb2RlKGRhdGEsICdkZXInKVxuICAgICAgc3VidHlwZSA9IG5kYXRhLmFsZ29yaXRobS5hbGdvcml0aG0uam9pbignLicpXG4gICAgICBzd2l0Y2ggKHN1YnR5cGUpIHtcbiAgICAgICAgY2FzZSAnMS4yLjg0MC4xMTM1NDkuMS4xLjEnOlxuICAgICAgICAgIHJldHVybiBhc24xLlJTQVB1YmxpY0tleS5kZWNvZGUobmRhdGEuc3ViamVjdFB1YmxpY0tleS5kYXRhLCAnZGVyJylcbiAgICAgICAgY2FzZSAnMS4yLjg0MC4xMDA0NS4yLjEnOlxuICAgICAgICAgIG5kYXRhLnN1YmplY3RQcml2YXRlS2V5ID0gbmRhdGEuc3ViamVjdFB1YmxpY0tleVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnZWMnLFxuICAgICAgICAgICAgZGF0YTogbmRhdGFcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJzEuMi44NDAuMTAwNDAuNC4xJzpcbiAgICAgICAgICBuZGF0YS5hbGdvcml0aG0ucGFyYW1zLnB1Yl9rZXkgPSBhc24xLkRTQXBhcmFtLmRlY29kZShuZGF0YS5zdWJqZWN0UHVibGljS2V5LmRhdGEsICdkZXInKVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiAnZHNhJyxcbiAgICAgICAgICAgIGRhdGE6IG5kYXRhLmFsZ29yaXRobS5wYXJhbXNcbiAgICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcigndW5rbm93biBrZXkgaWQgJyArIHN1YnR5cGUpXG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24ga2V5IHR5cGUgJyArIHR5cGUpXG4gICAgY2FzZSAnRU5DUllQVEVEIFBSSVZBVEUgS0VZJzpcbiAgICAgIGRhdGEgPSBhc24xLkVuY3J5cHRlZFByaXZhdGVLZXkuZGVjb2RlKGRhdGEsICdkZXInKVxuICAgICAgZGF0YSA9IGRlY3J5cHQoZGF0YSwgcGFzc3dvcmQpXG4gICAgICAvLyBmYWxscyB0aHJvdWdoXG4gICAgY2FzZSAnUFJJVkFURSBLRVknOlxuICAgICAgbmRhdGEgPSBhc24xLlByaXZhdGVLZXkuZGVjb2RlKGRhdGEsICdkZXInKVxuICAgICAgc3VidHlwZSA9IG5kYXRhLmFsZ29yaXRobS5hbGdvcml0aG0uam9pbignLicpXG4gICAgICBzd2l0Y2ggKHN1YnR5cGUpIHtcbiAgICAgICAgY2FzZSAnMS4yLjg0MC4xMTM1NDkuMS4xLjEnOlxuICAgICAgICAgIHJldHVybiBhc24xLlJTQVByaXZhdGVLZXkuZGVjb2RlKG5kYXRhLnN1YmplY3RQcml2YXRlS2V5LCAnZGVyJylcbiAgICAgICAgY2FzZSAnMS4yLjg0MC4xMDA0NS4yLjEnOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjdXJ2ZTogbmRhdGEuYWxnb3JpdGhtLmN1cnZlLFxuICAgICAgICAgICAgcHJpdmF0ZUtleTogYXNuMS5FQ1ByaXZhdGVLZXkuZGVjb2RlKG5kYXRhLnN1YmplY3RQcml2YXRlS2V5LCAnZGVyJykucHJpdmF0ZUtleVxuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAnMS4yLjg0MC4xMDA0MC40LjEnOlxuICAgICAgICAgIG5kYXRhLmFsZ29yaXRobS5wYXJhbXMucHJpdl9rZXkgPSBhc24xLkRTQXBhcmFtLmRlY29kZShuZGF0YS5zdWJqZWN0UHJpdmF0ZUtleSwgJ2RlcicpXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdkc2EnLFxuICAgICAgICAgICAgcGFyYW1zOiBuZGF0YS5hbGdvcml0aG0ucGFyYW1zXG4gICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24ga2V5IGlkICcgKyBzdWJ0eXBlKVxuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGtleSB0eXBlICcgKyB0eXBlKVxuICAgIGNhc2UgJ1JTQSBQVUJMSUMgS0VZJzpcbiAgICAgIHJldHVybiBhc24xLlJTQVB1YmxpY0tleS5kZWNvZGUoZGF0YSwgJ2RlcicpXG4gICAgY2FzZSAnUlNBIFBSSVZBVEUgS0VZJzpcbiAgICAgIHJldHVybiBhc24xLlJTQVByaXZhdGVLZXkuZGVjb2RlKGRhdGEsICdkZXInKVxuICAgIGNhc2UgJ0RTQSBQUklWQVRFIEtFWSc6XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiAnZHNhJyxcbiAgICAgICAgcGFyYW1zOiBhc24xLkRTQVByaXZhdGVLZXkuZGVjb2RlKGRhdGEsICdkZXInKVxuICAgICAgfVxuICAgIGNhc2UgJ0VDIFBSSVZBVEUgS0VZJzpcbiAgICAgIGRhdGEgPSBhc24xLkVDUHJpdmF0ZUtleS5kZWNvZGUoZGF0YSwgJ2RlcicpXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjdXJ2ZTogZGF0YS5wYXJhbWV0ZXJzLnZhbHVlLFxuICAgICAgICBwcml2YXRlS2V5OiBkYXRhLnByaXZhdGVLZXlcbiAgICAgIH1cbiAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24ga2V5IHR5cGUgJyArIHR5cGUpXG4gIH1cbn1cbnBhcnNlS2V5cy5zaWduYXR1cmUgPSBhc24xLnNpZ25hdHVyZVxuZnVuY3Rpb24gZGVjcnlwdCAoZGF0YSwgcGFzc3dvcmQpIHtcbiAgdmFyIHNhbHQgPSBkYXRhLmFsZ29yaXRobS5kZWNyeXB0LmtkZS5rZGVwYXJhbXMuc2FsdFxuICB2YXIgaXRlcnMgPSBwYXJzZUludChkYXRhLmFsZ29yaXRobS5kZWNyeXB0LmtkZS5rZGVwYXJhbXMuaXRlcnMudG9TdHJpbmcoKSwgMTApXG4gIHZhciBhbGdvID0gYWVzaWRbZGF0YS5hbGdvcml0aG0uZGVjcnlwdC5jaXBoZXIuYWxnby5qb2luKCcuJyldXG4gIHZhciBpdiA9IGRhdGEuYWxnb3JpdGhtLmRlY3J5cHQuY2lwaGVyLml2XG4gIHZhciBjaXBoZXJUZXh0ID0gZGF0YS5zdWJqZWN0UHJpdmF0ZUtleVxuICB2YXIga2V5bGVuID0gcGFyc2VJbnQoYWxnby5zcGxpdCgnLScpWzFdLCAxMCkgLyA4XG4gIHZhciBrZXkgPSBjb21wYXQucGJrZGYyU3luYyhwYXNzd29yZCwgc2FsdCwgaXRlcnMsIGtleWxlbilcbiAgdmFyIGNpcGhlciA9IGNpcGhlcnMuY3JlYXRlRGVjaXBoZXJpdihhbGdvLCBrZXksIGl2KVxuICB2YXIgb3V0ID0gW11cbiAgb3V0LnB1c2goY2lwaGVyLnVwZGF0ZShjaXBoZXJUZXh0KSlcbiAgb3V0LnB1c2goY2lwaGVyLmZpbmFsKCkpXG4gIHJldHVybiBCdWZmZXIuY29uY2F0KG91dClcbn1cblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZjSFZpYkdsakxXVnVZM0o1Y0hRdmJtOWtaVjl0YjJSMWJHVnpMM0JoY25ObExXRnpiakV2YVc1a1pYZ3Vhbk1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJanRCUVVGQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFTSXNJbVpwYkdVaU9pSm5aVzVsY21GMFpXUXVhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpZG1GeUlHRnpiakVnUFNCeVpYRjFhWEpsS0NjdUwyRnpiakVuS1Z4dWRtRnlJR0ZsYzJsa0lEMGdjbVZ4ZFdseVpTZ25MaTloWlhOcFpDNXFjMjl1SnlsY2JuWmhjaUJtYVhoUWNtOWpJRDBnY21WeGRXbHlaU2duTGk5bWFYaFFjbTlqSnlsY2JuWmhjaUJqYVhCb1pYSnpJRDBnY21WeGRXbHlaU2duWW5KdmQzTmxjbWxtZVMxaFpYTW5LVnh1ZG1GeUlHTnZiWEJoZENBOUlISmxjWFZwY21Vb0ozQmlhMlJtTWljcFhHNXRiMlIxYkdVdVpYaHdiM0owY3lBOUlIQmhjbk5sUzJWNWMxeHVYRzVtZFc1amRHbHZiaUJ3WVhKelpVdGxlWE1nS0dKMVptWmxjaWtnZTF4dUlDQjJZWElnY0dGemMzZHZjbVJjYmlBZ2FXWWdLSFI1Y0dWdlppQmlkV1ptWlhJZ1BUMDlJQ2R2WW1wbFkzUW5JQ1ltSUNGQ2RXWm1aWEl1YVhOQ2RXWm1aWElvWW5WbVptVnlLU2tnZTF4dUlDQWdJSEJoYzNOM2IzSmtJRDBnWW5WbVptVnlMbkJoYzNOd2FISmhjMlZjYmlBZ0lDQmlkV1ptWlhJZ1BTQmlkV1ptWlhJdWEyVjVYRzRnSUgxY2JpQWdhV1lnS0hSNWNHVnZaaUJpZFdabVpYSWdQVDA5SUNkemRISnBibWNuS1NCN1hHNGdJQ0FnWW5WbVptVnlJRDBnYm1WM0lFSjFabVpsY2loaWRXWm1aWElwWEc0Z0lIMWNibHh1SUNCMllYSWdjM1J5YVhCd1pXUWdQU0JtYVhoUWNtOWpLR0oxWm1abGNpd2djR0Z6YzNkdmNtUXBYRzVjYmlBZ2RtRnlJSFI1Y0dVZ1BTQnpkSEpwY0hCbFpDNTBZV2RjYmlBZ2RtRnlJR1JoZEdFZ1BTQnpkSEpwY0hCbFpDNWtZWFJoWEc0Z0lIWmhjaUJ6ZFdKMGVYQmxMQ0J1WkdGMFlWeHVJQ0J6ZDJsMFkyZ2dLSFI1Y0dVcElIdGNiaUFnSUNCallYTmxJQ2RRVlVKTVNVTWdTMFZaSnpwY2JpQWdJQ0FnSUc1a1lYUmhJRDBnWVhOdU1TNVFkV0pzYVdOTFpYa3VaR1ZqYjJSbEtHUmhkR0VzSUNka1pYSW5LVnh1SUNBZ0lDQWdjM1ZpZEhsd1pTQTlJRzVrWVhSaExtRnNaMjl5YVhSb2JTNWhiR2R2Y21sMGFHMHVhbTlwYmlnbkxpY3BYRzRnSUNBZ0lDQnpkMmwwWTJnZ0tITjFZblI1Y0dVcElIdGNiaUFnSUNBZ0lDQWdZMkZ6WlNBbk1TNHlMamcwTUM0eE1UTTFORGt1TVM0eExqRW5PbHh1SUNBZ0lDQWdJQ0FnSUhKbGRIVnliaUJoYzI0eExsSlRRVkIxWW14cFkwdGxlUzVrWldOdlpHVW9ibVJoZEdFdWMzVmlhbVZqZEZCMVlteHBZMHRsZVM1a1lYUmhMQ0FuWkdWeUp5bGNiaUFnSUNBZ0lDQWdZMkZ6WlNBbk1TNHlMamcwTUM0eE1EQTBOUzR5TGpFbk9seHVJQ0FnSUNBZ0lDQWdJRzVrWVhSaExuTjFZbXBsWTNSUWNtbDJZWFJsUzJWNUlEMGdibVJoZEdFdWMzVmlhbVZqZEZCMVlteHBZMHRsZVZ4dUlDQWdJQ0FnSUNBZ0lISmxkSFZ5YmlCN1hHNGdJQ0FnSUNBZ0lDQWdJQ0IwZVhCbE9pQW5aV01uTEZ4dUlDQWdJQ0FnSUNBZ0lDQWdaR0YwWVRvZ2JtUmhkR0ZjYmlBZ0lDQWdJQ0FnSUNCOVhHNGdJQ0FnSUNBZ0lHTmhjMlVnSnpFdU1pNDROREF1TVRBd05EQXVOQzR4SnpwY2JpQWdJQ0FnSUNBZ0lDQnVaR0YwWVM1aGJHZHZjbWwwYUcwdWNHRnlZVzF6TG5CMVlsOXJaWGtnUFNCaGMyNHhMa1JUUVhCaGNtRnRMbVJsWTI5a1pTaHVaR0YwWVM1emRXSnFaV04wVUhWaWJHbGpTMlY1TG1SaGRHRXNJQ2RrWlhJbktWeHVJQ0FnSUNBZ0lDQWdJSEpsZEhWeWJpQjdYRzRnSUNBZ0lDQWdJQ0FnSUNCMGVYQmxPaUFuWkhOaEp5eGNiaUFnSUNBZ0lDQWdJQ0FnSUdSaGRHRTZJRzVrWVhSaExtRnNaMjl5YVhSb2JTNXdZWEpoYlhOY2JpQWdJQ0FnSUNBZ0lDQjlYRzRnSUNBZ0lDQWdJR1JsWm1GMWJIUTZJSFJvY205M0lHNWxkeUJGY25KdmNpZ25kVzVyYm05M2JpQnJaWGtnYVdRZ0p5QXJJSE4xWW5SNWNHVXBYRzRnSUNBZ0lDQjlYRzRnSUNBZ0lDQjBhSEp2ZHlCdVpYY2dSWEp5YjNJb0ozVnVhMjV2ZDI0Z2EyVjVJSFI1Y0dVZ0p5QXJJSFI1Y0dVcFhHNGdJQ0FnWTJGelpTQW5SVTVEVWxsUVZFVkVJRkJTU1ZaQlZFVWdTMFZaSnpwY2JpQWdJQ0FnSUdSaGRHRWdQU0JoYzI0eExrVnVZM0o1Y0hSbFpGQnlhWFpoZEdWTFpYa3VaR1ZqYjJSbEtHUmhkR0VzSUNka1pYSW5LVnh1SUNBZ0lDQWdaR0YwWVNBOUlHUmxZM0o1Y0hRb1pHRjBZU3dnY0dGemMzZHZjbVFwWEc0Z0lDQWdJQ0F2THlCbVlXeHNjeUIwYUhKdmRXZG9YRzRnSUNBZ1kyRnpaU0FuVUZKSlZrRlVSU0JMUlZrbk9seHVJQ0FnSUNBZ2JtUmhkR0VnUFNCaGMyNHhMbEJ5YVhaaGRHVkxaWGt1WkdWamIyUmxLR1JoZEdFc0lDZGtaWEluS1Z4dUlDQWdJQ0FnYzNWaWRIbHdaU0E5SUc1a1lYUmhMbUZzWjI5eWFYUm9iUzVoYkdkdmNtbDBhRzB1YW05cGJpZ25MaWNwWEc0Z0lDQWdJQ0J6ZDJsMFkyZ2dLSE4xWW5SNWNHVXBJSHRjYmlBZ0lDQWdJQ0FnWTJGelpTQW5NUzR5TGpnME1DNHhNVE0xTkRrdU1TNHhMakVuT2x4dUlDQWdJQ0FnSUNBZ0lISmxkSFZ5YmlCaGMyNHhMbEpUUVZCeWFYWmhkR1ZMWlhrdVpHVmpiMlJsS0c1a1lYUmhMbk4xWW1wbFkzUlFjbWwyWVhSbFMyVjVMQ0FuWkdWeUp5bGNiaUFnSUNBZ0lDQWdZMkZ6WlNBbk1TNHlMamcwTUM0eE1EQTBOUzR5TGpFbk9seHVJQ0FnSUNBZ0lDQWdJSEpsZEhWeWJpQjdYRzRnSUNBZ0lDQWdJQ0FnSUNCamRYSjJaVG9nYm1SaGRHRXVZV3huYjNKcGRHaHRMbU4xY25abExGeHVJQ0FnSUNBZ0lDQWdJQ0FnY0hKcGRtRjBaVXRsZVRvZ1lYTnVNUzVGUTFCeWFYWmhkR1ZMWlhrdVpHVmpiMlJsS0c1a1lYUmhMbk4xWW1wbFkzUlFjbWwyWVhSbFMyVjVMQ0FuWkdWeUp5a3VjSEpwZG1GMFpVdGxlVnh1SUNBZ0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUNBZ1kyRnpaU0FuTVM0eUxqZzBNQzR4TURBME1DNDBMakVuT2x4dUlDQWdJQ0FnSUNBZ0lHNWtZWFJoTG1Gc1oyOXlhWFJvYlM1d1lYSmhiWE11Y0hKcGRsOXJaWGtnUFNCaGMyNHhMa1JUUVhCaGNtRnRMbVJsWTI5a1pTaHVaR0YwWVM1emRXSnFaV04wVUhKcGRtRjBaVXRsZVN3Z0oyUmxjaWNwWEc0Z0lDQWdJQ0FnSUNBZ2NtVjBkWEp1SUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJSFI1Y0dVNklDZGtjMkVuTEZ4dUlDQWdJQ0FnSUNBZ0lDQWdjR0Z5WVcxek9pQnVaR0YwWVM1aGJHZHZjbWwwYUcwdWNHRnlZVzF6WEc0Z0lDQWdJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ0lDQmtaV1poZFd4ME9pQjBhSEp2ZHlCdVpYY2dSWEp5YjNJb0ozVnVhMjV2ZDI0Z2EyVjVJR2xrSUNjZ0t5QnpkV0owZVhCbEtWeHVJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ2RHaHliM2NnYm1WM0lFVnljbTl5S0NkMWJtdHViM2R1SUd0bGVTQjBlWEJsSUNjZ0t5QjBlWEJsS1Z4dUlDQWdJR05oYzJVZ0oxSlRRU0JRVlVKTVNVTWdTMFZaSnpwY2JpQWdJQ0FnSUhKbGRIVnliaUJoYzI0eExsSlRRVkIxWW14cFkwdGxlUzVrWldOdlpHVW9aR0YwWVN3Z0oyUmxjaWNwWEc0Z0lDQWdZMkZ6WlNBblVsTkJJRkJTU1ZaQlZFVWdTMFZaSnpwY2JpQWdJQ0FnSUhKbGRIVnliaUJoYzI0eExsSlRRVkJ5YVhaaGRHVkxaWGt1WkdWamIyUmxLR1JoZEdFc0lDZGtaWEluS1Z4dUlDQWdJR05oYzJVZ0owUlRRU0JRVWtsV1FWUkZJRXRGV1NjNlhHNGdJQ0FnSUNCeVpYUjFjbTRnZTF4dUlDQWdJQ0FnSUNCMGVYQmxPaUFuWkhOaEp5eGNiaUFnSUNBZ0lDQWdjR0Z5WVcxek9pQmhjMjR4TGtSVFFWQnlhWFpoZEdWTFpYa3VaR1ZqYjJSbEtHUmhkR0VzSUNka1pYSW5LVnh1SUNBZ0lDQWdmVnh1SUNBZ0lHTmhjMlVnSjBWRElGQlNTVlpCVkVVZ1MwVlpKenBjYmlBZ0lDQWdJR1JoZEdFZ1BTQmhjMjR4TGtWRFVISnBkbUYwWlV0bGVTNWtaV052WkdVb1pHRjBZU3dnSjJSbGNpY3BYRzRnSUNBZ0lDQnlaWFIxY200Z2UxeHVJQ0FnSUNBZ0lDQmpkWEoyWlRvZ1pHRjBZUzV3WVhKaGJXVjBaWEp6TG5aaGJIVmxMRnh1SUNBZ0lDQWdJQ0J3Y21sMllYUmxTMlY1T2lCa1lYUmhMbkJ5YVhaaGRHVkxaWGxjYmlBZ0lDQWdJSDFjYmlBZ0lDQmtaV1poZFd4ME9pQjBhSEp2ZHlCdVpYY2dSWEp5YjNJb0ozVnVhMjV2ZDI0Z2EyVjVJSFI1Y0dVZ0p5QXJJSFI1Y0dVcFhHNGdJSDFjYm4xY2JuQmhjbk5sUzJWNWN5NXphV2R1WVhSMWNtVWdQU0JoYzI0eExuTnBaMjVoZEhWeVpWeHVablZ1WTNScGIyNGdaR1ZqY25sd2RDQW9aR0YwWVN3Z2NHRnpjM2R2Y21RcElIdGNiaUFnZG1GeUlITmhiSFFnUFNCa1lYUmhMbUZzWjI5eWFYUm9iUzVrWldOeWVYQjBMbXRrWlM1clpHVndZWEpoYlhNdWMyRnNkRnh1SUNCMllYSWdhWFJsY25NZ1BTQndZWEp6WlVsdWRDaGtZWFJoTG1Gc1oyOXlhWFJvYlM1a1pXTnllWEIwTG10a1pTNXJaR1Z3WVhKaGJYTXVhWFJsY25NdWRHOVRkSEpwYm1jb0tTd2dNVEFwWEc0Z0lIWmhjaUJoYkdkdklEMGdZV1Z6YVdSYlpHRjBZUzVoYkdkdmNtbDBhRzB1WkdWamNubHdkQzVqYVhCb1pYSXVZV3huYnk1cWIybHVLQ2N1SnlsZFhHNGdJSFpoY2lCcGRpQTlJR1JoZEdFdVlXeG5iM0pwZEdodExtUmxZM0o1Y0hRdVkybHdhR1Z5TG1sMlhHNGdJSFpoY2lCamFYQm9aWEpVWlhoMElEMGdaR0YwWVM1emRXSnFaV04wVUhKcGRtRjBaVXRsZVZ4dUlDQjJZWElnYTJWNWJHVnVJRDBnY0dGeWMyVkpiblFvWVd4bmJ5NXpjR3hwZENnbkxTY3BXekZkTENBeE1Da2dMeUE0WEc0Z0lIWmhjaUJyWlhrZ1BTQmpiMjF3WVhRdWNHSnJaR1l5VTNsdVl5aHdZWE56ZDI5eVpDd2djMkZzZEN3Z2FYUmxjbk1zSUd0bGVXeGxiaWxjYmlBZ2RtRnlJR05wY0dobGNpQTlJR05wY0dobGNuTXVZM0psWVhSbFJHVmphWEJvWlhKcGRpaGhiR2R2TENCclpYa3NJR2wyS1Z4dUlDQjJZWElnYjNWMElEMGdXMTFjYmlBZ2IzVjBMbkIxYzJnb1kybHdhR1Z5TG5Wd1pHRjBaU2hqYVhCb1pYSlVaWGgwS1NsY2JpQWdiM1YwTG5CMWMyZ29ZMmx3YUdWeUxtWnBibUZzS0NrcFhHNGdJSEpsZEhWeWJpQkNkV1ptWlhJdVkyOXVZMkYwS0c5MWRDbGNibjFjYmlKZGZRPT0iLCIoZnVuY3Rpb24gKEJ1ZmZlcil7XG4vLyBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2FwYXRpbC9wZW1zdHJpcFxudmFyIGZpbmRQcm9jID0gL1Byb2MtVHlwZTogNCxFTkNSWVBURURcXHI/XFxuREVLLUluZm86IEFFUy0oKD86MTI4KXwoPzoxOTIpfCg/OjI1NikpLUNCQywoWzAtOUEtSF0rKVxccj9cXG5cXHI/XFxuKFswLTlBLXpcXG5cXHJcXCtcXC9cXD1dKylcXHI/XFxuL21cbnZhciBzdGFydFJlZ2V4ID0gL14tLS0tLUJFR0lOICguKikgS0VZLS0tLS1cXHI/XFxuL21cbnZhciBmdWxsUmVnZXggPSAvXi0tLS0tQkVHSU4gKC4qKSBLRVktLS0tLVxccj9cXG4oWzAtOUEtelxcblxcclxcK1xcL1xcPV0rKVxccj9cXG4tLS0tLUVORCBcXDEgS0VZLS0tLS0kL21cbnZhciBldnAgPSByZXF1aXJlKCdldnBfYnl0ZXN0b2tleScpXG52YXIgY2lwaGVycyA9IHJlcXVpcmUoJ2Jyb3dzZXJpZnktYWVzJylcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9rZXksIHBhc3N3b3JkKSB7XG4gIHZhciBrZXkgPSBva2V5LnRvU3RyaW5nKClcbiAgdmFyIG1hdGNoID0ga2V5Lm1hdGNoKGZpbmRQcm9jKVxuICB2YXIgZGVjcnlwdGVkXG4gIGlmICghbWF0Y2gpIHtcbiAgICB2YXIgbWF0Y2gyID0ga2V5Lm1hdGNoKGZ1bGxSZWdleClcbiAgICBkZWNyeXB0ZWQgPSBuZXcgQnVmZmVyKG1hdGNoMlsyXS5yZXBsYWNlKC9cXHI/XFxuL2csICcnKSwgJ2Jhc2U2NCcpXG4gIH0gZWxzZSB7XG4gICAgdmFyIHN1aXRlID0gJ2FlcycgKyBtYXRjaFsxXVxuICAgIHZhciBpdiA9IG5ldyBCdWZmZXIobWF0Y2hbMl0sICdoZXgnKVxuICAgIHZhciBjaXBoZXJUZXh0ID0gbmV3IEJ1ZmZlcihtYXRjaFszXS5yZXBsYWNlKC9cXHI/XFxuL2csICcnKSwgJ2Jhc2U2NCcpXG4gICAgdmFyIGNpcGhlcktleSA9IGV2cChwYXNzd29yZCwgaXYuc2xpY2UoMCwgOCksIHBhcnNlSW50KG1hdGNoWzFdLCAxMCkpLmtleVxuICAgIHZhciBvdXQgPSBbXVxuICAgIHZhciBjaXBoZXIgPSBjaXBoZXJzLmNyZWF0ZURlY2lwaGVyaXYoc3VpdGUsIGNpcGhlcktleSwgaXYpXG4gICAgb3V0LnB1c2goY2lwaGVyLnVwZGF0ZShjaXBoZXJUZXh0KSlcbiAgICBvdXQucHVzaChjaXBoZXIuZmluYWwoKSlcbiAgICBkZWNyeXB0ZWQgPSBCdWZmZXIuY29uY2F0KG91dClcbiAgfVxuICB2YXIgdGFnID0ga2V5Lm1hdGNoKHN0YXJ0UmVnZXgpWzFdICsgJyBLRVknXG4gIHJldHVybiB7XG4gICAgdGFnOiB0YWcsXG4gICAgZGF0YTogZGVjcnlwdGVkXG4gIH1cbn1cblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZjSFZpYkdsakxXVnVZM0o1Y0hRdmJtOWtaVjl0YjJSMWJHVnpMM0JoY25ObExXRnpiakV2Wm1sNFVISnZZeTVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pTzBGQlFVRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFaUxDSm1hV3hsSWpvaVoyVnVaWEpoZEdWa0xtcHpJaXdpYzI5MWNtTmxVbTl2ZENJNklpSXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJaTh2SUdGa1lYQjBaV1FnWm5KdmJTQm9kSFJ3Y3pvdkwyZHBkR2gxWWk1amIyMHZZWEJoZEdsc0wzQmxiWE4wY21sd1hHNTJZWElnWm1sdVpGQnliMk1nUFNBdlVISnZZeTFVZVhCbE9pQTBMRVZPUTFKWlVGUkZSRnhjY2o5Y1hHNUVSVXN0U1c1bWJ6b2dRVVZUTFNnb1B6b3hNamdwZkNnL09qRTVNaWw4S0Q4Nk1qVTJLU2t0UTBKRExDaGJNQzA1UVMxSVhTc3BYRnh5UDF4Y2JseGNjajljWEc0b1d6QXRPVUV0ZWx4Y2JseGNjbHhjSzF4Y0wxeGNQVjByS1Z4Y2NqOWNYRzR2YlZ4dWRtRnlJSE4wWVhKMFVtVm5aWGdnUFNBdlhpMHRMUzB0UWtWSFNVNGdLQzRxS1NCTFJWa3RMUzB0TFZ4Y2NqOWNYRzR2YlZ4dWRtRnlJR1oxYkd4U1pXZGxlQ0E5SUM5ZUxTMHRMUzFDUlVkSlRpQW9MaW9wSUV0RldTMHRMUzB0WEZ4eVAxeGNiaWhiTUMwNVFTMTZYRnh1WEZ4eVhGd3JYRnd2WEZ3OVhTc3BYRnh5UDF4Y2JpMHRMUzB0UlU1RUlGeGNNU0JMUlZrdExTMHRMU1F2YlZ4dWRtRnlJR1YyY0NBOUlISmxjWFZwY21Vb0oyVjJjRjlpZVhSbGMzUnZhMlY1SnlsY2JuWmhjaUJqYVhCb1pYSnpJRDBnY21WeGRXbHlaU2duWW5KdmQzTmxjbWxtZVMxaFpYTW5LVnh1Ylc5a2RXeGxMbVY0Y0c5eWRITWdQU0JtZFc1amRHbHZiaUFvYjJ0bGVTd2djR0Z6YzNkdmNtUXBJSHRjYmlBZ2RtRnlJR3RsZVNBOUlHOXJaWGt1ZEc5VGRISnBibWNvS1Z4dUlDQjJZWElnYldGMFkyZ2dQU0JyWlhrdWJXRjBZMmdvWm1sdVpGQnliMk1wWEc0Z0lIWmhjaUJrWldOeWVYQjBaV1JjYmlBZ2FXWWdLQ0Z0WVhSamFDa2dlMXh1SUNBZ0lIWmhjaUJ0WVhSamFESWdQU0JyWlhrdWJXRjBZMmdvWm5Wc2JGSmxaMlY0S1Z4dUlDQWdJR1JsWTNKNWNIUmxaQ0E5SUc1bGR5QkNkV1ptWlhJb2JXRjBZMmd5V3pKZExuSmxjR3hoWTJVb0wxeGNjajljWEc0dlp5d2dKeWNwTENBblltRnpaVFkwSnlsY2JpQWdmU0JsYkhObElIdGNiaUFnSUNCMllYSWdjM1ZwZEdVZ1BTQW5ZV1Z6SnlBcklHMWhkR05vV3pGZFhHNGdJQ0FnZG1GeUlHbDJJRDBnYm1WM0lFSjFabVpsY2lodFlYUmphRnN5WFN3Z0oyaGxlQ2NwWEc0Z0lDQWdkbUZ5SUdOcGNHaGxjbFJsZUhRZ1BTQnVaWGNnUW5WbVptVnlLRzFoZEdOb1d6TmRMbkpsY0d4aFkyVW9MMXhjY2o5Y1hHNHZaeXdnSnljcExDQW5ZbUZ6WlRZMEp5bGNiaUFnSUNCMllYSWdZMmx3YUdWeVMyVjVJRDBnWlhad0tIQmhjM04zYjNKa0xDQnBkaTV6YkdsalpTZ3dMQ0E0S1N3Z2NHRnljMlZKYm5Rb2JXRjBZMmhiTVYwc0lERXdLU2t1YTJWNVhHNGdJQ0FnZG1GeUlHOTFkQ0E5SUZ0ZFhHNGdJQ0FnZG1GeUlHTnBjR2hsY2lBOUlHTnBjR2hsY25NdVkzSmxZWFJsUkdWamFYQm9aWEpwZGloemRXbDBaU3dnWTJsd2FHVnlTMlY1TENCcGRpbGNiaUFnSUNCdmRYUXVjSFZ6YUNoamFYQm9aWEl1ZFhCa1lYUmxLR05wY0dobGNsUmxlSFFwS1Z4dUlDQWdJRzkxZEM1d2RYTm9LR05wY0dobGNpNW1hVzVoYkNncEtWeHVJQ0FnSUdSbFkzSjVjSFJsWkNBOUlFSjFabVpsY2k1amIyNWpZWFFvYjNWMEtWeHVJQ0I5WEc0Z0lIWmhjaUIwWVdjZ1BTQnJaWGt1YldGMFkyZ29jM1JoY25SU1pXZGxlQ2xiTVYwZ0t5QW5JRXRGV1NkY2JpQWdjbVYwZFhKdUlIdGNiaUFnSUNCMFlXYzZJSFJoWnl4Y2JpQWdJQ0JrWVhSaE9pQmtaV055ZVhCMFpXUmNiaUFnZlZ4dWZWeHVJbDE5IiwiYXJndW1lbnRzWzRdW1wiL2hvbWUvdWJ1bnR1L3N0YWdpbmcvYXBwcy9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvYnJvd3Nlci5qc1wiXVswXS5hcHBseShleHBvcnRzLGFyZ3VtZW50cykiLCIoZnVuY3Rpb24gKEJ1ZmZlcil7XG52YXIgYWVzID0gcmVxdWlyZSgnLi9hZXMnKVxudmFyIFRyYW5zZm9ybSA9IHJlcXVpcmUoJ2NpcGhlci1iYXNlJylcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbnZhciBtb2RlcyA9IHJlcXVpcmUoJy4vbW9kZXMnKVxudmFyIGVidGsgPSByZXF1aXJlKCdldnBfYnl0ZXN0b2tleScpXG52YXIgU3RyZWFtQ2lwaGVyID0gcmVxdWlyZSgnLi9zdHJlYW1DaXBoZXInKVxudmFyIEF1dGhDaXBoZXIgPSByZXF1aXJlKCcuL2F1dGhDaXBoZXInKVxuaW5oZXJpdHMoQ2lwaGVyLCBUcmFuc2Zvcm0pXG5mdW5jdGlvbiBDaXBoZXIgKG1vZGUsIGtleSwgaXYpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIENpcGhlcikpIHtcbiAgICByZXR1cm4gbmV3IENpcGhlcihtb2RlLCBrZXksIGl2KVxuICB9XG4gIFRyYW5zZm9ybS5jYWxsKHRoaXMpXG4gIHRoaXMuX2NhY2hlID0gbmV3IFNwbGl0dGVyKClcbiAgdGhpcy5fY2lwaGVyID0gbmV3IGFlcy5BRVMoa2V5KVxuICB0aGlzLl9wcmV2ID0gbmV3IEJ1ZmZlcihpdi5sZW5ndGgpXG4gIGl2LmNvcHkodGhpcy5fcHJldilcbiAgdGhpcy5fbW9kZSA9IG1vZGVcbiAgdGhpcy5fYXV0b3BhZGRpbmcgPSB0cnVlXG59XG5DaXBoZXIucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICB0aGlzLl9jYWNoZS5hZGQoZGF0YSlcbiAgdmFyIGNodW5rXG4gIHZhciB0aGluZ1xuICB2YXIgb3V0ID0gW11cbiAgd2hpbGUgKChjaHVuayA9IHRoaXMuX2NhY2hlLmdldCgpKSkge1xuICAgIHRoaW5nID0gdGhpcy5fbW9kZS5lbmNyeXB0KHRoaXMsIGNodW5rKVxuICAgIG91dC5wdXNoKHRoaW5nKVxuICB9XG4gIHJldHVybiBCdWZmZXIuY29uY2F0KG91dClcbn1cbkNpcGhlci5wcm90b3R5cGUuX2ZpbmFsID0gZnVuY3Rpb24gKCkge1xuICB2YXIgY2h1bmsgPSB0aGlzLl9jYWNoZS5mbHVzaCgpXG4gIGlmICh0aGlzLl9hdXRvcGFkZGluZykge1xuICAgIGNodW5rID0gdGhpcy5fbW9kZS5lbmNyeXB0KHRoaXMsIGNodW5rKVxuICAgIHRoaXMuX2NpcGhlci5zY3J1YigpXG4gICAgcmV0dXJuIGNodW5rXG4gIH0gZWxzZSBpZiAoY2h1bmsudG9TdHJpbmcoJ2hleCcpICE9PSAnMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAnKSB7XG4gICAgdGhpcy5fY2lwaGVyLnNjcnViKClcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2RhdGEgbm90IG11bHRpcGxlIG9mIGJsb2NrIGxlbmd0aCcpXG4gIH1cbn1cbkNpcGhlci5wcm90b3R5cGUuc2V0QXV0b1BhZGRpbmcgPSBmdW5jdGlvbiAoc2V0VG8pIHtcbiAgdGhpcy5fYXV0b3BhZGRpbmcgPSAhIXNldFRvXG59XG5cbmZ1bmN0aW9uIFNwbGl0dGVyICgpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNwbGl0dGVyKSkge1xuICAgIHJldHVybiBuZXcgU3BsaXR0ZXIoKVxuICB9XG4gIHRoaXMuY2FjaGUgPSBuZXcgQnVmZmVyKCcnKVxufVxuU3BsaXR0ZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIHRoaXMuY2FjaGUgPSBCdWZmZXIuY29uY2F0KFt0aGlzLmNhY2hlLCBkYXRhXSlcbn1cblxuU3BsaXR0ZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuY2FjaGUubGVuZ3RoID4gMTUpIHtcbiAgICB2YXIgb3V0ID0gdGhpcy5jYWNoZS5zbGljZSgwLCAxNilcbiAgICB0aGlzLmNhY2hlID0gdGhpcy5jYWNoZS5zbGljZSgxNilcbiAgICByZXR1cm4gb3V0XG4gIH1cbiAgcmV0dXJuIG51bGxcbn1cblNwbGl0dGVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGxlbiA9IDE2IC0gdGhpcy5jYWNoZS5sZW5ndGhcbiAgdmFyIHBhZEJ1ZmYgPSBuZXcgQnVmZmVyKGxlbilcblxuICB2YXIgaSA9IC0xXG4gIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICBwYWRCdWZmLndyaXRlVUludDgobGVuLCBpKVxuICB9XG4gIHZhciBvdXQgPSBCdWZmZXIuY29uY2F0KFt0aGlzLmNhY2hlLCBwYWRCdWZmXSlcbiAgcmV0dXJuIG91dFxufVxudmFyIG1vZGVsaXN0ID0ge1xuICBFQ0I6IHJlcXVpcmUoJy4vbW9kZXMvZWNiJyksXG4gIENCQzogcmVxdWlyZSgnLi9tb2Rlcy9jYmMnKSxcbiAgQ0ZCOiByZXF1aXJlKCcuL21vZGVzL2NmYicpLFxuICBDRkI4OiByZXF1aXJlKCcuL21vZGVzL2NmYjgnKSxcbiAgQ0ZCMTogcmVxdWlyZSgnLi9tb2Rlcy9jZmIxJyksXG4gIE9GQjogcmVxdWlyZSgnLi9tb2Rlcy9vZmInKSxcbiAgQ1RSOiByZXF1aXJlKCcuL21vZGVzL2N0cicpLFxuICBHQ006IHJlcXVpcmUoJy4vbW9kZXMvY3RyJylcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ2lwaGVyaXYgKHN1aXRlLCBwYXNzd29yZCwgaXYpIHtcbiAgdmFyIGNvbmZpZyA9IG1vZGVzW3N1aXRlLnRvTG93ZXJDYXNlKCldXG4gIGlmICghY29uZmlnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBzdWl0ZSB0eXBlJylcbiAgfVxuICBpZiAodHlwZW9mIGl2ID09PSAnc3RyaW5nJykge1xuICAgIGl2ID0gbmV3IEJ1ZmZlcihpdilcbiAgfVxuICBpZiAodHlwZW9mIHBhc3N3b3JkID09PSAnc3RyaW5nJykge1xuICAgIHBhc3N3b3JkID0gbmV3IEJ1ZmZlcihwYXNzd29yZClcbiAgfVxuICBpZiAocGFzc3dvcmQubGVuZ3RoICE9PSBjb25maWcua2V5IC8gOCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQga2V5IGxlbmd0aCAnICsgcGFzc3dvcmQubGVuZ3RoKVxuICB9XG4gIGlmIChpdi5sZW5ndGggIT09IGNvbmZpZy5pdikge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgaXYgbGVuZ3RoICcgKyBpdi5sZW5ndGgpXG4gIH1cbiAgaWYgKGNvbmZpZy50eXBlID09PSAnc3RyZWFtJykge1xuICAgIHJldHVybiBuZXcgU3RyZWFtQ2lwaGVyKG1vZGVsaXN0W2NvbmZpZy5tb2RlXSwgcGFzc3dvcmQsIGl2KVxuICB9IGVsc2UgaWYgKGNvbmZpZy50eXBlID09PSAnYXV0aCcpIHtcbiAgICByZXR1cm4gbmV3IEF1dGhDaXBoZXIobW9kZWxpc3RbY29uZmlnLm1vZGVdLCBwYXNzd29yZCwgaXYpXG4gIH1cbiAgcmV0dXJuIG5ldyBDaXBoZXIobW9kZWxpc3RbY29uZmlnLm1vZGVdLCBwYXNzd29yZCwgaXYpXG59XG5mdW5jdGlvbiBjcmVhdGVDaXBoZXIgKHN1aXRlLCBwYXNzd29yZCkge1xuICB2YXIgY29uZmlnID0gbW9kZXNbc3VpdGUudG9Mb3dlckNhc2UoKV1cbiAgaWYgKCFjb25maWcpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIHN1aXRlIHR5cGUnKVxuICB9XG4gIHZhciBrZXlzID0gZWJ0ayhwYXNzd29yZCwgZmFsc2UsIGNvbmZpZy5rZXksIGNvbmZpZy5pdilcbiAgcmV0dXJuIGNyZWF0ZUNpcGhlcml2KHN1aXRlLCBrZXlzLmtleSwga2V5cy5pdilcbn1cblxuZXhwb3J0cy5jcmVhdGVDaXBoZXJpdiA9IGNyZWF0ZUNpcGhlcml2XG5leHBvcnRzLmNyZWF0ZUNpcGhlciA9IGNyZWF0ZUNpcGhlclxuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIpXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUwyNXZaR1ZmYlc5a2RXeGxjeTlqY25sd2RHOHRZbkp2ZDNObGNtbG1lUzl1YjJSbFgyMXZaSFZzWlhNdmNIVmliR2xqTFdWdVkzSjVjSFF2Ym05a1pWOXRiMlIxYkdWekwzQmhjbk5sTFdGemJqRXZibTlrWlY5dGIyUjFiR1Z6TDJKeWIzZHpaWEpwWm5rdFlXVnpMMlZ1WTNKNWNIUmxjaTVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pTzBGQlFVRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRU0lzSW1acGJHVWlPaUpuWlc1bGNtRjBaV1F1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaWRtRnlJR0ZsY3lBOUlISmxjWFZwY21Vb0p5NHZZV1Z6SnlsY2JuWmhjaUJVY21GdWMyWnZjbTBnUFNCeVpYRjFhWEpsS0NkamFYQm9aWEl0WW1GelpTY3BYRzUyWVhJZ2FXNW9aWEpwZEhNZ1BTQnlaWEYxYVhKbEtDZHBibWhsY21sMGN5Y3BYRzUyWVhJZ2JXOWtaWE1nUFNCeVpYRjFhWEpsS0NjdUwyMXZaR1Z6SnlsY2JuWmhjaUJsWW5ScklEMGdjbVZ4ZFdseVpTZ25aWFp3WDJKNWRHVnpkRzlyWlhrbktWeHVkbUZ5SUZOMGNtVmhiVU5wY0dobGNpQTlJSEpsY1hWcGNtVW9KeTR2YzNSeVpXRnRRMmx3YUdWeUp5bGNiblpoY2lCQmRYUm9RMmx3YUdWeUlEMGdjbVZ4ZFdseVpTZ25MaTloZFhSb1EybHdhR1Z5SnlsY2JtbHVhR1Z5YVhSektFTnBjR2hsY2l3Z1ZISmhibk5tYjNKdEtWeHVablZ1WTNScGIyNGdRMmx3YUdWeUlDaHRiMlJsTENCclpYa3NJR2wyS1NCN1hHNGdJR2xtSUNnaEtIUm9hWE1nYVc1emRHRnVZMlZ2WmlCRGFYQm9aWElwS1NCN1hHNGdJQ0FnY21WMGRYSnVJRzVsZHlCRGFYQm9aWElvYlc5a1pTd2dhMlY1TENCcGRpbGNiaUFnZlZ4dUlDQlVjbUZ1YzJadmNtMHVZMkZzYkNoMGFHbHpLVnh1SUNCMGFHbHpMbDlqWVdOb1pTQTlJRzVsZHlCVGNHeHBkSFJsY2lncFhHNGdJSFJvYVhNdVgyTnBjR2hsY2lBOUlHNWxkeUJoWlhNdVFVVlRLR3RsZVNsY2JpQWdkR2hwY3k1ZmNISmxkaUE5SUc1bGR5QkNkV1ptWlhJb2FYWXViR1Z1WjNSb0tWeHVJQ0JwZGk1amIzQjVLSFJvYVhNdVgzQnlaWFlwWEc0Z0lIUm9hWE11WDIxdlpHVWdQU0J0YjJSbFhHNGdJSFJvYVhNdVgyRjFkRzl3WVdSa2FXNW5JRDBnZEhKMVpWeHVmVnh1UTJsd2FHVnlMbkJ5YjNSdmRIbHdaUzVmZFhCa1lYUmxJRDBnWm5WdVkzUnBiMjRnS0dSaGRHRXBJSHRjYmlBZ2RHaHBjeTVmWTJGamFHVXVZV1JrS0dSaGRHRXBYRzRnSUhaaGNpQmphSFZ1YTF4dUlDQjJZWElnZEdocGJtZGNiaUFnZG1GeUlHOTFkQ0E5SUZ0ZFhHNGdJSGRvYVd4bElDZ29ZMmgxYm1zZ1BTQjBhR2x6TGw5allXTm9aUzVuWlhRb0tTa3BJSHRjYmlBZ0lDQjBhR2x1WnlBOUlIUm9hWE11WDIxdlpHVXVaVzVqY25sd2RDaDBhR2x6TENCamFIVnVheWxjYmlBZ0lDQnZkWFF1Y0hWemFDaDBhR2x1WnlsY2JpQWdmVnh1SUNCeVpYUjFjbTRnUW5WbVptVnlMbU52Ym1OaGRDaHZkWFFwWEc1OVhHNURhWEJvWlhJdWNISnZkRzkwZVhCbExsOW1hVzVoYkNBOUlHWjFibU4wYVc5dUlDZ3BJSHRjYmlBZ2RtRnlJR05vZFc1cklEMGdkR2hwY3k1ZlkyRmphR1V1Wm14MWMyZ29LVnh1SUNCcFppQW9kR2hwY3k1ZllYVjBiM0JoWkdScGJtY3BJSHRjYmlBZ0lDQmphSFZ1YXlBOUlIUm9hWE11WDIxdlpHVXVaVzVqY25sd2RDaDBhR2x6TENCamFIVnVheWxjYmlBZ0lDQjBhR2x6TGw5amFYQm9aWEl1YzJOeWRXSW9LVnh1SUNBZ0lISmxkSFZ5YmlCamFIVnVhMXh1SUNCOUlHVnNjMlVnYVdZZ0tHTm9kVzVyTG5SdlUzUnlhVzVuS0Nkb1pYZ25LU0FoUFQwZ0p6RXdNVEF4TURFd01UQXhNREV3TVRBeE1ERXdNVEF4TURFd01UQXhNREV3SnlrZ2UxeHVJQ0FnSUhSb2FYTXVYMk5wY0dobGNpNXpZM0oxWWlncFhHNGdJQ0FnZEdoeWIzY2dibVYzSUVWeWNtOXlLQ2RrWVhSaElHNXZkQ0J0ZFd4MGFYQnNaU0J2WmlCaWJHOWpheUJzWlc1bmRHZ25LVnh1SUNCOVhHNTlYRzVEYVhCb1pYSXVjSEp2ZEc5MGVYQmxMbk5sZEVGMWRHOVFZV1JrYVc1bklEMGdablZ1WTNScGIyNGdLSE5sZEZSdktTQjdYRzRnSUhSb2FYTXVYMkYxZEc5d1lXUmthVzVuSUQwZ0lTRnpaWFJVYjF4dWZWeHVYRzVtZFc1amRHbHZiaUJUY0d4cGRIUmxjaUFvS1NCN1hHNGdJR2xtSUNnaEtIUm9hWE1nYVc1emRHRnVZMlZ2WmlCVGNHeHBkSFJsY2lrcElIdGNiaUFnSUNCeVpYUjFjbTRnYm1WM0lGTndiR2wwZEdWeUtDbGNiaUFnZlZ4dUlDQjBhR2x6TG1OaFkyaGxJRDBnYm1WM0lFSjFabVpsY2lnbkp5bGNibjFjYmxOd2JHbDBkR1Z5TG5CeWIzUnZkSGx3WlM1aFpHUWdQU0JtZFc1amRHbHZiaUFvWkdGMFlTa2dlMXh1SUNCMGFHbHpMbU5oWTJobElEMGdRblZtWm1WeUxtTnZibU5oZENoYmRHaHBjeTVqWVdOb1pTd2daR0YwWVYwcFhHNTlYRzVjYmxOd2JHbDBkR1Z5TG5CeWIzUnZkSGx3WlM1blpYUWdQU0JtZFc1amRHbHZiaUFvS1NCN1hHNGdJR2xtSUNoMGFHbHpMbU5oWTJobExteGxibWQwYUNBK0lERTFLU0I3WEc0Z0lDQWdkbUZ5SUc5MWRDQTlJSFJvYVhNdVkyRmphR1V1YzJ4cFkyVW9NQ3dnTVRZcFhHNGdJQ0FnZEdocGN5NWpZV05vWlNBOUlIUm9hWE11WTJGamFHVXVjMnhwWTJVb01UWXBYRzRnSUNBZ2NtVjBkWEp1SUc5MWRGeHVJQ0I5WEc0Z0lISmxkSFZ5YmlCdWRXeHNYRzU5WEc1VGNHeHBkSFJsY2k1d2NtOTBiM1I1Y0dVdVpteDFjMmdnUFNCbWRXNWpkR2x2YmlBb0tTQjdYRzRnSUhaaGNpQnNaVzRnUFNBeE5pQXRJSFJvYVhNdVkyRmphR1V1YkdWdVozUm9YRzRnSUhaaGNpQndZV1JDZFdabUlEMGdibVYzSUVKMVptWmxjaWhzWlc0cFhHNWNiaUFnZG1GeUlHa2dQU0F0TVZ4dUlDQjNhR2xzWlNBb0t5dHBJRHdnYkdWdUtTQjdYRzRnSUNBZ2NHRmtRblZtWmk1M2NtbDBaVlZKYm5RNEtHeGxiaXdnYVNsY2JpQWdmVnh1SUNCMllYSWdiM1YwSUQwZ1FuVm1abVZ5TG1OdmJtTmhkQ2hiZEdocGN5NWpZV05vWlN3Z2NHRmtRblZtWmwwcFhHNGdJSEpsZEhWeWJpQnZkWFJjYm4xY2JuWmhjaUJ0YjJSbGJHbHpkQ0E5SUh0Y2JpQWdSVU5DT2lCeVpYRjFhWEpsS0NjdUwyMXZaR1Z6TDJWallpY3BMRnh1SUNCRFFrTTZJSEpsY1hWcGNtVW9KeTR2Ylc5a1pYTXZZMkpqSnlrc1hHNGdJRU5HUWpvZ2NtVnhkV2x5WlNnbkxpOXRiMlJsY3k5alptSW5LU3hjYmlBZ1EwWkNPRG9nY21WeGRXbHlaU2duTGk5dGIyUmxjeTlqWm1JNEp5a3NYRzRnSUVOR1FqRTZJSEpsY1hWcGNtVW9KeTR2Ylc5a1pYTXZZMlppTVNjcExGeHVJQ0JQUmtJNklISmxjWFZwY21Vb0p5NHZiVzlrWlhNdmIyWmlKeWtzWEc0Z0lFTlVVam9nY21WeGRXbHlaU2duTGk5dGIyUmxjeTlqZEhJbktTeGNiaUFnUjBOTk9pQnlaWEYxYVhKbEtDY3VMMjF2WkdWekwyTjBjaWNwWEc1OVhHNWNibVoxYm1OMGFXOXVJR055WldGMFpVTnBjR2hsY21sMklDaHpkV2wwWlN3Z2NHRnpjM2R2Y21Rc0lHbDJLU0I3WEc0Z0lIWmhjaUJqYjI1bWFXY2dQU0J0YjJSbGMxdHpkV2wwWlM1MGIweHZkMlZ5UTJGelpTZ3BYVnh1SUNCcFppQW9JV052Ym1acFp5a2dlMXh1SUNBZ0lIUm9jbTkzSUc1bGR5QlVlWEJsUlhKeWIzSW9KMmx1ZG1Gc2FXUWdjM1ZwZEdVZ2RIbHdaU2NwWEc0Z0lIMWNiaUFnYVdZZ0tIUjVjR1Z2WmlCcGRpQTlQVDBnSjNOMGNtbHVaeWNwSUh0Y2JpQWdJQ0JwZGlBOUlHNWxkeUJDZFdabVpYSW9hWFlwWEc0Z0lIMWNiaUFnYVdZZ0tIUjVjR1Z2WmlCd1lYTnpkMjl5WkNBOVBUMGdKM04wY21sdVp5Y3BJSHRjYmlBZ0lDQndZWE56ZDI5eVpDQTlJRzVsZHlCQ2RXWm1aWElvY0dGemMzZHZjbVFwWEc0Z0lIMWNiaUFnYVdZZ0tIQmhjM04zYjNKa0xteGxibWQwYUNBaFBUMGdZMjl1Wm1sbkxtdGxlU0F2SURncElIdGNiaUFnSUNCMGFISnZkeUJ1WlhjZ1ZIbHdaVVZ5Y205eUtDZHBiblpoYkdsa0lHdGxlU0JzWlc1bmRHZ2dKeUFySUhCaGMzTjNiM0prTG14bGJtZDBhQ2xjYmlBZ2ZWeHVJQ0JwWmlBb2FYWXViR1Z1WjNSb0lDRTlQU0JqYjI1bWFXY3VhWFlwSUh0Y2JpQWdJQ0IwYUhKdmR5QnVaWGNnVkhsd1pVVnljbTl5S0NkcGJuWmhiR2xrSUdsMklHeGxibWQwYUNBbklDc2dhWFl1YkdWdVozUm9LVnh1SUNCOVhHNGdJR2xtSUNoamIyNW1hV2N1ZEhsd1pTQTlQVDBnSjNOMGNtVmhiU2NwSUh0Y2JpQWdJQ0J5WlhSMWNtNGdibVYzSUZOMGNtVmhiVU5wY0dobGNpaHRiMlJsYkdsemRGdGpiMjVtYVdjdWJXOWtaVjBzSUhCaGMzTjNiM0prTENCcGRpbGNiaUFnZlNCbGJITmxJR2xtSUNoamIyNW1hV2N1ZEhsd1pTQTlQVDBnSjJGMWRHZ25LU0I3WEc0Z0lDQWdjbVYwZFhKdUlHNWxkeUJCZFhSb1EybHdhR1Z5S0cxdlpHVnNhWE4wVzJOdmJtWnBaeTV0YjJSbFhTd2djR0Z6YzNkdmNtUXNJR2wyS1Z4dUlDQjlYRzRnSUhKbGRIVnliaUJ1WlhjZ1EybHdhR1Z5S0cxdlpHVnNhWE4wVzJOdmJtWnBaeTV0YjJSbFhTd2djR0Z6YzNkdmNtUXNJR2wyS1Z4dWZWeHVablZ1WTNScGIyNGdZM0psWVhSbFEybHdhR1Z5SUNoemRXbDBaU3dnY0dGemMzZHZjbVFwSUh0Y2JpQWdkbUZ5SUdOdmJtWnBaeUE5SUcxdlpHVnpXM04xYVhSbExuUnZURzkzWlhKRFlYTmxLQ2xkWEc0Z0lHbG1JQ2doWTI5dVptbG5LU0I3WEc0Z0lDQWdkR2h5YjNjZ2JtVjNJRlI1Y0dWRmNuSnZjaWduYVc1MllXeHBaQ0J6ZFdsMFpTQjBlWEJsSnlsY2JpQWdmVnh1SUNCMllYSWdhMlY1Y3lBOUlHVmlkR3NvY0dGemMzZHZjbVFzSUdaaGJITmxMQ0JqYjI1bWFXY3VhMlY1TENCamIyNW1hV2N1YVhZcFhHNGdJSEpsZEhWeWJpQmpjbVZoZEdWRGFYQm9aWEpwZGloemRXbDBaU3dnYTJWNWN5NXJaWGtzSUd0bGVYTXVhWFlwWEc1OVhHNWNibVY0Y0c5eWRITXVZM0psWVhSbFEybHdhR1Z5YVhZZ1BTQmpjbVZoZEdWRGFYQm9aWEpwZGx4dVpYaHdiM0owY3k1amNtVmhkR1ZEYVhCb1pYSWdQU0JqY21WaGRHVkRhWEJvWlhKY2JpSmRmUT09IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xudmFyIGFlcyA9IHJlcXVpcmUoJy4vYWVzJylcbnZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCdjaXBoZXItYmFzZScpXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG52YXIgbW9kZXMgPSByZXF1aXJlKCcuL21vZGVzJylcbnZhciBTdHJlYW1DaXBoZXIgPSByZXF1aXJlKCcuL3N0cmVhbUNpcGhlcicpXG52YXIgQXV0aENpcGhlciA9IHJlcXVpcmUoJy4vYXV0aENpcGhlcicpXG52YXIgZWJ0ayA9IHJlcXVpcmUoJ2V2cF9ieXRlc3Rva2V5JylcblxuaW5oZXJpdHMoRGVjaXBoZXIsIFRyYW5zZm9ybSlcbmZ1bmN0aW9uIERlY2lwaGVyIChtb2RlLCBrZXksIGl2KSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBEZWNpcGhlcikpIHtcbiAgICByZXR1cm4gbmV3IERlY2lwaGVyKG1vZGUsIGtleSwgaXYpXG4gIH1cbiAgVHJhbnNmb3JtLmNhbGwodGhpcylcbiAgdGhpcy5fY2FjaGUgPSBuZXcgU3BsaXR0ZXIoKVxuICB0aGlzLl9sYXN0ID0gdm9pZCAwXG4gIHRoaXMuX2NpcGhlciA9IG5ldyBhZXMuQUVTKGtleSlcbiAgdGhpcy5fcHJldiA9IG5ldyBCdWZmZXIoaXYubGVuZ3RoKVxuICBpdi5jb3B5KHRoaXMuX3ByZXYpXG4gIHRoaXMuX21vZGUgPSBtb2RlXG4gIHRoaXMuX2F1dG9wYWRkaW5nID0gdHJ1ZVxufVxuRGVjaXBoZXIucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICB0aGlzLl9jYWNoZS5hZGQoZGF0YSlcbiAgdmFyIGNodW5rXG4gIHZhciB0aGluZ1xuICB2YXIgb3V0ID0gW11cbiAgd2hpbGUgKChjaHVuayA9IHRoaXMuX2NhY2hlLmdldCh0aGlzLl9hdXRvcGFkZGluZykpKSB7XG4gICAgdGhpbmcgPSB0aGlzLl9tb2RlLmRlY3J5cHQodGhpcywgY2h1bmspXG4gICAgb3V0LnB1c2godGhpbmcpXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5jb25jYXQob3V0KVxufVxuRGVjaXBoZXIucHJvdG90eXBlLl9maW5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGNodW5rID0gdGhpcy5fY2FjaGUuZmx1c2goKVxuICBpZiAodGhpcy5fYXV0b3BhZGRpbmcpIHtcbiAgICByZXR1cm4gdW5wYWQodGhpcy5fbW9kZS5kZWNyeXB0KHRoaXMsIGNodW5rKSlcbiAgfSBlbHNlIGlmIChjaHVuaykge1xuICAgIHRocm93IG5ldyBFcnJvcignZGF0YSBub3QgbXVsdGlwbGUgb2YgYmxvY2sgbGVuZ3RoJylcbiAgfVxufVxuRGVjaXBoZXIucHJvdG90eXBlLnNldEF1dG9QYWRkaW5nID0gZnVuY3Rpb24gKHNldFRvKSB7XG4gIHRoaXMuX2F1dG9wYWRkaW5nID0gISFzZXRUb1xufVxuZnVuY3Rpb24gU3BsaXR0ZXIgKCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU3BsaXR0ZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBTcGxpdHRlcigpXG4gIH1cbiAgdGhpcy5jYWNoZSA9IG5ldyBCdWZmZXIoJycpXG59XG5TcGxpdHRlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdGhpcy5jYWNoZSA9IEJ1ZmZlci5jb25jYXQoW3RoaXMuY2FjaGUsIGRhdGFdKVxufVxuXG5TcGxpdHRlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGF1dG9QYWRkaW5nKSB7XG4gIHZhciBvdXRcbiAgaWYgKGF1dG9QYWRkaW5nKSB7XG4gICAgaWYgKHRoaXMuY2FjaGUubGVuZ3RoID4gMTYpIHtcbiAgICAgIG91dCA9IHRoaXMuY2FjaGUuc2xpY2UoMCwgMTYpXG4gICAgICB0aGlzLmNhY2hlID0gdGhpcy5jYWNoZS5zbGljZSgxNilcbiAgICAgIHJldHVybiBvdXRcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRoaXMuY2FjaGUubGVuZ3RoID49IDE2KSB7XG4gICAgICBvdXQgPSB0aGlzLmNhY2hlLnNsaWNlKDAsIDE2KVxuICAgICAgdGhpcy5jYWNoZSA9IHRoaXMuY2FjaGUuc2xpY2UoMTYpXG4gICAgICByZXR1cm4gb3V0XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsXG59XG5TcGxpdHRlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmNhY2hlLmxlbmd0aCkge1xuICAgIHJldHVybiB0aGlzLmNhY2hlXG4gIH1cbn1cbmZ1bmN0aW9uIHVucGFkIChsYXN0KSB7XG4gIHZhciBwYWRkZWQgPSBsYXN0WzE1XVxuICB2YXIgaSA9IC0xXG4gIHdoaWxlICgrK2kgPCBwYWRkZWQpIHtcbiAgICBpZiAobGFzdFsoaSArICgxNiAtIHBhZGRlZCkpXSAhPT0gcGFkZGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VuYWJsZSB0byBkZWNyeXB0IGRhdGEnKVxuICAgIH1cbiAgfVxuICBpZiAocGFkZGVkID09PSAxNikge1xuICAgIHJldHVyblxuICB9XG4gIHJldHVybiBsYXN0LnNsaWNlKDAsIDE2IC0gcGFkZGVkKVxufVxuXG52YXIgbW9kZWxpc3QgPSB7XG4gIEVDQjogcmVxdWlyZSgnLi9tb2Rlcy9lY2InKSxcbiAgQ0JDOiByZXF1aXJlKCcuL21vZGVzL2NiYycpLFxuICBDRkI6IHJlcXVpcmUoJy4vbW9kZXMvY2ZiJyksXG4gIENGQjg6IHJlcXVpcmUoJy4vbW9kZXMvY2ZiOCcpLFxuICBDRkIxOiByZXF1aXJlKCcuL21vZGVzL2NmYjEnKSxcbiAgT0ZCOiByZXF1aXJlKCcuL21vZGVzL29mYicpLFxuICBDVFI6IHJlcXVpcmUoJy4vbW9kZXMvY3RyJyksXG4gIEdDTTogcmVxdWlyZSgnLi9tb2Rlcy9jdHInKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVEZWNpcGhlcml2IChzdWl0ZSwgcGFzc3dvcmQsIGl2KSB7XG4gIHZhciBjb25maWcgPSBtb2Rlc1tzdWl0ZS50b0xvd2VyQ2FzZSgpXVxuICBpZiAoIWNvbmZpZykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgc3VpdGUgdHlwZScpXG4gIH1cbiAgaWYgKHR5cGVvZiBpdiA9PT0gJ3N0cmluZycpIHtcbiAgICBpdiA9IG5ldyBCdWZmZXIoaXYpXG4gIH1cbiAgaWYgKHR5cGVvZiBwYXNzd29yZCA9PT0gJ3N0cmluZycpIHtcbiAgICBwYXNzd29yZCA9IG5ldyBCdWZmZXIocGFzc3dvcmQpXG4gIH1cbiAgaWYgKHBhc3N3b3JkLmxlbmd0aCAhPT0gY29uZmlnLmtleSAvIDgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIGtleSBsZW5ndGggJyArIHBhc3N3b3JkLmxlbmd0aClcbiAgfVxuICBpZiAoaXYubGVuZ3RoICE9PSBjb25maWcuaXYpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIGl2IGxlbmd0aCAnICsgaXYubGVuZ3RoKVxuICB9XG4gIGlmIChjb25maWcudHlwZSA9PT0gJ3N0cmVhbScpIHtcbiAgICByZXR1cm4gbmV3IFN0cmVhbUNpcGhlcihtb2RlbGlzdFtjb25maWcubW9kZV0sIHBhc3N3b3JkLCBpdiwgdHJ1ZSlcbiAgfSBlbHNlIGlmIChjb25maWcudHlwZSA9PT0gJ2F1dGgnKSB7XG4gICAgcmV0dXJuIG5ldyBBdXRoQ2lwaGVyKG1vZGVsaXN0W2NvbmZpZy5tb2RlXSwgcGFzc3dvcmQsIGl2LCB0cnVlKVxuICB9XG4gIHJldHVybiBuZXcgRGVjaXBoZXIobW9kZWxpc3RbY29uZmlnLm1vZGVdLCBwYXNzd29yZCwgaXYpXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURlY2lwaGVyIChzdWl0ZSwgcGFzc3dvcmQpIHtcbiAgdmFyIGNvbmZpZyA9IG1vZGVzW3N1aXRlLnRvTG93ZXJDYXNlKCldXG4gIGlmICghY29uZmlnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBzdWl0ZSB0eXBlJylcbiAgfVxuICB2YXIga2V5cyA9IGVidGsocGFzc3dvcmQsIGZhbHNlLCBjb25maWcua2V5LCBjb25maWcuaXYpXG4gIHJldHVybiBjcmVhdGVEZWNpcGhlcml2KHN1aXRlLCBrZXlzLmtleSwga2V5cy5pdilcbn1cbmV4cG9ydHMuY3JlYXRlRGVjaXBoZXIgPSBjcmVhdGVEZWNpcGhlclxuZXhwb3J0cy5jcmVhdGVEZWNpcGhlcml2ID0gY3JlYXRlRGVjaXBoZXJpdlxuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIpXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUwyNXZaR1ZmYlc5a2RXeGxjeTlqY25sd2RHOHRZbkp2ZDNObGNtbG1lUzl1YjJSbFgyMXZaSFZzWlhNdmNIVmliR2xqTFdWdVkzSjVjSFF2Ym05a1pWOXRiMlIxYkdWekwzQmhjbk5sTFdGemJqRXZibTlrWlY5dGIyUjFiR1Z6TDJKeWIzZHpaWEpwWm5rdFlXVnpMMlJsWTNKNWNIUmxjaTVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pTzBGQlFVRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVNJc0ltWnBiR1VpT2lKblpXNWxjbUYwWldRdWFuTWlMQ0p6YjNWeVkyVlNiMjkwSWpvaUlpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2lkbUZ5SUdGbGN5QTlJSEpsY1hWcGNtVW9KeTR2WVdWekp5bGNiblpoY2lCVWNtRnVjMlp2Y20wZ1BTQnlaWEYxYVhKbEtDZGphWEJvWlhJdFltRnpaU2NwWEc1MllYSWdhVzVvWlhKcGRITWdQU0J5WlhGMWFYSmxLQ2RwYm1obGNtbDBjeWNwWEc1MllYSWdiVzlrWlhNZ1BTQnlaWEYxYVhKbEtDY3VMMjF2WkdWekp5bGNiblpoY2lCVGRISmxZVzFEYVhCb1pYSWdQU0J5WlhGMWFYSmxLQ2N1TDNOMGNtVmhiVU5wY0dobGNpY3BYRzUyWVhJZ1FYVjBhRU5wY0dobGNpQTlJSEpsY1hWcGNtVW9KeTR2WVhWMGFFTnBjR2hsY2ljcFhHNTJZWElnWldKMGF5QTlJSEpsY1hWcGNtVW9KMlYyY0Y5aWVYUmxjM1J2YTJWNUp5bGNibHh1YVc1b1pYSnBkSE1vUkdWamFYQm9aWElzSUZSeVlXNXpabTl5YlNsY2JtWjFibU4wYVc5dUlFUmxZMmx3YUdWeUlDaHRiMlJsTENCclpYa3NJR2wyS1NCN1hHNGdJR2xtSUNnaEtIUm9hWE1nYVc1emRHRnVZMlZ2WmlCRVpXTnBjR2hsY2lrcElIdGNiaUFnSUNCeVpYUjFjbTRnYm1WM0lFUmxZMmx3YUdWeUtHMXZaR1VzSUd0bGVTd2dhWFlwWEc0Z0lIMWNiaUFnVkhKaGJuTm1iM0p0TG1OaGJHd29kR2hwY3lsY2JpQWdkR2hwY3k1ZlkyRmphR1VnUFNCdVpYY2dVM0JzYVhSMFpYSW9LVnh1SUNCMGFHbHpMbDlzWVhOMElEMGdkbTlwWkNBd1hHNGdJSFJvYVhNdVgyTnBjR2hsY2lBOUlHNWxkeUJoWlhNdVFVVlRLR3RsZVNsY2JpQWdkR2hwY3k1ZmNISmxkaUE5SUc1bGR5QkNkV1ptWlhJb2FYWXViR1Z1WjNSb0tWeHVJQ0JwZGk1amIzQjVLSFJvYVhNdVgzQnlaWFlwWEc0Z0lIUm9hWE11WDIxdlpHVWdQU0J0YjJSbFhHNGdJSFJvYVhNdVgyRjFkRzl3WVdSa2FXNW5JRDBnZEhKMVpWeHVmVnh1UkdWamFYQm9aWEl1Y0hKdmRHOTBlWEJsTGw5MWNHUmhkR1VnUFNCbWRXNWpkR2x2YmlBb1pHRjBZU2tnZTF4dUlDQjBhR2x6TGw5allXTm9aUzVoWkdRb1pHRjBZU2xjYmlBZ2RtRnlJR05vZFc1clhHNGdJSFpoY2lCMGFHbHVaMXh1SUNCMllYSWdiM1YwSUQwZ1cxMWNiaUFnZDJocGJHVWdLQ2hqYUhWdWF5QTlJSFJvYVhNdVgyTmhZMmhsTG1kbGRDaDBhR2x6TGw5aGRYUnZjR0ZrWkdsdVp5a3BLU0I3WEc0Z0lDQWdkR2hwYm1jZ1BTQjBhR2x6TGw5dGIyUmxMbVJsWTNKNWNIUW9kR2hwY3l3Z1kyaDFibXNwWEc0Z0lDQWdiM1YwTG5CMWMyZ29kR2hwYm1jcFhHNGdJSDFjYmlBZ2NtVjBkWEp1SUVKMVptWmxjaTVqYjI1allYUW9iM1YwS1Z4dWZWeHVSR1ZqYVhCb1pYSXVjSEp2ZEc5MGVYQmxMbDltYVc1aGJDQTlJR1oxYm1OMGFXOXVJQ2dwSUh0Y2JpQWdkbUZ5SUdOb2RXNXJJRDBnZEdocGN5NWZZMkZqYUdVdVpteDFjMmdvS1Z4dUlDQnBaaUFvZEdocGN5NWZZWFYwYjNCaFpHUnBibWNwSUh0Y2JpQWdJQ0J5WlhSMWNtNGdkVzV3WVdRb2RHaHBjeTVmYlc5a1pTNWtaV055ZVhCMEtIUm9hWE1zSUdOb2RXNXJLU2xjYmlBZ2ZTQmxiSE5sSUdsbUlDaGphSFZ1YXlrZ2UxeHVJQ0FnSUhSb2NtOTNJRzVsZHlCRmNuSnZjaWduWkdGMFlTQnViM1FnYlhWc2RHbHdiR1VnYjJZZ1lteHZZMnNnYkdWdVozUm9KeWxjYmlBZ2ZWeHVmVnh1UkdWamFYQm9aWEl1Y0hKdmRHOTBlWEJsTG5ObGRFRjFkRzlRWVdSa2FXNW5JRDBnWm5WdVkzUnBiMjRnS0hObGRGUnZLU0I3WEc0Z0lIUm9hWE11WDJGMWRHOXdZV1JrYVc1bklEMGdJU0Z6WlhSVWIxeHVmVnh1Wm5WdVkzUnBiMjRnVTNCc2FYUjBaWElnS0NrZ2UxeHVJQ0JwWmlBb0lTaDBhR2x6SUdsdWMzUmhibU5sYjJZZ1UzQnNhWFIwWlhJcEtTQjdYRzRnSUNBZ2NtVjBkWEp1SUc1bGR5QlRjR3hwZEhSbGNpZ3BYRzRnSUgxY2JpQWdkR2hwY3k1allXTm9aU0E5SUc1bGR5QkNkV1ptWlhJb0p5Y3BYRzU5WEc1VGNHeHBkSFJsY2k1d2NtOTBiM1I1Y0dVdVlXUmtJRDBnWm5WdVkzUnBiMjRnS0dSaGRHRXBJSHRjYmlBZ2RHaHBjeTVqWVdOb1pTQTlJRUoxWm1abGNpNWpiMjVqWVhRb1czUm9hWE11WTJGamFHVXNJR1JoZEdGZEtWeHVmVnh1WEc1VGNHeHBkSFJsY2k1d2NtOTBiM1I1Y0dVdVoyVjBJRDBnWm5WdVkzUnBiMjRnS0dGMWRHOVFZV1JrYVc1bktTQjdYRzRnSUhaaGNpQnZkWFJjYmlBZ2FXWWdLR0YxZEc5UVlXUmthVzVuS1NCN1hHNGdJQ0FnYVdZZ0tIUm9hWE11WTJGamFHVXViR1Z1WjNSb0lENGdNVFlwSUh0Y2JpQWdJQ0FnSUc5MWRDQTlJSFJvYVhNdVkyRmphR1V1YzJ4cFkyVW9NQ3dnTVRZcFhHNGdJQ0FnSUNCMGFHbHpMbU5oWTJobElEMGdkR2hwY3k1allXTm9aUzV6YkdsalpTZ3hOaWxjYmlBZ0lDQWdJSEpsZEhWeWJpQnZkWFJjYmlBZ0lDQjlYRzRnSUgwZ1pXeHpaU0I3WEc0Z0lDQWdhV1lnS0hSb2FYTXVZMkZqYUdVdWJHVnVaM1JvSUQ0OUlERTJLU0I3WEc0Z0lDQWdJQ0J2ZFhRZ1BTQjBhR2x6TG1OaFkyaGxMbk5zYVdObEtEQXNJREUyS1Z4dUlDQWdJQ0FnZEdocGN5NWpZV05vWlNBOUlIUm9hWE11WTJGamFHVXVjMnhwWTJVb01UWXBYRzRnSUNBZ0lDQnlaWFIxY200Z2IzVjBYRzRnSUNBZ2ZWeHVJQ0I5WEc0Z0lISmxkSFZ5YmlCdWRXeHNYRzU5WEc1VGNHeHBkSFJsY2k1d2NtOTBiM1I1Y0dVdVpteDFjMmdnUFNCbWRXNWpkR2x2YmlBb0tTQjdYRzRnSUdsbUlDaDBhR2x6TG1OaFkyaGxMbXhsYm1kMGFDa2dlMXh1SUNBZ0lISmxkSFZ5YmlCMGFHbHpMbU5oWTJobFhHNGdJSDFjYm4xY2JtWjFibU4wYVc5dUlIVnVjR0ZrSUNoc1lYTjBLU0I3WEc0Z0lIWmhjaUJ3WVdSa1pXUWdQU0JzWVhOMFd6RTFYVnh1SUNCMllYSWdhU0E5SUMweFhHNGdJSGRvYVd4bElDZ3JLMmtnUENCd1lXUmtaV1FwSUh0Y2JpQWdJQ0JwWmlBb2JHRnpkRnNvYVNBcklDZ3hOaUF0SUhCaFpHUmxaQ2twWFNBaFBUMGdjR0ZrWkdWa0tTQjdYRzRnSUNBZ0lDQjBhSEp2ZHlCdVpYY2dSWEp5YjNJb0ozVnVZV0pzWlNCMGJ5QmtaV055ZVhCMElHUmhkR0VuS1Z4dUlDQWdJSDFjYmlBZ2ZWeHVJQ0JwWmlBb2NHRmtaR1ZrSUQwOVBTQXhOaWtnZTF4dUlDQWdJSEpsZEhWeWJseHVJQ0I5WEc0Z0lISmxkSFZ5YmlCc1lYTjBMbk5zYVdObEtEQXNJREUySUMwZ2NHRmtaR1ZrS1Z4dWZWeHVYRzUyWVhJZ2JXOWtaV3hwYzNRZ1BTQjdYRzRnSUVWRFFqb2djbVZ4ZFdseVpTZ25MaTl0YjJSbGN5OWxZMkluS1N4Y2JpQWdRMEpET2lCeVpYRjFhWEpsS0NjdUwyMXZaR1Z6TDJOaVl5Y3BMRnh1SUNCRFJrSTZJSEpsY1hWcGNtVW9KeTR2Ylc5a1pYTXZZMlppSnlrc1hHNGdJRU5HUWpnNklISmxjWFZwY21Vb0p5NHZiVzlrWlhNdlkyWmlPQ2NwTEZ4dUlDQkRSa0l4T2lCeVpYRjFhWEpsS0NjdUwyMXZaR1Z6TDJObVlqRW5LU3hjYmlBZ1QwWkNPaUJ5WlhGMWFYSmxLQ2N1TDIxdlpHVnpMMjltWWljcExGeHVJQ0JEVkZJNklISmxjWFZwY21Vb0p5NHZiVzlrWlhNdlkzUnlKeWtzWEc0Z0lFZERUVG9nY21WeGRXbHlaU2duTGk5dGIyUmxjeTlqZEhJbktWeHVmVnh1WEc1bWRXNWpkR2x2YmlCamNtVmhkR1ZFWldOcGNHaGxjbWwySUNoemRXbDBaU3dnY0dGemMzZHZjbVFzSUdsMktTQjdYRzRnSUhaaGNpQmpiMjVtYVdjZ1BTQnRiMlJsYzF0emRXbDBaUzUwYjB4dmQyVnlRMkZ6WlNncFhWeHVJQ0JwWmlBb0lXTnZibVpwWnlrZ2UxeHVJQ0FnSUhSb2NtOTNJRzVsZHlCVWVYQmxSWEp5YjNJb0oybHVkbUZzYVdRZ2MzVnBkR1VnZEhsd1pTY3BYRzRnSUgxY2JpQWdhV1lnS0hSNWNHVnZaaUJwZGlBOVBUMGdKM04wY21sdVp5Y3BJSHRjYmlBZ0lDQnBkaUE5SUc1bGR5QkNkV1ptWlhJb2FYWXBYRzRnSUgxY2JpQWdhV1lnS0hSNWNHVnZaaUJ3WVhOemQyOXlaQ0E5UFQwZ0ozTjBjbWx1WnljcElIdGNiaUFnSUNCd1lYTnpkMjl5WkNBOUlHNWxkeUJDZFdabVpYSW9jR0Z6YzNkdmNtUXBYRzRnSUgxY2JpQWdhV1lnS0hCaGMzTjNiM0prTG14bGJtZDBhQ0FoUFQwZ1kyOXVabWxuTG10bGVTQXZJRGdwSUh0Y2JpQWdJQ0IwYUhKdmR5QnVaWGNnVkhsd1pVVnljbTl5S0NkcGJuWmhiR2xrSUd0bGVTQnNaVzVuZEdnZ0p5QXJJSEJoYzNOM2IzSmtMbXhsYm1kMGFDbGNiaUFnZlZ4dUlDQnBaaUFvYVhZdWJHVnVaM1JvSUNFOVBTQmpiMjVtYVdjdWFYWXBJSHRjYmlBZ0lDQjBhSEp2ZHlCdVpYY2dWSGx3WlVWeWNtOXlLQ2RwYm5aaGJHbGtJR2wySUd4bGJtZDBhQ0FuSUNzZ2FYWXViR1Z1WjNSb0tWeHVJQ0I5WEc0Z0lHbG1JQ2hqYjI1bWFXY3VkSGx3WlNBOVBUMGdKM04wY21WaGJTY3BJSHRjYmlBZ0lDQnlaWFIxY200Z2JtVjNJRk4wY21WaGJVTnBjR2hsY2lodGIyUmxiR2x6ZEZ0amIyNW1hV2N1Ylc5a1pWMHNJSEJoYzNOM2IzSmtMQ0JwZGl3Z2RISjFaU2xjYmlBZ2ZTQmxiSE5sSUdsbUlDaGpiMjVtYVdjdWRIbHdaU0E5UFQwZ0oyRjFkR2duS1NCN1hHNGdJQ0FnY21WMGRYSnVJRzVsZHlCQmRYUm9RMmx3YUdWeUtHMXZaR1ZzYVhOMFcyTnZibVpwWnk1dGIyUmxYU3dnY0dGemMzZHZjbVFzSUdsMkxDQjBjblZsS1Z4dUlDQjlYRzRnSUhKbGRIVnliaUJ1WlhjZ1JHVmphWEJvWlhJb2JXOWtaV3hwYzNSYlkyOXVabWxuTG0xdlpHVmRMQ0J3WVhOemQyOXlaQ3dnYVhZcFhHNTlYRzVjYm1aMWJtTjBhVzl1SUdOeVpXRjBaVVJsWTJsd2FHVnlJQ2h6ZFdsMFpTd2djR0Z6YzNkdmNtUXBJSHRjYmlBZ2RtRnlJR052Ym1acFp5QTlJRzF2WkdWelczTjFhWFJsTG5SdlRHOTNaWEpEWVhObEtDbGRYRzRnSUdsbUlDZ2hZMjl1Wm1sbktTQjdYRzRnSUNBZ2RHaHliM2NnYm1WM0lGUjVjR1ZGY25KdmNpZ25hVzUyWVd4cFpDQnpkV2wwWlNCMGVYQmxKeWxjYmlBZ2ZWeHVJQ0IyWVhJZ2EyVjVjeUE5SUdWaWRHc29jR0Z6YzNkdmNtUXNJR1poYkhObExDQmpiMjVtYVdjdWEyVjVMQ0JqYjI1bWFXY3VhWFlwWEc0Z0lISmxkSFZ5YmlCamNtVmhkR1ZFWldOcGNHaGxjbWwyS0hOMWFYUmxMQ0JyWlhsekxtdGxlU3dnYTJWNWN5NXBkaWxjYm4xY2JtVjRjRzl5ZEhNdVkzSmxZWFJsUkdWamFYQm9aWElnUFNCamNtVmhkR1ZFWldOcGNHaGxjbHh1Wlhod2IzSjBjeTVqY21WaGRHVkVaV05wY0dobGNtbDJJRDBnWTNKbFlYUmxSR1ZqYVhCb1pYSnBkbHh1SWwxOSIsIihmdW5jdGlvbiAoQnVmZmVyKXtcbnZhciBtZDUgPSByZXF1aXJlKCdjcmVhdGUtaGFzaC9tZDUnKVxubW9kdWxlLmV4cG9ydHMgPSBFVlBfQnl0ZXNUb0tleVxuZnVuY3Rpb24gRVZQX0J5dGVzVG9LZXkgKHBhc3N3b3JkLCBzYWx0LCBrZXlMZW4sIGl2TGVuKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKHBhc3N3b3JkKSkge1xuICAgIHBhc3N3b3JkID0gbmV3IEJ1ZmZlcihwYXNzd29yZCwgJ2JpbmFyeScpXG4gIH1cbiAgaWYgKHNhbHQgJiYgIUJ1ZmZlci5pc0J1ZmZlcihzYWx0KSkge1xuICAgIHNhbHQgPSBuZXcgQnVmZmVyKHNhbHQsICdiaW5hcnknKVxuICB9XG4gIGtleUxlbiA9IGtleUxlbiAvIDhcbiAgaXZMZW4gPSBpdkxlbiB8fCAwXG4gIHZhciBraSA9IDBcbiAgdmFyIGlpID0gMFxuICB2YXIga2V5ID0gbmV3IEJ1ZmZlcihrZXlMZW4pXG4gIHZhciBpdiA9IG5ldyBCdWZmZXIoaXZMZW4pXG4gIHZhciBhZGRtZCA9IDBcbiAgdmFyIG1kX2J1ZlxuICB2YXIgaVxuICB2YXIgYnVmcyA9IFtdXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgaWYgKGFkZG1kKysgPiAwKSB7XG4gICAgICBidWZzLnB1c2gobWRfYnVmKVxuICAgIH1cbiAgICBidWZzLnB1c2gocGFzc3dvcmQpXG4gICAgaWYgKHNhbHQpIHtcbiAgICAgIGJ1ZnMucHVzaChzYWx0KVxuICAgIH1cbiAgICBtZF9idWYgPSBtZDUoQnVmZmVyLmNvbmNhdChidWZzKSlcbiAgICBidWZzID0gW11cbiAgICBpID0gMFxuICAgIGlmIChrZXlMZW4gPiAwKSB7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBpZiAoa2V5TGVuID09PSAwKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA9PT0gbWRfYnVmLmxlbmd0aCkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAga2V5W2tpKytdID0gbWRfYnVmW2ldXG4gICAgICAgIGtleUxlbi0tXG4gICAgICAgIGkrK1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXZMZW4gPiAwICYmIGkgIT09IG1kX2J1Zi5sZW5ndGgpIHtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGlmIChpdkxlbiA9PT0gMCkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPT09IG1kX2J1Zi5sZW5ndGgpIHtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGl2W2lpKytdID0gbWRfYnVmW2ldXG4gICAgICAgIGl2TGVuLS1cbiAgICAgICAgaSsrXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChrZXlMZW4gPT09IDAgJiYgaXZMZW4gPT09IDApIHtcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG4gIGZvciAoaSA9IDA7IGkgPCBtZF9idWYubGVuZ3RoOyBpKyspIHtcbiAgICBtZF9idWZbaV0gPSAwXG4gIH1cbiAgcmV0dXJuIHtcbiAgICBrZXk6IGtleSxcbiAgICBpdjogaXZcbiAgfVxufVxuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIpXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUwyNXZaR1ZmYlc5a2RXeGxjeTlqY25sd2RHOHRZbkp2ZDNObGNtbG1lUzl1YjJSbFgyMXZaSFZzWlhNdmNIVmliR2xqTFdWdVkzSjVjSFF2Ym05a1pWOXRiMlIxYkdWekwzQmhjbk5sTFdGemJqRXZibTlrWlY5dGIyUjFiR1Z6TDJWMmNGOWllWFJsYzNSdmEyVjVMMmx1WkdWNExtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdRVUZCUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEVpTENKbWFXeGxJam9pWjJWdVpYSmhkR1ZrTG1weklpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYkluWmhjaUJ0WkRVZ1BTQnlaWEYxYVhKbEtDZGpjbVZoZEdVdGFHRnphQzl0WkRVbktWeHViVzlrZFd4bExtVjRjRzl5ZEhNZ1BTQkZWbEJmUW5sMFpYTlViMHRsZVZ4dVpuVnVZM1JwYjI0Z1JWWlFYMEo1ZEdWelZHOUxaWGtnS0hCaGMzTjNiM0prTENCellXeDBMQ0JyWlhsTVpXNHNJR2wyVEdWdUtTQjdYRzRnSUdsbUlDZ2hRblZtWm1WeUxtbHpRblZtWm1WeUtIQmhjM04zYjNKa0tTa2dlMXh1SUNBZ0lIQmhjM04zYjNKa0lEMGdibVYzSUVKMVptWmxjaWh3WVhOemQyOXlaQ3dnSjJKcGJtRnllU2NwWEc0Z0lIMWNiaUFnYVdZZ0tITmhiSFFnSmlZZ0lVSjFabVpsY2k1cGMwSjFabVpsY2loellXeDBLU2tnZTF4dUlDQWdJSE5oYkhRZ1BTQnVaWGNnUW5WbVptVnlLSE5oYkhRc0lDZGlhVzVoY25rbktWeHVJQ0I5WEc0Z0lHdGxlVXhsYmlBOUlHdGxlVXhsYmlBdklEaGNiaUFnYVhaTVpXNGdQU0JwZGt4bGJpQjhmQ0F3WEc0Z0lIWmhjaUJyYVNBOUlEQmNiaUFnZG1GeUlHbHBJRDBnTUZ4dUlDQjJZWElnYTJWNUlEMGdibVYzSUVKMVptWmxjaWhyWlhsTVpXNHBYRzRnSUhaaGNpQnBkaUE5SUc1bGR5QkNkV1ptWlhJb2FYWk1aVzRwWEc0Z0lIWmhjaUJoWkdSdFpDQTlJREJjYmlBZ2RtRnlJRzFrWDJKMVpseHVJQ0IyWVhJZ2FWeHVJQ0IyWVhJZ1luVm1jeUE5SUZ0ZFhHNGdJSGRvYVd4bElDaDBjblZsS1NCN1hHNGdJQ0FnYVdZZ0tHRmtaRzFrS3lzZ1BpQXdLU0I3WEc0Z0lDQWdJQ0JpZFdaekxuQjFjMmdvYldSZlluVm1LVnh1SUNBZ0lIMWNiaUFnSUNCaWRXWnpMbkIxYzJnb2NHRnpjM2R2Y21RcFhHNGdJQ0FnYVdZZ0tITmhiSFFwSUh0Y2JpQWdJQ0FnSUdKMVpuTXVjSFZ6YUNoellXeDBLVnh1SUNBZ0lIMWNiaUFnSUNCdFpGOWlkV1lnUFNCdFpEVW9RblZtWm1WeUxtTnZibU5oZENoaWRXWnpLU2xjYmlBZ0lDQmlkV1p6SUQwZ1cxMWNiaUFnSUNCcElEMGdNRnh1SUNBZ0lHbG1JQ2hyWlhsTVpXNGdQaUF3S1NCN1hHNGdJQ0FnSUNCM2FHbHNaU0FvZEhKMVpTa2dlMXh1SUNBZ0lDQWdJQ0JwWmlBb2EyVjVUR1Z1SUQwOVBTQXdLU0I3WEc0Z0lDQWdJQ0FnSUNBZ1luSmxZV3RjYmlBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnSUNCcFppQW9hU0E5UFQwZ2JXUmZZblZtTG14bGJtZDBhQ2tnZTF4dUlDQWdJQ0FnSUNBZ0lHSnlaV0ZyWEc0Z0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUNBZ2EyVjVXMnRwS3l0ZElEMGdiV1JmWW5WbVcybGRYRzRnSUNBZ0lDQWdJR3RsZVV4bGJpMHRYRzRnSUNBZ0lDQWdJR2tySzF4dUlDQWdJQ0FnZlZ4dUlDQWdJSDFjYmlBZ0lDQnBaaUFvYVhaTVpXNGdQaUF3SUNZbUlHa2dJVDA5SUcxa1gySjFaaTVzWlc1bmRHZ3BJSHRjYmlBZ0lDQWdJSGRvYVd4bElDaDBjblZsS1NCN1hHNGdJQ0FnSUNBZ0lHbG1JQ2hwZGt4bGJpQTlQVDBnTUNrZ2UxeHVJQ0FnSUNBZ0lDQWdJR0p5WldGclhHNGdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdhV1lnS0drZ1BUMDlJRzFrWDJKMVppNXNaVzVuZEdncElIdGNiaUFnSUNBZ0lDQWdJQ0JpY21WaGExeHVJQ0FnSUNBZ0lDQjlYRzRnSUNBZ0lDQWdJR2wyVzJscEt5dGRJRDBnYldSZlluVm1XMmxkWEc0Z0lDQWdJQ0FnSUdsMlRHVnVMUzFjYmlBZ0lDQWdJQ0FnYVNzclhHNGdJQ0FnSUNCOVhHNGdJQ0FnZlZ4dUlDQWdJR2xtSUNoclpYbE1aVzRnUFQwOUlEQWdKaVlnYVhaTVpXNGdQVDA5SURBcElIdGNiaUFnSUNBZ0lHSnlaV0ZyWEc0Z0lDQWdmVnh1SUNCOVhHNGdJR1p2Y2lBb2FTQTlJREE3SUdrZ1BDQnRaRjlpZFdZdWJHVnVaM1JvT3lCcEt5c3BJSHRjYmlBZ0lDQnRaRjlpZFdaYmFWMGdQU0F3WEc0Z0lIMWNiaUFnY21WMGRYSnVJSHRjYmlBZ0lDQnJaWGs2SUd0bGVTeGNiaUFnSUNCcGRqb2dhWFpjYmlBZ2ZWeHVmVnh1SWwxOSIsIihmdW5jdGlvbiAoQnVmZmVyKXtcbnZhciBhZXMgPSByZXF1aXJlKCcuL2FlcycpXG52YXIgVHJhbnNmb3JtID0gcmVxdWlyZSgnY2lwaGVyLWJhc2UnKVxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxuXG5pbmhlcml0cyhTdHJlYW1DaXBoZXIsIFRyYW5zZm9ybSlcbm1vZHVsZS5leHBvcnRzID0gU3RyZWFtQ2lwaGVyXG5mdW5jdGlvbiBTdHJlYW1DaXBoZXIgKG1vZGUsIGtleSwgaXYsIGRlY3J5cHQpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFN0cmVhbUNpcGhlcikpIHtcbiAgICByZXR1cm4gbmV3IFN0cmVhbUNpcGhlcihtb2RlLCBrZXksIGl2KVxuICB9XG4gIFRyYW5zZm9ybS5jYWxsKHRoaXMpXG4gIHRoaXMuX2NpcGhlciA9IG5ldyBhZXMuQUVTKGtleSlcbiAgdGhpcy5fcHJldiA9IG5ldyBCdWZmZXIoaXYubGVuZ3RoKVxuICB0aGlzLl9jYWNoZSA9IG5ldyBCdWZmZXIoJycpXG4gIHRoaXMuX3NlY0NhY2hlID0gbmV3IEJ1ZmZlcignJylcbiAgdGhpcy5fZGVjcnlwdCA9IGRlY3J5cHRcbiAgaXYuY29weSh0aGlzLl9wcmV2KVxuICB0aGlzLl9tb2RlID0gbW9kZVxufVxuU3RyZWFtQ2lwaGVyLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKGNodW5rKSB7XG4gIHJldHVybiB0aGlzLl9tb2RlLmVuY3J5cHQodGhpcywgY2h1bmssIHRoaXMuX2RlY3J5cHQpXG59XG5TdHJlYW1DaXBoZXIucHJvdG90eXBlLl9maW5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fY2lwaGVyLnNjcnViKClcbn1cblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZjSFZpYkdsakxXVnVZM0o1Y0hRdmJtOWtaVjl0YjJSMWJHVnpMM0JoY25ObExXRnpiakV2Ym05a1pWOXRiMlIxYkdWekwySnliM2R6WlhKcFpua3RZV1Z6TDNOMGNtVmhiVU5wY0dobGNpNXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPMEZCUVVFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVNJc0ltWnBiR1VpT2lKblpXNWxjbUYwWldRdWFuTWlMQ0p6YjNWeVkyVlNiMjkwSWpvaUlpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2lkbUZ5SUdGbGN5QTlJSEpsY1hWcGNtVW9KeTR2WVdWekp5bGNiblpoY2lCVWNtRnVjMlp2Y20wZ1BTQnlaWEYxYVhKbEtDZGphWEJvWlhJdFltRnpaU2NwWEc1MllYSWdhVzVvWlhKcGRITWdQU0J5WlhGMWFYSmxLQ2RwYm1obGNtbDBjeWNwWEc1Y2JtbHVhR1Z5YVhSektGTjBjbVZoYlVOcGNHaGxjaXdnVkhKaGJuTm1iM0p0S1Z4dWJXOWtkV3hsTG1WNGNHOXlkSE1nUFNCVGRISmxZVzFEYVhCb1pYSmNibVoxYm1OMGFXOXVJRk4wY21WaGJVTnBjR2hsY2lBb2JXOWtaU3dnYTJWNUxDQnBkaXdnWkdWamNubHdkQ2tnZTF4dUlDQnBaaUFvSVNoMGFHbHpJR2x1YzNSaGJtTmxiMllnVTNSeVpXRnRRMmx3YUdWeUtTa2dlMXh1SUNBZ0lISmxkSFZ5YmlCdVpYY2dVM1J5WldGdFEybHdhR1Z5S0cxdlpHVXNJR3RsZVN3Z2FYWXBYRzRnSUgxY2JpQWdWSEpoYm5ObWIzSnRMbU5oYkd3b2RHaHBjeWxjYmlBZ2RHaHBjeTVmWTJsd2FHVnlJRDBnYm1WM0lHRmxjeTVCUlZNb2EyVjVLVnh1SUNCMGFHbHpMbDl3Y21WMklEMGdibVYzSUVKMVptWmxjaWhwZGk1c1pXNW5kR2dwWEc0Z0lIUm9hWE11WDJOaFkyaGxJRDBnYm1WM0lFSjFabVpsY2lnbkp5bGNiaUFnZEdocGN5NWZjMlZqUTJGamFHVWdQU0J1WlhjZ1FuVm1abVZ5S0NjbktWeHVJQ0IwYUdsekxsOWtaV055ZVhCMElEMGdaR1ZqY25sd2RGeHVJQ0JwZGk1amIzQjVLSFJvYVhNdVgzQnlaWFlwWEc0Z0lIUm9hWE11WDIxdlpHVWdQU0J0YjJSbFhHNTlYRzVUZEhKbFlXMURhWEJvWlhJdWNISnZkRzkwZVhCbExsOTFjR1JoZEdVZ1BTQm1kVzVqZEdsdmJpQW9ZMmgxYm1zcElIdGNiaUFnY21WMGRYSnVJSFJvYVhNdVgyMXZaR1V1Wlc1amNubHdkQ2gwYUdsekxDQmphSFZ1YXl3Z2RHaHBjeTVmWkdWamNubHdkQ2xjYm4xY2JsTjBjbVZoYlVOcGNHaGxjaTV3Y205MGIzUjVjR1V1WDJacGJtRnNJRDBnWm5WdVkzUnBiMjRnS0NrZ2UxeHVJQ0IwYUdsekxsOWphWEJvWlhJdWMyTnlkV0lvS1Z4dWZWeHVJbDE5IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xudmFyIHhvciA9IHJlcXVpcmUoJ2J1ZmZlci14b3InKVxuXG5mdW5jdGlvbiBnZXRCbG9jayAoc2VsZikge1xuICBzZWxmLl9wcmV2ID0gc2VsZi5fY2lwaGVyLmVuY3J5cHRCbG9jayhzZWxmLl9wcmV2KVxuICByZXR1cm4gc2VsZi5fcHJldlxufVxuXG5leHBvcnRzLmVuY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgY2h1bmspIHtcbiAgd2hpbGUgKHNlbGYuX2NhY2hlLmxlbmd0aCA8IGNodW5rLmxlbmd0aCkge1xuICAgIHNlbGYuX2NhY2hlID0gQnVmZmVyLmNvbmNhdChbc2VsZi5fY2FjaGUsIGdldEJsb2NrKHNlbGYpXSlcbiAgfVxuXG4gIHZhciBwYWQgPSBzZWxmLl9jYWNoZS5zbGljZSgwLCBjaHVuay5sZW5ndGgpXG4gIHNlbGYuX2NhY2hlID0gc2VsZi5fY2FjaGUuc2xpY2UoY2h1bmsubGVuZ3RoKVxuICByZXR1cm4geG9yKGNodW5rLCBwYWQpXG59XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12Y0hWaWJHbGpMV1Z1WTNKNWNIUXZibTlrWlY5dGIyUjFiR1Z6TDNCaGNuTmxMV0Z6YmpFdmJtOWtaVjl0YjJSMWJHVnpMMkp5YjNkelpYSnBabmt0WVdWekwyMXZaR1Z6TDI5bVlpNXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPMEZCUVVFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVNJc0ltWnBiR1VpT2lKblpXNWxjbUYwWldRdWFuTWlMQ0p6YjNWeVkyVlNiMjkwSWpvaUlpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2lkbUZ5SUhodmNpQTlJSEpsY1hWcGNtVW9KMkoxWm1abGNpMTRiM0luS1Z4dVhHNW1kVzVqZEdsdmJpQm5aWFJDYkc5amF5QW9jMlZzWmlrZ2UxeHVJQ0J6Wld4bUxsOXdjbVYySUQwZ2MyVnNaaTVmWTJsd2FHVnlMbVZ1WTNKNWNIUkNiRzlqYXloelpXeG1MbDl3Y21WMktWeHVJQ0J5WlhSMWNtNGdjMlZzWmk1ZmNISmxkbHh1ZlZ4dVhHNWxlSEJ2Y25SekxtVnVZM0o1Y0hRZ1BTQm1kVzVqZEdsdmJpQW9jMlZzWml3Z1kyaDFibXNwSUh0Y2JpQWdkMmhwYkdVZ0tITmxiR1l1WDJOaFkyaGxMbXhsYm1kMGFDQThJR05vZFc1ckxteGxibWQwYUNrZ2UxeHVJQ0FnSUhObGJHWXVYMk5oWTJobElEMGdRblZtWm1WeUxtTnZibU5oZENoYmMyVnNaaTVmWTJGamFHVXNJR2RsZEVKc2IyTnJLSE5sYkdZcFhTbGNiaUFnZlZ4dVhHNGdJSFpoY2lCd1lXUWdQU0J6Wld4bUxsOWpZV05vWlM1emJHbGpaU2d3TENCamFIVnVheTVzWlc1bmRHZ3BYRzRnSUhObGJHWXVYMk5oWTJobElEMGdjMlZzWmk1ZlkyRmphR1V1YzJ4cFkyVW9ZMmgxYm1zdWJHVnVaM1JvS1Z4dUlDQnlaWFIxY200Z2VHOXlLR05vZFc1ckxDQndZV1FwWEc1OVhHNGlYWDA9IiwiYXJndW1lbnRzWzRdW1wiL2hvbWUvdWJ1bnR1L3N0YWdpbmcvYXBwcy9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvbW9kZXMvZWNiLmpzXCJdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKSIsIihmdW5jdGlvbiAoQnVmZmVyKXtcbnZhciB4b3IgPSByZXF1aXJlKCdidWZmZXIteG9yJylcblxuZnVuY3Rpb24gaW5jcjMyIChpdikge1xuICB2YXIgbGVuID0gaXYubGVuZ3RoXG4gIHZhciBpdGVtXG4gIHdoaWxlIChsZW4tLSkge1xuICAgIGl0ZW0gPSBpdi5yZWFkVUludDgobGVuKVxuICAgIGlmIChpdGVtID09PSAyNTUpIHtcbiAgICAgIGl2LndyaXRlVUludDgoMCwgbGVuKVxuICAgIH0gZWxzZSB7XG4gICAgICBpdGVtKytcbiAgICAgIGl2LndyaXRlVUludDgoaXRlbSwgbGVuKVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0QmxvY2sgKHNlbGYpIHtcbiAgdmFyIG91dCA9IHNlbGYuX2NpcGhlci5lbmNyeXB0QmxvY2soc2VsZi5fcHJldilcbiAgaW5jcjMyKHNlbGYuX3ByZXYpXG4gIHJldHVybiBvdXRcbn1cblxuZXhwb3J0cy5lbmNyeXB0ID0gZnVuY3Rpb24gKHNlbGYsIGNodW5rKSB7XG4gIHdoaWxlIChzZWxmLl9jYWNoZS5sZW5ndGggPCBjaHVuay5sZW5ndGgpIHtcbiAgICBzZWxmLl9jYWNoZSA9IEJ1ZmZlci5jb25jYXQoW3NlbGYuX2NhY2hlLCBnZXRCbG9jayhzZWxmKV0pXG4gIH1cbiAgdmFyIHBhZCA9IHNlbGYuX2NhY2hlLnNsaWNlKDAsIGNodW5rLmxlbmd0aClcbiAgc2VsZi5fY2FjaGUgPSBzZWxmLl9jYWNoZS5zbGljZShjaHVuay5sZW5ndGgpXG4gIHJldHVybiB4b3IoY2h1bmssIHBhZClcbn1cblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZjSFZpYkdsakxXVnVZM0o1Y0hRdmJtOWtaVjl0YjJSMWJHVnpMM0JoY25ObExXRnpiakV2Ym05a1pWOXRiMlIxYkdWekwySnliM2R6WlhKcFpua3RZV1Z6TDIxdlpHVnpMMk4wY2k1cWN5SmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaU8wRkJRVUU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVNJc0ltWnBiR1VpT2lKblpXNWxjbUYwWldRdWFuTWlMQ0p6YjNWeVkyVlNiMjkwSWpvaUlpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2lkbUZ5SUhodmNpQTlJSEpsY1hWcGNtVW9KMkoxWm1abGNpMTRiM0luS1Z4dVhHNW1kVzVqZEdsdmJpQnBibU55TXpJZ0tHbDJLU0I3WEc0Z0lIWmhjaUJzWlc0Z1BTQnBkaTVzWlc1bmRHaGNiaUFnZG1GeUlHbDBaVzFjYmlBZ2QyaHBiR1VnS0d4bGJpMHRLU0I3WEc0Z0lDQWdhWFJsYlNBOUlHbDJMbkpsWVdSVlNXNTBPQ2hzWlc0cFhHNGdJQ0FnYVdZZ0tHbDBaVzBnUFQwOUlESTFOU2tnZTF4dUlDQWdJQ0FnYVhZdWQzSnBkR1ZWU1c1ME9DZ3dMQ0JzWlc0cFhHNGdJQ0FnZlNCbGJITmxJSHRjYmlBZ0lDQWdJR2wwWlcwcksxeHVJQ0FnSUNBZ2FYWXVkM0pwZEdWVlNXNTBPQ2hwZEdWdExDQnNaVzRwWEc0Z0lDQWdJQ0JpY21WaGExeHVJQ0FnSUgxY2JpQWdmVnh1ZlZ4dVhHNW1kVzVqZEdsdmJpQm5aWFJDYkc5amF5QW9jMlZzWmlrZ2UxeHVJQ0IyWVhJZ2IzVjBJRDBnYzJWc1ppNWZZMmx3YUdWeUxtVnVZM0o1Y0hSQ2JHOWpheWh6Wld4bUxsOXdjbVYyS1Z4dUlDQnBibU55TXpJb2MyVnNaaTVmY0hKbGRpbGNiaUFnY21WMGRYSnVJRzkxZEZ4dWZWeHVYRzVsZUhCdmNuUnpMbVZ1WTNKNWNIUWdQU0JtZFc1amRHbHZiaUFvYzJWc1ppd2dZMmgxYm1zcElIdGNiaUFnZDJocGJHVWdLSE5sYkdZdVgyTmhZMmhsTG14bGJtZDBhQ0E4SUdOb2RXNXJMbXhsYm1kMGFDa2dlMXh1SUNBZ0lITmxiR1l1WDJOaFkyaGxJRDBnUW5WbVptVnlMbU52Ym1OaGRDaGJjMlZzWmk1ZlkyRmphR1VzSUdkbGRFSnNiMk5yS0hObGJHWXBYU2xjYmlBZ2ZWeHVJQ0IyWVhJZ2NHRmtJRDBnYzJWc1ppNWZZMkZqYUdVdWMyeHBZMlVvTUN3Z1kyaDFibXN1YkdWdVozUm9LVnh1SUNCelpXeG1MbDlqWVdOb1pTQTlJSE5sYkdZdVgyTmhZMmhsTG5Oc2FXTmxLR05vZFc1ckxteGxibWQwYUNsY2JpQWdjbVYwZFhKdUlIaHZjaWhqYUhWdWF5d2djR0ZrS1Z4dWZWeHVJbDE5IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xuZnVuY3Rpb24gZW5jcnlwdEJ5dGUgKHNlbGYsIGJ5dGVQYXJhbSwgZGVjcnlwdCkge1xuICB2YXIgcGFkID0gc2VsZi5fY2lwaGVyLmVuY3J5cHRCbG9jayhzZWxmLl9wcmV2KVxuICB2YXIgb3V0ID0gcGFkWzBdIF4gYnl0ZVBhcmFtXG4gIHNlbGYuX3ByZXYgPSBCdWZmZXIuY29uY2F0KFtzZWxmLl9wcmV2LnNsaWNlKDEpLCBuZXcgQnVmZmVyKFtkZWNyeXB0ID8gYnl0ZVBhcmFtIDogb3V0XSldKVxuICByZXR1cm4gb3V0XG59XG5leHBvcnRzLmVuY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgY2h1bmssIGRlY3J5cHQpIHtcbiAgdmFyIGxlbiA9IGNodW5rLmxlbmd0aFxuICB2YXIgb3V0ID0gbmV3IEJ1ZmZlcihsZW4pXG4gIHZhciBpID0gLTFcbiAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgIG91dFtpXSA9IGVuY3J5cHRCeXRlKHNlbGYsIGNodW5rW2ldLCBkZWNyeXB0KVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZjSFZpYkdsakxXVnVZM0o1Y0hRdmJtOWtaVjl0YjJSMWJHVnpMM0JoY25ObExXRnpiakV2Ym05a1pWOXRiMlIxYkdWekwySnliM2R6WlhKcFpua3RZV1Z6TDIxdlpHVnpMMk5tWWpndWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqdEJRVUZCTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQklpd2labWxzWlNJNkltZGxibVZ5WVhSbFpDNXFjeUlzSW5OdmRYSmpaVkp2YjNRaU9pSWlMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXeUptZFc1amRHbHZiaUJsYm1OeWVYQjBRbmwwWlNBb2MyVnNaaXdnWW5sMFpWQmhjbUZ0TENCa1pXTnllWEIwS1NCN1hHNGdJSFpoY2lCd1lXUWdQU0J6Wld4bUxsOWphWEJvWlhJdVpXNWpjbmx3ZEVKc2IyTnJLSE5sYkdZdVgzQnlaWFlwWEc0Z0lIWmhjaUJ2ZFhRZ1BTQndZV1JiTUYwZ1hpQmllWFJsVUdGeVlXMWNiaUFnYzJWc1ppNWZjSEpsZGlBOUlFSjFabVpsY2k1amIyNWpZWFFvVzNObGJHWXVYM0J5WlhZdWMyeHBZMlVvTVNrc0lHNWxkeUJDZFdabVpYSW9XMlJsWTNKNWNIUWdQeUJpZVhSbFVHRnlZVzBnT2lCdmRYUmRLVjBwWEc0Z0lISmxkSFZ5YmlCdmRYUmNibjFjYm1WNGNHOXlkSE11Wlc1amNubHdkQ0E5SUdaMWJtTjBhVzl1SUNoelpXeG1MQ0JqYUhWdWF5d2daR1ZqY25sd2RDa2dlMXh1SUNCMllYSWdiR1Z1SUQwZ1kyaDFibXN1YkdWdVozUm9YRzRnSUhaaGNpQnZkWFFnUFNCdVpYY2dRblZtWm1WeUtHeGxiaWxjYmlBZ2RtRnlJR2tnUFNBdE1WeHVJQ0IzYUdsc1pTQW9LeXRwSUR3Z2JHVnVLU0I3WEc0Z0lDQWdiM1YwVzJsZElEMGdaVzVqY25sd2RFSjVkR1VvYzJWc1ppd2dZMmgxYm10YmFWMHNJR1JsWTNKNWNIUXBYRzRnSUgxY2JpQWdjbVYwZFhKdUlHOTFkRnh1ZlZ4dUlsMTkiLCIoZnVuY3Rpb24gKEJ1ZmZlcil7XG5mdW5jdGlvbiBlbmNyeXB0Qnl0ZSAoc2VsZiwgYnl0ZVBhcmFtLCBkZWNyeXB0KSB7XG4gIHZhciBwYWRcbiAgdmFyIGkgPSAtMVxuICB2YXIgbGVuID0gOFxuICB2YXIgb3V0ID0gMFxuICB2YXIgYml0LCB2YWx1ZVxuICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgcGFkID0gc2VsZi5fY2lwaGVyLmVuY3J5cHRCbG9jayhzZWxmLl9wcmV2KVxuICAgIGJpdCA9IChieXRlUGFyYW0gJiAoMSA8PCAoNyAtIGkpKSkgPyAweDgwIDogMFxuICAgIHZhbHVlID0gcGFkWzBdIF4gYml0XG4gICAgb3V0ICs9ICgodmFsdWUgJiAweDgwKSA+PiAoaSAlIDgpKVxuICAgIHNlbGYuX3ByZXYgPSBzaGlmdEluKHNlbGYuX3ByZXYsIGRlY3J5cHQgPyBiaXQgOiB2YWx1ZSlcbiAgfVxuICByZXR1cm4gb3V0XG59XG5leHBvcnRzLmVuY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgY2h1bmssIGRlY3J5cHQpIHtcbiAgdmFyIGxlbiA9IGNodW5rLmxlbmd0aFxuICB2YXIgb3V0ID0gbmV3IEJ1ZmZlcihsZW4pXG4gIHZhciBpID0gLTFcbiAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgIG91dFtpXSA9IGVuY3J5cHRCeXRlKHNlbGYsIGNodW5rW2ldLCBkZWNyeXB0KVxuICB9XG4gIHJldHVybiBvdXRcbn1cbmZ1bmN0aW9uIHNoaWZ0SW4gKGJ1ZmZlciwgdmFsdWUpIHtcbiAgdmFyIGxlbiA9IGJ1ZmZlci5sZW5ndGhcbiAgdmFyIGkgPSAtMVxuICB2YXIgb3V0ID0gbmV3IEJ1ZmZlcihidWZmZXIubGVuZ3RoKVxuICBidWZmZXIgPSBCdWZmZXIuY29uY2F0KFtidWZmZXIsIG5ldyBCdWZmZXIoW3ZhbHVlXSldKVxuICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgb3V0W2ldID0gYnVmZmVyW2ldIDw8IDEgfCBidWZmZXJbaSArIDFdID4+ICg3KVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZjSFZpYkdsakxXVnVZM0o1Y0hRdmJtOWtaVjl0YjJSMWJHVnpMM0JoY25ObExXRnpiakV2Ym05a1pWOXRiMlIxYkdWekwySnliM2R6WlhKcFpua3RZV1Z6TDIxdlpHVnpMMk5tWWpFdWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqdEJRVUZCTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEVpTENKbWFXeGxJam9pWjJWdVpYSmhkR1ZrTG1weklpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYkltWjFibU4wYVc5dUlHVnVZM0o1Y0hSQ2VYUmxJQ2h6Wld4bUxDQmllWFJsVUdGeVlXMHNJR1JsWTNKNWNIUXBJSHRjYmlBZ2RtRnlJSEJoWkZ4dUlDQjJZWElnYVNBOUlDMHhYRzRnSUhaaGNpQnNaVzRnUFNBNFhHNGdJSFpoY2lCdmRYUWdQU0F3WEc0Z0lIWmhjaUJpYVhRc0lIWmhiSFZsWEc0Z0lIZG9hV3hsSUNncksya2dQQ0JzWlc0cElIdGNiaUFnSUNCd1lXUWdQU0J6Wld4bUxsOWphWEJvWlhJdVpXNWpjbmx3ZEVKc2IyTnJLSE5sYkdZdVgzQnlaWFlwWEc0Z0lDQWdZbWwwSUQwZ0tHSjVkR1ZRWVhKaGJTQW1JQ2d4SUR3OElDZzNJQzBnYVNrcEtTQS9JREI0T0RBZ09pQXdYRzRnSUNBZ2RtRnNkV1VnUFNCd1lXUmJNRjBnWGlCaWFYUmNiaUFnSUNCdmRYUWdLejBnS0NoMllXeDFaU0FtSURCNE9EQXBJRDQrSUNocElDVWdPQ2twWEc0Z0lDQWdjMlZzWmk1ZmNISmxkaUE5SUhOb2FXWjBTVzRvYzJWc1ppNWZjSEpsZGl3Z1pHVmpjbmx3ZENBL0lHSnBkQ0E2SUhaaGJIVmxLVnh1SUNCOVhHNGdJSEpsZEhWeWJpQnZkWFJjYm4xY2JtVjRjRzl5ZEhNdVpXNWpjbmx3ZENBOUlHWjFibU4wYVc5dUlDaHpaV3htTENCamFIVnVheXdnWkdWamNubHdkQ2tnZTF4dUlDQjJZWElnYkdWdUlEMGdZMmgxYm1zdWJHVnVaM1JvWEc0Z0lIWmhjaUJ2ZFhRZ1BTQnVaWGNnUW5WbVptVnlLR3hsYmlsY2JpQWdkbUZ5SUdrZ1BTQXRNVnh1SUNCM2FHbHNaU0FvS3l0cElEd2diR1Z1S1NCN1hHNGdJQ0FnYjNWMFcybGRJRDBnWlc1amNubHdkRUo1ZEdVb2MyVnNaaXdnWTJoMWJtdGJhVjBzSUdSbFkzSjVjSFFwWEc0Z0lIMWNiaUFnY21WMGRYSnVJRzkxZEZ4dWZWeHVablZ1WTNScGIyNGdjMmhwWm5SSmJpQW9ZblZtWm1WeUxDQjJZV3gxWlNrZ2UxeHVJQ0IyWVhJZ2JHVnVJRDBnWW5WbVptVnlMbXhsYm1kMGFGeHVJQ0IyWVhJZ2FTQTlJQzB4WEc0Z0lIWmhjaUJ2ZFhRZ1BTQnVaWGNnUW5WbVptVnlLR0oxWm1abGNpNXNaVzVuZEdncFhHNGdJR0oxWm1abGNpQTlJRUoxWm1abGNpNWpiMjVqWVhRb1cySjFabVpsY2l3Z2JtVjNJRUoxWm1abGNpaGJkbUZzZFdWZEtWMHBYRzRnSUhkb2FXeGxJQ2dySzJrZ1BDQnNaVzRwSUh0Y2JpQWdJQ0J2ZFhSYmFWMGdQU0JpZFdabVpYSmJhVjBnUER3Z01TQjhJR0oxWm1abGNsdHBJQ3NnTVYwZ1BqNGdLRGNwWEc0Z0lIMWNiaUFnY21WMGRYSnVJRzkxZEZ4dWZWeHVJbDE5IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xudmFyIHhvciA9IHJlcXVpcmUoJ2J1ZmZlci14b3InKVxuXG5leHBvcnRzLmVuY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgZGF0YSwgZGVjcnlwdCkge1xuICB2YXIgb3V0ID0gbmV3IEJ1ZmZlcignJylcbiAgdmFyIGxlblxuXG4gIHdoaWxlIChkYXRhLmxlbmd0aCkge1xuICAgIGlmIChzZWxmLl9jYWNoZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHNlbGYuX2NhY2hlID0gc2VsZi5fY2lwaGVyLmVuY3J5cHRCbG9jayhzZWxmLl9wcmV2KVxuICAgICAgc2VsZi5fcHJldiA9IG5ldyBCdWZmZXIoJycpXG4gICAgfVxuXG4gICAgaWYgKHNlbGYuX2NhY2hlLmxlbmd0aCA8PSBkYXRhLmxlbmd0aCkge1xuICAgICAgbGVuID0gc2VsZi5fY2FjaGUubGVuZ3RoXG4gICAgICBvdXQgPSBCdWZmZXIuY29uY2F0KFtvdXQsIGVuY3J5cHRTdGFydChzZWxmLCBkYXRhLnNsaWNlKDAsIGxlbiksIGRlY3J5cHQpXSlcbiAgICAgIGRhdGEgPSBkYXRhLnNsaWNlKGxlbilcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0ID0gQnVmZmVyLmNvbmNhdChbb3V0LCBlbmNyeXB0U3RhcnQoc2VsZiwgZGF0YSwgZGVjcnlwdCldKVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb3V0XG59XG5mdW5jdGlvbiBlbmNyeXB0U3RhcnQgKHNlbGYsIGRhdGEsIGRlY3J5cHQpIHtcbiAgdmFyIGxlbiA9IGRhdGEubGVuZ3RoXG4gIHZhciBvdXQgPSB4b3IoZGF0YSwgc2VsZi5fY2FjaGUpXG4gIHNlbGYuX2NhY2hlID0gc2VsZi5fY2FjaGUuc2xpY2UobGVuKVxuICBzZWxmLl9wcmV2ID0gQnVmZmVyLmNvbmNhdChbc2VsZi5fcHJldiwgZGVjcnlwdCA/IGRhdGEgOiBvdXRdKVxuICByZXR1cm4gb3V0XG59XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12Y0hWaWJHbGpMV1Z1WTNKNWNIUXZibTlrWlY5dGIyUjFiR1Z6TDNCaGNuTmxMV0Z6YmpFdmJtOWtaVjl0YjJSMWJHVnpMMkp5YjNkelpYSnBabmt0WVdWekwyMXZaR1Z6TDJObVlpNXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPMEZCUVVFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFTSXNJbVpwYkdVaU9pSm5aVzVsY21GMFpXUXVhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpZG1GeUlIaHZjaUE5SUhKbGNYVnBjbVVvSjJKMVptWmxjaTE0YjNJbktWeHVYRzVsZUhCdmNuUnpMbVZ1WTNKNWNIUWdQU0JtZFc1amRHbHZiaUFvYzJWc1ppd2daR0YwWVN3Z1pHVmpjbmx3ZENrZ2UxeHVJQ0IyWVhJZ2IzVjBJRDBnYm1WM0lFSjFabVpsY2lnbkp5bGNiaUFnZG1GeUlHeGxibHh1WEc0Z0lIZG9hV3hsSUNoa1lYUmhMbXhsYm1kMGFDa2dlMXh1SUNBZ0lHbG1JQ2h6Wld4bUxsOWpZV05vWlM1c1pXNW5kR2dnUFQwOUlEQXBJSHRjYmlBZ0lDQWdJSE5sYkdZdVgyTmhZMmhsSUQwZ2MyVnNaaTVmWTJsd2FHVnlMbVZ1WTNKNWNIUkNiRzlqYXloelpXeG1MbDl3Y21WMktWeHVJQ0FnSUNBZ2MyVnNaaTVmY0hKbGRpQTlJRzVsZHlCQ2RXWm1aWElvSnljcFhHNGdJQ0FnZlZ4dVhHNGdJQ0FnYVdZZ0tITmxiR1l1WDJOaFkyaGxMbXhsYm1kMGFDQThQU0JrWVhSaExteGxibWQwYUNrZ2UxeHVJQ0FnSUNBZ2JHVnVJRDBnYzJWc1ppNWZZMkZqYUdVdWJHVnVaM1JvWEc0Z0lDQWdJQ0J2ZFhRZ1BTQkNkV1ptWlhJdVkyOXVZMkYwS0Z0dmRYUXNJR1Z1WTNKNWNIUlRkR0Z5ZENoelpXeG1MQ0JrWVhSaExuTnNhV05sS0RBc0lHeGxiaWtzSUdSbFkzSjVjSFFwWFNsY2JpQWdJQ0FnSUdSaGRHRWdQU0JrWVhSaExuTnNhV05sS0d4bGJpbGNiaUFnSUNCOUlHVnNjMlVnZTF4dUlDQWdJQ0FnYjNWMElEMGdRblZtWm1WeUxtTnZibU5oZENoYmIzVjBMQ0JsYm1OeWVYQjBVM1JoY25Rb2MyVnNaaXdnWkdGMFlTd2daR1ZqY25sd2RDbGRLVnh1SUNBZ0lDQWdZbkpsWVd0Y2JpQWdJQ0I5WEc0Z0lIMWNibHh1SUNCeVpYUjFjbTRnYjNWMFhHNTlYRzVtZFc1amRHbHZiaUJsYm1OeWVYQjBVM1JoY25RZ0tITmxiR1lzSUdSaGRHRXNJR1JsWTNKNWNIUXBJSHRjYmlBZ2RtRnlJR3hsYmlBOUlHUmhkR0V1YkdWdVozUm9YRzRnSUhaaGNpQnZkWFFnUFNCNGIzSW9aR0YwWVN3Z2MyVnNaaTVmWTJGamFHVXBYRzRnSUhObGJHWXVYMk5oWTJobElEMGdjMlZzWmk1ZlkyRmphR1V1YzJ4cFkyVW9iR1Z1S1Z4dUlDQnpaV3htTGw5d2NtVjJJRDBnUW5WbVptVnlMbU52Ym1OaGRDaGJjMlZzWmk1ZmNISmxkaXdnWkdWamNubHdkQ0EvSUdSaGRHRWdPaUJ2ZFhSZEtWeHVJQ0J5WlhSMWNtNGdiM1YwWEc1OVhHNGlYWDA9IiwiYXJndW1lbnRzWzRdW1wiL2hvbWUvdWJ1bnR1L3N0YWdpbmcvYXBwcy9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvbW9kZXMvY2JjLmpzXCJdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKSIsImFyZ3VtZW50c1s0XVtcIi9ob21lL3VidW50dS9zdGFnaW5nL2FwcHMvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL21vZGVzLmpzXCJdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKSIsIihmdW5jdGlvbiAoQnVmZmVyKXtcbnZhciBhZXMgPSByZXF1aXJlKCcuL2FlcycpXG52YXIgVHJhbnNmb3JtID0gcmVxdWlyZSgnY2lwaGVyLWJhc2UnKVxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxudmFyIEdIQVNIID0gcmVxdWlyZSgnLi9naGFzaCcpXG52YXIgeG9yID0gcmVxdWlyZSgnYnVmZmVyLXhvcicpXG5pbmhlcml0cyhTdHJlYW1DaXBoZXIsIFRyYW5zZm9ybSlcbm1vZHVsZS5leHBvcnRzID0gU3RyZWFtQ2lwaGVyXG5cbmZ1bmN0aW9uIFN0cmVhbUNpcGhlciAobW9kZSwga2V5LCBpdiwgZGVjcnlwdCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU3RyZWFtQ2lwaGVyKSkge1xuICAgIHJldHVybiBuZXcgU3RyZWFtQ2lwaGVyKG1vZGUsIGtleSwgaXYpXG4gIH1cbiAgVHJhbnNmb3JtLmNhbGwodGhpcylcbiAgdGhpcy5fZmluSUQgPSBCdWZmZXIuY29uY2F0KFtpdiwgbmV3IEJ1ZmZlcihbMCwgMCwgMCwgMV0pXSlcbiAgaXYgPSBCdWZmZXIuY29uY2F0KFtpdiwgbmV3IEJ1ZmZlcihbMCwgMCwgMCwgMl0pXSlcbiAgdGhpcy5fY2lwaGVyID0gbmV3IGFlcy5BRVMoa2V5KVxuICB0aGlzLl9wcmV2ID0gbmV3IEJ1ZmZlcihpdi5sZW5ndGgpXG4gIHRoaXMuX2NhY2hlID0gbmV3IEJ1ZmZlcignJylcbiAgdGhpcy5fc2VjQ2FjaGUgPSBuZXcgQnVmZmVyKCcnKVxuICB0aGlzLl9kZWNyeXB0ID0gZGVjcnlwdFxuICB0aGlzLl9hbGVuID0gMFxuICB0aGlzLl9sZW4gPSAwXG4gIGl2LmNvcHkodGhpcy5fcHJldilcbiAgdGhpcy5fbW9kZSA9IG1vZGVcbiAgdmFyIGggPSBuZXcgQnVmZmVyKDQpXG4gIGguZmlsbCgwKVxuICB0aGlzLl9naGFzaCA9IG5ldyBHSEFTSCh0aGlzLl9jaXBoZXIuZW5jcnlwdEJsb2NrKGgpKVxuICB0aGlzLl9hdXRoVGFnID0gbnVsbFxuICB0aGlzLl9jYWxsZWQgPSBmYWxzZVxufVxuU3RyZWFtQ2lwaGVyLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKGNodW5rKSB7XG4gIGlmICghdGhpcy5fY2FsbGVkICYmIHRoaXMuX2FsZW4pIHtcbiAgICB2YXIgcnVtcCA9IDE2IC0gKHRoaXMuX2FsZW4gJSAxNilcbiAgICBpZiAocnVtcCA8IDE2KSB7XG4gICAgICBydW1wID0gbmV3IEJ1ZmZlcihydW1wKVxuICAgICAgcnVtcC5maWxsKDApXG4gICAgICB0aGlzLl9naGFzaC51cGRhdGUocnVtcClcbiAgICB9XG4gIH1cbiAgdGhpcy5fY2FsbGVkID0gdHJ1ZVxuICB2YXIgb3V0ID0gdGhpcy5fbW9kZS5lbmNyeXB0KHRoaXMsIGNodW5rKVxuICBpZiAodGhpcy5fZGVjcnlwdCkge1xuICAgIHRoaXMuX2doYXNoLnVwZGF0ZShjaHVuaylcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9naGFzaC51cGRhdGUob3V0KVxuICB9XG4gIHRoaXMuX2xlbiArPSBjaHVuay5sZW5ndGhcbiAgcmV0dXJuIG91dFxufVxuU3RyZWFtQ2lwaGVyLnByb3RvdHlwZS5fZmluYWwgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLl9kZWNyeXB0ICYmICF0aGlzLl9hdXRoVGFnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBzdGF0ZSBvciB1bmFibGUgdG8gYXV0aGVudGljYXRlIGRhdGEnKVxuICB9XG4gIHZhciB0YWcgPSB4b3IodGhpcy5fZ2hhc2guZmluYWwodGhpcy5fYWxlbiAqIDgsIHRoaXMuX2xlbiAqIDgpLCB0aGlzLl9jaXBoZXIuZW5jcnlwdEJsb2NrKHRoaXMuX2ZpbklEKSlcbiAgaWYgKHRoaXMuX2RlY3J5cHQpIHtcbiAgICBpZiAoeG9yVGVzdCh0YWcsIHRoaXMuX2F1dGhUYWcpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIHN0YXRlIG9yIHVuYWJsZSB0byBhdXRoZW50aWNhdGUgZGF0YScpXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMuX2F1dGhUYWcgPSB0YWdcbiAgfVxuICB0aGlzLl9jaXBoZXIuc2NydWIoKVxufVxuU3RyZWFtQ2lwaGVyLnByb3RvdHlwZS5nZXRBdXRoVGFnID0gZnVuY3Rpb24gZ2V0QXV0aFRhZyAoKSB7XG4gIGlmICghdGhpcy5fZGVjcnlwdCAmJiBCdWZmZXIuaXNCdWZmZXIodGhpcy5fYXV0aFRhZykpIHtcbiAgICByZXR1cm4gdGhpcy5fYXV0aFRhZ1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignQXR0ZW1wdGluZyB0byBnZXQgYXV0aCB0YWcgaW4gdW5zdXBwb3J0ZWQgc3RhdGUnKVxuICB9XG59XG5TdHJlYW1DaXBoZXIucHJvdG90eXBlLnNldEF1dGhUYWcgPSBmdW5jdGlvbiBzZXRBdXRoVGFnICh0YWcpIHtcbiAgaWYgKHRoaXMuX2RlY3J5cHQpIHtcbiAgICB0aGlzLl9hdXRoVGFnID0gdGFnXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBdHRlbXB0aW5nIHRvIHNldCBhdXRoIHRhZyBpbiB1bnN1cHBvcnRlZCBzdGF0ZScpXG4gIH1cbn1cblN0cmVhbUNpcGhlci5wcm90b3R5cGUuc2V0QUFEID0gZnVuY3Rpb24gc2V0QUFEIChidWYpIHtcbiAgaWYgKCF0aGlzLl9jYWxsZWQpIHtcbiAgICB0aGlzLl9naGFzaC51cGRhdGUoYnVmKVxuICAgIHRoaXMuX2FsZW4gKz0gYnVmLmxlbmd0aFxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignQXR0ZW1wdGluZyB0byBzZXQgQUFEIGluIHVuc3VwcG9ydGVkIHN0YXRlJylcbiAgfVxufVxuZnVuY3Rpb24geG9yVGVzdCAoYSwgYikge1xuICB2YXIgb3V0ID0gMFxuICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgb3V0KytcbiAgfVxuICB2YXIgbGVuID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKVxuICB2YXIgaSA9IC0xXG4gIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICBvdXQgKz0gKGFbaV0gXiBiW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZjSFZpYkdsakxXVnVZM0o1Y0hRdmJtOWtaVjl0YjJSMWJHVnpMM0JoY25ObExXRnpiakV2Ym05a1pWOXRiMlIxYkdWekwySnliM2R6WlhKcFpua3RZV1Z6TDJGMWRHaERhWEJvWlhJdWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqdEJRVUZCTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEVpTENKbWFXeGxJam9pWjJWdVpYSmhkR1ZrTG1weklpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYkluWmhjaUJoWlhNZ1BTQnlaWEYxYVhKbEtDY3VMMkZsY3ljcFhHNTJZWElnVkhKaGJuTm1iM0p0SUQwZ2NtVnhkV2x5WlNnblkybHdhR1Z5TFdKaGMyVW5LVnh1ZG1GeUlHbHVhR1Z5YVhSeklEMGdjbVZ4ZFdseVpTZ25hVzVvWlhKcGRITW5LVnh1ZG1GeUlFZElRVk5JSUQwZ2NtVnhkV2x5WlNnbkxpOW5hR0Z6YUNjcFhHNTJZWElnZUc5eUlEMGdjbVZ4ZFdseVpTZ25ZblZtWm1WeUxYaHZjaWNwWEc1cGJtaGxjbWwwY3loVGRISmxZVzFEYVhCb1pYSXNJRlJ5WVc1elptOXliU2xjYm0xdlpIVnNaUzVsZUhCdmNuUnpJRDBnVTNSeVpXRnRRMmx3YUdWeVhHNWNibVoxYm1OMGFXOXVJRk4wY21WaGJVTnBjR2hsY2lBb2JXOWtaU3dnYTJWNUxDQnBkaXdnWkdWamNubHdkQ2tnZTF4dUlDQnBaaUFvSVNoMGFHbHpJR2x1YzNSaGJtTmxiMllnVTNSeVpXRnRRMmx3YUdWeUtTa2dlMXh1SUNBZ0lISmxkSFZ5YmlCdVpYY2dVM1J5WldGdFEybHdhR1Z5S0cxdlpHVXNJR3RsZVN3Z2FYWXBYRzRnSUgxY2JpQWdWSEpoYm5ObWIzSnRMbU5oYkd3b2RHaHBjeWxjYmlBZ2RHaHBjeTVmWm1sdVNVUWdQU0JDZFdabVpYSXVZMjl1WTJGMEtGdHBkaXdnYm1WM0lFSjFabVpsY2loYk1Dd2dNQ3dnTUN3Z01WMHBYU2xjYmlBZ2FYWWdQU0JDZFdabVpYSXVZMjl1WTJGMEtGdHBkaXdnYm1WM0lFSjFabVpsY2loYk1Dd2dNQ3dnTUN3Z01sMHBYU2xjYmlBZ2RHaHBjeTVmWTJsd2FHVnlJRDBnYm1WM0lHRmxjeTVCUlZNb2EyVjVLVnh1SUNCMGFHbHpMbDl3Y21WMklEMGdibVYzSUVKMVptWmxjaWhwZGk1c1pXNW5kR2dwWEc0Z0lIUm9hWE11WDJOaFkyaGxJRDBnYm1WM0lFSjFabVpsY2lnbkp5bGNiaUFnZEdocGN5NWZjMlZqUTJGamFHVWdQU0J1WlhjZ1FuVm1abVZ5S0NjbktWeHVJQ0IwYUdsekxsOWtaV055ZVhCMElEMGdaR1ZqY25sd2RGeHVJQ0IwYUdsekxsOWhiR1Z1SUQwZ01GeHVJQ0IwYUdsekxsOXNaVzRnUFNBd1hHNGdJR2wyTG1OdmNIa29kR2hwY3k1ZmNISmxkaWxjYmlBZ2RHaHBjeTVmYlc5a1pTQTlJRzF2WkdWY2JpQWdkbUZ5SUdnZ1BTQnVaWGNnUW5WbVptVnlLRFFwWEc0Z0lHZ3VabWxzYkNnd0tWeHVJQ0IwYUdsekxsOW5hR0Z6YUNBOUlHNWxkeUJIU0VGVFNDaDBhR2x6TGw5amFYQm9aWEl1Wlc1amNubHdkRUpzYjJOcktHZ3BLVnh1SUNCMGFHbHpMbDloZFhSb1ZHRm5JRDBnYm5Wc2JGeHVJQ0IwYUdsekxsOWpZV3hzWldRZ1BTQm1ZV3h6WlZ4dWZWeHVVM1J5WldGdFEybHdhR1Z5TG5CeWIzUnZkSGx3WlM1ZmRYQmtZWFJsSUQwZ1puVnVZM1JwYjI0Z0tHTm9kVzVyS1NCN1hHNGdJR2xtSUNnaGRHaHBjeTVmWTJGc2JHVmtJQ1ltSUhSb2FYTXVYMkZzWlc0cElIdGNiaUFnSUNCMllYSWdjblZ0Y0NBOUlERTJJQzBnS0hSb2FYTXVYMkZzWlc0Z0pTQXhOaWxjYmlBZ0lDQnBaaUFvY25WdGNDQThJREUyS1NCN1hHNGdJQ0FnSUNCeWRXMXdJRDBnYm1WM0lFSjFabVpsY2loeWRXMXdLVnh1SUNBZ0lDQWdjblZ0Y0M1bWFXeHNLREFwWEc0Z0lDQWdJQ0IwYUdsekxsOW5hR0Z6YUM1MWNHUmhkR1VvY25WdGNDbGNiaUFnSUNCOVhHNGdJSDFjYmlBZ2RHaHBjeTVmWTJGc2JHVmtJRDBnZEhKMVpWeHVJQ0IyWVhJZ2IzVjBJRDBnZEdocGN5NWZiVzlrWlM1bGJtTnllWEIwS0hSb2FYTXNJR05vZFc1cktWeHVJQ0JwWmlBb2RHaHBjeTVmWkdWamNubHdkQ2tnZTF4dUlDQWdJSFJvYVhNdVgyZG9ZWE5vTG5Wd1pHRjBaU2hqYUhWdWF5bGNiaUFnZlNCbGJITmxJSHRjYmlBZ0lDQjBhR2x6TGw5bmFHRnphQzUxY0dSaGRHVW9iM1YwS1Z4dUlDQjlYRzRnSUhSb2FYTXVYMnhsYmlBclBTQmphSFZ1YXk1c1pXNW5kR2hjYmlBZ2NtVjBkWEp1SUc5MWRGeHVmVnh1VTNSeVpXRnRRMmx3YUdWeUxuQnliM1J2ZEhsd1pTNWZabWx1WVd3Z1BTQm1kVzVqZEdsdmJpQW9LU0I3WEc0Z0lHbG1JQ2gwYUdsekxsOWtaV055ZVhCMElDWW1JQ0YwYUdsekxsOWhkWFJvVkdGbktTQjdYRzRnSUNBZ2RHaHliM2NnYm1WM0lFVnljbTl5S0NkVmJuTjFjSEJ2Y25SbFpDQnpkR0YwWlNCdmNpQjFibUZpYkdVZ2RHOGdZWFYwYUdWdWRHbGpZWFJsSUdSaGRHRW5LVnh1SUNCOVhHNGdJSFpoY2lCMFlXY2dQU0I0YjNJb2RHaHBjeTVmWjJoaGMyZ3VabWx1WVd3b2RHaHBjeTVmWVd4bGJpQXFJRGdzSUhSb2FYTXVYMnhsYmlBcUlEZ3BMQ0IwYUdsekxsOWphWEJvWlhJdVpXNWpjbmx3ZEVKc2IyTnJLSFJvYVhNdVgyWnBia2xFS1NsY2JpQWdhV1lnS0hSb2FYTXVYMlJsWTNKNWNIUXBJSHRjYmlBZ0lDQnBaaUFvZUc5eVZHVnpkQ2gwWVdjc0lIUm9hWE11WDJGMWRHaFVZV2NwS1NCN1hHNGdJQ0FnSUNCMGFISnZkeUJ1WlhjZ1JYSnliM0lvSjFWdWMzVndjRzl5ZEdWa0lITjBZWFJsSUc5eUlIVnVZV0pzWlNCMGJ5QmhkWFJvWlc1MGFXTmhkR1VnWkdGMFlTY3BYRzRnSUNBZ2ZWeHVJQ0I5SUdWc2MyVWdlMXh1SUNBZ0lIUm9hWE11WDJGMWRHaFVZV2NnUFNCMFlXZGNiaUFnZlZ4dUlDQjBhR2x6TGw5amFYQm9aWEl1YzJOeWRXSW9LVnh1ZlZ4dVUzUnlaV0Z0UTJsd2FHVnlMbkJ5YjNSdmRIbHdaUzVuWlhSQmRYUm9WR0ZuSUQwZ1puVnVZM1JwYjI0Z1oyVjBRWFYwYUZSaFp5QW9LU0I3WEc0Z0lHbG1JQ2doZEdocGN5NWZaR1ZqY25sd2RDQW1KaUJDZFdabVpYSXVhWE5DZFdabVpYSW9kR2hwY3k1ZllYVjBhRlJoWnlrcElIdGNiaUFnSUNCeVpYUjFjbTRnZEdocGN5NWZZWFYwYUZSaFoxeHVJQ0I5SUdWc2MyVWdlMXh1SUNBZ0lIUm9jbTkzSUc1bGR5QkZjbkp2Y2lnblFYUjBaVzF3ZEdsdVp5QjBieUJuWlhRZ1lYVjBhQ0IwWVdjZ2FXNGdkVzV6ZFhCd2IzSjBaV1FnYzNSaGRHVW5LVnh1SUNCOVhHNTlYRzVUZEhKbFlXMURhWEJvWlhJdWNISnZkRzkwZVhCbExuTmxkRUYxZEdoVVlXY2dQU0JtZFc1amRHbHZiaUJ6WlhSQmRYUm9WR0ZuSUNoMFlXY3BJSHRjYmlBZ2FXWWdLSFJvYVhNdVgyUmxZM0o1Y0hRcElIdGNiaUFnSUNCMGFHbHpMbDloZFhSb1ZHRm5JRDBnZEdGblhHNGdJSDBnWld4elpTQjdYRzRnSUNBZ2RHaHliM2NnYm1WM0lFVnljbTl5S0NkQmRIUmxiWEIwYVc1bklIUnZJSE5sZENCaGRYUm9JSFJoWnlCcGJpQjFibk4xY0hCdmNuUmxaQ0J6ZEdGMFpTY3BYRzRnSUgxY2JuMWNibE4wY21WaGJVTnBjR2hsY2k1d2NtOTBiM1I1Y0dVdWMyVjBRVUZFSUQwZ1puVnVZM1JwYjI0Z2MyVjBRVUZFSUNoaWRXWXBJSHRjYmlBZ2FXWWdLQ0YwYUdsekxsOWpZV3hzWldRcElIdGNiaUFnSUNCMGFHbHpMbDluYUdGemFDNTFjR1JoZEdVb1luVm1LVnh1SUNBZ0lIUm9hWE11WDJGc1pXNGdLejBnWW5WbUxteGxibWQwYUZ4dUlDQjlJR1ZzYzJVZ2UxeHVJQ0FnSUhSb2NtOTNJRzVsZHlCRmNuSnZjaWduUVhSMFpXMXdkR2x1WnlCMGJ5QnpaWFFnUVVGRUlHbHVJSFZ1YzNWd2NHOXlkR1ZrSUhOMFlYUmxKeWxjYmlBZ2ZWeHVmVnh1Wm5WdVkzUnBiMjRnZUc5eVZHVnpkQ0FvWVN3Z1lpa2dlMXh1SUNCMllYSWdiM1YwSUQwZ01GeHVJQ0JwWmlBb1lTNXNaVzVuZEdnZ0lUMDlJR0l1YkdWdVozUm9LU0I3WEc0Z0lDQWdiM1YwS3l0Y2JpQWdmVnh1SUNCMllYSWdiR1Z1SUQwZ1RXRjBhQzV0YVc0b1lTNXNaVzVuZEdnc0lHSXViR1Z1WjNSb0tWeHVJQ0IyWVhJZ2FTQTlJQzB4WEc0Z0lIZG9hV3hsSUNncksya2dQQ0JzWlc0cElIdGNiaUFnSUNCdmRYUWdLejBnS0dGYmFWMGdYaUJpVzJsZEtWeHVJQ0I5WEc0Z0lISmxkSFZ5YmlCdmRYUmNibjFjYmlKZGZRPT0iLCIoZnVuY3Rpb24gKEJ1ZmZlcil7XG52YXIgVHJhbnNmb3JtID0gcmVxdWlyZSgnc3RyZWFtJykuVHJhbnNmb3JtXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG52YXIgU3RyaW5nRGVjb2RlciA9IHJlcXVpcmUoJ3N0cmluZ19kZWNvZGVyJykuU3RyaW5nRGVjb2RlclxubW9kdWxlLmV4cG9ydHMgPSBDaXBoZXJCYXNlXG5pbmhlcml0cyhDaXBoZXJCYXNlLCBUcmFuc2Zvcm0pXG5mdW5jdGlvbiBDaXBoZXJCYXNlIChoYXNoTW9kZSkge1xuICBUcmFuc2Zvcm0uY2FsbCh0aGlzKVxuICB0aGlzLmhhc2hNb2RlID0gdHlwZW9mIGhhc2hNb2RlID09PSAnc3RyaW5nJ1xuICBpZiAodGhpcy5oYXNoTW9kZSkge1xuICAgIHRoaXNbaGFzaE1vZGVdID0gdGhpcy5fZmluYWxPckRpZ2VzdFxuICB9IGVsc2Uge1xuICAgIHRoaXMuZmluYWwgPSB0aGlzLl9maW5hbE9yRGlnZXN0XG4gIH1cbiAgdGhpcy5fZGVjb2RlciA9IG51bGxcbiAgdGhpcy5fZW5jb2RpbmcgPSBudWxsXG59XG5DaXBoZXJCYXNlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSwgaW5wdXRFbmMsIG91dHB1dEVuYykge1xuICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgZGF0YSA9IG5ldyBCdWZmZXIoZGF0YSwgaW5wdXRFbmMpXG4gIH1cbiAgdmFyIG91dERhdGEgPSB0aGlzLl91cGRhdGUoZGF0YSlcbiAgaWYgKHRoaXMuaGFzaE1vZGUpIHtcbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIGlmIChvdXRwdXRFbmMpIHtcbiAgICBvdXREYXRhID0gdGhpcy5fdG9TdHJpbmcob3V0RGF0YSwgb3V0cHV0RW5jKVxuICB9XG4gIHJldHVybiBvdXREYXRhXG59XG5cbkNpcGhlckJhc2UucHJvdG90eXBlLnNldEF1dG9QYWRkaW5nID0gZnVuY3Rpb24gKCkge31cblxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuZ2V0QXV0aFRhZyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCd0cnlpbmcgdG8gZ2V0IGF1dGggdGFnIGluIHVuc3VwcG9ydGVkIHN0YXRlJylcbn1cblxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuc2V0QXV0aFRhZyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCd0cnlpbmcgdG8gc2V0IGF1dGggdGFnIGluIHVuc3VwcG9ydGVkIHN0YXRlJylcbn1cblxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuc2V0QUFEID0gZnVuY3Rpb24gKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ3RyeWluZyB0byBzZXQgYWFkIGluIHVuc3VwcG9ydGVkIHN0YXRlJylcbn1cblxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuX3RyYW5zZm9ybSA9IGZ1bmN0aW9uIChkYXRhLCBfLCBuZXh0KSB7XG4gIHZhciBlcnJcbiAgdHJ5IHtcbiAgICBpZiAodGhpcy5oYXNoTW9kZSkge1xuICAgICAgdGhpcy5fdXBkYXRlKGRhdGEpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHVzaCh0aGlzLl91cGRhdGUoZGF0YSkpXG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgZXJyID0gZVxuICB9IGZpbmFsbHkge1xuICAgIG5leHQoZXJyKVxuICB9XG59XG5DaXBoZXJCYXNlLnByb3RvdHlwZS5fZmx1c2ggPSBmdW5jdGlvbiAoZG9uZSkge1xuICB2YXIgZXJyXG4gIHRyeSB7XG4gICAgdGhpcy5wdXNoKHRoaXMuX2ZpbmFsKCkpXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlcnIgPSBlXG4gIH0gZmluYWxseSB7XG4gICAgZG9uZShlcnIpXG4gIH1cbn1cbkNpcGhlckJhc2UucHJvdG90eXBlLl9maW5hbE9yRGlnZXN0ID0gZnVuY3Rpb24gKG91dHB1dEVuYykge1xuICB2YXIgb3V0RGF0YSA9IHRoaXMuX2ZpbmFsKCkgfHwgbmV3IEJ1ZmZlcignJylcbiAgaWYgKG91dHB1dEVuYykge1xuICAgIG91dERhdGEgPSB0aGlzLl90b1N0cmluZyhvdXREYXRhLCBvdXRwdXRFbmMsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG91dERhdGFcbn1cblxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKHZhbHVlLCBlbmMsIGZpbmFsKSB7XG4gIGlmICghdGhpcy5fZGVjb2Rlcikge1xuICAgIHRoaXMuX2RlY29kZXIgPSBuZXcgU3RyaW5nRGVjb2RlcihlbmMpXG4gICAgdGhpcy5fZW5jb2RpbmcgPSBlbmNcbiAgfVxuICBpZiAodGhpcy5fZW5jb2RpbmcgIT09IGVuYykge1xuICAgIHRocm93IG5ldyBFcnJvcignY2FuXFwndCBzd2l0Y2ggZW5jb2RpbmdzJylcbiAgfVxuICB2YXIgb3V0ID0gdGhpcy5fZGVjb2Rlci53cml0ZSh2YWx1ZSlcbiAgaWYgKGZpbmFsKSB7XG4gICAgb3V0ICs9IHRoaXMuX2RlY29kZXIuZW5kKClcbiAgfVxuICByZXR1cm4gb3V0XG59XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12Y0hWaWJHbGpMV1Z1WTNKNWNIUXZibTlrWlY5dGIyUjFiR1Z6TDNCaGNuTmxMV0Z6YmpFdmJtOWtaVjl0YjJSMWJHVnpMMkp5YjNkelpYSnBabmt0WVdWekwyNXZaR1ZmYlc5a2RXeGxjeTlqYVhCb1pYSXRZbUZ6WlM5cGJtUmxlQzVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pTzBGQlFVRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRWlMQ0ptYVd4bElqb2laMlZ1WlhKaGRHVmtMbXB6SWl3aWMyOTFjbU5sVW05dmRDSTZJaUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSW5aaGNpQlVjbUZ1YzJadmNtMGdQU0J5WlhGMWFYSmxLQ2R6ZEhKbFlXMG5LUzVVY21GdWMyWnZjbTFjYm5aaGNpQnBibWhsY21sMGN5QTlJSEpsY1hWcGNtVW9KMmx1YUdWeWFYUnpKeWxjYm5aaGNpQlRkSEpwYm1kRVpXTnZaR1Z5SUQwZ2NtVnhkV2x5WlNnbmMzUnlhVzVuWDJSbFkyOWtaWEluS1M1VGRISnBibWRFWldOdlpHVnlYRzV0YjJSMWJHVXVaWGh3YjNKMGN5QTlJRU5wY0dobGNrSmhjMlZjYm1sdWFHVnlhWFJ6S0VOcGNHaGxja0poYzJVc0lGUnlZVzV6Wm05eWJTbGNibVoxYm1OMGFXOXVJRU5wY0dobGNrSmhjMlVnS0doaGMyaE5iMlJsS1NCN1hHNGdJRlJ5WVc1elptOXliUzVqWVd4c0tIUm9hWE1wWEc0Z0lIUm9hWE11YUdGemFFMXZaR1VnUFNCMGVYQmxiMllnYUdGemFFMXZaR1VnUFQwOUlDZHpkSEpwYm1jblhHNGdJR2xtSUNoMGFHbHpMbWhoYzJoTmIyUmxLU0I3WEc0Z0lDQWdkR2hwYzF0b1lYTm9UVzlrWlYwZ1BTQjBhR2x6TGw5bWFXNWhiRTl5UkdsblpYTjBYRzRnSUgwZ1pXeHpaU0I3WEc0Z0lDQWdkR2hwY3k1bWFXNWhiQ0E5SUhSb2FYTXVYMlpwYm1Gc1QzSkVhV2RsYzNSY2JpQWdmVnh1SUNCMGFHbHpMbDlrWldOdlpHVnlJRDBnYm5Wc2JGeHVJQ0IwYUdsekxsOWxibU52WkdsdVp5QTlJRzUxYkd4Y2JuMWNia05wY0dobGNrSmhjMlV1Y0hKdmRHOTBlWEJsTG5Wd1pHRjBaU0E5SUdaMWJtTjBhVzl1SUNoa1lYUmhMQ0JwYm5CMWRFVnVZeXdnYjNWMGNIVjBSVzVqS1NCN1hHNGdJR2xtSUNoMGVYQmxiMllnWkdGMFlTQTlQVDBnSjNOMGNtbHVaeWNwSUh0Y2JpQWdJQ0JrWVhSaElEMGdibVYzSUVKMVptWmxjaWhrWVhSaExDQnBibkIxZEVWdVl5bGNiaUFnZlZ4dUlDQjJZWElnYjNWMFJHRjBZU0E5SUhSb2FYTXVYM1Z3WkdGMFpTaGtZWFJoS1Z4dUlDQnBaaUFvZEdocGN5NW9ZWE5vVFc5a1pTa2dlMXh1SUNBZ0lISmxkSFZ5YmlCMGFHbHpYRzRnSUgxY2JpQWdhV1lnS0c5MWRIQjFkRVZ1WXlrZ2UxeHVJQ0FnSUc5MWRFUmhkR0VnUFNCMGFHbHpMbDkwYjFOMGNtbHVaeWh2ZFhSRVlYUmhMQ0J2ZFhSd2RYUkZibU1wWEc0Z0lIMWNiaUFnY21WMGRYSnVJRzkxZEVSaGRHRmNibjFjYmx4dVEybHdhR1Z5UW1GelpTNXdjbTkwYjNSNWNHVXVjMlYwUVhWMGIxQmhaR1JwYm1jZ1BTQm1kVzVqZEdsdmJpQW9LU0I3ZlZ4dVhHNURhWEJvWlhKQ1lYTmxMbkJ5YjNSdmRIbHdaUzVuWlhSQmRYUm9WR0ZuSUQwZ1puVnVZM1JwYjI0Z0tDa2dlMXh1SUNCMGFISnZkeUJ1WlhjZ1JYSnliM0lvSjNSeWVXbHVaeUIwYnlCblpYUWdZWFYwYUNCMFlXY2dhVzRnZFc1emRYQndiM0owWldRZ2MzUmhkR1VuS1Z4dWZWeHVYRzVEYVhCb1pYSkNZWE5sTG5CeWIzUnZkSGx3WlM1elpYUkJkWFJvVkdGbklEMGdablZ1WTNScGIyNGdLQ2tnZTF4dUlDQjBhSEp2ZHlCdVpYY2dSWEp5YjNJb0ozUnllV2x1WnlCMGJ5QnpaWFFnWVhWMGFDQjBZV2NnYVc0Z2RXNXpkWEJ3YjNKMFpXUWdjM1JoZEdVbktWeHVmVnh1WEc1RGFYQm9aWEpDWVhObExuQnliM1J2ZEhsd1pTNXpaWFJCUVVRZ1BTQm1kVzVqZEdsdmJpQW9LU0I3WEc0Z0lIUm9jbTkzSUc1bGR5QkZjbkp2Y2lnbmRISjVhVzVuSUhSdklITmxkQ0JoWVdRZ2FXNGdkVzV6ZFhCd2IzSjBaV1FnYzNSaGRHVW5LVnh1ZlZ4dVhHNURhWEJvWlhKQ1lYTmxMbkJ5YjNSdmRIbHdaUzVmZEhKaGJuTm1iM0p0SUQwZ1puVnVZM1JwYjI0Z0tHUmhkR0VzSUY4c0lHNWxlSFFwSUh0Y2JpQWdkbUZ5SUdWeWNseHVJQ0IwY25rZ2UxeHVJQ0FnSUdsbUlDaDBhR2x6TG1oaGMyaE5iMlJsS1NCN1hHNGdJQ0FnSUNCMGFHbHpMbDkxY0dSaGRHVW9aR0YwWVNsY2JpQWdJQ0I5SUdWc2MyVWdlMXh1SUNBZ0lDQWdkR2hwY3k1d2RYTm9LSFJvYVhNdVgzVndaR0YwWlNoa1lYUmhLU2xjYmlBZ0lDQjlYRzRnSUgwZ1kyRjBZMmdnS0dVcElIdGNiaUFnSUNCbGNuSWdQU0JsWEc0Z0lIMGdabWx1WVd4c2VTQjdYRzRnSUNBZ2JtVjRkQ2hsY25JcFhHNGdJSDFjYm4xY2JrTnBjR2hsY2tKaGMyVXVjSEp2ZEc5MGVYQmxMbDltYkhWemFDQTlJR1oxYm1OMGFXOXVJQ2hrYjI1bEtTQjdYRzRnSUhaaGNpQmxjbkpjYmlBZ2RISjVJSHRjYmlBZ0lDQjBhR2x6TG5CMWMyZ29kR2hwY3k1ZlptbHVZV3dvS1NsY2JpQWdmU0JqWVhSamFDQW9aU2tnZTF4dUlDQWdJR1Z5Y2lBOUlHVmNiaUFnZlNCbWFXNWhiR3g1SUh0Y2JpQWdJQ0JrYjI1bEtHVnljaWxjYmlBZ2ZWeHVmVnh1UTJsd2FHVnlRbUZ6WlM1d2NtOTBiM1I1Y0dVdVgyWnBibUZzVDNKRWFXZGxjM1FnUFNCbWRXNWpkR2x2YmlBb2IzVjBjSFYwUlc1aktTQjdYRzRnSUhaaGNpQnZkWFJFWVhSaElEMGdkR2hwY3k1ZlptbHVZV3dvS1NCOGZDQnVaWGNnUW5WbVptVnlLQ2NuS1Z4dUlDQnBaaUFvYjNWMGNIVjBSVzVqS1NCN1hHNGdJQ0FnYjNWMFJHRjBZU0E5SUhSb2FYTXVYM1J2VTNSeWFXNW5LRzkxZEVSaGRHRXNJRzkxZEhCMWRFVnVZeXdnZEhKMVpTbGNiaUFnZlZ4dUlDQnlaWFIxY200Z2IzVjBSR0YwWVZ4dWZWeHVYRzVEYVhCb1pYSkNZWE5sTG5CeWIzUnZkSGx3WlM1ZmRHOVRkSEpwYm1jZ1BTQm1kVzVqZEdsdmJpQW9kbUZzZFdVc0lHVnVZeXdnWm1sdVlXd3BJSHRjYmlBZ2FXWWdLQ0YwYUdsekxsOWtaV052WkdWeUtTQjdYRzRnSUNBZ2RHaHBjeTVmWkdWamIyUmxjaUE5SUc1bGR5QlRkSEpwYm1kRVpXTnZaR1Z5S0dWdVl5bGNiaUFnSUNCMGFHbHpMbDlsYm1OdlpHbHVaeUE5SUdWdVkxeHVJQ0I5WEc0Z0lHbG1JQ2gwYUdsekxsOWxibU52WkdsdVp5QWhQVDBnWlc1aktTQjdYRzRnSUNBZ2RHaHliM2NnYm1WM0lFVnljbTl5S0NkallXNWNYQ2QwSUhOM2FYUmphQ0JsYm1OdlpHbHVaM01uS1Z4dUlDQjlYRzRnSUhaaGNpQnZkWFFnUFNCMGFHbHpMbDlrWldOdlpHVnlMbmR5YVhSbEtIWmhiSFZsS1Z4dUlDQnBaaUFvWm1sdVlXd3BJSHRjYmlBZ0lDQnZkWFFnS3owZ2RHaHBjeTVmWkdWamIyUmxjaTVsYm1Rb0tWeHVJQ0I5WEc0Z0lISmxkSFZ5YmlCdmRYUmNibjFjYmlKZGZRPT0iLCIoZnVuY3Rpb24gKEJ1ZmZlcil7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHhvciAoYSwgYikge1xuICB2YXIgbGVuZ3RoID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKVxuICB2YXIgYnVmZmVyID0gbmV3IEJ1ZmZlcihsZW5ndGgpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGJ1ZmZlcltpXSA9IGFbaV0gXiBiW2ldXG4gIH1cblxuICByZXR1cm4gYnVmZmVyXG59XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12Y0hWaWJHbGpMV1Z1WTNKNWNIUXZibTlrWlY5dGIyUjFiR1Z6TDNCaGNuTmxMV0Z6YmpFdmJtOWtaVjl0YjJSMWJHVnpMMkp5YjNkelpYSnBabmt0WVdWekwyNXZaR1ZmYlc5a2RXeGxjeTlpZFdabVpYSXRlRzl5TDJsdVpHVjRMbXB6SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUk3UVVGQlFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CSWl3aVptbHNaU0k2SW1kbGJtVnlZWFJsWkM1cWN5SXNJbk52ZFhKalpWSnZiM1FpT2lJaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNld5SnRiMlIxYkdVdVpYaHdiM0owY3lBOUlHWjFibU4wYVc5dUlIaHZjaUFvWVN3Z1lpa2dlMXh1SUNCMllYSWdiR1Z1WjNSb0lEMGdUV0YwYUM1dGFXNG9ZUzVzWlc1bmRHZ3NJR0l1YkdWdVozUm9LVnh1SUNCMllYSWdZblZtWm1WeUlEMGdibVYzSUVKMVptWmxjaWhzWlc1bmRHZ3BYRzVjYmlBZ1ptOXlJQ2gyWVhJZ2FTQTlJREE3SUdrZ1BDQnNaVzVuZEdnN0lDc3JhU2tnZTF4dUlDQWdJR0oxWm1abGNsdHBYU0E5SUdGYmFWMGdYaUJpVzJsZFhHNGdJSDFjYmx4dUlDQnlaWFIxY200Z1luVm1abVZ5WEc1OVhHNGlYWDA9IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xudmFyIHplcm9zID0gbmV3IEJ1ZmZlcigxNilcbnplcm9zLmZpbGwoMClcbm1vZHVsZS5leHBvcnRzID0gR0hBU0hcbmZ1bmN0aW9uIEdIQVNIIChrZXkpIHtcbiAgdGhpcy5oID0ga2V5XG4gIHRoaXMuc3RhdGUgPSBuZXcgQnVmZmVyKDE2KVxuICB0aGlzLnN0YXRlLmZpbGwoMClcbiAgdGhpcy5jYWNoZSA9IG5ldyBCdWZmZXIoJycpXG59XG4vLyBmcm9tIGh0dHA6Ly9iaXR3aXNlc2hpZnRsZWZ0LmdpdGh1Yi5pby9zamNsL2RvYy9zeW1ib2xzL3NyYy9jb3JlX2djbS5qcy5odG1sXG4vLyBieSBKdWhvIFbDpGjDpC1IZXJ0dHVhXG5HSEFTSC5wcm90b3R5cGUuZ2hhc2ggPSBmdW5jdGlvbiAoYmxvY2spIHtcbiAgdmFyIGkgPSAtMVxuICB3aGlsZSAoKytpIDwgYmxvY2subGVuZ3RoKSB7XG4gICAgdGhpcy5zdGF0ZVtpXSBePSBibG9ja1tpXVxuICB9XG4gIHRoaXMuX211bHRpcGx5KClcbn1cblxuR0hBU0gucHJvdG90eXBlLl9tdWx0aXBseSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIFZpID0gdG9BcnJheSh0aGlzLmgpXG4gIHZhciBaaSA9IFswLCAwLCAwLCAwXVxuICB2YXIgaiwgeGksIGxzYl9WaVxuICB2YXIgaSA9IC0xXG4gIHdoaWxlICgrK2kgPCAxMjgpIHtcbiAgICB4aSA9ICh0aGlzLnN0YXRlW35+KGkgLyA4KV0gJiAoMSA8PCAoNyAtIGkgJSA4KSkpICE9PSAwXG4gICAgaWYgKHhpKSB7XG4gICAgICAvLyBaX2krMSA9IFpfaSBeIFZfaVxuICAgICAgWmkgPSB4b3IoWmksIFZpKVxuICAgIH1cblxuICAgIC8vIFN0b3JlIHRoZSB2YWx1ZSBvZiBMU0IoVl9pKVxuICAgIGxzYl9WaSA9IChWaVszXSAmIDEpICE9PSAwXG5cbiAgICAvLyBWX2krMSA9IFZfaSA+PiAxXG4gICAgZm9yIChqID0gMzsgaiA+IDA7IGotLSkge1xuICAgICAgVmlbal0gPSAoVmlbal0gPj4+IDEpIHwgKChWaVtqIC0gMV0gJiAxKSA8PCAzMSlcbiAgICB9XG4gICAgVmlbMF0gPSBWaVswXSA+Pj4gMVxuXG4gICAgLy8gSWYgTFNCKFZfaSkgaXMgMSwgVl9pKzEgPSAoVl9pID4+IDEpIF4gUlxuICAgIGlmIChsc2JfVmkpIHtcbiAgICAgIFZpWzBdID0gVmlbMF0gXiAoMHhlMSA8PCAyNClcbiAgICB9XG4gIH1cbiAgdGhpcy5zdGF0ZSA9IGZyb21BcnJheShaaSlcbn1cbkdIQVNILnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoYnVmKSB7XG4gIHRoaXMuY2FjaGUgPSBCdWZmZXIuY29uY2F0KFt0aGlzLmNhY2hlLCBidWZdKVxuICB2YXIgY2h1bmtcbiAgd2hpbGUgKHRoaXMuY2FjaGUubGVuZ3RoID49IDE2KSB7XG4gICAgY2h1bmsgPSB0aGlzLmNhY2hlLnNsaWNlKDAsIDE2KVxuICAgIHRoaXMuY2FjaGUgPSB0aGlzLmNhY2hlLnNsaWNlKDE2KVxuICAgIHRoaXMuZ2hhc2goY2h1bmspXG4gIH1cbn1cbkdIQVNILnByb3RvdHlwZS5maW5hbCA9IGZ1bmN0aW9uIChhYmwsIGJsKSB7XG4gIGlmICh0aGlzLmNhY2hlLmxlbmd0aCkge1xuICAgIHRoaXMuZ2hhc2goQnVmZmVyLmNvbmNhdChbdGhpcy5jYWNoZSwgemVyb3NdLCAxNikpXG4gIH1cbiAgdGhpcy5naGFzaChmcm9tQXJyYXkoW1xuICAgIDAsIGFibCxcbiAgICAwLCBibFxuICBdKSlcbiAgcmV0dXJuIHRoaXMuc3RhdGVcbn1cblxuZnVuY3Rpb24gdG9BcnJheSAoYnVmKSB7XG4gIHJldHVybiBbXG4gICAgYnVmLnJlYWRVSW50MzJCRSgwKSxcbiAgICBidWYucmVhZFVJbnQzMkJFKDQpLFxuICAgIGJ1Zi5yZWFkVUludDMyQkUoOCksXG4gICAgYnVmLnJlYWRVSW50MzJCRSgxMilcbiAgXVxufVxuZnVuY3Rpb24gZnJvbUFycmF5IChvdXQpIHtcbiAgb3V0ID0gb3V0Lm1hcChmaXh1cF91aW50MzIpXG4gIHZhciBidWYgPSBuZXcgQnVmZmVyKDE2KVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbMF0sIDApXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFsxXSwgNClcbiAgYnVmLndyaXRlVUludDMyQkUob3V0WzJdLCA4KVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbM10sIDEyKVxuICByZXR1cm4gYnVmXG59XG52YXIgdWludF9tYXggPSBNYXRoLnBvdygyLCAzMilcbmZ1bmN0aW9uIGZpeHVwX3VpbnQzMiAoeCkge1xuICB2YXIgcmV0LCB4X3Bvc1xuICByZXQgPSB4ID4gdWludF9tYXggfHwgeCA8IDAgPyAoeF9wb3MgPSBNYXRoLmFicyh4KSAlIHVpbnRfbWF4LCB4IDwgMCA/IHVpbnRfbWF4IC0geF9wb3MgOiB4X3BvcykgOiB4XG4gIHJldHVybiByZXRcbn1cbmZ1bmN0aW9uIHhvciAoYSwgYikge1xuICByZXR1cm4gW1xuICAgIGFbMF0gXiBiWzBdLFxuICAgIGFbMV0gXiBiWzFdLFxuICAgIGFbMl0gXiBiWzJdLFxuICAgIGFbM10gXiBiWzNdXG4gIF1cbn1cblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZjSFZpYkdsakxXVnVZM0o1Y0hRdmJtOWtaVjl0YjJSMWJHVnpMM0JoY25ObExXRnpiakV2Ym05a1pWOXRiMlIxYkdWekwySnliM2R6WlhKcFpua3RZV1Z6TDJkb1lYTm9MbXB6SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUk3UVVGQlFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEVpTENKbWFXeGxJam9pWjJWdVpYSmhkR1ZrTG1weklpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYkluWmhjaUI2WlhKdmN5QTlJRzVsZHlCQ2RXWm1aWElvTVRZcFhHNTZaWEp2Y3k1bWFXeHNLREFwWEc1dGIyUjFiR1V1Wlhod2IzSjBjeUE5SUVkSVFWTklYRzVtZFc1amRHbHZiaUJIU0VGVFNDQW9hMlY1S1NCN1hHNGdJSFJvYVhNdWFDQTlJR3RsZVZ4dUlDQjBhR2x6TG5OMFlYUmxJRDBnYm1WM0lFSjFabVpsY2lneE5pbGNiaUFnZEdocGN5NXpkR0YwWlM1bWFXeHNLREFwWEc0Z0lIUm9hWE11WTJGamFHVWdQU0J1WlhjZ1FuVm1abVZ5S0NjbktWeHVmVnh1THk4Z1puSnZiU0JvZEhSd09pOHZZbWwwZDJselpYTm9hV1owYkdWbWRDNW5hWFJvZFdJdWFXOHZjMnBqYkM5a2IyTXZjM2x0WW05c2N5OXpjbU12WTI5eVpWOW5ZMjB1YW5NdWFIUnRiRnh1THk4Z1lua2dTblZvYnlCV3c2Um93NlF0U0dWeWRIUjFZVnh1UjBoQlUwZ3VjSEp2ZEc5MGVYQmxMbWRvWVhOb0lEMGdablZ1WTNScGIyNGdLR0pzYjJOcktTQjdYRzRnSUhaaGNpQnBJRDBnTFRGY2JpQWdkMmhwYkdVZ0tDc3JhU0E4SUdKc2IyTnJMbXhsYm1kMGFDa2dlMXh1SUNBZ0lIUm9hWE11YzNSaGRHVmJhVjBnWGowZ1lteHZZMnRiYVYxY2JpQWdmVnh1SUNCMGFHbHpMbDl0ZFd4MGFYQnNlU2dwWEc1OVhHNWNia2RJUVZOSUxuQnliM1J2ZEhsd1pTNWZiWFZzZEdsd2JIa2dQU0JtZFc1amRHbHZiaUFvS1NCN1hHNGdJSFpoY2lCV2FTQTlJSFJ2UVhKeVlYa29kR2hwY3k1b0tWeHVJQ0IyWVhJZ1dta2dQU0JiTUN3Z01Dd2dNQ3dnTUYxY2JpQWdkbUZ5SUdvc0lIaHBMQ0JzYzJKZlZtbGNiaUFnZG1GeUlHa2dQU0F0TVZ4dUlDQjNhR2xzWlNBb0t5dHBJRHdnTVRJNEtTQjdYRzRnSUNBZ2VHa2dQU0FvZEdocGN5NXpkR0YwWlZ0K2ZpaHBJQzhnT0NsZElDWWdLREVnUER3Z0tEY2dMU0JwSUNVZ09Da3BLU0FoUFQwZ01GeHVJQ0FnSUdsbUlDaDRhU2tnZTF4dUlDQWdJQ0FnTHk4Z1dsOXBLekVnUFNCYVgya2dYaUJXWDJsY2JpQWdJQ0FnSUZwcElEMGdlRzl5S0ZwcExDQldhU2xjYmlBZ0lDQjlYRzVjYmlBZ0lDQXZMeUJUZEc5eVpTQjBhR1VnZG1Gc2RXVWdiMllnVEZOQ0tGWmZhU2xjYmlBZ0lDQnNjMkpmVm1rZ1BTQW9WbWxiTTEwZ0ppQXhLU0FoUFQwZ01GeHVYRzRnSUNBZ0x5OGdWbDlwS3pFZ1BTQldYMmtnUGo0Z01WeHVJQ0FnSUdadmNpQW9haUE5SURNN0lHb2dQaUF3T3lCcUxTMHBJSHRjYmlBZ0lDQWdJRlpwVzJwZElEMGdLRlpwVzJwZElENCtQaUF4S1NCOElDZ29WbWxiYWlBdElERmRJQ1lnTVNrZ1BEd2dNekVwWEc0Z0lDQWdmVnh1SUNBZ0lGWnBXekJkSUQwZ1ZtbGJNRjBnUGo0K0lERmNibHh1SUNBZ0lDOHZJRWxtSUV4VFFpaFdYMmtwSUdseklERXNJRlpmYVNzeElEMGdLRlpmYVNBK1BpQXhLU0JlSUZKY2JpQWdJQ0JwWmlBb2JITmlYMVpwS1NCN1hHNGdJQ0FnSUNCV2FWc3dYU0E5SUZacFd6QmRJRjRnS0RCNFpURWdQRHdnTWpRcFhHNGdJQ0FnZlZ4dUlDQjlYRzRnSUhSb2FYTXVjM1JoZEdVZ1BTQm1jbTl0UVhKeVlYa29XbWtwWEc1OVhHNUhTRUZUU0M1d2NtOTBiM1I1Y0dVdWRYQmtZWFJsSUQwZ1puVnVZM1JwYjI0Z0tHSjFaaWtnZTF4dUlDQjBhR2x6TG1OaFkyaGxJRDBnUW5WbVptVnlMbU52Ym1OaGRDaGJkR2hwY3k1allXTm9aU3dnWW5WbVhTbGNiaUFnZG1GeUlHTm9kVzVyWEc0Z0lIZG9hV3hsSUNoMGFHbHpMbU5oWTJobExteGxibWQwYUNBK1BTQXhOaWtnZTF4dUlDQWdJR05vZFc1cklEMGdkR2hwY3k1allXTm9aUzV6YkdsalpTZ3dMQ0F4TmlsY2JpQWdJQ0IwYUdsekxtTmhZMmhsSUQwZ2RHaHBjeTVqWVdOb1pTNXpiR2xqWlNneE5pbGNiaUFnSUNCMGFHbHpMbWRvWVhOb0tHTm9kVzVyS1Z4dUlDQjlYRzU5WEc1SFNFRlRTQzV3Y205MGIzUjVjR1V1Wm1sdVlXd2dQU0JtZFc1amRHbHZiaUFvWVdKc0xDQmliQ2tnZTF4dUlDQnBaaUFvZEdocGN5NWpZV05vWlM1c1pXNW5kR2dwSUh0Y2JpQWdJQ0IwYUdsekxtZG9ZWE5vS0VKMVptWmxjaTVqYjI1allYUW9XM1JvYVhNdVkyRmphR1VzSUhwbGNtOXpYU3dnTVRZcEtWeHVJQ0I5WEc0Z0lIUm9hWE11WjJoaGMyZ29abkp2YlVGeWNtRjVLRnRjYmlBZ0lDQXdMQ0JoWW13c1hHNGdJQ0FnTUN3Z1lteGNiaUFnWFNrcFhHNGdJSEpsZEhWeWJpQjBhR2x6TG5OMFlYUmxYRzU5WEc1Y2JtWjFibU4wYVc5dUlIUnZRWEp5WVhrZ0tHSjFaaWtnZTF4dUlDQnlaWFIxY200Z1cxeHVJQ0FnSUdKMVppNXlaV0ZrVlVsdWRETXlRa1VvTUNrc1hHNGdJQ0FnWW5WbUxuSmxZV1JWU1c1ME16SkNSU2cwS1N4Y2JpQWdJQ0JpZFdZdWNtVmhaRlZKYm5Rek1rSkZLRGdwTEZ4dUlDQWdJR0oxWmk1eVpXRmtWVWx1ZERNeVFrVW9NVElwWEc0Z0lGMWNibjFjYm1aMWJtTjBhVzl1SUdaeWIyMUJjbkpoZVNBb2IzVjBLU0I3WEc0Z0lHOTFkQ0E5SUc5MWRDNXRZWEFvWm1sNGRYQmZkV2x1ZERNeUtWeHVJQ0IyWVhJZ1luVm1JRDBnYm1WM0lFSjFabVpsY2lneE5pbGNiaUFnWW5WbUxuZHlhWFJsVlVsdWRETXlRa1VvYjNWMFd6QmRMQ0F3S1Z4dUlDQmlkV1l1ZDNKcGRHVlZTVzUwTXpKQ1JTaHZkWFJiTVYwc0lEUXBYRzRnSUdKMVppNTNjbWwwWlZWSmJuUXpNa0pGS0c5MWRGc3lYU3dnT0NsY2JpQWdZblZtTG5keWFYUmxWVWx1ZERNeVFrVW9iM1YwV3pOZExDQXhNaWxjYmlBZ2NtVjBkWEp1SUdKMVpseHVmVnh1ZG1GeUlIVnBiblJmYldGNElEMGdUV0YwYUM1d2IzY29NaXdnTXpJcFhHNW1kVzVqZEdsdmJpQm1hWGgxY0Y5MWFXNTBNeklnS0hncElIdGNiaUFnZG1GeUlISmxkQ3dnZUY5d2IzTmNiaUFnY21WMElEMGdlQ0ErSUhWcGJuUmZiV0Y0SUh4OElIZ2dQQ0F3SUQ4Z0tIaGZjRzl6SUQwZ1RXRjBhQzVoWW5Nb2VDa2dKU0IxYVc1MFgyMWhlQ3dnZUNBOElEQWdQeUIxYVc1MFgyMWhlQ0F0SUhoZmNHOXpJRG9nZUY5d2IzTXBJRG9nZUZ4dUlDQnlaWFIxY200Z2NtVjBYRzU5WEc1bWRXNWpkR2x2YmlCNGIzSWdLR0VzSUdJcElIdGNiaUFnY21WMGRYSnVJRnRjYmlBZ0lDQmhXekJkSUY0Z1lsc3dYU3hjYmlBZ0lDQmhXekZkSUY0Z1lsc3hYU3hjYmlBZ0lDQmhXekpkSUY0Z1lsc3lYU3hjYmlBZ0lDQmhXek5kSUY0Z1lsc3pYVnh1SUNCZFhHNTlYRzRpWFgwPSIsIihmdW5jdGlvbiAoQnVmZmVyKXtcbi8vIGJhc2VkIG9uIHRoZSBhZXMgaW1wbGltZW50YXRpb24gaW4gdHJpcGxlIHNlY1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2tleWJhc2UvdHJpcGxlc2VjXG5cbi8vIHdoaWNoIGlzIGluIHR1cm4gYmFzZWQgb24gdGhlIG9uZSBmcm9tIGNyeXB0by1qc1xuLy8gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMvXG5cbnZhciB1aW50X21heCA9IE1hdGgucG93KDIsIDMyKVxuZnVuY3Rpb24gZml4dXBfdWludDMyICh4KSB7XG4gIHZhciByZXQsIHhfcG9zXG4gIHJldCA9IHggPiB1aW50X21heCB8fCB4IDwgMCA/ICh4X3BvcyA9IE1hdGguYWJzKHgpICUgdWludF9tYXgsIHggPCAwID8gdWludF9tYXggLSB4X3BvcyA6IHhfcG9zKSA6IHhcbiAgcmV0dXJuIHJldFxufVxuZnVuY3Rpb24gc2NydWJfdmVjICh2KSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdi5sZW5ndGg7IHYrKykge1xuICAgIHZbaV0gPSAwXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIEdsb2JhbCAoKSB7XG4gIHRoaXMuU0JPWCA9IFtdXG4gIHRoaXMuSU5WX1NCT1ggPSBbXVxuICB0aGlzLlNVQl9NSVggPSBbW10sIFtdLCBbXSwgW11dXG4gIHRoaXMuSU5WX1NVQl9NSVggPSBbW10sIFtdLCBbXSwgW11dXG4gIHRoaXMuaW5pdCgpXG4gIHRoaXMuUkNPTiA9IFsweDAwLCAweDAxLCAweDAyLCAweDA0LCAweDA4LCAweDEwLCAweDIwLCAweDQwLCAweDgwLCAweDFiLCAweDM2XVxufVxuXG5HbG9iYWwucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBkLCBpLCBzeCwgdCwgeCwgeDIsIHg0LCB4OCwgeGksIF9pXG4gIGQgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBfaSwgX3Jlc3VsdHNcbiAgICBfcmVzdWx0cyA9IFtdXG4gICAgZm9yIChpID0gX2kgPSAwOyBfaSA8IDI1NjsgaSA9ICsrX2kpIHtcbiAgICAgIGlmIChpIDwgMTI4KSB7XG4gICAgICAgIF9yZXN1bHRzLnB1c2goaSA8PCAxKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3Jlc3VsdHMucHVzaCgoaSA8PCAxKSBeIDB4MTFiKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX3Jlc3VsdHNcbiAgfSkoKVxuICB4ID0gMFxuICB4aSA9IDBcbiAgZm9yIChpID0gX2kgPSAwOyBfaSA8IDI1NjsgaSA9ICsrX2kpIHtcbiAgICBzeCA9IHhpIF4gKHhpIDw8IDEpIF4gKHhpIDw8IDIpIF4gKHhpIDw8IDMpIF4gKHhpIDw8IDQpXG4gICAgc3ggPSAoc3ggPj4+IDgpIF4gKHN4ICYgMHhmZikgXiAweDYzXG4gICAgdGhpcy5TQk9YW3hdID0gc3hcbiAgICB0aGlzLklOVl9TQk9YW3N4XSA9IHhcbiAgICB4MiA9IGRbeF1cbiAgICB4NCA9IGRbeDJdXG4gICAgeDggPSBkW3g0XVxuICAgIHQgPSAoZFtzeF0gKiAweDEwMSkgXiAoc3ggKiAweDEwMTAxMDApXG4gICAgdGhpcy5TVUJfTUlYWzBdW3hdID0gKHQgPDwgMjQpIHwgKHQgPj4+IDgpXG4gICAgdGhpcy5TVUJfTUlYWzFdW3hdID0gKHQgPDwgMTYpIHwgKHQgPj4+IDE2KVxuICAgIHRoaXMuU1VCX01JWFsyXVt4XSA9ICh0IDw8IDgpIHwgKHQgPj4+IDI0KVxuICAgIHRoaXMuU1VCX01JWFszXVt4XSA9IHRcbiAgICB0ID0gKHg4ICogMHgxMDEwMTAxKSBeICh4NCAqIDB4MTAwMDEpIF4gKHgyICogMHgxMDEpIF4gKHggKiAweDEwMTAxMDApXG4gICAgdGhpcy5JTlZfU1VCX01JWFswXVtzeF0gPSAodCA8PCAyNCkgfCAodCA+Pj4gOClcbiAgICB0aGlzLklOVl9TVUJfTUlYWzFdW3N4XSA9ICh0IDw8IDE2KSB8ICh0ID4+PiAxNilcbiAgICB0aGlzLklOVl9TVUJfTUlYWzJdW3N4XSA9ICh0IDw8IDgpIHwgKHQgPj4+IDI0KVxuICAgIHRoaXMuSU5WX1NVQl9NSVhbM11bc3hdID0gdFxuICAgIGlmICh4ID09PSAwKSB7XG4gICAgICB4ID0geGkgPSAxXG4gICAgfSBlbHNlIHtcbiAgICAgIHggPSB4MiBeIGRbZFtkW3g4IF4geDJdXV1cbiAgICAgIHhpIF49IGRbZFt4aV1dXG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbnZhciBHID0gbmV3IEdsb2JhbCgpXG5cbkFFUy5ibG9ja1NpemUgPSA0ICogNFxuXG5BRVMucHJvdG90eXBlLmJsb2NrU2l6ZSA9IEFFUy5ibG9ja1NpemVcblxuQUVTLmtleVNpemUgPSAyNTYgLyA4XG5cbkFFUy5wcm90b3R5cGUua2V5U2l6ZSA9IEFFUy5rZXlTaXplXG5cbmZ1bmN0aW9uIGJ1ZmZlclRvQXJyYXkgKGJ1Zikge1xuICB2YXIgbGVuID0gYnVmLmxlbmd0aCAvIDRcbiAgdmFyIG91dCA9IG5ldyBBcnJheShsZW4pXG4gIHZhciBpID0gLTFcbiAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgIG91dFtpXSA9IGJ1Zi5yZWFkVUludDMyQkUoaSAqIDQpXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuZnVuY3Rpb24gQUVTIChrZXkpIHtcbiAgdGhpcy5fa2V5ID0gYnVmZmVyVG9BcnJheShrZXkpXG4gIHRoaXMuX2RvUmVzZXQoKVxufVxuXG5BRVMucHJvdG90eXBlLl9kb1Jlc2V0ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaW52S3NSb3csIGtleVNpemUsIGtleVdvcmRzLCBrc1Jvdywga3NSb3dzLCB0XG4gIGtleVdvcmRzID0gdGhpcy5fa2V5XG4gIGtleVNpemUgPSBrZXlXb3Jkcy5sZW5ndGhcbiAgdGhpcy5fblJvdW5kcyA9IGtleVNpemUgKyA2XG4gIGtzUm93cyA9ICh0aGlzLl9uUm91bmRzICsgMSkgKiA0XG4gIHRoaXMuX2tleVNjaGVkdWxlID0gW11cbiAgZm9yIChrc1JvdyA9IDA7IGtzUm93IDwga3NSb3dzOyBrc1JvdysrKSB7XG4gICAgdGhpcy5fa2V5U2NoZWR1bGVba3NSb3ddID0ga3NSb3cgPCBrZXlTaXplID8ga2V5V29yZHNba3NSb3ddIDogKHQgPSB0aGlzLl9rZXlTY2hlZHVsZVtrc1JvdyAtIDFdLCAoa3NSb3cgJSBrZXlTaXplKSA9PT0gMCA/ICh0ID0gKHQgPDwgOCkgfCAodCA+Pj4gMjQpLCB0ID0gKEcuU0JPWFt0ID4+PiAyNF0gPDwgMjQpIHwgKEcuU0JPWFsodCA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKEcuU0JPWFsodCA+Pj4gOCkgJiAweGZmXSA8PCA4KSB8IEcuU0JPWFt0ICYgMHhmZl0sIHQgXj0gRy5SQ09OWyhrc1JvdyAvIGtleVNpemUpIHwgMF0gPDwgMjQpIDoga2V5U2l6ZSA+IDYgJiYga3NSb3cgJSBrZXlTaXplID09PSA0ID8gdCA9IChHLlNCT1hbdCA+Pj4gMjRdIDw8IDI0KSB8IChHLlNCT1hbKHQgPj4+IDE2KSAmIDB4ZmZdIDw8IDE2KSB8IChHLlNCT1hbKHQgPj4+IDgpICYgMHhmZl0gPDwgOCkgfCBHLlNCT1hbdCAmIDB4ZmZdIDogdm9pZCAwLCB0aGlzLl9rZXlTY2hlZHVsZVtrc1JvdyAtIGtleVNpemVdIF4gdClcbiAgfVxuICB0aGlzLl9pbnZLZXlTY2hlZHVsZSA9IFtdXG4gIGZvciAoaW52S3NSb3cgPSAwOyBpbnZLc1JvdyA8IGtzUm93czsgaW52S3NSb3crKykge1xuICAgIGtzUm93ID0ga3NSb3dzIC0gaW52S3NSb3dcbiAgICB0ID0gdGhpcy5fa2V5U2NoZWR1bGVba3NSb3cgLSAoaW52S3NSb3cgJSA0ID8gMCA6IDQpXVxuICAgIHRoaXMuX2ludktleVNjaGVkdWxlW2ludktzUm93XSA9IGludktzUm93IDwgNCB8fCBrc1JvdyA8PSA0ID8gdCA6IEcuSU5WX1NVQl9NSVhbMF1bRy5TQk9YW3QgPj4+IDI0XV0gXiBHLklOVl9TVUJfTUlYWzFdW0cuU0JPWFsodCA+Pj4gMTYpICYgMHhmZl1dIF4gRy5JTlZfU1VCX01JWFsyXVtHLlNCT1hbKHQgPj4+IDgpICYgMHhmZl1dIF4gRy5JTlZfU1VCX01JWFszXVtHLlNCT1hbdCAmIDB4ZmZdXVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbkFFUy5wcm90b3R5cGUuZW5jcnlwdEJsb2NrID0gZnVuY3Rpb24gKE0pIHtcbiAgTSA9IGJ1ZmZlclRvQXJyYXkobmV3IEJ1ZmZlcihNKSlcbiAgdmFyIG91dCA9IHRoaXMuX2RvQ3J5cHRCbG9jayhNLCB0aGlzLl9rZXlTY2hlZHVsZSwgRy5TVUJfTUlYLCBHLlNCT1gpXG4gIHZhciBidWYgPSBuZXcgQnVmZmVyKDE2KVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbMF0sIDApXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFsxXSwgNClcbiAgYnVmLndyaXRlVUludDMyQkUob3V0WzJdLCA4KVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbM10sIDEyKVxuICByZXR1cm4gYnVmXG59XG5cbkFFUy5wcm90b3R5cGUuZGVjcnlwdEJsb2NrID0gZnVuY3Rpb24gKE0pIHtcbiAgTSA9IGJ1ZmZlclRvQXJyYXkobmV3IEJ1ZmZlcihNKSlcbiAgdmFyIHRlbXAgPSBbTVszXSwgTVsxXV1cbiAgTVsxXSA9IHRlbXBbMF1cbiAgTVszXSA9IHRlbXBbMV1cbiAgdmFyIG91dCA9IHRoaXMuX2RvQ3J5cHRCbG9jayhNLCB0aGlzLl9pbnZLZXlTY2hlZHVsZSwgRy5JTlZfU1VCX01JWCwgRy5JTlZfU0JPWClcbiAgdmFyIGJ1ZiA9IG5ldyBCdWZmZXIoMTYpXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFswXSwgMClcbiAgYnVmLndyaXRlVUludDMyQkUob3V0WzNdLCA0KVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbMl0sIDgpXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFsxXSwgMTIpXG4gIHJldHVybiBidWZcbn1cblxuQUVTLnByb3RvdHlwZS5zY3J1YiA9IGZ1bmN0aW9uICgpIHtcbiAgc2NydWJfdmVjKHRoaXMuX2tleVNjaGVkdWxlKVxuICBzY3J1Yl92ZWModGhpcy5faW52S2V5U2NoZWR1bGUpXG4gIHNjcnViX3ZlYyh0aGlzLl9rZXkpXG59XG5cbkFFUy5wcm90b3R5cGUuX2RvQ3J5cHRCbG9jayA9IGZ1bmN0aW9uIChNLCBrZXlTY2hlZHVsZSwgU1VCX01JWCwgU0JPWCkge1xuICB2YXIga3NSb3csIHMwLCBzMSwgczIsIHMzLCB0MCwgdDEsIHQyLCB0M1xuXG4gIHMwID0gTVswXSBeIGtleVNjaGVkdWxlWzBdXG4gIHMxID0gTVsxXSBeIGtleVNjaGVkdWxlWzFdXG4gIHMyID0gTVsyXSBeIGtleVNjaGVkdWxlWzJdXG4gIHMzID0gTVszXSBeIGtleVNjaGVkdWxlWzNdXG4gIGtzUm93ID0gNFxuICBmb3IgKHZhciByb3VuZCA9IDE7IHJvdW5kIDwgdGhpcy5fblJvdW5kczsgcm91bmQrKykge1xuICAgIHQwID0gU1VCX01JWFswXVtzMCA+Pj4gMjRdIF4gU1VCX01JWFsxXVsoczEgPj4+IDE2KSAmIDB4ZmZdIF4gU1VCX01JWFsyXVsoczIgPj4+IDgpICYgMHhmZl0gXiBTVUJfTUlYWzNdW3MzICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICAgIHQxID0gU1VCX01JWFswXVtzMSA+Pj4gMjRdIF4gU1VCX01JWFsxXVsoczIgPj4+IDE2KSAmIDB4ZmZdIF4gU1VCX01JWFsyXVsoczMgPj4+IDgpICYgMHhmZl0gXiBTVUJfTUlYWzNdW3MwICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICAgIHQyID0gU1VCX01JWFswXVtzMiA+Pj4gMjRdIF4gU1VCX01JWFsxXVsoczMgPj4+IDE2KSAmIDB4ZmZdIF4gU1VCX01JWFsyXVsoczAgPj4+IDgpICYgMHhmZl0gXiBTVUJfTUlYWzNdW3MxICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICAgIHQzID0gU1VCX01JWFswXVtzMyA+Pj4gMjRdIF4gU1VCX01JWFsxXVsoczAgPj4+IDE2KSAmIDB4ZmZdIF4gU1VCX01JWFsyXVsoczEgPj4+IDgpICYgMHhmZl0gXiBTVUJfTUlYWzNdW3MyICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICAgIHMwID0gdDBcbiAgICBzMSA9IHQxXG4gICAgczIgPSB0MlxuICAgIHMzID0gdDNcbiAgfVxuICB0MCA9ICgoU0JPWFtzMCA+Pj4gMjRdIDw8IDI0KSB8IChTQk9YWyhzMSA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKFNCT1hbKHMyID4+PiA4KSAmIDB4ZmZdIDw8IDgpIHwgU0JPWFtzMyAmIDB4ZmZdKSBeIGtleVNjaGVkdWxlW2tzUm93KytdXG4gIHQxID0gKChTQk9YW3MxID4+PiAyNF0gPDwgMjQpIHwgKFNCT1hbKHMyID4+PiAxNikgJiAweGZmXSA8PCAxNikgfCAoU0JPWFsoczMgPj4+IDgpICYgMHhmZl0gPDwgOCkgfCBTQk9YW3MwICYgMHhmZl0pIF4ga2V5U2NoZWR1bGVba3NSb3crK11cbiAgdDIgPSAoKFNCT1hbczIgPj4+IDI0XSA8PCAyNCkgfCAoU0JPWFsoczMgPj4+IDE2KSAmIDB4ZmZdIDw8IDE2KSB8IChTQk9YWyhzMCA+Pj4gOCkgJiAweGZmXSA8PCA4KSB8IFNCT1hbczEgJiAweGZmXSkgXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICB0MyA9ICgoU0JPWFtzMyA+Pj4gMjRdIDw8IDI0KSB8IChTQk9YWyhzMCA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKFNCT1hbKHMxID4+PiA4KSAmIDB4ZmZdIDw8IDgpIHwgU0JPWFtzMiAmIDB4ZmZdKSBeIGtleVNjaGVkdWxlW2tzUm93KytdXG4gIHJldHVybiBbXG4gICAgZml4dXBfdWludDMyKHQwKSxcbiAgICBmaXh1cF91aW50MzIodDEpLFxuICAgIGZpeHVwX3VpbnQzMih0MiksXG4gICAgZml4dXBfdWludDMyKHQzKVxuICBdXG59XG5cbmV4cG9ydHMuQUVTID0gQUVTXG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12Y0hWaWJHbGpMV1Z1WTNKNWNIUXZibTlrWlY5dGIyUjFiR1Z6TDNCaGNuTmxMV0Z6YmpFdmJtOWtaVjl0YjJSMWJHVnpMMkp5YjNkelpYSnBabmt0WVdWekwyRmxjeTVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pTzBGQlFVRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEVpTENKbWFXeGxJam9pWjJWdVpYSmhkR1ZrTG1weklpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYklpOHZJR0poYzJWa0lHOXVJSFJvWlNCaFpYTWdhVzF3YkdsdFpXNTBZWFJwYjI0Z2FXNGdkSEpwY0d4bElITmxZMXh1THk4Z2FIUjBjSE02THk5bmFYUm9kV0l1WTI5dEwydGxlV0poYzJVdmRISnBjR3hsYzJWalhHNWNiaTh2SUhkb2FXTm9JR2x6SUdsdUlIUjFjbTRnWW1GelpXUWdiMjRnZEdobElHOXVaU0JtY205dElHTnllWEIwYnkxcWMxeHVMeThnYUhSMGNITTZMeTlqYjJSbExtZHZiMmRzWlM1amIyMHZjQzlqY25sd2RHOHRhbk12WEc1Y2JuWmhjaUIxYVc1MFgyMWhlQ0E5SUUxaGRHZ3VjRzkzS0RJc0lETXlLVnh1Wm5WdVkzUnBiMjRnWm1sNGRYQmZkV2x1ZERNeUlDaDRLU0I3WEc0Z0lIWmhjaUJ5WlhRc0lIaGZjRzl6WEc0Z0lISmxkQ0E5SUhnZ1BpQjFhVzUwWDIxaGVDQjhmQ0I0SUR3Z01DQS9JQ2g0WDNCdmN5QTlJRTFoZEdndVlXSnpLSGdwSUNVZ2RXbHVkRjl0WVhnc0lIZ2dQQ0F3SUQ4Z2RXbHVkRjl0WVhnZ0xTQjRYM0J2Y3lBNklIaGZjRzl6S1NBNklIaGNiaUFnY21WMGRYSnVJSEpsZEZ4dWZWeHVablZ1WTNScGIyNGdjMk55ZFdKZmRtVmpJQ2gyS1NCN1hHNGdJR1p2Y2lBb2RtRnlJR2tnUFNBd095QnBJRHdnZGk1c1pXNW5kR2c3SUhZckt5a2dlMXh1SUNBZ0lIWmJhVjBnUFNBd1hHNGdJSDFjYmlBZ2NtVjBkWEp1SUdaaGJITmxYRzU5WEc1Y2JtWjFibU4wYVc5dUlFZHNiMkpoYkNBb0tTQjdYRzRnSUhSb2FYTXVVMEpQV0NBOUlGdGRYRzRnSUhSb2FYTXVTVTVXWDFOQ1QxZ2dQU0JiWFZ4dUlDQjBhR2x6TGxOVlFsOU5TVmdnUFNCYlcxMHNJRnRkTENCYlhTd2dXMTFkWEc0Z0lIUm9hWE11U1U1V1gxTlZRbDlOU1ZnZ1BTQmJXMTBzSUZ0ZExDQmJYU3dnVzExZFhHNGdJSFJvYVhNdWFXNXBkQ2dwWEc0Z0lIUm9hWE11VWtOUFRpQTlJRnN3ZURBd0xDQXdlREF4TENBd2VEQXlMQ0F3ZURBMExDQXdlREE0TENBd2VERXdMQ0F3ZURJd0xDQXdlRFF3TENBd2VEZ3dMQ0F3ZURGaUxDQXdlRE0yWFZ4dWZWeHVYRzVIYkc5aVlXd3VjSEp2ZEc5MGVYQmxMbWx1YVhRZ1BTQm1kVzVqZEdsdmJpQW9LU0I3WEc0Z0lIWmhjaUJrTENCcExDQnplQ3dnZEN3Z2VDd2dlRElzSUhnMExDQjRPQ3dnZUdrc0lGOXBYRzRnSUdRZ1BTQW9ablZ1WTNScGIyNGdLQ2tnZTF4dUlDQWdJSFpoY2lCZmFTd2dYM0psYzNWc2RITmNiaUFnSUNCZmNtVnpkV3gwY3lBOUlGdGRYRzRnSUNBZ1ptOXlJQ2hwSUQwZ1gya2dQU0F3T3lCZmFTQThJREkxTmpzZ2FTQTlJQ3NyWDJrcElIdGNiaUFnSUNBZ0lHbG1JQ2hwSUR3Z01USTRLU0I3WEc0Z0lDQWdJQ0FnSUY5eVpYTjFiSFJ6TG5CMWMyZ29hU0E4UENBeEtWeHVJQ0FnSUNBZ2ZTQmxiSE5sSUh0Y2JpQWdJQ0FnSUNBZ1gzSmxjM1ZzZEhNdWNIVnphQ2dvYVNBOFBDQXhLU0JlSURCNE1URmlLVnh1SUNBZ0lDQWdmVnh1SUNBZ0lIMWNiaUFnSUNCeVpYUjFjbTRnWDNKbGMzVnNkSE5jYmlBZ2ZTa29LVnh1SUNCNElEMGdNRnh1SUNCNGFTQTlJREJjYmlBZ1ptOXlJQ2hwSUQwZ1gya2dQU0F3T3lCZmFTQThJREkxTmpzZ2FTQTlJQ3NyWDJrcElIdGNiaUFnSUNCemVDQTlJSGhwSUY0Z0tIaHBJRHc4SURFcElGNGdLSGhwSUR3OElESXBJRjRnS0hocElEdzhJRE1wSUY0Z0tIaHBJRHc4SURRcFhHNGdJQ0FnYzNnZ1BTQW9jM2dnUGo0K0lEZ3BJRjRnS0hONElDWWdNSGhtWmlrZ1hpQXdlRFl6WEc0Z0lDQWdkR2hwY3k1VFFrOVlXM2hkSUQwZ2MzaGNiaUFnSUNCMGFHbHpMa2xPVmw5VFFrOVlXM040WFNBOUlIaGNiaUFnSUNCNE1pQTlJR1JiZUYxY2JpQWdJQ0I0TkNBOUlHUmJlREpkWEc0Z0lDQWdlRGdnUFNCa1czZzBYVnh1SUNBZ0lIUWdQU0FvWkZ0emVGMGdLaUF3ZURFd01Ta2dYaUFvYzNnZ0tpQXdlREV3TVRBeE1EQXBYRzRnSUNBZ2RHaHBjeTVUVlVKZlRVbFlXekJkVzNoZElEMGdLSFFnUER3Z01qUXBJSHdnS0hRZ1BqNCtJRGdwWEc0Z0lDQWdkR2hwY3k1VFZVSmZUVWxZV3pGZFczaGRJRDBnS0hRZ1BEd2dNVFlwSUh3Z0tIUWdQajQrSURFMktWeHVJQ0FnSUhSb2FYTXVVMVZDWDAxSldGc3lYVnQ0WFNBOUlDaDBJRHc4SURncElId2dLSFFnUGo0K0lESTBLVnh1SUNBZ0lIUm9hWE11VTFWQ1gwMUpXRnN6WFZ0NFhTQTlJSFJjYmlBZ0lDQjBJRDBnS0hnNElDb2dNSGd4TURFd01UQXhLU0JlSUNoNE5DQXFJREI0TVRBd01ERXBJRjRnS0hneUlDb2dNSGd4TURFcElGNGdLSGdnS2lBd2VERXdNVEF4TURBcFhHNGdJQ0FnZEdocGN5NUpUbFpmVTFWQ1gwMUpXRnN3WFZ0emVGMGdQU0FvZENBOFBDQXlOQ2tnZkNBb2RDQStQajRnT0NsY2JpQWdJQ0IwYUdsekxrbE9WbDlUVlVKZlRVbFlXekZkVzNONFhTQTlJQ2gwSUR3OElERTJLU0I4SUNoMElENCtQaUF4TmlsY2JpQWdJQ0IwYUdsekxrbE9WbDlUVlVKZlRVbFlXekpkVzNONFhTQTlJQ2gwSUR3OElEZ3BJSHdnS0hRZ1BqNCtJREkwS1Z4dUlDQWdJSFJvYVhNdVNVNVdYMU5WUWw5TlNWaGJNMTFiYzNoZElEMGdkRnh1SUNBZ0lHbG1JQ2g0SUQwOVBTQXdLU0I3WEc0Z0lDQWdJQ0I0SUQwZ2VHa2dQU0F4WEc0Z0lDQWdmU0JsYkhObElIdGNiaUFnSUNBZ0lIZ2dQU0I0TWlCZUlHUmJaRnRrVzNnNElGNGdlREpkWFYxY2JpQWdJQ0FnSUhocElGNDlJR1JiWkZ0NGFWMWRYRzRnSUNBZ2ZWeHVJQ0I5WEc0Z0lISmxkSFZ5YmlCMGNuVmxYRzU5WEc1Y2JuWmhjaUJISUQwZ2JtVjNJRWRzYjJKaGJDZ3BYRzVjYmtGRlV5NWliRzlqYTFOcGVtVWdQU0EwSUNvZ05GeHVYRzVCUlZNdWNISnZkRzkwZVhCbExtSnNiMk5yVTJsNlpTQTlJRUZGVXk1aWJHOWphMU5wZW1WY2JseHVRVVZUTG10bGVWTnBlbVVnUFNBeU5UWWdMeUE0WEc1Y2JrRkZVeTV3Y205MGIzUjVjR1V1YTJWNVUybDZaU0E5SUVGRlV5NXJaWGxUYVhwbFhHNWNibVoxYm1OMGFXOXVJR0oxWm1abGNsUnZRWEp5WVhrZ0tHSjFaaWtnZTF4dUlDQjJZWElnYkdWdUlEMGdZblZtTG14bGJtZDBhQ0F2SURSY2JpQWdkbUZ5SUc5MWRDQTlJRzVsZHlCQmNuSmhlU2hzWlc0cFhHNGdJSFpoY2lCcElEMGdMVEZjYmlBZ2QyaHBiR1VnS0NzcmFTQThJR3hsYmlrZ2UxeHVJQ0FnSUc5MWRGdHBYU0E5SUdKMVppNXlaV0ZrVlVsdWRETXlRa1VvYVNBcUlEUXBYRzRnSUgxY2JpQWdjbVYwZFhKdUlHOTFkRnh1ZlZ4dVpuVnVZM1JwYjI0Z1FVVlRJQ2hyWlhrcElIdGNiaUFnZEdocGN5NWZhMlY1SUQwZ1luVm1abVZ5Vkc5QmNuSmhlU2hyWlhrcFhHNGdJSFJvYVhNdVgyUnZVbVZ6WlhRb0tWeHVmVnh1WEc1QlJWTXVjSEp2ZEc5MGVYQmxMbDlrYjFKbGMyVjBJRDBnWm5WdVkzUnBiMjRnS0NrZ2UxeHVJQ0IyWVhJZ2FXNTJTM05TYjNjc0lHdGxlVk5wZW1Vc0lHdGxlVmR2Y21SekxDQnJjMUp2ZHl3Z2EzTlNiM2R6TENCMFhHNGdJR3RsZVZkdmNtUnpJRDBnZEdocGN5NWZhMlY1WEc0Z0lHdGxlVk5wZW1VZ1BTQnJaWGxYYjNKa2N5NXNaVzVuZEdoY2JpQWdkR2hwY3k1ZmJsSnZkVzVrY3lBOUlHdGxlVk5wZW1VZ0t5QTJYRzRnSUd0elVtOTNjeUE5SUNoMGFHbHpMbDl1VW05MWJtUnpJQ3NnTVNrZ0tpQTBYRzRnSUhSb2FYTXVYMnRsZVZOamFHVmtkV3hsSUQwZ1cxMWNiaUFnWm05eUlDaHJjMUp2ZHlBOUlEQTdJR3R6VW05M0lEd2dhM05TYjNkek95QnJjMUp2ZHlzcktTQjdYRzRnSUNBZ2RHaHBjeTVmYTJWNVUyTm9aV1IxYkdWYmEzTlNiM2RkSUQwZ2EzTlNiM2NnUENCclpYbFRhWHBsSUQ4Z2EyVjVWMjl5WkhOYmEzTlNiM2RkSURvZ0tIUWdQU0IwYUdsekxsOXJaWGxUWTJobFpIVnNaVnRyYzFKdmR5QXRJREZkTENBb2EzTlNiM2NnSlNCclpYbFRhWHBsS1NBOVBUMGdNQ0EvSUNoMElEMGdLSFFnUER3Z09Da2dmQ0FvZENBK1BqNGdNalFwTENCMElEMGdLRWN1VTBKUFdGdDBJRDQrUGlBeU5GMGdQRHdnTWpRcElId2dLRWN1VTBKUFdGc29kQ0ErUGo0Z01UWXBJQ1lnTUhobVpsMGdQRHdnTVRZcElId2dLRWN1VTBKUFdGc29kQ0ErUGo0Z09Da2dKaUF3ZUdabVhTQThQQ0E0S1NCOElFY3VVMEpQV0Z0MElDWWdNSGhtWmwwc0lIUWdYajBnUnk1U1EwOU9XeWhyYzFKdmR5QXZJR3RsZVZOcGVtVXBJSHdnTUYwZ1BEd2dNalFwSURvZ2EyVjVVMmw2WlNBK0lEWWdKaVlnYTNOU2IzY2dKU0JyWlhsVGFYcGxJRDA5UFNBMElEOGdkQ0E5SUNoSExsTkNUMWhiZENBK1BqNGdNalJkSUR3OElESTBLU0I4SUNoSExsTkNUMWhiS0hRZ1BqNCtJREUyS1NBbUlEQjRabVpkSUR3OElERTJLU0I4SUNoSExsTkNUMWhiS0hRZ1BqNCtJRGdwSUNZZ01IaG1abDBnUER3Z09Da2dmQ0JITGxOQ1QxaGJkQ0FtSURCNFptWmRJRG9nZG05cFpDQXdMQ0IwYUdsekxsOXJaWGxUWTJobFpIVnNaVnRyYzFKdmR5QXRJR3RsZVZOcGVtVmRJRjRnZENsY2JpQWdmVnh1SUNCMGFHbHpMbDlwYm5aTFpYbFRZMmhsWkhWc1pTQTlJRnRkWEc0Z0lHWnZjaUFvYVc1MlMzTlNiM2NnUFNBd095QnBiblpMYzFKdmR5QThJR3R6VW05M2N6c2dhVzUyUzNOU2IzY3JLeWtnZTF4dUlDQWdJR3R6VW05M0lEMGdhM05TYjNkeklDMGdhVzUyUzNOU2IzZGNiaUFnSUNCMElEMGdkR2hwY3k1ZmEyVjVVMk5vWldSMWJHVmJhM05TYjNjZ0xTQW9hVzUyUzNOU2IzY2dKU0EwSUQ4Z01DQTZJRFFwWFZ4dUlDQWdJSFJvYVhNdVgybHVka3RsZVZOamFHVmtkV3hsVzJsdWRrdHpVbTkzWFNBOUlHbHVka3R6VW05M0lEd2dOQ0I4ZkNCcmMxSnZkeUE4UFNBMElEOGdkQ0E2SUVjdVNVNVdYMU5WUWw5TlNWaGJNRjFiUnk1VFFrOVlXM1FnUGo0K0lESTBYVjBnWGlCSExrbE9WbDlUVlVKZlRVbFlXekZkVzBjdVUwSlBXRnNvZENBK1BqNGdNVFlwSUNZZ01IaG1abDFkSUY0Z1J5NUpUbFpmVTFWQ1gwMUpXRnN5WFZ0SExsTkNUMWhiS0hRZ1BqNCtJRGdwSUNZZ01IaG1abDFkSUY0Z1J5NUpUbFpmVTFWQ1gwMUpXRnN6WFZ0SExsTkNUMWhiZENBbUlEQjRabVpkWFZ4dUlDQjlYRzRnSUhKbGRIVnliaUIwY25WbFhHNTlYRzVjYmtGRlV5NXdjbTkwYjNSNWNHVXVaVzVqY25sd2RFSnNiMk5ySUQwZ1puVnVZM1JwYjI0Z0tFMHBJSHRjYmlBZ1RTQTlJR0oxWm1abGNsUnZRWEp5WVhrb2JtVjNJRUoxWm1abGNpaE5LU2xjYmlBZ2RtRnlJRzkxZENBOUlIUm9hWE11WDJSdlEzSjVjSFJDYkc5amF5aE5MQ0IwYUdsekxsOXJaWGxUWTJobFpIVnNaU3dnUnk1VFZVSmZUVWxZTENCSExsTkNUMWdwWEc0Z0lIWmhjaUJpZFdZZ1BTQnVaWGNnUW5WbVptVnlLREUyS1Z4dUlDQmlkV1l1ZDNKcGRHVlZTVzUwTXpKQ1JTaHZkWFJiTUYwc0lEQXBYRzRnSUdKMVppNTNjbWwwWlZWSmJuUXpNa0pGS0c5MWRGc3hYU3dnTkNsY2JpQWdZblZtTG5keWFYUmxWVWx1ZERNeVFrVW9iM1YwV3pKZExDQTRLVnh1SUNCaWRXWXVkM0pwZEdWVlNXNTBNekpDUlNodmRYUmJNMTBzSURFeUtWeHVJQ0J5WlhSMWNtNGdZblZtWEc1OVhHNWNia0ZGVXk1d2NtOTBiM1I1Y0dVdVpHVmpjbmx3ZEVKc2IyTnJJRDBnWm5WdVkzUnBiMjRnS0UwcElIdGNiaUFnVFNBOUlHSjFabVpsY2xSdlFYSnlZWGtvYm1WM0lFSjFabVpsY2loTktTbGNiaUFnZG1GeUlIUmxiWEFnUFNCYlRWc3pYU3dnVFZzeFhWMWNiaUFnVFZzeFhTQTlJSFJsYlhCYk1GMWNiaUFnVFZzelhTQTlJSFJsYlhCYk1WMWNiaUFnZG1GeUlHOTFkQ0E5SUhSb2FYTXVYMlJ2UTNKNWNIUkNiRzlqYXloTkxDQjBhR2x6TGw5cGJuWkxaWGxUWTJobFpIVnNaU3dnUnk1SlRsWmZVMVZDWDAxSldDd2dSeTVKVGxaZlUwSlBXQ2xjYmlBZ2RtRnlJR0oxWmlBOUlHNWxkeUJDZFdabVpYSW9NVFlwWEc0Z0lHSjFaaTUzY21sMFpWVkpiblF6TWtKRktHOTFkRnN3WFN3Z01DbGNiaUFnWW5WbUxuZHlhWFJsVlVsdWRETXlRa1VvYjNWMFd6TmRMQ0EwS1Z4dUlDQmlkV1l1ZDNKcGRHVlZTVzUwTXpKQ1JTaHZkWFJiTWwwc0lEZ3BYRzRnSUdKMVppNTNjbWwwWlZWSmJuUXpNa0pGS0c5MWRGc3hYU3dnTVRJcFhHNGdJSEpsZEhWeWJpQmlkV1pjYm4xY2JseHVRVVZUTG5CeWIzUnZkSGx3WlM1elkzSjFZaUE5SUdaMWJtTjBhVzl1SUNncElIdGNiaUFnYzJOeWRXSmZkbVZqS0hSb2FYTXVYMnRsZVZOamFHVmtkV3hsS1Z4dUlDQnpZM0oxWWw5MlpXTW9kR2hwY3k1ZmFXNTJTMlY1VTJOb1pXUjFiR1VwWEc0Z0lITmpjblZpWDNabFl5aDBhR2x6TGw5clpYa3BYRzU5WEc1Y2JrRkZVeTV3Y205MGIzUjVjR1V1WDJSdlEzSjVjSFJDYkc5amF5QTlJR1oxYm1OMGFXOXVJQ2hOTENCclpYbFRZMmhsWkhWc1pTd2dVMVZDWDAxSldDd2dVMEpQV0NrZ2UxeHVJQ0IyWVhJZ2EzTlNiM2NzSUhNd0xDQnpNU3dnY3pJc0lITXpMQ0IwTUN3Z2RERXNJSFF5TENCME0xeHVYRzRnSUhNd0lEMGdUVnN3WFNCZUlHdGxlVk5qYUdWa2RXeGxXekJkWEc0Z0lITXhJRDBnVFZzeFhTQmVJR3RsZVZOamFHVmtkV3hsV3pGZFhHNGdJSE15SUQwZ1RWc3lYU0JlSUd0bGVWTmphR1ZrZFd4bFd6SmRYRzRnSUhNeklEMGdUVnN6WFNCZUlHdGxlVk5qYUdWa2RXeGxXek5kWEc0Z0lHdHpVbTkzSUQwZ05GeHVJQ0JtYjNJZ0tIWmhjaUJ5YjNWdVpDQTlJREU3SUhKdmRXNWtJRHdnZEdocGN5NWZibEp2ZFc1a2N6c2djbTkxYm1Rckt5a2dlMXh1SUNBZ0lIUXdJRDBnVTFWQ1gwMUpXRnN3WFZ0ek1DQStQajRnTWpSZElGNGdVMVZDWDAxSldGc3hYVnNvY3pFZ1BqNCtJREUyS1NBbUlEQjRabVpkSUY0Z1UxVkNYMDFKV0ZzeVhWc29jeklnUGo0K0lEZ3BJQ1lnTUhobVpsMGdYaUJUVlVKZlRVbFlXek5kVzNNeklDWWdNSGhtWmwwZ1hpQnJaWGxUWTJobFpIVnNaVnRyYzFKdmR5c3JYVnh1SUNBZ0lIUXhJRDBnVTFWQ1gwMUpXRnN3WFZ0ek1TQStQajRnTWpSZElGNGdVMVZDWDAxSldGc3hYVnNvY3pJZ1BqNCtJREUyS1NBbUlEQjRabVpkSUY0Z1UxVkNYMDFKV0ZzeVhWc29jek1nUGo0K0lEZ3BJQ1lnTUhobVpsMGdYaUJUVlVKZlRVbFlXek5kVzNNd0lDWWdNSGhtWmwwZ1hpQnJaWGxUWTJobFpIVnNaVnRyYzFKdmR5c3JYVnh1SUNBZ0lIUXlJRDBnVTFWQ1gwMUpXRnN3WFZ0ek1pQStQajRnTWpSZElGNGdVMVZDWDAxSldGc3hYVnNvY3pNZ1BqNCtJREUyS1NBbUlEQjRabVpkSUY0Z1UxVkNYMDFKV0ZzeVhWc29jekFnUGo0K0lEZ3BJQ1lnTUhobVpsMGdYaUJUVlVKZlRVbFlXek5kVzNNeElDWWdNSGhtWmwwZ1hpQnJaWGxUWTJobFpIVnNaVnRyYzFKdmR5c3JYVnh1SUNBZ0lIUXpJRDBnVTFWQ1gwMUpXRnN3WFZ0ek15QStQajRnTWpSZElGNGdVMVZDWDAxSldGc3hYVnNvY3pBZ1BqNCtJREUyS1NBbUlEQjRabVpkSUY0Z1UxVkNYMDFKV0ZzeVhWc29jekVnUGo0K0lEZ3BJQ1lnTUhobVpsMGdYaUJUVlVKZlRVbFlXek5kVzNNeUlDWWdNSGhtWmwwZ1hpQnJaWGxUWTJobFpIVnNaVnRyYzFKdmR5c3JYVnh1SUNBZ0lITXdJRDBnZERCY2JpQWdJQ0J6TVNBOUlIUXhYRzRnSUNBZ2N6SWdQU0IwTWx4dUlDQWdJSE16SUQwZ2RETmNiaUFnZlZ4dUlDQjBNQ0E5SUNnb1UwSlBXRnR6TUNBK1BqNGdNalJkSUR3OElESTBLU0I4SUNoVFFrOVlXeWh6TVNBK1BqNGdNVFlwSUNZZ01IaG1abDBnUER3Z01UWXBJSHdnS0ZOQ1QxaGJLSE15SUQ0K1BpQTRLU0FtSURCNFptWmRJRHc4SURncElId2dVMEpQV0Z0ek15QW1JREI0Wm1aZEtTQmVJR3RsZVZOamFHVmtkV3hsVzJ0elVtOTNLeXRkWEc0Z0lIUXhJRDBnS0NoVFFrOVlXM014SUQ0K1BpQXlORjBnUER3Z01qUXBJSHdnS0ZOQ1QxaGJLSE15SUQ0K1BpQXhOaWtnSmlBd2VHWm1YU0E4UENBeE5pa2dmQ0FvVTBKUFdGc29jek1nUGo0K0lEZ3BJQ1lnTUhobVpsMGdQRHdnT0NrZ2ZDQlRRazlZVzNNd0lDWWdNSGhtWmwwcElGNGdhMlY1VTJOb1pXUjFiR1ZiYTNOU2IzY3JLMTFjYmlBZ2RESWdQU0FvS0ZOQ1QxaGJjeklnUGo0K0lESTBYU0E4UENBeU5Da2dmQ0FvVTBKUFdGc29jek1nUGo0K0lERTJLU0FtSURCNFptWmRJRHc4SURFMktTQjhJQ2hUUWs5WVd5aHpNQ0ErUGo0Z09Da2dKaUF3ZUdabVhTQThQQ0E0S1NCOElGTkNUMWhiY3pFZ0ppQXdlR1ptWFNrZ1hpQnJaWGxUWTJobFpIVnNaVnRyYzFKdmR5c3JYVnh1SUNCME15QTlJQ2dvVTBKUFdGdHpNeUErUGo0Z01qUmRJRHc4SURJMEtTQjhJQ2hUUWs5WVd5aHpNQ0ErUGo0Z01UWXBJQ1lnTUhobVpsMGdQRHdnTVRZcElId2dLRk5DVDFoYktITXhJRDQrUGlBNEtTQW1JREI0Wm1aZElEdzhJRGdwSUh3Z1UwSlBXRnR6TWlBbUlEQjRabVpkS1NCZUlHdGxlVk5qYUdWa2RXeGxXMnR6VW05M0t5dGRYRzRnSUhKbGRIVnliaUJiWEc0Z0lDQWdabWw0ZFhCZmRXbHVkRE15S0hRd0tTeGNiaUFnSUNCbWFYaDFjRjkxYVc1ME16SW9kREVwTEZ4dUlDQWdJR1pwZUhWd1gzVnBiblF6TWloME1pa3NYRzRnSUNBZ1ptbDRkWEJmZFdsdWRETXlLSFF6S1Z4dUlDQmRYRzU5WEc1Y2JtVjRjRzl5ZEhNdVFVVlRJRDBnUVVWVFhHNGlYWDA9IiwiYXJndW1lbnRzWzRdW1wiL2hvbWUvdWJ1bnR1L3N0YWdpbmcvYXBwcy9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9hc24xLmpzXCJdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKSIsImFyZ3VtZW50c1s0XVtcIi9ob21lL3VidW50dS9zdGFnaW5nL2FwcHMvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2FzbjEuanMvbGliL2FzbjEuanNcIl1bMF0uYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpIiwiYXJndW1lbnRzWzRdW1wiL2hvbWUvdWJ1bnR1L3N0YWdpbmcvYXBwcy9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYXNuMS5qcy9saWIvYXNuMS9lbmNvZGVycy9pbmRleC5qc1wiXVswXS5hcHBseShleHBvcnRzLGFyZ3VtZW50cykiLCJhcmd1bWVudHNbNF1bXCIvaG9tZS91YnVudHUvc3RhZ2luZy9hcHBzL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9hc24xLmpzL2xpYi9hc24xL2VuY29kZXJzL3BlbS5qc1wiXVswXS5hcHBseShleHBvcnRzLGFyZ3VtZW50cykiLCJhcmd1bWVudHNbNF1bXCIvaG9tZS91YnVudHUvc3RhZ2luZy9hcHBzL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9hc24xLmpzL2xpYi9hc24xL2VuY29kZXJzL2Rlci5qc1wiXVswXS5hcHBseShleHBvcnRzLGFyZ3VtZW50cykiLCJhcmd1bWVudHNbNF1bXCIvaG9tZS91YnVudHUvc3RhZ2luZy9hcHBzL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9hc24xLmpzL2xpYi9hc24xL2RlY29kZXJzL2luZGV4LmpzXCJdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKSIsImFyZ3VtZW50c1s0XVtcIi9ob21lL3VidW50dS9zdGFnaW5nL2FwcHMvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2FzbjEuanMvbGliL2FzbjEvZGVjb2RlcnMvcGVtLmpzXCJdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKSIsImFyZ3VtZW50c1s0XVtcIi9ob21lL3VidW50dS9zdGFnaW5nL2FwcHMvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2FzbjEuanMvbGliL2FzbjEvZGVjb2RlcnMvZGVyLmpzXCJdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKSIsImFyZ3VtZW50c1s0XVtcIi9ob21lL3VidW50dS9zdGFnaW5nL2FwcHMvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2FzbjEuanMvbGliL2FzbjEvY29uc3RhbnRzL2luZGV4LmpzXCJdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKSIsImFyZ3VtZW50c1s0XVtcIi9ob21lL3VidW50dS9zdGFnaW5nL2FwcHMvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2FzbjEuanMvbGliL2FzbjEvY29uc3RhbnRzL2Rlci5qc1wiXVswXS5hcHBseShleHBvcnRzLGFyZ3VtZW50cykiLCJhcmd1bWVudHNbNF1bXCIvaG9tZS91YnVudHUvc3RhZ2luZy9hcHBzL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9hc24xLmpzL2xpYi9hc24xL2Jhc2UvaW5kZXguanNcIl1bMF0uYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpIiwiYXJndW1lbnRzWzRdW1wiL2hvbWUvdWJ1bnR1L3N0YWdpbmcvYXBwcy9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYXNuMS5qcy9saWIvYXNuMS9iYXNlL3JlcG9ydGVyLmpzXCJdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKSIsImFyZ3VtZW50c1s0XVtcIi9ob21lL3VidW50dS9zdGFnaW5nL2FwcHMvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2FzbjEuanMvbGliL2FzbjEvYmFzZS9ub2RlLmpzXCJdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKSIsImFyZ3VtZW50c1s0XVtcIi9ob21lL3VidW50dS9zdGFnaW5nL2FwcHMvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL3BhcnNlLWFzbjEvbm9kZV9tb2R1bGVzL2FzbjEuanMvbm9kZV9tb2R1bGVzL21pbmltYWxpc3RpYy1hc3NlcnQvaW5kZXguanNcIl1bMF0uYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpIiwiYXJndW1lbnRzWzRdW1wiL2hvbWUvdWJ1bnR1L3N0YWdpbmcvYXBwcy9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvcGFyc2UtYXNuMS9ub2RlX21vZHVsZXMvYXNuMS5qcy9saWIvYXNuMS9iYXNlL2J1ZmZlci5qc1wiXVswXS5hcHBseShleHBvcnRzLGFyZ3VtZW50cykiLCJhcmd1bWVudHNbNF1bXCIvaG9tZS91YnVudHUvc3RhZ2luZy9hcHBzL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL25vZGVfbW9kdWxlcy9hc24xLmpzL2xpYi9hc24xL2FwaS5qc1wiXVswXS5hcHBseShleHBvcnRzLGFyZ3VtZW50cykiLCJtb2R1bGUuZXhwb3J0cz1tb2R1bGUuZXhwb3J0cz1hcmd1bWVudHNbNF1bXCIvaG9tZS91YnVudHUvc3RhZ2luZy9hcHBzL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9wYXJzZS1hc24xL2Flc2lkLmpzb25cIl1bMF0uYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpIiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xudmFyIGJuID0gcmVxdWlyZSgnYm4uanMnKTtcbnZhciByYW5kb21CeXRlcyA9IHJlcXVpcmUoJ3JhbmRvbWJ5dGVzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGNydDtcbmZ1bmN0aW9uIGJsaW5kKHByaXYpIHtcbiAgdmFyIHIgPSBnZXRyKHByaXYpO1xuICB2YXIgYmxpbmRlciA9IHIudG9SZWQoYm4ubW9udChwcml2Lm1vZHVsdXMpKVxuICAucmVkUG93KG5ldyBibihwcml2LnB1YmxpY0V4cG9uZW50KSkuZnJvbVJlZCgpO1xuICByZXR1cm4ge1xuICAgIGJsaW5kZXI6IGJsaW5kZXIsXG4gICAgdW5ibGluZGVyOnIuaW52bShwcml2Lm1vZHVsdXMpXG4gIH07XG59XG5mdW5jdGlvbiBjcnQobXNnLCBwcml2KSB7XG4gIHZhciBibGluZHMgPSBibGluZChwcml2KTtcbiAgdmFyIGxlbiA9IHByaXYubW9kdWx1cy5ieXRlTGVuZ3RoKCk7XG4gIHZhciBtb2QgPSBibi5tb250KHByaXYubW9kdWx1cyk7XG4gIHZhciBibGluZGVkID0gbmV3IGJuKG1zZykubXVsKGJsaW5kcy5ibGluZGVyKS5tb2QocHJpdi5tb2R1bHVzKTtcbiAgdmFyIGMxID0gYmxpbmRlZC50b1JlZChibi5tb250KHByaXYucHJpbWUxKSk7XG4gIHZhciBjMiA9IGJsaW5kZWQudG9SZWQoYm4ubW9udChwcml2LnByaW1lMikpO1xuICB2YXIgcWludiA9IHByaXYuY29lZmZpY2llbnQ7XG4gIHZhciBwID0gcHJpdi5wcmltZTE7XG4gIHZhciBxID0gcHJpdi5wcmltZTI7XG4gIHZhciBtMSA9IGMxLnJlZFBvdyhwcml2LmV4cG9uZW50MSk7XG4gIHZhciBtMiA9IGMyLnJlZFBvdyhwcml2LmV4cG9uZW50Mik7XG4gIG0xID0gbTEuZnJvbVJlZCgpO1xuICBtMiA9IG0yLmZyb21SZWQoKTtcbiAgdmFyIGggPSBtMS5pc3ViKG0yKS5pbXVsKHFpbnYpLm1vZChwKTtcbiAgaC5pbXVsKHEpO1xuICBtMi5pYWRkKGgpO1xuICB2YXIgb3V0ID0gbmV3IEJ1ZmZlcihtMi5pbXVsKGJsaW5kcy51bmJsaW5kZXIpLm1vZChwcml2Lm1vZHVsdXMpLnRvQXJyYXkoKSk7XG4gIGlmIChvdXQubGVuZ3RoIDwgbGVuKSB7XG4gICAgdmFyIHByZWZpeCA9IG5ldyBCdWZmZXIobGVuIC0gb3V0Lmxlbmd0aCk7XG4gICAgcHJlZml4LmZpbGwoMCk7XG4gICAgb3V0ID0gQnVmZmVyLmNvbmNhdChbcHJlZml4LCBvdXRdLCBsZW4pO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG5jcnQuZ2V0ciA9IGdldHI7XG5mdW5jdGlvbiBnZXRyKHByaXYpIHtcbiAgdmFyIGxlbiA9IHByaXYubW9kdWx1cy5ieXRlTGVuZ3RoKCk7XG4gIHZhciByID0gbmV3IGJuKHJhbmRvbUJ5dGVzKGxlbikpO1xuICB3aGlsZSAoci5jbXAocHJpdi5tb2R1bHVzKSA+PSAgMCB8fCAhci5tb2QocHJpdi5wcmltZTEpIHx8ICFyLm1vZChwcml2LnByaW1lMikpIHtcbiAgICByID0gbmV3IGJuKHJhbmRvbUJ5dGVzKGxlbikpO1xuICB9XG4gIHJldHVybiByO1xufVxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZjSFZpYkdsakxXVnVZM0o1Y0hRdmJtOWtaVjl0YjJSMWJHVnpMMkp5YjNkelpYSnBabmt0Y25OaEwybHVaR1Y0TG1weklsMHNJbTVoYldWeklqcGJYU3dpYldGd2NHbHVaM01pT2lJN1FVRkJRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRU0lzSW1acGJHVWlPaUpuWlc1bGNtRjBaV1F1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaWRtRnlJR0p1SUQwZ2NtVnhkV2x5WlNnblltNHVhbk1uS1R0Y2JuWmhjaUJ5WVc1a2IyMUNlWFJsY3lBOUlISmxjWFZwY21Vb0ozSmhibVJ2YldKNWRHVnpKeWs3WEc1dGIyUjFiR1V1Wlhod2IzSjBjeUE5SUdOeWREdGNibVoxYm1OMGFXOXVJR0pzYVc1a0tIQnlhWFlwSUh0Y2JpQWdkbUZ5SUhJZ1BTQm5aWFJ5S0hCeWFYWXBPMXh1SUNCMllYSWdZbXhwYm1SbGNpQTlJSEl1ZEc5U1pXUW9ZbTR1Ylc5dWRDaHdjbWwyTG0xdlpIVnNkWE1wS1Z4dUlDQXVjbVZrVUc5M0tHNWxkeUJpYmlod2NtbDJMbkIxWW14cFkwVjRjRzl1Wlc1MEtTa3Vabkp2YlZKbFpDZ3BPMXh1SUNCeVpYUjFjbTRnZTF4dUlDQWdJR0pzYVc1a1pYSTZJR0pzYVc1a1pYSXNYRzRnSUNBZ2RXNWliR2x1WkdWeU9uSXVhVzUyYlNod2NtbDJMbTF2WkhWc2RYTXBYRzRnSUgwN1hHNTlYRzVtZFc1amRHbHZiaUJqY25Rb2JYTm5MQ0J3Y21sMktTQjdYRzRnSUhaaGNpQmliR2x1WkhNZ1BTQmliR2x1WkNod2NtbDJLVHRjYmlBZ2RtRnlJR3hsYmlBOUlIQnlhWFl1Ylc5a2RXeDFjeTVpZVhSbFRHVnVaM1JvS0NrN1hHNGdJSFpoY2lCdGIyUWdQU0JpYmk1dGIyNTBLSEJ5YVhZdWJXOWtkV3gxY3lrN1hHNGdJSFpoY2lCaWJHbHVaR1ZrSUQwZ2JtVjNJR0p1S0cxelp5a3ViWFZzS0dKc2FXNWtjeTVpYkdsdVpHVnlLUzV0YjJRb2NISnBkaTV0YjJSMWJIVnpLVHRjYmlBZ2RtRnlJR014SUQwZ1lteHBibVJsWkM1MGIxSmxaQ2hpYmk1dGIyNTBLSEJ5YVhZdWNISnBiV1V4S1NrN1hHNGdJSFpoY2lCak1pQTlJR0pzYVc1a1pXUXVkRzlTWldRb1ltNHViVzl1ZENod2NtbDJMbkJ5YVcxbE1pa3BPMXh1SUNCMllYSWdjV2x1ZGlBOUlIQnlhWFl1WTI5bFptWnBZMmxsYm5RN1hHNGdJSFpoY2lCd0lEMGdjSEpwZGk1d2NtbHRaVEU3WEc0Z0lIWmhjaUJ4SUQwZ2NISnBkaTV3Y21sdFpUSTdYRzRnSUhaaGNpQnRNU0E5SUdNeExuSmxaRkJ2ZHlod2NtbDJMbVY0Y0c5dVpXNTBNU2s3WEc0Z0lIWmhjaUJ0TWlBOUlHTXlMbkpsWkZCdmR5aHdjbWwyTG1WNGNHOXVaVzUwTWlrN1hHNGdJRzB4SUQwZ2JURXVabkp2YlZKbFpDZ3BPMXh1SUNCdE1pQTlJRzB5TG1aeWIyMVNaV1FvS1R0Y2JpQWdkbUZ5SUdnZ1BTQnRNUzVwYzNWaUtHMHlLUzVwYlhWc0tIRnBibllwTG0xdlpDaHdLVHRjYmlBZ2FDNXBiWFZzS0hFcE8xeHVJQ0J0TWk1cFlXUmtLR2dwTzF4dUlDQjJZWElnYjNWMElEMGdibVYzSUVKMVptWmxjaWh0TWk1cGJYVnNLR0pzYVc1a2N5NTFibUpzYVc1a1pYSXBMbTF2WkNod2NtbDJMbTF2WkhWc2RYTXBMblJ2UVhKeVlYa29LU2s3WEc0Z0lHbG1JQ2h2ZFhRdWJHVnVaM1JvSUR3Z2JHVnVLU0I3WEc0Z0lDQWdkbUZ5SUhCeVpXWnBlQ0E5SUc1bGR5QkNkV1ptWlhJb2JHVnVJQzBnYjNWMExteGxibWQwYUNrN1hHNGdJQ0FnY0hKbFptbDRMbVpwYkd3b01DazdYRzRnSUNBZ2IzVjBJRDBnUW5WbVptVnlMbU52Ym1OaGRDaGJjSEpsWm1sNExDQnZkWFJkTENCc1pXNHBPMXh1SUNCOVhHNGdJSEpsZEhWeWJpQnZkWFE3WEc1OVhHNWpjblF1WjJWMGNpQTlJR2RsZEhJN1hHNW1kVzVqZEdsdmJpQm5aWFJ5S0hCeWFYWXBJSHRjYmlBZ2RtRnlJR3hsYmlBOUlIQnlhWFl1Ylc5a2RXeDFjeTVpZVhSbFRHVnVaM1JvS0NrN1hHNGdJSFpoY2lCeUlEMGdibVYzSUdKdUtISmhibVJ2YlVKNWRHVnpLR3hsYmlrcE8xeHVJQ0IzYUdsc1pTQW9jaTVqYlhBb2NISnBkaTV0YjJSMWJIVnpLU0ErUFNBZ01DQjhmQ0FoY2k1dGIyUW9jSEpwZGk1d2NtbHRaVEVwSUh4OElDRnlMbTF2WkNod2NtbDJMbkJ5YVcxbE1pa3BJSHRjYmlBZ0lDQnlJRDBnYm1WM0lHSnVLSEpoYm1SdmJVSjVkR1Z6S0d4bGJpa3BPMXh1SUNCOVhHNGdJSEpsZEhWeWJpQnlPMXh1ZlNKZGZRPT0iLCIoZnVuY3Rpb24gKEJ1ZmZlcil7XG52YXIgY3JlYXRlSGFzaCA9IHJlcXVpcmUoJ2NyZWF0ZS1oYXNoJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzZWVkLCBsZW4pIHtcbiAgdmFyIHQgPSBuZXcgQnVmZmVyKCcnKTtcbiAgdmFyICBpID0gMCwgYztcbiAgd2hpbGUgKHQubGVuZ3RoIDwgbGVuKSB7XG4gICAgYyA9IGkyb3BzKGkrKyk7XG4gICAgdCA9IEJ1ZmZlci5jb25jYXQoW3QsIGNyZWF0ZUhhc2goJ3NoYTEnKS51cGRhdGUoc2VlZCkudXBkYXRlKGMpLmRpZ2VzdCgpXSk7XG4gIH1cbiAgcmV0dXJuIHQuc2xpY2UoMCwgbGVuKTtcbn07XG5cbmZ1bmN0aW9uIGkyb3BzKGMpIHtcbiAgdmFyIG91dCA9IG5ldyBCdWZmZXIoNCk7XG4gIG91dC53cml0ZVVJbnQzMkJFKGMsMCk7XG4gIHJldHVybiBvdXQ7XG59XG59KS5jYWxsKHRoaXMscmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIpXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUwyNXZaR1ZmYlc5a2RXeGxjeTlqY25sd2RHOHRZbkp2ZDNObGNtbG1lUzl1YjJSbFgyMXZaSFZzWlhNdmNIVmliR2xqTFdWdVkzSjVjSFF2YldkbUxtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdRVUZCUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFTSXNJbVpwYkdVaU9pSm5aVzVsY21GMFpXUXVhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpZG1GeUlHTnlaV0YwWlVoaGMyZ2dQU0J5WlhGMWFYSmxLQ2RqY21WaGRHVXRhR0Z6YUNjcE8xeHViVzlrZFd4bExtVjRjRzl5ZEhNZ1BTQm1kVzVqZEdsdmJpQW9jMlZsWkN3Z2JHVnVLU0I3WEc0Z0lIWmhjaUIwSUQwZ2JtVjNJRUoxWm1abGNpZ25KeWs3WEc0Z0lIWmhjaUFnYVNBOUlEQXNJR003WEc0Z0lIZG9hV3hsSUNoMExteGxibWQwYUNBOElHeGxiaWtnZTF4dUlDQWdJR01nUFNCcE1tOXdjeWhwS3lzcE8xeHVJQ0FnSUhRZ1BTQkNkV1ptWlhJdVkyOXVZMkYwS0Z0MExDQmpjbVZoZEdWSVlYTm9LQ2R6YUdFeEp5a3VkWEJrWVhSbEtITmxaV1FwTG5Wd1pHRjBaU2hqS1M1a2FXZGxjM1FvS1YwcE8xeHVJQ0I5WEc0Z0lISmxkSFZ5YmlCMExuTnNhV05sS0RBc0lHeGxiaWs3WEc1OU8xeHVYRzVtZFc1amRHbHZiaUJwTW05d2N5aGpLU0I3WEc0Z0lIWmhjaUJ2ZFhRZ1BTQnVaWGNnUW5WbVptVnlLRFFwTzF4dUlDQnZkWFF1ZDNKcGRHVlZTVzUwTXpKQ1JTaGpMREFwTzF4dUlDQnlaWFIxY200Z2IzVjBPMXh1ZlNKZGZRPT0iLCIoZnVuY3Rpb24gKEJ1ZmZlcil7XG52YXIgZ2VuZXJhdGVQcmltZSA9IHJlcXVpcmUoJy4vbGliL2dlbmVyYXRlUHJpbWUnKTtcbnZhciBwcmltZXMgPSByZXF1aXJlKCcuL2xpYi9wcmltZXMnKTtcblxudmFyIERIID0gcmVxdWlyZSgnLi9saWIvZGgnKTtcblxuZnVuY3Rpb24gZ2V0RGlmZmllSGVsbG1hbihtb2QpIHtcbiAgdmFyIHByaW1lID0gbmV3IEJ1ZmZlcihwcmltZXNbbW9kXS5wcmltZSwgJ2hleCcpO1xuICB2YXIgZ2VuID0gbmV3IEJ1ZmZlcihwcmltZXNbbW9kXS5nZW4sICdoZXgnKTtcblxuICByZXR1cm4gbmV3IERIKHByaW1lLCBnZW4pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVEaWZmaWVIZWxsbWFuKHByaW1lLCBlbmMsIGdlbmVyYXRvciwgZ2VuYykge1xuICBpZiAoQnVmZmVyLmlzQnVmZmVyKGVuYykgfHwgKHR5cGVvZiBlbmMgPT09ICdzdHJpbmcnICYmIFsnaGV4JywgJ2JpbmFyeScsICdiYXNlNjQnXS5pbmRleE9mKGVuYykgPT09IC0xKSkge1xuICAgIGdlbmMgPSBnZW5lcmF0b3I7XG4gICAgZ2VuZXJhdG9yID0gZW5jO1xuICAgIGVuYyA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGVuYyA9IGVuYyB8fCAnYmluYXJ5JztcbiAgZ2VuYyA9IGdlbmMgfHwgJ2JpbmFyeSc7XG4gIGdlbmVyYXRvciA9IGdlbmVyYXRvciB8fCBuZXcgQnVmZmVyKFsyXSk7XG5cbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoZ2VuZXJhdG9yKSkge1xuICAgIGdlbmVyYXRvciA9IG5ldyBCdWZmZXIoZ2VuZXJhdG9yLCBnZW5jKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcHJpbWUgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIG5ldyBESChnZW5lcmF0ZVByaW1lKHByaW1lLCBnZW5lcmF0b3IpLCBnZW5lcmF0b3IsIHRydWUpO1xuICB9XG5cbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIocHJpbWUpKSB7XG4gICAgcHJpbWUgPSBuZXcgQnVmZmVyKHByaW1lLCBlbmMpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBESChwcmltZSwgZ2VuZXJhdG9yLCB0cnVlKTtcbn1cblxuZXhwb3J0cy5EaWZmaWVIZWxsbWFuR3JvdXAgPSBleHBvcnRzLmNyZWF0ZURpZmZpZUhlbGxtYW5Hcm91cCA9IGV4cG9ydHMuZ2V0RGlmZmllSGVsbG1hbiA9IGdldERpZmZpZUhlbGxtYW47XG5leHBvcnRzLmNyZWF0ZURpZmZpZUhlbGxtYW4gPSBleHBvcnRzLkRpZmZpZUhlbGxtYW4gPSBjcmVhdGVEaWZmaWVIZWxsbWFuO1xuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIpXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUwyNXZaR1ZmYlc5a2RXeGxjeTlqY25sd2RHOHRZbkp2ZDNObGNtbG1lUzl1YjJSbFgyMXZaSFZzWlhNdlpHbG1abWxsTFdobGJHeHRZVzR2WW5KdmQzTmxjaTVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pTzBGQlFVRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRU0lzSW1acGJHVWlPaUpuWlc1bGNtRjBaV1F1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaWRtRnlJR2RsYm1WeVlYUmxVSEpwYldVZ1BTQnlaWEYxYVhKbEtDY3VMMnhwWWk5blpXNWxjbUYwWlZCeWFXMWxKeWs3WEc1MllYSWdjSEpwYldWeklEMGdjbVZ4ZFdseVpTZ25MaTlzYVdJdmNISnBiV1Z6SnlrN1hHNWNiblpoY2lCRVNDQTlJSEpsY1hWcGNtVW9KeTR2YkdsaUwyUm9KeWs3WEc1Y2JtWjFibU4wYVc5dUlHZGxkRVJwWm1acFpVaGxiR3h0WVc0b2JXOWtLU0I3WEc0Z0lIWmhjaUJ3Y21sdFpTQTlJRzVsZHlCQ2RXWm1aWElvY0hKcGJXVnpXMjF2WkYwdWNISnBiV1VzSUNkb1pYZ25LVHRjYmlBZ2RtRnlJR2RsYmlBOUlHNWxkeUJDZFdabVpYSW9jSEpwYldWelcyMXZaRjB1WjJWdUxDQW5hR1Y0SnlrN1hHNWNiaUFnY21WMGRYSnVJRzVsZHlCRVNDaHdjbWx0WlN3Z1oyVnVLVHRjYm4xY2JseHVablZ1WTNScGIyNGdZM0psWVhSbFJHbG1abWxsU0dWc2JHMWhiaWh3Y21sdFpTd2daVzVqTENCblpXNWxjbUYwYjNJc0lHZGxibU1wSUh0Y2JpQWdhV1lnS0VKMVptWmxjaTVwYzBKMVptWmxjaWhsYm1NcElIeDhJQ2gwZVhCbGIyWWdaVzVqSUQwOVBTQW5jM1J5YVc1bkp5QW1KaUJiSjJobGVDY3NJQ2RpYVc1aGNua25MQ0FuWW1GelpUWTBKMTB1YVc1a1pYaFBaaWhsYm1NcElEMDlQU0F0TVNrcElIdGNiaUFnSUNCblpXNWpJRDBnWjJWdVpYSmhkRzl5TzF4dUlDQWdJR2RsYm1WeVlYUnZjaUE5SUdWdVl6dGNiaUFnSUNCbGJtTWdQU0IxYm1SbFptbHVaV1E3WEc0Z0lIMWNibHh1SUNCbGJtTWdQU0JsYm1NZ2ZId2dKMkpwYm1GeWVTYzdYRzRnSUdkbGJtTWdQU0JuWlc1aklIeDhJQ2RpYVc1aGNua25PMXh1SUNCblpXNWxjbUYwYjNJZ1BTQm5aVzVsY21GMGIzSWdmSHdnYm1WM0lFSjFabVpsY2loYk1sMHBPMXh1WEc0Z0lHbG1JQ2doUW5WbVptVnlMbWx6UW5WbVptVnlLR2RsYm1WeVlYUnZjaWtwSUh0Y2JpQWdJQ0JuWlc1bGNtRjBiM0lnUFNCdVpYY2dRblZtWm1WeUtHZGxibVZ5WVhSdmNpd2daMlZ1WXlrN1hHNGdJSDFjYmx4dUlDQnBaaUFvZEhsd1pXOW1JSEJ5YVcxbElEMDlQU0FuYm5WdFltVnlKeWtnZTF4dUlDQWdJSEpsZEhWeWJpQnVaWGNnUkVnb1oyVnVaWEpoZEdWUWNtbHRaU2h3Y21sdFpTd2daMlZ1WlhKaGRHOXlLU3dnWjJWdVpYSmhkRzl5TENCMGNuVmxLVHRjYmlBZ2ZWeHVYRzRnSUdsbUlDZ2hRblZtWm1WeUxtbHpRblZtWm1WeUtIQnlhVzFsS1NrZ2UxeHVJQ0FnSUhCeWFXMWxJRDBnYm1WM0lFSjFabVpsY2lod2NtbHRaU3dnWlc1aktUdGNiaUFnZlZ4dVhHNGdJSEpsZEhWeWJpQnVaWGNnUkVnb2NISnBiV1VzSUdkbGJtVnlZWFJ2Y2l3Z2RISjFaU2s3WEc1OVhHNWNibVY0Y0c5eWRITXVSR2xtWm1sbFNHVnNiRzFoYmtkeWIzVndJRDBnWlhod2IzSjBjeTVqY21WaGRHVkVhV1ptYVdWSVpXeHNiV0Z1UjNKdmRYQWdQU0JsZUhCdmNuUnpMbWRsZEVScFptWnBaVWhsYkd4dFlXNGdQU0JuWlhSRWFXWm1hV1ZJWld4c2JXRnVPMXh1Wlhod2IzSjBjeTVqY21WaGRHVkVhV1ptYVdWSVpXeHNiV0Z1SUQwZ1pYaHdiM0owY3k1RWFXWm1hV1ZJWld4c2JXRnVJRDBnWTNKbFlYUmxSR2xtWm1sbFNHVnNiRzFoYmp0Y2JpSmRmUT09IiwibW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9e1xuICAgIFwibW9kcDFcIjoge1xuICAgICAgICBcImdlblwiOiBcIjAyXCIsXG4gICAgICAgIFwicHJpbWVcIjogXCJmZmZmZmZmZmZmZmZmZmZmYzkwZmRhYTIyMTY4YzIzNGM0YzY2MjhiODBkYzFjZDEyOTAyNGUwODhhNjdjYzc0MDIwYmJlYTYzYjEzOWIyMjUxNGEwODc5OGUzNDA0ZGRlZjk1MTliM2NkM2E0MzFiMzAyYjBhNmRmMjVmMTQzNzRmZTEzNTZkNmQ1MWMyNDVlNDg1YjU3NjYyNWU3ZWM2ZjQ0YzQyZTlhNjNhMzYyMGZmZmZmZmZmZmZmZmZmZmZcIlxuICAgIH0sXG4gICAgXCJtb2RwMlwiOiB7XG4gICAgICAgIFwiZ2VuXCI6IFwiMDJcIixcbiAgICAgICAgXCJwcmltZVwiOiBcImZmZmZmZmZmZmZmZmZmZmZjOTBmZGFhMjIxNjhjMjM0YzRjNjYyOGI4MGRjMWNkMTI5MDI0ZTA4OGE2N2NjNzQwMjBiYmVhNjNiMTM5YjIyNTE0YTA4Nzk4ZTM0MDRkZGVmOTUxOWIzY2QzYTQzMWIzMDJiMGE2ZGYyNWYxNDM3NGZlMTM1NmQ2ZDUxYzI0NWU0ODViNTc2NjI1ZTdlYzZmNDRjNDJlOWE2MzdlZDZiMGJmZjVjYjZmNDA2YjdlZGVlMzg2YmZiNWE4OTlmYTVhZTlmMjQxMTdjNGIxZmU2NDkyODY2NTFlY2U2NTM4MWZmZmZmZmZmZmZmZmZmZmZcIlxuICAgIH0sXG4gICAgXCJtb2RwNVwiOiB7XG4gICAgICAgIFwiZ2VuXCI6IFwiMDJcIixcbiAgICAgICAgXCJwcmltZVwiOiBcImZmZmZmZmZmZmZmZmZmZmZjOTBmZGFhMjIxNjhjMjM0YzRjNjYyOGI4MGRjMWNkMTI5MDI0ZTA4OGE2N2NjNzQwMjBiYmVhNjNiMTM5YjIyNTE0YTA4Nzk4ZTM0MDRkZGVmOTUxOWIzY2QzYTQzMWIzMDJiMGE2ZGYyNWYxNDM3NGZlMTM1NmQ2ZDUxYzI0NWU0ODViNTc2NjI1ZTdlYzZmNDRjNDJlOWE2MzdlZDZiMGJmZjVjYjZmNDA2YjdlZGVlMzg2YmZiNWE4OTlmYTVhZTlmMjQxMTdjNGIxZmU2NDkyODY2NTFlY2U0NWIzZGMyMDA3Y2I4YTE2M2JmMDU5OGRhNDgzNjFjNTVkMzlhNjkxNjNmYThmZDI0Y2Y1ZjgzNjU1ZDIzZGNhM2FkOTYxYzYyZjM1NjIwODU1MmJiOWVkNTI5MDc3MDk2OTY2ZDY3MGMzNTRlNGFiYzk4MDRmMTc0NmMwOGNhMjM3MzI3ZmZmZmZmZmZmZmZmZmZmZlwiXG4gICAgfSxcbiAgICBcIm1vZHAxNFwiOiB7XG4gICAgICAgIFwiZ2VuXCI6IFwiMDJcIixcbiAgICAgICAgXCJwcmltZVwiOiBcImZmZmZmZmZmZmZmZmZmZmZjOTBmZGFhMjIxNjhjMjM0YzRjNjYyOGI4MGRjMWNkMTI5MDI0ZTA4OGE2N2NjNzQwMjBiYmVhNjNiMTM5YjIyNTE0YTA4Nzk4ZTM0MDRkZGVmOTUxOWIzY2QzYTQzMWIzMDJiMGE2ZGYyNWYxNDM3NGZlMTM1NmQ2ZDUxYzI0NWU0ODViNTc2NjI1ZTdlYzZmNDRjNDJlOWE2MzdlZDZiMGJmZjVjYjZmNDA2YjdlZGVlMzg2YmZiNWE4OTlmYTVhZTlmMjQxMTdjNGIxZmU2NDkyODY2NTFlY2U0NWIzZGMyMDA3Y2I4YTE2M2JmMDU5OGRhNDgzNjFjNTVkMzlhNjkxNjNmYThmZDI0Y2Y1ZjgzNjU1ZDIzZGNhM2FkOTYxYzYyZjM1NjIwODU1MmJiOWVkNTI5MDc3MDk2OTY2ZDY3MGMzNTRlNGFiYzk4MDRmMTc0NmMwOGNhMTgyMTdjMzI5MDVlNDYyZTM2Y2UzYmUzOWU3NzJjMTgwZTg2MDM5YjI3ODNhMmVjMDdhMjhmYjVjNTVkZjA2ZjRjNTJjOWRlMmJjYmY2OTU1ODE3MTgzOTk1NDk3Y2VhOTU2YWU1MTVkMjI2MTg5OGZhMDUxMDE1NzI4ZTVhOGFhY2FhNjhmZmZmZmZmZmZmZmZmZmZmXCJcbiAgICB9LFxuICAgIFwibW9kcDE1XCI6IHtcbiAgICAgICAgXCJnZW5cIjogXCIwMlwiLFxuICAgICAgICBcInByaW1lXCI6IFwiZmZmZmZmZmZmZmZmZmZmZmM5MGZkYWEyMjE2OGMyMzRjNGM2NjI4YjgwZGMxY2QxMjkwMjRlMDg4YTY3Y2M3NDAyMGJiZWE2M2IxMzliMjI1MTRhMDg3OThlMzQwNGRkZWY5NTE5YjNjZDNhNDMxYjMwMmIwYTZkZjI1ZjE0Mzc0ZmUxMzU2ZDZkNTFjMjQ1ZTQ4NWI1NzY2MjVlN2VjNmY0NGM0MmU5YTYzN2VkNmIwYmZmNWNiNmY0MDZiN2VkZWUzODZiZmI1YTg5OWZhNWFlOWYyNDExN2M0YjFmZTY0OTI4NjY1MWVjZTQ1YjNkYzIwMDdjYjhhMTYzYmYwNTk4ZGE0ODM2MWM1NWQzOWE2OTE2M2ZhOGZkMjRjZjVmODM2NTVkMjNkY2EzYWQ5NjFjNjJmMzU2MjA4NTUyYmI5ZWQ1MjkwNzcwOTY5NjZkNjcwYzM1NGU0YWJjOTgwNGYxNzQ2YzA4Y2ExODIxN2MzMjkwNWU0NjJlMzZjZTNiZTM5ZTc3MmMxODBlODYwMzliMjc4M2EyZWMwN2EyOGZiNWM1NWRmMDZmNGM1MmM5ZGUyYmNiZjY5NTU4MTcxODM5OTU0OTdjZWE5NTZhZTUxNWQyMjYxODk4ZmEwNTEwMTU3MjhlNWE4YWFhYzQyZGFkMzMxNzBkMDQ1MDdhMzNhODU1MjFhYmRmMWNiYTY0ZWNmYjg1MDQ1OGRiZWYwYThhZWE3MTU3NWQwNjBjN2RiMzk3MGY4NWE2ZTFlNGM3YWJmNWFlOGNkYjA5MzNkNzFlOGM5NGUwNGEyNTYxOWRjZWUzZDIyNjFhZDJlZTZiZjEyZmZhMDZkOThhMDg2NGQ4NzYwMjczM2VjODZhNjQ1MjFmMmIxODE3N2IyMDBjYmJlMTE3NTc3YTYxNWQ2Yzc3MDk4OGMwYmFkOTQ2ZTIwOGUyNGZhMDc0ZTVhYjMxNDNkYjViZmNlMGZkMTA4ZTRiODJkMTIwYTkzYWQyY2FmZmZmZmZmZmZmZmZmZmZmXCJcbiAgICB9LFxuICAgIFwibW9kcDE2XCI6IHtcbiAgICAgICAgXCJnZW5cIjogXCIwMlwiLFxuICAgICAgICBcInByaW1lXCI6IFwiZmZmZmZmZmZmZmZmZmZmZmM5MGZkYWEyMjE2OGMyMzRjNGM2NjI4YjgwZGMxY2QxMjkwMjRlMDg4YTY3Y2M3NDAyMGJiZWE2M2IxMzliMjI1MTRhMDg3OThlMzQwNGRkZWY5NTE5YjNjZDNhNDMxYjMwMmIwYTZkZjI1ZjE0Mzc0ZmUxMzU2ZDZkNTFjMjQ1ZTQ4NWI1NzY2MjVlN2VjNmY0NGM0MmU5YTYzN2VkNmIwYmZmNWNiNmY0MDZiN2VkZWUzODZiZmI1YTg5OWZhNWFlOWYyNDExN2M0YjFmZTY0OTI4NjY1MWVjZTQ1YjNkYzIwMDdjYjhhMTYzYmYwNTk4ZGE0ODM2MWM1NWQzOWE2OTE2M2ZhOGZkMjRjZjVmODM2NTVkMjNkY2EzYWQ5NjFjNjJmMzU2MjA4NTUyYmI5ZWQ1MjkwNzcwOTY5NjZkNjcwYzM1NGU0YWJjOTgwNGYxNzQ2YzA4Y2ExODIxN2MzMjkwNWU0NjJlMzZjZTNiZTM5ZTc3MmMxODBlODYwMzliMjc4M2EyZWMwN2EyOGZiNWM1NWRmMDZmNGM1MmM5ZGUyYmNiZjY5NTU4MTcxODM5OTU0OTdjZWE5NTZhZTUxNWQyMjYxODk4ZmEwNTEwMTU3MjhlNWE4YWFhYzQyZGFkMzMxNzBkMDQ1MDdhMzNhODU1MjFhYmRmMWNiYTY0ZWNmYjg1MDQ1OGRiZWYwYThhZWE3MTU3NWQwNjBjN2RiMzk3MGY4NWE2ZTFlNGM3YWJmNWFlOGNkYjA5MzNkNzFlOGM5NGUwNGEyNTYxOWRjZWUzZDIyNjFhZDJlZTZiZjEyZmZhMDZkOThhMDg2NGQ4NzYwMjczM2VjODZhNjQ1MjFmMmIxODE3N2IyMDBjYmJlMTE3NTc3YTYxNWQ2Yzc3MDk4OGMwYmFkOTQ2ZTIwOGUyNGZhMDc0ZTVhYjMxNDNkYjViZmNlMGZkMTA4ZTRiODJkMTIwYTkyMTA4MDExYTcyM2MxMmE3ODdlNmQ3ODg3MTlhMTBiZGJhNWIyNjk5YzMyNzE4NmFmNGUyM2MxYTk0NjgzNGI2MTUwYmRhMjU4M2U5Y2EyYWQ0NGNlOGRiYmJjMmRiMDRkZThlZjkyZThlZmMxNDFmYmVjYWE2Mjg3YzU5NDc0ZTZiYzA1ZDk5YjI5NjRmYTA5MGMzYTIyMzNiYTE4NjUxNWJlN2VkMWY2MTI5NzBjZWUyZDdhZmI4MWJkZDc2MjE3MDQ4MWNkMDA2OTEyN2Q1YjA1YWE5OTNiNGVhOTg4ZDhmZGRjMTg2ZmZiN2RjOTBhNmMwOGY0ZGY0MzVjOTM0MDYzMTk5ZmZmZmZmZmZmZmZmZmZmZlwiXG4gICAgfSxcbiAgICBcIm1vZHAxN1wiOiB7XG4gICAgICAgIFwiZ2VuXCI6IFwiMDJcIixcbiAgICAgICAgXCJwcmltZVwiOiBcImZmZmZmZmZmZmZmZmZmZmZjOTBmZGFhMjIxNjhjMjM0YzRjNjYyOGI4MGRjMWNkMTI5MDI0ZTA4OGE2N2NjNzQwMjBiYmVhNjNiMTM5YjIyNTE0YTA4Nzk4ZTM0MDRkZGVmOTUxOWIzY2QzYTQzMWIzMDJiMGE2ZGYyNWYxNDM3NGZlMTM1NmQ2ZDUxYzI0NWU0ODViNTc2NjI1ZTdlYzZmNDRjNDJlOWE2MzdlZDZiMGJmZjVjYjZmNDA2YjdlZGVlMzg2YmZiNWE4OTlmYTVhZTlmMjQxMTdjNGIxZmU2NDkyODY2NTFlY2U0NWIzZGMyMDA3Y2I4YTE2M2JmMDU5OGRhNDgzNjFjNTVkMzlhNjkxNjNmYThmZDI0Y2Y1ZjgzNjU1ZDIzZGNhM2FkOTYxYzYyZjM1NjIwODU1MmJiOWVkNTI5MDc3MDk2OTY2ZDY3MGMzNTRlNGFiYzk4MDRmMTc0NmMwOGNhMTgyMTdjMzI5MDVlNDYyZTM2Y2UzYmUzOWU3NzJjMTgwZTg2MDM5YjI3ODNhMmVjMDdhMjhmYjVjNTVkZjA2ZjRjNTJjOWRlMmJjYmY2OTU1ODE3MTgzOTk1NDk3Y2VhOTU2YWU1MTVkMjI2MTg5OGZhMDUxMDE1NzI4ZTVhOGFhYWM0MmRhZDMzMTcwZDA0NTA3YTMzYTg1NTIxYWJkZjFjYmE2NGVjZmI4NTA0NThkYmVmMGE4YWVhNzE1NzVkMDYwYzdkYjM5NzBmODVhNmUxZTRjN2FiZjVhZThjZGIwOTMzZDcxZThjOTRlMDRhMjU2MTlkY2VlM2QyMjYxYWQyZWU2YmYxMmZmYTA2ZDk4YTA4NjRkODc2MDI3MzNlYzg2YTY0NTIxZjJiMTgxNzdiMjAwY2JiZTExNzU3N2E2MTVkNmM3NzA5ODhjMGJhZDk0NmUyMDhlMjRmYTA3NGU1YWIzMTQzZGI1YmZjZTBmZDEwOGU0YjgyZDEyMGE5MjEwODAxMWE3MjNjMTJhNzg3ZTZkNzg4NzE5YTEwYmRiYTViMjY5OWMzMjcxODZhZjRlMjNjMWE5NDY4MzRiNjE1MGJkYTI1ODNlOWNhMmFkNDRjZThkYmJiYzJkYjA0ZGU4ZWY5MmU4ZWZjMTQxZmJlY2FhNjI4N2M1OTQ3NGU2YmMwNWQ5OWIyOTY0ZmEwOTBjM2EyMjMzYmExODY1MTViZTdlZDFmNjEyOTcwY2VlMmQ3YWZiODFiZGQ3NjIxNzA0ODFjZDAwNjkxMjdkNWIwNWFhOTkzYjRlYTk4OGQ4ZmRkYzE4NmZmYjdkYzkwYTZjMDhmNGRmNDM1YzkzNDAyODQ5MjM2YzNmYWI0ZDI3YzcwMjZjMWQ0ZGNiMjYwMjY0NmRlYzk3NTFlNzYzZGJhMzdiZGY4ZmY5NDA2YWQ5ZTUzMGVlNWRiMzgyZjQxMzAwMWFlYjA2YTUzZWQ5MDI3ZDgzMTE3OTcyN2IwODY1YTg5MThkYTNlZGJlYmNmOWIxNGVkNDRjZTZjYmFjZWQ0YmIxYmRiN2YxNDQ3ZTZjYzI1NGIzMzIwNTE1MTJiZDdhZjQyNmZiOGY0MDEzNzhjZDJiZjU5ODNjYTAxYzY0YjkyZWNmMDMyZWExNWQxNzIxZDAzZjQ4MmQ3Y2U2ZTc0ZmVmNmQ1NWU3MDJmNDY5ODBjODJiNWE4NDAzMTkwMGIxYzllNTllN2M5N2ZiZWM3ZThmMzIzYTk3YTdlMzZjYzg4YmUwZjFkNDViN2ZmNTg1YWM1NGJkNDA3YjIyYjQxNTRhYWNjOGY2ZDdlYmY0OGUxZDgxNGNjNWVkMjBmODAzN2UwYTc5NzE1ZWVmMjliZTMyODA2YTFkNThiYjdjNWRhNzZmNTUwYWEzZDhhMWZiZmYwZWIxOWNjYjFhMzEzZDU1Y2RhNTZjOWVjMmVmMjk2MzIzODdmZThkNzZlM2MwNDY4MDQzZThmNjYzZjQ4NjBlZTEyYmYyZDViMGI3NDc0ZDZlNjk0ZjkxZTZkY2M0MDI0ZmZmZmZmZmZmZmZmZmZmZlwiXG4gICAgfSxcbiAgICBcIm1vZHAxOFwiOiB7XG4gICAgICAgIFwiZ2VuXCI6IFwiMDJcIixcbiAgICAgICAgXCJwcmltZVwiOiBcImZmZmZmZmZmZmZmZmZmZmZjOTBmZGFhMjIxNjhjMjM0YzRjNjYyOGI4MGRjMWNkMTI5MDI0ZTA4OGE2N2NjNzQwMjBiYmVhNjNiMTM5YjIyNTE0YTA4Nzk4ZTM0MDRkZGVmOTUxOWIzY2QzYTQzMWIzMDJiMGE2ZGYyNWYxNDM3NGZlMTM1NmQ2ZDUxYzI0NWU0ODViNTc2NjI1ZTdlYzZmNDRjNDJlOWE2MzdlZDZiMGJmZjVjYjZmNDA2YjdlZGVlMzg2YmZiNWE4OTlmYTVhZTlmMjQxMTdjNGIxZmU2NDkyODY2NTFlY2U0NWIzZGMyMDA3Y2I4YTE2M2JmMDU5OGRhNDgzNjFjNTVkMzlhNjkxNjNmYThmZDI0Y2Y1ZjgzNjU1ZDIzZGNhM2FkOTYxYzYyZjM1NjIwODU1MmJiOWVkNTI5MDc3MDk2OTY2ZDY3MGMzNTRlNGFiYzk4MDRmMTc0NmMwOGNhMTgyMTdjMzI5MDVlNDYyZTM2Y2UzYmUzOWU3NzJjMTgwZTg2MDM5YjI3ODNhMmVjMDdhMjhmYjVjNTVkZjA2ZjRjNTJjOWRlMmJjYmY2OTU1ODE3MTgzOTk1NDk3Y2VhOTU2YWU1MTVkMjI2MTg5OGZhMDUxMDE1NzI4ZTVhOGFhYWM0MmRhZDMzMTcwZDA0NTA3YTMzYTg1NTIxYWJkZjFjYmE2NGVjZmI4NTA0NThkYmVmMGE4YWVhNzE1NzVkMDYwYzdkYjM5NzBmODVhNmUxZTRjN2FiZjVhZThjZGIwOTMzZDcxZThjOTRlMDRhMjU2MTlkY2VlM2QyMjYxYWQyZWU2YmYxMmZmYTA2ZDk4YTA4NjRkODc2MDI3MzNlYzg2YTY0NTIxZjJiMTgxNzdiMjAwY2JiZTExNzU3N2E2MTVkNmM3NzA5ODhjMGJhZDk0NmUyMDhlMjRmYTA3NGU1YWIzMTQzZGI1YmZjZTBmZDEwOGU0YjgyZDEyMGE5MjEwODAxMWE3MjNjMTJhNzg3ZTZkNzg4NzE5YTEwYmRiYTViMjY5OWMzMjcxODZhZjRlMjNjMWE5NDY4MzRiNjE1MGJkYTI1ODNlOWNhMmFkNDRjZThkYmJiYzJkYjA0ZGU4ZWY5MmU4ZWZjMTQxZmJlY2FhNjI4N2M1OTQ3NGU2YmMwNWQ5OWIyOTY0ZmEwOTBjM2EyMjMzYmExODY1MTViZTdlZDFmNjEyOTcwY2VlMmQ3YWZiODFiZGQ3NjIxNzA0ODFjZDAwNjkxMjdkNWIwNWFhOTkzYjRlYTk4OGQ4ZmRkYzE4NmZmYjdkYzkwYTZjMDhmNGRmNDM1YzkzNDAyODQ5MjM2YzNmYWI0ZDI3YzcwMjZjMWQ0ZGNiMjYwMjY0NmRlYzk3NTFlNzYzZGJhMzdiZGY4ZmY5NDA2YWQ5ZTUzMGVlNWRiMzgyZjQxMzAwMWFlYjA2YTUzZWQ5MDI3ZDgzMTE3OTcyN2IwODY1YTg5MThkYTNlZGJlYmNmOWIxNGVkNDRjZTZjYmFjZWQ0YmIxYmRiN2YxNDQ3ZTZjYzI1NGIzMzIwNTE1MTJiZDdhZjQyNmZiOGY0MDEzNzhjZDJiZjU5ODNjYTAxYzY0YjkyZWNmMDMyZWExNWQxNzIxZDAzZjQ4MmQ3Y2U2ZTc0ZmVmNmQ1NWU3MDJmNDY5ODBjODJiNWE4NDAzMTkwMGIxYzllNTllN2M5N2ZiZWM3ZThmMzIzYTk3YTdlMzZjYzg4YmUwZjFkNDViN2ZmNTg1YWM1NGJkNDA3YjIyYjQxNTRhYWNjOGY2ZDdlYmY0OGUxZDgxNGNjNWVkMjBmODAzN2UwYTc5NzE1ZWVmMjliZTMyODA2YTFkNThiYjdjNWRhNzZmNTUwYWEzZDhhMWZiZmYwZWIxOWNjYjFhMzEzZDU1Y2RhNTZjOWVjMmVmMjk2MzIzODdmZThkNzZlM2MwNDY4MDQzZThmNjYzZjQ4NjBlZTEyYmYyZDViMGI3NDc0ZDZlNjk0ZjkxZTZkYmUxMTU5NzRhMzkyNmYxMmZlZTVlNDM4Nzc3Y2I2YTkzMmRmOGNkOGJlYzRkMDczYjkzMWJhM2JjODMyYjY4ZDlkZDMwMDc0MWZhN2JmOGFmYzQ3ZWQyNTc2ZjY5MzZiYTQyNDY2M2FhYjYzOWM1YWU0ZjU2ODM0MjNiNDc0MmJmMWM5NzgyMzhmMTZjYmUzOWQ2NTJkZTNmZGI4YmVmYzg0OGFkOTIyMjIyZTA0YTQwMzdjMDcxM2ViNTdhODFhMjNmMGM3MzQ3M2ZjNjQ2Y2VhMzA2YjRiY2JjODg2MmY4Mzg1ZGRmYTlkNGI3ZmEyYzA4N2U4Nzk2ODMzMDNlZDViZGQzYTA2MmIzY2Y1YjNhMjc4YTY2ZDJhMTNmODNmNDRmODJkZGYzMTBlZTA3NGFiNmEzNjQ1OTdlODk5YTAyNTVkYzE2NGYzMWNjNTA4NDY4NTFkZjlhYjQ4MTk1ZGVkN2VhMWIxZDUxMGJkN2VlNzRkNzNmYWYzNmJjMzFlY2ZhMjY4MzU5MDQ2ZjRlYjg3OWY5MjQwMDk0MzhiNDgxYzZjZDc4ODlhMDAyZWQ1ZWUzODJiYzkxOTBkYTZmYzAyNmU0Nzk1NThlNDQ3NTY3N2U5YWE5ZTMwNTBlMjc2NTY5NGRmYzgxZjU2ZTg4MGI5NmU3MTYwYzk4MGRkOThlZGQzZGZmZmZmZmZmZmZmZmZmZmZmXCJcbiAgICB9XG59IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xudmFyIEJOID0gcmVxdWlyZSgnYm4uanMnKTtcbnZhciBNaWxsZXJSYWJpbiA9IHJlcXVpcmUoJ21pbGxlci1yYWJpbicpO1xudmFyIG1pbGxlclJhYmluID0gbmV3IE1pbGxlclJhYmluKCk7XG52YXIgVFdFTlRZRk9VUiA9IG5ldyBCTigyNCk7XG52YXIgRUxFVkVOID0gbmV3IEJOKDExKTtcbnZhciBURU4gPSBuZXcgQk4oMTApO1xudmFyIFRIUkVFID0gbmV3IEJOKDMpO1xudmFyIFNFVkVOID0gbmV3IEJOKDcpO1xudmFyIHByaW1lcyA9IHJlcXVpcmUoJy4vZ2VuZXJhdGVQcmltZScpO1xudmFyIHJhbmRvbUJ5dGVzID0gcmVxdWlyZSgncmFuZG9tYnl0ZXMnKTtcbm1vZHVsZS5leHBvcnRzID0gREg7XG5cbmZ1bmN0aW9uIHNldFB1YmxpY0tleShwdWIsIGVuYykge1xuICBlbmMgPSBlbmMgfHwgJ3V0ZjgnO1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihwdWIpKSB7XG4gICAgcHViID0gbmV3IEJ1ZmZlcihwdWIsIGVuYyk7XG4gIH1cbiAgdGhpcy5fcHViID0gbmV3IEJOKHB1Yik7XG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBzZXRQcml2YXRlS2V5KHByaXYsIGVuYykge1xuICBlbmMgPSBlbmMgfHwgJ3V0ZjgnO1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihwcml2KSkge1xuICAgIHByaXYgPSBuZXcgQnVmZmVyKHByaXYsIGVuYyk7XG4gIH1cbiAgdGhpcy5fcHJpdiA9IG5ldyBCTihwcml2KTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbnZhciBwcmltZUNhY2hlID0ge307XG5mdW5jdGlvbiBjaGVja1ByaW1lKHByaW1lLCBnZW5lcmF0b3IpIHtcbiAgdmFyIGdlbiA9IGdlbmVyYXRvci50b1N0cmluZygnaGV4Jyk7XG4gIHZhciBoZXggPSBbZ2VuLCBwcmltZS50b1N0cmluZygxNildLmpvaW4oJ18nKTtcbiAgaWYgKGhleCBpbiBwcmltZUNhY2hlKSB7XG4gICAgcmV0dXJuIHByaW1lQ2FjaGVbaGV4XTtcbiAgfVxuICB2YXIgZXJyb3IgPSAwO1xuICBcbiAgaWYgKHByaW1lLmlzRXZlbigpIHx8XG4gICAgIXByaW1lcy5zaW1wbGVTaWV2ZSB8fFxuICAgICFwcmltZXMuZmVybWF0VGVzdChwcmltZSkgfHxcbiAgICAhbWlsbGVyUmFiaW4udGVzdChwcmltZSkpIHtcbiAgICAvL25vdCBhIHByaW1lIHNvICsxXG4gICAgZXJyb3IgKz0gMTtcbiAgICBcbiAgICBpZiAoZ2VuID09PSAnMDInIHx8IGdlbiA9PT0gJzA1Jykge1xuICAgICAgLy8gd2UnZCBiZSBhYmxlIHRvIGNoZWNrIHRoZSBnZW5lcmF0b3JcbiAgICAgIC8vIGl0IHdvdWxkIGZhaWwgc28gKzhcbiAgICAgIGVycm9yICs9IDg7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vd2Ugd291bGRuJ3QgYmUgYWJsZSB0byB0ZXN0IHRoZSBnZW5lcmF0b3JcbiAgICAgIC8vIHNvICs0XG4gICAgICBlcnJvciArPSA0O1xuICAgIH1cbiAgICBwcmltZUNhY2hlW2hleF0gPSBlcnJvcjtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbiAgaWYgKCFtaWxsZXJSYWJpbi50ZXN0KHByaW1lLnNocm4oMSkpKSB7XG4gICAgLy9ub3QgYSBzYWZlIHByaW1lXG4gICAgZXJyb3IgKz0gMjtcbiAgfVxuICB2YXIgcmVtO1xuICBzd2l0Y2ggKGdlbikge1xuICAgIGNhc2UgJzAyJzpcbiAgICAgIGlmIChwcmltZS5tb2QoVFdFTlRZRk9VUikuY21wKEVMRVZFTikpIHtcbiAgICAgICAgLy8gdW5zdWlkYWJsZSBnZW5lcmF0b3JcbiAgICAgICAgZXJyb3IgKz0gODtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJzA1JzpcbiAgICAgIHJlbSA9IHByaW1lLm1vZChURU4pO1xuICAgICAgaWYgKHJlbS5jbXAoVEhSRUUpICYmIHJlbS5jbXAoU0VWRU4pKSB7XG4gICAgICAgIC8vIHByaW1lIG1vZCAxMCBuZWVkcyB0byBlcXVhbCAzIG9yIDdcbiAgICAgICAgZXJyb3IgKz0gODtcbiAgICAgIH0gXG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OiBcbiAgICAgIGVycm9yICs9IDQ7XG4gIH1cbiAgcHJpbWVDYWNoZVtoZXhdID0gZXJyb3I7XG4gIHJldHVybiBlcnJvcjtcbn1cblxuZnVuY3Rpb24gZGVmaW5lRXJyb3IgKHNlbGYsIGVycm9yKSB7XG4gIHRyeSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlbGYsICd2ZXJpZnlFcnJvcicsIHtcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogZXJyb3IsXG4gICAgICB3cml0YWJsZTogZmFsc2VcbiAgICB9KTtcbiAgfSBjYXRjaChlKSB7XG4gICAgc2VsZi52ZXJpZnlFcnJvciA9IGVycm9yO1xuICB9XG59XG5mdW5jdGlvbiBESChwcmltZSwgZ2VuZXJhdG9yLCBtYWxsZWFibGUpIHtcbiAgdGhpcy5zZXRHZW5lcmF0b3IoZ2VuZXJhdG9yKTtcbiAgdGhpcy5fX3ByaW1lID0gbmV3IEJOKHByaW1lKTtcbiAgdGhpcy5fcHJpbWUgPSBCTi5tb250KHRoaXMuX19wcmltZSk7XG4gIHRoaXMuX3ByaW1lTGVuID0gcHJpbWUubGVuZ3RoO1xuICB0aGlzLl9wdWIgPSB2b2lkIDA7XG4gIHRoaXMuX3ByaXYgPSB2b2lkIDA7XG4gIFxuICBpZiAobWFsbGVhYmxlKSB7XG4gICAgdGhpcy5zZXRQdWJsaWNLZXkgPSBzZXRQdWJsaWNLZXk7XG4gICAgdGhpcy5zZXRQcml2YXRlS2V5ID0gc2V0UHJpdmF0ZUtleTtcbiAgICBkZWZpbmVFcnJvcih0aGlzLCBjaGVja1ByaW1lKHRoaXMuX19wcmltZSwgZ2VuZXJhdG9yKSk7XG4gIH0gZWxzZSB7XG4gICAgZGVmaW5lRXJyb3IodGhpcywgOCk7XG4gIH1cbn1cblxuREgucHJvdG90eXBlLmdlbmVyYXRlS2V5cyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF0aGlzLl9wcml2KSB7XG4gICAgdGhpcy5fcHJpdiA9IG5ldyBCTihyYW5kb21CeXRlcyh0aGlzLl9wcmltZUxlbikpO1xuICB9XG4gIHRoaXMuX3B1YiA9IHRoaXMuX2dlbi50b1JlZCh0aGlzLl9wcmltZSkucmVkUG93KHRoaXMuX3ByaXYpLmZyb21SZWQoKTtcbiAgcmV0dXJuIHRoaXMuZ2V0UHVibGljS2V5KCk7XG59O1xuXG5ESC5wcm90b3R5cGUuY29tcHV0ZVNlY3JldCA9IGZ1bmN0aW9uIChvdGhlcikge1xuICBvdGhlciA9IG5ldyBCTihvdGhlcik7XG4gIG90aGVyID0gb3RoZXIudG9SZWQodGhpcy5fcHJpbWUpO1xuICB2YXIgc2VjcmV0ID0gb3RoZXIucmVkUG93KHRoaXMuX3ByaXYpLmZyb21SZWQoKTtcbiAgdmFyIG91dCA9IG5ldyBCdWZmZXIoc2VjcmV0LnRvQXJyYXkoKSk7XG4gIHZhciBwcmltZSA9IHRoaXMuZ2V0UHJpbWUoKTtcbiAgaWYgKG91dC5sZW5ndGggPCBwcmltZS5sZW5ndGgpIHtcbiAgICB2YXIgZnJvbnQgPSBuZXcgQnVmZmVyKHByaW1lLmxlbmd0aCAtIG91dC5sZW5ndGgpO1xuICAgIGZyb250LmZpbGwoMCk7XG4gICAgb3V0ID0gQnVmZmVyLmNvbmNhdChbZnJvbnQsIG91dF0pO1xuICB9XG4gIHJldHVybiBvdXQ7XG59O1xuXG5ESC5wcm90b3R5cGUuZ2V0UHVibGljS2V5ID0gZnVuY3Rpb24gZ2V0UHVibGljS2V5KGVuYykge1xuICByZXR1cm4gZm9ybWF0UmV0dXJuVmFsdWUodGhpcy5fcHViLCBlbmMpO1xufTtcblxuREgucHJvdG90eXBlLmdldFByaXZhdGVLZXkgPSBmdW5jdGlvbiBnZXRQcml2YXRlS2V5KGVuYykge1xuICByZXR1cm4gZm9ybWF0UmV0dXJuVmFsdWUodGhpcy5fcHJpdiwgZW5jKTtcbn07XG5cbkRILnByb3RvdHlwZS5nZXRQcmltZSA9IGZ1bmN0aW9uIChlbmMpIHtcbiAgcmV0dXJuIGZvcm1hdFJldHVyblZhbHVlKHRoaXMuX19wcmltZSwgZW5jKTtcbn07XG5cbkRILnByb3RvdHlwZS5nZXRHZW5lcmF0b3IgPSBmdW5jdGlvbiAoZW5jKSB7XG4gIHJldHVybiBmb3JtYXRSZXR1cm5WYWx1ZSh0aGlzLl9nZW4sIGVuYyk7XG59O1xuXG5ESC5wcm90b3R5cGUuc2V0R2VuZXJhdG9yID0gZnVuY3Rpb24gKGdlbiwgZW5jKSB7XG4gIGVuYyA9IGVuYyB8fCAndXRmOCc7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGdlbikpIHtcbiAgICBnZW4gPSBuZXcgQnVmZmVyKGdlbiwgZW5jKTtcbiAgfVxuICB0aGlzLl9nZW4gPSBuZXcgQk4oZ2VuKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBmb3JtYXRSZXR1cm5WYWx1ZShibiwgZW5jKSB7XG4gIHZhciBidWYgPSBuZXcgQnVmZmVyKGJuLnRvQXJyYXkoKSk7XG4gIGlmICghZW5jKSB7XG4gICAgcmV0dXJuIGJ1ZjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYnVmLnRvU3RyaW5nKGVuYyk7XG4gIH1cbn1cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12WkdsbVptbGxMV2hsYkd4dFlXNHZiR2xpTDJSb0xtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdRVUZCUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQklpd2labWxzWlNJNkltZGxibVZ5WVhSbFpDNXFjeUlzSW5OdmRYSmpaVkp2YjNRaU9pSWlMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXeUoyWVhJZ1FrNGdQU0J5WlhGMWFYSmxLQ2RpYmk1cWN5Y3BPMXh1ZG1GeUlFMXBiR3hsY2xKaFltbHVJRDBnY21WeGRXbHlaU2duYldsc2JHVnlMWEpoWW1sdUp5azdYRzUyWVhJZ2JXbHNiR1Z5VW1GaWFXNGdQU0J1WlhjZ1RXbHNiR1Z5VW1GaWFXNG9LVHRjYm5aaGNpQlVWMFZPVkZsR1QxVlNJRDBnYm1WM0lFSk9LREkwS1R0Y2JuWmhjaUJGVEVWV1JVNGdQU0J1WlhjZ1FrNG9NVEVwTzF4dWRtRnlJRlJGVGlBOUlHNWxkeUJDVGlneE1DazdYRzUyWVhJZ1ZFaFNSVVVnUFNCdVpYY2dRazRvTXlrN1hHNTJZWElnVTBWV1JVNGdQU0J1WlhjZ1FrNG9OeWs3WEc1MllYSWdjSEpwYldWeklEMGdjbVZ4ZFdseVpTZ25MaTluWlc1bGNtRjBaVkJ5YVcxbEp5azdYRzUyWVhJZ2NtRnVaRzl0UW5sMFpYTWdQU0J5WlhGMWFYSmxLQ2R5WVc1a2IyMWllWFJsY3ljcE8xeHViVzlrZFd4bExtVjRjRzl5ZEhNZ1BTQkVTRHRjYmx4dVpuVnVZM1JwYjI0Z2MyVjBVSFZpYkdsalMyVjVLSEIxWWl3Z1pXNWpLU0I3WEc0Z0lHVnVZeUE5SUdWdVl5QjhmQ0FuZFhSbU9DYzdYRzRnSUdsbUlDZ2hRblZtWm1WeUxtbHpRblZtWm1WeUtIQjFZaWtwSUh0Y2JpQWdJQ0J3ZFdJZ1BTQnVaWGNnUW5WbVptVnlLSEIxWWl3Z1pXNWpLVHRjYmlBZ2ZWeHVJQ0IwYUdsekxsOXdkV0lnUFNCdVpYY2dRazRvY0hWaUtUdGNiaUFnY21WMGRYSnVJSFJvYVhNN1hHNTlYRzVjYm1aMWJtTjBhVzl1SUhObGRGQnlhWFpoZEdWTFpYa29jSEpwZGl3Z1pXNWpLU0I3WEc0Z0lHVnVZeUE5SUdWdVl5QjhmQ0FuZFhSbU9DYzdYRzRnSUdsbUlDZ2hRblZtWm1WeUxtbHpRblZtWm1WeUtIQnlhWFlwS1NCN1hHNGdJQ0FnY0hKcGRpQTlJRzVsZHlCQ2RXWm1aWElvY0hKcGRpd2daVzVqS1R0Y2JpQWdmVnh1SUNCMGFHbHpMbDl3Y21sMklEMGdibVYzSUVKT0tIQnlhWFlwTzF4dUlDQnlaWFIxY200Z2RHaHBjenRjYm4xY2JseHVkbUZ5SUhCeWFXMWxRMkZqYUdVZ1BTQjdmVHRjYm1aMWJtTjBhVzl1SUdOb1pXTnJVSEpwYldVb2NISnBiV1VzSUdkbGJtVnlZWFJ2Y2lrZ2UxeHVJQ0IyWVhJZ1oyVnVJRDBnWjJWdVpYSmhkRzl5TG5SdlUzUnlhVzVuS0Nkb1pYZ25LVHRjYmlBZ2RtRnlJR2hsZUNBOUlGdG5aVzRzSUhCeWFXMWxMblJ2VTNSeWFXNW5LREUyS1YwdWFtOXBiaWduWHljcE8xeHVJQ0JwWmlBb2FHVjRJR2x1SUhCeWFXMWxRMkZqYUdVcElIdGNiaUFnSUNCeVpYUjFjbTRnY0hKcGJXVkRZV05vWlZ0b1pYaGRPMXh1SUNCOVhHNGdJSFpoY2lCbGNuSnZjaUE5SURBN1hHNGdJRnh1SUNCcFppQW9jSEpwYldVdWFYTkZkbVZ1S0NrZ2ZIeGNiaUFnSUNBaGNISnBiV1Z6TG5OcGJYQnNaVk5wWlhabElIeDhYRzRnSUNBZ0lYQnlhVzFsY3k1bVpYSnRZWFJVWlhOMEtIQnlhVzFsS1NCOGZGeHVJQ0FnSUNGdGFXeHNaWEpTWVdKcGJpNTBaWE4wS0hCeWFXMWxLU2tnZTF4dUlDQWdJQzh2Ym05MElHRWdjSEpwYldVZ2MyOGdLekZjYmlBZ0lDQmxjbkp2Y2lBclBTQXhPMXh1SUNBZ0lGeHVJQ0FnSUdsbUlDaG5aVzRnUFQwOUlDY3dNaWNnZkh3Z1oyVnVJRDA5UFNBbk1EVW5LU0I3WEc0Z0lDQWdJQ0F2THlCM1pTZGtJR0psSUdGaWJHVWdkRzhnWTJobFkyc2dkR2hsSUdkbGJtVnlZWFJ2Y2x4dUlDQWdJQ0FnTHk4Z2FYUWdkMjkxYkdRZ1ptRnBiQ0J6YnlBck9GeHVJQ0FnSUNBZ1pYSnliM0lnS3owZ09EdGNiaUFnSUNCOUlHVnNjMlVnZTF4dUlDQWdJQ0FnTHk5M1pTQjNiM1ZzWkc0bmRDQmlaU0JoWW14bElIUnZJSFJsYzNRZ2RHaGxJR2RsYm1WeVlYUnZjbHh1SUNBZ0lDQWdMeThnYzI4Z0t6UmNiaUFnSUNBZ0lHVnljbTl5SUNzOUlEUTdYRzRnSUNBZ2ZWeHVJQ0FnSUhCeWFXMWxRMkZqYUdWYmFHVjRYU0E5SUdWeWNtOXlPMXh1SUNBZ0lISmxkSFZ5YmlCbGNuSnZjanRjYmlBZ2ZWeHVJQ0JwWmlBb0lXMXBiR3hsY2xKaFltbHVMblJsYzNRb2NISnBiV1V1YzJoeWJpZ3hLU2twSUh0Y2JpQWdJQ0F2TDI1dmRDQmhJSE5oWm1VZ2NISnBiV1ZjYmlBZ0lDQmxjbkp2Y2lBclBTQXlPMXh1SUNCOVhHNGdJSFpoY2lCeVpXMDdYRzRnSUhOM2FYUmphQ0FvWjJWdUtTQjdYRzRnSUNBZ1kyRnpaU0FuTURJbk9seHVJQ0FnSUNBZ2FXWWdLSEJ5YVcxbExtMXZaQ2hVVjBWT1ZGbEdUMVZTS1M1amJYQW9SVXhGVmtWT0tTa2dlMXh1SUNBZ0lDQWdJQ0F2THlCMWJuTjFhV1JoWW14bElHZGxibVZ5WVhSdmNseHVJQ0FnSUNBZ0lDQmxjbkp2Y2lBclBTQTRPMXh1SUNBZ0lDQWdmVnh1SUNBZ0lDQWdZbkpsWVdzN1hHNGdJQ0FnWTJGelpTQW5NRFVuT2x4dUlDQWdJQ0FnY21WdElEMGdjSEpwYldVdWJXOWtLRlJGVGlrN1hHNGdJQ0FnSUNCcFppQW9jbVZ0TG1OdGNDaFVTRkpGUlNrZ0ppWWdjbVZ0TG1OdGNDaFRSVlpGVGlrcElIdGNiaUFnSUNBZ0lDQWdMeThnY0hKcGJXVWdiVzlrSURFd0lHNWxaV1J6SUhSdklHVnhkV0ZzSURNZ2IzSWdOMXh1SUNBZ0lDQWdJQ0JsY25KdmNpQXJQU0E0TzF4dUlDQWdJQ0FnZlNCY2JpQWdJQ0FnSUdKeVpXRnJPMXh1SUNBZ0lHUmxabUYxYkhRNklGeHVJQ0FnSUNBZ1pYSnliM0lnS3owZ05EdGNiaUFnZlZ4dUlDQndjbWx0WlVOaFkyaGxXMmhsZUYwZ1BTQmxjbkp2Y2p0Y2JpQWdjbVYwZFhKdUlHVnljbTl5TzF4dWZWeHVYRzVtZFc1amRHbHZiaUJrWldacGJtVkZjbkp2Y2lBb2MyVnNaaXdnWlhKeWIzSXBJSHRjYmlBZ2RISjVJSHRjYmlBZ0lDQlBZbXBsWTNRdVpHVm1hVzVsVUhKdmNHVnlkSGtvYzJWc1ppd2dKM1psY21sbWVVVnljbTl5Snl3Z2UxeHVJQ0FnSUNBZ1pXNTFiV1Z5WVdKc1pUb2dkSEoxWlN4Y2JpQWdJQ0FnSUhaaGJIVmxPaUJsY25KdmNpeGNiaUFnSUNBZ0lIZHlhWFJoWW14bE9pQm1ZV3h6WlZ4dUlDQWdJSDBwTzF4dUlDQjlJR05oZEdOb0tHVXBJSHRjYmlBZ0lDQnpaV3htTG5abGNtbG1lVVZ5Y205eUlEMGdaWEp5YjNJN1hHNGdJSDFjYm4xY2JtWjFibU4wYVc5dUlFUklLSEJ5YVcxbExDQm5aVzVsY21GMGIzSXNJRzFoYkd4bFlXSnNaU2tnZTF4dUlDQjBhR2x6TG5ObGRFZGxibVZ5WVhSdmNpaG5aVzVsY21GMGIzSXBPMXh1SUNCMGFHbHpMbDlmY0hKcGJXVWdQU0J1WlhjZ1FrNG9jSEpwYldVcE8xeHVJQ0IwYUdsekxsOXdjbWx0WlNBOUlFSk9MbTF2Ym5Rb2RHaHBjeTVmWDNCeWFXMWxLVHRjYmlBZ2RHaHBjeTVmY0hKcGJXVk1aVzRnUFNCd2NtbHRaUzVzWlc1bmRHZzdYRzRnSUhSb2FYTXVYM0IxWWlBOUlIWnZhV1FnTUR0Y2JpQWdkR2hwY3k1ZmNISnBkaUE5SUhadmFXUWdNRHRjYmlBZ1hHNGdJR2xtSUNodFlXeHNaV0ZpYkdVcElIdGNiaUFnSUNCMGFHbHpMbk5sZEZCMVlteHBZMHRsZVNBOUlITmxkRkIxWW14cFkwdGxlVHRjYmlBZ0lDQjBhR2x6TG5ObGRGQnlhWFpoZEdWTFpYa2dQU0J6WlhSUWNtbDJZWFJsUzJWNU8xeHVJQ0FnSUdSbFptbHVaVVZ5Y205eUtIUm9hWE1zSUdOb1pXTnJVSEpwYldVb2RHaHBjeTVmWDNCeWFXMWxMQ0JuWlc1bGNtRjBiM0lwS1R0Y2JpQWdmU0JsYkhObElIdGNiaUFnSUNCa1pXWnBibVZGY25KdmNpaDBhR2x6TENBNEtUdGNiaUFnZlZ4dWZWeHVYRzVFU0M1d2NtOTBiM1I1Y0dVdVoyVnVaWEpoZEdWTFpYbHpJRDBnWm5WdVkzUnBiMjRnS0NrZ2UxeHVJQ0JwWmlBb0lYUm9hWE11WDNCeWFYWXBJSHRjYmlBZ0lDQjBhR2x6TGw5d2NtbDJJRDBnYm1WM0lFSk9LSEpoYm1SdmJVSjVkR1Z6S0hSb2FYTXVYM0J5YVcxbFRHVnVLU2s3WEc0Z0lIMWNiaUFnZEdocGN5NWZjSFZpSUQwZ2RHaHBjeTVmWjJWdUxuUnZVbVZrS0hSb2FYTXVYM0J5YVcxbEtTNXlaV1JRYjNjb2RHaHBjeTVmY0hKcGRpa3Vabkp2YlZKbFpDZ3BPMXh1SUNCeVpYUjFjbTRnZEdocGN5NW5aWFJRZFdKc2FXTkxaWGtvS1R0Y2JuMDdYRzVjYmtSSUxuQnliM1J2ZEhsd1pTNWpiMjF3ZFhSbFUyVmpjbVYwSUQwZ1puVnVZM1JwYjI0Z0tHOTBhR1Z5S1NCN1hHNGdJRzkwYUdWeUlEMGdibVYzSUVKT0tHOTBhR1Z5S1R0Y2JpQWdiM1JvWlhJZ1BTQnZkR2hsY2k1MGIxSmxaQ2gwYUdsekxsOXdjbWx0WlNrN1hHNGdJSFpoY2lCelpXTnlaWFFnUFNCdmRHaGxjaTV5WldSUWIzY29kR2hwY3k1ZmNISnBkaWt1Wm5KdmJWSmxaQ2dwTzF4dUlDQjJZWElnYjNWMElEMGdibVYzSUVKMVptWmxjaWh6WldOeVpYUXVkRzlCY25KaGVTZ3BLVHRjYmlBZ2RtRnlJSEJ5YVcxbElEMGdkR2hwY3k1blpYUlFjbWx0WlNncE8xeHVJQ0JwWmlBb2IzVjBMbXhsYm1kMGFDQThJSEJ5YVcxbExteGxibWQwYUNrZ2UxeHVJQ0FnSUhaaGNpQm1jbTl1ZENBOUlHNWxkeUJDZFdabVpYSW9jSEpwYldVdWJHVnVaM1JvSUMwZ2IzVjBMbXhsYm1kMGFDazdYRzRnSUNBZ1puSnZiblF1Wm1sc2JDZ3dLVHRjYmlBZ0lDQnZkWFFnUFNCQ2RXWm1aWEl1WTI5dVkyRjBLRnRtY205dWRDd2diM1YwWFNrN1hHNGdJSDFjYmlBZ2NtVjBkWEp1SUc5MWREdGNibjA3WEc1Y2JrUklMbkJ5YjNSdmRIbHdaUzVuWlhSUWRXSnNhV05MWlhrZ1BTQm1kVzVqZEdsdmJpQm5aWFJRZFdKc2FXTkxaWGtvWlc1aktTQjdYRzRnSUhKbGRIVnliaUJtYjNKdFlYUlNaWFIxY201V1lXeDFaU2gwYUdsekxsOXdkV0lzSUdWdVl5azdYRzU5TzF4dVhHNUVTQzV3Y205MGIzUjVjR1V1WjJWMFVISnBkbUYwWlV0bGVTQTlJR1oxYm1OMGFXOXVJR2RsZEZCeWFYWmhkR1ZMWlhrb1pXNWpLU0I3WEc0Z0lISmxkSFZ5YmlCbWIzSnRZWFJTWlhSMWNtNVdZV3gxWlNoMGFHbHpMbDl3Y21sMkxDQmxibU1wTzF4dWZUdGNibHh1UkVndWNISnZkRzkwZVhCbExtZGxkRkJ5YVcxbElEMGdablZ1WTNScGIyNGdLR1Z1WXlrZ2UxeHVJQ0J5WlhSMWNtNGdabTl5YldGMFVtVjBkWEp1Vm1Gc2RXVW9kR2hwY3k1ZlgzQnlhVzFsTENCbGJtTXBPMXh1ZlR0Y2JseHVSRWd1Y0hKdmRHOTBlWEJsTG1kbGRFZGxibVZ5WVhSdmNpQTlJR1oxYm1OMGFXOXVJQ2hsYm1NcElIdGNiaUFnY21WMGRYSnVJR1p2Y20xaGRGSmxkSFZ5YmxaaGJIVmxLSFJvYVhNdVgyZGxiaXdnWlc1aktUdGNibjA3WEc1Y2JrUklMbkJ5YjNSdmRIbHdaUzV6WlhSSFpXNWxjbUYwYjNJZ1BTQm1kVzVqZEdsdmJpQW9aMlZ1TENCbGJtTXBJSHRjYmlBZ1pXNWpJRDBnWlc1aklIeDhJQ2QxZEdZNEp6dGNiaUFnYVdZZ0tDRkNkV1ptWlhJdWFYTkNkV1ptWlhJb1oyVnVLU2tnZTF4dUlDQWdJR2RsYmlBOUlHNWxkeUJDZFdabVpYSW9aMlZ1TENCbGJtTXBPMXh1SUNCOVhHNGdJSFJvYVhNdVgyZGxiaUE5SUc1bGR5QkNUaWhuWlc0cE8xeHVJQ0J5WlhSMWNtNGdkR2hwY3p0Y2JuMDdYRzVjYm1aMWJtTjBhVzl1SUdadmNtMWhkRkpsZEhWeWJsWmhiSFZsS0dKdUxDQmxibU1wSUh0Y2JpQWdkbUZ5SUdKMVppQTlJRzVsZHlCQ2RXWm1aWElvWW00dWRHOUJjbkpoZVNncEtUdGNiaUFnYVdZZ0tDRmxibU1wSUh0Y2JpQWdJQ0J5WlhSMWNtNGdZblZtTzF4dUlDQjlJR1ZzYzJVZ2UxeHVJQ0FnSUhKbGRIVnliaUJpZFdZdWRHOVRkSEpwYm1jb1pXNWpLVHRjYmlBZ2ZWeHVmU0pkZlE9PSIsInZhciByYW5kb21CeXRlcyA9IHJlcXVpcmUoJ3JhbmRvbWJ5dGVzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZpbmRQcmltZTtcbmZpbmRQcmltZS5zaW1wbGVTaWV2ZSA9IHNpbXBsZVNpZXZlO1xuZmluZFByaW1lLmZlcm1hdFRlc3QgPSBmZXJtYXRUZXN0O1xudmFyIEJOID0gcmVxdWlyZSgnYm4uanMnKTtcbnZhciBUV0VOVFlGT1VSID0gbmV3IEJOKDI0KTtcbnZhciBNaWxsZXJSYWJpbiA9IHJlcXVpcmUoJ21pbGxlci1yYWJpbicpO1xudmFyIG1pbGxlclJhYmluID0gbmV3IE1pbGxlclJhYmluKCk7XG52YXIgT05FID0gbmV3IEJOKDEpO1xudmFyIFRXTyA9IG5ldyBCTigyKTtcbnZhciBGSVZFID0gbmV3IEJOKDUpO1xudmFyIFNJWFRFRU4gPSBuZXcgQk4oMTYpO1xudmFyIEVJR0hUID0gbmV3IEJOKDgpO1xudmFyIFRFTiA9IG5ldyBCTigxMCk7XG52YXIgVEhSRUUgPSBuZXcgQk4oMyk7XG52YXIgU0VWRU4gPSBuZXcgQk4oNyk7XG52YXIgRUxFVkVOID0gbmV3IEJOKDExKTtcbnZhciBGT1VSID0gbmV3IEJOKDQpO1xudmFyIFRXRUxWRSA9IG5ldyBCTigxMik7XG52YXIgcHJpbWVzID0gbnVsbDtcblxuZnVuY3Rpb24gX2dldFByaW1lcygpIHtcbiAgaWYgKHByaW1lcyAhPT0gbnVsbClcbiAgICByZXR1cm4gcHJpbWVzO1xuXG4gIHZhciBsaW1pdCA9IDB4MTAwMDAwO1xuICB2YXIgcmVzID0gW107XG4gIHJlc1swXSA9IDI7XG4gIGZvciAodmFyIGkgPSAxLCBrID0gMzsgayA8IGxpbWl0OyBrICs9IDIpIHtcbiAgICB2YXIgc3FydCA9IE1hdGguY2VpbChNYXRoLnNxcnQoaykpO1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgaSAmJiByZXNbal0gPD0gc3FydDsgaisrKVxuICAgICAgaWYgKGsgJSByZXNbal0gPT09IDApXG4gICAgICAgIGJyZWFrO1xuXG4gICAgaWYgKGkgIT09IGogJiYgcmVzW2pdIDw9IHNxcnQpXG4gICAgICBjb250aW51ZTtcblxuICAgIHJlc1tpKytdID0gaztcbiAgfVxuICBwcmltZXMgPSByZXM7XG4gIHJldHVybiByZXM7XG59XG5cbmZ1bmN0aW9uIHNpbXBsZVNpZXZlKHApIHtcbiAgdmFyIHByaW1lcyA9IF9nZXRQcmltZXMoKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHByaW1lcy5sZW5ndGg7IGkrKylcbiAgICBpZiAocC5tb2RuKHByaW1lc1tpXSkgPT09IDApIHtcbiAgICAgIGlmIChwLmNtcG4ocHJpbWVzW2ldKSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGZlcm1hdFRlc3QocCkge1xuICB2YXIgcmVkID0gQk4ubW9udChwKTtcbiAgcmV0dXJuIFRXTy50b1JlZChyZWQpLnJlZFBvdyhwLnN1Ym4oMSkpLmZyb21SZWQoKS5jbXBuKDEpID09PSAwO1xufVxuXG5mdW5jdGlvbiBmaW5kUHJpbWUoYml0cywgZ2VuKSB7XG4gIGlmIChiaXRzIDwgMTYpIHtcbiAgICAvLyB0aGlzIGlzIHdoYXQgb3BlbnNzbCBkb2VzXG4gICAgaWYgKGdlbiA9PT0gMiB8fCBnZW4gPT09IDUpIHtcbiAgICAgIHJldHVybiBuZXcgQk4oWzB4OGMsIDB4N2JdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBCTihbMHg4YywgMHgyN10pO1xuICAgIH1cbiAgfVxuICBnZW4gPSBuZXcgQk4oZ2VuKTtcbiAgdmFyIHJ1bnMsIGNvbXA7XG4gIGZ1bmN0aW9uIGdlbmVyYXRlUmFuZG9tKGJpdHMpIHtcbiAgICBydW5zID0gLTE7XG4gICAgdmFyIG91dCA9IG5ldyBCTihyYW5kb21CeXRlcyhNYXRoLmNlaWwoYml0cyAvIDgpKSk7XG4gICAgd2hpbGUgKG91dC5iaXRMZW5ndGgoKSA+IGJpdHMpIHtcbiAgICAgIG91dC5pc2hybigxKTtcbiAgICB9XG4gICAgaWYgKG91dC5pc0V2ZW4oKSkge1xuICAgICAgb3V0LmlhZGQoT05FKTtcbiAgICB9XG4gICAgaWYgKCFvdXQudGVzdG4oMSkpIHtcbiAgICAgIG91dC5pYWRkKFRXTyk7XG4gICAgfVxuICAgIGlmICghZ2VuLmNtcChUV08pKSB7XG4gICAgICB3aGlsZSAob3V0Lm1vZChUV0VOVFlGT1VSKS5jbXAoRUxFVkVOKSkge1xuICAgICAgICBvdXQuaWFkZChGT1VSKTtcbiAgICAgIH1cbiAgICAgIGNvbXAgPSB7XG4gICAgICAgIG1ham9yOiBbVFdFTlRZRk9VUl0sXG4gICAgICAgIG1pbm9yOiBbVFdFTFZFXVxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKCFnZW4uY21wKEZJVkUpKSB7XG4gICAgICByZW0gPSBvdXQubW9kKFRFTik7XG4gICAgICB3aGlsZSAocmVtLmNtcChUSFJFRSkpIHtcbiAgICAgICAgb3V0LmlhZGQoRk9VUik7XG4gICAgICAgIHJlbSA9IG91dC5tb2QoVEVOKTtcbiAgICAgIH1cbiAgICAgIGNvbXAgPSB7XG4gICAgICAgIG1ham9yOiBbRk9VUiwgU0lYVEVFTl0sXG4gICAgICAgIG1pbm9yOiBbVFdPLCBFSUdIVF1cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbXAgPSB7XG4gICAgICAgIG1ham9yOiBbRk9VUl0sXG4gICAgICAgIG1pbm9yOiBbVFdPXVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbiAgfVxuICB2YXIgbnVtID0gZ2VuZXJhdGVSYW5kb20oYml0cyk7XG5cbiAgdmFyIG4yID0gbnVtLnNocm4oMSk7XG5cbiAgd2hpbGUgKHRydWUpIHtcbiAgICB3aGlsZSAobnVtLmJpdExlbmd0aCgpID4gYml0cykge1xuICAgICAgbnVtID0gZ2VuZXJhdGVSYW5kb20oYml0cyk7XG4gICAgICBuMiA9IG51bS5zaHJuKDEpO1xuICAgIH1cbiAgICBydW5zKys7XG4gICAgaWYgKHNpbXBsZVNpZXZlKG4yKSAmJiAgc2ltcGxlU2lldmUobnVtKSAmJlxuICAgICAgZmVybWF0VGVzdChuMikgJiYgIGZlcm1hdFRlc3QobnVtKSAmJlxuICAgICAgbWlsbGVyUmFiaW4udGVzdChuMikgJiYgbWlsbGVyUmFiaW4udGVzdChudW0pKSB7XG4gICAgICByZXR1cm4gbnVtO1xuICAgIH1cbiAgICBudW0uaWFkZChjb21wLm1ham9yW3J1bnMlY29tcC5tYWpvci5sZW5ndGhdKTtcbiAgICBuMi5pYWRkKGNvbXAubWlub3JbcnVucyVjb21wLm1pbm9yLmxlbmd0aF0pO1xuICB9XG5cbn0iLCJ2YXIgYm4gPSByZXF1aXJlKCdibi5qcycpO1xudmFyIGJyb3JhbmQgPSByZXF1aXJlKCdicm9yYW5kJyk7XG5cbmZ1bmN0aW9uIE1pbGxlclJhYmluKHJhbmQpIHtcbiAgdGhpcy5yYW5kID0gcmFuZCB8fCBuZXcgYnJvcmFuZC5SYW5kKCk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IE1pbGxlclJhYmluO1xuXG5NaWxsZXJSYWJpbi5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUocmFuZCkge1xuICByZXR1cm4gbmV3IE1pbGxlclJhYmluKHJhbmQpO1xufTtcblxuTWlsbGVyUmFiaW4ucHJvdG90eXBlLl9yYW5kID0gZnVuY3Rpb24gX3JhbmQobikge1xuICB2YXIgbGVuID0gbi5iaXRMZW5ndGgoKTtcbiAgdmFyIGJ1ZiA9IHRoaXMucmFuZC5nZW5lcmF0ZShNYXRoLmNlaWwobGVuIC8gOCkpO1xuXG4gIC8vIFNldCBsb3cgYml0c1xuICBidWZbMF0gfD0gMztcblxuICAvLyBNYXNrIGhpZ2ggYml0c1xuICB2YXIgbWFzayA9IGxlbiAmIDB4NztcbiAgaWYgKG1hc2sgIT09IDApXG4gICAgYnVmW2J1Zi5sZW5ndGggLSAxXSA+Pj0gNyAtIG1hc2s7XG5cbiAgcmV0dXJuIG5ldyBibihidWYpO1xufVxuXG5NaWxsZXJSYWJpbi5wcm90b3R5cGUudGVzdCA9IGZ1bmN0aW9uIHRlc3QobiwgaywgY2IpIHtcbiAgdmFyIGxlbiA9IG4uYml0TGVuZ3RoKCk7XG4gIHZhciByZWQgPSBibi5tb250KG4pO1xuICB2YXIgcm9uZSA9IG5ldyBibigxKS50b1JlZChyZWQpO1xuXG4gIGlmICghaylcbiAgICBrID0gTWF0aC5tYXgoMSwgKGxlbiAvIDQ4KSB8IDApO1xuXG4gIC8vIEZpbmQgZCBhbmQgcywgKG4gLSAxKSA9ICgyIF4gcykgKiBkO1xuICB2YXIgbjEgPSBuLnN1Ym4oMSk7XG4gIHZhciBuMiA9IG4xLnN1Ym4oMSk7XG4gIGZvciAodmFyIHMgPSAwOyAhbjEudGVzdG4ocyk7IHMrKykge31cbiAgdmFyIGQgPSBuLnNocm4ocyk7XG5cbiAgdmFyIHJuMSA9IG4xLnRvUmVkKHJlZCk7XG5cbiAgdmFyIHByaW1lID0gdHJ1ZTtcbiAgZm9yICg7IGsgPiAwOyBrLS0pIHtcbiAgICB2YXIgYSA9IHRoaXMuX3JhbmQobjIpO1xuICAgIGlmIChjYilcbiAgICAgIGNiKGEpO1xuXG4gICAgdmFyIHggPSBhLnRvUmVkKHJlZCkucmVkUG93KGQpO1xuICAgIGlmICh4LmNtcChyb25lKSA9PT0gMCB8fCB4LmNtcChybjEpID09PSAwKVxuICAgICAgY29udGludWU7XG5cbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IHM7IGkrKykge1xuICAgICAgeCA9IHgucmVkU3FyKCk7XG5cbiAgICAgIGlmICh4LmNtcChyb25lKSA9PT0gMClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgaWYgKHguY21wKHJuMSkgPT09IDApXG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChpID09PSBzKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHByaW1lO1xufTtcblxuTWlsbGVyUmFiaW4ucHJvdG90eXBlLmdldERpdmlzb3IgPSBmdW5jdGlvbiBnZXREaXZpc29yKG4sIGspIHtcbiAgdmFyIGxlbiA9IG4uYml0TGVuZ3RoKCk7XG4gIHZhciByZWQgPSBibi5tb250KG4pO1xuICB2YXIgcm9uZSA9IG5ldyBibigxKS50b1JlZChyZWQpO1xuXG4gIGlmICghaylcbiAgICBrID0gTWF0aC5tYXgoMSwgKGxlbiAvIDQ4KSB8IDApO1xuXG4gIC8vIEZpbmQgZCBhbmQgcywgKG4gLSAxKSA9ICgyIF4gcykgKiBkO1xuICB2YXIgbjEgPSBuLnN1Ym4oMSk7XG4gIHZhciBuMiA9IG4xLnN1Ym4oMSk7XG4gIGZvciAodmFyIHMgPSAwOyAhbjEudGVzdG4ocyk7IHMrKykge31cbiAgdmFyIGQgPSBuLnNocm4ocyk7XG5cbiAgdmFyIHJuMSA9IG4xLnRvUmVkKHJlZCk7XG5cbiAgZm9yICg7IGsgPiAwOyBrLS0pIHtcbiAgICB2YXIgYSA9IHRoaXMuX3JhbmQobjIpO1xuXG4gICAgdmFyIGcgPSBuLmdjZChhKTtcbiAgICBpZiAoZy5jbXBuKDEpICE9PSAwKVxuICAgICAgcmV0dXJuIGc7XG5cbiAgICB2YXIgeCA9IGEudG9SZWQocmVkKS5yZWRQb3coZCk7XG4gICAgaWYgKHguY21wKHJvbmUpID09PSAwIHx8IHguY21wKHJuMSkgPT09IDApXG4gICAgICBjb250aW51ZTtcblxuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgczsgaSsrKSB7XG4gICAgICB4ID0geC5yZWRTcXIoKTtcblxuICAgICAgaWYgKHguY21wKHJvbmUpID09PSAwKVxuICAgICAgICByZXR1cm4geC5mcm9tUmVkKCkuc3VibigxKS5nY2Qobik7XG4gICAgICBpZiAoeC5jbXAocm4xKSA9PT0gMClcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKGkgPT09IHMpIHtcbiAgICAgIHggPSB4LnJlZFNxcigpO1xuICAgICAgcmV0dXJuIHguZnJvbVJlZCgpLnN1Ym4oMSkuZ2NkKG4pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn07XG4iLCJhcmd1bWVudHNbNF1bXCIvaG9tZS91YnVudHUvc3RhZ2luZy9hcHBzL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3JlYXRlLWVjZGgvbm9kZV9tb2R1bGVzL2VsbGlwdGljL25vZGVfbW9kdWxlcy9icm9yYW5kL2luZGV4LmpzXCJdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKSIsImFyZ3VtZW50c1s0XVtcIi9ob21lL3VidW50dS9zdGFnaW5nL2FwcHMvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcmVhdGUtZWNkaC9ub2RlX21vZHVsZXMvYm4uanMvbGliL2JuLmpzXCJdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKSIsIihmdW5jdGlvbiAoQnVmZmVyKXtcbnZhciBlbGxpcHRpYyA9IHJlcXVpcmUoJ2VsbGlwdGljJyk7XG52YXIgQk4gPSByZXF1aXJlKCdibi5qcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZUVDREgoY3VydmUpIHtcblx0cmV0dXJuIG5ldyBFQ0RIKGN1cnZlKTtcbn07XG5cbnZhciBhbGlhc2VzID0ge1xuXHRzZWNwMjU2azE6IHtcblx0XHRuYW1lOiAnc2VjcDI1NmsxJyxcblx0XHRieXRlTGVuZ3RoOiAzMlxuXHR9LFxuXHRzZWNwMjI0cjE6IHtcblx0XHRuYW1lOiAncDIyNCcsXG5cdFx0Ynl0ZUxlbmd0aDogMjhcblx0fSxcblx0cHJpbWUyNTZ2MToge1xuXHRcdG5hbWU6ICdwMjU2Jyxcblx0XHRieXRlTGVuZ3RoOiAzMlxuXHR9LFxuXHRwcmltZTE5MnYxOiB7XG5cdFx0bmFtZTogJ3AxOTInLFxuXHRcdGJ5dGVMZW5ndGg6IDI0XG5cdH0sXG5cdGVkMjU1MTk6IHtcblx0XHRuYW1lOiAnZWQyNTUxOScsXG5cdFx0Ynl0ZUxlbmd0aDogMzJcblx0fVxufTtcblxuYWxpYXNlcy5wMjI0ID0gYWxpYXNlcy5zZWNwMjI0cjE7XG5hbGlhc2VzLnAyNTYgPSBhbGlhc2VzLnNlY3AyNTZyMSA9IGFsaWFzZXMucHJpbWUyNTZ2MTtcbmFsaWFzZXMucDE5MiA9IGFsaWFzZXMuc2VjcDE5MnIxID0gYWxpYXNlcy5wcmltZTE5MnYxO1xuXG5mdW5jdGlvbiBFQ0RIKGN1cnZlKSB7XG5cdHRoaXMuY3VydmVUeXBlID0gYWxpYXNlc1tjdXJ2ZV07XG5cdGlmICghdGhpcy5jdXJ2ZVR5cGUgKSB7XG5cdFx0dGhpcy5jdXJ2ZVR5cGUgPSB7XG5cdFx0XHRuYW1lOiBjdXJ2ZVxuXHRcdH07XG5cdH1cblx0dGhpcy5jdXJ2ZSA9IG5ldyBlbGxpcHRpYy5lYyh0aGlzLmN1cnZlVHlwZS5uYW1lKTtcblx0dGhpcy5rZXlzID0gdm9pZCAwO1xufVxuXG5FQ0RILnByb3RvdHlwZS5nZW5lcmF0ZUtleXMgPSBmdW5jdGlvbiAoZW5jLCBmb3JtYXQpIHtcblx0dGhpcy5rZXlzID0gdGhpcy5jdXJ2ZS5nZW5LZXlQYWlyKCk7XG5cdHJldHVybiB0aGlzLmdldFB1YmxpY0tleShlbmMsIGZvcm1hdCk7XG59O1xuXG5FQ0RILnByb3RvdHlwZS5jb21wdXRlU2VjcmV0ID0gZnVuY3Rpb24gKG90aGVyLCBpbmVuYywgZW5jKSB7XG5cdGluZW5jID0gaW5lbmMgfHwgJ3V0ZjgnO1xuXHRpZiAoIUJ1ZmZlci5pc0J1ZmZlcihvdGhlcikpIHtcblx0XHRvdGhlciA9IG5ldyBCdWZmZXIob3RoZXIsIGluZW5jKTtcblx0fVxuXHR2YXIgb3RoZXJQdWIgPSB0aGlzLmN1cnZlLmtleUZyb21QdWJsaWMob3RoZXIpLmdldFB1YmxpYygpO1xuXHR2YXIgb3V0ID0gb3RoZXJQdWIubXVsKHRoaXMua2V5cy5nZXRQcml2YXRlKCkpLmdldFgoKTtcblx0cmV0dXJuIGZvcm1hdFJldHVyblZhbHVlKG91dCwgZW5jLCB0aGlzLmN1cnZlVHlwZS5ieXRlTGVuZ3RoKTtcbn07XG5cbkVDREgucHJvdG90eXBlLmdldFB1YmxpY0tleSA9IGZ1bmN0aW9uIChlbmMsIGZvcm1hdCkge1xuXHR2YXIga2V5ID0gdGhpcy5rZXlzLmdldFB1YmxpYyhmb3JtYXQgPT09ICdjb21wcmVzc2VkJywgdHJ1ZSk7XG5cdGlmIChmb3JtYXQgPT09ICdoeWJyaWQnKSB7XG5cdFx0aWYgKGtleVtrZXkubGVuZ3RoIC0gMV0gJSAyKSB7XG5cdFx0XHRrZXlbMF0gPSA3O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRrZXkgWzBdID0gNjtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGZvcm1hdFJldHVyblZhbHVlKGtleSwgZW5jKTtcbn07XG5cbkVDREgucHJvdG90eXBlLmdldFByaXZhdGVLZXkgPSBmdW5jdGlvbiAoZW5jKSB7XG5cdHJldHVybiBmb3JtYXRSZXR1cm5WYWx1ZSh0aGlzLmtleXMuZ2V0UHJpdmF0ZSgpLCBlbmMpO1xufTtcblxuRUNESC5wcm90b3R5cGUuc2V0UHVibGljS2V5ID0gZnVuY3Rpb24gKHB1YiwgZW5jKSB7XG5cdGVuYyA9IGVuYyB8fCAndXRmOCc7XG5cdGlmICghQnVmZmVyLmlzQnVmZmVyKHB1YikpIHtcblx0XHRwdWIgPSBuZXcgQnVmZmVyKHB1YiwgZW5jKTtcblx0fVxuXHR0aGlzLmtleXMuX2ltcG9ydFB1YmxpYyhwdWIpO1xuXHRyZXR1cm4gdGhpcztcbn07XG5cbkVDREgucHJvdG90eXBlLnNldFByaXZhdGVLZXkgPSBmdW5jdGlvbiAocHJpdiwgZW5jKSB7XG5cdGVuYyA9IGVuYyB8fCAndXRmOCc7XG5cdGlmICghQnVmZmVyLmlzQnVmZmVyKHByaXYpKSB7XG5cdFx0cHJpdiA9IG5ldyBCdWZmZXIocHJpdiwgZW5jKTtcblx0fVxuXHR2YXIgX3ByaXYgPSBuZXcgQk4ocHJpdik7XG5cdF9wcml2ID0gX3ByaXYudG9TdHJpbmcoMTYpO1xuXHR0aGlzLmtleXMuX2ltcG9ydFByaXZhdGUoX3ByaXYpO1xuXHRyZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIGZvcm1hdFJldHVyblZhbHVlKGJuLCBlbmMsIGxlbikge1xuXHRpZiAoIUFycmF5LmlzQXJyYXkoYm4pKSB7XG5cdFx0Ym4gPSBibi50b0FycmF5KCk7XG5cdH1cblx0dmFyIGJ1ZiA9IG5ldyBCdWZmZXIoYm4pO1xuXHRpZiAobGVuICYmIGJ1Zi5sZW5ndGggPCBsZW4pIHtcblx0XHR2YXIgemVyb3MgPSBuZXcgQnVmZmVyKGxlbiAtIGJ1Zi5sZW5ndGgpO1xuXHRcdHplcm9zLmZpbGwoMCk7XG5cdFx0YnVmID0gQnVmZmVyLmNvbmNhdChbemVyb3MsIGJ1Zl0pO1xuXHR9XG5cdGlmICghZW5jKSB7XG5cdFx0cmV0dXJuIGJ1Zjtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gYnVmLnRvU3RyaW5nKGVuYyk7XG5cdH1cbn1cblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZZM0psWVhSbExXVmpaR2d2WW5KdmQzTmxjaTVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pTzBGQlFVRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRU0lzSW1acGJHVWlPaUpuWlc1bGNtRjBaV1F1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaWRtRnlJR1ZzYkdsd2RHbGpJRDBnY21WeGRXbHlaU2duWld4c2FYQjBhV01uS1R0Y2JuWmhjaUJDVGlBOUlISmxjWFZwY21Vb0oySnVMbXB6SnlrN1hHNWNibTF2WkhWc1pTNWxlSEJ2Y25SeklEMGdablZ1WTNScGIyNGdZM0psWVhSbFJVTkVTQ2hqZFhKMlpTa2dlMXh1WEhSeVpYUjFjbTRnYm1WM0lFVkRSRWdvWTNWeWRtVXBPMXh1ZlR0Y2JseHVkbUZ5SUdGc2FXRnpaWE1nUFNCN1hHNWNkSE5sWTNBeU5UWnJNVG9nZTF4dVhIUmNkRzVoYldVNklDZHpaV053TWpVMmF6RW5MRnh1WEhSY2RHSjVkR1ZNWlc1bmRHZzZJRE15WEc1Y2RIMHNYRzVjZEhObFkzQXlNalJ5TVRvZ2UxeHVYSFJjZEc1aGJXVTZJQ2R3TWpJMEp5eGNibHgwWEhSaWVYUmxUR1Z1WjNSb09pQXlPRnh1WEhSOUxGeHVYSFJ3Y21sdFpUSTFObll4T2lCN1hHNWNkRngwYm1GdFpUb2dKM0F5TlRZbkxGeHVYSFJjZEdKNWRHVk1aVzVuZEdnNklETXlYRzVjZEgwc1hHNWNkSEJ5YVcxbE1Ua3lkakU2SUh0Y2JseDBYSFJ1WVcxbE9pQW5jREU1TWljc1hHNWNkRngwWW5sMFpVeGxibWQwYURvZ01qUmNibHgwZlN4Y2JseDBaV1F5TlRVeE9Ub2dlMXh1WEhSY2RHNWhiV1U2SUNkbFpESTFOVEU1Snl4Y2JseDBYSFJpZVhSbFRHVnVaM1JvT2lBek1seHVYSFI5WEc1OU8xeHVYRzVoYkdsaGMyVnpMbkF5TWpRZ1BTQmhiR2xoYzJWekxuTmxZM0F5TWpSeU1UdGNibUZzYVdGelpYTXVjREkxTmlBOUlHRnNhV0Z6WlhNdWMyVmpjREkxTm5JeElEMGdZV3hwWVhObGN5NXdjbWx0WlRJMU5uWXhPMXh1WVd4cFlYTmxjeTV3TVRreUlEMGdZV3hwWVhObGN5NXpaV053TVRreWNqRWdQU0JoYkdsaGMyVnpMbkJ5YVcxbE1Ua3lkakU3WEc1Y2JtWjFibU4wYVc5dUlFVkRSRWdvWTNWeWRtVXBJSHRjYmx4MGRHaHBjeTVqZFhKMlpWUjVjR1VnUFNCaGJHbGhjMlZ6VzJOMWNuWmxYVHRjYmx4MGFXWWdLQ0YwYUdsekxtTjFjblpsVkhsd1pTQXBJSHRjYmx4MFhIUjBhR2x6TG1OMWNuWmxWSGx3WlNBOUlIdGNibHgwWEhSY2RHNWhiV1U2SUdOMWNuWmxYRzVjZEZ4MGZUdGNibHgwZlZ4dVhIUjBhR2x6TG1OMWNuWmxJRDBnYm1WM0lHVnNiR2x3ZEdsakxtVmpLSFJvYVhNdVkzVnlkbVZVZVhCbExtNWhiV1VwTzF4dVhIUjBhR2x6TG10bGVYTWdQU0IyYjJsa0lEQTdYRzU5WEc1Y2JrVkRSRWd1Y0hKdmRHOTBlWEJsTG1kbGJtVnlZWFJsUzJWNWN5QTlJR1oxYm1OMGFXOXVJQ2hsYm1Nc0lHWnZjbTFoZENrZ2UxeHVYSFIwYUdsekxtdGxlWE1nUFNCMGFHbHpMbU4xY25abExtZGxia3RsZVZCaGFYSW9LVHRjYmx4MGNtVjBkWEp1SUhSb2FYTXVaMlYwVUhWaWJHbGpTMlY1S0dWdVl5d2dabTl5YldGMEtUdGNibjA3WEc1Y2JrVkRSRWd1Y0hKdmRHOTBlWEJsTG1OdmJYQjFkR1ZUWldOeVpYUWdQU0JtZFc1amRHbHZiaUFvYjNSb1pYSXNJR2x1Wlc1akxDQmxibU1wSUh0Y2JseDBhVzVsYm1NZ1BTQnBibVZ1WXlCOGZDQW5kWFJtT0NjN1hHNWNkR2xtSUNnaFFuVm1abVZ5TG1selFuVm1abVZ5S0c5MGFHVnlLU2tnZTF4dVhIUmNkRzkwYUdWeUlEMGdibVYzSUVKMVptWmxjaWh2ZEdobGNpd2dhVzVsYm1NcE8xeHVYSFI5WEc1Y2RIWmhjaUJ2ZEdobGNsQjFZaUE5SUhSb2FYTXVZM1Z5ZG1VdWEyVjVSbkp2YlZCMVlteHBZeWh2ZEdobGNpa3VaMlYwVUhWaWJHbGpLQ2s3WEc1Y2RIWmhjaUJ2ZFhRZ1BTQnZkR2hsY2xCMVlpNXRkV3dvZEdocGN5NXJaWGx6TG1kbGRGQnlhWFpoZEdVb0tTa3VaMlYwV0NncE8xeHVYSFJ5WlhSMWNtNGdabTl5YldGMFVtVjBkWEp1Vm1Gc2RXVW9iM1YwTENCbGJtTXNJSFJvYVhNdVkzVnlkbVZVZVhCbExtSjVkR1ZNWlc1bmRHZ3BPMXh1ZlR0Y2JseHVSVU5FU0M1d2NtOTBiM1I1Y0dVdVoyVjBVSFZpYkdsalMyVjVJRDBnWm5WdVkzUnBiMjRnS0dWdVl5d2dabTl5YldGMEtTQjdYRzVjZEhaaGNpQnJaWGtnUFNCMGFHbHpMbXRsZVhNdVoyVjBVSFZpYkdsaktHWnZjbTFoZENBOVBUMGdKMk52YlhCeVpYTnpaV1FuTENCMGNuVmxLVHRjYmx4MGFXWWdLR1p2Y20xaGRDQTlQVDBnSjJoNVluSnBaQ2NwSUh0Y2JseDBYSFJwWmlBb2EyVjVXMnRsZVM1c1pXNW5kR2dnTFNBeFhTQWxJRElwSUh0Y2JseDBYSFJjZEd0bGVWc3dYU0E5SURjN1hHNWNkRngwZlNCbGJITmxJSHRjYmx4MFhIUmNkR3RsZVNCYk1GMGdQU0EyTzF4dVhIUmNkSDFjYmx4MGZWeHVYSFJ5WlhSMWNtNGdabTl5YldGMFVtVjBkWEp1Vm1Gc2RXVW9hMlY1TENCbGJtTXBPMXh1ZlR0Y2JseHVSVU5FU0M1d2NtOTBiM1I1Y0dVdVoyVjBVSEpwZG1GMFpVdGxlU0E5SUdaMWJtTjBhVzl1SUNobGJtTXBJSHRjYmx4MGNtVjBkWEp1SUdadmNtMWhkRkpsZEhWeWJsWmhiSFZsS0hSb2FYTXVhMlY1Y3k1blpYUlFjbWwyWVhSbEtDa3NJR1Z1WXlrN1hHNTlPMXh1WEc1RlEwUklMbkJ5YjNSdmRIbHdaUzV6WlhSUWRXSnNhV05MWlhrZ1BTQm1kVzVqZEdsdmJpQW9jSFZpTENCbGJtTXBJSHRjYmx4MFpXNWpJRDBnWlc1aklIeDhJQ2QxZEdZNEp6dGNibHgwYVdZZ0tDRkNkV1ptWlhJdWFYTkNkV1ptWlhJb2NIVmlLU2tnZTF4dVhIUmNkSEIxWWlBOUlHNWxkeUJDZFdabVpYSW9jSFZpTENCbGJtTXBPMXh1WEhSOVhHNWNkSFJvYVhNdWEyVjVjeTVmYVcxd2IzSjBVSFZpYkdsaktIQjFZaWs3WEc1Y2RISmxkSFZ5YmlCMGFHbHpPMXh1ZlR0Y2JseHVSVU5FU0M1d2NtOTBiM1I1Y0dVdWMyVjBVSEpwZG1GMFpVdGxlU0E5SUdaMWJtTjBhVzl1SUNod2NtbDJMQ0JsYm1NcElIdGNibHgwWlc1aklEMGdaVzVqSUh4OElDZDFkR1k0Snp0Y2JseDBhV1lnS0NGQ2RXWm1aWEl1YVhOQ2RXWm1aWElvY0hKcGRpa3BJSHRjYmx4MFhIUndjbWwySUQwZ2JtVjNJRUoxWm1abGNpaHdjbWwyTENCbGJtTXBPMXh1WEhSOVhHNWNkSFpoY2lCZmNISnBkaUE5SUc1bGR5QkNUaWh3Y21sMktUdGNibHgwWDNCeWFYWWdQU0JmY0hKcGRpNTBiMU4wY21sdVp5Z3hOaWs3WEc1Y2RIUm9hWE11YTJWNWN5NWZhVzF3YjNKMFVISnBkbUYwWlNoZmNISnBkaWs3WEc1Y2RISmxkSFZ5YmlCMGFHbHpPMXh1ZlR0Y2JseHVablZ1WTNScGIyNGdabTl5YldGMFVtVjBkWEp1Vm1Gc2RXVW9ZbTRzSUdWdVl5d2diR1Z1S1NCN1hHNWNkR2xtSUNnaFFYSnlZWGt1YVhOQmNuSmhlU2hpYmlrcElIdGNibHgwWEhSaWJpQTlJR0p1TG5SdlFYSnlZWGtvS1R0Y2JseDBmVnh1WEhSMllYSWdZblZtSUQwZ2JtVjNJRUoxWm1abGNpaGliaWs3WEc1Y2RHbG1JQ2hzWlc0Z0ppWWdZblZtTG14bGJtZDBhQ0E4SUd4bGJpa2dlMXh1WEhSY2RIWmhjaUI2WlhKdmN5QTlJRzVsZHlCQ2RXWm1aWElvYkdWdUlDMGdZblZtTG14bGJtZDBhQ2s3WEc1Y2RGeDBlbVZ5YjNNdVptbHNiQ2d3S1R0Y2JseDBYSFJpZFdZZ1BTQkNkV1ptWlhJdVkyOXVZMkYwS0Z0NlpYSnZjeXdnWW5WbVhTazdYRzVjZEgxY2JseDBhV1lnS0NGbGJtTXBJSHRjYmx4MFhIUnlaWFIxY200Z1luVm1PMXh1WEhSOUlHVnNjMlVnZTF4dVhIUmNkSEpsZEhWeWJpQmlkV1l1ZEc5VGRISnBibWNvWlc1aktUdGNibHgwZlZ4dWZWeHVJbDE5IiwiYXJndW1lbnRzWzRdW1wiL2hvbWUvdWJ1bnR1L3N0YWdpbmcvYXBwcy9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvZWxsaXB0aWMvbGliL2VsbGlwdGljLmpzXCJdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKSIsIm1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPWFyZ3VtZW50c1s0XVtcIi9ob21lL3VidW50dS9zdGFnaW5nL2FwcHMvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL2VsbGlwdGljL3BhY2thZ2UuanNvblwiXVswXS5hcHBseShleHBvcnRzLGFyZ3VtZW50cykiLCJhcmd1bWVudHNbNF1bXCIvaG9tZS91YnVudHUvc3RhZ2luZy9hcHBzL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9ub2RlX21vZHVsZXMvYnJvcmFuZC9pbmRleC5qc1wiXVswXS5hcHBseShleHBvcnRzLGFyZ3VtZW50cykiLCJhcmd1bWVudHNbNF1bXCIvaG9tZS91YnVudHUvc3RhZ2luZy9hcHBzL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9saWIvZWxsaXB0aWMvdXRpbHMuanNcIl1bMF0uYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpIiwiYXJndW1lbnRzWzRdW1wiL2hvbWUvdWJ1bnR1L3N0YWdpbmcvYXBwcy9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvZWxsaXB0aWMvbGliL2VsbGlwdGljL2htYWMtZHJiZy5qc1wiXVswXS5hcHBseShleHBvcnRzLGFyZ3VtZW50cykiLCJhcmd1bWVudHNbNF1bXCIvaG9tZS91YnVudHUvc3RhZ2luZy9hcHBzL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9saWIvZWxsaXB0aWMvZWMvaW5kZXguanNcIl1bMF0uYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpIiwiYXJndW1lbnRzWzRdW1wiL2hvbWUvdWJ1bnR1L3N0YWdpbmcvYXBwcy9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvZWxsaXB0aWMvbGliL2VsbGlwdGljL2VjL3NpZ25hdHVyZS5qc1wiXVswXS5hcHBseShleHBvcnRzLGFyZ3VtZW50cykiLCJhcmd1bWVudHNbNF1bXCIvaG9tZS91YnVudHUvc3RhZ2luZy9hcHBzL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9saWIvZWxsaXB0aWMvZWMva2V5LmpzXCJdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKSIsImFyZ3VtZW50c1s0XVtcIi9ob21lL3VidW50dS9zdGFnaW5nL2FwcHMvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL2VsbGlwdGljL2xpYi9lbGxpcHRpYy9jdXJ2ZXMuanNcIl1bMF0uYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpIiwiYXJndW1lbnRzWzRdW1wiL2hvbWUvdWJ1bnR1L3N0YWdpbmcvYXBwcy9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvZWxsaXB0aWMvbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2guanNcIl1bMF0uYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpIiwiYXJndW1lbnRzWzRdW1wiL2hvbWUvdWJ1bnR1L3N0YWdpbmcvYXBwcy9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvZWxsaXB0aWMvbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvdXRpbHMuanNcIl1bMF0uYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpIiwiYXJndW1lbnRzWzRdW1wiL2hvbWUvdWJ1bnR1L3N0YWdpbmcvYXBwcy9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvZWxsaXB0aWMvbm9kZV9tb2R1bGVzL2hhc2guanMvbGliL2hhc2gvc2hhLmpzXCJdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKSIsImFyZ3VtZW50c1s0XVtcIi9ob21lL3VidW50dS9zdGFnaW5nL2FwcHMvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL2VsbGlwdGljL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL3JpcGVtZC5qc1wiXVswXS5hcHBseShleHBvcnRzLGFyZ3VtZW50cykiLCJhcmd1bWVudHNbNF1bXCIvaG9tZS91YnVudHUvc3RhZ2luZy9hcHBzL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9ub2RlX21vZHVsZXMvaGFzaC5qcy9saWIvaGFzaC9obWFjLmpzXCJdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKSIsImFyZ3VtZW50c1s0XVtcIi9ob21lL3VidW50dS9zdGFnaW5nL2FwcHMvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL2VsbGlwdGljL25vZGVfbW9kdWxlcy9oYXNoLmpzL2xpYi9oYXNoL2NvbW1vbi5qc1wiXVswXS5hcHBseShleHBvcnRzLGFyZ3VtZW50cykiLCJhcmd1bWVudHNbNF1bXCIvaG9tZS91YnVudHUvc3RhZ2luZy9hcHBzL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9saWIvZWxsaXB0aWMvcHJlY29tcHV0ZWQvc2VjcDI1NmsxLmpzXCJdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKSIsImFyZ3VtZW50c1s0XVtcIi9ob21lL3VidW50dS9zdGFnaW5nL2FwcHMvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24vbm9kZV9tb2R1bGVzL2VsbGlwdGljL2xpYi9lbGxpcHRpYy9jdXJ2ZS9pbmRleC5qc1wiXVswXS5hcHBseShleHBvcnRzLGFyZ3VtZW50cykiLCJhcmd1bWVudHNbNF1bXCIvaG9tZS91YnVudHUvc3RhZ2luZy9hcHBzL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1zaWduL25vZGVfbW9kdWxlcy9lbGxpcHRpYy9saWIvZWxsaXB0aWMvY3VydmUvc2hvcnQuanNcIl1bMF0uYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpIiwiYXJndW1lbnRzWzRdW1wiL2hvbWUvdWJ1bnR1L3N0YWdpbmcvYXBwcy9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvZWxsaXB0aWMvbGliL2VsbGlwdGljL2N1cnZlL21vbnQuanNcIl1bMF0uYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpIiwiYXJndW1lbnRzWzRdW1wiL2hvbWUvdWJ1bnR1L3N0YWdpbmcvYXBwcy9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvZWxsaXB0aWMvbGliL2VsbGlwdGljL2N1cnZlL2Vkd2FyZHMuanNcIl1bMF0uYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpIiwiYXJndW1lbnRzWzRdW1wiL2hvbWUvdWJ1bnR1L3N0YWdpbmcvYXBwcy9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvZWxsaXB0aWMvbGliL2VsbGlwdGljL2N1cnZlL2Jhc2UuanNcIl1bMF0uYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpIiwiYXJndW1lbnRzWzRdW1wiL2hvbWUvdWJ1bnR1L3N0YWdpbmcvYXBwcy9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbi9ub2RlX21vZHVsZXMvYm4uanMvbGliL2JuLmpzXCJdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKSIsIihmdW5jdGlvbiAoQnVmZmVyKXtcbnZhciBfYWxnb3MgPSByZXF1aXJlKCcuL2FsZ29zJylcbnZhciBjcmVhdGVIYXNoID0gcmVxdWlyZSgnY3JlYXRlLWhhc2gnKVxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxudmFyIHNpZ24gPSByZXF1aXJlKCcuL3NpZ24nKVxudmFyIHN0cmVhbSA9IHJlcXVpcmUoJ3N0cmVhbScpXG52YXIgdmVyaWZ5ID0gcmVxdWlyZSgnLi92ZXJpZnknKVxuXG52YXIgYWxnb3MgPSB7fVxuT2JqZWN0LmtleXMoX2FsZ29zKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgYWxnb3Nba2V5XSA9IGFsZ29zW2tleS50b0xvd2VyQ2FzZSgpXSA9IF9hbGdvc1trZXldXG59KVxuXG5mdW5jdGlvbiBTaWduIChhbGdvcml0aG0pIHtcbiAgc3RyZWFtLldyaXRhYmxlLmNhbGwodGhpcylcblxuICB2YXIgZGF0YSA9IGFsZ29zW2FsZ29yaXRobV1cbiAgaWYgKCFkYXRhKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIG1lc3NhZ2UgZGlnZXN0JylcbiAgfVxuXG4gIHRoaXMuX2hhc2hUeXBlID0gZGF0YS5oYXNoXG4gIHRoaXMuX2hhc2ggPSBjcmVhdGVIYXNoKGRhdGEuaGFzaClcbiAgdGhpcy5fdGFnID0gZGF0YS5pZFxuICB0aGlzLl9zaWduVHlwZSA9IGRhdGEuc2lnblxufVxuaW5oZXJpdHMoU2lnbiwgc3RyZWFtLldyaXRhYmxlKVxuXG5TaWduLnByb3RvdHlwZS5fd3JpdGUgPSBmdW5jdGlvbiBfd3JpdGUgKGRhdGEsIF8sIGRvbmUpIHtcbiAgdGhpcy5faGFzaC51cGRhdGUoZGF0YSlcbiAgZG9uZSgpXG59XG5cblNpZ24ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoZGF0YSwgZW5jKSB7XG4gIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICBkYXRhID0gbmV3IEJ1ZmZlcihkYXRhLCBlbmMpXG4gIH1cblxuICB0aGlzLl9oYXNoLnVwZGF0ZShkYXRhKVxuICByZXR1cm4gdGhpc1xufVxuXG5TaWduLnByb3RvdHlwZS5zaWduID0gZnVuY3Rpb24gc2lnbk1ldGhvZCAoa2V5LCBlbmMpIHtcbiAgdGhpcy5lbmQoKVxuICB2YXIgaGFzaCA9IHRoaXMuX2hhc2guZGlnZXN0KClcbiAgdmFyIHNpZyA9IHNpZ24oQnVmZmVyLmNvbmNhdChbdGhpcy5fdGFnLCBoYXNoXSksIGtleSwgdGhpcy5faGFzaFR5cGUsIHRoaXMuX3NpZ25UeXBlKVxuXG4gIHJldHVybiBlbmMgPyBzaWcudG9TdHJpbmcoZW5jKSA6IHNpZ1xufVxuXG5mdW5jdGlvbiBWZXJpZnkgKGFsZ29yaXRobSkge1xuICBzdHJlYW0uV3JpdGFibGUuY2FsbCh0aGlzKVxuXG4gIHZhciBkYXRhID0gYWxnb3NbYWxnb3JpdGhtXVxuICBpZiAoIWRhdGEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gbWVzc2FnZSBkaWdlc3QnKVxuICB9XG5cbiAgdGhpcy5faGFzaCA9IGNyZWF0ZUhhc2goZGF0YS5oYXNoKVxuICB0aGlzLl90YWcgPSBkYXRhLmlkXG4gIHRoaXMuX3NpZ25UeXBlID0gZGF0YS5zaWduXG59XG5pbmhlcml0cyhWZXJpZnksIHN0cmVhbS5Xcml0YWJsZSlcblxuVmVyaWZ5LnByb3RvdHlwZS5fd3JpdGUgPSBmdW5jdGlvbiBfd3JpdGUgKGRhdGEsIF8sIGRvbmUpIHtcbiAgdGhpcy5faGFzaC51cGRhdGUoZGF0YSlcblxuICBkb25lKClcbn1cblxuVmVyaWZ5LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKGRhdGEsIGVuYykge1xuICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgZGF0YSA9IG5ldyBCdWZmZXIoZGF0YSwgZW5jKVxuICB9XG5cbiAgdGhpcy5faGFzaC51cGRhdGUoZGF0YSlcbiAgcmV0dXJuIHRoaXNcbn1cblxuVmVyaWZ5LnByb3RvdHlwZS52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnlNZXRob2QgKGtleSwgc2lnLCBlbmMpIHtcbiAgaWYgKHR5cGVvZiBzaWcgPT09ICdzdHJpbmcnKSB7XG4gICAgc2lnID0gbmV3IEJ1ZmZlcihzaWcsIGVuYylcbiAgfVxuXG4gIHRoaXMuZW5kKClcbiAgdmFyIGhhc2ggPSB0aGlzLl9oYXNoLmRpZ2VzdCgpXG5cbiAgcmV0dXJuIHZlcmlmeShzaWcsIEJ1ZmZlci5jb25jYXQoW3RoaXMuX3RhZywgaGFzaF0pLCBrZXksIHRoaXMuX3NpZ25UeXBlKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTaWduIChhbGdvcml0aG0pIHtcbiAgcmV0dXJuIG5ldyBTaWduKGFsZ29yaXRobSlcbn1cblxuZnVuY3Rpb24gY3JlYXRlVmVyaWZ5IChhbGdvcml0aG0pIHtcbiAgcmV0dXJuIG5ldyBWZXJpZnkoYWxnb3JpdGhtKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgU2lnbjogY3JlYXRlU2lnbixcbiAgVmVyaWZ5OiBjcmVhdGVWZXJpZnksXG4gIGNyZWF0ZVNpZ246IGNyZWF0ZVNpZ24sXG4gIGNyZWF0ZVZlcmlmeTogY3JlYXRlVmVyaWZ5XG59XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12WW5KdmQzTmxjbWxtZVMxemFXZHVMMkp5YjNkelpYSXVhbk1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJanRCUVVGQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRWlMQ0ptYVd4bElqb2laMlZ1WlhKaGRHVmtMbXB6SWl3aWMyOTFjbU5sVW05dmRDSTZJaUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSW5aaGNpQmZZV3huYjNNZ1BTQnlaWEYxYVhKbEtDY3VMMkZzWjI5ekp5bGNiblpoY2lCamNtVmhkR1ZJWVhOb0lEMGdjbVZ4ZFdseVpTZ25ZM0psWVhSbExXaGhjMmduS1Z4dWRtRnlJR2x1YUdWeWFYUnpJRDBnY21WeGRXbHlaU2duYVc1b1pYSnBkSE1uS1Z4dWRtRnlJSE5wWjI0Z1BTQnlaWEYxYVhKbEtDY3VMM05wWjI0bktWeHVkbUZ5SUhOMGNtVmhiU0E5SUhKbGNYVnBjbVVvSjNOMGNtVmhiU2NwWEc1MllYSWdkbVZ5YVdaNUlEMGdjbVZ4ZFdseVpTZ25MaTkyWlhKcFpua25LVnh1WEc1MllYSWdZV3huYjNNZ1BTQjdmVnh1VDJKcVpXTjBMbXRsZVhNb1gyRnNaMjl6S1M1bWIzSkZZV05vS0daMWJtTjBhVzl1SUNoclpYa3BJSHRjYmlBZ1lXeG5iM05iYTJWNVhTQTlJR0ZzWjI5elcydGxlUzUwYjB4dmQyVnlRMkZ6WlNncFhTQTlJRjloYkdkdmMxdHJaWGxkWEc1OUtWeHVYRzVtZFc1amRHbHZiaUJUYVdkdUlDaGhiR2R2Y21sMGFHMHBJSHRjYmlBZ2MzUnlaV0Z0TGxkeWFYUmhZbXhsTG1OaGJHd29kR2hwY3lsY2JseHVJQ0IyWVhJZ1pHRjBZU0E5SUdGc1oyOXpXMkZzWjI5eWFYUm9iVjFjYmlBZ2FXWWdLQ0ZrWVhSaEtTQjdYRzRnSUNBZ2RHaHliM2NnYm1WM0lFVnljbTl5S0NkVmJtdHViM2R1SUcxbGMzTmhaMlVnWkdsblpYTjBKeWxjYmlBZ2ZWeHVYRzRnSUhSb2FYTXVYMmhoYzJoVWVYQmxJRDBnWkdGMFlTNW9ZWE5vWEc0Z0lIUm9hWE11WDJoaGMyZ2dQU0JqY21WaGRHVklZWE5vS0dSaGRHRXVhR0Z6YUNsY2JpQWdkR2hwY3k1ZmRHRm5JRDBnWkdGMFlTNXBaRnh1SUNCMGFHbHpMbDl6YVdkdVZIbHdaU0E5SUdSaGRHRXVjMmxuYmx4dWZWeHVhVzVvWlhKcGRITW9VMmxuYml3Z2MzUnlaV0Z0TGxkeWFYUmhZbXhsS1Z4dVhHNVRhV2R1TG5CeWIzUnZkSGx3WlM1ZmQzSnBkR1VnUFNCbWRXNWpkR2x2YmlCZmQzSnBkR1VnS0dSaGRHRXNJRjhzSUdSdmJtVXBJSHRjYmlBZ2RHaHBjeTVmYUdGemFDNTFjR1JoZEdVb1pHRjBZU2xjYmlBZ1pHOXVaU2dwWEc1OVhHNWNibE5wWjI0dWNISnZkRzkwZVhCbExuVndaR0YwWlNBOUlHWjFibU4wYVc5dUlIVndaR0YwWlNBb1pHRjBZU3dnWlc1aktTQjdYRzRnSUdsbUlDaDBlWEJsYjJZZ1pHRjBZU0E5UFQwZ0ozTjBjbWx1WnljcElIdGNiaUFnSUNCa1lYUmhJRDBnYm1WM0lFSjFabVpsY2loa1lYUmhMQ0JsYm1NcFhHNGdJSDFjYmx4dUlDQjBhR2x6TGw5b1lYTm9MblZ3WkdGMFpTaGtZWFJoS1Z4dUlDQnlaWFIxY200Z2RHaHBjMXh1ZlZ4dVhHNVRhV2R1TG5CeWIzUnZkSGx3WlM1emFXZHVJRDBnWm5WdVkzUnBiMjRnYzJsbmJrMWxkR2h2WkNBb2EyVjVMQ0JsYm1NcElIdGNiaUFnZEdocGN5NWxibVFvS1Z4dUlDQjJZWElnYUdGemFDQTlJSFJvYVhNdVgyaGhjMmd1WkdsblpYTjBLQ2xjYmlBZ2RtRnlJSE5wWnlBOUlITnBaMjRvUW5WbVptVnlMbU52Ym1OaGRDaGJkR2hwY3k1ZmRHRm5MQ0JvWVhOb1hTa3NJR3RsZVN3Z2RHaHBjeTVmYUdGemFGUjVjR1VzSUhSb2FYTXVYM05wWjI1VWVYQmxLVnh1WEc0Z0lISmxkSFZ5YmlCbGJtTWdQeUJ6YVdjdWRHOVRkSEpwYm1jb1pXNWpLU0E2SUhOcFoxeHVmVnh1WEc1bWRXNWpkR2x2YmlCV1pYSnBabmtnS0dGc1oyOXlhWFJvYlNrZ2UxeHVJQ0J6ZEhKbFlXMHVWM0pwZEdGaWJHVXVZMkZzYkNoMGFHbHpLVnh1WEc0Z0lIWmhjaUJrWVhSaElEMGdZV3huYjNOYllXeG5iM0pwZEdodFhWeHVJQ0JwWmlBb0lXUmhkR0VwSUh0Y2JpQWdJQ0IwYUhKdmR5QnVaWGNnUlhKeWIzSW9KMVZ1YTI1dmQyNGdiV1Z6YzJGblpTQmthV2RsYzNRbktWeHVJQ0I5WEc1Y2JpQWdkR2hwY3k1ZmFHRnphQ0E5SUdOeVpXRjBaVWhoYzJnb1pHRjBZUzVvWVhOb0tWeHVJQ0IwYUdsekxsOTBZV2NnUFNCa1lYUmhMbWxrWEc0Z0lIUm9hWE11WDNOcFoyNVVlWEJsSUQwZ1pHRjBZUzV6YVdkdVhHNTlYRzVwYm1obGNtbDBjeWhXWlhKcFpua3NJSE4wY21WaGJTNVhjbWwwWVdKc1pTbGNibHh1Vm1WeWFXWjVMbkJ5YjNSdmRIbHdaUzVmZDNKcGRHVWdQU0JtZFc1amRHbHZiaUJmZDNKcGRHVWdLR1JoZEdFc0lGOHNJR1J2Ym1VcElIdGNiaUFnZEdocGN5NWZhR0Z6YUM1MWNHUmhkR1VvWkdGMFlTbGNibHh1SUNCa2IyNWxLQ2xjYm4xY2JseHVWbVZ5YVdaNUxuQnliM1J2ZEhsd1pTNTFjR1JoZEdVZ1BTQm1kVzVqZEdsdmJpQjFjR1JoZEdVZ0tHUmhkR0VzSUdWdVl5a2dlMXh1SUNCcFppQW9kSGx3Wlc5bUlHUmhkR0VnUFQwOUlDZHpkSEpwYm1jbktTQjdYRzRnSUNBZ1pHRjBZU0E5SUc1bGR5QkNkV1ptWlhJb1pHRjBZU3dnWlc1aktWeHVJQ0I5WEc1Y2JpQWdkR2hwY3k1ZmFHRnphQzUxY0dSaGRHVW9aR0YwWVNsY2JpQWdjbVYwZFhKdUlIUm9hWE5jYm4xY2JseHVWbVZ5YVdaNUxuQnliM1J2ZEhsd1pTNTJaWEpwWm5rZ1BTQm1kVzVqZEdsdmJpQjJaWEpwWm5sTlpYUm9iMlFnS0d0bGVTd2djMmxuTENCbGJtTXBJSHRjYmlBZ2FXWWdLSFI1Y0dWdlppQnphV2NnUFQwOUlDZHpkSEpwYm1jbktTQjdYRzRnSUNBZ2MybG5JRDBnYm1WM0lFSjFabVpsY2loemFXY3NJR1Z1WXlsY2JpQWdmVnh1WEc0Z0lIUm9hWE11Wlc1a0tDbGNiaUFnZG1GeUlHaGhjMmdnUFNCMGFHbHpMbDlvWVhOb0xtUnBaMlZ6ZENncFhHNWNiaUFnY21WMGRYSnVJSFpsY21sbWVTaHphV2NzSUVKMVptWmxjaTVqYjI1allYUW9XM1JvYVhNdVgzUmhaeXdnYUdGemFGMHBMQ0JyWlhrc0lIUm9hWE11WDNOcFoyNVVlWEJsS1Z4dWZWeHVYRzVtZFc1amRHbHZiaUJqY21WaGRHVlRhV2R1SUNoaGJHZHZjbWwwYUcwcElIdGNiaUFnY21WMGRYSnVJRzVsZHlCVGFXZHVLR0ZzWjI5eWFYUm9iU2xjYm4xY2JseHVablZ1WTNScGIyNGdZM0psWVhSbFZtVnlhV1o1SUNoaGJHZHZjbWwwYUcwcElIdGNiaUFnY21WMGRYSnVJRzVsZHlCV1pYSnBabmtvWVd4bmIzSnBkR2h0S1Z4dWZWeHVYRzV0YjJSMWJHVXVaWGh3YjNKMGN5QTlJSHRjYmlBZ1UybG5iam9nWTNKbFlYUmxVMmxuYml4Y2JpQWdWbVZ5YVdaNU9pQmpjbVZoZEdWV1pYSnBabmtzWEc0Z0lHTnlaV0YwWlZOcFoyNDZJR055WldGMFpWTnBaMjRzWEc0Z0lHTnlaV0YwWlZabGNtbG1lVG9nWTNKbFlYUmxWbVZ5YVdaNVhHNTlYRzRpWFgwPSIsIihmdW5jdGlvbiAoQnVmZmVyKXtcbi8vIG11Y2ggb2YgdGhpcyBiYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vaW5kdXRueS9zZWxmLXNpZ25lZC9ibG9iL2doLXBhZ2VzL2xpYi9yc2EuanNcbnZhciBjdXJ2ZXMgPSByZXF1aXJlKCcuL2N1cnZlcycpXG52YXIgZWxsaXB0aWMgPSByZXF1aXJlKCdlbGxpcHRpYycpXG52YXIgcGFyc2VLZXlzID0gcmVxdWlyZSgncGFyc2UtYXNuMScpXG5cbnZhciBCTiA9IHJlcXVpcmUoJ2JuLmpzJylcbnZhciBFQyA9IGVsbGlwdGljLmVjXG5cbmZ1bmN0aW9uIHZlcmlmeSAoc2lnLCBoYXNoLCBrZXksIHNpZ25UeXBlKSB7XG4gIHZhciBwdWIgPSBwYXJzZUtleXMoa2V5KVxuICBpZiAocHViLnR5cGUgPT09ICdlYycpIHtcbiAgICBpZiAoc2lnblR5cGUgIT09ICdlY2RzYScpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignd3JvbmcgcHVibGljIGtleSB0eXBlJylcbiAgICB9XG4gICAgcmV0dXJuIGVjVmVyaWZ5KHNpZywgaGFzaCwgcHViKVxuICB9IGVsc2UgaWYgKHB1Yi50eXBlID09PSAnZHNhJykge1xuICAgIGlmIChzaWduVHlwZSAhPT0gJ2RzYScpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignd3JvbmcgcHVibGljIGtleSB0eXBlJylcbiAgICB9XG4gICAgcmV0dXJuIGRzYVZlcmlmeShzaWcsIGhhc2gsIHB1YilcbiAgfSBlbHNlIHtcbiAgICBpZiAoc2lnblR5cGUgIT09ICdyc2EnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3dyb25nIHB1YmxpYyBrZXkgdHlwZScpXG4gICAgfVxuICB9XG4gIHZhciBsZW4gPSBwdWIubW9kdWx1cy5ieXRlTGVuZ3RoKClcbiAgdmFyIHBhZCA9IFsgMSBdXG4gIHZhciBwYWROdW0gPSAwXG4gIHdoaWxlIChoYXNoLmxlbmd0aCArIHBhZC5sZW5ndGggKyAyIDwgbGVuKSB7XG4gICAgcGFkLnB1c2goMHhmZilcbiAgICBwYWROdW0rK1xuICB9XG4gIHBhZC5wdXNoKDB4MDApXG4gIHZhciBpID0gLTFcbiAgd2hpbGUgKCsraSA8IGhhc2gubGVuZ3RoKSB7XG4gICAgcGFkLnB1c2goaGFzaFtpXSlcbiAgfVxuICBwYWQgPSBuZXcgQnVmZmVyKHBhZClcbiAgdmFyIHJlZCA9IEJOLm1vbnQocHViLm1vZHVsdXMpXG4gIHNpZyA9IG5ldyBCTihzaWcpLnRvUmVkKHJlZClcblxuICBzaWcgPSBzaWcucmVkUG93KG5ldyBCTihwdWIucHVibGljRXhwb25lbnQpKVxuXG4gIHNpZyA9IG5ldyBCdWZmZXIoc2lnLmZyb21SZWQoKS50b0FycmF5KCkpXG4gIHZhciBvdXQgPSAwXG4gIGlmIChwYWROdW0gPCA4KSB7XG4gICAgb3V0ID0gMVxuICB9XG4gIGxlbiA9IE1hdGgubWluKHNpZy5sZW5ndGgsIHBhZC5sZW5ndGgpXG4gIGlmIChzaWcubGVuZ3RoICE9PSBwYWQubGVuZ3RoKSB7XG4gICAgb3V0ID0gMVxuICB9XG5cbiAgaSA9IC0xXG4gIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICBvdXQgfD0gKHNpZ1tpXSBeIHBhZFtpXSlcbiAgfVxuICByZXR1cm4gb3V0ID09PSAwXG59XG5cbmZ1bmN0aW9uIGVjVmVyaWZ5IChzaWcsIGhhc2gsIHB1Yikge1xuICB2YXIgY3VydmVJZCA9IGN1cnZlc1twdWIuZGF0YS5hbGdvcml0aG0uY3VydmUuam9pbignLicpXVxuICBpZiAoIWN1cnZlSWQpIHRocm93IG5ldyBFcnJvcigndW5rbm93biBjdXJ2ZSAnICsgcHViLmRhdGEuYWxnb3JpdGhtLmN1cnZlLmpvaW4oJy4nKSlcblxuICB2YXIgY3VydmUgPSBuZXcgRUMoY3VydmVJZClcbiAgdmFyIHB1YmtleSA9IHB1Yi5kYXRhLnN1YmplY3RQcml2YXRlS2V5LmRhdGFcblxuICByZXR1cm4gY3VydmUudmVyaWZ5KGhhc2gsIHNpZywgcHVia2V5KVxufVxuXG5mdW5jdGlvbiBkc2FWZXJpZnkgKHNpZywgaGFzaCwgcHViKSB7XG4gIHZhciBwID0gcHViLmRhdGEucFxuICB2YXIgcSA9IHB1Yi5kYXRhLnFcbiAgdmFyIGcgPSBwdWIuZGF0YS5nXG4gIHZhciB5ID0gcHViLmRhdGEucHViX2tleVxuICB2YXIgdW5wYWNrZWQgPSBwYXJzZUtleXMuc2lnbmF0dXJlLmRlY29kZShzaWcsICdkZXInKVxuICB2YXIgcyA9IHVucGFja2VkLnNcbiAgdmFyIHIgPSB1bnBhY2tlZC5yXG4gIGNoZWNrVmFsdWUocywgcSlcbiAgY2hlY2tWYWx1ZShyLCBxKVxuICB2YXIgbW9udHAgPSBCTi5tb250KHApXG4gIHZhciB3ID0gcy5pbnZtKHEpXG4gIHZhciB2ID0gZy50b1JlZChtb250cClcbiAgICAucmVkUG93KG5ldyBCTihoYXNoKS5tdWwodykubW9kKHEpKVxuICAgIC5mcm9tUmVkKClcbiAgICAubXVsKFxuICAgICAgeS50b1JlZChtb250cClcbiAgICAgICAgLnJlZFBvdyhyLm11bCh3KS5tb2QocSkpXG4gICAgICAgIC5mcm9tUmVkKClcbiAgKS5tb2QocCkubW9kKHEpXG4gIHJldHVybiAhdi5jbXAocilcbn1cblxuZnVuY3Rpb24gY2hlY2tWYWx1ZSAoYiwgcSkge1xuICBpZiAoYi5jbXBuKDApIDw9IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgc2lnJylcbiAgfVxuICBpZiAoYi5jbXAocSkgPj0gcSkge1xuICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBzaWcnKVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdmVyaWZ5XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12WW5KdmQzTmxjbWxtZVMxemFXZHVMM1psY21sbWVTNXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPMEZCUVVFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFTSXNJbVpwYkdVaU9pSm5aVzVsY21GMFpXUXVhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpTHk4Z2JYVmphQ0J2WmlCMGFHbHpJR0poYzJWa0lHOXVJR2gwZEhCek9pOHZaMmwwYUhWaUxtTnZiUzlwYm1SMWRHNTVMM05sYkdZdGMybG5ibVZrTDJKc2IySXZaMmd0Y0dGblpYTXZiR2xpTDNKellTNXFjMXh1ZG1GeUlHTjFjblpsY3lBOUlISmxjWFZwY21Vb0p5NHZZM1Z5ZG1Wekp5bGNiblpoY2lCbGJHeHBjSFJwWXlBOUlISmxjWFZwY21Vb0oyVnNiR2x3ZEdsakp5bGNiblpoY2lCd1lYSnpaVXRsZVhNZ1BTQnlaWEYxYVhKbEtDZHdZWEp6WlMxaGMyNHhKeWxjYmx4dWRtRnlJRUpPSUQwZ2NtVnhkV2x5WlNnblltNHVhbk1uS1Z4dWRtRnlJRVZESUQwZ1pXeHNhWEIwYVdNdVpXTmNibHh1Wm5WdVkzUnBiMjRnZG1WeWFXWjVJQ2h6YVdjc0lHaGhjMmdzSUd0bGVTd2djMmxuYmxSNWNHVXBJSHRjYmlBZ2RtRnlJSEIxWWlBOUlIQmhjbk5sUzJWNWN5aHJaWGtwWEc0Z0lHbG1JQ2h3ZFdJdWRIbHdaU0E5UFQwZ0oyVmpKeWtnZTF4dUlDQWdJR2xtSUNoemFXZHVWSGx3WlNBaFBUMGdKMlZqWkhOaEp5a2dlMXh1SUNBZ0lDQWdkR2h5YjNjZ2JtVjNJRVZ5Y205eUtDZDNjbTl1WnlCd2RXSnNhV01nYTJWNUlIUjVjR1VuS1Z4dUlDQWdJSDFjYmlBZ0lDQnlaWFIxY200Z1pXTldaWEpwWm5rb2MybG5MQ0JvWVhOb0xDQndkV0lwWEc0Z0lIMGdaV3h6WlNCcFppQW9jSFZpTG5SNWNHVWdQVDA5SUNka2MyRW5LU0I3WEc0Z0lDQWdhV1lnS0hOcFoyNVVlWEJsSUNFOVBTQW5aSE5oSnlrZ2UxeHVJQ0FnSUNBZ2RHaHliM2NnYm1WM0lFVnljbTl5S0NkM2NtOXVaeUJ3ZFdKc2FXTWdhMlY1SUhSNWNHVW5LVnh1SUNBZ0lIMWNiaUFnSUNCeVpYUjFjbTRnWkhOaFZtVnlhV1o1S0hOcFp5d2dhR0Z6YUN3Z2NIVmlLVnh1SUNCOUlHVnNjMlVnZTF4dUlDQWdJR2xtSUNoemFXZHVWSGx3WlNBaFBUMGdKM0p6WVNjcElIdGNiaUFnSUNBZ0lIUm9jbTkzSUc1bGR5QkZjbkp2Y2lnbmQzSnZibWNnY0hWaWJHbGpJR3RsZVNCMGVYQmxKeWxjYmlBZ0lDQjlYRzRnSUgxY2JpQWdkbUZ5SUd4bGJpQTlJSEIxWWk1dGIyUjFiSFZ6TG1KNWRHVk1aVzVuZEdnb0tWeHVJQ0IyWVhJZ2NHRmtJRDBnV3lBeElGMWNiaUFnZG1GeUlIQmhaRTUxYlNBOUlEQmNiaUFnZDJocGJHVWdLR2hoYzJndWJHVnVaM1JvSUNzZ2NHRmtMbXhsYm1kMGFDQXJJRElnUENCc1pXNHBJSHRjYmlBZ0lDQndZV1F1Y0hWemFDZ3dlR1ptS1Z4dUlDQWdJSEJoWkU1MWJTc3JYRzRnSUgxY2JpQWdjR0ZrTG5CMWMyZ29NSGd3TUNsY2JpQWdkbUZ5SUdrZ1BTQXRNVnh1SUNCM2FHbHNaU0FvS3l0cElEd2dhR0Z6YUM1c1pXNW5kR2dwSUh0Y2JpQWdJQ0J3WVdRdWNIVnphQ2hvWVhOb1cybGRLVnh1SUNCOVhHNGdJSEJoWkNBOUlHNWxkeUJDZFdabVpYSW9jR0ZrS1Z4dUlDQjJZWElnY21Wa0lEMGdRazR1Ylc5dWRDaHdkV0l1Ylc5a2RXeDFjeWxjYmlBZ2MybG5JRDBnYm1WM0lFSk9LSE5wWnlrdWRHOVNaV1FvY21Wa0tWeHVYRzRnSUhOcFp5QTlJSE5wWnk1eVpXUlFiM2NvYm1WM0lFSk9LSEIxWWk1d2RXSnNhV05GZUhCdmJtVnVkQ2twWEc1Y2JpQWdjMmxuSUQwZ2JtVjNJRUoxWm1abGNpaHphV2N1Wm5KdmJWSmxaQ2dwTG5SdlFYSnlZWGtvS1NsY2JpQWdkbUZ5SUc5MWRDQTlJREJjYmlBZ2FXWWdLSEJoWkU1MWJTQThJRGdwSUh0Y2JpQWdJQ0J2ZFhRZ1BTQXhYRzRnSUgxY2JpQWdiR1Z1SUQwZ1RXRjBhQzV0YVc0b2MybG5MbXhsYm1kMGFDd2djR0ZrTG14bGJtZDBhQ2xjYmlBZ2FXWWdLSE5wWnk1c1pXNW5kR2dnSVQwOUlIQmhaQzVzWlc1bmRHZ3BJSHRjYmlBZ0lDQnZkWFFnUFNBeFhHNGdJSDFjYmx4dUlDQnBJRDBnTFRGY2JpQWdkMmhwYkdVZ0tDc3JhU0E4SUd4bGJpa2dlMXh1SUNBZ0lHOTFkQ0I4UFNBb2MybG5XMmxkSUY0Z2NHRmtXMmxkS1Z4dUlDQjlYRzRnSUhKbGRIVnliaUJ2ZFhRZ1BUMDlJREJjYm4xY2JseHVablZ1WTNScGIyNGdaV05XWlhKcFpua2dLSE5wWnl3Z2FHRnphQ3dnY0hWaUtTQjdYRzRnSUhaaGNpQmpkWEoyWlVsa0lEMGdZM1Z5ZG1WelczQjFZaTVrWVhSaExtRnNaMjl5YVhSb2JTNWpkWEoyWlM1cWIybHVLQ2N1SnlsZFhHNGdJR2xtSUNnaFkzVnlkbVZKWkNrZ2RHaHliM2NnYm1WM0lFVnljbTl5S0NkMWJtdHViM2R1SUdOMWNuWmxJQ2NnS3lCd2RXSXVaR0YwWVM1aGJHZHZjbWwwYUcwdVkzVnlkbVV1YW05cGJpZ25MaWNwS1Z4dVhHNGdJSFpoY2lCamRYSjJaU0E5SUc1bGR5QkZReWhqZFhKMlpVbGtLVnh1SUNCMllYSWdjSFZpYTJWNUlEMGdjSFZpTG1SaGRHRXVjM1ZpYW1WamRGQnlhWFpoZEdWTFpYa3VaR0YwWVZ4dVhHNGdJSEpsZEhWeWJpQmpkWEoyWlM1MlpYSnBabmtvYUdGemFDd2djMmxuTENCd2RXSnJaWGtwWEc1OVhHNWNibVoxYm1OMGFXOXVJR1J6WVZabGNtbG1lU0FvYzJsbkxDQm9ZWE5vTENCd2RXSXBJSHRjYmlBZ2RtRnlJSEFnUFNCd2RXSXVaR0YwWVM1d1hHNGdJSFpoY2lCeElEMGdjSFZpTG1SaGRHRXVjVnh1SUNCMllYSWdaeUE5SUhCMVlpNWtZWFJoTG1kY2JpQWdkbUZ5SUhrZ1BTQndkV0l1WkdGMFlTNXdkV0pmYTJWNVhHNGdJSFpoY2lCMWJuQmhZMnRsWkNBOUlIQmhjbk5sUzJWNWN5NXphV2R1WVhSMWNtVXVaR1ZqYjJSbEtITnBaeXdnSjJSbGNpY3BYRzRnSUhaaGNpQnpJRDBnZFc1d1lXTnJaV1F1YzF4dUlDQjJZWElnY2lBOUlIVnVjR0ZqYTJWa0xuSmNiaUFnWTJobFkydFdZV3gxWlNoekxDQnhLVnh1SUNCamFHVmphMVpoYkhWbEtISXNJSEVwWEc0Z0lIWmhjaUJ0YjI1MGNDQTlJRUpPTG0xdmJuUW9jQ2xjYmlBZ2RtRnlJSGNnUFNCekxtbHVkbTBvY1NsY2JpQWdkbUZ5SUhZZ1BTQm5MblJ2VW1Wa0tHMXZiblJ3S1Z4dUlDQWdJQzV5WldSUWIzY29ibVYzSUVKT0tHaGhjMmdwTG0xMWJDaDNLUzV0YjJRb2NTa3BYRzRnSUNBZ0xtWnliMjFTWldRb0tWeHVJQ0FnSUM1dGRXd29YRzRnSUNBZ0lDQjVMblJ2VW1Wa0tHMXZiblJ3S1Z4dUlDQWdJQ0FnSUNBdWNtVmtVRzkzS0hJdWJYVnNLSGNwTG0xdlpDaHhLU2xjYmlBZ0lDQWdJQ0FnTG1aeWIyMVNaV1FvS1Z4dUlDQXBMbTF2WkNod0tTNXRiMlFvY1NsY2JpQWdjbVYwZFhKdUlDRjJMbU50Y0NoeUtWeHVmVnh1WEc1bWRXNWpkR2x2YmlCamFHVmphMVpoYkhWbElDaGlMQ0J4S1NCN1hHNGdJR2xtSUNoaUxtTnRjRzRvTUNrZ1BEMGdNQ2tnZTF4dUlDQWdJSFJvY205M0lHNWxkeUJGY25KdmNpZ25hVzUyWVd4cFpDQnphV2NuS1Z4dUlDQjlYRzRnSUdsbUlDaGlMbU50Y0NoeEtTQStQU0J4S1NCN1hHNGdJQ0FnZEdoeWIzY2dibVYzSUVWeWNtOXlLQ2RwYm5aaGJHbGtJSE5wWnljcFhHNGdJSDFjYm4xY2JseHViVzlrZFd4bExtVjRjRzl5ZEhNZ1BTQjJaWEpwWm5sY2JpSmRmUT09IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xuLy8gbXVjaCBvZiB0aGlzIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9pbmR1dG55L3NlbGYtc2lnbmVkL2Jsb2IvZ2gtcGFnZXMvbGliL3JzYS5qc1xudmFyIGNyZWF0ZUhtYWMgPSByZXF1aXJlKCdjcmVhdGUtaG1hYycpXG52YXIgY3J0ID0gcmVxdWlyZSgnYnJvd3NlcmlmeS1yc2EnKVxudmFyIGN1cnZlcyA9IHJlcXVpcmUoJy4vY3VydmVzJylcbnZhciBlbGxpcHRpYyA9IHJlcXVpcmUoJ2VsbGlwdGljJylcbnZhciBwYXJzZUtleXMgPSByZXF1aXJlKCdwYXJzZS1hc24xJylcblxudmFyIEJOID0gcmVxdWlyZSgnYm4uanMnKVxudmFyIEVDID0gZWxsaXB0aWMuZWNcblxuZnVuY3Rpb24gc2lnbiAoaGFzaCwga2V5LCBoYXNoVHlwZSwgc2lnblR5cGUpIHtcbiAgdmFyIHByaXYgPSBwYXJzZUtleXMoa2V5KVxuICBpZiAocHJpdi5jdXJ2ZSkge1xuICAgIGlmIChzaWduVHlwZSAhPT0gJ2VjZHNhJykgdGhyb3cgbmV3IEVycm9yKCd3cm9uZyBwcml2YXRlIGtleSB0eXBlJylcblxuICAgIHJldHVybiBlY1NpZ24oaGFzaCwgcHJpdilcbiAgfSBlbHNlIGlmIChwcml2LnR5cGUgPT09ICdkc2EnKSB7XG4gICAgaWYgKHNpZ25UeXBlICE9PSAnZHNhJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCd3cm9uZyBwcml2YXRlIGtleSB0eXBlJylcbiAgICB9XG4gICAgcmV0dXJuIGRzYVNpZ24oaGFzaCwgcHJpdiwgaGFzaFR5cGUpXG4gIH0gZWxzZSB7XG4gICAgaWYgKHNpZ25UeXBlICE9PSAncnNhJykgdGhyb3cgbmV3IEVycm9yKCd3cm9uZyBwcml2YXRlIGtleSB0eXBlJylcbiAgfVxuXG4gIHZhciBsZW4gPSBwcml2Lm1vZHVsdXMuYnl0ZUxlbmd0aCgpXG4gIHZhciBwYWQgPSBbIDAsIDEgXVxuICB3aGlsZSAoaGFzaC5sZW5ndGggKyBwYWQubGVuZ3RoICsgMSA8IGxlbikge1xuICAgIHBhZC5wdXNoKDB4ZmYpXG4gIH1cbiAgcGFkLnB1c2goMHgwMClcbiAgdmFyIGkgPSAtMVxuICB3aGlsZSAoKytpIDwgaGFzaC5sZW5ndGgpIHtcbiAgICBwYWQucHVzaChoYXNoW2ldKVxuICB9XG5cbiAgdmFyIG91dCA9IGNydChwYWQsIHByaXYpXG4gIHJldHVybiBvdXRcbn1cblxuZnVuY3Rpb24gZWNTaWduIChoYXNoLCBwcml2KSB7XG4gIHZhciBjdXJ2ZUlkID0gY3VydmVzW3ByaXYuY3VydmUuam9pbignLicpXVxuICBpZiAoIWN1cnZlSWQpIHRocm93IG5ldyBFcnJvcigndW5rbm93biBjdXJ2ZSAnICsgcHJpdi5jdXJ2ZS5qb2luKCcuJykpXG5cbiAgdmFyIGN1cnZlID0gbmV3IEVDKGN1cnZlSWQpXG4gIHZhciBrZXkgPSBjdXJ2ZS5nZW5LZXlQYWlyKClcblxuICBrZXkuX2ltcG9ydFByaXZhdGUocHJpdi5wcml2YXRlS2V5KVxuICB2YXIgb3V0ID0ga2V5LnNpZ24oaGFzaClcblxuICByZXR1cm4gbmV3IEJ1ZmZlcihvdXQudG9ERVIoKSlcbn1cblxuZnVuY3Rpb24gZHNhU2lnbiAoaGFzaCwgcHJpdiwgYWxnbykge1xuICB2YXIgeCA9IHByaXYucGFyYW1zLnByaXZfa2V5XG4gIHZhciBwID0gcHJpdi5wYXJhbXMucFxuICB2YXIgcSA9IHByaXYucGFyYW1zLnFcbiAgdmFyIGcgPSBwcml2LnBhcmFtcy5nXG4gIHZhciByID0gbmV3IEJOKDApXG4gIHZhciBrXG4gIHZhciBIID0gYml0czJpbnQoaGFzaCwgcSkubW9kKHEpXG4gIHZhciBzID0gZmFsc2VcbiAgdmFyIGt2ID0gZ2V0S2V5KHgsIHEsIGhhc2gsIGFsZ28pXG4gIHdoaWxlIChzID09PSBmYWxzZSkge1xuICAgIGsgPSBtYWtlS2V5KHEsIGt2LCBhbGdvKVxuICAgIHIgPSBtYWtlUihnLCBrLCBwLCBxKVxuICAgIHMgPSBrLmludm0ocSkuaW11bChILmFkZCh4Lm11bChyKSkpLm1vZChxKVxuICAgIGlmICghcy5jbXBuKDApKSB7XG4gICAgICBzID0gZmFsc2VcbiAgICAgIHIgPSBuZXcgQk4oMClcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRvREVSKHIsIHMpXG59XG5cbmZ1bmN0aW9uIHRvREVSIChyLCBzKSB7XG4gIHIgPSByLnRvQXJyYXkoKVxuICBzID0gcy50b0FycmF5KClcblxuICAvLyBQYWQgdmFsdWVzXG4gIGlmIChyWzBdICYgMHg4MCkge1xuICAgIHIgPSBbIDAgXS5jb25jYXQocilcbiAgfVxuICAvLyBQYWQgdmFsdWVzXG4gIGlmIChzWzBdICYgMHg4MCkge1xuICAgIHMgPSBbMF0uY29uY2F0KHMpXG4gIH1cblxuICB2YXIgdG90YWwgPSByLmxlbmd0aCArIHMubGVuZ3RoICsgNFxuICB2YXIgcmVzID0gWyAweDMwLCB0b3RhbCwgMHgwMiwgci5sZW5ndGggXVxuICByZXMgPSByZXMuY29uY2F0KHIsIFsgMHgwMiwgcy5sZW5ndGggXSwgcylcbiAgcmV0dXJuIG5ldyBCdWZmZXIocmVzKVxufVxuXG5mdW5jdGlvbiBnZXRLZXkgKHgsIHEsIGhhc2gsIGFsZ28pIHtcbiAgeCA9IG5ldyBCdWZmZXIoeC50b0FycmF5KCkpXG4gIGlmICh4Lmxlbmd0aCA8IHEuYnl0ZUxlbmd0aCgpKSB7XG4gICAgdmFyIHplcm9zID0gbmV3IEJ1ZmZlcihxLmJ5dGVMZW5ndGgoKSAtIHgubGVuZ3RoKVxuICAgIHplcm9zLmZpbGwoMClcbiAgICB4ID0gQnVmZmVyLmNvbmNhdChbemVyb3MsIHhdKVxuICB9XG4gIHZhciBobGVuID0gaGFzaC5sZW5ndGhcbiAgdmFyIGhiaXRzID0gYml0czJvY3RldHMoaGFzaCwgcSlcbiAgdmFyIHYgPSBuZXcgQnVmZmVyKGhsZW4pXG4gIHYuZmlsbCgxKVxuICB2YXIgayA9IG5ldyBCdWZmZXIoaGxlbilcbiAgay5maWxsKDApXG4gIGsgPSBjcmVhdGVIbWFjKGFsZ28sIGspXG4gICAgLnVwZGF0ZSh2KVxuICAgIC51cGRhdGUobmV3IEJ1ZmZlcihbMF0pKVxuICAgIC51cGRhdGUoeClcbiAgICAudXBkYXRlKGhiaXRzKVxuICAgIC5kaWdlc3QoKVxuICB2ID0gY3JlYXRlSG1hYyhhbGdvLCBrKVxuICAgIC51cGRhdGUodilcbiAgICAuZGlnZXN0KClcbiAgayA9IGNyZWF0ZUhtYWMoYWxnbywgaylcbiAgICAudXBkYXRlKHYpXG4gICAgLnVwZGF0ZShuZXcgQnVmZmVyKFsxXSkpXG4gICAgLnVwZGF0ZSh4KVxuICAgIC51cGRhdGUoaGJpdHMpXG4gICAgLmRpZ2VzdCgpXG4gIHYgPSBjcmVhdGVIbWFjKGFsZ28sIGspXG4gICAgLnVwZGF0ZSh2KVxuICAgIC5kaWdlc3QoKVxuICByZXR1cm4ge1xuICAgIGs6IGssXG4gICAgdjogdlxuICB9XG59XG5cbmZ1bmN0aW9uIGJpdHMyaW50IChvYml0cywgcSkge1xuICB2YXIgYml0cyA9IG5ldyBCTihvYml0cylcbiAgdmFyIHNoaWZ0ID0gKG9iaXRzLmxlbmd0aCA8PCAzKSAtIHEuYml0TGVuZ3RoKClcbiAgaWYgKHNoaWZ0ID4gMCkge1xuICAgIGJpdHMuaXNocm4oc2hpZnQpXG4gIH1cbiAgcmV0dXJuIGJpdHNcbn1cblxuZnVuY3Rpb24gYml0czJvY3RldHMgKGJpdHMsIHEpIHtcbiAgYml0cyA9IGJpdHMyaW50KGJpdHMsIHEpXG4gIGJpdHMgPSBiaXRzLm1vZChxKVxuICB2YXIgb3V0ID0gbmV3IEJ1ZmZlcihiaXRzLnRvQXJyYXkoKSlcbiAgaWYgKG91dC5sZW5ndGggPCBxLmJ5dGVMZW5ndGgoKSkge1xuICAgIHZhciB6ZXJvcyA9IG5ldyBCdWZmZXIocS5ieXRlTGVuZ3RoKCkgLSBvdXQubGVuZ3RoKVxuICAgIHplcm9zLmZpbGwoMClcbiAgICBvdXQgPSBCdWZmZXIuY29uY2F0KFt6ZXJvcywgb3V0XSlcbiAgfVxuICByZXR1cm4gb3V0XG59XG5cbmZ1bmN0aW9uIG1ha2VLZXkgKHEsIGt2LCBhbGdvKSB7XG4gIHZhciB0LCBrXG5cbiAgZG8ge1xuICAgIHQgPSBuZXcgQnVmZmVyKCcnKVxuXG4gICAgd2hpbGUgKHQubGVuZ3RoICogOCA8IHEuYml0TGVuZ3RoKCkpIHtcbiAgICAgIGt2LnYgPSBjcmVhdGVIbWFjKGFsZ28sIGt2LmspXG4gICAgICAgIC51cGRhdGUoa3YudilcbiAgICAgICAgLmRpZ2VzdCgpXG4gICAgICB0ID0gQnVmZmVyLmNvbmNhdChbdCwga3Yudl0pXG4gICAgfVxuXG4gICAgayA9IGJpdHMyaW50KHQsIHEpXG4gICAga3YuayA9IGNyZWF0ZUhtYWMoYWxnbywga3YuaylcbiAgICAgIC51cGRhdGUoa3YudilcbiAgICAgIC51cGRhdGUobmV3IEJ1ZmZlcihbMF0pKVxuICAgICAgLmRpZ2VzdCgpXG4gICAga3YudiA9IGNyZWF0ZUhtYWMoYWxnbywga3YuaylcbiAgICAgIC51cGRhdGUoa3YudilcbiAgICAgIC5kaWdlc3QoKVxuICB9IHdoaWxlIChrLmNtcChxKSAhPT0gLTEpXG5cbiAgcmV0dXJuIGtcbn1cblxuZnVuY3Rpb24gbWFrZVIgKGcsIGssIHAsIHEpIHtcbiAgcmV0dXJuIGcudG9SZWQoQk4ubW9udChwKSkucmVkUG93KGspLmZyb21SZWQoKS5tb2QocSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaWduXG5tb2R1bGUuZXhwb3J0cy5nZXRLZXkgPSBnZXRLZXlcbm1vZHVsZS5leHBvcnRzLm1ha2VLZXkgPSBtYWtlS2V5XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12WW5KdmQzTmxjbWxtZVMxemFXZHVMM05wWjI0dWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqdEJRVUZCTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRU0lzSW1acGJHVWlPaUpuWlc1bGNtRjBaV1F1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaUx5OGdiWFZqYUNCdlppQjBhR2x6SUdKaGMyVmtJRzl1SUdoMGRIQnpPaTh2WjJsMGFIVmlMbU52YlM5cGJtUjFkRzU1TDNObGJHWXRjMmxuYm1Wa0wySnNiMkl2WjJndGNHRm5aWE12YkdsaUwzSnpZUzVxYzF4dWRtRnlJR055WldGMFpVaHRZV01nUFNCeVpYRjFhWEpsS0NkamNtVmhkR1V0YUcxaFl5Y3BYRzUyWVhJZ1kzSjBJRDBnY21WeGRXbHlaU2duWW5KdmQzTmxjbWxtZVMxeWMyRW5LVnh1ZG1GeUlHTjFjblpsY3lBOUlISmxjWFZwY21Vb0p5NHZZM1Z5ZG1Wekp5bGNiblpoY2lCbGJHeHBjSFJwWXlBOUlISmxjWFZwY21Vb0oyVnNiR2x3ZEdsakp5bGNiblpoY2lCd1lYSnpaVXRsZVhNZ1BTQnlaWEYxYVhKbEtDZHdZWEp6WlMxaGMyNHhKeWxjYmx4dWRtRnlJRUpPSUQwZ2NtVnhkV2x5WlNnblltNHVhbk1uS1Z4dWRtRnlJRVZESUQwZ1pXeHNhWEIwYVdNdVpXTmNibHh1Wm5WdVkzUnBiMjRnYzJsbmJpQW9hR0Z6YUN3Z2EyVjVMQ0JvWVhOb1ZIbHdaU3dnYzJsbmJsUjVjR1VwSUh0Y2JpQWdkbUZ5SUhCeWFYWWdQU0J3WVhKelpVdGxlWE1vYTJWNUtWeHVJQ0JwWmlBb2NISnBkaTVqZFhKMlpTa2dlMXh1SUNBZ0lHbG1JQ2h6YVdkdVZIbHdaU0FoUFQwZ0oyVmpaSE5oSnlrZ2RHaHliM2NnYm1WM0lFVnljbTl5S0NkM2NtOXVaeUJ3Y21sMllYUmxJR3RsZVNCMGVYQmxKeWxjYmx4dUlDQWdJSEpsZEhWeWJpQmxZMU5wWjI0b2FHRnphQ3dnY0hKcGRpbGNiaUFnZlNCbGJITmxJR2xtSUNod2NtbDJMblI1Y0dVZ1BUMDlJQ2RrYzJFbktTQjdYRzRnSUNBZ2FXWWdLSE5wWjI1VWVYQmxJQ0U5UFNBblpITmhKeWtnZTF4dUlDQWdJQ0FnZEdoeWIzY2dibVYzSUVWeWNtOXlLQ2QzY205dVp5QndjbWwyWVhSbElHdGxlU0IwZVhCbEp5bGNiaUFnSUNCOVhHNGdJQ0FnY21WMGRYSnVJR1J6WVZOcFoyNG9hR0Z6YUN3Z2NISnBkaXdnYUdGemFGUjVjR1VwWEc0Z0lIMGdaV3h6WlNCN1hHNGdJQ0FnYVdZZ0tITnBaMjVVZVhCbElDRTlQU0FuY25OaEp5a2dkR2h5YjNjZ2JtVjNJRVZ5Y205eUtDZDNjbTl1WnlCd2NtbDJZWFJsSUd0bGVTQjBlWEJsSnlsY2JpQWdmVnh1WEc0Z0lIWmhjaUJzWlc0Z1BTQndjbWwyTG0xdlpIVnNkWE11WW5sMFpVeGxibWQwYUNncFhHNGdJSFpoY2lCd1lXUWdQU0JiSURBc0lERWdYVnh1SUNCM2FHbHNaU0FvYUdGemFDNXNaVzVuZEdnZ0t5QndZV1F1YkdWdVozUm9JQ3NnTVNBOElHeGxiaWtnZTF4dUlDQWdJSEJoWkM1d2RYTm9LREI0Wm1ZcFhHNGdJSDFjYmlBZ2NHRmtMbkIxYzJnb01IZ3dNQ2xjYmlBZ2RtRnlJR2tnUFNBdE1WeHVJQ0IzYUdsc1pTQW9LeXRwSUR3Z2FHRnphQzVzWlc1bmRHZ3BJSHRjYmlBZ0lDQndZV1F1Y0hWemFDaG9ZWE5vVzJsZEtWeHVJQ0I5WEc1Y2JpQWdkbUZ5SUc5MWRDQTlJR055ZENod1lXUXNJSEJ5YVhZcFhHNGdJSEpsZEhWeWJpQnZkWFJjYm4xY2JseHVablZ1WTNScGIyNGdaV05UYVdkdUlDaG9ZWE5vTENCd2NtbDJLU0I3WEc0Z0lIWmhjaUJqZFhKMlpVbGtJRDBnWTNWeWRtVnpXM0J5YVhZdVkzVnlkbVV1YW05cGJpZ25MaWNwWFZ4dUlDQnBaaUFvSVdOMWNuWmxTV1FwSUhSb2NtOTNJRzVsZHlCRmNuSnZjaWduZFc1cmJtOTNiaUJqZFhKMlpTQW5JQ3NnY0hKcGRpNWpkWEoyWlM1cWIybHVLQ2N1SnlrcFhHNWNiaUFnZG1GeUlHTjFjblpsSUQwZ2JtVjNJRVZES0dOMWNuWmxTV1FwWEc0Z0lIWmhjaUJyWlhrZ1BTQmpkWEoyWlM1blpXNUxaWGxRWVdseUtDbGNibHh1SUNCclpYa3VYMmx0Y0c5eWRGQnlhWFpoZEdVb2NISnBkaTV3Y21sMllYUmxTMlY1S1Z4dUlDQjJZWElnYjNWMElEMGdhMlY1TG5OcFoyNG9hR0Z6YUNsY2JseHVJQ0J5WlhSMWNtNGdibVYzSUVKMVptWmxjaWh2ZFhRdWRHOUVSVklvS1NsY2JuMWNibHh1Wm5WdVkzUnBiMjRnWkhOaFUybG5iaUFvYUdGemFDd2djSEpwZGl3Z1lXeG5ieWtnZTF4dUlDQjJZWElnZUNBOUlIQnlhWFl1Y0dGeVlXMXpMbkJ5YVhaZmEyVjVYRzRnSUhaaGNpQndJRDBnY0hKcGRpNXdZWEpoYlhNdWNGeHVJQ0IyWVhJZ2NTQTlJSEJ5YVhZdWNHRnlZVzF6TG5GY2JpQWdkbUZ5SUdjZ1BTQndjbWwyTG5CaGNtRnRjeTVuWEc0Z0lIWmhjaUJ5SUQwZ2JtVjNJRUpPS0RBcFhHNGdJSFpoY2lCclhHNGdJSFpoY2lCSUlEMGdZbWwwY3pKcGJuUW9hR0Z6YUN3Z2NTa3ViVzlrS0hFcFhHNGdJSFpoY2lCeklEMGdabUZzYzJWY2JpQWdkbUZ5SUd0MklEMGdaMlYwUzJWNUtIZ3NJSEVzSUdoaGMyZ3NJR0ZzWjI4cFhHNGdJSGRvYVd4bElDaHpJRDA5UFNCbVlXeHpaU2tnZTF4dUlDQWdJR3NnUFNCdFlXdGxTMlY1S0hFc0lHdDJMQ0JoYkdkdktWeHVJQ0FnSUhJZ1BTQnRZV3RsVWlobkxDQnJMQ0J3TENCeEtWeHVJQ0FnSUhNZ1BTQnJMbWx1ZG0wb2NTa3VhVzExYkNoSUxtRmtaQ2g0TG0xMWJDaHlLU2twTG0xdlpDaHhLVnh1SUNBZ0lHbG1JQ2doY3k1amJYQnVLREFwS1NCN1hHNGdJQ0FnSUNCeklEMGdabUZzYzJWY2JpQWdJQ0FnSUhJZ1BTQnVaWGNnUWs0b01DbGNiaUFnSUNCOVhHNGdJSDFjYmlBZ2NtVjBkWEp1SUhSdlJFVlNLSElzSUhNcFhHNTlYRzVjYm1aMWJtTjBhVzl1SUhSdlJFVlNJQ2h5TENCektTQjdYRzRnSUhJZ1BTQnlMblJ2UVhKeVlYa29LVnh1SUNCeklEMGdjeTUwYjBGeWNtRjVLQ2xjYmx4dUlDQXZMeUJRWVdRZ2RtRnNkV1Z6WEc0Z0lHbG1JQ2h5V3pCZElDWWdNSGc0TUNrZ2UxeHVJQ0FnSUhJZ1BTQmJJREFnWFM1amIyNWpZWFFvY2lsY2JpQWdmVnh1SUNBdkx5QlFZV1FnZG1Gc2RXVnpYRzRnSUdsbUlDaHpXekJkSUNZZ01IZzRNQ2tnZTF4dUlDQWdJSE1nUFNCYk1GMHVZMjl1WTJGMEtITXBYRzRnSUgxY2JseHVJQ0IyWVhJZ2RHOTBZV3dnUFNCeUxteGxibWQwYUNBcklITXViR1Z1WjNSb0lDc2dORnh1SUNCMllYSWdjbVZ6SUQwZ1d5QXdlRE13TENCMGIzUmhiQ3dnTUhnd01pd2djaTVzWlc1bmRHZ2dYVnh1SUNCeVpYTWdQU0J5WlhNdVkyOXVZMkYwS0hJc0lGc2dNSGd3TWl3Z2N5NXNaVzVuZEdnZ1hTd2djeWxjYmlBZ2NtVjBkWEp1SUc1bGR5QkNkV1ptWlhJb2NtVnpLVnh1ZlZ4dVhHNW1kVzVqZEdsdmJpQm5aWFJMWlhrZ0tIZ3NJSEVzSUdoaGMyZ3NJR0ZzWjI4cElIdGNiaUFnZUNBOUlHNWxkeUJDZFdabVpYSW9lQzUwYjBGeWNtRjVLQ2twWEc0Z0lHbG1JQ2g0TG14bGJtZDBhQ0E4SUhFdVlubDBaVXhsYm1kMGFDZ3BLU0I3WEc0Z0lDQWdkbUZ5SUhwbGNtOXpJRDBnYm1WM0lFSjFabVpsY2loeExtSjVkR1ZNWlc1bmRHZ29LU0F0SUhndWJHVnVaM1JvS1Z4dUlDQWdJSHBsY205ekxtWnBiR3dvTUNsY2JpQWdJQ0I0SUQwZ1FuVm1abVZ5TG1OdmJtTmhkQ2hiZW1WeWIzTXNJSGhkS1Z4dUlDQjlYRzRnSUhaaGNpQm9iR1Z1SUQwZ2FHRnphQzVzWlc1bmRHaGNiaUFnZG1GeUlHaGlhWFJ6SUQwZ1ltbDBjekp2WTNSbGRITW9hR0Z6YUN3Z2NTbGNiaUFnZG1GeUlIWWdQU0J1WlhjZ1FuVm1abVZ5S0doc1pXNHBYRzRnSUhZdVptbHNiQ2d4S1Z4dUlDQjJZWElnYXlBOUlHNWxkeUJDZFdabVpYSW9hR3hsYmlsY2JpQWdheTVtYVd4c0tEQXBYRzRnSUdzZ1BTQmpjbVZoZEdWSWJXRmpLR0ZzWjI4c0lHc3BYRzRnSUNBZ0xuVndaR0YwWlNoMktWeHVJQ0FnSUM1MWNHUmhkR1VvYm1WM0lFSjFabVpsY2loYk1GMHBLVnh1SUNBZ0lDNTFjR1JoZEdVb2VDbGNiaUFnSUNBdWRYQmtZWFJsS0doaWFYUnpLVnh1SUNBZ0lDNWthV2RsYzNRb0tWeHVJQ0IySUQwZ1kzSmxZWFJsU0cxaFl5aGhiR2R2TENCcktWeHVJQ0FnSUM1MWNHUmhkR1VvZGlsY2JpQWdJQ0F1WkdsblpYTjBLQ2xjYmlBZ2F5QTlJR055WldGMFpVaHRZV01vWVd4bmJ5d2dheWxjYmlBZ0lDQXVkWEJrWVhSbEtIWXBYRzRnSUNBZ0xuVndaR0YwWlNodVpYY2dRblZtWm1WeUtGc3hYU2twWEc0Z0lDQWdMblZ3WkdGMFpTaDRLVnh1SUNBZ0lDNTFjR1JoZEdVb2FHSnBkSE1wWEc0Z0lDQWdMbVJwWjJWemRDZ3BYRzRnSUhZZ1BTQmpjbVZoZEdWSWJXRmpLR0ZzWjI4c0lHc3BYRzRnSUNBZ0xuVndaR0YwWlNoMktWeHVJQ0FnSUM1a2FXZGxjM1FvS1Z4dUlDQnlaWFIxY200Z2UxeHVJQ0FnSUdzNklHc3NYRzRnSUNBZ2Rqb2dkbHh1SUNCOVhHNTlYRzVjYm1aMWJtTjBhVzl1SUdKcGRITXlhVzUwSUNodlltbDBjeXdnY1NrZ2UxeHVJQ0IyWVhJZ1ltbDBjeUE5SUc1bGR5QkNUaWh2WW1sMGN5bGNiaUFnZG1GeUlITm9hV1owSUQwZ0tHOWlhWFJ6TG14bGJtZDBhQ0E4UENBektTQXRJSEV1WW1sMFRHVnVaM1JvS0NsY2JpQWdhV1lnS0hOb2FXWjBJRDRnTUNrZ2UxeHVJQ0FnSUdKcGRITXVhWE5vY200b2MyaHBablFwWEc0Z0lIMWNiaUFnY21WMGRYSnVJR0pwZEhOY2JuMWNibHh1Wm5WdVkzUnBiMjRnWW1sMGN6SnZZM1JsZEhNZ0tHSnBkSE1zSUhFcElIdGNiaUFnWW1sMGN5QTlJR0pwZEhNeWFXNTBLR0pwZEhNc0lIRXBYRzRnSUdKcGRITWdQU0JpYVhSekxtMXZaQ2h4S1Z4dUlDQjJZWElnYjNWMElEMGdibVYzSUVKMVptWmxjaWhpYVhSekxuUnZRWEp5WVhrb0tTbGNiaUFnYVdZZ0tHOTFkQzVzWlc1bmRHZ2dQQ0J4TG1KNWRHVk1aVzVuZEdnb0tTa2dlMXh1SUNBZ0lIWmhjaUI2WlhKdmN5QTlJRzVsZHlCQ2RXWm1aWElvY1M1aWVYUmxUR1Z1WjNSb0tDa2dMU0J2ZFhRdWJHVnVaM1JvS1Z4dUlDQWdJSHBsY205ekxtWnBiR3dvTUNsY2JpQWdJQ0J2ZFhRZ1BTQkNkV1ptWlhJdVkyOXVZMkYwS0Z0NlpYSnZjeXdnYjNWMFhTbGNiaUFnZlZ4dUlDQnlaWFIxY200Z2IzVjBYRzU5WEc1Y2JtWjFibU4wYVc5dUlHMWhhMlZMWlhrZ0tIRXNJR3QyTENCaGJHZHZLU0I3WEc0Z0lIWmhjaUIwTENCclhHNWNiaUFnWkc4Z2UxeHVJQ0FnSUhRZ1BTQnVaWGNnUW5WbVptVnlLQ2NuS1Z4dVhHNGdJQ0FnZDJocGJHVWdLSFF1YkdWdVozUm9JQ29nT0NBOElIRXVZbWwwVEdWdVozUm9LQ2twSUh0Y2JpQWdJQ0FnSUd0MkxuWWdQU0JqY21WaGRHVkliV0ZqS0dGc1oyOHNJR3QyTG1zcFhHNGdJQ0FnSUNBZ0lDNTFjR1JoZEdVb2EzWXVkaWxjYmlBZ0lDQWdJQ0FnTG1ScFoyVnpkQ2dwWEc0Z0lDQWdJQ0IwSUQwZ1FuVm1abVZ5TG1OdmJtTmhkQ2hiZEN3Z2EzWXVkbDBwWEc0Z0lDQWdmVnh1WEc0Z0lDQWdheUE5SUdKcGRITXlhVzUwS0hRc0lIRXBYRzRnSUNBZ2EzWXVheUE5SUdOeVpXRjBaVWh0WVdNb1lXeG5ieXdnYTNZdWF5bGNiaUFnSUNBZ0lDNTFjR1JoZEdVb2EzWXVkaWxjYmlBZ0lDQWdJQzUxY0dSaGRHVW9ibVYzSUVKMVptWmxjaWhiTUYwcEtWeHVJQ0FnSUNBZ0xtUnBaMlZ6ZENncFhHNGdJQ0FnYTNZdWRpQTlJR055WldGMFpVaHRZV01vWVd4bmJ5d2dhM1l1YXlsY2JpQWdJQ0FnSUM1MWNHUmhkR1VvYTNZdWRpbGNiaUFnSUNBZ0lDNWthV2RsYzNRb0tWeHVJQ0I5SUhkb2FXeGxJQ2hyTG1OdGNDaHhLU0FoUFQwZ0xURXBYRzVjYmlBZ2NtVjBkWEp1SUd0Y2JuMWNibHh1Wm5WdVkzUnBiMjRnYldGclpWSWdLR2NzSUdzc0lIQXNJSEVwSUh0Y2JpQWdjbVYwZFhKdUlHY3VkRzlTWldRb1FrNHViVzl1ZENod0tTa3VjbVZrVUc5M0tHc3BMbVp5YjIxU1pXUW9LUzV0YjJRb2NTbGNibjFjYmx4dWJXOWtkV3hsTG1WNGNHOXlkSE1nUFNCemFXZHVYRzV0YjJSMWJHVXVaWGh3YjNKMGN5NW5aWFJMWlhrZ1BTQm5aWFJMWlhsY2JtMXZaSFZzWlM1bGVIQnZjblJ6TG0xaGEyVkxaWGtnUFNCdFlXdGxTMlY1WEc0aVhYMD0iLCIoZnVuY3Rpb24gKEJ1ZmZlcil7XG52YXIgYXNuMSA9IHJlcXVpcmUoJy4vYXNuMScpXG52YXIgYWVzaWQgPSByZXF1aXJlKCcuL2Flc2lkLmpzb24nKVxudmFyIGZpeFByb2MgPSByZXF1aXJlKCcuL2ZpeFByb2MnKVxudmFyIGNpcGhlcnMgPSByZXF1aXJlKCdicm93c2VyaWZ5LWFlcycpXG52YXIgY29tcGF0ID0gcmVxdWlyZSgncGJrZGYyJylcbm1vZHVsZS5leHBvcnRzID0gcGFyc2VLZXlzXG5cbmZ1bmN0aW9uIHBhcnNlS2V5cyAoYnVmZmVyKSB7XG4gIHZhciBwYXNzd29yZFxuICBpZiAodHlwZW9mIGJ1ZmZlciA9PT0gJ29iamVjdCcgJiYgIUJ1ZmZlci5pc0J1ZmZlcihidWZmZXIpKSB7XG4gICAgcGFzc3dvcmQgPSBidWZmZXIucGFzc3BocmFzZVxuICAgIGJ1ZmZlciA9IGJ1ZmZlci5rZXlcbiAgfVxuICBpZiAodHlwZW9mIGJ1ZmZlciA9PT0gJ3N0cmluZycpIHtcbiAgICBidWZmZXIgPSBuZXcgQnVmZmVyKGJ1ZmZlcilcbiAgfVxuXG4gIHZhciBzdHJpcHBlZCA9IGZpeFByb2MoYnVmZmVyLCBwYXNzd29yZClcblxuICB2YXIgdHlwZSA9IHN0cmlwcGVkLnRhZ1xuICB2YXIgZGF0YSA9IHN0cmlwcGVkLmRhdGFcbiAgdmFyIHN1YnR5cGUsIG5kYXRhXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ1BVQkxJQyBLRVknOlxuICAgICAgbmRhdGEgPSBhc24xLlB1YmxpY0tleS5kZWNvZGUoZGF0YSwgJ2RlcicpXG4gICAgICBzdWJ0eXBlID0gbmRhdGEuYWxnb3JpdGhtLmFsZ29yaXRobS5qb2luKCcuJylcbiAgICAgIHN3aXRjaCAoc3VidHlwZSkge1xuICAgICAgICBjYXNlICcxLjIuODQwLjExMzU0OS4xLjEuMSc6XG4gICAgICAgICAgcmV0dXJuIGFzbjEuUlNBUHVibGljS2V5LmRlY29kZShuZGF0YS5zdWJqZWN0UHVibGljS2V5LmRhdGEsICdkZXInKVxuICAgICAgICBjYXNlICcxLjIuODQwLjEwMDQ1LjIuMSc6XG4gICAgICAgICAgbmRhdGEuc3ViamVjdFByaXZhdGVLZXkgPSBuZGF0YS5zdWJqZWN0UHVibGljS2V5XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdlYycsXG4gICAgICAgICAgICBkYXRhOiBuZGF0YVxuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAnMS4yLjg0MC4xMDA0MC40LjEnOlxuICAgICAgICAgIG5kYXRhLmFsZ29yaXRobS5wYXJhbXMucHViX2tleSA9IGFzbjEuRFNBcGFyYW0uZGVjb2RlKG5kYXRhLnN1YmplY3RQdWJsaWNLZXkuZGF0YSwgJ2RlcicpXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6ICdkc2EnLFxuICAgICAgICAgICAgZGF0YTogbmRhdGEuYWxnb3JpdGhtLnBhcmFtc1xuICAgICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGtleSBpZCAnICsgc3VidHlwZSlcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biBrZXkgdHlwZSAnICsgdHlwZSlcbiAgICBjYXNlICdFTkNSWVBURUQgUFJJVkFURSBLRVknOlxuICAgICAgZGF0YSA9IGFzbjEuRW5jcnlwdGVkUHJpdmF0ZUtleS5kZWNvZGUoZGF0YSwgJ2RlcicpXG4gICAgICBkYXRhID0gZGVjcnlwdChkYXRhLCBwYXNzd29yZClcbiAgICAgIC8vIGZhbGxzIHRocm91Z2hcbiAgICBjYXNlICdQUklWQVRFIEtFWSc6XG4gICAgICBuZGF0YSA9IGFzbjEuUHJpdmF0ZUtleS5kZWNvZGUoZGF0YSwgJ2RlcicpXG4gICAgICBzdWJ0eXBlID0gbmRhdGEuYWxnb3JpdGhtLmFsZ29yaXRobS5qb2luKCcuJylcbiAgICAgIHN3aXRjaCAoc3VidHlwZSkge1xuICAgICAgICBjYXNlICcxLjIuODQwLjExMzU0OS4xLjEuMSc6XG4gICAgICAgICAgcmV0dXJuIGFzbjEuUlNBUHJpdmF0ZUtleS5kZWNvZGUobmRhdGEuc3ViamVjdFByaXZhdGVLZXksICdkZXInKVxuICAgICAgICBjYXNlICcxLjIuODQwLjEwMDQ1LjIuMSc6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGN1cnZlOiBuZGF0YS5hbGdvcml0aG0uY3VydmUsXG4gICAgICAgICAgICBwcml2YXRlS2V5OiBhc24xLkVDUHJpdmF0ZUtleS5kZWNvZGUobmRhdGEuc3ViamVjdFByaXZhdGVLZXksICdkZXInKS5wcml2YXRlS2V5XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlICcxLjIuODQwLjEwMDQwLjQuMSc6XG4gICAgICAgICAgbmRhdGEuYWxnb3JpdGhtLnBhcmFtcy5wcml2X2tleSA9IGFzbjEuRFNBcGFyYW0uZGVjb2RlKG5kYXRhLnN1YmplY3RQcml2YXRlS2V5LCAnZGVyJylcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2RzYScsXG4gICAgICAgICAgICBwYXJhbXM6IG5kYXRhLmFsZ29yaXRobS5wYXJhbXNcbiAgICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcigndW5rbm93biBrZXkgaWQgJyArIHN1YnR5cGUpXG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24ga2V5IHR5cGUgJyArIHR5cGUpXG4gICAgY2FzZSAnUlNBIFBVQkxJQyBLRVknOlxuICAgICAgcmV0dXJuIGFzbjEuUlNBUHVibGljS2V5LmRlY29kZShkYXRhLCAnZGVyJylcbiAgICBjYXNlICdSU0EgUFJJVkFURSBLRVknOlxuICAgICAgcmV0dXJuIGFzbjEuUlNBUHJpdmF0ZUtleS5kZWNvZGUoZGF0YSwgJ2RlcicpXG4gICAgY2FzZSAnRFNBIFBSSVZBVEUgS0VZJzpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6ICdkc2EnLFxuICAgICAgICBwYXJhbXM6IGFzbjEuRFNBUHJpdmF0ZUtleS5kZWNvZGUoZGF0YSwgJ2RlcicpXG4gICAgICB9XG4gICAgY2FzZSAnRUMgUFJJVkFURSBLRVknOlxuICAgICAgZGF0YSA9IGFzbjEuRUNQcml2YXRlS2V5LmRlY29kZShkYXRhLCAnZGVyJylcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGN1cnZlOiBkYXRhLnBhcmFtZXRlcnMudmFsdWUsXG4gICAgICAgIHByaXZhdGVLZXk6IGRhdGEucHJpdmF0ZUtleVxuICAgICAgfVxuICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcigndW5rbm93biBrZXkgdHlwZSAnICsgdHlwZSlcbiAgfVxufVxucGFyc2VLZXlzLnNpZ25hdHVyZSA9IGFzbjEuc2lnbmF0dXJlXG5mdW5jdGlvbiBkZWNyeXB0IChkYXRhLCBwYXNzd29yZCkge1xuICB2YXIgc2FsdCA9IGRhdGEuYWxnb3JpdGhtLmRlY3J5cHQua2RlLmtkZXBhcmFtcy5zYWx0XG4gIHZhciBpdGVycyA9IHBhcnNlSW50KGRhdGEuYWxnb3JpdGhtLmRlY3J5cHQua2RlLmtkZXBhcmFtcy5pdGVycy50b1N0cmluZygpLCAxMClcbiAgdmFyIGFsZ28gPSBhZXNpZFtkYXRhLmFsZ29yaXRobS5kZWNyeXB0LmNpcGhlci5hbGdvLmpvaW4oJy4nKV1cbiAgdmFyIGl2ID0gZGF0YS5hbGdvcml0aG0uZGVjcnlwdC5jaXBoZXIuaXZcbiAgdmFyIGNpcGhlclRleHQgPSBkYXRhLnN1YmplY3RQcml2YXRlS2V5XG4gIHZhciBrZXlsZW4gPSBwYXJzZUludChhbGdvLnNwbGl0KCctJylbMV0sIDEwKSAvIDhcbiAgdmFyIGtleSA9IGNvbXBhdC5wYmtkZjJTeW5jKHBhc3N3b3JkLCBzYWx0LCBpdGVycywga2V5bGVuKVxuICB2YXIgY2lwaGVyID0gY2lwaGVycy5jcmVhdGVEZWNpcGhlcml2KGFsZ28sIGtleSwgaXYpXG4gIHZhciBvdXQgPSBbXVxuICBvdXQucHVzaChjaXBoZXIudXBkYXRlKGNpcGhlclRleHQpKVxuICBvdXQucHVzaChjaXBoZXIuZmluYWwoKSlcbiAgcmV0dXJuIEJ1ZmZlci5jb25jYXQob3V0KVxufVxuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIpXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUwyNXZaR1ZmYlc5a2RXeGxjeTlqY25sd2RHOHRZbkp2ZDNObGNtbG1lUzl1YjJSbFgyMXZaSFZzWlhNdlluSnZkM05sY21sbWVTMXphV2R1TDI1dlpHVmZiVzlrZFd4bGN5OXdZWEp6WlMxaGMyNHhMMmx1WkdWNExtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdRVUZCUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFaUxDSm1hV3hsSWpvaVoyVnVaWEpoZEdWa0xtcHpJaXdpYzI5MWNtTmxVbTl2ZENJNklpSXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJblpoY2lCaGMyNHhJRDBnY21WeGRXbHlaU2duTGk5aGMyNHhKeWxjYm5aaGNpQmhaWE5wWkNBOUlISmxjWFZwY21Vb0p5NHZZV1Z6YVdRdWFuTnZiaWNwWEc1MllYSWdabWw0VUhKdll5QTlJSEpsY1hWcGNtVW9KeTR2Wm1sNFVISnZZeWNwWEc1MllYSWdZMmx3YUdWeWN5QTlJSEpsY1hWcGNtVW9KMkp5YjNkelpYSnBabmt0WVdWekp5bGNiblpoY2lCamIyMXdZWFFnUFNCeVpYRjFhWEpsS0Nkd1ltdGtaakluS1Z4dWJXOWtkV3hsTG1WNGNHOXlkSE1nUFNCd1lYSnpaVXRsZVhOY2JseHVablZ1WTNScGIyNGdjR0Z5YzJWTFpYbHpJQ2hpZFdabVpYSXBJSHRjYmlBZ2RtRnlJSEJoYzNOM2IzSmtYRzRnSUdsbUlDaDBlWEJsYjJZZ1luVm1abVZ5SUQwOVBTQW5iMkpxWldOMEp5QW1KaUFoUW5WbVptVnlMbWx6UW5WbVptVnlLR0oxWm1abGNpa3BJSHRjYmlBZ0lDQndZWE56ZDI5eVpDQTlJR0oxWm1abGNpNXdZWE56Y0doeVlYTmxYRzRnSUNBZ1luVm1abVZ5SUQwZ1luVm1abVZ5TG10bGVWeHVJQ0I5WEc0Z0lHbG1JQ2gwZVhCbGIyWWdZblZtWm1WeUlEMDlQU0FuYzNSeWFXNW5KeWtnZTF4dUlDQWdJR0oxWm1abGNpQTlJRzVsZHlCQ2RXWm1aWElvWW5WbVptVnlLVnh1SUNCOVhHNWNiaUFnZG1GeUlITjBjbWx3Y0dWa0lEMGdabWw0VUhKdll5aGlkV1ptWlhJc0lIQmhjM04zYjNKa0tWeHVYRzRnSUhaaGNpQjBlWEJsSUQwZ2MzUnlhWEJ3WldRdWRHRm5YRzRnSUhaaGNpQmtZWFJoSUQwZ2MzUnlhWEJ3WldRdVpHRjBZVnh1SUNCMllYSWdjM1ZpZEhsd1pTd2dibVJoZEdGY2JpQWdjM2RwZEdOb0lDaDBlWEJsS1NCN1hHNGdJQ0FnWTJGelpTQW5VRlZDVEVsRElFdEZXU2M2WEc0Z0lDQWdJQ0J1WkdGMFlTQTlJR0Z6YmpFdVVIVmliR2xqUzJWNUxtUmxZMjlrWlNoa1lYUmhMQ0FuWkdWeUp5bGNiaUFnSUNBZ0lITjFZblI1Y0dVZ1BTQnVaR0YwWVM1aGJHZHZjbWwwYUcwdVlXeG5iM0pwZEdodExtcHZhVzRvSnk0bktWeHVJQ0FnSUNBZ2MzZHBkR05vSUNoemRXSjBlWEJsS1NCN1hHNGdJQ0FnSUNBZ0lHTmhjMlVnSnpFdU1pNDROREF1TVRFek5UUTVMakV1TVM0eEp6cGNiaUFnSUNBZ0lDQWdJQ0J5WlhSMWNtNGdZWE51TVM1U1UwRlFkV0pzYVdOTFpYa3VaR1ZqYjJSbEtHNWtZWFJoTG5OMVltcGxZM1JRZFdKc2FXTkxaWGt1WkdGMFlTd2dKMlJsY2ljcFhHNGdJQ0FnSUNBZ0lHTmhjMlVnSnpFdU1pNDROREF1TVRBd05EVXVNaTR4SnpwY2JpQWdJQ0FnSUNBZ0lDQnVaR0YwWVM1emRXSnFaV04wVUhKcGRtRjBaVXRsZVNBOUlHNWtZWFJoTG5OMVltcGxZM1JRZFdKc2FXTkxaWGxjYmlBZ0lDQWdJQ0FnSUNCeVpYUjFjbTRnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdkSGx3WlRvZ0oyVmpKeXhjYmlBZ0lDQWdJQ0FnSUNBZ0lHUmhkR0U2SUc1a1lYUmhYRzRnSUNBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnSUNCallYTmxJQ2N4TGpJdU9EUXdMakV3TURRd0xqUXVNU2M2WEc0Z0lDQWdJQ0FnSUNBZ2JtUmhkR0V1WVd4bmIzSnBkR2h0TG5CaGNtRnRjeTV3ZFdKZmEyVjVJRDBnWVhOdU1TNUVVMEZ3WVhKaGJTNWtaV052WkdVb2JtUmhkR0V1YzNWaWFtVmpkRkIxWW14cFkwdGxlUzVrWVhSaExDQW5aR1Z5SnlsY2JpQWdJQ0FnSUNBZ0lDQnlaWFIxY200Z2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnZEhsd1pUb2dKMlJ6WVNjc1hHNGdJQ0FnSUNBZ0lDQWdJQ0JrWVhSaE9pQnVaR0YwWVM1aGJHZHZjbWwwYUcwdWNHRnlZVzF6WEc0Z0lDQWdJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ0lDQmtaV1poZFd4ME9pQjBhSEp2ZHlCdVpYY2dSWEp5YjNJb0ozVnVhMjV2ZDI0Z2EyVjVJR2xrSUNjZ0t5QnpkV0owZVhCbEtWeHVJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ2RHaHliM2NnYm1WM0lFVnljbTl5S0NkMWJtdHViM2R1SUd0bGVTQjBlWEJsSUNjZ0t5QjBlWEJsS1Z4dUlDQWdJR05oYzJVZ0owVk9RMUpaVUZSRlJDQlFVa2xXUVZSRklFdEZXU2M2WEc0Z0lDQWdJQ0JrWVhSaElEMGdZWE51TVM1RmJtTnllWEIwWldSUWNtbDJZWFJsUzJWNUxtUmxZMjlrWlNoa1lYUmhMQ0FuWkdWeUp5bGNiaUFnSUNBZ0lHUmhkR0VnUFNCa1pXTnllWEIwS0dSaGRHRXNJSEJoYzNOM2IzSmtLVnh1SUNBZ0lDQWdMeThnWm1Gc2JITWdkR2h5YjNWbmFGeHVJQ0FnSUdOaGMyVWdKMUJTU1ZaQlZFVWdTMFZaSnpwY2JpQWdJQ0FnSUc1a1lYUmhJRDBnWVhOdU1TNVFjbWwyWVhSbFMyVjVMbVJsWTI5a1pTaGtZWFJoTENBblpHVnlKeWxjYmlBZ0lDQWdJSE4xWW5SNWNHVWdQU0J1WkdGMFlTNWhiR2R2Y21sMGFHMHVZV3huYjNKcGRHaHRMbXB2YVc0b0p5NG5LVnh1SUNBZ0lDQWdjM2RwZEdOb0lDaHpkV0owZVhCbEtTQjdYRzRnSUNBZ0lDQWdJR05oYzJVZ0p6RXVNaTQ0TkRBdU1URXpOVFE1TGpFdU1TNHhKenBjYmlBZ0lDQWdJQ0FnSUNCeVpYUjFjbTRnWVhOdU1TNVNVMEZRY21sMllYUmxTMlY1TG1SbFkyOWtaU2h1WkdGMFlTNXpkV0pxWldOMFVISnBkbUYwWlV0bGVTd2dKMlJsY2ljcFhHNGdJQ0FnSUNBZ0lHTmhjMlVnSnpFdU1pNDROREF1TVRBd05EVXVNaTR4SnpwY2JpQWdJQ0FnSUNBZ0lDQnlaWFIxY200Z2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnWTNWeWRtVTZJRzVrWVhSaExtRnNaMjl5YVhSb2JTNWpkWEoyWlN4Y2JpQWdJQ0FnSUNBZ0lDQWdJSEJ5YVhaaGRHVkxaWGs2SUdGemJqRXVSVU5RY21sMllYUmxTMlY1TG1SbFkyOWtaU2h1WkdGMFlTNXpkV0pxWldOMFVISnBkbUYwWlV0bGVTd2dKMlJsY2ljcExuQnlhWFpoZEdWTFpYbGNiaUFnSUNBZ0lDQWdJQ0I5WEc0Z0lDQWdJQ0FnSUdOaGMyVWdKekV1TWk0NE5EQXVNVEF3TkRBdU5DNHhKenBjYmlBZ0lDQWdJQ0FnSUNCdVpHRjBZUzVoYkdkdmNtbDBhRzB1Y0dGeVlXMXpMbkJ5YVhaZmEyVjVJRDBnWVhOdU1TNUVVMEZ3WVhKaGJTNWtaV052WkdVb2JtUmhkR0V1YzNWaWFtVmpkRkJ5YVhaaGRHVkxaWGtzSUNka1pYSW5LVnh1SUNBZ0lDQWdJQ0FnSUhKbGRIVnliaUI3WEc0Z0lDQWdJQ0FnSUNBZ0lDQjBlWEJsT2lBblpITmhKeXhjYmlBZ0lDQWdJQ0FnSUNBZ0lIQmhjbUZ0Y3pvZ2JtUmhkR0V1WVd4bmIzSnBkR2h0TG5CaGNtRnRjMXh1SUNBZ0lDQWdJQ0FnSUgxY2JpQWdJQ0FnSUNBZ1pHVm1ZWFZzZERvZ2RHaHliM2NnYm1WM0lFVnljbTl5S0NkMWJtdHViM2R1SUd0bGVTQnBaQ0FuSUNzZ2MzVmlkSGx3WlNsY2JpQWdJQ0FnSUgxY2JpQWdJQ0FnSUhSb2NtOTNJRzVsZHlCRmNuSnZjaWduZFc1cmJtOTNiaUJyWlhrZ2RIbHdaU0FuSUNzZ2RIbHdaU2xjYmlBZ0lDQmpZWE5sSUNkU1UwRWdVRlZDVEVsRElFdEZXU2M2WEc0Z0lDQWdJQ0J5WlhSMWNtNGdZWE51TVM1U1UwRlFkV0pzYVdOTFpYa3VaR1ZqYjJSbEtHUmhkR0VzSUNka1pYSW5LVnh1SUNBZ0lHTmhjMlVnSjFKVFFTQlFVa2xXUVZSRklFdEZXU2M2WEc0Z0lDQWdJQ0J5WlhSMWNtNGdZWE51TVM1U1UwRlFjbWwyWVhSbFMyVjVMbVJsWTI5a1pTaGtZWFJoTENBblpHVnlKeWxjYmlBZ0lDQmpZWE5sSUNkRVUwRWdVRkpKVmtGVVJTQkxSVmtuT2x4dUlDQWdJQ0FnY21WMGRYSnVJSHRjYmlBZ0lDQWdJQ0FnZEhsd1pUb2dKMlJ6WVNjc1hHNGdJQ0FnSUNBZ0lIQmhjbUZ0Y3pvZ1lYTnVNUzVFVTBGUWNtbDJZWFJsUzJWNUxtUmxZMjlrWlNoa1lYUmhMQ0FuWkdWeUp5bGNiaUFnSUNBZ0lIMWNiaUFnSUNCallYTmxJQ2RGUXlCUVVrbFdRVlJGSUV0RldTYzZYRzRnSUNBZ0lDQmtZWFJoSUQwZ1lYTnVNUzVGUTFCeWFYWmhkR1ZMWlhrdVpHVmpiMlJsS0dSaGRHRXNJQ2RrWlhJbktWeHVJQ0FnSUNBZ2NtVjBkWEp1SUh0Y2JpQWdJQ0FnSUNBZ1kzVnlkbVU2SUdSaGRHRXVjR0Z5WVcxbGRHVnljeTUyWVd4MVpTeGNiaUFnSUNBZ0lDQWdjSEpwZG1GMFpVdGxlVG9nWkdGMFlTNXdjbWwyWVhSbFMyVjVYRzRnSUNBZ0lDQjlYRzRnSUNBZ1pHVm1ZWFZzZERvZ2RHaHliM2NnYm1WM0lFVnljbTl5S0NkMWJtdHViM2R1SUd0bGVTQjBlWEJsSUNjZ0t5QjBlWEJsS1Z4dUlDQjlYRzU5WEc1d1lYSnpaVXRsZVhNdWMybG5ibUYwZFhKbElEMGdZWE51TVM1emFXZHVZWFIxY21WY2JtWjFibU4wYVc5dUlHUmxZM0o1Y0hRZ0tHUmhkR0VzSUhCaGMzTjNiM0prS1NCN1hHNGdJSFpoY2lCellXeDBJRDBnWkdGMFlTNWhiR2R2Y21sMGFHMHVaR1ZqY25sd2RDNXJaR1V1YTJSbGNHRnlZVzF6TG5OaGJIUmNiaUFnZG1GeUlHbDBaWEp6SUQwZ2NHRnljMlZKYm5Rb1pHRjBZUzVoYkdkdmNtbDBhRzB1WkdWamNubHdkQzVyWkdVdWEyUmxjR0Z5WVcxekxtbDBaWEp6TG5SdlUzUnlhVzVuS0Nrc0lERXdLVnh1SUNCMllYSWdZV3huYnlBOUlHRmxjMmxrVzJSaGRHRXVZV3huYjNKcGRHaHRMbVJsWTNKNWNIUXVZMmx3YUdWeUxtRnNaMjh1YW05cGJpZ25MaWNwWFZ4dUlDQjJZWElnYVhZZ1BTQmtZWFJoTG1Gc1oyOXlhWFJvYlM1a1pXTnllWEIwTG1OcGNHaGxjaTVwZGx4dUlDQjJZWElnWTJsd2FHVnlWR1Y0ZENBOUlHUmhkR0V1YzNWaWFtVmpkRkJ5YVhaaGRHVkxaWGxjYmlBZ2RtRnlJR3RsZVd4bGJpQTlJSEJoY25ObFNXNTBLR0ZzWjI4dWMzQnNhWFFvSnkwbktWc3hYU3dnTVRBcElDOGdPRnh1SUNCMllYSWdhMlY1SUQwZ1kyOXRjR0YwTG5CaWEyUm1NbE41Ym1Nb2NHRnpjM2R2Y21Rc0lITmhiSFFzSUdsMFpYSnpMQ0JyWlhsc1pXNHBYRzRnSUhaaGNpQmphWEJvWlhJZ1BTQmphWEJvWlhKekxtTnlaV0YwWlVSbFkybHdhR1Z5YVhZb1lXeG5ieXdnYTJWNUxDQnBkaWxjYmlBZ2RtRnlJRzkxZENBOUlGdGRYRzRnSUc5MWRDNXdkWE5vS0dOcGNHaGxjaTUxY0dSaGRHVW9ZMmx3YUdWeVZHVjRkQ2twWEc0Z0lHOTFkQzV3ZFhOb0tHTnBjR2hsY2k1bWFXNWhiQ2dwS1Z4dUlDQnlaWFIxY200Z1FuVm1abVZ5TG1OdmJtTmhkQ2h2ZFhRcFhHNTlYRzRpWFgwPSIsIihmdW5jdGlvbiAoQnVmZmVyKXtcbnZhciBjcmVhdGVIbWFjID0gcmVxdWlyZSgnY3JlYXRlLWhtYWMnKVxudmFyIE1BWF9BTExPQyA9IE1hdGgucG93KDIsIDMwKSAtIDEgLy8gZGVmYXVsdCBpbiBpb2pzXG5cbmV4cG9ydHMucGJrZGYyID0gcGJrZGYyXG5mdW5jdGlvbiBwYmtkZjIgKHBhc3N3b3JkLCBzYWx0LCBpdGVyYXRpb25zLCBrZXlsZW4sIGRpZ2VzdCwgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBkaWdlc3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IGRpZ2VzdFxuICAgIGRpZ2VzdCA9IHVuZGVmaW5lZFxuICB9XG5cbiAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcignTm8gY2FsbGJhY2sgcHJvdmlkZWQgdG8gcGJrZGYyJylcbiAgfVxuXG4gIHZhciByZXN1bHQgPSBwYmtkZjJTeW5jKHBhc3N3b3JkLCBzYWx0LCBpdGVyYXRpb25zLCBrZXlsZW4sIGRpZ2VzdClcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgY2FsbGJhY2sodW5kZWZpbmVkLCByZXN1bHQpXG4gIH0pXG59XG5cbmV4cG9ydHMucGJrZGYyU3luYyA9IHBia2RmMlN5bmNcbmZ1bmN0aW9uIHBia2RmMlN5bmMgKHBhc3N3b3JkLCBzYWx0LCBpdGVyYXRpb25zLCBrZXlsZW4sIGRpZ2VzdCkge1xuICBpZiAodHlwZW9mIGl0ZXJhdGlvbnMgIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSXRlcmF0aW9ucyBub3QgYSBudW1iZXInKVxuICB9XG5cbiAgaWYgKGl0ZXJhdGlvbnMgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQmFkIGl0ZXJhdGlvbnMnKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBrZXlsZW4gIT09ICdudW1iZXInKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignS2V5IGxlbmd0aCBub3QgYSBudW1iZXInKVxuICB9XG5cbiAgaWYgKGtleWxlbiA8IDAgfHwga2V5bGVuID4gTUFYX0FMTE9DKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQmFkIGtleSBsZW5ndGgnKVxuICB9XG5cbiAgZGlnZXN0ID0gZGlnZXN0IHx8ICdzaGExJ1xuXG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKHBhc3N3b3JkKSkgcGFzc3dvcmQgPSBuZXcgQnVmZmVyKHBhc3N3b3JkLCAnYmluYXJ5JylcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoc2FsdCkpIHNhbHQgPSBuZXcgQnVmZmVyKHNhbHQsICdiaW5hcnknKVxuXG4gIHZhciBoTGVuXG4gIHZhciBsID0gMVxuICB2YXIgREsgPSBuZXcgQnVmZmVyKGtleWxlbilcbiAgdmFyIGJsb2NrMSA9IG5ldyBCdWZmZXIoc2FsdC5sZW5ndGggKyA0KVxuICBzYWx0LmNvcHkoYmxvY2sxLCAwLCAwLCBzYWx0Lmxlbmd0aClcblxuICB2YXIgclxuICB2YXIgVFxuXG4gIGZvciAodmFyIGkgPSAxOyBpIDw9IGw7IGkrKykge1xuICAgIGJsb2NrMS53cml0ZVVJbnQzMkJFKGksIHNhbHQubGVuZ3RoKVxuICAgIHZhciBVID0gY3JlYXRlSG1hYyhkaWdlc3QsIHBhc3N3b3JkKS51cGRhdGUoYmxvY2sxKS5kaWdlc3QoKVxuXG4gICAgaWYgKCFoTGVuKSB7XG4gICAgICBoTGVuID0gVS5sZW5ndGhcbiAgICAgIFQgPSBuZXcgQnVmZmVyKGhMZW4pXG4gICAgICBsID0gTWF0aC5jZWlsKGtleWxlbiAvIGhMZW4pXG4gICAgICByID0ga2V5bGVuIC0gKGwgLSAxKSAqIGhMZW5cbiAgICB9XG5cbiAgICBVLmNvcHkoVCwgMCwgMCwgaExlbilcblxuICAgIGZvciAodmFyIGogPSAxOyBqIDwgaXRlcmF0aW9uczsgaisrKSB7XG4gICAgICBVID0gY3JlYXRlSG1hYyhkaWdlc3QsIHBhc3N3b3JkKS51cGRhdGUoVSkuZGlnZXN0KClcblxuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBoTGVuOyBrKyspIHtcbiAgICAgICAgVFtrXSBePSBVW2tdXG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGRlc3RQb3MgPSAoaSAtIDEpICogaExlblxuICAgIHZhciBsZW4gPSAoaSA9PT0gbCA/IHIgOiBoTGVuKVxuICAgIFQuY29weShESywgZGVzdFBvcywgMCwgbGVuKVxuICB9XG5cbiAgcmV0dXJuIERLXG59XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12Y0dKclpHWXlMMkp5YjNkelpYSXVhbk1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJanRCUVVGQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRU0lzSW1acGJHVWlPaUpuWlc1bGNtRjBaV1F1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaWRtRnlJR055WldGMFpVaHRZV01nUFNCeVpYRjFhWEpsS0NkamNtVmhkR1V0YUcxaFl5Y3BYRzUyWVhJZ1RVRllYMEZNVEU5RElEMGdUV0YwYUM1d2IzY29NaXdnTXpBcElDMGdNU0F2THlCa1pXWmhkV3gwSUdsdUlHbHZhbk5jYmx4dVpYaHdiM0owY3k1d1ltdGtaaklnUFNCd1ltdGtaakpjYm1aMWJtTjBhVzl1SUhCaWEyUm1NaUFvY0dGemMzZHZjbVFzSUhOaGJIUXNJR2wwWlhKaGRHbHZibk1zSUd0bGVXeGxiaXdnWkdsblpYTjBMQ0JqWVd4c1ltRmpheWtnZTF4dUlDQnBaaUFvZEhsd1pXOW1JR1JwWjJWemRDQTlQVDBnSjJaMWJtTjBhVzl1SnlrZ2UxeHVJQ0FnSUdOaGJHeGlZV05ySUQwZ1pHbG5aWE4wWEc0Z0lDQWdaR2xuWlhOMElEMGdkVzVrWldacGJtVmtYRzRnSUgxY2JseHVJQ0JwWmlBb2RIbHdaVzltSUdOaGJHeGlZV05ySUNFOVBTQW5ablZ1WTNScGIyNG5LU0I3WEc0Z0lDQWdkR2h5YjNjZ2JtVjNJRVZ5Y205eUtDZE9ieUJqWVd4c1ltRmpheUJ3Y205MmFXUmxaQ0IwYnlCd1ltdGtaakluS1Z4dUlDQjlYRzVjYmlBZ2RtRnlJSEpsYzNWc2RDQTlJSEJpYTJSbU1sTjVibU1vY0dGemMzZHZjbVFzSUhOaGJIUXNJR2wwWlhKaGRHbHZibk1zSUd0bGVXeGxiaXdnWkdsblpYTjBLVnh1SUNCelpYUlVhVzFsYjNWMEtHWjFibU4wYVc5dUlDZ3BJSHRjYmlBZ0lDQmpZV3hzWW1GamF5aDFibVJsWm1sdVpXUXNJSEpsYzNWc2RDbGNiaUFnZlNsY2JuMWNibHh1Wlhod2IzSjBjeTV3WW10a1pqSlRlVzVqSUQwZ2NHSnJaR1l5VTNsdVkxeHVablZ1WTNScGIyNGdjR0pyWkdZeVUzbHVZeUFvY0dGemMzZHZjbVFzSUhOaGJIUXNJR2wwWlhKaGRHbHZibk1zSUd0bGVXeGxiaXdnWkdsblpYTjBLU0I3WEc0Z0lHbG1JQ2gwZVhCbGIyWWdhWFJsY21GMGFXOXVjeUFoUFQwZ0oyNTFiV0psY2ljcElIdGNiaUFnSUNCMGFISnZkeUJ1WlhjZ1ZIbHdaVVZ5Y205eUtDZEpkR1Z5WVhScGIyNXpJRzV2ZENCaElHNTFiV0psY2ljcFhHNGdJSDFjYmx4dUlDQnBaaUFvYVhSbGNtRjBhVzl1Y3lBOElEQXBJSHRjYmlBZ0lDQjBhSEp2ZHlCdVpYY2dWSGx3WlVWeWNtOXlLQ2RDWVdRZ2FYUmxjbUYwYVc5dWN5Y3BYRzRnSUgxY2JseHVJQ0JwWmlBb2RIbHdaVzltSUd0bGVXeGxiaUFoUFQwZ0oyNTFiV0psY2ljcElIdGNiaUFnSUNCMGFISnZkeUJ1WlhjZ1ZIbHdaVVZ5Y205eUtDZExaWGtnYkdWdVozUm9JRzV2ZENCaElHNTFiV0psY2ljcFhHNGdJSDFjYmx4dUlDQnBaaUFvYTJWNWJHVnVJRHdnTUNCOGZDQnJaWGxzWlc0Z1BpQk5RVmhmUVV4TVQwTXBJSHRjYmlBZ0lDQjBhSEp2ZHlCdVpYY2dWSGx3WlVWeWNtOXlLQ2RDWVdRZ2EyVjVJR3hsYm1kMGFDY3BYRzRnSUgxY2JseHVJQ0JrYVdkbGMzUWdQU0JrYVdkbGMzUWdmSHdnSjNOb1lURW5YRzVjYmlBZ2FXWWdLQ0ZDZFdabVpYSXVhWE5DZFdabVpYSW9jR0Z6YzNkdmNtUXBLU0J3WVhOemQyOXlaQ0E5SUc1bGR5QkNkV1ptWlhJb2NHRnpjM2R2Y21Rc0lDZGlhVzVoY25rbktWeHVJQ0JwWmlBb0lVSjFabVpsY2k1cGMwSjFabVpsY2loellXeDBLU2tnYzJGc2RDQTlJRzVsZHlCQ2RXWm1aWElvYzJGc2RDd2dKMkpwYm1GeWVTY3BYRzVjYmlBZ2RtRnlJR2hNWlc1Y2JpQWdkbUZ5SUd3Z1BTQXhYRzRnSUhaaGNpQkVTeUE5SUc1bGR5QkNkV1ptWlhJb2EyVjViR1Z1S1Z4dUlDQjJZWElnWW14dlkyc3hJRDBnYm1WM0lFSjFabVpsY2loellXeDBMbXhsYm1kMGFDQXJJRFFwWEc0Z0lITmhiSFF1WTI5d2VTaGliRzlqYXpFc0lEQXNJREFzSUhOaGJIUXViR1Z1WjNSb0tWeHVYRzRnSUhaaGNpQnlYRzRnSUhaaGNpQlVYRzVjYmlBZ1ptOXlJQ2gyWVhJZ2FTQTlJREU3SUdrZ1BEMGdiRHNnYVNzcktTQjdYRzRnSUNBZ1lteHZZMnN4TG5keWFYUmxWVWx1ZERNeVFrVW9hU3dnYzJGc2RDNXNaVzVuZEdncFhHNGdJQ0FnZG1GeUlGVWdQU0JqY21WaGRHVkliV0ZqS0dScFoyVnpkQ3dnY0dGemMzZHZjbVFwTG5Wd1pHRjBaU2hpYkc5amF6RXBMbVJwWjJWemRDZ3BYRzVjYmlBZ0lDQnBaaUFvSVdoTVpXNHBJSHRjYmlBZ0lDQWdJR2hNWlc0Z1BTQlZMbXhsYm1kMGFGeHVJQ0FnSUNBZ1ZDQTlJRzVsZHlCQ2RXWm1aWElvYUV4bGJpbGNiaUFnSUNBZ0lHd2dQU0JOWVhSb0xtTmxhV3dvYTJWNWJHVnVJQzhnYUV4bGJpbGNiaUFnSUNBZ0lISWdQU0JyWlhsc1pXNGdMU0FvYkNBdElERXBJQ29nYUV4bGJseHVJQ0FnSUgxY2JseHVJQ0FnSUZVdVkyOXdlU2hVTENBd0xDQXdMQ0JvVEdWdUtWeHVYRzRnSUNBZ1ptOXlJQ2gyWVhJZ2FpQTlJREU3SUdvZ1BDQnBkR1Z5WVhScGIyNXpPeUJxS3lzcElIdGNiaUFnSUNBZ0lGVWdQU0JqY21WaGRHVkliV0ZqS0dScFoyVnpkQ3dnY0dGemMzZHZjbVFwTG5Wd1pHRjBaU2hWS1M1a2FXZGxjM1FvS1Z4dVhHNGdJQ0FnSUNCbWIzSWdLSFpoY2lCcklEMGdNRHNnYXlBOElHaE1aVzQ3SUdzckt5a2dlMXh1SUNBZ0lDQWdJQ0JVVzJ0ZElGNDlJRlZiYTExY2JpQWdJQ0FnSUgxY2JpQWdJQ0I5WEc1Y2JpQWdJQ0IyWVhJZ1pHVnpkRkJ2Y3lBOUlDaHBJQzBnTVNrZ0tpQm9UR1Z1WEc0Z0lDQWdkbUZ5SUd4bGJpQTlJQ2hwSUQwOVBTQnNJRDhnY2lBNklHaE1aVzRwWEc0Z0lDQWdWQzVqYjNCNUtFUkxMQ0JrWlhOMFVHOXpMQ0F3TENCc1pXNHBYRzRnSUgxY2JseHVJQ0J5WlhSMWNtNGdSRXRjYm4xY2JpSmRmUT09IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xuJ3VzZSBzdHJpY3QnO1xudmFyIGNyZWF0ZUhhc2ggPSByZXF1aXJlKCdjcmVhdGUtaGFzaC9icm93c2VyJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG5cbnZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCdzdHJlYW0nKS5UcmFuc2Zvcm1cblxudmFyIFpFUk9TID0gbmV3IEJ1ZmZlcigxMjgpXG5aRVJPUy5maWxsKDApXG5cbmZ1bmN0aW9uIEhtYWMoYWxnLCBrZXkpIHtcbiAgVHJhbnNmb3JtLmNhbGwodGhpcylcbiAgYWxnID0gYWxnLnRvTG93ZXJDYXNlKClcbiAgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnKSB7XG4gICAga2V5ID0gbmV3IEJ1ZmZlcihrZXkpXG4gIH1cblxuICB2YXIgYmxvY2tzaXplID0gKGFsZyA9PT0gJ3NoYTUxMicgfHwgYWxnID09PSAnc2hhMzg0JykgPyAxMjggOiA2NFxuXG4gIHRoaXMuX2FsZyA9IGFsZ1xuICB0aGlzLl9rZXkgPSBrZXlcblxuICBpZiAoa2V5Lmxlbmd0aCA+IGJsb2Nrc2l6ZSkge1xuICAgIGtleSA9IGNyZWF0ZUhhc2goYWxnKS51cGRhdGUoa2V5KS5kaWdlc3QoKVxuXG4gIH0gZWxzZSBpZiAoa2V5Lmxlbmd0aCA8IGJsb2Nrc2l6ZSkge1xuICAgIGtleSA9IEJ1ZmZlci5jb25jYXQoW2tleSwgWkVST1NdLCBibG9ja3NpemUpXG4gIH1cblxuICB2YXIgaXBhZCA9IHRoaXMuX2lwYWQgPSBuZXcgQnVmZmVyKGJsb2Nrc2l6ZSlcbiAgdmFyIG9wYWQgPSB0aGlzLl9vcGFkID0gbmV3IEJ1ZmZlcihibG9ja3NpemUpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBibG9ja3NpemU7IGkrKykge1xuICAgIGlwYWRbaV0gPSBrZXlbaV0gXiAweDM2XG4gICAgb3BhZFtpXSA9IGtleVtpXSBeIDB4NUNcbiAgfVxuXG4gIHRoaXMuX2hhc2ggPSBjcmVhdGVIYXNoKGFsZykudXBkYXRlKGlwYWQpXG59XG5cbmluaGVyaXRzKEhtYWMsIFRyYW5zZm9ybSlcblxuSG1hYy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGRhdGEsIGVuYykge1xuICB0aGlzLl9oYXNoLnVwZGF0ZShkYXRhLCBlbmMpXG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuSG1hYy5wcm90b3R5cGUuX3RyYW5zZm9ybSA9IGZ1bmN0aW9uIChkYXRhLCBfLCBuZXh0KSB7XG4gIHRoaXMuX2hhc2gudXBkYXRlKGRhdGEpXG5cbiAgbmV4dCgpXG59XG5cbkhtYWMucHJvdG90eXBlLl9mbHVzaCA9IGZ1bmN0aW9uIChuZXh0KSB7XG4gIHRoaXMucHVzaCh0aGlzLmRpZ2VzdCgpKVxuXG4gIG5leHQoKVxufVxuXG5IbWFjLnByb3RvdHlwZS5kaWdlc3QgPSBmdW5jdGlvbiAoZW5jKSB7XG4gIHZhciBoID0gdGhpcy5faGFzaC5kaWdlc3QoKVxuXG4gIHJldHVybiBjcmVhdGVIYXNoKHRoaXMuX2FsZykudXBkYXRlKHRoaXMuX29wYWQpLnVwZGF0ZShoKS5kaWdlc3QoZW5jKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZUhtYWMoYWxnLCBrZXkpIHtcbiAgcmV0dXJuIG5ldyBIbWFjKGFsZywga2V5KVxufVxuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIpXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUwyNXZaR1ZmYlc5a2RXeGxjeTlqY25sd2RHOHRZbkp2ZDNObGNtbG1lUzl1YjJSbFgyMXZaSFZzWlhNdlkzSmxZWFJsTFdodFlXTXZZbkp2ZDNObGNpNXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPMEZCUVVFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CSWl3aVptbHNaU0k2SW1kbGJtVnlZWFJsWkM1cWN5SXNJbk52ZFhKalpWSnZiM1FpT2lJaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNld5SW5kWE5sSUhOMGNtbGpkQ2M3WEc1MllYSWdZM0psWVhSbFNHRnphQ0E5SUhKbGNYVnBjbVVvSjJOeVpXRjBaUzFvWVhOb0wySnliM2R6WlhJbktUdGNiblpoY2lCcGJtaGxjbWwwY3lBOUlISmxjWFZwY21Vb0oybHVhR1Z5YVhSekp5bGNibHh1ZG1GeUlGUnlZVzV6Wm05eWJTQTlJSEpsY1hWcGNtVW9KM04wY21WaGJTY3BMbFJ5WVc1elptOXliVnh1WEc1MllYSWdXa1ZTVDFNZ1BTQnVaWGNnUW5WbVptVnlLREV5T0NsY2JscEZVazlUTG1acGJHd29NQ2xjYmx4dVpuVnVZM1JwYjI0Z1NHMWhZeWhoYkdjc0lHdGxlU2tnZTF4dUlDQlVjbUZ1YzJadmNtMHVZMkZzYkNoMGFHbHpLVnh1SUNCaGJHY2dQU0JoYkdjdWRHOU1iM2RsY2tOaGMyVW9LVnh1SUNCcFppQW9kSGx3Wlc5bUlHdGxlU0E5UFQwZ0ozTjBjbWx1WnljcElIdGNiaUFnSUNCclpYa2dQU0J1WlhjZ1FuVm1abVZ5S0d0bGVTbGNiaUFnZlZ4dVhHNGdJSFpoY2lCaWJHOWphM05wZW1VZ1BTQW9ZV3huSUQwOVBTQW5jMmhoTlRFeUp5QjhmQ0JoYkdjZ1BUMDlJQ2R6YUdFek9EUW5LU0EvSURFeU9DQTZJRFkwWEc1Y2JpQWdkR2hwY3k1ZllXeG5JRDBnWVd4blhHNGdJSFJvYVhNdVgydGxlU0E5SUd0bGVWeHVYRzRnSUdsbUlDaHJaWGt1YkdWdVozUm9JRDRnWW14dlkydHphWHBsS1NCN1hHNGdJQ0FnYTJWNUlEMGdZM0psWVhSbFNHRnphQ2hoYkdjcExuVndaR0YwWlNoclpYa3BMbVJwWjJWemRDZ3BYRzVjYmlBZ2ZTQmxiSE5sSUdsbUlDaHJaWGt1YkdWdVozUm9JRHdnWW14dlkydHphWHBsS1NCN1hHNGdJQ0FnYTJWNUlEMGdRblZtWm1WeUxtTnZibU5oZENoYmEyVjVMQ0JhUlZKUFUxMHNJR0pzYjJOcmMybDZaU2xjYmlBZ2ZWeHVYRzRnSUhaaGNpQnBjR0ZrSUQwZ2RHaHBjeTVmYVhCaFpDQTlJRzVsZHlCQ2RXWm1aWElvWW14dlkydHphWHBsS1Z4dUlDQjJZWElnYjNCaFpDQTlJSFJvYVhNdVgyOXdZV1FnUFNCdVpYY2dRblZtWm1WeUtHSnNiMk5yYzJsNlpTbGNibHh1SUNCbWIzSWdLSFpoY2lCcElEMGdNRHNnYVNBOElHSnNiMk5yYzJsNlpUc2dhU3NyS1NCN1hHNGdJQ0FnYVhCaFpGdHBYU0E5SUd0bGVWdHBYU0JlSURCNE16WmNiaUFnSUNCdmNHRmtXMmxkSUQwZ2EyVjVXMmxkSUY0Z01IZzFRMXh1SUNCOVhHNWNiaUFnZEdocGN5NWZhR0Z6YUNBOUlHTnlaV0YwWlVoaGMyZ29ZV3huS1M1MWNHUmhkR1VvYVhCaFpDbGNibjFjYmx4dWFXNW9aWEpwZEhNb1NHMWhZeXdnVkhKaGJuTm1iM0p0S1Z4dVhHNUliV0ZqTG5CeWIzUnZkSGx3WlM1MWNHUmhkR1VnUFNCbWRXNWpkR2x2YmlBb1pHRjBZU3dnWlc1aktTQjdYRzRnSUhSb2FYTXVYMmhoYzJndWRYQmtZWFJsS0dSaGRHRXNJR1Z1WXlsY2JseHVJQ0J5WlhSMWNtNGdkR2hwYzF4dWZWeHVYRzVJYldGakxuQnliM1J2ZEhsd1pTNWZkSEpoYm5ObWIzSnRJRDBnWm5WdVkzUnBiMjRnS0dSaGRHRXNJRjhzSUc1bGVIUXBJSHRjYmlBZ2RHaHBjeTVmYUdGemFDNTFjR1JoZEdVb1pHRjBZU2xjYmx4dUlDQnVaWGgwS0NsY2JuMWNibHh1U0cxaFl5NXdjbTkwYjNSNWNHVXVYMlpzZFhOb0lEMGdablZ1WTNScGIyNGdLRzVsZUhRcElIdGNiaUFnZEdocGN5NXdkWE5vS0hSb2FYTXVaR2xuWlhOMEtDa3BYRzVjYmlBZ2JtVjRkQ2dwWEc1OVhHNWNia2h0WVdNdWNISnZkRzkwZVhCbExtUnBaMlZ6ZENBOUlHWjFibU4wYVc5dUlDaGxibU1wSUh0Y2JpQWdkbUZ5SUdnZ1BTQjBhR2x6TGw5b1lYTm9MbVJwWjJWemRDZ3BYRzVjYmlBZ2NtVjBkWEp1SUdOeVpXRjBaVWhoYzJnb2RHaHBjeTVmWVd4bktTNTFjR1JoZEdVb2RHaHBjeTVmYjNCaFpDa3VkWEJrWVhSbEtHZ3BMbVJwWjJWemRDaGxibU1wWEc1OVhHNWNibTF2WkhWc1pTNWxlSEJ2Y25SeklEMGdablZ1WTNScGIyNGdZM0psWVhSbFNHMWhZeWhoYkdjc0lHdGxlU2tnZTF4dUlDQnlaWFIxY200Z2JtVjNJRWh0WVdNb1lXeG5MQ0JyWlhrcFhHNTlYRzRpWFgwPSIsIihmdW5jdGlvbiAoQnVmZmVyKXtcbid1c2Ugc3RyaWN0JztcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbnZhciBtZDUgPSByZXF1aXJlKCcuL21kNScpXG52YXIgcm1kMTYwID0gcmVxdWlyZSgncmlwZW1kMTYwJylcbnZhciBzaGEgPSByZXF1aXJlKCdzaGEuanMnKVxuXG52YXIgQmFzZSA9IHJlcXVpcmUoJ2NpcGhlci1iYXNlJylcblxuZnVuY3Rpb24gSGFzaE5vQ29uc3RydWN0b3IoaGFzaCkge1xuICBCYXNlLmNhbGwodGhpcywgJ2RpZ2VzdCcpXG5cbiAgdGhpcy5faGFzaCA9IGhhc2hcbiAgdGhpcy5idWZmZXJzID0gW11cbn1cblxuaW5oZXJpdHMoSGFzaE5vQ29uc3RydWN0b3IsIEJhc2UpXG5cbkhhc2hOb0NvbnN0cnVjdG9yLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdGhpcy5idWZmZXJzLnB1c2goZGF0YSlcbn1cblxuSGFzaE5vQ29uc3RydWN0b3IucHJvdG90eXBlLl9maW5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGJ1ZiA9IEJ1ZmZlci5jb25jYXQodGhpcy5idWZmZXJzKVxuICB2YXIgciA9IHRoaXMuX2hhc2goYnVmKVxuICB0aGlzLmJ1ZmZlcnMgPSBudWxsXG5cbiAgcmV0dXJuIHJcbn1cblxuZnVuY3Rpb24gSGFzaChoYXNoKSB7XG4gIEJhc2UuY2FsbCh0aGlzLCAnZGlnZXN0JylcblxuICB0aGlzLl9oYXNoID0gaGFzaFxufVxuXG5pbmhlcml0cyhIYXNoLCBCYXNlKVxuXG5IYXNoLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdGhpcy5faGFzaC51cGRhdGUoZGF0YSlcbn1cblxuSGFzaC5wcm90b3R5cGUuX2ZpbmFsID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5faGFzaC5kaWdlc3QoKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZUhhc2ggKGFsZykge1xuICBhbGcgPSBhbGcudG9Mb3dlckNhc2UoKVxuICBpZiAoJ21kNScgPT09IGFsZykgcmV0dXJuIG5ldyBIYXNoTm9Db25zdHJ1Y3RvcihtZDUpXG4gIGlmICgncm1kMTYwJyA9PT0gYWxnIHx8ICdyaXBlbWQxNjAnID09PSBhbGcpIHJldHVybiBuZXcgSGFzaE5vQ29uc3RydWN0b3Iocm1kMTYwKVxuXG4gIHJldHVybiBuZXcgSGFzaChzaGEoYWxnKSlcbn1cblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZZM0psWVhSbExXaGhjMmd2WW5KdmQzTmxjaTVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pTzBGQlFVRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFTSXNJbVpwYkdVaU9pSm5aVzVsY21GMFpXUXVhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpSjNWelpTQnpkSEpwWTNRbk8xeHVkbUZ5SUdsdWFHVnlhWFJ6SUQwZ2NtVnhkV2x5WlNnbmFXNW9aWEpwZEhNbktWeHVkbUZ5SUcxa05TQTlJSEpsY1hWcGNtVW9KeTR2YldRMUp5bGNiblpoY2lCeWJXUXhOakFnUFNCeVpYRjFhWEpsS0NkeWFYQmxiV1F4TmpBbktWeHVkbUZ5SUhOb1lTQTlJSEpsY1hWcGNtVW9KM05vWVM1cWN5Y3BYRzVjYm5aaGNpQkNZWE5sSUQwZ2NtVnhkV2x5WlNnblkybHdhR1Z5TFdKaGMyVW5LVnh1WEc1bWRXNWpkR2x2YmlCSVlYTm9UbTlEYjI1emRISjFZM1J2Y2lob1lYTm9LU0I3WEc0Z0lFSmhjMlV1WTJGc2JDaDBhR2x6TENBblpHbG5aWE4wSnlsY2JseHVJQ0IwYUdsekxsOW9ZWE5vSUQwZ2FHRnphRnh1SUNCMGFHbHpMbUoxWm1abGNuTWdQU0JiWFZ4dWZWeHVYRzVwYm1obGNtbDBjeWhJWVhOb1RtOURiMjV6ZEhKMVkzUnZjaXdnUW1GelpTbGNibHh1U0dGemFFNXZRMjl1YzNSeWRXTjBiM0l1Y0hKdmRHOTBlWEJsTGw5MWNHUmhkR1VnUFNCbWRXNWpkR2x2YmlBb1pHRjBZU2tnZTF4dUlDQjBhR2x6TG1KMVptWmxjbk11Y0hWemFDaGtZWFJoS1Z4dWZWeHVYRzVJWVhOb1RtOURiMjV6ZEhKMVkzUnZjaTV3Y205MGIzUjVjR1V1WDJacGJtRnNJRDBnWm5WdVkzUnBiMjRnS0NrZ2UxeHVJQ0IyWVhJZ1luVm1JRDBnUW5WbVptVnlMbU52Ym1OaGRDaDBhR2x6TG1KMVptWmxjbk1wWEc0Z0lIWmhjaUJ5SUQwZ2RHaHBjeTVmYUdGemFDaGlkV1lwWEc0Z0lIUm9hWE11WW5WbVptVnljeUE5SUc1MWJHeGNibHh1SUNCeVpYUjFjbTRnY2x4dWZWeHVYRzVtZFc1amRHbHZiaUJJWVhOb0tHaGhjMmdwSUh0Y2JpQWdRbUZ6WlM1allXeHNLSFJvYVhNc0lDZGthV2RsYzNRbktWeHVYRzRnSUhSb2FYTXVYMmhoYzJnZ1BTQm9ZWE5vWEc1OVhHNWNibWx1YUdWeWFYUnpLRWhoYzJnc0lFSmhjMlVwWEc1Y2JraGhjMmd1Y0hKdmRHOTBlWEJsTGw5MWNHUmhkR1VnUFNCbWRXNWpkR2x2YmlBb1pHRjBZU2tnZTF4dUlDQjBhR2x6TGw5b1lYTm9MblZ3WkdGMFpTaGtZWFJoS1Z4dWZWeHVYRzVJWVhOb0xuQnliM1J2ZEhsd1pTNWZabWx1WVd3Z1BTQm1kVzVqZEdsdmJpQW9LU0I3WEc0Z0lISmxkSFZ5YmlCMGFHbHpMbDlvWVhOb0xtUnBaMlZ6ZENncFhHNTlYRzVjYm0xdlpIVnNaUzVsZUhCdmNuUnpJRDBnWm5WdVkzUnBiMjRnWTNKbFlYUmxTR0Z6YUNBb1lXeG5LU0I3WEc0Z0lHRnNaeUE5SUdGc1p5NTBiMHh2ZDJWeVEyRnpaU2dwWEc0Z0lHbG1JQ2duYldRMUp5QTlQVDBnWVd4bktTQnlaWFIxY200Z2JtVjNJRWhoYzJoT2IwTnZibk4wY25WamRHOXlLRzFrTlNsY2JpQWdhV1lnS0NkeWJXUXhOakFuSUQwOVBTQmhiR2NnZkh3Z0ozSnBjR1Z0WkRFMk1DY2dQVDA5SUdGc1p5a2djbVYwZFhKdUlHNWxkeUJJWVhOb1RtOURiMjV6ZEhKMVkzUnZjaWh5YldReE5qQXBYRzVjYmlBZ2NtVjBkWEp1SUc1bGR5QklZWE5vS0hOb1lTaGhiR2NwS1Z4dWZWeHVJbDE5IiwidmFyIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIFNIQSAoYWxnb3JpdGhtKSB7XG4gIGFsZ29yaXRobSA9IGFsZ29yaXRobS50b0xvd2VyQ2FzZSgpXG5cbiAgdmFyIEFsZ29yaXRobSA9IGV4cG9ydHNbYWxnb3JpdGhtXVxuICBpZiAoIUFsZ29yaXRobSkgdGhyb3cgbmV3IEVycm9yKGFsZ29yaXRobSArICcgaXMgbm90IHN1cHBvcnRlZCAod2UgYWNjZXB0IHB1bGwgcmVxdWVzdHMpJylcblxuICByZXR1cm4gbmV3IEFsZ29yaXRobSgpXG59XG5cbmV4cG9ydHMuc2hhID0gcmVxdWlyZSgnLi9zaGEnKVxuZXhwb3J0cy5zaGExID0gcmVxdWlyZSgnLi9zaGExJylcbmV4cG9ydHMuc2hhMjI0ID0gcmVxdWlyZSgnLi9zaGEyMjQnKVxuZXhwb3J0cy5zaGEyNTYgPSByZXF1aXJlKCcuL3NoYTI1NicpXG5leHBvcnRzLnNoYTM4NCA9IHJlcXVpcmUoJy4vc2hhMzg0JylcbmV4cG9ydHMuc2hhNTEyID0gcmVxdWlyZSgnLi9zaGE1MTInKVxuIiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxudmFyIFNIQTUxMiA9IHJlcXVpcmUoJy4vc2hhNTEyJylcbnZhciBIYXNoID0gcmVxdWlyZSgnLi9oYXNoJylcblxudmFyIFcgPSBuZXcgQXJyYXkoMTYwKVxuXG5mdW5jdGlvbiBTaGEzODQgKCkge1xuICB0aGlzLmluaXQoKVxuICB0aGlzLl93ID0gV1xuXG4gIEhhc2guY2FsbCh0aGlzLCAxMjgsIDExMilcbn1cblxuaW5oZXJpdHMoU2hhMzg0LCBTSEE1MTIpXG5cblNoYTM4NC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fYSA9IDB4Y2JiYjlkNWQgfCAwXG4gIHRoaXMuX2IgPSAweDYyOWEyOTJhIHwgMFxuICB0aGlzLl9jID0gMHg5MTU5MDE1YSB8IDBcbiAgdGhpcy5fZCA9IDB4MTUyZmVjZDggfCAwXG4gIHRoaXMuX2UgPSAweDY3MzMyNjY3IHwgMFxuICB0aGlzLl9mID0gMHg4ZWI0NGE4NyB8IDBcbiAgdGhpcy5fZyA9IDB4ZGIwYzJlMGQgfCAwXG4gIHRoaXMuX2ggPSAweDQ3YjU0ODFkIHwgMFxuXG4gIHRoaXMuX2FsID0gMHhjMTA1OWVkOCB8IDBcbiAgdGhpcy5fYmwgPSAweDM2N2NkNTA3IHwgMFxuICB0aGlzLl9jbCA9IDB4MzA3MGRkMTcgfCAwXG4gIHRoaXMuX2RsID0gMHhmNzBlNTkzOSB8IDBcbiAgdGhpcy5fZWwgPSAweGZmYzAwYjMxIHwgMFxuICB0aGlzLl9mbCA9IDB4Njg1ODE1MTEgfCAwXG4gIHRoaXMuX2dsID0gMHg2NGY5OGZhNyB8IDBcbiAgdGhpcy5faGwgPSAweGJlZmE0ZmE0IHwgMFxuXG4gIHJldHVybiB0aGlzXG59XG5cblNoYTM4NC5wcm90b3R5cGUuX2hhc2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBIID0gbmV3IEJ1ZmZlcig0OClcblxuICBmdW5jdGlvbiB3cml0ZUludDY0QkUgKGgsIGwsIG9mZnNldCkge1xuICAgIEgud3JpdGVJbnQzMkJFKGgsIG9mZnNldClcbiAgICBILndyaXRlSW50MzJCRShsLCBvZmZzZXQgKyA0KVxuICB9XG5cbiAgd3JpdGVJbnQ2NEJFKHRoaXMuX2EsIHRoaXMuX2FsLCAwKVxuICB3cml0ZUludDY0QkUodGhpcy5fYiwgdGhpcy5fYmwsIDgpXG4gIHdyaXRlSW50NjRCRSh0aGlzLl9jLCB0aGlzLl9jbCwgMTYpXG4gIHdyaXRlSW50NjRCRSh0aGlzLl9kLCB0aGlzLl9kbCwgMjQpXG4gIHdyaXRlSW50NjRCRSh0aGlzLl9lLCB0aGlzLl9lbCwgMzIpXG4gIHdyaXRlSW50NjRCRSh0aGlzLl9mLCB0aGlzLl9mbCwgNDApXG5cbiAgcmV0dXJuIEhcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTaGEzODRcblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZZM0psWVhSbExXaGhjMmd2Ym05a1pWOXRiMlIxYkdWekwzTm9ZUzVxY3k5emFHRXpPRFF1YW5NaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWp0QlFVRkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRU0lzSW1acGJHVWlPaUpuWlc1bGNtRjBaV1F1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaWRtRnlJR2x1YUdWeWFYUnpJRDBnY21WeGRXbHlaU2duYVc1b1pYSnBkSE1uS1Z4dWRtRnlJRk5JUVRVeE1pQTlJSEpsY1hWcGNtVW9KeTR2YzJoaE5URXlKeWxjYm5aaGNpQklZWE5vSUQwZ2NtVnhkV2x5WlNnbkxpOW9ZWE5vSnlsY2JseHVkbUZ5SUZjZ1BTQnVaWGNnUVhKeVlYa29NVFl3S1Z4dVhHNW1kVzVqZEdsdmJpQlRhR0V6T0RRZ0tDa2dlMXh1SUNCMGFHbHpMbWx1YVhRb0tWeHVJQ0IwYUdsekxsOTNJRDBnVjF4dVhHNGdJRWhoYzJndVkyRnNiQ2gwYUdsekxDQXhNamdzSURFeE1pbGNibjFjYmx4dWFXNW9aWEpwZEhNb1UyaGhNemcwTENCVFNFRTFNVElwWEc1Y2JsTm9ZVE00TkM1d2NtOTBiM1I1Y0dVdWFXNXBkQ0E5SUdaMWJtTjBhVzl1SUNncElIdGNiaUFnZEdocGN5NWZZU0E5SURCNFkySmlZamxrTldRZ2ZDQXdYRzRnSUhSb2FYTXVYMklnUFNBd2VEWXlPV0V5T1RKaElId2dNRnh1SUNCMGFHbHpMbDlqSUQwZ01IZzVNVFU1TURFMVlTQjhJREJjYmlBZ2RHaHBjeTVmWkNBOUlEQjRNVFV5Wm1WalpEZ2dmQ0F3WEc0Z0lIUm9hWE11WDJVZ1BTQXdlRFkzTXpNeU5qWTNJSHdnTUZ4dUlDQjBhR2x6TGw5bUlEMGdNSGc0WldJME5HRTROeUI4SURCY2JpQWdkR2hwY3k1Zlp5QTlJREI0WkdJd1l6SmxNR1FnZkNBd1hHNGdJSFJvYVhNdVgyZ2dQU0F3ZURRM1lqVTBPREZrSUh3Z01GeHVYRzRnSUhSb2FYTXVYMkZzSUQwZ01IaGpNVEExT1dWa09DQjhJREJjYmlBZ2RHaHBjeTVmWW13Z1BTQXdlRE0yTjJOa05UQTNJSHdnTUZ4dUlDQjBhR2x6TGw5amJDQTlJREI0TXpBM01HUmtNVGNnZkNBd1hHNGdJSFJvYVhNdVgyUnNJRDBnTUhobU56QmxOVGt6T1NCOElEQmNiaUFnZEdocGN5NWZaV3dnUFNBd2VHWm1ZekF3WWpNeElId2dNRnh1SUNCMGFHbHpMbDltYkNBOUlEQjROamcxT0RFMU1URWdmQ0F3WEc0Z0lIUm9hWE11WDJkc0lEMGdNSGcyTkdZNU9HWmhOeUI4SURCY2JpQWdkR2hwY3k1ZmFHd2dQU0F3ZUdKbFptRTBabUUwSUh3Z01GeHVYRzRnSUhKbGRIVnliaUIwYUdselhHNTlYRzVjYmxOb1lUTTROQzV3Y205MGIzUjVjR1V1WDJoaGMyZ2dQU0JtZFc1amRHbHZiaUFvS1NCN1hHNGdJSFpoY2lCSUlEMGdibVYzSUVKMVptWmxjaWcwT0NsY2JseHVJQ0JtZFc1amRHbHZiaUIzY21sMFpVbHVkRFkwUWtVZ0tHZ3NJR3dzSUc5bVpuTmxkQ2tnZTF4dUlDQWdJRWd1ZDNKcGRHVkpiblF6TWtKRktHZ3NJRzltWm5ObGRDbGNiaUFnSUNCSUxuZHlhWFJsU1c1ME16SkNSU2hzTENCdlptWnpaWFFnS3lBMEtWeHVJQ0I5WEc1Y2JpQWdkM0pwZEdWSmJuUTJORUpGS0hSb2FYTXVYMkVzSUhSb2FYTXVYMkZzTENBd0tWeHVJQ0IzY21sMFpVbHVkRFkwUWtVb2RHaHBjeTVmWWl3Z2RHaHBjeTVmWW13c0lEZ3BYRzRnSUhkeWFYUmxTVzUwTmpSQ1JTaDBhR2x6TGw5akxDQjBhR2x6TGw5amJDd2dNVFlwWEc0Z0lIZHlhWFJsU1c1ME5qUkNSU2gwYUdsekxsOWtMQ0IwYUdsekxsOWtiQ3dnTWpRcFhHNGdJSGR5YVhSbFNXNTBOalJDUlNoMGFHbHpMbDlsTENCMGFHbHpMbDlsYkN3Z016SXBYRzRnSUhkeWFYUmxTVzUwTmpSQ1JTaDBhR2x6TGw5bUxDQjBhR2x6TGw5bWJDd2dOREFwWEc1Y2JpQWdjbVYwZFhKdUlFaGNibjFjYmx4dWJXOWtkV3hsTG1WNGNHOXlkSE1nUFNCVGFHRXpPRFJjYmlKZGZRPT0iLCIoZnVuY3Rpb24gKEJ1ZmZlcil7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG52YXIgSGFzaCA9IHJlcXVpcmUoJy4vaGFzaCcpXG5cbnZhciBLID0gW1xuICAweDQyOGEyZjk4LCAweGQ3MjhhZTIyLCAweDcxMzc0NDkxLCAweDIzZWY2NWNkLFxuICAweGI1YzBmYmNmLCAweGVjNGQzYjJmLCAweGU5YjVkYmE1LCAweDgxODlkYmJjLFxuICAweDM5NTZjMjViLCAweGYzNDhiNTM4LCAweDU5ZjExMWYxLCAweGI2MDVkMDE5LFxuICAweDkyM2Y4MmE0LCAweGFmMTk0ZjliLCAweGFiMWM1ZWQ1LCAweGRhNmQ4MTE4LFxuICAweGQ4MDdhYTk4LCAweGEzMDMwMjQyLCAweDEyODM1YjAxLCAweDQ1NzA2ZmJlLFxuICAweDI0MzE4NWJlLCAweDRlZTRiMjhjLCAweDU1MGM3ZGMzLCAweGQ1ZmZiNGUyLFxuICAweDcyYmU1ZDc0LCAweGYyN2I4OTZmLCAweDgwZGViMWZlLCAweDNiMTY5NmIxLFxuICAweDliZGMwNmE3LCAweDI1YzcxMjM1LCAweGMxOWJmMTc0LCAweGNmNjkyNjk0LFxuICAweGU0OWI2OWMxLCAweDllZjE0YWQyLCAweGVmYmU0Nzg2LCAweDM4NGYyNWUzLFxuICAweDBmYzE5ZGM2LCAweDhiOGNkNWI1LCAweDI0MGNhMWNjLCAweDc3YWM5YzY1LFxuICAweDJkZTkyYzZmLCAweDU5MmIwMjc1LCAweDRhNzQ4NGFhLCAweDZlYTZlNDgzLFxuICAweDVjYjBhOWRjLCAweGJkNDFmYmQ0LCAweDc2Zjk4OGRhLCAweDgzMTE1M2I1LFxuICAweDk4M2U1MTUyLCAweGVlNjZkZmFiLCAweGE4MzFjNjZkLCAweDJkYjQzMjEwLFxuICAweGIwMDMyN2M4LCAweDk4ZmIyMTNmLCAweGJmNTk3ZmM3LCAweGJlZWYwZWU0LFxuICAweGM2ZTAwYmYzLCAweDNkYTg4ZmMyLCAweGQ1YTc5MTQ3LCAweDkzMGFhNzI1LFxuICAweDA2Y2E2MzUxLCAweGUwMDM4MjZmLCAweDE0MjkyOTY3LCAweDBhMGU2ZTcwLFxuICAweDI3YjcwYTg1LCAweDQ2ZDIyZmZjLCAweDJlMWIyMTM4LCAweDVjMjZjOTI2LFxuICAweDRkMmM2ZGZjLCAweDVhYzQyYWVkLCAweDUzMzgwZDEzLCAweDlkOTViM2RmLFxuICAweDY1MGE3MzU0LCAweDhiYWY2M2RlLCAweDc2NmEwYWJiLCAweDNjNzdiMmE4LFxuICAweDgxYzJjOTJlLCAweDQ3ZWRhZWU2LCAweDkyNzIyYzg1LCAweDE0ODIzNTNiLFxuICAweGEyYmZlOGExLCAweDRjZjEwMzY0LCAweGE4MWE2NjRiLCAweGJjNDIzMDAxLFxuICAweGMyNGI4YjcwLCAweGQwZjg5NzkxLCAweGM3NmM1MWEzLCAweDA2NTRiZTMwLFxuICAweGQxOTJlODE5LCAweGQ2ZWY1MjE4LCAweGQ2OTkwNjI0LCAweDU1NjVhOTEwLFxuICAweGY0MGUzNTg1LCAweDU3NzEyMDJhLCAweDEwNmFhMDcwLCAweDMyYmJkMWI4LFxuICAweDE5YTRjMTE2LCAweGI4ZDJkMGM4LCAweDFlMzc2YzA4LCAweDUxNDFhYjUzLFxuICAweDI3NDg3NzRjLCAweGRmOGVlYjk5LCAweDM0YjBiY2I1LCAweGUxOWI0OGE4LFxuICAweDM5MWMwY2IzLCAweGM1Yzk1YTYzLCAweDRlZDhhYTRhLCAweGUzNDE4YWNiLFxuICAweDViOWNjYTRmLCAweDc3NjNlMzczLCAweDY4MmU2ZmYzLCAweGQ2YjJiOGEzLFxuICAweDc0OGY4MmVlLCAweDVkZWZiMmZjLCAweDc4YTU2MzZmLCAweDQzMTcyZjYwLFxuICAweDg0Yzg3ODE0LCAweGExZjBhYjcyLCAweDhjYzcwMjA4LCAweDFhNjQzOWVjLFxuICAweDkwYmVmZmZhLCAweDIzNjMxZTI4LCAweGE0NTA2Y2ViLCAweGRlODJiZGU5LFxuICAweGJlZjlhM2Y3LCAweGIyYzY3OTE1LCAweGM2NzE3OGYyLCAweGUzNzI1MzJiLFxuICAweGNhMjczZWNlLCAweGVhMjY2MTljLCAweGQxODZiOGM3LCAweDIxYzBjMjA3LFxuICAweGVhZGE3ZGQ2LCAweGNkZTBlYjFlLCAweGY1N2Q0ZjdmLCAweGVlNmVkMTc4LFxuICAweDA2ZjA2N2FhLCAweDcyMTc2ZmJhLCAweDBhNjM3ZGM1LCAweGEyYzg5OGE2LFxuICAweDExM2Y5ODA0LCAweGJlZjkwZGFlLCAweDFiNzEwYjM1LCAweDEzMWM0NzFiLFxuICAweDI4ZGI3N2Y1LCAweDIzMDQ3ZDg0LCAweDMyY2FhYjdiLCAweDQwYzcyNDkzLFxuICAweDNjOWViZTBhLCAweDE1YzliZWJjLCAweDQzMWQ2N2M0LCAweDljMTAwZDRjLFxuICAweDRjYzVkNGJlLCAweGNiM2U0MmI2LCAweDU5N2YyOTljLCAweGZjNjU3ZTJhLFxuICAweDVmY2I2ZmFiLCAweDNhZDZmYWVjLCAweDZjNDQxOThjLCAweDRhNDc1ODE3XG5dXG5cbnZhciBXID0gbmV3IEFycmF5KDE2MClcblxuZnVuY3Rpb24gU2hhNTEyICgpIHtcbiAgdGhpcy5pbml0KClcbiAgdGhpcy5fdyA9IFdcblxuICBIYXNoLmNhbGwodGhpcywgMTI4LCAxMTIpXG59XG5cbmluaGVyaXRzKFNoYTUxMiwgSGFzaClcblxuU2hhNTEyLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9hID0gMHg2YTA5ZTY2NyB8IDBcbiAgdGhpcy5fYiA9IDB4YmI2N2FlODUgfCAwXG4gIHRoaXMuX2MgPSAweDNjNmVmMzcyIHwgMFxuICB0aGlzLl9kID0gMHhhNTRmZjUzYSB8IDBcbiAgdGhpcy5fZSA9IDB4NTEwZTUyN2YgfCAwXG4gIHRoaXMuX2YgPSAweDliMDU2ODhjIHwgMFxuICB0aGlzLl9nID0gMHgxZjgzZDlhYiB8IDBcbiAgdGhpcy5faCA9IDB4NWJlMGNkMTkgfCAwXG5cbiAgdGhpcy5fYWwgPSAweGYzYmNjOTA4IHwgMFxuICB0aGlzLl9ibCA9IDB4ODRjYWE3M2IgfCAwXG4gIHRoaXMuX2NsID0gMHhmZTk0ZjgyYiB8IDBcbiAgdGhpcy5fZGwgPSAweDVmMWQzNmYxIHwgMFxuICB0aGlzLl9lbCA9IDB4YWRlNjgyZDEgfCAwXG4gIHRoaXMuX2ZsID0gMHgyYjNlNmMxZiB8IDBcbiAgdGhpcy5fZ2wgPSAweGZiNDFiZDZiIHwgMFxuICB0aGlzLl9obCA9IDB4MTM3ZTIxNzkgfCAwXG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuZnVuY3Rpb24gQ2ggKHgsIHksIHopIHtcbiAgcmV0dXJuIHogXiAoeCAmICh5IF4geikpXG59XG5cbmZ1bmN0aW9uIE1haiAoeCwgeSwgeikge1xuICByZXR1cm4gKHggJiB5KSB8ICh6ICYgKHggfCB5KSlcbn1cblxuZnVuY3Rpb24gU2lnbWEwICh4LCB4bCkge1xuICByZXR1cm4gKHggPj4+IDI4IHwgeGwgPDwgNCkgXiAoeGwgPj4+IDIgfCB4IDw8IDMwKSBeICh4bCA+Pj4gNyB8IHggPDwgMjUpXG59XG5cbmZ1bmN0aW9uIFNpZ21hMSAoeCwgeGwpIHtcbiAgcmV0dXJuICh4ID4+PiAxNCB8IHhsIDw8IDE4KSBeICh4ID4+PiAxOCB8IHhsIDw8IDE0KSBeICh4bCA+Pj4gOSB8IHggPDwgMjMpXG59XG5cbmZ1bmN0aW9uIEdhbW1hMCAoeCwgeGwpIHtcbiAgcmV0dXJuICh4ID4+PiAxIHwgeGwgPDwgMzEpIF4gKHggPj4+IDggfCB4bCA8PCAyNCkgXiAoeCA+Pj4gNylcbn1cblxuZnVuY3Rpb24gR2FtbWEwbCAoeCwgeGwpIHtcbiAgcmV0dXJuICh4ID4+PiAxIHwgeGwgPDwgMzEpIF4gKHggPj4+IDggfCB4bCA8PCAyNCkgXiAoeCA+Pj4gNyB8IHhsIDw8IDI1KVxufVxuXG5mdW5jdGlvbiBHYW1tYTEgKHgsIHhsKSB7XG4gIHJldHVybiAoeCA+Pj4gMTkgfCB4bCA8PCAxMykgXiAoeGwgPj4+IDI5IHwgeCA8PCAzKSBeICh4ID4+PiA2KVxufVxuXG5mdW5jdGlvbiBHYW1tYTFsICh4LCB4bCkge1xuICByZXR1cm4gKHggPj4+IDE5IHwgeGwgPDwgMTMpIF4gKHhsID4+PiAyOSB8IHggPDwgMykgXiAoeCA+Pj4gNiB8IHhsIDw8IDI2KVxufVxuXG5TaGE1MTIucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoTSkge1xuICB2YXIgVyA9IHRoaXMuX3dcblxuICB2YXIgYSA9IHRoaXMuX2EgfCAwXG4gIHZhciBiID0gdGhpcy5fYiB8IDBcbiAgdmFyIGMgPSB0aGlzLl9jIHwgMFxuICB2YXIgZCA9IHRoaXMuX2QgfCAwXG4gIHZhciBlID0gdGhpcy5fZSB8IDBcbiAgdmFyIGYgPSB0aGlzLl9mIHwgMFxuICB2YXIgZyA9IHRoaXMuX2cgfCAwXG4gIHZhciBoID0gdGhpcy5faCB8IDBcblxuICB2YXIgYWwgPSB0aGlzLl9hbCB8IDBcbiAgdmFyIGJsID0gdGhpcy5fYmwgfCAwXG4gIHZhciBjbCA9IHRoaXMuX2NsIHwgMFxuICB2YXIgZGwgPSB0aGlzLl9kbCB8IDBcbiAgdmFyIGVsID0gdGhpcy5fZWwgfCAwXG4gIHZhciBmbCA9IHRoaXMuX2ZsIHwgMFxuICB2YXIgZ2wgPSB0aGlzLl9nbCB8IDBcbiAgdmFyIGhsID0gdGhpcy5faGwgfCAwXG5cbiAgdmFyIGkgPSAwXG4gIHZhciBqID0gMFxuICB2YXIgV2ksIFdpbFxuICBmdW5jdGlvbiBjYWxjVyAoKSB7XG4gICAgdmFyIHggPSBXW2ogLSAxNSAqIDJdXG4gICAgdmFyIHhsID0gV1tqIC0gMTUgKiAyICsgMV1cbiAgICB2YXIgZ2FtbWEwID0gR2FtbWEwKHgsIHhsKVxuICAgIHZhciBnYW1tYTBsID0gR2FtbWEwbCh4bCwgeClcblxuICAgIHggPSBXW2ogLSAyICogMl1cbiAgICB4bCA9IFdbaiAtIDIgKiAyICsgMV1cbiAgICB2YXIgZ2FtbWExID0gR2FtbWExKHgsIHhsKVxuICAgIHZhciBnYW1tYTFsID0gR2FtbWExbCh4bCwgeClcblxuICAgIC8vIFdbaV0gPSBnYW1tYTAgKyBXW2kgLSA3XSArIGdhbW1hMSArIFdbaSAtIDE2XVxuICAgIHZhciBXaTcgPSBXW2ogLSA3ICogMl1cbiAgICB2YXIgV2k3bCA9IFdbaiAtIDcgKiAyICsgMV1cblxuICAgIHZhciBXaTE2ID0gV1tqIC0gMTYgKiAyXVxuICAgIHZhciBXaTE2bCA9IFdbaiAtIDE2ICogMiArIDFdXG5cbiAgICBXaWwgPSBnYW1tYTBsICsgV2k3bFxuICAgIFdpID0gZ2FtbWEwICsgV2k3ICsgKChXaWwgPj4+IDApIDwgKGdhbW1hMGwgPj4+IDApID8gMSA6IDApXG4gICAgV2lsID0gV2lsICsgZ2FtbWExbFxuICAgIFdpID0gV2kgKyBnYW1tYTEgKyAoKFdpbCA+Pj4gMCkgPCAoZ2FtbWExbCA+Pj4gMCkgPyAxIDogMClcbiAgICBXaWwgPSBXaWwgKyBXaTE2bFxuICAgIFdpID0gV2kgKyBXaTE2ICsgKChXaWwgPj4+IDApIDwgKFdpMTZsID4+PiAwKSA/IDEgOiAwKVxuICB9XG5cbiAgZnVuY3Rpb24gbG9vcCAoKSB7XG4gICAgV1tqXSA9IFdpXG4gICAgV1tqICsgMV0gPSBXaWxcblxuICAgIHZhciBtYWogPSBNYWooYSwgYiwgYylcbiAgICB2YXIgbWFqbCA9IE1haihhbCwgYmwsIGNsKVxuXG4gICAgdmFyIHNpZ21hMGggPSBTaWdtYTAoYSwgYWwpXG4gICAgdmFyIHNpZ21hMGwgPSBTaWdtYTAoYWwsIGEpXG4gICAgdmFyIHNpZ21hMWggPSBTaWdtYTEoZSwgZWwpXG4gICAgdmFyIHNpZ21hMWwgPSBTaWdtYTEoZWwsIGUpXG5cbiAgICAvLyB0MSA9IGggKyBzaWdtYTEgKyBjaCArIEtbaV0gKyBXW2ldXG4gICAgdmFyIEtpID0gS1tqXVxuICAgIHZhciBLaWwgPSBLW2ogKyAxXVxuXG4gICAgdmFyIGNoID0gQ2goZSwgZiwgZylcbiAgICB2YXIgY2hsID0gQ2goZWwsIGZsLCBnbClcblxuICAgIHZhciB0MWwgPSBobCArIHNpZ21hMWxcbiAgICB2YXIgdDEgPSBoICsgc2lnbWExaCArICgodDFsID4+PiAwKSA8IChobCA+Pj4gMCkgPyAxIDogMClcbiAgICB0MWwgPSB0MWwgKyBjaGxcbiAgICB0MSA9IHQxICsgY2ggKyAoKHQxbCA+Pj4gMCkgPCAoY2hsID4+PiAwKSA/IDEgOiAwKVxuICAgIHQxbCA9IHQxbCArIEtpbFxuICAgIHQxID0gdDEgKyBLaSArICgodDFsID4+PiAwKSA8IChLaWwgPj4+IDApID8gMSA6IDApXG4gICAgdDFsID0gdDFsICsgV2lsXG4gICAgdDEgPSB0MSArIFdpICsgKCh0MWwgPj4+IDApIDwgKFdpbCA+Pj4gMCkgPyAxIDogMClcblxuICAgIC8vIHQyID0gc2lnbWEwICsgbWFqXG4gICAgdmFyIHQybCA9IHNpZ21hMGwgKyBtYWpsXG4gICAgdmFyIHQyID0gc2lnbWEwaCArIG1haiArICgodDJsID4+PiAwKSA8IChzaWdtYTBsID4+PiAwKSA/IDEgOiAwKVxuXG4gICAgaCA9IGdcbiAgICBobCA9IGdsXG4gICAgZyA9IGZcbiAgICBnbCA9IGZsXG4gICAgZiA9IGVcbiAgICBmbCA9IGVsXG4gICAgZWwgPSAoZGwgKyB0MWwpIHwgMFxuICAgIGUgPSAoZCArIHQxICsgKChlbCA+Pj4gMCkgPCAoZGwgPj4+IDApID8gMSA6IDApKSB8IDBcbiAgICBkID0gY1xuICAgIGRsID0gY2xcbiAgICBjID0gYlxuICAgIGNsID0gYmxcbiAgICBiID0gYVxuICAgIGJsID0gYWxcbiAgICBhbCA9ICh0MWwgKyB0MmwpIHwgMFxuICAgIGEgPSAodDEgKyB0MiArICgoYWwgPj4+IDApIDwgKHQxbCA+Pj4gMCkgPyAxIDogMCkpIHwgMFxuXG4gICAgaSsrXG4gICAgaiArPSAyXG4gIH1cblxuICB3aGlsZSAoaSA8IDE2KSB7XG4gICAgV2kgPSBNLnJlYWRJbnQzMkJFKGogKiA0KVxuICAgIFdpbCA9IE0ucmVhZEludDMyQkUoaiAqIDQgKyA0KVxuXG4gICAgbG9vcCgpXG4gIH1cblxuICB3aGlsZSAoaSA8IDgwKSB7XG4gICAgY2FsY1coKVxuICAgIGxvb3AoKVxuICB9XG5cbiAgdGhpcy5fYWwgPSAodGhpcy5fYWwgKyBhbCkgfCAwXG4gIHRoaXMuX2JsID0gKHRoaXMuX2JsICsgYmwpIHwgMFxuICB0aGlzLl9jbCA9ICh0aGlzLl9jbCArIGNsKSB8IDBcbiAgdGhpcy5fZGwgPSAodGhpcy5fZGwgKyBkbCkgfCAwXG4gIHRoaXMuX2VsID0gKHRoaXMuX2VsICsgZWwpIHwgMFxuICB0aGlzLl9mbCA9ICh0aGlzLl9mbCArIGZsKSB8IDBcbiAgdGhpcy5fZ2wgPSAodGhpcy5fZ2wgKyBnbCkgfCAwXG4gIHRoaXMuX2hsID0gKHRoaXMuX2hsICsgaGwpIHwgMFxuXG4gIHRoaXMuX2EgPSAodGhpcy5fYSArIGEgKyAoKHRoaXMuX2FsID4+PiAwKSA8IChhbCA+Pj4gMCkgPyAxIDogMCkpIHwgMFxuICB0aGlzLl9iID0gKHRoaXMuX2IgKyBiICsgKCh0aGlzLl9ibCA+Pj4gMCkgPCAoYmwgPj4+IDApID8gMSA6IDApKSB8IDBcbiAgdGhpcy5fYyA9ICh0aGlzLl9jICsgYyArICgodGhpcy5fY2wgPj4+IDApIDwgKGNsID4+PiAwKSA/IDEgOiAwKSkgfCAwXG4gIHRoaXMuX2QgPSAodGhpcy5fZCArIGQgKyAoKHRoaXMuX2RsID4+PiAwKSA8IChkbCA+Pj4gMCkgPyAxIDogMCkpIHwgMFxuICB0aGlzLl9lID0gKHRoaXMuX2UgKyBlICsgKCh0aGlzLl9lbCA+Pj4gMCkgPCAoZWwgPj4+IDApID8gMSA6IDApKSB8IDBcbiAgdGhpcy5fZiA9ICh0aGlzLl9mICsgZiArICgodGhpcy5fZmwgPj4+IDApIDwgKGZsID4+PiAwKSA/IDEgOiAwKSkgfCAwXG4gIHRoaXMuX2cgPSAodGhpcy5fZyArIGcgKyAoKHRoaXMuX2dsID4+PiAwKSA8IChnbCA+Pj4gMCkgPyAxIDogMCkpIHwgMFxuICB0aGlzLl9oID0gKHRoaXMuX2ggKyBoICsgKCh0aGlzLl9obCA+Pj4gMCkgPCAoaGwgPj4+IDApID8gMSA6IDApKSB8IDBcbn1cblxuU2hhNTEyLnByb3RvdHlwZS5faGFzaCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIEggPSBuZXcgQnVmZmVyKDY0KVxuXG4gIGZ1bmN0aW9uIHdyaXRlSW50NjRCRSAoaCwgbCwgb2Zmc2V0KSB7XG4gICAgSC53cml0ZUludDMyQkUoaCwgb2Zmc2V0KVxuICAgIEgud3JpdGVJbnQzMkJFKGwsIG9mZnNldCArIDQpXG4gIH1cblxuICB3cml0ZUludDY0QkUodGhpcy5fYSwgdGhpcy5fYWwsIDApXG4gIHdyaXRlSW50NjRCRSh0aGlzLl9iLCB0aGlzLl9ibCwgOClcbiAgd3JpdGVJbnQ2NEJFKHRoaXMuX2MsIHRoaXMuX2NsLCAxNilcbiAgd3JpdGVJbnQ2NEJFKHRoaXMuX2QsIHRoaXMuX2RsLCAyNClcbiAgd3JpdGVJbnQ2NEJFKHRoaXMuX2UsIHRoaXMuX2VsLCAzMilcbiAgd3JpdGVJbnQ2NEJFKHRoaXMuX2YsIHRoaXMuX2ZsLCA0MClcbiAgd3JpdGVJbnQ2NEJFKHRoaXMuX2csIHRoaXMuX2dsLCA0OClcbiAgd3JpdGVJbnQ2NEJFKHRoaXMuX2gsIHRoaXMuX2hsLCA1NilcblxuICByZXR1cm4gSFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNoYTUxMlxuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIpXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUwyNXZaR1ZmYlc5a2RXeGxjeTlqY25sd2RHOHRZbkp2ZDNObGNtbG1lUzl1YjJSbFgyMXZaSFZzWlhNdlkzSmxZWFJsTFdoaGMyZ3ZibTlrWlY5dGIyUjFiR1Z6TDNOb1lTNXFjeTl6YUdFMU1USXVhbk1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJanRCUVVGQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVNJc0ltWnBiR1VpT2lKblpXNWxjbUYwWldRdWFuTWlMQ0p6YjNWeVkyVlNiMjkwSWpvaUlpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2lkbUZ5SUdsdWFHVnlhWFJ6SUQwZ2NtVnhkV2x5WlNnbmFXNW9aWEpwZEhNbktWeHVkbUZ5SUVoaGMyZ2dQU0J5WlhGMWFYSmxLQ2N1TDJoaGMyZ25LVnh1WEc1MllYSWdTeUE5SUZ0Y2JpQWdNSGcwTWpoaE1tWTVPQ3dnTUhoa056STRZV1V5TWl3Z01IZzNNVE0zTkRRNU1Td2dNSGd5TTJWbU5qVmpaQ3hjYmlBZ01IaGlOV013Wm1Kalppd2dNSGhsWXpSa00ySXlaaXdnTUhobE9XSTFaR0poTlN3Z01IZzRNVGc1WkdKaVl5eGNiaUFnTUhnek9UVTJZekkxWWl3Z01IaG1NelE0WWpVek9Dd2dNSGcxT1dZeE1URm1NU3dnTUhoaU5qQTFaREF4T1N4Y2JpQWdNSGc1TWpObU9ESmhOQ3dnTUhoaFpqRTVOR1k1WWl3Z01IaGhZakZqTldWa05Td2dNSGhrWVRaa09ERXhPQ3hjYmlBZ01IaGtPREEzWVdFNU9Dd2dNSGhoTXpBek1ESTBNaXdnTUhneE1qZ3pOV0l3TVN3Z01IZzBOVGN3Tm1aaVpTeGNiaUFnTUhneU5ETXhPRFZpWlN3Z01IZzBaV1UwWWpJNFl5d2dNSGcxTlRCak4yUmpNeXdnTUhoa05XWm1ZalJsTWl4Y2JpQWdNSGczTW1KbE5XUTNOQ3dnTUhobU1qZGlPRGsyWml3Z01IZzRNR1JsWWpGbVpTd2dNSGd6WWpFMk9UWmlNU3hjYmlBZ01IZzVZbVJqTURaaE55d2dNSGd5TldNM01USXpOU3dnTUhoak1UbGlaakUzTkN3Z01IaGpaalk1TWpZNU5DeGNiaUFnTUhobE5EbGlOamxqTVN3Z01IZzVaV1l4TkdGa01pd2dNSGhsWm1KbE5EYzROaXdnTUhnek9EUm1NalZsTXl4Y2JpQWdNSGd3Wm1NeE9XUmpOaXdnTUhnNFlqaGpaRFZpTlN3Z01IZ3lOREJqWVRGall5d2dNSGczTjJGak9XTTJOU3hjYmlBZ01IZ3laR1U1TW1NMlppd2dNSGcxT1RKaU1ESTNOU3dnTUhnMFlUYzBPRFJoWVN3Z01IZzJaV0UyWlRRNE15eGNiaUFnTUhnMVkySXdZVGxrWXl3Z01IaGlaRFF4Wm1Ka05Dd2dNSGczTm1ZNU9EaGtZU3dnTUhnNE16RXhOVE5pTlN4Y2JpQWdNSGc1T0RObE5URTFNaXdnTUhobFpUWTJaR1poWWl3Z01IaGhPRE14WXpZMlpDd2dNSGd5WkdJME16SXhNQ3hjYmlBZ01IaGlNREF6TWpkak9Dd2dNSGc1T0daaU1qRXpaaXdnTUhoaVpqVTVOMlpqTnl3Z01IaGlaV1ZtTUdWbE5DeGNiaUFnTUhoak5tVXdNR0ptTXl3Z01IZ3paR0U0T0daak1pd2dNSGhrTldFM09URTBOeXdnTUhnNU16QmhZVGN5TlN4Y2JpQWdNSGd3Tm1OaE5qTTFNU3dnTUhobE1EQXpPREkyWml3Z01IZ3hOREk1TWprMk55d2dNSGd3WVRCbE5tVTNNQ3hjYmlBZ01IZ3lOMkkzTUdFNE5Td2dNSGcwTm1ReU1tWm1ZeXdnTUhneVpURmlNakV6T0N3Z01IZzFZekkyWXpreU5peGNiaUFnTUhnMFpESmpObVJtWXl3Z01IZzFZV00wTW1GbFpDd2dNSGcxTXpNNE1HUXhNeXdnTUhnNVpEazFZak5rWml4Y2JpQWdNSGcyTlRCaE56TTFOQ3dnTUhnNFltRm1Oak5rWlN3Z01IZzNOalpoTUdGaVlpd2dNSGd6WXpjM1lqSmhPQ3hjYmlBZ01IZzRNV015WXpreVpTd2dNSGcwTjJWa1lXVmxOaXdnTUhnNU1qY3lNbU00TlN3Z01IZ3hORGd5TXpVellpeGNiaUFnTUhoaE1tSm1aVGhoTVN3Z01IZzBZMll4TURNMk5Dd2dNSGhoT0RGaE5qWTBZaXdnTUhoaVl6UXlNekF3TVN4Y2JpQWdNSGhqTWpSaU9HSTNNQ3dnTUhoa01HWTRPVGM1TVN3Z01IaGpOelpqTlRGaE15d2dNSGd3TmpVMFltVXpNQ3hjYmlBZ01IaGtNVGt5WlRneE9Td2dNSGhrTm1WbU5USXhPQ3dnTUhoa05qazVNRFl5TkN3Z01IZzFOVFkxWVRreE1DeGNiaUFnTUhobU5EQmxNelU0TlN3Z01IZzFOemN4TWpBeVlTd2dNSGd4TURaaFlUQTNNQ3dnTUhnek1tSmlaREZpT0N4Y2JpQWdNSGd4T1dFMFl6RXhOaXdnTUhoaU9HUXlaREJqT0N3Z01IZ3haVE0zTm1Nd09Dd2dNSGcxTVRReFlXSTFNeXhjYmlBZ01IZ3lOelE0TnpjMFl5d2dNSGhrWmpobFpXSTVPU3dnTUhnek5HSXdZbU5pTlN3Z01IaGxNVGxpTkRoaE9DeGNiaUFnTUhnek9URmpNR05pTXl3Z01IaGpOV001TldFMk15d2dNSGcwWldRNFlXRTBZU3dnTUhobE16UXhPR0ZqWWl4Y2JpQWdNSGcxWWpsalkyRTBaaXdnTUhnM056WXpaVE0zTXl3Z01IZzJPREpsTm1abU15d2dNSGhrTm1JeVlqaGhNeXhjYmlBZ01IZzNORGhtT0RKbFpTd2dNSGcxWkdWbVlqSm1ZeXdnTUhnM09HRTFOak0yWml3Z01IZzBNekUzTW1ZMk1DeGNiaUFnTUhnNE5HTTROemd4TkN3Z01IaGhNV1l3WVdJM01pd2dNSGc0WTJNM01ESXdPQ3dnTUhneFlUWTBNemxsWXl4Y2JpQWdNSGc1TUdKbFptWm1ZU3dnTUhneU16WXpNV1V5T0N3Z01IaGhORFV3Tm1ObFlpd2dNSGhrWlRneVltUmxPU3hjYmlBZ01IaGlaV1k1WVRObU55d2dNSGhpTW1NMk56a3hOU3dnTUhoak5qY3hOemhtTWl3Z01IaGxNemN5TlRNeVlpeGNiaUFnTUhoallUSTNNMlZqWlN3Z01IaGxZVEkyTmpFNVl5d2dNSGhrTVRnMllqaGpOeXdnTUhneU1XTXdZekl3Tnl4Y2JpQWdNSGhsWVdSaE4yUmtOaXdnTUhoalpHVXdaV0l4WlN3Z01IaG1OVGRrTkdZM1ppd2dNSGhsWlRabFpERTNPQ3hjYmlBZ01IZ3dObVl3TmpkaFlTd2dNSGczTWpFM05tWmlZU3dnTUhnd1lUWXpOMlJqTlN3Z01IaGhNbU00T1RoaE5peGNiaUFnTUhneE1UTm1PVGd3TkN3Z01IaGlaV1k1TUdSaFpTd2dNSGd4WWpjeE1HSXpOU3dnTUhneE16RmpORGN4WWl4Y2JpQWdNSGd5T0dSaU56ZG1OU3dnTUhneU16QTBOMlE0TkN3Z01IZ3pNbU5oWVdJM1lpd2dNSGcwTUdNM01qUTVNeXhjYmlBZ01IZ3pZemxsWW1Vd1lTd2dNSGd4TldNNVltVmlZeXdnTUhnME16RmtOamRqTkN3Z01IZzVZekV3TUdRMFl5eGNiaUFnTUhnMFkyTTFaRFJpWlN3Z01IaGpZak5sTkRKaU5pd2dNSGcxT1RkbU1qazVZeXdnTUhobVl6WTFOMlV5WVN4Y2JpQWdNSGcxWm1OaU5tWmhZaXdnTUhnellXUTJabUZsWXl3Z01IZzJZelEwTVRrNFl5d2dNSGcwWVRRM05UZ3hOMXh1WFZ4dVhHNTJZWElnVnlBOUlHNWxkeUJCY25KaGVTZ3hOakFwWEc1Y2JtWjFibU4wYVc5dUlGTm9ZVFV4TWlBb0tTQjdYRzRnSUhSb2FYTXVhVzVwZENncFhHNGdJSFJvYVhNdVgzY2dQU0JYWEc1Y2JpQWdTR0Z6YUM1allXeHNLSFJvYVhNc0lERXlPQ3dnTVRFeUtWeHVmVnh1WEc1cGJtaGxjbWwwY3loVGFHRTFNVElzSUVoaGMyZ3BYRzVjYmxOb1lUVXhNaTV3Y205MGIzUjVjR1V1YVc1cGRDQTlJR1oxYm1OMGFXOXVJQ2dwSUh0Y2JpQWdkR2hwY3k1ZllTQTlJREI0Tm1Fd09XVTJOamNnZkNBd1hHNGdJSFJvYVhNdVgySWdQU0F3ZUdKaU5qZGhaVGcxSUh3Z01GeHVJQ0IwYUdsekxsOWpJRDBnTUhnell6Wmxaak0zTWlCOElEQmNiaUFnZEdocGN5NWZaQ0E5SURCNFlUVTBabVkxTTJFZ2ZDQXdYRzRnSUhSb2FYTXVYMlVnUFNBd2VEVXhNR1UxTWpkbUlId2dNRnh1SUNCMGFHbHpMbDltSUQwZ01IZzVZakExTmpnNFl5QjhJREJjYmlBZ2RHaHBjeTVmWnlBOUlEQjRNV1k0TTJRNVlXSWdmQ0F3WEc0Z0lIUm9hWE11WDJnZ1BTQXdlRFZpWlRCalpERTVJSHdnTUZ4dVhHNGdJSFJvYVhNdVgyRnNJRDBnTUhobU0ySmpZemt3T0NCOElEQmNiaUFnZEdocGN5NWZZbXdnUFNBd2VEZzBZMkZoTnpOaUlId2dNRnh1SUNCMGFHbHpMbDlqYkNBOUlEQjRabVU1TkdZNE1tSWdmQ0F3WEc0Z0lIUm9hWE11WDJSc0lEMGdNSGcxWmpGa016Wm1NU0I4SURCY2JpQWdkR2hwY3k1ZlpXd2dQU0F3ZUdGa1pUWTRNbVF4SUh3Z01GeHVJQ0IwYUdsekxsOW1iQ0E5SURCNE1tSXpaVFpqTVdZZ2ZDQXdYRzRnSUhSb2FYTXVYMmRzSUQwZ01IaG1ZalF4WW1RMllpQjhJREJjYmlBZ2RHaHBjeTVmYUd3Z1BTQXdlREV6TjJVeU1UYzVJSHdnTUZ4dVhHNGdJSEpsZEhWeWJpQjBhR2x6WEc1OVhHNWNibVoxYm1OMGFXOXVJRU5vSUNoNExDQjVMQ0I2S1NCN1hHNGdJSEpsZEhWeWJpQjZJRjRnS0hnZ0ppQW9lU0JlSUhvcEtWeHVmVnh1WEc1bWRXNWpkR2x2YmlCTllXb2dLSGdzSUhrc0lIb3BJSHRjYmlBZ2NtVjBkWEp1SUNoNElDWWdlU2tnZkNBb2VpQW1JQ2g0SUh3Z2VTa3BYRzU5WEc1Y2JtWjFibU4wYVc5dUlGTnBaMjFoTUNBb2VDd2dlR3dwSUh0Y2JpQWdjbVYwZFhKdUlDaDRJRDQrUGlBeU9DQjhJSGhzSUR3OElEUXBJRjRnS0hoc0lENCtQaUF5SUh3Z2VDQThQQ0F6TUNrZ1hpQW9lR3dnUGo0K0lEY2dmQ0I0SUR3OElESTFLVnh1ZlZ4dVhHNW1kVzVqZEdsdmJpQlRhV2R0WVRFZ0tIZ3NJSGhzS1NCN1hHNGdJSEpsZEhWeWJpQW9lQ0ErUGo0Z01UUWdmQ0I0YkNBOFBDQXhPQ2tnWGlBb2VDQStQajRnTVRnZ2ZDQjRiQ0E4UENBeE5Da2dYaUFvZUd3Z1BqNCtJRGtnZkNCNElEdzhJREl6S1Z4dWZWeHVYRzVtZFc1amRHbHZiaUJIWVcxdFlUQWdLSGdzSUhoc0tTQjdYRzRnSUhKbGRIVnliaUFvZUNBK1BqNGdNU0I4SUhoc0lEdzhJRE14S1NCZUlDaDRJRDQrUGlBNElId2dlR3dnUER3Z01qUXBJRjRnS0hnZ1BqNCtJRGNwWEc1OVhHNWNibVoxYm1OMGFXOXVJRWRoYlcxaE1Hd2dLSGdzSUhoc0tTQjdYRzRnSUhKbGRIVnliaUFvZUNBK1BqNGdNU0I4SUhoc0lEdzhJRE14S1NCZUlDaDRJRDQrUGlBNElId2dlR3dnUER3Z01qUXBJRjRnS0hnZ1BqNCtJRGNnZkNCNGJDQThQQ0F5TlNsY2JuMWNibHh1Wm5WdVkzUnBiMjRnUjJGdGJXRXhJQ2g0TENCNGJDa2dlMXh1SUNCeVpYUjFjbTRnS0hnZ1BqNCtJREU1SUh3Z2VHd2dQRHdnTVRNcElGNGdLSGhzSUQ0K1BpQXlPU0I4SUhnZ1BEd2dNeWtnWGlBb2VDQStQajRnTmlsY2JuMWNibHh1Wm5WdVkzUnBiMjRnUjJGdGJXRXhiQ0FvZUN3Z2VHd3BJSHRjYmlBZ2NtVjBkWEp1SUNoNElENCtQaUF4T1NCOElIaHNJRHc4SURFektTQmVJQ2g0YkNBK1BqNGdNamtnZkNCNElEdzhJRE1wSUY0Z0tIZ2dQajQrSURZZ2ZDQjRiQ0E4UENBeU5pbGNibjFjYmx4dVUyaGhOVEV5TG5CeWIzUnZkSGx3WlM1ZmRYQmtZWFJsSUQwZ1puVnVZM1JwYjI0Z0tFMHBJSHRjYmlBZ2RtRnlJRmNnUFNCMGFHbHpMbDkzWEc1Y2JpQWdkbUZ5SUdFZ1BTQjBhR2x6TGw5aElId2dNRnh1SUNCMllYSWdZaUE5SUhSb2FYTXVYMklnZkNBd1hHNGdJSFpoY2lCaklEMGdkR2hwY3k1Zll5QjhJREJjYmlBZ2RtRnlJR1FnUFNCMGFHbHpMbDlrSUh3Z01GeHVJQ0IyWVhJZ1pTQTlJSFJvYVhNdVgyVWdmQ0F3WEc0Z0lIWmhjaUJtSUQwZ2RHaHBjeTVmWmlCOElEQmNiaUFnZG1GeUlHY2dQU0IwYUdsekxsOW5JSHdnTUZ4dUlDQjJZWElnYUNBOUlIUm9hWE11WDJnZ2ZDQXdYRzVjYmlBZ2RtRnlJR0ZzSUQwZ2RHaHBjeTVmWVd3Z2ZDQXdYRzRnSUhaaGNpQmliQ0E5SUhSb2FYTXVYMkpzSUh3Z01GeHVJQ0IyWVhJZ1kyd2dQU0IwYUdsekxsOWpiQ0I4SURCY2JpQWdkbUZ5SUdSc0lEMGdkR2hwY3k1ZlpHd2dmQ0F3WEc0Z0lIWmhjaUJsYkNBOUlIUm9hWE11WDJWc0lId2dNRnh1SUNCMllYSWdabXdnUFNCMGFHbHpMbDltYkNCOElEQmNiaUFnZG1GeUlHZHNJRDBnZEdocGN5NWZaMndnZkNBd1hHNGdJSFpoY2lCb2JDQTlJSFJvYVhNdVgyaHNJSHdnTUZ4dVhHNGdJSFpoY2lCcElEMGdNRnh1SUNCMllYSWdhaUE5SURCY2JpQWdkbUZ5SUZkcExDQlhhV3hjYmlBZ1puVnVZM1JwYjI0Z1kyRnNZMWNnS0NrZ2UxeHVJQ0FnSUhaaGNpQjRJRDBnVjF0cUlDMGdNVFVnS2lBeVhWeHVJQ0FnSUhaaGNpQjRiQ0E5SUZkYmFpQXRJREUxSUNvZ01pQXJJREZkWEc0Z0lDQWdkbUZ5SUdkaGJXMWhNQ0E5SUVkaGJXMWhNQ2g0TENCNGJDbGNiaUFnSUNCMllYSWdaMkZ0YldFd2JDQTlJRWRoYlcxaE1Hd29lR3dzSUhncFhHNWNiaUFnSUNCNElEMGdWMXRxSUMwZ01pQXFJREpkWEc0Z0lDQWdlR3dnUFNCWFcyb2dMU0F5SUNvZ01pQXJJREZkWEc0Z0lDQWdkbUZ5SUdkaGJXMWhNU0E5SUVkaGJXMWhNU2g0TENCNGJDbGNiaUFnSUNCMllYSWdaMkZ0YldFeGJDQTlJRWRoYlcxaE1Xd29lR3dzSUhncFhHNWNiaUFnSUNBdkx5QlhXMmxkSUQwZ1oyRnRiV0V3SUNzZ1YxdHBJQzBnTjEwZ0t5Qm5ZVzF0WVRFZ0t5QlhXMmtnTFNBeE5sMWNiaUFnSUNCMllYSWdWMmszSUQwZ1YxdHFJQzBnTnlBcUlESmRYRzRnSUNBZ2RtRnlJRmRwTjJ3Z1BTQlhXMm9nTFNBM0lDb2dNaUFySURGZFhHNWNiaUFnSUNCMllYSWdWMmt4TmlBOUlGZGJhaUF0SURFMklDb2dNbDFjYmlBZ0lDQjJZWElnVjJreE5td2dQU0JYVzJvZ0xTQXhOaUFxSURJZ0t5QXhYVnh1WEc0Z0lDQWdWMmxzSUQwZ1oyRnRiV0V3YkNBcklGZHBOMnhjYmlBZ0lDQlhhU0E5SUdkaGJXMWhNQ0FySUZkcE55QXJJQ2dvVjJsc0lENCtQaUF3S1NBOElDaG5ZVzF0WVRCc0lENCtQaUF3S1NBL0lERWdPaUF3S1Z4dUlDQWdJRmRwYkNBOUlGZHBiQ0FySUdkaGJXMWhNV3hjYmlBZ0lDQlhhU0E5SUZkcElDc2daMkZ0YldFeElDc2dLQ2hYYVd3Z1BqNCtJREFwSUR3Z0tHZGhiVzFoTVd3Z1BqNCtJREFwSUQ4Z01TQTZJREFwWEc0Z0lDQWdWMmxzSUQwZ1YybHNJQ3NnVjJreE5teGNiaUFnSUNCWGFTQTlJRmRwSUNzZ1Yya3hOaUFySUNnb1YybHNJRDQrUGlBd0tTQThJQ2hYYVRFMmJDQStQajRnTUNrZ1B5QXhJRG9nTUNsY2JpQWdmVnh1WEc0Z0lHWjFibU4wYVc5dUlHeHZiM0FnS0NrZ2UxeHVJQ0FnSUZkYmFsMGdQU0JYYVZ4dUlDQWdJRmRiYWlBcklERmRJRDBnVjJsc1hHNWNiaUFnSUNCMllYSWdiV0ZxSUQwZ1RXRnFLR0VzSUdJc0lHTXBYRzRnSUNBZ2RtRnlJRzFoYW13Z1BTQk5ZV29vWVd3c0lHSnNMQ0JqYkNsY2JseHVJQ0FnSUhaaGNpQnphV2R0WVRCb0lEMGdVMmxuYldFd0tHRXNJR0ZzS1Z4dUlDQWdJSFpoY2lCemFXZHRZVEJzSUQwZ1UybG5iV0V3S0dGc0xDQmhLVnh1SUNBZ0lIWmhjaUJ6YVdkdFlURm9JRDBnVTJsbmJXRXhLR1VzSUdWc0tWeHVJQ0FnSUhaaGNpQnphV2R0WVRGc0lEMGdVMmxuYldFeEtHVnNMQ0JsS1Z4dVhHNGdJQ0FnTHk4Z2RERWdQU0JvSUNzZ2MybG5iV0V4SUNzZ1kyZ2dLeUJMVzJsZElDc2dWMXRwWFZ4dUlDQWdJSFpoY2lCTGFTQTlJRXRiYWwxY2JpQWdJQ0IyWVhJZ1MybHNJRDBnUzF0cUlDc2dNVjFjYmx4dUlDQWdJSFpoY2lCamFDQTlJRU5vS0dVc0lHWXNJR2NwWEc0Z0lDQWdkbUZ5SUdOb2JDQTlJRU5vS0dWc0xDQm1iQ3dnWjJ3cFhHNWNiaUFnSUNCMllYSWdkREZzSUQwZ2FHd2dLeUJ6YVdkdFlURnNYRzRnSUNBZ2RtRnlJSFF4SUQwZ2FDQXJJSE5wWjIxaE1XZ2dLeUFvS0hReGJDQStQajRnTUNrZ1BDQW9hR3dnUGo0K0lEQXBJRDhnTVNBNklEQXBYRzRnSUNBZ2RERnNJRDBnZERGc0lDc2dZMmhzWEc0Z0lDQWdkREVnUFNCME1TQXJJR05vSUNzZ0tDaDBNV3dnUGo0K0lEQXBJRHdnS0dOb2JDQStQajRnTUNrZ1B5QXhJRG9nTUNsY2JpQWdJQ0IwTVd3Z1BTQjBNV3dnS3lCTGFXeGNiaUFnSUNCME1TQTlJSFF4SUNzZ1Mya2dLeUFvS0hReGJDQStQajRnTUNrZ1BDQW9TMmxzSUQ0K1BpQXdLU0EvSURFZ09pQXdLVnh1SUNBZ0lIUXhiQ0E5SUhReGJDQXJJRmRwYkZ4dUlDQWdJSFF4SUQwZ2RERWdLeUJYYVNBcklDZ29kREZzSUQ0K1BpQXdLU0E4SUNoWGFXd2dQajQrSURBcElEOGdNU0E2SURBcFhHNWNiaUFnSUNBdkx5QjBNaUE5SUhOcFoyMWhNQ0FySUcxaGFseHVJQ0FnSUhaaGNpQjBNbXdnUFNCemFXZHRZVEJzSUNzZ2JXRnFiRnh1SUNBZ0lIWmhjaUIwTWlBOUlITnBaMjFoTUdnZ0t5QnRZV29nS3lBb0tIUXliQ0ErUGo0Z01Da2dQQ0FvYzJsbmJXRXdiQ0ErUGo0Z01Da2dQeUF4SURvZ01DbGNibHh1SUNBZ0lHZ2dQU0JuWEc0Z0lDQWdhR3dnUFNCbmJGeHVJQ0FnSUdjZ1BTQm1YRzRnSUNBZ1oyd2dQU0JtYkZ4dUlDQWdJR1lnUFNCbFhHNGdJQ0FnWm13Z1BTQmxiRnh1SUNBZ0lHVnNJRDBnS0dSc0lDc2dkREZzS1NCOElEQmNiaUFnSUNCbElEMGdLR1FnS3lCME1TQXJJQ2dvWld3Z1BqNCtJREFwSUR3Z0tHUnNJRDQrUGlBd0tTQS9JREVnT2lBd0tTa2dmQ0F3WEc0Z0lDQWdaQ0E5SUdOY2JpQWdJQ0JrYkNBOUlHTnNYRzRnSUNBZ1l5QTlJR0pjYmlBZ0lDQmpiQ0E5SUdKc1hHNGdJQ0FnWWlBOUlHRmNiaUFnSUNCaWJDQTlJR0ZzWEc0Z0lDQWdZV3dnUFNBb2RERnNJQ3NnZERKc0tTQjhJREJjYmlBZ0lDQmhJRDBnS0hReElDc2dkRElnS3lBb0tHRnNJRDQrUGlBd0tTQThJQ2gwTVd3Z1BqNCtJREFwSUQ4Z01TQTZJREFwS1NCOElEQmNibHh1SUNBZ0lHa3JLMXh1SUNBZ0lHb2dLejBnTWx4dUlDQjlYRzVjYmlBZ2QyaHBiR1VnS0drZ1BDQXhOaWtnZTF4dUlDQWdJRmRwSUQwZ1RTNXlaV0ZrU1c1ME16SkNSU2hxSUNvZ05DbGNiaUFnSUNCWGFXd2dQU0JOTG5KbFlXUkpiblF6TWtKRktHb2dLaUEwSUNzZ05DbGNibHh1SUNBZ0lHeHZiM0FvS1Z4dUlDQjlYRzVjYmlBZ2QyaHBiR1VnS0drZ1BDQTRNQ2tnZTF4dUlDQWdJR05oYkdOWEtDbGNiaUFnSUNCc2IyOXdLQ2xjYmlBZ2ZWeHVYRzRnSUhSb2FYTXVYMkZzSUQwZ0tIUm9hWE11WDJGc0lDc2dZV3dwSUh3Z01GeHVJQ0IwYUdsekxsOWliQ0E5SUNoMGFHbHpMbDlpYkNBcklHSnNLU0I4SURCY2JpQWdkR2hwY3k1Zlkyd2dQU0FvZEdocGN5NWZZMndnS3lCamJDa2dmQ0F3WEc0Z0lIUm9hWE11WDJSc0lEMGdLSFJvYVhNdVgyUnNJQ3NnWkd3cElId2dNRnh1SUNCMGFHbHpMbDlsYkNBOUlDaDBhR2x6TGw5bGJDQXJJR1ZzS1NCOElEQmNiaUFnZEdocGN5NWZabXdnUFNBb2RHaHBjeTVmWm13Z0t5Qm1iQ2tnZkNBd1hHNGdJSFJvYVhNdVgyZHNJRDBnS0hSb2FYTXVYMmRzSUNzZ1oyd3BJSHdnTUZ4dUlDQjBhR2x6TGw5b2JDQTlJQ2gwYUdsekxsOW9iQ0FySUdoc0tTQjhJREJjYmx4dUlDQjBhR2x6TGw5aElEMGdLSFJvYVhNdVgyRWdLeUJoSUNzZ0tDaDBhR2x6TGw5aGJDQStQajRnTUNrZ1BDQW9ZV3dnUGo0K0lEQXBJRDhnTVNBNklEQXBLU0I4SURCY2JpQWdkR2hwY3k1ZllpQTlJQ2gwYUdsekxsOWlJQ3NnWWlBcklDZ29kR2hwY3k1Zlltd2dQajQrSURBcElEd2dLR0pzSUQ0K1BpQXdLU0EvSURFZ09pQXdLU2tnZkNBd1hHNGdJSFJvYVhNdVgyTWdQU0FvZEdocGN5NWZZeUFySUdNZ0t5QW9LSFJvYVhNdVgyTnNJRDQrUGlBd0tTQThJQ2hqYkNBK1BqNGdNQ2tnUHlBeElEb2dNQ2twSUh3Z01GeHVJQ0IwYUdsekxsOWtJRDBnS0hSb2FYTXVYMlFnS3lCa0lDc2dLQ2gwYUdsekxsOWtiQ0ErUGo0Z01Da2dQQ0FvWkd3Z1BqNCtJREFwSUQ4Z01TQTZJREFwS1NCOElEQmNiaUFnZEdocGN5NWZaU0E5SUNoMGFHbHpMbDlsSUNzZ1pTQXJJQ2dvZEdocGN5NWZaV3dnUGo0K0lEQXBJRHdnS0dWc0lENCtQaUF3S1NBL0lERWdPaUF3S1NrZ2ZDQXdYRzRnSUhSb2FYTXVYMllnUFNBb2RHaHBjeTVmWmlBcklHWWdLeUFvS0hSb2FYTXVYMlpzSUQ0K1BpQXdLU0E4SUNobWJDQStQajRnTUNrZ1B5QXhJRG9nTUNrcElId2dNRnh1SUNCMGFHbHpMbDluSUQwZ0tIUm9hWE11WDJjZ0t5Qm5JQ3NnS0NoMGFHbHpMbDluYkNBK1BqNGdNQ2tnUENBb1oyd2dQajQrSURBcElEOGdNU0E2SURBcEtTQjhJREJjYmlBZ2RHaHBjeTVmYUNBOUlDaDBhR2x6TGw5b0lDc2dhQ0FySUNnb2RHaHBjeTVmYUd3Z1BqNCtJREFwSUR3Z0tHaHNJRDQrUGlBd0tTQS9JREVnT2lBd0tTa2dmQ0F3WEc1OVhHNWNibE5vWVRVeE1pNXdjbTkwYjNSNWNHVXVYMmhoYzJnZ1BTQm1kVzVqZEdsdmJpQW9LU0I3WEc0Z0lIWmhjaUJJSUQwZ2JtVjNJRUoxWm1abGNpZzJOQ2xjYmx4dUlDQm1kVzVqZEdsdmJpQjNjbWwwWlVsdWREWTBRa1VnS0dnc0lHd3NJRzltWm5ObGRDa2dlMXh1SUNBZ0lFZ3VkM0pwZEdWSmJuUXpNa0pGS0dnc0lHOW1abk5sZENsY2JpQWdJQ0JJTG5keWFYUmxTVzUwTXpKQ1JTaHNMQ0J2Wm1aelpYUWdLeUEwS1Z4dUlDQjlYRzVjYmlBZ2QzSnBkR1ZKYm5RMk5FSkZLSFJvYVhNdVgyRXNJSFJvYVhNdVgyRnNMQ0F3S1Z4dUlDQjNjbWwwWlVsdWREWTBRa1VvZEdocGN5NWZZaXdnZEdocGN5NWZZbXdzSURncFhHNGdJSGR5YVhSbFNXNTBOalJDUlNoMGFHbHpMbDlqTENCMGFHbHpMbDlqYkN3Z01UWXBYRzRnSUhkeWFYUmxTVzUwTmpSQ1JTaDBhR2x6TGw5a0xDQjBhR2x6TGw5a2JDd2dNalFwWEc0Z0lIZHlhWFJsU1c1ME5qUkNSU2gwYUdsekxsOWxMQ0IwYUdsekxsOWxiQ3dnTXpJcFhHNGdJSGR5YVhSbFNXNTBOalJDUlNoMGFHbHpMbDltTENCMGFHbHpMbDltYkN3Z05EQXBYRzRnSUhkeWFYUmxTVzUwTmpSQ1JTaDBhR2x6TGw5bkxDQjBhR2x6TGw5bmJDd2dORGdwWEc0Z0lIZHlhWFJsU1c1ME5qUkNSU2gwYUdsekxsOW9MQ0IwYUdsekxsOW9iQ3dnTlRZcFhHNWNiaUFnY21WMGRYSnVJRWhjYm4xY2JseHViVzlrZFd4bExtVjRjRzl5ZEhNZ1BTQlRhR0UxTVRKY2JpSmRmUT09IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xuLyoqXG4gKiBBIEphdmFTY3JpcHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIFNlY3VyZSBIYXNoIEFsZ29yaXRobSwgU0hBLTI1NiwgYXMgZGVmaW5lZFxuICogaW4gRklQUyAxODAtMlxuICogVmVyc2lvbiAyLjItYmV0YSBDb3B5cmlnaHQgQW5nZWwgTWFyaW4sIFBhdWwgSm9obnN0b24gMjAwMCAtIDIwMDkuXG4gKiBPdGhlciBjb250cmlidXRvcnM6IEdyZWcgSG9sdCwgQW5kcmV3IEtlcGVydCwgWWRuYXIsIExvc3RpbmV0XG4gKlxuICovXG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbnZhciBTaGEyNTYgPSByZXF1aXJlKCcuL3NoYTI1NicpXG52YXIgSGFzaCA9IHJlcXVpcmUoJy4vaGFzaCcpXG5cbnZhciBXID0gbmV3IEFycmF5KDY0KVxuXG5mdW5jdGlvbiBTaGEyMjQgKCkge1xuICB0aGlzLmluaXQoKVxuXG4gIHRoaXMuX3cgPSBXIC8vIG5ldyBBcnJheSg2NClcblxuICBIYXNoLmNhbGwodGhpcywgNjQsIDU2KVxufVxuXG5pbmhlcml0cyhTaGEyMjQsIFNoYTI1NilcblxuU2hhMjI0LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9hID0gMHhjMTA1OWVkOCB8IDBcbiAgdGhpcy5fYiA9IDB4MzY3Y2Q1MDcgfCAwXG4gIHRoaXMuX2MgPSAweDMwNzBkZDE3IHwgMFxuICB0aGlzLl9kID0gMHhmNzBlNTkzOSB8IDBcbiAgdGhpcy5fZSA9IDB4ZmZjMDBiMzEgfCAwXG4gIHRoaXMuX2YgPSAweDY4NTgxNTExIHwgMFxuICB0aGlzLl9nID0gMHg2NGY5OGZhNyB8IDBcbiAgdGhpcy5faCA9IDB4YmVmYTRmYTQgfCAwXG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuU2hhMjI0LnByb3RvdHlwZS5faGFzaCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIEggPSBuZXcgQnVmZmVyKDI4KVxuXG4gIEgud3JpdGVJbnQzMkJFKHRoaXMuX2EsIDApXG4gIEgud3JpdGVJbnQzMkJFKHRoaXMuX2IsIDQpXG4gIEgud3JpdGVJbnQzMkJFKHRoaXMuX2MsIDgpXG4gIEgud3JpdGVJbnQzMkJFKHRoaXMuX2QsIDEyKVxuICBILndyaXRlSW50MzJCRSh0aGlzLl9lLCAxNilcbiAgSC53cml0ZUludDMyQkUodGhpcy5fZiwgMjApXG4gIEgud3JpdGVJbnQzMkJFKHRoaXMuX2csIDI0KVxuXG4gIHJldHVybiBIXG59XG5cbm1vZHVsZS5leHBvcnRzID0gU2hhMjI0XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12WTNKbFlYUmxMV2hoYzJndmJtOWtaVjl0YjJSMWJHVnpMM05vWVM1cWN5OXphR0V5TWpRdWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqdEJRVUZCTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEVpTENKbWFXeGxJam9pWjJWdVpYSmhkR1ZrTG1weklpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYklpOHFLbHh1SUNvZ1FTQktZWFpoVTJOeWFYQjBJR2x0Y0d4bGJXVnVkR0YwYVc5dUlHOW1JSFJvWlNCVFpXTjFjbVVnU0dGemFDQkJiR2R2Y21sMGFHMHNJRk5JUVMweU5UWXNJR0Z6SUdSbFptbHVaV1JjYmlBcUlHbHVJRVpKVUZNZ01UZ3dMVEpjYmlBcUlGWmxjbk5wYjI0Z01pNHlMV0psZEdFZ1EyOXdlWEpwWjJoMElFRnVaMlZzSUUxaGNtbHVMQ0JRWVhWc0lFcHZhRzV6ZEc5dUlESXdNREFnTFNBeU1EQTVMbHh1SUNvZ1QzUm9aWElnWTI5dWRISnBZblYwYjNKek9pQkhjbVZuSUVodmJIUXNJRUZ1WkhKbGR5QkxaWEJsY25Rc0lGbGtibUZ5TENCTWIzTjBhVzVsZEZ4dUlDcGNiaUFxTDF4dVhHNTJZWElnYVc1b1pYSnBkSE1nUFNCeVpYRjFhWEpsS0NkcGJtaGxjbWwwY3ljcFhHNTJZWElnVTJoaE1qVTJJRDBnY21WeGRXbHlaU2duTGk5emFHRXlOVFluS1Z4dWRtRnlJRWhoYzJnZ1BTQnlaWEYxYVhKbEtDY3VMMmhoYzJnbktWeHVYRzUyWVhJZ1Z5QTlJRzVsZHlCQmNuSmhlU2cyTkNsY2JseHVablZ1WTNScGIyNGdVMmhoTWpJMElDZ3BJSHRjYmlBZ2RHaHBjeTVwYm1sMEtDbGNibHh1SUNCMGFHbHpMbDkzSUQwZ1Z5QXZMeUJ1WlhjZ1FYSnlZWGtvTmpRcFhHNWNiaUFnU0dGemFDNWpZV3hzS0hSb2FYTXNJRFkwTENBMU5pbGNibjFjYmx4dWFXNW9aWEpwZEhNb1UyaGhNakkwTENCVGFHRXlOVFlwWEc1Y2JsTm9ZVEl5TkM1d2NtOTBiM1I1Y0dVdWFXNXBkQ0E5SUdaMWJtTjBhVzl1SUNncElIdGNiaUFnZEdocGN5NWZZU0E5SURCNFl6RXdOVGxsWkRnZ2ZDQXdYRzRnSUhSb2FYTXVYMklnUFNBd2VETTJOMk5rTlRBM0lId2dNRnh1SUNCMGFHbHpMbDlqSUQwZ01IZ3pNRGN3WkdReE55QjhJREJjYmlBZ2RHaHBjeTVmWkNBOUlEQjRaamN3WlRVNU16a2dmQ0F3WEc0Z0lIUm9hWE11WDJVZ1BTQXdlR1ptWXpBd1lqTXhJSHdnTUZ4dUlDQjBhR2x6TGw5bUlEMGdNSGcyT0RVNE1UVXhNU0I4SURCY2JpQWdkR2hwY3k1Zlp5QTlJREI0TmpSbU9UaG1ZVGNnZkNBd1hHNGdJSFJvYVhNdVgyZ2dQU0F3ZUdKbFptRTBabUUwSUh3Z01GeHVYRzRnSUhKbGRIVnliaUIwYUdselhHNTlYRzVjYmxOb1lUSXlOQzV3Y205MGIzUjVjR1V1WDJoaGMyZ2dQU0JtZFc1amRHbHZiaUFvS1NCN1hHNGdJSFpoY2lCSUlEMGdibVYzSUVKMVptWmxjaWd5T0NsY2JseHVJQ0JJTG5keWFYUmxTVzUwTXpKQ1JTaDBhR2x6TGw5aExDQXdLVnh1SUNCSUxuZHlhWFJsU1c1ME16SkNSU2gwYUdsekxsOWlMQ0EwS1Z4dUlDQklMbmR5YVhSbFNXNTBNekpDUlNoMGFHbHpMbDlqTENBNEtWeHVJQ0JJTG5keWFYUmxTVzUwTXpKQ1JTaDBhR2x6TGw5a0xDQXhNaWxjYmlBZ1NDNTNjbWwwWlVsdWRETXlRa1VvZEdocGN5NWZaU3dnTVRZcFhHNGdJRWd1ZDNKcGRHVkpiblF6TWtKRktIUm9hWE11WDJZc0lESXdLVnh1SUNCSUxuZHlhWFJsU1c1ME16SkNSU2gwYUdsekxsOW5MQ0F5TkNsY2JseHVJQ0J5WlhSMWNtNGdTRnh1ZlZ4dVhHNXRiMlIxYkdVdVpYaHdiM0owY3lBOUlGTm9ZVEl5TkZ4dUlsMTkiLCIoZnVuY3Rpb24gKEJ1ZmZlcil7XG4vKipcbiAqIEEgSmF2YVNjcmlwdCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgU2VjdXJlIEhhc2ggQWxnb3JpdGhtLCBTSEEtMjU2LCBhcyBkZWZpbmVkXG4gKiBpbiBGSVBTIDE4MC0yXG4gKiBWZXJzaW9uIDIuMi1iZXRhIENvcHlyaWdodCBBbmdlbCBNYXJpbiwgUGF1bCBKb2huc3RvbiAyMDAwIC0gMjAwOS5cbiAqIE90aGVyIGNvbnRyaWJ1dG9yczogR3JlZyBIb2x0LCBBbmRyZXcgS2VwZXJ0LCBZZG5hciwgTG9zdGluZXRcbiAqXG4gKi9cblxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxudmFyIEhhc2ggPSByZXF1aXJlKCcuL2hhc2gnKVxuXG52YXIgSyA9IFtcbiAgMHg0MjhBMkY5OCwgMHg3MTM3NDQ5MSwgMHhCNUMwRkJDRiwgMHhFOUI1REJBNSxcbiAgMHgzOTU2QzI1QiwgMHg1OUYxMTFGMSwgMHg5MjNGODJBNCwgMHhBQjFDNUVENSxcbiAgMHhEODA3QUE5OCwgMHgxMjgzNUIwMSwgMHgyNDMxODVCRSwgMHg1NTBDN0RDMyxcbiAgMHg3MkJFNUQ3NCwgMHg4MERFQjFGRSwgMHg5QkRDMDZBNywgMHhDMTlCRjE3NCxcbiAgMHhFNDlCNjlDMSwgMHhFRkJFNDc4NiwgMHgwRkMxOURDNiwgMHgyNDBDQTFDQyxcbiAgMHgyREU5MkM2RiwgMHg0QTc0ODRBQSwgMHg1Q0IwQTlEQywgMHg3NkY5ODhEQSxcbiAgMHg5ODNFNTE1MiwgMHhBODMxQzY2RCwgMHhCMDAzMjdDOCwgMHhCRjU5N0ZDNyxcbiAgMHhDNkUwMEJGMywgMHhENUE3OTE0NywgMHgwNkNBNjM1MSwgMHgxNDI5Mjk2NyxcbiAgMHgyN0I3MEE4NSwgMHgyRTFCMjEzOCwgMHg0RDJDNkRGQywgMHg1MzM4MEQxMyxcbiAgMHg2NTBBNzM1NCwgMHg3NjZBMEFCQiwgMHg4MUMyQzkyRSwgMHg5MjcyMkM4NSxcbiAgMHhBMkJGRThBMSwgMHhBODFBNjY0QiwgMHhDMjRCOEI3MCwgMHhDNzZDNTFBMyxcbiAgMHhEMTkyRTgxOSwgMHhENjk5MDYyNCwgMHhGNDBFMzU4NSwgMHgxMDZBQTA3MCxcbiAgMHgxOUE0QzExNiwgMHgxRTM3NkMwOCwgMHgyNzQ4Nzc0QywgMHgzNEIwQkNCNSxcbiAgMHgzOTFDMENCMywgMHg0RUQ4QUE0QSwgMHg1QjlDQ0E0RiwgMHg2ODJFNkZGMyxcbiAgMHg3NDhGODJFRSwgMHg3OEE1NjM2RiwgMHg4NEM4NzgxNCwgMHg4Q0M3MDIwOCxcbiAgMHg5MEJFRkZGQSwgMHhBNDUwNkNFQiwgMHhCRUY5QTNGNywgMHhDNjcxNzhGMlxuXVxuXG52YXIgVyA9IG5ldyBBcnJheSg2NClcblxuZnVuY3Rpb24gU2hhMjU2ICgpIHtcbiAgdGhpcy5pbml0KClcblxuICB0aGlzLl93ID0gVyAvLyBuZXcgQXJyYXkoNjQpXG5cbiAgSGFzaC5jYWxsKHRoaXMsIDY0LCA1Nilcbn1cblxuaW5oZXJpdHMoU2hhMjU2LCBIYXNoKVxuXG5TaGEyNTYucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuX2EgPSAweDZhMDllNjY3IHwgMFxuICB0aGlzLl9iID0gMHhiYjY3YWU4NSB8IDBcbiAgdGhpcy5fYyA9IDB4M2M2ZWYzNzIgfCAwXG4gIHRoaXMuX2QgPSAweGE1NGZmNTNhIHwgMFxuICB0aGlzLl9lID0gMHg1MTBlNTI3ZiB8IDBcbiAgdGhpcy5fZiA9IDB4OWIwNTY4OGMgfCAwXG4gIHRoaXMuX2cgPSAweDFmODNkOWFiIHwgMFxuICB0aGlzLl9oID0gMHg1YmUwY2QxOSB8IDBcblxuICByZXR1cm4gdGhpc1xufVxuXG5mdW5jdGlvbiBDaCAoeCwgeSwgeikge1xuICByZXR1cm4geiBeICh4ICYgKHkgXiB6KSlcbn1cblxuZnVuY3Rpb24gTWFqICh4LCB5LCB6KSB7XG4gIHJldHVybiAoeCAmIHkpIHwgKHogJiAoeCB8IHkpKVxufVxuXG5mdW5jdGlvbiBTaWdtYTAgKHgpIHtcbiAgcmV0dXJuICh4ID4+PiAyIHwgeCA8PCAzMCkgXiAoeCA+Pj4gMTMgfCB4IDw8IDE5KSBeICh4ID4+PiAyMiB8IHggPDwgMTApXG59XG5cbmZ1bmN0aW9uIFNpZ21hMSAoeCkge1xuICByZXR1cm4gKHggPj4+IDYgfCB4IDw8IDI2KSBeICh4ID4+PiAxMSB8IHggPDwgMjEpIF4gKHggPj4+IDI1IHwgeCA8PCA3KVxufVxuXG5mdW5jdGlvbiBHYW1tYTAgKHgpIHtcbiAgcmV0dXJuICh4ID4+PiA3IHwgeCA8PCAyNSkgXiAoeCA+Pj4gMTggfCB4IDw8IDE0KSBeICh4ID4+PiAzKVxufVxuXG5mdW5jdGlvbiBHYW1tYTEgKHgpIHtcbiAgcmV0dXJuICh4ID4+PiAxNyB8IHggPDwgMTUpIF4gKHggPj4+IDE5IHwgeCA8PCAxMykgXiAoeCA+Pj4gMTApXG59XG5cblNoYTI1Ni5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uIChNKSB7XG4gIHZhciBXID0gdGhpcy5fd1xuXG4gIHZhciBhID0gdGhpcy5fYSB8IDBcbiAgdmFyIGIgPSB0aGlzLl9iIHwgMFxuICB2YXIgYyA9IHRoaXMuX2MgfCAwXG4gIHZhciBkID0gdGhpcy5fZCB8IDBcbiAgdmFyIGUgPSB0aGlzLl9lIHwgMFxuICB2YXIgZiA9IHRoaXMuX2YgfCAwXG4gIHZhciBnID0gdGhpcy5fZyB8IDBcbiAgdmFyIGggPSB0aGlzLl9oIHwgMFxuXG4gIHZhciBqID0gMFxuXG4gIGZ1bmN0aW9uIGNhbGNXICgpIHsgcmV0dXJuIEdhbW1hMShXW2ogLSAyXSkgKyBXW2ogLSA3XSArIEdhbW1hMChXW2ogLSAxNV0pICsgV1tqIC0gMTZdIH1cbiAgZnVuY3Rpb24gbG9vcCAodykge1xuICAgIFdbal0gPSB3XG5cbiAgICB2YXIgVDEgPSBoICsgU2lnbWExKGUpICsgQ2goZSwgZiwgZykgKyBLW2pdICsgd1xuICAgIHZhciBUMiA9IFNpZ21hMChhKSArIE1haihhLCBiLCBjKVxuXG4gICAgaCA9IGdcbiAgICBnID0gZlxuICAgIGYgPSBlXG4gICAgZSA9IGQgKyBUMVxuICAgIGQgPSBjXG4gICAgYyA9IGJcbiAgICBiID0gYVxuICAgIGEgPSBUMSArIFQyXG5cbiAgICBqKytcbiAgfVxuXG4gIHdoaWxlIChqIDwgMTYpIGxvb3AoTS5yZWFkSW50MzJCRShqICogNCkpXG4gIHdoaWxlIChqIDwgNjQpIGxvb3AoY2FsY1coKSlcblxuICB0aGlzLl9hID0gKGEgKyB0aGlzLl9hKSB8IDBcbiAgdGhpcy5fYiA9IChiICsgdGhpcy5fYikgfCAwXG4gIHRoaXMuX2MgPSAoYyArIHRoaXMuX2MpIHwgMFxuICB0aGlzLl9kID0gKGQgKyB0aGlzLl9kKSB8IDBcbiAgdGhpcy5fZSA9IChlICsgdGhpcy5fZSkgfCAwXG4gIHRoaXMuX2YgPSAoZiArIHRoaXMuX2YpIHwgMFxuICB0aGlzLl9nID0gKGcgKyB0aGlzLl9nKSB8IDBcbiAgdGhpcy5faCA9IChoICsgdGhpcy5faCkgfCAwXG59XG5cblNoYTI1Ni5wcm90b3R5cGUuX2hhc2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBIID0gbmV3IEJ1ZmZlcigzMilcblxuICBILndyaXRlSW50MzJCRSh0aGlzLl9hLCAwKVxuICBILndyaXRlSW50MzJCRSh0aGlzLl9iLCA0KVxuICBILndyaXRlSW50MzJCRSh0aGlzLl9jLCA4KVxuICBILndyaXRlSW50MzJCRSh0aGlzLl9kLCAxMilcbiAgSC53cml0ZUludDMyQkUodGhpcy5fZSwgMTYpXG4gIEgud3JpdGVJbnQzMkJFKHRoaXMuX2YsIDIwKVxuICBILndyaXRlSW50MzJCRSh0aGlzLl9nLCAyNClcbiAgSC53cml0ZUludDMyQkUodGhpcy5faCwgMjgpXG5cbiAgcmV0dXJuIEhcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTaGEyNTZcblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZZM0psWVhSbExXaGhjMmd2Ym05a1pWOXRiMlIxYkdWekwzTm9ZUzVxY3k5emFHRXlOVFl1YW5NaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWp0QlFVRkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CSWl3aVptbHNaU0k2SW1kbGJtVnlZWFJsWkM1cWN5SXNJbk52ZFhKalpWSnZiM1FpT2lJaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNld5SXZLaXBjYmlBcUlFRWdTbUYyWVZOamNtbHdkQ0JwYlhCc1pXMWxiblJoZEdsdmJpQnZaaUIwYUdVZ1UyVmpkWEpsSUVoaGMyZ2dRV3huYjNKcGRHaHRMQ0JUU0VFdE1qVTJMQ0JoY3lCa1pXWnBibVZrWEc0Z0tpQnBiaUJHU1ZCVElERTRNQzB5WEc0Z0tpQldaWEp6YVc5dUlESXVNaTFpWlhSaElFTnZjSGx5YVdkb2RDQkJibWRsYkNCTllYSnBiaXdnVUdGMWJDQktiMmh1YzNSdmJpQXlNREF3SUMwZ01qQXdPUzVjYmlBcUlFOTBhR1Z5SUdOdmJuUnlhV0oxZEc5eWN6b2dSM0psWnlCSWIyeDBMQ0JCYm1SeVpYY2dTMlZ3WlhKMExDQlpaRzVoY2l3Z1RHOXpkR2x1WlhSY2JpQXFYRzRnS2k5Y2JseHVkbUZ5SUdsdWFHVnlhWFJ6SUQwZ2NtVnhkV2x5WlNnbmFXNW9aWEpwZEhNbktWeHVkbUZ5SUVoaGMyZ2dQU0J5WlhGMWFYSmxLQ2N1TDJoaGMyZ25LVnh1WEc1MllYSWdTeUE5SUZ0Y2JpQWdNSGcwTWpoQk1rWTVPQ3dnTUhnM01UTTNORFE1TVN3Z01IaENOVU13UmtKRFJpd2dNSGhGT1VJMVJFSkJOU3hjYmlBZ01IZ3pPVFUyUXpJMVFpd2dNSGcxT1VZeE1URkdNU3dnTUhnNU1qTkdPREpCTkN3Z01IaEJRakZETlVWRU5TeGNiaUFnTUhoRU9EQTNRVUU1T0N3Z01IZ3hNamd6TlVJd01Td2dNSGd5TkRNeE9EVkNSU3dnTUhnMU5UQkROMFJETXl4Y2JpQWdNSGczTWtKRk5VUTNOQ3dnTUhnNE1FUkZRakZHUlN3Z01IZzVRa1JETURaQk55d2dNSGhETVRsQ1JqRTNOQ3hjYmlBZ01IaEZORGxDTmpsRE1Td2dNSGhGUmtKRk5EYzROaXdnTUhnd1JrTXhPVVJETml3Z01IZ3lOREJEUVRGRFF5eGNiaUFnTUhneVJFVTVNa00yUml3Z01IZzBRVGMwT0RSQlFTd2dNSGcxUTBJd1FUbEVReXdnTUhnM05rWTVPRGhFUVN4Y2JpQWdNSGc1T0RORk5URTFNaXdnTUhoQk9ETXhRelkyUkN3Z01IaENNREF6TWpkRE9Dd2dNSGhDUmpVNU4wWkROeXhjYmlBZ01IaEROa1V3TUVKR015d2dNSGhFTlVFM09URTBOeXdnTUhnd05rTkJOak0xTVN3Z01IZ3hOREk1TWprMk55eGNiaUFnTUhneU4wSTNNRUU0TlN3Z01IZ3lSVEZDTWpFek9Dd2dNSGcwUkRKRE5rUkdReXdnTUhnMU16TTRNRVF4TXl4Y2JpQWdNSGcyTlRCQk56TTFOQ3dnTUhnM05qWkJNRUZDUWl3Z01IZzRNVU15UXpreVJTd2dNSGc1TWpjeU1rTTROU3hjYmlBZ01IaEJNa0pHUlRoQk1Td2dNSGhCT0RGQk5qWTBRaXdnTUhoRE1qUkNPRUkzTUN3Z01IaEROelpETlRGQk15eGNiaUFnTUhoRU1Ua3lSVGd4T1N3Z01IaEVOams1TURZeU5Dd2dNSGhHTkRCRk16VTROU3dnTUhneE1EWkJRVEEzTUN4Y2JpQWdNSGd4T1VFMFF6RXhOaXdnTUhneFJUTTNOa013T0N3Z01IZ3lOelE0TnpjMFF5d2dNSGd6TkVJd1FrTkNOU3hjYmlBZ01IZ3pPVEZETUVOQ015d2dNSGcwUlVRNFFVRTBRU3dnTUhnMVFqbERRMEUwUml3Z01IZzJPREpGTmtaR015eGNiaUFnTUhnM05EaEdPREpGUlN3Z01IZzNPRUUxTmpNMlJpd2dNSGc0TkVNNE56Z3hOQ3dnTUhnNFEwTTNNREl3T0N4Y2JpQWdNSGc1TUVKRlJrWkdRU3dnTUhoQk5EVXdOa05GUWl3Z01IaENSVVk1UVROR055d2dNSGhETmpjeE56aEdNbHh1WFZ4dVhHNTJZWElnVnlBOUlHNWxkeUJCY25KaGVTZzJOQ2xjYmx4dVpuVnVZM1JwYjI0Z1UyaGhNalUySUNncElIdGNiaUFnZEdocGN5NXBibWwwS0NsY2JseHVJQ0IwYUdsekxsOTNJRDBnVnlBdkx5QnVaWGNnUVhKeVlYa29OalFwWEc1Y2JpQWdTR0Z6YUM1allXeHNLSFJvYVhNc0lEWTBMQ0ExTmlsY2JuMWNibHh1YVc1b1pYSnBkSE1vVTJoaE1qVTJMQ0JJWVhOb0tWeHVYRzVUYUdFeU5UWXVjSEp2ZEc5MGVYQmxMbWx1YVhRZ1BTQm1kVzVqZEdsdmJpQW9LU0I3WEc0Z0lIUm9hWE11WDJFZ1BTQXdlRFpoTURsbE5qWTNJSHdnTUZ4dUlDQjBhR2x6TGw5aUlEMGdNSGhpWWpZM1lXVTROU0I4SURCY2JpQWdkR2hwY3k1Zll5QTlJREI0TTJNMlpXWXpOeklnZkNBd1hHNGdJSFJvYVhNdVgyUWdQU0F3ZUdFMU5HWm1OVE5oSUh3Z01GeHVJQ0IwYUdsekxsOWxJRDBnTUhnMU1UQmxOVEkzWmlCOElEQmNiaUFnZEdocGN5NWZaaUE5SURCNE9XSXdOVFk0T0dNZ2ZDQXdYRzRnSUhSb2FYTXVYMmNnUFNBd2VERm1PRE5rT1dGaUlId2dNRnh1SUNCMGFHbHpMbDlvSUQwZ01IZzFZbVV3WTJReE9TQjhJREJjYmx4dUlDQnlaWFIxY200Z2RHaHBjMXh1ZlZ4dVhHNW1kVzVqZEdsdmJpQkRhQ0FvZUN3Z2VTd2dlaWtnZTF4dUlDQnlaWFIxY200Z2VpQmVJQ2g0SUNZZ0tIa2dYaUI2S1NsY2JuMWNibHh1Wm5WdVkzUnBiMjRnVFdGcUlDaDRMQ0I1TENCNktTQjdYRzRnSUhKbGRIVnliaUFvZUNBbUlIa3BJSHdnS0hvZ0ppQW9lQ0I4SUhrcEtWeHVmVnh1WEc1bWRXNWpkR2x2YmlCVGFXZHRZVEFnS0hncElIdGNiaUFnY21WMGRYSnVJQ2g0SUQ0K1BpQXlJSHdnZUNBOFBDQXpNQ2tnWGlBb2VDQStQajRnTVRNZ2ZDQjRJRHc4SURFNUtTQmVJQ2g0SUQ0K1BpQXlNaUI4SUhnZ1BEd2dNVEFwWEc1OVhHNWNibVoxYm1OMGFXOXVJRk5wWjIxaE1TQW9lQ2tnZTF4dUlDQnlaWFIxY200Z0tIZ2dQajQrSURZZ2ZDQjRJRHc4SURJMktTQmVJQ2g0SUQ0K1BpQXhNU0I4SUhnZ1BEd2dNakVwSUY0Z0tIZ2dQajQrSURJMUlId2dlQ0E4UENBM0tWeHVmVnh1WEc1bWRXNWpkR2x2YmlCSFlXMXRZVEFnS0hncElIdGNiaUFnY21WMGRYSnVJQ2g0SUQ0K1BpQTNJSHdnZUNBOFBDQXlOU2tnWGlBb2VDQStQajRnTVRnZ2ZDQjRJRHc4SURFMEtTQmVJQ2g0SUQ0K1BpQXpLVnh1ZlZ4dVhHNW1kVzVqZEdsdmJpQkhZVzF0WVRFZ0tIZ3BJSHRjYmlBZ2NtVjBkWEp1SUNoNElENCtQaUF4TnlCOElIZ2dQRHdnTVRVcElGNGdLSGdnUGo0K0lERTVJSHdnZUNBOFBDQXhNeWtnWGlBb2VDQStQajRnTVRBcFhHNTlYRzVjYmxOb1lUSTFOaTV3Y205MGIzUjVjR1V1WDNWd1pHRjBaU0E5SUdaMWJtTjBhVzl1SUNoTktTQjdYRzRnSUhaaGNpQlhJRDBnZEdocGN5NWZkMXh1WEc0Z0lIWmhjaUJoSUQwZ2RHaHBjeTVmWVNCOElEQmNiaUFnZG1GeUlHSWdQU0IwYUdsekxsOWlJSHdnTUZ4dUlDQjJZWElnWXlBOUlIUm9hWE11WDJNZ2ZDQXdYRzRnSUhaaGNpQmtJRDBnZEdocGN5NWZaQ0I4SURCY2JpQWdkbUZ5SUdVZ1BTQjBhR2x6TGw5bElId2dNRnh1SUNCMllYSWdaaUE5SUhSb2FYTXVYMllnZkNBd1hHNGdJSFpoY2lCbklEMGdkR2hwY3k1Zlp5QjhJREJjYmlBZ2RtRnlJR2dnUFNCMGFHbHpMbDlvSUh3Z01GeHVYRzRnSUhaaGNpQnFJRDBnTUZ4dVhHNGdJR1oxYm1OMGFXOXVJR05oYkdOWElDZ3BJSHNnY21WMGRYSnVJRWRoYlcxaE1TaFhXMm9nTFNBeVhTa2dLeUJYVzJvZ0xTQTNYU0FySUVkaGJXMWhNQ2hYVzJvZ0xTQXhOVjBwSUNzZ1YxdHFJQzBnTVRaZElIMWNiaUFnWm5WdVkzUnBiMjRnYkc5dmNDQW9keWtnZTF4dUlDQWdJRmRiYWwwZ1BTQjNYRzVjYmlBZ0lDQjJZWElnVkRFZ1BTQm9JQ3NnVTJsbmJXRXhLR1VwSUNzZ1EyZ29aU3dnWml3Z1p5a2dLeUJMVzJwZElDc2dkMXh1SUNBZ0lIWmhjaUJVTWlBOUlGTnBaMjFoTUNoaEtTQXJJRTFoYWloaExDQmlMQ0JqS1Z4dVhHNGdJQ0FnYUNBOUlHZGNiaUFnSUNCbklEMGdabHh1SUNBZ0lHWWdQU0JsWEc0Z0lDQWdaU0E5SUdRZ0t5QlVNVnh1SUNBZ0lHUWdQU0JqWEc0Z0lDQWdZeUE5SUdKY2JpQWdJQ0JpSUQwZ1lWeHVJQ0FnSUdFZ1BTQlVNU0FySUZReVhHNWNiaUFnSUNCcUt5dGNiaUFnZlZ4dVhHNGdJSGRvYVd4bElDaHFJRHdnTVRZcElHeHZiM0FvVFM1eVpXRmtTVzUwTXpKQ1JTaHFJQ29nTkNrcFhHNGdJSGRvYVd4bElDaHFJRHdnTmpRcElHeHZiM0FvWTJGc1kxY29LU2xjYmx4dUlDQjBhR2x6TGw5aElEMGdLR0VnS3lCMGFHbHpMbDloS1NCOElEQmNiaUFnZEdocGN5NWZZaUE5SUNoaUlDc2dkR2hwY3k1Zllpa2dmQ0F3WEc0Z0lIUm9hWE11WDJNZ1BTQW9ZeUFySUhSb2FYTXVYMk1wSUh3Z01GeHVJQ0IwYUdsekxsOWtJRDBnS0dRZ0t5QjBhR2x6TGw5a0tTQjhJREJjYmlBZ2RHaHBjeTVmWlNBOUlDaGxJQ3NnZEdocGN5NWZaU2tnZkNBd1hHNGdJSFJvYVhNdVgyWWdQU0FvWmlBcklIUm9hWE11WDJZcElId2dNRnh1SUNCMGFHbHpMbDluSUQwZ0tHY2dLeUIwYUdsekxsOW5LU0I4SURCY2JpQWdkR2hwY3k1ZmFDQTlJQ2hvSUNzZ2RHaHBjeTVmYUNrZ2ZDQXdYRzU5WEc1Y2JsTm9ZVEkxTmk1d2NtOTBiM1I1Y0dVdVgyaGhjMmdnUFNCbWRXNWpkR2x2YmlBb0tTQjdYRzRnSUhaaGNpQklJRDBnYm1WM0lFSjFabVpsY2lnek1pbGNibHh1SUNCSUxuZHlhWFJsU1c1ME16SkNSU2gwYUdsekxsOWhMQ0F3S1Z4dUlDQklMbmR5YVhSbFNXNTBNekpDUlNoMGFHbHpMbDlpTENBMEtWeHVJQ0JJTG5keWFYUmxTVzUwTXpKQ1JTaDBhR2x6TGw5akxDQTRLVnh1SUNCSUxuZHlhWFJsU1c1ME16SkNSU2gwYUdsekxsOWtMQ0F4TWlsY2JpQWdTQzUzY21sMFpVbHVkRE15UWtVb2RHaHBjeTVmWlN3Z01UWXBYRzRnSUVndWQzSnBkR1ZKYm5Rek1rSkZLSFJvYVhNdVgyWXNJREl3S1Z4dUlDQklMbmR5YVhSbFNXNTBNekpDUlNoMGFHbHpMbDluTENBeU5DbGNiaUFnU0M1M2NtbDBaVWx1ZERNeVFrVW9kR2hwY3k1ZmFDd2dNamdwWEc1Y2JpQWdjbVYwZFhKdUlFaGNibjFjYmx4dWJXOWtkV3hsTG1WNGNHOXlkSE1nUFNCVGFHRXlOVFpjYmlKZGZRPT0iLCIoZnVuY3Rpb24gKEJ1ZmZlcil7XG4vKlxuICogQSBKYXZhU2NyaXB0IGltcGxlbWVudGF0aW9uIG9mIHRoZSBTZWN1cmUgSGFzaCBBbGdvcml0aG0sIFNIQS0xLCBhcyBkZWZpbmVkXG4gKiBpbiBGSVBTIFBVQiAxODAtMVxuICogVmVyc2lvbiAyLjFhIENvcHlyaWdodCBQYXVsIEpvaG5zdG9uIDIwMDAgLSAyMDAyLlxuICogT3RoZXIgY29udHJpYnV0b3JzOiBHcmVnIEhvbHQsIEFuZHJldyBLZXBlcnQsIFlkbmFyLCBMb3N0aW5ldFxuICogRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIEJTRCBMaWNlbnNlXG4gKiBTZWUgaHR0cDovL3BhamhvbWUub3JnLnVrL2NyeXB0L21kNSBmb3IgZGV0YWlscy5cbiAqL1xuXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG52YXIgSGFzaCA9IHJlcXVpcmUoJy4vaGFzaCcpXG5cbnZhciBXID0gbmV3IEFycmF5KDgwKVxuXG5mdW5jdGlvbiBTaGExICgpIHtcbiAgdGhpcy5pbml0KClcbiAgdGhpcy5fdyA9IFdcblxuICBIYXNoLmNhbGwodGhpcywgNjQsIDU2KVxufVxuXG5pbmhlcml0cyhTaGExLCBIYXNoKVxuXG5TaGExLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9hID0gMHg2NzQ1MjMwMSB8IDBcbiAgdGhpcy5fYiA9IDB4ZWZjZGFiODkgfCAwXG4gIHRoaXMuX2MgPSAweDk4YmFkY2ZlIHwgMFxuICB0aGlzLl9kID0gMHgxMDMyNTQ3NiB8IDBcbiAgdGhpcy5fZSA9IDB4YzNkMmUxZjAgfCAwXG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuLypcbiAqIEJpdHdpc2Ugcm90YXRlIGEgMzItYml0IG51bWJlciB0byB0aGUgbGVmdC5cbiAqL1xuZnVuY3Rpb24gcm9sIChudW0sIGNudCkge1xuICByZXR1cm4gKG51bSA8PCBjbnQpIHwgKG51bSA+Pj4gKDMyIC0gY250KSlcbn1cblxuU2hhMS5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uIChNKSB7XG4gIHZhciBXID0gdGhpcy5fd1xuXG4gIHZhciBhID0gdGhpcy5fYVxuICB2YXIgYiA9IHRoaXMuX2JcbiAgdmFyIGMgPSB0aGlzLl9jXG4gIHZhciBkID0gdGhpcy5fZFxuICB2YXIgZSA9IHRoaXMuX2VcblxuICB2YXIgaiA9IDBcbiAgdmFyIGtcblxuICBmdW5jdGlvbiBjYWxjVyAoKSB7IHJldHVybiByb2woV1tqIC0gM10gXiBXW2ogLSA4XSBeIFdbaiAtIDE0XSBeIFdbaiAtIDE2XSwgMSkgfVxuICBmdW5jdGlvbiBsb29wICh3LCBmKSB7XG4gICAgV1tqXSA9IHdcblxuICAgIHZhciB0ID0gcm9sKGEsIDUpICsgZiArIGUgKyB3ICsga1xuXG4gICAgZSA9IGRcbiAgICBkID0gY1xuICAgIGMgPSByb2woYiwgMzApXG4gICAgYiA9IGFcbiAgICBhID0gdFxuICAgIGorK1xuICB9XG5cbiAgayA9IDE1MTg1MDAyNDlcbiAgd2hpbGUgKGogPCAxNikgbG9vcChNLnJlYWRJbnQzMkJFKGogKiA0KSwgKGIgJiBjKSB8ICgofmIpICYgZCkpXG4gIHdoaWxlIChqIDwgMjApIGxvb3AoY2FsY1coKSwgKGIgJiBjKSB8ICgofmIpICYgZCkpXG4gIGsgPSAxODU5Nzc1MzkzXG4gIHdoaWxlIChqIDwgNDApIGxvb3AoY2FsY1coKSwgYiBeIGMgXiBkKVxuICBrID0gLTE4OTQwMDc1ODhcbiAgd2hpbGUgKGogPCA2MCkgbG9vcChjYWxjVygpLCAoYiAmIGMpIHwgKGIgJiBkKSB8IChjICYgZCkpXG4gIGsgPSAtODk5NDk3NTE0XG4gIHdoaWxlIChqIDwgODApIGxvb3AoY2FsY1coKSwgYiBeIGMgXiBkKVxuXG4gIHRoaXMuX2EgPSAoYSArIHRoaXMuX2EpIHwgMFxuICB0aGlzLl9iID0gKGIgKyB0aGlzLl9iKSB8IDBcbiAgdGhpcy5fYyA9IChjICsgdGhpcy5fYykgfCAwXG4gIHRoaXMuX2QgPSAoZCArIHRoaXMuX2QpIHwgMFxuICB0aGlzLl9lID0gKGUgKyB0aGlzLl9lKSB8IDBcbn1cblxuU2hhMS5wcm90b3R5cGUuX2hhc2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBIID0gbmV3IEJ1ZmZlcigyMClcblxuICBILndyaXRlSW50MzJCRSh0aGlzLl9hIHwgMCwgMClcbiAgSC53cml0ZUludDMyQkUodGhpcy5fYiB8IDAsIDQpXG4gIEgud3JpdGVJbnQzMkJFKHRoaXMuX2MgfCAwLCA4KVxuICBILndyaXRlSW50MzJCRSh0aGlzLl9kIHwgMCwgMTIpXG4gIEgud3JpdGVJbnQzMkJFKHRoaXMuX2UgfCAwLCAxNilcblxuICByZXR1cm4gSFxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFNoYTFcblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZZM0psWVhSbExXaGhjMmd2Ym05a1pWOXRiMlIxYkdWekwzTm9ZUzVxY3k5emFHRXhMbXB6SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUk3UVVGQlFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRU0lzSW1acGJHVWlPaUpuWlc1bGNtRjBaV1F1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaUx5cGNiaUFxSUVFZ1NtRjJZVk5qY21sd2RDQnBiWEJzWlcxbGJuUmhkR2x2YmlCdlppQjBhR1VnVTJWamRYSmxJRWhoYzJnZ1FXeG5iM0pwZEdodExDQlRTRUV0TVN3Z1lYTWdaR1ZtYVc1bFpGeHVJQ29nYVc0Z1JrbFFVeUJRVlVJZ01UZ3dMVEZjYmlBcUlGWmxjbk5wYjI0Z01pNHhZU0JEYjNCNWNtbG5hSFFnVUdGMWJDQktiMmh1YzNSdmJpQXlNREF3SUMwZ01qQXdNaTVjYmlBcUlFOTBhR1Z5SUdOdmJuUnlhV0oxZEc5eWN6b2dSM0psWnlCSWIyeDBMQ0JCYm1SeVpYY2dTMlZ3WlhKMExDQlpaRzVoY2l3Z1RHOXpkR2x1WlhSY2JpQXFJRVJwYzNSeWFXSjFkR1ZrSUhWdVpHVnlJSFJvWlNCQ1UwUWdUR2xqWlc1elpWeHVJQ29nVTJWbElHaDBkSEE2THk5d1lXcG9iMjFsTG05eVp5NTFheTlqY25sd2RDOXRaRFVnWm05eUlHUmxkR0ZwYkhNdVhHNGdLaTljYmx4dWRtRnlJR2x1YUdWeWFYUnpJRDBnY21WeGRXbHlaU2duYVc1b1pYSnBkSE1uS1Z4dWRtRnlJRWhoYzJnZ1BTQnlaWEYxYVhKbEtDY3VMMmhoYzJnbktWeHVYRzUyWVhJZ1Z5QTlJRzVsZHlCQmNuSmhlU2c0TUNsY2JseHVablZ1WTNScGIyNGdVMmhoTVNBb0tTQjdYRzRnSUhSb2FYTXVhVzVwZENncFhHNGdJSFJvYVhNdVgzY2dQU0JYWEc1Y2JpQWdTR0Z6YUM1allXeHNLSFJvYVhNc0lEWTBMQ0ExTmlsY2JuMWNibHh1YVc1b1pYSnBkSE1vVTJoaE1Td2dTR0Z6YUNsY2JseHVVMmhoTVM1d2NtOTBiM1I1Y0dVdWFXNXBkQ0E5SUdaMWJtTjBhVzl1SUNncElIdGNiaUFnZEdocGN5NWZZU0E5SURCNE5qYzBOVEl6TURFZ2ZDQXdYRzRnSUhSb2FYTXVYMklnUFNBd2VHVm1ZMlJoWWpnNUlId2dNRnh1SUNCMGFHbHpMbDlqSUQwZ01IZzVPR0poWkdObVpTQjhJREJjYmlBZ2RHaHBjeTVmWkNBOUlEQjRNVEF6TWpVME56WWdmQ0F3WEc0Z0lIUm9hWE11WDJVZ1BTQXdlR016WkRKbE1XWXdJSHdnTUZ4dVhHNGdJSEpsZEhWeWJpQjBhR2x6WEc1OVhHNWNiaThxWEc0Z0tpQkNhWFIzYVhObElISnZkR0YwWlNCaElETXlMV0pwZENCdWRXMWlaWElnZEc4Z2RHaGxJR3hsWm5RdVhHNGdLaTljYm1aMWJtTjBhVzl1SUhKdmJDQW9iblZ0TENCamJuUXBJSHRjYmlBZ2NtVjBkWEp1SUNodWRXMGdQRHdnWTI1MEtTQjhJQ2h1ZFcwZ1BqNCtJQ2d6TWlBdElHTnVkQ2twWEc1OVhHNWNibE5vWVRFdWNISnZkRzkwZVhCbExsOTFjR1JoZEdVZ1BTQm1kVzVqZEdsdmJpQW9UU2tnZTF4dUlDQjJZWElnVnlBOUlIUm9hWE11WDNkY2JseHVJQ0IyWVhJZ1lTQTlJSFJvYVhNdVgyRmNiaUFnZG1GeUlHSWdQU0IwYUdsekxsOWlYRzRnSUhaaGNpQmpJRDBnZEdocGN5NWZZMXh1SUNCMllYSWdaQ0E5SUhSb2FYTXVYMlJjYmlBZ2RtRnlJR1VnUFNCMGFHbHpMbDlsWEc1Y2JpQWdkbUZ5SUdvZ1BTQXdYRzRnSUhaaGNpQnJYRzVjYmlBZ1puVnVZM1JwYjI0Z1kyRnNZMWNnS0NrZ2V5QnlaWFIxY200Z2NtOXNLRmRiYWlBdElETmRJRjRnVjF0cUlDMGdPRjBnWGlCWFcyb2dMU0F4TkYwZ1hpQlhXMm9nTFNBeE5sMHNJREVwSUgxY2JpQWdablZ1WTNScGIyNGdiRzl2Y0NBb2R5d2daaWtnZTF4dUlDQWdJRmRiYWwwZ1BTQjNYRzVjYmlBZ0lDQjJZWElnZENBOUlISnZiQ2hoTENBMUtTQXJJR1lnS3lCbElDc2dkeUFySUd0Y2JseHVJQ0FnSUdVZ1BTQmtYRzRnSUNBZ1pDQTlJR05jYmlBZ0lDQmpJRDBnY205c0tHSXNJRE13S1Z4dUlDQWdJR0lnUFNCaFhHNGdJQ0FnWVNBOUlIUmNiaUFnSUNCcUt5dGNiaUFnZlZ4dVhHNGdJR3NnUFNBeE5URTROVEF3TWpRNVhHNGdJSGRvYVd4bElDaHFJRHdnTVRZcElHeHZiM0FvVFM1eVpXRmtTVzUwTXpKQ1JTaHFJQ29nTkNrc0lDaGlJQ1lnWXlrZ2ZDQW9LSDVpS1NBbUlHUXBLVnh1SUNCM2FHbHNaU0FvYWlBOElESXdLU0JzYjI5d0tHTmhiR05YS0Nrc0lDaGlJQ1lnWXlrZ2ZDQW9LSDVpS1NBbUlHUXBLVnh1SUNCcklEMGdNVGcxT1RjM05UTTVNMXh1SUNCM2FHbHNaU0FvYWlBOElEUXdLU0JzYjI5d0tHTmhiR05YS0Nrc0lHSWdYaUJqSUY0Z1pDbGNiaUFnYXlBOUlDMHhPRGswTURBM05UZzRYRzRnSUhkb2FXeGxJQ2hxSUR3Z05qQXBJR3h2YjNBb1kyRnNZMWNvS1N3Z0tHSWdKaUJqS1NCOElDaGlJQ1lnWkNrZ2ZDQW9ZeUFtSUdRcEtWeHVJQ0JySUQwZ0xUZzVPVFE1TnpVeE5GeHVJQ0IzYUdsc1pTQW9haUE4SURnd0tTQnNiMjl3S0dOaGJHTlhLQ2tzSUdJZ1hpQmpJRjRnWkNsY2JseHVJQ0IwYUdsekxsOWhJRDBnS0dFZ0t5QjBhR2x6TGw5aEtTQjhJREJjYmlBZ2RHaHBjeTVmWWlBOUlDaGlJQ3NnZEdocGN5NWZZaWtnZkNBd1hHNGdJSFJvYVhNdVgyTWdQU0FvWXlBcklIUm9hWE11WDJNcElId2dNRnh1SUNCMGFHbHpMbDlrSUQwZ0tHUWdLeUIwYUdsekxsOWtLU0I4SURCY2JpQWdkR2hwY3k1ZlpTQTlJQ2hsSUNzZ2RHaHBjeTVmWlNrZ2ZDQXdYRzU5WEc1Y2JsTm9ZVEV1Y0hKdmRHOTBlWEJsTGw5b1lYTm9JRDBnWm5WdVkzUnBiMjRnS0NrZ2UxeHVJQ0IyWVhJZ1NDQTlJRzVsZHlCQ2RXWm1aWElvTWpBcFhHNWNiaUFnU0M1M2NtbDBaVWx1ZERNeVFrVW9kR2hwY3k1ZllTQjhJREFzSURBcFhHNGdJRWd1ZDNKcGRHVkpiblF6TWtKRktIUm9hWE11WDJJZ2ZDQXdMQ0EwS1Z4dUlDQklMbmR5YVhSbFNXNTBNekpDUlNoMGFHbHpMbDlqSUh3Z01Dd2dPQ2xjYmlBZ1NDNTNjbWwwWlVsdWRETXlRa1VvZEdocGN5NWZaQ0I4SURBc0lERXlLVnh1SUNCSUxuZHlhWFJsU1c1ME16SkNSU2gwYUdsekxsOWxJSHdnTUN3Z01UWXBYRzVjYmlBZ2NtVjBkWEp1SUVoY2JuMWNibHh1Ylc5a2RXeGxMbVY0Y0c5eWRITWdQU0JUYUdFeFhHNGlYWDA9IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xuLypcbiAqIEEgSmF2YVNjcmlwdCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgU2VjdXJlIEhhc2ggQWxnb3JpdGhtLCBTSEEtMCwgYXMgZGVmaW5lZFxuICogaW4gRklQUyBQVUIgMTgwLTFcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgZGVyaXZlZCBmcm9tIHNoYTEuanMgb2YgdGhlIHNhbWUgcmVwb3NpdG9yeS5cbiAqIFRoZSBkaWZmZXJlbmNlIGJldHdlZW4gU0hBLTAgYW5kIFNIQS0xIGlzIGp1c3QgYSBiaXR3aXNlIHJvdGF0ZSBsZWZ0XG4gKiBvcGVyYXRpb24gd2FzIGFkZGVkLlxuICovXG5cbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbnZhciBIYXNoID0gcmVxdWlyZSgnLi9oYXNoJylcblxudmFyIFcgPSBuZXcgQXJyYXkoODApXG5cbmZ1bmN0aW9uIFNoYSAoKSB7XG4gIHRoaXMuaW5pdCgpXG4gIHRoaXMuX3cgPSBXXG5cbiAgSGFzaC5jYWxsKHRoaXMsIDY0LCA1Nilcbn1cblxuaW5oZXJpdHMoU2hhLCBIYXNoKVxuXG5TaGEucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuX2EgPSAweDY3NDUyMzAxIHwgMFxuICB0aGlzLl9iID0gMHhlZmNkYWI4OSB8IDBcbiAgdGhpcy5fYyA9IDB4OThiYWRjZmUgfCAwXG4gIHRoaXMuX2QgPSAweDEwMzI1NDc2IHwgMFxuICB0aGlzLl9lID0gMHhjM2QyZTFmMCB8IDBcblxuICByZXR1cm4gdGhpc1xufVxuXG4vKlxuICogQml0d2lzZSByb3RhdGUgYSAzMi1iaXQgbnVtYmVyIHRvIHRoZSBsZWZ0LlxuICovXG5mdW5jdGlvbiByb2wgKG51bSwgY250KSB7XG4gIHJldHVybiAobnVtIDw8IGNudCkgfCAobnVtID4+PiAoMzIgLSBjbnQpKVxufVxuXG5TaGEucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoTSkge1xuICB2YXIgVyA9IHRoaXMuX3dcblxuICB2YXIgYSA9IHRoaXMuX2FcbiAgdmFyIGIgPSB0aGlzLl9iXG4gIHZhciBjID0gdGhpcy5fY1xuICB2YXIgZCA9IHRoaXMuX2RcbiAgdmFyIGUgPSB0aGlzLl9lXG5cbiAgdmFyIGogPSAwXG4gIHZhciBrXG5cbiAgLypcbiAgICogU0hBLTEgaGFzIGEgYml0d2lzZSByb3RhdGUgbGVmdCBvcGVyYXRpb24uIEJ1dCwgU0hBIGlzIG5vdFxuICAgKiBmdW5jdGlvbiBjYWxjVygpIHsgcmV0dXJuIHJvbChXW2ogLSAzXSBeIFdbaiAtICA4XSBeIFdbaiAtIDE0XSBeIFdbaiAtIDE2XSwgMSkgfVxuICAgKi9cbiAgZnVuY3Rpb24gY2FsY1cgKCkgeyByZXR1cm4gV1tqIC0gM10gXiBXW2ogLSA4XSBeIFdbaiAtIDE0XSBeIFdbaiAtIDE2XSB9XG4gIGZ1bmN0aW9uIGxvb3AgKHcsIGYpIHtcbiAgICBXW2pdID0gd1xuXG4gICAgdmFyIHQgPSByb2woYSwgNSkgKyBmICsgZSArIHcgKyBrXG5cbiAgICBlID0gZFxuICAgIGQgPSBjXG4gICAgYyA9IHJvbChiLCAzMClcbiAgICBiID0gYVxuICAgIGEgPSB0XG4gICAgaisrXG4gIH1cblxuICBrID0gMTUxODUwMDI0OVxuICB3aGlsZSAoaiA8IDE2KSBsb29wKE0ucmVhZEludDMyQkUoaiAqIDQpLCAoYiAmIGMpIHwgKCh+YikgJiBkKSlcbiAgd2hpbGUgKGogPCAyMCkgbG9vcChjYWxjVygpLCAoYiAmIGMpIHwgKCh+YikgJiBkKSlcbiAgayA9IDE4NTk3NzUzOTNcbiAgd2hpbGUgKGogPCA0MCkgbG9vcChjYWxjVygpLCBiIF4gYyBeIGQpXG4gIGsgPSAtMTg5NDAwNzU4OFxuICB3aGlsZSAoaiA8IDYwKSBsb29wKGNhbGNXKCksIChiICYgYykgfCAoYiAmIGQpIHwgKGMgJiBkKSlcbiAgayA9IC04OTk0OTc1MTRcbiAgd2hpbGUgKGogPCA4MCkgbG9vcChjYWxjVygpLCBiIF4gYyBeIGQpXG5cbiAgdGhpcy5fYSA9IChhICsgdGhpcy5fYSkgfCAwXG4gIHRoaXMuX2IgPSAoYiArIHRoaXMuX2IpIHwgMFxuICB0aGlzLl9jID0gKGMgKyB0aGlzLl9jKSB8IDBcbiAgdGhpcy5fZCA9IChkICsgdGhpcy5fZCkgfCAwXG4gIHRoaXMuX2UgPSAoZSArIHRoaXMuX2UpIHwgMFxufVxuXG5TaGEucHJvdG90eXBlLl9oYXNoID0gZnVuY3Rpb24gKCkge1xuICB2YXIgSCA9IG5ldyBCdWZmZXIoMjApXG5cbiAgSC53cml0ZUludDMyQkUodGhpcy5fYSB8IDAsIDApXG4gIEgud3JpdGVJbnQzMkJFKHRoaXMuX2IgfCAwLCA0KVxuICBILndyaXRlSW50MzJCRSh0aGlzLl9jIHwgMCwgOClcbiAgSC53cml0ZUludDMyQkUodGhpcy5fZCB8IDAsIDEyKVxuICBILndyaXRlSW50MzJCRSh0aGlzLl9lIHwgMCwgMTYpXG5cbiAgcmV0dXJuIEhcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTaGFcblxuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIpXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUwyNXZaR1ZmYlc5a2RXeGxjeTlqY25sd2RHOHRZbkp2ZDNObGNtbG1lUzl1YjJSbFgyMXZaSFZzWlhNdlkzSmxZWFJsTFdoaGMyZ3ZibTlrWlY5dGIyUjFiR1Z6TDNOb1lTNXFjeTl6YUdFdWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqdEJRVUZCTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRWlMQ0ptYVd4bElqb2laMlZ1WlhKaGRHVmtMbXB6SWl3aWMyOTFjbU5sVW05dmRDSTZJaUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSWk4cVhHNGdLaUJCSUVwaGRtRlRZM0pwY0hRZ2FXMXdiR1Z0Wlc1MFlYUnBiMjRnYjJZZ2RHaGxJRk5sWTNWeVpTQklZWE5vSUVGc1oyOXlhWFJvYlN3Z1UwaEJMVEFzSUdGeklHUmxabWx1WldSY2JpQXFJR2x1SUVaSlVGTWdVRlZDSURFNE1DMHhYRzRnS2lCVWFHbHpJSE52ZFhKalpTQmpiMlJsSUdseklHUmxjbWwyWldRZ1puSnZiU0J6YUdFeExtcHpJRzltSUhSb1pTQnpZVzFsSUhKbGNHOXphWFJ2Y25rdVhHNGdLaUJVYUdVZ1pHbG1abVZ5Wlc1alpTQmlaWFIzWldWdUlGTklRUzB3SUdGdVpDQlRTRUV0TVNCcGN5QnFkWE4wSUdFZ1ltbDBkMmx6WlNCeWIzUmhkR1VnYkdWbWRGeHVJQ29nYjNCbGNtRjBhVzl1SUhkaGN5QmhaR1JsWkM1Y2JpQXFMMXh1WEc1MllYSWdhVzVvWlhKcGRITWdQU0J5WlhGMWFYSmxLQ2RwYm1obGNtbDBjeWNwWEc1MllYSWdTR0Z6YUNBOUlISmxjWFZwY21Vb0p5NHZhR0Z6YUNjcFhHNWNiblpoY2lCWElEMGdibVYzSUVGeWNtRjVLRGd3S1Z4dVhHNW1kVzVqZEdsdmJpQlRhR0VnS0NrZ2UxeHVJQ0IwYUdsekxtbHVhWFFvS1Z4dUlDQjBhR2x6TGw5M0lEMGdWMXh1WEc0Z0lFaGhjMmd1WTJGc2JDaDBhR2x6TENBMk5Dd2dOVFlwWEc1OVhHNWNibWx1YUdWeWFYUnpLRk5vWVN3Z1NHRnphQ2xjYmx4dVUyaGhMbkJ5YjNSdmRIbHdaUzVwYm1sMElEMGdablZ1WTNScGIyNGdLQ2tnZTF4dUlDQjBhR2x6TGw5aElEMGdNSGcyTnpRMU1qTXdNU0I4SURCY2JpQWdkR2hwY3k1ZllpQTlJREI0WldaalpHRmlPRGtnZkNBd1hHNGdJSFJvYVhNdVgyTWdQU0F3ZURrNFltRmtZMlpsSUh3Z01GeHVJQ0IwYUdsekxsOWtJRDBnTUhneE1ETXlOVFEzTmlCOElEQmNiaUFnZEdocGN5NWZaU0E5SURCNFl6TmtNbVV4WmpBZ2ZDQXdYRzVjYmlBZ2NtVjBkWEp1SUhSb2FYTmNibjFjYmx4dUx5cGNiaUFxSUVKcGRIZHBjMlVnY205MFlYUmxJR0VnTXpJdFltbDBJRzUxYldKbGNpQjBieUIwYUdVZ2JHVm1kQzVjYmlBcUwxeHVablZ1WTNScGIyNGdjbTlzSUNodWRXMHNJR051ZENrZ2UxeHVJQ0J5WlhSMWNtNGdLRzUxYlNBOFBDQmpiblFwSUh3Z0tHNTFiU0ErUGo0Z0tETXlJQzBnWTI1MEtTbGNibjFjYmx4dVUyaGhMbkJ5YjNSdmRIbHdaUzVmZFhCa1lYUmxJRDBnWm5WdVkzUnBiMjRnS0UwcElIdGNiaUFnZG1GeUlGY2dQU0IwYUdsekxsOTNYRzVjYmlBZ2RtRnlJR0VnUFNCMGFHbHpMbDloWEc0Z0lIWmhjaUJpSUQwZ2RHaHBjeTVmWWx4dUlDQjJZWElnWXlBOUlIUm9hWE11WDJOY2JpQWdkbUZ5SUdRZ1BTQjBhR2x6TGw5a1hHNGdJSFpoY2lCbElEMGdkR2hwY3k1ZlpWeHVYRzRnSUhaaGNpQnFJRDBnTUZ4dUlDQjJZWElnYTF4dVhHNGdJQzhxWEc0Z0lDQXFJRk5JUVMweElHaGhjeUJoSUdKcGRIZHBjMlVnY205MFlYUmxJR3hsWm5RZ2IzQmxjbUYwYVc5dUxpQkNkWFFzSUZOSVFTQnBjeUJ1YjNSY2JpQWdJQ29nWm5WdVkzUnBiMjRnWTJGc1kxY29LU0I3SUhKbGRIVnliaUJ5YjJ3b1YxdHFJQzBnTTEwZ1hpQlhXMm9nTFNBZ09GMGdYaUJYVzJvZ0xTQXhORjBnWGlCWFcyb2dMU0F4Tmwwc0lERXBJSDFjYmlBZ0lDb3ZYRzRnSUdaMWJtTjBhVzl1SUdOaGJHTlhJQ2dwSUhzZ2NtVjBkWEp1SUZkYmFpQXRJRE5kSUY0Z1YxdHFJQzBnT0YwZ1hpQlhXMm9nTFNBeE5GMGdYaUJYVzJvZ0xTQXhObDBnZlZ4dUlDQm1kVzVqZEdsdmJpQnNiMjl3SUNoM0xDQm1LU0I3WEc0Z0lDQWdWMXRxWFNBOUlIZGNibHh1SUNBZ0lIWmhjaUIwSUQwZ2NtOXNLR0VzSURVcElDc2daaUFySUdVZ0t5QjNJQ3NnYTF4dVhHNGdJQ0FnWlNBOUlHUmNiaUFnSUNCa0lEMGdZMXh1SUNBZ0lHTWdQU0J5YjJ3b1lpd2dNekFwWEc0Z0lDQWdZaUE5SUdGY2JpQWdJQ0JoSUQwZ2RGeHVJQ0FnSUdvcksxeHVJQ0I5WEc1Y2JpQWdheUE5SURFMU1UZzFNREF5TkRsY2JpQWdkMmhwYkdVZ0tHb2dQQ0F4TmlrZ2JHOXZjQ2hOTG5KbFlXUkpiblF6TWtKRktHb2dLaUEwS1N3Z0tHSWdKaUJqS1NCOElDZ29mbUlwSUNZZ1pDa3BYRzRnSUhkb2FXeGxJQ2hxSUR3Z01qQXBJR3h2YjNBb1kyRnNZMWNvS1N3Z0tHSWdKaUJqS1NCOElDZ29mbUlwSUNZZ1pDa3BYRzRnSUdzZ1BTQXhPRFU1TnpjMU16a3pYRzRnSUhkb2FXeGxJQ2hxSUR3Z05EQXBJR3h2YjNBb1kyRnNZMWNvS1N3Z1lpQmVJR01nWGlCa0tWeHVJQ0JySUQwZ0xURTRPVFF3TURjMU9EaGNiaUFnZDJocGJHVWdLR29nUENBMk1Da2diRzl2Y0NoallXeGpWeWdwTENBb1lpQW1JR01wSUh3Z0tHSWdKaUJrS1NCOElDaGpJQ1lnWkNrcFhHNGdJR3NnUFNBdE9EazVORGszTlRFMFhHNGdJSGRvYVd4bElDaHFJRHdnT0RBcElHeHZiM0FvWTJGc1kxY29LU3dnWWlCZUlHTWdYaUJrS1Z4dVhHNGdJSFJvYVhNdVgyRWdQU0FvWVNBcklIUm9hWE11WDJFcElId2dNRnh1SUNCMGFHbHpMbDlpSUQwZ0tHSWdLeUIwYUdsekxsOWlLU0I4SURCY2JpQWdkR2hwY3k1Zll5QTlJQ2hqSUNzZ2RHaHBjeTVmWXlrZ2ZDQXdYRzRnSUhSb2FYTXVYMlFnUFNBb1pDQXJJSFJvYVhNdVgyUXBJSHdnTUZ4dUlDQjBhR2x6TGw5bElEMGdLR1VnS3lCMGFHbHpMbDlsS1NCOElEQmNibjFjYmx4dVUyaGhMbkJ5YjNSdmRIbHdaUzVmYUdGemFDQTlJR1oxYm1OMGFXOXVJQ2dwSUh0Y2JpQWdkbUZ5SUVnZ1BTQnVaWGNnUW5WbVptVnlLREl3S1Z4dVhHNGdJRWd1ZDNKcGRHVkpiblF6TWtKRktIUm9hWE11WDJFZ2ZDQXdMQ0F3S1Z4dUlDQklMbmR5YVhSbFNXNTBNekpDUlNoMGFHbHpMbDlpSUh3Z01Dd2dOQ2xjYmlBZ1NDNTNjbWwwWlVsdWRETXlRa1VvZEdocGN5NWZZeUI4SURBc0lEZ3BYRzRnSUVndWQzSnBkR1ZKYm5Rek1rSkZLSFJvYVhNdVgyUWdmQ0F3TENBeE1pbGNiaUFnU0M1M2NtbDBaVWx1ZERNeVFrVW9kR2hwY3k1ZlpTQjhJREFzSURFMktWeHVYRzRnSUhKbGRIVnliaUJJWEc1OVhHNWNibTF2WkhWc1pTNWxlSEJ2Y25SeklEMGdVMmhoWEc1Y2JpSmRmUT09IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xuLy8gcHJvdG90eXBlIGNsYXNzIGZvciBoYXNoIGZ1bmN0aW9uc1xuZnVuY3Rpb24gSGFzaCAoYmxvY2tTaXplLCBmaW5hbFNpemUpIHtcbiAgdGhpcy5fYmxvY2sgPSBuZXcgQnVmZmVyKGJsb2NrU2l6ZSlcbiAgdGhpcy5fZmluYWxTaXplID0gZmluYWxTaXplXG4gIHRoaXMuX2Jsb2NrU2l6ZSA9IGJsb2NrU2l6ZVxuICB0aGlzLl9sZW4gPSAwXG4gIHRoaXMuX3MgPSAwXG59XG5cbkhhc2gucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhLCBlbmMpIHtcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgIGVuYyA9IGVuYyB8fCAndXRmOCdcbiAgICBkYXRhID0gbmV3IEJ1ZmZlcihkYXRhLCBlbmMpXG4gIH1cblxuICB2YXIgbCA9IHRoaXMuX2xlbiArPSBkYXRhLmxlbmd0aFxuICB2YXIgcyA9IHRoaXMuX3MgfHwgMFxuICB2YXIgZiA9IDBcbiAgdmFyIGJ1ZmZlciA9IHRoaXMuX2Jsb2NrXG5cbiAgd2hpbGUgKHMgPCBsKSB7XG4gICAgdmFyIHQgPSBNYXRoLm1pbihkYXRhLmxlbmd0aCwgZiArIHRoaXMuX2Jsb2NrU2l6ZSAtIChzICUgdGhpcy5fYmxvY2tTaXplKSlcbiAgICB2YXIgY2ggPSAodCAtIGYpXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoOyBpKyspIHtcbiAgICAgIGJ1ZmZlclsocyAlIHRoaXMuX2Jsb2NrU2l6ZSkgKyBpXSA9IGRhdGFbaSArIGZdXG4gICAgfVxuXG4gICAgcyArPSBjaFxuICAgIGYgKz0gY2hcblxuICAgIGlmICgocyAlIHRoaXMuX2Jsb2NrU2l6ZSkgPT09IDApIHtcbiAgICAgIHRoaXMuX3VwZGF0ZShidWZmZXIpXG4gICAgfVxuICB9XG4gIHRoaXMuX3MgPSBzXG5cbiAgcmV0dXJuIHRoaXNcbn1cblxuSGFzaC5wcm90b3R5cGUuZGlnZXN0ID0gZnVuY3Rpb24gKGVuYykge1xuICAvLyBTdXBwb3NlIHRoZSBsZW5ndGggb2YgdGhlIG1lc3NhZ2UgTSwgaW4gYml0cywgaXMgbFxuICB2YXIgbCA9IHRoaXMuX2xlbiAqIDhcblxuICAvLyBBcHBlbmQgdGhlIGJpdCAxIHRvIHRoZSBlbmQgb2YgdGhlIG1lc3NhZ2VcbiAgdGhpcy5fYmxvY2tbdGhpcy5fbGVuICUgdGhpcy5fYmxvY2tTaXplXSA9IDB4ODBcblxuICAvLyBhbmQgdGhlbiBrIHplcm8gYml0cywgd2hlcmUgayBpcyB0aGUgc21hbGxlc3Qgbm9uLW5lZ2F0aXZlIHNvbHV0aW9uIHRvIHRoZSBlcXVhdGlvbiAobCArIDEgKyBrKSA9PT0gZmluYWxTaXplIG1vZCBibG9ja1NpemVcbiAgdGhpcy5fYmxvY2suZmlsbCgwLCB0aGlzLl9sZW4gJSB0aGlzLl9ibG9ja1NpemUgKyAxKVxuXG4gIGlmIChsICUgKHRoaXMuX2Jsb2NrU2l6ZSAqIDgpID49IHRoaXMuX2ZpbmFsU2l6ZSAqIDgpIHtcbiAgICB0aGlzLl91cGRhdGUodGhpcy5fYmxvY2spXG4gICAgdGhpcy5fYmxvY2suZmlsbCgwKVxuICB9XG5cbiAgLy8gdG8gdGhpcyBhcHBlbmQgdGhlIGJsb2NrIHdoaWNoIGlzIGVxdWFsIHRvIHRoZSBudW1iZXIgbCB3cml0dGVuIGluIGJpbmFyeVxuICAvLyBUT0RPOiBoYW5kbGUgY2FzZSB3aGVyZSBsIGlzID4gTWF0aC5wb3coMiwgMjkpXG4gIHRoaXMuX2Jsb2NrLndyaXRlSW50MzJCRShsLCB0aGlzLl9ibG9ja1NpemUgLSA0KVxuXG4gIHZhciBoYXNoID0gdGhpcy5fdXBkYXRlKHRoaXMuX2Jsb2NrKSB8fCB0aGlzLl9oYXNoKClcblxuICByZXR1cm4gZW5jID8gaGFzaC50b1N0cmluZyhlbmMpIDogaGFzaFxufVxuXG5IYXNoLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ191cGRhdGUgbXVzdCBiZSBpbXBsZW1lbnRlZCBieSBzdWJjbGFzcycpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gSGFzaFxuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIpXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUwyNXZaR1ZmYlc5a2RXeGxjeTlqY25sd2RHOHRZbkp2ZDNObGNtbG1lUzl1YjJSbFgyMXZaSFZzWlhNdlkzSmxZWFJsTFdoaGMyZ3ZibTlrWlY5dGIyUjFiR1Z6TDNOb1lTNXFjeTlvWVhOb0xtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdRVUZCUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFTSXNJbVpwYkdVaU9pSm5aVzVsY21GMFpXUXVhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpTHk4Z2NISnZkRzkwZVhCbElHTnNZWE56SUdadmNpQm9ZWE5vSUdaMWJtTjBhVzl1YzF4dVpuVnVZM1JwYjI0Z1NHRnphQ0FvWW14dlkydFRhWHBsTENCbWFXNWhiRk5wZW1VcElIdGNiaUFnZEdocGN5NWZZbXh2WTJzZ1BTQnVaWGNnUW5WbVptVnlLR0pzYjJOclUybDZaU2xjYmlBZ2RHaHBjeTVmWm1sdVlXeFRhWHBsSUQwZ1ptbHVZV3hUYVhwbFhHNGdJSFJvYVhNdVgySnNiMk5yVTJsNlpTQTlJR0pzYjJOclUybDZaVnh1SUNCMGFHbHpMbDlzWlc0Z1BTQXdYRzRnSUhSb2FYTXVYM01nUFNBd1hHNTlYRzVjYmtoaGMyZ3VjSEp2ZEc5MGVYQmxMblZ3WkdGMFpTQTlJR1oxYm1OMGFXOXVJQ2hrWVhSaExDQmxibU1wSUh0Y2JpQWdhV1lnS0hSNWNHVnZaaUJrWVhSaElEMDlQU0FuYzNSeWFXNW5KeWtnZTF4dUlDQWdJR1Z1WXlBOUlHVnVZeUI4ZkNBbmRYUm1PQ2RjYmlBZ0lDQmtZWFJoSUQwZ2JtVjNJRUoxWm1abGNpaGtZWFJoTENCbGJtTXBYRzRnSUgxY2JseHVJQ0IyWVhJZ2JDQTlJSFJvYVhNdVgyeGxiaUFyUFNCa1lYUmhMbXhsYm1kMGFGeHVJQ0IyWVhJZ2N5QTlJSFJvYVhNdVgzTWdmSHdnTUZ4dUlDQjJZWElnWmlBOUlEQmNiaUFnZG1GeUlHSjFabVpsY2lBOUlIUm9hWE11WDJKc2IyTnJYRzVjYmlBZ2QyaHBiR1VnS0hNZ1BDQnNLU0I3WEc0Z0lDQWdkbUZ5SUhRZ1BTQk5ZWFJvTG0xcGJpaGtZWFJoTG14bGJtZDBhQ3dnWmlBcklIUm9hWE11WDJKc2IyTnJVMmw2WlNBdElDaHpJQ1VnZEdocGN5NWZZbXh2WTJ0VGFYcGxLU2xjYmlBZ0lDQjJZWElnWTJnZ1BTQW9kQ0F0SUdZcFhHNWNiaUFnSUNCbWIzSWdLSFpoY2lCcElEMGdNRHNnYVNBOElHTm9PeUJwS3lzcElIdGNiaUFnSUNBZ0lHSjFabVpsY2xzb2N5QWxJSFJvYVhNdVgySnNiMk5yVTJsNlpTa2dLeUJwWFNBOUlHUmhkR0ZiYVNBcklHWmRYRzRnSUNBZ2ZWeHVYRzRnSUNBZ2N5QXJQU0JqYUZ4dUlDQWdJR1lnS3owZ1kyaGNibHh1SUNBZ0lHbG1JQ2dvY3lBbElIUm9hWE11WDJKc2IyTnJVMmw2WlNrZ1BUMDlJREFwSUh0Y2JpQWdJQ0FnSUhSb2FYTXVYM1Z3WkdGMFpTaGlkV1ptWlhJcFhHNGdJQ0FnZlZ4dUlDQjlYRzRnSUhSb2FYTXVYM01nUFNCelhHNWNiaUFnY21WMGRYSnVJSFJvYVhOY2JuMWNibHh1U0dGemFDNXdjbTkwYjNSNWNHVXVaR2xuWlhOMElEMGdablZ1WTNScGIyNGdLR1Z1WXlrZ2UxeHVJQ0F2THlCVGRYQndiM05sSUhSb1pTQnNaVzVuZEdnZ2IyWWdkR2hsSUcxbGMzTmhaMlVnVFN3Z2FXNGdZbWwwY3l3Z2FYTWdiRnh1SUNCMllYSWdiQ0E5SUhSb2FYTXVYMnhsYmlBcUlEaGNibHh1SUNBdkx5QkJjSEJsYm1RZ2RHaGxJR0pwZENBeElIUnZJSFJvWlNCbGJtUWdiMllnZEdobElHMWxjM05oWjJWY2JpQWdkR2hwY3k1ZllteHZZMnRiZEdocGN5NWZiR1Z1SUNVZ2RHaHBjeTVmWW14dlkydFRhWHBsWFNBOUlEQjRPREJjYmx4dUlDQXZMeUJoYm1RZ2RHaGxiaUJySUhwbGNtOGdZbWwwY3l3Z2QyaGxjbVVnYXlCcGN5QjBhR1VnYzIxaGJHeGxjM1FnYm05dUxXNWxaMkYwYVhabElITnZiSFYwYVc5dUlIUnZJSFJvWlNCbGNYVmhkR2x2YmlBb2JDQXJJREVnS3lCcktTQTlQVDBnWm1sdVlXeFRhWHBsSUcxdlpDQmliRzlqYTFOcGVtVmNiaUFnZEdocGN5NWZZbXh2WTJzdVptbHNiQ2d3TENCMGFHbHpMbDlzWlc0Z0pTQjBhR2x6TGw5aWJHOWphMU5wZW1VZ0t5QXhLVnh1WEc0Z0lHbG1JQ2hzSUNVZ0tIUm9hWE11WDJKc2IyTnJVMmw2WlNBcUlEZ3BJRDQ5SUhSb2FYTXVYMlpwYm1Gc1UybDZaU0FxSURncElIdGNiaUFnSUNCMGFHbHpMbDkxY0dSaGRHVW9kR2hwY3k1ZllteHZZMnNwWEc0Z0lDQWdkR2hwY3k1ZllteHZZMnN1Wm1sc2JDZ3dLVnh1SUNCOVhHNWNiaUFnTHk4Z2RHOGdkR2hwY3lCaGNIQmxibVFnZEdobElHSnNiMk5ySUhkb2FXTm9JR2x6SUdWeGRXRnNJSFJ2SUhSb1pTQnVkVzFpWlhJZ2JDQjNjbWwwZEdWdUlHbHVJR0pwYm1GeWVWeHVJQ0F2THlCVVQwUlBPaUJvWVc1a2JHVWdZMkZ6WlNCM2FHVnlaU0JzSUdseklENGdUV0YwYUM1d2IzY29NaXdnTWprcFhHNGdJSFJvYVhNdVgySnNiMk5yTG5keWFYUmxTVzUwTXpKQ1JTaHNMQ0IwYUdsekxsOWliRzlqYTFOcGVtVWdMU0EwS1Z4dVhHNGdJSFpoY2lCb1lYTm9JRDBnZEdocGN5NWZkWEJrWVhSbEtIUm9hWE11WDJKc2IyTnJLU0I4ZkNCMGFHbHpMbDlvWVhOb0tDbGNibHh1SUNCeVpYUjFjbTRnWlc1aklEOGdhR0Z6YUM1MGIxTjBjbWx1WnlobGJtTXBJRG9nYUdGemFGeHVmVnh1WEc1SVlYTm9MbkJ5YjNSdmRIbHdaUzVmZFhCa1lYUmxJRDBnWm5WdVkzUnBiMjRnS0NrZ2UxeHVJQ0IwYUhKdmR5QnVaWGNnUlhKeWIzSW9KMTkxY0dSaGRHVWdiWFZ6ZENCaVpTQnBiWEJzWlcxbGJuUmxaQ0JpZVNCemRXSmpiR0Z6Y3ljcFhHNTlYRzVjYm0xdlpIVnNaUzVsZUhCdmNuUnpJRDBnU0dGemFGeHVJbDE5IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xuLypcbkNyeXB0b0pTIHYzLjEuMlxuY29kZS5nb29nbGUuY29tL3AvY3J5cHRvLWpzXG4oYykgMjAwOS0yMDEzIGJ5IEplZmYgTW90dC4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbmNvZGUuZ29vZ2xlLmNvbS9wL2NyeXB0by1qcy93aWtpL0xpY2Vuc2VcbiovXG4vKiogQHByZXNlcnZlXG4oYykgMjAxMiBieSBDw6lkcmljIE1lc25pbC4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblxuUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuXG4gICAgLSBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gICAgLSBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG5cblRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiovXG5cbi8vIGNvbnN0YW50cyB0YWJsZVxudmFyIHpsID0gW1xuICAwLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEyLCAxMywgMTQsIDE1LFxuICA3LCA0LCAxMywgMSwgMTAsIDYsIDE1LCAzLCAxMiwgMCwgOSwgNSwgMiwgMTQsIDExLCA4LFxuICAzLCAxMCwgMTQsIDQsIDksIDE1LCA4LCAxLCAyLCA3LCAwLCA2LCAxMywgMTEsIDUsIDEyLFxuICAxLCA5LCAxMSwgMTAsIDAsIDgsIDEyLCA0LCAxMywgMywgNywgMTUsIDE0LCA1LCA2LCAyLFxuICA0LCAwLCA1LCA5LCA3LCAxMiwgMiwgMTAsIDE0LCAxLCAzLCA4LCAxMSwgNiwgMTUsIDEzXG5dXG5cbnZhciB6ciA9IFtcbiAgNSwgMTQsIDcsIDAsIDksIDIsIDExLCA0LCAxMywgNiwgMTUsIDgsIDEsIDEwLCAzLCAxMixcbiAgNiwgMTEsIDMsIDcsIDAsIDEzLCA1LCAxMCwgMTQsIDE1LCA4LCAxMiwgNCwgOSwgMSwgMixcbiAgMTUsIDUsIDEsIDMsIDcsIDE0LCA2LCA5LCAxMSwgOCwgMTIsIDIsIDEwLCAwLCA0LCAxMyxcbiAgOCwgNiwgNCwgMSwgMywgMTEsIDE1LCAwLCA1LCAxMiwgMiwgMTMsIDksIDcsIDEwLCAxNCxcbiAgMTIsIDE1LCAxMCwgNCwgMSwgNSwgOCwgNywgNiwgMiwgMTMsIDE0LCAwLCAzLCA5LCAxMVxuXVxuXG52YXIgc2wgPSBbXG4gIDExLCAxNCwgMTUsIDEyLCA1LCA4LCA3LCA5LCAxMSwgMTMsIDE0LCAxNSwgNiwgNywgOSwgOCxcbiAgNywgNiwgOCwgMTMsIDExLCA5LCA3LCAxNSwgNywgMTIsIDE1LCA5LCAxMSwgNywgMTMsIDEyLFxuICAxMSwgMTMsIDYsIDcsIDE0LCA5LCAxMywgMTUsIDE0LCA4LCAxMywgNiwgNSwgMTIsIDcsIDUsXG4gIDExLCAxMiwgMTQsIDE1LCAxNCwgMTUsIDksIDgsIDksIDE0LCA1LCA2LCA4LCA2LCA1LCAxMixcbiAgOSwgMTUsIDUsIDExLCA2LCA4LCAxMywgMTIsIDUsIDEyLCAxMywgMTQsIDExLCA4LCA1LCA2XG5dXG5cbnZhciBzciA9IFtcbiAgOCwgOSwgOSwgMTEsIDEzLCAxNSwgMTUsIDUsIDcsIDcsIDgsIDExLCAxNCwgMTQsIDEyLCA2LFxuICA5LCAxMywgMTUsIDcsIDEyLCA4LCA5LCAxMSwgNywgNywgMTIsIDcsIDYsIDE1LCAxMywgMTEsXG4gIDksIDcsIDE1LCAxMSwgOCwgNiwgNiwgMTQsIDEyLCAxMywgNSwgMTQsIDEzLCAxMywgNywgNSxcbiAgMTUsIDUsIDgsIDExLCAxNCwgMTQsIDYsIDE0LCA2LCA5LCAxMiwgOSwgMTIsIDUsIDE1LCA4LFxuICA4LCA1LCAxMiwgOSwgMTIsIDUsIDE0LCA2LCA4LCAxMywgNiwgNSwgMTUsIDEzLCAxMSwgMTFcbl1cblxudmFyIGhsID0gWzB4MDAwMDAwMDAsIDB4NUE4Mjc5OTksIDB4NkVEOUVCQTEsIDB4OEYxQkJDREMsIDB4QTk1M0ZENEVdXG52YXIgaHIgPSBbMHg1MEEyOEJFNiwgMHg1QzRERDEyNCwgMHg2RDcwM0VGMywgMHg3QTZENzZFOSwgMHgwMDAwMDAwMF1cblxuZnVuY3Rpb24gYnl0ZXNUb1dvcmRzIChieXRlcykge1xuICB2YXIgd29yZHMgPSBbXVxuICBmb3IgKHZhciBpID0gMCwgYiA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkrKywgYiArPSA4KSB7XG4gICAgd29yZHNbYiA+Pj4gNV0gfD0gYnl0ZXNbaV0gPDwgKDI0IC0gYiAlIDMyKVxuICB9XG4gIHJldHVybiB3b3Jkc1xufVxuXG5mdW5jdGlvbiB3b3Jkc1RvQnl0ZXMgKHdvcmRzKSB7XG4gIHZhciBieXRlcyA9IFtdXG4gIGZvciAodmFyIGIgPSAwOyBiIDwgd29yZHMubGVuZ3RoICogMzI7IGIgKz0gOCkge1xuICAgIGJ5dGVzLnB1c2goKHdvcmRzW2IgPj4+IDVdID4+PiAoMjQgLSBiICUgMzIpKSAmIDB4RkYpXG4gIH1cbiAgcmV0dXJuIGJ5dGVzXG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NCbG9jayAoSCwgTSwgb2Zmc2V0KSB7XG4gIC8vIHN3YXAgZW5kaWFuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgIHZhciBvZmZzZXRfaSA9IG9mZnNldCArIGlcbiAgICB2YXIgTV9vZmZzZXRfaSA9IE1bb2Zmc2V0X2ldXG5cbiAgICAvLyBTd2FwXG4gICAgTVtvZmZzZXRfaV0gPSAoXG4gICAgICAoKChNX29mZnNldF9pIDw8IDgpIHwgKE1fb2Zmc2V0X2kgPj4+IDI0KSkgJiAweDAwZmYwMGZmKSB8XG4gICAgICAoKChNX29mZnNldF9pIDw8IDI0KSB8IChNX29mZnNldF9pID4+PiA4KSkgJiAweGZmMDBmZjAwKVxuICAgIClcbiAgfVxuXG4gIC8vIFdvcmtpbmcgdmFyaWFibGVzXG4gIHZhciBhbCwgYmwsIGNsLCBkbCwgZWxcbiAgdmFyIGFyLCBiciwgY3IsIGRyLCBlclxuXG4gIGFyID0gYWwgPSBIWzBdXG4gIGJyID0gYmwgPSBIWzFdXG4gIGNyID0gY2wgPSBIWzJdXG4gIGRyID0gZGwgPSBIWzNdXG4gIGVyID0gZWwgPSBIWzRdXG5cbiAgLy8gY29tcHV0YXRpb25cbiAgdmFyIHRcbiAgZm9yIChpID0gMDsgaSA8IDgwOyBpICs9IDEpIHtcbiAgICB0ID0gKGFsICsgTVtvZmZzZXQgKyB6bFtpXV0pIHwgMFxuICAgIGlmIChpIDwgMTYpIHtcbiAgICAgIHQgKz0gZjEoYmwsIGNsLCBkbCkgKyBobFswXVxuICAgIH0gZWxzZSBpZiAoaSA8IDMyKSB7XG4gICAgICB0ICs9IGYyKGJsLCBjbCwgZGwpICsgaGxbMV1cbiAgICB9IGVsc2UgaWYgKGkgPCA0OCkge1xuICAgICAgdCArPSBmMyhibCwgY2wsIGRsKSArIGhsWzJdXG4gICAgfSBlbHNlIGlmIChpIDwgNjQpIHtcbiAgICAgIHQgKz0gZjQoYmwsIGNsLCBkbCkgKyBobFszXVxuICAgIH0gZWxzZSB7Ly8gaWYgKGk8ODApIHtcbiAgICAgIHQgKz0gZjUoYmwsIGNsLCBkbCkgKyBobFs0XVxuICAgIH1cbiAgICB0ID0gdCB8IDBcbiAgICB0ID0gcm90bCh0LCBzbFtpXSlcbiAgICB0ID0gKHQgKyBlbCkgfCAwXG4gICAgYWwgPSBlbFxuICAgIGVsID0gZGxcbiAgICBkbCA9IHJvdGwoY2wsIDEwKVxuICAgIGNsID0gYmxcbiAgICBibCA9IHRcblxuICAgIHQgPSAoYXIgKyBNW29mZnNldCArIHpyW2ldXSkgfCAwXG4gICAgaWYgKGkgPCAxNikge1xuICAgICAgdCArPSBmNShiciwgY3IsIGRyKSArIGhyWzBdXG4gICAgfSBlbHNlIGlmIChpIDwgMzIpIHtcbiAgICAgIHQgKz0gZjQoYnIsIGNyLCBkcikgKyBoclsxXVxuICAgIH0gZWxzZSBpZiAoaSA8IDQ4KSB7XG4gICAgICB0ICs9IGYzKGJyLCBjciwgZHIpICsgaHJbMl1cbiAgICB9IGVsc2UgaWYgKGkgPCA2NCkge1xuICAgICAgdCArPSBmMihiciwgY3IsIGRyKSArIGhyWzNdXG4gICAgfSBlbHNlIHsvLyBpZiAoaTw4MCkge1xuICAgICAgdCArPSBmMShiciwgY3IsIGRyKSArIGhyWzRdXG4gICAgfVxuXG4gICAgdCA9IHQgfCAwXG4gICAgdCA9IHJvdGwodCwgc3JbaV0pXG4gICAgdCA9ICh0ICsgZXIpIHwgMFxuICAgIGFyID0gZXJcbiAgICBlciA9IGRyXG4gICAgZHIgPSByb3RsKGNyLCAxMClcbiAgICBjciA9IGJyXG4gICAgYnIgPSB0XG4gIH1cblxuICAvLyBpbnRlcm1lZGlhdGUgaGFzaCB2YWx1ZVxuICB0ID0gKEhbMV0gKyBjbCArIGRyKSB8IDBcbiAgSFsxXSA9IChIWzJdICsgZGwgKyBlcikgfCAwXG4gIEhbMl0gPSAoSFszXSArIGVsICsgYXIpIHwgMFxuICBIWzNdID0gKEhbNF0gKyBhbCArIGJyKSB8IDBcbiAgSFs0XSA9IChIWzBdICsgYmwgKyBjcikgfCAwXG4gIEhbMF0gPSB0XG59XG5cbmZ1bmN0aW9uIGYxICh4LCB5LCB6KSB7XG4gIHJldHVybiAoKHgpIF4gKHkpIF4gKHopKVxufVxuXG5mdW5jdGlvbiBmMiAoeCwgeSwgeikge1xuICByZXR1cm4gKCgoeCkgJiAoeSkpIHwgKCh+eCkgJiAoeikpKVxufVxuXG5mdW5jdGlvbiBmMyAoeCwgeSwgeikge1xuICByZXR1cm4gKCgoeCkgfCAofih5KSkpIF4gKHopKVxufVxuXG5mdW5jdGlvbiBmNCAoeCwgeSwgeikge1xuICByZXR1cm4gKCgoeCkgJiAoeikpIHwgKCh5KSAmICh+KHopKSkpXG59XG5cbmZ1bmN0aW9uIGY1ICh4LCB5LCB6KSB7XG4gIHJldHVybiAoKHgpIF4gKCh5KSB8ICh+KHopKSkpXG59XG5cbmZ1bmN0aW9uIHJvdGwgKHgsIG4pIHtcbiAgcmV0dXJuICh4IDw8IG4pIHwgKHggPj4+ICgzMiAtIG4pKVxufVxuXG5mdW5jdGlvbiByaXBlbWQxNjAgKG1lc3NhZ2UpIHtcbiAgdmFyIEggPSBbMHg2NzQ1MjMwMSwgMHhFRkNEQUI4OSwgMHg5OEJBRENGRSwgMHgxMDMyNTQ3NiwgMHhDM0QyRTFGMF1cblxuICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgbWVzc2FnZSA9IG5ldyBCdWZmZXIobWVzc2FnZSwgJ3V0ZjgnKVxuICB9XG5cbiAgdmFyIG0gPSBieXRlc1RvV29yZHMobWVzc2FnZSlcblxuICB2YXIgbkJpdHNMZWZ0ID0gbWVzc2FnZS5sZW5ndGggKiA4XG4gIHZhciBuQml0c1RvdGFsID0gbWVzc2FnZS5sZW5ndGggKiA4XG5cbiAgLy8gQWRkIHBhZGRpbmdcbiAgbVtuQml0c0xlZnQgPj4+IDVdIHw9IDB4ODAgPDwgKDI0IC0gbkJpdHNMZWZ0ICUgMzIpXG4gIG1bKCgobkJpdHNMZWZ0ICsgNjQpID4+PiA5KSA8PCA0KSArIDE0XSA9IChcbiAgICAoKChuQml0c1RvdGFsIDw8IDgpIHwgKG5CaXRzVG90YWwgPj4+IDI0KSkgJiAweDAwZmYwMGZmKSB8XG4gICAgKCgobkJpdHNUb3RhbCA8PCAyNCkgfCAobkJpdHNUb3RhbCA+Pj4gOCkpICYgMHhmZjAwZmYwMClcbiAgKVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbS5sZW5ndGg7IGkgKz0gMTYpIHtcbiAgICBwcm9jZXNzQmxvY2soSCwgbSwgaSlcbiAgfVxuXG4gIC8vIHN3YXAgZW5kaWFuXG4gIGZvciAoaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAvLyBzaG9ydGN1dFxuICAgIHZhciBIX2kgPSBIW2ldXG5cbiAgICAvLyBTd2FwXG4gICAgSFtpXSA9ICgoKEhfaSA8PCA4KSB8IChIX2kgPj4+IDI0KSkgJiAweDAwZmYwMGZmKSB8XG4gICAgICAoKChIX2kgPDwgMjQpIHwgKEhfaSA+Pj4gOCkpICYgMHhmZjAwZmYwMClcbiAgfVxuXG4gIHZhciBkaWdlc3RieXRlcyA9IHdvcmRzVG9CeXRlcyhIKVxuICByZXR1cm4gbmV3IEJ1ZmZlcihkaWdlc3RieXRlcylcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByaXBlbWQxNjBcblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZZM0psWVhSbExXaGhjMmd2Ym05a1pWOXRiMlIxYkdWekwzSnBjR1Z0WkRFMk1DOXNhV0l2Y21sd1pXMWtNVFl3TG1weklsMHNJbTVoYldWeklqcGJYU3dpYldGd2NHbHVaM01pT2lJN1FVRkJRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFTSXNJbVpwYkdVaU9pSm5aVzVsY21GMFpXUXVhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpTHlwY2JrTnllWEIwYjBwVElIWXpMakV1TWx4dVkyOWtaUzVuYjI5bmJHVXVZMjl0TDNBdlkzSjVjSFJ2TFdwelhHNG9ZeWtnTWpBd09TMHlNREV6SUdKNUlFcGxabVlnVFc5MGRDNGdRV3hzSUhKcFoyaDBjeUJ5WlhObGNuWmxaQzVjYm1OdlpHVXVaMjl2WjJ4bExtTnZiUzl3TDJOeWVYQjBieTFxY3k5M2FXdHBMMHhwWTJWdWMyVmNiaW92WEc0dktpb2dRSEJ5WlhObGNuWmxYRzRvWXlrZ01qQXhNaUJpZVNCRHc2bGtjbWxqSUUxbGMyNXBiQzRnUVd4c0lISnBaMmgwY3lCeVpYTmxjblpsWkM1Y2JseHVVbVZrYVhOMGNtbGlkWFJwYjI0Z1lXNWtJSFZ6WlNCcGJpQnpiM1Z5WTJVZ1lXNWtJR0pwYm1GeWVTQm1iM0p0Y3l3Z2QybDBhQ0J2Y2lCM2FYUm9iM1YwSUcxdlpHbG1hV05oZEdsdmJpd2dZWEpsSUhCbGNtMXBkSFJsWkNCd2NtOTJhV1JsWkNCMGFHRjBJSFJvWlNCbWIyeHNiM2RwYm1jZ1kyOXVaR2wwYVc5dWN5QmhjbVVnYldWME9seHVYRzRnSUNBZ0xTQlNaV1JwYzNSeWFXSjFkR2x2Ym5NZ2IyWWdjMjkxY21ObElHTnZaR1VnYlhWemRDQnlaWFJoYVc0Z2RHaGxJR0ZpYjNabElHTnZjSGx5YVdkb2RDQnViM1JwWTJVc0lIUm9hWE1nYkdsemRDQnZaaUJqYjI1a2FYUnBiMjV6SUdGdVpDQjBhR1VnWm05c2JHOTNhVzVuSUdScGMyTnNZV2x0WlhJdVhHNGdJQ0FnTFNCU1pXUnBjM1J5YVdKMWRHbHZibk1nYVc0Z1ltbHVZWEo1SUdadmNtMGdiWFZ6ZENCeVpYQnliMlIxWTJVZ2RHaGxJR0ZpYjNabElHTnZjSGx5YVdkb2RDQnViM1JwWTJVc0lIUm9hWE1nYkdsemRDQnZaaUJqYjI1a2FYUnBiMjV6SUdGdVpDQjBhR1VnWm05c2JHOTNhVzVuSUdScGMyTnNZV2x0WlhJZ2FXNGdkR2hsSUdSdlkzVnRaVzUwWVhScGIyNGdZVzVrTDI5eUlHOTBhR1Z5SUcxaGRHVnlhV0ZzY3lCd2NtOTJhV1JsWkNCM2FYUm9JSFJvWlNCa2FYTjBjbWxpZFhScGIyNHVYRzVjYmxSSVNWTWdVMDlHVkZkQlVrVWdTVk1nVUZKUFZrbEVSVVFnUWxrZ1ZFaEZJRU5QVUZsU1NVZElWQ0JJVDB4RVJWSlRJRUZPUkNCRFQwNVVVa2xDVlZSUFVsTWdYQ0pCVXlCSlUxd2lJRUZPUkNCQlRsa2dSVmhRVWtWVFV5QlBVaUJKVFZCTVNVVkVJRmRCVWxKQlRsUkpSVk1zSUVsT1EweFZSRWxPUnl3Z1FsVlVJRTVQVkNCTVNVMUpWRVZFSUZSUExDQlVTRVVnU1UxUVRFbEZSQ0JYUVZKU1FVNVVTVVZUSUU5R0lFMUZVa05JUVU1VVFVSkpURWxVV1NCQlRrUWdSa2xVVGtWVFV5QkdUMUlnUVNCUVFWSlVTVU5WVEVGU0lGQlZVbEJQVTBVZ1FWSkZJRVJKVTBOTVFVbE5SVVF1SUVsT0lFNVBJRVZXUlU1VUlGTklRVXhNSUZSSVJTQkRUMUJaVWtsSFNGUWdTRTlNUkVWU0lFOVNJRU5QVGxSU1NVSlZWRTlTVXlCQ1JTQk1TVUZDVEVVZ1JrOVNJRUZPV1NCRVNWSkZRMVFzSUVsT1JFbFNSVU5VTENCSlRrTkpSRVZPVkVGTUxDQlRVRVZEU1VGTUxDQkZXRVZOVUV4QlVsa3NJRTlTSUVOUFRsTkZVVlZGVGxSSlFVd2dSRUZOUVVkRlV5QW9TVTVEVEZWRVNVNUhMQ0JDVlZRZ1RrOVVJRXhKVFVsVVJVUWdWRThzSUZCU1QwTlZVa1ZOUlU1VUlFOUdJRk5WUWxOVVNWUlZWRVVnUjA5UFJGTWdUMUlnVTBWU1ZrbERSVk03SUV4UFUxTWdUMFlnVlZORkxDQkVRVlJCTENCUFVpQlFVazlHU1ZSVE95QlBVaUJDVlZOSlRrVlRVeUJKVGxSRlVsSlZVRlJKVDA0cElFaFBWMFZXUlZJZ1EwRlZVMFZFSUVGT1JDQlBUaUJCVGxrZ1ZFaEZUMUpaSUU5R0lFeEpRVUpKVEVsVVdTd2dWMGhGVkVoRlVpQkpUaUJEVDA1VVVrRkRWQ3dnVTFSU1NVTlVJRXhKUVVKSlRFbFVXU3dnVDFJZ1ZFOVNWQ0FvU1U1RFRGVkVTVTVISUU1RlIweEpSMFZPUTBVZ1QxSWdUMVJJUlZKWFNWTkZLU0JCVWtsVFNVNUhJRWxPSUVGT1dTQlhRVmtnVDFWVUlFOUdJRlJJUlNCVlUwVWdUMFlnVkVoSlV5QlRUMFpVVjBGU1JTd2dSVlpGVGlCSlJpQkJSRlpKVTBWRUlFOUdJRlJJUlNCUVQxTlRTVUpKVEVsVVdTQlBSaUJUVlVOSUlFUkJUVUZIUlM1Y2Jpb3ZYRzVjYmk4dklHTnZibk4wWVc1MGN5QjBZV0pzWlZ4dWRtRnlJSHBzSUQwZ1cxeHVJQ0F3TENBeExDQXlMQ0F6TENBMExDQTFMQ0EyTENBM0xDQTRMQ0E1TENBeE1Dd2dNVEVzSURFeUxDQXhNeXdnTVRRc0lERTFMRnh1SUNBM0xDQTBMQ0F4TXl3Z01Td2dNVEFzSURZc0lERTFMQ0F6TENBeE1pd2dNQ3dnT1N3Z05Td2dNaXdnTVRRc0lERXhMQ0E0TEZ4dUlDQXpMQ0F4TUN3Z01UUXNJRFFzSURrc0lERTFMQ0E0TENBeExDQXlMQ0EzTENBd0xDQTJMQ0F4TXl3Z01URXNJRFVzSURFeUxGeHVJQ0F4TENBNUxDQXhNU3dnTVRBc0lEQXNJRGdzSURFeUxDQTBMQ0F4TXl3Z015d2dOeXdnTVRVc0lERTBMQ0ExTENBMkxDQXlMRnh1SUNBMExDQXdMQ0ExTENBNUxDQTNMQ0F4TWl3Z01pd2dNVEFzSURFMExDQXhMQ0F6TENBNExDQXhNU3dnTml3Z01UVXNJREV6WEc1ZFhHNWNiblpoY2lCNmNpQTlJRnRjYmlBZ05Td2dNVFFzSURjc0lEQXNJRGtzSURJc0lERXhMQ0EwTENBeE15d2dOaXdnTVRVc0lEZ3NJREVzSURFd0xDQXpMQ0F4TWl4Y2JpQWdOaXdnTVRFc0lETXNJRGNzSURBc0lERXpMQ0ExTENBeE1Dd2dNVFFzSURFMUxDQTRMQ0F4TWl3Z05Dd2dPU3dnTVN3Z01peGNiaUFnTVRVc0lEVXNJREVzSURNc0lEY3NJREUwTENBMkxDQTVMQ0F4TVN3Z09Dd2dNVElzSURJc0lERXdMQ0F3TENBMExDQXhNeXhjYmlBZ09Dd2dOaXdnTkN3Z01Td2dNeXdnTVRFc0lERTFMQ0F3TENBMUxDQXhNaXdnTWl3Z01UTXNJRGtzSURjc0lERXdMQ0F4TkN4Y2JpQWdNVElzSURFMUxDQXhNQ3dnTkN3Z01Td2dOU3dnT0N3Z055d2dOaXdnTWl3Z01UTXNJREUwTENBd0xDQXpMQ0E1TENBeE1WeHVYVnh1WEc1MllYSWdjMndnUFNCYlhHNGdJREV4TENBeE5Dd2dNVFVzSURFeUxDQTFMQ0E0TENBM0xDQTVMQ0F4TVN3Z01UTXNJREUwTENBeE5Td2dOaXdnTnl3Z09Td2dPQ3hjYmlBZ055d2dOaXdnT0N3Z01UTXNJREV4TENBNUxDQTNMQ0F4TlN3Z055d2dNVElzSURFMUxDQTVMQ0F4TVN3Z055d2dNVE1zSURFeUxGeHVJQ0F4TVN3Z01UTXNJRFlzSURjc0lERTBMQ0E1TENBeE15d2dNVFVzSURFMExDQTRMQ0F4TXl3Z05pd2dOU3dnTVRJc0lEY3NJRFVzWEc0Z0lERXhMQ0F4TWl3Z01UUXNJREUxTENBeE5Dd2dNVFVzSURrc0lEZ3NJRGtzSURFMExDQTFMQ0EyTENBNExDQTJMQ0ExTENBeE1peGNiaUFnT1N3Z01UVXNJRFVzSURFeExDQTJMQ0E0TENBeE15d2dNVElzSURVc0lERXlMQ0F4TXl3Z01UUXNJREV4TENBNExDQTFMQ0EyWEc1ZFhHNWNiblpoY2lCemNpQTlJRnRjYmlBZ09Dd2dPU3dnT1N3Z01URXNJREV6TENBeE5Td2dNVFVzSURVc0lEY3NJRGNzSURnc0lERXhMQ0F4TkN3Z01UUXNJREV5TENBMkxGeHVJQ0E1TENBeE15d2dNVFVzSURjc0lERXlMQ0E0TENBNUxDQXhNU3dnTnl3Z055d2dNVElzSURjc0lEWXNJREUxTENBeE15d2dNVEVzWEc0Z0lEa3NJRGNzSURFMUxDQXhNU3dnT0N3Z05pd2dOaXdnTVRRc0lERXlMQ0F4TXl3Z05Td2dNVFFzSURFekxDQXhNeXdnTnl3Z05TeGNiaUFnTVRVc0lEVXNJRGdzSURFeExDQXhOQ3dnTVRRc0lEWXNJREUwTENBMkxDQTVMQ0F4TWl3Z09Td2dNVElzSURVc0lERTFMQ0E0TEZ4dUlDQTRMQ0ExTENBeE1pd2dPU3dnTVRJc0lEVXNJREUwTENBMkxDQTRMQ0F4TXl3Z05pd2dOU3dnTVRVc0lERXpMQ0F4TVN3Z01URmNibDFjYmx4dWRtRnlJR2hzSUQwZ1d6QjRNREF3TURBd01EQXNJREI0TlVFNE1qYzVPVGtzSURCNE5rVkVPVVZDUVRFc0lEQjRPRVl4UWtKRFJFTXNJREI0UVRrMU0wWkVORVZkWEc1MllYSWdhSElnUFNCYk1IZzFNRUV5T0VKRk5pd2dNSGcxUXpSRVJERXlOQ3dnTUhnMlJEY3dNMFZHTXl3Z01IZzNRVFpFTnpaRk9Td2dNSGd3TURBd01EQXdNRjFjYmx4dVpuVnVZM1JwYjI0Z1lubDBaWE5VYjFkdmNtUnpJQ2hpZVhSbGN5a2dlMXh1SUNCMllYSWdkMjl5WkhNZ1BTQmJYVnh1SUNCbWIzSWdLSFpoY2lCcElEMGdNQ3dnWWlBOUlEQTdJR2tnUENCaWVYUmxjeTVzWlc1bmRHZzdJR2tyS3l3Z1lpQXJQU0E0S1NCN1hHNGdJQ0FnZDI5eVpITmJZaUErUGo0Z05WMGdmRDBnWW5sMFpYTmJhVjBnUER3Z0tESTBJQzBnWWlBbElETXlLVnh1SUNCOVhHNGdJSEpsZEhWeWJpQjNiM0prYzF4dWZWeHVYRzVtZFc1amRHbHZiaUIzYjNKa2MxUnZRbmwwWlhNZ0tIZHZjbVJ6S1NCN1hHNGdJSFpoY2lCaWVYUmxjeUE5SUZ0ZFhHNGdJR1p2Y2lBb2RtRnlJR0lnUFNBd095QmlJRHdnZDI5eVpITXViR1Z1WjNSb0lDb2dNekk3SUdJZ0t6MGdPQ2tnZTF4dUlDQWdJR0o1ZEdWekxuQjFjMmdvS0hkdmNtUnpXMklnUGo0K0lEVmRJRDQrUGlBb01qUWdMU0JpSUNVZ016SXBLU0FtSURCNFJrWXBYRzRnSUgxY2JpQWdjbVYwZFhKdUlHSjVkR1Z6WEc1OVhHNWNibVoxYm1OMGFXOXVJSEJ5YjJObGMzTkNiRzlqYXlBb1NDd2dUU3dnYjJabWMyVjBLU0I3WEc0Z0lDOHZJSE4zWVhBZ1pXNWthV0Z1WEc0Z0lHWnZjaUFvZG1GeUlHa2dQU0F3T3lCcElEd2dNVFk3SUdrckt5a2dlMXh1SUNBZ0lIWmhjaUJ2Wm1aelpYUmZhU0E5SUc5bVpuTmxkQ0FySUdsY2JpQWdJQ0IyWVhJZ1RWOXZabVp6WlhSZmFTQTlJRTFiYjJabWMyVjBYMmxkWEc1Y2JpQWdJQ0F2THlCVGQyRndYRzRnSUNBZ1RWdHZabVp6WlhSZmFWMGdQU0FvWEc0Z0lDQWdJQ0FvS0NoTlgyOW1abk5sZEY5cElEdzhJRGdwSUh3Z0tFMWZiMlptYzJWMFgya2dQajQrSURJMEtTa2dKaUF3ZURBd1ptWXdNR1ptS1NCOFhHNGdJQ0FnSUNBb0tDaE5YMjltWm5ObGRGOXBJRHc4SURJMEtTQjhJQ2hOWDI5bVpuTmxkRjlwSUQ0K1BpQTRLU2tnSmlBd2VHWm1NREJtWmpBd0tWeHVJQ0FnSUNsY2JpQWdmVnh1WEc0Z0lDOHZJRmR2Y210cGJtY2dkbUZ5YVdGaWJHVnpYRzRnSUhaaGNpQmhiQ3dnWW13c0lHTnNMQ0JrYkN3Z1pXeGNiaUFnZG1GeUlHRnlMQ0JpY2l3Z1kzSXNJR1J5TENCbGNseHVYRzRnSUdGeUlEMGdZV3dnUFNCSVd6QmRYRzRnSUdKeUlEMGdZbXdnUFNCSVd6RmRYRzRnSUdOeUlEMGdZMndnUFNCSVd6SmRYRzRnSUdSeUlEMGdaR3dnUFNCSVd6TmRYRzRnSUdWeUlEMGdaV3dnUFNCSVd6UmRYRzVjYmlBZ0x5OGdZMjl0Y0hWMFlYUnBiMjVjYmlBZ2RtRnlJSFJjYmlBZ1ptOXlJQ2hwSUQwZ01Ec2dhU0E4SURnd095QnBJQ3M5SURFcElIdGNiaUFnSUNCMElEMGdLR0ZzSUNzZ1RWdHZabVp6WlhRZ0t5QjZiRnRwWFYwcElId2dNRnh1SUNBZ0lHbG1JQ2hwSUR3Z01UWXBJSHRjYmlBZ0lDQWdJSFFnS3owZ1pqRW9ZbXdzSUdOc0xDQmtiQ2tnS3lCb2JGc3dYVnh1SUNBZ0lIMGdaV3h6WlNCcFppQW9hU0E4SURNeUtTQjdYRzRnSUNBZ0lDQjBJQ3M5SUdZeUtHSnNMQ0JqYkN3Z1pHd3BJQ3NnYUd4Yk1WMWNiaUFnSUNCOUlHVnNjMlVnYVdZZ0tHa2dQQ0EwT0NrZ2UxeHVJQ0FnSUNBZ2RDQXJQU0JtTXloaWJDd2dZMndzSUdSc0tTQXJJR2hzV3pKZFhHNGdJQ0FnZlNCbGJITmxJR2xtSUNocElEd2dOalFwSUh0Y2JpQWdJQ0FnSUhRZ0t6MGdaalFvWW13c0lHTnNMQ0JrYkNrZ0t5Qm9iRnN6WFZ4dUlDQWdJSDBnWld4elpTQjdMeThnYVdZZ0tHazhPREFwSUh0Y2JpQWdJQ0FnSUhRZ0t6MGdaalVvWW13c0lHTnNMQ0JrYkNrZ0t5Qm9iRnMwWFZ4dUlDQWdJSDFjYmlBZ0lDQjBJRDBnZENCOElEQmNiaUFnSUNCMElEMGdjbTkwYkNoMExDQnpiRnRwWFNsY2JpQWdJQ0IwSUQwZ0tIUWdLeUJsYkNrZ2ZDQXdYRzRnSUNBZ1lXd2dQU0JsYkZ4dUlDQWdJR1ZzSUQwZ1pHeGNiaUFnSUNCa2JDQTlJSEp2ZEd3b1kyd3NJREV3S1Z4dUlDQWdJR05zSUQwZ1lteGNiaUFnSUNCaWJDQTlJSFJjYmx4dUlDQWdJSFFnUFNBb1lYSWdLeUJOVzI5bVpuTmxkQ0FySUhweVcybGRYU2tnZkNBd1hHNGdJQ0FnYVdZZ0tHa2dQQ0F4TmlrZ2UxeHVJQ0FnSUNBZ2RDQXJQU0JtTlNoaWNpd2dZM0lzSUdSeUtTQXJJR2h5V3pCZFhHNGdJQ0FnZlNCbGJITmxJR2xtSUNocElEd2dNeklwSUh0Y2JpQWdJQ0FnSUhRZ0t6MGdaalFvWW5Jc0lHTnlMQ0JrY2lrZ0t5Qm9jbHN4WFZ4dUlDQWdJSDBnWld4elpTQnBaaUFvYVNBOElEUTRLU0I3WEc0Z0lDQWdJQ0IwSUNzOUlHWXpLR0p5TENCamNpd2daSElwSUNzZ2FISmJNbDFjYmlBZ0lDQjlJR1ZzYzJVZ2FXWWdLR2tnUENBMk5Da2dlMXh1SUNBZ0lDQWdkQ0FyUFNCbU1paGljaXdnWTNJc0lHUnlLU0FySUdoeVd6TmRYRzRnSUNBZ2ZTQmxiSE5sSUhzdkx5QnBaaUFvYVR3NE1Da2dlMXh1SUNBZ0lDQWdkQ0FyUFNCbU1TaGljaXdnWTNJc0lHUnlLU0FySUdoeVd6UmRYRzRnSUNBZ2ZWeHVYRzRnSUNBZ2RDQTlJSFFnZkNBd1hHNGdJQ0FnZENBOUlISnZkR3dvZEN3Z2MzSmJhVjBwWEc0Z0lDQWdkQ0E5SUNoMElDc2daWElwSUh3Z01GeHVJQ0FnSUdGeUlEMGdaWEpjYmlBZ0lDQmxjaUE5SUdSeVhHNGdJQ0FnWkhJZ1BTQnliM1JzS0dOeUxDQXhNQ2xjYmlBZ0lDQmpjaUE5SUdKeVhHNGdJQ0FnWW5JZ1BTQjBYRzRnSUgxY2JseHVJQ0F2THlCcGJuUmxjbTFsWkdsaGRHVWdhR0Z6YUNCMllXeDFaVnh1SUNCMElEMGdLRWhiTVYwZ0t5QmpiQ0FySUdSeUtTQjhJREJjYmlBZ1NGc3hYU0E5SUNoSVd6SmRJQ3NnWkd3Z0t5QmxjaWtnZkNBd1hHNGdJRWhiTWwwZ1BTQW9TRnN6WFNBcklHVnNJQ3NnWVhJcElId2dNRnh1SUNCSVd6TmRJRDBnS0VoYk5GMGdLeUJoYkNBcklHSnlLU0I4SURCY2JpQWdTRnMwWFNBOUlDaElXekJkSUNzZ1ltd2dLeUJqY2lrZ2ZDQXdYRzRnSUVoYk1GMGdQU0IwWEc1OVhHNWNibVoxYm1OMGFXOXVJR1l4SUNoNExDQjVMQ0I2S1NCN1hHNGdJSEpsZEhWeWJpQW9LSGdwSUY0Z0tIa3BJRjRnS0hvcEtWeHVmVnh1WEc1bWRXNWpkR2x2YmlCbU1pQW9lQ3dnZVN3Z2Vpa2dlMXh1SUNCeVpYUjFjbTRnS0Nnb2VDa2dKaUFvZVNrcElId2dLQ2grZUNrZ0ppQW9laWtwS1Z4dWZWeHVYRzVtZFc1amRHbHZiaUJtTXlBb2VDd2dlU3dnZWlrZ2UxeHVJQ0J5WlhSMWNtNGdLQ2dvZUNrZ2ZDQW9maWg1S1NrcElGNGdLSG9wS1Z4dWZWeHVYRzVtZFc1amRHbHZiaUJtTkNBb2VDd2dlU3dnZWlrZ2UxeHVJQ0J5WlhSMWNtNGdLQ2dvZUNrZ0ppQW9laWtwSUh3Z0tDaDVLU0FtSUNoK0tIb3BLU2twWEc1OVhHNWNibVoxYm1OMGFXOXVJR1kxSUNoNExDQjVMQ0I2S1NCN1hHNGdJSEpsZEhWeWJpQW9LSGdwSUY0Z0tDaDVLU0I4SUNoK0tIb3BLU2twWEc1OVhHNWNibVoxYm1OMGFXOXVJSEp2ZEd3Z0tIZ3NJRzRwSUh0Y2JpQWdjbVYwZFhKdUlDaDRJRHc4SUc0cElId2dLSGdnUGo0K0lDZ3pNaUF0SUc0cEtWeHVmVnh1WEc1bWRXNWpkR2x2YmlCeWFYQmxiV1F4TmpBZ0tHMWxjM05oWjJVcElIdGNiaUFnZG1GeUlFZ2dQU0JiTUhnMk56UTFNak13TVN3Z01IaEZSa05FUVVJNE9Td2dNSGc1T0VKQlJFTkdSU3dnTUhneE1ETXlOVFEzTml3Z01IaERNMFF5UlRGR01GMWNibHh1SUNCcFppQW9kSGx3Wlc5bUlHMWxjM05oWjJVZ1BUMDlJQ2R6ZEhKcGJtY25LU0I3WEc0Z0lDQWdiV1Z6YzJGblpTQTlJRzVsZHlCQ2RXWm1aWElvYldWemMyRm5aU3dnSjNWMFpqZ25LVnh1SUNCOVhHNWNiaUFnZG1GeUlHMGdQU0JpZVhSbGMxUnZWMjl5WkhNb2JXVnpjMkZuWlNsY2JseHVJQ0IyWVhJZ2JrSnBkSE5NWldaMElEMGdiV1Z6YzJGblpTNXNaVzVuZEdnZ0tpQTRYRzRnSUhaaGNpQnVRbWwwYzFSdmRHRnNJRDBnYldWemMyRm5aUzVzWlc1bmRHZ2dLaUE0WEc1Y2JpQWdMeThnUVdSa0lIQmhaR1JwYm1kY2JpQWdiVnR1UW1sMGMweGxablFnUGo0K0lEVmRJSHc5SURCNE9EQWdQRHdnS0RJMElDMGdia0pwZEhOTVpXWjBJQ1VnTXpJcFhHNGdJRzFiS0Nnb2JrSnBkSE5NWldaMElDc2dOalFwSUQ0K1BpQTVLU0E4UENBMEtTQXJJREUwWFNBOUlDaGNiaUFnSUNBb0tDaHVRbWwwYzFSdmRHRnNJRHc4SURncElId2dLRzVDYVhSelZHOTBZV3dnUGo0K0lESTBLU2tnSmlBd2VEQXdabVl3TUdabUtTQjhYRzRnSUNBZ0tDZ29ia0pwZEhOVWIzUmhiQ0E4UENBeU5Da2dmQ0FvYmtKcGRITlViM1JoYkNBK1BqNGdPQ2twSUNZZ01IaG1aakF3Wm1Zd01DbGNiaUFnS1Z4dVhHNGdJR1p2Y2lBb2RtRnlJR2tnUFNBd095QnBJRHdnYlM1c1pXNW5kR2c3SUdrZ0t6MGdNVFlwSUh0Y2JpQWdJQ0J3Y205alpYTnpRbXh2WTJzb1NDd2diU3dnYVNsY2JpQWdmVnh1WEc0Z0lDOHZJSE4zWVhBZ1pXNWthV0Z1WEc0Z0lHWnZjaUFvYVNBOUlEQTdJR2tnUENBMU95QnBLeXNwSUh0Y2JpQWdJQ0F2THlCemFHOXlkR04xZEZ4dUlDQWdJSFpoY2lCSVgya2dQU0JJVzJsZFhHNWNiaUFnSUNBdkx5QlRkMkZ3WEc0Z0lDQWdTRnRwWFNBOUlDZ29LRWhmYVNBOFBDQTRLU0I4SUNoSVgya2dQajQrSURJMEtTa2dKaUF3ZURBd1ptWXdNR1ptS1NCOFhHNGdJQ0FnSUNBb0tDaElYMmtnUER3Z01qUXBJSHdnS0VoZmFTQStQajRnT0NrcElDWWdNSGhtWmpBd1ptWXdNQ2xjYmlBZ2ZWeHVYRzRnSUhaaGNpQmthV2RsYzNSaWVYUmxjeUE5SUhkdmNtUnpWRzlDZVhSbGN5aElLVnh1SUNCeVpYUjFjbTRnYm1WM0lFSjFabVpsY2loa2FXZGxjM1JpZVhSbGN5bGNibjFjYmx4dWJXOWtkV3hsTG1WNGNHOXlkSE1nUFNCeWFYQmxiV1F4TmpCY2JpSmRmUT09IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xudmFyIFRyYW5zZm9ybSA9IHJlcXVpcmUoJ3N0cmVhbScpLlRyYW5zZm9ybVxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxudmFyIFN0cmluZ0RlY29kZXIgPSByZXF1aXJlKCdzdHJpbmdfZGVjb2RlcicpLlN0cmluZ0RlY29kZXJcbm1vZHVsZS5leHBvcnRzID0gQ2lwaGVyQmFzZVxuaW5oZXJpdHMoQ2lwaGVyQmFzZSwgVHJhbnNmb3JtKVxuZnVuY3Rpb24gQ2lwaGVyQmFzZSAoaGFzaE1vZGUpIHtcbiAgVHJhbnNmb3JtLmNhbGwodGhpcylcbiAgdGhpcy5oYXNoTW9kZSA9IHR5cGVvZiBoYXNoTW9kZSA9PT0gJ3N0cmluZydcbiAgaWYgKHRoaXMuaGFzaE1vZGUpIHtcbiAgICB0aGlzW2hhc2hNb2RlXSA9IHRoaXMuX2ZpbmFsT3JEaWdlc3RcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmZpbmFsID0gdGhpcy5fZmluYWxPckRpZ2VzdFxuICB9XG4gIHRoaXMuX2RlY29kZXIgPSBudWxsXG4gIHRoaXMuX2VuY29kaW5nID0gbnVsbFxufVxuQ2lwaGVyQmFzZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGRhdGEsIGlucHV0RW5jLCBvdXRwdXRFbmMpIHtcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgIGRhdGEgPSBuZXcgQnVmZmVyKGRhdGEsIGlucHV0RW5jKVxuICB9XG4gIHZhciBvdXREYXRhID0gdGhpcy5fdXBkYXRlKGRhdGEpXG4gIGlmICh0aGlzLmhhc2hNb2RlKSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICBpZiAob3V0cHV0RW5jKSB7XG4gICAgb3V0RGF0YSA9IHRoaXMuX3RvU3RyaW5nKG91dERhdGEsIG91dHB1dEVuYylcbiAgfVxuICByZXR1cm4gb3V0RGF0YVxufVxuXG5DaXBoZXJCYXNlLnByb3RvdHlwZS5zZXRBdXRvUGFkZGluZyA9IGZ1bmN0aW9uICgpIHt9XG5cbkNpcGhlckJhc2UucHJvdG90eXBlLmdldEF1dGhUYWcgPSBmdW5jdGlvbiAoKSB7XG4gIHRocm93IG5ldyBFcnJvcigndHJ5aW5nIHRvIGdldCBhdXRoIHRhZyBpbiB1bnN1cHBvcnRlZCBzdGF0ZScpXG59XG5cbkNpcGhlckJhc2UucHJvdG90eXBlLnNldEF1dGhUYWcgPSBmdW5jdGlvbiAoKSB7XG4gIHRocm93IG5ldyBFcnJvcigndHJ5aW5nIHRvIHNldCBhdXRoIHRhZyBpbiB1bnN1cHBvcnRlZCBzdGF0ZScpXG59XG5cbkNpcGhlckJhc2UucHJvdG90eXBlLnNldEFBRCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCd0cnlpbmcgdG8gc2V0IGFhZCBpbiB1bnN1cHBvcnRlZCBzdGF0ZScpXG59XG5cbkNpcGhlckJhc2UucHJvdG90eXBlLl90cmFuc2Zvcm0gPSBmdW5jdGlvbiAoZGF0YSwgXywgbmV4dCkge1xuICB2YXIgZXJyXG4gIHRyeSB7XG4gICAgaWYgKHRoaXMuaGFzaE1vZGUpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZShkYXRhKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnB1c2godGhpcy5fdXBkYXRlKGRhdGEpKVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGVyciA9IGVcbiAgfSBmaW5hbGx5IHtcbiAgICBuZXh0KGVycilcbiAgfVxufVxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuX2ZsdXNoID0gZnVuY3Rpb24gKGRvbmUpIHtcbiAgdmFyIGVyclxuICB0cnkge1xuICAgIHRoaXMucHVzaCh0aGlzLl9maW5hbCgpKVxuICB9IGNhdGNoIChlKSB7XG4gICAgZXJyID0gZVxuICB9IGZpbmFsbHkge1xuICAgIGRvbmUoZXJyKVxuICB9XG59XG5DaXBoZXJCYXNlLnByb3RvdHlwZS5fZmluYWxPckRpZ2VzdCA9IGZ1bmN0aW9uIChvdXRwdXRFbmMpIHtcbiAgdmFyIG91dERhdGEgPSB0aGlzLl9maW5hbCgpIHx8IG5ldyBCdWZmZXIoJycpXG4gIGlmIChvdXRwdXRFbmMpIHtcbiAgICBvdXREYXRhID0gdGhpcy5fdG9TdHJpbmcob3V0RGF0YSwgb3V0cHV0RW5jLCB0cnVlKVxuICB9XG4gIHJldHVybiBvdXREYXRhXG59XG5cbkNpcGhlckJhc2UucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uICh2YWx1ZSwgZW5jLCBmaW5hbCkge1xuICBpZiAoIXRoaXMuX2RlY29kZXIpIHtcbiAgICB0aGlzLl9kZWNvZGVyID0gbmV3IFN0cmluZ0RlY29kZXIoZW5jKVxuICAgIHRoaXMuX2VuY29kaW5nID0gZW5jXG4gIH1cbiAgaWYgKHRoaXMuX2VuY29kaW5nICE9PSBlbmMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhblxcJ3Qgc3dpdGNoIGVuY29kaW5ncycpXG4gIH1cbiAgdmFyIG91dCA9IHRoaXMuX2RlY29kZXIud3JpdGUodmFsdWUpXG4gIGlmIChmaW5hbCkge1xuICAgIG91dCArPSB0aGlzLl9kZWNvZGVyLmVuZCgpXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIpXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUwyNXZaR1ZmYlc5a2RXeGxjeTlqY25sd2RHOHRZbkp2ZDNObGNtbG1lUzl1YjJSbFgyMXZaSFZzWlhNdlkzSmxZWFJsTFdoaGMyZ3ZibTlrWlY5dGIyUjFiR1Z6TDJOcGNHaGxjaTFpWVhObEwybHVaR1Y0TG1weklsMHNJbTVoYldWeklqcGJYU3dpYldGd2NHbHVaM01pT2lJN1FVRkJRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRU0lzSW1acGJHVWlPaUpuWlc1bGNtRjBaV1F1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaWRtRnlJRlJ5WVc1elptOXliU0E5SUhKbGNYVnBjbVVvSjNOMGNtVmhiU2NwTGxSeVlXNXpabTl5YlZ4dWRtRnlJR2x1YUdWeWFYUnpJRDBnY21WeGRXbHlaU2duYVc1b1pYSnBkSE1uS1Z4dWRtRnlJRk4wY21sdVowUmxZMjlrWlhJZ1BTQnlaWEYxYVhKbEtDZHpkSEpwYm1kZlpHVmpiMlJsY2ljcExsTjBjbWx1WjBSbFkyOWtaWEpjYm0xdlpIVnNaUzVsZUhCdmNuUnpJRDBnUTJsd2FHVnlRbUZ6WlZ4dWFXNW9aWEpwZEhNb1EybHdhR1Z5UW1GelpTd2dWSEpoYm5ObWIzSnRLVnh1Wm5WdVkzUnBiMjRnUTJsd2FHVnlRbUZ6WlNBb2FHRnphRTF2WkdVcElIdGNiaUFnVkhKaGJuTm1iM0p0TG1OaGJHd29kR2hwY3lsY2JpQWdkR2hwY3k1b1lYTm9UVzlrWlNBOUlIUjVjR1Z2WmlCb1lYTm9UVzlrWlNBOVBUMGdKM04wY21sdVp5ZGNiaUFnYVdZZ0tIUm9hWE11YUdGemFFMXZaR1VwSUh0Y2JpQWdJQ0IwYUdselcyaGhjMmhOYjJSbFhTQTlJSFJvYVhNdVgyWnBibUZzVDNKRWFXZGxjM1JjYmlBZ2ZTQmxiSE5sSUh0Y2JpQWdJQ0IwYUdsekxtWnBibUZzSUQwZ2RHaHBjeTVmWm1sdVlXeFBja1JwWjJWemRGeHVJQ0I5WEc0Z0lIUm9hWE11WDJSbFkyOWtaWElnUFNCdWRXeHNYRzRnSUhSb2FYTXVYMlZ1WTI5a2FXNW5JRDBnYm5Wc2JGeHVmVnh1UTJsd2FHVnlRbUZ6WlM1d2NtOTBiM1I1Y0dVdWRYQmtZWFJsSUQwZ1puVnVZM1JwYjI0Z0tHUmhkR0VzSUdsdWNIVjBSVzVqTENCdmRYUndkWFJGYm1NcElIdGNiaUFnYVdZZ0tIUjVjR1Z2WmlCa1lYUmhJRDA5UFNBbmMzUnlhVzVuSnlrZ2UxeHVJQ0FnSUdSaGRHRWdQU0J1WlhjZ1FuVm1abVZ5S0dSaGRHRXNJR2x1Y0hWMFJXNWpLVnh1SUNCOVhHNGdJSFpoY2lCdmRYUkVZWFJoSUQwZ2RHaHBjeTVmZFhCa1lYUmxLR1JoZEdFcFhHNGdJR2xtSUNoMGFHbHpMbWhoYzJoTmIyUmxLU0I3WEc0Z0lDQWdjbVYwZFhKdUlIUm9hWE5jYmlBZ2ZWeHVJQ0JwWmlBb2IzVjBjSFYwUlc1aktTQjdYRzRnSUNBZ2IzVjBSR0YwWVNBOUlIUm9hWE11WDNSdlUzUnlhVzVuS0c5MWRFUmhkR0VzSUc5MWRIQjFkRVZ1WXlsY2JpQWdmVnh1SUNCeVpYUjFjbTRnYjNWMFJHRjBZVnh1ZlZ4dVhHNURhWEJvWlhKQ1lYTmxMbkJ5YjNSdmRIbHdaUzV6WlhSQmRYUnZVR0ZrWkdsdVp5QTlJR1oxYm1OMGFXOXVJQ2dwSUh0OVhHNWNia05wY0dobGNrSmhjMlV1Y0hKdmRHOTBlWEJsTG1kbGRFRjFkR2hVWVdjZ1BTQm1kVzVqZEdsdmJpQW9LU0I3WEc0Z0lIUm9jbTkzSUc1bGR5QkZjbkp2Y2lnbmRISjVhVzVuSUhSdklHZGxkQ0JoZFhSb0lIUmhaeUJwYmlCMWJuTjFjSEJ2Y25SbFpDQnpkR0YwWlNjcFhHNTlYRzVjYmtOcGNHaGxja0poYzJVdWNISnZkRzkwZVhCbExuTmxkRUYxZEdoVVlXY2dQU0JtZFc1amRHbHZiaUFvS1NCN1hHNGdJSFJvY205M0lHNWxkeUJGY25KdmNpZ25kSEo1YVc1bklIUnZJSE5sZENCaGRYUm9JSFJoWnlCcGJpQjFibk4xY0hCdmNuUmxaQ0J6ZEdGMFpTY3BYRzU5WEc1Y2JrTnBjR2hsY2tKaGMyVXVjSEp2ZEc5MGVYQmxMbk5sZEVGQlJDQTlJR1oxYm1OMGFXOXVJQ2dwSUh0Y2JpQWdkR2h5YjNjZ2JtVjNJRVZ5Y205eUtDZDBjbmxwYm1jZ2RHOGdjMlYwSUdGaFpDQnBiaUIxYm5OMWNIQnZjblJsWkNCemRHRjBaU2NwWEc1OVhHNWNia05wY0dobGNrSmhjMlV1Y0hKdmRHOTBlWEJsTGw5MGNtRnVjMlp2Y20wZ1BTQm1kVzVqZEdsdmJpQW9aR0YwWVN3Z1h5d2dibVY0ZENrZ2UxeHVJQ0IyWVhJZ1pYSnlYRzRnSUhSeWVTQjdYRzRnSUNBZ2FXWWdLSFJvYVhNdWFHRnphRTF2WkdVcElIdGNiaUFnSUNBZ0lIUm9hWE11WDNWd1pHRjBaU2hrWVhSaEtWeHVJQ0FnSUgwZ1pXeHpaU0I3WEc0Z0lDQWdJQ0IwYUdsekxuQjFjMmdvZEdocGN5NWZkWEJrWVhSbEtHUmhkR0VwS1Z4dUlDQWdJSDFjYmlBZ2ZTQmpZWFJqYUNBb1pTa2dlMXh1SUNBZ0lHVnljaUE5SUdWY2JpQWdmU0JtYVc1aGJHeDVJSHRjYmlBZ0lDQnVaWGgwS0dWeWNpbGNiaUFnZlZ4dWZWeHVRMmx3YUdWeVFtRnpaUzV3Y205MGIzUjVjR1V1WDJac2RYTm9JRDBnWm5WdVkzUnBiMjRnS0dSdmJtVXBJSHRjYmlBZ2RtRnlJR1Z5Y2x4dUlDQjBjbmtnZTF4dUlDQWdJSFJvYVhNdWNIVnphQ2gwYUdsekxsOW1hVzVoYkNncEtWeHVJQ0I5SUdOaGRHTm9JQ2hsS1NCN1hHNGdJQ0FnWlhKeUlEMGdaVnh1SUNCOUlHWnBibUZzYkhrZ2UxeHVJQ0FnSUdSdmJtVW9aWEp5S1Z4dUlDQjlYRzU5WEc1RGFYQm9aWEpDWVhObExuQnliM1J2ZEhsd1pTNWZabWx1WVd4UGNrUnBaMlZ6ZENBOUlHWjFibU4wYVc5dUlDaHZkWFJ3ZFhSRmJtTXBJSHRjYmlBZ2RtRnlJRzkxZEVSaGRHRWdQU0IwYUdsekxsOW1hVzVoYkNncElIeDhJRzVsZHlCQ2RXWm1aWElvSnljcFhHNGdJR2xtSUNodmRYUndkWFJGYm1NcElIdGNiaUFnSUNCdmRYUkVZWFJoSUQwZ2RHaHBjeTVmZEc5VGRISnBibWNvYjNWMFJHRjBZU3dnYjNWMGNIVjBSVzVqTENCMGNuVmxLVnh1SUNCOVhHNGdJSEpsZEhWeWJpQnZkWFJFWVhSaFhHNTlYRzVjYmtOcGNHaGxja0poYzJVdWNISnZkRzkwZVhCbExsOTBiMU4wY21sdVp5QTlJR1oxYm1OMGFXOXVJQ2gyWVd4MVpTd2daVzVqTENCbWFXNWhiQ2tnZTF4dUlDQnBaaUFvSVhSb2FYTXVYMlJsWTI5a1pYSXBJSHRjYmlBZ0lDQjBhR2x6TGw5a1pXTnZaR1Z5SUQwZ2JtVjNJRk4wY21sdVowUmxZMjlrWlhJb1pXNWpLVnh1SUNBZ0lIUm9hWE11WDJWdVkyOWthVzVuSUQwZ1pXNWpYRzRnSUgxY2JpQWdhV1lnS0hSb2FYTXVYMlZ1WTI5a2FXNW5JQ0U5UFNCbGJtTXBJSHRjYmlBZ0lDQjBhSEp2ZHlCdVpYY2dSWEp5YjNJb0oyTmhibHhjSjNRZ2MzZHBkR05vSUdWdVkyOWthVzVuY3ljcFhHNGdJSDFjYmlBZ2RtRnlJRzkxZENBOUlIUm9hWE11WDJSbFkyOWtaWEl1ZDNKcGRHVW9kbUZzZFdVcFhHNGdJR2xtSUNobWFXNWhiQ2tnZTF4dUlDQWdJRzkxZENBclBTQjBhR2x6TGw5a1pXTnZaR1Z5TG1WdVpDZ3BYRzRnSUgxY2JpQWdjbVYwZFhKdUlHOTFkRnh1ZlZ4dUlsMTkiLCIoZnVuY3Rpb24gKEJ1ZmZlcil7XG4vLyBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2FwYXRpbC9wZW1zdHJpcFxudmFyIGZpbmRQcm9jID0gL1Byb2MtVHlwZTogNCxFTkNSWVBURURcXHI/XFxuREVLLUluZm86IEFFUy0oKD86MTI4KXwoPzoxOTIpfCg/OjI1NikpLUNCQywoWzAtOUEtSF0rKVxccj9cXG5cXHI/XFxuKFswLTlBLXpcXG5cXHJcXCtcXC9cXD1dKylcXHI/XFxuL21cbnZhciBzdGFydFJlZ2V4ID0gL14tLS0tLUJFR0lOICguKikgS0VZLS0tLS1cXHI/XFxuL21cbnZhciBmdWxsUmVnZXggPSAvXi0tLS0tQkVHSU4gKC4qKSBLRVktLS0tLVxccj9cXG4oWzAtOUEtelxcblxcclxcK1xcL1xcPV0rKVxccj9cXG4tLS0tLUVORCBcXDEgS0VZLS0tLS0kL21cbnZhciBldnAgPSByZXF1aXJlKCdldnBfYnl0ZXN0b2tleScpXG52YXIgY2lwaGVycyA9IHJlcXVpcmUoJ2Jyb3dzZXJpZnktYWVzJylcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG9rZXksIHBhc3N3b3JkKSB7XG4gIHZhciBrZXkgPSBva2V5LnRvU3RyaW5nKClcbiAgdmFyIG1hdGNoID0ga2V5Lm1hdGNoKGZpbmRQcm9jKVxuICB2YXIgZGVjcnlwdGVkXG4gIGlmICghbWF0Y2gpIHtcbiAgICB2YXIgbWF0Y2gyID0ga2V5Lm1hdGNoKGZ1bGxSZWdleClcbiAgICBkZWNyeXB0ZWQgPSBuZXcgQnVmZmVyKG1hdGNoMlsyXS5yZXBsYWNlKC9cXHI/XFxuL2csICcnKSwgJ2Jhc2U2NCcpXG4gIH0gZWxzZSB7XG4gICAgdmFyIHN1aXRlID0gJ2FlcycgKyBtYXRjaFsxXVxuICAgIHZhciBpdiA9IG5ldyBCdWZmZXIobWF0Y2hbMl0sICdoZXgnKVxuICAgIHZhciBjaXBoZXJUZXh0ID0gbmV3IEJ1ZmZlcihtYXRjaFszXS5yZXBsYWNlKC9cXHI/XFxuL2csICcnKSwgJ2Jhc2U2NCcpXG4gICAgdmFyIGNpcGhlcktleSA9IGV2cChwYXNzd29yZCwgaXYuc2xpY2UoMCwgOCksIHBhcnNlSW50KG1hdGNoWzFdLCAxMCkpLmtleVxuICAgIHZhciBvdXQgPSBbXVxuICAgIHZhciBjaXBoZXIgPSBjaXBoZXJzLmNyZWF0ZURlY2lwaGVyaXYoc3VpdGUsIGNpcGhlcktleSwgaXYpXG4gICAgb3V0LnB1c2goY2lwaGVyLnVwZGF0ZShjaXBoZXJUZXh0KSlcbiAgICBvdXQucHVzaChjaXBoZXIuZmluYWwoKSlcbiAgICBkZWNyeXB0ZWQgPSBCdWZmZXIuY29uY2F0KG91dClcbiAgfVxuICB2YXIgdGFnID0ga2V5Lm1hdGNoKHN0YXJ0UmVnZXgpWzFdICsgJyBLRVknXG4gIHJldHVybiB7XG4gICAgdGFnOiB0YWcsXG4gICAgZGF0YTogZGVjcnlwdGVkXG4gIH1cbn1cblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZZbkp2ZDNObGNtbG1lUzF6YVdkdUwyNXZaR1ZmYlc5a2RXeGxjeTl3WVhKelpTMWhjMjR4TDJacGVGQnliMk11YW5NaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWp0QlFVRkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQklpd2labWxzWlNJNkltZGxibVZ5WVhSbFpDNXFjeUlzSW5OdmRYSmpaVkp2YjNRaU9pSWlMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXeUl2THlCaFpHRndkR1ZrSUdaeWIyMGdhSFIwY0hNNkx5OW5hWFJvZFdJdVkyOXRMMkZ3WVhScGJDOXdaVzF6ZEhKcGNGeHVkbUZ5SUdacGJtUlFjbTlqSUQwZ0wxQnliMk10Vkhsd1pUb2dOQ3hGVGtOU1dWQlVSVVJjWEhJL1hGeHVSRVZMTFVsdVptODZJRUZGVXkwb0tEODZNVEk0S1h3b1B6b3hPVElwZkNnL09qSTFOaWtwTFVOQ1F5d29XekF0T1VFdFNGMHJLVnhjY2o5Y1hHNWNYSEkvWEZ4dUtGc3dMVGxCTFhwY1hHNWNYSEpjWEN0Y1hDOWNYRDFkS3lsY1hISS9YRnh1TDIxY2JuWmhjaUJ6ZEdGeWRGSmxaMlY0SUQwZ0wxNHRMUzB0TFVKRlIwbE9JQ2d1S2lrZ1MwVlpMUzB0TFMxY1hISS9YRnh1TDIxY2JuWmhjaUJtZFd4c1VtVm5aWGdnUFNBdlhpMHRMUzB0UWtWSFNVNGdLQzRxS1NCTFJWa3RMUzB0TFZ4Y2NqOWNYRzRvV3pBdE9VRXRlbHhjYmx4Y2NseGNLMXhjTDF4Y1BWMHJLVnhjY2o5Y1hHNHRMUzB0TFVWT1JDQmNYREVnUzBWWkxTMHRMUzBrTDIxY2JuWmhjaUJsZG5BZ1BTQnlaWEYxYVhKbEtDZGxkbkJmWW5sMFpYTjBiMnRsZVNjcFhHNTJZWElnWTJsd2FHVnljeUE5SUhKbGNYVnBjbVVvSjJKeWIzZHpaWEpwWm5rdFlXVnpKeWxjYm0xdlpIVnNaUzVsZUhCdmNuUnpJRDBnWm5WdVkzUnBiMjRnS0c5clpYa3NJSEJoYzNOM2IzSmtLU0I3WEc0Z0lIWmhjaUJyWlhrZ1BTQnZhMlY1TG5SdlUzUnlhVzVuS0NsY2JpQWdkbUZ5SUcxaGRHTm9JRDBnYTJWNUxtMWhkR05vS0dacGJtUlFjbTlqS1Z4dUlDQjJZWElnWkdWamNubHdkR1ZrWEc0Z0lHbG1JQ2doYldGMFkyZ3BJSHRjYmlBZ0lDQjJZWElnYldGMFkyZ3lJRDBnYTJWNUxtMWhkR05vS0daMWJHeFNaV2RsZUNsY2JpQWdJQ0JrWldOeWVYQjBaV1FnUFNCdVpYY2dRblZtWm1WeUtHMWhkR05vTWxzeVhTNXlaWEJzWVdObEtDOWNYSEkvWEZ4dUwyY3NJQ2NuS1N3Z0oySmhjMlUyTkNjcFhHNGdJSDBnWld4elpTQjdYRzRnSUNBZ2RtRnlJSE4xYVhSbElEMGdKMkZsY3ljZ0t5QnRZWFJqYUZzeFhWeHVJQ0FnSUhaaGNpQnBkaUE5SUc1bGR5QkNkV1ptWlhJb2JXRjBZMmhiTWwwc0lDZG9aWGduS1Z4dUlDQWdJSFpoY2lCamFYQm9aWEpVWlhoMElEMGdibVYzSUVKMVptWmxjaWh0WVhSamFGc3pYUzV5WlhCc1lXTmxLQzljWEhJL1hGeHVMMmNzSUNjbktTd2dKMkpoYzJVMk5DY3BYRzRnSUNBZ2RtRnlJR05wY0dobGNrdGxlU0E5SUdWMmNDaHdZWE56ZDI5eVpDd2dhWFl1YzJ4cFkyVW9NQ3dnT0Nrc0lIQmhjbk5sU1c1MEtHMWhkR05vV3pGZExDQXhNQ2twTG10bGVWeHVJQ0FnSUhaaGNpQnZkWFFnUFNCYlhWeHVJQ0FnSUhaaGNpQmphWEJvWlhJZ1BTQmphWEJvWlhKekxtTnlaV0YwWlVSbFkybHdhR1Z5YVhZb2MzVnBkR1VzSUdOcGNHaGxja3RsZVN3Z2FYWXBYRzRnSUNBZ2IzVjBMbkIxYzJnb1kybHdhR1Z5TG5Wd1pHRjBaU2hqYVhCb1pYSlVaWGgwS1NsY2JpQWdJQ0J2ZFhRdWNIVnphQ2hqYVhCb1pYSXVabWx1WVd3b0tTbGNiaUFnSUNCa1pXTnllWEIwWldRZ1BTQkNkV1ptWlhJdVkyOXVZMkYwS0c5MWRDbGNiaUFnZlZ4dUlDQjJZWElnZEdGbklEMGdhMlY1TG0xaGRHTm9LSE4wWVhKMFVtVm5aWGdwV3pGZElDc2dKeUJMUlZrblhHNGdJSEpsZEhWeWJpQjdYRzRnSUNBZ2RHRm5PaUIwWVdjc1hHNGdJQ0FnWkdGMFlUb2daR1ZqY25sd2RHVmtYRzRnSUgxY2JuMWNiaUpkZlE9PSIsImFyZ3VtZW50c1s0XVtcIi9ob21lL3VidW50dS9zdGFnaW5nL2FwcHMvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2NyeXB0by1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWNpcGhlci9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1hZXMvYnJvd3Nlci5qc1wiXVswXS5hcHBseShleHBvcnRzLGFyZ3VtZW50cykiLCIoZnVuY3Rpb24gKEJ1ZmZlcil7XG52YXIgYWVzID0gcmVxdWlyZSgnLi9hZXMnKVxudmFyIFRyYW5zZm9ybSA9IHJlcXVpcmUoJ2NpcGhlci1iYXNlJylcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbnZhciBtb2RlcyA9IHJlcXVpcmUoJy4vbW9kZXMnKVxudmFyIGVidGsgPSByZXF1aXJlKCdldnBfYnl0ZXN0b2tleScpXG52YXIgU3RyZWFtQ2lwaGVyID0gcmVxdWlyZSgnLi9zdHJlYW1DaXBoZXInKVxudmFyIEF1dGhDaXBoZXIgPSByZXF1aXJlKCcuL2F1dGhDaXBoZXInKVxuaW5oZXJpdHMoQ2lwaGVyLCBUcmFuc2Zvcm0pXG5mdW5jdGlvbiBDaXBoZXIgKG1vZGUsIGtleSwgaXYpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIENpcGhlcikpIHtcbiAgICByZXR1cm4gbmV3IENpcGhlcihtb2RlLCBrZXksIGl2KVxuICB9XG4gIFRyYW5zZm9ybS5jYWxsKHRoaXMpXG4gIHRoaXMuX2NhY2hlID0gbmV3IFNwbGl0dGVyKClcbiAgdGhpcy5fY2lwaGVyID0gbmV3IGFlcy5BRVMoa2V5KVxuICB0aGlzLl9wcmV2ID0gbmV3IEJ1ZmZlcihpdi5sZW5ndGgpXG4gIGl2LmNvcHkodGhpcy5fcHJldilcbiAgdGhpcy5fbW9kZSA9IG1vZGVcbiAgdGhpcy5fYXV0b3BhZGRpbmcgPSB0cnVlXG59XG5DaXBoZXIucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICB0aGlzLl9jYWNoZS5hZGQoZGF0YSlcbiAgdmFyIGNodW5rXG4gIHZhciB0aGluZ1xuICB2YXIgb3V0ID0gW11cbiAgd2hpbGUgKChjaHVuayA9IHRoaXMuX2NhY2hlLmdldCgpKSkge1xuICAgIHRoaW5nID0gdGhpcy5fbW9kZS5lbmNyeXB0KHRoaXMsIGNodW5rKVxuICAgIG91dC5wdXNoKHRoaW5nKVxuICB9XG4gIHJldHVybiBCdWZmZXIuY29uY2F0KG91dClcbn1cbkNpcGhlci5wcm90b3R5cGUuX2ZpbmFsID0gZnVuY3Rpb24gKCkge1xuICB2YXIgY2h1bmsgPSB0aGlzLl9jYWNoZS5mbHVzaCgpXG4gIGlmICh0aGlzLl9hdXRvcGFkZGluZykge1xuICAgIGNodW5rID0gdGhpcy5fbW9kZS5lbmNyeXB0KHRoaXMsIGNodW5rKVxuICAgIHRoaXMuX2NpcGhlci5zY3J1YigpXG4gICAgcmV0dXJuIGNodW5rXG4gIH0gZWxzZSBpZiAoY2h1bmsudG9TdHJpbmcoJ2hleCcpICE9PSAnMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAnKSB7XG4gICAgdGhpcy5fY2lwaGVyLnNjcnViKClcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2RhdGEgbm90IG11bHRpcGxlIG9mIGJsb2NrIGxlbmd0aCcpXG4gIH1cbn1cbkNpcGhlci5wcm90b3R5cGUuc2V0QXV0b1BhZGRpbmcgPSBmdW5jdGlvbiAoc2V0VG8pIHtcbiAgdGhpcy5fYXV0b3BhZGRpbmcgPSAhIXNldFRvXG59XG5cbmZ1bmN0aW9uIFNwbGl0dGVyICgpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNwbGl0dGVyKSkge1xuICAgIHJldHVybiBuZXcgU3BsaXR0ZXIoKVxuICB9XG4gIHRoaXMuY2FjaGUgPSBuZXcgQnVmZmVyKCcnKVxufVxuU3BsaXR0ZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIHRoaXMuY2FjaGUgPSBCdWZmZXIuY29uY2F0KFt0aGlzLmNhY2hlLCBkYXRhXSlcbn1cblxuU3BsaXR0ZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuY2FjaGUubGVuZ3RoID4gMTUpIHtcbiAgICB2YXIgb3V0ID0gdGhpcy5jYWNoZS5zbGljZSgwLCAxNilcbiAgICB0aGlzLmNhY2hlID0gdGhpcy5jYWNoZS5zbGljZSgxNilcbiAgICByZXR1cm4gb3V0XG4gIH1cbiAgcmV0dXJuIG51bGxcbn1cblNwbGl0dGVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGxlbiA9IDE2IC0gdGhpcy5jYWNoZS5sZW5ndGhcbiAgdmFyIHBhZEJ1ZmYgPSBuZXcgQnVmZmVyKGxlbilcblxuICB2YXIgaSA9IC0xXG4gIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICBwYWRCdWZmLndyaXRlVUludDgobGVuLCBpKVxuICB9XG4gIHZhciBvdXQgPSBCdWZmZXIuY29uY2F0KFt0aGlzLmNhY2hlLCBwYWRCdWZmXSlcbiAgcmV0dXJuIG91dFxufVxudmFyIG1vZGVsaXN0ID0ge1xuICBFQ0I6IHJlcXVpcmUoJy4vbW9kZXMvZWNiJyksXG4gIENCQzogcmVxdWlyZSgnLi9tb2Rlcy9jYmMnKSxcbiAgQ0ZCOiByZXF1aXJlKCcuL21vZGVzL2NmYicpLFxuICBDRkI4OiByZXF1aXJlKCcuL21vZGVzL2NmYjgnKSxcbiAgQ0ZCMTogcmVxdWlyZSgnLi9tb2Rlcy9jZmIxJyksXG4gIE9GQjogcmVxdWlyZSgnLi9tb2Rlcy9vZmInKSxcbiAgQ1RSOiByZXF1aXJlKCcuL21vZGVzL2N0cicpLFxuICBHQ006IHJlcXVpcmUoJy4vbW9kZXMvY3RyJylcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ2lwaGVyaXYgKHN1aXRlLCBwYXNzd29yZCwgaXYpIHtcbiAgdmFyIGNvbmZpZyA9IG1vZGVzW3N1aXRlLnRvTG93ZXJDYXNlKCldXG4gIGlmICghY29uZmlnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBzdWl0ZSB0eXBlJylcbiAgfVxuICBpZiAodHlwZW9mIGl2ID09PSAnc3RyaW5nJykge1xuICAgIGl2ID0gbmV3IEJ1ZmZlcihpdilcbiAgfVxuICBpZiAodHlwZW9mIHBhc3N3b3JkID09PSAnc3RyaW5nJykge1xuICAgIHBhc3N3b3JkID0gbmV3IEJ1ZmZlcihwYXNzd29yZClcbiAgfVxuICBpZiAocGFzc3dvcmQubGVuZ3RoICE9PSBjb25maWcua2V5IC8gOCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQga2V5IGxlbmd0aCAnICsgcGFzc3dvcmQubGVuZ3RoKVxuICB9XG4gIGlmIChpdi5sZW5ndGggIT09IGNvbmZpZy5pdikge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgaXYgbGVuZ3RoICcgKyBpdi5sZW5ndGgpXG4gIH1cbiAgaWYgKGNvbmZpZy50eXBlID09PSAnc3RyZWFtJykge1xuICAgIHJldHVybiBuZXcgU3RyZWFtQ2lwaGVyKG1vZGVsaXN0W2NvbmZpZy5tb2RlXSwgcGFzc3dvcmQsIGl2KVxuICB9IGVsc2UgaWYgKGNvbmZpZy50eXBlID09PSAnYXV0aCcpIHtcbiAgICByZXR1cm4gbmV3IEF1dGhDaXBoZXIobW9kZWxpc3RbY29uZmlnLm1vZGVdLCBwYXNzd29yZCwgaXYpXG4gIH1cbiAgcmV0dXJuIG5ldyBDaXBoZXIobW9kZWxpc3RbY29uZmlnLm1vZGVdLCBwYXNzd29yZCwgaXYpXG59XG5mdW5jdGlvbiBjcmVhdGVDaXBoZXIgKHN1aXRlLCBwYXNzd29yZCkge1xuICB2YXIgY29uZmlnID0gbW9kZXNbc3VpdGUudG9Mb3dlckNhc2UoKV1cbiAgaWYgKCFjb25maWcpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIHN1aXRlIHR5cGUnKVxuICB9XG4gIHZhciBrZXlzID0gZWJ0ayhwYXNzd29yZCwgZmFsc2UsIGNvbmZpZy5rZXksIGNvbmZpZy5pdilcbiAgcmV0dXJuIGNyZWF0ZUNpcGhlcml2KHN1aXRlLCBrZXlzLmtleSwga2V5cy5pdilcbn1cblxuZXhwb3J0cy5jcmVhdGVDaXBoZXJpdiA9IGNyZWF0ZUNpcGhlcml2XG5leHBvcnRzLmNyZWF0ZUNpcGhlciA9IGNyZWF0ZUNpcGhlclxuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIpXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUwyNXZaR1ZmYlc5a2RXeGxjeTlqY25sd2RHOHRZbkp2ZDNObGNtbG1lUzl1YjJSbFgyMXZaSFZzWlhNdlluSnZkM05sY21sbWVTMXphV2R1TDI1dlpHVmZiVzlrZFd4bGN5OXdZWEp6WlMxaGMyNHhMMjV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUxXRmxjeTlsYm1OeWVYQjBaWEl1YW5NaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWp0QlFVRkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEVpTENKbWFXeGxJam9pWjJWdVpYSmhkR1ZrTG1weklpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYkluWmhjaUJoWlhNZ1BTQnlaWEYxYVhKbEtDY3VMMkZsY3ljcFhHNTJZWElnVkhKaGJuTm1iM0p0SUQwZ2NtVnhkV2x5WlNnblkybHdhR1Z5TFdKaGMyVW5LVnh1ZG1GeUlHbHVhR1Z5YVhSeklEMGdjbVZ4ZFdseVpTZ25hVzVvWlhKcGRITW5LVnh1ZG1GeUlHMXZaR1Z6SUQwZ2NtVnhkV2x5WlNnbkxpOXRiMlJsY3ljcFhHNTJZWElnWldKMGF5QTlJSEpsY1hWcGNtVW9KMlYyY0Y5aWVYUmxjM1J2YTJWNUp5bGNiblpoY2lCVGRISmxZVzFEYVhCb1pYSWdQU0J5WlhGMWFYSmxLQ2N1TDNOMGNtVmhiVU5wY0dobGNpY3BYRzUyWVhJZ1FYVjBhRU5wY0dobGNpQTlJSEpsY1hWcGNtVW9KeTR2WVhWMGFFTnBjR2hsY2ljcFhHNXBibWhsY21sMGN5aERhWEJvWlhJc0lGUnlZVzV6Wm05eWJTbGNibVoxYm1OMGFXOXVJRU5wY0dobGNpQW9iVzlrWlN3Z2EyVjVMQ0JwZGlrZ2UxeHVJQ0JwWmlBb0lTaDBhR2x6SUdsdWMzUmhibU5sYjJZZ1EybHdhR1Z5S1NrZ2UxeHVJQ0FnSUhKbGRIVnliaUJ1WlhjZ1EybHdhR1Z5S0cxdlpHVXNJR3RsZVN3Z2FYWXBYRzRnSUgxY2JpQWdWSEpoYm5ObWIzSnRMbU5oYkd3b2RHaHBjeWxjYmlBZ2RHaHBjeTVmWTJGamFHVWdQU0J1WlhjZ1UzQnNhWFIwWlhJb0tWeHVJQ0IwYUdsekxsOWphWEJvWlhJZ1BTQnVaWGNnWVdWekxrRkZVeWhyWlhrcFhHNGdJSFJvYVhNdVgzQnlaWFlnUFNCdVpYY2dRblZtWm1WeUtHbDJMbXhsYm1kMGFDbGNiaUFnYVhZdVkyOXdlU2gwYUdsekxsOXdjbVYyS1Z4dUlDQjBhR2x6TGw5dGIyUmxJRDBnYlc5a1pWeHVJQ0IwYUdsekxsOWhkWFJ2Y0dGa1pHbHVaeUE5SUhSeWRXVmNibjFjYmtOcGNHaGxjaTV3Y205MGIzUjVjR1V1WDNWd1pHRjBaU0E5SUdaMWJtTjBhVzl1SUNoa1lYUmhLU0I3WEc0Z0lIUm9hWE11WDJOaFkyaGxMbUZrWkNoa1lYUmhLVnh1SUNCMllYSWdZMmgxYm10Y2JpQWdkbUZ5SUhSb2FXNW5YRzRnSUhaaGNpQnZkWFFnUFNCYlhWeHVJQ0IzYUdsc1pTQW9LR05vZFc1cklEMGdkR2hwY3k1ZlkyRmphR1V1WjJWMEtDa3BLU0I3WEc0Z0lDQWdkR2hwYm1jZ1BTQjBhR2x6TGw5dGIyUmxMbVZ1WTNKNWNIUW9kR2hwY3l3Z1kyaDFibXNwWEc0Z0lDQWdiM1YwTG5CMWMyZ29kR2hwYm1jcFhHNGdJSDFjYmlBZ2NtVjBkWEp1SUVKMVptWmxjaTVqYjI1allYUW9iM1YwS1Z4dWZWeHVRMmx3YUdWeUxuQnliM1J2ZEhsd1pTNWZabWx1WVd3Z1BTQm1kVzVqZEdsdmJpQW9LU0I3WEc0Z0lIWmhjaUJqYUhWdWF5QTlJSFJvYVhNdVgyTmhZMmhsTG1ac2RYTm9LQ2xjYmlBZ2FXWWdLSFJvYVhNdVgyRjFkRzl3WVdSa2FXNW5LU0I3WEc0Z0lDQWdZMmgxYm1zZ1BTQjBhR2x6TGw5dGIyUmxMbVZ1WTNKNWNIUW9kR2hwY3l3Z1kyaDFibXNwWEc0Z0lDQWdkR2hwY3k1ZlkybHdhR1Z5TG5OamNuVmlLQ2xjYmlBZ0lDQnlaWFIxY200Z1kyaDFibXRjYmlBZ2ZTQmxiSE5sSUdsbUlDaGphSFZ1YXk1MGIxTjBjbWx1WnlnbmFHVjRKeWtnSVQwOUlDY3hNREV3TVRBeE1ERXdNVEF4TURFd01UQXhNREV3TVRBeE1ERXdNVEF4TUNjcElIdGNiaUFnSUNCMGFHbHpMbDlqYVhCb1pYSXVjMk55ZFdJb0tWeHVJQ0FnSUhSb2NtOTNJRzVsZHlCRmNuSnZjaWduWkdGMFlTQnViM1FnYlhWc2RHbHdiR1VnYjJZZ1lteHZZMnNnYkdWdVozUm9KeWxjYmlBZ2ZWeHVmVnh1UTJsd2FHVnlMbkJ5YjNSdmRIbHdaUzV6WlhSQmRYUnZVR0ZrWkdsdVp5QTlJR1oxYm1OMGFXOXVJQ2h6WlhSVWJ5a2dlMXh1SUNCMGFHbHpMbDloZFhSdmNHRmtaR2x1WnlBOUlDRWhjMlYwVkc5Y2JuMWNibHh1Wm5WdVkzUnBiMjRnVTNCc2FYUjBaWElnS0NrZ2UxeHVJQ0JwWmlBb0lTaDBhR2x6SUdsdWMzUmhibU5sYjJZZ1UzQnNhWFIwWlhJcEtTQjdYRzRnSUNBZ2NtVjBkWEp1SUc1bGR5QlRjR3hwZEhSbGNpZ3BYRzRnSUgxY2JpQWdkR2hwY3k1allXTm9aU0E5SUc1bGR5QkNkV1ptWlhJb0p5Y3BYRzU5WEc1VGNHeHBkSFJsY2k1d2NtOTBiM1I1Y0dVdVlXUmtJRDBnWm5WdVkzUnBiMjRnS0dSaGRHRXBJSHRjYmlBZ2RHaHBjeTVqWVdOb1pTQTlJRUoxWm1abGNpNWpiMjVqWVhRb1czUm9hWE11WTJGamFHVXNJR1JoZEdGZEtWeHVmVnh1WEc1VGNHeHBkSFJsY2k1d2NtOTBiM1I1Y0dVdVoyVjBJRDBnWm5WdVkzUnBiMjRnS0NrZ2UxeHVJQ0JwWmlBb2RHaHBjeTVqWVdOb1pTNXNaVzVuZEdnZ1BpQXhOU2tnZTF4dUlDQWdJSFpoY2lCdmRYUWdQU0IwYUdsekxtTmhZMmhsTG5Oc2FXTmxLREFzSURFMktWeHVJQ0FnSUhSb2FYTXVZMkZqYUdVZ1BTQjBhR2x6TG1OaFkyaGxMbk5zYVdObEtERTJLVnh1SUNBZ0lISmxkSFZ5YmlCdmRYUmNiaUFnZlZ4dUlDQnlaWFIxY200Z2JuVnNiRnh1ZlZ4dVUzQnNhWFIwWlhJdWNISnZkRzkwZVhCbExtWnNkWE5vSUQwZ1puVnVZM1JwYjI0Z0tDa2dlMXh1SUNCMllYSWdiR1Z1SUQwZ01UWWdMU0IwYUdsekxtTmhZMmhsTG14bGJtZDBhRnh1SUNCMllYSWdjR0ZrUW5WbVppQTlJRzVsZHlCQ2RXWm1aWElvYkdWdUtWeHVYRzRnSUhaaGNpQnBJRDBnTFRGY2JpQWdkMmhwYkdVZ0tDc3JhU0E4SUd4bGJpa2dlMXh1SUNBZ0lIQmhaRUoxWm1ZdWQzSnBkR1ZWU1c1ME9DaHNaVzRzSUdrcFhHNGdJSDFjYmlBZ2RtRnlJRzkxZENBOUlFSjFabVpsY2k1amIyNWpZWFFvVzNSb2FYTXVZMkZqYUdVc0lIQmhaRUoxWm1aZEtWeHVJQ0J5WlhSMWNtNGdiM1YwWEc1OVhHNTJZWElnYlc5a1pXeHBjM1FnUFNCN1hHNGdJRVZEUWpvZ2NtVnhkV2x5WlNnbkxpOXRiMlJsY3k5bFkySW5LU3hjYmlBZ1EwSkRPaUJ5WlhGMWFYSmxLQ2N1TDIxdlpHVnpMMk5pWXljcExGeHVJQ0JEUmtJNklISmxjWFZwY21Vb0p5NHZiVzlrWlhNdlkyWmlKeWtzWEc0Z0lFTkdRamc2SUhKbGNYVnBjbVVvSnk0dmJXOWtaWE12WTJaaU9DY3BMRnh1SUNCRFJrSXhPaUJ5WlhGMWFYSmxLQ2N1TDIxdlpHVnpMMk5tWWpFbktTeGNiaUFnVDBaQ09pQnlaWEYxYVhKbEtDY3VMMjF2WkdWekwyOW1ZaWNwTEZ4dUlDQkRWRkk2SUhKbGNYVnBjbVVvSnk0dmJXOWtaWE12WTNSeUp5a3NYRzRnSUVkRFRUb2djbVZ4ZFdseVpTZ25MaTl0YjJSbGN5OWpkSEluS1Z4dWZWeHVYRzVtZFc1amRHbHZiaUJqY21WaGRHVkRhWEJvWlhKcGRpQW9jM1ZwZEdVc0lIQmhjM04zYjNKa0xDQnBkaWtnZTF4dUlDQjJZWElnWTI5dVptbG5JRDBnYlc5a1pYTmJjM1ZwZEdVdWRHOU1iM2RsY2tOaGMyVW9LVjFjYmlBZ2FXWWdLQ0ZqYjI1bWFXY3BJSHRjYmlBZ0lDQjBhSEp2ZHlCdVpYY2dWSGx3WlVWeWNtOXlLQ2RwYm5aaGJHbGtJSE4xYVhSbElIUjVjR1VuS1Z4dUlDQjlYRzRnSUdsbUlDaDBlWEJsYjJZZ2FYWWdQVDA5SUNkemRISnBibWNuS1NCN1hHNGdJQ0FnYVhZZ1BTQnVaWGNnUW5WbVptVnlLR2wyS1Z4dUlDQjlYRzRnSUdsbUlDaDBlWEJsYjJZZ2NHRnpjM2R2Y21RZ1BUMDlJQ2R6ZEhKcGJtY25LU0I3WEc0Z0lDQWdjR0Z6YzNkdmNtUWdQU0J1WlhjZ1FuVm1abVZ5S0hCaGMzTjNiM0prS1Z4dUlDQjlYRzRnSUdsbUlDaHdZWE56ZDI5eVpDNXNaVzVuZEdnZ0lUMDlJR052Ym1acFp5NXJaWGtnTHlBNEtTQjdYRzRnSUNBZ2RHaHliM2NnYm1WM0lGUjVjR1ZGY25KdmNpZ25hVzUyWVd4cFpDQnJaWGtnYkdWdVozUm9JQ2NnS3lCd1lYTnpkMjl5WkM1c1pXNW5kR2dwWEc0Z0lIMWNiaUFnYVdZZ0tHbDJMbXhsYm1kMGFDQWhQVDBnWTI5dVptbG5MbWwyS1NCN1hHNGdJQ0FnZEdoeWIzY2dibVYzSUZSNWNHVkZjbkp2Y2lnbmFXNTJZV3hwWkNCcGRpQnNaVzVuZEdnZ0p5QXJJR2wyTG14bGJtZDBhQ2xjYmlBZ2ZWeHVJQ0JwWmlBb1kyOXVabWxuTG5SNWNHVWdQVDA5SUNkemRISmxZVzBuS1NCN1hHNGdJQ0FnY21WMGRYSnVJRzVsZHlCVGRISmxZVzFEYVhCb1pYSW9iVzlrWld4cGMzUmJZMjl1Wm1sbkxtMXZaR1ZkTENCd1lYTnpkMjl5WkN3Z2FYWXBYRzRnSUgwZ1pXeHpaU0JwWmlBb1kyOXVabWxuTG5SNWNHVWdQVDA5SUNkaGRYUm9KeWtnZTF4dUlDQWdJSEpsZEhWeWJpQnVaWGNnUVhWMGFFTnBjR2hsY2lodGIyUmxiR2x6ZEZ0amIyNW1hV2N1Ylc5a1pWMHNJSEJoYzNOM2IzSmtMQ0JwZGlsY2JpQWdmVnh1SUNCeVpYUjFjbTRnYm1WM0lFTnBjR2hsY2lodGIyUmxiR2x6ZEZ0amIyNW1hV2N1Ylc5a1pWMHNJSEJoYzNOM2IzSmtMQ0JwZGlsY2JuMWNibVoxYm1OMGFXOXVJR055WldGMFpVTnBjR2hsY2lBb2MzVnBkR1VzSUhCaGMzTjNiM0prS1NCN1hHNGdJSFpoY2lCamIyNW1hV2NnUFNCdGIyUmxjMXR6ZFdsMFpTNTBiMHh2ZDJWeVEyRnpaU2dwWFZ4dUlDQnBaaUFvSVdOdmJtWnBaeWtnZTF4dUlDQWdJSFJvY205M0lHNWxkeUJVZVhCbFJYSnliM0lvSjJsdWRtRnNhV1FnYzNWcGRHVWdkSGx3WlNjcFhHNGdJSDFjYmlBZ2RtRnlJR3RsZVhNZ1BTQmxZblJyS0hCaGMzTjNiM0prTENCbVlXeHpaU3dnWTI5dVptbG5MbXRsZVN3Z1kyOXVabWxuTG1sMktWeHVJQ0J5WlhSMWNtNGdZM0psWVhSbFEybHdhR1Z5YVhZb2MzVnBkR1VzSUd0bGVYTXVhMlY1TENCclpYbHpMbWwyS1Z4dWZWeHVYRzVsZUhCdmNuUnpMbU55WldGMFpVTnBjR2hsY21sMklEMGdZM0psWVhSbFEybHdhR1Z5YVhaY2JtVjRjRzl5ZEhNdVkzSmxZWFJsUTJsd2FHVnlJRDBnWTNKbFlYUmxRMmx3YUdWeVhHNGlYWDA9IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xudmFyIGFlcyA9IHJlcXVpcmUoJy4vYWVzJylcbnZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCdjaXBoZXItYmFzZScpXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG52YXIgbW9kZXMgPSByZXF1aXJlKCcuL21vZGVzJylcbnZhciBTdHJlYW1DaXBoZXIgPSByZXF1aXJlKCcuL3N0cmVhbUNpcGhlcicpXG52YXIgQXV0aENpcGhlciA9IHJlcXVpcmUoJy4vYXV0aENpcGhlcicpXG52YXIgZWJ0ayA9IHJlcXVpcmUoJ2V2cF9ieXRlc3Rva2V5JylcblxuaW5oZXJpdHMoRGVjaXBoZXIsIFRyYW5zZm9ybSlcbmZ1bmN0aW9uIERlY2lwaGVyIChtb2RlLCBrZXksIGl2KSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBEZWNpcGhlcikpIHtcbiAgICByZXR1cm4gbmV3IERlY2lwaGVyKG1vZGUsIGtleSwgaXYpXG4gIH1cbiAgVHJhbnNmb3JtLmNhbGwodGhpcylcbiAgdGhpcy5fY2FjaGUgPSBuZXcgU3BsaXR0ZXIoKVxuICB0aGlzLl9sYXN0ID0gdm9pZCAwXG4gIHRoaXMuX2NpcGhlciA9IG5ldyBhZXMuQUVTKGtleSlcbiAgdGhpcy5fcHJldiA9IG5ldyBCdWZmZXIoaXYubGVuZ3RoKVxuICBpdi5jb3B5KHRoaXMuX3ByZXYpXG4gIHRoaXMuX21vZGUgPSBtb2RlXG4gIHRoaXMuX2F1dG9wYWRkaW5nID0gdHJ1ZVxufVxuRGVjaXBoZXIucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICB0aGlzLl9jYWNoZS5hZGQoZGF0YSlcbiAgdmFyIGNodW5rXG4gIHZhciB0aGluZ1xuICB2YXIgb3V0ID0gW11cbiAgd2hpbGUgKChjaHVuayA9IHRoaXMuX2NhY2hlLmdldCh0aGlzLl9hdXRvcGFkZGluZykpKSB7XG4gICAgdGhpbmcgPSB0aGlzLl9tb2RlLmRlY3J5cHQodGhpcywgY2h1bmspXG4gICAgb3V0LnB1c2godGhpbmcpXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5jb25jYXQob3V0KVxufVxuRGVjaXBoZXIucHJvdG90eXBlLl9maW5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGNodW5rID0gdGhpcy5fY2FjaGUuZmx1c2goKVxuICBpZiAodGhpcy5fYXV0b3BhZGRpbmcpIHtcbiAgICByZXR1cm4gdW5wYWQodGhpcy5fbW9kZS5kZWNyeXB0KHRoaXMsIGNodW5rKSlcbiAgfSBlbHNlIGlmIChjaHVuaykge1xuICAgIHRocm93IG5ldyBFcnJvcignZGF0YSBub3QgbXVsdGlwbGUgb2YgYmxvY2sgbGVuZ3RoJylcbiAgfVxufVxuRGVjaXBoZXIucHJvdG90eXBlLnNldEF1dG9QYWRkaW5nID0gZnVuY3Rpb24gKHNldFRvKSB7XG4gIHRoaXMuX2F1dG9wYWRkaW5nID0gISFzZXRUb1xufVxuZnVuY3Rpb24gU3BsaXR0ZXIgKCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU3BsaXR0ZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBTcGxpdHRlcigpXG4gIH1cbiAgdGhpcy5jYWNoZSA9IG5ldyBCdWZmZXIoJycpXG59XG5TcGxpdHRlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdGhpcy5jYWNoZSA9IEJ1ZmZlci5jb25jYXQoW3RoaXMuY2FjaGUsIGRhdGFdKVxufVxuXG5TcGxpdHRlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGF1dG9QYWRkaW5nKSB7XG4gIHZhciBvdXRcbiAgaWYgKGF1dG9QYWRkaW5nKSB7XG4gICAgaWYgKHRoaXMuY2FjaGUubGVuZ3RoID4gMTYpIHtcbiAgICAgIG91dCA9IHRoaXMuY2FjaGUuc2xpY2UoMCwgMTYpXG4gICAgICB0aGlzLmNhY2hlID0gdGhpcy5jYWNoZS5zbGljZSgxNilcbiAgICAgIHJldHVybiBvdXRcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRoaXMuY2FjaGUubGVuZ3RoID49IDE2KSB7XG4gICAgICBvdXQgPSB0aGlzLmNhY2hlLnNsaWNlKDAsIDE2KVxuICAgICAgdGhpcy5jYWNoZSA9IHRoaXMuY2FjaGUuc2xpY2UoMTYpXG4gICAgICByZXR1cm4gb3V0XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsXG59XG5TcGxpdHRlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmNhY2hlLmxlbmd0aCkge1xuICAgIHJldHVybiB0aGlzLmNhY2hlXG4gIH1cbn1cbmZ1bmN0aW9uIHVucGFkIChsYXN0KSB7XG4gIHZhciBwYWRkZWQgPSBsYXN0WzE1XVxuICB2YXIgaSA9IC0xXG4gIHdoaWxlICgrK2kgPCBwYWRkZWQpIHtcbiAgICBpZiAobGFzdFsoaSArICgxNiAtIHBhZGRlZCkpXSAhPT0gcGFkZGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VuYWJsZSB0byBkZWNyeXB0IGRhdGEnKVxuICAgIH1cbiAgfVxuICBpZiAocGFkZGVkID09PSAxNikge1xuICAgIHJldHVyblxuICB9XG4gIHJldHVybiBsYXN0LnNsaWNlKDAsIDE2IC0gcGFkZGVkKVxufVxuXG52YXIgbW9kZWxpc3QgPSB7XG4gIEVDQjogcmVxdWlyZSgnLi9tb2Rlcy9lY2InKSxcbiAgQ0JDOiByZXF1aXJlKCcuL21vZGVzL2NiYycpLFxuICBDRkI6IHJlcXVpcmUoJy4vbW9kZXMvY2ZiJyksXG4gIENGQjg6IHJlcXVpcmUoJy4vbW9kZXMvY2ZiOCcpLFxuICBDRkIxOiByZXF1aXJlKCcuL21vZGVzL2NmYjEnKSxcbiAgT0ZCOiByZXF1aXJlKCcuL21vZGVzL29mYicpLFxuICBDVFI6IHJlcXVpcmUoJy4vbW9kZXMvY3RyJyksXG4gIEdDTTogcmVxdWlyZSgnLi9tb2Rlcy9jdHInKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVEZWNpcGhlcml2IChzdWl0ZSwgcGFzc3dvcmQsIGl2KSB7XG4gIHZhciBjb25maWcgPSBtb2Rlc1tzdWl0ZS50b0xvd2VyQ2FzZSgpXVxuICBpZiAoIWNvbmZpZykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgc3VpdGUgdHlwZScpXG4gIH1cbiAgaWYgKHR5cGVvZiBpdiA9PT0gJ3N0cmluZycpIHtcbiAgICBpdiA9IG5ldyBCdWZmZXIoaXYpXG4gIH1cbiAgaWYgKHR5cGVvZiBwYXNzd29yZCA9PT0gJ3N0cmluZycpIHtcbiAgICBwYXNzd29yZCA9IG5ldyBCdWZmZXIocGFzc3dvcmQpXG4gIH1cbiAgaWYgKHBhc3N3b3JkLmxlbmd0aCAhPT0gY29uZmlnLmtleSAvIDgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIGtleSBsZW5ndGggJyArIHBhc3N3b3JkLmxlbmd0aClcbiAgfVxuICBpZiAoaXYubGVuZ3RoICE9PSBjb25maWcuaXYpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIGl2IGxlbmd0aCAnICsgaXYubGVuZ3RoKVxuICB9XG4gIGlmIChjb25maWcudHlwZSA9PT0gJ3N0cmVhbScpIHtcbiAgICByZXR1cm4gbmV3IFN0cmVhbUNpcGhlcihtb2RlbGlzdFtjb25maWcubW9kZV0sIHBhc3N3b3JkLCBpdiwgdHJ1ZSlcbiAgfSBlbHNlIGlmIChjb25maWcudHlwZSA9PT0gJ2F1dGgnKSB7XG4gICAgcmV0dXJuIG5ldyBBdXRoQ2lwaGVyKG1vZGVsaXN0W2NvbmZpZy5tb2RlXSwgcGFzc3dvcmQsIGl2LCB0cnVlKVxuICB9XG4gIHJldHVybiBuZXcgRGVjaXBoZXIobW9kZWxpc3RbY29uZmlnLm1vZGVdLCBwYXNzd29yZCwgaXYpXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURlY2lwaGVyIChzdWl0ZSwgcGFzc3dvcmQpIHtcbiAgdmFyIGNvbmZpZyA9IG1vZGVzW3N1aXRlLnRvTG93ZXJDYXNlKCldXG4gIGlmICghY29uZmlnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBzdWl0ZSB0eXBlJylcbiAgfVxuICB2YXIga2V5cyA9IGVidGsocGFzc3dvcmQsIGZhbHNlLCBjb25maWcua2V5LCBjb25maWcuaXYpXG4gIHJldHVybiBjcmVhdGVEZWNpcGhlcml2KHN1aXRlLCBrZXlzLmtleSwga2V5cy5pdilcbn1cbmV4cG9ydHMuY3JlYXRlRGVjaXBoZXIgPSBjcmVhdGVEZWNpcGhlclxuZXhwb3J0cy5jcmVhdGVEZWNpcGhlcml2ID0gY3JlYXRlRGVjaXBoZXJpdlxuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIpXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUwyNXZaR1ZmYlc5a2RXeGxjeTlqY25sd2RHOHRZbkp2ZDNObGNtbG1lUzl1YjJSbFgyMXZaSFZzWlhNdlluSnZkM05sY21sbWVTMXphV2R1TDI1dlpHVmZiVzlrZFd4bGN5OXdZWEp6WlMxaGMyNHhMMjV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUxXRmxjeTlrWldOeWVYQjBaWEl1YW5NaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWp0QlFVRkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFaUxDSm1hV3hsSWpvaVoyVnVaWEpoZEdWa0xtcHpJaXdpYzI5MWNtTmxVbTl2ZENJNklpSXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJblpoY2lCaFpYTWdQU0J5WlhGMWFYSmxLQ2N1TDJGbGN5Y3BYRzUyWVhJZ1ZISmhibk5tYjNKdElEMGdjbVZ4ZFdseVpTZ25ZMmx3YUdWeUxXSmhjMlVuS1Z4dWRtRnlJR2x1YUdWeWFYUnpJRDBnY21WeGRXbHlaU2duYVc1b1pYSnBkSE1uS1Z4dWRtRnlJRzF2WkdWeklEMGdjbVZ4ZFdseVpTZ25MaTl0YjJSbGN5Y3BYRzUyWVhJZ1UzUnlaV0Z0UTJsd2FHVnlJRDBnY21WeGRXbHlaU2duTGk5emRISmxZVzFEYVhCb1pYSW5LVnh1ZG1GeUlFRjFkR2hEYVhCb1pYSWdQU0J5WlhGMWFYSmxLQ2N1TDJGMWRHaERhWEJvWlhJbktWeHVkbUZ5SUdWaWRHc2dQU0J5WlhGMWFYSmxLQ2RsZG5CZllubDBaWE4wYjJ0bGVTY3BYRzVjYm1sdWFHVnlhWFJ6S0VSbFkybHdhR1Z5TENCVWNtRnVjMlp2Y20wcFhHNW1kVzVqZEdsdmJpQkVaV05wY0dobGNpQW9iVzlrWlN3Z2EyVjVMQ0JwZGlrZ2UxeHVJQ0JwWmlBb0lTaDBhR2x6SUdsdWMzUmhibU5sYjJZZ1JHVmphWEJvWlhJcEtTQjdYRzRnSUNBZ2NtVjBkWEp1SUc1bGR5QkVaV05wY0dobGNpaHRiMlJsTENCclpYa3NJR2wyS1Z4dUlDQjlYRzRnSUZSeVlXNXpabTl5YlM1allXeHNLSFJvYVhNcFhHNGdJSFJvYVhNdVgyTmhZMmhsSUQwZ2JtVjNJRk53YkdsMGRHVnlLQ2xjYmlBZ2RHaHBjeTVmYkdGemRDQTlJSFp2YVdRZ01GeHVJQ0IwYUdsekxsOWphWEJvWlhJZ1BTQnVaWGNnWVdWekxrRkZVeWhyWlhrcFhHNGdJSFJvYVhNdVgzQnlaWFlnUFNCdVpYY2dRblZtWm1WeUtHbDJMbXhsYm1kMGFDbGNiaUFnYVhZdVkyOXdlU2gwYUdsekxsOXdjbVYyS1Z4dUlDQjBhR2x6TGw5dGIyUmxJRDBnYlc5a1pWeHVJQ0IwYUdsekxsOWhkWFJ2Y0dGa1pHbHVaeUE5SUhSeWRXVmNibjFjYmtSbFkybHdhR1Z5TG5CeWIzUnZkSGx3WlM1ZmRYQmtZWFJsSUQwZ1puVnVZM1JwYjI0Z0tHUmhkR0VwSUh0Y2JpQWdkR2hwY3k1ZlkyRmphR1V1WVdSa0tHUmhkR0VwWEc0Z0lIWmhjaUJqYUhWdWExeHVJQ0IyWVhJZ2RHaHBibWRjYmlBZ2RtRnlJRzkxZENBOUlGdGRYRzRnSUhkb2FXeGxJQ2dvWTJoMWJtc2dQU0IwYUdsekxsOWpZV05vWlM1blpYUW9kR2hwY3k1ZllYVjBiM0JoWkdScGJtY3BLU2tnZTF4dUlDQWdJSFJvYVc1bklEMGdkR2hwY3k1ZmJXOWtaUzVrWldOeWVYQjBLSFJvYVhNc0lHTm9kVzVyS1Z4dUlDQWdJRzkxZEM1d2RYTm9LSFJvYVc1bktWeHVJQ0I5WEc0Z0lISmxkSFZ5YmlCQ2RXWm1aWEl1WTI5dVkyRjBLRzkxZENsY2JuMWNia1JsWTJsd2FHVnlMbkJ5YjNSdmRIbHdaUzVmWm1sdVlXd2dQU0JtZFc1amRHbHZiaUFvS1NCN1hHNGdJSFpoY2lCamFIVnVheUE5SUhSb2FYTXVYMk5oWTJobExtWnNkWE5vS0NsY2JpQWdhV1lnS0hSb2FYTXVYMkYxZEc5d1lXUmthVzVuS1NCN1hHNGdJQ0FnY21WMGRYSnVJSFZ1Y0dGa0tIUm9hWE11WDIxdlpHVXVaR1ZqY25sd2RDaDBhR2x6TENCamFIVnVheWtwWEc0Z0lIMGdaV3h6WlNCcFppQW9ZMmgxYm1zcElIdGNiaUFnSUNCMGFISnZkeUJ1WlhjZ1JYSnliM0lvSjJSaGRHRWdibTkwSUcxMWJIUnBjR3hsSUc5bUlHSnNiMk5ySUd4bGJtZDBhQ2NwWEc0Z0lIMWNibjFjYmtSbFkybHdhR1Z5TG5CeWIzUnZkSGx3WlM1elpYUkJkWFJ2VUdGa1pHbHVaeUE5SUdaMWJtTjBhVzl1SUNoelpYUlVieWtnZTF4dUlDQjBhR2x6TGw5aGRYUnZjR0ZrWkdsdVp5QTlJQ0VoYzJWMFZHOWNibjFjYm1aMWJtTjBhVzl1SUZOd2JHbDBkR1Z5SUNncElIdGNiaUFnYVdZZ0tDRW9kR2hwY3lCcGJuTjBZVzVqWlc5bUlGTndiR2wwZEdWeUtTa2dlMXh1SUNBZ0lISmxkSFZ5YmlCdVpYY2dVM0JzYVhSMFpYSW9LVnh1SUNCOVhHNGdJSFJvYVhNdVkyRmphR1VnUFNCdVpYY2dRblZtWm1WeUtDY25LVnh1ZlZ4dVUzQnNhWFIwWlhJdWNISnZkRzkwZVhCbExtRmtaQ0E5SUdaMWJtTjBhVzl1SUNoa1lYUmhLU0I3WEc0Z0lIUm9hWE11WTJGamFHVWdQU0JDZFdabVpYSXVZMjl1WTJGMEtGdDBhR2x6TG1OaFkyaGxMQ0JrWVhSaFhTbGNibjFjYmx4dVUzQnNhWFIwWlhJdWNISnZkRzkwZVhCbExtZGxkQ0E5SUdaMWJtTjBhVzl1SUNoaGRYUnZVR0ZrWkdsdVp5a2dlMXh1SUNCMllYSWdiM1YwWEc0Z0lHbG1JQ2hoZFhSdlVHRmtaR2x1WnlrZ2UxeHVJQ0FnSUdsbUlDaDBhR2x6TG1OaFkyaGxMbXhsYm1kMGFDQStJREUyS1NCN1hHNGdJQ0FnSUNCdmRYUWdQU0IwYUdsekxtTmhZMmhsTG5Oc2FXTmxLREFzSURFMktWeHVJQ0FnSUNBZ2RHaHBjeTVqWVdOb1pTQTlJSFJvYVhNdVkyRmphR1V1YzJ4cFkyVW9NVFlwWEc0Z0lDQWdJQ0J5WlhSMWNtNGdiM1YwWEc0Z0lDQWdmVnh1SUNCOUlHVnNjMlVnZTF4dUlDQWdJR2xtSUNoMGFHbHpMbU5oWTJobExteGxibWQwYUNBK1BTQXhOaWtnZTF4dUlDQWdJQ0FnYjNWMElEMGdkR2hwY3k1allXTm9aUzV6YkdsalpTZ3dMQ0F4TmlsY2JpQWdJQ0FnSUhSb2FYTXVZMkZqYUdVZ1BTQjBhR2x6TG1OaFkyaGxMbk5zYVdObEtERTJLVnh1SUNBZ0lDQWdjbVYwZFhKdUlHOTFkRnh1SUNBZ0lIMWNiaUFnZlZ4dUlDQnlaWFIxY200Z2JuVnNiRnh1ZlZ4dVUzQnNhWFIwWlhJdWNISnZkRzkwZVhCbExtWnNkWE5vSUQwZ1puVnVZM1JwYjI0Z0tDa2dlMXh1SUNCcFppQW9kR2hwY3k1allXTm9aUzVzWlc1bmRHZ3BJSHRjYmlBZ0lDQnlaWFIxY200Z2RHaHBjeTVqWVdOb1pWeHVJQ0I5WEc1OVhHNW1kVzVqZEdsdmJpQjFibkJoWkNBb2JHRnpkQ2tnZTF4dUlDQjJZWElnY0dGa1pHVmtJRDBnYkdGemRGc3hOVjFjYmlBZ2RtRnlJR2tnUFNBdE1WeHVJQ0IzYUdsc1pTQW9LeXRwSUR3Z2NHRmtaR1ZrS1NCN1hHNGdJQ0FnYVdZZ0tHeGhjM1JiS0drZ0t5QW9NVFlnTFNCd1lXUmtaV1FwS1YwZ0lUMDlJSEJoWkdSbFpDa2dlMXh1SUNBZ0lDQWdkR2h5YjNjZ2JtVjNJRVZ5Y205eUtDZDFibUZpYkdVZ2RHOGdaR1ZqY25sd2RDQmtZWFJoSnlsY2JpQWdJQ0I5WEc0Z0lIMWNiaUFnYVdZZ0tIQmhaR1JsWkNBOVBUMGdNVFlwSUh0Y2JpQWdJQ0J5WlhSMWNtNWNiaUFnZlZ4dUlDQnlaWFIxY200Z2JHRnpkQzV6YkdsalpTZ3dMQ0F4TmlBdElIQmhaR1JsWkNsY2JuMWNibHh1ZG1GeUlHMXZaR1ZzYVhOMElEMGdlMXh1SUNCRlEwSTZJSEpsY1hWcGNtVW9KeTR2Ylc5a1pYTXZaV05pSnlrc1hHNGdJRU5DUXpvZ2NtVnhkV2x5WlNnbkxpOXRiMlJsY3k5alltTW5LU3hjYmlBZ1EwWkNPaUJ5WlhGMWFYSmxLQ2N1TDIxdlpHVnpMMk5tWWljcExGeHVJQ0JEUmtJNE9pQnlaWEYxYVhKbEtDY3VMMjF2WkdWekwyTm1ZamduS1N4Y2JpQWdRMFpDTVRvZ2NtVnhkV2x5WlNnbkxpOXRiMlJsY3k5alptSXhKeWtzWEc0Z0lFOUdRam9nY21WeGRXbHlaU2duTGk5dGIyUmxjeTl2Wm1JbktTeGNiaUFnUTFSU09pQnlaWEYxYVhKbEtDY3VMMjF2WkdWekwyTjBjaWNwTEZ4dUlDQkhRMDA2SUhKbGNYVnBjbVVvSnk0dmJXOWtaWE12WTNSeUp5bGNibjFjYmx4dVpuVnVZM1JwYjI0Z1kzSmxZWFJsUkdWamFYQm9aWEpwZGlBb2MzVnBkR1VzSUhCaGMzTjNiM0prTENCcGRpa2dlMXh1SUNCMllYSWdZMjl1Wm1sbklEMGdiVzlrWlhOYmMzVnBkR1V1ZEc5TWIzZGxja05oYzJVb0tWMWNiaUFnYVdZZ0tDRmpiMjVtYVdjcElIdGNiaUFnSUNCMGFISnZkeUJ1WlhjZ1ZIbHdaVVZ5Y205eUtDZHBiblpoYkdsa0lITjFhWFJsSUhSNWNHVW5LVnh1SUNCOVhHNGdJR2xtSUNoMGVYQmxiMllnYVhZZ1BUMDlJQ2R6ZEhKcGJtY25LU0I3WEc0Z0lDQWdhWFlnUFNCdVpYY2dRblZtWm1WeUtHbDJLVnh1SUNCOVhHNGdJR2xtSUNoMGVYQmxiMllnY0dGemMzZHZjbVFnUFQwOUlDZHpkSEpwYm1jbktTQjdYRzRnSUNBZ2NHRnpjM2R2Y21RZ1BTQnVaWGNnUW5WbVptVnlLSEJoYzNOM2IzSmtLVnh1SUNCOVhHNGdJR2xtSUNod1lYTnpkMjl5WkM1c1pXNW5kR2dnSVQwOUlHTnZibVpwWnk1clpYa2dMeUE0S1NCN1hHNGdJQ0FnZEdoeWIzY2dibVYzSUZSNWNHVkZjbkp2Y2lnbmFXNTJZV3hwWkNCclpYa2diR1Z1WjNSb0lDY2dLeUJ3WVhOemQyOXlaQzVzWlc1bmRHZ3BYRzRnSUgxY2JpQWdhV1lnS0dsMkxteGxibWQwYUNBaFBUMGdZMjl1Wm1sbkxtbDJLU0I3WEc0Z0lDQWdkR2h5YjNjZ2JtVjNJRlI1Y0dWRmNuSnZjaWduYVc1MllXeHBaQ0JwZGlCc1pXNW5kR2dnSnlBcklHbDJMbXhsYm1kMGFDbGNiaUFnZlZ4dUlDQnBaaUFvWTI5dVptbG5MblI1Y0dVZ1BUMDlJQ2R6ZEhKbFlXMG5LU0I3WEc0Z0lDQWdjbVYwZFhKdUlHNWxkeUJUZEhKbFlXMURhWEJvWlhJb2JXOWtaV3hwYzNSYlkyOXVabWxuTG0xdlpHVmRMQ0J3WVhOemQyOXlaQ3dnYVhZc0lIUnlkV1VwWEc0Z0lIMGdaV3h6WlNCcFppQW9ZMjl1Wm1sbkxuUjVjR1VnUFQwOUlDZGhkWFJvSnlrZ2UxeHVJQ0FnSUhKbGRIVnliaUJ1WlhjZ1FYVjBhRU5wY0dobGNpaHRiMlJsYkdsemRGdGpiMjVtYVdjdWJXOWtaVjBzSUhCaGMzTjNiM0prTENCcGRpd2dkSEoxWlNsY2JpQWdmVnh1SUNCeVpYUjFjbTRnYm1WM0lFUmxZMmx3YUdWeUtHMXZaR1ZzYVhOMFcyTnZibVpwWnk1dGIyUmxYU3dnY0dGemMzZHZjbVFzSUdsMktWeHVmVnh1WEc1bWRXNWpkR2x2YmlCamNtVmhkR1ZFWldOcGNHaGxjaUFvYzNWcGRHVXNJSEJoYzNOM2IzSmtLU0I3WEc0Z0lIWmhjaUJqYjI1bWFXY2dQU0J0YjJSbGMxdHpkV2wwWlM1MGIweHZkMlZ5UTJGelpTZ3BYVnh1SUNCcFppQW9JV052Ym1acFp5a2dlMXh1SUNBZ0lIUm9jbTkzSUc1bGR5QlVlWEJsUlhKeWIzSW9KMmx1ZG1Gc2FXUWdjM1ZwZEdVZ2RIbHdaU2NwWEc0Z0lIMWNiaUFnZG1GeUlHdGxlWE1nUFNCbFluUnJLSEJoYzNOM2IzSmtMQ0JtWVd4elpTd2dZMjl1Wm1sbkxtdGxlU3dnWTI5dVptbG5MbWwyS1Z4dUlDQnlaWFIxY200Z1kzSmxZWFJsUkdWamFYQm9aWEpwZGloemRXbDBaU3dnYTJWNWN5NXJaWGtzSUd0bGVYTXVhWFlwWEc1OVhHNWxlSEJ2Y25SekxtTnlaV0YwWlVSbFkybHdhR1Z5SUQwZ1kzSmxZWFJsUkdWamFYQm9aWEpjYm1WNGNHOXlkSE11WTNKbFlYUmxSR1ZqYVhCb1pYSnBkaUE5SUdOeVpXRjBaVVJsWTJsd2FHVnlhWFpjYmlKZGZRPT0iLCIoZnVuY3Rpb24gKEJ1ZmZlcil7XG52YXIgbWQ1ID0gcmVxdWlyZSgnY3JlYXRlLWhhc2gvbWQ1Jylcbm1vZHVsZS5leHBvcnRzID0gRVZQX0J5dGVzVG9LZXlcbmZ1bmN0aW9uIEVWUF9CeXRlc1RvS2V5IChwYXNzd29yZCwgc2FsdCwga2V5TGVuLCBpdkxlbikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihwYXNzd29yZCkpIHtcbiAgICBwYXNzd29yZCA9IG5ldyBCdWZmZXIocGFzc3dvcmQsICdiaW5hcnknKVxuICB9XG4gIGlmIChzYWx0ICYmICFCdWZmZXIuaXNCdWZmZXIoc2FsdCkpIHtcbiAgICBzYWx0ID0gbmV3IEJ1ZmZlcihzYWx0LCAnYmluYXJ5JylcbiAgfVxuICBrZXlMZW4gPSBrZXlMZW4gLyA4XG4gIGl2TGVuID0gaXZMZW4gfHwgMFxuICB2YXIga2kgPSAwXG4gIHZhciBpaSA9IDBcbiAgdmFyIGtleSA9IG5ldyBCdWZmZXIoa2V5TGVuKVxuICB2YXIgaXYgPSBuZXcgQnVmZmVyKGl2TGVuKVxuICB2YXIgYWRkbWQgPSAwXG4gIHZhciBtZF9idWZcbiAgdmFyIGlcbiAgdmFyIGJ1ZnMgPSBbXVxuICB3aGlsZSAodHJ1ZSkge1xuICAgIGlmIChhZGRtZCsrID4gMCkge1xuICAgICAgYnVmcy5wdXNoKG1kX2J1ZilcbiAgICB9XG4gICAgYnVmcy5wdXNoKHBhc3N3b3JkKVxuICAgIGlmIChzYWx0KSB7XG4gICAgICBidWZzLnB1c2goc2FsdClcbiAgICB9XG4gICAgbWRfYnVmID0gbWQ1KEJ1ZmZlci5jb25jYXQoYnVmcykpXG4gICAgYnVmcyA9IFtdXG4gICAgaSA9IDBcbiAgICBpZiAoa2V5TGVuID4gMCkge1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgaWYgKGtleUxlbiA9PT0gMCkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPT09IG1kX2J1Zi5sZW5ndGgpIHtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGtleVtraSsrXSA9IG1kX2J1ZltpXVxuICAgICAgICBrZXlMZW4tLVxuICAgICAgICBpKytcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGl2TGVuID4gMCAmJiBpICE9PSBtZF9idWYubGVuZ3RoKSB7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBpZiAoaXZMZW4gPT09IDApIHtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGlmIChpID09PSBtZF9idWYubGVuZ3RoKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBpdltpaSsrXSA9IG1kX2J1ZltpXVxuICAgICAgICBpdkxlbi0tXG4gICAgICAgIGkrK1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoa2V5TGVuID09PSAwICYmIGl2TGVuID09PSAwKSB7XG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuICBmb3IgKGkgPSAwOyBpIDwgbWRfYnVmLmxlbmd0aDsgaSsrKSB7XG4gICAgbWRfYnVmW2ldID0gMFxuICB9XG4gIHJldHVybiB7XG4gICAga2V5OiBrZXksXG4gICAgaXY6IGl2XG4gIH1cbn1cblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZZbkp2ZDNObGNtbG1lUzF6YVdkdUwyNXZaR1ZmYlc5a2RXeGxjeTl3WVhKelpTMWhjMjR4TDI1dlpHVmZiVzlrZFd4bGN5OWxkbkJmWW5sMFpYTjBiMnRsZVM5cGJtUmxlQzVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pTzBGQlFVRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQklpd2labWxzWlNJNkltZGxibVZ5WVhSbFpDNXFjeUlzSW5OdmRYSmpaVkp2YjNRaU9pSWlMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXeUoyWVhJZ2JXUTFJRDBnY21WeGRXbHlaU2duWTNKbFlYUmxMV2hoYzJndmJXUTFKeWxjYm0xdlpIVnNaUzVsZUhCdmNuUnpJRDBnUlZaUVgwSjVkR1Z6Vkc5TFpYbGNibVoxYm1OMGFXOXVJRVZXVUY5Q2VYUmxjMVJ2UzJWNUlDaHdZWE56ZDI5eVpDd2djMkZzZEN3Z2EyVjVUR1Z1TENCcGRreGxiaWtnZTF4dUlDQnBaaUFvSVVKMVptWmxjaTVwYzBKMVptWmxjaWh3WVhOemQyOXlaQ2twSUh0Y2JpQWdJQ0J3WVhOemQyOXlaQ0E5SUc1bGR5QkNkV1ptWlhJb2NHRnpjM2R2Y21Rc0lDZGlhVzVoY25rbktWeHVJQ0I5WEc0Z0lHbG1JQ2h6WVd4MElDWW1JQ0ZDZFdabVpYSXVhWE5DZFdabVpYSW9jMkZzZENrcElIdGNiaUFnSUNCellXeDBJRDBnYm1WM0lFSjFabVpsY2loellXeDBMQ0FuWW1sdVlYSjVKeWxjYmlBZ2ZWeHVJQ0JyWlhsTVpXNGdQU0JyWlhsTVpXNGdMeUE0WEc0Z0lHbDJUR1Z1SUQwZ2FYWk1aVzRnZkh3Z01GeHVJQ0IyWVhJZ2Eya2dQU0F3WEc0Z0lIWmhjaUJwYVNBOUlEQmNiaUFnZG1GeUlHdGxlU0E5SUc1bGR5QkNkV1ptWlhJb2EyVjVUR1Z1S1Z4dUlDQjJZWElnYVhZZ1BTQnVaWGNnUW5WbVptVnlLR2wyVEdWdUtWeHVJQ0IyWVhJZ1lXUmtiV1FnUFNBd1hHNGdJSFpoY2lCdFpGOWlkV1pjYmlBZ2RtRnlJR2xjYmlBZ2RtRnlJR0oxWm5NZ1BTQmJYVnh1SUNCM2FHbHNaU0FvZEhKMVpTa2dlMXh1SUNBZ0lHbG1JQ2hoWkdSdFpDc3JJRDRnTUNrZ2UxeHVJQ0FnSUNBZ1luVm1jeTV3ZFhOb0tHMWtYMkoxWmlsY2JpQWdJQ0I5WEc0Z0lDQWdZblZtY3k1d2RYTm9LSEJoYzNOM2IzSmtLVnh1SUNBZ0lHbG1JQ2h6WVd4MEtTQjdYRzRnSUNBZ0lDQmlkV1p6TG5CMWMyZ29jMkZzZENsY2JpQWdJQ0I5WEc0Z0lDQWdiV1JmWW5WbUlEMGdiV1ExS0VKMVptWmxjaTVqYjI1allYUW9ZblZtY3lrcFhHNGdJQ0FnWW5WbWN5QTlJRnRkWEc0Z0lDQWdhU0E5SURCY2JpQWdJQ0JwWmlBb2EyVjVUR1Z1SUQ0Z01Da2dlMXh1SUNBZ0lDQWdkMmhwYkdVZ0tIUnlkV1VwSUh0Y2JpQWdJQ0FnSUNBZ2FXWWdLR3RsZVV4bGJpQTlQVDBnTUNrZ2UxeHVJQ0FnSUNBZ0lDQWdJR0p5WldGclhHNGdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdhV1lnS0drZ1BUMDlJRzFrWDJKMVppNXNaVzVuZEdncElIdGNiaUFnSUNBZ0lDQWdJQ0JpY21WaGExeHVJQ0FnSUNBZ0lDQjlYRzRnSUNBZ0lDQWdJR3RsZVZ0cmFTc3JYU0E5SUcxa1gySjFabHRwWFZ4dUlDQWdJQ0FnSUNCclpYbE1aVzR0TFZ4dUlDQWdJQ0FnSUNCcEt5dGNiaUFnSUNBZ0lIMWNiaUFnSUNCOVhHNGdJQ0FnYVdZZ0tHbDJUR1Z1SUQ0Z01DQW1KaUJwSUNFOVBTQnRaRjlpZFdZdWJHVnVaM1JvS1NCN1hHNGdJQ0FnSUNCM2FHbHNaU0FvZEhKMVpTa2dlMXh1SUNBZ0lDQWdJQ0JwWmlBb2FYWk1aVzRnUFQwOUlEQXBJSHRjYmlBZ0lDQWdJQ0FnSUNCaWNtVmhhMXh1SUNBZ0lDQWdJQ0I5WEc0Z0lDQWdJQ0FnSUdsbUlDaHBJRDA5UFNCdFpGOWlkV1l1YkdWdVozUm9LU0I3WEc0Z0lDQWdJQ0FnSUNBZ1luSmxZV3RjYmlBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnSUNCcGRsdHBhU3NyWFNBOUlHMWtYMkoxWmx0cFhWeHVJQ0FnSUNBZ0lDQnBka3hsYmkwdFhHNGdJQ0FnSUNBZ0lHa3JLMXh1SUNBZ0lDQWdmVnh1SUNBZ0lIMWNiaUFnSUNCcFppQW9hMlY1VEdWdUlEMDlQU0F3SUNZbUlHbDJUR1Z1SUQwOVBTQXdLU0I3WEc0Z0lDQWdJQ0JpY21WaGExeHVJQ0FnSUgxY2JpQWdmVnh1SUNCbWIzSWdLR2tnUFNBd095QnBJRHdnYldSZlluVm1MbXhsYm1kMGFEc2dhU3NyS1NCN1hHNGdJQ0FnYldSZlluVm1XMmxkSUQwZ01GeHVJQ0I5WEc0Z0lISmxkSFZ5YmlCN1hHNGdJQ0FnYTJWNU9pQnJaWGtzWEc0Z0lDQWdhWFk2SUdsMlhHNGdJSDFjYm4xY2JpSmRmUT09IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xudmFyIGFlcyA9IHJlcXVpcmUoJy4vYWVzJylcbnZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCdjaXBoZXItYmFzZScpXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG5cbmluaGVyaXRzKFN0cmVhbUNpcGhlciwgVHJhbnNmb3JtKVxubW9kdWxlLmV4cG9ydHMgPSBTdHJlYW1DaXBoZXJcbmZ1bmN0aW9uIFN0cmVhbUNpcGhlciAobW9kZSwga2V5LCBpdiwgZGVjcnlwdCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU3RyZWFtQ2lwaGVyKSkge1xuICAgIHJldHVybiBuZXcgU3RyZWFtQ2lwaGVyKG1vZGUsIGtleSwgaXYpXG4gIH1cbiAgVHJhbnNmb3JtLmNhbGwodGhpcylcbiAgdGhpcy5fY2lwaGVyID0gbmV3IGFlcy5BRVMoa2V5KVxuICB0aGlzLl9wcmV2ID0gbmV3IEJ1ZmZlcihpdi5sZW5ndGgpXG4gIHRoaXMuX2NhY2hlID0gbmV3IEJ1ZmZlcignJylcbiAgdGhpcy5fc2VjQ2FjaGUgPSBuZXcgQnVmZmVyKCcnKVxuICB0aGlzLl9kZWNyeXB0ID0gZGVjcnlwdFxuICBpdi5jb3B5KHRoaXMuX3ByZXYpXG4gIHRoaXMuX21vZGUgPSBtb2RlXG59XG5TdHJlYW1DaXBoZXIucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoY2h1bmspIHtcbiAgcmV0dXJuIHRoaXMuX21vZGUuZW5jcnlwdCh0aGlzLCBjaHVuaywgdGhpcy5fZGVjcnlwdClcbn1cblN0cmVhbUNpcGhlci5wcm90b3R5cGUuX2ZpbmFsID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9jaXBoZXIuc2NydWIoKVxufVxuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIpXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUwyNXZaR1ZmYlc5a2RXeGxjeTlqY25sd2RHOHRZbkp2ZDNObGNtbG1lUzl1YjJSbFgyMXZaSFZzWlhNdlluSnZkM05sY21sbWVTMXphV2R1TDI1dlpHVmZiVzlrZFd4bGN5OXdZWEp6WlMxaGMyNHhMMjV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUxXRmxjeTl6ZEhKbFlXMURhWEJvWlhJdWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqdEJRVUZCTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEVpTENKbWFXeGxJam9pWjJWdVpYSmhkR1ZrTG1weklpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYkluWmhjaUJoWlhNZ1BTQnlaWEYxYVhKbEtDY3VMMkZsY3ljcFhHNTJZWElnVkhKaGJuTm1iM0p0SUQwZ2NtVnhkV2x5WlNnblkybHdhR1Z5TFdKaGMyVW5LVnh1ZG1GeUlHbHVhR1Z5YVhSeklEMGdjbVZ4ZFdseVpTZ25hVzVvWlhKcGRITW5LVnh1WEc1cGJtaGxjbWwwY3loVGRISmxZVzFEYVhCb1pYSXNJRlJ5WVc1elptOXliU2xjYm0xdlpIVnNaUzVsZUhCdmNuUnpJRDBnVTNSeVpXRnRRMmx3YUdWeVhHNW1kVzVqZEdsdmJpQlRkSEpsWVcxRGFYQm9aWElnS0cxdlpHVXNJR3RsZVN3Z2FYWXNJR1JsWTNKNWNIUXBJSHRjYmlBZ2FXWWdLQ0VvZEdocGN5QnBibk4wWVc1alpXOW1JRk4wY21WaGJVTnBjR2hsY2lrcElIdGNiaUFnSUNCeVpYUjFjbTRnYm1WM0lGTjBjbVZoYlVOcGNHaGxjaWh0YjJSbExDQnJaWGtzSUdsMktWeHVJQ0I5WEc0Z0lGUnlZVzV6Wm05eWJTNWpZV3hzS0hSb2FYTXBYRzRnSUhSb2FYTXVYMk5wY0dobGNpQTlJRzVsZHlCaFpYTXVRVVZUS0d0bGVTbGNiaUFnZEdocGN5NWZjSEpsZGlBOUlHNWxkeUJDZFdabVpYSW9hWFl1YkdWdVozUm9LVnh1SUNCMGFHbHpMbDlqWVdOb1pTQTlJRzVsZHlCQ2RXWm1aWElvSnljcFhHNGdJSFJvYVhNdVgzTmxZME5oWTJobElEMGdibVYzSUVKMVptWmxjaWduSnlsY2JpQWdkR2hwY3k1ZlpHVmpjbmx3ZENBOUlHUmxZM0o1Y0hSY2JpQWdhWFl1WTI5d2VTaDBhR2x6TGw5d2NtVjJLVnh1SUNCMGFHbHpMbDl0YjJSbElEMGdiVzlrWlZ4dWZWeHVVM1J5WldGdFEybHdhR1Z5TG5CeWIzUnZkSGx3WlM1ZmRYQmtZWFJsSUQwZ1puVnVZM1JwYjI0Z0tHTm9kVzVyS1NCN1hHNGdJSEpsZEhWeWJpQjBhR2x6TGw5dGIyUmxMbVZ1WTNKNWNIUW9kR2hwY3l3Z1kyaDFibXNzSUhSb2FYTXVYMlJsWTNKNWNIUXBYRzU5WEc1VGRISmxZVzFEYVhCb1pYSXVjSEp2ZEc5MGVYQmxMbDltYVc1aGJDQTlJR1oxYm1OMGFXOXVJQ2dwSUh0Y2JpQWdkR2hwY3k1ZlkybHdhR1Z5TG5OamNuVmlLQ2xjYm4xY2JpSmRmUT09IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xudmFyIHhvciA9IHJlcXVpcmUoJ2J1ZmZlci14b3InKVxuXG5mdW5jdGlvbiBnZXRCbG9jayAoc2VsZikge1xuICBzZWxmLl9wcmV2ID0gc2VsZi5fY2lwaGVyLmVuY3J5cHRCbG9jayhzZWxmLl9wcmV2KVxuICByZXR1cm4gc2VsZi5fcHJldlxufVxuXG5leHBvcnRzLmVuY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgY2h1bmspIHtcbiAgd2hpbGUgKHNlbGYuX2NhY2hlLmxlbmd0aCA8IGNodW5rLmxlbmd0aCkge1xuICAgIHNlbGYuX2NhY2hlID0gQnVmZmVyLmNvbmNhdChbc2VsZi5fY2FjaGUsIGdldEJsb2NrKHNlbGYpXSlcbiAgfVxuXG4gIHZhciBwYWQgPSBzZWxmLl9jYWNoZS5zbGljZSgwLCBjaHVuay5sZW5ndGgpXG4gIHNlbGYuX2NhY2hlID0gc2VsZi5fY2FjaGUuc2xpY2UoY2h1bmsubGVuZ3RoKVxuICByZXR1cm4geG9yKGNodW5rLCBwYWQpXG59XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12WW5KdmQzTmxjbWxtZVMxemFXZHVMMjV2WkdWZmJXOWtkV3hsY3k5d1lYSnpaUzFoYzI0eEwyNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TFdGbGN5OXRiMlJsY3k5dlptSXVhbk1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJanRCUVVGQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFaUxDSm1hV3hsSWpvaVoyVnVaWEpoZEdWa0xtcHpJaXdpYzI5MWNtTmxVbTl2ZENJNklpSXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJblpoY2lCNGIzSWdQU0J5WlhGMWFYSmxLQ2RpZFdabVpYSXRlRzl5SnlsY2JseHVablZ1WTNScGIyNGdaMlYwUW14dlkyc2dLSE5sYkdZcElIdGNiaUFnYzJWc1ppNWZjSEpsZGlBOUlITmxiR1l1WDJOcGNHaGxjaTVsYm1OeWVYQjBRbXh2WTJzb2MyVnNaaTVmY0hKbGRpbGNiaUFnY21WMGRYSnVJSE5sYkdZdVgzQnlaWFpjYm4xY2JseHVaWGh3YjNKMGN5NWxibU55ZVhCMElEMGdablZ1WTNScGIyNGdLSE5sYkdZc0lHTm9kVzVyS1NCN1hHNGdJSGRvYVd4bElDaHpaV3htTGw5allXTm9aUzVzWlc1bmRHZ2dQQ0JqYUhWdWF5NXNaVzVuZEdncElIdGNiaUFnSUNCelpXeG1MbDlqWVdOb1pTQTlJRUoxWm1abGNpNWpiMjVqWVhRb1czTmxiR1l1WDJOaFkyaGxMQ0JuWlhSQ2JHOWpheWh6Wld4bUtWMHBYRzRnSUgxY2JseHVJQ0IyWVhJZ2NHRmtJRDBnYzJWc1ppNWZZMkZqYUdVdWMyeHBZMlVvTUN3Z1kyaDFibXN1YkdWdVozUm9LVnh1SUNCelpXeG1MbDlqWVdOb1pTQTlJSE5sYkdZdVgyTmhZMmhsTG5Oc2FXTmxLR05vZFc1ckxteGxibWQwYUNsY2JpQWdjbVYwZFhKdUlIaHZjaWhqYUhWdWF5d2djR0ZrS1Z4dWZWeHVJbDE5IiwiYXJndW1lbnRzWzRdW1wiL2hvbWUvdWJ1bnR1L3N0YWdpbmcvYXBwcy9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktY2lwaGVyL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWFlcy9tb2Rlcy9lY2IuanNcIl1bMF0uYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpIiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xudmFyIHhvciA9IHJlcXVpcmUoJ2J1ZmZlci14b3InKVxuXG5mdW5jdGlvbiBpbmNyMzIgKGl2KSB7XG4gIHZhciBsZW4gPSBpdi5sZW5ndGhcbiAgdmFyIGl0ZW1cbiAgd2hpbGUgKGxlbi0tKSB7XG4gICAgaXRlbSA9IGl2LnJlYWRVSW50OChsZW4pXG4gICAgaWYgKGl0ZW0gPT09IDI1NSkge1xuICAgICAgaXYud3JpdGVVSW50OCgwLCBsZW4pXG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZW0rK1xuICAgICAgaXYud3JpdGVVSW50OChpdGVtLCBsZW4pXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRCbG9jayAoc2VsZikge1xuICB2YXIgb3V0ID0gc2VsZi5fY2lwaGVyLmVuY3J5cHRCbG9jayhzZWxmLl9wcmV2KVxuICBpbmNyMzIoc2VsZi5fcHJldilcbiAgcmV0dXJuIG91dFxufVxuXG5leHBvcnRzLmVuY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgY2h1bmspIHtcbiAgd2hpbGUgKHNlbGYuX2NhY2hlLmxlbmd0aCA8IGNodW5rLmxlbmd0aCkge1xuICAgIHNlbGYuX2NhY2hlID0gQnVmZmVyLmNvbmNhdChbc2VsZi5fY2FjaGUsIGdldEJsb2NrKHNlbGYpXSlcbiAgfVxuICB2YXIgcGFkID0gc2VsZi5fY2FjaGUuc2xpY2UoMCwgY2h1bmsubGVuZ3RoKVxuICBzZWxmLl9jYWNoZSA9IHNlbGYuX2NhY2hlLnNsaWNlKGNodW5rLmxlbmd0aClcbiAgcmV0dXJuIHhvcihjaHVuaywgcGFkKVxufVxuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIpXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUwyNXZaR1ZmYlc5a2RXeGxjeTlqY25sd2RHOHRZbkp2ZDNObGNtbG1lUzl1YjJSbFgyMXZaSFZzWlhNdlluSnZkM05sY21sbWVTMXphV2R1TDI1dlpHVmZiVzlrZFd4bGN5OXdZWEp6WlMxaGMyNHhMMjV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUxXRmxjeTl0YjJSbGN5OWpkSEl1YW5NaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWp0QlFVRkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEVpTENKbWFXeGxJam9pWjJWdVpYSmhkR1ZrTG1weklpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYkluWmhjaUI0YjNJZ1BTQnlaWEYxYVhKbEtDZGlkV1ptWlhJdGVHOXlKeWxjYmx4dVpuVnVZM1JwYjI0Z2FXNWpjak15SUNocGRpa2dlMXh1SUNCMllYSWdiR1Z1SUQwZ2FYWXViR1Z1WjNSb1hHNGdJSFpoY2lCcGRHVnRYRzRnSUhkb2FXeGxJQ2hzWlc0dExTa2dlMXh1SUNBZ0lHbDBaVzBnUFNCcGRpNXlaV0ZrVlVsdWREZ29iR1Z1S1Z4dUlDQWdJR2xtSUNocGRHVnRJRDA5UFNBeU5UVXBJSHRjYmlBZ0lDQWdJR2wyTG5keWFYUmxWVWx1ZERnb01Dd2diR1Z1S1Z4dUlDQWdJSDBnWld4elpTQjdYRzRnSUNBZ0lDQnBkR1Z0S3l0Y2JpQWdJQ0FnSUdsMkxuZHlhWFJsVlVsdWREZ29hWFJsYlN3Z2JHVnVLVnh1SUNBZ0lDQWdZbkpsWVd0Y2JpQWdJQ0I5WEc0Z0lIMWNibjFjYmx4dVpuVnVZM1JwYjI0Z1oyVjBRbXh2WTJzZ0tITmxiR1lwSUh0Y2JpQWdkbUZ5SUc5MWRDQTlJSE5sYkdZdVgyTnBjR2hsY2k1bGJtTnllWEIwUW14dlkyc29jMlZzWmk1ZmNISmxkaWxjYmlBZ2FXNWpjak15S0hObGJHWXVYM0J5WlhZcFhHNGdJSEpsZEhWeWJpQnZkWFJjYm4xY2JseHVaWGh3YjNKMGN5NWxibU55ZVhCMElEMGdablZ1WTNScGIyNGdLSE5sYkdZc0lHTm9kVzVyS1NCN1hHNGdJSGRvYVd4bElDaHpaV3htTGw5allXTm9aUzVzWlc1bmRHZ2dQQ0JqYUhWdWF5NXNaVzVuZEdncElIdGNiaUFnSUNCelpXeG1MbDlqWVdOb1pTQTlJRUoxWm1abGNpNWpiMjVqWVhRb1czTmxiR1l1WDJOaFkyaGxMQ0JuWlhSQ2JHOWpheWh6Wld4bUtWMHBYRzRnSUgxY2JpQWdkbUZ5SUhCaFpDQTlJSE5sYkdZdVgyTmhZMmhsTG5Oc2FXTmxLREFzSUdOb2RXNXJMbXhsYm1kMGFDbGNiaUFnYzJWc1ppNWZZMkZqYUdVZ1BTQnpaV3htTGw5allXTm9aUzV6YkdsalpTaGphSFZ1YXk1c1pXNW5kR2dwWEc0Z0lISmxkSFZ5YmlCNGIzSW9ZMmgxYm1zc0lIQmhaQ2xjYm4xY2JpSmRmUT09IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xuZnVuY3Rpb24gZW5jcnlwdEJ5dGUgKHNlbGYsIGJ5dGVQYXJhbSwgZGVjcnlwdCkge1xuICB2YXIgcGFkID0gc2VsZi5fY2lwaGVyLmVuY3J5cHRCbG9jayhzZWxmLl9wcmV2KVxuICB2YXIgb3V0ID0gcGFkWzBdIF4gYnl0ZVBhcmFtXG4gIHNlbGYuX3ByZXYgPSBCdWZmZXIuY29uY2F0KFtzZWxmLl9wcmV2LnNsaWNlKDEpLCBuZXcgQnVmZmVyKFtkZWNyeXB0ID8gYnl0ZVBhcmFtIDogb3V0XSldKVxuICByZXR1cm4gb3V0XG59XG5leHBvcnRzLmVuY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgY2h1bmssIGRlY3J5cHQpIHtcbiAgdmFyIGxlbiA9IGNodW5rLmxlbmd0aFxuICB2YXIgb3V0ID0gbmV3IEJ1ZmZlcihsZW4pXG4gIHZhciBpID0gLTFcbiAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgIG91dFtpXSA9IGVuY3J5cHRCeXRlKHNlbGYsIGNodW5rW2ldLCBkZWNyeXB0KVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZZbkp2ZDNObGNtbG1lUzF6YVdkdUwyNXZaR1ZmYlc5a2RXeGxjeTl3WVhKelpTMWhjMjR4TDI1dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMV0ZsY3k5dGIyUmxjeTlqWm1JNExtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdRVUZCUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFTSXNJbVpwYkdVaU9pSm5aVzVsY21GMFpXUXVhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpWm5WdVkzUnBiMjRnWlc1amNubHdkRUo1ZEdVZ0tITmxiR1lzSUdKNWRHVlFZWEpoYlN3Z1pHVmpjbmx3ZENrZ2UxeHVJQ0IyWVhJZ2NHRmtJRDBnYzJWc1ppNWZZMmx3YUdWeUxtVnVZM0o1Y0hSQ2JHOWpheWh6Wld4bUxsOXdjbVYyS1Z4dUlDQjJZWElnYjNWMElEMGdjR0ZrV3pCZElGNGdZbmwwWlZCaGNtRnRYRzRnSUhObGJHWXVYM0J5WlhZZ1BTQkNkV1ptWlhJdVkyOXVZMkYwS0Z0elpXeG1MbDl3Y21WMkxuTnNhV05sS0RFcExDQnVaWGNnUW5WbVptVnlLRnRrWldOeWVYQjBJRDhnWW5sMFpWQmhjbUZ0SURvZ2IzVjBYU2xkS1Z4dUlDQnlaWFIxY200Z2IzVjBYRzU5WEc1bGVIQnZjblJ6TG1WdVkzSjVjSFFnUFNCbWRXNWpkR2x2YmlBb2MyVnNaaXdnWTJoMWJtc3NJR1JsWTNKNWNIUXBJSHRjYmlBZ2RtRnlJR3hsYmlBOUlHTm9kVzVyTG14bGJtZDBhRnh1SUNCMllYSWdiM1YwSUQwZ2JtVjNJRUoxWm1abGNpaHNaVzRwWEc0Z0lIWmhjaUJwSUQwZ0xURmNiaUFnZDJocGJHVWdLQ3NyYVNBOElHeGxiaWtnZTF4dUlDQWdJRzkxZEZ0cFhTQTlJR1Z1WTNKNWNIUkNlWFJsS0hObGJHWXNJR05vZFc1clcybGRMQ0JrWldOeWVYQjBLVnh1SUNCOVhHNGdJSEpsZEhWeWJpQnZkWFJjYm4xY2JpSmRmUT09IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xuZnVuY3Rpb24gZW5jcnlwdEJ5dGUgKHNlbGYsIGJ5dGVQYXJhbSwgZGVjcnlwdCkge1xuICB2YXIgcGFkXG4gIHZhciBpID0gLTFcbiAgdmFyIGxlbiA9IDhcbiAgdmFyIG91dCA9IDBcbiAgdmFyIGJpdCwgdmFsdWVcbiAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgIHBhZCA9IHNlbGYuX2NpcGhlci5lbmNyeXB0QmxvY2soc2VsZi5fcHJldilcbiAgICBiaXQgPSAoYnl0ZVBhcmFtICYgKDEgPDwgKDcgLSBpKSkpID8gMHg4MCA6IDBcbiAgICB2YWx1ZSA9IHBhZFswXSBeIGJpdFxuICAgIG91dCArPSAoKHZhbHVlICYgMHg4MCkgPj4gKGkgJSA4KSlcbiAgICBzZWxmLl9wcmV2ID0gc2hpZnRJbihzZWxmLl9wcmV2LCBkZWNyeXB0ID8gYml0IDogdmFsdWUpXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuZXhwb3J0cy5lbmNyeXB0ID0gZnVuY3Rpb24gKHNlbGYsIGNodW5rLCBkZWNyeXB0KSB7XG4gIHZhciBsZW4gPSBjaHVuay5sZW5ndGhcbiAgdmFyIG91dCA9IG5ldyBCdWZmZXIobGVuKVxuICB2YXIgaSA9IC0xXG4gIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICBvdXRbaV0gPSBlbmNyeXB0Qnl0ZShzZWxmLCBjaHVua1tpXSwgZGVjcnlwdClcbiAgfVxuICByZXR1cm4gb3V0XG59XG5mdW5jdGlvbiBzaGlmdEluIChidWZmZXIsIHZhbHVlKSB7XG4gIHZhciBsZW4gPSBidWZmZXIubGVuZ3RoXG4gIHZhciBpID0gLTFcbiAgdmFyIG91dCA9IG5ldyBCdWZmZXIoYnVmZmVyLmxlbmd0aClcbiAgYnVmZmVyID0gQnVmZmVyLmNvbmNhdChbYnVmZmVyLCBuZXcgQnVmZmVyKFt2YWx1ZV0pXSlcbiAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgIG91dFtpXSA9IGJ1ZmZlcltpXSA8PCAxIHwgYnVmZmVyW2kgKyAxXSA+PiAoNylcbiAgfVxuICByZXR1cm4gb3V0XG59XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12WW5KdmQzTmxjbWxtZVMxemFXZHVMMjV2WkdWZmJXOWtkV3hsY3k5d1lYSnpaUzFoYzI0eEwyNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TFdGbGN5OXRiMlJsY3k5alptSXhMbXB6SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUk3UVVGQlFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQklpd2labWxzWlNJNkltZGxibVZ5WVhSbFpDNXFjeUlzSW5OdmRYSmpaVkp2YjNRaU9pSWlMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXeUptZFc1amRHbHZiaUJsYm1OeWVYQjBRbmwwWlNBb2MyVnNaaXdnWW5sMFpWQmhjbUZ0TENCa1pXTnllWEIwS1NCN1hHNGdJSFpoY2lCd1lXUmNiaUFnZG1GeUlHa2dQU0F0TVZ4dUlDQjJZWElnYkdWdUlEMGdPRnh1SUNCMllYSWdiM1YwSUQwZ01GeHVJQ0IyWVhJZ1ltbDBMQ0IyWVd4MVpWeHVJQ0IzYUdsc1pTQW9LeXRwSUR3Z2JHVnVLU0I3WEc0Z0lDQWdjR0ZrSUQwZ2MyVnNaaTVmWTJsd2FHVnlMbVZ1WTNKNWNIUkNiRzlqYXloelpXeG1MbDl3Y21WMktWeHVJQ0FnSUdKcGRDQTlJQ2hpZVhSbFVHRnlZVzBnSmlBb01TQThQQ0FvTnlBdElHa3BLU2tnUHlBd2VEZ3dJRG9nTUZ4dUlDQWdJSFpoYkhWbElEMGdjR0ZrV3pCZElGNGdZbWwwWEc0Z0lDQWdiM1YwSUNzOUlDZ29kbUZzZFdVZ0ppQXdlRGd3S1NBK1BpQW9hU0FsSURncEtWeHVJQ0FnSUhObGJHWXVYM0J5WlhZZ1BTQnphR2xtZEVsdUtITmxiR1l1WDNCeVpYWXNJR1JsWTNKNWNIUWdQeUJpYVhRZ09pQjJZV3gxWlNsY2JpQWdmVnh1SUNCeVpYUjFjbTRnYjNWMFhHNTlYRzVsZUhCdmNuUnpMbVZ1WTNKNWNIUWdQU0JtZFc1amRHbHZiaUFvYzJWc1ppd2dZMmgxYm1zc0lHUmxZM0o1Y0hRcElIdGNiaUFnZG1GeUlHeGxiaUE5SUdOb2RXNXJMbXhsYm1kMGFGeHVJQ0IyWVhJZ2IzVjBJRDBnYm1WM0lFSjFabVpsY2loc1pXNHBYRzRnSUhaaGNpQnBJRDBnTFRGY2JpQWdkMmhwYkdVZ0tDc3JhU0E4SUd4bGJpa2dlMXh1SUNBZ0lHOTFkRnRwWFNBOUlHVnVZM0o1Y0hSQ2VYUmxLSE5sYkdZc0lHTm9kVzVyVzJsZExDQmtaV055ZVhCMEtWeHVJQ0I5WEc0Z0lISmxkSFZ5YmlCdmRYUmNibjFjYm1aMWJtTjBhVzl1SUhOb2FXWjBTVzRnS0dKMVptWmxjaXdnZG1Gc2RXVXBJSHRjYmlBZ2RtRnlJR3hsYmlBOUlHSjFabVpsY2k1c1pXNW5kR2hjYmlBZ2RtRnlJR2tnUFNBdE1WeHVJQ0IyWVhJZ2IzVjBJRDBnYm1WM0lFSjFabVpsY2loaWRXWm1aWEl1YkdWdVozUm9LVnh1SUNCaWRXWm1aWElnUFNCQ2RXWm1aWEl1WTI5dVkyRjBLRnRpZFdabVpYSXNJRzVsZHlCQ2RXWm1aWElvVzNaaGJIVmxYU2xkS1Z4dUlDQjNhR2xzWlNBb0t5dHBJRHdnYkdWdUtTQjdYRzRnSUNBZ2IzVjBXMmxkSUQwZ1luVm1abVZ5VzJsZElEdzhJREVnZkNCaWRXWm1aWEpiYVNBcklERmRJRDQrSUNnM0tWeHVJQ0I5WEc0Z0lISmxkSFZ5YmlCdmRYUmNibjFjYmlKZGZRPT0iLCIoZnVuY3Rpb24gKEJ1ZmZlcil7XG52YXIgeG9yID0gcmVxdWlyZSgnYnVmZmVyLXhvcicpXG5cbmV4cG9ydHMuZW5jcnlwdCA9IGZ1bmN0aW9uIChzZWxmLCBkYXRhLCBkZWNyeXB0KSB7XG4gIHZhciBvdXQgPSBuZXcgQnVmZmVyKCcnKVxuICB2YXIgbGVuXG5cbiAgd2hpbGUgKGRhdGEubGVuZ3RoKSB7XG4gICAgaWYgKHNlbGYuX2NhY2hlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2VsZi5fY2FjaGUgPSBzZWxmLl9jaXBoZXIuZW5jcnlwdEJsb2NrKHNlbGYuX3ByZXYpXG4gICAgICBzZWxmLl9wcmV2ID0gbmV3IEJ1ZmZlcignJylcbiAgICB9XG5cbiAgICBpZiAoc2VsZi5fY2FjaGUubGVuZ3RoIDw9IGRhdGEubGVuZ3RoKSB7XG4gICAgICBsZW4gPSBzZWxmLl9jYWNoZS5sZW5ndGhcbiAgICAgIG91dCA9IEJ1ZmZlci5jb25jYXQoW291dCwgZW5jcnlwdFN0YXJ0KHNlbGYsIGRhdGEuc2xpY2UoMCwgbGVuKSwgZGVjcnlwdCldKVxuICAgICAgZGF0YSA9IGRhdGEuc2xpY2UobGVuKVxuICAgIH0gZWxzZSB7XG4gICAgICBvdXQgPSBCdWZmZXIuY29uY2F0KFtvdXQsIGVuY3J5cHRTdGFydChzZWxmLCBkYXRhLCBkZWNyeXB0KV0pXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvdXRcbn1cbmZ1bmN0aW9uIGVuY3J5cHRTdGFydCAoc2VsZiwgZGF0YSwgZGVjcnlwdCkge1xuICB2YXIgbGVuID0gZGF0YS5sZW5ndGhcbiAgdmFyIG91dCA9IHhvcihkYXRhLCBzZWxmLl9jYWNoZSlcbiAgc2VsZi5fY2FjaGUgPSBzZWxmLl9jYWNoZS5zbGljZShsZW4pXG4gIHNlbGYuX3ByZXYgPSBCdWZmZXIuY29uY2F0KFtzZWxmLl9wcmV2LCBkZWNyeXB0ID8gZGF0YSA6IG91dF0pXG4gIHJldHVybiBvdXRcbn1cblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZZbkp2ZDNObGNtbG1lUzF6YVdkdUwyNXZaR1ZmYlc5a2RXeGxjeTl3WVhKelpTMWhjMjR4TDI1dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMV0ZsY3k5dGIyUmxjeTlqWm1JdWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqdEJRVUZCTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFaUxDSm1hV3hsSWpvaVoyVnVaWEpoZEdWa0xtcHpJaXdpYzI5MWNtTmxVbTl2ZENJNklpSXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJblpoY2lCNGIzSWdQU0J5WlhGMWFYSmxLQ2RpZFdabVpYSXRlRzl5SnlsY2JseHVaWGh3YjNKMGN5NWxibU55ZVhCMElEMGdablZ1WTNScGIyNGdLSE5sYkdZc0lHUmhkR0VzSUdSbFkzSjVjSFFwSUh0Y2JpQWdkbUZ5SUc5MWRDQTlJRzVsZHlCQ2RXWm1aWElvSnljcFhHNGdJSFpoY2lCc1pXNWNibHh1SUNCM2FHbHNaU0FvWkdGMFlTNXNaVzVuZEdncElIdGNiaUFnSUNCcFppQW9jMlZzWmk1ZlkyRmphR1V1YkdWdVozUm9JRDA5UFNBd0tTQjdYRzRnSUNBZ0lDQnpaV3htTGw5allXTm9aU0E5SUhObGJHWXVYMk5wY0dobGNpNWxibU55ZVhCMFFteHZZMnNvYzJWc1ppNWZjSEpsZGlsY2JpQWdJQ0FnSUhObGJHWXVYM0J5WlhZZ1BTQnVaWGNnUW5WbVptVnlLQ2NuS1Z4dUlDQWdJSDFjYmx4dUlDQWdJR2xtSUNoelpXeG1MbDlqWVdOb1pTNXNaVzVuZEdnZ1BEMGdaR0YwWVM1c1pXNW5kR2dwSUh0Y2JpQWdJQ0FnSUd4bGJpQTlJSE5sYkdZdVgyTmhZMmhsTG14bGJtZDBhRnh1SUNBZ0lDQWdiM1YwSUQwZ1FuVm1abVZ5TG1OdmJtTmhkQ2hiYjNWMExDQmxibU55ZVhCMFUzUmhjblFvYzJWc1ppd2daR0YwWVM1emJHbGpaU2d3TENCc1pXNHBMQ0JrWldOeWVYQjBLVjBwWEc0Z0lDQWdJQ0JrWVhSaElEMGdaR0YwWVM1emJHbGpaU2hzWlc0cFhHNGdJQ0FnZlNCbGJITmxJSHRjYmlBZ0lDQWdJRzkxZENBOUlFSjFabVpsY2k1amIyNWpZWFFvVzI5MWRDd2daVzVqY25sd2RGTjBZWEowS0hObGJHWXNJR1JoZEdFc0lHUmxZM0o1Y0hRcFhTbGNiaUFnSUNBZ0lHSnlaV0ZyWEc0Z0lDQWdmVnh1SUNCOVhHNWNiaUFnY21WMGRYSnVJRzkxZEZ4dWZWeHVablZ1WTNScGIyNGdaVzVqY25sd2RGTjBZWEowSUNoelpXeG1MQ0JrWVhSaExDQmtaV055ZVhCMEtTQjdYRzRnSUhaaGNpQnNaVzRnUFNCa1lYUmhMbXhsYm1kMGFGeHVJQ0IyWVhJZ2IzVjBJRDBnZUc5eUtHUmhkR0VzSUhObGJHWXVYMk5oWTJobEtWeHVJQ0J6Wld4bUxsOWpZV05vWlNBOUlITmxiR1l1WDJOaFkyaGxMbk5zYVdObEtHeGxiaWxjYmlBZ2MyVnNaaTVmY0hKbGRpQTlJRUoxWm1abGNpNWpiMjVqWVhRb1czTmxiR1l1WDNCeVpYWXNJR1JsWTNKNWNIUWdQeUJrWVhSaElEb2diM1YwWFNsY2JpQWdjbVYwZFhKdUlHOTFkRnh1ZlZ4dUlsMTkiLCJhcmd1bWVudHNbNF1bXCIvaG9tZS91YnVudHUvc3RhZ2luZy9hcHBzL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL21vZGVzL2NiYy5qc1wiXVswXS5hcHBseShleHBvcnRzLGFyZ3VtZW50cykiLCJhcmd1bWVudHNbNF1bXCIvaG9tZS91YnVudHUvc3RhZ2luZy9hcHBzL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9jcnlwdG8tYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS1jaXBoZXIvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktYWVzL21vZGVzLmpzXCJdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKSIsIihmdW5jdGlvbiAoQnVmZmVyKXtcbnZhciBhZXMgPSByZXF1aXJlKCcuL2FlcycpXG52YXIgVHJhbnNmb3JtID0gcmVxdWlyZSgnY2lwaGVyLWJhc2UnKVxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxudmFyIEdIQVNIID0gcmVxdWlyZSgnLi9naGFzaCcpXG52YXIgeG9yID0gcmVxdWlyZSgnYnVmZmVyLXhvcicpXG5pbmhlcml0cyhTdHJlYW1DaXBoZXIsIFRyYW5zZm9ybSlcbm1vZHVsZS5leHBvcnRzID0gU3RyZWFtQ2lwaGVyXG5cbmZ1bmN0aW9uIFN0cmVhbUNpcGhlciAobW9kZSwga2V5LCBpdiwgZGVjcnlwdCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU3RyZWFtQ2lwaGVyKSkge1xuICAgIHJldHVybiBuZXcgU3RyZWFtQ2lwaGVyKG1vZGUsIGtleSwgaXYpXG4gIH1cbiAgVHJhbnNmb3JtLmNhbGwodGhpcylcbiAgdGhpcy5fZmluSUQgPSBCdWZmZXIuY29uY2F0KFtpdiwgbmV3IEJ1ZmZlcihbMCwgMCwgMCwgMV0pXSlcbiAgaXYgPSBCdWZmZXIuY29uY2F0KFtpdiwgbmV3IEJ1ZmZlcihbMCwgMCwgMCwgMl0pXSlcbiAgdGhpcy5fY2lwaGVyID0gbmV3IGFlcy5BRVMoa2V5KVxuICB0aGlzLl9wcmV2ID0gbmV3IEJ1ZmZlcihpdi5sZW5ndGgpXG4gIHRoaXMuX2NhY2hlID0gbmV3IEJ1ZmZlcignJylcbiAgdGhpcy5fc2VjQ2FjaGUgPSBuZXcgQnVmZmVyKCcnKVxuICB0aGlzLl9kZWNyeXB0ID0gZGVjcnlwdFxuICB0aGlzLl9hbGVuID0gMFxuICB0aGlzLl9sZW4gPSAwXG4gIGl2LmNvcHkodGhpcy5fcHJldilcbiAgdGhpcy5fbW9kZSA9IG1vZGVcbiAgdmFyIGggPSBuZXcgQnVmZmVyKDQpXG4gIGguZmlsbCgwKVxuICB0aGlzLl9naGFzaCA9IG5ldyBHSEFTSCh0aGlzLl9jaXBoZXIuZW5jcnlwdEJsb2NrKGgpKVxuICB0aGlzLl9hdXRoVGFnID0gbnVsbFxuICB0aGlzLl9jYWxsZWQgPSBmYWxzZVxufVxuU3RyZWFtQ2lwaGVyLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKGNodW5rKSB7XG4gIGlmICghdGhpcy5fY2FsbGVkICYmIHRoaXMuX2FsZW4pIHtcbiAgICB2YXIgcnVtcCA9IDE2IC0gKHRoaXMuX2FsZW4gJSAxNilcbiAgICBpZiAocnVtcCA8IDE2KSB7XG4gICAgICBydW1wID0gbmV3IEJ1ZmZlcihydW1wKVxuICAgICAgcnVtcC5maWxsKDApXG4gICAgICB0aGlzLl9naGFzaC51cGRhdGUocnVtcClcbiAgICB9XG4gIH1cbiAgdGhpcy5fY2FsbGVkID0gdHJ1ZVxuICB2YXIgb3V0ID0gdGhpcy5fbW9kZS5lbmNyeXB0KHRoaXMsIGNodW5rKVxuICBpZiAodGhpcy5fZGVjcnlwdCkge1xuICAgIHRoaXMuX2doYXNoLnVwZGF0ZShjaHVuaylcbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9naGFzaC51cGRhdGUob3V0KVxuICB9XG4gIHRoaXMuX2xlbiArPSBjaHVuay5sZW5ndGhcbiAgcmV0dXJuIG91dFxufVxuU3RyZWFtQ2lwaGVyLnByb3RvdHlwZS5fZmluYWwgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLl9kZWNyeXB0ICYmICF0aGlzLl9hdXRoVGFnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBzdGF0ZSBvciB1bmFibGUgdG8gYXV0aGVudGljYXRlIGRhdGEnKVxuICB9XG4gIHZhciB0YWcgPSB4b3IodGhpcy5fZ2hhc2guZmluYWwodGhpcy5fYWxlbiAqIDgsIHRoaXMuX2xlbiAqIDgpLCB0aGlzLl9jaXBoZXIuZW5jcnlwdEJsb2NrKHRoaXMuX2ZpbklEKSlcbiAgaWYgKHRoaXMuX2RlY3J5cHQpIHtcbiAgICBpZiAoeG9yVGVzdCh0YWcsIHRoaXMuX2F1dGhUYWcpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIHN0YXRlIG9yIHVuYWJsZSB0byBhdXRoZW50aWNhdGUgZGF0YScpXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMuX2F1dGhUYWcgPSB0YWdcbiAgfVxuICB0aGlzLl9jaXBoZXIuc2NydWIoKVxufVxuU3RyZWFtQ2lwaGVyLnByb3RvdHlwZS5nZXRBdXRoVGFnID0gZnVuY3Rpb24gZ2V0QXV0aFRhZyAoKSB7XG4gIGlmICghdGhpcy5fZGVjcnlwdCAmJiBCdWZmZXIuaXNCdWZmZXIodGhpcy5fYXV0aFRhZykpIHtcbiAgICByZXR1cm4gdGhpcy5fYXV0aFRhZ1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignQXR0ZW1wdGluZyB0byBnZXQgYXV0aCB0YWcgaW4gdW5zdXBwb3J0ZWQgc3RhdGUnKVxuICB9XG59XG5TdHJlYW1DaXBoZXIucHJvdG90eXBlLnNldEF1dGhUYWcgPSBmdW5jdGlvbiBzZXRBdXRoVGFnICh0YWcpIHtcbiAgaWYgKHRoaXMuX2RlY3J5cHQpIHtcbiAgICB0aGlzLl9hdXRoVGFnID0gdGFnXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBdHRlbXB0aW5nIHRvIHNldCBhdXRoIHRhZyBpbiB1bnN1cHBvcnRlZCBzdGF0ZScpXG4gIH1cbn1cblN0cmVhbUNpcGhlci5wcm90b3R5cGUuc2V0QUFEID0gZnVuY3Rpb24gc2V0QUFEIChidWYpIHtcbiAgaWYgKCF0aGlzLl9jYWxsZWQpIHtcbiAgICB0aGlzLl9naGFzaC51cGRhdGUoYnVmKVxuICAgIHRoaXMuX2FsZW4gKz0gYnVmLmxlbmd0aFxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignQXR0ZW1wdGluZyB0byBzZXQgQUFEIGluIHVuc3VwcG9ydGVkIHN0YXRlJylcbiAgfVxufVxuZnVuY3Rpb24geG9yVGVzdCAoYSwgYikge1xuICB2YXIgb3V0ID0gMFxuICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgb3V0KytcbiAgfVxuICB2YXIgbGVuID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKVxuICB2YXIgaSA9IC0xXG4gIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICBvdXQgKz0gKGFbaV0gXiBiW2ldKVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZZbkp2ZDNObGNtbG1lUzF6YVdkdUwyNXZaR1ZmYlc5a2RXeGxjeTl3WVhKelpTMWhjMjR4TDI1dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMV0ZsY3k5aGRYUm9RMmx3YUdWeUxtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdRVUZCUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CSWl3aVptbHNaU0k2SW1kbGJtVnlZWFJsWkM1cWN5SXNJbk52ZFhKalpWSnZiM1FpT2lJaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNld5SjJZWElnWVdWeklEMGdjbVZ4ZFdseVpTZ25MaTloWlhNbktWeHVkbUZ5SUZSeVlXNXpabTl5YlNBOUlISmxjWFZwY21Vb0oyTnBjR2hsY2kxaVlYTmxKeWxjYm5aaGNpQnBibWhsY21sMGN5QTlJSEpsY1hWcGNtVW9KMmx1YUdWeWFYUnpKeWxjYm5aaGNpQkhTRUZUU0NBOUlISmxjWFZwY21Vb0p5NHZaMmhoYzJnbktWeHVkbUZ5SUhodmNpQTlJSEpsY1hWcGNtVW9KMkoxWm1abGNpMTRiM0luS1Z4dWFXNW9aWEpwZEhNb1UzUnlaV0Z0UTJsd2FHVnlMQ0JVY21GdWMyWnZjbTBwWEc1dGIyUjFiR1V1Wlhod2IzSjBjeUE5SUZOMGNtVmhiVU5wY0dobGNseHVYRzVtZFc1amRHbHZiaUJUZEhKbFlXMURhWEJvWlhJZ0tHMXZaR1VzSUd0bGVTd2dhWFlzSUdSbFkzSjVjSFFwSUh0Y2JpQWdhV1lnS0NFb2RHaHBjeUJwYm5OMFlXNWpaVzltSUZOMGNtVmhiVU5wY0dobGNpa3BJSHRjYmlBZ0lDQnlaWFIxY200Z2JtVjNJRk4wY21WaGJVTnBjR2hsY2lodGIyUmxMQ0JyWlhrc0lHbDJLVnh1SUNCOVhHNGdJRlJ5WVc1elptOXliUzVqWVd4c0tIUm9hWE1wWEc0Z0lIUm9hWE11WDJacGJrbEVJRDBnUW5WbVptVnlMbU52Ym1OaGRDaGJhWFlzSUc1bGR5QkNkV1ptWlhJb1d6QXNJREFzSURBc0lERmRLVjBwWEc0Z0lHbDJJRDBnUW5WbVptVnlMbU52Ym1OaGRDaGJhWFlzSUc1bGR5QkNkV1ptWlhJb1d6QXNJREFzSURBc0lESmRLVjBwWEc0Z0lIUm9hWE11WDJOcGNHaGxjaUE5SUc1bGR5QmhaWE11UVVWVEtHdGxlU2xjYmlBZ2RHaHBjeTVmY0hKbGRpQTlJRzVsZHlCQ2RXWm1aWElvYVhZdWJHVnVaM1JvS1Z4dUlDQjBhR2x6TGw5allXTm9aU0E5SUc1bGR5QkNkV1ptWlhJb0p5Y3BYRzRnSUhSb2FYTXVYM05sWTBOaFkyaGxJRDBnYm1WM0lFSjFabVpsY2lnbkp5bGNiaUFnZEdocGN5NWZaR1ZqY25sd2RDQTlJR1JsWTNKNWNIUmNiaUFnZEdocGN5NWZZV3hsYmlBOUlEQmNiaUFnZEdocGN5NWZiR1Z1SUQwZ01GeHVJQ0JwZGk1amIzQjVLSFJvYVhNdVgzQnlaWFlwWEc0Z0lIUm9hWE11WDIxdlpHVWdQU0J0YjJSbFhHNGdJSFpoY2lCb0lEMGdibVYzSUVKMVptWmxjaWcwS1Z4dUlDQm9MbVpwYkd3b01DbGNiaUFnZEdocGN5NWZaMmhoYzJnZ1BTQnVaWGNnUjBoQlUwZ29kR2hwY3k1ZlkybHdhR1Z5TG1WdVkzSjVjSFJDYkc5amF5aG9LU2xjYmlBZ2RHaHBjeTVmWVhWMGFGUmhaeUE5SUc1MWJHeGNiaUFnZEdocGN5NWZZMkZzYkdWa0lEMGdabUZzYzJWY2JuMWNibE4wY21WaGJVTnBjR2hsY2k1d2NtOTBiM1I1Y0dVdVgzVndaR0YwWlNBOUlHWjFibU4wYVc5dUlDaGphSFZ1YXlrZ2UxeHVJQ0JwWmlBb0lYUm9hWE11WDJOaGJHeGxaQ0FtSmlCMGFHbHpMbDloYkdWdUtTQjdYRzRnSUNBZ2RtRnlJSEoxYlhBZ1BTQXhOaUF0SUNoMGFHbHpMbDloYkdWdUlDVWdNVFlwWEc0Z0lDQWdhV1lnS0hKMWJYQWdQQ0F4TmlrZ2UxeHVJQ0FnSUNBZ2NuVnRjQ0E5SUc1bGR5QkNkV1ptWlhJb2NuVnRjQ2xjYmlBZ0lDQWdJSEoxYlhBdVptbHNiQ2d3S1Z4dUlDQWdJQ0FnZEdocGN5NWZaMmhoYzJndWRYQmtZWFJsS0hKMWJYQXBYRzRnSUNBZ2ZWeHVJQ0I5WEc0Z0lIUm9hWE11WDJOaGJHeGxaQ0E5SUhSeWRXVmNiaUFnZG1GeUlHOTFkQ0E5SUhSb2FYTXVYMjF2WkdVdVpXNWpjbmx3ZENoMGFHbHpMQ0JqYUhWdWF5bGNiaUFnYVdZZ0tIUm9hWE11WDJSbFkzSjVjSFFwSUh0Y2JpQWdJQ0IwYUdsekxsOW5hR0Z6YUM1MWNHUmhkR1VvWTJoMWJtc3BYRzRnSUgwZ1pXeHpaU0I3WEc0Z0lDQWdkR2hwY3k1ZloyaGhjMmd1ZFhCa1lYUmxLRzkxZENsY2JpQWdmVnh1SUNCMGFHbHpMbDlzWlc0Z0t6MGdZMmgxYm1zdWJHVnVaM1JvWEc0Z0lISmxkSFZ5YmlCdmRYUmNibjFjYmxOMGNtVmhiVU5wY0dobGNpNXdjbTkwYjNSNWNHVXVYMlpwYm1Gc0lEMGdablZ1WTNScGIyNGdLQ2tnZTF4dUlDQnBaaUFvZEdocGN5NWZaR1ZqY25sd2RDQW1KaUFoZEdocGN5NWZZWFYwYUZSaFp5a2dlMXh1SUNBZ0lIUm9jbTkzSUc1bGR5QkZjbkp2Y2lnblZXNXpkWEJ3YjNKMFpXUWdjM1JoZEdVZ2IzSWdkVzVoWW14bElIUnZJR0YxZEdobGJuUnBZMkYwWlNCa1lYUmhKeWxjYmlBZ2ZWeHVJQ0IyWVhJZ2RHRm5JRDBnZUc5eUtIUm9hWE11WDJkb1lYTm9MbVpwYm1Gc0tIUm9hWE11WDJGc1pXNGdLaUE0TENCMGFHbHpMbDlzWlc0Z0tpQTRLU3dnZEdocGN5NWZZMmx3YUdWeUxtVnVZM0o1Y0hSQ2JHOWpheWgwYUdsekxsOW1hVzVKUkNrcFhHNGdJR2xtSUNoMGFHbHpMbDlrWldOeWVYQjBLU0I3WEc0Z0lDQWdhV1lnS0hodmNsUmxjM1FvZEdGbkxDQjBhR2x6TGw5aGRYUm9WR0ZuS1NrZ2UxeHVJQ0FnSUNBZ2RHaHliM2NnYm1WM0lFVnljbTl5S0NkVmJuTjFjSEJ2Y25SbFpDQnpkR0YwWlNCdmNpQjFibUZpYkdVZ2RHOGdZWFYwYUdWdWRHbGpZWFJsSUdSaGRHRW5LVnh1SUNBZ0lIMWNiaUFnZlNCbGJITmxJSHRjYmlBZ0lDQjBhR2x6TGw5aGRYUm9WR0ZuSUQwZ2RHRm5YRzRnSUgxY2JpQWdkR2hwY3k1ZlkybHdhR1Z5TG5OamNuVmlLQ2xjYm4xY2JsTjBjbVZoYlVOcGNHaGxjaTV3Y205MGIzUjVjR1V1WjJWMFFYVjBhRlJoWnlBOUlHWjFibU4wYVc5dUlHZGxkRUYxZEdoVVlXY2dLQ2tnZTF4dUlDQnBaaUFvSVhSb2FYTXVYMlJsWTNKNWNIUWdKaVlnUW5WbVptVnlMbWx6UW5WbVptVnlLSFJvYVhNdVgyRjFkR2hVWVdjcEtTQjdYRzRnSUNBZ2NtVjBkWEp1SUhSb2FYTXVYMkYxZEdoVVlXZGNiaUFnZlNCbGJITmxJSHRjYmlBZ0lDQjBhSEp2ZHlCdVpYY2dSWEp5YjNJb0owRjBkR1Z0Y0hScGJtY2dkRzhnWjJWMElHRjFkR2dnZEdGbklHbHVJSFZ1YzNWd2NHOXlkR1ZrSUhOMFlYUmxKeWxjYmlBZ2ZWeHVmVnh1VTNSeVpXRnRRMmx3YUdWeUxuQnliM1J2ZEhsd1pTNXpaWFJCZFhSb1ZHRm5JRDBnWm5WdVkzUnBiMjRnYzJWMFFYVjBhRlJoWnlBb2RHRm5LU0I3WEc0Z0lHbG1JQ2gwYUdsekxsOWtaV055ZVhCMEtTQjdYRzRnSUNBZ2RHaHBjeTVmWVhWMGFGUmhaeUE5SUhSaFoxeHVJQ0I5SUdWc2MyVWdlMXh1SUNBZ0lIUm9jbTkzSUc1bGR5QkZjbkp2Y2lnblFYUjBaVzF3ZEdsdVp5QjBieUJ6WlhRZ1lYVjBhQ0IwWVdjZ2FXNGdkVzV6ZFhCd2IzSjBaV1FnYzNSaGRHVW5LVnh1SUNCOVhHNTlYRzVUZEhKbFlXMURhWEJvWlhJdWNISnZkRzkwZVhCbExuTmxkRUZCUkNBOUlHWjFibU4wYVc5dUlITmxkRUZCUkNBb1luVm1LU0I3WEc0Z0lHbG1JQ2doZEdocGN5NWZZMkZzYkdWa0tTQjdYRzRnSUNBZ2RHaHBjeTVmWjJoaGMyZ3VkWEJrWVhSbEtHSjFaaWxjYmlBZ0lDQjBhR2x6TGw5aGJHVnVJQ3M5SUdKMVppNXNaVzVuZEdoY2JpQWdmU0JsYkhObElIdGNiaUFnSUNCMGFISnZkeUJ1WlhjZ1JYSnliM0lvSjBGMGRHVnRjSFJwYm1jZ2RHOGdjMlYwSUVGQlJDQnBiaUIxYm5OMWNIQnZjblJsWkNCemRHRjBaU2NwWEc0Z0lIMWNibjFjYm1aMWJtTjBhVzl1SUhodmNsUmxjM1FnS0dFc0lHSXBJSHRjYmlBZ2RtRnlJRzkxZENBOUlEQmNiaUFnYVdZZ0tHRXViR1Z1WjNSb0lDRTlQU0JpTG14bGJtZDBhQ2tnZTF4dUlDQWdJRzkxZENzclhHNGdJSDFjYmlBZ2RtRnlJR3hsYmlBOUlFMWhkR2d1YldsdUtHRXViR1Z1WjNSb0xDQmlMbXhsYm1kMGFDbGNiaUFnZG1GeUlHa2dQU0F0TVZ4dUlDQjNhR2xzWlNBb0t5dHBJRHdnYkdWdUtTQjdYRzRnSUNBZ2IzVjBJQ3M5SUNoaFcybGRJRjRnWWx0cFhTbGNiaUFnZlZ4dUlDQnlaWFIxY200Z2IzVjBYRzU5WEc0aVhYMD0iLCIoZnVuY3Rpb24gKEJ1ZmZlcil7XG52YXIgVHJhbnNmb3JtID0gcmVxdWlyZSgnc3RyZWFtJykuVHJhbnNmb3JtXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG52YXIgU3RyaW5nRGVjb2RlciA9IHJlcXVpcmUoJ3N0cmluZ19kZWNvZGVyJykuU3RyaW5nRGVjb2RlclxubW9kdWxlLmV4cG9ydHMgPSBDaXBoZXJCYXNlXG5pbmhlcml0cyhDaXBoZXJCYXNlLCBUcmFuc2Zvcm0pXG5mdW5jdGlvbiBDaXBoZXJCYXNlIChoYXNoTW9kZSkge1xuICBUcmFuc2Zvcm0uY2FsbCh0aGlzKVxuICB0aGlzLmhhc2hNb2RlID0gdHlwZW9mIGhhc2hNb2RlID09PSAnc3RyaW5nJ1xuICBpZiAodGhpcy5oYXNoTW9kZSkge1xuICAgIHRoaXNbaGFzaE1vZGVdID0gdGhpcy5fZmluYWxPckRpZ2VzdFxuICB9IGVsc2Uge1xuICAgIHRoaXMuZmluYWwgPSB0aGlzLl9maW5hbE9yRGlnZXN0XG4gIH1cbiAgdGhpcy5fZGVjb2RlciA9IG51bGxcbiAgdGhpcy5fZW5jb2RpbmcgPSBudWxsXG59XG5DaXBoZXJCYXNlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSwgaW5wdXRFbmMsIG91dHB1dEVuYykge1xuICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgZGF0YSA9IG5ldyBCdWZmZXIoZGF0YSwgaW5wdXRFbmMpXG4gIH1cbiAgdmFyIG91dERhdGEgPSB0aGlzLl91cGRhdGUoZGF0YSlcbiAgaWYgKHRoaXMuaGFzaE1vZGUpIHtcbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIGlmIChvdXRwdXRFbmMpIHtcbiAgICBvdXREYXRhID0gdGhpcy5fdG9TdHJpbmcob3V0RGF0YSwgb3V0cHV0RW5jKVxuICB9XG4gIHJldHVybiBvdXREYXRhXG59XG5cbkNpcGhlckJhc2UucHJvdG90eXBlLnNldEF1dG9QYWRkaW5nID0gZnVuY3Rpb24gKCkge31cblxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuZ2V0QXV0aFRhZyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCd0cnlpbmcgdG8gZ2V0IGF1dGggdGFnIGluIHVuc3VwcG9ydGVkIHN0YXRlJylcbn1cblxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuc2V0QXV0aFRhZyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCd0cnlpbmcgdG8gc2V0IGF1dGggdGFnIGluIHVuc3VwcG9ydGVkIHN0YXRlJylcbn1cblxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuc2V0QUFEID0gZnVuY3Rpb24gKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ3RyeWluZyB0byBzZXQgYWFkIGluIHVuc3VwcG9ydGVkIHN0YXRlJylcbn1cblxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuX3RyYW5zZm9ybSA9IGZ1bmN0aW9uIChkYXRhLCBfLCBuZXh0KSB7XG4gIHZhciBlcnJcbiAgdHJ5IHtcbiAgICBpZiAodGhpcy5oYXNoTW9kZSkge1xuICAgICAgdGhpcy5fdXBkYXRlKGRhdGEpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHVzaCh0aGlzLl91cGRhdGUoZGF0YSkpXG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgZXJyID0gZVxuICB9IGZpbmFsbHkge1xuICAgIG5leHQoZXJyKVxuICB9XG59XG5DaXBoZXJCYXNlLnByb3RvdHlwZS5fZmx1c2ggPSBmdW5jdGlvbiAoZG9uZSkge1xuICB2YXIgZXJyXG4gIHRyeSB7XG4gICAgdGhpcy5wdXNoKHRoaXMuX2ZpbmFsKCkpXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlcnIgPSBlXG4gIH0gZmluYWxseSB7XG4gICAgZG9uZShlcnIpXG4gIH1cbn1cbkNpcGhlckJhc2UucHJvdG90eXBlLl9maW5hbE9yRGlnZXN0ID0gZnVuY3Rpb24gKG91dHB1dEVuYykge1xuICB2YXIgb3V0RGF0YSA9IHRoaXMuX2ZpbmFsKCkgfHwgbmV3IEJ1ZmZlcignJylcbiAgaWYgKG91dHB1dEVuYykge1xuICAgIG91dERhdGEgPSB0aGlzLl90b1N0cmluZyhvdXREYXRhLCBvdXRwdXRFbmMsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG91dERhdGFcbn1cblxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKHZhbHVlLCBlbmMsIGZpbmFsKSB7XG4gIGlmICghdGhpcy5fZGVjb2Rlcikge1xuICAgIHRoaXMuX2RlY29kZXIgPSBuZXcgU3RyaW5nRGVjb2RlcihlbmMpXG4gICAgdGhpcy5fZW5jb2RpbmcgPSBlbmNcbiAgfVxuICBpZiAodGhpcy5fZW5jb2RpbmcgIT09IGVuYykge1xuICAgIHRocm93IG5ldyBFcnJvcignY2FuXFwndCBzd2l0Y2ggZW5jb2RpbmdzJylcbiAgfVxuICB2YXIgb3V0ID0gdGhpcy5fZGVjb2Rlci53cml0ZSh2YWx1ZSlcbiAgaWYgKGZpbmFsKSB7XG4gICAgb3V0ICs9IHRoaXMuX2RlY29kZXIuZW5kKClcbiAgfVxuICByZXR1cm4gb3V0XG59XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12WW5KdmQzTmxjbWxtZVMxemFXZHVMMjV2WkdWZmJXOWtkV3hsY3k5d1lYSnpaUzFoYzI0eEwyNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TFdGbGN5OXViMlJsWDIxdlpIVnNaWE12WTJsd2FHVnlMV0poYzJVdmFXNWtaWGd1YW5NaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWp0QlFVRkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJJaXdpWm1sc1pTSTZJbWRsYm1WeVlYUmxaQzVxY3lJc0luTnZkWEpqWlZKdmIzUWlPaUlpTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2V3lKMllYSWdWSEpoYm5ObWIzSnRJRDBnY21WeGRXbHlaU2duYzNSeVpXRnRKeWt1VkhKaGJuTm1iM0p0WEc1MllYSWdhVzVvWlhKcGRITWdQU0J5WlhGMWFYSmxLQ2RwYm1obGNtbDBjeWNwWEc1MllYSWdVM1J5YVc1blJHVmpiMlJsY2lBOUlISmxjWFZwY21Vb0ozTjBjbWx1WjE5a1pXTnZaR1Z5SnlrdVUzUnlhVzVuUkdWamIyUmxjbHh1Ylc5a2RXeGxMbVY0Y0c5eWRITWdQU0JEYVhCb1pYSkNZWE5sWEc1cGJtaGxjbWwwY3loRGFYQm9aWEpDWVhObExDQlVjbUZ1YzJadmNtMHBYRzVtZFc1amRHbHZiaUJEYVhCb1pYSkNZWE5sSUNob1lYTm9UVzlrWlNrZ2UxeHVJQ0JVY21GdWMyWnZjbTB1WTJGc2JDaDBhR2x6S1Z4dUlDQjBhR2x6TG1oaGMyaE5iMlJsSUQwZ2RIbHdaVzltSUdoaGMyaE5iMlJsSUQwOVBTQW5jM1J5YVc1bkoxeHVJQ0JwWmlBb2RHaHBjeTVvWVhOb1RXOWtaU2tnZTF4dUlDQWdJSFJvYVhOYmFHRnphRTF2WkdWZElEMGdkR2hwY3k1ZlptbHVZV3hQY2tScFoyVnpkRnh1SUNCOUlHVnNjMlVnZTF4dUlDQWdJSFJvYVhNdVptbHVZV3dnUFNCMGFHbHpMbDltYVc1aGJFOXlSR2xuWlhOMFhHNGdJSDFjYmlBZ2RHaHBjeTVmWkdWamIyUmxjaUE5SUc1MWJHeGNiaUFnZEdocGN5NWZaVzVqYjJScGJtY2dQU0J1ZFd4c1hHNTlYRzVEYVhCb1pYSkNZWE5sTG5CeWIzUnZkSGx3WlM1MWNHUmhkR1VnUFNCbWRXNWpkR2x2YmlBb1pHRjBZU3dnYVc1d2RYUkZibU1zSUc5MWRIQjFkRVZ1WXlrZ2UxeHVJQ0JwWmlBb2RIbHdaVzltSUdSaGRHRWdQVDA5SUNkemRISnBibWNuS1NCN1hHNGdJQ0FnWkdGMFlTQTlJRzVsZHlCQ2RXWm1aWElvWkdGMFlTd2dhVzV3ZFhSRmJtTXBYRzRnSUgxY2JpQWdkbUZ5SUc5MWRFUmhkR0VnUFNCMGFHbHpMbDkxY0dSaGRHVW9aR0YwWVNsY2JpQWdhV1lnS0hSb2FYTXVhR0Z6YUUxdlpHVXBJSHRjYmlBZ0lDQnlaWFIxY200Z2RHaHBjMXh1SUNCOVhHNGdJR2xtSUNodmRYUndkWFJGYm1NcElIdGNiaUFnSUNCdmRYUkVZWFJoSUQwZ2RHaHBjeTVmZEc5VGRISnBibWNvYjNWMFJHRjBZU3dnYjNWMGNIVjBSVzVqS1Z4dUlDQjlYRzRnSUhKbGRIVnliaUJ2ZFhSRVlYUmhYRzU5WEc1Y2JrTnBjR2hsY2tKaGMyVXVjSEp2ZEc5MGVYQmxMbk5sZEVGMWRHOVFZV1JrYVc1bklEMGdablZ1WTNScGIyNGdLQ2tnZTMxY2JseHVRMmx3YUdWeVFtRnpaUzV3Y205MGIzUjVjR1V1WjJWMFFYVjBhRlJoWnlBOUlHWjFibU4wYVc5dUlDZ3BJSHRjYmlBZ2RHaHliM2NnYm1WM0lFVnljbTl5S0NkMGNubHBibWNnZEc4Z1oyVjBJR0YxZEdnZ2RHRm5JR2x1SUhWdWMzVndjRzl5ZEdWa0lITjBZWFJsSnlsY2JuMWNibHh1UTJsd2FHVnlRbUZ6WlM1d2NtOTBiM1I1Y0dVdWMyVjBRWFYwYUZSaFp5QTlJR1oxYm1OMGFXOXVJQ2dwSUh0Y2JpQWdkR2h5YjNjZ2JtVjNJRVZ5Y205eUtDZDBjbmxwYm1jZ2RHOGdjMlYwSUdGMWRHZ2dkR0ZuSUdsdUlIVnVjM1Z3Y0c5eWRHVmtJSE4wWVhSbEp5bGNibjFjYmx4dVEybHdhR1Z5UW1GelpTNXdjbTkwYjNSNWNHVXVjMlYwUVVGRUlEMGdablZ1WTNScGIyNGdLQ2tnZTF4dUlDQjBhSEp2ZHlCdVpYY2dSWEp5YjNJb0ozUnllV2x1WnlCMGJ5QnpaWFFnWVdGa0lHbHVJSFZ1YzNWd2NHOXlkR1ZrSUhOMFlYUmxKeWxjYm4xY2JseHVRMmx3YUdWeVFtRnpaUzV3Y205MGIzUjVjR1V1WDNSeVlXNXpabTl5YlNBOUlHWjFibU4wYVc5dUlDaGtZWFJoTENCZkxDQnVaWGgwS1NCN1hHNGdJSFpoY2lCbGNuSmNiaUFnZEhKNUlIdGNiaUFnSUNCcFppQW9kR2hwY3k1b1lYTm9UVzlrWlNrZ2UxeHVJQ0FnSUNBZ2RHaHBjeTVmZFhCa1lYUmxLR1JoZEdFcFhHNGdJQ0FnZlNCbGJITmxJSHRjYmlBZ0lDQWdJSFJvYVhNdWNIVnphQ2gwYUdsekxsOTFjR1JoZEdVb1pHRjBZU2twWEc0Z0lDQWdmVnh1SUNCOUlHTmhkR05vSUNobEtTQjdYRzRnSUNBZ1pYSnlJRDBnWlZ4dUlDQjlJR1pwYm1Gc2JIa2dlMXh1SUNBZ0lHNWxlSFFvWlhKeUtWeHVJQ0I5WEc1OVhHNURhWEJvWlhKQ1lYTmxMbkJ5YjNSdmRIbHdaUzVmWm14MWMyZ2dQU0JtZFc1amRHbHZiaUFvWkc5dVpTa2dlMXh1SUNCMllYSWdaWEp5WEc0Z0lIUnllU0I3WEc0Z0lDQWdkR2hwY3k1d2RYTm9LSFJvYVhNdVgyWnBibUZzS0NrcFhHNGdJSDBnWTJGMFkyZ2dLR1VwSUh0Y2JpQWdJQ0JsY25JZ1BTQmxYRzRnSUgwZ1ptbHVZV3hzZVNCN1hHNGdJQ0FnWkc5dVpTaGxjbklwWEc0Z0lIMWNibjFjYmtOcGNHaGxja0poYzJVdWNISnZkRzkwZVhCbExsOW1hVzVoYkU5eVJHbG5aWE4wSUQwZ1puVnVZM1JwYjI0Z0tHOTFkSEIxZEVWdVl5a2dlMXh1SUNCMllYSWdiM1YwUkdGMFlTQTlJSFJvYVhNdVgyWnBibUZzS0NrZ2ZId2dibVYzSUVKMVptWmxjaWduSnlsY2JpQWdhV1lnS0c5MWRIQjFkRVZ1WXlrZ2UxeHVJQ0FnSUc5MWRFUmhkR0VnUFNCMGFHbHpMbDkwYjFOMGNtbHVaeWh2ZFhSRVlYUmhMQ0J2ZFhSd2RYUkZibU1zSUhSeWRXVXBYRzRnSUgxY2JpQWdjbVYwZFhKdUlHOTFkRVJoZEdGY2JuMWNibHh1UTJsd2FHVnlRbUZ6WlM1d2NtOTBiM1I1Y0dVdVgzUnZVM1J5YVc1bklEMGdablZ1WTNScGIyNGdLSFpoYkhWbExDQmxibU1zSUdacGJtRnNLU0I3WEc0Z0lHbG1JQ2doZEdocGN5NWZaR1ZqYjJSbGNpa2dlMXh1SUNBZ0lIUm9hWE11WDJSbFkyOWtaWElnUFNCdVpYY2dVM1J5YVc1blJHVmpiMlJsY2lobGJtTXBYRzRnSUNBZ2RHaHBjeTVmWlc1amIyUnBibWNnUFNCbGJtTmNiaUFnZlZ4dUlDQnBaaUFvZEdocGN5NWZaVzVqYjJScGJtY2dJVDA5SUdWdVl5a2dlMXh1SUNBZ0lIUm9jbTkzSUc1bGR5QkZjbkp2Y2lnblkyRnVYRnduZENCemQybDBZMmdnWlc1amIyUnBibWR6SnlsY2JpQWdmVnh1SUNCMllYSWdiM1YwSUQwZ2RHaHBjeTVmWkdWamIyUmxjaTUzY21sMFpTaDJZV3gxWlNsY2JpQWdhV1lnS0dacGJtRnNLU0I3WEc0Z0lDQWdiM1YwSUNzOUlIUm9hWE11WDJSbFkyOWtaWEl1Wlc1a0tDbGNiaUFnZlZ4dUlDQnlaWFIxY200Z2IzVjBYRzU5WEc0aVhYMD0iLCIoZnVuY3Rpb24gKEJ1ZmZlcil7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHhvciAoYSwgYikge1xuICB2YXIgbGVuZ3RoID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKVxuICB2YXIgYnVmZmVyID0gbmV3IEJ1ZmZlcihsZW5ndGgpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIGJ1ZmZlcltpXSA9IGFbaV0gXiBiW2ldXG4gIH1cblxuICByZXR1cm4gYnVmZmVyXG59XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12WW5KdmQzTmxjbWxtZVMxemFXZHVMMjV2WkdWZmJXOWtkV3hsY3k5d1lYSnpaUzFoYzI0eEwyNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TFdGbGN5OXViMlJsWDIxdlpIVnNaWE12WW5WbVptVnlMWGh2Y2k5cGJtUmxlQzVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pTzBGQlFVRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVNJc0ltWnBiR1VpT2lKblpXNWxjbUYwWldRdWFuTWlMQ0p6YjNWeVkyVlNiMjkwSWpvaUlpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2liVzlrZFd4bExtVjRjRzl5ZEhNZ1BTQm1kVzVqZEdsdmJpQjRiM0lnS0dFc0lHSXBJSHRjYmlBZ2RtRnlJR3hsYm1kMGFDQTlJRTFoZEdndWJXbHVLR0V1YkdWdVozUm9MQ0JpTG14bGJtZDBhQ2xjYmlBZ2RtRnlJR0oxWm1abGNpQTlJRzVsZHlCQ2RXWm1aWElvYkdWdVozUm9LVnh1WEc0Z0lHWnZjaUFvZG1GeUlHa2dQU0F3T3lCcElEd2diR1Z1WjNSb095QXJLMmtwSUh0Y2JpQWdJQ0JpZFdabVpYSmJhVjBnUFNCaFcybGRJRjRnWWx0cFhWeHVJQ0I5WEc1Y2JpQWdjbVYwZFhKdUlHSjFabVpsY2x4dWZWeHVJbDE5IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xudmFyIHplcm9zID0gbmV3IEJ1ZmZlcigxNilcbnplcm9zLmZpbGwoMClcbm1vZHVsZS5leHBvcnRzID0gR0hBU0hcbmZ1bmN0aW9uIEdIQVNIIChrZXkpIHtcbiAgdGhpcy5oID0ga2V5XG4gIHRoaXMuc3RhdGUgPSBuZXcgQnVmZmVyKDE2KVxuICB0aGlzLnN0YXRlLmZpbGwoMClcbiAgdGhpcy5jYWNoZSA9IG5ldyBCdWZmZXIoJycpXG59XG4vLyBmcm9tIGh0dHA6Ly9iaXR3aXNlc2hpZnRsZWZ0LmdpdGh1Yi5pby9zamNsL2RvYy9zeW1ib2xzL3NyYy9jb3JlX2djbS5qcy5odG1sXG4vLyBieSBKdWhvIFbDpGjDpC1IZXJ0dHVhXG5HSEFTSC5wcm90b3R5cGUuZ2hhc2ggPSBmdW5jdGlvbiAoYmxvY2spIHtcbiAgdmFyIGkgPSAtMVxuICB3aGlsZSAoKytpIDwgYmxvY2subGVuZ3RoKSB7XG4gICAgdGhpcy5zdGF0ZVtpXSBePSBibG9ja1tpXVxuICB9XG4gIHRoaXMuX211bHRpcGx5KClcbn1cblxuR0hBU0gucHJvdG90eXBlLl9tdWx0aXBseSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIFZpID0gdG9BcnJheSh0aGlzLmgpXG4gIHZhciBaaSA9IFswLCAwLCAwLCAwXVxuICB2YXIgaiwgeGksIGxzYl9WaVxuICB2YXIgaSA9IC0xXG4gIHdoaWxlICgrK2kgPCAxMjgpIHtcbiAgICB4aSA9ICh0aGlzLnN0YXRlW35+KGkgLyA4KV0gJiAoMSA8PCAoNyAtIGkgJSA4KSkpICE9PSAwXG4gICAgaWYgKHhpKSB7XG4gICAgICAvLyBaX2krMSA9IFpfaSBeIFZfaVxuICAgICAgWmkgPSB4b3IoWmksIFZpKVxuICAgIH1cblxuICAgIC8vIFN0b3JlIHRoZSB2YWx1ZSBvZiBMU0IoVl9pKVxuICAgIGxzYl9WaSA9IChWaVszXSAmIDEpICE9PSAwXG5cbiAgICAvLyBWX2krMSA9IFZfaSA+PiAxXG4gICAgZm9yIChqID0gMzsgaiA+IDA7IGotLSkge1xuICAgICAgVmlbal0gPSAoVmlbal0gPj4+IDEpIHwgKChWaVtqIC0gMV0gJiAxKSA8PCAzMSlcbiAgICB9XG4gICAgVmlbMF0gPSBWaVswXSA+Pj4gMVxuXG4gICAgLy8gSWYgTFNCKFZfaSkgaXMgMSwgVl9pKzEgPSAoVl9pID4+IDEpIF4gUlxuICAgIGlmIChsc2JfVmkpIHtcbiAgICAgIFZpWzBdID0gVmlbMF0gXiAoMHhlMSA8PCAyNClcbiAgICB9XG4gIH1cbiAgdGhpcy5zdGF0ZSA9IGZyb21BcnJheShaaSlcbn1cbkdIQVNILnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoYnVmKSB7XG4gIHRoaXMuY2FjaGUgPSBCdWZmZXIuY29uY2F0KFt0aGlzLmNhY2hlLCBidWZdKVxuICB2YXIgY2h1bmtcbiAgd2hpbGUgKHRoaXMuY2FjaGUubGVuZ3RoID49IDE2KSB7XG4gICAgY2h1bmsgPSB0aGlzLmNhY2hlLnNsaWNlKDAsIDE2KVxuICAgIHRoaXMuY2FjaGUgPSB0aGlzLmNhY2hlLnNsaWNlKDE2KVxuICAgIHRoaXMuZ2hhc2goY2h1bmspXG4gIH1cbn1cbkdIQVNILnByb3RvdHlwZS5maW5hbCA9IGZ1bmN0aW9uIChhYmwsIGJsKSB7XG4gIGlmICh0aGlzLmNhY2hlLmxlbmd0aCkge1xuICAgIHRoaXMuZ2hhc2goQnVmZmVyLmNvbmNhdChbdGhpcy5jYWNoZSwgemVyb3NdLCAxNikpXG4gIH1cbiAgdGhpcy5naGFzaChmcm9tQXJyYXkoW1xuICAgIDAsIGFibCxcbiAgICAwLCBibFxuICBdKSlcbiAgcmV0dXJuIHRoaXMuc3RhdGVcbn1cblxuZnVuY3Rpb24gdG9BcnJheSAoYnVmKSB7XG4gIHJldHVybiBbXG4gICAgYnVmLnJlYWRVSW50MzJCRSgwKSxcbiAgICBidWYucmVhZFVJbnQzMkJFKDQpLFxuICAgIGJ1Zi5yZWFkVUludDMyQkUoOCksXG4gICAgYnVmLnJlYWRVSW50MzJCRSgxMilcbiAgXVxufVxuZnVuY3Rpb24gZnJvbUFycmF5IChvdXQpIHtcbiAgb3V0ID0gb3V0Lm1hcChmaXh1cF91aW50MzIpXG4gIHZhciBidWYgPSBuZXcgQnVmZmVyKDE2KVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbMF0sIDApXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFsxXSwgNClcbiAgYnVmLndyaXRlVUludDMyQkUob3V0WzJdLCA4KVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbM10sIDEyKVxuICByZXR1cm4gYnVmXG59XG52YXIgdWludF9tYXggPSBNYXRoLnBvdygyLCAzMilcbmZ1bmN0aW9uIGZpeHVwX3VpbnQzMiAoeCkge1xuICB2YXIgcmV0LCB4X3Bvc1xuICByZXQgPSB4ID4gdWludF9tYXggfHwgeCA8IDAgPyAoeF9wb3MgPSBNYXRoLmFicyh4KSAlIHVpbnRfbWF4LCB4IDwgMCA/IHVpbnRfbWF4IC0geF9wb3MgOiB4X3BvcykgOiB4XG4gIHJldHVybiByZXRcbn1cbmZ1bmN0aW9uIHhvciAoYSwgYikge1xuICByZXR1cm4gW1xuICAgIGFbMF0gXiBiWzBdLFxuICAgIGFbMV0gXiBiWzFdLFxuICAgIGFbMl0gXiBiWzJdLFxuICAgIGFbM10gXiBiWzNdXG4gIF1cbn1cblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZZbkp2ZDNObGNtbG1lUzF6YVdkdUwyNXZaR1ZmYlc5a2RXeGxjeTl3WVhKelpTMWhjMjR4TDI1dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMV0ZsY3k5bmFHRnphQzVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pTzBGQlFVRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CSWl3aVptbHNaU0k2SW1kbGJtVnlZWFJsWkM1cWN5SXNJbk52ZFhKalpWSnZiM1FpT2lJaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNld5SjJZWElnZW1WeWIzTWdQU0J1WlhjZ1FuVm1abVZ5S0RFMktWeHVlbVZ5YjNNdVptbHNiQ2d3S1Z4dWJXOWtkV3hsTG1WNGNHOXlkSE1nUFNCSFNFRlRTRnh1Wm5WdVkzUnBiMjRnUjBoQlUwZ2dLR3RsZVNrZ2UxeHVJQ0IwYUdsekxtZ2dQU0JyWlhsY2JpQWdkR2hwY3k1emRHRjBaU0E5SUc1bGR5QkNkV1ptWlhJb01UWXBYRzRnSUhSb2FYTXVjM1JoZEdVdVptbHNiQ2d3S1Z4dUlDQjBhR2x6TG1OaFkyaGxJRDBnYm1WM0lFSjFabVpsY2lnbkp5bGNibjFjYmk4dklHWnliMjBnYUhSMGNEb3ZMMkpwZEhkcGMyVnphR2xtZEd4bFpuUXVaMmwwYUhWaUxtbHZMM05xWTJ3dlpHOWpMM041YldKdmJITXZjM0pqTDJOdmNtVmZaMk50TG1wekxtaDBiV3hjYmk4dklHSjVJRXAxYUc4Z1ZzT2thTU9rTFVobGNuUjBkV0ZjYmtkSVFWTklMbkJ5YjNSdmRIbHdaUzVuYUdGemFDQTlJR1oxYm1OMGFXOXVJQ2hpYkc5amF5a2dlMXh1SUNCMllYSWdhU0E5SUMweFhHNGdJSGRvYVd4bElDZ3JLMmtnUENCaWJHOWpheTVzWlc1bmRHZ3BJSHRjYmlBZ0lDQjBhR2x6TG5OMFlYUmxXMmxkSUY0OUlHSnNiMk5yVzJsZFhHNGdJSDFjYmlBZ2RHaHBjeTVmYlhWc2RHbHdiSGtvS1Z4dWZWeHVYRzVIU0VGVFNDNXdjbTkwYjNSNWNHVXVYMjExYkhScGNHeDVJRDBnWm5WdVkzUnBiMjRnS0NrZ2UxeHVJQ0IyWVhJZ1Zta2dQU0IwYjBGeWNtRjVLSFJvYVhNdWFDbGNiaUFnZG1GeUlGcHBJRDBnV3pBc0lEQXNJREFzSURCZFhHNGdJSFpoY2lCcUxDQjRhU3dnYkhOaVgxWnBYRzRnSUhaaGNpQnBJRDBnTFRGY2JpQWdkMmhwYkdVZ0tDc3JhU0E4SURFeU9Da2dlMXh1SUNBZ0lIaHBJRDBnS0hSb2FYTXVjM1JoZEdWYmZuNG9hU0F2SURncFhTQW1JQ2d4SUR3OElDZzNJQzBnYVNBbElEZ3BLU2tnSVQwOUlEQmNiaUFnSUNCcFppQW9lR2twSUh0Y2JpQWdJQ0FnSUM4dklGcGZhU3N4SUQwZ1dsOXBJRjRnVmw5cFhHNGdJQ0FnSUNCYWFTQTlJSGh2Y2loYWFTd2dWbWtwWEc0Z0lDQWdmVnh1WEc0Z0lDQWdMeThnVTNSdmNtVWdkR2hsSUhaaGJIVmxJRzltSUV4VFFpaFdYMmtwWEc0Z0lDQWdiSE5pWDFacElEMGdLRlpwV3pOZElDWWdNU2tnSVQwOUlEQmNibHh1SUNBZ0lDOHZJRlpmYVNzeElEMGdWbDlwSUQ0K0lERmNiaUFnSUNCbWIzSWdLR29nUFNBek95QnFJRDRnTURzZ2FpMHRLU0I3WEc0Z0lDQWdJQ0JXYVZ0cVhTQTlJQ2hXYVZ0cVhTQStQajRnTVNrZ2ZDQW9LRlpwVzJvZ0xTQXhYU0FtSURFcElEdzhJRE14S1Z4dUlDQWdJSDFjYmlBZ0lDQldhVnN3WFNBOUlGWnBXekJkSUQ0K1BpQXhYRzVjYmlBZ0lDQXZMeUJKWmlCTVUwSW9WbDlwS1NCcGN5QXhMQ0JXWDJrck1TQTlJQ2hXWDJrZ1BqNGdNU2tnWGlCU1hHNGdJQ0FnYVdZZ0tHeHpZbDlXYVNrZ2UxeHVJQ0FnSUNBZ1ZtbGJNRjBnUFNCV2FWc3dYU0JlSUNnd2VHVXhJRHc4SURJMEtWeHVJQ0FnSUgxY2JpQWdmVnh1SUNCMGFHbHpMbk4wWVhSbElEMGdabkp2YlVGeWNtRjVLRnBwS1Z4dWZWeHVSMGhCVTBndWNISnZkRzkwZVhCbExuVndaR0YwWlNBOUlHWjFibU4wYVc5dUlDaGlkV1lwSUh0Y2JpQWdkR2hwY3k1allXTm9aU0E5SUVKMVptWmxjaTVqYjI1allYUW9XM1JvYVhNdVkyRmphR1VzSUdKMVpsMHBYRzRnSUhaaGNpQmphSFZ1YTF4dUlDQjNhR2xzWlNBb2RHaHBjeTVqWVdOb1pTNXNaVzVuZEdnZ1BqMGdNVFlwSUh0Y2JpQWdJQ0JqYUhWdWF5QTlJSFJvYVhNdVkyRmphR1V1YzJ4cFkyVW9NQ3dnTVRZcFhHNGdJQ0FnZEdocGN5NWpZV05vWlNBOUlIUm9hWE11WTJGamFHVXVjMnhwWTJVb01UWXBYRzRnSUNBZ2RHaHBjeTVuYUdGemFDaGphSFZ1YXlsY2JpQWdmVnh1ZlZ4dVIwaEJVMGd1Y0hKdmRHOTBlWEJsTG1acGJtRnNJRDBnWm5WdVkzUnBiMjRnS0dGaWJDd2dZbXdwSUh0Y2JpQWdhV1lnS0hSb2FYTXVZMkZqYUdVdWJHVnVaM1JvS1NCN1hHNGdJQ0FnZEdocGN5NW5hR0Z6YUNoQ2RXWm1aWEl1WTI5dVkyRjBLRnQwYUdsekxtTmhZMmhsTENCNlpYSnZjMTBzSURFMktTbGNiaUFnZlZ4dUlDQjBhR2x6TG1kb1lYTm9LR1p5YjIxQmNuSmhlU2hiWEc0Z0lDQWdNQ3dnWVdKc0xGeHVJQ0FnSURBc0lHSnNYRzRnSUYwcEtWeHVJQ0J5WlhSMWNtNGdkR2hwY3k1emRHRjBaVnh1ZlZ4dVhHNW1kVzVqZEdsdmJpQjBiMEZ5Y21GNUlDaGlkV1lwSUh0Y2JpQWdjbVYwZFhKdUlGdGNiaUFnSUNCaWRXWXVjbVZoWkZWSmJuUXpNa0pGS0RBcExGeHVJQ0FnSUdKMVppNXlaV0ZrVlVsdWRETXlRa1VvTkNrc1hHNGdJQ0FnWW5WbUxuSmxZV1JWU1c1ME16SkNSU2c0S1N4Y2JpQWdJQ0JpZFdZdWNtVmhaRlZKYm5Rek1rSkZLREV5S1Z4dUlDQmRYRzU5WEc1bWRXNWpkR2x2YmlCbWNtOXRRWEp5WVhrZ0tHOTFkQ2tnZTF4dUlDQnZkWFFnUFNCdmRYUXViV0Z3S0dacGVIVndYM1ZwYm5Rek1pbGNiaUFnZG1GeUlHSjFaaUE5SUc1bGR5QkNkV1ptWlhJb01UWXBYRzRnSUdKMVppNTNjbWwwWlZWSmJuUXpNa0pGS0c5MWRGc3dYU3dnTUNsY2JpQWdZblZtTG5keWFYUmxWVWx1ZERNeVFrVW9iM1YwV3pGZExDQTBLVnh1SUNCaWRXWXVkM0pwZEdWVlNXNTBNekpDUlNodmRYUmJNbDBzSURncFhHNGdJR0oxWmk1M2NtbDBaVlZKYm5Rek1rSkZLRzkxZEZzelhTd2dNVElwWEc0Z0lISmxkSFZ5YmlCaWRXWmNibjFjYm5aaGNpQjFhVzUwWDIxaGVDQTlJRTFoZEdndWNHOTNLRElzSURNeUtWeHVablZ1WTNScGIyNGdabWw0ZFhCZmRXbHVkRE15SUNoNEtTQjdYRzRnSUhaaGNpQnlaWFFzSUhoZmNHOXpYRzRnSUhKbGRDQTlJSGdnUGlCMWFXNTBYMjFoZUNCOGZDQjRJRHdnTUNBL0lDaDRYM0J2Y3lBOUlFMWhkR2d1WVdKektIZ3BJQ1VnZFdsdWRGOXRZWGdzSUhnZ1BDQXdJRDhnZFdsdWRGOXRZWGdnTFNCNFgzQnZjeUE2SUhoZmNHOXpLU0E2SUhoY2JpQWdjbVYwZFhKdUlISmxkRnh1ZlZ4dVpuVnVZM1JwYjI0Z2VHOXlJQ2hoTENCaUtTQjdYRzRnSUhKbGRIVnliaUJiWEc0Z0lDQWdZVnN3WFNCZUlHSmJNRjBzWEc0Z0lDQWdZVnN4WFNCZUlHSmJNVjBzWEc0Z0lDQWdZVnN5WFNCZUlHSmJNbDBzWEc0Z0lDQWdZVnN6WFNCZUlHSmJNMTFjYmlBZ1hWeHVmVnh1SWwxOSIsIihmdW5jdGlvbiAoQnVmZmVyKXtcbi8vIGJhc2VkIG9uIHRoZSBhZXMgaW1wbGltZW50YXRpb24gaW4gdHJpcGxlIHNlY1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2tleWJhc2UvdHJpcGxlc2VjXG5cbi8vIHdoaWNoIGlzIGluIHR1cm4gYmFzZWQgb24gdGhlIG9uZSBmcm9tIGNyeXB0by1qc1xuLy8gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMvXG5cbnZhciB1aW50X21heCA9IE1hdGgucG93KDIsIDMyKVxuZnVuY3Rpb24gZml4dXBfdWludDMyICh4KSB7XG4gIHZhciByZXQsIHhfcG9zXG4gIHJldCA9IHggPiB1aW50X21heCB8fCB4IDwgMCA/ICh4X3BvcyA9IE1hdGguYWJzKHgpICUgdWludF9tYXgsIHggPCAwID8gdWludF9tYXggLSB4X3BvcyA6IHhfcG9zKSA6IHhcbiAgcmV0dXJuIHJldFxufVxuZnVuY3Rpb24gc2NydWJfdmVjICh2KSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdi5sZW5ndGg7IHYrKykge1xuICAgIHZbaV0gPSAwXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIEdsb2JhbCAoKSB7XG4gIHRoaXMuU0JPWCA9IFtdXG4gIHRoaXMuSU5WX1NCT1ggPSBbXVxuICB0aGlzLlNVQl9NSVggPSBbW10sIFtdLCBbXSwgW11dXG4gIHRoaXMuSU5WX1NVQl9NSVggPSBbW10sIFtdLCBbXSwgW11dXG4gIHRoaXMuaW5pdCgpXG4gIHRoaXMuUkNPTiA9IFsweDAwLCAweDAxLCAweDAyLCAweDA0LCAweDA4LCAweDEwLCAweDIwLCAweDQwLCAweDgwLCAweDFiLCAweDM2XVxufVxuXG5HbG9iYWwucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBkLCBpLCBzeCwgdCwgeCwgeDIsIHg0LCB4OCwgeGksIF9pXG4gIGQgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBfaSwgX3Jlc3VsdHNcbiAgICBfcmVzdWx0cyA9IFtdXG4gICAgZm9yIChpID0gX2kgPSAwOyBfaSA8IDI1NjsgaSA9ICsrX2kpIHtcbiAgICAgIGlmIChpIDwgMTI4KSB7XG4gICAgICAgIF9yZXN1bHRzLnB1c2goaSA8PCAxKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3Jlc3VsdHMucHVzaCgoaSA8PCAxKSBeIDB4MTFiKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX3Jlc3VsdHNcbiAgfSkoKVxuICB4ID0gMFxuICB4aSA9IDBcbiAgZm9yIChpID0gX2kgPSAwOyBfaSA8IDI1NjsgaSA9ICsrX2kpIHtcbiAgICBzeCA9IHhpIF4gKHhpIDw8IDEpIF4gKHhpIDw8IDIpIF4gKHhpIDw8IDMpIF4gKHhpIDw8IDQpXG4gICAgc3ggPSAoc3ggPj4+IDgpIF4gKHN4ICYgMHhmZikgXiAweDYzXG4gICAgdGhpcy5TQk9YW3hdID0gc3hcbiAgICB0aGlzLklOVl9TQk9YW3N4XSA9IHhcbiAgICB4MiA9IGRbeF1cbiAgICB4NCA9IGRbeDJdXG4gICAgeDggPSBkW3g0XVxuICAgIHQgPSAoZFtzeF0gKiAweDEwMSkgXiAoc3ggKiAweDEwMTAxMDApXG4gICAgdGhpcy5TVUJfTUlYWzBdW3hdID0gKHQgPDwgMjQpIHwgKHQgPj4+IDgpXG4gICAgdGhpcy5TVUJfTUlYWzFdW3hdID0gKHQgPDwgMTYpIHwgKHQgPj4+IDE2KVxuICAgIHRoaXMuU1VCX01JWFsyXVt4XSA9ICh0IDw8IDgpIHwgKHQgPj4+IDI0KVxuICAgIHRoaXMuU1VCX01JWFszXVt4XSA9IHRcbiAgICB0ID0gKHg4ICogMHgxMDEwMTAxKSBeICh4NCAqIDB4MTAwMDEpIF4gKHgyICogMHgxMDEpIF4gKHggKiAweDEwMTAxMDApXG4gICAgdGhpcy5JTlZfU1VCX01JWFswXVtzeF0gPSAodCA8PCAyNCkgfCAodCA+Pj4gOClcbiAgICB0aGlzLklOVl9TVUJfTUlYWzFdW3N4XSA9ICh0IDw8IDE2KSB8ICh0ID4+PiAxNilcbiAgICB0aGlzLklOVl9TVUJfTUlYWzJdW3N4XSA9ICh0IDw8IDgpIHwgKHQgPj4+IDI0KVxuICAgIHRoaXMuSU5WX1NVQl9NSVhbM11bc3hdID0gdFxuICAgIGlmICh4ID09PSAwKSB7XG4gICAgICB4ID0geGkgPSAxXG4gICAgfSBlbHNlIHtcbiAgICAgIHggPSB4MiBeIGRbZFtkW3g4IF4geDJdXV1cbiAgICAgIHhpIF49IGRbZFt4aV1dXG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbnZhciBHID0gbmV3IEdsb2JhbCgpXG5cbkFFUy5ibG9ja1NpemUgPSA0ICogNFxuXG5BRVMucHJvdG90eXBlLmJsb2NrU2l6ZSA9IEFFUy5ibG9ja1NpemVcblxuQUVTLmtleVNpemUgPSAyNTYgLyA4XG5cbkFFUy5wcm90b3R5cGUua2V5U2l6ZSA9IEFFUy5rZXlTaXplXG5cbmZ1bmN0aW9uIGJ1ZmZlclRvQXJyYXkgKGJ1Zikge1xuICB2YXIgbGVuID0gYnVmLmxlbmd0aCAvIDRcbiAgdmFyIG91dCA9IG5ldyBBcnJheShsZW4pXG4gIHZhciBpID0gLTFcbiAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgIG91dFtpXSA9IGJ1Zi5yZWFkVUludDMyQkUoaSAqIDQpXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuZnVuY3Rpb24gQUVTIChrZXkpIHtcbiAgdGhpcy5fa2V5ID0gYnVmZmVyVG9BcnJheShrZXkpXG4gIHRoaXMuX2RvUmVzZXQoKVxufVxuXG5BRVMucHJvdG90eXBlLl9kb1Jlc2V0ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaW52S3NSb3csIGtleVNpemUsIGtleVdvcmRzLCBrc1Jvdywga3NSb3dzLCB0XG4gIGtleVdvcmRzID0gdGhpcy5fa2V5XG4gIGtleVNpemUgPSBrZXlXb3Jkcy5sZW5ndGhcbiAgdGhpcy5fblJvdW5kcyA9IGtleVNpemUgKyA2XG4gIGtzUm93cyA9ICh0aGlzLl9uUm91bmRzICsgMSkgKiA0XG4gIHRoaXMuX2tleVNjaGVkdWxlID0gW11cbiAgZm9yIChrc1JvdyA9IDA7IGtzUm93IDwga3NSb3dzOyBrc1JvdysrKSB7XG4gICAgdGhpcy5fa2V5U2NoZWR1bGVba3NSb3ddID0ga3NSb3cgPCBrZXlTaXplID8ga2V5V29yZHNba3NSb3ddIDogKHQgPSB0aGlzLl9rZXlTY2hlZHVsZVtrc1JvdyAtIDFdLCAoa3NSb3cgJSBrZXlTaXplKSA9PT0gMCA/ICh0ID0gKHQgPDwgOCkgfCAodCA+Pj4gMjQpLCB0ID0gKEcuU0JPWFt0ID4+PiAyNF0gPDwgMjQpIHwgKEcuU0JPWFsodCA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKEcuU0JPWFsodCA+Pj4gOCkgJiAweGZmXSA8PCA4KSB8IEcuU0JPWFt0ICYgMHhmZl0sIHQgXj0gRy5SQ09OWyhrc1JvdyAvIGtleVNpemUpIHwgMF0gPDwgMjQpIDoga2V5U2l6ZSA+IDYgJiYga3NSb3cgJSBrZXlTaXplID09PSA0ID8gdCA9IChHLlNCT1hbdCA+Pj4gMjRdIDw8IDI0KSB8IChHLlNCT1hbKHQgPj4+IDE2KSAmIDB4ZmZdIDw8IDE2KSB8IChHLlNCT1hbKHQgPj4+IDgpICYgMHhmZl0gPDwgOCkgfCBHLlNCT1hbdCAmIDB4ZmZdIDogdm9pZCAwLCB0aGlzLl9rZXlTY2hlZHVsZVtrc1JvdyAtIGtleVNpemVdIF4gdClcbiAgfVxuICB0aGlzLl9pbnZLZXlTY2hlZHVsZSA9IFtdXG4gIGZvciAoaW52S3NSb3cgPSAwOyBpbnZLc1JvdyA8IGtzUm93czsgaW52S3NSb3crKykge1xuICAgIGtzUm93ID0ga3NSb3dzIC0gaW52S3NSb3dcbiAgICB0ID0gdGhpcy5fa2V5U2NoZWR1bGVba3NSb3cgLSAoaW52S3NSb3cgJSA0ID8gMCA6IDQpXVxuICAgIHRoaXMuX2ludktleVNjaGVkdWxlW2ludktzUm93XSA9IGludktzUm93IDwgNCB8fCBrc1JvdyA8PSA0ID8gdCA6IEcuSU5WX1NVQl9NSVhbMF1bRy5TQk9YW3QgPj4+IDI0XV0gXiBHLklOVl9TVUJfTUlYWzFdW0cuU0JPWFsodCA+Pj4gMTYpICYgMHhmZl1dIF4gRy5JTlZfU1VCX01JWFsyXVtHLlNCT1hbKHQgPj4+IDgpICYgMHhmZl1dIF4gRy5JTlZfU1VCX01JWFszXVtHLlNCT1hbdCAmIDB4ZmZdXVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbkFFUy5wcm90b3R5cGUuZW5jcnlwdEJsb2NrID0gZnVuY3Rpb24gKE0pIHtcbiAgTSA9IGJ1ZmZlclRvQXJyYXkobmV3IEJ1ZmZlcihNKSlcbiAgdmFyIG91dCA9IHRoaXMuX2RvQ3J5cHRCbG9jayhNLCB0aGlzLl9rZXlTY2hlZHVsZSwgRy5TVUJfTUlYLCBHLlNCT1gpXG4gIHZhciBidWYgPSBuZXcgQnVmZmVyKDE2KVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbMF0sIDApXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFsxXSwgNClcbiAgYnVmLndyaXRlVUludDMyQkUob3V0WzJdLCA4KVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbM10sIDEyKVxuICByZXR1cm4gYnVmXG59XG5cbkFFUy5wcm90b3R5cGUuZGVjcnlwdEJsb2NrID0gZnVuY3Rpb24gKE0pIHtcbiAgTSA9IGJ1ZmZlclRvQXJyYXkobmV3IEJ1ZmZlcihNKSlcbiAgdmFyIHRlbXAgPSBbTVszXSwgTVsxXV1cbiAgTVsxXSA9IHRlbXBbMF1cbiAgTVszXSA9IHRlbXBbMV1cbiAgdmFyIG91dCA9IHRoaXMuX2RvQ3J5cHRCbG9jayhNLCB0aGlzLl9pbnZLZXlTY2hlZHVsZSwgRy5JTlZfU1VCX01JWCwgRy5JTlZfU0JPWClcbiAgdmFyIGJ1ZiA9IG5ldyBCdWZmZXIoMTYpXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFswXSwgMClcbiAgYnVmLndyaXRlVUludDMyQkUob3V0WzNdLCA0KVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbMl0sIDgpXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFsxXSwgMTIpXG4gIHJldHVybiBidWZcbn1cblxuQUVTLnByb3RvdHlwZS5zY3J1YiA9IGZ1bmN0aW9uICgpIHtcbiAgc2NydWJfdmVjKHRoaXMuX2tleVNjaGVkdWxlKVxuICBzY3J1Yl92ZWModGhpcy5faW52S2V5U2NoZWR1bGUpXG4gIHNjcnViX3ZlYyh0aGlzLl9rZXkpXG59XG5cbkFFUy5wcm90b3R5cGUuX2RvQ3J5cHRCbG9jayA9IGZ1bmN0aW9uIChNLCBrZXlTY2hlZHVsZSwgU1VCX01JWCwgU0JPWCkge1xuICB2YXIga3NSb3csIHMwLCBzMSwgczIsIHMzLCB0MCwgdDEsIHQyLCB0M1xuXG4gIHMwID0gTVswXSBeIGtleVNjaGVkdWxlWzBdXG4gIHMxID0gTVsxXSBeIGtleVNjaGVkdWxlWzFdXG4gIHMyID0gTVsyXSBeIGtleVNjaGVkdWxlWzJdXG4gIHMzID0gTVszXSBeIGtleVNjaGVkdWxlWzNdXG4gIGtzUm93ID0gNFxuICBmb3IgKHZhciByb3VuZCA9IDE7IHJvdW5kIDwgdGhpcy5fblJvdW5kczsgcm91bmQrKykge1xuICAgIHQwID0gU1VCX01JWFswXVtzMCA+Pj4gMjRdIF4gU1VCX01JWFsxXVsoczEgPj4+IDE2KSAmIDB4ZmZdIF4gU1VCX01JWFsyXVsoczIgPj4+IDgpICYgMHhmZl0gXiBTVUJfTUlYWzNdW3MzICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICAgIHQxID0gU1VCX01JWFswXVtzMSA+Pj4gMjRdIF4gU1VCX01JWFsxXVsoczIgPj4+IDE2KSAmIDB4ZmZdIF4gU1VCX01JWFsyXVsoczMgPj4+IDgpICYgMHhmZl0gXiBTVUJfTUlYWzNdW3MwICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICAgIHQyID0gU1VCX01JWFswXVtzMiA+Pj4gMjRdIF4gU1VCX01JWFsxXVsoczMgPj4+IDE2KSAmIDB4ZmZdIF4gU1VCX01JWFsyXVsoczAgPj4+IDgpICYgMHhmZl0gXiBTVUJfTUlYWzNdW3MxICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICAgIHQzID0gU1VCX01JWFswXVtzMyA+Pj4gMjRdIF4gU1VCX01JWFsxXVsoczAgPj4+IDE2KSAmIDB4ZmZdIF4gU1VCX01JWFsyXVsoczEgPj4+IDgpICYgMHhmZl0gXiBTVUJfTUlYWzNdW3MyICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICAgIHMwID0gdDBcbiAgICBzMSA9IHQxXG4gICAgczIgPSB0MlxuICAgIHMzID0gdDNcbiAgfVxuICB0MCA9ICgoU0JPWFtzMCA+Pj4gMjRdIDw8IDI0KSB8IChTQk9YWyhzMSA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKFNCT1hbKHMyID4+PiA4KSAmIDB4ZmZdIDw8IDgpIHwgU0JPWFtzMyAmIDB4ZmZdKSBeIGtleVNjaGVkdWxlW2tzUm93KytdXG4gIHQxID0gKChTQk9YW3MxID4+PiAyNF0gPDwgMjQpIHwgKFNCT1hbKHMyID4+PiAxNikgJiAweGZmXSA8PCAxNikgfCAoU0JPWFsoczMgPj4+IDgpICYgMHhmZl0gPDwgOCkgfCBTQk9YW3MwICYgMHhmZl0pIF4ga2V5U2NoZWR1bGVba3NSb3crK11cbiAgdDIgPSAoKFNCT1hbczIgPj4+IDI0XSA8PCAyNCkgfCAoU0JPWFsoczMgPj4+IDE2KSAmIDB4ZmZdIDw8IDE2KSB8IChTQk9YWyhzMCA+Pj4gOCkgJiAweGZmXSA8PCA4KSB8IFNCT1hbczEgJiAweGZmXSkgXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICB0MyA9ICgoU0JPWFtzMyA+Pj4gMjRdIDw8IDI0KSB8IChTQk9YWyhzMCA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKFNCT1hbKHMxID4+PiA4KSAmIDB4ZmZdIDw8IDgpIHwgU0JPWFtzMiAmIDB4ZmZdKSBeIGtleVNjaGVkdWxlW2tzUm93KytdXG4gIHJldHVybiBbXG4gICAgZml4dXBfdWludDMyKHQwKSxcbiAgICBmaXh1cF91aW50MzIodDEpLFxuICAgIGZpeHVwX3VpbnQzMih0MiksXG4gICAgZml4dXBfdWludDMyKHQzKVxuICBdXG59XG5cbmV4cG9ydHMuQUVTID0gQUVTXG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12WW5KdmQzTmxjbWxtZVMxemFXZHVMMjV2WkdWZmJXOWtkV3hsY3k5d1lYSnpaUzFoYzI0eEwyNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TFdGbGN5OWhaWE11YW5NaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWp0QlFVRkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CSWl3aVptbHNaU0k2SW1kbGJtVnlZWFJsWkM1cWN5SXNJbk52ZFhKalpWSnZiM1FpT2lJaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNld5SXZMeUJpWVhObFpDQnZiaUIwYUdVZ1lXVnpJR2x0Y0d4cGJXVnVkR0YwYVc5dUlHbHVJSFJ5YVhCc1pTQnpaV05jYmk4dklHaDBkSEJ6T2k4dloybDBhSFZpTG1OdmJTOXJaWGxpWVhObEwzUnlhWEJzWlhObFkxeHVYRzR2THlCM2FHbGphQ0JwY3lCcGJpQjBkWEp1SUdKaGMyVmtJRzl1SUhSb1pTQnZibVVnWm5KdmJTQmpjbmx3ZEc4dGFuTmNiaTh2SUdoMGRIQnpPaTh2WTI5a1pTNW5iMjluYkdVdVkyOXRMM0F2WTNKNWNIUnZMV3B6TDF4dVhHNTJZWElnZFdsdWRGOXRZWGdnUFNCTllYUm9MbkJ2ZHlneUxDQXpNaWxjYm1aMWJtTjBhVzl1SUdacGVIVndYM1ZwYm5Rek1pQW9lQ2tnZTF4dUlDQjJZWElnY21WMExDQjRYM0J2YzF4dUlDQnlaWFFnUFNCNElENGdkV2x1ZEY5dFlYZ2dmSHdnZUNBOElEQWdQeUFvZUY5d2IzTWdQU0JOWVhSb0xtRmljeWg0S1NBbElIVnBiblJmYldGNExDQjRJRHdnTUNBL0lIVnBiblJmYldGNElDMGdlRjl3YjNNZ09pQjRYM0J2Y3lrZ09pQjRYRzRnSUhKbGRIVnliaUJ5WlhSY2JuMWNibVoxYm1OMGFXOXVJSE5qY25WaVgzWmxZeUFvZGlrZ2UxeHVJQ0JtYjNJZ0tIWmhjaUJwSUQwZ01Ec2dhU0E4SUhZdWJHVnVaM1JvT3lCMkt5c3BJSHRjYmlBZ0lDQjJXMmxkSUQwZ01GeHVJQ0I5WEc0Z0lISmxkSFZ5YmlCbVlXeHpaVnh1ZlZ4dVhHNW1kVzVqZEdsdmJpQkhiRzlpWVd3Z0tDa2dlMXh1SUNCMGFHbHpMbE5DVDFnZ1BTQmJYVnh1SUNCMGFHbHpMa2xPVmw5VFFrOVlJRDBnVzExY2JpQWdkR2hwY3k1VFZVSmZUVWxZSUQwZ1cxdGRMQ0JiWFN3Z1cxMHNJRnRkWFZ4dUlDQjBhR2x6TGtsT1ZsOVRWVUpmVFVsWUlEMGdXMXRkTENCYlhTd2dXMTBzSUZ0ZFhWeHVJQ0IwYUdsekxtbHVhWFFvS1Z4dUlDQjBhR2x6TGxKRFQwNGdQU0JiTUhnd01Dd2dNSGd3TVN3Z01IZ3dNaXdnTUhnd05Dd2dNSGd3T0N3Z01IZ3hNQ3dnTUhneU1Dd2dNSGcwTUN3Z01IZzRNQ3dnTUhneFlpd2dNSGd6TmwxY2JuMWNibHh1UjJ4dlltRnNMbkJ5YjNSdmRIbHdaUzVwYm1sMElEMGdablZ1WTNScGIyNGdLQ2tnZTF4dUlDQjJZWElnWkN3Z2FTd2djM2dzSUhRc0lIZ3NJSGd5TENCNE5Dd2dlRGdzSUhocExDQmZhVnh1SUNCa0lEMGdLR1oxYm1OMGFXOXVJQ2dwSUh0Y2JpQWdJQ0IyWVhJZ1gya3NJRjl5WlhOMWJIUnpYRzRnSUNBZ1gzSmxjM1ZzZEhNZ1BTQmJYVnh1SUNBZ0lHWnZjaUFvYVNBOUlGOXBJRDBnTURzZ1gya2dQQ0F5TlRZN0lHa2dQU0FySzE5cEtTQjdYRzRnSUNBZ0lDQnBaaUFvYVNBOElERXlPQ2tnZTF4dUlDQWdJQ0FnSUNCZmNtVnpkV3gwY3k1d2RYTm9LR2tnUER3Z01TbGNiaUFnSUNBZ0lIMGdaV3h6WlNCN1hHNGdJQ0FnSUNBZ0lGOXlaWE4xYkhSekxuQjFjMmdvS0drZ1BEd2dNU2tnWGlBd2VERXhZaWxjYmlBZ0lDQWdJSDFjYmlBZ0lDQjlYRzRnSUNBZ2NtVjBkWEp1SUY5eVpYTjFiSFJ6WEc0Z0lIMHBLQ2xjYmlBZ2VDQTlJREJjYmlBZ2VHa2dQU0F3WEc0Z0lHWnZjaUFvYVNBOUlGOXBJRDBnTURzZ1gya2dQQ0F5TlRZN0lHa2dQU0FySzE5cEtTQjdYRzRnSUNBZ2MzZ2dQU0I0YVNCZUlDaDRhU0E4UENBeEtTQmVJQ2g0YVNBOFBDQXlLU0JlSUNoNGFTQThQQ0F6S1NCZUlDaDRhU0E4UENBMEtWeHVJQ0FnSUhONElEMGdLSE40SUQ0K1BpQTRLU0JlSUNoemVDQW1JREI0Wm1ZcElGNGdNSGcyTTF4dUlDQWdJSFJvYVhNdVUwSlBXRnQ0WFNBOUlITjRYRzRnSUNBZ2RHaHBjeTVKVGxaZlUwSlBXRnR6ZUYwZ1BTQjRYRzRnSUNBZ2VESWdQU0JrVzNoZFhHNGdJQ0FnZURRZ1BTQmtXM2d5WFZ4dUlDQWdJSGc0SUQwZ1pGdDRORjFjYmlBZ0lDQjBJRDBnS0dSYmMzaGRJQ29nTUhneE1ERXBJRjRnS0hONElDb2dNSGd4TURFd01UQXdLVnh1SUNBZ0lIUm9hWE11VTFWQ1gwMUpXRnN3WFZ0NFhTQTlJQ2gwSUR3OElESTBLU0I4SUNoMElENCtQaUE0S1Z4dUlDQWdJSFJvYVhNdVUxVkNYMDFKV0ZzeFhWdDRYU0E5SUNoMElEdzhJREUyS1NCOElDaDBJRDQrUGlBeE5pbGNiaUFnSUNCMGFHbHpMbE5WUWw5TlNWaGJNbDFiZUYwZ1BTQW9kQ0E4UENBNEtTQjhJQ2gwSUQ0K1BpQXlOQ2xjYmlBZ0lDQjBhR2x6TGxOVlFsOU5TVmhiTTExYmVGMGdQU0IwWEc0Z0lDQWdkQ0E5SUNoNE9DQXFJREI0TVRBeE1ERXdNU2tnWGlBb2VEUWdLaUF3ZURFd01EQXhLU0JlSUNoNE1pQXFJREI0TVRBeEtTQmVJQ2g0SUNvZ01IZ3hNREV3TVRBd0tWeHVJQ0FnSUhSb2FYTXVTVTVXWDFOVlFsOU5TVmhiTUYxYmMzaGRJRDBnS0hRZ1BEd2dNalFwSUh3Z0tIUWdQajQrSURncFhHNGdJQ0FnZEdocGN5NUpUbFpmVTFWQ1gwMUpXRnN4WFZ0emVGMGdQU0FvZENBOFBDQXhOaWtnZkNBb2RDQStQajRnTVRZcFhHNGdJQ0FnZEdocGN5NUpUbFpmVTFWQ1gwMUpXRnN5WFZ0emVGMGdQU0FvZENBOFBDQTRLU0I4SUNoMElENCtQaUF5TkNsY2JpQWdJQ0IwYUdsekxrbE9WbDlUVlVKZlRVbFlXek5kVzNONFhTQTlJSFJjYmlBZ0lDQnBaaUFvZUNBOVBUMGdNQ2tnZTF4dUlDQWdJQ0FnZUNBOUlIaHBJRDBnTVZ4dUlDQWdJSDBnWld4elpTQjdYRzRnSUNBZ0lDQjRJRDBnZURJZ1hpQmtXMlJiWkZ0NE9DQmVJSGd5WFYxZFhHNGdJQ0FnSUNCNGFTQmVQU0JrVzJSYmVHbGRYVnh1SUNBZ0lIMWNiaUFnZlZ4dUlDQnlaWFIxY200Z2RISjFaVnh1ZlZ4dVhHNTJZWElnUnlBOUlHNWxkeUJIYkc5aVlXd29LVnh1WEc1QlJWTXVZbXh2WTJ0VGFYcGxJRDBnTkNBcUlEUmNibHh1UVVWVExuQnliM1J2ZEhsd1pTNWliRzlqYTFOcGVtVWdQU0JCUlZNdVlteHZZMnRUYVhwbFhHNWNia0ZGVXk1clpYbFRhWHBsSUQwZ01qVTJJQzhnT0Z4dVhHNUJSVk11Y0hKdmRHOTBlWEJsTG10bGVWTnBlbVVnUFNCQlJWTXVhMlY1VTJsNlpWeHVYRzVtZFc1amRHbHZiaUJpZFdabVpYSlViMEZ5Y21GNUlDaGlkV1lwSUh0Y2JpQWdkbUZ5SUd4bGJpQTlJR0oxWmk1c1pXNW5kR2dnTHlBMFhHNGdJSFpoY2lCdmRYUWdQU0J1WlhjZ1FYSnlZWGtvYkdWdUtWeHVJQ0IyWVhJZ2FTQTlJQzB4WEc0Z0lIZG9hV3hsSUNncksya2dQQ0JzWlc0cElIdGNiaUFnSUNCdmRYUmJhVjBnUFNCaWRXWXVjbVZoWkZWSmJuUXpNa0pGS0drZ0tpQTBLVnh1SUNCOVhHNGdJSEpsZEhWeWJpQnZkWFJjYm4xY2JtWjFibU4wYVc5dUlFRkZVeUFvYTJWNUtTQjdYRzRnSUhSb2FYTXVYMnRsZVNBOUlHSjFabVpsY2xSdlFYSnlZWGtvYTJWNUtWeHVJQ0IwYUdsekxsOWtiMUpsYzJWMEtDbGNibjFjYmx4dVFVVlRMbkJ5YjNSdmRIbHdaUzVmWkc5U1pYTmxkQ0E5SUdaMWJtTjBhVzl1SUNncElIdGNiaUFnZG1GeUlHbHVka3R6VW05M0xDQnJaWGxUYVhwbExDQnJaWGxYYjNKa2N5d2dhM05TYjNjc0lHdHpVbTkzY3l3Z2RGeHVJQ0JyWlhsWGIzSmtjeUE5SUhSb2FYTXVYMnRsZVZ4dUlDQnJaWGxUYVhwbElEMGdhMlY1VjI5eVpITXViR1Z1WjNSb1hHNGdJSFJvYVhNdVgyNVNiM1Z1WkhNZ1BTQnJaWGxUYVhwbElDc2dObHh1SUNCcmMxSnZkM01nUFNBb2RHaHBjeTVmYmxKdmRXNWtjeUFySURFcElDb2dORnh1SUNCMGFHbHpMbDlyWlhsVFkyaGxaSFZzWlNBOUlGdGRYRzRnSUdadmNpQW9hM05TYjNjZ1BTQXdPeUJyYzFKdmR5QThJR3R6VW05M2N6c2dhM05TYjNjckt5a2dlMXh1SUNBZ0lIUm9hWE11WDJ0bGVWTmphR1ZrZFd4bFcydHpVbTkzWFNBOUlHdHpVbTkzSUR3Z2EyVjVVMmw2WlNBL0lHdGxlVmR2Y21SelcydHpVbTkzWFNBNklDaDBJRDBnZEdocGN5NWZhMlY1VTJOb1pXUjFiR1ZiYTNOU2IzY2dMU0F4WFN3Z0tHdHpVbTkzSUNVZ2EyVjVVMmw2WlNrZ1BUMDlJREFnUHlBb2RDQTlJQ2gwSUR3OElEZ3BJSHdnS0hRZ1BqNCtJREkwS1N3Z2RDQTlJQ2hITGxOQ1QxaGJkQ0ErUGo0Z01qUmRJRHc4SURJMEtTQjhJQ2hITGxOQ1QxaGJLSFFnUGo0K0lERTJLU0FtSURCNFptWmRJRHc4SURFMktTQjhJQ2hITGxOQ1QxaGJLSFFnUGo0K0lEZ3BJQ1lnTUhobVpsMGdQRHdnT0NrZ2ZDQkhMbE5DVDFoYmRDQW1JREI0Wm1aZExDQjBJRjQ5SUVjdVVrTlBUbHNvYTNOU2IzY2dMeUJyWlhsVGFYcGxLU0I4SURCZElEdzhJREkwS1NBNklHdGxlVk5wZW1VZ1BpQTJJQ1ltSUd0elVtOTNJQ1VnYTJWNVUybDZaU0E5UFQwZ05DQS9JSFFnUFNBb1J5NVRRazlZVzNRZ1BqNCtJREkwWFNBOFBDQXlOQ2tnZkNBb1J5NVRRazlZV3loMElENCtQaUF4TmlrZ0ppQXdlR1ptWFNBOFBDQXhOaWtnZkNBb1J5NVRRazlZV3loMElENCtQaUE0S1NBbUlEQjRabVpkSUR3OElEZ3BJSHdnUnk1VFFrOVlXM1FnSmlBd2VHWm1YU0E2SUhadmFXUWdNQ3dnZEdocGN5NWZhMlY1VTJOb1pXUjFiR1ZiYTNOU2IzY2dMU0JyWlhsVGFYcGxYU0JlSUhRcFhHNGdJSDFjYmlBZ2RHaHBjeTVmYVc1MlMyVjVVMk5vWldSMWJHVWdQU0JiWFZ4dUlDQm1iM0lnS0dsdWRrdHpVbTkzSUQwZ01Ec2dhVzUyUzNOU2IzY2dQQ0JyYzFKdmQzTTdJR2x1ZGt0elVtOTNLeXNwSUh0Y2JpQWdJQ0JyYzFKdmR5QTlJR3R6VW05M2N5QXRJR2x1ZGt0elVtOTNYRzRnSUNBZ2RDQTlJSFJvYVhNdVgydGxlVk5qYUdWa2RXeGxXMnR6VW05M0lDMGdLR2x1ZGt0elVtOTNJQ1VnTkNBL0lEQWdPaUEwS1YxY2JpQWdJQ0IwYUdsekxsOXBiblpMWlhsVFkyaGxaSFZzWlZ0cGJuWkxjMUp2ZDEwZ1BTQnBiblpMYzFKdmR5QThJRFFnZkh3Z2EzTlNiM2NnUEQwZ05DQS9JSFFnT2lCSExrbE9WbDlUVlVKZlRVbFlXekJkVzBjdVUwSlBXRnQwSUQ0K1BpQXlORjFkSUY0Z1J5NUpUbFpmVTFWQ1gwMUpXRnN4WFZ0SExsTkNUMWhiS0hRZ1BqNCtJREUyS1NBbUlEQjRabVpkWFNCZUlFY3VTVTVXWDFOVlFsOU5TVmhiTWwxYlJ5NVRRazlZV3loMElENCtQaUE0S1NBbUlEQjRabVpkWFNCZUlFY3VTVTVXWDFOVlFsOU5TVmhiTTExYlJ5NVRRazlZVzNRZ0ppQXdlR1ptWFYxY2JpQWdmVnh1SUNCeVpYUjFjbTRnZEhKMVpWeHVmVnh1WEc1QlJWTXVjSEp2ZEc5MGVYQmxMbVZ1WTNKNWNIUkNiRzlqYXlBOUlHWjFibU4wYVc5dUlDaE5LU0I3WEc0Z0lFMGdQU0JpZFdabVpYSlViMEZ5Y21GNUtHNWxkeUJDZFdabVpYSW9UU2twWEc0Z0lIWmhjaUJ2ZFhRZ1BTQjBhR2x6TGw5a2IwTnllWEIwUW14dlkyc29UU3dnZEdocGN5NWZhMlY1VTJOb1pXUjFiR1VzSUVjdVUxVkNYMDFKV0N3Z1J5NVRRazlZS1Z4dUlDQjJZWElnWW5WbUlEMGdibVYzSUVKMVptWmxjaWd4TmlsY2JpQWdZblZtTG5keWFYUmxWVWx1ZERNeVFrVW9iM1YwV3pCZExDQXdLVnh1SUNCaWRXWXVkM0pwZEdWVlNXNTBNekpDUlNodmRYUmJNVjBzSURRcFhHNGdJR0oxWmk1M2NtbDBaVlZKYm5Rek1rSkZLRzkxZEZzeVhTd2dPQ2xjYmlBZ1luVm1MbmR5YVhSbFZVbHVkRE15UWtVb2IzVjBXek5kTENBeE1pbGNiaUFnY21WMGRYSnVJR0oxWmx4dWZWeHVYRzVCUlZNdWNISnZkRzkwZVhCbExtUmxZM0o1Y0hSQ2JHOWpheUE5SUdaMWJtTjBhVzl1SUNoTktTQjdYRzRnSUUwZ1BTQmlkV1ptWlhKVWIwRnljbUY1S0c1bGR5QkNkV1ptWlhJb1RTa3BYRzRnSUhaaGNpQjBaVzF3SUQwZ1cwMWJNMTBzSUUxYk1WMWRYRzRnSUUxYk1WMGdQU0IwWlcxd1d6QmRYRzRnSUUxYk0xMGdQU0IwWlcxd1d6RmRYRzRnSUhaaGNpQnZkWFFnUFNCMGFHbHpMbDlrYjBOeWVYQjBRbXh2WTJzb1RTd2dkR2hwY3k1ZmFXNTJTMlY1VTJOb1pXUjFiR1VzSUVjdVNVNVdYMU5WUWw5TlNWZ3NJRWN1U1U1V1gxTkNUMWdwWEc0Z0lIWmhjaUJpZFdZZ1BTQnVaWGNnUW5WbVptVnlLREUyS1Z4dUlDQmlkV1l1ZDNKcGRHVlZTVzUwTXpKQ1JTaHZkWFJiTUYwc0lEQXBYRzRnSUdKMVppNTNjbWwwWlZWSmJuUXpNa0pGS0c5MWRGc3pYU3dnTkNsY2JpQWdZblZtTG5keWFYUmxWVWx1ZERNeVFrVW9iM1YwV3pKZExDQTRLVnh1SUNCaWRXWXVkM0pwZEdWVlNXNTBNekpDUlNodmRYUmJNVjBzSURFeUtWeHVJQ0J5WlhSMWNtNGdZblZtWEc1OVhHNWNia0ZGVXk1d2NtOTBiM1I1Y0dVdWMyTnlkV0lnUFNCbWRXNWpkR2x2YmlBb0tTQjdYRzRnSUhOamNuVmlYM1psWXloMGFHbHpMbDlyWlhsVFkyaGxaSFZzWlNsY2JpQWdjMk55ZFdKZmRtVmpLSFJvYVhNdVgybHVka3RsZVZOamFHVmtkV3hsS1Z4dUlDQnpZM0oxWWw5MlpXTW9kR2hwY3k1ZmEyVjVLVnh1ZlZ4dVhHNUJSVk11Y0hKdmRHOTBlWEJsTGw5a2IwTnllWEIwUW14dlkyc2dQU0JtZFc1amRHbHZiaUFvVFN3Z2EyVjVVMk5vWldSMWJHVXNJRk5WUWw5TlNWZ3NJRk5DVDFncElIdGNiaUFnZG1GeUlHdHpVbTkzTENCek1Dd2djekVzSUhNeUxDQnpNeXdnZERBc0lIUXhMQ0IwTWl3Z2RETmNibHh1SUNCek1DQTlJRTFiTUYwZ1hpQnJaWGxUWTJobFpIVnNaVnN3WFZ4dUlDQnpNU0E5SUUxYk1WMGdYaUJyWlhsVFkyaGxaSFZzWlZzeFhWeHVJQ0J6TWlBOUlFMWJNbDBnWGlCclpYbFRZMmhsWkhWc1pWc3lYVnh1SUNCek15QTlJRTFiTTEwZ1hpQnJaWGxUWTJobFpIVnNaVnN6WFZ4dUlDQnJjMUp2ZHlBOUlEUmNiaUFnWm05eUlDaDJZWElnY205MWJtUWdQU0F4T3lCeWIzVnVaQ0E4SUhSb2FYTXVYMjVTYjNWdVpITTdJSEp2ZFc1a0t5c3BJSHRjYmlBZ0lDQjBNQ0E5SUZOVlFsOU5TVmhiTUYxYmN6QWdQajQrSURJMFhTQmVJRk5WUWw5TlNWaGJNVjFiS0hNeElENCtQaUF4TmlrZ0ppQXdlR1ptWFNCZUlGTlZRbDlOU1ZoYk1sMWJLSE15SUQ0K1BpQTRLU0FtSURCNFptWmRJRjRnVTFWQ1gwMUpXRnN6WFZ0ek15QW1JREI0Wm1aZElGNGdhMlY1VTJOb1pXUjFiR1ZiYTNOU2IzY3JLMTFjYmlBZ0lDQjBNU0E5SUZOVlFsOU5TVmhiTUYxYmN6RWdQajQrSURJMFhTQmVJRk5WUWw5TlNWaGJNVjFiS0hNeUlENCtQaUF4TmlrZ0ppQXdlR1ptWFNCZUlGTlZRbDlOU1ZoYk1sMWJLSE16SUQ0K1BpQTRLU0FtSURCNFptWmRJRjRnVTFWQ1gwMUpXRnN6WFZ0ek1DQW1JREI0Wm1aZElGNGdhMlY1VTJOb1pXUjFiR1ZiYTNOU2IzY3JLMTFjYmlBZ0lDQjBNaUE5SUZOVlFsOU5TVmhiTUYxYmN6SWdQajQrSURJMFhTQmVJRk5WUWw5TlNWaGJNVjFiS0hNeklENCtQaUF4TmlrZ0ppQXdlR1ptWFNCZUlGTlZRbDlOU1ZoYk1sMWJLSE13SUQ0K1BpQTRLU0FtSURCNFptWmRJRjRnVTFWQ1gwMUpXRnN6WFZ0ek1TQW1JREI0Wm1aZElGNGdhMlY1VTJOb1pXUjFiR1ZiYTNOU2IzY3JLMTFjYmlBZ0lDQjBNeUE5SUZOVlFsOU5TVmhiTUYxYmN6TWdQajQrSURJMFhTQmVJRk5WUWw5TlNWaGJNVjFiS0hNd0lENCtQaUF4TmlrZ0ppQXdlR1ptWFNCZUlGTlZRbDlOU1ZoYk1sMWJLSE14SUQ0K1BpQTRLU0FtSURCNFptWmRJRjRnVTFWQ1gwMUpXRnN6WFZ0ek1pQW1JREI0Wm1aZElGNGdhMlY1VTJOb1pXUjFiR1ZiYTNOU2IzY3JLMTFjYmlBZ0lDQnpNQ0E5SUhRd1hHNGdJQ0FnY3pFZ1BTQjBNVnh1SUNBZ0lITXlJRDBnZERKY2JpQWdJQ0J6TXlBOUlIUXpYRzRnSUgxY2JpQWdkREFnUFNBb0tGTkNUMWhiY3pBZ1BqNCtJREkwWFNBOFBDQXlOQ2tnZkNBb1UwSlBXRnNvY3pFZ1BqNCtJREUyS1NBbUlEQjRabVpkSUR3OElERTJLU0I4SUNoVFFrOVlXeWh6TWlBK1BqNGdPQ2tnSmlBd2VHWm1YU0E4UENBNEtTQjhJRk5DVDFoYmN6TWdKaUF3ZUdabVhTa2dYaUJyWlhsVFkyaGxaSFZzWlZ0cmMxSnZkeXNyWFZ4dUlDQjBNU0E5SUNnb1UwSlBXRnR6TVNBK1BqNGdNalJkSUR3OElESTBLU0I4SUNoVFFrOVlXeWh6TWlBK1BqNGdNVFlwSUNZZ01IaG1abDBnUER3Z01UWXBJSHdnS0ZOQ1QxaGJLSE16SUQ0K1BpQTRLU0FtSURCNFptWmRJRHc4SURncElId2dVMEpQV0Z0ek1DQW1JREI0Wm1aZEtTQmVJR3RsZVZOamFHVmtkV3hsVzJ0elVtOTNLeXRkWEc0Z0lIUXlJRDBnS0NoVFFrOVlXM015SUQ0K1BpQXlORjBnUER3Z01qUXBJSHdnS0ZOQ1QxaGJLSE16SUQ0K1BpQXhOaWtnSmlBd2VHWm1YU0E4UENBeE5pa2dmQ0FvVTBKUFdGc29jekFnUGo0K0lEZ3BJQ1lnTUhobVpsMGdQRHdnT0NrZ2ZDQlRRazlZVzNNeElDWWdNSGhtWmwwcElGNGdhMlY1VTJOb1pXUjFiR1ZiYTNOU2IzY3JLMTFjYmlBZ2RETWdQU0FvS0ZOQ1QxaGJjek1nUGo0K0lESTBYU0E4UENBeU5Da2dmQ0FvVTBKUFdGc29jekFnUGo0K0lERTJLU0FtSURCNFptWmRJRHc4SURFMktTQjhJQ2hUUWs5WVd5aHpNU0ErUGo0Z09Da2dKaUF3ZUdabVhTQThQQ0E0S1NCOElGTkNUMWhiY3pJZ0ppQXdlR1ptWFNrZ1hpQnJaWGxUWTJobFpIVnNaVnRyYzFKdmR5c3JYVnh1SUNCeVpYUjFjbTRnVzF4dUlDQWdJR1pwZUhWd1gzVnBiblF6TWloME1Da3NYRzRnSUNBZ1ptbDRkWEJmZFdsdWRETXlLSFF4S1N4Y2JpQWdJQ0JtYVhoMWNGOTFhVzUwTXpJb2RESXBMRnh1SUNBZ0lHWnBlSFZ3WDNWcGJuUXpNaWgwTXlsY2JpQWdYVnh1ZlZ4dVhHNWxlSEJ2Y25SekxrRkZVeUE5SUVGRlUxeHVJbDE5IiwiLy8gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vaW5kdXRueS9zZWxmLXNpZ25lZC9ibG9iL2doLXBhZ2VzL2xpYi9hc24xLmpzXG4vLyBGZWRvciwgeW91IGFyZSBhbWF6aW5nLlxuXG52YXIgYXNuMSA9IHJlcXVpcmUoJ2FzbjEuanMnKVxuXG52YXIgUlNBUHJpdmF0ZUtleSA9IGFzbjEuZGVmaW5lKCdSU0FQcml2YXRlS2V5JywgZnVuY3Rpb24gKCkge1xuICB0aGlzLnNlcSgpLm9iaihcbiAgICB0aGlzLmtleSgndmVyc2lvbicpLmludCgpLFxuICAgIHRoaXMua2V5KCdtb2R1bHVzJykuaW50KCksXG4gICAgdGhpcy5rZXkoJ3B1YmxpY0V4cG9uZW50JykuaW50KCksXG4gICAgdGhpcy5rZXkoJ3ByaXZhdGVFeHBvbmVudCcpLmludCgpLFxuICAgIHRoaXMua2V5KCdwcmltZTEnKS5pbnQoKSxcbiAgICB0aGlzLmtleSgncHJpbWUyJykuaW50KCksXG4gICAgdGhpcy5rZXkoJ2V4cG9uZW50MScpLmludCgpLFxuICAgIHRoaXMua2V5KCdleHBvbmVudDInKS5pbnQoKSxcbiAgICB0aGlzLmtleSgnY29lZmZpY2llbnQnKS5pbnQoKVxuICApXG59KVxuZXhwb3J0cy5SU0FQcml2YXRlS2V5ID0gUlNBUHJpdmF0ZUtleVxuXG52YXIgUlNBUHVibGljS2V5ID0gYXNuMS5kZWZpbmUoJ1JTQVB1YmxpY0tleScsIGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5zZXEoKS5vYmooXG4gICAgdGhpcy5rZXkoJ21vZHVsdXMnKS5pbnQoKSxcbiAgICB0aGlzLmtleSgncHVibGljRXhwb25lbnQnKS5pbnQoKVxuICApXG59KVxuZXhwb3J0cy5SU0FQdWJsaWNLZXkgPSBSU0FQdWJsaWNLZXlcblxudmFyIFB1YmxpY0tleSA9IGFzbjEuZGVmaW5lKCdTdWJqZWN0UHVibGljS2V5SW5mbycsIGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5zZXEoKS5vYmooXG4gICAgdGhpcy5rZXkoJ2FsZ29yaXRobScpLnVzZShBbGdvcml0aG1JZGVudGlmaWVyKSxcbiAgICB0aGlzLmtleSgnc3ViamVjdFB1YmxpY0tleScpLmJpdHN0cigpXG4gIClcbn0pXG5leHBvcnRzLlB1YmxpY0tleSA9IFB1YmxpY0tleVxuXG52YXIgQWxnb3JpdGhtSWRlbnRpZmllciA9IGFzbjEuZGVmaW5lKCdBbGdvcml0aG1JZGVudGlmaWVyJywgZnVuY3Rpb24gKCkge1xuICB0aGlzLnNlcSgpLm9iaihcbiAgICB0aGlzLmtleSgnYWxnb3JpdGhtJykub2JqaWQoKSxcbiAgICB0aGlzLmtleSgnbm9uZScpLm51bGxfKCkub3B0aW9uYWwoKSxcbiAgICB0aGlzLmtleSgnY3VydmUnKS5vYmppZCgpLm9wdGlvbmFsKCksXG4gICAgdGhpcy5rZXkoJ3BhcmFtcycpLnNlcSgpLm9iaihcbiAgICAgIHRoaXMua2V5KCdwJykuaW50KCksXG4gICAgICB0aGlzLmtleSgncScpLmludCgpLFxuICAgICAgdGhpcy5rZXkoJ2cnKS5pbnQoKVxuICAgICkub3B0aW9uYWwoKVxuICApXG59KVxuXG52YXIgUHJpdmF0ZUtleUluZm8gPSBhc24xLmRlZmluZSgnUHJpdmF0ZUtleUluZm8nLCBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuc2VxKCkub2JqKFxuICAgIHRoaXMua2V5KCd2ZXJzaW9uJykuaW50KCksXG4gICAgdGhpcy5rZXkoJ2FsZ29yaXRobScpLnVzZShBbGdvcml0aG1JZGVudGlmaWVyKSxcbiAgICB0aGlzLmtleSgnc3ViamVjdFByaXZhdGVLZXknKS5vY3RzdHIoKVxuICApXG59KVxuZXhwb3J0cy5Qcml2YXRlS2V5ID0gUHJpdmF0ZUtleUluZm9cbnZhciBFbmNyeXB0ZWRQcml2YXRlS2V5SW5mbyA9IGFzbjEuZGVmaW5lKCdFbmNyeXB0ZWRQcml2YXRlS2V5SW5mbycsIGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5zZXEoKS5vYmooXG4gICAgdGhpcy5rZXkoJ2FsZ29yaXRobScpLnNlcSgpLm9iaihcbiAgICAgIHRoaXMua2V5KCdpZCcpLm9iamlkKCksXG4gICAgICB0aGlzLmtleSgnZGVjcnlwdCcpLnNlcSgpLm9iaihcbiAgICAgICAgdGhpcy5rZXkoJ2tkZScpLnNlcSgpLm9iaihcbiAgICAgICAgICB0aGlzLmtleSgnaWQnKS5vYmppZCgpLFxuICAgICAgICAgIHRoaXMua2V5KCdrZGVwYXJhbXMnKS5zZXEoKS5vYmooXG4gICAgICAgICAgICB0aGlzLmtleSgnc2FsdCcpLm9jdHN0cigpLFxuICAgICAgICAgICAgdGhpcy5rZXkoJ2l0ZXJzJykuaW50KClcbiAgICAgICAgICApXG4gICAgICAgICksXG4gICAgICAgIHRoaXMua2V5KCdjaXBoZXInKS5zZXEoKS5vYmooXG4gICAgICAgICAgdGhpcy5rZXkoJ2FsZ28nKS5vYmppZCgpLFxuICAgICAgICAgIHRoaXMua2V5KCdpdicpLm9jdHN0cigpXG4gICAgICAgIClcbiAgICAgIClcbiAgICApLFxuICAgIHRoaXMua2V5KCdzdWJqZWN0UHJpdmF0ZUtleScpLm9jdHN0cigpXG4gIClcbn0pXG5cbmV4cG9ydHMuRW5jcnlwdGVkUHJpdmF0ZUtleSA9IEVuY3J5cHRlZFByaXZhdGVLZXlJbmZvXG5cbnZhciBEU0FQcml2YXRlS2V5ID0gYXNuMS5kZWZpbmUoJ0RTQVByaXZhdGVLZXknLCBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuc2VxKCkub2JqKFxuICAgIHRoaXMua2V5KCd2ZXJzaW9uJykuaW50KCksXG4gICAgdGhpcy5rZXkoJ3AnKS5pbnQoKSxcbiAgICB0aGlzLmtleSgncScpLmludCgpLFxuICAgIHRoaXMua2V5KCdnJykuaW50KCksXG4gICAgdGhpcy5rZXkoJ3B1Yl9rZXknKS5pbnQoKSxcbiAgICB0aGlzLmtleSgncHJpdl9rZXknKS5pbnQoKVxuICApXG59KVxuZXhwb3J0cy5EU0FQcml2YXRlS2V5ID0gRFNBUHJpdmF0ZUtleVxuXG5leHBvcnRzLkRTQXBhcmFtID0gYXNuMS5kZWZpbmUoJ0RTQXBhcmFtJywgZnVuY3Rpb24gKCkge1xuICB0aGlzLmludCgpXG59KVxudmFyIEVDUHJpdmF0ZUtleSA9IGFzbjEuZGVmaW5lKCdFQ1ByaXZhdGVLZXknLCBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuc2VxKCkub2JqKFxuICAgIHRoaXMua2V5KCd2ZXJzaW9uJykuaW50KCksXG4gICAgdGhpcy5rZXkoJ3ByaXZhdGVLZXknKS5vY3RzdHIoKSxcbiAgICB0aGlzLmtleSgncGFyYW1ldGVycycpLm9wdGlvbmFsKCkuZXhwbGljaXQoMCkudXNlKEVDUGFyYW1ldGVycyksXG4gICAgdGhpcy5rZXkoJ3B1YmxpY0tleScpLm9wdGlvbmFsKCkuZXhwbGljaXQoMSkuYml0c3RyKClcbiAgKVxufSlcbmV4cG9ydHMuRUNQcml2YXRlS2V5ID0gRUNQcml2YXRlS2V5XG52YXIgRUNQYXJhbWV0ZXJzID0gYXNuMS5kZWZpbmUoJ0VDUGFyYW1ldGVycycsIGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5jaG9pY2Uoe1xuICAgIG5hbWVkQ3VydmU6IHRoaXMub2JqaWQoKVxuICB9KVxufSlcblxuZXhwb3J0cy5zaWduYXR1cmUgPSBhc24xLmRlZmluZSgnc2lnbmF0dXJlJywgZnVuY3Rpb24gKCkge1xuICB0aGlzLnNlcSgpLm9iaihcbiAgICB0aGlzLmtleSgncicpLmludCgpLFxuICAgIHRoaXMua2V5KCdzJykuaW50KClcbiAgKVxufSlcbiIsInZhciBhc24xID0gZXhwb3J0cztcblxuYXNuMS5iaWdudW0gPSByZXF1aXJlKCdibi5qcycpO1xuXG5hc24xLmRlZmluZSA9IHJlcXVpcmUoJy4vYXNuMS9hcGknKS5kZWZpbmU7XG5hc24xLmJhc2UgPSByZXF1aXJlKCcuL2FzbjEvYmFzZScpO1xuYXNuMS5jb25zdGFudHMgPSByZXF1aXJlKCcuL2FzbjEvY29uc3RhbnRzJyk7XG5hc24xLmRlY29kZXJzID0gcmVxdWlyZSgnLi9hc24xL2RlY29kZXJzJyk7XG5hc24xLmVuY29kZXJzID0gcmVxdWlyZSgnLi9hc24xL2VuY29kZXJzJyk7XG4iLCJ2YXIgZW5jb2RlcnMgPSBleHBvcnRzO1xuXG5lbmNvZGVycy5kZXIgPSByZXF1aXJlKCcuL2RlcicpO1xuZW5jb2RlcnMucGVtID0gcmVxdWlyZSgnLi9wZW0nKTtcbiIsInZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgQnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJykuQnVmZmVyO1xuXG52YXIgYXNuMSA9IHJlcXVpcmUoJy4uLy4uL2FzbjEnKTtcbnZhciBERVJFbmNvZGVyID0gcmVxdWlyZSgnLi9kZXInKTtcblxuZnVuY3Rpb24gUEVNRW5jb2RlcihlbnRpdHkpIHtcbiAgREVSRW5jb2Rlci5jYWxsKHRoaXMsIGVudGl0eSk7XG4gIHRoaXMuZW5jID0gJ3BlbSc7XG59O1xuaW5oZXJpdHMoUEVNRW5jb2RlciwgREVSRW5jb2Rlcik7XG5tb2R1bGUuZXhwb3J0cyA9IFBFTUVuY29kZXI7XG5cblBFTUVuY29kZXIucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShkYXRhLCBvcHRpb25zKSB7XG4gIHZhciBidWYgPSBERVJFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGUuY2FsbCh0aGlzLCBkYXRhKTtcblxuICB2YXIgcCA9IGJ1Zi50b1N0cmluZygnYmFzZTY0Jyk7XG4gIHZhciBvdXQgPSBbICctLS0tLUJFR0lOICcgKyBvcHRpb25zLmxhYmVsICsgJy0tLS0tJyBdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHAubGVuZ3RoOyBpICs9IDY0KVxuICAgIG91dC5wdXNoKHAuc2xpY2UoaSwgaSArIDY0KSk7XG4gIG91dC5wdXNoKCctLS0tLUVORCAnICsgb3B0aW9ucy5sYWJlbCArICctLS0tLScpO1xuICByZXR1cm4gb3V0LmpvaW4oJ1xcbicpO1xufTtcbiIsInZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgQnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJykuQnVmZmVyO1xuXG52YXIgYXNuMSA9IHJlcXVpcmUoJy4uLy4uL2FzbjEnKTtcbnZhciBiYXNlID0gYXNuMS5iYXNlO1xudmFyIGJpZ251bSA9IGFzbjEuYmlnbnVtO1xuXG4vLyBJbXBvcnQgREVSIGNvbnN0YW50c1xudmFyIGRlciA9IGFzbjEuY29uc3RhbnRzLmRlcjtcblxuZnVuY3Rpb24gREVSRW5jb2RlcihlbnRpdHkpIHtcbiAgdGhpcy5lbmMgPSAnZGVyJztcbiAgdGhpcy5uYW1lID0gZW50aXR5Lm5hbWU7XG4gIHRoaXMuZW50aXR5ID0gZW50aXR5O1xuXG4gIC8vIENvbnN0cnVjdCBiYXNlIHRyZWVcbiAgdGhpcy50cmVlID0gbmV3IERFUk5vZGUoKTtcbiAgdGhpcy50cmVlLl9pbml0KGVudGl0eS5ib2R5KTtcbn07XG5tb2R1bGUuZXhwb3J0cyA9IERFUkVuY29kZXI7XG5cbkRFUkVuY29kZXIucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShkYXRhLCByZXBvcnRlcikge1xuICByZXR1cm4gdGhpcy50cmVlLl9lbmNvZGUoZGF0YSwgcmVwb3J0ZXIpLmpvaW4oKTtcbn07XG5cbi8vIFRyZWUgbWV0aG9kc1xuXG5mdW5jdGlvbiBERVJOb2RlKHBhcmVudCkge1xuICBiYXNlLk5vZGUuY2FsbCh0aGlzLCAnZGVyJywgcGFyZW50KTtcbn1cbmluaGVyaXRzKERFUk5vZGUsIGJhc2UuTm9kZSk7XG5cbkRFUk5vZGUucHJvdG90eXBlLl9lbmNvZGVDb21wb3NpdGUgPSBmdW5jdGlvbiBlbmNvZGVDb21wb3NpdGUodGFnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmltaXRpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNscyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCkge1xuICB2YXIgZW5jb2RlZFRhZyA9IGVuY29kZVRhZyh0YWcsIHByaW1pdGl2ZSwgY2xzLCB0aGlzLnJlcG9ydGVyKTtcblxuICAvLyBTaG9ydCBmb3JtXG4gIGlmIChjb250ZW50Lmxlbmd0aCA8IDB4ODApIHtcbiAgICB2YXIgaGVhZGVyID0gbmV3IEJ1ZmZlcigyKTtcbiAgICBoZWFkZXJbMF0gPSBlbmNvZGVkVGFnO1xuICAgIGhlYWRlclsxXSA9IGNvbnRlbnQubGVuZ3RoO1xuICAgIHJldHVybiB0aGlzLl9jcmVhdGVFbmNvZGVyQnVmZmVyKFsgaGVhZGVyLCBjb250ZW50IF0pO1xuICB9XG5cbiAgLy8gTG9uZyBmb3JtXG4gIC8vIENvdW50IG9jdGV0cyByZXF1aXJlZCB0byBzdG9yZSBsZW5ndGhcbiAgdmFyIGxlbk9jdGV0cyA9IDE7XG4gIGZvciAodmFyIGkgPSBjb250ZW50Lmxlbmd0aDsgaSA+PSAweDEwMDsgaSA+Pj0gOClcbiAgICBsZW5PY3RldHMrKztcblxuICB2YXIgaGVhZGVyID0gbmV3IEJ1ZmZlcigxICsgMSArIGxlbk9jdGV0cyk7XG4gIGhlYWRlclswXSA9IGVuY29kZWRUYWc7XG4gIGhlYWRlclsxXSA9IDB4ODAgfCBsZW5PY3RldHM7XG5cbiAgZm9yICh2YXIgaSA9IDEgKyBsZW5PY3RldHMsIGogPSBjb250ZW50Lmxlbmd0aDsgaiA+IDA7IGktLSwgaiA+Pj0gOClcbiAgICBoZWFkZXJbaV0gPSBqICYgMHhmZjtcblxuICByZXR1cm4gdGhpcy5fY3JlYXRlRW5jb2RlckJ1ZmZlcihbIGhlYWRlciwgY29udGVudCBdKTtcbn07XG5cbkRFUk5vZGUucHJvdG90eXBlLl9lbmNvZGVTdHIgPSBmdW5jdGlvbiBlbmNvZGVTdHIoc3RyLCB0YWcpIHtcbiAgaWYgKHRhZyA9PT0gJ29jdHN0cicpXG4gICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUVuY29kZXJCdWZmZXIoc3RyKTtcbiAgZWxzZSBpZiAodGFnID09PSAnYml0c3RyJylcbiAgICByZXR1cm4gdGhpcy5fY3JlYXRlRW5jb2RlckJ1ZmZlcihbIHN0ci51bnVzZWQgfCAwLCBzdHIuZGF0YSBdKTtcbiAgZWxzZSBpZiAodGFnID09PSAnaWE1c3RyJyB8fCB0YWcgPT09ICd1dGY4c3RyJylcbiAgICByZXR1cm4gdGhpcy5fY3JlYXRlRW5jb2RlckJ1ZmZlcihzdHIpO1xuICByZXR1cm4gdGhpcy5yZXBvcnRlci5lcnJvcignRW5jb2Rpbmcgb2Ygc3RyaW5nIHR5cGU6ICcgKyB0YWcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIHVuc3VwcG9ydGVkJyk7XG59O1xuXG5ERVJOb2RlLnByb3RvdHlwZS5fZW5jb2RlT2JqaWQgPSBmdW5jdGlvbiBlbmNvZGVPYmppZChpZCwgdmFsdWVzLCByZWxhdGl2ZSkge1xuICBpZiAodHlwZW9mIGlkID09PSAnc3RyaW5nJykge1xuICAgIGlmICghdmFsdWVzKVxuICAgICAgcmV0dXJuIHRoaXMucmVwb3J0ZXIuZXJyb3IoJ3N0cmluZyBvYmppZCBnaXZlbiwgYnV0IG5vIHZhbHVlcyBtYXAgZm91bmQnKTtcbiAgICBpZiAoIXZhbHVlcy5oYXNPd25Qcm9wZXJ0eShpZCkpXG4gICAgICByZXR1cm4gdGhpcy5yZXBvcnRlci5lcnJvcignb2JqaWQgbm90IGZvdW5kIGluIHZhbHVlcyBtYXAnKTtcbiAgICBpZCA9IHZhbHVlc1tpZF0uc3BsaXQoL1tcXHNcXC5dKy9nKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlkLmxlbmd0aDsgaSsrKVxuICAgICAgaWRbaV0gfD0gMDtcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGlkKSkge1xuICAgIGlkID0gaWQuc2xpY2UoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlkLmxlbmd0aDsgaSsrKVxuICAgICAgaWRbaV0gfD0gMDtcbiAgfVxuXG4gIGlmICghQXJyYXkuaXNBcnJheShpZCkpIHtcbiAgICByZXR1cm4gdGhpcy5yZXBvcnRlci5lcnJvcignb2JqaWQoKSBzaG91bGQgYmUgZWl0aGVyIGFycmF5IG9yIHN0cmluZywgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2dvdDogJyArIEpTT04uc3RyaW5naWZ5KGlkKSk7XG4gIH1cblxuICBpZiAoIXJlbGF0aXZlKSB7XG4gICAgaWYgKGlkWzFdID49IDQwKVxuICAgICAgcmV0dXJuIHRoaXMucmVwb3J0ZXIuZXJyb3IoJ1NlY29uZCBvYmppZCBpZGVudGlmaWVyIE9PQicpO1xuICAgIGlkLnNwbGljZSgwLCAyLCBpZFswXSAqIDQwICsgaWRbMV0pO1xuICB9XG5cbiAgLy8gQ291bnQgbnVtYmVyIG9mIG9jdGV0c1xuICB2YXIgc2l6ZSA9IDA7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaWQubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaWRlbnQgPSBpZFtpXTtcbiAgICBmb3IgKHNpemUrKzsgaWRlbnQgPj0gMHg4MDsgaWRlbnQgPj49IDcpXG4gICAgICBzaXplKys7XG4gIH1cblxuICB2YXIgb2JqaWQgPSBuZXcgQnVmZmVyKHNpemUpO1xuICB2YXIgb2Zmc2V0ID0gb2JqaWQubGVuZ3RoIC0gMTtcbiAgZm9yICh2YXIgaSA9IGlkLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIGlkZW50ID0gaWRbaV07XG4gICAgb2JqaWRbb2Zmc2V0LS1dID0gaWRlbnQgJiAweDdmO1xuICAgIHdoaWxlICgoaWRlbnQgPj49IDcpID4gMClcbiAgICAgIG9iamlkW29mZnNldC0tXSA9IDB4ODAgfCAoaWRlbnQgJiAweDdmKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLl9jcmVhdGVFbmNvZGVyQnVmZmVyKG9iamlkKTtcbn07XG5cbmZ1bmN0aW9uIHR3byhudW0pIHtcbiAgaWYgKG51bSA8IDEwKVxuICAgIHJldHVybiAnMCcgKyBudW07XG4gIGVsc2VcbiAgICByZXR1cm4gbnVtO1xufVxuXG5ERVJOb2RlLnByb3RvdHlwZS5fZW5jb2RlVGltZSA9IGZ1bmN0aW9uIGVuY29kZVRpbWUodGltZSwgdGFnKSB7XG4gIHZhciBzdHI7XG4gIHZhciBkYXRlID0gbmV3IERhdGUodGltZSk7XG5cbiAgaWYgKHRhZyA9PT0gJ2dlbnRpbWUnKSB7XG4gICAgc3RyID0gW1xuICAgICAgdHdvKGRhdGUuZ2V0RnVsbFllYXIoKSksXG4gICAgICB0d28oZGF0ZS5nZXRVVENNb250aCgpICsgMSksXG4gICAgICB0d28oZGF0ZS5nZXRVVENEYXRlKCkpLFxuICAgICAgdHdvKGRhdGUuZ2V0VVRDSG91cnMoKSksXG4gICAgICB0d28oZGF0ZS5nZXRVVENNaW51dGVzKCkpLFxuICAgICAgdHdvKGRhdGUuZ2V0VVRDU2Vjb25kcygpKSxcbiAgICAgICdaJ1xuICAgIF0uam9pbignJyk7XG4gIH0gZWxzZSBpZiAodGFnID09PSAndXRjdGltZScpIHtcbiAgICBzdHIgPSBbXG4gICAgICB0d28oZGF0ZS5nZXRGdWxsWWVhcigpICUgMTAwKSxcbiAgICAgIHR3byhkYXRlLmdldFVUQ01vbnRoKCkgKyAxKSxcbiAgICAgIHR3byhkYXRlLmdldFVUQ0RhdGUoKSksXG4gICAgICB0d28oZGF0ZS5nZXRVVENIb3VycygpKSxcbiAgICAgIHR3byhkYXRlLmdldFVUQ01pbnV0ZXMoKSksXG4gICAgICB0d28oZGF0ZS5nZXRVVENTZWNvbmRzKCkpLFxuICAgICAgJ1onXG4gICAgXS5qb2luKCcnKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnJlcG9ydGVyLmVycm9yKCdFbmNvZGluZyAnICsgdGFnICsgJyB0aW1lIGlzIG5vdCBzdXBwb3J0ZWQgeWV0Jyk7XG4gIH1cblxuICByZXR1cm4gdGhpcy5fZW5jb2RlU3RyKHN0ciwgJ29jdHN0cicpO1xufTtcblxuREVSTm9kZS5wcm90b3R5cGUuX2VuY29kZU51bGwgPSBmdW5jdGlvbiBlbmNvZGVOdWxsKCkge1xuICByZXR1cm4gdGhpcy5fY3JlYXRlRW5jb2RlckJ1ZmZlcignJyk7XG59O1xuXG5ERVJOb2RlLnByb3RvdHlwZS5fZW5jb2RlSW50ID0gZnVuY3Rpb24gZW5jb2RlSW50KG51bSwgdmFsdWVzKSB7XG4gIGlmICh0eXBlb2YgbnVtID09PSAnc3RyaW5nJykge1xuICAgIGlmICghdmFsdWVzKVxuICAgICAgcmV0dXJuIHRoaXMucmVwb3J0ZXIuZXJyb3IoJ1N0cmluZyBpbnQgb3IgZW51bSBnaXZlbiwgYnV0IG5vIHZhbHVlcyBtYXAnKTtcbiAgICBpZiAoIXZhbHVlcy5oYXNPd25Qcm9wZXJ0eShudW0pKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXBvcnRlci5lcnJvcignVmFsdWVzIG1hcCBkb2VzblxcJ3QgY29udGFpbjogJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShudW0pKTtcbiAgICB9XG4gICAgbnVtID0gdmFsdWVzW251bV07XG4gIH1cblxuICAvLyBCaWdudW0sIGFzc3VtZSBiaWcgZW5kaWFuXG4gIGlmICh0eXBlb2YgbnVtICE9PSAnbnVtYmVyJyAmJiAhQnVmZmVyLmlzQnVmZmVyKG51bSkpIHtcbiAgICB2YXIgbnVtQXJyYXkgPSBudW0udG9BcnJheSgpO1xuICAgIGlmIChudW0uc2lnbiA9PT0gZmFsc2UgJiYgbnVtQXJyYXlbMF0gJiAweDgwKSB7XG4gICAgICBudW1BcnJheS51bnNoaWZ0KDApO1xuICAgIH1cbiAgICBudW0gPSBuZXcgQnVmZmVyKG51bUFycmF5KTtcbiAgfVxuXG4gIGlmIChCdWZmZXIuaXNCdWZmZXIobnVtKSkge1xuICAgIHZhciBzaXplID0gbnVtLmxlbmd0aDtcbiAgICBpZiAobnVtLmxlbmd0aCA9PT0gMClcbiAgICAgIHNpemUrKztcblxuICAgIHZhciBvdXQgPSBuZXcgQnVmZmVyKHNpemUpO1xuICAgIG51bS5jb3B5KG91dCk7XG4gICAgaWYgKG51bS5sZW5ndGggPT09IDApXG4gICAgICBvdXRbMF0gPSAwXG4gICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUVuY29kZXJCdWZmZXIob3V0KTtcbiAgfVxuXG4gIGlmIChudW0gPCAweDgwKVxuICAgIHJldHVybiB0aGlzLl9jcmVhdGVFbmNvZGVyQnVmZmVyKG51bSk7XG5cbiAgaWYgKG51bSA8IDB4MTAwKVxuICAgIHJldHVybiB0aGlzLl9jcmVhdGVFbmNvZGVyQnVmZmVyKFswLCBudW1dKTtcblxuICB2YXIgc2l6ZSA9IDE7XG4gIGZvciAodmFyIGkgPSBudW07IGkgPj0gMHgxMDA7IGkgPj49IDgpXG4gICAgc2l6ZSsrO1xuXG4gIHZhciBvdXQgPSBuZXcgQXJyYXkoc2l6ZSk7XG4gIGZvciAodmFyIGkgPSBvdXQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBvdXRbaV0gPSBudW0gJiAweGZmO1xuICAgIG51bSA+Pj0gODtcbiAgfVxuICBpZihvdXRbMF0gJiAweDgwKSB7XG4gICAgb3V0LnVuc2hpZnQoMCk7XG4gIH1cblxuICByZXR1cm4gdGhpcy5fY3JlYXRlRW5jb2RlckJ1ZmZlcihuZXcgQnVmZmVyKG91dCkpO1xufTtcblxuREVSTm9kZS5wcm90b3R5cGUuX2VuY29kZUJvb2wgPSBmdW5jdGlvbiBlbmNvZGVCb29sKHZhbHVlKSB7XG4gIHJldHVybiB0aGlzLl9jcmVhdGVFbmNvZGVyQnVmZmVyKHZhbHVlID8gMHhmZiA6IDApO1xufTtcblxuREVSTm9kZS5wcm90b3R5cGUuX3VzZSA9IGZ1bmN0aW9uIHVzZShlbnRpdHksIG9iaikge1xuICBpZiAodHlwZW9mIGVudGl0eSA9PT0gJ2Z1bmN0aW9uJylcbiAgICBlbnRpdHkgPSBlbnRpdHkob2JqKTtcbiAgcmV0dXJuIGVudGl0eS5fZ2V0RW5jb2RlcignZGVyJykudHJlZTtcbn07XG5cbkRFUk5vZGUucHJvdG90eXBlLl9za2lwRGVmYXVsdCA9IGZ1bmN0aW9uIHNraXBEZWZhdWx0KGRhdGFCdWZmZXIsIHJlcG9ydGVyLCBwYXJlbnQpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fYmFzZVN0YXRlO1xuICB2YXIgaTtcbiAgaWYgKHN0YXRlWydkZWZhdWx0J10gPT09IG51bGwpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBkYXRhID0gZGF0YUJ1ZmZlci5qb2luKCk7XG4gIGlmIChzdGF0ZS5kZWZhdWx0QnVmZmVyID09PSB1bmRlZmluZWQpXG4gICAgc3RhdGUuZGVmYXVsdEJ1ZmZlciA9IHRoaXMuX2VuY29kZVZhbHVlKHN0YXRlWydkZWZhdWx0J10sIHJlcG9ydGVyLCBwYXJlbnQpLmpvaW4oKTtcblxuICBpZiAoZGF0YS5sZW5ndGggIT09IHN0YXRlLmRlZmF1bHRCdWZmZXIubGVuZ3RoKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBmb3IgKGk9MDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspXG4gICAgaWYgKGRhdGFbaV0gIT09IHN0YXRlLmRlZmF1bHRCdWZmZXJbaV0pXG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vLyBVdGlsaXR5IG1ldGhvZHNcblxuZnVuY3Rpb24gZW5jb2RlVGFnKHRhZywgcHJpbWl0aXZlLCBjbHMsIHJlcG9ydGVyKSB7XG4gIHZhciByZXM7XG5cbiAgaWYgKHRhZyA9PT0gJ3NlcW9mJylcbiAgICB0YWcgPSAnc2VxJztcbiAgZWxzZSBpZiAodGFnID09PSAnc2V0b2YnKVxuICAgIHRhZyA9ICdzZXQnO1xuXG4gIGlmIChkZXIudGFnQnlOYW1lLmhhc093blByb3BlcnR5KHRhZykpXG4gICAgcmVzID0gZGVyLnRhZ0J5TmFtZVt0YWddO1xuICBlbHNlIGlmICh0eXBlb2YgdGFnID09PSAnbnVtYmVyJyAmJiAodGFnIHwgMCkgPT09IHRhZylcbiAgICByZXMgPSB0YWc7XG4gIGVsc2VcbiAgICByZXR1cm4gcmVwb3J0ZXIuZXJyb3IoJ1Vua25vd24gdGFnOiAnICsgdGFnKTtcblxuICBpZiAocmVzID49IDB4MWYpXG4gICAgcmV0dXJuIHJlcG9ydGVyLmVycm9yKCdNdWx0aS1vY3RldCB0YWcgZW5jb2RpbmcgdW5zdXBwb3J0ZWQnKTtcblxuICBpZiAoIXByaW1pdGl2ZSlcbiAgICByZXMgfD0gMHgyMDtcblxuICByZXMgfD0gKGRlci50YWdDbGFzc0J5TmFtZVtjbHMgfHwgJ3VuaXZlcnNhbCddIDw8IDYpO1xuXG4gIHJldHVybiByZXM7XG59XG4iLCJ2YXIgZGVjb2RlcnMgPSBleHBvcnRzO1xuXG5kZWNvZGVycy5kZXIgPSByZXF1aXJlKCcuL2RlcicpO1xuZGVjb2RlcnMucGVtID0gcmVxdWlyZSgnLi9wZW0nKTtcbiIsInZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgQnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJykuQnVmZmVyO1xuXG52YXIgYXNuMSA9IHJlcXVpcmUoJy4uLy4uL2FzbjEnKTtcbnZhciBERVJEZWNvZGVyID0gcmVxdWlyZSgnLi9kZXInKTtcblxuZnVuY3Rpb24gUEVNRGVjb2RlcihlbnRpdHkpIHtcbiAgREVSRGVjb2Rlci5jYWxsKHRoaXMsIGVudGl0eSk7XG4gIHRoaXMuZW5jID0gJ3BlbSc7XG59O1xuaW5oZXJpdHMoUEVNRGVjb2RlciwgREVSRGVjb2Rlcik7XG5tb2R1bGUuZXhwb3J0cyA9IFBFTURlY29kZXI7XG5cblBFTURlY29kZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShkYXRhLCBvcHRpb25zKSB7XG4gIHZhciBsaW5lcyA9IGRhdGEudG9TdHJpbmcoKS5zcGxpdCgvW1xcclxcbl0rL2cpO1xuXG4gIHZhciBsYWJlbCA9IG9wdGlvbnMubGFiZWwudG9VcHBlckNhc2UoKTtcblxuICB2YXIgcmUgPSAvXi0tLS0tKEJFR0lOfEVORCkgKFteLV0rKS0tLS0tJC87XG4gIHZhciBzdGFydCA9IC0xO1xuICB2YXIgZW5kID0gLTE7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbWF0Y2ggPSBsaW5lc1tpXS5tYXRjaChyZSk7XG4gICAgaWYgKG1hdGNoID09PSBudWxsKVxuICAgICAgY29udGludWU7XG5cbiAgICBpZiAobWF0Y2hbMl0gIT09IGxhYmVsKVxuICAgICAgY29udGludWU7XG5cbiAgICBpZiAoc3RhcnQgPT09IC0xKSB7XG4gICAgICBpZiAobWF0Y2hbMV0gIT09ICdCRUdJTicpXG4gICAgICAgIGJyZWFrO1xuICAgICAgc3RhcnQgPSBpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobWF0Y2hbMV0gIT09ICdFTkQnKVxuICAgICAgICBicmVhaztcbiAgICAgIGVuZCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgaWYgKHN0YXJ0ID09PSAtMSB8fCBlbmQgPT09IC0xKVxuICAgIHRocm93IG5ldyBFcnJvcignUEVNIHNlY3Rpb24gbm90IGZvdW5kIGZvcjogJyArIGxhYmVsKTtcblxuICB2YXIgYmFzZTY0ID0gbGluZXMuc2xpY2Uoc3RhcnQgKyAxLCBlbmQpLmpvaW4oJycpO1xuICAvLyBSZW1vdmUgZXhjZXNzaXZlIHN5bWJvbHNcbiAgYmFzZTY0LnJlcGxhY2UoL1teYS16MC05XFwrXFwvPV0rL2dpLCAnJyk7XG5cbiAgdmFyIGlucHV0ID0gbmV3IEJ1ZmZlcihiYXNlNjQsICdiYXNlNjQnKTtcbiAgcmV0dXJuIERFUkRlY29kZXIucHJvdG90eXBlLmRlY29kZS5jYWxsKHRoaXMsIGlucHV0LCBvcHRpb25zKTtcbn07XG4iLCJ2YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuXG52YXIgYXNuMSA9IHJlcXVpcmUoJy4uLy4uL2FzbjEnKTtcbnZhciBiYXNlID0gYXNuMS5iYXNlO1xudmFyIGJpZ251bSA9IGFzbjEuYmlnbnVtO1xuXG4vLyBJbXBvcnQgREVSIGNvbnN0YW50c1xudmFyIGRlciA9IGFzbjEuY29uc3RhbnRzLmRlcjtcblxuZnVuY3Rpb24gREVSRGVjb2RlcihlbnRpdHkpIHtcbiAgdGhpcy5lbmMgPSAnZGVyJztcbiAgdGhpcy5uYW1lID0gZW50aXR5Lm5hbWU7XG4gIHRoaXMuZW50aXR5ID0gZW50aXR5O1xuXG4gIC8vIENvbnN0cnVjdCBiYXNlIHRyZWVcbiAgdGhpcy50cmVlID0gbmV3IERFUk5vZGUoKTtcbiAgdGhpcy50cmVlLl9pbml0KGVudGl0eS5ib2R5KTtcbn07XG5tb2R1bGUuZXhwb3J0cyA9IERFUkRlY29kZXI7XG5cbkRFUkRlY29kZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShkYXRhLCBvcHRpb25zKSB7XG4gIGlmICghKGRhdGEgaW5zdGFuY2VvZiBiYXNlLkRlY29kZXJCdWZmZXIpKVxuICAgIGRhdGEgPSBuZXcgYmFzZS5EZWNvZGVyQnVmZmVyKGRhdGEsIG9wdGlvbnMpO1xuXG4gIHJldHVybiB0aGlzLnRyZWUuX2RlY29kZShkYXRhLCBvcHRpb25zKTtcbn07XG5cbi8vIFRyZWUgbWV0aG9kc1xuXG5mdW5jdGlvbiBERVJOb2RlKHBhcmVudCkge1xuICBiYXNlLk5vZGUuY2FsbCh0aGlzLCAnZGVyJywgcGFyZW50KTtcbn1cbmluaGVyaXRzKERFUk5vZGUsIGJhc2UuTm9kZSk7XG5cbkRFUk5vZGUucHJvdG90eXBlLl9wZWVrVGFnID0gZnVuY3Rpb24gcGVla1RhZyhidWZmZXIsIHRhZywgYW55KSB7XG4gIGlmIChidWZmZXIuaXNFbXB0eSgpKVxuICAgIHJldHVybiBmYWxzZTtcblxuICB2YXIgc3RhdGUgPSBidWZmZXIuc2F2ZSgpO1xuICB2YXIgZGVjb2RlZFRhZyA9IGRlckRlY29kZVRhZyhidWZmZXIsICdGYWlsZWQgdG8gcGVlayB0YWc6IFwiJyArIHRhZyArICdcIicpO1xuICBpZiAoYnVmZmVyLmlzRXJyb3IoZGVjb2RlZFRhZykpXG4gICAgcmV0dXJuIGRlY29kZWRUYWc7XG5cbiAgYnVmZmVyLnJlc3RvcmUoc3RhdGUpO1xuXG4gIHJldHVybiBkZWNvZGVkVGFnLnRhZyA9PT0gdGFnIHx8IGRlY29kZWRUYWcudGFnU3RyID09PSB0YWcgfHwgYW55O1xufTtcblxuREVSTm9kZS5wcm90b3R5cGUuX2RlY29kZVRhZyA9IGZ1bmN0aW9uIGRlY29kZVRhZyhidWZmZXIsIHRhZywgYW55KSB7XG4gIHZhciBkZWNvZGVkVGFnID0gZGVyRGVjb2RlVGFnKGJ1ZmZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZhaWxlZCB0byBkZWNvZGUgdGFnIG9mIFwiJyArIHRhZyArICdcIicpO1xuICBpZiAoYnVmZmVyLmlzRXJyb3IoZGVjb2RlZFRhZykpXG4gICAgcmV0dXJuIGRlY29kZWRUYWc7XG5cbiAgdmFyIGxlbiA9IGRlckRlY29kZUxlbihidWZmZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgZGVjb2RlZFRhZy5wcmltaXRpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgJ0ZhaWxlZCB0byBnZXQgbGVuZ3RoIG9mIFwiJyArIHRhZyArICdcIicpO1xuXG4gIC8vIEZhaWx1cmVcbiAgaWYgKGJ1ZmZlci5pc0Vycm9yKGxlbikpXG4gICAgcmV0dXJuIGxlbjtcblxuICBpZiAoIWFueSAmJlxuICAgICAgZGVjb2RlZFRhZy50YWcgIT09IHRhZyAmJlxuICAgICAgZGVjb2RlZFRhZy50YWdTdHIgIT09IHRhZyAmJlxuICAgICAgZGVjb2RlZFRhZy50YWdTdHIgKyAnb2YnICE9PSB0YWcpIHtcbiAgICByZXR1cm4gYnVmZmVyLmVycm9yKCdGYWlsZWQgdG8gbWF0Y2ggdGFnOiBcIicgKyB0YWcgKyAnXCInKTtcbiAgfVxuXG4gIGlmIChkZWNvZGVkVGFnLnByaW1pdGl2ZSB8fCBsZW4gIT09IG51bGwpXG4gICAgcmV0dXJuIGJ1ZmZlci5za2lwKGxlbiwgJ0ZhaWxlZCB0byBtYXRjaCBib2R5IG9mOiBcIicgKyB0YWcgKyAnXCInKTtcblxuICAvLyBJbmRlZmluaXRlIGxlbmd0aC4uLiBmaW5kIEVORCB0YWdcbiAgdmFyIHN0YXRlID0gYnVmZmVyLnNhdmUoKTtcbiAgdmFyIHJlcyA9IHRoaXMuX3NraXBVbnRpbEVuZChcbiAgICAgIGJ1ZmZlcixcbiAgICAgICdGYWlsZWQgdG8gc2tpcCBpbmRlZmluaXRlIGxlbmd0aCBib2R5OiBcIicgKyB0aGlzLnRhZyArICdcIicpO1xuICBpZiAoYnVmZmVyLmlzRXJyb3IocmVzKSlcbiAgICByZXR1cm4gcmVzO1xuXG4gIGxlbiA9IGJ1ZmZlci5vZmZzZXQgLSBzdGF0ZS5vZmZzZXQ7XG4gIGJ1ZmZlci5yZXN0b3JlKHN0YXRlKTtcbiAgcmV0dXJuIGJ1ZmZlci5za2lwKGxlbiwgJ0ZhaWxlZCB0byBtYXRjaCBib2R5IG9mOiBcIicgKyB0YWcgKyAnXCInKTtcbn07XG5cbkRFUk5vZGUucHJvdG90eXBlLl9za2lwVW50aWxFbmQgPSBmdW5jdGlvbiBza2lwVW50aWxFbmQoYnVmZmVyLCBmYWlsKSB7XG4gIHdoaWxlICh0cnVlKSB7XG4gICAgdmFyIHRhZyA9IGRlckRlY29kZVRhZyhidWZmZXIsIGZhaWwpO1xuICAgIGlmIChidWZmZXIuaXNFcnJvcih0YWcpKVxuICAgICAgcmV0dXJuIHRhZztcbiAgICB2YXIgbGVuID0gZGVyRGVjb2RlTGVuKGJ1ZmZlciwgdGFnLnByaW1pdGl2ZSwgZmFpbCk7XG4gICAgaWYgKGJ1ZmZlci5pc0Vycm9yKGxlbikpXG4gICAgICByZXR1cm4gbGVuO1xuXG4gICAgdmFyIHJlcztcbiAgICBpZiAodGFnLnByaW1pdGl2ZSB8fCBsZW4gIT09IG51bGwpXG4gICAgICByZXMgPSBidWZmZXIuc2tpcChsZW4pXG4gICAgZWxzZVxuICAgICAgcmVzID0gdGhpcy5fc2tpcFVudGlsRW5kKGJ1ZmZlciwgZmFpbCk7XG5cbiAgICAvLyBGYWlsdXJlXG4gICAgaWYgKGJ1ZmZlci5pc0Vycm9yKHJlcykpXG4gICAgICByZXR1cm4gcmVzO1xuXG4gICAgaWYgKHRhZy50YWdTdHIgPT09ICdlbmQnKVxuICAgICAgYnJlYWs7XG4gIH1cbn07XG5cbkRFUk5vZGUucHJvdG90eXBlLl9kZWNvZGVMaXN0ID0gZnVuY3Rpb24gZGVjb2RlTGlzdChidWZmZXIsIHRhZywgZGVjb2Rlcikge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIHdoaWxlICghYnVmZmVyLmlzRW1wdHkoKSkge1xuICAgIHZhciBwb3NzaWJsZUVuZCA9IHRoaXMuX3BlZWtUYWcoYnVmZmVyLCAnZW5kJyk7XG4gICAgaWYgKGJ1ZmZlci5pc0Vycm9yKHBvc3NpYmxlRW5kKSlcbiAgICAgIHJldHVybiBwb3NzaWJsZUVuZDtcblxuICAgIHZhciByZXMgPSBkZWNvZGVyLmRlY29kZShidWZmZXIsICdkZXInKTtcbiAgICBpZiAoYnVmZmVyLmlzRXJyb3IocmVzKSAmJiBwb3NzaWJsZUVuZClcbiAgICAgIGJyZWFrO1xuICAgIHJlc3VsdC5wdXNoKHJlcyk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbkRFUk5vZGUucHJvdG90eXBlLl9kZWNvZGVTdHIgPSBmdW5jdGlvbiBkZWNvZGVTdHIoYnVmZmVyLCB0YWcpIHtcbiAgaWYgKHRhZyA9PT0gJ29jdHN0cicpIHtcbiAgICByZXR1cm4gYnVmZmVyLnJhdygpO1xuICB9IGVsc2UgaWYgKHRhZyA9PT0gJ2JpdHN0cicpIHtcbiAgICB2YXIgdW51c2VkID0gYnVmZmVyLnJlYWRVSW50OCgpO1xuICAgIGlmIChidWZmZXIuaXNFcnJvcih1bnVzZWQpKVxuICAgICAgcmV0dXJuIHVudXNlZDtcblxuICAgIHJldHVybiB7IHVudXNlZDogdW51c2VkLCBkYXRhOiBidWZmZXIucmF3KCkgfTtcbiAgfSBlbHNlIGlmICh0YWcgPT09ICdpYTVzdHInIHx8IHRhZyA9PT0gJ3V0ZjhzdHInKSB7XG4gICAgcmV0dXJuIGJ1ZmZlci5yYXcoKS50b1N0cmluZygpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0aGlzLmVycm9yKCdEZWNvZGluZyBvZiBzdHJpbmcgdHlwZTogJyArIHRhZyArICcgdW5zdXBwb3J0ZWQnKTtcbiAgfVxufTtcblxuREVSTm9kZS5wcm90b3R5cGUuX2RlY29kZU9iamlkID0gZnVuY3Rpb24gZGVjb2RlT2JqaWQoYnVmZmVyLCB2YWx1ZXMsIHJlbGF0aXZlKSB7XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuICB2YXIgaWRlbnQgPSAwO1xuICB3aGlsZSAoIWJ1ZmZlci5pc0VtcHR5KCkpIHtcbiAgICB2YXIgc3ViaWRlbnQgPSBidWZmZXIucmVhZFVJbnQ4KCk7XG4gICAgaWRlbnQgPDw9IDc7XG4gICAgaWRlbnQgfD0gc3ViaWRlbnQgJiAweDdmO1xuICAgIGlmICgoc3ViaWRlbnQgJiAweDgwKSA9PT0gMCkge1xuICAgICAgaWRlbnRpZmllcnMucHVzaChpZGVudCk7XG4gICAgICBpZGVudCA9IDA7XG4gICAgfVxuICB9XG4gIGlmIChzdWJpZGVudCAmIDB4ODApXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudCk7XG5cbiAgdmFyIGZpcnN0ID0gKGlkZW50aWZpZXJzWzBdIC8gNDApIHwgMDtcbiAgdmFyIHNlY29uZCA9IGlkZW50aWZpZXJzWzBdICUgNDA7XG5cbiAgaWYgKHJlbGF0aXZlKVxuICAgIHJlc3VsdCA9IGlkZW50aWZpZXJzO1xuICBlbHNlXG4gICAgcmVzdWx0ID0gW2ZpcnN0LCBzZWNvbmRdLmNvbmNhdChpZGVudGlmaWVycy5zbGljZSgxKSk7XG5cbiAgaWYgKHZhbHVlcylcbiAgICByZXN1bHQgPSB2YWx1ZXNbcmVzdWx0LmpvaW4oJyAnKV07XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbkRFUk5vZGUucHJvdG90eXBlLl9kZWNvZGVUaW1lID0gZnVuY3Rpb24gZGVjb2RlVGltZShidWZmZXIsIHRhZykge1xuICB2YXIgc3RyID0gYnVmZmVyLnJhdygpLnRvU3RyaW5nKCk7XG4gIGlmICh0YWcgPT09ICdnZW50aW1lJykge1xuICAgIHZhciB5ZWFyID0gc3RyLnNsaWNlKDAsIDQpIHwgMDtcbiAgICB2YXIgbW9uID0gc3RyLnNsaWNlKDQsIDYpIHwgMDtcbiAgICB2YXIgZGF5ID0gc3RyLnNsaWNlKDYsIDgpIHwgMDtcbiAgICB2YXIgaG91ciA9IHN0ci5zbGljZSg4LCAxMCkgfCAwO1xuICAgIHZhciBtaW4gPSBzdHIuc2xpY2UoMTAsIDEyKSB8IDA7XG4gICAgdmFyIHNlYyA9IHN0ci5zbGljZSgxMiwgMTQpIHwgMDtcbiAgfSBlbHNlIGlmICh0YWcgPT09ICd1dGN0aW1lJykge1xuICAgIHZhciB5ZWFyID0gc3RyLnNsaWNlKDAsIDIpIHwgMDtcbiAgICB2YXIgbW9uID0gc3RyLnNsaWNlKDIsIDQpIHwgMDtcbiAgICB2YXIgZGF5ID0gc3RyLnNsaWNlKDQsIDYpIHwgMDtcbiAgICB2YXIgaG91ciA9IHN0ci5zbGljZSg2LCA4KSB8IDA7XG4gICAgdmFyIG1pbiA9IHN0ci5zbGljZSg4LCAxMCkgfCAwO1xuICAgIHZhciBzZWMgPSBzdHIuc2xpY2UoMTAsIDEyKSB8IDA7XG4gICAgaWYgKHllYXIgPCA3MClcbiAgICAgIHllYXIgPSAyMDAwICsgeWVhcjtcbiAgICBlbHNlXG4gICAgICB5ZWFyID0gMTkwMCArIHllYXI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRoaXMuZXJyb3IoJ0RlY29kaW5nICcgKyB0YWcgKyAnIHRpbWUgaXMgbm90IHN1cHBvcnRlZCB5ZXQnKTtcbiAgfVxuXG4gIHJldHVybiBEYXRlLlVUQyh5ZWFyLCBtb24gLSAxLCBkYXksIGhvdXIsIG1pbiwgc2VjLCAwKTtcbn07XG5cbkRFUk5vZGUucHJvdG90eXBlLl9kZWNvZGVOdWxsID0gZnVuY3Rpb24gZGVjb2RlTnVsbChidWZmZXIpIHtcbiAgcmV0dXJuIG51bGw7XG59O1xuXG5ERVJOb2RlLnByb3RvdHlwZS5fZGVjb2RlQm9vbCA9IGZ1bmN0aW9uIGRlY29kZUJvb2woYnVmZmVyKSB7XG4gIHZhciByZXMgPSBidWZmZXIucmVhZFVJbnQ4KCk7XG4gIGlmIChidWZmZXIuaXNFcnJvcihyZXMpKVxuICAgIHJldHVybiByZXM7XG4gIGVsc2VcbiAgICByZXR1cm4gcmVzICE9PSAwO1xufTtcblxuREVSTm9kZS5wcm90b3R5cGUuX2RlY29kZUludCA9IGZ1bmN0aW9uIGRlY29kZUludChidWZmZXIsIHZhbHVlcykge1xuICAvLyBCaWdpbnQsIHJldHVybiBhcyBpdCBpcyAoYXNzdW1lIGJpZyBlbmRpYW4pXG4gIHZhciByYXcgPSBidWZmZXIucmF3KCk7XG4gIHZhciByZXMgPSBuZXcgYmlnbnVtKHJhdyk7XG5cbiAgaWYgKHZhbHVlcylcbiAgICByZXMgPSB2YWx1ZXNbcmVzLnRvU3RyaW5nKDEwKV0gfHwgcmVzO1xuXG4gIHJldHVybiByZXM7XG59O1xuXG5ERVJOb2RlLnByb3RvdHlwZS5fdXNlID0gZnVuY3Rpb24gdXNlKGVudGl0eSwgb2JqKSB7XG4gIGlmICh0eXBlb2YgZW50aXR5ID09PSAnZnVuY3Rpb24nKVxuICAgIGVudGl0eSA9IGVudGl0eShvYmopO1xuICByZXR1cm4gZW50aXR5Ll9nZXREZWNvZGVyKCdkZXInKS50cmVlO1xufTtcblxuLy8gVXRpbGl0eSBtZXRob2RzXG5cbmZ1bmN0aW9uIGRlckRlY29kZVRhZyhidWYsIGZhaWwpIHtcbiAgdmFyIHRhZyA9IGJ1Zi5yZWFkVUludDgoZmFpbCk7XG4gIGlmIChidWYuaXNFcnJvcih0YWcpKVxuICAgIHJldHVybiB0YWc7XG5cbiAgdmFyIGNscyA9IGRlci50YWdDbGFzc1t0YWcgPj4gNl07XG4gIHZhciBwcmltaXRpdmUgPSAodGFnICYgMHgyMCkgPT09IDA7XG5cbiAgLy8gTXVsdGktb2N0ZXQgdGFnIC0gbG9hZFxuICBpZiAoKHRhZyAmIDB4MWYpID09PSAweDFmKSB7XG4gICAgdmFyIG9jdCA9IHRhZztcbiAgICB0YWcgPSAwO1xuICAgIHdoaWxlICgob2N0ICYgMHg4MCkgPT09IDB4ODApIHtcbiAgICAgIG9jdCA9IGJ1Zi5yZWFkVUludDgoZmFpbCk7XG4gICAgICBpZiAoYnVmLmlzRXJyb3Iob2N0KSlcbiAgICAgICAgcmV0dXJuIG9jdDtcblxuICAgICAgdGFnIDw8PSA3O1xuICAgICAgdGFnIHw9IG9jdCAmIDB4N2Y7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRhZyAmPSAweDFmO1xuICB9XG4gIHZhciB0YWdTdHIgPSBkZXIudGFnW3RhZ107XG5cbiAgcmV0dXJuIHtcbiAgICBjbHM6IGNscyxcbiAgICBwcmltaXRpdmU6IHByaW1pdGl2ZSxcbiAgICB0YWc6IHRhZyxcbiAgICB0YWdTdHI6IHRhZ1N0clxuICB9O1xufVxuXG5mdW5jdGlvbiBkZXJEZWNvZGVMZW4oYnVmLCBwcmltaXRpdmUsIGZhaWwpIHtcbiAgdmFyIGxlbiA9IGJ1Zi5yZWFkVUludDgoZmFpbCk7XG4gIGlmIChidWYuaXNFcnJvcihsZW4pKVxuICAgIHJldHVybiBsZW47XG5cbiAgLy8gSW5kZWZpbml0ZSBmb3JtXG4gIGlmICghcHJpbWl0aXZlICYmIGxlbiA9PT0gMHg4MClcbiAgICByZXR1cm4gbnVsbDtcblxuICAvLyBEZWZpbml0ZSBmb3JtXG4gIGlmICgobGVuICYgMHg4MCkgPT09IDApIHtcbiAgICAvLyBTaG9ydCBmb3JtXG4gICAgcmV0dXJuIGxlbjtcbiAgfVxuXG4gIC8vIExvbmcgZm9ybVxuICB2YXIgbnVtID0gbGVuICYgMHg3ZjtcbiAgaWYgKG51bSA+PSA0KVxuICAgIHJldHVybiBidWYuZXJyb3IoJ2xlbmd0aCBvY3RlY3QgaXMgdG9vIGxvbmcnKTtcblxuICBsZW4gPSAwO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG51bTsgaSsrKSB7XG4gICAgbGVuIDw8PSA4O1xuICAgIHZhciBqID0gYnVmLnJlYWRVSW50OChmYWlsKTtcbiAgICBpZiAoYnVmLmlzRXJyb3IoaikpXG4gICAgICByZXR1cm4gajtcbiAgICBsZW4gfD0gajtcbiAgfVxuXG4gIHJldHVybiBsZW47XG59XG4iLCJ2YXIgY29uc3RhbnRzID0gZXhwb3J0cztcblxuLy8gSGVscGVyXG5jb25zdGFudHMuX3JldmVyc2UgPSBmdW5jdGlvbiByZXZlcnNlKG1hcCkge1xuICB2YXIgcmVzID0ge307XG5cbiAgT2JqZWN0LmtleXMobWFwKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIC8vIENvbnZlcnQga2V5IHRvIGludGVnZXIgaWYgaXQgaXMgc3RyaW5naWZpZWRcbiAgICBpZiAoKGtleSB8IDApID09IGtleSlcbiAgICAgIGtleSA9IGtleSB8IDA7XG5cbiAgICB2YXIgdmFsdWUgPSBtYXBba2V5XTtcbiAgICByZXNbdmFsdWVdID0ga2V5O1xuICB9KTtcblxuICByZXR1cm4gcmVzO1xufTtcblxuY29uc3RhbnRzLmRlciA9IHJlcXVpcmUoJy4vZGVyJyk7XG4iLCJ2YXIgY29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzJyk7XG5cbmV4cG9ydHMudGFnQ2xhc3MgPSB7XG4gIDA6ICd1bml2ZXJzYWwnLFxuICAxOiAnYXBwbGljYXRpb24nLFxuICAyOiAnY29udGV4dCcsXG4gIDM6ICdwcml2YXRlJ1xufTtcbmV4cG9ydHMudGFnQ2xhc3NCeU5hbWUgPSBjb25zdGFudHMuX3JldmVyc2UoZXhwb3J0cy50YWdDbGFzcyk7XG5cbmV4cG9ydHMudGFnID0ge1xuICAweDAwOiAnZW5kJyxcbiAgMHgwMTogJ2Jvb2wnLFxuICAweDAyOiAnaW50JyxcbiAgMHgwMzogJ2JpdHN0cicsXG4gIDB4MDQ6ICdvY3RzdHInLFxuICAweDA1OiAnbnVsbF8nLFxuICAweDA2OiAnb2JqaWQnLFxuICAweDA3OiAnb2JqRGVzYycsXG4gIDB4MDg6ICdleHRlcm5hbCcsXG4gIDB4MDk6ICdyZWFsJyxcbiAgMHgwYTogJ2VudW0nLFxuICAweDBiOiAnZW1iZWQnLFxuICAweDBjOiAndXRmOHN0cicsXG4gIDB4MGQ6ICdyZWxhdGl2ZU9pZCcsXG4gIDB4MTA6ICdzZXEnLFxuICAweDExOiAnc2V0JyxcbiAgMHgxMjogJ251bXN0cicsXG4gIDB4MTM6ICdwcmludHN0cicsXG4gIDB4MTQ6ICd0NjFzdHInLFxuICAweDE1OiAndmlkZW9zdHInLFxuICAweDE2OiAnaWE1c3RyJyxcbiAgMHgxNzogJ3V0Y3RpbWUnLFxuICAweDE4OiAnZ2VudGltZScsXG4gIDB4MTk6ICdncmFwaHN0cicsXG4gIDB4MWE6ICdpc282NDZzdHInLFxuICAweDFiOiAnZ2Vuc3RyJyxcbiAgMHgxYzogJ3VuaXN0cicsXG4gIDB4MWQ6ICdjaGFyc3RyJyxcbiAgMHgxZTogJ2JtcHN0cidcbn07XG5leHBvcnRzLnRhZ0J5TmFtZSA9IGNvbnN0YW50cy5fcmV2ZXJzZShleHBvcnRzLnRhZyk7XG4iLCJ2YXIgYmFzZSA9IGV4cG9ydHM7XG5cbmJhc2UuUmVwb3J0ZXIgPSByZXF1aXJlKCcuL3JlcG9ydGVyJykuUmVwb3J0ZXI7XG5iYXNlLkRlY29kZXJCdWZmZXIgPSByZXF1aXJlKCcuL2J1ZmZlcicpLkRlY29kZXJCdWZmZXI7XG5iYXNlLkVuY29kZXJCdWZmZXIgPSByZXF1aXJlKCcuL2J1ZmZlcicpLkVuY29kZXJCdWZmZXI7XG5iYXNlLk5vZGUgPSByZXF1aXJlKCcuL25vZGUnKTtcbiIsInZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbmZ1bmN0aW9uIFJlcG9ydGVyKG9wdGlvbnMpIHtcbiAgdGhpcy5fcmVwb3J0ZXJTdGF0ZSA9IHtcbiAgICBvYmo6IG51bGwsXG4gICAgcGF0aDogW10sXG4gICAgb3B0aW9uczogb3B0aW9ucyB8fCB7fSxcbiAgICBlcnJvcnM6IFtdXG4gIH07XG59XG5leHBvcnRzLlJlcG9ydGVyID0gUmVwb3J0ZXI7XG5cblJlcG9ydGVyLnByb3RvdHlwZS5pc0Vycm9yID0gZnVuY3Rpb24gaXNFcnJvcihvYmopIHtcbiAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIFJlcG9ydGVyRXJyb3I7XG59O1xuXG5SZXBvcnRlci5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uIHNhdmUoKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlcG9ydGVyU3RhdGU7XG5cbiAgcmV0dXJuIHsgb2JqOiBzdGF0ZS5vYmosIHBhdGhMZW46IHN0YXRlLnBhdGgubGVuZ3RoIH07XG59O1xuXG5SZXBvcnRlci5wcm90b3R5cGUucmVzdG9yZSA9IGZ1bmN0aW9uIHJlc3RvcmUoZGF0YSkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZXBvcnRlclN0YXRlO1xuXG4gIHN0YXRlLm9iaiA9IGRhdGEub2JqO1xuICBzdGF0ZS5wYXRoID0gc3RhdGUucGF0aC5zbGljZSgwLCBkYXRhLnBhdGhMZW4pO1xufTtcblxuUmVwb3J0ZXIucHJvdG90eXBlLmVudGVyS2V5ID0gZnVuY3Rpb24gZW50ZXJLZXkoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9yZXBvcnRlclN0YXRlLnBhdGgucHVzaChrZXkpO1xufTtcblxuUmVwb3J0ZXIucHJvdG90eXBlLmxlYXZlS2V5ID0gZnVuY3Rpb24gbGVhdmVLZXkoaW5kZXgsIGtleSwgdmFsdWUpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVwb3J0ZXJTdGF0ZTtcblxuICBzdGF0ZS5wYXRoID0gc3RhdGUucGF0aC5zbGljZSgwLCBpbmRleCAtIDEpO1xuICBpZiAoc3RhdGUub2JqICE9PSBudWxsKVxuICAgIHN0YXRlLm9ialtrZXldID0gdmFsdWU7XG59O1xuXG5SZXBvcnRlci5wcm90b3R5cGUuZW50ZXJPYmplY3QgPSBmdW5jdGlvbiBlbnRlck9iamVjdCgpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVwb3J0ZXJTdGF0ZTtcblxuICB2YXIgcHJldiA9IHN0YXRlLm9iajtcbiAgc3RhdGUub2JqID0ge307XG4gIHJldHVybiBwcmV2O1xufTtcblxuUmVwb3J0ZXIucHJvdG90eXBlLmxlYXZlT2JqZWN0ID0gZnVuY3Rpb24gbGVhdmVPYmplY3QocHJldikge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9yZXBvcnRlclN0YXRlO1xuXG4gIHZhciBub3cgPSBzdGF0ZS5vYmo7XG4gIHN0YXRlLm9iaiA9IHByZXY7XG4gIHJldHVybiBub3c7XG59O1xuXG5SZXBvcnRlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiBlcnJvcihtc2cpIHtcbiAgdmFyIGVycjtcbiAgdmFyIHN0YXRlID0gdGhpcy5fcmVwb3J0ZXJTdGF0ZTtcblxuICB2YXIgaW5oZXJpdGVkID0gbXNnIGluc3RhbmNlb2YgUmVwb3J0ZXJFcnJvcjtcbiAgaWYgKGluaGVyaXRlZCkge1xuICAgIGVyciA9IG1zZztcbiAgfSBlbHNlIHtcbiAgICBlcnIgPSBuZXcgUmVwb3J0ZXJFcnJvcihzdGF0ZS5wYXRoLm1hcChmdW5jdGlvbihlbGVtKSB7XG4gICAgICByZXR1cm4gJ1snICsgSlNPTi5zdHJpbmdpZnkoZWxlbSkgKyAnXSc7XG4gICAgfSkuam9pbignJyksIG1zZy5tZXNzYWdlIHx8IG1zZywgbXNnLnN0YWNrKTtcbiAgfVxuXG4gIGlmICghc3RhdGUub3B0aW9ucy5wYXJ0aWFsKVxuICAgIHRocm93IGVycjtcblxuICBpZiAoIWluaGVyaXRlZClcbiAgICBzdGF0ZS5lcnJvcnMucHVzaChlcnIpO1xuXG4gIHJldHVybiBlcnI7XG59O1xuXG5SZXBvcnRlci5wcm90b3R5cGUud3JhcFJlc3VsdCA9IGZ1bmN0aW9uIHdyYXBSZXN1bHQocmVzdWx0KSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX3JlcG9ydGVyU3RhdGU7XG4gIGlmICghc3RhdGUub3B0aW9ucy5wYXJ0aWFsKVxuICAgIHJldHVybiByZXN1bHQ7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN1bHQ6IHRoaXMuaXNFcnJvcihyZXN1bHQpID8gbnVsbCA6IHJlc3VsdCxcbiAgICBlcnJvcnM6IHN0YXRlLmVycm9yc1xuICB9O1xufTtcblxuZnVuY3Rpb24gUmVwb3J0ZXJFcnJvcihwYXRoLCBtc2cpIHtcbiAgdGhpcy5wYXRoID0gcGF0aDtcbiAgdGhpcy5yZXRocm93KG1zZyk7XG59O1xuaW5oZXJpdHMoUmVwb3J0ZXJFcnJvciwgRXJyb3IpO1xuXG5SZXBvcnRlckVycm9yLnByb3RvdHlwZS5yZXRocm93ID0gZnVuY3Rpb24gcmV0aHJvdyhtc2cpIHtcbiAgdGhpcy5tZXNzYWdlID0gbXNnICsgJyBhdDogJyArICh0aGlzLnBhdGggfHwgJyhzaGFsbG93KScpO1xuICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBSZXBvcnRlckVycm9yKTtcblxuICByZXR1cm4gdGhpcztcbn07XG4iLCJ2YXIgUmVwb3J0ZXIgPSByZXF1aXJlKCcuLi9iYXNlJykuUmVwb3J0ZXI7XG52YXIgRW5jb2RlckJ1ZmZlciA9IHJlcXVpcmUoJy4uL2Jhc2UnKS5FbmNvZGVyQnVmZmVyO1xudmFyIGFzc2VydCA9IHJlcXVpcmUoJ21pbmltYWxpc3RpYy1hc3NlcnQnKTtcblxuLy8gU3VwcG9ydGVkIHRhZ3NcbnZhciB0YWdzID0gW1xuICAnc2VxJywgJ3NlcW9mJywgJ3NldCcsICdzZXRvZicsICdvY3RzdHInLCAnYml0c3RyJywgJ29iamlkJywgJ2Jvb2wnLFxuICAnZ2VudGltZScsICd1dGN0aW1lJywgJ251bGxfJywgJ2VudW0nLCAnaW50JywgJ2lhNXN0cicsICd1dGY4c3RyJ1xuXTtcblxuLy8gUHVibGljIG1ldGhvZHMgbGlzdFxudmFyIG1ldGhvZHMgPSBbXG4gICdrZXknLCAnb2JqJywgJ3VzZScsICdvcHRpb25hbCcsICdleHBsaWNpdCcsICdpbXBsaWNpdCcsICdkZWYnLCAnY2hvaWNlJyxcbiAgJ2FueSdcbl0uY29uY2F0KHRhZ3MpO1xuXG4vLyBPdmVycmlkZWQgbWV0aG9kcyBsaXN0XG52YXIgb3ZlcnJpZGVkID0gW1xuICAnX3BlZWtUYWcnLCAnX2RlY29kZVRhZycsICdfdXNlJyxcbiAgJ19kZWNvZGVTdHInLCAnX2RlY29kZU9iamlkJywgJ19kZWNvZGVUaW1lJyxcbiAgJ19kZWNvZGVOdWxsJywgJ19kZWNvZGVJbnQnLCAnX2RlY29kZUJvb2wnLCAnX2RlY29kZUxpc3QnLFxuXG4gICdfZW5jb2RlQ29tcG9zaXRlJywgJ19lbmNvZGVTdHInLCAnX2VuY29kZU9iamlkJywgJ19lbmNvZGVUaW1lJyxcbiAgJ19lbmNvZGVOdWxsJywgJ19lbmNvZGVJbnQnLCAnX2VuY29kZUJvb2wnXG5dO1xuXG5mdW5jdGlvbiBOb2RlKGVuYywgcGFyZW50KSB7XG4gIHZhciBzdGF0ZSA9IHt9O1xuICB0aGlzLl9iYXNlU3RhdGUgPSBzdGF0ZTtcblxuICBzdGF0ZS5lbmMgPSBlbmM7XG5cbiAgc3RhdGUucGFyZW50ID0gcGFyZW50IHx8IG51bGw7XG4gIHN0YXRlLmNoaWxkcmVuID0gbnVsbDtcblxuICAvLyBTdGF0ZVxuICBzdGF0ZS50YWcgPSBudWxsO1xuICBzdGF0ZS5hcmdzID0gbnVsbDtcbiAgc3RhdGUucmV2ZXJzZUFyZ3MgPSBudWxsO1xuICBzdGF0ZS5jaG9pY2UgPSBudWxsO1xuICBzdGF0ZS5vcHRpb25hbCA9IGZhbHNlO1xuICBzdGF0ZS5hbnkgPSBmYWxzZTtcbiAgc3RhdGUub2JqID0gZmFsc2U7XG4gIHN0YXRlLnVzZSA9IG51bGw7XG4gIHN0YXRlLnVzZURlY29kZXIgPSBudWxsO1xuICBzdGF0ZS5rZXkgPSBudWxsO1xuICBzdGF0ZVsnZGVmYXVsdCddID0gbnVsbDtcbiAgc3RhdGUuZXhwbGljaXQgPSBudWxsO1xuICBzdGF0ZS5pbXBsaWNpdCA9IG51bGw7XG5cbiAgLy8gU2hvdWxkIGNyZWF0ZSBuZXcgaW5zdGFuY2Ugb24gZWFjaCBtZXRob2RcbiAgaWYgKCFzdGF0ZS5wYXJlbnQpIHtcbiAgICBzdGF0ZS5jaGlsZHJlbiA9IFtdO1xuICAgIHRoaXMuX3dyYXAoKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBOb2RlO1xuXG52YXIgc3RhdGVQcm9wcyA9IFtcbiAgJ2VuYycsICdwYXJlbnQnLCAnY2hpbGRyZW4nLCAndGFnJywgJ2FyZ3MnLCAncmV2ZXJzZUFyZ3MnLCAnY2hvaWNlJyxcbiAgJ29wdGlvbmFsJywgJ2FueScsICdvYmonLCAndXNlJywgJ2FsdGVyZWRVc2UnLCAna2V5JywgJ2RlZmF1bHQnLCAnZXhwbGljaXQnLFxuICAnaW1wbGljaXQnXG5dO1xuXG5Ob2RlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lKCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9iYXNlU3RhdGU7XG4gIHZhciBjc3RhdGUgPSB7fTtcbiAgc3RhdGVQcm9wcy5mb3JFYWNoKGZ1bmN0aW9uKHByb3ApIHtcbiAgICBjc3RhdGVbcHJvcF0gPSBzdGF0ZVtwcm9wXTtcbiAgfSk7XG4gIHZhciByZXMgPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcihjc3RhdGUucGFyZW50KTtcbiAgcmVzLl9iYXNlU3RhdGUgPSBjc3RhdGU7XG4gIHJldHVybiByZXM7XG59O1xuXG5Ob2RlLnByb3RvdHlwZS5fd3JhcCA9IGZ1bmN0aW9uIHdyYXAoKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX2Jhc2VTdGF0ZTtcbiAgbWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgIHRoaXNbbWV0aG9kXSA9IGZ1bmN0aW9uIF93cmFwcGVkTWV0aG9kKCkge1xuICAgICAgdmFyIGNsb25lID0gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcyk7XG4gICAgICBzdGF0ZS5jaGlsZHJlbi5wdXNoKGNsb25lKTtcbiAgICAgIHJldHVybiBjbG9uZVttZXRob2RdLmFwcGx5KGNsb25lLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH0sIHRoaXMpO1xufTtcblxuTm9kZS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiBpbml0KGJvZHkpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fYmFzZVN0YXRlO1xuXG4gIGFzc2VydChzdGF0ZS5wYXJlbnQgPT09IG51bGwpO1xuICBib2R5LmNhbGwodGhpcyk7XG5cbiAgLy8gRmlsdGVyIGNoaWxkcmVuXG4gIHN0YXRlLmNoaWxkcmVuID0gc3RhdGUuY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgcmV0dXJuIGNoaWxkLl9iYXNlU3RhdGUucGFyZW50ID09PSB0aGlzO1xuICB9LCB0aGlzKTtcbiAgYXNzZXJ0LmVxdWFsKHN0YXRlLmNoaWxkcmVuLmxlbmd0aCwgMSwgJ1Jvb3Qgbm9kZSBjYW4gaGF2ZSBvbmx5IG9uZSBjaGlsZCcpO1xufTtcblxuTm9kZS5wcm90b3R5cGUuX3VzZUFyZ3MgPSBmdW5jdGlvbiB1c2VBcmdzKGFyZ3MpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fYmFzZVN0YXRlO1xuXG4gIC8vIEZpbHRlciBjaGlsZHJlbiBhbmQgYXJnc1xuICB2YXIgY2hpbGRyZW4gPSBhcmdzLmZpbHRlcihmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3RvcjtcbiAgfSwgdGhpcyk7XG4gIGFyZ3MgPSBhcmdzLmZpbHRlcihmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gIShhcmcgaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yKTtcbiAgfSwgdGhpcyk7XG5cbiAgaWYgKGNoaWxkcmVuLmxlbmd0aCAhPT0gMCkge1xuICAgIGFzc2VydChzdGF0ZS5jaGlsZHJlbiA9PT0gbnVsbCk7XG4gICAgc3RhdGUuY2hpbGRyZW4gPSBjaGlsZHJlbjtcblxuICAgIC8vIFJlcGxhY2UgcGFyZW50IHRvIG1haW50YWluIGJhY2t3YXJkIGxpbmtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICBjaGlsZC5fYmFzZVN0YXRlLnBhcmVudCA9IHRoaXM7XG4gICAgfSwgdGhpcyk7XG4gIH1cbiAgaWYgKGFyZ3MubGVuZ3RoICE9PSAwKSB7XG4gICAgYXNzZXJ0KHN0YXRlLmFyZ3MgPT09IG51bGwpO1xuICAgIHN0YXRlLmFyZ3MgPSBhcmdzO1xuICAgIHN0YXRlLnJldmVyc2VBcmdzID0gYXJncy5tYXAoZnVuY3Rpb24oYXJnKSB7XG4gICAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ29iamVjdCcgfHwgYXJnLmNvbnN0cnVjdG9yICE9PSBPYmplY3QpXG4gICAgICAgIHJldHVybiBhcmc7XG5cbiAgICAgIHZhciByZXMgPSB7fTtcbiAgICAgIE9iamVjdC5rZXlzKGFyZykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKGtleSA9PSAoa2V5IHwgMCkpXG4gICAgICAgICAga2V5IHw9IDA7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFyZ1trZXldO1xuICAgICAgICByZXNbdmFsdWVdID0ga2V5O1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0pO1xuICB9XG59O1xuXG4vL1xuLy8gT3ZlcnJpZGVkIG1ldGhvZHNcbi8vXG5cbm92ZXJyaWRlZC5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICBOb2RlLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24gX292ZXJyaWRlZCgpIHtcbiAgICB2YXIgc3RhdGUgPSB0aGlzLl9iYXNlU3RhdGU7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1ldGhvZCArICcgbm90IGltcGxlbWVudGVkIGZvciBlbmNvZGluZzogJyArIHN0YXRlLmVuYyk7XG4gIH07XG59KTtcblxuLy9cbi8vIFB1YmxpYyBtZXRob2RzXG4vL1xuXG50YWdzLmZvckVhY2goZnVuY3Rpb24odGFnKSB7XG4gIE5vZGUucHJvdG90eXBlW3RhZ10gPSBmdW5jdGlvbiBfdGFnTWV0aG9kKCkge1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuX2Jhc2VTdGF0ZTtcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG5cbiAgICBhc3NlcnQoc3RhdGUudGFnID09PSBudWxsKTtcbiAgICBzdGF0ZS50YWcgPSB0YWc7XG5cbiAgICB0aGlzLl91c2VBcmdzKGFyZ3MpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG59KTtcblxuTm9kZS5wcm90b3R5cGUudXNlID0gZnVuY3Rpb24gdXNlKGl0ZW0pIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fYmFzZVN0YXRlO1xuXG4gIGFzc2VydChzdGF0ZS51c2UgPT09IG51bGwpO1xuICBzdGF0ZS51c2UgPSBpdGVtO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuTm9kZS5wcm90b3R5cGUub3B0aW9uYWwgPSBmdW5jdGlvbiBvcHRpb25hbCgpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fYmFzZVN0YXRlO1xuXG4gIHN0YXRlLm9wdGlvbmFsID0gdHJ1ZTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbk5vZGUucHJvdG90eXBlLmRlZiA9IGZ1bmN0aW9uIGRlZih2YWwpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fYmFzZVN0YXRlO1xuXG4gIGFzc2VydChzdGF0ZVsnZGVmYXVsdCddID09PSBudWxsKTtcbiAgc3RhdGVbJ2RlZmF1bHQnXSA9IHZhbDtcbiAgc3RhdGUub3B0aW9uYWwgPSB0cnVlO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuTm9kZS5wcm90b3R5cGUuZXhwbGljaXQgPSBmdW5jdGlvbiBleHBsaWNpdChudW0pIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fYmFzZVN0YXRlO1xuXG4gIGFzc2VydChzdGF0ZS5leHBsaWNpdCA9PT0gbnVsbCAmJiBzdGF0ZS5pbXBsaWNpdCA9PT0gbnVsbCk7XG4gIHN0YXRlLmV4cGxpY2l0ID0gbnVtO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuTm9kZS5wcm90b3R5cGUuaW1wbGljaXQgPSBmdW5jdGlvbiBpbXBsaWNpdChudW0pIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fYmFzZVN0YXRlO1xuXG4gIGFzc2VydChzdGF0ZS5leHBsaWNpdCA9PT0gbnVsbCAmJiBzdGF0ZS5pbXBsaWNpdCA9PT0gbnVsbCk7XG4gIHN0YXRlLmltcGxpY2l0ID0gbnVtO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuTm9kZS5wcm90b3R5cGUub2JqID0gZnVuY3Rpb24gb2JqKCkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9iYXNlU3RhdGU7XG4gIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblxuICBzdGF0ZS5vYmogPSB0cnVlO1xuXG4gIGlmIChhcmdzLmxlbmd0aCAhPT0gMClcbiAgICB0aGlzLl91c2VBcmdzKGFyZ3MpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuTm9kZS5wcm90b3R5cGUua2V5ID0gZnVuY3Rpb24ga2V5KG5ld0tleSkge1xuICB2YXIgc3RhdGUgPSB0aGlzLl9iYXNlU3RhdGU7XG5cbiAgYXNzZXJ0KHN0YXRlLmtleSA9PT0gbnVsbCk7XG4gIHN0YXRlLmtleSA9IG5ld0tleTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbk5vZGUucHJvdG90eXBlLmFueSA9IGZ1bmN0aW9uIGFueSgpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fYmFzZVN0YXRlO1xuXG4gIHN0YXRlLmFueSA9IHRydWU7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5Ob2RlLnByb3RvdHlwZS5jaG9pY2UgPSBmdW5jdGlvbiBjaG9pY2Uob2JqKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX2Jhc2VTdGF0ZTtcblxuICBhc3NlcnQoc3RhdGUuY2hvaWNlID09PSBudWxsKTtcbiAgc3RhdGUuY2hvaWNlID0gb2JqO1xuICB0aGlzLl91c2VBcmdzKE9iamVjdC5rZXlzKG9iaikubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBvYmpba2V5XTtcbiAgfSkpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIERlY29kaW5nXG4vL1xuXG5Ob2RlLnByb3RvdHlwZS5fZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX2Jhc2VTdGF0ZTtcblxuICAvLyBEZWNvZGUgcm9vdCBub2RlXG4gIGlmIChzdGF0ZS5wYXJlbnQgPT09IG51bGwpXG4gICAgcmV0dXJuIGlucHV0LndyYXBSZXN1bHQoc3RhdGUuY2hpbGRyZW5bMF0uX2RlY29kZShpbnB1dCkpO1xuXG4gIHZhciByZXN1bHQgPSBzdGF0ZVsnZGVmYXVsdCddO1xuICB2YXIgcHJlc2VudCA9IHRydWU7XG5cbiAgdmFyIHByZXZLZXk7XG4gIGlmIChzdGF0ZS5rZXkgIT09IG51bGwpXG4gICAgcHJldktleSA9IGlucHV0LmVudGVyS2V5KHN0YXRlLmtleSk7XG5cbiAgLy8gQ2hlY2sgaWYgdGFnIGlzIHRoZXJlXG4gIGlmIChzdGF0ZS5vcHRpb25hbCkge1xuICAgIHZhciB0YWcgPSBudWxsO1xuICAgIGlmIChzdGF0ZS5leHBsaWNpdCAhPT0gbnVsbClcbiAgICAgIHRhZyA9IHN0YXRlLmV4cGxpY2l0O1xuICAgIGVsc2UgaWYgKHN0YXRlLmltcGxpY2l0ICE9PSBudWxsKVxuICAgICAgdGFnID0gc3RhdGUuaW1wbGljaXQ7XG4gICAgZWxzZSBpZiAoc3RhdGUudGFnICE9PSBudWxsKVxuICAgICAgdGFnID0gc3RhdGUudGFnO1xuXG4gICAgaWYgKHRhZyA9PT0gbnVsbCAmJiAhc3RhdGUuYW55KSB7XG4gICAgICAvLyBUcmlhbCBhbmQgRXJyb3JcbiAgICAgIHZhciBzYXZlID0gaW5wdXQuc2F2ZSgpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHN0YXRlLmNob2ljZSA9PT0gbnVsbClcbiAgICAgICAgICB0aGlzLl9kZWNvZGVHZW5lcmljKHN0YXRlLnRhZywgaW5wdXQpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgdGhpcy5fZGVjb2RlQ2hvaWNlKGlucHV0KTtcbiAgICAgICAgcHJlc2VudCA9IHRydWU7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHByZXNlbnQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlucHV0LnJlc3RvcmUoc2F2ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByZXNlbnQgPSB0aGlzLl9wZWVrVGFnKGlucHV0LCB0YWcsIHN0YXRlLmFueSk7XG5cbiAgICAgIGlmIChpbnB1dC5pc0Vycm9yKHByZXNlbnQpKVxuICAgICAgICByZXR1cm4gcHJlc2VudDtcbiAgICB9XG4gIH1cblxuICAvLyBQdXNoIG9iamVjdCBvbiBzdGFja1xuICB2YXIgcHJldk9iajtcbiAgaWYgKHN0YXRlLm9iaiAmJiBwcmVzZW50KVxuICAgIHByZXZPYmogPSBpbnB1dC5lbnRlck9iamVjdCgpO1xuXG4gIGlmIChwcmVzZW50KSB7XG4gICAgLy8gVW53cmFwIGV4cGxpY2l0IHZhbHVlc1xuICAgIGlmIChzdGF0ZS5leHBsaWNpdCAhPT0gbnVsbCkge1xuICAgICAgdmFyIGV4cGxpY2l0ID0gdGhpcy5fZGVjb2RlVGFnKGlucHV0LCBzdGF0ZS5leHBsaWNpdCk7XG4gICAgICBpZiAoaW5wdXQuaXNFcnJvcihleHBsaWNpdCkpXG4gICAgICAgIHJldHVybiBleHBsaWNpdDtcbiAgICAgIGlucHV0ID0gZXhwbGljaXQ7XG4gICAgfVxuXG4gICAgLy8gVW53cmFwIGltcGxpY2l0IGFuZCBub3JtYWwgdmFsdWVzXG4gICAgaWYgKHN0YXRlLnVzZSA9PT0gbnVsbCAmJiBzdGF0ZS5jaG9pY2UgPT09IG51bGwpIHtcbiAgICAgIGlmIChzdGF0ZS5hbnkpXG4gICAgICAgIHZhciBzYXZlID0gaW5wdXQuc2F2ZSgpO1xuICAgICAgdmFyIGJvZHkgPSB0aGlzLl9kZWNvZGVUYWcoXG4gICAgICAgIGlucHV0LFxuICAgICAgICBzdGF0ZS5pbXBsaWNpdCAhPT0gbnVsbCA/IHN0YXRlLmltcGxpY2l0IDogc3RhdGUudGFnLFxuICAgICAgICBzdGF0ZS5hbnlcbiAgICAgICk7XG4gICAgICBpZiAoaW5wdXQuaXNFcnJvcihib2R5KSlcbiAgICAgICAgcmV0dXJuIGJvZHk7XG5cbiAgICAgIGlmIChzdGF0ZS5hbnkpXG4gICAgICAgIHJlc3VsdCA9IGlucHV0LnJhdyhzYXZlKTtcbiAgICAgIGVsc2VcbiAgICAgICAgaW5wdXQgPSBib2R5O1xuICAgIH1cblxuICAgIC8vIFNlbGVjdCBwcm9wZXIgbWV0aG9kIGZvciB0YWdcbiAgICBpZiAoc3RhdGUuYW55KVxuICAgICAgcmVzdWx0ID0gcmVzdWx0O1xuICAgIGVsc2UgaWYgKHN0YXRlLmNob2ljZSA9PT0gbnVsbClcbiAgICAgIHJlc3VsdCA9IHRoaXMuX2RlY29kZUdlbmVyaWMoc3RhdGUudGFnLCBpbnB1dCk7XG4gICAgZWxzZVxuICAgICAgcmVzdWx0ID0gdGhpcy5fZGVjb2RlQ2hvaWNlKGlucHV0KTtcblxuICAgIGlmIChpbnB1dC5pc0Vycm9yKHJlc3VsdCkpXG4gICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgLy8gRGVjb2RlIGNoaWxkcmVuXG4gICAgaWYgKCFzdGF0ZS5hbnkgJiYgc3RhdGUuY2hvaWNlID09PSBudWxsICYmIHN0YXRlLmNoaWxkcmVuICE9PSBudWxsKSB7XG4gICAgICB2YXIgZmFpbCA9IHN0YXRlLmNoaWxkcmVuLnNvbWUoZnVuY3Rpb24gZGVjb2RlQ2hpbGRyZW4oY2hpbGQpIHtcbiAgICAgICAgLy8gTk9URTogV2UgYXJlIGlnbm9yaW5nIGVycm9ycyBoZXJlLCB0byBsZXQgcGFyc2VyIGNvbnRpbnVlIHdpdGggb3RoZXJcbiAgICAgICAgLy8gcGFydHMgb2YgZW5jb2RlZCBkYXRhXG4gICAgICAgIGNoaWxkLl9kZWNvZGUoaW5wdXQpO1xuICAgICAgfSk7XG4gICAgICBpZiAoZmFpbClcbiAgICAgICAgcmV0dXJuIGVycjtcbiAgICB9XG4gIH1cblxuICAvLyBQb3Agb2JqZWN0XG4gIGlmIChzdGF0ZS5vYmogJiYgcHJlc2VudClcbiAgICByZXN1bHQgPSBpbnB1dC5sZWF2ZU9iamVjdChwcmV2T2JqKTtcblxuICAvLyBTZXQga2V5XG4gIGlmIChzdGF0ZS5rZXkgIT09IG51bGwgJiYgKHJlc3VsdCAhPT0gbnVsbCB8fCBwcmVzZW50ID09PSB0cnVlKSlcbiAgICBpbnB1dC5sZWF2ZUtleShwcmV2S2V5LCBzdGF0ZS5rZXksIHJlc3VsdCk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbk5vZGUucHJvdG90eXBlLl9kZWNvZGVHZW5lcmljID0gZnVuY3Rpb24gZGVjb2RlR2VuZXJpYyh0YWcsIGlucHV0KSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX2Jhc2VTdGF0ZTtcblxuICBpZiAodGFnID09PSAnc2VxJyB8fCB0YWcgPT09ICdzZXQnKVxuICAgIHJldHVybiBudWxsO1xuICBpZiAodGFnID09PSAnc2Vxb2YnIHx8IHRhZyA9PT0gJ3NldG9mJylcbiAgICByZXR1cm4gdGhpcy5fZGVjb2RlTGlzdChpbnB1dCwgdGFnLCBzdGF0ZS5hcmdzWzBdKTtcbiAgZWxzZSBpZiAodGFnID09PSAnb2N0c3RyJyB8fCB0YWcgPT09ICdiaXRzdHInKVxuICAgIHJldHVybiB0aGlzLl9kZWNvZGVTdHIoaW5wdXQsIHRhZyk7XG4gIGVsc2UgaWYgKHRhZyA9PT0gJ2lhNXN0cicgfHwgdGFnID09PSAndXRmOHN0cicpXG4gICAgcmV0dXJuIHRoaXMuX2RlY29kZVN0cihpbnB1dCwgdGFnKTtcbiAgZWxzZSBpZiAodGFnID09PSAnb2JqaWQnICYmIHN0YXRlLmFyZ3MpXG4gICAgcmV0dXJuIHRoaXMuX2RlY29kZU9iamlkKGlucHV0LCBzdGF0ZS5hcmdzWzBdLCBzdGF0ZS5hcmdzWzFdKTtcbiAgZWxzZSBpZiAodGFnID09PSAnb2JqaWQnKVxuICAgIHJldHVybiB0aGlzLl9kZWNvZGVPYmppZChpbnB1dCwgbnVsbCwgbnVsbCk7XG4gIGVsc2UgaWYgKHRhZyA9PT0gJ2dlbnRpbWUnIHx8IHRhZyA9PT0gJ3V0Y3RpbWUnKVxuICAgIHJldHVybiB0aGlzLl9kZWNvZGVUaW1lKGlucHV0LCB0YWcpO1xuICBlbHNlIGlmICh0YWcgPT09ICdudWxsXycpXG4gICAgcmV0dXJuIHRoaXMuX2RlY29kZU51bGwoaW5wdXQpO1xuICBlbHNlIGlmICh0YWcgPT09ICdib29sJylcbiAgICByZXR1cm4gdGhpcy5fZGVjb2RlQm9vbChpbnB1dCk7XG4gIGVsc2UgaWYgKHRhZyA9PT0gJ2ludCcgfHwgdGFnID09PSAnZW51bScpXG4gICAgcmV0dXJuIHRoaXMuX2RlY29kZUludChpbnB1dCwgc3RhdGUuYXJncyAmJiBzdGF0ZS5hcmdzWzBdKTtcbiAgZWxzZSBpZiAoc3RhdGUudXNlICE9PSBudWxsKVxuICAgIHJldHVybiB0aGlzLl9nZXRVc2Uoc3RhdGUudXNlLCBpbnB1dC5fcmVwb3J0ZXJTdGF0ZS5vYmopLl9kZWNvZGUoaW5wdXQpO1xuICBlbHNlXG4gICAgcmV0dXJuIGlucHV0LmVycm9yKCd1bmtub3duIHRhZzogJyArIHRhZyk7XG5cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5Ob2RlLnByb3RvdHlwZS5fZ2V0VXNlID0gZnVuY3Rpb24gX2dldFVzZShlbnRpdHksIG9iaikge1xuXG4gIHZhciBzdGF0ZSA9IHRoaXMuX2Jhc2VTdGF0ZTtcbiAgLy8gQ3JlYXRlIGFsdGVyZWQgdXNlIGRlY29kZXIgaWYgaW1wbGljaXQgaXMgc2V0XG4gIHN0YXRlLnVzZURlY29kZXIgPSB0aGlzLl91c2UoZW50aXR5LCBvYmopO1xuICBhc3NlcnQoc3RhdGUudXNlRGVjb2Rlci5fYmFzZVN0YXRlLnBhcmVudCA9PT0gbnVsbCk7XG4gIHN0YXRlLnVzZURlY29kZXIgPSBzdGF0ZS51c2VEZWNvZGVyLl9iYXNlU3RhdGUuY2hpbGRyZW5bMF07XG4gIGlmIChzdGF0ZS5pbXBsaWNpdCAhPT0gc3RhdGUudXNlRGVjb2Rlci5fYmFzZVN0YXRlLmltcGxpY2l0KSB7XG4gICAgc3RhdGUudXNlRGVjb2RlciA9IHN0YXRlLnVzZURlY29kZXIuY2xvbmUoKTtcbiAgICBzdGF0ZS51c2VEZWNvZGVyLl9iYXNlU3RhdGUuaW1wbGljaXQgPSBzdGF0ZS5pbXBsaWNpdDtcbiAgfVxuICByZXR1cm4gc3RhdGUudXNlRGVjb2Rlcjtcbn07XG5cbk5vZGUucHJvdG90eXBlLl9kZWNvZGVDaG9pY2UgPSBmdW5jdGlvbiBkZWNvZGVDaG9pY2UoaW5wdXQpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fYmFzZVN0YXRlO1xuICB2YXIgcmVzdWx0ID0gbnVsbDtcbiAgdmFyIG1hdGNoID0gZmFsc2U7XG5cbiAgT2JqZWN0LmtleXMoc3RhdGUuY2hvaWNlKS5zb21lKGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBzYXZlID0gaW5wdXQuc2F2ZSgpO1xuICAgIHZhciBub2RlID0gc3RhdGUuY2hvaWNlW2tleV07XG4gICAgdHJ5IHtcbiAgICAgIHZhciB2YWx1ZSA9IG5vZGUuX2RlY29kZShpbnB1dCk7XG4gICAgICBpZiAoaW5wdXQuaXNFcnJvcih2YWx1ZSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgcmVzdWx0ID0geyB0eXBlOiBrZXksIHZhbHVlOiB2YWx1ZSB9O1xuICAgICAgbWF0Y2ggPSB0cnVlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlucHV0LnJlc3RvcmUoc2F2ZSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9LCB0aGlzKTtcblxuICBpZiAoIW1hdGNoKVxuICAgIHJldHVybiBpbnB1dC5lcnJvcignQ2hvaWNlIG5vdCBtYXRjaGVkJyk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8vXG4vLyBFbmNvZGluZ1xuLy9cblxuTm9kZS5wcm90b3R5cGUuX2NyZWF0ZUVuY29kZXJCdWZmZXIgPSBmdW5jdGlvbiBjcmVhdGVFbmNvZGVyQnVmZmVyKGRhdGEpIHtcbiAgcmV0dXJuIG5ldyBFbmNvZGVyQnVmZmVyKGRhdGEsIHRoaXMucmVwb3J0ZXIpO1xufTtcblxuTm9kZS5wcm90b3R5cGUuX2VuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShkYXRhLCByZXBvcnRlciwgcGFyZW50KSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX2Jhc2VTdGF0ZTtcbiAgaWYgKHN0YXRlWydkZWZhdWx0J10gIT09IG51bGwgJiYgc3RhdGVbJ2RlZmF1bHQnXSA9PT0gZGF0YSlcbiAgICByZXR1cm47XG5cbiAgdmFyIHJlc3VsdCA9IHRoaXMuX2VuY29kZVZhbHVlKGRhdGEsIHJlcG9ydGVyLCBwYXJlbnQpO1xuICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuO1xuXG4gIGlmICh0aGlzLl9za2lwRGVmYXVsdChyZXN1bHQsIHJlcG9ydGVyLCBwYXJlbnQpKVxuICAgIHJldHVybjtcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuTm9kZS5wcm90b3R5cGUuX2VuY29kZVZhbHVlID0gZnVuY3Rpb24gZW5jb2RlKGRhdGEsIHJlcG9ydGVyLCBwYXJlbnQpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fYmFzZVN0YXRlO1xuXG4gIC8vIERlY29kZSByb290IG5vZGVcbiAgaWYgKHN0YXRlLnBhcmVudCA9PT0gbnVsbClcbiAgICByZXR1cm4gc3RhdGUuY2hpbGRyZW5bMF0uX2VuY29kZShkYXRhLCByZXBvcnRlciB8fCBuZXcgUmVwb3J0ZXIoKSk7XG5cbiAgdmFyIHJlc3VsdCA9IG51bGw7XG4gIHZhciBwcmVzZW50ID0gdHJ1ZTtcblxuICAvLyBTZXQgcmVwb3J0ZXIgdG8gc2hhcmUgaXQgd2l0aCBhIGNoaWxkIGNsYXNzXG4gIHRoaXMucmVwb3J0ZXIgPSByZXBvcnRlcjtcblxuICAvLyBDaGVjayBpZiBkYXRhIGlzIHRoZXJlXG4gIGlmIChzdGF0ZS5vcHRpb25hbCAmJiBkYXRhID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoc3RhdGVbJ2RlZmF1bHQnXSAhPT0gbnVsbClcbiAgICAgIGRhdGEgPSBzdGF0ZVsnZGVmYXVsdCddXG4gICAgZWxzZVxuICAgICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRm9yIGVycm9yIHJlcG9ydGluZ1xuICB2YXIgcHJldktleTtcblxuICAvLyBFbmNvZGUgY2hpbGRyZW4gZmlyc3RcbiAgdmFyIGNvbnRlbnQgPSBudWxsO1xuICB2YXIgcHJpbWl0aXZlID0gZmFsc2U7XG4gIGlmIChzdGF0ZS5hbnkpIHtcbiAgICAvLyBBbnl0aGluZyB0aGF0IHdhcyBnaXZlbiBpcyB0cmFuc2xhdGVkIHRvIGJ1ZmZlclxuICAgIHJlc3VsdCA9IHRoaXMuX2NyZWF0ZUVuY29kZXJCdWZmZXIoZGF0YSk7XG4gIH0gZWxzZSBpZiAoc3RhdGUuY2hvaWNlKSB7XG4gICAgcmVzdWx0ID0gdGhpcy5fZW5jb2RlQ2hvaWNlKGRhdGEsIHJlcG9ydGVyKTtcbiAgfSBlbHNlIGlmIChzdGF0ZS5jaGlsZHJlbikge1xuICAgIGNvbnRlbnQgPSBzdGF0ZS5jaGlsZHJlbi5tYXAoZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgIGlmIChjaGlsZC5fYmFzZVN0YXRlLnRhZyA9PT0gJ251bGxfJylcbiAgICAgICAgcmV0dXJuIGNoaWxkLl9lbmNvZGUobnVsbCwgcmVwb3J0ZXIsIGRhdGEpO1xuXG4gICAgICBpZiAoY2hpbGQuX2Jhc2VTdGF0ZS5rZXkgPT09IG51bGwpXG4gICAgICAgIHJldHVybiByZXBvcnRlci5lcnJvcignQ2hpbGQgc2hvdWxkIGhhdmUgYSBrZXknKTtcbiAgICAgIHZhciBwcmV2S2V5ID0gcmVwb3J0ZXIuZW50ZXJLZXkoY2hpbGQuX2Jhc2VTdGF0ZS5rZXkpO1xuXG4gICAgICBpZiAodHlwZW9mIGRhdGEgIT09ICdvYmplY3QnKVxuICAgICAgICByZXR1cm4gcmVwb3J0ZXIuZXJyb3IoJ0NoaWxkIGV4cGVjdGVkLCBidXQgaW5wdXQgaXMgbm90IG9iamVjdCcpO1xuXG4gICAgICB2YXIgcmVzID0gY2hpbGQuX2VuY29kZShkYXRhW2NoaWxkLl9iYXNlU3RhdGUua2V5XSwgcmVwb3J0ZXIsIGRhdGEpO1xuICAgICAgcmVwb3J0ZXIubGVhdmVLZXkocHJldktleSk7XG5cbiAgICAgIHJldHVybiByZXM7XG4gICAgfSwgdGhpcykuZmlsdGVyKGZ1bmN0aW9uKGNoaWxkKSB7XG4gICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfSk7XG5cbiAgICBjb250ZW50ID0gdGhpcy5fY3JlYXRlRW5jb2RlckJ1ZmZlcihjb250ZW50KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoc3RhdGUudGFnID09PSAnc2Vxb2YnIHx8IHN0YXRlLnRhZyA9PT0gJ3NldG9mJykge1xuICAgICAgLy8gVE9ETyhpbmR1dG55KTogdGhpcyBzaG91bGQgYmUgdGhyb3duIG9uIERTTCBsZXZlbFxuICAgICAgaWYgKCEoc3RhdGUuYXJncyAmJiBzdGF0ZS5hcmdzLmxlbmd0aCA9PT0gMSkpXG4gICAgICAgIHJldHVybiByZXBvcnRlci5lcnJvcignVG9vIG1hbnkgYXJncyBmb3IgOiAnICsgc3RhdGUudGFnKTtcblxuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGRhdGEpKVxuICAgICAgICByZXR1cm4gcmVwb3J0ZXIuZXJyb3IoJ3NlcW9mL3NldG9mLCBidXQgZGF0YSBpcyBub3QgQXJyYXknKTtcblxuICAgICAgdmFyIGNoaWxkID0gdGhpcy5jbG9uZSgpO1xuICAgICAgY2hpbGQuX2Jhc2VTdGF0ZS5pbXBsaWNpdCA9IG51bGw7XG4gICAgICBjb250ZW50ID0gdGhpcy5fY3JlYXRlRW5jb2RlckJ1ZmZlcihkYXRhLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuX2Jhc2VTdGF0ZTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0VXNlKHN0YXRlLmFyZ3NbMF0sIGRhdGEpLl9lbmNvZGUoaXRlbSwgcmVwb3J0ZXIpO1xuICAgICAgfSwgY2hpbGQpKTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlLnVzZSAhPT0gbnVsbCkge1xuICAgICAgcmVzdWx0ID0gdGhpcy5fZ2V0VXNlKHN0YXRlLnVzZSwgcGFyZW50KS5fZW5jb2RlKGRhdGEsIHJlcG9ydGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGVudCA9IHRoaXMuX2VuY29kZVByaW1pdGl2ZShzdGF0ZS50YWcsIGRhdGEpO1xuICAgICAgcHJpbWl0aXZlID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvLyBFbmNvZGUgZGF0YSBpdHNlbGZcbiAgdmFyIHJlc3VsdDtcbiAgaWYgKCFzdGF0ZS5hbnkgJiYgc3RhdGUuY2hvaWNlID09PSBudWxsKSB7XG4gICAgdmFyIHRhZyA9IHN0YXRlLmltcGxpY2l0ICE9PSBudWxsID8gc3RhdGUuaW1wbGljaXQgOiBzdGF0ZS50YWc7XG4gICAgdmFyIGNscyA9IHN0YXRlLmltcGxpY2l0ID09PSBudWxsID8gJ3VuaXZlcnNhbCcgOiAnY29udGV4dCc7XG5cbiAgICBpZiAodGFnID09PSBudWxsKSB7XG4gICAgICBpZiAoc3RhdGUudXNlID09PSBudWxsKVxuICAgICAgICByZXBvcnRlci5lcnJvcignVGFnIGNvdWxkIGJlIG9tbWl0ZWQgb25seSBmb3IgLnVzZSgpJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChzdGF0ZS51c2UgPT09IG51bGwpXG4gICAgICAgIHJlc3VsdCA9IHRoaXMuX2VuY29kZUNvbXBvc2l0ZSh0YWcsIHByaW1pdGl2ZSwgY2xzLCBjb250ZW50KTtcbiAgICB9XG4gIH1cblxuICAvLyBXcmFwIGluIGV4cGxpY2l0XG4gIGlmIChzdGF0ZS5leHBsaWNpdCAhPT0gbnVsbClcbiAgICByZXN1bHQgPSB0aGlzLl9lbmNvZGVDb21wb3NpdGUoc3RhdGUuZXhwbGljaXQsIGZhbHNlLCAnY29udGV4dCcsIHJlc3VsdCk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbk5vZGUucHJvdG90eXBlLl9lbmNvZGVDaG9pY2UgPSBmdW5jdGlvbiBlbmNvZGVDaG9pY2UoZGF0YSwgcmVwb3J0ZXIpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fYmFzZVN0YXRlO1xuXG4gIHZhciBub2RlID0gc3RhdGUuY2hvaWNlW2RhdGEudHlwZV07XG4gIGlmICghbm9kZSkge1xuICAgIGFzc2VydChcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIGRhdGEudHlwZSArICcgbm90IGZvdW5kIGluICcgK1xuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmtleXMoc3RhdGUuY2hvaWNlKSkpO1xuICB9XG4gIHJldHVybiBub2RlLl9lbmNvZGUoZGF0YS52YWx1ZSwgcmVwb3J0ZXIpO1xufTtcblxuTm9kZS5wcm90b3R5cGUuX2VuY29kZVByaW1pdGl2ZSA9IGZ1bmN0aW9uIGVuY29kZVByaW1pdGl2ZSh0YWcsIGRhdGEpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fYmFzZVN0YXRlO1xuXG4gIGlmICh0YWcgPT09ICdvY3RzdHInIHx8IHRhZyA9PT0gJ2JpdHN0cicgfHwgdGFnID09PSAnaWE1c3RyJylcbiAgICByZXR1cm4gdGhpcy5fZW5jb2RlU3RyKGRhdGEsIHRhZyk7XG4gIGVsc2UgaWYgKHRhZyA9PT0gJ3V0ZjhzdHInKVxuICAgIHJldHVybiB0aGlzLl9lbmNvZGVTdHIoZGF0YSwgdGFnKTtcbiAgZWxzZSBpZiAodGFnID09PSAnb2JqaWQnICYmIHN0YXRlLmFyZ3MpXG4gICAgcmV0dXJuIHRoaXMuX2VuY29kZU9iamlkKGRhdGEsIHN0YXRlLnJldmVyc2VBcmdzWzBdLCBzdGF0ZS5hcmdzWzFdKTtcbiAgZWxzZSBpZiAodGFnID09PSAnb2JqaWQnKVxuICAgIHJldHVybiB0aGlzLl9lbmNvZGVPYmppZChkYXRhLCBudWxsLCBudWxsKTtcbiAgZWxzZSBpZiAodGFnID09PSAnZ2VudGltZScgfHwgdGFnID09PSAndXRjdGltZScpXG4gICAgcmV0dXJuIHRoaXMuX2VuY29kZVRpbWUoZGF0YSwgdGFnKTtcbiAgZWxzZSBpZiAodGFnID09PSAnbnVsbF8nKVxuICAgIHJldHVybiB0aGlzLl9lbmNvZGVOdWxsKCk7XG4gIGVsc2UgaWYgKHRhZyA9PT0gJ2ludCcgfHwgdGFnID09PSAnZW51bScpXG4gICAgcmV0dXJuIHRoaXMuX2VuY29kZUludChkYXRhLCBzdGF0ZS5hcmdzICYmIHN0YXRlLnJldmVyc2VBcmdzWzBdKTtcbiAgZWxzZSBpZiAodGFnID09PSAnYm9vbCcpXG4gICAgcmV0dXJuIHRoaXMuX2VuY29kZUJvb2woZGF0YSk7XG4gIGVsc2VcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIHRhZzogJyArIHRhZyk7XG59O1xuIiwiYXJndW1lbnRzWzRdW1wiL2hvbWUvdWJ1bnR1L3N0YWdpbmcvYXBwcy9ub2RlX21vZHVsZXMvYnJvd3NlcmlmeS9ub2RlX21vZHVsZXMvY3J5cHRvLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktY2lwaGVyL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LWRlcy9ub2RlX21vZHVsZXMvZGVzLmpzL25vZGVfbW9kdWxlcy9taW5pbWFsaXN0aWMtYXNzZXJ0L2luZGV4LmpzXCJdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKSIsInZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgUmVwb3J0ZXIgPSByZXF1aXJlKCcuLi9iYXNlJykuUmVwb3J0ZXI7XG52YXIgQnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJykuQnVmZmVyO1xuXG5mdW5jdGlvbiBEZWNvZGVyQnVmZmVyKGJhc2UsIG9wdGlvbnMpIHtcbiAgUmVwb3J0ZXIuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYmFzZSkpIHtcbiAgICB0aGlzLmVycm9yKCdJbnB1dCBub3QgQnVmZmVyJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5iYXNlID0gYmFzZTtcbiAgdGhpcy5vZmZzZXQgPSAwO1xuICB0aGlzLmxlbmd0aCA9IGJhc2UubGVuZ3RoO1xufVxuaW5oZXJpdHMoRGVjb2RlckJ1ZmZlciwgUmVwb3J0ZXIpO1xuZXhwb3J0cy5EZWNvZGVyQnVmZmVyID0gRGVjb2RlckJ1ZmZlcjtcblxuRGVjb2RlckJ1ZmZlci5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uIHNhdmUoKSB7XG4gIHJldHVybiB7IG9mZnNldDogdGhpcy5vZmZzZXQsIHJlcG9ydGVyOiBSZXBvcnRlci5wcm90b3R5cGUuc2F2ZS5jYWxsKHRoaXMpIH07XG59O1xuXG5EZWNvZGVyQnVmZmVyLnByb3RvdHlwZS5yZXN0b3JlID0gZnVuY3Rpb24gcmVzdG9yZShzYXZlKSB7XG4gIC8vIFJldHVybiBza2lwcGVkIGRhdGFcbiAgdmFyIHJlcyA9IG5ldyBEZWNvZGVyQnVmZmVyKHRoaXMuYmFzZSk7XG4gIHJlcy5vZmZzZXQgPSBzYXZlLm9mZnNldDtcbiAgcmVzLmxlbmd0aCA9IHRoaXMub2Zmc2V0O1xuXG4gIHRoaXMub2Zmc2V0ID0gc2F2ZS5vZmZzZXQ7XG4gIFJlcG9ydGVyLnByb3RvdHlwZS5yZXN0b3JlLmNhbGwodGhpcywgc2F2ZS5yZXBvcnRlcik7XG5cbiAgcmV0dXJuIHJlcztcbn07XG5cbkRlY29kZXJCdWZmZXIucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiBpc0VtcHR5KCkge1xuICByZXR1cm4gdGhpcy5vZmZzZXQgPT09IHRoaXMubGVuZ3RoO1xufTtcblxuRGVjb2RlckJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQ4ID0gZnVuY3Rpb24gcmVhZFVJbnQ4KGZhaWwpIHtcbiAgaWYgKHRoaXMub2Zmc2V0ICsgMSA8PSB0aGlzLmxlbmd0aClcbiAgICByZXR1cm4gdGhpcy5iYXNlLnJlYWRVSW50OCh0aGlzLm9mZnNldCsrLCB0cnVlKTtcbiAgZWxzZVxuICAgIHJldHVybiB0aGlzLmVycm9yKGZhaWwgfHwgJ0RlY29kZXJCdWZmZXIgb3ZlcnJ1bicpO1xufVxuXG5EZWNvZGVyQnVmZmVyLnByb3RvdHlwZS5za2lwID0gZnVuY3Rpb24gc2tpcChieXRlcywgZmFpbCkge1xuICBpZiAoISh0aGlzLm9mZnNldCArIGJ5dGVzIDw9IHRoaXMubGVuZ3RoKSlcbiAgICByZXR1cm4gdGhpcy5lcnJvcihmYWlsIHx8ICdEZWNvZGVyQnVmZmVyIG92ZXJydW4nKTtcblxuICB2YXIgcmVzID0gbmV3IERlY29kZXJCdWZmZXIodGhpcy5iYXNlKTtcblxuICAvLyBTaGFyZSByZXBvcnRlciBzdGF0ZVxuICByZXMuX3JlcG9ydGVyU3RhdGUgPSB0aGlzLl9yZXBvcnRlclN0YXRlO1xuXG4gIHJlcy5vZmZzZXQgPSB0aGlzLm9mZnNldDtcbiAgcmVzLmxlbmd0aCA9IHRoaXMub2Zmc2V0ICsgYnl0ZXM7XG4gIHRoaXMub2Zmc2V0ICs9IGJ5dGVzO1xuICByZXR1cm4gcmVzO1xufVxuXG5EZWNvZGVyQnVmZmVyLnByb3RvdHlwZS5yYXcgPSBmdW5jdGlvbiByYXcoc2F2ZSkge1xuICByZXR1cm4gdGhpcy5iYXNlLnNsaWNlKHNhdmUgPyBzYXZlLm9mZnNldCA6IHRoaXMub2Zmc2V0LCB0aGlzLmxlbmd0aCk7XG59XG5cbmZ1bmN0aW9uIEVuY29kZXJCdWZmZXIodmFsdWUsIHJlcG9ydGVyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWUubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIGlmICghKGl0ZW0gaW5zdGFuY2VvZiBFbmNvZGVyQnVmZmVyKSlcbiAgICAgICAgaXRlbSA9IG5ldyBFbmNvZGVyQnVmZmVyKGl0ZW0sIHJlcG9ydGVyKTtcbiAgICAgIHRoaXMubGVuZ3RoICs9IGl0ZW0ubGVuZ3RoO1xuICAgICAgcmV0dXJuIGl0ZW07XG4gICAgfSwgdGhpcyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIGlmICghKDAgPD0gdmFsdWUgJiYgdmFsdWUgPD0gMHhmZikpXG4gICAgICByZXR1cm4gcmVwb3J0ZXIuZXJyb3IoJ25vbi1ieXRlIEVuY29kZXJCdWZmZXIgdmFsdWUnKTtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5sZW5ndGggPSAxO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5sZW5ndGggPSBCdWZmZXIuYnl0ZUxlbmd0aCh2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoQnVmZmVyLmlzQnVmZmVyKHZhbHVlKSkge1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB0aGlzLmxlbmd0aCA9IHZhbHVlLmxlbmd0aDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcmVwb3J0ZXIuZXJyb3IoJ1Vuc3VwcG9ydGVkIHR5cGU6ICcgKyB0eXBlb2YgdmFsdWUpO1xuICB9XG59XG5leHBvcnRzLkVuY29kZXJCdWZmZXIgPSBFbmNvZGVyQnVmZmVyO1xuXG5FbmNvZGVyQnVmZmVyLnByb3RvdHlwZS5qb2luID0gZnVuY3Rpb24gam9pbihvdXQsIG9mZnNldCkge1xuICBpZiAoIW91dClcbiAgICBvdXQgPSBuZXcgQnVmZmVyKHRoaXMubGVuZ3RoKTtcbiAgaWYgKCFvZmZzZXQpXG4gICAgb2Zmc2V0ID0gMDtcblxuICBpZiAodGhpcy5sZW5ndGggPT09IDApXG4gICAgcmV0dXJuIG91dDtcblxuICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlKSkge1xuICAgIHRoaXMudmFsdWUuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICBpdGVtLmpvaW4ob3V0LCBvZmZzZXQpO1xuICAgICAgb2Zmc2V0ICs9IGl0ZW0ubGVuZ3RoO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGlmICh0eXBlb2YgdGhpcy52YWx1ZSA9PT0gJ251bWJlcicpXG4gICAgICBvdXRbb2Zmc2V0XSA9IHRoaXMudmFsdWU7XG4gICAgZWxzZSBpZiAodHlwZW9mIHRoaXMudmFsdWUgPT09ICdzdHJpbmcnKVxuICAgICAgb3V0LndyaXRlKHRoaXMudmFsdWUsIG9mZnNldCk7XG4gICAgZWxzZSBpZiAoQnVmZmVyLmlzQnVmZmVyKHRoaXMudmFsdWUpKVxuICAgICAgdGhpcy52YWx1ZS5jb3B5KG91dCwgb2Zmc2V0KTtcbiAgICBvZmZzZXQgKz0gdGhpcy5sZW5ndGg7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufTtcbiIsInZhciBhc24xID0gcmVxdWlyZSgnLi4vYXNuMScpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcblxudmFyIGFwaSA9IGV4cG9ydHM7XG5cbmFwaS5kZWZpbmUgPSBmdW5jdGlvbiBkZWZpbmUobmFtZSwgYm9keSkge1xuICByZXR1cm4gbmV3IEVudGl0eShuYW1lLCBib2R5KTtcbn07XG5cbmZ1bmN0aW9uIEVudGl0eShuYW1lLCBib2R5KSB7XG4gIHRoaXMubmFtZSA9IG5hbWU7XG4gIHRoaXMuYm9keSA9IGJvZHk7XG5cbiAgdGhpcy5kZWNvZGVycyA9IHt9O1xuICB0aGlzLmVuY29kZXJzID0ge307XG59O1xuXG5FbnRpdHkucHJvdG90eXBlLl9jcmVhdGVOYW1lZCA9IGZ1bmN0aW9uIGNyZWF0ZU5hbWVkKGJhc2UpIHtcbiAgdmFyIG5hbWVkO1xuICB0cnkge1xuICAgIG5hbWVkID0gcmVxdWlyZSgndm0nKS5ydW5JblRoaXNDb250ZXh0KFxuICAgICAgJyhmdW5jdGlvbiAnICsgdGhpcy5uYW1lICsgJyhlbnRpdHkpIHtcXG4nICtcbiAgICAgICcgIHRoaXMuX2luaXROYW1lZChlbnRpdHkpO1xcbicgK1xuICAgICAgJ30pJ1xuICAgICk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBuYW1lZCA9IGZ1bmN0aW9uIChlbnRpdHkpIHtcbiAgICAgIHRoaXMuX2luaXROYW1lZChlbnRpdHkpO1xuICAgIH07XG4gIH1cbiAgaW5oZXJpdHMobmFtZWQsIGJhc2UpO1xuICBuYW1lZC5wcm90b3R5cGUuX2luaXROYW1lZCA9IGZ1bmN0aW9uIGluaXRuYW1lZChlbnRpdHkpIHtcbiAgICBiYXNlLmNhbGwodGhpcywgZW50aXR5KTtcbiAgfTtcblxuICByZXR1cm4gbmV3IG5hbWVkKHRoaXMpO1xufTtcblxuRW50aXR5LnByb3RvdHlwZS5fZ2V0RGVjb2RlciA9IGZ1bmN0aW9uIF9nZXREZWNvZGVyKGVuYykge1xuICAvLyBMYXppbHkgY3JlYXRlIGRlY29kZXJcbiAgaWYgKCF0aGlzLmRlY29kZXJzLmhhc093blByb3BlcnR5KGVuYykpXG4gICAgdGhpcy5kZWNvZGVyc1tlbmNdID0gdGhpcy5fY3JlYXRlTmFtZWQoYXNuMS5kZWNvZGVyc1tlbmNdKTtcbiAgcmV0dXJuIHRoaXMuZGVjb2RlcnNbZW5jXTtcbn07XG5cbkVudGl0eS5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKGRhdGEsIGVuYywgb3B0aW9ucykge1xuICByZXR1cm4gdGhpcy5fZ2V0RGVjb2RlcihlbmMpLmRlY29kZShkYXRhLCBvcHRpb25zKTtcbn07XG5cbkVudGl0eS5wcm90b3R5cGUuX2dldEVuY29kZXIgPSBmdW5jdGlvbiBfZ2V0RW5jb2RlcihlbmMpIHtcbiAgLy8gTGF6aWx5IGNyZWF0ZSBlbmNvZGVyXG4gIGlmICghdGhpcy5lbmNvZGVycy5oYXNPd25Qcm9wZXJ0eShlbmMpKVxuICAgIHRoaXMuZW5jb2RlcnNbZW5jXSA9IHRoaXMuX2NyZWF0ZU5hbWVkKGFzbjEuZW5jb2RlcnNbZW5jXSk7XG4gIHJldHVybiB0aGlzLmVuY29kZXJzW2VuY107XG59O1xuXG5FbnRpdHkucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShkYXRhLCBlbmMsIC8qIGludGVybmFsICovIHJlcG9ydGVyKSB7XG4gIHJldHVybiB0aGlzLl9nZXRFbmNvZGVyKGVuYykuZW5jb2RlKGRhdGEsIHJlcG9ydGVyKTtcbn07XG4iLCJ2YXIgaW5kZXhPZiA9IHJlcXVpcmUoJ2luZGV4b2YnKTtcblxudmFyIE9iamVjdF9rZXlzID0gZnVuY3Rpb24gKG9iaikge1xuICAgIGlmIChPYmplY3Qua2V5cykgcmV0dXJuIE9iamVjdC5rZXlzKG9iailcbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHJlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSByZXMucHVzaChrZXkpXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxufTtcblxudmFyIGZvckVhY2ggPSBmdW5jdGlvbiAoeHMsIGZuKSB7XG4gICAgaWYgKHhzLmZvckVhY2gpIHJldHVybiB4cy5mb3JFYWNoKGZuKVxuICAgIGVsc2UgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBmbih4c1tpXSwgaSwgeHMpO1xuICAgIH1cbn07XG5cbnZhciBkZWZpbmVQcm9wID0gKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ18nLCB7fSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihvYmosIG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBuYW1lLCB7XG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iaiwgbmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgIG9ialtuYW1lXSA9IHZhbHVlO1xuICAgICAgICB9O1xuICAgIH1cbn0oKSk7XG5cbnZhciBnbG9iYWxzID0gWydBcnJheScsICdCb29sZWFuJywgJ0RhdGUnLCAnRXJyb3InLCAnRXZhbEVycm9yJywgJ0Z1bmN0aW9uJyxcbidJbmZpbml0eScsICdKU09OJywgJ01hdGgnLCAnTmFOJywgJ051bWJlcicsICdPYmplY3QnLCAnUmFuZ2VFcnJvcicsXG4nUmVmZXJlbmNlRXJyb3InLCAnUmVnRXhwJywgJ1N0cmluZycsICdTeW50YXhFcnJvcicsICdUeXBlRXJyb3InLCAnVVJJRXJyb3InLFxuJ2RlY29kZVVSSScsICdkZWNvZGVVUklDb21wb25lbnQnLCAnZW5jb2RlVVJJJywgJ2VuY29kZVVSSUNvbXBvbmVudCcsICdlc2NhcGUnLFxuJ2V2YWwnLCAnaXNGaW5pdGUnLCAnaXNOYU4nLCAncGFyc2VGbG9hdCcsICdwYXJzZUludCcsICd1bmRlZmluZWQnLCAndW5lc2NhcGUnXTtcblxuZnVuY3Rpb24gQ29udGV4dCgpIHt9XG5Db250ZXh0LnByb3RvdHlwZSA9IHt9O1xuXG52YXIgU2NyaXB0ID0gZXhwb3J0cy5TY3JpcHQgPSBmdW5jdGlvbiBOb2RlU2NyaXB0IChjb2RlKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNjcmlwdCkpIHJldHVybiBuZXcgU2NyaXB0KGNvZGUpO1xuICAgIHRoaXMuY29kZSA9IGNvZGU7XG59O1xuXG5TY3JpcHQucHJvdG90eXBlLnJ1bkluQ29udGV4dCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgaWYgKCEoY29udGV4dCBpbnN0YW5jZW9mIENvbnRleHQpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJuZWVkcyBhICdjb250ZXh0JyBhcmd1bWVudC5cIik7XG4gICAgfVxuICAgIFxuICAgIHZhciBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICBpZiAoIWlmcmFtZS5zdHlsZSkgaWZyYW1lLnN0eWxlID0ge307XG4gICAgaWZyYW1lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICAgIFxuICAgIHZhciB3aW4gPSBpZnJhbWUuY29udGVudFdpbmRvdztcbiAgICB2YXIgd0V2YWwgPSB3aW4uZXZhbCwgd0V4ZWNTY3JpcHQgPSB3aW4uZXhlY1NjcmlwdDtcblxuICAgIGlmICghd0V2YWwgJiYgd0V4ZWNTY3JpcHQpIHtcbiAgICAgICAgLy8gd2luLmV2YWwoKSBtYWdpY2FsbHkgYXBwZWFycyB3aGVuIHRoaXMgaXMgY2FsbGVkIGluIElFOlxuICAgICAgICB3RXhlY1NjcmlwdC5jYWxsKHdpbiwgJ251bGwnKTtcbiAgICAgICAgd0V2YWwgPSB3aW4uZXZhbDtcbiAgICB9XG4gICAgXG4gICAgZm9yRWFjaChPYmplY3Rfa2V5cyhjb250ZXh0KSwgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB3aW5ba2V5XSA9IGNvbnRleHRba2V5XTtcbiAgICB9KTtcbiAgICBmb3JFYWNoKGdsb2JhbHMsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKGNvbnRleHRba2V5XSkge1xuICAgICAgICAgICAgd2luW2tleV0gPSBjb250ZXh0W2tleV07XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICB2YXIgd2luS2V5cyA9IE9iamVjdF9rZXlzKHdpbik7XG5cbiAgICB2YXIgcmVzID0gd0V2YWwuY2FsbCh3aW4sIHRoaXMuY29kZSk7XG4gICAgXG4gICAgZm9yRWFjaChPYmplY3Rfa2V5cyh3aW4pLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIC8vIEF2b2lkIGNvcHlpbmcgY2lyY3VsYXIgb2JqZWN0cyBsaWtlIGB0b3BgIGFuZCBgd2luZG93YCBieSBvbmx5XG4gICAgICAgIC8vIHVwZGF0aW5nIGV4aXN0aW5nIGNvbnRleHQgcHJvcGVydGllcyBvciBuZXcgcHJvcGVydGllcyBpbiB0aGUgYHdpbmBcbiAgICAgICAgLy8gdGhhdCB3YXMgb25seSBpbnRyb2R1Y2VkIGFmdGVyIHRoZSBldmFsLlxuICAgICAgICBpZiAoa2V5IGluIGNvbnRleHQgfHwgaW5kZXhPZih3aW5LZXlzLCBrZXkpID09PSAtMSkge1xuICAgICAgICAgICAgY29udGV4dFtrZXldID0gd2luW2tleV07XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGZvckVhY2goZ2xvYmFscywgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIShrZXkgaW4gY29udGV4dCkpIHtcbiAgICAgICAgICAgIGRlZmluZVByb3AoY29udGV4dCwga2V5LCB3aW5ba2V5XSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGlmcmFtZSk7XG4gICAgXG4gICAgcmV0dXJuIHJlcztcbn07XG5cblNjcmlwdC5wcm90b3R5cGUucnVuSW5UaGlzQ29udGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZXZhbCh0aGlzLmNvZGUpOyAvLyBtYXliZS4uLlxufTtcblxuU2NyaXB0LnByb3RvdHlwZS5ydW5Jbk5ld0NvbnRleHQgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgIHZhciBjdHggPSBTY3JpcHQuY3JlYXRlQ29udGV4dChjb250ZXh0KTtcbiAgICB2YXIgcmVzID0gdGhpcy5ydW5JbkNvbnRleHQoY3R4KTtcblxuICAgIGZvckVhY2goT2JqZWN0X2tleXMoY3R4KSwgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBjb250ZXh0W2tleV0gPSBjdHhba2V5XTtcbiAgICB9KTtcblxuICAgIHJldHVybiByZXM7XG59O1xuXG5mb3JFYWNoKE9iamVjdF9rZXlzKFNjcmlwdC5wcm90b3R5cGUpLCBmdW5jdGlvbiAobmFtZSkge1xuICAgIGV4cG9ydHNbbmFtZV0gPSBTY3JpcHRbbmFtZV0gPSBmdW5jdGlvbiAoY29kZSkge1xuICAgICAgICB2YXIgcyA9IFNjcmlwdChjb2RlKTtcbiAgICAgICAgcmV0dXJuIHNbbmFtZV0uYXBwbHkocywgW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICB9O1xufSk7XG5cbmV4cG9ydHMuY3JlYXRlU2NyaXB0ID0gZnVuY3Rpb24gKGNvZGUpIHtcbiAgICByZXR1cm4gZXhwb3J0cy5TY3JpcHQoY29kZSk7XG59O1xuXG5leHBvcnRzLmNyZWF0ZUNvbnRleHQgPSBTY3JpcHQuY3JlYXRlQ29udGV4dCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgdmFyIGNvcHkgPSBuZXcgQ29udGV4dCgpO1xuICAgIGlmKHR5cGVvZiBjb250ZXh0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICBmb3JFYWNoKE9iamVjdF9rZXlzKGNvbnRleHQpLCBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBjb3B5W2tleV0gPSBjb250ZXh0W2tleV07XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY29weTtcbn07XG4iLCJcbnZhciBpbmRleE9mID0gW10uaW5kZXhPZjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihhcnIsIG9iail7XG4gIGlmIChpbmRleE9mKSByZXR1cm4gYXJyLmluZGV4T2Yob2JqKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoYXJyW2ldID09PSBvYmopIHJldHVybiBpO1xuICB9XG4gIHJldHVybiAtMTtcbn07IiwibW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9e1wiMi4xNi44NDAuMS4xMDEuMy40LjEuMVwiOiBcImFlcy0xMjgtZWNiXCIsXG5cIjIuMTYuODQwLjEuMTAxLjMuNC4xLjJcIjogXCJhZXMtMTI4LWNiY1wiLFxuXCIyLjE2Ljg0MC4xLjEwMS4zLjQuMS4zXCI6IFwiYWVzLTEyOC1vZmJcIixcblwiMi4xNi44NDAuMS4xMDEuMy40LjEuNFwiOiBcImFlcy0xMjgtY2ZiXCIsXG5cIjIuMTYuODQwLjEuMTAxLjMuNC4xLjIxXCI6IFwiYWVzLTE5Mi1lY2JcIixcblwiMi4xNi44NDAuMS4xMDEuMy40LjEuMjJcIjogXCJhZXMtMTkyLWNiY1wiLFxuXCIyLjE2Ljg0MC4xLjEwMS4zLjQuMS4yM1wiOiBcImFlcy0xOTItb2ZiXCIsXG5cIjIuMTYuODQwLjEuMTAxLjMuNC4xLjI0XCI6IFwiYWVzLTE5Mi1jZmJcIixcblwiMi4xNi44NDAuMS4xMDEuMy40LjEuNDFcIjogXCJhZXMtMjU2LWVjYlwiLFxuXCIyLjE2Ljg0MC4xLjEwMS4zLjQuMS40MlwiOiBcImFlcy0yNTYtY2JjXCIsXG5cIjIuMTYuODQwLjEuMTAxLjMuNC4xLjQzXCI6IFwiYWVzLTI1Ni1vZmJcIixcblwiMi4xNi44NDAuMS4xMDEuMy40LjEuNDRcIjogXCJhZXMtMjU2LWNmYlwiXG59IiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZWxsaXB0aWMgPSBleHBvcnRzO1xuXG5lbGxpcHRpYy52ZXJzaW9uID0gcmVxdWlyZSgnLi4vcGFja2FnZS5qc29uJykudmVyc2lvbjtcbmVsbGlwdGljLnV0aWxzID0gcmVxdWlyZSgnLi9lbGxpcHRpYy91dGlscycpO1xuZWxsaXB0aWMucmFuZCA9IHJlcXVpcmUoJ2Jyb3JhbmQnKTtcbmVsbGlwdGljLmhtYWNEUkJHID0gcmVxdWlyZSgnLi9lbGxpcHRpYy9obWFjLWRyYmcnKTtcbmVsbGlwdGljLmN1cnZlID0gcmVxdWlyZSgnLi9lbGxpcHRpYy9jdXJ2ZScpO1xuZWxsaXB0aWMuY3VydmVzID0gcmVxdWlyZSgnLi9lbGxpcHRpYy9jdXJ2ZXMnKTtcblxuLy8gUHJvdG9jb2xzXG5lbGxpcHRpYy5lYyA9IHJlcXVpcmUoJy4vZWxsaXB0aWMvZWMnKTtcbiIsIm1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPW1vZHVsZS5leHBvcnRzPXtcbiAgXCJuYW1lXCI6IFwiZWxsaXB0aWNcIixcbiAgXCJ2ZXJzaW9uXCI6IFwiMy4xLjBcIixcbiAgXCJkZXNjcmlwdGlvblwiOiBcIkVDIGNyeXB0b2dyYXBoeVwiLFxuICBcIm1haW5cIjogXCJsaWIvZWxsaXB0aWMuanNcIixcbiAgXCJzY3JpcHRzXCI6IHtcbiAgICBcInRlc3RcIjogXCJtYWtlIGxpbnQgJiYgbW9jaGEgLS1yZXBvcnRlcj1zcGVjIHRlc3QvKi10ZXN0LmpzXCJcbiAgfSxcbiAgXCJyZXBvc2l0b3J5XCI6IHtcbiAgICBcInR5cGVcIjogXCJnaXRcIixcbiAgICBcInVybFwiOiBcImdpdCtzc2g6Ly9naXRAZ2l0aHViLmNvbS9pbmR1dG55L2VsbGlwdGljLmdpdFwiXG4gIH0sXG4gIFwia2V5d29yZHNcIjogW1xuICAgIFwiRUNcIixcbiAgICBcIkVsbGlwdGljXCIsXG4gICAgXCJjdXJ2ZVwiLFxuICAgIFwiQ3J5cHRvZ3JhcGh5XCJcbiAgXSxcbiAgXCJhdXRob3JcIjoge1xuICAgIFwibmFtZVwiOiBcIkZlZG9yIEluZHV0bnlcIixcbiAgICBcImVtYWlsXCI6IFwiZmVkb3JAaW5kdXRueS5jb21cIlxuICB9LFxuICBcImxpY2Vuc2VcIjogXCJNSVRcIixcbiAgXCJidWdzXCI6IHtcbiAgICBcInVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9pbmR1dG55L2VsbGlwdGljL2lzc3Vlc1wiXG4gIH0sXG4gIFwiaG9tZXBhZ2VcIjogXCJodHRwczovL2dpdGh1Yi5jb20vaW5kdXRueS9lbGxpcHRpY1wiLFxuICBcImRldkRlcGVuZGVuY2llc1wiOiB7XG4gICAgXCJicm93c2VyaWZ5XCI6IFwiXjMuNDQuMlwiLFxuICAgIFwianNjc1wiOiBcIl4xLjExLjNcIixcbiAgICBcImpzaGludFwiOiBcIl4yLjYuMFwiLFxuICAgIFwibW9jaGFcIjogXCJeMi4xLjBcIixcbiAgICBcInVnbGlmeS1qc1wiOiBcIl4yLjQuMTNcIlxuICB9LFxuICBcImRlcGVuZGVuY2llc1wiOiB7XG4gICAgXCJibi5qc1wiOiBcIl4yLjAuM1wiLFxuICAgIFwiYnJvcmFuZFwiOiBcIl4xLjAuMVwiLFxuICAgIFwiaGFzaC5qc1wiOiBcIl4xLjAuMFwiLFxuICAgIFwiaW5oZXJpdHNcIjogXCJeMi4wLjFcIlxuICB9LFxuICBcImdpdEhlYWRcIjogXCJkODZjZDJhODE3OGY3ZTdjZWNiZDZkZDkyZWVhMDg0ZTJhYjQ0YzEzXCIsXG4gIFwiX2lkXCI6IFwiZWxsaXB0aWNAMy4xLjBcIixcbiAgXCJfc2hhc3VtXCI6IFwiYzIxNjgyZWY3NjI3NjliNTZhNzQyMDE2MDkxMDVkYTExZDVmNjBjY1wiLFxuICBcIl9mcm9tXCI6IFwiZWxsaXB0aWNAPj0zLjAuMCA8NC4wLjBcIixcbiAgXCJfbnBtVmVyc2lvblwiOiBcIjIuMTEuMFwiLFxuICBcIl9ub2RlVmVyc2lvblwiOiBcIjIuMi4xXCIsXG4gIFwiX25wbVVzZXJcIjoge1xuICAgIFwibmFtZVwiOiBcImluZHV0bnlcIixcbiAgICBcImVtYWlsXCI6IFwiZmVkb3JAaW5kdXRueS5jb21cIlxuICB9LFxuICBcIm1haW50YWluZXJzXCI6IFtcbiAgICB7XG4gICAgICBcIm5hbWVcIjogXCJpbmR1dG55XCIsXG4gICAgICBcImVtYWlsXCI6IFwiZmVkb3JAaW5kdXRueS5jb21cIlxuICAgIH1cbiAgXSxcbiAgXCJkaXN0XCI6IHtcbiAgICBcInNoYXN1bVwiOiBcImMyMTY4MmVmNzYyNzY5YjU2YTc0MjAxNjA5MTA1ZGExMWQ1ZjYwY2NcIixcbiAgICBcInRhcmJhbGxcIjogXCJodHRwOi8vcmVnaXN0cnkubnBtanMub3JnL2VsbGlwdGljLy0vZWxsaXB0aWMtMy4xLjAudGd6XCJcbiAgfSxcbiAgXCJkaXJlY3Rvcmllc1wiOiB7fSxcbiAgXCJfcmVzb2x2ZWRcIjogXCJodHRwczovL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9lbGxpcHRpYy8tL2VsbGlwdGljLTMuMS4wLnRnelwiLFxuICBcInJlYWRtZVwiOiBcIkVSUk9SOiBObyBSRUFETUUgZGF0YSBmb3VuZCFcIlxufVxuIiwidmFyIHI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmFuZChsZW4pIHtcbiAgaWYgKCFyKVxuICAgIHIgPSBuZXcgUmFuZChudWxsKTtcblxuICByZXR1cm4gci5nZW5lcmF0ZShsZW4pO1xufTtcblxuZnVuY3Rpb24gUmFuZChyYW5kKSB7XG4gIHRoaXMucmFuZCA9IHJhbmQ7XG59XG5tb2R1bGUuZXhwb3J0cy5SYW5kID0gUmFuZDtcblxuUmFuZC5wcm90b3R5cGUuZ2VuZXJhdGUgPSBmdW5jdGlvbiBnZW5lcmF0ZShsZW4pIHtcbiAgcmV0dXJuIHRoaXMuX3JhbmQobGVuKTtcbn07XG5cbmlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0Jykge1xuICBpZiAod2luZG93LmNyeXB0byAmJiB3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcykge1xuICAgIC8vIE1vZGVybiBicm93c2Vyc1xuICAgIFJhbmQucHJvdG90eXBlLl9yYW5kID0gZnVuY3Rpb24gX3JhbmQobikge1xuICAgICAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KG4pO1xuICAgICAgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYXJyKTtcbiAgICAgIHJldHVybiBhcnI7XG4gICAgfTtcbiAgfSBlbHNlIGlmICh3aW5kb3cubXNDcnlwdG8gJiYgd2luZG93Lm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcykge1xuICAgIC8vIElFXG4gICAgUmFuZC5wcm90b3R5cGUuX3JhbmQgPSBmdW5jdGlvbiBfcmFuZChuKSB7XG4gICAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkobik7XG4gICAgICB3aW5kb3cubXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGFycik7XG4gICAgICByZXR1cm4gYXJyO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgLy8gT2xkIGp1bmtcbiAgICBSYW5kLnByb3RvdHlwZS5fcmFuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQgeWV0Jyk7XG4gICAgfTtcbiAgfVxufSBlbHNlIHtcbiAgLy8gTm9kZS5qcyBvciBXZWIgd29ya2VyXG4gIHRyeSB7XG4gICAgdmFyIGNyeXB0byA9IHJlcXVpcmUoJ2NyeScgKyAncHRvJyk7XG5cbiAgICBSYW5kLnByb3RvdHlwZS5fcmFuZCA9IGZ1bmN0aW9uIF9yYW5kKG4pIHtcbiAgICAgIHJldHVybiBjcnlwdG8ucmFuZG9tQnl0ZXMobik7XG4gICAgfTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIEVtdWxhdGUgY3J5cHRvIEFQSSB1c2luZyByYW5keVxuICAgIFJhbmQucHJvdG90eXBlLl9yYW5kID0gZnVuY3Rpb24gX3JhbmQobikge1xuICAgICAgdmFyIHJlcyA9IG5ldyBVaW50OEFycmF5KG4pO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHJlc1tpXSA9IHRoaXMucmFuZC5nZXRCeXRlKCk7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gZXhwb3J0cztcblxudXRpbHMuYXNzZXJ0ID0gZnVuY3Rpb24gYXNzZXJ0KHZhbCwgbXNnKSB7XG4gIGlmICghdmFsKVxuICAgIHRocm93IG5ldyBFcnJvcihtc2cgfHwgJ0Fzc2VydGlvbiBmYWlsZWQnKTtcbn07XG5cbmZ1bmN0aW9uIHRvQXJyYXkobXNnLCBlbmMpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkobXNnKSlcbiAgICByZXR1cm4gbXNnLnNsaWNlKCk7XG4gIGlmICghbXNnKVxuICAgIHJldHVybiBbXTtcbiAgdmFyIHJlcyA9IFtdO1xuICBpZiAodHlwZW9mIG1zZyAhPT0gJ3N0cmluZycpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1zZy5sZW5ndGg7IGkrKylcbiAgICAgIHJlc1tpXSA9IG1zZ1tpXSB8IDA7XG4gICAgcmV0dXJuIHJlcztcbiAgfVxuICBpZiAoIWVuYykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXNnLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYyA9IG1zZy5jaGFyQ29kZUF0KGkpO1xuICAgICAgdmFyIGhpID0gYyA+PiA4O1xuICAgICAgdmFyIGxvID0gYyAmIDB4ZmY7XG4gICAgICBpZiAoaGkpXG4gICAgICAgIHJlcy5wdXNoKGhpLCBsbyk7XG4gICAgICBlbHNlXG4gICAgICAgIHJlcy5wdXNoKGxvKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZW5jID09PSAnaGV4Jykge1xuICAgIG1zZyA9IG1zZy5yZXBsYWNlKC9bXmEtejAtOV0rL2lnLCAnJyk7XG4gICAgaWYgKG1zZy5sZW5ndGggJSAyICE9PSAwKVxuICAgICAgbXNnID0gJzAnICsgbXNnO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXNnLmxlbmd0aDsgaSArPSAyKVxuICAgICAgcmVzLnB1c2gocGFyc2VJbnQobXNnW2ldICsgbXNnW2kgKyAxXSwgMTYpKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxudXRpbHMudG9BcnJheSA9IHRvQXJyYXk7XG5cbmZ1bmN0aW9uIHplcm8yKHdvcmQpIHtcbiAgaWYgKHdvcmQubGVuZ3RoID09PSAxKVxuICAgIHJldHVybiAnMCcgKyB3b3JkO1xuICBlbHNlXG4gICAgcmV0dXJuIHdvcmQ7XG59XG51dGlscy56ZXJvMiA9IHplcm8yO1xuXG5mdW5jdGlvbiB0b0hleChtc2cpIHtcbiAgdmFyIHJlcyA9ICcnO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG1zZy5sZW5ndGg7IGkrKylcbiAgICByZXMgKz0gemVybzIobXNnW2ldLnRvU3RyaW5nKDE2KSk7XG4gIHJldHVybiByZXM7XG59XG51dGlscy50b0hleCA9IHRvSGV4O1xuXG51dGlscy5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUoYXJyLCBlbmMpIHtcbiAgaWYgKGVuYyA9PT0gJ2hleCcpXG4gICAgcmV0dXJuIHRvSGV4KGFycik7XG4gIGVsc2VcbiAgICByZXR1cm4gYXJyO1xufTtcblxuLy8gUmVwcmVzZW50IG51bSBpbiBhIHctTkFGIGZvcm1cbmZ1bmN0aW9uIGdldE5BRihudW0sIHcpIHtcbiAgdmFyIG5hZiA9IFtdO1xuICB2YXIgd3MgPSAxIDw8ICh3ICsgMSk7XG4gIHZhciBrID0gbnVtLmNsb25lKCk7XG4gIHdoaWxlIChrLmNtcG4oMSkgPj0gMCkge1xuICAgIHZhciB6O1xuICAgIGlmIChrLmlzT2RkKCkpIHtcbiAgICAgIHZhciBtb2QgPSBrLmFuZGxuKHdzIC0gMSk7XG4gICAgICBpZiAobW9kID4gKHdzID4+IDEpIC0gMSlcbiAgICAgICAgeiA9ICh3cyA+PiAxKSAtIG1vZDtcbiAgICAgIGVsc2VcbiAgICAgICAgeiA9IG1vZDtcbiAgICAgIGsuaXN1Ym4oeik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHogPSAwO1xuICAgIH1cbiAgICBuYWYucHVzaCh6KTtcblxuICAgIC8vIE9wdGltaXphdGlvbiwgc2hpZnQgYnkgd29yZCBpZiBwb3NzaWJsZVxuICAgIHZhciBzaGlmdCA9IChrLmNtcG4oMCkgIT09IDAgJiYgay5hbmRsbih3cyAtIDEpID09PSAwKSA/ICh3ICsgMSkgOiAxO1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgc2hpZnQ7IGkrKylcbiAgICAgIG5hZi5wdXNoKDApO1xuICAgIGsuaXNocm4oc2hpZnQpO1xuICB9XG5cbiAgcmV0dXJuIG5hZjtcbn1cbnV0aWxzLmdldE5BRiA9IGdldE5BRjtcblxuLy8gUmVwcmVzZW50IGsxLCBrMiBpbiBhIEpvaW50IFNwYXJzZSBGb3JtXG5mdW5jdGlvbiBnZXRKU0YoazEsIGsyKSB7XG4gIHZhciBqc2YgPSBbXG4gICAgW10sXG4gICAgW11cbiAgXTtcblxuICBrMSA9IGsxLmNsb25lKCk7XG4gIGsyID0gazIuY2xvbmUoKTtcbiAgdmFyIGQxID0gMDtcbiAgdmFyIGQyID0gMDtcbiAgd2hpbGUgKGsxLmNtcG4oLWQxKSA+IDAgfHwgazIuY21wbigtZDIpID4gMCkge1xuXG4gICAgLy8gRmlyc3QgcGhhc2VcbiAgICB2YXIgbTE0ID0gKGsxLmFuZGxuKDMpICsgZDEpICYgMztcbiAgICB2YXIgbTI0ID0gKGsyLmFuZGxuKDMpICsgZDIpICYgMztcbiAgICBpZiAobTE0ID09PSAzKVxuICAgICAgbTE0ID0gLTE7XG4gICAgaWYgKG0yNCA9PT0gMylcbiAgICAgIG0yNCA9IC0xO1xuICAgIHZhciB1MTtcbiAgICBpZiAoKG0xNCAmIDEpID09PSAwKSB7XG4gICAgICB1MSA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBtOCA9IChrMS5hbmRsbig3KSArIGQxKSAmIDc7XG4gICAgICBpZiAoKG04ID09PSAzIHx8IG04ID09PSA1KSAmJiBtMjQgPT09IDIpXG4gICAgICAgIHUxID0gLW0xNDtcbiAgICAgIGVsc2VcbiAgICAgICAgdTEgPSBtMTQ7XG4gICAgfVxuICAgIGpzZlswXS5wdXNoKHUxKTtcblxuICAgIHZhciB1MjtcbiAgICBpZiAoKG0yNCAmIDEpID09PSAwKSB7XG4gICAgICB1MiA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBtOCA9IChrMi5hbmRsbig3KSArIGQyKSAmIDc7XG4gICAgICBpZiAoKG04ID09PSAzIHx8IG04ID09PSA1KSAmJiBtMTQgPT09IDIpXG4gICAgICAgIHUyID0gLW0yNDtcbiAgICAgIGVsc2VcbiAgICAgICAgdTIgPSBtMjQ7XG4gICAgfVxuICAgIGpzZlsxXS5wdXNoKHUyKTtcblxuICAgIC8vIFNlY29uZCBwaGFzZVxuICAgIGlmICgyICogZDEgPT09IHUxICsgMSlcbiAgICAgIGQxID0gMSAtIGQxO1xuICAgIGlmICgyICogZDIgPT09IHUyICsgMSlcbiAgICAgIGQyID0gMSAtIGQyO1xuICAgIGsxLmlzaHJuKDEpO1xuICAgIGsyLmlzaHJuKDEpO1xuICB9XG5cbiAgcmV0dXJuIGpzZjtcbn1cbnV0aWxzLmdldEpTRiA9IGdldEpTRjtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGhhc2ggPSByZXF1aXJlKCdoYXNoLmpzJyk7XG52YXIgZWxsaXB0aWMgPSByZXF1aXJlKCcuLi9lbGxpcHRpYycpO1xudmFyIHV0aWxzID0gZWxsaXB0aWMudXRpbHM7XG52YXIgYXNzZXJ0ID0gdXRpbHMuYXNzZXJ0O1xuXG5mdW5jdGlvbiBIbWFjRFJCRyhvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBIbWFjRFJCRykpXG4gICAgcmV0dXJuIG5ldyBIbWFjRFJCRyhvcHRpb25zKTtcbiAgdGhpcy5oYXNoID0gb3B0aW9ucy5oYXNoO1xuICB0aGlzLnByZWRSZXNpc3QgPSAhIW9wdGlvbnMucHJlZFJlc2lzdDtcblxuICB0aGlzLm91dExlbiA9IHRoaXMuaGFzaC5vdXRTaXplO1xuICB0aGlzLm1pbkVudHJvcHkgPSBvcHRpb25zLm1pbkVudHJvcHkgfHwgdGhpcy5oYXNoLmhtYWNTdHJlbmd0aDtcblxuICB0aGlzLnJlc2VlZCA9IG51bGw7XG4gIHRoaXMucmVzZWVkSW50ZXJ2YWwgPSBudWxsO1xuICB0aGlzLksgPSBudWxsO1xuICB0aGlzLlYgPSBudWxsO1xuXG4gIHZhciBlbnRyb3B5ID0gdXRpbHMudG9BcnJheShvcHRpb25zLmVudHJvcHksIG9wdGlvbnMuZW50cm9weUVuYyk7XG4gIHZhciBub25jZSA9IHV0aWxzLnRvQXJyYXkob3B0aW9ucy5ub25jZSwgb3B0aW9ucy5ub25jZUVuYyk7XG4gIHZhciBwZXJzID0gdXRpbHMudG9BcnJheShvcHRpb25zLnBlcnMsIG9wdGlvbnMucGVyc0VuYyk7XG4gIGFzc2VydChlbnRyb3B5Lmxlbmd0aCA+PSAodGhpcy5taW5FbnRyb3B5IC8gOCksXG4gICAgICAgICAnTm90IGVub3VnaCBlbnRyb3B5LiBNaW5pbXVtIGlzOiAnICsgdGhpcy5taW5FbnRyb3B5ICsgJyBiaXRzJyk7XG4gIHRoaXMuX2luaXQoZW50cm9weSwgbm9uY2UsIHBlcnMpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBIbWFjRFJCRztcblxuSG1hY0RSQkcucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24gaW5pdChlbnRyb3B5LCBub25jZSwgcGVycykge1xuICB2YXIgc2VlZCA9IGVudHJvcHkuY29uY2F0KG5vbmNlKS5jb25jYXQocGVycyk7XG5cbiAgdGhpcy5LID0gbmV3IEFycmF5KHRoaXMub3V0TGVuIC8gOCk7XG4gIHRoaXMuViA9IG5ldyBBcnJheSh0aGlzLm91dExlbiAvIDgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuVi5sZW5ndGg7IGkrKykge1xuICAgIHRoaXMuS1tpXSA9IDB4MDA7XG4gICAgdGhpcy5WW2ldID0gMHgwMTtcbiAgfVxuXG4gIHRoaXMuX3VwZGF0ZShzZWVkKTtcbiAgdGhpcy5yZXNlZWQgPSAxO1xuICB0aGlzLnJlc2VlZEludGVydmFsID0gMHgxMDAwMDAwMDAwMDAwOyAgLy8gMl40OFxufTtcblxuSG1hY0RSQkcucHJvdG90eXBlLl9obWFjID0gZnVuY3Rpb24gaG1hYygpIHtcbiAgcmV0dXJuIG5ldyBoYXNoLmhtYWModGhpcy5oYXNoLCB0aGlzLkspO1xufTtcblxuSG1hY0RSQkcucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoc2VlZCkge1xuICB2YXIga21hYyA9IHRoaXMuX2htYWMoKVxuICAgICAgICAgICAgICAgICAudXBkYXRlKHRoaXMuVilcbiAgICAgICAgICAgICAgICAgLnVwZGF0ZShbIDB4MDAgXSk7XG4gIGlmIChzZWVkKVxuICAgIGttYWMgPSBrbWFjLnVwZGF0ZShzZWVkKTtcbiAgdGhpcy5LID0ga21hYy5kaWdlc3QoKTtcbiAgdGhpcy5WID0gdGhpcy5faG1hYygpLnVwZGF0ZSh0aGlzLlYpLmRpZ2VzdCgpO1xuICBpZiAoIXNlZWQpXG4gICAgcmV0dXJuO1xuXG4gIHRoaXMuSyA9IHRoaXMuX2htYWMoKVxuICAgICAgICAgICAgICAgLnVwZGF0ZSh0aGlzLlYpXG4gICAgICAgICAgICAgICAudXBkYXRlKFsgMHgwMSBdKVxuICAgICAgICAgICAgICAgLnVwZGF0ZShzZWVkKVxuICAgICAgICAgICAgICAgLmRpZ2VzdCgpO1xuICB0aGlzLlYgPSB0aGlzLl9obWFjKCkudXBkYXRlKHRoaXMuVikuZGlnZXN0KCk7XG59O1xuXG5IbWFjRFJCRy5wcm90b3R5cGUucmVzZWVkID0gZnVuY3Rpb24gcmVzZWVkKGVudHJvcHksIGVudHJvcHlFbmMsIGFkZCwgYWRkRW5jKSB7XG4gIC8vIE9wdGlvbmFsIGVudHJvcHkgZW5jXG4gIGlmICh0eXBlb2YgZW50cm9weUVuYyAhPT0gJ3N0cmluZycpIHtcbiAgICBhZGRFbmMgPSBhZGQ7XG4gICAgYWRkID0gZW50cm9weUVuYztcbiAgICBlbnRyb3B5RW5jID0gbnVsbDtcbiAgfVxuXG4gIGVudHJvcHkgPSB1dGlscy50b0J1ZmZlcihlbnRyb3B5LCBlbnRyb3B5RW5jKTtcbiAgYWRkID0gdXRpbHMudG9CdWZmZXIoYWRkLCBhZGRFbmMpO1xuXG4gIGFzc2VydChlbnRyb3B5Lmxlbmd0aCA+PSAodGhpcy5taW5FbnRyb3B5IC8gOCksXG4gICAgICAgICAnTm90IGVub3VnaCBlbnRyb3B5LiBNaW5pbXVtIGlzOiAnICsgdGhpcy5taW5FbnRyb3B5ICsgJyBiaXRzJyk7XG5cbiAgdGhpcy5fdXBkYXRlKGVudHJvcHkuY29uY2F0KGFkZCB8fCBbXSkpO1xuICB0aGlzLnJlc2VlZCA9IDE7XG59O1xuXG5IbWFjRFJCRy5wcm90b3R5cGUuZ2VuZXJhdGUgPSBmdW5jdGlvbiBnZW5lcmF0ZShsZW4sIGVuYywgYWRkLCBhZGRFbmMpIHtcbiAgaWYgKHRoaXMucmVzZWVkID4gdGhpcy5yZXNlZWRJbnRlcnZhbClcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc2VlZCBpcyByZXF1aXJlZCcpO1xuXG4gIC8vIE9wdGlvbmFsIGVuY29kaW5nXG4gIGlmICh0eXBlb2YgZW5jICE9PSAnc3RyaW5nJykge1xuICAgIGFkZEVuYyA9IGFkZDtcbiAgICBhZGQgPSBlbmM7XG4gICAgZW5jID0gbnVsbDtcbiAgfVxuXG4gIC8vIE9wdGlvbmFsIGFkZGl0aW9uYWwgZGF0YVxuICBpZiAoYWRkKSB7XG4gICAgYWRkID0gdXRpbHMudG9BcnJheShhZGQsIGFkZEVuYyk7XG4gICAgdGhpcy5fdXBkYXRlKGFkZCk7XG4gIH1cblxuICB2YXIgdGVtcCA9IFtdO1xuICB3aGlsZSAodGVtcC5sZW5ndGggPCBsZW4pIHtcbiAgICB0aGlzLlYgPSB0aGlzLl9obWFjKCkudXBkYXRlKHRoaXMuVikuZGlnZXN0KCk7XG4gICAgdGVtcCA9IHRlbXAuY29uY2F0KHRoaXMuVik7XG4gIH1cblxuICB2YXIgcmVzID0gdGVtcC5zbGljZSgwLCBsZW4pO1xuICB0aGlzLl91cGRhdGUoYWRkKTtcbiAgdGhpcy5yZXNlZWQrKztcbiAgcmV0dXJuIHV0aWxzLmVuY29kZShyZXMsIGVuYyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYm4gPSByZXF1aXJlKCdibi5qcycpO1xudmFyIGVsbGlwdGljID0gcmVxdWlyZSgnLi4vLi4vZWxsaXB0aWMnKTtcbnZhciB1dGlscyA9IGVsbGlwdGljLnV0aWxzO1xudmFyIGFzc2VydCA9IHV0aWxzLmFzc2VydDtcblxudmFyIEtleVBhaXIgPSByZXF1aXJlKCcuL2tleScpO1xudmFyIFNpZ25hdHVyZSA9IHJlcXVpcmUoJy4vc2lnbmF0dXJlJyk7XG5cbmZ1bmN0aW9uIEVDKG9wdGlvbnMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEVDKSlcbiAgICByZXR1cm4gbmV3IEVDKG9wdGlvbnMpO1xuXG4gIC8vIFNob3J0Y3V0IGBlbGxpcHRpYy5lYyhjdXJ2ZS1uYW1lKWBcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJykge1xuICAgIGFzc2VydChlbGxpcHRpYy5jdXJ2ZXMuaGFzT3duUHJvcGVydHkob3B0aW9ucyksICdVbmtub3duIGN1cnZlICcgKyBvcHRpb25zKTtcblxuICAgIG9wdGlvbnMgPSBlbGxpcHRpYy5jdXJ2ZXNbb3B0aW9uc107XG4gIH1cblxuICAvLyBTaG9ydGN1dCBmb3IgYGVsbGlwdGljLmVjKGVsbGlwdGljLmN1cnZlcy5jdXJ2ZU5hbWUpYFxuICBpZiAob3B0aW9ucyBpbnN0YW5jZW9mIGVsbGlwdGljLmN1cnZlcy5QcmVzZXRDdXJ2ZSlcbiAgICBvcHRpb25zID0geyBjdXJ2ZTogb3B0aW9ucyB9O1xuXG4gIHRoaXMuY3VydmUgPSBvcHRpb25zLmN1cnZlLmN1cnZlO1xuICB0aGlzLm4gPSB0aGlzLmN1cnZlLm47XG4gIHRoaXMubmggPSB0aGlzLm4uc2hybigxKTtcbiAgdGhpcy5nID0gdGhpcy5jdXJ2ZS5nO1xuXG4gIC8vIFBvaW50IG9uIGN1cnZlXG4gIHRoaXMuZyA9IG9wdGlvbnMuY3VydmUuZztcbiAgdGhpcy5nLnByZWNvbXB1dGUob3B0aW9ucy5jdXJ2ZS5uLmJpdExlbmd0aCgpICsgMSk7XG5cbiAgLy8gSGFzaCBmb3IgZnVuY3Rpb24gZm9yIERSQkdcbiAgdGhpcy5oYXNoID0gb3B0aW9ucy5oYXNoIHx8IG9wdGlvbnMuY3VydmUuaGFzaDtcbn1cbm1vZHVsZS5leHBvcnRzID0gRUM7XG5cbkVDLnByb3RvdHlwZS5rZXlQYWlyID0gZnVuY3Rpb24ga2V5UGFpcihvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgS2V5UGFpcih0aGlzLCBvcHRpb25zKTtcbn07XG5cbkVDLnByb3RvdHlwZS5rZXlGcm9tUHJpdmF0ZSA9IGZ1bmN0aW9uIGtleUZyb21Qcml2YXRlKHByaXYsIGVuYykge1xuICByZXR1cm4gS2V5UGFpci5mcm9tUHJpdmF0ZSh0aGlzLCBwcml2LCBlbmMpO1xufTtcblxuRUMucHJvdG90eXBlLmtleUZyb21QdWJsaWMgPSBmdW5jdGlvbiBrZXlGcm9tUHVibGljKHB1YiwgZW5jKSB7XG4gIHJldHVybiBLZXlQYWlyLmZyb21QdWJsaWModGhpcywgcHViLCBlbmMpO1xufTtcblxuRUMucHJvdG90eXBlLmdlbktleVBhaXIgPSBmdW5jdGlvbiBnZW5LZXlQYWlyKG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zKVxuICAgIG9wdGlvbnMgPSB7fTtcblxuICAvLyBJbnN0YW50aWF0ZSBIbWFjX0RSQkdcbiAgdmFyIGRyYmcgPSBuZXcgZWxsaXB0aWMuaG1hY0RSQkcoe1xuICAgIGhhc2g6IHRoaXMuaGFzaCxcbiAgICBwZXJzOiBvcHRpb25zLnBlcnMsXG4gICAgZW50cm9weTogb3B0aW9ucy5lbnRyb3B5IHx8IGVsbGlwdGljLnJhbmQodGhpcy5oYXNoLmhtYWNTdHJlbmd0aCksXG4gICAgbm9uY2U6IHRoaXMubi50b0FycmF5KClcbiAgfSk7XG5cbiAgdmFyIGJ5dGVzID0gdGhpcy5uLmJ5dGVMZW5ndGgoKTtcbiAgdmFyIG5zMiA9IHRoaXMubi5zdWIobmV3IGJuKDIpKTtcbiAgZG8ge1xuICAgIHZhciBwcml2ID0gbmV3IGJuKGRyYmcuZ2VuZXJhdGUoYnl0ZXMpKTtcbiAgICBpZiAocHJpdi5jbXAobnMyKSA+IDApXG4gICAgICBjb250aW51ZTtcblxuICAgIHByaXYuaWFkZG4oMSk7XG4gICAgcmV0dXJuIHRoaXMua2V5RnJvbVByaXZhdGUocHJpdik7XG4gIH0gd2hpbGUgKHRydWUpO1xufTtcblxuRUMucHJvdG90eXBlLl90cnVuY2F0ZVRvTiA9IGZ1bmN0aW9uIHRydW5jYXRlVG9OKG1zZywgdHJ1bmNPbmx5KSB7XG4gIHZhciBkZWx0YSA9IG1zZy5ieXRlTGVuZ3RoKCkgKiA4IC0gdGhpcy5uLmJpdExlbmd0aCgpO1xuICBpZiAoZGVsdGEgPiAwKVxuICAgIG1zZyA9IG1zZy5zaHJuKGRlbHRhKTtcbiAgaWYgKCF0cnVuY09ubHkgJiYgbXNnLmNtcCh0aGlzLm4pID49IDApXG4gICAgcmV0dXJuIG1zZy5zdWIodGhpcy5uKTtcbiAgZWxzZVxuICAgIHJldHVybiBtc2c7XG59O1xuXG5FQy5wcm90b3R5cGUuc2lnbiA9IGZ1bmN0aW9uIHNpZ24obXNnLCBrZXksIGVuYywgb3B0aW9ucykge1xuICBpZiAodHlwZW9mIGVuYyA9PT0gJ29iamVjdCcpIHtcbiAgICBvcHRpb25zID0gZW5jO1xuICAgIGVuYyA9IG51bGw7XG4gIH1cbiAgaWYgKCFvcHRpb25zKVxuICAgIG9wdGlvbnMgPSB7fTtcblxuICBrZXkgPSB0aGlzLmtleUZyb21Qcml2YXRlKGtleSwgZW5jKTtcbiAgbXNnID0gdGhpcy5fdHJ1bmNhdGVUb04obmV3IGJuKG1zZywgMTYpKTtcblxuICAvLyBaZXJvLWV4dGVuZCBrZXkgdG8gcHJvdmlkZSBlbm91Z2ggZW50cm9weVxuICB2YXIgYnl0ZXMgPSB0aGlzLm4uYnl0ZUxlbmd0aCgpO1xuICB2YXIgYmtleSA9IGtleS5nZXRQcml2YXRlKCkudG9BcnJheSgpO1xuICBmb3IgKHZhciBpID0gYmtleS5sZW5ndGg7IGkgPCAyMTsgaSsrKVxuICAgIGJrZXkudW5zaGlmdCgwKTtcblxuICAvLyBaZXJvLWV4dGVuZCBub25jZSB0byBoYXZlIHRoZSBzYW1lIGJ5dGUgc2l6ZSBhcyBOXG4gIHZhciBub25jZSA9IG1zZy50b0FycmF5KCk7XG4gIGZvciAodmFyIGkgPSBub25jZS5sZW5ndGg7IGkgPCBieXRlczsgaSsrKVxuICAgIG5vbmNlLnVuc2hpZnQoMCk7XG5cbiAgLy8gSW5zdGFudGlhdGUgSG1hY19EUkJHXG4gIHZhciBkcmJnID0gbmV3IGVsbGlwdGljLmhtYWNEUkJHKHtcbiAgICBoYXNoOiB0aGlzLmhhc2gsXG4gICAgZW50cm9weTogYmtleSxcbiAgICBub25jZTogbm9uY2VcbiAgfSk7XG5cbiAgLy8gTnVtYmVyIG9mIGJ5dGVzIHRvIGdlbmVyYXRlXG4gIHZhciBuczEgPSB0aGlzLm4uc3ViKG5ldyBibigxKSk7XG4gIGRvIHtcbiAgICB2YXIgayA9IG5ldyBibihkcmJnLmdlbmVyYXRlKHRoaXMubi5ieXRlTGVuZ3RoKCkpKTtcbiAgICBrID0gdGhpcy5fdHJ1bmNhdGVUb04oaywgdHJ1ZSk7XG4gICAgaWYgKGsuY21wbigxKSA8PSAwIHx8IGsuY21wKG5zMSkgPj0gMClcbiAgICAgIGNvbnRpbnVlO1xuXG4gICAgdmFyIGtwID0gdGhpcy5nLm11bChrKTtcbiAgICBpZiAoa3AuaXNJbmZpbml0eSgpKVxuICAgICAgY29udGludWU7XG5cbiAgICB2YXIga3BYID0ga3AuZ2V0WCgpO1xuICAgIHZhciByID0ga3BYLm1vZCh0aGlzLm4pO1xuICAgIGlmIChyLmNtcG4oMCkgPT09IDApXG4gICAgICBjb250aW51ZTtcblxuICAgIHZhciBzID0gay5pbnZtKHRoaXMubikubXVsKHIubXVsKGtleS5nZXRQcml2YXRlKCkpLmlhZGQobXNnKSkubW9kKHRoaXMubik7XG4gICAgaWYgKHMuY21wbigwKSA9PT0gMClcbiAgICAgIGNvbnRpbnVlO1xuXG4gICAgLy8gVXNlIGNvbXBsZW1lbnQgb2YgYHNgLCBpZiBpdCBpcyA+IGBuIC8gMmBcbiAgICBpZiAob3B0aW9ucy5jYW5vbmljYWwgJiYgcy5jbXAodGhpcy5uaCkgPiAwKVxuICAgICAgcyA9IHRoaXMubi5zdWIocyk7XG5cbiAgICB2YXIgcmVjb3ZlcnlQYXJhbSA9IChrcC5nZXRZKCkuaXNPZGQoKSA/IDEgOiAwKSB8XG4gICAgICAgICAgICAgICAgICAgICAgICAoa3BYLmNtcChyKSAhPT0gMCA/IDIgOiAwKTtcblxuICAgIHJldHVybiBuZXcgU2lnbmF0dXJlKHsgcjogciwgczogcywgcmVjb3ZlcnlQYXJhbTogcmVjb3ZlcnlQYXJhbSB9KTtcbiAgfSB3aGlsZSAodHJ1ZSk7XG59O1xuXG5FQy5wcm90b3R5cGUudmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5KG1zZywgc2lnbmF0dXJlLCBrZXksIGVuYykge1xuICBtc2cgPSB0aGlzLl90cnVuY2F0ZVRvTihuZXcgYm4obXNnLCAxNikpO1xuICBrZXkgPSB0aGlzLmtleUZyb21QdWJsaWMoa2V5LCBlbmMpO1xuICBzaWduYXR1cmUgPSBuZXcgU2lnbmF0dXJlKHNpZ25hdHVyZSwgJ2hleCcpO1xuXG4gIC8vIFBlcmZvcm0gcHJpbWl0aXZlIHZhbHVlcyB2YWxpZGF0aW9uXG4gIHZhciByID0gc2lnbmF0dXJlLnI7XG4gIHZhciBzID0gc2lnbmF0dXJlLnM7XG4gIGlmIChyLmNtcG4oMSkgPCAwIHx8IHIuY21wKHRoaXMubikgPj0gMClcbiAgICByZXR1cm4gZmFsc2U7XG4gIGlmIChzLmNtcG4oMSkgPCAwIHx8IHMuY21wKHRoaXMubikgPj0gMClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gVmFsaWRhdGUgc2lnbmF0dXJlXG4gIHZhciBzaW52ID0gcy5pbnZtKHRoaXMubik7XG4gIHZhciB1MSA9IHNpbnYubXVsKG1zZykubW9kKHRoaXMubik7XG4gIHZhciB1MiA9IHNpbnYubXVsKHIpLm1vZCh0aGlzLm4pO1xuXG4gIHZhciBwID0gdGhpcy5nLm11bEFkZCh1MSwga2V5LmdldFB1YmxpYygpLCB1Mik7XG4gIGlmIChwLmlzSW5maW5pdHkoKSlcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgcmV0dXJuIHAuZ2V0WCgpLm1vZCh0aGlzLm4pLmNtcChyKSA9PT0gMDtcbn07XG5cbkVDLnByb3RvdHlwZS5yZWNvdmVyUHViS2V5ID0gZnVuY3Rpb24obXNnLCBzaWduYXR1cmUsIGosIGVuYykge1xuICBhc3NlcnQoKDMgJiBqKSA9PT0gaiwgJ1RoZSByZWNvdmVyeSBwYXJhbSBpcyBtb3JlIHRoYW4gdHdvIGJpdHMnKTtcbiAgc2lnbmF0dXJlID0gbmV3IFNpZ25hdHVyZShzaWduYXR1cmUsIGVuYyk7XG5cbiAgdmFyIG4gPSB0aGlzLm47XG4gIHZhciBlID0gbmV3IGJuKG1zZyk7XG4gIHZhciByID0gc2lnbmF0dXJlLnI7XG4gIHZhciBzID0gc2lnbmF0dXJlLnM7XG5cbiAgLy8gQSBzZXQgTFNCIHNpZ25pZmllcyB0aGF0IHRoZSB5LWNvb3JkaW5hdGUgaXMgb2RkXG4gIHZhciBpc1lPZGQgPSBqICYgMTtcbiAgdmFyIGlzU2Vjb25kS2V5ID0gaiA+PiAxO1xuICBpZiAoci5jbXAodGhpcy5jdXJ2ZS5wLm1vZCh0aGlzLmN1cnZlLm4pKSA+PSAwICYmIGlzU2Vjb25kS2V5KVxuICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGZpbmQgc2VuY29uZCBrZXkgY2FuZGluYXRlJyk7XG5cbiAgLy8gMS4xLiBMZXQgeCA9IHIgKyBqbi5cbiAgciA9IHRoaXMuY3VydmUucG9pbnRGcm9tWChpc1lPZGQsIHIpO1xuICB2YXIgZU5lZyA9IGUubmVnKCkubW9kKG4pO1xuXG4gIC8vIDEuNi4xIENvbXB1dGUgUSA9IHJeLTEgKHNSIC0gIGVHKVxuICAvLyAgICAgICAgICAgICAgIFEgPSByXi0xIChzUiArIC1lRylcbiAgdmFyIHJJbnYgPSBzaWduYXR1cmUuci5pbnZtKG4pO1xuICByZXR1cm4gci5tdWwocykuYWRkKHRoaXMuZy5tdWwoZU5lZykpLm11bChySW52KTtcbn07XG5cbkVDLnByb3RvdHlwZS5nZXRLZXlSZWNvdmVyeVBhcmFtID0gZnVuY3Rpb24oZSwgc2lnbmF0dXJlLCBRLCBlbmMpIHtcbiAgc2lnbmF0dXJlID0gbmV3IFNpZ25hdHVyZShzaWduYXR1cmUsIGVuYyk7XG4gIGlmIChzaWduYXR1cmUucmVjb3ZlcnlQYXJhbSAhPT0gbnVsbClcbiAgICByZXR1cm4gc2lnbmF0dXJlLnJlY292ZXJ5UGFyYW07XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICB2YXIgUXByaW1lID0gdGhpcy5yZWNvdmVyUHViS2V5KGUsIHNpZ25hdHVyZSwgaSk7XG5cbiAgICBpZiAoUXByaW1lLmVxKFEpKVxuICAgICAgcmV0dXJuIGk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZmluZCB2YWxpZCByZWNvdmVyeSBmYWN0b3InKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBibiA9IHJlcXVpcmUoJ2JuLmpzJyk7XG5cbnZhciBlbGxpcHRpYyA9IHJlcXVpcmUoJy4uLy4uL2VsbGlwdGljJyk7XG52YXIgdXRpbHMgPSBlbGxpcHRpYy51dGlscztcbnZhciBhc3NlcnQgPSB1dGlscy5hc3NlcnQ7XG5cbmZ1bmN0aW9uIFNpZ25hdHVyZShvcHRpb25zLCBlbmMpIHtcbiAgaWYgKG9wdGlvbnMgaW5zdGFuY2VvZiBTaWduYXR1cmUpXG4gICAgcmV0dXJuIG9wdGlvbnM7XG5cbiAgaWYgKHRoaXMuX2ltcG9ydERFUihvcHRpb25zLCBlbmMpKVxuICAgIHJldHVybjtcblxuICBhc3NlcnQob3B0aW9ucy5yICYmIG9wdGlvbnMucywgJ1NpZ25hdHVyZSB3aXRob3V0IHIgb3IgcycpO1xuICB0aGlzLnIgPSBuZXcgYm4ob3B0aW9ucy5yLCAxNik7XG4gIHRoaXMucyA9IG5ldyBibihvcHRpb25zLnMsIDE2KTtcbiAgaWYgKG9wdGlvbnMucmVjb3ZlcnlQYXJhbSAhPT0gbnVsbClcbiAgICB0aGlzLnJlY292ZXJ5UGFyYW0gPSBvcHRpb25zLnJlY292ZXJ5UGFyYW07XG4gIGVsc2VcbiAgICB0aGlzLnJlY292ZXJ5UGFyYW0gPSBudWxsO1xufVxubW9kdWxlLmV4cG9ydHMgPSBTaWduYXR1cmU7XG5cblNpZ25hdHVyZS5wcm90b3R5cGUuX2ltcG9ydERFUiA9IGZ1bmN0aW9uIF9pbXBvcnRERVIoZGF0YSwgZW5jKSB7XG4gIGRhdGEgPSB1dGlscy50b0FycmF5KGRhdGEsIGVuYyk7XG4gIGlmIChkYXRhLmxlbmd0aCA8IDYgfHwgZGF0YVswXSAhPT0gMHgzMCB8fCBkYXRhWzJdICE9PSAweDAyKVxuICAgIHJldHVybiBmYWxzZTtcbiAgdmFyIHRvdGFsID0gZGF0YVsxXTtcbiAgaWYgKDEgKyB0b3RhbCA+IGRhdGEubGVuZ3RoKVxuICAgIHJldHVybiBmYWxzZTtcbiAgdmFyIHJsZW4gPSBkYXRhWzNdO1xuICAvLyBTaG9ydCBsZW5ndGggbm90YXRpb25cbiAgaWYgKHJsZW4gPj0gMHg4MClcbiAgICByZXR1cm4gZmFsc2U7XG4gIGlmICg0ICsgcmxlbiArIDIgPj0gZGF0YS5sZW5ndGgpXG4gICAgcmV0dXJuIGZhbHNlO1xuICBpZiAoZGF0YVs0ICsgcmxlbl0gIT09IDB4MDIpXG4gICAgcmV0dXJuIGZhbHNlO1xuICB2YXIgc2xlbiA9IGRhdGFbNSArIHJsZW5dO1xuICAvLyBTaG9ydCBsZW5ndGggbm90YXRpb25cbiAgaWYgKHNsZW4gPj0gMHg4MClcbiAgICByZXR1cm4gZmFsc2U7XG4gIGlmICg0ICsgcmxlbiArIDIgKyBzbGVuID4gZGF0YS5sZW5ndGgpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIHRoaXMuciA9IG5ldyBibihkYXRhLnNsaWNlKDQsIDQgKyBybGVuKSk7XG4gIHRoaXMucyA9IG5ldyBibihkYXRhLnNsaWNlKDQgKyBybGVuICsgMiwgNCArIHJsZW4gKyAyICsgc2xlbikpO1xuICB0aGlzLnJlY292ZXJ5UGFyYW0gPSBudWxsO1xuXG4gIHJldHVybiB0cnVlO1xufTtcblxuU2lnbmF0dXJlLnByb3RvdHlwZS50b0RFUiA9IGZ1bmN0aW9uIHRvREVSKGVuYykge1xuICB2YXIgciA9IHRoaXMuci50b0FycmF5KCk7XG4gIHZhciBzID0gdGhpcy5zLnRvQXJyYXkoKTtcblxuICAvLyBQYWQgdmFsdWVzXG4gIGlmIChyWzBdICYgMHg4MClcbiAgICByID0gWyAwIF0uY29uY2F0KHIpO1xuICAvLyBQYWQgdmFsdWVzXG4gIGlmIChzWzBdICYgMHg4MClcbiAgICBzID0gWyAwIF0uY29uY2F0KHMpO1xuXG4gIHZhciB0b3RhbCA9IHIubGVuZ3RoICsgcy5sZW5ndGggKyA0O1xuICB2YXIgcmVzID0gWyAweDMwLCB0b3RhbCwgMHgwMiwgci5sZW5ndGggXTtcbiAgcmVzID0gcmVzLmNvbmNhdChyLCBbIDB4MDIsIHMubGVuZ3RoIF0sIHMpO1xuICByZXR1cm4gdXRpbHMuZW5jb2RlKHJlcywgZW5jKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBibiA9IHJlcXVpcmUoJ2JuLmpzJyk7XG5cbnZhciBlbGxpcHRpYyA9IHJlcXVpcmUoJy4uLy4uL2VsbGlwdGljJyk7XG52YXIgdXRpbHMgPSBlbGxpcHRpYy51dGlscztcblxuZnVuY3Rpb24gS2V5UGFpcihlYywgb3B0aW9ucykge1xuICB0aGlzLmVjID0gZWM7XG4gIHRoaXMucHJpdiA9IG51bGw7XG4gIHRoaXMucHViID0gbnVsbDtcblxuICAvLyBLZXlQYWlyKGVjLCB7IHByaXY6IC4uLiwgcHViOiAuLi4gfSlcbiAgaWYgKG9wdGlvbnMucHJpdilcbiAgICB0aGlzLl9pbXBvcnRQcml2YXRlKG9wdGlvbnMucHJpdiwgb3B0aW9ucy5wcml2RW5jKTtcbiAgaWYgKG9wdGlvbnMucHViKVxuICAgIHRoaXMuX2ltcG9ydFB1YmxpYyhvcHRpb25zLnB1Yiwgb3B0aW9ucy5wdWJFbmMpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBLZXlQYWlyO1xuXG5LZXlQYWlyLmZyb21QdWJsaWMgPSBmdW5jdGlvbiBmcm9tUHVibGljKGVjLCBwdWIsIGVuYykge1xuICBpZiAocHViIGluc3RhbmNlb2YgS2V5UGFpcilcbiAgICByZXR1cm4gcHViO1xuXG4gIHJldHVybiBuZXcgS2V5UGFpcihlYywge1xuICAgIHB1YjogcHViLFxuICAgIHB1YkVuYzogZW5jXG4gIH0pO1xufTtcblxuS2V5UGFpci5mcm9tUHJpdmF0ZSA9IGZ1bmN0aW9uIGZyb21Qcml2YXRlKGVjLCBwcml2LCBlbmMpIHtcbiAgaWYgKHByaXYgaW5zdGFuY2VvZiBLZXlQYWlyKVxuICAgIHJldHVybiBwcml2O1xuXG4gIHJldHVybiBuZXcgS2V5UGFpcihlYywge1xuICAgIHByaXY6IHByaXYsXG4gICAgcHJpdkVuYzogZW5jXG4gIH0pO1xufTtcblxuS2V5UGFpci5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiB2YWxpZGF0ZSgpIHtcbiAgdmFyIHB1YiA9IHRoaXMuZ2V0UHVibGljKCk7XG5cbiAgaWYgKHB1Yi5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuIHsgcmVzdWx0OiBmYWxzZSwgcmVhc29uOiAnSW52YWxpZCBwdWJsaWMga2V5JyB9O1xuICBpZiAoIXB1Yi52YWxpZGF0ZSgpKVxuICAgIHJldHVybiB7IHJlc3VsdDogZmFsc2UsIHJlYXNvbjogJ1B1YmxpYyBrZXkgaXMgbm90IGEgcG9pbnQnIH07XG4gIGlmICghcHViLm11bCh0aGlzLmVjLmN1cnZlLm4pLmlzSW5maW5pdHkoKSlcbiAgICByZXR1cm4geyByZXN1bHQ6IGZhbHNlLCByZWFzb246ICdQdWJsaWMga2V5ICogTiAhPSBPJyB9O1xuXG4gIHJldHVybiB7IHJlc3VsdDogdHJ1ZSwgcmVhc29uOiBudWxsIH07XG59O1xuXG5LZXlQYWlyLnByb3RvdHlwZS5nZXRQdWJsaWMgPSBmdW5jdGlvbiBnZXRQdWJsaWMoY29tcGFjdCwgZW5jKSB7XG4gIGlmICghdGhpcy5wdWIpXG4gICAgdGhpcy5wdWIgPSB0aGlzLmVjLmcubXVsKHRoaXMucHJpdik7XG5cbiAgLy8gY29tcGFjdCBpcyBvcHRpb25hbCBhcmd1bWVudFxuICBpZiAodHlwZW9mIGNvbXBhY3QgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jID0gY29tcGFjdDtcbiAgICBjb21wYWN0ID0gbnVsbDtcbiAgfVxuXG4gIGlmICghZW5jKVxuICAgIHJldHVybiB0aGlzLnB1YjtcblxuICB2YXIgbGVuID0gdGhpcy5lYy5jdXJ2ZS5wLmJ5dGVMZW5ndGgoKTtcbiAgdmFyIHggPSB0aGlzLnB1Yi5nZXRYKCkudG9BcnJheSgpO1xuXG4gIGZvciAodmFyIGkgPSB4Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKVxuICAgIHgudW5zaGlmdCgwKTtcblxuICB2YXIgcmVzO1xuICBpZiAodGhpcy5lYy5jdXJ2ZS50eXBlICE9PSAnbW9udCcpIHtcbiAgICBpZiAoY29tcGFjdCkge1xuICAgICAgcmVzID0gWyB0aGlzLnB1Yi5nZXRZKCkuaXNFdmVuKCkgPyAweDAyIDogMHgwMyBdLmNvbmNhdCh4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHkgPSB0aGlzLnB1Yi5nZXRZKCkudG9BcnJheSgpO1xuICAgICAgZm9yICh2YXIgaSA9IHkubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4gICAgICAgIHkudW5zaGlmdCgwKTtcbiAgICAgIHZhciByZXMgPSBbIDB4MDQgXS5jb25jYXQoeCwgeSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlcyA9IHg7XG4gIH1cblxuICByZXR1cm4gdXRpbHMuZW5jb2RlKHJlcywgZW5jKTtcbn07XG5cbktleVBhaXIucHJvdG90eXBlLmdldFByaXZhdGUgPSBmdW5jdGlvbiBnZXRQcml2YXRlKGVuYykge1xuICBpZiAoZW5jID09PSAnaGV4JylcbiAgICByZXR1cm4gdGhpcy5wcml2LnRvU3RyaW5nKDE2LCAyKTtcbiAgZWxzZVxuICAgIHJldHVybiB0aGlzLnByaXY7XG59O1xuXG5LZXlQYWlyLnByb3RvdHlwZS5faW1wb3J0UHJpdmF0ZSA9IGZ1bmN0aW9uIF9pbXBvcnRQcml2YXRlKGtleSwgZW5jKSB7XG4gIHRoaXMucHJpdiA9IG5ldyBibihrZXksIGVuYyB8fCAxNik7XG5cbiAgLy8gRW5zdXJlIHRoYXQgdGhlIHByaXYgd29uJ3QgYmUgYmlnZ2VyIHRoYW4gbiwgb3RoZXJ3aXNlIHdlIG1heSBmYWlsXG4gIC8vIGluIGZpeGVkIG11bHRpcGxpY2F0aW9uIG1ldGhvZFxuICB0aGlzLnByaXYgPSB0aGlzLnByaXYubW9kKHRoaXMuZWMuY3VydmUubik7XG59O1xuXG5LZXlQYWlyLnByb3RvdHlwZS5faW1wb3J0UHVibGljID0gZnVuY3Rpb24gX2ltcG9ydFB1YmxpYyhrZXksIGVuYykge1xuICBpZiAoa2V5LnggfHwga2V5LnkpIHtcbiAgICB0aGlzLnB1YiA9IHRoaXMuZWMuY3VydmUucG9pbnQoa2V5LngsIGtleS55KTtcbiAgICByZXR1cm47XG4gIH1cblxuICBrZXkgPSB1dGlscy50b0FycmF5KGtleSwgZW5jKTtcbiAgaWYgKHRoaXMuZWMuY3VydmUudHlwZSAhPT0gJ21vbnQnKVxuICAgIHJldHVybiB0aGlzLl9pbXBvcnRQdWJsaWNTaG9ydChrZXkpO1xuICBlbHNlXG4gICAgcmV0dXJuIHRoaXMuX2ltcG9ydFB1YmxpY01vbnQoa2V5KTtcbn07XG5cbktleVBhaXIucHJvdG90eXBlLl9pbXBvcnRQdWJsaWNTaG9ydCA9IGZ1bmN0aW9uIF9pbXBvcnRQdWJsaWNTaG9ydChrZXkpIHtcbiAgdmFyIGxlbiA9IHRoaXMuZWMuY3VydmUucC5ieXRlTGVuZ3RoKCk7XG4gIGlmIChrZXlbMF0gPT09IDB4MDQgJiYga2V5Lmxlbmd0aCAtIDEgPT09IDIgKiBsZW4pIHtcbiAgICB0aGlzLnB1YiA9IHRoaXMuZWMuY3VydmUucG9pbnQoXG4gICAgICBrZXkuc2xpY2UoMSwgMSArIGxlbiksXG4gICAgICBrZXkuc2xpY2UoMSArIGxlbiwgMSArIDIgKiBsZW4pKTtcbiAgfSBlbHNlIGlmICgoa2V5WzBdID09PSAweDAyIHx8IGtleVswXSA9PT0gMHgwMykgJiYga2V5Lmxlbmd0aCAtIDEgPT09IGxlbikge1xuICAgIHRoaXMucHViID0gdGhpcy5lYy5jdXJ2ZS5wb2ludEZyb21YKGtleVswXSA9PT0gMHgwMywga2V5LnNsaWNlKDEsIDEgKyBsZW4pKTtcbiAgfVxufTtcblxuS2V5UGFpci5wcm90b3R5cGUuX2ltcG9ydFB1YmxpY01vbnQgPSBmdW5jdGlvbiBfaW1wb3J0UHVibGljTW9udChrZXkpIHtcbiAgdGhpcy5wdWIgPSB0aGlzLmVjLmN1cnZlLnBvaW50KGtleSwgMSk7XG59O1xuXG4vLyBFQ0RIXG5LZXlQYWlyLnByb3RvdHlwZS5kZXJpdmUgPSBmdW5jdGlvbiBkZXJpdmUocHViKSB7XG4gIHJldHVybiBwdWIubXVsKHRoaXMucHJpdikuZ2V0WCgpO1xufTtcblxuLy8gRUNEU0FcbktleVBhaXIucHJvdG90eXBlLnNpZ24gPSBmdW5jdGlvbiBzaWduKG1zZykge1xuICByZXR1cm4gdGhpcy5lYy5zaWduKG1zZywgdGhpcyk7XG59O1xuXG5LZXlQYWlyLnByb3RvdHlwZS52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobXNnLCBzaWduYXR1cmUpIHtcbiAgcmV0dXJuIHRoaXMuZWMudmVyaWZ5KG1zZywgc2lnbmF0dXJlLCB0aGlzKTtcbn07XG5cbktleVBhaXIucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0KCkge1xuICByZXR1cm4gJzxLZXkgcHJpdjogJyArICh0aGlzLnByaXYgJiYgdGhpcy5wcml2LnRvU3RyaW5nKDE2LCAyKSkgK1xuICAgICAgICAgJyBwdWI6ICcgKyAodGhpcy5wdWIgJiYgdGhpcy5wdWIuaW5zcGVjdCgpKSArICcgPic7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3VydmVzID0gZXhwb3J0cztcblxudmFyIGhhc2ggPSByZXF1aXJlKCdoYXNoLmpzJyk7XG52YXIgZWxsaXB0aWMgPSByZXF1aXJlKCcuLi9lbGxpcHRpYycpO1xuXG52YXIgYXNzZXJ0ID0gZWxsaXB0aWMudXRpbHMuYXNzZXJ0O1xuXG5mdW5jdGlvbiBQcmVzZXRDdXJ2ZShvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zLnR5cGUgPT09ICdzaG9ydCcpXG4gICAgdGhpcy5jdXJ2ZSA9IG5ldyBlbGxpcHRpYy5jdXJ2ZS5zaG9ydChvcHRpb25zKTtcbiAgZWxzZSBpZiAob3B0aW9ucy50eXBlID09PSAnZWR3YXJkcycpXG4gICAgdGhpcy5jdXJ2ZSA9IG5ldyBlbGxpcHRpYy5jdXJ2ZS5lZHdhcmRzKG9wdGlvbnMpO1xuICBlbHNlXG4gICAgdGhpcy5jdXJ2ZSA9IG5ldyBlbGxpcHRpYy5jdXJ2ZS5tb250KG9wdGlvbnMpO1xuICB0aGlzLmcgPSB0aGlzLmN1cnZlLmc7XG4gIHRoaXMubiA9IHRoaXMuY3VydmUubjtcbiAgdGhpcy5oYXNoID0gb3B0aW9ucy5oYXNoO1xuXG4gIGFzc2VydCh0aGlzLmcudmFsaWRhdGUoKSwgJ0ludmFsaWQgY3VydmUnKTtcbiAgYXNzZXJ0KHRoaXMuZy5tdWwodGhpcy5uKS5pc0luZmluaXR5KCksICdJbnZhbGlkIGN1cnZlLCBHKk4gIT0gTycpO1xufVxuY3VydmVzLlByZXNldEN1cnZlID0gUHJlc2V0Q3VydmU7XG5cbmZ1bmN0aW9uIGRlZmluZUN1cnZlKG5hbWUsIG9wdGlvbnMpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1cnZlcywgbmFtZSwge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY3VydmUgPSBuZXcgUHJlc2V0Q3VydmUob3B0aW9ucyk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VydmVzLCBuYW1lLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGN1cnZlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjdXJ2ZTtcbiAgICB9XG4gIH0pO1xufVxuXG5kZWZpbmVDdXJ2ZSgncDE5MicsIHtcbiAgdHlwZTogJ3Nob3J0JyxcbiAgcHJpbWU6ICdwMTkyJyxcbiAgcDogJ2ZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZlIGZmZmZmZmZmIGZmZmZmZmZmJyxcbiAgYTogJ2ZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZlIGZmZmZmZmZmIGZmZmZmZmZjJyxcbiAgYjogJzY0MjEwNTE5IGU1OWM4MGU3IDBmYTdlOWFiIDcyMjQzMDQ5IGZlYjhkZWVjIGMxNDZiOWIxJyxcbiAgbjogJ2ZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIDk5ZGVmODM2IDE0NmJjOWIxIGI0ZDIyODMxJyxcbiAgaGFzaDogaGFzaC5zaGEyNTYsXG4gIGdSZWQ6IGZhbHNlLFxuICBnOiBbXG4gICAgJzE4OGRhODBlIGIwMzA5MGY2IDdjYmYyMGViIDQzYTE4ODAwIGY0ZmYwYWZkIDgyZmYxMDEyJyxcbiAgICAnMDcxOTJiOTUgZmZjOGRhNzggNjMxMDExZWQgNmIyNGNkZDUgNzNmOTc3YTEgMWU3OTQ4MTEnXG4gIF1cbn0pO1xuXG5kZWZpbmVDdXJ2ZSgncDIyNCcsIHtcbiAgdHlwZTogJ3Nob3J0JyxcbiAgcHJpbWU6ICdwMjI0JyxcbiAgcDogJ2ZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIDAwMDAwMDAwIDAwMDAwMDAwIDAwMDAwMDAxJyxcbiAgYTogJ2ZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZlIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZlJyxcbiAgYjogJ2I0MDUwYTg1IDBjMDRiM2FiIGY1NDEzMjU2IDUwNDRiMGI3IGQ3YmZkOGJhIDI3MGIzOTQzIDIzNTVmZmI0JyxcbiAgbjogJ2ZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmYxNmEyIGUwYjhmMDNlIDEzZGQyOTQ1IDVjNWMyYTNkJyxcbiAgaGFzaDogaGFzaC5zaGEyNTYsXG4gIGdSZWQ6IGZhbHNlLFxuICBnOiBbXG4gICAgJ2I3MGUwY2JkIDZiYjRiZjdmIDMyMTM5MGI5IDRhMDNjMWQzIDU2YzIxMTIyIDM0MzI4MGQ2IDExNWMxZDIxJyxcbiAgICAnYmQzNzYzODggYjVmNzIzZmIgNGMyMmRmZTYgY2Q0Mzc1YTAgNWEwNzQ3NjQgNDRkNTgxOTkgODUwMDdlMzQnXG4gIF1cbn0pO1xuXG5kZWZpbmVDdXJ2ZSgncDI1NicsIHtcbiAgdHlwZTogJ3Nob3J0JyxcbiAgcHJpbWU6IG51bGwsXG4gIHA6ICdmZmZmZmZmZiAwMDAwMDAwMSAwMDAwMDAwMCAwMDAwMDAwMCAwMDAwMDAwMCBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZicsXG4gIGE6ICdmZmZmZmZmZiAwMDAwMDAwMSAwMDAwMDAwMCAwMDAwMDAwMCAwMDAwMDAwMCBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmYycsXG4gIGI6ICc1YWM2MzVkOCBhYTNhOTNlNyBiM2ViYmQ1NSA3Njk4ODZiYyA2NTFkMDZiMCBjYzUzYjBmNiAzYmNlM2MzZSAyN2QyNjA0YicsXG4gIG46ICdmZmZmZmZmZiAwMDAwMDAwMCBmZmZmZmZmZiBmZmZmZmZmZiBiY2U2ZmFhZCBhNzE3OWU4NCBmM2I5Y2FjMiBmYzYzMjU1MScsXG4gIGhhc2g6IGhhc2guc2hhMjU2LFxuICBnUmVkOiBmYWxzZSxcbiAgZzogW1xuICAgICc2YjE3ZDFmMiBlMTJjNDI0NyBmOGJjZTZlNSA2M2E0NDBmMiA3NzAzN2Q4MSAyZGViMzNhMCBmNGExMzk0NSBkODk4YzI5NicsXG4gICAgJzRmZTM0MmUyIGZlMWE3ZjliIDhlZTdlYjRhIDdjMGY5ZTE2IDJiY2UzMzU3IDZiMzE1ZWNlIGNiYjY0MDY4IDM3YmY1MWY1J1xuICBdXG59KTtcblxuZGVmaW5lQ3VydmUoJ2N1cnZlMjU1MTknLCB7XG4gIHR5cGU6ICdtb250JyxcbiAgcHJpbWU6ICdwMjU1MTknLFxuICBwOiAnN2ZmZmZmZmZmZmZmZmZmZiBmZmZmZmZmZmZmZmZmZmZmIGZmZmZmZmZmZmZmZmZmZmYgZmZmZmZmZmZmZmZmZmZlZCcsXG4gIGE6ICc3NmQwNicsXG4gIGI6ICcwJyxcbiAgbjogJzEwMDAwMDAwMDAwMDAwMDAgMDAwMDAwMDAwMDAwMDAwMCAxNGRlZjlkZWEyZjc5Y2Q2IDU4MTI2MzFhNWNmNWQzZWQnLFxuICBoYXNoOiBoYXNoLnNoYTI1NixcbiAgZ1JlZDogZmFsc2UsXG4gIGc6IFtcbiAgICAnOSdcbiAgXVxufSk7XG5cbmRlZmluZUN1cnZlKCdlZDI1NTE5Jywge1xuICB0eXBlOiAnZWR3YXJkcycsXG4gIHByaW1lOiAncDI1NTE5JyxcbiAgcDogJzdmZmZmZmZmZmZmZmZmZmYgZmZmZmZmZmZmZmZmZmZmZiBmZmZmZmZmZmZmZmZmZmZmIGZmZmZmZmZmZmZmZmZmZWQnLFxuICBhOiAnLTEnLFxuICBjOiAnMScsXG4gIC8vIC0xMjE2NjUgKiAoMTIxNjY2XigtMSkpIChtb2QgUClcbiAgZDogJzUyMDM2Y2VlMmI2ZmZlNzMgOGNjNzQwNzk3Nzc5ZTg5OCAwMDcwMGE0ZDQxNDFkOGFiIDc1ZWI0ZGNhMTM1OTc4YTMnLFxuICBuOiAnMTAwMDAwMDAwMDAwMDAwMCAwMDAwMDAwMDAwMDAwMDAwIDE0ZGVmOWRlYTJmNzljZDYgNTgxMjYzMWE1Y2Y1ZDNlZCcsXG4gIGhhc2g6IGhhc2guc2hhMjU2LFxuICBnUmVkOiBmYWxzZSxcbiAgZzogW1xuICAgICcyMTY5MzZkM2NkNmU1M2ZlYzBhNGUyMzFmZGQ2ZGM1YzY5MmNjNzYwOTUyNWE3YjJjOTU2MmQ2MDhmMjVkNTFhJyxcblxuICAgIC8vIDQvNVxuICAgICc2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjU4J1xuICBdXG59KTtcblxudmFyIHByZTtcbnRyeSB7XG4gIHByZSA9IHJlcXVpcmUoJy4vcHJlY29tcHV0ZWQvc2VjcDI1NmsxJyk7XG59IGNhdGNoIChlKSB7XG4gIHByZSA9IHVuZGVmaW5lZDtcbn1cblxuZGVmaW5lQ3VydmUoJ3NlY3AyNTZrMScsIHtcbiAgdHlwZTogJ3Nob3J0JyxcbiAgcHJpbWU6ICdrMjU2JyxcbiAgcDogJ2ZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZlIGZmZmZmYzJmJyxcbiAgYTogJzAnLFxuICBiOiAnNycsXG4gIG46ICdmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZSBiYWFlZGNlNiBhZjQ4YTAzYiBiZmQyNWU4YyBkMDM2NDE0MScsXG4gIGg6ICcxJyxcbiAgaGFzaDogaGFzaC5zaGEyNTYsXG5cbiAgLy8gUHJlY29tcHV0ZWQgZW5kb21vcnBoaXNtXG4gIGJldGE6ICc3YWU5NmEyYjY1N2MwNzEwNmU2NDQ3OWVhYzM0MzRlOTljZjA0OTc1MTJmNTg5OTVjMTM5NmMyODcxOTUwMWVlJyxcbiAgbGFtYmRhOiAnNTM2M2FkNGNjMDVjMzBlMGE1MjYxYzAyODgxMjY0NWExMjJlMjJlYTIwODE2Njc4ZGYwMjk2N2MxYjIzYmQ3MicsXG4gIGJhc2lzOiBbXG4gICAge1xuICAgICAgYTogJzMwODZkMjIxYTdkNDZiY2RlODZjOTBlNDkyODRlYjE1JyxcbiAgICAgIGI6ICctZTQ0MzdlZDYwMTBlODgyODZmNTQ3ZmE5MGFiZmU0YzMnXG4gICAgfSxcbiAgICB7XG4gICAgICBhOiAnMTE0Y2E1MGY3YThlMmYzZjY1N2MxMTA4ZDlkNDRjZmQ4JyxcbiAgICAgIGI6ICczMDg2ZDIyMWE3ZDQ2YmNkZTg2YzkwZTQ5Mjg0ZWIxNSdcbiAgICB9XG4gIF0sXG5cbiAgZ1JlZDogZmFsc2UsXG4gIGc6IFtcbiAgICAnNzliZTY2N2VmOWRjYmJhYzU1YTA2Mjk1Y2U4NzBiMDcwMjliZmNkYjJkY2UyOGQ5NTlmMjgxNWIxNmY4MTc5OCcsXG4gICAgJzQ4M2FkYTc3MjZhM2M0NjU1ZGE0ZmJmYzBlMTEwOGE4ZmQxN2I0NDhhNjg1NTQxOTljNDdkMDhmZmIxMGQ0YjgnLFxuICAgIHByZVxuICBdXG59KTtcbiIsInZhciBoYXNoID0gZXhwb3J0cztcblxuaGFzaC51dGlscyA9IHJlcXVpcmUoJy4vaGFzaC91dGlscycpO1xuaGFzaC5jb21tb24gPSByZXF1aXJlKCcuL2hhc2gvY29tbW9uJyk7XG5oYXNoLnNoYSA9IHJlcXVpcmUoJy4vaGFzaC9zaGEnKTtcbmhhc2gucmlwZW1kID0gcmVxdWlyZSgnLi9oYXNoL3JpcGVtZCcpO1xuaGFzaC5obWFjID0gcmVxdWlyZSgnLi9oYXNoL2htYWMnKTtcblxuLy8gUHJveHkgaGFzaCBmdW5jdGlvbnMgdG8gdGhlIG1haW4gb2JqZWN0XG5oYXNoLnNoYTEgPSBoYXNoLnNoYS5zaGExO1xuaGFzaC5zaGEyNTYgPSBoYXNoLnNoYS5zaGEyNTY7XG5oYXNoLnNoYTIyNCA9IGhhc2guc2hhLnNoYTIyNDtcbmhhc2guc2hhMzg0ID0gaGFzaC5zaGEuc2hhMzg0O1xuaGFzaC5zaGE1MTIgPSBoYXNoLnNoYS5zaGE1MTI7XG5oYXNoLnJpcGVtZDE2MCA9IGhhc2gucmlwZW1kLnJpcGVtZDE2MDtcbiIsInZhciB1dGlscyA9IGV4cG9ydHM7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuXG5mdW5jdGlvbiB0b0FycmF5KG1zZywgZW5jKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KG1zZykpXG4gICAgcmV0dXJuIG1zZy5zbGljZSgpO1xuICBpZiAoIW1zZylcbiAgICByZXR1cm4gW107XG4gIHZhciByZXMgPSBbXTtcbiAgaWYgKHR5cGVvZiBtc2cgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKCFlbmMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXNnLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjID0gbXNnLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIHZhciBoaSA9IGMgPj4gODtcbiAgICAgICAgdmFyIGxvID0gYyAmIDB4ZmY7XG4gICAgICAgIGlmIChoaSlcbiAgICAgICAgICByZXMucHVzaChoaSwgbG8pO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgcmVzLnB1c2gobG8pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZW5jID09PSAnaGV4Jykge1xuICAgICAgbXNnID0gbXNnLnJlcGxhY2UoL1teYS16MC05XSsvaWcsICcnKTtcbiAgICAgIGlmIChtc2cubGVuZ3RoICUgMiAhPT0gMClcbiAgICAgICAgbXNnID0gJzAnICsgbXNnO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtc2cubGVuZ3RoOyBpICs9IDIpXG4gICAgICAgIHJlcy5wdXNoKHBhcnNlSW50KG1zZ1tpXSArIG1zZ1tpICsgMV0sIDE2KSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXNnLmxlbmd0aDsgaSsrKVxuICAgICAgcmVzW2ldID0gbXNnW2ldIHwgMDtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxudXRpbHMudG9BcnJheSA9IHRvQXJyYXk7XG5cbmZ1bmN0aW9uIHRvSGV4KG1zZykge1xuICB2YXIgcmVzID0gJyc7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbXNnLmxlbmd0aDsgaSsrKVxuICAgIHJlcyArPSB6ZXJvMihtc2dbaV0udG9TdHJpbmcoMTYpKTtcbiAgcmV0dXJuIHJlcztcbn1cbnV0aWxzLnRvSGV4ID0gdG9IZXg7XG5cbmZ1bmN0aW9uIGh0b25sKHcpIHtcbiAgdmFyIHJlcyA9ICh3ID4+PiAyNCkgfFxuICAgICAgICAgICAgKCh3ID4+PiA4KSAmIDB4ZmYwMCkgfFxuICAgICAgICAgICAgKCh3IDw8IDgpICYgMHhmZjAwMDApIHxcbiAgICAgICAgICAgICgodyAmIDB4ZmYpIDw8IDI0KTtcbiAgcmV0dXJuIHJlcyA+Pj4gMDtcbn1cbnV0aWxzLmh0b25sID0gaHRvbmw7XG5cbmZ1bmN0aW9uIHRvSGV4MzIobXNnLCBlbmRpYW4pIHtcbiAgdmFyIHJlcyA9ICcnO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG1zZy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB3ID0gbXNnW2ldO1xuICAgIGlmIChlbmRpYW4gPT09ICdsaXR0bGUnKVxuICAgICAgdyA9IGh0b25sKHcpO1xuICAgIHJlcyArPSB6ZXJvOCh3LnRvU3RyaW5nKDE2KSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbnV0aWxzLnRvSGV4MzIgPSB0b0hleDMyO1xuXG5mdW5jdGlvbiB6ZXJvMih3b3JkKSB7XG4gIGlmICh3b3JkLmxlbmd0aCA9PT0gMSlcbiAgICByZXR1cm4gJzAnICsgd29yZDtcbiAgZWxzZVxuICAgIHJldHVybiB3b3JkO1xufVxudXRpbHMuemVybzIgPSB6ZXJvMjtcblxuZnVuY3Rpb24gemVybzgod29yZCkge1xuICBpZiAod29yZC5sZW5ndGggPT09IDcpXG4gICAgcmV0dXJuICcwJyArIHdvcmQ7XG4gIGVsc2UgaWYgKHdvcmQubGVuZ3RoID09PSA2KVxuICAgIHJldHVybiAnMDAnICsgd29yZDtcbiAgZWxzZSBpZiAod29yZC5sZW5ndGggPT09IDUpXG4gICAgcmV0dXJuICcwMDAnICsgd29yZDtcbiAgZWxzZSBpZiAod29yZC5sZW5ndGggPT09IDQpXG4gICAgcmV0dXJuICcwMDAwJyArIHdvcmQ7XG4gIGVsc2UgaWYgKHdvcmQubGVuZ3RoID09PSAzKVxuICAgIHJldHVybiAnMDAwMDAnICsgd29yZDtcbiAgZWxzZSBpZiAod29yZC5sZW5ndGggPT09IDIpXG4gICAgcmV0dXJuICcwMDAwMDAnICsgd29yZDtcbiAgZWxzZSBpZiAod29yZC5sZW5ndGggPT09IDEpXG4gICAgcmV0dXJuICcwMDAwMDAwJyArIHdvcmQ7XG4gIGVsc2VcbiAgICByZXR1cm4gd29yZDtcbn1cbnV0aWxzLnplcm84ID0gemVybzg7XG5cbmZ1bmN0aW9uIGpvaW4zMihtc2csIHN0YXJ0LCBlbmQsIGVuZGlhbikge1xuICB2YXIgbGVuID0gZW5kIC0gc3RhcnQ7XG4gIGFzc2VydChsZW4gJSA0ID09PSAwKTtcbiAgdmFyIHJlcyA9IG5ldyBBcnJheShsZW4gLyA0KTtcbiAgZm9yICh2YXIgaSA9IDAsIGsgPSBzdGFydDsgaSA8IHJlcy5sZW5ndGg7IGkrKywgayArPSA0KSB7XG4gICAgdmFyIHc7XG4gICAgaWYgKGVuZGlhbiA9PT0gJ2JpZycpXG4gICAgICB3ID0gKG1zZ1trXSA8PCAyNCkgfCAobXNnW2sgKyAxXSA8PCAxNikgfCAobXNnW2sgKyAyXSA8PCA4KSB8IG1zZ1trICsgM107XG4gICAgZWxzZVxuICAgICAgdyA9IChtc2dbayArIDNdIDw8IDI0KSB8IChtc2dbayArIDJdIDw8IDE2KSB8IChtc2dbayArIDFdIDw8IDgpIHwgbXNnW2tdO1xuICAgIHJlc1tpXSA9IHcgPj4+IDA7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbnV0aWxzLmpvaW4zMiA9IGpvaW4zMjtcblxuZnVuY3Rpb24gc3BsaXQzMihtc2csIGVuZGlhbikge1xuICB2YXIgcmVzID0gbmV3IEFycmF5KG1zZy5sZW5ndGggKiA0KTtcbiAgZm9yICh2YXIgaSA9IDAsIGsgPSAwOyBpIDwgbXNnLmxlbmd0aDsgaSsrLCBrICs9IDQpIHtcbiAgICB2YXIgbSA9IG1zZ1tpXTtcbiAgICBpZiAoZW5kaWFuID09PSAnYmlnJykge1xuICAgICAgcmVzW2tdID0gbSA+Pj4gMjQ7XG4gICAgICByZXNbayArIDFdID0gKG0gPj4+IDE2KSAmIDB4ZmY7XG4gICAgICByZXNbayArIDJdID0gKG0gPj4+IDgpICYgMHhmZjtcbiAgICAgIHJlc1trICsgM10gPSBtICYgMHhmZjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzW2sgKyAzXSA9IG0gPj4+IDI0O1xuICAgICAgcmVzW2sgKyAyXSA9IChtID4+PiAxNikgJiAweGZmO1xuICAgICAgcmVzW2sgKyAxXSA9IChtID4+PiA4KSAmIDB4ZmY7XG4gICAgICByZXNba10gPSBtICYgMHhmZjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbnV0aWxzLnNwbGl0MzIgPSBzcGxpdDMyO1xuXG5mdW5jdGlvbiByb3RyMzIodywgYikge1xuICByZXR1cm4gKHcgPj4+IGIpIHwgKHcgPDwgKDMyIC0gYikpO1xufVxudXRpbHMucm90cjMyID0gcm90cjMyO1xuXG5mdW5jdGlvbiByb3RsMzIodywgYikge1xuICByZXR1cm4gKHcgPDwgYikgfCAodyA+Pj4gKDMyIC0gYikpO1xufVxudXRpbHMucm90bDMyID0gcm90bDMyO1xuXG5mdW5jdGlvbiBzdW0zMihhLCBiKSB7XG4gIHJldHVybiAoYSArIGIpID4+PiAwO1xufVxudXRpbHMuc3VtMzIgPSBzdW0zMjtcblxuZnVuY3Rpb24gc3VtMzJfMyhhLCBiLCBjKSB7XG4gIHJldHVybiAoYSArIGIgKyBjKSA+Pj4gMDtcbn1cbnV0aWxzLnN1bTMyXzMgPSBzdW0zMl8zO1xuXG5mdW5jdGlvbiBzdW0zMl80KGEsIGIsIGMsIGQpIHtcbiAgcmV0dXJuIChhICsgYiArIGMgKyBkKSA+Pj4gMDtcbn1cbnV0aWxzLnN1bTMyXzQgPSBzdW0zMl80O1xuXG5mdW5jdGlvbiBzdW0zMl81KGEsIGIsIGMsIGQsIGUpIHtcbiAgcmV0dXJuIChhICsgYiArIGMgKyBkICsgZSkgPj4+IDA7XG59XG51dGlscy5zdW0zMl81ID0gc3VtMzJfNTtcblxuZnVuY3Rpb24gYXNzZXJ0KGNvbmQsIG1zZykge1xuICBpZiAoIWNvbmQpXG4gICAgdGhyb3cgbmV3IEVycm9yKG1zZyB8fCAnQXNzZXJ0aW9uIGZhaWxlZCcpO1xufVxudXRpbHMuYXNzZXJ0ID0gYXNzZXJ0O1xuXG51dGlscy5pbmhlcml0cyA9IGluaGVyaXRzO1xuXG5mdW5jdGlvbiBzdW02NChidWYsIHBvcywgYWgsIGFsKSB7XG4gIHZhciBiaCA9IGJ1Zltwb3NdO1xuICB2YXIgYmwgPSBidWZbcG9zICsgMV07XG5cbiAgdmFyIGxvID0gKGFsICsgYmwpID4+PiAwO1xuICB2YXIgaGkgPSAobG8gPCBhbCA/IDEgOiAwKSArIGFoICsgYmg7XG4gIGJ1Zltwb3NdID0gaGkgPj4+IDA7XG4gIGJ1Zltwb3MgKyAxXSA9IGxvO1xufVxuZXhwb3J0cy5zdW02NCA9IHN1bTY0O1xuXG5mdW5jdGlvbiBzdW02NF9oaShhaCwgYWwsIGJoLCBibCkge1xuICB2YXIgbG8gPSAoYWwgKyBibCkgPj4+IDA7XG4gIHZhciBoaSA9IChsbyA8IGFsID8gMSA6IDApICsgYWggKyBiaDtcbiAgcmV0dXJuIGhpID4+PiAwO1xufTtcbmV4cG9ydHMuc3VtNjRfaGkgPSBzdW02NF9oaTtcblxuZnVuY3Rpb24gc3VtNjRfbG8oYWgsIGFsLCBiaCwgYmwpIHtcbiAgdmFyIGxvID0gYWwgKyBibDtcbiAgcmV0dXJuIGxvID4+PiAwO1xufTtcbmV4cG9ydHMuc3VtNjRfbG8gPSBzdW02NF9sbztcblxuZnVuY3Rpb24gc3VtNjRfNF9oaShhaCwgYWwsIGJoLCBibCwgY2gsIGNsLCBkaCwgZGwpIHtcbiAgdmFyIGNhcnJ5ID0gMDtcbiAgdmFyIGxvID0gYWw7XG4gIGxvID0gKGxvICsgYmwpID4+PiAwO1xuICBjYXJyeSArPSBsbyA8IGFsID8gMSA6IDA7XG4gIGxvID0gKGxvICsgY2wpID4+PiAwO1xuICBjYXJyeSArPSBsbyA8IGNsID8gMSA6IDA7XG4gIGxvID0gKGxvICsgZGwpID4+PiAwO1xuICBjYXJyeSArPSBsbyA8IGRsID8gMSA6IDA7XG5cbiAgdmFyIGhpID0gYWggKyBiaCArIGNoICsgZGggKyBjYXJyeTtcbiAgcmV0dXJuIGhpID4+PiAwO1xufTtcbmV4cG9ydHMuc3VtNjRfNF9oaSA9IHN1bTY0XzRfaGk7XG5cbmZ1bmN0aW9uIHN1bTY0XzRfbG8oYWgsIGFsLCBiaCwgYmwsIGNoLCBjbCwgZGgsIGRsKSB7XG4gIHZhciBsbyA9IGFsICsgYmwgKyBjbCArIGRsO1xuICByZXR1cm4gbG8gPj4+IDA7XG59O1xuZXhwb3J0cy5zdW02NF80X2xvID0gc3VtNjRfNF9sbztcblxuZnVuY3Rpb24gc3VtNjRfNV9oaShhaCwgYWwsIGJoLCBibCwgY2gsIGNsLCBkaCwgZGwsIGVoLCBlbCkge1xuICB2YXIgY2FycnkgPSAwO1xuICB2YXIgbG8gPSBhbDtcbiAgbG8gPSAobG8gKyBibCkgPj4+IDA7XG4gIGNhcnJ5ICs9IGxvIDwgYWwgPyAxIDogMDtcbiAgbG8gPSAobG8gKyBjbCkgPj4+IDA7XG4gIGNhcnJ5ICs9IGxvIDwgY2wgPyAxIDogMDtcbiAgbG8gPSAobG8gKyBkbCkgPj4+IDA7XG4gIGNhcnJ5ICs9IGxvIDwgZGwgPyAxIDogMDtcbiAgbG8gPSAobG8gKyBlbCkgPj4+IDA7XG4gIGNhcnJ5ICs9IGxvIDwgZWwgPyAxIDogMDtcblxuICB2YXIgaGkgPSBhaCArIGJoICsgY2ggKyBkaCArIGVoICsgY2Fycnk7XG4gIHJldHVybiBoaSA+Pj4gMDtcbn07XG5leHBvcnRzLnN1bTY0XzVfaGkgPSBzdW02NF81X2hpO1xuXG5mdW5jdGlvbiBzdW02NF81X2xvKGFoLCBhbCwgYmgsIGJsLCBjaCwgY2wsIGRoLCBkbCwgZWgsIGVsKSB7XG4gIHZhciBsbyA9IGFsICsgYmwgKyBjbCArIGRsICsgZWw7XG5cbiAgcmV0dXJuIGxvID4+PiAwO1xufTtcbmV4cG9ydHMuc3VtNjRfNV9sbyA9IHN1bTY0XzVfbG87XG5cbmZ1bmN0aW9uIHJvdHI2NF9oaShhaCwgYWwsIG51bSkge1xuICB2YXIgciA9IChhbCA8PCAoMzIgLSBudW0pKSB8IChhaCA+Pj4gbnVtKTtcbiAgcmV0dXJuIHIgPj4+IDA7XG59O1xuZXhwb3J0cy5yb3RyNjRfaGkgPSByb3RyNjRfaGk7XG5cbmZ1bmN0aW9uIHJvdHI2NF9sbyhhaCwgYWwsIG51bSkge1xuICB2YXIgciA9IChhaCA8PCAoMzIgLSBudW0pKSB8IChhbCA+Pj4gbnVtKTtcbiAgcmV0dXJuIHIgPj4+IDA7XG59O1xuZXhwb3J0cy5yb3RyNjRfbG8gPSByb3RyNjRfbG87XG5cbmZ1bmN0aW9uIHNocjY0X2hpKGFoLCBhbCwgbnVtKSB7XG4gIHJldHVybiBhaCA+Pj4gbnVtO1xufTtcbmV4cG9ydHMuc2hyNjRfaGkgPSBzaHI2NF9oaTtcblxuZnVuY3Rpb24gc2hyNjRfbG8oYWgsIGFsLCBudW0pIHtcbiAgdmFyIHIgPSAoYWggPDwgKDMyIC0gbnVtKSkgfCAoYWwgPj4+IG51bSk7XG4gIHJldHVybiByID4+PiAwO1xufTtcbmV4cG9ydHMuc2hyNjRfbG8gPSBzaHI2NF9sbztcbiIsInZhciBoYXNoID0gcmVxdWlyZSgnLi4vaGFzaCcpO1xudmFyIHV0aWxzID0gaGFzaC51dGlscztcbnZhciBhc3NlcnQgPSB1dGlscy5hc3NlcnQ7XG5cbnZhciByb3RyMzIgPSB1dGlscy5yb3RyMzI7XG52YXIgcm90bDMyID0gdXRpbHMucm90bDMyO1xudmFyIHN1bTMyID0gdXRpbHMuc3VtMzI7XG52YXIgc3VtMzJfNCA9IHV0aWxzLnN1bTMyXzQ7XG52YXIgc3VtMzJfNSA9IHV0aWxzLnN1bTMyXzU7XG52YXIgcm90cjY0X2hpID0gdXRpbHMucm90cjY0X2hpO1xudmFyIHJvdHI2NF9sbyA9IHV0aWxzLnJvdHI2NF9sbztcbnZhciBzaHI2NF9oaSA9IHV0aWxzLnNocjY0X2hpO1xudmFyIHNocjY0X2xvID0gdXRpbHMuc2hyNjRfbG87XG52YXIgc3VtNjQgPSB1dGlscy5zdW02NDtcbnZhciBzdW02NF9oaSA9IHV0aWxzLnN1bTY0X2hpO1xudmFyIHN1bTY0X2xvID0gdXRpbHMuc3VtNjRfbG87XG52YXIgc3VtNjRfNF9oaSA9IHV0aWxzLnN1bTY0XzRfaGk7XG52YXIgc3VtNjRfNF9sbyA9IHV0aWxzLnN1bTY0XzRfbG87XG52YXIgc3VtNjRfNV9oaSA9IHV0aWxzLnN1bTY0XzVfaGk7XG52YXIgc3VtNjRfNV9sbyA9IHV0aWxzLnN1bTY0XzVfbG87XG52YXIgQmxvY2tIYXNoID0gaGFzaC5jb21tb24uQmxvY2tIYXNoO1xuXG52YXIgc2hhMjU2X0sgPSBbXG4gIDB4NDI4YTJmOTgsIDB4NzEzNzQ0OTEsIDB4YjVjMGZiY2YsIDB4ZTliNWRiYTUsXG4gIDB4Mzk1NmMyNWIsIDB4NTlmMTExZjEsIDB4OTIzZjgyYTQsIDB4YWIxYzVlZDUsXG4gIDB4ZDgwN2FhOTgsIDB4MTI4MzViMDEsIDB4MjQzMTg1YmUsIDB4NTUwYzdkYzMsXG4gIDB4NzJiZTVkNzQsIDB4ODBkZWIxZmUsIDB4OWJkYzA2YTcsIDB4YzE5YmYxNzQsXG4gIDB4ZTQ5YjY5YzEsIDB4ZWZiZTQ3ODYsIDB4MGZjMTlkYzYsIDB4MjQwY2ExY2MsXG4gIDB4MmRlOTJjNmYsIDB4NGE3NDg0YWEsIDB4NWNiMGE5ZGMsIDB4NzZmOTg4ZGEsXG4gIDB4OTgzZTUxNTIsIDB4YTgzMWM2NmQsIDB4YjAwMzI3YzgsIDB4YmY1OTdmYzcsXG4gIDB4YzZlMDBiZjMsIDB4ZDVhNzkxNDcsIDB4MDZjYTYzNTEsIDB4MTQyOTI5NjcsXG4gIDB4MjdiNzBhODUsIDB4MmUxYjIxMzgsIDB4NGQyYzZkZmMsIDB4NTMzODBkMTMsXG4gIDB4NjUwYTczNTQsIDB4NzY2YTBhYmIsIDB4ODFjMmM5MmUsIDB4OTI3MjJjODUsXG4gIDB4YTJiZmU4YTEsIDB4YTgxYTY2NGIsIDB4YzI0YjhiNzAsIDB4Yzc2YzUxYTMsXG4gIDB4ZDE5MmU4MTksIDB4ZDY5OTA2MjQsIDB4ZjQwZTM1ODUsIDB4MTA2YWEwNzAsXG4gIDB4MTlhNGMxMTYsIDB4MWUzNzZjMDgsIDB4Mjc0ODc3NGMsIDB4MzRiMGJjYjUsXG4gIDB4MzkxYzBjYjMsIDB4NGVkOGFhNGEsIDB4NWI5Y2NhNGYsIDB4NjgyZTZmZjMsXG4gIDB4NzQ4ZjgyZWUsIDB4NzhhNTYzNmYsIDB4ODRjODc4MTQsIDB4OGNjNzAyMDgsXG4gIDB4OTBiZWZmZmEsIDB4YTQ1MDZjZWIsIDB4YmVmOWEzZjcsIDB4YzY3MTc4ZjJcbl07XG5cbnZhciBzaGE1MTJfSyA9IFtcbiAgMHg0MjhhMmY5OCwgMHhkNzI4YWUyMiwgMHg3MTM3NDQ5MSwgMHgyM2VmNjVjZCxcbiAgMHhiNWMwZmJjZiwgMHhlYzRkM2IyZiwgMHhlOWI1ZGJhNSwgMHg4MTg5ZGJiYyxcbiAgMHgzOTU2YzI1YiwgMHhmMzQ4YjUzOCwgMHg1OWYxMTFmMSwgMHhiNjA1ZDAxOSxcbiAgMHg5MjNmODJhNCwgMHhhZjE5NGY5YiwgMHhhYjFjNWVkNSwgMHhkYTZkODExOCxcbiAgMHhkODA3YWE5OCwgMHhhMzAzMDI0MiwgMHgxMjgzNWIwMSwgMHg0NTcwNmZiZSxcbiAgMHgyNDMxODViZSwgMHg0ZWU0YjI4YywgMHg1NTBjN2RjMywgMHhkNWZmYjRlMixcbiAgMHg3MmJlNWQ3NCwgMHhmMjdiODk2ZiwgMHg4MGRlYjFmZSwgMHgzYjE2OTZiMSxcbiAgMHg5YmRjMDZhNywgMHgyNWM3MTIzNSwgMHhjMTliZjE3NCwgMHhjZjY5MjY5NCxcbiAgMHhlNDliNjljMSwgMHg5ZWYxNGFkMiwgMHhlZmJlNDc4NiwgMHgzODRmMjVlMyxcbiAgMHgwZmMxOWRjNiwgMHg4YjhjZDViNSwgMHgyNDBjYTFjYywgMHg3N2FjOWM2NSxcbiAgMHgyZGU5MmM2ZiwgMHg1OTJiMDI3NSwgMHg0YTc0ODRhYSwgMHg2ZWE2ZTQ4MyxcbiAgMHg1Y2IwYTlkYywgMHhiZDQxZmJkNCwgMHg3NmY5ODhkYSwgMHg4MzExNTNiNSxcbiAgMHg5ODNlNTE1MiwgMHhlZTY2ZGZhYiwgMHhhODMxYzY2ZCwgMHgyZGI0MzIxMCxcbiAgMHhiMDAzMjdjOCwgMHg5OGZiMjEzZiwgMHhiZjU5N2ZjNywgMHhiZWVmMGVlNCxcbiAgMHhjNmUwMGJmMywgMHgzZGE4OGZjMiwgMHhkNWE3OTE0NywgMHg5MzBhYTcyNSxcbiAgMHgwNmNhNjM1MSwgMHhlMDAzODI2ZiwgMHgxNDI5Mjk2NywgMHgwYTBlNmU3MCxcbiAgMHgyN2I3MGE4NSwgMHg0NmQyMmZmYywgMHgyZTFiMjEzOCwgMHg1YzI2YzkyNixcbiAgMHg0ZDJjNmRmYywgMHg1YWM0MmFlZCwgMHg1MzM4MGQxMywgMHg5ZDk1YjNkZixcbiAgMHg2NTBhNzM1NCwgMHg4YmFmNjNkZSwgMHg3NjZhMGFiYiwgMHgzYzc3YjJhOCxcbiAgMHg4MWMyYzkyZSwgMHg0N2VkYWVlNiwgMHg5MjcyMmM4NSwgMHgxNDgyMzUzYixcbiAgMHhhMmJmZThhMSwgMHg0Y2YxMDM2NCwgMHhhODFhNjY0YiwgMHhiYzQyMzAwMSxcbiAgMHhjMjRiOGI3MCwgMHhkMGY4OTc5MSwgMHhjNzZjNTFhMywgMHgwNjU0YmUzMCxcbiAgMHhkMTkyZTgxOSwgMHhkNmVmNTIxOCwgMHhkNjk5MDYyNCwgMHg1NTY1YTkxMCxcbiAgMHhmNDBlMzU4NSwgMHg1NzcxMjAyYSwgMHgxMDZhYTA3MCwgMHgzMmJiZDFiOCxcbiAgMHgxOWE0YzExNiwgMHhiOGQyZDBjOCwgMHgxZTM3NmMwOCwgMHg1MTQxYWI1MyxcbiAgMHgyNzQ4Nzc0YywgMHhkZjhlZWI5OSwgMHgzNGIwYmNiNSwgMHhlMTliNDhhOCxcbiAgMHgzOTFjMGNiMywgMHhjNWM5NWE2MywgMHg0ZWQ4YWE0YSwgMHhlMzQxOGFjYixcbiAgMHg1YjljY2E0ZiwgMHg3NzYzZTM3MywgMHg2ODJlNmZmMywgMHhkNmIyYjhhMyxcbiAgMHg3NDhmODJlZSwgMHg1ZGVmYjJmYywgMHg3OGE1NjM2ZiwgMHg0MzE3MmY2MCxcbiAgMHg4NGM4NzgxNCwgMHhhMWYwYWI3MiwgMHg4Y2M3MDIwOCwgMHgxYTY0MzllYyxcbiAgMHg5MGJlZmZmYSwgMHgyMzYzMWUyOCwgMHhhNDUwNmNlYiwgMHhkZTgyYmRlOSxcbiAgMHhiZWY5YTNmNywgMHhiMmM2NzkxNSwgMHhjNjcxNzhmMiwgMHhlMzcyNTMyYixcbiAgMHhjYTI3M2VjZSwgMHhlYTI2NjE5YywgMHhkMTg2YjhjNywgMHgyMWMwYzIwNyxcbiAgMHhlYWRhN2RkNiwgMHhjZGUwZWIxZSwgMHhmNTdkNGY3ZiwgMHhlZTZlZDE3OCxcbiAgMHgwNmYwNjdhYSwgMHg3MjE3NmZiYSwgMHgwYTYzN2RjNSwgMHhhMmM4OThhNixcbiAgMHgxMTNmOTgwNCwgMHhiZWY5MGRhZSwgMHgxYjcxMGIzNSwgMHgxMzFjNDcxYixcbiAgMHgyOGRiNzdmNSwgMHgyMzA0N2Q4NCwgMHgzMmNhYWI3YiwgMHg0MGM3MjQ5MyxcbiAgMHgzYzllYmUwYSwgMHgxNWM5YmViYywgMHg0MzFkNjdjNCwgMHg5YzEwMGQ0YyxcbiAgMHg0Y2M1ZDRiZSwgMHhjYjNlNDJiNiwgMHg1OTdmMjk5YywgMHhmYzY1N2UyYSxcbiAgMHg1ZmNiNmZhYiwgMHgzYWQ2ZmFlYywgMHg2YzQ0MTk4YywgMHg0YTQ3NTgxN1xuXTtcblxudmFyIHNoYTFfSyA9IFtcbiAgMHg1QTgyNzk5OSwgMHg2RUQ5RUJBMSxcbiAgMHg4RjFCQkNEQywgMHhDQTYyQzFENlxuXTtcblxuZnVuY3Rpb24gU0hBMjU2KCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU0hBMjU2KSlcbiAgICByZXR1cm4gbmV3IFNIQTI1NigpO1xuXG4gIEJsb2NrSGFzaC5jYWxsKHRoaXMpO1xuICB0aGlzLmggPSBbIDB4NmEwOWU2NjcsIDB4YmI2N2FlODUsIDB4M2M2ZWYzNzIsIDB4YTU0ZmY1M2EsXG4gICAgICAgICAgICAgMHg1MTBlNTI3ZiwgMHg5YjA1Njg4YywgMHgxZjgzZDlhYiwgMHg1YmUwY2QxOSBdO1xuICB0aGlzLmsgPSBzaGEyNTZfSztcbiAgdGhpcy5XID0gbmV3IEFycmF5KDY0KTtcbn1cbnV0aWxzLmluaGVyaXRzKFNIQTI1NiwgQmxvY2tIYXNoKTtcbmV4cG9ydHMuc2hhMjU2ID0gU0hBMjU2O1xuXG5TSEEyNTYuYmxvY2tTaXplID0gNTEyO1xuU0hBMjU2Lm91dFNpemUgPSAyNTY7XG5TSEEyNTYuaG1hY1N0cmVuZ3RoID0gMTkyO1xuU0hBMjU2LnBhZExlbmd0aCA9IDY0O1xuXG5TSEEyNTYucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiBfdXBkYXRlKG1zZywgc3RhcnQpIHtcbiAgdmFyIFcgPSB0aGlzLlc7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKVxuICAgIFdbaV0gPSBtc2dbc3RhcnQgKyBpXTtcbiAgZm9yICg7IGkgPCBXLmxlbmd0aDsgaSsrKVxuICAgIFdbaV0gPSBzdW0zMl80KGcxXzI1NihXW2kgLSAyXSksIFdbaSAtIDddLCBnMF8yNTYoV1tpIC0gMTVdKSwgV1tpIC0gMTZdKTtcblxuICB2YXIgYSA9IHRoaXMuaFswXTtcbiAgdmFyIGIgPSB0aGlzLmhbMV07XG4gIHZhciBjID0gdGhpcy5oWzJdO1xuICB2YXIgZCA9IHRoaXMuaFszXTtcbiAgdmFyIGUgPSB0aGlzLmhbNF07XG4gIHZhciBmID0gdGhpcy5oWzVdO1xuICB2YXIgZyA9IHRoaXMuaFs2XTtcbiAgdmFyIGggPSB0aGlzLmhbN107XG5cbiAgYXNzZXJ0KHRoaXMuay5sZW5ndGggPT09IFcubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBXLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIFQxID0gc3VtMzJfNShoLCBzMV8yNTYoZSksIGNoMzIoZSwgZiwgZyksIHRoaXMua1tpXSwgV1tpXSk7XG4gICAgdmFyIFQyID0gc3VtMzIoczBfMjU2KGEpLCBtYWozMihhLCBiLCBjKSk7XG4gICAgaCA9IGc7XG4gICAgZyA9IGY7XG4gICAgZiA9IGU7XG4gICAgZSA9IHN1bTMyKGQsIFQxKTtcbiAgICBkID0gYztcbiAgICBjID0gYjtcbiAgICBiID0gYTtcbiAgICBhID0gc3VtMzIoVDEsIFQyKTtcbiAgfVxuXG4gIHRoaXMuaFswXSA9IHN1bTMyKHRoaXMuaFswXSwgYSk7XG4gIHRoaXMuaFsxXSA9IHN1bTMyKHRoaXMuaFsxXSwgYik7XG4gIHRoaXMuaFsyXSA9IHN1bTMyKHRoaXMuaFsyXSwgYyk7XG4gIHRoaXMuaFszXSA9IHN1bTMyKHRoaXMuaFszXSwgZCk7XG4gIHRoaXMuaFs0XSA9IHN1bTMyKHRoaXMuaFs0XSwgZSk7XG4gIHRoaXMuaFs1XSA9IHN1bTMyKHRoaXMuaFs1XSwgZik7XG4gIHRoaXMuaFs2XSA9IHN1bTMyKHRoaXMuaFs2XSwgZyk7XG4gIHRoaXMuaFs3XSA9IHN1bTMyKHRoaXMuaFs3XSwgaCk7XG59O1xuXG5TSEEyNTYucHJvdG90eXBlLl9kaWdlc3QgPSBmdW5jdGlvbiBkaWdlc3QoZW5jKSB7XG4gIGlmIChlbmMgPT09ICdoZXgnKVxuICAgIHJldHVybiB1dGlscy50b0hleDMyKHRoaXMuaCwgJ2JpZycpO1xuICBlbHNlXG4gICAgcmV0dXJuIHV0aWxzLnNwbGl0MzIodGhpcy5oLCAnYmlnJyk7XG59O1xuXG5mdW5jdGlvbiBTSEEyMjQoKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTSEEyMjQpKVxuICAgIHJldHVybiBuZXcgU0hBMjI0KCk7XG5cbiAgU0hBMjU2LmNhbGwodGhpcyk7XG4gIHRoaXMuaCA9IFsgMHhjMTA1OWVkOCwgMHgzNjdjZDUwNywgMHgzMDcwZGQxNywgMHhmNzBlNTkzOSxcbiAgICAgICAgICAgICAweGZmYzAwYjMxLCAweDY4NTgxNTExLCAweDY0Zjk4ZmE3LCAweGJlZmE0ZmE0IF07XG59XG51dGlscy5pbmhlcml0cyhTSEEyMjQsIFNIQTI1Nik7XG5leHBvcnRzLnNoYTIyNCA9IFNIQTIyNDtcblxuU0hBMjI0LmJsb2NrU2l6ZSA9IDUxMjtcblNIQTIyNC5vdXRTaXplID0gMjI0O1xuU0hBMjI0LmhtYWNTdHJlbmd0aCA9IDE5MjtcblNIQTIyNC5wYWRMZW5ndGggPSA2NDtcblxuU0hBMjI0LnByb3RvdHlwZS5fZGlnZXN0ID0gZnVuY3Rpb24gZGlnZXN0KGVuYykge1xuICAvLyBKdXN0IHRydW5jYXRlIG91dHB1dFxuICBpZiAoZW5jID09PSAnaGV4JylcbiAgICByZXR1cm4gdXRpbHMudG9IZXgzMih0aGlzLmguc2xpY2UoMCwgNyksICdiaWcnKTtcbiAgZWxzZVxuICAgIHJldHVybiB1dGlscy5zcGxpdDMyKHRoaXMuaC5zbGljZSgwLCA3KSwgJ2JpZycpO1xufTtcblxuZnVuY3Rpb24gU0hBNTEyKCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU0hBNTEyKSlcbiAgICByZXR1cm4gbmV3IFNIQTUxMigpO1xuXG4gIEJsb2NrSGFzaC5jYWxsKHRoaXMpO1xuICB0aGlzLmggPSBbIDB4NmEwOWU2NjcsIDB4ZjNiY2M5MDgsXG4gICAgICAgICAgICAgMHhiYjY3YWU4NSwgMHg4NGNhYTczYixcbiAgICAgICAgICAgICAweDNjNmVmMzcyLCAweGZlOTRmODJiLFxuICAgICAgICAgICAgIDB4YTU0ZmY1M2EsIDB4NWYxZDM2ZjEsXG4gICAgICAgICAgICAgMHg1MTBlNTI3ZiwgMHhhZGU2ODJkMSxcbiAgICAgICAgICAgICAweDliMDU2ODhjLCAweDJiM2U2YzFmLFxuICAgICAgICAgICAgIDB4MWY4M2Q5YWIsIDB4ZmI0MWJkNmIsXG4gICAgICAgICAgICAgMHg1YmUwY2QxOSwgMHgxMzdlMjE3OSBdO1xuICB0aGlzLmsgPSBzaGE1MTJfSztcbiAgdGhpcy5XID0gbmV3IEFycmF5KDE2MCk7XG59XG51dGlscy5pbmhlcml0cyhTSEE1MTIsIEJsb2NrSGFzaCk7XG5leHBvcnRzLnNoYTUxMiA9IFNIQTUxMjtcblxuU0hBNTEyLmJsb2NrU2l6ZSA9IDEwMjQ7XG5TSEE1MTIub3V0U2l6ZSA9IDUxMjtcblNIQTUxMi5obWFjU3RyZW5ndGggPSAxOTI7XG5TSEE1MTIucGFkTGVuZ3RoID0gMTI4O1xuXG5TSEE1MTIucHJvdG90eXBlLl9wcmVwYXJlQmxvY2sgPSBmdW5jdGlvbiBfcHJlcGFyZUJsb2NrKG1zZywgc3RhcnQpIHtcbiAgdmFyIFcgPSB0aGlzLlc7XG5cbiAgLy8gMzIgeCAzMmJpdCB3b3Jkc1xuICBmb3IgKHZhciBpID0gMDsgaSA8IDMyOyBpKyspXG4gICAgV1tpXSA9IG1zZ1tzdGFydCArIGldO1xuICBmb3IgKDsgaSA8IFcubGVuZ3RoOyBpICs9IDIpIHtcbiAgICB2YXIgYzBfaGkgPSBnMV81MTJfaGkoV1tpIC0gNF0sIFdbaSAtIDNdKTsgIC8vIGkgLSAyXG4gICAgdmFyIGMwX2xvID0gZzFfNTEyX2xvKFdbaSAtIDRdLCBXW2kgLSAzXSk7XG4gICAgdmFyIGMxX2hpID0gV1tpIC0gMTRdOyAgLy8gaSAtIDdcbiAgICB2YXIgYzFfbG8gPSBXW2kgLSAxM107XG4gICAgdmFyIGMyX2hpID0gZzBfNTEyX2hpKFdbaSAtIDMwXSwgV1tpIC0gMjldKTsgIC8vIGkgLSAxNVxuICAgIHZhciBjMl9sbyA9IGcwXzUxMl9sbyhXW2kgLSAzMF0sIFdbaSAtIDI5XSk7XG4gICAgdmFyIGMzX2hpID0gV1tpIC0gMzJdOyAgLy8gaSAtIDE2XG4gICAgdmFyIGMzX2xvID0gV1tpIC0gMzFdO1xuXG4gICAgV1tpXSA9IHN1bTY0XzRfaGkoYzBfaGksIGMwX2xvLFxuICAgICAgICAgICAgICAgICAgICAgIGMxX2hpLCBjMV9sbyxcbiAgICAgICAgICAgICAgICAgICAgICBjMl9oaSwgYzJfbG8sXG4gICAgICAgICAgICAgICAgICAgICAgYzNfaGksIGMzX2xvKTtcbiAgICBXW2kgKyAxXSA9IHN1bTY0XzRfbG8oYzBfaGksIGMwX2xvLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjMV9oaSwgYzFfbG8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGMyX2hpLCBjMl9sbyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYzNfaGksIGMzX2xvKTtcbiAgfVxufTtcblxuU0hBNTEyLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gX3VwZGF0ZShtc2csIHN0YXJ0KSB7XG4gIHRoaXMuX3ByZXBhcmVCbG9jayhtc2csIHN0YXJ0KTtcblxuICB2YXIgVyA9IHRoaXMuVztcblxuICB2YXIgYWggPSB0aGlzLmhbMF07XG4gIHZhciBhbCA9IHRoaXMuaFsxXTtcbiAgdmFyIGJoID0gdGhpcy5oWzJdO1xuICB2YXIgYmwgPSB0aGlzLmhbM107XG4gIHZhciBjaCA9IHRoaXMuaFs0XTtcbiAgdmFyIGNsID0gdGhpcy5oWzVdO1xuICB2YXIgZGggPSB0aGlzLmhbNl07XG4gIHZhciBkbCA9IHRoaXMuaFs3XTtcbiAgdmFyIGVoID0gdGhpcy5oWzhdO1xuICB2YXIgZWwgPSB0aGlzLmhbOV07XG4gIHZhciBmaCA9IHRoaXMuaFsxMF07XG4gIHZhciBmbCA9IHRoaXMuaFsxMV07XG4gIHZhciBnaCA9IHRoaXMuaFsxMl07XG4gIHZhciBnbCA9IHRoaXMuaFsxM107XG4gIHZhciBoaCA9IHRoaXMuaFsxNF07XG4gIHZhciBobCA9IHRoaXMuaFsxNV07XG5cbiAgYXNzZXJ0KHRoaXMuay5sZW5ndGggPT09IFcubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBXLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgdmFyIGMwX2hpID0gaGg7XG4gICAgdmFyIGMwX2xvID0gaGw7XG4gICAgdmFyIGMxX2hpID0gczFfNTEyX2hpKGVoLCBlbCk7XG4gICAgdmFyIGMxX2xvID0gczFfNTEyX2xvKGVoLCBlbCk7XG4gICAgdmFyIGMyX2hpID0gY2g2NF9oaShlaCwgZWwsIGZoLCBmbCwgZ2gsIGdsKTtcbiAgICB2YXIgYzJfbG8gPSBjaDY0X2xvKGVoLCBlbCwgZmgsIGZsLCBnaCwgZ2wpO1xuICAgIHZhciBjM19oaSA9IHRoaXMua1tpXTtcbiAgICB2YXIgYzNfbG8gPSB0aGlzLmtbaSArIDFdO1xuICAgIHZhciBjNF9oaSA9IFdbaV07XG4gICAgdmFyIGM0X2xvID0gV1tpICsgMV07XG5cbiAgICB2YXIgVDFfaGkgPSBzdW02NF81X2hpKGMwX2hpLCBjMF9sbyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGMxX2hpLCBjMV9sbyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGMyX2hpLCBjMl9sbyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGMzX2hpLCBjM19sbyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGM0X2hpLCBjNF9sbyk7XG4gICAgdmFyIFQxX2xvID0gc3VtNjRfNV9sbyhjMF9oaSwgYzBfbG8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjMV9oaSwgYzFfbG8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjMl9oaSwgYzJfbG8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjM19oaSwgYzNfbG8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjNF9oaSwgYzRfbG8pO1xuXG4gICAgdmFyIGMwX2hpID0gczBfNTEyX2hpKGFoLCBhbCk7XG4gICAgdmFyIGMwX2xvID0gczBfNTEyX2xvKGFoLCBhbCk7XG4gICAgdmFyIGMxX2hpID0gbWFqNjRfaGkoYWgsIGFsLCBiaCwgYmwsIGNoLCBjbCk7XG4gICAgdmFyIGMxX2xvID0gbWFqNjRfbG8oYWgsIGFsLCBiaCwgYmwsIGNoLCBjbCk7XG5cbiAgICB2YXIgVDJfaGkgPSBzdW02NF9oaShjMF9oaSwgYzBfbG8sIGMxX2hpLCBjMV9sbyk7XG4gICAgdmFyIFQyX2xvID0gc3VtNjRfbG8oYzBfaGksIGMwX2xvLCBjMV9oaSwgYzFfbG8pO1xuXG4gICAgaGggPSBnaDtcbiAgICBobCA9IGdsO1xuXG4gICAgZ2ggPSBmaDtcbiAgICBnbCA9IGZsO1xuXG4gICAgZmggPSBlaDtcbiAgICBmbCA9IGVsO1xuXG4gICAgZWggPSBzdW02NF9oaShkaCwgZGwsIFQxX2hpLCBUMV9sbyk7XG4gICAgZWwgPSBzdW02NF9sbyhkbCwgZGwsIFQxX2hpLCBUMV9sbyk7XG5cbiAgICBkaCA9IGNoO1xuICAgIGRsID0gY2w7XG5cbiAgICBjaCA9IGJoO1xuICAgIGNsID0gYmw7XG5cbiAgICBiaCA9IGFoO1xuICAgIGJsID0gYWw7XG5cbiAgICBhaCA9IHN1bTY0X2hpKFQxX2hpLCBUMV9sbywgVDJfaGksIFQyX2xvKTtcbiAgICBhbCA9IHN1bTY0X2xvKFQxX2hpLCBUMV9sbywgVDJfaGksIFQyX2xvKTtcbiAgfVxuXG4gIHN1bTY0KHRoaXMuaCwgMCwgYWgsIGFsKTtcbiAgc3VtNjQodGhpcy5oLCAyLCBiaCwgYmwpO1xuICBzdW02NCh0aGlzLmgsIDQsIGNoLCBjbCk7XG4gIHN1bTY0KHRoaXMuaCwgNiwgZGgsIGRsKTtcbiAgc3VtNjQodGhpcy5oLCA4LCBlaCwgZWwpO1xuICBzdW02NCh0aGlzLmgsIDEwLCBmaCwgZmwpO1xuICBzdW02NCh0aGlzLmgsIDEyLCBnaCwgZ2wpO1xuICBzdW02NCh0aGlzLmgsIDE0LCBoaCwgaGwpO1xufTtcblxuU0hBNTEyLnByb3RvdHlwZS5fZGlnZXN0ID0gZnVuY3Rpb24gZGlnZXN0KGVuYykge1xuICBpZiAoZW5jID09PSAnaGV4JylcbiAgICByZXR1cm4gdXRpbHMudG9IZXgzMih0aGlzLmgsICdiaWcnKTtcbiAgZWxzZVxuICAgIHJldHVybiB1dGlscy5zcGxpdDMyKHRoaXMuaCwgJ2JpZycpO1xufTtcblxuZnVuY3Rpb24gU0hBMzg0KCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU0hBMzg0KSlcbiAgICByZXR1cm4gbmV3IFNIQTM4NCgpO1xuXG4gIFNIQTUxMi5jYWxsKHRoaXMpO1xuICB0aGlzLmggPSBbIDB4Y2JiYjlkNWQsIDB4YzEwNTllZDgsXG4gICAgICAgICAgICAgMHg2MjlhMjkyYSwgMHgzNjdjZDUwNyxcbiAgICAgICAgICAgICAweDkxNTkwMTVhLCAweDMwNzBkZDE3LFxuICAgICAgICAgICAgIDB4MTUyZmVjZDgsIDB4ZjcwZTU5MzksXG4gICAgICAgICAgICAgMHg2NzMzMjY2NywgMHhmZmMwMGIzMSxcbiAgICAgICAgICAgICAweDhlYjQ0YTg3LCAweDY4NTgxNTExLFxuICAgICAgICAgICAgIDB4ZGIwYzJlMGQsIDB4NjRmOThmYTcsXG4gICAgICAgICAgICAgMHg0N2I1NDgxZCwgMHhiZWZhNGZhNCBdO1xufVxudXRpbHMuaW5oZXJpdHMoU0hBMzg0LCBTSEE1MTIpO1xuZXhwb3J0cy5zaGEzODQgPSBTSEEzODQ7XG5cblNIQTM4NC5ibG9ja1NpemUgPSAxMDI0O1xuU0hBMzg0Lm91dFNpemUgPSAzODQ7XG5TSEEzODQuaG1hY1N0cmVuZ3RoID0gMTkyO1xuU0hBMzg0LnBhZExlbmd0aCA9IDEyODtcblxuU0hBMzg0LnByb3RvdHlwZS5fZGlnZXN0ID0gZnVuY3Rpb24gZGlnZXN0KGVuYykge1xuICBpZiAoZW5jID09PSAnaGV4JylcbiAgICByZXR1cm4gdXRpbHMudG9IZXgzMih0aGlzLmguc2xpY2UoMCwgMTIpLCAnYmlnJyk7XG4gIGVsc2VcbiAgICByZXR1cm4gdXRpbHMuc3BsaXQzMih0aGlzLmguc2xpY2UoMCwgMTIpLCAnYmlnJyk7XG59O1xuXG5mdW5jdGlvbiBTSEExKCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU0hBMSkpXG4gICAgcmV0dXJuIG5ldyBTSEExKCk7XG5cbiAgQmxvY2tIYXNoLmNhbGwodGhpcyk7XG4gIHRoaXMuaCA9IFsgMHg2NzQ1MjMwMSwgMHhlZmNkYWI4OSwgMHg5OGJhZGNmZSxcbiAgICAgICAgICAgICAweDEwMzI1NDc2LCAweGMzZDJlMWYwIF07XG4gIHRoaXMuVyA9IG5ldyBBcnJheSg4MCk7XG59XG5cbnV0aWxzLmluaGVyaXRzKFNIQTEsIEJsb2NrSGFzaCk7XG5leHBvcnRzLnNoYTEgPSBTSEExO1xuXG5TSEExLmJsb2NrU2l6ZSA9IDUxMjtcblNIQTEub3V0U2l6ZSA9IDE2MDtcblNIQTEuaG1hY1N0cmVuZ3RoID0gODA7XG5TSEExLnBhZExlbmd0aCA9IDY0O1xuXG5TSEExLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gX3VwZGF0ZShtc2csIHN0YXJ0KSB7XG4gIHZhciBXID0gdGhpcy5XO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKylcbiAgICBXW2ldID0gbXNnW3N0YXJ0ICsgaV07XG5cbiAgZm9yKDsgaSA8IFcubGVuZ3RoOyBpKyspXG4gICAgV1tpXSA9IHJvdGwzMihXW2kgLSAzXSBeIFdbaSAtIDhdIF4gV1tpIC0gMTRdIF4gV1tpIC0gMTZdLCAxKTtcblxuICB2YXIgYSA9IHRoaXMuaFswXTtcbiAgdmFyIGIgPSB0aGlzLmhbMV07XG4gIHZhciBjID0gdGhpcy5oWzJdO1xuICB2YXIgZCA9IHRoaXMuaFszXTtcbiAgdmFyIGUgPSB0aGlzLmhbNF07XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBXLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHMgPSB+fihpIC8gMjApO1xuICAgIHZhciB0ID0gc3VtMzJfNShyb3RsMzIoYSwgNSksIGZ0XzEocywgYiwgYywgZCksIGUsIFdbaV0sIHNoYTFfS1tzXSk7XG4gICAgZSA9IGQ7XG4gICAgZCA9IGM7XG4gICAgYyA9IHJvdGwzMihiLCAzMCk7XG4gICAgYiA9IGE7XG4gICAgYSA9IHQ7XG4gIH1cblxuICB0aGlzLmhbMF0gPSBzdW0zMih0aGlzLmhbMF0sIGEpO1xuICB0aGlzLmhbMV0gPSBzdW0zMih0aGlzLmhbMV0sIGIpO1xuICB0aGlzLmhbMl0gPSBzdW0zMih0aGlzLmhbMl0sIGMpO1xuICB0aGlzLmhbM10gPSBzdW0zMih0aGlzLmhbM10sIGQpO1xuICB0aGlzLmhbNF0gPSBzdW0zMih0aGlzLmhbNF0sIGUpO1xufTtcblxuU0hBMS5wcm90b3R5cGUuX2RpZ2VzdCA9IGZ1bmN0aW9uIGRpZ2VzdChlbmMpIHtcbiAgaWYgKGVuYyA9PT0gJ2hleCcpXG4gICAgcmV0dXJuIHV0aWxzLnRvSGV4MzIodGhpcy5oLCAnYmlnJyk7XG4gIGVsc2VcbiAgICByZXR1cm4gdXRpbHMuc3BsaXQzMih0aGlzLmgsICdiaWcnKTtcbn07XG5cbmZ1bmN0aW9uIGNoMzIoeCwgeSwgeikge1xuICByZXR1cm4gKHggJiB5KSBeICgofngpICYgeik7XG59XG5cbmZ1bmN0aW9uIG1hajMyKHgsIHksIHopIHtcbiAgcmV0dXJuICh4ICYgeSkgXiAoeCAmIHopIF4gKHkgJiB6KTtcbn1cblxuZnVuY3Rpb24gcDMyKHgsIHksIHopIHtcbiAgcmV0dXJuIHggXiB5IF4gejtcbn1cblxuZnVuY3Rpb24gczBfMjU2KHgpIHtcbiAgcmV0dXJuIHJvdHIzMih4LCAyKSBeIHJvdHIzMih4LCAxMykgXiByb3RyMzIoeCwgMjIpO1xufVxuXG5mdW5jdGlvbiBzMV8yNTYoeCkge1xuICByZXR1cm4gcm90cjMyKHgsIDYpIF4gcm90cjMyKHgsIDExKSBeIHJvdHIzMih4LCAyNSk7XG59XG5cbmZ1bmN0aW9uIGcwXzI1Nih4KSB7XG4gIHJldHVybiByb3RyMzIoeCwgNykgXiByb3RyMzIoeCwgMTgpIF4gKHggPj4+IDMpO1xufVxuXG5mdW5jdGlvbiBnMV8yNTYoeCkge1xuICByZXR1cm4gcm90cjMyKHgsIDE3KSBeIHJvdHIzMih4LCAxOSkgXiAoeCA+Pj4gMTApO1xufVxuXG5mdW5jdGlvbiBmdF8xKHMsIHgsIHksIHopIHtcbiAgaWYgKHMgPT09IDApXG4gICAgcmV0dXJuIGNoMzIoeCwgeSwgeik7XG4gIGlmIChzID09PSAxIHx8IHMgPT09IDMpXG4gICAgcmV0dXJuIHAzMih4LCB5LCB6KTtcbiAgaWYgKHMgPT09IDIpXG4gICAgcmV0dXJuIG1hajMyKHgsIHksIHopO1xufVxuXG5mdW5jdGlvbiBjaDY0X2hpKHhoLCB4bCwgeWgsIHlsLCB6aCwgemwpIHtcbiAgdmFyIHIgPSAoeGggJiB5aCkgXiAoKH54aCkgJiB6aCk7XG4gIGlmIChyIDwgMClcbiAgICByICs9IDB4MTAwMDAwMDAwO1xuICByZXR1cm4gcjtcbn1cblxuZnVuY3Rpb24gY2g2NF9sbyh4aCwgeGwsIHloLCB5bCwgemgsIHpsKSB7XG4gIHZhciByID0gKHhsICYgeWwpIF4gKCh+eGwpICYgemwpO1xuICBpZiAociA8IDApXG4gICAgciArPSAweDEwMDAwMDAwMDtcbiAgcmV0dXJuIHI7XG59XG5cbmZ1bmN0aW9uIG1hajY0X2hpKHhoLCB4bCwgeWgsIHlsLCB6aCwgemwpIHtcbiAgdmFyIHIgPSAoeGggJiB5aCkgXiAoeGggJiB6aCkgXiAoeWggJiB6aCk7XG4gIGlmIChyIDwgMClcbiAgICByICs9IDB4MTAwMDAwMDAwO1xuICByZXR1cm4gcjtcbn1cblxuZnVuY3Rpb24gbWFqNjRfbG8oeGgsIHhsLCB5aCwgeWwsIHpoLCB6bCkge1xuICB2YXIgciA9ICh4bCAmIHlsKSBeICh4bCAmIHpsKSBeICh5bCAmIHpsKTtcbiAgaWYgKHIgPCAwKVxuICAgIHIgKz0gMHgxMDAwMDAwMDA7XG4gIHJldHVybiByO1xufVxuXG5mdW5jdGlvbiBzMF81MTJfaGkoeGgsIHhsKSB7XG4gIHZhciBjMF9oaSA9IHJvdHI2NF9oaSh4aCwgeGwsIDI4KTtcbiAgdmFyIGMxX2hpID0gcm90cjY0X2hpKHhsLCB4aCwgMik7ICAvLyAzNFxuICB2YXIgYzJfaGkgPSByb3RyNjRfaGkoeGwsIHhoLCA3KTsgIC8vIDM5XG5cbiAgdmFyIHIgPSBjMF9oaSBeIGMxX2hpIF4gYzJfaGk7XG4gIGlmIChyIDwgMClcbiAgICByICs9IDB4MTAwMDAwMDAwO1xuICByZXR1cm4gcjtcbn1cblxuZnVuY3Rpb24gczBfNTEyX2xvKHhoLCB4bCkge1xuICB2YXIgYzBfbG8gPSByb3RyNjRfbG8oeGgsIHhsLCAyOCk7XG4gIHZhciBjMV9sbyA9IHJvdHI2NF9sbyh4bCwgeGgsIDIpOyAgLy8gMzRcbiAgdmFyIGMyX2xvID0gcm90cjY0X2xvKHhsLCB4aCwgNyk7ICAvLyAzOVxuXG4gIHZhciByID0gYzBfbG8gXiBjMV9sbyBeIGMyX2xvO1xuICBpZiAociA8IDApXG4gICAgciArPSAweDEwMDAwMDAwMDtcbiAgcmV0dXJuIHI7XG59XG5cbmZ1bmN0aW9uIHMxXzUxMl9oaSh4aCwgeGwpIHtcbiAgdmFyIGMwX2hpID0gcm90cjY0X2hpKHhoLCB4bCwgMTQpO1xuICB2YXIgYzFfaGkgPSByb3RyNjRfaGkoeGgsIHhsLCAxOCk7XG4gIHZhciBjMl9oaSA9IHJvdHI2NF9oaSh4bCwgeGgsIDkpOyAgLy8gNDFcblxuICB2YXIgciA9IGMwX2hpIF4gYzFfaGkgXiBjMl9oaTtcbiAgaWYgKHIgPCAwKVxuICAgIHIgKz0gMHgxMDAwMDAwMDA7XG4gIHJldHVybiByO1xufVxuXG5mdW5jdGlvbiBzMV81MTJfbG8oeGgsIHhsKSB7XG4gIHZhciBjMF9sbyA9IHJvdHI2NF9sbyh4aCwgeGwsIDE0KTtcbiAgdmFyIGMxX2xvID0gcm90cjY0X2xvKHhoLCB4bCwgMTgpO1xuICB2YXIgYzJfbG8gPSByb3RyNjRfbG8oeGwsIHhoLCA5KTsgIC8vIDQxXG5cbiAgdmFyIHIgPSBjMF9sbyBeIGMxX2xvIF4gYzJfbG87XG4gIGlmIChyIDwgMClcbiAgICByICs9IDB4MTAwMDAwMDAwO1xuICByZXR1cm4gcjtcbn1cblxuZnVuY3Rpb24gZzBfNTEyX2hpKHhoLCB4bCkge1xuICB2YXIgYzBfaGkgPSByb3RyNjRfaGkoeGgsIHhsLCAxKTtcbiAgdmFyIGMxX2hpID0gcm90cjY0X2hpKHhoLCB4bCwgOCk7XG4gIHZhciBjMl9oaSA9IHNocjY0X2hpKHhoLCB4bCwgNyk7XG5cbiAgdmFyIHIgPSBjMF9oaSBeIGMxX2hpIF4gYzJfaGk7XG4gIGlmIChyIDwgMClcbiAgICByICs9IDB4MTAwMDAwMDAwO1xuICByZXR1cm4gcjtcbn1cblxuZnVuY3Rpb24gZzBfNTEyX2xvKHhoLCB4bCkge1xuICB2YXIgYzBfbG8gPSByb3RyNjRfbG8oeGgsIHhsLCAxKTtcbiAgdmFyIGMxX2xvID0gcm90cjY0X2xvKHhoLCB4bCwgOCk7XG4gIHZhciBjMl9sbyA9IHNocjY0X2xvKHhoLCB4bCwgNyk7XG5cbiAgdmFyIHIgPSBjMF9sbyBeIGMxX2xvIF4gYzJfbG87XG4gIGlmIChyIDwgMClcbiAgICByICs9IDB4MTAwMDAwMDAwO1xuICByZXR1cm4gcjtcbn1cblxuZnVuY3Rpb24gZzFfNTEyX2hpKHhoLCB4bCkge1xuICB2YXIgYzBfaGkgPSByb3RyNjRfaGkoeGgsIHhsLCAxOSk7XG4gIHZhciBjMV9oaSA9IHJvdHI2NF9oaSh4bCwgeGgsIDI5KTsgIC8vIDYxXG4gIHZhciBjMl9oaSA9IHNocjY0X2hpKHhoLCB4bCwgNik7XG5cbiAgdmFyIHIgPSBjMF9oaSBeIGMxX2hpIF4gYzJfaGk7XG4gIGlmIChyIDwgMClcbiAgICByICs9IDB4MTAwMDAwMDAwO1xuICByZXR1cm4gcjtcbn1cblxuZnVuY3Rpb24gZzFfNTEyX2xvKHhoLCB4bCkge1xuICB2YXIgYzBfbG8gPSByb3RyNjRfbG8oeGgsIHhsLCAxOSk7XG4gIHZhciBjMV9sbyA9IHJvdHI2NF9sbyh4bCwgeGgsIDI5KTsgIC8vIDYxXG4gIHZhciBjMl9sbyA9IHNocjY0X2xvKHhoLCB4bCwgNik7XG5cbiAgdmFyIHIgPSBjMF9sbyBeIGMxX2xvIF4gYzJfbG87XG4gIGlmIChyIDwgMClcbiAgICByICs9IDB4MTAwMDAwMDAwO1xuICByZXR1cm4gcjtcbn1cbiIsInZhciBoYXNoID0gcmVxdWlyZSgnLi4vaGFzaCcpO1xudmFyIHV0aWxzID0gaGFzaC51dGlscztcblxudmFyIHJvdGwzMiA9IHV0aWxzLnJvdGwzMjtcbnZhciBzdW0zMiA9IHV0aWxzLnN1bTMyO1xudmFyIHN1bTMyXzMgPSB1dGlscy5zdW0zMl8zO1xudmFyIHN1bTMyXzQgPSB1dGlscy5zdW0zMl80O1xudmFyIEJsb2NrSGFzaCA9IGhhc2guY29tbW9uLkJsb2NrSGFzaDtcblxuZnVuY3Rpb24gUklQRU1EMTYwKCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUklQRU1EMTYwKSlcbiAgICByZXR1cm4gbmV3IFJJUEVNRDE2MCgpO1xuXG4gIEJsb2NrSGFzaC5jYWxsKHRoaXMpO1xuXG4gIHRoaXMuaCA9IFsgMHg2NzQ1MjMwMSwgMHhlZmNkYWI4OSwgMHg5OGJhZGNmZSwgMHgxMDMyNTQ3NiwgMHhjM2QyZTFmMCBdO1xuICB0aGlzLmVuZGlhbiA9ICdsaXR0bGUnO1xufVxudXRpbHMuaW5oZXJpdHMoUklQRU1EMTYwLCBCbG9ja0hhc2gpO1xuZXhwb3J0cy5yaXBlbWQxNjAgPSBSSVBFTUQxNjA7XG5cblJJUEVNRDE2MC5ibG9ja1NpemUgPSA1MTI7XG5SSVBFTUQxNjAub3V0U2l6ZSA9IDE2MDtcblJJUEVNRDE2MC5obWFjU3RyZW5ndGggPSAxOTI7XG5SSVBFTUQxNjAucGFkTGVuZ3RoID0gNjQ7XG5cblJJUEVNRDE2MC5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZShtc2csIHN0YXJ0KSB7XG4gIHZhciBBID0gdGhpcy5oWzBdO1xuICB2YXIgQiA9IHRoaXMuaFsxXTtcbiAgdmFyIEMgPSB0aGlzLmhbMl07XG4gIHZhciBEID0gdGhpcy5oWzNdO1xuICB2YXIgRSA9IHRoaXMuaFs0XTtcbiAgdmFyIEFoID0gQTtcbiAgdmFyIEJoID0gQjtcbiAgdmFyIENoID0gQztcbiAgdmFyIERoID0gRDtcbiAgdmFyIEVoID0gRTtcbiAgZm9yICh2YXIgaiA9IDA7IGogPCA4MDsgaisrKSB7XG4gICAgdmFyIFQgPSBzdW0zMihcbiAgICAgIHJvdGwzMihcbiAgICAgICAgc3VtMzJfNChBLCBmKGosIEIsIEMsIEQpLCBtc2dbcltqXSArIHN0YXJ0XSwgSyhqKSksXG4gICAgICAgIHNbal0pLFxuICAgICAgRSk7XG4gICAgQSA9IEU7XG4gICAgRSA9IEQ7XG4gICAgRCA9IHJvdGwzMihDLCAxMCk7XG4gICAgQyA9IEI7XG4gICAgQiA9IFQ7XG4gICAgVCA9IHN1bTMyKFxuICAgICAgcm90bDMyKFxuICAgICAgICBzdW0zMl80KEFoLCBmKDc5IC0gaiwgQmgsIENoLCBEaCksIG1zZ1tyaFtqXSArIHN0YXJ0XSwgS2goaikpLFxuICAgICAgICBzaFtqXSksXG4gICAgICBFaCk7XG4gICAgQWggPSBFaDtcbiAgICBFaCA9IERoO1xuICAgIERoID0gcm90bDMyKENoLCAxMCk7XG4gICAgQ2ggPSBCaDtcbiAgICBCaCA9IFQ7XG4gIH1cbiAgVCA9IHN1bTMyXzModGhpcy5oWzFdLCBDLCBEaCk7XG4gIHRoaXMuaFsxXSA9IHN1bTMyXzModGhpcy5oWzJdLCBELCBFaCk7XG4gIHRoaXMuaFsyXSA9IHN1bTMyXzModGhpcy5oWzNdLCBFLCBBaCk7XG4gIHRoaXMuaFszXSA9IHN1bTMyXzModGhpcy5oWzRdLCBBLCBCaCk7XG4gIHRoaXMuaFs0XSA9IHN1bTMyXzModGhpcy5oWzBdLCBCLCBDaCk7XG4gIHRoaXMuaFswXSA9IFQ7XG59O1xuXG5SSVBFTUQxNjAucHJvdG90eXBlLl9kaWdlc3QgPSBmdW5jdGlvbiBkaWdlc3QoZW5jKSB7XG4gIGlmIChlbmMgPT09ICdoZXgnKVxuICAgIHJldHVybiB1dGlscy50b0hleDMyKHRoaXMuaCwgJ2xpdHRsZScpO1xuICBlbHNlXG4gICAgcmV0dXJuIHV0aWxzLnNwbGl0MzIodGhpcy5oLCAnbGl0dGxlJyk7XG59O1xuXG5mdW5jdGlvbiBmKGosIHgsIHksIHopIHtcbiAgaWYgKGogPD0gMTUpXG4gICAgcmV0dXJuIHggXiB5IF4gejtcbiAgZWxzZSBpZiAoaiA8PSAzMSlcbiAgICByZXR1cm4gKHggJiB5KSB8ICgofngpICYgeik7XG4gIGVsc2UgaWYgKGogPD0gNDcpXG4gICAgcmV0dXJuICh4IHwgKH55KSkgXiB6O1xuICBlbHNlIGlmIChqIDw9IDYzKVxuICAgIHJldHVybiAoeCAmIHopIHwgKHkgJiAofnopKTtcbiAgZWxzZVxuICAgIHJldHVybiB4IF4gKHkgfCAofnopKTtcbn1cblxuZnVuY3Rpb24gSyhqKSB7XG4gIGlmIChqIDw9IDE1KVxuICAgIHJldHVybiAweDAwMDAwMDAwO1xuICBlbHNlIGlmIChqIDw9IDMxKVxuICAgIHJldHVybiAweDVhODI3OTk5O1xuICBlbHNlIGlmIChqIDw9IDQ3KVxuICAgIHJldHVybiAweDZlZDllYmExO1xuICBlbHNlIGlmIChqIDw9IDYzKVxuICAgIHJldHVybiAweDhmMWJiY2RjO1xuICBlbHNlXG4gICAgcmV0dXJuIDB4YTk1M2ZkNGU7XG59XG5cbmZ1bmN0aW9uIEtoKGopIHtcbiAgaWYgKGogPD0gMTUpXG4gICAgcmV0dXJuIDB4NTBhMjhiZTY7XG4gIGVsc2UgaWYgKGogPD0gMzEpXG4gICAgcmV0dXJuIDB4NWM0ZGQxMjQ7XG4gIGVsc2UgaWYgKGogPD0gNDcpXG4gICAgcmV0dXJuIDB4NmQ3MDNlZjM7XG4gIGVsc2UgaWYgKGogPD0gNjMpXG4gICAgcmV0dXJuIDB4N2E2ZDc2ZTk7XG4gIGVsc2VcbiAgICByZXR1cm4gMHgwMDAwMDAwMDtcbn1cblxudmFyIHIgPSBbXG4gIDAsIDEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTIsIDEzLCAxNCwgMTUsXG4gIDcsIDQsIDEzLCAxLCAxMCwgNiwgMTUsIDMsIDEyLCAwLCA5LCA1LCAyLCAxNCwgMTEsIDgsXG4gIDMsIDEwLCAxNCwgNCwgOSwgMTUsIDgsIDEsIDIsIDcsIDAsIDYsIDEzLCAxMSwgNSwgMTIsXG4gIDEsIDksIDExLCAxMCwgMCwgOCwgMTIsIDQsIDEzLCAzLCA3LCAxNSwgMTQsIDUsIDYsIDIsXG4gIDQsIDAsIDUsIDksIDcsIDEyLCAyLCAxMCwgMTQsIDEsIDMsIDgsIDExLCA2LCAxNSwgMTNcbl07XG5cbnZhciByaCA9IFtcbiAgNSwgMTQsIDcsIDAsIDksIDIsIDExLCA0LCAxMywgNiwgMTUsIDgsIDEsIDEwLCAzLCAxMixcbiAgNiwgMTEsIDMsIDcsIDAsIDEzLCA1LCAxMCwgMTQsIDE1LCA4LCAxMiwgNCwgOSwgMSwgMixcbiAgMTUsIDUsIDEsIDMsIDcsIDE0LCA2LCA5LCAxMSwgOCwgMTIsIDIsIDEwLCAwLCA0LCAxMyxcbiAgOCwgNiwgNCwgMSwgMywgMTEsIDE1LCAwLCA1LCAxMiwgMiwgMTMsIDksIDcsIDEwLCAxNCxcbiAgMTIsIDE1LCAxMCwgNCwgMSwgNSwgOCwgNywgNiwgMiwgMTMsIDE0LCAwLCAzLCA5LCAxMVxuXTtcblxudmFyIHMgPSBbXG4gIDExLCAxNCwgMTUsIDEyLCA1LCA4LCA3LCA5LCAxMSwgMTMsIDE0LCAxNSwgNiwgNywgOSwgOCxcbiAgNywgNiwgOCwgMTMsIDExLCA5LCA3LCAxNSwgNywgMTIsIDE1LCA5LCAxMSwgNywgMTMsIDEyLFxuICAxMSwgMTMsIDYsIDcsIDE0LCA5LCAxMywgMTUsIDE0LCA4LCAxMywgNiwgNSwgMTIsIDcsIDUsXG4gIDExLCAxMiwgMTQsIDE1LCAxNCwgMTUsIDksIDgsIDksIDE0LCA1LCA2LCA4LCA2LCA1LCAxMixcbiAgOSwgMTUsIDUsIDExLCA2LCA4LCAxMywgMTIsIDUsIDEyLCAxMywgMTQsIDExLCA4LCA1LCA2XG5dO1xuXG52YXIgc2ggPSBbXG4gIDgsIDksIDksIDExLCAxMywgMTUsIDE1LCA1LCA3LCA3LCA4LCAxMSwgMTQsIDE0LCAxMiwgNixcbiAgOSwgMTMsIDE1LCA3LCAxMiwgOCwgOSwgMTEsIDcsIDcsIDEyLCA3LCA2LCAxNSwgMTMsIDExLFxuICA5LCA3LCAxNSwgMTEsIDgsIDYsIDYsIDE0LCAxMiwgMTMsIDUsIDE0LCAxMywgMTMsIDcsIDUsXG4gIDE1LCA1LCA4LCAxMSwgMTQsIDE0LCA2LCAxNCwgNiwgOSwgMTIsIDksIDEyLCA1LCAxNSwgOCxcbiAgOCwgNSwgMTIsIDksIDEyLCA1LCAxNCwgNiwgOCwgMTMsIDYsIDUsIDE1LCAxMywgMTEsIDExXG5dO1xuIiwidmFyIGhtYWMgPSBleHBvcnRzO1xuXG52YXIgaGFzaCA9IHJlcXVpcmUoJy4uL2hhc2gnKTtcbnZhciB1dGlscyA9IGhhc2gudXRpbHM7XG52YXIgYXNzZXJ0ID0gdXRpbHMuYXNzZXJ0O1xuXG5mdW5jdGlvbiBIbWFjKGhhc2gsIGtleSwgZW5jKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBIbWFjKSlcbiAgICByZXR1cm4gbmV3IEhtYWMoaGFzaCwga2V5LCBlbmMpO1xuICB0aGlzLkhhc2ggPSBoYXNoO1xuICB0aGlzLmJsb2NrU2l6ZSA9IGhhc2guYmxvY2tTaXplIC8gODtcbiAgdGhpcy5vdXRTaXplID0gaGFzaC5vdXRTaXplIC8gODtcbiAgdGhpcy5pbm5lciA9IG51bGw7XG4gIHRoaXMub3V0ZXIgPSBudWxsO1xuXG4gIHRoaXMuX2luaXQodXRpbHMudG9BcnJheShrZXksIGVuYykpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBIbWFjO1xuXG5IbWFjLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uIGluaXQoa2V5KSB7XG4gIC8vIFNob3J0ZW4ga2V5LCBpZiBuZWVkZWRcbiAgaWYgKGtleS5sZW5ndGggPiB0aGlzLmJsb2NrU2l6ZSlcbiAgICBrZXkgPSBuZXcgdGhpcy5IYXNoKCkudXBkYXRlKGtleSkuZGlnZXN0KCk7XG4gIGFzc2VydChrZXkubGVuZ3RoIDw9IHRoaXMuYmxvY2tTaXplKTtcblxuICAvLyBBZGQgcGFkZGluZyB0byBrZXlcbiAgZm9yICh2YXIgaSA9IGtleS5sZW5ndGg7IGkgPCB0aGlzLmJsb2NrU2l6ZTsgaSsrKVxuICAgIGtleS5wdXNoKDApO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5Lmxlbmd0aDsgaSsrKVxuICAgIGtleVtpXSBePSAweDM2O1xuICB0aGlzLmlubmVyID0gbmV3IHRoaXMuSGFzaCgpLnVwZGF0ZShrZXkpO1xuXG4gIC8vIDB4MzYgXiAweDVjID0gMHg2YVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleS5sZW5ndGg7IGkrKylcbiAgICBrZXlbaV0gXj0gMHg2YTtcbiAgdGhpcy5vdXRlciA9IG5ldyB0aGlzLkhhc2goKS51cGRhdGUoa2V5KTtcbn07XG5cbkhtYWMucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZShtc2csIGVuYykge1xuICB0aGlzLmlubmVyLnVwZGF0ZShtc2csIGVuYyk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuSG1hYy5wcm90b3R5cGUuZGlnZXN0ID0gZnVuY3Rpb24gZGlnZXN0KGVuYykge1xuICB0aGlzLm91dGVyLnVwZGF0ZSh0aGlzLmlubmVyLmRpZ2VzdCgpKTtcbiAgcmV0dXJuIHRoaXMub3V0ZXIuZGlnZXN0KGVuYyk7XG59O1xuIiwidmFyIGhhc2ggPSByZXF1aXJlKCcuLi9oYXNoJyk7XG52YXIgdXRpbHMgPSBoYXNoLnV0aWxzO1xudmFyIGFzc2VydCA9IHV0aWxzLmFzc2VydDtcblxuZnVuY3Rpb24gQmxvY2tIYXNoKCkge1xuICB0aGlzLnBlbmRpbmcgPSBudWxsO1xuICB0aGlzLnBlbmRpbmdUb3RhbCA9IDA7XG4gIHRoaXMuYmxvY2tTaXplID0gdGhpcy5jb25zdHJ1Y3Rvci5ibG9ja1NpemU7XG4gIHRoaXMub3V0U2l6ZSA9IHRoaXMuY29uc3RydWN0b3Iub3V0U2l6ZTtcbiAgdGhpcy5obWFjU3RyZW5ndGggPSB0aGlzLmNvbnN0cnVjdG9yLmhtYWNTdHJlbmd0aDtcbiAgdGhpcy5wYWRMZW5ndGggPSB0aGlzLmNvbnN0cnVjdG9yLnBhZExlbmd0aCAvIDg7XG4gIHRoaXMuZW5kaWFuID0gJ2JpZyc7XG5cbiAgdGhpcy5fZGVsdGE4ID0gdGhpcy5ibG9ja1NpemUgLyA4O1xuICB0aGlzLl9kZWx0YTMyID0gdGhpcy5ibG9ja1NpemUgLyAzMjtcbn1cbmV4cG9ydHMuQmxvY2tIYXNoID0gQmxvY2tIYXNoO1xuXG5CbG9ja0hhc2gucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZShtc2csIGVuYykge1xuICAvLyBDb252ZXJ0IG1lc3NhZ2UgdG8gYXJyYXksIHBhZCBpdCwgYW5kIGpvaW4gaW50byAzMmJpdCBibG9ja3NcbiAgbXNnID0gdXRpbHMudG9BcnJheShtc2csIGVuYyk7XG4gIGlmICghdGhpcy5wZW5kaW5nKVxuICAgIHRoaXMucGVuZGluZyA9IG1zZztcbiAgZWxzZVxuICAgIHRoaXMucGVuZGluZyA9IHRoaXMucGVuZGluZy5jb25jYXQobXNnKTtcbiAgdGhpcy5wZW5kaW5nVG90YWwgKz0gbXNnLmxlbmd0aDtcblxuICAvLyBFbm91Z2ggZGF0YSwgdHJ5IHVwZGF0aW5nXG4gIGlmICh0aGlzLnBlbmRpbmcubGVuZ3RoID49IHRoaXMuX2RlbHRhOCkge1xuICAgIG1zZyA9IHRoaXMucGVuZGluZztcblxuICAgIC8vIFByb2Nlc3MgcGVuZGluZyBkYXRhIGluIGJsb2Nrc1xuICAgIHZhciByID0gbXNnLmxlbmd0aCAlIHRoaXMuX2RlbHRhODtcbiAgICB0aGlzLnBlbmRpbmcgPSBtc2cuc2xpY2UobXNnLmxlbmd0aCAtIHIsIG1zZy5sZW5ndGgpO1xuICAgIGlmICh0aGlzLnBlbmRpbmcubGVuZ3RoID09PSAwKVxuICAgICAgdGhpcy5wZW5kaW5nID0gbnVsbDtcblxuICAgIG1zZyA9IHV0aWxzLmpvaW4zMihtc2csIDAsIG1zZy5sZW5ndGggLSByLCB0aGlzLmVuZGlhbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtc2cubGVuZ3RoOyBpICs9IHRoaXMuX2RlbHRhMzIpXG4gICAgICB0aGlzLl91cGRhdGUobXNnLCBpLCBpICsgdGhpcy5fZGVsdGEzMik7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkJsb2NrSGFzaC5wcm90b3R5cGUuZGlnZXN0ID0gZnVuY3Rpb24gZGlnZXN0KGVuYykge1xuICB0aGlzLnVwZGF0ZSh0aGlzLl9wYWQoKSk7XG4gIGFzc2VydCh0aGlzLnBlbmRpbmcgPT09IG51bGwpO1xuXG4gIHJldHVybiB0aGlzLl9kaWdlc3QoZW5jKTtcbn07XG5cbkJsb2NrSGFzaC5wcm90b3R5cGUuX3BhZCA9IGZ1bmN0aW9uIHBhZCgpIHtcbiAgdmFyIGxlbiA9IHRoaXMucGVuZGluZ1RvdGFsO1xuICB2YXIgYnl0ZXMgPSB0aGlzLl9kZWx0YTg7XG4gIHZhciBrID0gYnl0ZXMgLSAoKGxlbiArIHRoaXMucGFkTGVuZ3RoKSAlIGJ5dGVzKTtcbiAgdmFyIHJlcyA9IG5ldyBBcnJheShrICsgdGhpcy5wYWRMZW5ndGgpO1xuICByZXNbMF0gPSAweDgwO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGs7IGkrKylcbiAgICByZXNbaV0gPSAwO1xuXG4gIC8vIEFwcGVuZCBsZW5ndGhcbiAgbGVuIDw8PSAzO1xuICBpZiAodGhpcy5lbmRpYW4gPT09ICdiaWcnKSB7XG4gICAgZm9yICh2YXIgdCA9IDg7IHQgPCB0aGlzLnBhZExlbmd0aDsgdCsrKVxuICAgICAgcmVzW2krK10gPSAwO1xuXG4gICAgcmVzW2krK10gPSAwO1xuICAgIHJlc1tpKytdID0gMDtcbiAgICByZXNbaSsrXSA9IDA7XG4gICAgcmVzW2krK10gPSAwO1xuICAgIHJlc1tpKytdID0gKGxlbiA+Pj4gMjQpICYgMHhmZjtcbiAgICByZXNbaSsrXSA9IChsZW4gPj4+IDE2KSAmIDB4ZmY7XG4gICAgcmVzW2krK10gPSAobGVuID4+PiA4KSAmIDB4ZmY7XG4gICAgcmVzW2krK10gPSBsZW4gJiAweGZmO1xuICB9IGVsc2Uge1xuICAgIHJlc1tpKytdID0gbGVuICYgMHhmZjtcbiAgICByZXNbaSsrXSA9IChsZW4gPj4+IDgpICYgMHhmZjtcbiAgICByZXNbaSsrXSA9IChsZW4gPj4+IDE2KSAmIDB4ZmY7XG4gICAgcmVzW2krK10gPSAobGVuID4+PiAyNCkgJiAweGZmO1xuICAgIHJlc1tpKytdID0gMDtcbiAgICByZXNbaSsrXSA9IDA7XG4gICAgcmVzW2krK10gPSAwO1xuICAgIHJlc1tpKytdID0gMDtcblxuICAgIGZvciAodmFyIHQgPSA4OyB0IDwgdGhpcy5wYWRMZW5ndGg7IHQrKylcbiAgICAgIHJlc1tpKytdID0gMDtcbiAgfVxuXG4gIHJldHVybiByZXM7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSB7XG4gIGRvdWJsZXM6IHtcbiAgICBzdGVwOiA0LFxuICAgIHBvaW50czogW1xuICAgICAgW1xuICAgICAgICAnZTYwZmNlOTNiNTllOWVjNTMwMTFhYWJjMjFjMjNlOTdiMmEzMTM2OWI4N2E1YWU5YzQ0ZWU4OWUyYTZkZWMwYScsXG4gICAgICAgICdmN2UzNTA3Mzk5ZTU5NTkyOWRiOTlmMzRmNTc5MzcxMDEyOTY4OTFlNDRkMjNmMGJlMWYzMmNjZTY5NjE2ODIxJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzgyODIyNjMyMTJjNjA5ZDllYTJhNmUzZTE3MmRlMjM4ZDhjMzljYWJkNWFjMWNhMTA2NDZlMjNmZDVmNTE1MDgnLFxuICAgICAgICAnMTFmOGE4MDk4NTU3ZGZlNDVlODI1NmU4MzBiNjBhY2U2MmQ2MTNhYzJmN2IxN2JlZDMxYjZlYWZmNmUyNmNhZidcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICcxNzVlMTU5ZjcyOGI4NjVhNzJmOTljYzZjNmZjODQ2ZGUwYjkzODMzZmQyMjIyZWQ3M2ZjZTViNTUxZTViNzM5JyxcbiAgICAgICAgJ2QzNTA2ZTBkOWUzYzc5ZWJhNGVmOTdhNTFmZjcxZjVlYWNiNTk1NWFkZDI0MzQ1YzZlZmE2ZmZlZTlmZWQ2OTUnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnMzYzZDkwZDQ0N2IwMGM5Yzk5Y2VhYzA1YjYyNjJlZTA1MzQ0MWM3ZTU1NTUyZmZlNTI2YmFkOGY4M2ZmNDY0MCcsXG4gICAgICAgICc0ZTI3M2FkZmM3MzIyMjE5NTNiNDQ1Mzk3ZjMzNjMxNDViOWE4OTAwODE5OWVjYjYyMDAzYzdmM2JlZTlkZTknXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnOGI0YjVmMTY1ZGYzYzJiZThjNjI0NGI1Yjc0NTYzODg0M2U0YTc4MWExNWJjZDFiNjlmNzlhNTVkZmZkZjgwYycsXG4gICAgICAgICc0YWFkMGE2ZjY4ZDMwOGI0YjNmYmQ3ODEzYWIwZGEwNGY5ZTMzNjU0NjE2MmVlNTZiM2VmZjBjNjVmZDRmZDM2J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzcyM2NiYWE2ZTVkYjk5NmQ2YmY3NzFjMDBiZDU0OGM3YjcwMGRiZmZhNmMwZTc3YmNiNjExNTkyNTIzMmZjZGEnLFxuICAgICAgICAnOTZlODY3YjU1OTVjYzQ5OGE5MjExMzc0ODg4MjRkNmUyNjYwYTA2NTM3Nzk0OTQ4MDFkYzA2OWQ5ZWIzOWY1ZidcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdlZWJmYTRkNDkzYmViZjk4YmE1ZmVlYzgxMmMyZDNiNTA5NDc5NjEyMzdhOTE5ODM5YTUzM2VjYTBlN2RkN2ZhJyxcbiAgICAgICAgJzVkOWE4Y2EzOTcwZWYwZjI2OWVlN2VkYWYxNzgwODlkOWFlNGNkYzNhNzExZjcxMmRkZmQ0ZmRhZTFkZTg5OTknXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnMTAwZjQ0ZGE2OTZlNzE2NzI3OTFkMGEwOWI3YmRlNDU5ZjEyMTVhMjliM2MwM2JmZWZkNzgzNWIzOWE0OGRiMCcsXG4gICAgICAgICdjZGQ5ZTEzMTkyYTAwYjc3MmVjOGYzMzAwYzA5MDY2NmI3ZmY0YTE4ZmY1MTk1YWMwZmJkNWNkNjJiYzY1YTA5J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2UxMDMxYmUyNjJjN2VkMWIxZGM5MjI3YTRhMDRjMDE3YTc3ZjhkNDQ2NGYzYjM4NTJjOGFjZGU2ZTUzNGZkMmQnLFxuICAgICAgICAnOWQ3MDYxOTI4OTQwNDA1ZTZiYjZhNDE3NjU5NzUzNWFmMjkyZGQ0MTllMWNlZDc5YTQ0ZjE4ZjI5NDU2YTAwZCdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdmZWVhNmNhZTQ2ZDU1YjUzMGFjMjgzOWYxNDNiZDdlYzVjZjhiMjY2YTQxZDZhZjUyZDVlNjg4ZDkwOTQ2OTZkJyxcbiAgICAgICAgJ2U1N2M2YjZjOTdkY2UxYmFiMDZlNGUxMmJmM2VjZDVjOTgxYzg5NTdjYzQxNDQyZDMxNTVkZWJmMTgwOTAwODgnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnZGE2N2E5MWQ5MTA0OWNkY2IzNjdiZTRiZTZmZmNhM2NmZWVkNjU3ZDgwODU4M2RlMzNmYTk3OGJjMWVjNmNiMScsXG4gICAgICAgICc5YmFjYWEzNTQ4MTY0MmJjNDFmNDYzZjdlYzk3ODBlNWRlYzdhZGM1MDhmNzQwYTE3ZTllYThlMjdhNjhiZTFkJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzUzOTA0ZmFhMGIzMzRjZGRhNmUwMDA5MzVlZjIyMTUxZWMwOGQwZjdiYjExMDY5ZjU3NTQ1Y2NjMWEzN2I3YzAnLFxuICAgICAgICAnNWJjMDg3ZDBiYzgwMTA2ZDg4YzllY2NhYzIwZDNjMWMxMzk5OTk4MWUxNDQzNDY5OWRjYjA5NmIwMjI3NzFjOCdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc4ZTdiY2QwYmQzNTk4M2E3NzE5Y2NhNzc2NGNhOTA2Nzc5YjUzYTA0M2E5YjhiY2FlZmY5NTlmNDNhZDg2MDQ3JyxcbiAgICAgICAgJzEwYjc3NzBiMmEzZGE0YjM5NDAzMTA0MjBjYTk1MTQ1NzllODhlMmU0N2ZkNjhiM2VhMTAwNDdlODQ2MDM3MmEnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnMzg1ZWVkMzRjMWNkZmYyMWU2ZDA4MTg2ODliODFiZGU3MWE3ZjRmMTgzOTdlNjY5MGE4NDFlMTU5OWM0Mzg2MicsXG4gICAgICAgICcyODNiZWJjM2U4ZWEyM2Y1NjcwMWRlMTllOWViZjQ1NzZiMzA0ZWVjMjA4NmRjOGNjMDQ1OGZlNTU0MmU1NDUzJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzZmOWQ5YjgwM2VjZjE5MTYzN2M3M2E0NDEzZGZhMTgwZmRkZjg0YTU5NDdmYmM5YzYwNmVkODZjM2ZhYzNhNycsXG4gICAgICAgICc3YzgwYzY4ZTYwMzA1OWJhNjliOGUyYTMwZTQ1YzRkNDdlYTRkZDJmNWMyODEwMDJkODY4OTA2MDNhODQyMTYwJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzMzMjJkNDAxMjQzYzRlMjU4MmEyMTQ3YzEwNGQ2ZWNiZjc3NGQxNjNkYjBmNWU1MzEzYjdlMGU3NDJkMGU2YmQnLFxuICAgICAgICAnNTZlNzA3OTdlOTY2NGVmNWJmYjAxOWJjNGRkYWY5YjcyODA1ZjYzZWEyODczYWY2MjRmM2EyZTk2YzI4YjJhMCdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc4NTY3MmM3ZDJkZTBiN2RhMmJkMTc3MGQ4OTY2NTg2ODc0MWIzZjlhZjc2NDMzOTc3MjFkNzRkMjgxMzRhYjgzJyxcbiAgICAgICAgJzdjNDgxYjliNWI0M2IyZWI2Mzc0MDQ5YmZhNjJjMmU1ZTc3ZjE3ZmNjNTI5OGY0NGM4ZTMwOTRmNzkwMzEzYTYnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnOTQ4YmY4MDliMTk4OGE0NmIwNmM5ZjE5MTk0MTNiMTBmOTIyNmM2MGY2Njg4MzJmZmQ5NTlhZjYwYzgyYTBhJyxcbiAgICAgICAgJzUzYTU2Mjg1NmRjYjY2NDZkYzZiNzRjNWQxYzM0MThjNmQ0ZGZmMDhjOTdjZDJiZWQ0Y2I3Zjg4ZDhjOGU1ODknXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnNjI2MGNlN2Y0NjE4MDFjMzRmMDY3Y2UwZjAyODczYThmMWIwZTQ0ZGZjNjk3NTJhY2NlY2Q4MTlmMzhmZDhlOCcsXG4gICAgICAgICdiYzJkYTgyYjZmYTViNTcxYTdmMDkwNDk3NzZhMWVmN2VjZDI5MjIzODA1MWMxOThjMWE4NGU5NWIyYjRhZTE3J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2U1MDM3ZGUwYWZjMWQ4ZDQzZDgzNDg0MTRiYmY0MTAzMDQzZWM4ZjU3NWJmZGM0MzI5NTNjYzhkMjAzN2ZhMmQnLFxuICAgICAgICAnNDU3MTUzNGJhYTk0ZDNiNWY5Zjk4ZDA5ZmI5OTBiZGRiZDVmNWIwM2VjNDgxZjEwZTBlNWRjODQxZDc1NWJkYSdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdlMDYzNzJiMGY0YTIwN2FkZjVlYTkwNWU4ZjE3NzFiNGU3ZThkYmQxYzZhNmM1YjcyNTg2NmEwYWU0ZmNlNzI1JyxcbiAgICAgICAgJzdhOTA4OTc0YmNlMThjZmUxMmEyN2JiMmFkNWE0ODhjZDc0ODRhNzc4NzEwNDg3MGIyNzAzNGY5NGVlZTMxZGQnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnMjEzYzdhNzE1Y2Q1ZDQ1MzU4ZDBiYmY5ZGMwY2UwMjIwNGIxMGJkZGUyYTNmNTg1NDBhZDY5MDhkMDU1OTc1NCcsXG4gICAgICAgICc0YjZkYWQwYjVhZTQ2MjUwNzAxM2FkMDYyNDViYTE5MGJiNDg1MGY1ZjM2YTdlZWRkZmYyYzI3NTM0YjQ1OGYyJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzRlN2MyNzJhN2FmNGIzNGU4ZGJiOTM1MmE1NDE5YTg3ZTI4MzhjNzBhZGM2MmNkZGYwY2MzYTNiMDhmYmQ1M2MnLFxuICAgICAgICAnMTc3NDljNzY2YzlkMGIxOGUxNmZkMDlmNmRlZjY4MWI1MzBiOTYxNGJmZjdkZDMzZTBiMzk0MTgxN2RjYWFlNidcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdmZWE3NGUzZGJlNzc4YjFiMTBmMjM4YWQ2MTY4NmFhNWM3NmUzZGIyYmU0MzA1NzYzMjQyN2UyODQwZmIyN2I2JyxcbiAgICAgICAgJzZlMDU2OGRiOWIwYjEzMjk3Y2Y2NzRkZWNjYjZhZjkzMTI2YjU5NmI5NzNmN2I3NzcwMWQzZGI3ZjIzY2I5NmYnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnNzZlNjQxMTNmNjc3Y2YwZTEwYTI1NzBkNTk5OTY4ZDMxNTQ0ZTE3OWI3NjA0MzI5NTJjMDJhNDQxN2JkZGUzOScsXG4gICAgICAgICdjOTBkZGY4ZGVlNGU5NWNmNTc3MDY2ZDcwNjgxZjBkMzVlMmEzM2QyYjU2ZDIwMzJiNGIxNzUyZDE5MDFhYzAxJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2M3MzhjNTZiMDNiMmFiZTFlODI4MWJhYTc0M2Y4ZjlhOGY3Y2M2NDNkZjI2Y2JlZTNhYjE1MDI0MmJjYmI4OTEnLFxuICAgICAgICAnODkzZmI1Nzg5NTFhZDI1MzdmNzE4ZjJlYWNiZmJiYmI4MjMxNGVlZjc4ODBjZmU5MTdlNzM1ZDk2OTlhODRjMydcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdkODk1NjI2NTQ4YjY1YjgxZTI2NGM3NjM3Yzk3Mjg3N2QxZDcyZTVmM2E5MjUwMTQzNzJlOWY2NTg4ZjZjMTRiJyxcbiAgICAgICAgJ2ZlYmZhYTM4ZjJiYzdlYWU3MjhlYzYwODE4YzM0MGViMDM0MjhkNjMyYmIwNjdlMTc5MzYzZWQ3NWQ3ZDk5MWYnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnYjhkYTk0MDMyYTk1NzUxOGViMGY2NDMzNTcxZTg3NjFjZWZmYzczNjkzZTg0ZWRkNDkxNTBhNTY0ZjY3NmUwMycsXG4gICAgICAgICcyODA0ZGZhNDQ4MDVhMWU0ZDdjOTljYzk3NjI4MDhiMDkyY2M1ODRkOTVmZjNiNTExNDg4ZTRlNzRlZmRmNmU3J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2U4MGZlYTE0NDQxZmIzM2E3ZDhhZGFiOTQ3NWQ3ZmFiMjAxOWVmZmI1MTU2YTc5MmYxYTExNzc4ZTNjMGRmNWQnLFxuICAgICAgICAnZWVkMWRlN2Y2MzhlMDA3NzFlODk3NjhjYTNjYTk0NDcyZDE1NWU4MGFmMzIyZWE5ZmNiNDI5MWI2YWM5ZWM3OCdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdhMzAxNjk3YmRmY2Q3MDQzMTNiYTQ4ZTUxZDU2NzU0M2YyYTE4MjAzMWVmZDY5MTVkZGMwN2JiY2M0ZTE2MDcwJyxcbiAgICAgICAgJzczNzBmOTFjZmI2N2U0ZjUwODE4MDlmYTI1ZDQwZjliMTczNWRiZjdjMGExMWExMzBjMGQxYTA0MWUxNzdlYTEnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnOTBhZDg1YjM4OWQ2YjkzNjQ2M2Y5ZDA1MTI2NzhkZTIwOGNjMzMwYjExMzA3ZmZmYWI3YWM2M2UzZmIwNGVkNCcsXG4gICAgICAgICdlNTA3YTM2MjBhMzgyNjFhZmZkY2JkOTQyNzIyMmI4MzlhZWZhYmUxNTgyODk0ZDk5MWQ0ZDQ4Y2I2ZWYxNTAnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnOGY2OGI5ZDJmNjNiNWYzMzkyMzljMWFkOTgxZjE2MmVlODhjNTY3ODcyM2VhMzM1MWI3YjQ0NGM5ZWM0YzBkYScsXG4gICAgICAgICc2NjJhOWYyZGJhMDYzOTg2ZGUxZDkwYzJiNmJlMjE1ZGJiZWEyY2ZlOTU1MTBiZmRmMjNjYmY3OTUwMWZmZjgyJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2U0ZjNmYjAxNzZhZjg1ZDY1ZmY5OWZmOTE5OGMzNjA5MWY0OGU4NjUwMzY4MWUzZTY2ODZmZDUwNTMyMzFlMTEnLFxuICAgICAgICAnMWU2MzYzM2FkMGVmNGYxYzE2NjFhNmQwZWEwMmI3Mjg2Y2M3ZTc0ZWM5NTFkMWM5ODIyYzM4NTc2ZmViNzNiYydcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc4YzAwZmE5YjE4ZWJmMzMxZWI5NjE1MzdhNDVhNDI2NmM3MDM0ZjJmMGQ0ZTFkMDcxNmZiNmVhZTIwZWFlMjllJyxcbiAgICAgICAgJ2VmYTQ3MjY3ZmVhNTIxYTFhOWRjMzQzYTM3MzZjOTc0YzJmYWRhZmE4MWUzNmM1NGU3ZDJhNGM2NjcwMjQxNGInXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnZTdhMjZjZTY5ZGQ0ODI5ZjNlMTBjZWMwYTllOThlZDMxNDNkMDg0ZjMwOGI5MmMwOTk3ZmRkZmM2MGNiM2U0MScsXG4gICAgICAgICcyYTc1OGUzMDBmYTc5ODRiNDcxYjAwNmExYWFmYmIxOGQwYTZiMmMwNDIwZTgzZTIwZThhOTQyMWNmMmNmZDUxJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2I2NDU5ZTBlZTM2NjJlYzhkMjM1NDBjMjIzYmNiZGM1NzFjYmNiOTY3ZDc5NDI0ZjNjZjI5ZWIzZGU2YjgwZWYnLFxuICAgICAgICAnNjdjODc2ZDA2ZjNlMDZkZTFkYWRmMTZlNTY2MWRiM2M0YjNhZTZkNDhlMzViMmZmMzBiZjBiNjFhNzFiYTQ1J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2Q2OGE4MGM4MjgwYmI4NDA3OTMyMzRhYTExOGYwNjIzMWQ2ZjFmYzY3ZTczYzVhNWRlZGEwZjViNDk2OTQzZTgnLFxuICAgICAgICAnZGI4YmE5ZmZmNGI1ODZkMDBjNGIxZjkxNzdiMGUyOGI1YjBlN2I4Zjc4NDUyOTVhMjk0Yzg0MjY2YjEzMzEyMCdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICczMjRhZWQ3ZGY2NWM4MDQyNTJkYzAyNzA5MDdhMzBiMDk2MTJhZWI5NzM0NDljZWE0MDk1OTgwZmMyOGQzZDVkJyxcbiAgICAgICAgJzY0OGEzNjU3NzRiNjFmMmZmMTMwYzBjMzVhZWMxZjRmMTkyMTNiMGM3ZTMzMjg0Mzk2NzIyNGFmOTZhYjdjODQnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnNGRmOWMxNDkxOWNkZTYxZjZkNTFkZmRiZTVmZWU1ZGNlZWM0MTQzYmE4ZDFjYTg4OGU4YmQzNzNmZDA1NGM5NicsXG4gICAgICAgICczNWVjNTEwOTJkODcyODA1MDk3NGMyM2ExZDg1ZDRiNWQ1MDZjZGMyODg0OTAxOTJlYmFjMDZjYWQxMGQ1ZCdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc5YzM5MTlhODRhNDc0ODcwZmFlZDhhOWMxY2M2NjAyMTUyMzQ4OTA1NGQ3ZjAzMDhjYmZjOTljOGFjMWY5OGNkJyxcbiAgICAgICAgJ2RkYjg0ZjBmNGE0ZGRkNTc1ODRmMDQ0YmYyNjBlNjQxOTA1MzI2Zjc2YzY0YzhlNmJlN2U1ZTAzZDRmYzU5OWQnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnNjA1NzE3MGIxZGQxMmZkZjhkZTA1ZjI4MWQ4ZTA2YmI5MWUxNDkzYThiOTFkNGNjNWEyMTM4MjEyMGE5NTllNScsXG4gICAgICAgICc5YTFhZjBiMjZhNmE0ODA3YWRkOWEyZGFmNzFkZjI2MjQ2NTE1MmJjM2VlMjRjNjVlODk5YmU5MzIzODVhMmE4J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2E1NzZkZjhlMjNhMDg0MTE0MjE0MzlhNDUxOGRhMzE4ODBjZWYwZmJhN2Q0ZGYxMmIxYTY5NzNlZWNiOTQyNjYnLFxuICAgICAgICAnNDBhNmJmMjBlNzY2NDBiMmM5MmI5N2FmZTU4Y2Q4MmM0MzJlMTBhN2Y1MTRkOWYzZWU4YmUxMWFlMWIyOGVjOCdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc3Nzc4YTc4YzI4ZGVjM2UzMGEwNWZlOTYyOWRlOGMzOGJiMzBkMWY1Y2Y5YTNhMjA4Zjc2Mzg4OWJlNThhZDcxJyxcbiAgICAgICAgJzM0NjI2ZDlhYjVhNWIyMmZmNzA5OGUxMmYyZmY1ODAwODdiMzg0MTFmZjI0YWM1NjNiNTEzZmMxZmQ5ZjQzYWMnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnOTI4OTU1ZWU2MzdhODQ0NjM3MjlmZDMwZTdhZmQyZWQ1Zjk2Mjc0ZTVhZDdlNWNiMDllZGE5YzA2ZDkwM2FjJyxcbiAgICAgICAgJ2MyNTYyMTAwM2QzZjQyYTgyN2I3OGExMzA5M2E5NWVlYWMzZDI2ZWZhOGE4ZDgzZmM1MTgwZTkzNWJjZDA5MWYnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnODVkMGZlZjNlYzZkYjEwOTM5OTA2NGYzYTBlM2IyODU1NjQ1YjRhOTA3YWQzNTQ1MjdhYWU3NTE2M2Q4Mjc1MScsXG4gICAgICAgICcxZjAzNjQ4NDEzYTM4YzBiZTI5ZDQ5NmU1ODJjZjU2NjNlODc1MWU5Njg3NzMzMTU4MmMyMzdhMjRlYjFmOTYyJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2ZmMmIwZGNlOTdlZWNlOTdjMWM5YjYwNDE3OThiODVkZmRmYjZkODg4MmRhMjAzMDhmNTQwNDgyNDUyNjA4N2UnLFxuICAgICAgICAnNDkzZDEzZmVmNTI0YmExODhhZjRjNGRjNTRkMDc5MzZjN2I3ZWQ2ZmI5MGUyY2ViMmM5NTFlMDFmMGMyOTkwNydcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc4MjdmYmJlNGIxZTg4MGVhOWVkMmIyZTYzMDFiMjEyYjU3ZjFlZTE0OGNkNmRkMjg3ODBlNWUyY2Y4NTZlMjQxJyxcbiAgICAgICAgJ2M2MGY5YzkyM2M3MjdiMGI3MWJlZjJjNjdkMWQxMjY4N2ZmN2E2MzE4NjkwMzE2NmQ2MDViNjhiYWVjMjkzZWMnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnZWFhNjQ5ZjIxZjUxYmRiYWU3YmU0YWUzNGNlNmU1MjE3YTU4ZmRjZTdmNDdmOWFhN2YzYjU4ZmEyMTIwZTJiMycsXG4gICAgICAgICdiZTMyNzllZDViYmJiMDNhYzY5YTgwZjg5ODc5YWE1YTAxYTZiOTY1ZjEzZjdlNTlkNDdhNTMwNWJhNWFkOTNkJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2U0YTQyZDQzYzVjZjE2OWQ5MzkxZGY2ZGVjZjQyZWU1NDFiNmQ4ZjBjOWExMzc0MDFlMjM2MzJkZGEzNGQyNGYnLFxuICAgICAgICAnNGQ5ZjkyZTcxNmQxYzczNTI2ZmM5OWNjZmI4YWQzNGNlODg2ZWVkZmE4ZDhlNGYxM2E3ZjcxMzFkZWJhOTQxNCdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICcxZWM4MGZlZjM2MGNiZGQ5NTQxNjBmYWRhYjM1MmI2YjkyYjUzNTc2YTg4ZmVhNDk0NzE3M2I5ZDQzMDBiZjE5JyxcbiAgICAgICAgJ2FlZWZlOTM3NTZiNTM0MGQyZjNhNDk1OGE3YWJiZjVlMDE0NmU3N2Y2Mjk1YTA3YjY3MWNkYzFjYzEwN2NlZmQnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnMTQ2YTc3OGMwNDY3MGMyZjkxYjAwYWY0NjgwZGZhOGJjZTM0OTA3MTdkNThiYTg4OWRkYjU5MjgzNjY2NDJiZScsXG4gICAgICAgICdiMzE4ZTBlYzMzNTQwMjhhZGQ2Njk4MjdmOWQ0YjI4NzBhYWE5NzFkMmY3ZTVlZDFkMGIyOTc0ODNkODNlZmQwJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2ZhNTBjMGY2MWQyMmU1ZjA3ZTNhY2ViYjFhYTA3YjEyOGQwMDEyMjA5YTI4Yjk3NzZkNzZhODc5MzE4MGVlZjknLFxuICAgICAgICAnNmI4NGM2OTIyMzk3ZWJhOWI3MmNkMjg3MjI4MWE2OGE1ZTY4MzI5M2E1N2EyMTNiMzhjZDhkN2QzZjRmMjgxMSdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdkYTFkNjFkMGNhNzIxYTExYjFhNWJmNmI3ZDg4ZTg0MjFhMjg4YWI1ZDViYmE1MjIwZTUzZDMyYjVmMDY3ZWMyJyxcbiAgICAgICAgJzgxNTdmNTVhN2M5OTMwNmM3OWMwNzY2MTYxYzkxZTI5NjZhNzM4OTlkMjc5YjQ4YTY1NWZiYTBmMWFkODM2ZjEnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnYThlMjgyZmYwYzk3MDY5MDcyMTVmZjk4ZThmZDQxNjYxNTMxMWRlMDQ0NmYxZTA2MmE3M2IwNjEwZDA2NGUxMycsXG4gICAgICAgICc3Zjk3MzU1YjhkYjgxYzA5YWJmYjdmM2M1YjI1MTU4ODhiNjc5YTNlNTBkZDZiZDZjZWY3YzczMTExZjRjYzBjJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzE3NGE1M2I5YzlhMjg1ODcyZDM5ZTU2ZTY5MTNjYWIxNWQ1OWIxZmE1MTI1MDhjMDIyZjM4MmRlODMxOTQ5N2MnLFxuICAgICAgICAnY2NjOWRjMzdhYmZjOWMxNjU3YjQxNTVmMmM0N2Y5ZTY2NDZiM2ExZDhjYjk4NTQzODNkYTEzYWMwNzlhZmE3MydcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc5NTkzOTY5ODE5NDM3ODVjM2QzZTU3ZWRmNTAxOGNkYmUwMzllNzMwZTQ5MThiM2Q4ODRmZGZmMDk0NzViN2JhJyxcbiAgICAgICAgJzJlN2U1NTI4ODhjMzMxZGQ4YmEwMzg2YTRiOWNkNjg0OWM2NTNmNjRjODcwOTM4NWU5YjhhYmY4NzUyNGYyZmQnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnZDJhNjNhNTBhZTQwMWU1NmQ2NDVhMTE1M2IxMDlhOGZjY2EwYTQzZDU2MWZiYTJkYmI1MTM0MGM5ZDgyYjE1MScsXG4gICAgICAgICdlODJkODZmYjY0NDNmY2I3NTY1YWVlNThiMjk0ODIyMGE3MGY3NTBhZjQ4NGNhNTJkNDE0MjE3NGRjZjg5NDA1J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzY0NTg3ZTIzMzU0NzFlYjg5MGVlNzg5NmQ3Y2ZkYzg2NmJhY2JkYmQzODM5MzE3YjM0MzZmOWI0NTYxN2UwNzMnLFxuICAgICAgICAnZDk5ZmNkZDViZjY5MDJlMmFlOTZkZDY0NDdjMjk5YTE4NWI5MGEzOTEzM2FlYWIzNTgyOTllNWU5ZmFmNjU4OSdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc4NDgxYmRlMGU0ZTRkODg1YjNhNTQ2ZDNlNTQ5ZGUwNDJmMGFhNmNlYTI1MGU3ZmQzNThkNmM4NmRkNDVlNDU4JyxcbiAgICAgICAgJzM4ZWU3YjhjYmE1NDA0ZGQ4NGEyNWJmMzljZWNiMmNhOTAwYTc5YzQyYjI2MmU1NTZkNjRiMWI1OTc3OTA1N2UnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnMTM0NjRhNTdhNzgxMDJhYTYyYjY5NzlhZTgxN2Y0NjM3ZmZjZmVkM2M0YjFjZTMwYmNkNjMwM2Y2Y2FmNjY2YicsXG4gICAgICAgICc2OWJlMTU5MDA0NjE0NTgwZWY3ZTQzMzQ1M2NjYjBjYTQ4ZjMwMGE4MWQwOTQyZTEzZjQ5NWE5MDdmNmVjYzI3J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2JjNGE5ZGY1YjcxM2ZlMmU5YWVmNDMwYmNjMWRjOTdhMGNkOWNjZWRlMmYyODU4OGNhZGEzYTBkMmQ4M2YzNjYnLFxuICAgICAgICAnZDNhODFjYTZlNzg1YzA2MzgzOTM3YWRmNGI3OThjYWE2ZThhOWZiZmE1NDdiMTZkNzU4ZDY2NjU4MWYzM2MxJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzhjMjhhOTdiZjgyOThiYzBkMjNkOGM3NDk0NTJhMzJlNjk0YjY1ZTMwYTk0NzJhMzk1NGFiMzBmZTUzMjRjYWEnLFxuICAgICAgICAnNDBhMzA0NjNhMzMwNTE5MzM3OGZlZGYzMWY3Y2MwZWI3YWU3ODRmMDQ1MWNiOTQ1OWU3MWRjNzNjYmVmOTQ4MidcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc4ZWE5NjY2MTM5NTI3YThjMWRkOTRjZTRmMDcxZmQyM2M4YjM1MGM1YTRiYjMzNzQ4YzRiYTExMWZhY2NhZTAnLFxuICAgICAgICAnNjIwZWZhYmJjOGVlMjc4MmUyNGU3YzBjZmI5NWM1ZDczNWI3ODNiZTljZjBmOGU5NTVhZjM0YTMwZTYyYjk0NSdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdkZDM2MjVmYWVmNWJhMDYwNzQ2Njk3MTZiYmQzNzg4ZDg5YmRkZTgxNTk1OTk2ODA5MmY3NmNjNGViOWE5Nzg3JyxcbiAgICAgICAgJzdhMTg4ZmEzNTIwZTMwZDQ2MWRhMjUwMTA0NTczMWNhOTQxNDYxOTgyODgzMzk1OTM3ZjY4ZDAwYzY0NGE1NzMnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnZjcxMGQ3OWQ5ZWI5NjIyOTdlNGY2MjMyYjQwZThmN2ZlYjJiYzYzODE0NjE0ZDY5MmMxMmRlNzUyNDA4MjIxZScsXG4gICAgICAgICdlYTk4ZTY3MjMyZDNiMzI5NWQzYjUzNTUzMjExNWNjYWM4NjEyYzcyMTg1MTYxNzUyNmFlNDdhOWM3N2JmYzgyJ1xuICAgICAgXVxuICAgIF1cbiAgfSxcbiAgbmFmOiB7XG4gICAgd25kOiA3LFxuICAgIHBvaW50czogW1xuICAgICAgW1xuICAgICAgICAnZjkzMDhhMDE5MjU4YzMxMDQ5MzQ0Zjg1Zjg5ZDUyMjliNTMxYzg0NTgzNmY5OWIwODYwMWYxMTNiY2UwMzZmOScsXG4gICAgICAgICczODhmN2IwZjYzMmRlODE0MGZlMzM3ZTYyYTM3ZjM1NjY1MDBhOTk5MzRjMjIzMWI2Y2I5ZmQ3NTg0YjhlNjcyJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzJmOGJkZTRkMWEwNzIwOTM1NWI0YTcyNTBhNWM1MTI4ZTg4Yjg0YmRkYzYxOWFiN2NiYThkNTY5YjI0MGVmZTQnLFxuICAgICAgICAnZDhhYzIyMjYzNmU1ZTNkNmQ0ZGJhOWRkYTZjOWM0MjZmNzg4MjcxYmFiMGQ2ODQwZGNhODdkM2FhNmFjNjJkNidcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc1Y2JkZjA2NDZlNWRiNGVhYTM5OGYzNjVmMmVhN2EwZTNkNDE5YjdlMDMzMGUzOWNlOTJiZGRlZGNhYzRmOWJjJyxcbiAgICAgICAgJzZhZWJjYTQwYmEyNTU5NjBhMzE3OGQ2ZDg2MWE1NGRiYTgxM2QwYjgxM2ZkZTdiNWE1MDgyNjI4MDg3MjY0ZGEnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnYWNkNDg0ZTJmMGM3ZjY1MzA5YWQxNzhhOWY1NTlhYmRlMDk3OTY5NzRjNTdlNzE0YzM1ZjExMGRmYzI3Y2NiZScsXG4gICAgICAgICdjYzMzODkyMWIwYTdkOWZkNjQzODA5NzE3NjNiNjFlOWFkZDg4OGE0Mzc1ZjhlMGYwNWNjMjYyYWM2NGY5YzM3J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzc3NGFlN2Y4NThhOTQxMWU1ZWY0MjQ2YjcwYzY1YWFjNTY0OTk4MGJlNWMxNzg5MWJiZWMxNzg5NWRhMDA4Y2InLFxuICAgICAgICAnZDk4NGEwMzJlYjZiNWUxOTAyNDNkZDU2ZDdiN2IzNjUzNzJkYjFlMmRmZjlkNmE4MzAxZDc0YzljOTUzYzYxYidcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdmMjg3NzNjMmQ5NzUyODhiYzdkMWQyMDVjMzc0ODY1MWIwNzVmYmM2NjEwZTU4Y2RkZWVkZGY4ZjE5NDA1YWE4JyxcbiAgICAgICAgJ2FiMDkwMmU4ZDg4MGE4OTc1ODIxMmViNjVjZGFmNDczYTFhMDZkYTUyMWZhOTFmMjliNWNiNTJkYjAzZWQ4MSdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdkNzkyNGQ0ZjdkNDNlYTk2NWE0NjVhZTMwOTVmZjQxMTMxZTU5NDZmM2M4NWY3OWU0NGFkYmNmOGUyN2UwODBlJyxcbiAgICAgICAgJzU4MWUyODcyYTg2YzcyYTY4Mzg0MmVjMjI4Y2M2ZGVmZWE0MGFmMmJkODk2ZDNhNWM1MDRkYzlmZjZhMjZiNTgnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnZGVmZGVhNGNkYjY3Nzc1MGE0MjBmZWU4MDdlYWNmMjFlYjk4OThhZTc5Yjk3Njg3NjZlNGZhYTA0YTJkNGEzNCcsXG4gICAgICAgICc0MjExYWIwNjk0NjM1MTY4ZTk5N2IwZWFkMmE5M2RhZWNlZDFmNGEwNGE5NWMwZjZjZmIxOTlmNjllNTZlYjc3J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzJiNGVhMGE3OTdhNDQzZDI5M2VmNWNmZjQ0NGY0OTc5ZjA2YWNmZWJkN2U4NmQyNzc0NzU2NTYxMzgzODViNmMnLFxuICAgICAgICAnODVlODliYzAzNzk0NWQ5M2IzNDMwODNiNWExYzg2MTMxYTAxZjYwYzUwMjY5NzYzYjU3MGM4NTRlNWMwOWI3YSdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICczNTJiYmY0YTRjZGQxMjU2NGY5M2ZhMzMyY2UzMzMzMDFkOWFkNDAyNzFmODEwNzE4MTM0MGFlZjI1YmU1OWQ1JyxcbiAgICAgICAgJzMyMWViNDA3NTM0OGY1MzRkNTljMTgyNTlkZGEzZTFmNGExYjNiMmU3MWIxMDM5YzY3YmQzZDhiY2Y4MTk5OGMnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnMmZhMjEwNGQ2YjM4ZDExYjAyMzAwMTA1NTk4NzkxMjRlNDJhYjhkZmVmZjVmZjI5ZGM5Y2RhZGQ0ZWNhY2MzZicsXG4gICAgICAgICcyZGUxMDY4Mjk1ZGQ4NjViNjQ1NjkzMzViZDVkZDgwMTgxZDcwZWNmYzg4MjY0ODQyM2JhNzZiNTMyYjdkNjcnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnOTI0ODI3OWIwOWI0ZDY4ZGFiMjFhOWIwNjZlZGRhODMyNjNjM2Q4NGUwOTU3MmUyNjljYTBjZDdmNTQ1MzcxNCcsXG4gICAgICAgICc3MzAxNmY3YmYyMzRhYWRlNWQxYWE3MWJkZWEyYjFmZjNmYzBkZTJhODg3OTEyZmZlNTRhMzJjZTk3Y2IzNDAyJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2RhZWQ0ZjJiZTNhOGJmMjc4ZTcwMTMyZmIwYmViNzUyMmY1NzBlMTQ0YmY2MTVjMDdlOTk2ZDQ0M2RlZTg3MjknLFxuICAgICAgICAnYTY5ZGNlNGE3ZDZjOThlOGQ0YTFhY2E4N2VmOGQ3MDAzZjgzYzIzMGYzYWZhNzI2YWI0MGU1MjI5MGJlMWM1NSdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdjNDRkMTJjNzA2NWQ4MTJlOGFjZjI4ZDdjYmIxOWY5MDExZWNkOWU5ZmRmMjgxYjBlNmEzYjVlODdkMjJlN2RiJyxcbiAgICAgICAgJzIxMTlhNDYwY2UzMjZjZGM3NmM0NTkyNmM5ODJmZGFjMGUxMDZlODYxZWRmNjFjNWEwMzkwNjNmMGUwZTY0ODInXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnNmEyNDViZjZkYzY5ODUwNGM4OWEyMGNmZGVkNjA4NTMxNTJiNjk1MzM2YzI4MDYzYjYxYzY1Y2JkMjY5ZTZiNCcsXG4gICAgICAgICdlMDIyY2Y0MmMyYmQ0YTcwOGIzZjUxMjZmMTZhMjRhZDhiMzNiYTQ4ZDA0MjNiNmVmZDVlNjM0ODEwMGQ4YTgyJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzE2OTdmZmE2ZmQ5ZGU2MjdjMDc3ZTNkMmZlNTQxMDg0Y2UxMzMwMGIwYmVjMTE0NmY5NWFlNTdmMGQwYmQ2YTUnLFxuICAgICAgICAnYjljMzk4ZjE4NjgwNmY1ZDI3NTYxNTA2ZTQ1NTc0MzNhMmNmMTUwMDllNDk4YWU3YWRlZTlkNjNkMDFiMjM5NidcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc2MDViZGIwMTk5ODE3MThiOTg2ZDBmMDdlODM0Y2IwZDlkZWI4MzYwZmZiN2Y2MWRmOTgyMzQ1ZWYyN2E3NDc5JyxcbiAgICAgICAgJzI5NzJkMmRlNGY4ZDIwNjgxYTc4ZDkzZWM5NmZlMjNjMjZiZmFlODRmYjE0ZGI0M2IwMWUxZTkwNTZiOGM0OSdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc2MmQxNGRhYjQxNTBiZjQ5NzQwMmZkYzQ1YTIxNWUxMGRjYjAxYzM1NDk1OWIxMGNmZTMxYzdlOWQ4N2ZmMzNkJyxcbiAgICAgICAgJzgwZmMwNmJkOGNjNWIwMTA5ODA4OGExOTUwZWVkMGRiMDFhYTEzMjk2N2FiNDcyMjM1ZjU2NDI0ODNiMjVlYWYnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnODBjNjBhZDAwNDBmMjdkYWRlNWI0YjA2YzQwOGU1NmIyYzUwZTlmNTZiOWI4YjQyNWU1NTVjMmY4NjMwOGI2ZicsXG4gICAgICAgICcxYzM4MzAzZjFjYzVjMzBmMjZlNjZiYWQ3ZmU3MmY3MGE2NWVlZDRjYmU3MDI0ZWIxYWEwMWY1NjQzMGJkNTdhJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzdhOTM3NWFkNjE2N2FkNTRhYTc0YzYzNDhjYzU0ZDM0NGNjNWRjOTQ4N2Q4NDcwNDlkNWVhYmIwZmEwM2M4ZmInLFxuICAgICAgICAnZDBlM2ZhOWVjYTg3MjY5MDk1NTllMGQ3OTI2OTA0NmJkYzU5ZWExMGM3MGNlMmIwMmQ0OTllYzIyNGRjN2Y3J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2Q1MjhlY2Q5YjY5NmI1NGM5MDdhOWVkMDQ1NDQ3YTc5YmI0MDhlYzM5YjY4ZGY1MDRiYjUxZjQ1OWJjM2ZmYzknLFxuICAgICAgICAnZWVjZjQxMjUzMTM2ZTVmOTk5NjZmMjE4ODFmZDY1NmViYzQzNDU0MDVjNTIwZGJjMDYzNDY1YjUyMTQwOTkzMydcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc0OTM3MGE0YjVmNDM0MTJlYTI1ZjUxNGU4ZWNkYWQwNTI2NjExNWU0YTdlY2IxMzg3MjMxODA4ZjhiNDU5NjMnLFxuICAgICAgICAnNzU4ZjNmNDFhZmQ2ZWQ0MjhiMzA4MWIwNTEyZmQ2MmE1NGMzZjNhZmJiNWI2NzY0YjY1MzA1MmExMjk0OWM5YSdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc3N2YyMzA5MzZlZTg4Y2JiZDczZGY5MzBkNjQ3MDJlZjg4MWQ4MTFlMGUxNDk4ZTJmMWMxM2ViMWZjMzQ1ZDc0JyxcbiAgICAgICAgJzk1OGVmNDJhNzg4NmI2NDAwYTA4MjY2ZTliYTFiMzc4OTZjOTUzMzBkOTcwNzdjYmJlOGViM2M3NjcxYzYwZDYnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnZjJkYWM5OTFjYzRjZTRiOWVhNDQ4ODdlNWM3YzBiY2U1OGM4MDA3NGFiOWQ0ZGJhZWIyODUzMWI3NzM5ZjUzMCcsXG4gICAgICAgICdlMGRlZGM5YjNiMmY4ZGFkNGRhMWYzMmRlYzI1MzFkZjllYjVmYmViMDU5OGU0ZmQxYTExN2RiYTcwM2EzYzM3J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzQ2M2IzZDlmNjYyNjIxZmIxYjRiZThmYmJlMjUyMDEyNWEyMTZjZGZjOWRhZTNkZWJjYmE0ODUwYzY5MGQ0NWInLFxuICAgICAgICAnNWVkNDMwZDc4YzI5NmMzNTQzMTE0MzA2ZGQ4NjIyZDdjNjIyZTI3Yzk3MGExZGUzMWNiMzc3YjAxYWY3MzA3ZSdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdmMTZmODA0MjQ0ZTQ2ZTJhMDkyMzJkNGFmZjNiNTk5NzZiOThmYWMxNDMyOGEyZDFhMzI0OTZiNDk5OThmMjQ3JyxcbiAgICAgICAgJ2NlZGFiZDliODIyMDNmN2UxM2QyMDZmY2RmNGUzM2Q5MmE2YzUzYzI2ZTVjY2UyNmQ2NTc5OTYyYzRlMzFkZjYnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnY2FmNzU0MjcyZGM4NDU2M2IwMzUyYjdhMTQzMTFhZjU1ZDI0NTMxNWFjZTI3YzY1MzY5ZTE1ZjcxNTFkNDFkMScsXG4gICAgICAgICdjYjQ3NDY2MGVmMzVmNWYyYTQxYjY0M2ZhNWU0NjA1NzVmNGZhOWI3OTYyMjMyYTVjMzJmOTA4MzE4YTA0NDc2J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzI2MDBjYTRiMjgyY2I5ODZmODVkMGYxNzA5OTc5ZDhiNDRhMDljMDdjYjg2ZDdjMTI0NDk3YmM4NmYwODIxMjAnLFxuICAgICAgICAnNDExOWI4ODc1M2MxNWJkNmE2OTNiMDNmY2RkYmI0NWQ1YWM2YmU3NGFiNWYwZWY0NGIwYmU5NDc1YTdlNGI0MCdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc3NjM1Y2E3MmQ3ZTg0MzJjMzM4ZWM1M2NkMTIyMjBiYzAxYzQ4Njg1ZTI0ZjdkYzhjNjAyYTc3NDY5OThlNDM1JyxcbiAgICAgICAgJzkxYjY0OTYwOTQ4OWQ2MTNkMWQ1ZTU5MGY3OGU2ZDc0ZWNmYzA2MWQ1NzA0OGJhZDllNzZmMzAyYzViOWM2MSdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc3NTRlMzIzOWYzMjU1NzBjZGJiZjRhODdkZWVlOGE2NmI3ZjJiMzM0NzlkNDY4ZmJjMWE1MDc0M2JmNTZjYzE4JyxcbiAgICAgICAgJzY3M2ZiODZlNWJkYTMwZmIzY2QwZWQzMDRlYTQ5YTAyM2VlMzNkMDE5N2E2OTVkMGM1ZDk4MDkzYzUzNjY4MydcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdlM2U2YmQxMDcxYTFlOTZhZmY1Nzg1OWM4MmQ1NzBmMDMzMDgwMDY2MWQxYzk1MmY5ZmUyNjk0NjkxZDliOWU4JyxcbiAgICAgICAgJzU5YzllMGJiYTM5NGU3NmY0MGMwYWE1ODM3OWEzY2I2YTVhMjI4Mzk5M2U5MGM0MTY3MDAyYWY0OTIwZTM3ZjUnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnMTg2YjQ4M2QwNTZhMDMzODI2YWU3M2Q4OGY3MzI5ODVjNGNjYjFmMzJiYTM1ZjRiNGNjNDdmZGNmMDRhYTZlYicsXG4gICAgICAgICczYjk1MmQzMmM2N2NmNzdlMmUxNzQ0NmUyMDQxODBhYjIxZmI4MDkwODk1MTM4YjRhNGE3OTdmODZlODA4ODhiJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2RmOWQ3MGE2Yjk4NzZjZTU0NGM5ODU2MWY0YmU0ZjcyNTQ0MmU2ZDJiNzM3ZDljOTFhODMyMTcyNGNlMDk2M2YnLFxuICAgICAgICAnNTVlYjJkYWZkODRkNmNjZDVmODYyYjc4NWRjMzlkNGFiMTU3MjIyNzIwZWY5ZGEyMTdiOGM0NWNmMmJhMjQxNydcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc1ZWRkNWNjMjNjNTFlODdhNDk3Y2E4MTVkNWRjZTBmOGFiNTI1NTRmODQ5ZWQ4OTk1ZGU2NGM1ZjM0Y2U3MTQzJyxcbiAgICAgICAgJ2VmYWU5YzhkYmMxNDEzMDY2MWU4Y2VjMDMwYzg5YWQwYzEzYzY2YzBkMTdhMjkwNWNkYzcwNmFiNzM5OWE4NjgnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnMjkwNzk4YzJiNjQ3NjgzMGRhMTJmZTAyMjg3ZTllNzc3YWEzZmJhMWMzNTViMTdhNzIyZDM2MmY4NDYxNGZiYScsXG4gICAgICAgICdlMzhkYTc2ZGNkNDQwNjIxOTg4ZDAwYmNmNzlhZjI1ZDViMjljMDk0ZGIyYTIzMTQ2ZDAwM2FmZDQxOTQzZTdhJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2FmM2M0MjNhOTVkOWY1YjMwNTQ3NTRlZmExNTBhYzM5Y2QyOTU1MmZlMzYwMjU3MzYyZGZkZWNlZjQwNTNiNDUnLFxuICAgICAgICAnZjk4YTNmZDgzMWViMmI3NDlhOTNiMGU2ZjM1Y2ZiNDBjOGNkNWFhNjY3YTE1NTgxYmMyZmVkZWQ0OThmZDljNidcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc3NjZkYmIyNGQxMzRlNzQ1Y2NjYWEyOGM5OWJmMjc0OTA2YmI2NmIyNmRjZjk4ZGY4ZDJmZWQ1MGQ4ODQyNDlhJyxcbiAgICAgICAgJzc0NGIxMTUyZWFjYmU1ZTM4ZGNjODg3OTgwZGEzOGI4OTc1ODRhNjVmYTA2Y2VkZDJjOTI0Zjk3Y2JhYzU5OTYnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnNTlkYmY0NmY4Yzk0NzU5YmEyMTI3N2MzMzc4NGY0MTY0NWY3YjQ0ZjZjNTk2YTU4Y2U5MmU2NjYxOTFhYmUzZScsXG4gICAgICAgICdjNTM0YWQ0NDE3NWZiYzMwMGY0ZWE2Y2U2NDgzMDlhMDQyY2U3MzlhNzkxOTc5OGNkODVlMjE2YzRhMzA3ZjZlJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2YxM2FkYTk1MTAzYzQ1MzczMDVlNjkxZTc0ZTlhNGE4ZGQ2NDdlNzExYTk1ZTczY2I2MmRjNjAxOGNmZDg3YjgnLFxuICAgICAgICAnZTEzODE3YjQ0ZWUxNGRlNjYzYmY0YmM4MDgzNDFmMzI2OTQ5ZTIxYTZhNzVjMjU3MDc3ODQxOWJkYWY1NzMzZCdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc3NzU0YjRmYTBlOGFjZWQwNmQ0MTY3YTJjNTljY2E0Y2RhMTg2OWMwNmViYWRmYjY0ODg1NTAwMTVhODg1MjJjJyxcbiAgICAgICAgJzMwZTkzZTg2NGU2NjlkODIyMjRiOTY3YzMwMjBiOGZhOGQxZTRlMzUwYjZjYmNjNTM3YTQ4YjU3ODQxMTYzYTInXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnOTQ4ZGNhZGY1OTkwZTA0OGFhMzg3NGQ0NmFiZWY5ZDcwMTg1OGY5NWRlODA0MWQyYTY4MjhjOTllMjI2MjUxOScsXG4gICAgICAgICdlNDkxYTQyNTM3ZjZlNTk3ZDVkMjhhMzIyNGIxYmMyNWRmOTE1NGVmYmQyZWYxZDJjYmJhMmNhZTUzNDdkNTdlJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzc5NjI0MTQ0NTBjNzZjMTY4OWM3YjQ4ZjgyMDJlYzM3ZmIyMjRjZjVhYzBiZmExNTcwMzI4YThhM2Q3Yzc3YWInLFxuICAgICAgICAnMTAwYjYxMGVjNGZmYjQ3NjBkNWMxZmMxMzNlZjZmNmIxMjUwN2EwNTFmMDRhYzU3NjBhZmE1YjI5ZGI4MzQzNydcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICczNTE0MDg3ODM0OTY0YjU0YjE1YjE2MDY0NGQ5MTU0ODVhMTY5NzcyMjViODg0N2JiMGRkMDg1MTM3ZWM0N2NhJyxcbiAgICAgICAgJ2VmMGFmYmIyMDU2MjA1NDQ4ZTE2NTJjNDhlODEyN2ZjNjAzOWU3N2MxNWMyMzc4YjdlN2QxNWEwZGUyOTMzMTEnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnZDNjYzMwYWQ2YjQ4M2U0YmM3OWNlMmM5ZGQ4YmM1NDk5M2U5NDdlYjhkZjc4N2I0NDI5NDNkM2Y3YjUyN2VhZicsXG4gICAgICAgICc4YjM3OGEyMmQ4MjcyNzhkODljNWU5YmU4Zjk1MDhhZTNjMmFkNDYyOTAzNTg2MzBhZmIzNGRiMDRlZWRlMGE0J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzE2MjRkODQ3ODA3MzI4NjBjZTFjNzhmY2JmZWZlMDhiMmIyOTgyM2RiOTEzZjY0OTM5NzViYTBmZjQ4NDc2MTAnLFxuICAgICAgICAnNjg2NTFjZjliNmRhOTAzZTA5MTQ0NDhjNmNkOWQ0Y2E4OTY4NzhmNTI4MmJlNGM4Y2MwNmUyYTQwNDA3ODU3NSdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc3MzNjZTgwZGE5NTVhOGEyNjkwMmM5NTYzM2U2MmE5ODUxOTI0NzRiNWFmMjA3ZGE2ZGY3YjRmZDVmYzYxY2Q0JyxcbiAgICAgICAgJ2Y1NDM1YTJiZDJiYWRmN2Q0ODVhNGQ4YjhkYjlmY2NlM2UxZWY4ZTAyMDFlNDU3OGM1NDY3M2JjMWRjNWVhMWQnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnMTVkOTQ0MTI1NDk0NTA2NGNmMWExYzMzYmJkM2I0OWY4OTY2YzUwOTIxNzFlNjk5ZWYyNThkZmFiODFjMDQ1YycsXG4gICAgICAgICdkNTZlYjMwYjY5NDYzZTcyMzRmNTEzN2I3M2I4NDE3NzQzNDgwMGJhY2ViZmM2ODVmYzM3YmJlOWVmZTQwNzBkJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2ExZDBmY2YyZWM5ZGU2NzViNjEyMTM2ZTVjZTcwZDI3MWMyMTQxN2M5ZDJiOGFhYWFjMTM4NTk5ZDA3MTc5NDAnLFxuICAgICAgICAnZWRkNzdmNTBiY2I1YTNjYWIyZTkwNzM3MzA5NjY3ZjI2NDE0NjJhNTQwNzBmM2Q1MTkyMTJkMzljMTk3YTYyOSdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdlMjJmYmUxNWMwYWY4Y2NjNTc4MGMwNzM1Zjg0ZGJlOWE3OTBiYWRlZTgyNDVjMDZjN2NhMzczMzFjYjM2OTgwJyxcbiAgICAgICAgJ2E4NTViYWJhZDVjZDYwYzg4YjQzMGE2OWY1M2ExYTdhMzgyODkxNTQ5NjQ3OTliZTQzZDA2ZDc3ZDMxZGEwNidcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICczMTEwOTFkZDk4NjBlOGUyMGVlMTM0NzNjMTE1NWY1ZjY5NjM1ZTM5NDcwNGVhYTc0MDA5NDUyMjQ2Y2ZhOWIzJyxcbiAgICAgICAgJzY2ZGI2NTZmODdkMWYwNGZmZmQxZjA0Nzg4YzA2ODMwODcxZWM1YTY0ZmVlZTY4NWJkODBmMGIxMjg2ZDgzNzQnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnMzRjMWZkMDRkMzAxYmU4OWIzMWMwNDQyZDNlNmFjMjQ4ODM5MjhiNDVhOTM0MDc4MTg2N2Q0MjMyZWMyZGJkZicsXG4gICAgICAgICc5NDE0Njg1ZTk3YjFiNTk1NGJkNDZmNzMwMTc0MTM2ZDU3ZjFjZWViNDg3NDQzZGM1MzIxODU3YmE3M2FiZWUnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnZjIxOWVhNWQ2YjU0NzAxYzFjMTRkZTViNTU3ZWI0MmE4ZDEzZjNhYmJjZDA4YWZmY2MyYTVlNmIwNDliOGQ2MycsXG4gICAgICAgICc0Y2I5NTk1N2U4M2Q0MGIwZjczYWY0NTQ0Y2NjZjZiMWY0YjA4ZDNjMDdiMjdmYjhkOGMyOTYyYTQwMDc2NmQxJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2Q3Yjg3NDBmNzRhOGZiYWFiMWY2ODNkYjhmNDVkZTI2NTQzYTU0OTBiY2E2MjcwODcyMzY5MTI0NjlhMGI0NDgnLFxuICAgICAgICAnZmE3Nzk2ODEyOGQ5YzkyZWUxMDEwZjMzN2FkNDcxN2VmZjE1ZGI1ZWQzYzA0OWIzNDExZTAzMTVlYWE0NTkzYidcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICczMmQzMWMyMjJmOGY2ZjBlZjg2ZjdjOThkM2EzMzM1ZWFkNWJjZDMyYWJkZDk0Mjg5ZmU0ZDMwOTFhYTgyNGJmJyxcbiAgICAgICAgJzVmMzAzMmY1ODkyMTU2ZTM5Y2NkM2Q3OTE1YjllMWRhMmU2ZGFjOWU2ZjI2ZTk2MTExOGQxNGI4NDYyZTE2NjEnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnNzQ2MWYzNzE5MTRhYjMyNjcxMDQ1YTE1NWQ5ODMxZWE4NzkzZDc3Y2Q1OTU5MmM0MzQwZjg2Y2JjMTgzNDdiNScsXG4gICAgICAgICc4ZWMwYmEyMzhiOTZiZWMwY2JkZGRjYWUwYWE0NDI1NDJlZWUxZmY1MGM5ODZlYTZiMzk4NDdiM2NjMDkyZmY2J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2VlMDc5YWRiMWRmMTg2MDA3NDM1NmEyNWFhMzgyMDZhNmQ3MTZiMmMzZTY3NDUzZDI4NzY5OGJhZDdiMmIyZDYnLFxuICAgICAgICAnOGRjMjQxMmFhZmUzYmU1YzRjNWYzN2UwZWNjNWY5ZjZhNDQ2OTg5YWYwNGM0ZTI1ZWJhYWM0NzllYzFjOGMxZSdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICcxNmVjOTNlNDQ3ZWM4M2YwNDY3YjE4MzAyZWU2MjBmN2U2NWRlMzMxODc0YzlkYzcyYmZkODYxNmJhOWRhNmI1JyxcbiAgICAgICAgJzVlNDYzMTE1MGU2MmZiNDBkMGU4YzJhN2NhNTgwNGEzOWQ1ODE4NmE1MGU0OTcxMzk2MjY3NzhlMjViMDY3NGQnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnZWFhNWY5ODBjMjQ1ZjZmMDM4OTc4MjkwYWZhNzBiNmJkODg1NTg5N2Y5OGI2YWE0ODViOTYwNjVkNTM3YmQ5OScsXG4gICAgICAgICdmNjVmNWQzZTI5MmMyZTA4MTlhNTI4MzkxYzk5NDYyNGQ3ODQ4NjlkN2U2ZWE2N2ZiMTgwNDEwMjRlZGMwN2RjJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzc4Yzk0MDc1NDRhYzEzMjY5MmVlMTkxMGEwMjQzOTk1OGFlMDQ4NzcxNTEzNDJlYTk2YzRiNmIzNWE0OWY1MScsXG4gICAgICAgICdmM2UwMzE5MTY5ZWI5Yjg1ZDU0MDQ3OTU1MzlhNWU2OGZhMWZiZDU4M2MwNjRkMjQ2MmI2NzVmMTk0YTNkZGI0J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzQ5NGY0YmUyMTlhMWE3NzAxNmRjZDgzODQzMWFlYTAwMDFjZGM4YWU3YTZmYzY4ODcyNjU3OGQ5NzAyODU3YTUnLFxuICAgICAgICAnNDIyNDJhOTY5MjgzYTVmMzM5YmE3ZjA3NWUzNmJhMmFmOTI1Y2UzMGQ3NjdlZDZlNTVmNGIwMzE4ODBkNTYyYydcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdhNTk4YTgwMzBkYTZkODZjNmJjN2YyZjUxNDRlYTU0OWQyODIxMWVhNThmYWE3MGViZjRjMWU2NjVjMWZlOWI1JyxcbiAgICAgICAgJzIwNGI1ZDZmODQ4MjJjMzA3ZTRiNGE3MTQwNzM3YWVjMjNmYzYzYjY1YjM1Zjg2YTEwMDI2ZGJkMmQ4NjRlNmInXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnYzQxOTE2MzY1YWJiMmI1ZDA5MTkyZjVmMmRiZWFmZWMyMDhmMDIwZjEyNTcwYTE4NGRiYWRjM2U1ODU5NTk5NycsXG4gICAgICAgICc0ZjE0MzUxZDAwODdlZmE0OWQyNDViMzI4OTg0OTg5ZDVjYWY5NDUwZjM0YmZjMGVkMTZlOTZiNThmYTk5MTMnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnODQxZDYwNjNhNTg2ZmE0NzVhNzI0NjA0ZGEwM2JjNWI5MmEyZTBkMmUwYTM2YWNmZTRjNzNhNTUxNDc0Mjg4MScsXG4gICAgICAgICc3Mzg2N2Y1OWMwNjU5ZTgxOTA0ZjlhMWM3NTQzNjk4ZTYyNTYyZDY3NDRjMTY5Y2U3YTM2ZGUwMWE4ZDYxNTQnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnNWU5NWJiMzk5YTY5NzFkMzc2MDI2OTQ3Zjg5YmRlMmYyODJiMzM4MTA5MjhiZTRkZWQxMTJhYzRkNzBlMjBkNScsXG4gICAgICAgICczOWYyM2YzNjY4MDkwODViZWViZmM3MTE4MTMxMzc3NWE5OWM5YWVkN2Q4YmEzOGIxNjEzODRjNzQ2MDEyODY1J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzM2ZTQ2NDFhNTM5NDhmZDQ3NmMzOWY4YTk5ZmQ5NzRlNWVjMDc1NjRiNTMxNWQ4YmY5OTQ3MWJjYTBlZjJmNjYnLFxuICAgICAgICAnZDI0MjRiMWIxYWJlNGViODE2NDIyN2IwODVjOWFhOTQ1NmVhMTM0OTNmZDU2M2UwNmZkNTFjZjU2OTRjNzhmYydcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICczMzY1ODFlYTdiZmJiYjI5MGMxOTFhMmY1MDdhNDFjZjU2NDM4NDIxNzBlOTE0ZmFlYWIyN2MyYzU3OWY3MjYnLFxuICAgICAgICAnZWFkMTIxNjg1OTVmZTFiZTk5MjUyMTI5YjZlNTZiMzM5MWY3YWIxNDEwY2QxZTBlZjNkY2RjYWJkMmZkYTIyNCdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc4YWI4OTgxNmRhZGZkNmI2YTFmMjYzNGZjZjAwZWM4NDAzNzgxMDI1ZWQ2ODkwYzQ4NDk3NDI3MDZiZDQzZWRlJyxcbiAgICAgICAgJzZmZGNlZjA5ZjJmNmQwYTA0NGU2NTRhZWY2MjQxMzZmNTAzZDQ1OWMzZTg5ODQ1ODU4YTQ3YTkxMjljZGQyNGUnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnMWUzM2YxYTc0NmM5YzU3NzgxMzMzNDRkOTI5OWZjYWEyMGIwOTM4ZThhY2ZmMjU0NGJiNDAyODRiOGM1ZmI5NCcsXG4gICAgICAgICc2MDY2MDI1N2RkMTFiM2FhOWM4ZWQ2MThkMjRlZGZmMjMwNmQzMjBmMWQwMzAxMGUzM2E3ZDIwNTdmM2IzYjYnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnODViN2MxZGNiM2NlYzFiN2VlN2YzMGRlZDc5ZGQyMGEwZWQxZjRjYzE4Y2JjZmNmYTQxMDM2MWZkOGYwOGYzMScsXG4gICAgICAgICczZDk4YTljZGQwMjZkZDQzZjM5MDQ4ZjI1YTg4NDdmNGZjYWZhZDE4OTVkN2E2MzNjNmZlZDNjMzVlOTk5NTExJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzI5ZGY5ZmJkOGQ5ZTQ2NTA5Mjc1ZjRiMTI1ZDZkNDVkN2ZiZTlhM2I4NzhhN2FmODcyYTI4MDA2NjFhYzVmNTEnLFxuICAgICAgICAnYjRjNGZlOTljNzc1YTYwNmUyZDg4NjIxNzkxMzlmZmRhNjFkYzg2MWMwMTllNTVjZDI4NzZlYjJhMjdkODRiJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2EwYjFjYWUwNmIwYTg0N2EzZmVhNmU2NzFhYWY4YWRmZGZlNThjYTJmNzY4MTA1YzgwODJiMmU0NDlmY2UyNTInLFxuICAgICAgICAnYWU0MzQxMDJlZGRlMDk1OGVjNGIxOWQ5MTdhNmEyOGU2YjcyZGExODM0YWZmMGU2NTBmMDQ5NTAzYTI5NmNmMidcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc0ZThjZWFmYjliM2U5YTEzNmRjN2ZmNjdlODQwMjk1YjQ5OWRmYjNiMjEzM2U0YmExMTNmMmU0YzBlMTIxZTUnLFxuICAgICAgICAnY2YyMTc0MTE4YzhiNmQ3YTRiNDhmNmQ1MzRjZTVjNzk0MjJjMDg2YTYzNDYwNTAyYjgyN2NlNjJhMzI2NjgzYydcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdkMjRhNDRlMDQ3ZTE5YjZmNWFmYjgxYzdjYTJmNjkwODBhNTA3NjY4OWEwMTA5MTlmNDI3MjVjMmI3ODlhMzNiJyxcbiAgICAgICAgJzZmYjhkNTU5MWI0NjZmOGZjNjNkYjUwZjFjMGYxYzY5MDEzZjk5Njg4N2I4MjQ0ZDJjZGVjNDE3YWZlYThmYTMnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnZWEwMTYwNmE3YTZjOWNkZDI0OWZkZmNmYWNiOTk1ODQwMDFlZGQyOGFiYmFiNzdiNTEwNGU5OGU4ZTNiMzVkNCcsXG4gICAgICAgICczMjJhZjQ5MDhjNzMxMmIwY2ZiZmUzNjlmN2E3YjNjZGI3ZDQ0OTRiYzI4MjM3MDBjZmQ2NTIxODhhM2VhOThkJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2FmOGFkZGJmMmI2NjFjOGE2YzYzMjg2NTVlYjk2NjUxMjUyMDA3ZDhjNWVhMzFiZTRhZDE5NmRlOGNlMjEzMWYnLFxuICAgICAgICAnNjc0OWU2N2MwMjliODVmNTJhMDM0ZWFmZDA5NjgzNmIyNTIwODE4NjgwZTI2YWM4ZjNkZmJjZGI3MTc0OTcwMCdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdlM2FlMTk3NDU2NmNhMDZjYzUxNmQ0N2UwZmIxNjVhNjc0YTNkYWJjZmNhMTVlNzIyZjBlMzQ1MGY0NTg4OScsXG4gICAgICAgICcyYWVhYmU3ZTQ1MzE1MTAxMTYyMTdmMDdiZjRkMDczMDBkZTk3ZTQ4NzRmODFmNTMzNDIwYTcyZWViMGJkNmE0J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzU5MWVlMzU1MzEzZDk5NzIxY2Y2OTkzZmZlZDFlM2UzMDE5OTNmZjNlZDI1ODgwMjA3NWVhOGNlZDM5N2UyNDYnLFxuICAgICAgICAnYjBlYTU1OGExMTNjMzBiZWE2MGZjNDc3NTQ2MGM3OTAxZmYwYjA1M2QyNWNhMmJkZWVlOThmMWE0YmU1ZDE5NidcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICcxMTM5NmQ1NWZkYTU0YzQ5ZjE5YWE5NzMxOGQ4ZGE2MWZhODU4NGU0N2IwODQ5NDUwNzdjZjAzMjU1YjUyOTg0JyxcbiAgICAgICAgJzk5OGM3NGE4Y2Q0NWFjMDEyODlkNTgzM2E3YmViNDc0NGZmNTM2YjAxYjI1N2JlNGM1NzY3YmVhOTNlYTU3YTQnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnM2M1ZDJhMWJhMzljNWExNzkwMDAwNzM4YzllMGM0MGI4ZGNkZmQ1NDY4NzU0YjY0MDU1NDAxNTdlMDE3YWE3YScsXG4gICAgICAgICdiMjI4NDI3OTk5NWEzNGUyZjlkNGRlNzM5NmZjMThiODBmOWI4YjlmZGQyNzBmNjY2MWY3OWNhNGM4MWJkMjU3J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2NjODcwNGI4YTYwYTBkZWZhM2E5OWE3Mjk5ZjJlOWMzZmJjMzk1YWZiMDRhYzA3ODQyNWVmOGExNzkzY2MwMzAnLFxuICAgICAgICAnYmRkNDYwMzlmZWVkMTc4ODFkMWUwODYyZGIzNDdmOGNmMzk1Yjc0ZmM0YmNkYzRlOTQwYjc0ZTNhYzFmMWIxMydcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdjNTMzZTRmN2VhODU1NWFhY2Q5Nzc3YWM1Y2FkMjliOTdkZDRkZWZjY2M1M2VlN2VhMjA0MTE5YjI4ODliMTk3JyxcbiAgICAgICAgJzZmMGEyNTZiYzVlZmRmNDI5YTJmYjYyNDJmMWE0M2EyZDliOTI1YmI0YTRiM2EyNmJiOGUwZjQ1ZWI1OTYwOTYnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnYzE0ZjhmMmNjYjI3ZDZmMTA5ZjZkMDhkMDNjYzk2YTY5YmE4YzM0ZWVjMDdiYmNmNTY2ZDQ4ZTMzZGE2NTkzJyxcbiAgICAgICAgJ2MzNTlkNjkyM2JiMzk4ZjdmZDQ0NzNlMTZmZTFjMjg0NzViNzQwZGQwOTgwNzVlNmMwZTg2NDkxMTNkYzNhMzgnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnYTZjYmMzMDQ2YmM2YTQ1MGJhYzI0Nzg5ZmExNzExNWE0Yzk3MzllZDc1ZjhmMjFjZTQ0MWY3MmUwYjkwZTZlZicsXG4gICAgICAgICcyMWFlN2Y0NjgwZTg4OWJiMTMwNjE5ZTJjMGY5NWEzNjBjZWI1NzNjNzA2MDMxMzk4NjJhZmQ2MTdmYTliOWYnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnMzQ3ZDZkOWEwMmM0ODkyN2ViZmI4NmMxMzU5YjFjYWYxMzBhM2MwMjY3ZDExY2U2MzQ0YjM5Zjk5ZDQzY2MzOCcsXG4gICAgICAgICc2MGVhN2Y2MWEzNTM1MjRkMWM5ODdmNmVjZWM5MmYwODZkNTY1YWI2ODc4NzBjYjEyNjg5ZmYxZTMxYzc0NDQ4J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2RhNjU0NWQyMTgxZGI4ZDk4M2Y3ZGNiMzc1ZWY1ODY2ZDQ3YzY3YjFiZjMxYzhjZjg1NWVmNzQzN2I3MjY1NmEnLFxuICAgICAgICAnNDliOTY3MTVhYjY4NzhhNzllNzhmMDdjZTU2ODBjNWQ2NjczMDUxYjQ5MzViZDg5N2ZlYTgyNGI3N2RjMjA4YSdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdjNDA3NDdjYzlkMDEyY2IxYTEzYjgxNDgzMDljNmRlN2VjMjVkNjk0NWQ2NTcxNDZiOWQ1OTk0YjhmZWIxMTExJyxcbiAgICAgICAgJzVjYTU2MDc1M2JlMmExMmZjNmRlNmNhZjJjYjQ4OTU2NWRiOTM2MTU2Yjk1MTRlMWJiNWU4MzAzN2UwZmEyZDQnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnNGU0MmM4ZWM4MmM5OTc5OGNjZjNhNjEwYmU4NzBlNzgzMzhjN2Y3MTMzNDhiZDM0YzgyMDNlZjQwMzdmMzUwMicsXG4gICAgICAgICc3NTcxZDc0ZWU1ZTBmYjkyYTdhOGIzM2EwNzc4MzM0MWE1NDkyMTQ0Y2M1NGJjYzQwYTk0NDczNjkzNjA2NDM3J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzM3NzVhYjcwODliYzZhZjgyM2FiYTJlMWFmNzBiMjM2ZDI1MWNhZGIwYzg2NzQzMjg3NTIyYTFiM2IwZGVkZWEnLFxuICAgICAgICAnYmU1MmQxMDdiY2ZhMDlkOGJjYjk3MzZhODI4Y2ZhN2ZhYzhkYjE3YmY3YTc2YTJjNDJhZDk2MTQwOTAxOGNmNydcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdjZWUzMWNiZjdlMzRlYzM3OWQ5NGZiODE0ZDNkNzc1YWQ5NTQ1OTVkMTMxNGJhODg0Njk1OWUzZTgyZjc0ZTI2JyxcbiAgICAgICAgJzhmZDY0YTE0YzA2YjU4OWMyNmI5NDdhZTJiY2Y2YmZhMDE0OWVmMGJlMTRlZDRkODBmNDQ4YTAxYzQzYjFjNmQnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnYjRmOWVhZWEwOWI2OTE3NjE5ZjZlYTZhNGViNTQ2NGVmZGRiNThmZDQ1YjFlYmVmY2RjMWEwMWQwOGI0Nzk4NicsXG4gICAgICAgICczOWU1Yzk5MjViNWE1NGIwNzQzM2E0ZjE4YzYxNzI2ZjhiYjEzMWMwMTJjYTU0MmViMjRhOGFjMDcyMDA2ODJhJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2Q0MjYzZGZjM2QyZGY5MjNhMDE3OWE0ODk2NmQzMGNlODRlMjUxNWFmYzNkY2NjMWI3NzkwNzc5MmViY2M2MGUnLFxuICAgICAgICAnNjJkZmFmMDdhMGY3OGZlYjMwZTMwZDYyOTU4NTNjZTE4OWUxMjc3NjBhZDZjZjdmYWUxNjRlMTIyYTIwOGQ1NCdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc0ODQ1NzUyNDgyMGZhNjVhNGY4ZDM1ZWI2OTMwODU3YzAwMzJhY2MwYTRhMmRlNDIyMjMzZWVkYTg5NzYxMmM0JyxcbiAgICAgICAgJzI1YTc0OGFiMzY3OTc5ZDk4NzMzYzM4YTFmYTFjMmU3ZGM2Y2MwN2RiMmQ2MGE5YWU3YTc2YWFhNDliZDBmNzcnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnZGZlZWVmMTg4MTEwMWYyY2IxMTY0NGYzYTJhZmRmYzIwNDVlMTk5MTkxNTI5MjNmMzY3YTE3NjdjMTFjY2VkYScsXG4gICAgICAgICdlY2ZiNzA1NmNmMWRlMDQyZjk0MjBiYWIzOTY3OTNjMGMzOTBiZGU3NGI0YmJkZmYxNmE4M2FlMDlhOWE3NTE3J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzZkN2VmNmIxNzU0M2Y4MzczYzU3M2Y0NGUxZjM4OTgzNWQ4OWJjYmM2MDYyY2VkMzZjODJkZjgzYjhmYWU4NTknLFxuICAgICAgICAnY2Q0NTBlYzMzNTQzODk4NmRmZWZhMTBjNTdmZWE5YmNjNTIxYTA5NTliMmQ4MGJiZjc0YjE5MGRjYTcxMmQxMCdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdlNzU2MDVkNTkxMDJhNWEyNjg0NTAwZDNiOTkxZjJlM2YzYzg4YjkzMjI1NTQ3MDM1YWYyNWFmNjZlMDQ1NDFmJyxcbiAgICAgICAgJ2Y1YzU0NzU0YThmNzFlZTU0MGI5YjQ4NzI4NDczZTMxNGY3MjlhYzUzMDhiMDY5MzgzNjA5OTBlMmJmYWQxMjUnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnZWI5ODY2MGY0YzRkZmFhMDZhMmJlNDUzZDUwMjBiYzk5YTBjMmU2MGFiZTM4ODQ1N2RkNDNmZWZiMWVkNjIwYycsXG4gICAgICAgICc2Y2I5YTg4NzZkOWNiODUyMDYwOWFmM2FkZDI2Y2QyMGEwYTdjZDhhOTQxMTEzMWNlODVmNDQxMDAwOTkyMjNlJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzEzZTg3YjAyN2Q4NTE0ZDM1OTM5ZjJlNjg5MmIxOTkyMjE1NDU5Njk0MTg4ODMzNmRjMzU2M2UzYjhkYmE5NDInLFxuICAgICAgICAnZmVmNWEzYzY4MDU5YTZkZWM1ZDYyNDExNGJmMWU5MWFhYzJiOWRhNTY4ZDZhYmViMjU3MGQ1NTY0NmI4YWRmMSdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdlZTE2MzAyNmU5ZmQ2ZmUwMTdjMzhmMDZhNWJlNmZjMTI1NDI0YjM3MWNlMjcwOGU3YmY0NDkxNjkxZTU3NjRhJyxcbiAgICAgICAgJzFhY2IyNTBmMjU1ZGQ2MWM0M2Q5NGNjYzY3MGQwZjU4ZjQ5YWUzZmExNWI5NjYyM2U1NDMwZGEwYWQ2YzYyYjInXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnYjI2OGY1ZWY5YWQ1MWU0ZDc4ZGUzYTc1MGMyZGM4OWIxZTYyNmQ0MzUwNTg2Nzk5OTkzMmU1ZGIzM2FmM2Q4MCcsXG4gICAgICAgICc1ZjMxMGQ0YjNjOTliOWViYjE5Zjc3ZDQxYzFkZWUwMThjZjBkMzRmZDQxOTE2MTQwMDNlOTQ1YTEyMTZlNDIzJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2ZmMDdmMzExOGE5ZGYwMzVlOWZhZDg1ZWI2YzdiZmU0MmIwMmYwMWNhOTljZWVhM2JmN2ZmZGJhOTNjNDc1MGQnLFxuICAgICAgICAnNDM4MTM2ZDYwM2U4NThhM2E1YzQ0MGMzOGVjY2JhZGRjMWQyOTQyMTE0ZTJlZGRkNDc0MGQwOThjZWQxZjBkOCdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc4ZDhiOTg1NWM3YzA1MmEzNDE0NmZkMjBmZmI2NThiZWE0YjlmNjllMGQ4MjVlYmVjMTZlOGMzY2UyYjUyNmExJyxcbiAgICAgICAgJ2NkYjU1OWVlZGMyZDc5ZjkyNmJhZjQ0ZmI4NGVhNGQ0NGJjZjUwZmVlNTFkN2NlYjMwZTJlN2Y0NjMwMzY3NTgnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnNTJkYjBiNTM4NGRmYmYwNWJmYTlkNDcyZDdhZTI2ZGZlNGI4NTFjZWNhOTFiMWViYTU0MjYzMTgwZGEzMmI2MycsXG4gICAgICAgICdjM2I5OTdkMDUwZWU1ZDQyM2ViYWY2NmE2ZGI5ZjU3YjMxODBjOTAyODc1Njc5ZGU5MjRiNjlkODRhN2IzNzUnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnZTYyZjk0OTBkM2Q1MWRhNjM5NWVmZDI0ZTgwOTE5Y2M3ZDBmMjljM2YzZmE0OGM2ZmZmNTQzYmVjYmQ0MzM1MicsXG4gICAgICAgICc2ZDg5YWQ3YmE0ODc2YjBiMjJjMmNhMjgwYzY4Mjg2MmYzNDJjODU5MWYxZGFmNTE3MGUwN2JmZDljY2FmYTdkJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzdmMzBlYTI0NzZiMzk5YjQ5NTc1MDljODhmNzdkMDE5MWFmYTJmZjVjYjdiMTRmZDZkOGU3ZDY1YWFhYjExOTMnLFxuICAgICAgICAnY2E1ZWY3ZDRiMjMxYzk0YzNiMTUzODlhNWY2MzExZTlkYWZmN2JiNjdiMTAzZTk4ODBlZjRiZmY2MzdhY2FlYydcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc1MDk4ZmYxZTFkOWYxNGZiNDZhMjEwZmFkYTZjOTAzZmVmMGZiN2I0YTFkZDFkOWFjNjBhMDM2MTgwMGI3YTAwJyxcbiAgICAgICAgJzk3MzExNDFkODFmYzhmODA4NGQzN2M2ZTc1NDIwMDZiM2VlMWI0MGQ2MGRmZTUzNjJhNWIxMzJmZDE3ZGRjMCdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICczMmI3OGM3ZGU5ZWU1MTJhNzI4OTViZTZiOWNiZWZhNmUyZjNjNGNjY2U0NDVjOTZiOWYyYzgxZTI3NzhhZDU4JyxcbiAgICAgICAgJ2VlMTg0OWY1MTNkZjcxZTMyZWZjMzg5NmVlMjgyNjBjNzNiYjgwNTQ3YWUyMjc1YmE0OTcyMzc3OTRjODc1M2MnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnZTJjYjc0ZmRkYzhlOWZiY2QwNzZlZWYyYTdjNzJiMGNlMzdkNTBmMDgyNjlkZmMwNzRiNTgxNTUwNTQ3YTRmNycsXG4gICAgICAgICdkM2FhMmVkNzFjOWRkMjI0N2E2MmRmMDYyNzM2ZWIwYmFkZGVhOWUzNjEyMmQyYmU4NjQxYWJjYjAwNWNjNGE0J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzg0Mzg0NDc1NjZkNGQ3YmVkYWRjMjk5NDk2YWIzNTc0MjYwMDlhMzVmMjM1Y2IxNDFiZTBkOTljZDEwYWUzYTgnLFxuICAgICAgICAnYzRlMTAyMDkxNjk4MGE0ZGE1ZDAxYWM1ZTZhZDMzMDczNGVmMGQ3OTA2NjMxYzRmMjM5MDQyNmIyZWRkNzkxZidcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc0MTYyZDQ4OGI4OTQwMjAzOWI1ODRjNmZjNmMzMDg4NzA1ODdkOWM0NmY2NjBiODc4YWI2NWM4MmM3MTFkNjdlJyxcbiAgICAgICAgJzY3MTYzZTkwMzIzNjI4OWY3NzZmMjJjMjVmYjhhM2FmYzE3MzJmMmI4NGI0ZTk1ZGJkYTQ3YWU1YTA4NTI2NDknXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnM2ZhZDNmYTg0Y2FmMGYzNGYwZjg5YmZkMmRjZjU0ZmMxNzVkNzY3YWVjM2U1MDY4NGYzYmE0YTRiZjVmNjgzZCcsXG4gICAgICAgICdjZDFiYzdjYjZjYzQwN2JiMmYwY2E2NDdjNzE4YTczMGNmNzE4NzJlN2QwZDJhNTNmYTIwZWZjZGZlNjE4MjYnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnNjc0ZjI2MDBhMzAwN2EwMDU2OGMxYTdjZTA1ZDA4MTZjMWZiODRiZjEzNzA3OThmMWM2OTUzMmZhZWIxYTg2YicsXG4gICAgICAgICcyOTlkMjFmOTQxM2YzM2IzZWRmNDNiMjU3MDA0NTgwYjcwZGI1N2RhMGIxODIyNTllMDllZWNjNjllMGQzOGE1J1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2QzMmY0ZGE1NGFkZTc0YWJiODFiODE1YWQxZmIzYjI2M2Q4MmQ2YzY5MjcxNGJjZmY4N2QyOWJkNWVlOWYwOGYnLFxuICAgICAgICAnZjk0MjllNzM4YjhlNTNiOTY4ZTk5MDE2YzA1OTcwNzc4MmUxNGY0NTM1MzU5ZDU4MmZjNDE2OTEwYjNlZWE4NydcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICczMGU0ZTY3MDQzNTM4NTU1NmU1OTM2NTcxMzU4NDVkMzZmYmI2OTMxZjcyYjA4Y2IxZWQ5NTRmMWUzY2UzZmY2JyxcbiAgICAgICAgJzQ2MmY5YmNlNjE5ODk4NjM4NDk5MzUwMTEzYmJjOWIxMGE4NzhkMzVkYTcwNzQwZGM2OTVhNTU5ZWI4OGRiN2InXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnYmUyMDYyMDAzYzUxY2MzMDA0NjgyOTA0MzMwZTRkZWU3ZjNkY2QxMGIwMWU1ODBiZjE5NzFiMDRkNGNhZDI5NycsXG4gICAgICAgICc2MjE4OGJjNDlkNjFlNTQyODU3M2Q0OGE3NGUxYzY1NWIxYzYxMDkwOTA1NjgyYTBkNTU1OGVkNzJkY2NiOWJjJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzkzMTQ0NDIzYWNlMzQ1MWVkMjllMGZiOWFjMmFmMjExY2I2ZTg0YTYwMWRmNTk5M2M0MTk4NTlmZmY1ZGYwNGEnLFxuICAgICAgICAnN2MxMGRmYjE2NGMzNDI1ZjVjNzFhM2Y5ZDc5OTIwMzhmMTA2NTIyNGY3MmJiOWQxZDkwMmE2ZDEzMDM3YjQ3YydcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICdiMDE1ZjgwNDRmNWZjYmRjZjIxY2EyNmQ2YzM0ZmI4MTk3ODI5MjA1YzdiN2QyYTdjYjY2NDE4YzE1N2IxMTJjJyxcbiAgICAgICAgJ2FiOGMxZTA4NmQwNGU4MTM3NDRhNjU1YjJkZjhkNWY4M2IzY2RjNmZhYTMwODhjMWQzYWVhMTQ1NGUzYTFkNWYnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnZDVlOWUxZGE2NDlkOTdkODllNDg2ODExN2E0NjVhM2E0ZjhhMThkZTU3YTE0MGQzNmIzZjJhZjM0MWEyMWI1MicsXG4gICAgICAgICc0Y2IwNDQzN2YzOTFlZDczMTExYTEzY2MxZDRkZDBkYjE2OTM0NjVjMjI0MDQ4MGQ4OTU1ZTg1OTJmMjc0NDdhJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJ2QzYWU0MTA0N2RkN2NhMDY1ZGJmOGVkNzdiOTkyNDM5OTgzMDA1Y2Q3MmUxNmQ2Zjk5NmE1MzE2ZDM2OTY2YmInLFxuICAgICAgICAnYmQxYWViMjFhZDIyZWJiMjJhMTBmMDMwMzQxN2M2ZDk2NGY4Y2RkN2RmMGFjYTYxNGIxMGRjMTRkMTI1YWM0NidcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc0NjNlMjc2M2Q4ODVmOTU4ZmM2NmNkZDIyODAwZjBhNDg3MTk3ZDBhODJlMzc3YjQ5ZjgwYWY4N2M4OTdiMDY1JyxcbiAgICAgICAgJ2JmZWZhY2RiMGU1ZDBmZDdkZjNhMzExYTk0ZGUwNjJiMjZiODBjNjFmYmM5NzUwOGI3OTk5MjY3MWVmN2NhN2YnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnNzk4NWZkZmQxMjdjMDU2N2M2ZjUzZWMxYmI2M2VjMzE1OGU1OTdjNDBiZmU3NDdjODNjZGRmYzkxMDY0MTkxNycsXG4gICAgICAgICc2MDNjMTJkYWYzZDk4NjJlZjJiMjVmZTFkZTI4OWFlZDI0ZWQyOTFlMGVjNjcwODcwM2E1YmQ1NjdmMzJlZDAzJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzc0YTFhZDZiNWY3NmUzOWRiMmRkMjQ5NDEwZWFjN2Y5OWU3NGM1OWNiODNkMmQwZWQ1ZmYxNTQzZGE3NzAzZTknLFxuICAgICAgICAnY2M2MTU3ZWYxOGM5YzYzY2Q2MTkzZDgzNjMxYmJlYTAwOTNlMDk2ODk0MmU4YzMzZDU3MzdmZDc5MGUwZGIwOCdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICczMDY4MmE1MDcwMzM3NWY2MDJkNDE2NjY0YmExOWI3ZmM5YmFiNDJjNzI3NDc0NjNhNzFkMDg5NmIyMmY2ZGEzJyxcbiAgICAgICAgJzU1M2UwNGY2YjAxOGI0ZmE2YzhmMzllN2YzMTFkMzE3NjI5MGQwZTBmMTljYTczZjE3NzE0ZDk5NzdhMjJmZjgnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnOWUyMTU4ZjBkN2MwZDVmMjZjMzc5MWVmZWZhNzk1OTc2NTRlN2EyYjI0NjRmNTJiMWVlNmMxMzQ3NzY5ZWY1NycsXG4gICAgICAgICc3MTJmY2RkMWI5MDUzZjA5MDAzYTM0ODFmYTc3NjJlOWZmZDdjOGVmMzVhMzg1MDllMmZiZjI2MjkwMDgzNzMnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnMTc2ZTI2OTg5YTQzYzljZmViYTQwMjljMjAyNTM4YzI4MTcyZTU2NmUzYzRmY2U3MzIyODU3ZjNiZTMyN2Q2NicsXG4gICAgICAgICdlZDhjYzlkMDRiMjllYjg3N2QyNzBiNDg3OGRjNDNjMTlhZWZkMzFmNGVlZTA5ZWU3YjQ3ODM0YzFmYTRiMWMzJ1xuICAgICAgXSxcbiAgICAgIFtcbiAgICAgICAgJzc1ZDQ2ZWZlYTM3NzFlNmU2OGFiYjg5YTEzYWQ3NDdlY2YxODkyMzkzZGZjNGYxYjcwMDQ3ODhjNTAzNzRkYTgnLFxuICAgICAgICAnOTg1MjM5MGE5OTUwNzY3OWZkMGI4NmZkMmIzOWE4NjhkN2VmYzIyMTUxMzQ2ZTFhM2NhNDcyNjU4NmE2YmVkOCdcbiAgICAgIF0sXG4gICAgICBbXG4gICAgICAgICc4MDlhMjBjNjdkNjQ5MDBmZmI2OThjNGM4MjVmNmQ1ZjIzMTBmYjA0NTFjODY5MzQ1YjczMTlmNjQ1NjA1NzIxJyxcbiAgICAgICAgJzllOTk0OTgwZDk5MTdlMjJiNzZiMDYxOTI3ZmEwNDE0M2QwOTZjY2M1NDk2M2U2YTVlYmZhNWYzZjhlMjg2YzEnXG4gICAgICBdLFxuICAgICAgW1xuICAgICAgICAnMWIzODkwM2E0M2Y3ZjExNGVkNDUwMGI0ZWFjNzA4M2ZkZWZlY2UxY2YyOWM2MzUyOGQ1NjM0NDZmOTcyYzE4MCcsXG4gICAgICAgICc0MDM2ZWRjOTMxYTYwYWU4ODkzNTNmNzdmZDUzZGU0YTI3MDhiMjZiNmY1ZGE3MmFkMzM5NDExOWRhZjQwOGY5J1xuICAgICAgXVxuICAgIF1cbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGN1cnZlID0gZXhwb3J0cztcblxuY3VydmUuYmFzZSA9IHJlcXVpcmUoJy4vYmFzZScpO1xuY3VydmUuc2hvcnQgPSByZXF1aXJlKCcuL3Nob3J0Jyk7XG5jdXJ2ZS5tb250ID0gcmVxdWlyZSgnLi9tb250Jyk7XG5jdXJ2ZS5lZHdhcmRzID0gcmVxdWlyZSgnLi9lZHdhcmRzJyk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBjdXJ2ZSA9IHJlcXVpcmUoJy4uL2N1cnZlJyk7XG52YXIgZWxsaXB0aWMgPSByZXF1aXJlKCcuLi8uLi9lbGxpcHRpYycpO1xudmFyIGJuID0gcmVxdWlyZSgnYm4uanMnKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgQmFzZSA9IGN1cnZlLmJhc2U7XG5cbnZhciBhc3NlcnQgPSBlbGxpcHRpYy51dGlscy5hc3NlcnQ7XG5cbmZ1bmN0aW9uIFNob3J0Q3VydmUoY29uZikge1xuICBCYXNlLmNhbGwodGhpcywgJ3Nob3J0JywgY29uZik7XG5cbiAgdGhpcy5hID0gbmV3IGJuKGNvbmYuYSwgMTYpLnRvUmVkKHRoaXMucmVkKTtcbiAgdGhpcy5iID0gbmV3IGJuKGNvbmYuYiwgMTYpLnRvUmVkKHRoaXMucmVkKTtcbiAgdGhpcy50aW52ID0gdGhpcy50d28ucmVkSW52bSgpO1xuXG4gIHRoaXMuemVyb0EgPSB0aGlzLmEuZnJvbVJlZCgpLmNtcG4oMCkgPT09IDA7XG4gIHRoaXMudGhyZWVBID0gdGhpcy5hLmZyb21SZWQoKS5zdWIodGhpcy5wKS5jbXBuKC0zKSA9PT0gMDtcblxuICAvLyBJZiB0aGUgY3VydmUgaXMgZW5kb21vcnBoaWMsIHByZWNhbGN1bGF0ZSBiZXRhIGFuZCBsYW1iZGFcbiAgdGhpcy5lbmRvID0gdGhpcy5fZ2V0RW5kb21vcnBoaXNtKGNvbmYpO1xuICB0aGlzLl9lbmRvV25hZlQxID0gbmV3IEFycmF5KDQpO1xuICB0aGlzLl9lbmRvV25hZlQyID0gbmV3IEFycmF5KDQpO1xufVxuaW5oZXJpdHMoU2hvcnRDdXJ2ZSwgQmFzZSk7XG5tb2R1bGUuZXhwb3J0cyA9IFNob3J0Q3VydmU7XG5cblNob3J0Q3VydmUucHJvdG90eXBlLl9nZXRFbmRvbW9ycGhpc20gPSBmdW5jdGlvbiBfZ2V0RW5kb21vcnBoaXNtKGNvbmYpIHtcbiAgLy8gTm8gZWZmaWNpZW50IGVuZG9tb3JwaGlzbVxuICBpZiAoIXRoaXMuemVyb0EgfHwgIXRoaXMuZyB8fCAhdGhpcy5uIHx8IHRoaXMucC5tb2RuKDMpICE9PSAxKVxuICAgIHJldHVybjtcblxuICAvLyBDb21wdXRlIGJldGEgYW5kIGxhbWJkYSwgdGhhdCBsYW1iZGEgKiBQID0gKGJldGEgKiBQeDsgUHkpXG4gIHZhciBiZXRhO1xuICB2YXIgbGFtYmRhO1xuICBpZiAoY29uZi5iZXRhKSB7XG4gICAgYmV0YSA9IG5ldyBibihjb25mLmJldGEsIDE2KS50b1JlZCh0aGlzLnJlZCk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGJldGFzID0gdGhpcy5fZ2V0RW5kb1Jvb3RzKHRoaXMucCk7XG4gICAgLy8gQ2hvb3NlIHRoZSBzbWFsbGVzdCBiZXRhXG4gICAgYmV0YSA9IGJldGFzWzBdLmNtcChiZXRhc1sxXSkgPCAwID8gYmV0YXNbMF0gOiBiZXRhc1sxXTtcbiAgICBiZXRhID0gYmV0YS50b1JlZCh0aGlzLnJlZCk7XG4gIH1cbiAgaWYgKGNvbmYubGFtYmRhKSB7XG4gICAgbGFtYmRhID0gbmV3IGJuKGNvbmYubGFtYmRhLCAxNik7XG4gIH0gZWxzZSB7XG4gICAgLy8gQ2hvb3NlIHRoZSBsYW1iZGEgdGhhdCBpcyBtYXRjaGluZyBzZWxlY3RlZCBiZXRhXG4gICAgdmFyIGxhbWJkYXMgPSB0aGlzLl9nZXRFbmRvUm9vdHModGhpcy5uKTtcbiAgICBpZiAodGhpcy5nLm11bChsYW1iZGFzWzBdKS54LmNtcCh0aGlzLmcueC5yZWRNdWwoYmV0YSkpID09PSAwKSB7XG4gICAgICBsYW1iZGEgPSBsYW1iZGFzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICBsYW1iZGEgPSBsYW1iZGFzWzFdO1xuICAgICAgYXNzZXJ0KHRoaXMuZy5tdWwobGFtYmRhKS54LmNtcCh0aGlzLmcueC5yZWRNdWwoYmV0YSkpID09PSAwKTtcbiAgICB9XG4gIH1cblxuICAvLyBHZXQgYmFzaXMgdmVjdG9ycywgdXNlZCBmb3IgYmFsYW5jZWQgbGVuZ3RoLXR3byByZXByZXNlbnRhdGlvblxuICB2YXIgYmFzaXM7XG4gIGlmIChjb25mLmJhc2lzKSB7XG4gICAgYmFzaXMgPSBjb25mLmJhc2lzLm1hcChmdW5jdGlvbih2ZWMpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGE6IG5ldyBibih2ZWMuYSwgMTYpLFxuICAgICAgICBiOiBuZXcgYm4odmVjLmIsIDE2KVxuICAgICAgfTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBiYXNpcyA9IHRoaXMuX2dldEVuZG9CYXNpcyhsYW1iZGEpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBiZXRhOiBiZXRhLFxuICAgIGxhbWJkYTogbGFtYmRhLFxuICAgIGJhc2lzOiBiYXNpc1xuICB9O1xufTtcblxuU2hvcnRDdXJ2ZS5wcm90b3R5cGUuX2dldEVuZG9Sb290cyA9IGZ1bmN0aW9uIF9nZXRFbmRvUm9vdHMobnVtKSB7XG4gIC8vIEZpbmQgcm9vdHMgb2YgZm9yIHheMiArIHggKyAxIGluIEZcbiAgLy8gUm9vdCA9ICgtMSArLSBTcXJ0KC0zKSkgLyAyXG4gIC8vXG4gIHZhciByZWQgPSBudW0gPT09IHRoaXMucCA/IHRoaXMucmVkIDogYm4ubW9udChudW0pO1xuICB2YXIgdGludiA9IG5ldyBibigyKS50b1JlZChyZWQpLnJlZEludm0oKTtcbiAgdmFyIG50aW52ID0gdGludi5yZWROZWcoKTtcblxuICB2YXIgcyA9IG5ldyBibigzKS50b1JlZChyZWQpLnJlZE5lZygpLnJlZFNxcnQoKS5yZWRNdWwodGludik7XG5cbiAgdmFyIGwxID0gbnRpbnYucmVkQWRkKHMpLmZyb21SZWQoKTtcbiAgdmFyIGwyID0gbnRpbnYucmVkU3ViKHMpLmZyb21SZWQoKTtcbiAgcmV0dXJuIFsgbDEsIGwyIF07XG59O1xuXG5TaG9ydEN1cnZlLnByb3RvdHlwZS5fZ2V0RW5kb0Jhc2lzID0gZnVuY3Rpb24gX2dldEVuZG9CYXNpcyhsYW1iZGEpIHtcbiAgLy8gYXByeFNxcnQgPj0gc3FydCh0aGlzLm4pXG4gIHZhciBhcHJ4U3FydCA9IHRoaXMubi5zaHJuKE1hdGguZmxvb3IodGhpcy5uLmJpdExlbmd0aCgpIC8gMikpO1xuXG4gIC8vIDMuNzRcbiAgLy8gUnVuIEVHQ0QsIHVudGlsIHIoTCArIDEpIDwgYXByeFNxcnRcbiAgdmFyIHUgPSBsYW1iZGE7XG4gIHZhciB2ID0gdGhpcy5uLmNsb25lKCk7XG4gIHZhciB4MSA9IG5ldyBibigxKTtcbiAgdmFyIHkxID0gbmV3IGJuKDApO1xuICB2YXIgeDIgPSBuZXcgYm4oMCk7XG4gIHZhciB5MiA9IG5ldyBibigxKTtcblxuICAvLyBOT1RFOiBhbGwgdmVjdG9ycyBhcmUgcm9vdHMgb2Y6IGEgKyBiICogbGFtYmRhID0gMCAobW9kIG4pXG4gIHZhciBhMDtcbiAgdmFyIGIwO1xuICAvLyBGaXJzdCB2ZWN0b3JcbiAgdmFyIGExO1xuICB2YXIgYjE7XG4gIC8vIFNlY29uZCB2ZWN0b3JcbiAgdmFyIGEyO1xuICB2YXIgYjI7XG5cbiAgdmFyIHByZXZSO1xuICB2YXIgaSA9IDA7XG4gIHZhciByO1xuICB2YXIgeDtcbiAgd2hpbGUgKHUuY21wbigwKSAhPT0gMCkge1xuICAgIHZhciBxID0gdi5kaXYodSk7XG4gICAgciA9IHYuc3ViKHEubXVsKHUpKTtcbiAgICB4ID0geDIuc3ViKHEubXVsKHgxKSk7XG4gICAgdmFyIHkgPSB5Mi5zdWIocS5tdWwoeTEpKTtcblxuICAgIGlmICghYTEgJiYgci5jbXAoYXByeFNxcnQpIDwgMCkge1xuICAgICAgYTAgPSBwcmV2Ui5uZWcoKTtcbiAgICAgIGIwID0geDE7XG4gICAgICBhMSA9IHIubmVnKCk7XG4gICAgICBiMSA9IHg7XG4gICAgfSBlbHNlIGlmIChhMSAmJiArK2kgPT09IDIpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBwcmV2UiA9IHI7XG5cbiAgICB2ID0gdTtcbiAgICB1ID0gcjtcbiAgICB4MiA9IHgxO1xuICAgIHgxID0geDtcbiAgICB5MiA9IHkxO1xuICAgIHkxID0geTtcbiAgfVxuICBhMiA9IHIubmVnKCk7XG4gIGIyID0geDtcblxuICB2YXIgbGVuMSA9IGExLnNxcigpLmFkZChiMS5zcXIoKSk7XG4gIHZhciBsZW4yID0gYTIuc3FyKCkuYWRkKGIyLnNxcigpKTtcbiAgaWYgKGxlbjIuY21wKGxlbjEpID49IDApIHtcbiAgICBhMiA9IGEwO1xuICAgIGIyID0gYjA7XG4gIH1cblxuICAvLyBOb3JtYWxpemUgc2lnbnNcbiAgaWYgKGExLnNpZ24pIHtcbiAgICBhMSA9IGExLm5lZygpO1xuICAgIGIxID0gYjEubmVnKCk7XG4gIH1cbiAgaWYgKGEyLnNpZ24pIHtcbiAgICBhMiA9IGEyLm5lZygpO1xuICAgIGIyID0gYjIubmVnKCk7XG4gIH1cblxuICByZXR1cm4gW1xuICAgIHsgYTogYTEsIGI6IGIxIH0sXG4gICAgeyBhOiBhMiwgYjogYjIgfVxuICBdO1xufTtcblxuU2hvcnRDdXJ2ZS5wcm90b3R5cGUuX2VuZG9TcGxpdCA9IGZ1bmN0aW9uIF9lbmRvU3BsaXQoaykge1xuICB2YXIgYmFzaXMgPSB0aGlzLmVuZG8uYmFzaXM7XG4gIHZhciB2MSA9IGJhc2lzWzBdO1xuICB2YXIgdjIgPSBiYXNpc1sxXTtcblxuICB2YXIgYzEgPSB2Mi5iLm11bChrKS5kaXZSb3VuZCh0aGlzLm4pO1xuICB2YXIgYzIgPSB2MS5iLm5lZygpLm11bChrKS5kaXZSb3VuZCh0aGlzLm4pO1xuXG4gIHZhciBwMSA9IGMxLm11bCh2MS5hKTtcbiAgdmFyIHAyID0gYzIubXVsKHYyLmEpO1xuICB2YXIgcTEgPSBjMS5tdWwodjEuYik7XG4gIHZhciBxMiA9IGMyLm11bCh2Mi5iKTtcblxuICAvLyBDYWxjdWxhdGUgYW5zd2VyXG4gIHZhciBrMSA9IGsuc3ViKHAxKS5zdWIocDIpO1xuICB2YXIgazIgPSBxMS5hZGQocTIpLm5lZygpO1xuICByZXR1cm4geyBrMTogazEsIGsyOiBrMiB9O1xufTtcblxuU2hvcnRDdXJ2ZS5wcm90b3R5cGUucG9pbnRGcm9tWCA9IGZ1bmN0aW9uIHBvaW50RnJvbVgob2RkLCB4KSB7XG4gIHggPSBuZXcgYm4oeCwgMTYpO1xuICBpZiAoIXgucmVkKVxuICAgIHggPSB4LnRvUmVkKHRoaXMucmVkKTtcblxuICB2YXIgeTIgPSB4LnJlZFNxcigpLnJlZE11bCh4KS5yZWRJQWRkKHgucmVkTXVsKHRoaXMuYSkpLnJlZElBZGQodGhpcy5iKTtcbiAgdmFyIHkgPSB5Mi5yZWRTcXJ0KCk7XG5cbiAgLy8gWFhYIElzIHRoZXJlIGFueSB3YXkgdG8gdGVsbCBpZiB0aGUgbnVtYmVyIGlzIG9kZCB3aXRob3V0IGNvbnZlcnRpbmcgaXRcbiAgLy8gdG8gbm9uLXJlZCBmb3JtP1xuICB2YXIgaXNPZGQgPSB5LmZyb21SZWQoKS5pc09kZCgpO1xuICBpZiAob2RkICYmICFpc09kZCB8fCAhb2RkICYmIGlzT2RkKVxuICAgIHkgPSB5LnJlZE5lZygpO1xuXG4gIHJldHVybiB0aGlzLnBvaW50KHgsIHkpO1xufTtcblxuU2hvcnRDdXJ2ZS5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiB2YWxpZGF0ZShwb2ludCkge1xuICBpZiAocG9pbnQuaW5mKVxuICAgIHJldHVybiB0cnVlO1xuXG4gIHZhciB4ID0gcG9pbnQueDtcbiAgdmFyIHkgPSBwb2ludC55O1xuXG4gIHZhciBheCA9IHRoaXMuYS5yZWRNdWwoeCk7XG4gIHZhciByaHMgPSB4LnJlZFNxcigpLnJlZE11bCh4KS5yZWRJQWRkKGF4KS5yZWRJQWRkKHRoaXMuYik7XG4gIHJldHVybiB5LnJlZFNxcigpLnJlZElTdWIocmhzKS5jbXBuKDApID09PSAwO1xufTtcblxuU2hvcnRDdXJ2ZS5wcm90b3R5cGUuX2VuZG9XbmFmTXVsQWRkID1cbiAgICBmdW5jdGlvbiBfZW5kb1duYWZNdWxBZGQocG9pbnRzLCBjb2VmZnMpIHtcbiAgdmFyIG5wb2ludHMgPSB0aGlzLl9lbmRvV25hZlQxO1xuICB2YXIgbmNvZWZmcyA9IHRoaXMuX2VuZG9XbmFmVDI7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNwbGl0ID0gdGhpcy5fZW5kb1NwbGl0KGNvZWZmc1tpXSk7XG4gICAgdmFyIHAgPSBwb2ludHNbaV07XG4gICAgdmFyIGJldGEgPSBwLl9nZXRCZXRhKCk7XG5cbiAgICBpZiAoc3BsaXQuazEuc2lnbikge1xuICAgICAgc3BsaXQuazEuc2lnbiA9ICFzcGxpdC5rMS5zaWduO1xuICAgICAgcCA9IHAubmVnKHRydWUpO1xuICAgIH1cbiAgICBpZiAoc3BsaXQuazIuc2lnbikge1xuICAgICAgc3BsaXQuazIuc2lnbiA9ICFzcGxpdC5rMi5zaWduO1xuICAgICAgYmV0YSA9IGJldGEubmVnKHRydWUpO1xuICAgIH1cblxuICAgIG5wb2ludHNbaSAqIDJdID0gcDtcbiAgICBucG9pbnRzW2kgKiAyICsgMV0gPSBiZXRhO1xuICAgIG5jb2VmZnNbaSAqIDJdID0gc3BsaXQuazE7XG4gICAgbmNvZWZmc1tpICogMiArIDFdID0gc3BsaXQuazI7XG4gIH1cbiAgdmFyIHJlcyA9IHRoaXMuX3duYWZNdWxBZGQoMSwgbnBvaW50cywgbmNvZWZmcywgaSAqIDIpO1xuXG4gIC8vIENsZWFuLXVwIHJlZmVyZW5jZXMgdG8gcG9pbnRzIGFuZCBjb2VmZmljaWVudHNcbiAgZm9yICh2YXIgaiA9IDA7IGogPCBpICogMjsgaisrKSB7XG4gICAgbnBvaW50c1tqXSA9IG51bGw7XG4gICAgbmNvZWZmc1tqXSA9IG51bGw7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5cbmZ1bmN0aW9uIFBvaW50KGN1cnZlLCB4LCB5LCBpc1JlZCkge1xuICBCYXNlLkJhc2VQb2ludC5jYWxsKHRoaXMsIGN1cnZlLCAnYWZmaW5lJyk7XG4gIGlmICh4ID09PSBudWxsICYmIHkgPT09IG51bGwpIHtcbiAgICB0aGlzLnggPSBudWxsO1xuICAgIHRoaXMueSA9IG51bGw7XG4gICAgdGhpcy5pbmYgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHRoaXMueCA9IG5ldyBibih4LCAxNik7XG4gICAgdGhpcy55ID0gbmV3IGJuKHksIDE2KTtcbiAgICAvLyBGb3JjZSByZWRnb21lcnkgcmVwcmVzZW50YXRpb24gd2hlbiBsb2FkaW5nIGZyb20gSlNPTlxuICAgIGlmIChpc1JlZCkge1xuICAgICAgdGhpcy54LmZvcmNlUmVkKHRoaXMuY3VydmUucmVkKTtcbiAgICAgIHRoaXMueS5mb3JjZVJlZCh0aGlzLmN1cnZlLnJlZCk7XG4gICAgfVxuICAgIGlmICghdGhpcy54LnJlZClcbiAgICAgIHRoaXMueCA9IHRoaXMueC50b1JlZCh0aGlzLmN1cnZlLnJlZCk7XG4gICAgaWYgKCF0aGlzLnkucmVkKVxuICAgICAgdGhpcy55ID0gdGhpcy55LnRvUmVkKHRoaXMuY3VydmUucmVkKTtcbiAgICB0aGlzLmluZiA9IGZhbHNlO1xuICB9XG59XG5pbmhlcml0cyhQb2ludCwgQmFzZS5CYXNlUG9pbnQpO1xuXG5TaG9ydEN1cnZlLnByb3RvdHlwZS5wb2ludCA9IGZ1bmN0aW9uIHBvaW50KHgsIHksIGlzUmVkKSB7XG4gIHJldHVybiBuZXcgUG9pbnQodGhpcywgeCwgeSwgaXNSZWQpO1xufTtcblxuU2hvcnRDdXJ2ZS5wcm90b3R5cGUucG9pbnRGcm9tSlNPTiA9IGZ1bmN0aW9uIHBvaW50RnJvbUpTT04ob2JqLCByZWQpIHtcbiAgcmV0dXJuIFBvaW50LmZyb21KU09OKHRoaXMsIG9iaiwgcmVkKTtcbn07XG5cblBvaW50LnByb3RvdHlwZS5fZ2V0QmV0YSA9IGZ1bmN0aW9uIF9nZXRCZXRhKCkge1xuICBpZiAoIXRoaXMuY3VydmUuZW5kbylcbiAgICByZXR1cm47XG5cbiAgdmFyIHByZSA9IHRoaXMucHJlY29tcHV0ZWQ7XG4gIGlmIChwcmUgJiYgcHJlLmJldGEpXG4gICAgcmV0dXJuIHByZS5iZXRhO1xuXG4gIHZhciBiZXRhID0gdGhpcy5jdXJ2ZS5wb2ludCh0aGlzLngucmVkTXVsKHRoaXMuY3VydmUuZW5kby5iZXRhKSwgdGhpcy55KTtcbiAgaWYgKHByZSkge1xuICAgIHZhciBjdXJ2ZSA9IHRoaXMuY3VydmU7XG4gICAgdmFyIGVuZG9NdWwgPSBmdW5jdGlvbihwKSB7XG4gICAgICByZXR1cm4gY3VydmUucG9pbnQocC54LnJlZE11bChjdXJ2ZS5lbmRvLmJldGEpLCBwLnkpO1xuICAgIH07XG4gICAgcHJlLmJldGEgPSBiZXRhO1xuICAgIGJldGEucHJlY29tcHV0ZWQgPSB7XG4gICAgICBiZXRhOiBudWxsLFxuICAgICAgbmFmOiBwcmUubmFmICYmIHtcbiAgICAgICAgd25kOiBwcmUubmFmLnduZCxcbiAgICAgICAgcG9pbnRzOiBwcmUubmFmLnBvaW50cy5tYXAoZW5kb011bClcbiAgICAgIH0sXG4gICAgICBkb3VibGVzOiBwcmUuZG91YmxlcyAmJiB7XG4gICAgICAgIHN0ZXA6IHByZS5kb3VibGVzLnN0ZXAsXG4gICAgICAgIHBvaW50czogcHJlLmRvdWJsZXMucG9pbnRzLm1hcChlbmRvTXVsKVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIGJldGE7XG59O1xuXG5Qb2ludC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICBpZiAoIXRoaXMucHJlY29tcHV0ZWQpXG4gICAgcmV0dXJuIFsgdGhpcy54LCB0aGlzLnkgXTtcblxuICByZXR1cm4gWyB0aGlzLngsIHRoaXMueSwgdGhpcy5wcmVjb21wdXRlZCAmJiB7XG4gICAgZG91YmxlczogdGhpcy5wcmVjb21wdXRlZC5kb3VibGVzICYmIHtcbiAgICAgIHN0ZXA6IHRoaXMucHJlY29tcHV0ZWQuZG91Ymxlcy5zdGVwLFxuICAgICAgcG9pbnRzOiB0aGlzLnByZWNvbXB1dGVkLmRvdWJsZXMucG9pbnRzLnNsaWNlKDEpXG4gICAgfSxcbiAgICBuYWY6IHRoaXMucHJlY29tcHV0ZWQubmFmICYmIHtcbiAgICAgIHduZDogdGhpcy5wcmVjb21wdXRlZC5uYWYud25kLFxuICAgICAgcG9pbnRzOiB0aGlzLnByZWNvbXB1dGVkLm5hZi5wb2ludHMuc2xpY2UoMSlcbiAgICB9XG4gIH0gXTtcbn07XG5cblBvaW50LmZyb21KU09OID0gZnVuY3Rpb24gZnJvbUpTT04oY3VydmUsIG9iaiwgcmVkKSB7XG4gIGlmICh0eXBlb2Ygb2JqID09PSAnc3RyaW5nJylcbiAgICBvYmogPSBKU09OLnBhcnNlKG9iaik7XG4gIHZhciByZXMgPSBjdXJ2ZS5wb2ludChvYmpbMF0sIG9ialsxXSwgcmVkKTtcbiAgaWYgKCFvYmpbMl0pXG4gICAgcmV0dXJuIHJlcztcblxuICBmdW5jdGlvbiBvYmoycG9pbnQob2JqKSB7XG4gICAgcmV0dXJuIGN1cnZlLnBvaW50KG9ialswXSwgb2JqWzFdLCByZWQpO1xuICB9XG5cbiAgdmFyIHByZSA9IG9ialsyXTtcbiAgcmVzLnByZWNvbXB1dGVkID0ge1xuICAgIGJldGE6IG51bGwsXG4gICAgZG91YmxlczogcHJlLmRvdWJsZXMgJiYge1xuICAgICAgc3RlcDogcHJlLmRvdWJsZXMuc3RlcCxcbiAgICAgIHBvaW50czogWyByZXMgXS5jb25jYXQocHJlLmRvdWJsZXMucG9pbnRzLm1hcChvYmoycG9pbnQpKVxuICAgIH0sXG4gICAgbmFmOiBwcmUubmFmICYmIHtcbiAgICAgIHduZDogcHJlLm5hZi53bmQsXG4gICAgICBwb2ludHM6IFsgcmVzIF0uY29uY2F0KHByZS5uYWYucG9pbnRzLm1hcChvYmoycG9pbnQpKVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHJlcztcbn07XG5cblBvaW50LnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCgpIHtcbiAgaWYgKHRoaXMuaXNJbmZpbml0eSgpKVxuICAgIHJldHVybiAnPEVDIFBvaW50IEluZmluaXR5Pic7XG4gIHJldHVybiAnPEVDIFBvaW50IHg6ICcgKyB0aGlzLnguZnJvbVJlZCgpLnRvU3RyaW5nKDE2LCAyKSArXG4gICAgICAnIHk6ICcgKyB0aGlzLnkuZnJvbVJlZCgpLnRvU3RyaW5nKDE2LCAyKSArICc+Jztcbn07XG5cblBvaW50LnByb3RvdHlwZS5pc0luZmluaXR5ID0gZnVuY3Rpb24gaXNJbmZpbml0eSgpIHtcbiAgcmV0dXJuIHRoaXMuaW5mO1xufTtcblxuUG9pbnQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZChwKSB7XG4gIC8vIE8gKyBQID0gUFxuICBpZiAodGhpcy5pbmYpXG4gICAgcmV0dXJuIHA7XG5cbiAgLy8gUCArIE8gPSBQXG4gIGlmIChwLmluZilcbiAgICByZXR1cm4gdGhpcztcblxuICAvLyBQICsgUCA9IDJQXG4gIGlmICh0aGlzLmVxKHApKVxuICAgIHJldHVybiB0aGlzLmRibCgpO1xuXG4gIC8vIFAgKyAoLVApID0gT1xuICBpZiAodGhpcy5uZWcoKS5lcShwKSlcbiAgICByZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChudWxsLCBudWxsKTtcblxuICAvLyBQICsgUSA9IE9cbiAgaWYgKHRoaXMueC5jbXAocC54KSA9PT0gMClcbiAgICByZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChudWxsLCBudWxsKTtcblxuICB2YXIgYyA9IHRoaXMueS5yZWRTdWIocC55KTtcbiAgaWYgKGMuY21wbigwKSAhPT0gMClcbiAgICBjID0gYy5yZWRNdWwodGhpcy54LnJlZFN1YihwLngpLnJlZEludm0oKSk7XG4gIHZhciBueCA9IGMucmVkU3FyKCkucmVkSVN1Yih0aGlzLngpLnJlZElTdWIocC54KTtcbiAgdmFyIG55ID0gYy5yZWRNdWwodGhpcy54LnJlZFN1YihueCkpLnJlZElTdWIodGhpcy55KTtcbiAgcmV0dXJuIHRoaXMuY3VydmUucG9pbnQobngsIG55KTtcbn07XG5cblBvaW50LnByb3RvdHlwZS5kYmwgPSBmdW5jdGlvbiBkYmwoKSB7XG4gIGlmICh0aGlzLmluZilcbiAgICByZXR1cm4gdGhpcztcblxuICAvLyAyUCA9IE9cbiAgdmFyIHlzMSA9IHRoaXMueS5yZWRBZGQodGhpcy55KTtcbiAgaWYgKHlzMS5jbXBuKDApID09PSAwKVxuICAgIHJldHVybiB0aGlzLmN1cnZlLnBvaW50KG51bGwsIG51bGwpO1xuXG4gIHZhciBhID0gdGhpcy5jdXJ2ZS5hO1xuXG4gIHZhciB4MiA9IHRoaXMueC5yZWRTcXIoKTtcbiAgdmFyIGR5aW52ID0geXMxLnJlZEludm0oKTtcbiAgdmFyIGMgPSB4Mi5yZWRBZGQoeDIpLnJlZElBZGQoeDIpLnJlZElBZGQoYSkucmVkTXVsKGR5aW52KTtcblxuICB2YXIgbnggPSBjLnJlZFNxcigpLnJlZElTdWIodGhpcy54LnJlZEFkZCh0aGlzLngpKTtcbiAgdmFyIG55ID0gYy5yZWRNdWwodGhpcy54LnJlZFN1YihueCkpLnJlZElTdWIodGhpcy55KTtcbiAgcmV0dXJuIHRoaXMuY3VydmUucG9pbnQobngsIG55KTtcbn07XG5cblBvaW50LnByb3RvdHlwZS5nZXRYID0gZnVuY3Rpb24gZ2V0WCgpIHtcbiAgcmV0dXJuIHRoaXMueC5mcm9tUmVkKCk7XG59O1xuXG5Qb2ludC5wcm90b3R5cGUuZ2V0WSA9IGZ1bmN0aW9uIGdldFkoKSB7XG4gIHJldHVybiB0aGlzLnkuZnJvbVJlZCgpO1xufTtcblxuUG9pbnQucHJvdG90eXBlLm11bCA9IGZ1bmN0aW9uIG11bChrKSB7XG4gIGsgPSBuZXcgYm4oaywgMTYpO1xuXG4gIGlmICh0aGlzLl9oYXNEb3VibGVzKGspKVxuICAgIHJldHVybiB0aGlzLmN1cnZlLl9maXhlZE5hZk11bCh0aGlzLCBrKTtcbiAgZWxzZSBpZiAodGhpcy5jdXJ2ZS5lbmRvKVxuICAgIHJldHVybiB0aGlzLmN1cnZlLl9lbmRvV25hZk11bEFkZChbIHRoaXMgXSwgWyBrIF0pO1xuICBlbHNlXG4gICAgcmV0dXJuIHRoaXMuY3VydmUuX3duYWZNdWwodGhpcywgayk7XG59O1xuXG5Qb2ludC5wcm90b3R5cGUubXVsQWRkID0gZnVuY3Rpb24gbXVsQWRkKGsxLCBwMiwgazIpIHtcbiAgdmFyIHBvaW50cyA9IFsgdGhpcywgcDIgXTtcbiAgdmFyIGNvZWZmcyA9IFsgazEsIGsyIF07XG4gIGlmICh0aGlzLmN1cnZlLmVuZG8pXG4gICAgcmV0dXJuIHRoaXMuY3VydmUuX2VuZG9XbmFmTXVsQWRkKHBvaW50cywgY29lZmZzKTtcbiAgZWxzZVxuICAgIHJldHVybiB0aGlzLmN1cnZlLl93bmFmTXVsQWRkKDEsIHBvaW50cywgY29lZmZzLCAyKTtcbn07XG5cblBvaW50LnByb3RvdHlwZS5lcSA9IGZ1bmN0aW9uIGVxKHApIHtcbiAgcmV0dXJuIHRoaXMgPT09IHAgfHxcbiAgICAgICAgIHRoaXMuaW5mID09PSBwLmluZiAmJlxuICAgICAgICAgICAgICh0aGlzLmluZiB8fCB0aGlzLnguY21wKHAueCkgPT09IDAgJiYgdGhpcy55LmNtcChwLnkpID09PSAwKTtcbn07XG5cblBvaW50LnByb3RvdHlwZS5uZWcgPSBmdW5jdGlvbiBuZWcoX3ByZWNvbXB1dGUpIHtcbiAgaWYgKHRoaXMuaW5mKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIHZhciByZXMgPSB0aGlzLmN1cnZlLnBvaW50KHRoaXMueCwgdGhpcy55LnJlZE5lZygpKTtcbiAgaWYgKF9wcmVjb21wdXRlICYmIHRoaXMucHJlY29tcHV0ZWQpIHtcbiAgICB2YXIgcHJlID0gdGhpcy5wcmVjb21wdXRlZDtcbiAgICB2YXIgbmVnYXRlID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHAubmVnKCk7XG4gICAgfTtcbiAgICByZXMucHJlY29tcHV0ZWQgPSB7XG4gICAgICBuYWY6IHByZS5uYWYgJiYge1xuICAgICAgICB3bmQ6IHByZS5uYWYud25kLFxuICAgICAgICBwb2ludHM6IHByZS5uYWYucG9pbnRzLm1hcChuZWdhdGUpXG4gICAgICB9LFxuICAgICAgZG91YmxlczogcHJlLmRvdWJsZXMgJiYge1xuICAgICAgICBzdGVwOiBwcmUuZG91Ymxlcy5zdGVwLFxuICAgICAgICBwb2ludHM6IHByZS5kb3VibGVzLnBvaW50cy5tYXAobmVnYXRlKVxuICAgICAgfVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5cblBvaW50LnByb3RvdHlwZS50b0ogPSBmdW5jdGlvbiB0b0ooKSB7XG4gIGlmICh0aGlzLmluZilcbiAgICByZXR1cm4gdGhpcy5jdXJ2ZS5qcG9pbnQobnVsbCwgbnVsbCwgbnVsbCk7XG5cbiAgdmFyIHJlcyA9IHRoaXMuY3VydmUuanBvaW50KHRoaXMueCwgdGhpcy55LCB0aGlzLmN1cnZlLm9uZSk7XG4gIHJldHVybiByZXM7XG59O1xuXG5mdW5jdGlvbiBKUG9pbnQoY3VydmUsIHgsIHksIHopIHtcbiAgQmFzZS5CYXNlUG9pbnQuY2FsbCh0aGlzLCBjdXJ2ZSwgJ2phY29iaWFuJyk7XG4gIGlmICh4ID09PSBudWxsICYmIHkgPT09IG51bGwgJiYgeiA9PT0gbnVsbCkge1xuICAgIHRoaXMueCA9IHRoaXMuY3VydmUub25lO1xuICAgIHRoaXMueSA9IHRoaXMuY3VydmUub25lO1xuICAgIHRoaXMueiA9IG5ldyBibigwKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnggPSBuZXcgYm4oeCwgMTYpO1xuICAgIHRoaXMueSA9IG5ldyBibih5LCAxNik7XG4gICAgdGhpcy56ID0gbmV3IGJuKHosIDE2KTtcbiAgfVxuICBpZiAoIXRoaXMueC5yZWQpXG4gICAgdGhpcy54ID0gdGhpcy54LnRvUmVkKHRoaXMuY3VydmUucmVkKTtcbiAgaWYgKCF0aGlzLnkucmVkKVxuICAgIHRoaXMueSA9IHRoaXMueS50b1JlZCh0aGlzLmN1cnZlLnJlZCk7XG4gIGlmICghdGhpcy56LnJlZClcbiAgICB0aGlzLnogPSB0aGlzLnoudG9SZWQodGhpcy5jdXJ2ZS5yZWQpO1xuXG4gIHRoaXMuek9uZSA9IHRoaXMueiA9PT0gdGhpcy5jdXJ2ZS5vbmU7XG59XG5pbmhlcml0cyhKUG9pbnQsIEJhc2UuQmFzZVBvaW50KTtcblxuU2hvcnRDdXJ2ZS5wcm90b3R5cGUuanBvaW50ID0gZnVuY3Rpb24ganBvaW50KHgsIHksIHopIHtcbiAgcmV0dXJuIG5ldyBKUG9pbnQodGhpcywgeCwgeSwgeik7XG59O1xuXG5KUG9pbnQucHJvdG90eXBlLnRvUCA9IGZ1bmN0aW9uIHRvUCgpIHtcbiAgaWYgKHRoaXMuaXNJbmZpbml0eSgpKVxuICAgIHJldHVybiB0aGlzLmN1cnZlLnBvaW50KG51bGwsIG51bGwpO1xuXG4gIHZhciB6aW52ID0gdGhpcy56LnJlZEludm0oKTtcbiAgdmFyIHppbnYyID0gemludi5yZWRTcXIoKTtcbiAgdmFyIGF4ID0gdGhpcy54LnJlZE11bCh6aW52Mik7XG4gIHZhciBheSA9IHRoaXMueS5yZWRNdWwoemludjIpLnJlZE11bCh6aW52KTtcblxuICByZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChheCwgYXkpO1xufTtcblxuSlBvaW50LnByb3RvdHlwZS5uZWcgPSBmdW5jdGlvbiBuZWcoKSB7XG4gIHJldHVybiB0aGlzLmN1cnZlLmpwb2ludCh0aGlzLngsIHRoaXMueS5yZWROZWcoKSwgdGhpcy56KTtcbn07XG5cbkpQb2ludC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkKHApIHtcbiAgLy8gTyArIFAgPSBQXG4gIGlmICh0aGlzLmlzSW5maW5pdHkoKSlcbiAgICByZXR1cm4gcDtcblxuICAvLyBQICsgTyA9IFBcbiAgaWYgKHAuaXNJbmZpbml0eSgpKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIC8vIDEyTSArIDRTICsgN0FcbiAgdmFyIHB6MiA9IHAuei5yZWRTcXIoKTtcbiAgdmFyIHoyID0gdGhpcy56LnJlZFNxcigpO1xuICB2YXIgdTEgPSB0aGlzLngucmVkTXVsKHB6Mik7XG4gIHZhciB1MiA9IHAueC5yZWRNdWwoejIpO1xuICB2YXIgczEgPSB0aGlzLnkucmVkTXVsKHB6Mi5yZWRNdWwocC56KSk7XG4gIHZhciBzMiA9IHAueS5yZWRNdWwoejIucmVkTXVsKHRoaXMueikpO1xuXG4gIHZhciBoID0gdTEucmVkU3ViKHUyKTtcbiAgdmFyIHIgPSBzMS5yZWRTdWIoczIpO1xuICBpZiAoaC5jbXBuKDApID09PSAwKSB7XG4gICAgaWYgKHIuY21wbigwKSAhPT0gMClcbiAgICAgIHJldHVybiB0aGlzLmN1cnZlLmpwb2ludChudWxsLCBudWxsLCBudWxsKTtcbiAgICBlbHNlXG4gICAgICByZXR1cm4gdGhpcy5kYmwoKTtcbiAgfVxuXG4gIHZhciBoMiA9IGgucmVkU3FyKCk7XG4gIHZhciBoMyA9IGgyLnJlZE11bChoKTtcbiAgdmFyIHYgPSB1MS5yZWRNdWwoaDIpO1xuXG4gIHZhciBueCA9IHIucmVkU3FyKCkucmVkSUFkZChoMykucmVkSVN1Yih2KS5yZWRJU3ViKHYpO1xuICB2YXIgbnkgPSByLnJlZE11bCh2LnJlZElTdWIobngpKS5yZWRJU3ViKHMxLnJlZE11bChoMykpO1xuICB2YXIgbnogPSB0aGlzLnoucmVkTXVsKHAueikucmVkTXVsKGgpO1xuXG4gIHJldHVybiB0aGlzLmN1cnZlLmpwb2ludChueCwgbnksIG56KTtcbn07XG5cbkpQb2ludC5wcm90b3R5cGUubWl4ZWRBZGQgPSBmdW5jdGlvbiBtaXhlZEFkZChwKSB7XG4gIC8vIE8gKyBQID0gUFxuICBpZiAodGhpcy5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuIHAudG9KKCk7XG5cbiAgLy8gUCArIE8gPSBQXG4gIGlmIChwLmlzSW5maW5pdHkoKSlcbiAgICByZXR1cm4gdGhpcztcblxuICAvLyA4TSArIDNTICsgN0FcbiAgdmFyIHoyID0gdGhpcy56LnJlZFNxcigpO1xuICB2YXIgdTEgPSB0aGlzLng7XG4gIHZhciB1MiA9IHAueC5yZWRNdWwoejIpO1xuICB2YXIgczEgPSB0aGlzLnk7XG4gIHZhciBzMiA9IHAueS5yZWRNdWwoejIpLnJlZE11bCh0aGlzLnopO1xuXG4gIHZhciBoID0gdTEucmVkU3ViKHUyKTtcbiAgdmFyIHIgPSBzMS5yZWRTdWIoczIpO1xuICBpZiAoaC5jbXBuKDApID09PSAwKSB7XG4gICAgaWYgKHIuY21wbigwKSAhPT0gMClcbiAgICAgIHJldHVybiB0aGlzLmN1cnZlLmpwb2ludChudWxsLCBudWxsLCBudWxsKTtcbiAgICBlbHNlXG4gICAgICByZXR1cm4gdGhpcy5kYmwoKTtcbiAgfVxuXG4gIHZhciBoMiA9IGgucmVkU3FyKCk7XG4gIHZhciBoMyA9IGgyLnJlZE11bChoKTtcbiAgdmFyIHYgPSB1MS5yZWRNdWwoaDIpO1xuXG4gIHZhciBueCA9IHIucmVkU3FyKCkucmVkSUFkZChoMykucmVkSVN1Yih2KS5yZWRJU3ViKHYpO1xuICB2YXIgbnkgPSByLnJlZE11bCh2LnJlZElTdWIobngpKS5yZWRJU3ViKHMxLnJlZE11bChoMykpO1xuICB2YXIgbnogPSB0aGlzLnoucmVkTXVsKGgpO1xuXG4gIHJldHVybiB0aGlzLmN1cnZlLmpwb2ludChueCwgbnksIG56KTtcbn07XG5cbkpQb2ludC5wcm90b3R5cGUuZGJscCA9IGZ1bmN0aW9uIGRibHAocG93KSB7XG4gIGlmIChwb3cgPT09IDApXG4gICAgcmV0dXJuIHRoaXM7XG4gIGlmICh0aGlzLmlzSW5maW5pdHkoKSlcbiAgICByZXR1cm4gdGhpcztcbiAgaWYgKCFwb3cpXG4gICAgcmV0dXJuIHRoaXMuZGJsKCk7XG5cbiAgaWYgKHRoaXMuY3VydmUuemVyb0EgfHwgdGhpcy5jdXJ2ZS50aHJlZUEpIHtcbiAgICB2YXIgciA9IHRoaXM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb3c7IGkrKylcbiAgICAgIHIgPSByLmRibCgpO1xuICAgIHJldHVybiByO1xuICB9XG5cbiAgLy8gMU0gKyAyUyArIDFBICsgTiAqICg0UyArIDVNICsgOEEpXG4gIC8vIE4gPSAxID0+IDZNICsgNlMgKyA5QVxuICB2YXIgYSA9IHRoaXMuY3VydmUuYTtcbiAgdmFyIHRpbnYgPSB0aGlzLmN1cnZlLnRpbnY7XG5cbiAgdmFyIGp4ID0gdGhpcy54O1xuICB2YXIgankgPSB0aGlzLnk7XG4gIHZhciBqeiA9IHRoaXMuejtcbiAgdmFyIGp6NCA9IGp6LnJlZFNxcigpLnJlZFNxcigpO1xuXG4gIC8vIFJldXNlIHJlc3VsdHNcbiAgdmFyIGp5ZCA9IGp5LnJlZEFkZChqeSk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcG93OyBpKyspIHtcbiAgICB2YXIgangyID0gangucmVkU3FyKCk7XG4gICAgdmFyIGp5ZDIgPSBqeWQucmVkU3FyKCk7XG4gICAgdmFyIGp5ZDQgPSBqeWQyLnJlZFNxcigpO1xuICAgIHZhciBjID0gangyLnJlZEFkZChqeDIpLnJlZElBZGQoangyKS5yZWRJQWRkKGEucmVkTXVsKGp6NCkpO1xuXG4gICAgdmFyIHQxID0gangucmVkTXVsKGp5ZDIpO1xuICAgIHZhciBueCA9IGMucmVkU3FyKCkucmVkSVN1Yih0MS5yZWRBZGQodDEpKTtcbiAgICB2YXIgdDIgPSB0MS5yZWRJU3ViKG54KTtcbiAgICB2YXIgZG55ID0gYy5yZWRNdWwodDIpO1xuICAgIGRueSA9IGRueS5yZWRJQWRkKGRueSkucmVkSVN1YihqeWQ0KTtcbiAgICB2YXIgbnogPSBqeWQucmVkTXVsKGp6KTtcbiAgICBpZiAoaSArIDEgPCBwb3cpXG4gICAgICBqejQgPSBqejQucmVkTXVsKGp5ZDQpO1xuXG4gICAganggPSBueDtcbiAgICBqeiA9IG56O1xuICAgIGp5ZCA9IGRueTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmN1cnZlLmpwb2ludChqeCwganlkLnJlZE11bCh0aW52KSwganopO1xufTtcblxuSlBvaW50LnByb3RvdHlwZS5kYmwgPSBmdW5jdGlvbiBkYmwoKSB7XG4gIGlmICh0aGlzLmlzSW5maW5pdHkoKSlcbiAgICByZXR1cm4gdGhpcztcblxuICBpZiAodGhpcy5jdXJ2ZS56ZXJvQSlcbiAgICByZXR1cm4gdGhpcy5femVyb0RibCgpO1xuICBlbHNlIGlmICh0aGlzLmN1cnZlLnRocmVlQSlcbiAgICByZXR1cm4gdGhpcy5fdGhyZWVEYmwoKTtcbiAgZWxzZVxuICAgIHJldHVybiB0aGlzLl9kYmwoKTtcbn07XG5cbkpQb2ludC5wcm90b3R5cGUuX3plcm9EYmwgPSBmdW5jdGlvbiBfemVyb0RibCgpIHtcbiAgdmFyIG54O1xuICB2YXIgbnk7XG4gIHZhciBuejtcbiAgLy8gWiA9IDFcbiAgaWYgKHRoaXMuek9uZSkge1xuICAgIC8vIGh5cGVyZWxsaXB0aWMub3JnL0VGRC9nMXAvYXV0by1zaG9ydHctamFjb2JpYW4tMC5odG1sXG4gICAgLy8gICAgICNkb3VibGluZy1tZGJsLTIwMDctYmxcbiAgICAvLyAxTSArIDVTICsgMTRBXG5cbiAgICAvLyBYWCA9IFgxXjJcbiAgICB2YXIgeHggPSB0aGlzLngucmVkU3FyKCk7XG4gICAgLy8gWVkgPSBZMV4yXG4gICAgdmFyIHl5ID0gdGhpcy55LnJlZFNxcigpO1xuICAgIC8vIFlZWVkgPSBZWV4yXG4gICAgdmFyIHl5eXkgPSB5eS5yZWRTcXIoKTtcbiAgICAvLyBTID0gMiAqICgoWDEgKyBZWSleMiAtIFhYIC0gWVlZWSlcbiAgICB2YXIgcyA9IHRoaXMueC5yZWRBZGQoeXkpLnJlZFNxcigpLnJlZElTdWIoeHgpLnJlZElTdWIoeXl5eSk7XG4gICAgcyA9IHMucmVkSUFkZChzKTtcbiAgICAvLyBNID0gMyAqIFhYICsgYTsgYSA9IDBcbiAgICB2YXIgbSA9IHh4LnJlZEFkZCh4eCkucmVkSUFkZCh4eCk7XG4gICAgLy8gVCA9IE0gXiAyIC0gMipTXG4gICAgdmFyIHQgPSBtLnJlZFNxcigpLnJlZElTdWIocykucmVkSVN1YihzKTtcblxuICAgIC8vIDggKiBZWVlZXG4gICAgdmFyIHl5eXk4ID0geXl5eS5yZWRJQWRkKHl5eXkpO1xuICAgIHl5eXk4ID0geXl5eTgucmVkSUFkZCh5eXl5OCk7XG4gICAgeXl5eTggPSB5eXl5OC5yZWRJQWRkKHl5eXk4KTtcblxuICAgIC8vIFgzID0gVFxuICAgIG54ID0gdDtcbiAgICAvLyBZMyA9IE0gKiAoUyAtIFQpIC0gOCAqIFlZWVlcbiAgICBueSA9IG0ucmVkTXVsKHMucmVkSVN1Yih0KSkucmVkSVN1Yih5eXl5OCk7XG4gICAgLy8gWjMgPSAyKlkxXG4gICAgbnogPSB0aGlzLnkucmVkQWRkKHRoaXMueSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gaHlwZXJlbGxpcHRpYy5vcmcvRUZEL2cxcC9hdXRvLXNob3J0dy1qYWNvYmlhbi0wLmh0bWxcbiAgICAvLyAgICAgI2RvdWJsaW5nLWRibC0yMDA5LWxcbiAgICAvLyAyTSArIDVTICsgMTNBXG5cbiAgICAvLyBBID0gWDFeMlxuICAgIHZhciBhID0gdGhpcy54LnJlZFNxcigpO1xuICAgIC8vIEIgPSBZMV4yXG4gICAgdmFyIGIgPSB0aGlzLnkucmVkU3FyKCk7XG4gICAgLy8gQyA9IEJeMlxuICAgIHZhciBjID0gYi5yZWRTcXIoKTtcbiAgICAvLyBEID0gMiAqICgoWDEgKyBCKV4yIC0gQSAtIEMpXG4gICAgdmFyIGQgPSB0aGlzLngucmVkQWRkKGIpLnJlZFNxcigpLnJlZElTdWIoYSkucmVkSVN1YihjKTtcbiAgICBkID0gZC5yZWRJQWRkKGQpO1xuICAgIC8vIEUgPSAzICogQVxuICAgIHZhciBlID0gYS5yZWRBZGQoYSkucmVkSUFkZChhKTtcbiAgICAvLyBGID0gRV4yXG4gICAgdmFyIGYgPSBlLnJlZFNxcigpO1xuXG4gICAgLy8gOCAqIENcbiAgICB2YXIgYzggPSBjLnJlZElBZGQoYyk7XG4gICAgYzggPSBjOC5yZWRJQWRkKGM4KTtcbiAgICBjOCA9IGM4LnJlZElBZGQoYzgpO1xuXG4gICAgLy8gWDMgPSBGIC0gMiAqIERcbiAgICBueCA9IGYucmVkSVN1YihkKS5yZWRJU3ViKGQpO1xuICAgIC8vIFkzID0gRSAqIChEIC0gWDMpIC0gOCAqIENcbiAgICBueSA9IGUucmVkTXVsKGQucmVkSVN1YihueCkpLnJlZElTdWIoYzgpO1xuICAgIC8vIFozID0gMiAqIFkxICogWjFcbiAgICBueiA9IHRoaXMueS5yZWRNdWwodGhpcy56KTtcbiAgICBueiA9IG56LnJlZElBZGQobnopO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuY3VydmUuanBvaW50KG54LCBueSwgbnopO1xufTtcblxuSlBvaW50LnByb3RvdHlwZS5fdGhyZWVEYmwgPSBmdW5jdGlvbiBfdGhyZWVEYmwoKSB7XG4gIHZhciBueDtcbiAgdmFyIG55O1xuICB2YXIgbno7XG4gIC8vIFogPSAxXG4gIGlmICh0aGlzLnpPbmUpIHtcbiAgICAvLyBoeXBlcmVsbGlwdGljLm9yZy9FRkQvZzFwL2F1dG8tc2hvcnR3LWphY29iaWFuLTMuaHRtbFxuICAgIC8vICAgICAjZG91YmxpbmctbWRibC0yMDA3LWJsXG4gICAgLy8gMU0gKyA1UyArIDE1QVxuXG4gICAgLy8gWFggPSBYMV4yXG4gICAgdmFyIHh4ID0gdGhpcy54LnJlZFNxcigpO1xuICAgIC8vIFlZID0gWTFeMlxuICAgIHZhciB5eSA9IHRoaXMueS5yZWRTcXIoKTtcbiAgICAvLyBZWVlZID0gWVleMlxuICAgIHZhciB5eXl5ID0geXkucmVkU3FyKCk7XG4gICAgLy8gUyA9IDIgKiAoKFgxICsgWVkpXjIgLSBYWCAtIFlZWVkpXG4gICAgdmFyIHMgPSB0aGlzLngucmVkQWRkKHl5KS5yZWRTcXIoKS5yZWRJU3ViKHh4KS5yZWRJU3ViKHl5eXkpO1xuICAgIHMgPSBzLnJlZElBZGQocyk7XG4gICAgLy8gTSA9IDMgKiBYWCArIGFcbiAgICB2YXIgbSA9IHh4LnJlZEFkZCh4eCkucmVkSUFkZCh4eCkucmVkSUFkZCh0aGlzLmN1cnZlLmEpO1xuICAgIC8vIFQgPSBNXjIgLSAyICogU1xuICAgIHZhciB0ID0gbS5yZWRTcXIoKS5yZWRJU3ViKHMpLnJlZElTdWIocyk7XG4gICAgLy8gWDMgPSBUXG4gICAgbnggPSB0O1xuICAgIC8vIFkzID0gTSAqIChTIC0gVCkgLSA4ICogWVlZWVxuICAgIHZhciB5eXl5OCA9IHl5eXkucmVkSUFkZCh5eXl5KTtcbiAgICB5eXl5OCA9IHl5eXk4LnJlZElBZGQoeXl5eTgpO1xuICAgIHl5eXk4ID0geXl5eTgucmVkSUFkZCh5eXl5OCk7XG4gICAgbnkgPSBtLnJlZE11bChzLnJlZElTdWIodCkpLnJlZElTdWIoeXl5eTgpO1xuICAgIC8vIFozID0gMiAqIFkxXG4gICAgbnogPSB0aGlzLnkucmVkQWRkKHRoaXMueSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gaHlwZXJlbGxpcHRpYy5vcmcvRUZEL2cxcC9hdXRvLXNob3J0dy1qYWNvYmlhbi0zLmh0bWwjZG91YmxpbmctZGJsLTIwMDEtYlxuICAgIC8vIDNNICsgNVNcblxuICAgIC8vIGRlbHRhID0gWjFeMlxuICAgIHZhciBkZWx0YSA9IHRoaXMuei5yZWRTcXIoKTtcbiAgICAvLyBnYW1tYSA9IFkxXjJcbiAgICB2YXIgZ2FtbWEgPSB0aGlzLnkucmVkU3FyKCk7XG4gICAgLy8gYmV0YSA9IFgxICogZ2FtbWFcbiAgICB2YXIgYmV0YSA9IHRoaXMueC5yZWRNdWwoZ2FtbWEpO1xuICAgIC8vIGFscGhhID0gMyAqIChYMSAtIGRlbHRhKSAqIChYMSArIGRlbHRhKVxuICAgIHZhciBhbHBoYSA9IHRoaXMueC5yZWRTdWIoZGVsdGEpLnJlZE11bCh0aGlzLngucmVkQWRkKGRlbHRhKSk7XG4gICAgYWxwaGEgPSBhbHBoYS5yZWRBZGQoYWxwaGEpLnJlZElBZGQoYWxwaGEpO1xuICAgIC8vIFgzID0gYWxwaGFeMiAtIDggKiBiZXRhXG4gICAgdmFyIGJldGE0ID0gYmV0YS5yZWRJQWRkKGJldGEpO1xuICAgIGJldGE0ID0gYmV0YTQucmVkSUFkZChiZXRhNCk7XG4gICAgdmFyIGJldGE4ID0gYmV0YTQucmVkQWRkKGJldGE0KTtcbiAgICBueCA9IGFscGhhLnJlZFNxcigpLnJlZElTdWIoYmV0YTgpO1xuICAgIC8vIFozID0gKFkxICsgWjEpXjIgLSBnYW1tYSAtIGRlbHRhXG4gICAgbnogPSB0aGlzLnkucmVkQWRkKHRoaXMueikucmVkU3FyKCkucmVkSVN1YihnYW1tYSkucmVkSVN1YihkZWx0YSk7XG4gICAgLy8gWTMgPSBhbHBoYSAqICg0ICogYmV0YSAtIFgzKSAtIDggKiBnYW1tYV4yXG4gICAgdmFyIGdnYW1tYTggPSBnYW1tYS5yZWRTcXIoKTtcbiAgICBnZ2FtbWE4ID0gZ2dhbW1hOC5yZWRJQWRkKGdnYW1tYTgpO1xuICAgIGdnYW1tYTggPSBnZ2FtbWE4LnJlZElBZGQoZ2dhbW1hOCk7XG4gICAgZ2dhbW1hOCA9IGdnYW1tYTgucmVkSUFkZChnZ2FtbWE4KTtcbiAgICBueSA9IGFscGhhLnJlZE11bChiZXRhNC5yZWRJU3ViKG54KSkucmVkSVN1YihnZ2FtbWE4KTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmN1cnZlLmpwb2ludChueCwgbnksIG56KTtcbn07XG5cbkpQb2ludC5wcm90b3R5cGUuX2RibCA9IGZ1bmN0aW9uIF9kYmwoKSB7XG4gIHZhciBhID0gdGhpcy5jdXJ2ZS5hO1xuXG4gIC8vIDRNICsgNlMgKyAxMEFcbiAgdmFyIGp4ID0gdGhpcy54O1xuICB2YXIgankgPSB0aGlzLnk7XG4gIHZhciBqeiA9IHRoaXMuejtcbiAgdmFyIGp6NCA9IGp6LnJlZFNxcigpLnJlZFNxcigpO1xuXG4gIHZhciBqeDIgPSBqeC5yZWRTcXIoKTtcbiAgdmFyIGp5MiA9IGp5LnJlZFNxcigpO1xuXG4gIHZhciBjID0gangyLnJlZEFkZChqeDIpLnJlZElBZGQoangyKS5yZWRJQWRkKGEucmVkTXVsKGp6NCkpO1xuXG4gIHZhciBqeGQ0ID0gangucmVkQWRkKGp4KTtcbiAganhkNCA9IGp4ZDQucmVkSUFkZChqeGQ0KTtcbiAgdmFyIHQxID0ganhkNC5yZWRNdWwoankyKTtcbiAgdmFyIG54ID0gYy5yZWRTcXIoKS5yZWRJU3ViKHQxLnJlZEFkZCh0MSkpO1xuICB2YXIgdDIgPSB0MS5yZWRJU3ViKG54KTtcblxuICB2YXIganlkOCA9IGp5Mi5yZWRTcXIoKTtcbiAganlkOCA9IGp5ZDgucmVkSUFkZChqeWQ4KTtcbiAganlkOCA9IGp5ZDgucmVkSUFkZChqeWQ4KTtcbiAganlkOCA9IGp5ZDgucmVkSUFkZChqeWQ4KTtcbiAgdmFyIG55ID0gYy5yZWRNdWwodDIpLnJlZElTdWIoanlkOCk7XG4gIHZhciBueiA9IGp5LnJlZEFkZChqeSkucmVkTXVsKGp6KTtcblxuICByZXR1cm4gdGhpcy5jdXJ2ZS5qcG9pbnQobngsIG55LCBueik7XG59O1xuXG5KUG9pbnQucHJvdG90eXBlLnRycGwgPSBmdW5jdGlvbiB0cnBsKCkge1xuICBpZiAoIXRoaXMuY3VydmUuemVyb0EpXG4gICAgcmV0dXJuIHRoaXMuZGJsKCkuYWRkKHRoaXMpO1xuXG4gIC8vIGh5cGVyZWxsaXB0aWMub3JnL0VGRC9nMXAvYXV0by1zaG9ydHctamFjb2JpYW4tMC5odG1sI3RyaXBsaW5nLXRwbC0yMDA3LWJsXG4gIC8vIDVNICsgMTBTICsgLi4uXG5cbiAgLy8gWFggPSBYMV4yXG4gIHZhciB4eCA9IHRoaXMueC5yZWRTcXIoKTtcbiAgLy8gWVkgPSBZMV4yXG4gIHZhciB5eSA9IHRoaXMueS5yZWRTcXIoKTtcbiAgLy8gWlogPSBaMV4yXG4gIHZhciB6eiA9IHRoaXMuei5yZWRTcXIoKTtcbiAgLy8gWVlZWSA9IFlZXjJcbiAgdmFyIHl5eXkgPSB5eS5yZWRTcXIoKTtcbiAgLy8gTSA9IDMgKiBYWCArIGEgKiBaWjI7IGEgPSAwXG4gIHZhciBtID0geHgucmVkQWRkKHh4KS5yZWRJQWRkKHh4KTtcbiAgLy8gTU0gPSBNXjJcbiAgdmFyIG1tID0gbS5yZWRTcXIoKTtcbiAgLy8gRSA9IDYgKiAoKFgxICsgWVkpXjIgLSBYWCAtIFlZWVkpIC0gTU1cbiAgdmFyIGUgPSB0aGlzLngucmVkQWRkKHl5KS5yZWRTcXIoKS5yZWRJU3ViKHh4KS5yZWRJU3ViKHl5eXkpO1xuICBlID0gZS5yZWRJQWRkKGUpO1xuICBlID0gZS5yZWRBZGQoZSkucmVkSUFkZChlKTtcbiAgZSA9IGUucmVkSVN1YihtbSk7XG4gIC8vIEVFID0gRV4yXG4gIHZhciBlZSA9IGUucmVkU3FyKCk7XG4gIC8vIFQgPSAxNipZWVlZXG4gIHZhciB0ID0geXl5eS5yZWRJQWRkKHl5eXkpO1xuICB0ID0gdC5yZWRJQWRkKHQpO1xuICB0ID0gdC5yZWRJQWRkKHQpO1xuICB0ID0gdC5yZWRJQWRkKHQpO1xuICAvLyBVID0gKE0gKyBFKV4yIC0gTU0gLSBFRSAtIFRcbiAgdmFyIHUgPSBtLnJlZElBZGQoZSkucmVkU3FyKCkucmVkSVN1YihtbSkucmVkSVN1YihlZSkucmVkSVN1Yih0KTtcbiAgLy8gWDMgPSA0ICogKFgxICogRUUgLSA0ICogWVkgKiBVKVxuICB2YXIgeXl1NCA9IHl5LnJlZE11bCh1KTtcbiAgeXl1NCA9IHl5dTQucmVkSUFkZCh5eXU0KTtcbiAgeXl1NCA9IHl5dTQucmVkSUFkZCh5eXU0KTtcbiAgdmFyIG54ID0gdGhpcy54LnJlZE11bChlZSkucmVkSVN1Yih5eXU0KTtcbiAgbnggPSBueC5yZWRJQWRkKG54KTtcbiAgbnggPSBueC5yZWRJQWRkKG54KTtcbiAgLy8gWTMgPSA4ICogWTEgKiAoVSAqIChUIC0gVSkgLSBFICogRUUpXG4gIHZhciBueSA9IHRoaXMueS5yZWRNdWwodS5yZWRNdWwodC5yZWRJU3ViKHUpKS5yZWRJU3ViKGUucmVkTXVsKGVlKSkpO1xuICBueSA9IG55LnJlZElBZGQobnkpO1xuICBueSA9IG55LnJlZElBZGQobnkpO1xuICBueSA9IG55LnJlZElBZGQobnkpO1xuICAvLyBaMyA9IChaMSArIEUpXjIgLSBaWiAtIEVFXG4gIHZhciBueiA9IHRoaXMuei5yZWRBZGQoZSkucmVkU3FyKCkucmVkSVN1Yih6eikucmVkSVN1YihlZSk7XG5cbiAgcmV0dXJuIHRoaXMuY3VydmUuanBvaW50KG54LCBueSwgbnopO1xufTtcblxuSlBvaW50LnByb3RvdHlwZS5tdWwgPSBmdW5jdGlvbiBtdWwoaywga2Jhc2UpIHtcbiAgayA9IG5ldyBibihrLCBrYmFzZSk7XG5cbiAgcmV0dXJuIHRoaXMuY3VydmUuX3duYWZNdWwodGhpcywgayk7XG59O1xuXG5KUG9pbnQucHJvdG90eXBlLmVxID0gZnVuY3Rpb24gZXEocCkge1xuICBpZiAocC50eXBlID09PSAnYWZmaW5lJylcbiAgICByZXR1cm4gdGhpcy5lcShwLnRvSigpKTtcblxuICBpZiAodGhpcyA9PT0gcClcbiAgICByZXR1cm4gdHJ1ZTtcblxuICAvLyB4MSAqIHoyXjIgPT0geDIgKiB6MV4yXG4gIHZhciB6MiA9IHRoaXMuei5yZWRTcXIoKTtcbiAgdmFyIHB6MiA9IHAuei5yZWRTcXIoKTtcbiAgaWYgKHRoaXMueC5yZWRNdWwocHoyKS5yZWRJU3ViKHAueC5yZWRNdWwoejIpKS5jbXBuKDApICE9PSAwKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyB5MSAqIHoyXjMgPT0geTIgKiB6MV4zXG4gIHZhciB6MyA9IHoyLnJlZE11bCh0aGlzLnopO1xuICB2YXIgcHozID0gcHoyLnJlZE11bChwLnopO1xuICByZXR1cm4gdGhpcy55LnJlZE11bChwejMpLnJlZElTdWIocC55LnJlZE11bCh6MykpLmNtcG4oMCkgPT09IDA7XG59O1xuXG5KUG9pbnQucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0KCkge1xuICBpZiAodGhpcy5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuICc8RUMgSlBvaW50IEluZmluaXR5Pic7XG4gIHJldHVybiAnPEVDIEpQb2ludCB4OiAnICsgdGhpcy54LnRvU3RyaW5nKDE2LCAyKSArXG4gICAgICAnIHk6ICcgKyB0aGlzLnkudG9TdHJpbmcoMTYsIDIpICtcbiAgICAgICcgejogJyArIHRoaXMuei50b1N0cmluZygxNiwgMikgKyAnPic7XG59O1xuXG5KUG9pbnQucHJvdG90eXBlLmlzSW5maW5pdHkgPSBmdW5jdGlvbiBpc0luZmluaXR5KCkge1xuICAvLyBYWFggVGhpcyBjb2RlIGFzc3VtZXMgdGhhdCB6ZXJvIGlzIGFsd2F5cyB6ZXJvIGluIHJlZFxuICByZXR1cm4gdGhpcy56LmNtcG4oMCkgPT09IDA7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3VydmUgPSByZXF1aXJlKCcuLi9jdXJ2ZScpO1xudmFyIGJuID0gcmVxdWlyZSgnYm4uanMnKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG52YXIgQmFzZSA9IGN1cnZlLmJhc2U7XG5cbmZ1bmN0aW9uIE1vbnRDdXJ2ZShjb25mKSB7XG4gIEJhc2UuY2FsbCh0aGlzLCAnbW9udCcsIGNvbmYpO1xuXG4gIHRoaXMuYSA9IG5ldyBibihjb25mLmEsIDE2KS50b1JlZCh0aGlzLnJlZCk7XG4gIHRoaXMuYiA9IG5ldyBibihjb25mLmIsIDE2KS50b1JlZCh0aGlzLnJlZCk7XG4gIHRoaXMuaTQgPSBuZXcgYm4oNCkudG9SZWQodGhpcy5yZWQpLnJlZEludm0oKTtcbiAgdGhpcy50d28gPSBuZXcgYm4oMikudG9SZWQodGhpcy5yZWQpO1xuICB0aGlzLmEyNCA9IHRoaXMuaTQucmVkTXVsKHRoaXMuYS5yZWRBZGQodGhpcy50d28pKTtcbn1cbmluaGVyaXRzKE1vbnRDdXJ2ZSwgQmFzZSk7XG5tb2R1bGUuZXhwb3J0cyA9IE1vbnRDdXJ2ZTtcblxuTW9udEN1cnZlLnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uIHZhbGlkYXRlKHBvaW50KSB7XG4gIHZhciB4ID0gcG9pbnQubm9ybWFsaXplKCkueDtcbiAgdmFyIHgyID0geC5yZWRTcXIoKTtcbiAgdmFyIHJocyA9IHgyLnJlZE11bCh4KS5yZWRBZGQoeDIucmVkTXVsKHRoaXMuYSkpLnJlZEFkZCh4KTtcbiAgdmFyIHkgPSByaHMucmVkU3FydCgpO1xuXG4gIHJldHVybiB5LnJlZFNxcigpLmNtcChyaHMpID09PSAwO1xufTtcblxuZnVuY3Rpb24gUG9pbnQoY3VydmUsIHgsIHopIHtcbiAgQmFzZS5CYXNlUG9pbnQuY2FsbCh0aGlzLCBjdXJ2ZSwgJ3Byb2plY3RpdmUnKTtcbiAgaWYgKHggPT09IG51bGwgJiYgeiA9PT0gbnVsbCkge1xuICAgIHRoaXMueCA9IHRoaXMuY3VydmUub25lO1xuICAgIHRoaXMueiA9IHRoaXMuY3VydmUuemVybztcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnggPSBuZXcgYm4oeCwgMTYpO1xuICAgIHRoaXMueiA9IG5ldyBibih6LCAxNik7XG4gICAgaWYgKCF0aGlzLngucmVkKVxuICAgICAgdGhpcy54ID0gdGhpcy54LnRvUmVkKHRoaXMuY3VydmUucmVkKTtcbiAgICBpZiAoIXRoaXMuei5yZWQpXG4gICAgICB0aGlzLnogPSB0aGlzLnoudG9SZWQodGhpcy5jdXJ2ZS5yZWQpO1xuICB9XG59XG5pbmhlcml0cyhQb2ludCwgQmFzZS5CYXNlUG9pbnQpO1xuXG5Nb250Q3VydmUucHJvdG90eXBlLnBvaW50ID0gZnVuY3Rpb24gcG9pbnQoeCwgeikge1xuICByZXR1cm4gbmV3IFBvaW50KHRoaXMsIHgsIHopO1xufTtcblxuTW9udEN1cnZlLnByb3RvdHlwZS5wb2ludEZyb21KU09OID0gZnVuY3Rpb24gcG9pbnRGcm9tSlNPTihvYmopIHtcbiAgcmV0dXJuIFBvaW50LmZyb21KU09OKHRoaXMsIG9iaik7XG59O1xuXG5Qb2ludC5wcm90b3R5cGUucHJlY29tcHV0ZSA9IGZ1bmN0aW9uIHByZWNvbXB1dGUoKSB7XG4gIC8vIE5vLW9wXG59O1xuXG5Qb2ludC5mcm9tSlNPTiA9IGZ1bmN0aW9uIGZyb21KU09OKGN1cnZlLCBvYmopIHtcbiAgcmV0dXJuIG5ldyBQb2ludChjdXJ2ZSwgb2JqWzBdLCBvYmpbMV0gfHwgY3VydmUub25lKTtcbn07XG5cblBvaW50LnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCgpIHtcbiAgaWYgKHRoaXMuaXNJbmZpbml0eSgpKVxuICAgIHJldHVybiAnPEVDIFBvaW50IEluZmluaXR5Pic7XG4gIHJldHVybiAnPEVDIFBvaW50IHg6ICcgKyB0aGlzLnguZnJvbVJlZCgpLnRvU3RyaW5nKDE2LCAyKSArXG4gICAgICAnIHo6ICcgKyB0aGlzLnouZnJvbVJlZCgpLnRvU3RyaW5nKDE2LCAyKSArICc+Jztcbn07XG5cblBvaW50LnByb3RvdHlwZS5pc0luZmluaXR5ID0gZnVuY3Rpb24gaXNJbmZpbml0eSgpIHtcbiAgLy8gWFhYIFRoaXMgY29kZSBhc3N1bWVzIHRoYXQgemVybyBpcyBhbHdheXMgemVybyBpbiByZWRcbiAgcmV0dXJuIHRoaXMuei5jbXBuKDApID09PSAwO1xufTtcblxuUG9pbnQucHJvdG90eXBlLmRibCA9IGZ1bmN0aW9uIGRibCgpIHtcbiAgLy8gaHR0cDovL2h5cGVyZWxsaXB0aWMub3JnL0VGRC9nMXAvYXV0by1tb250Z29tLXh6Lmh0bWwjZG91YmxpbmctZGJsLTE5ODctbS0zXG4gIC8vIDJNICsgMlMgKyA0QVxuXG4gIC8vIEEgPSBYMSArIFoxXG4gIHZhciBhID0gdGhpcy54LnJlZEFkZCh0aGlzLnopO1xuICAvLyBBQSA9IEFeMlxuICB2YXIgYWEgPSBhLnJlZFNxcigpO1xuICAvLyBCID0gWDEgLSBaMVxuICB2YXIgYiA9IHRoaXMueC5yZWRTdWIodGhpcy56KTtcbiAgLy8gQkIgPSBCXjJcbiAgdmFyIGJiID0gYi5yZWRTcXIoKTtcbiAgLy8gQyA9IEFBIC0gQkJcbiAgdmFyIGMgPSBhYS5yZWRTdWIoYmIpO1xuICAvLyBYMyA9IEFBICogQkJcbiAgdmFyIG54ID0gYWEucmVkTXVsKGJiKTtcbiAgLy8gWjMgPSBDICogKEJCICsgQTI0ICogQylcbiAgdmFyIG56ID0gYy5yZWRNdWwoYmIucmVkQWRkKHRoaXMuY3VydmUuYTI0LnJlZE11bChjKSkpO1xuICByZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChueCwgbnopO1xufTtcblxuUG9pbnQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZCgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdOb3Qgc3VwcG9ydGVkIG9uIE1vbnRnb21lcnkgY3VydmUnKTtcbn07XG5cblBvaW50LnByb3RvdHlwZS5kaWZmQWRkID0gZnVuY3Rpb24gZGlmZkFkZChwLCBkaWZmKSB7XG4gIC8vIGh0dHA6Ly9oeXBlcmVsbGlwdGljLm9yZy9FRkQvZzFwL2F1dG8tbW9udGdvbS14ei5odG1sI2RpZmZhZGQtZGFkZC0xOTg3LW0tM1xuICAvLyA0TSArIDJTICsgNkFcblxuICAvLyBBID0gWDIgKyBaMlxuICB2YXIgYSA9IHRoaXMueC5yZWRBZGQodGhpcy56KTtcbiAgLy8gQiA9IFgyIC0gWjJcbiAgdmFyIGIgPSB0aGlzLngucmVkU3ViKHRoaXMueik7XG4gIC8vIEMgPSBYMyArIFozXG4gIHZhciBjID0gcC54LnJlZEFkZChwLnopO1xuICAvLyBEID0gWDMgLSBaM1xuICB2YXIgZCA9IHAueC5yZWRTdWIocC56KTtcbiAgLy8gREEgPSBEICogQVxuICB2YXIgZGEgPSBkLnJlZE11bChhKTtcbiAgLy8gQ0IgPSBDICogQlxuICB2YXIgY2IgPSBjLnJlZE11bChiKTtcbiAgLy8gWDUgPSBaMSAqIChEQSArIENCKV4yXG4gIHZhciBueCA9IGRpZmYuei5yZWRNdWwoZGEucmVkQWRkKGNiKS5yZWRTcXIoKSk7XG4gIC8vIFo1ID0gWDEgKiAoREEgLSBDQileMlxuICB2YXIgbnogPSBkaWZmLngucmVkTXVsKGRhLnJlZElTdWIoY2IpLnJlZFNxcigpKTtcbiAgcmV0dXJuIHRoaXMuY3VydmUucG9pbnQobngsIG56KTtcbn07XG5cblBvaW50LnByb3RvdHlwZS5tdWwgPSBmdW5jdGlvbiBtdWwoaykge1xuICB2YXIgdCA9IGsuY2xvbmUoKTtcbiAgdmFyIGEgPSB0aGlzOyAvLyAoTiAvIDIpICogUSArIFFcbiAgdmFyIGIgPSB0aGlzLmN1cnZlLnBvaW50KG51bGwsIG51bGwpOyAvLyAoTiAvIDIpICogUVxuICB2YXIgYyA9IHRoaXM7IC8vIFFcblxuICBmb3IgKHZhciBiaXRzID0gW107IHQuY21wbigwKSAhPT0gMDsgdC5pc2hybigxKSlcbiAgICBiaXRzLnB1c2godC5hbmRsbigxKSk7XG5cbiAgZm9yICh2YXIgaSA9IGJpdHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBpZiAoYml0c1tpXSA9PT0gMCkge1xuICAgICAgLy8gTiAqIFEgKyBRID0gKChOIC8gMikgKiBRICsgUSkpICsgKE4gLyAyKSAqIFFcbiAgICAgIGEgPSBhLmRpZmZBZGQoYiwgYyk7XG4gICAgICAvLyBOICogUSA9IDIgKiAoKE4gLyAyKSAqIFEgKyBRKSlcbiAgICAgIGIgPSBiLmRibCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBOICogUSA9ICgoTiAvIDIpICogUSArIFEpICsgKChOIC8gMikgKiBRKVxuICAgICAgYiA9IGEuZGlmZkFkZChiLCBjKTtcbiAgICAgIC8vIE4gKiBRICsgUSA9IDIgKiAoKE4gLyAyKSAqIFEgKyBRKVxuICAgICAgYSA9IGEuZGJsKCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBiO1xufTtcblxuUG9pbnQucHJvdG90eXBlLm11bEFkZCA9IGZ1bmN0aW9uIG11bEFkZCgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdOb3Qgc3VwcG9ydGVkIG9uIE1vbnRnb21lcnkgY3VydmUnKTtcbn07XG5cblBvaW50LnByb3RvdHlwZS5ub3JtYWxpemUgPSBmdW5jdGlvbiBub3JtYWxpemUoKSB7XG4gIHRoaXMueCA9IHRoaXMueC5yZWRNdWwodGhpcy56LnJlZEludm0oKSk7XG4gIHRoaXMueiA9IHRoaXMuY3VydmUub25lO1xuICByZXR1cm4gdGhpcztcbn07XG5cblBvaW50LnByb3RvdHlwZS5nZXRYID0gZnVuY3Rpb24gZ2V0WCgpIHtcbiAgLy8gTm9ybWFsaXplIGNvb3JkaW5hdGVzXG4gIHRoaXMubm9ybWFsaXplKCk7XG5cbiAgcmV0dXJuIHRoaXMueC5mcm9tUmVkKCk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3VydmUgPSByZXF1aXJlKCcuLi9jdXJ2ZScpO1xudmFyIGVsbGlwdGljID0gcmVxdWlyZSgnLi4vLi4vZWxsaXB0aWMnKTtcbnZhciBibiA9IHJlcXVpcmUoJ2JuLmpzJyk7XG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xudmFyIEJhc2UgPSBjdXJ2ZS5iYXNlO1xuXG52YXIgYXNzZXJ0ID0gZWxsaXB0aWMudXRpbHMuYXNzZXJ0O1xuXG5mdW5jdGlvbiBFZHdhcmRzQ3VydmUoY29uZikge1xuICAvLyBOT1RFOiBJbXBvcnRhbnQgYXMgd2UgYXJlIGNyZWF0aW5nIHBvaW50IGluIEJhc2UuY2FsbCgpXG4gIHRoaXMudHdpc3RlZCA9IChjb25mLmEgfCAwKSAhPT0gMTtcbiAgdGhpcy5tT25lQSA9IHRoaXMudHdpc3RlZCAmJiAoY29uZi5hIHwgMCkgPT09IC0xO1xuICB0aGlzLmV4dGVuZGVkID0gdGhpcy5tT25lQTtcblxuICBCYXNlLmNhbGwodGhpcywgJ2Vkd2FyZHMnLCBjb25mKTtcblxuICB0aGlzLmEgPSBuZXcgYm4oY29uZi5hLCAxNikubW9kKHRoaXMucmVkLm0pLnRvUmVkKHRoaXMucmVkKTtcbiAgdGhpcy5jID0gbmV3IGJuKGNvbmYuYywgMTYpLnRvUmVkKHRoaXMucmVkKTtcbiAgdGhpcy5jMiA9IHRoaXMuYy5yZWRTcXIoKTtcbiAgdGhpcy5kID0gbmV3IGJuKGNvbmYuZCwgMTYpLnRvUmVkKHRoaXMucmVkKTtcbiAgdGhpcy5kZCA9IHRoaXMuZC5yZWRBZGQodGhpcy5kKTtcblxuICBhc3NlcnQoIXRoaXMudHdpc3RlZCB8fCB0aGlzLmMuZnJvbVJlZCgpLmNtcG4oMSkgPT09IDApO1xuICB0aGlzLm9uZUMgPSAoY29uZi5jIHwgMCkgPT09IDE7XG59XG5pbmhlcml0cyhFZHdhcmRzQ3VydmUsIEJhc2UpO1xubW9kdWxlLmV4cG9ydHMgPSBFZHdhcmRzQ3VydmU7XG5cbkVkd2FyZHNDdXJ2ZS5wcm90b3R5cGUuX211bEEgPSBmdW5jdGlvbiBfbXVsQShudW0pIHtcbiAgaWYgKHRoaXMubU9uZUEpXG4gICAgcmV0dXJuIG51bS5yZWROZWcoKTtcbiAgZWxzZVxuICAgIHJldHVybiB0aGlzLmEucmVkTXVsKG51bSk7XG59O1xuXG5FZHdhcmRzQ3VydmUucHJvdG90eXBlLl9tdWxDID0gZnVuY3Rpb24gX211bEMobnVtKSB7XG4gIGlmICh0aGlzLm9uZUMpXG4gICAgcmV0dXJuIG51bTtcbiAgZWxzZVxuICAgIHJldHVybiB0aGlzLmMucmVkTXVsKG51bSk7XG59O1xuXG4vLyBKdXN0IGZvciBjb21wYXRpYmlsaXR5IHdpdGggU2hvcnQgY3VydmVcbkVkd2FyZHNDdXJ2ZS5wcm90b3R5cGUuanBvaW50ID0gZnVuY3Rpb24ganBvaW50KHgsIHksIHosIHQpIHtcbiAgcmV0dXJuIHRoaXMucG9pbnQoeCwgeSwgeiwgdCk7XG59O1xuXG5FZHdhcmRzQ3VydmUucHJvdG90eXBlLnBvaW50RnJvbVggPSBmdW5jdGlvbiBwb2ludEZyb21YKG9kZCwgeCkge1xuICB4ID0gbmV3IGJuKHgsIDE2KTtcbiAgaWYgKCF4LnJlZClcbiAgICB4ID0geC50b1JlZCh0aGlzLnJlZCk7XG5cbiAgdmFyIHgyID0geC5yZWRTcXIoKTtcbiAgdmFyIHJocyA9IHRoaXMuYzIucmVkU3ViKHRoaXMuYS5yZWRNdWwoeDIpKTtcbiAgdmFyIGxocyA9IHRoaXMub25lLnJlZFN1Yih0aGlzLmMyLnJlZE11bCh0aGlzLmQpLnJlZE11bCh4MikpO1xuXG4gIHZhciB5ID0gcmhzLnJlZE11bChsaHMucmVkSW52bSgpKS5yZWRTcXJ0KCk7XG4gIHZhciBpc09kZCA9IHkuZnJvbVJlZCgpLmlzT2RkKCk7XG4gIGlmIChvZGQgJiYgIWlzT2RkIHx8ICFvZGQgJiYgaXNPZGQpXG4gICAgeSA9IHkucmVkTmVnKCk7XG5cbiAgcmV0dXJuIHRoaXMucG9pbnQoeCwgeSwgY3VydmUub25lKTtcbn07XG5cbkVkd2FyZHNDdXJ2ZS5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiB2YWxpZGF0ZShwb2ludCkge1xuICBpZiAocG9pbnQuaXNJbmZpbml0eSgpKVxuICAgIHJldHVybiB0cnVlO1xuXG4gIC8vIEN1cnZlOiBBICogWF4yICsgWV4yID0gQ14yICogKDEgKyBEICogWF4yICogWV4yKVxuICBwb2ludC5ub3JtYWxpemUoKTtcblxuICB2YXIgeDIgPSBwb2ludC54LnJlZFNxcigpO1xuICB2YXIgeTIgPSBwb2ludC55LnJlZFNxcigpO1xuICB2YXIgbGhzID0geDIucmVkTXVsKHRoaXMuYSkucmVkQWRkKHkyKTtcbiAgdmFyIHJocyA9IHRoaXMuYzIucmVkTXVsKHRoaXMub25lLnJlZEFkZCh0aGlzLmQucmVkTXVsKHgyKS5yZWRNdWwoeTIpKSk7XG5cbiAgcmV0dXJuIGxocy5jbXAocmhzKSA9PT0gMDtcbn07XG5cbmZ1bmN0aW9uIFBvaW50KGN1cnZlLCB4LCB5LCB6LCB0KSB7XG4gIEJhc2UuQmFzZVBvaW50LmNhbGwodGhpcywgY3VydmUsICdwcm9qZWN0aXZlJyk7XG4gIGlmICh4ID09PSBudWxsICYmIHkgPT09IG51bGwgJiYgeiA9PT0gbnVsbCkge1xuICAgIHRoaXMueCA9IHRoaXMuY3VydmUuemVybztcbiAgICB0aGlzLnkgPSB0aGlzLmN1cnZlLm9uZTtcbiAgICB0aGlzLnogPSB0aGlzLmN1cnZlLm9uZTtcbiAgICB0aGlzLnQgPSB0aGlzLmN1cnZlLnplcm87XG4gICAgdGhpcy56T25lID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnggPSBuZXcgYm4oeCwgMTYpO1xuICAgIHRoaXMueSA9IG5ldyBibih5LCAxNik7XG4gICAgdGhpcy56ID0geiA/IG5ldyBibih6LCAxNikgOiB0aGlzLmN1cnZlLm9uZTtcbiAgICB0aGlzLnQgPSB0ICYmIG5ldyBibih0LCAxNik7XG4gICAgaWYgKCF0aGlzLngucmVkKVxuICAgICAgdGhpcy54ID0gdGhpcy54LnRvUmVkKHRoaXMuY3VydmUucmVkKTtcbiAgICBpZiAoIXRoaXMueS5yZWQpXG4gICAgICB0aGlzLnkgPSB0aGlzLnkudG9SZWQodGhpcy5jdXJ2ZS5yZWQpO1xuICAgIGlmICghdGhpcy56LnJlZClcbiAgICAgIHRoaXMueiA9IHRoaXMuei50b1JlZCh0aGlzLmN1cnZlLnJlZCk7XG4gICAgaWYgKHRoaXMudCAmJiAhdGhpcy50LnJlZClcbiAgICAgIHRoaXMudCA9IHRoaXMudC50b1JlZCh0aGlzLmN1cnZlLnJlZCk7XG4gICAgdGhpcy56T25lID0gdGhpcy56ID09PSB0aGlzLmN1cnZlLm9uZTtcblxuICAgIC8vIFVzZSBleHRlbmRlZCBjb29yZGluYXRlc1xuICAgIGlmICh0aGlzLmN1cnZlLmV4dGVuZGVkICYmICF0aGlzLnQpIHtcbiAgICAgIHRoaXMudCA9IHRoaXMueC5yZWRNdWwodGhpcy55KTtcbiAgICAgIGlmICghdGhpcy56T25lKVxuICAgICAgICB0aGlzLnQgPSB0aGlzLnQucmVkTXVsKHRoaXMuei5yZWRJbnZtKCkpO1xuICAgIH1cbiAgfVxufVxuaW5oZXJpdHMoUG9pbnQsIEJhc2UuQmFzZVBvaW50KTtcblxuRWR3YXJkc0N1cnZlLnByb3RvdHlwZS5wb2ludEZyb21KU09OID0gZnVuY3Rpb24gcG9pbnRGcm9tSlNPTihvYmopIHtcbiAgcmV0dXJuIFBvaW50LmZyb21KU09OKHRoaXMsIG9iaik7XG59O1xuXG5FZHdhcmRzQ3VydmUucHJvdG90eXBlLnBvaW50ID0gZnVuY3Rpb24gcG9pbnQoeCwgeSwgeiwgdCkge1xuICByZXR1cm4gbmV3IFBvaW50KHRoaXMsIHgsIHksIHosIHQpO1xufTtcblxuUG9pbnQuZnJvbUpTT04gPSBmdW5jdGlvbiBmcm9tSlNPTihjdXJ2ZSwgb2JqKSB7XG4gIHJldHVybiBuZXcgUG9pbnQoY3VydmUsIG9ialswXSwgb2JqWzFdLCBvYmpbMl0pO1xufTtcblxuUG9pbnQucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0KCkge1xuICBpZiAodGhpcy5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuICc8RUMgUG9pbnQgSW5maW5pdHk+JztcbiAgcmV0dXJuICc8RUMgUG9pbnQgeDogJyArIHRoaXMueC5mcm9tUmVkKCkudG9TdHJpbmcoMTYsIDIpICtcbiAgICAgICcgeTogJyArIHRoaXMueS5mcm9tUmVkKCkudG9TdHJpbmcoMTYsIDIpICtcbiAgICAgICcgejogJyArIHRoaXMuei5mcm9tUmVkKCkudG9TdHJpbmcoMTYsIDIpICsgJz4nO1xufTtcblxuUG9pbnQucHJvdG90eXBlLmlzSW5maW5pdHkgPSBmdW5jdGlvbiBpc0luZmluaXR5KCkge1xuICAvLyBYWFggVGhpcyBjb2RlIGFzc3VtZXMgdGhhdCB6ZXJvIGlzIGFsd2F5cyB6ZXJvIGluIHJlZFxuICByZXR1cm4gdGhpcy54LmNtcG4oMCkgPT09IDAgJiZcbiAgICAgICAgIHRoaXMueS5jbXAodGhpcy56KSA9PT0gMDtcbn07XG5cblBvaW50LnByb3RvdHlwZS5fZXh0RGJsID0gZnVuY3Rpb24gX2V4dERibCgpIHtcbiAgLy8gaHlwZXJlbGxpcHRpYy5vcmcvRUZEL2cxcC9hdXRvLXR3aXN0ZWQtZXh0ZW5kZWQtMS5odG1sXG4gIC8vICAgICAjZG91YmxpbmctZGJsLTIwMDgtaHdjZFxuICAvLyA0TSArIDRTXG5cbiAgLy8gQSA9IFgxXjJcbiAgdmFyIGEgPSB0aGlzLngucmVkU3FyKCk7XG4gIC8vIEIgPSBZMV4yXG4gIHZhciBiID0gdGhpcy55LnJlZFNxcigpO1xuICAvLyBDID0gMiAqIFoxXjJcbiAgdmFyIGMgPSB0aGlzLnoucmVkU3FyKCk7XG4gIGMgPSBjLnJlZElBZGQoYyk7XG4gIC8vIEQgPSBhICogQVxuICB2YXIgZCA9IHRoaXMuY3VydmUuX211bEEoYSk7XG4gIC8vIEUgPSAoWDEgKyBZMSleMiAtIEEgLSBCXG4gIHZhciBlID0gdGhpcy54LnJlZEFkZCh0aGlzLnkpLnJlZFNxcigpLnJlZElTdWIoYSkucmVkSVN1YihiKTtcbiAgLy8gRyA9IEQgKyBCXG4gIHZhciBnID0gZC5yZWRBZGQoYik7XG4gIC8vIEYgPSBHIC0gQ1xuICB2YXIgZiA9IGcucmVkU3ViKGMpO1xuICAvLyBIID0gRCAtIEJcbiAgdmFyIGggPSBkLnJlZFN1YihiKTtcbiAgLy8gWDMgPSBFICogRlxuICB2YXIgbnggPSBlLnJlZE11bChmKTtcbiAgLy8gWTMgPSBHICogSFxuICB2YXIgbnkgPSBnLnJlZE11bChoKTtcbiAgLy8gVDMgPSBFICogSFxuICB2YXIgbnQgPSBlLnJlZE11bChoKTtcbiAgLy8gWjMgPSBGICogR1xuICB2YXIgbnogPSBmLnJlZE11bChnKTtcbiAgcmV0dXJuIHRoaXMuY3VydmUucG9pbnQobngsIG55LCBueiwgbnQpO1xufTtcblxuUG9pbnQucHJvdG90eXBlLl9wcm9qRGJsID0gZnVuY3Rpb24gX3Byb2pEYmwoKSB7XG4gIC8vIGh5cGVyZWxsaXB0aWMub3JnL0VGRC9nMXAvYXV0by10d2lzdGVkLXByb2plY3RpdmUuaHRtbFxuICAvLyAgICAgI2RvdWJsaW5nLWRibC0yMDA4LWJiamxwXG4gIC8vICAgICAjZG91YmxpbmctZGJsLTIwMDctYmxcbiAgLy8gYW5kIG90aGVyc1xuICAvLyBHZW5lcmFsbHkgM00gKyA0UyBvciAyTSArIDRTXG5cbiAgLy8gQiA9IChYMSArIFkxKV4yXG4gIHZhciBiID0gdGhpcy54LnJlZEFkZCh0aGlzLnkpLnJlZFNxcigpO1xuICAvLyBDID0gWDFeMlxuICB2YXIgYyA9IHRoaXMueC5yZWRTcXIoKTtcbiAgLy8gRCA9IFkxXjJcbiAgdmFyIGQgPSB0aGlzLnkucmVkU3FyKCk7XG5cbiAgdmFyIG54O1xuICB2YXIgbnk7XG4gIHZhciBuejtcbiAgaWYgKHRoaXMuY3VydmUudHdpc3RlZCkge1xuICAgIC8vIEUgPSBhICogQ1xuICAgIHZhciBlID0gdGhpcy5jdXJ2ZS5fbXVsQShjKTtcbiAgICAvLyBGID0gRSArIERcbiAgICB2YXIgZiA9IGUucmVkQWRkKGQpO1xuICAgIGlmICh0aGlzLnpPbmUpIHtcbiAgICAgIC8vIFgzID0gKEIgLSBDIC0gRCkgKiAoRiAtIDIpXG4gICAgICBueCA9IGIucmVkU3ViKGMpLnJlZFN1YihkKS5yZWRNdWwoZi5yZWRTdWIodGhpcy5jdXJ2ZS50d28pKTtcbiAgICAgIC8vIFkzID0gRiAqIChFIC0gRClcbiAgICAgIG55ID0gZi5yZWRNdWwoZS5yZWRTdWIoZCkpO1xuICAgICAgLy8gWjMgPSBGXjIgLSAyICogRlxuICAgICAgbnogPSBmLnJlZFNxcigpLnJlZFN1YihmKS5yZWRTdWIoZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEggPSBaMV4yXG4gICAgICB2YXIgaCA9IHRoaXMuei5yZWRTcXIoKTtcbiAgICAgIC8vIEogPSBGIC0gMiAqIEhcbiAgICAgIHZhciBqID0gZi5yZWRTdWIoaCkucmVkSVN1YihoKTtcbiAgICAgIC8vIFgzID0gKEItQy1EKSpKXG4gICAgICBueCA9IGIucmVkU3ViKGMpLnJlZElTdWIoZCkucmVkTXVsKGopO1xuICAgICAgLy8gWTMgPSBGICogKEUgLSBEKVxuICAgICAgbnkgPSBmLnJlZE11bChlLnJlZFN1YihkKSk7XG4gICAgICAvLyBaMyA9IEYgKiBKXG4gICAgICBueiA9IGYucmVkTXVsKGopO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBFID0gQyArIERcbiAgICB2YXIgZSA9IGMucmVkQWRkKGQpO1xuICAgIC8vIEggPSAoYyAqIFoxKV4yXG4gICAgdmFyIGggPSB0aGlzLmN1cnZlLl9tdWxDKHRoaXMuYy5yZWRNdWwodGhpcy56KSkucmVkU3FyKCk7XG4gICAgLy8gSiA9IEUgLSAyICogSFxuICAgIHZhciBqID0gZS5yZWRTdWIoaCkucmVkU3ViKGgpO1xuICAgIC8vIFgzID0gYyAqIChCIC0gRSkgKiBKXG4gICAgbnggPSB0aGlzLmN1cnZlLl9tdWxDKGIucmVkSVN1YihlKSkucmVkTXVsKGopO1xuICAgIC8vIFkzID0gYyAqIEUgKiAoQyAtIEQpXG4gICAgbnkgPSB0aGlzLmN1cnZlLl9tdWxDKGUpLnJlZE11bChjLnJlZElTdWIoZCkpO1xuICAgIC8vIFozID0gRSAqIEpcbiAgICBueiA9IGUucmVkTXVsKGopO1xuICB9XG4gIHJldHVybiB0aGlzLmN1cnZlLnBvaW50KG54LCBueSwgbnopO1xufTtcblxuUG9pbnQucHJvdG90eXBlLmRibCA9IGZ1bmN0aW9uIGRibCgpIHtcbiAgaWYgKHRoaXMuaXNJbmZpbml0eSgpKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIC8vIERvdWJsZSBpbiBleHRlbmRlZCBjb29yZGluYXRlc1xuICBpZiAodGhpcy5jdXJ2ZS5leHRlbmRlZClcbiAgICByZXR1cm4gdGhpcy5fZXh0RGJsKCk7XG4gIGVsc2VcbiAgICByZXR1cm4gdGhpcy5fcHJvakRibCgpO1xufTtcblxuUG9pbnQucHJvdG90eXBlLl9leHRBZGQgPSBmdW5jdGlvbiBfZXh0QWRkKHApIHtcbiAgLy8gaHlwZXJlbGxpcHRpYy5vcmcvRUZEL2cxcC9hdXRvLXR3aXN0ZWQtZXh0ZW5kZWQtMS5odG1sXG4gIC8vICAgICAjYWRkaXRpb24tYWRkLTIwMDgtaHdjZC0zXG4gIC8vIDhNXG5cbiAgLy8gQSA9IChZMSAtIFgxKSAqIChZMiAtIFgyKVxuICB2YXIgYSA9IHRoaXMueS5yZWRTdWIodGhpcy54KS5yZWRNdWwocC55LnJlZFN1YihwLngpKTtcbiAgLy8gQiA9IChZMSArIFgxKSAqIChZMiArIFgyKVxuICB2YXIgYiA9IHRoaXMueS5yZWRBZGQodGhpcy54KS5yZWRNdWwocC55LnJlZEFkZChwLngpKTtcbiAgLy8gQyA9IFQxICogayAqIFQyXG4gIHZhciBjID0gdGhpcy50LnJlZE11bCh0aGlzLmN1cnZlLmRkKS5yZWRNdWwocC50KTtcbiAgLy8gRCA9IFoxICogMiAqIFoyXG4gIHZhciBkID0gdGhpcy56LnJlZE11bChwLnoucmVkQWRkKHAueikpO1xuICAvLyBFID0gQiAtIEFcbiAgdmFyIGUgPSBiLnJlZFN1YihhKTtcbiAgLy8gRiA9IEQgLSBDXG4gIHZhciBmID0gZC5yZWRTdWIoYyk7XG4gIC8vIEcgPSBEICsgQ1xuICB2YXIgZyA9IGQucmVkQWRkKGMpO1xuICAvLyBIID0gQiArIEFcbiAgdmFyIGggPSBiLnJlZEFkZChhKTtcbiAgLy8gWDMgPSBFICogRlxuICB2YXIgbnggPSBlLnJlZE11bChmKTtcbiAgLy8gWTMgPSBHICogSFxuICB2YXIgbnkgPSBnLnJlZE11bChoKTtcbiAgLy8gVDMgPSBFICogSFxuICB2YXIgbnQgPSBlLnJlZE11bChoKTtcbiAgLy8gWjMgPSBGICogR1xuICB2YXIgbnogPSBmLnJlZE11bChnKTtcbiAgcmV0dXJuIHRoaXMuY3VydmUucG9pbnQobngsIG55LCBueiwgbnQpO1xufTtcblxuUG9pbnQucHJvdG90eXBlLl9wcm9qQWRkID0gZnVuY3Rpb24gX3Byb2pBZGQocCkge1xuICAvLyBoeXBlcmVsbGlwdGljLm9yZy9FRkQvZzFwL2F1dG8tdHdpc3RlZC1wcm9qZWN0aXZlLmh0bWxcbiAgLy8gICAgICNhZGRpdGlvbi1hZGQtMjAwOC1iYmpscFxuICAvLyAgICAgI2FkZGl0aW9uLWFkZC0yMDA3LWJsXG4gIC8vIDEwTSArIDFTXG5cbiAgLy8gQSA9IFoxICogWjJcbiAgdmFyIGEgPSB0aGlzLnoucmVkTXVsKHAueik7XG4gIC8vIEIgPSBBXjJcbiAgdmFyIGIgPSBhLnJlZFNxcigpO1xuICAvLyBDID0gWDEgKiBYMlxuICB2YXIgYyA9IHRoaXMueC5yZWRNdWwocC54KTtcbiAgLy8gRCA9IFkxICogWTJcbiAgdmFyIGQgPSB0aGlzLnkucmVkTXVsKHAueSk7XG4gIC8vIEUgPSBkICogQyAqIERcbiAgdmFyIGUgPSB0aGlzLmN1cnZlLmQucmVkTXVsKGMpLnJlZE11bChkKTtcbiAgLy8gRiA9IEIgLSBFXG4gIHZhciBmID0gYi5yZWRTdWIoZSk7XG4gIC8vIEcgPSBCICsgRVxuICB2YXIgZyA9IGIucmVkQWRkKGUpO1xuICAvLyBYMyA9IEEgKiBGICogKChYMSArIFkxKSAqIChYMiArIFkyKSAtIEMgLSBEKVxuICB2YXIgdG1wID0gdGhpcy54LnJlZEFkZCh0aGlzLnkpLnJlZE11bChwLngucmVkQWRkKHAueSkpLnJlZElTdWIoYykucmVkSVN1YihkKTtcbiAgdmFyIG54ID0gYS5yZWRNdWwoZikucmVkTXVsKHRtcCk7XG4gIHZhciBueTtcbiAgdmFyIG56O1xuICBpZiAodGhpcy5jdXJ2ZS50d2lzdGVkKSB7XG4gICAgLy8gWTMgPSBBICogRyAqIChEIC0gYSAqIEMpXG4gICAgbnkgPSBhLnJlZE11bChnKS5yZWRNdWwoZC5yZWRTdWIodGhpcy5jdXJ2ZS5fbXVsQShjKSkpO1xuICAgIC8vIFozID0gRiAqIEdcbiAgICBueiA9IGYucmVkTXVsKGcpO1xuICB9IGVsc2Uge1xuICAgIC8vIFkzID0gQSAqIEcgKiAoRCAtIEMpXG4gICAgbnkgPSBhLnJlZE11bChnKS5yZWRNdWwoZC5yZWRTdWIoYykpO1xuICAgIC8vIFozID0gYyAqIEYgKiBHXG4gICAgbnogPSB0aGlzLmN1cnZlLl9tdWxDKGYpLnJlZE11bChnKTtcbiAgfVxuICByZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChueCwgbnksIG56KTtcbn07XG5cblBvaW50LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQocCkge1xuICBpZiAodGhpcy5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuIHA7XG4gIGlmIChwLmlzSW5maW5pdHkoKSlcbiAgICByZXR1cm4gdGhpcztcblxuICBpZiAodGhpcy5jdXJ2ZS5leHRlbmRlZClcbiAgICByZXR1cm4gdGhpcy5fZXh0QWRkKHApO1xuICBlbHNlXG4gICAgcmV0dXJuIHRoaXMuX3Byb2pBZGQocCk7XG59O1xuXG5Qb2ludC5wcm90b3R5cGUubXVsID0gZnVuY3Rpb24gbXVsKGspIHtcbiAgaWYgKHRoaXMuX2hhc0RvdWJsZXMoaykpXG4gICAgcmV0dXJuIHRoaXMuY3VydmUuX2ZpeGVkTmFmTXVsKHRoaXMsIGspO1xuICBlbHNlXG4gICAgcmV0dXJuIHRoaXMuY3VydmUuX3duYWZNdWwodGhpcywgayk7XG59O1xuXG5Qb2ludC5wcm90b3R5cGUubXVsQWRkID0gZnVuY3Rpb24gbXVsQWRkKGsxLCBwLCBrMikge1xuICByZXR1cm4gdGhpcy5jdXJ2ZS5fd25hZk11bEFkZCgxLCBbIHRoaXMsIHAgXSwgWyBrMSwgazIgXSwgMik7XG59O1xuXG5Qb2ludC5wcm90b3R5cGUubm9ybWFsaXplID0gZnVuY3Rpb24gbm9ybWFsaXplKCkge1xuICBpZiAodGhpcy56T25lKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIC8vIE5vcm1hbGl6ZSBjb29yZGluYXRlc1xuICB2YXIgemkgPSB0aGlzLnoucmVkSW52bSgpO1xuICB0aGlzLnggPSB0aGlzLngucmVkTXVsKHppKTtcbiAgdGhpcy55ID0gdGhpcy55LnJlZE11bCh6aSk7XG4gIGlmICh0aGlzLnQpXG4gICAgdGhpcy50ID0gdGhpcy50LnJlZE11bCh6aSk7XG4gIHRoaXMueiA9IHRoaXMuY3VydmUub25lO1xuICB0aGlzLnpPbmUgPSB0cnVlO1xuICByZXR1cm4gdGhpcztcbn07XG5cblBvaW50LnByb3RvdHlwZS5uZWcgPSBmdW5jdGlvbiBuZWcoKSB7XG4gIHJldHVybiB0aGlzLmN1cnZlLnBvaW50KHRoaXMueC5yZWROZWcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy55LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnosXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudCAmJiB0aGlzLnQucmVkTmVnKCkpO1xufTtcblxuUG9pbnQucHJvdG90eXBlLmdldFggPSBmdW5jdGlvbiBnZXRYKCkge1xuICB0aGlzLm5vcm1hbGl6ZSgpO1xuICByZXR1cm4gdGhpcy54LmZyb21SZWQoKTtcbn07XG5cblBvaW50LnByb3RvdHlwZS5nZXRZID0gZnVuY3Rpb24gZ2V0WSgpIHtcbiAgdGhpcy5ub3JtYWxpemUoKTtcbiAgcmV0dXJuIHRoaXMueS5mcm9tUmVkKCk7XG59O1xuXG4vLyBDb21wYXRpYmlsaXR5IHdpdGggQmFzZUN1cnZlXG5Qb2ludC5wcm90b3R5cGUudG9QID0gUG9pbnQucHJvdG90eXBlLm5vcm1hbGl6ZTtcblBvaW50LnByb3RvdHlwZS5taXhlZEFkZCA9IFBvaW50LnByb3RvdHlwZS5hZGQ7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBibiA9IHJlcXVpcmUoJ2JuLmpzJyk7XG52YXIgZWxsaXB0aWMgPSByZXF1aXJlKCcuLi8uLi9lbGxpcHRpYycpO1xuXG52YXIgZ2V0TkFGID0gZWxsaXB0aWMudXRpbHMuZ2V0TkFGO1xudmFyIGdldEpTRiA9IGVsbGlwdGljLnV0aWxzLmdldEpTRjtcbnZhciBhc3NlcnQgPSBlbGxpcHRpYy51dGlscy5hc3NlcnQ7XG5cbmZ1bmN0aW9uIEJhc2VDdXJ2ZSh0eXBlLCBjb25mKSB7XG4gIHRoaXMudHlwZSA9IHR5cGU7XG4gIHRoaXMucCA9IG5ldyBibihjb25mLnAsIDE2KTtcblxuICAvLyBVc2UgTW9udGdvbWVyeSwgd2hlbiB0aGVyZSBpcyBubyBmYXN0IHJlZHVjdGlvbiBmb3IgdGhlIHByaW1lXG4gIHRoaXMucmVkID0gY29uZi5wcmltZSA/IGJuLnJlZChjb25mLnByaW1lKSA6IGJuLm1vbnQodGhpcy5wKTtcblxuICAvLyBVc2VmdWwgZm9yIG1hbnkgY3VydmVzXG4gIHRoaXMuemVybyA9IG5ldyBibigwKS50b1JlZCh0aGlzLnJlZCk7XG4gIHRoaXMub25lID0gbmV3IGJuKDEpLnRvUmVkKHRoaXMucmVkKTtcbiAgdGhpcy50d28gPSBuZXcgYm4oMikudG9SZWQodGhpcy5yZWQpO1xuXG4gIC8vIEN1cnZlIGNvbmZpZ3VyYXRpb24sIG9wdGlvbmFsXG4gIHRoaXMubiA9IGNvbmYubiAmJiBuZXcgYm4oY29uZi5uLCAxNik7XG4gIHRoaXMuZyA9IGNvbmYuZyAmJiB0aGlzLnBvaW50RnJvbUpTT04oY29uZi5nLCBjb25mLmdSZWQpO1xuXG4gIC8vIFRlbXBvcmFyeSBhcnJheXNcbiAgdGhpcy5fd25hZlQxID0gbmV3IEFycmF5KDQpO1xuICB0aGlzLl93bmFmVDIgPSBuZXcgQXJyYXkoNCk7XG4gIHRoaXMuX3duYWZUMyA9IG5ldyBBcnJheSg0KTtcbiAgdGhpcy5fd25hZlQ0ID0gbmV3IEFycmF5KDQpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBCYXNlQ3VydmU7XG5cbkJhc2VDdXJ2ZS5wcm90b3R5cGUucG9pbnQgPSBmdW5jdGlvbiBwb2ludCgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbn07XG5cbkJhc2VDdXJ2ZS5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiB2YWxpZGF0ZSgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbn07XG5cbkJhc2VDdXJ2ZS5wcm90b3R5cGUuX2ZpeGVkTmFmTXVsID0gZnVuY3Rpb24gX2ZpeGVkTmFmTXVsKHAsIGspIHtcbiAgYXNzZXJ0KHAucHJlY29tcHV0ZWQpO1xuICB2YXIgZG91YmxlcyA9IHAuX2dldERvdWJsZXMoKTtcblxuICB2YXIgbmFmID0gZ2V0TkFGKGssIDEpO1xuICB2YXIgSSA9ICgxIDw8IChkb3VibGVzLnN0ZXAgKyAxKSkgLSAoZG91Ymxlcy5zdGVwICUgMiA9PT0gMCA/IDIgOiAxKTtcbiAgSSAvPSAzO1xuXG4gIC8vIFRyYW5zbGF0ZSBpbnRvIG1vcmUgd2luZG93ZWQgZm9ybVxuICB2YXIgcmVwciA9IFtdO1xuICBmb3IgKHZhciBqID0gMDsgaiA8IG5hZi5sZW5ndGg7IGogKz0gZG91Ymxlcy5zdGVwKSB7XG4gICAgdmFyIG5hZlcgPSAwO1xuICAgIGZvciAodmFyIGsgPSBqICsgZG91Ymxlcy5zdGVwIC0gMTsgayA+PSBqOyBrLS0pXG4gICAgICBuYWZXID0gKG5hZlcgPDwgMSkgKyBuYWZba107XG4gICAgcmVwci5wdXNoKG5hZlcpO1xuICB9XG5cbiAgdmFyIGEgPSB0aGlzLmpwb2ludChudWxsLCBudWxsLCBudWxsKTtcbiAgdmFyIGIgPSB0aGlzLmpwb2ludChudWxsLCBudWxsLCBudWxsKTtcbiAgZm9yICh2YXIgaSA9IEk7IGkgPiAwOyBpLS0pIHtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJlcHIubGVuZ3RoOyBqKyspIHtcbiAgICAgIHZhciBuYWZXID0gcmVwcltqXTtcbiAgICAgIGlmIChuYWZXID09PSBpKVxuICAgICAgICBiID0gYi5taXhlZEFkZChkb3VibGVzLnBvaW50c1tqXSk7XG4gICAgICBlbHNlIGlmIChuYWZXID09PSAtaSlcbiAgICAgICAgYiA9IGIubWl4ZWRBZGQoZG91Ymxlcy5wb2ludHNbal0ubmVnKCkpO1xuICAgIH1cbiAgICBhID0gYS5hZGQoYik7XG4gIH1cbiAgcmV0dXJuIGEudG9QKCk7XG59O1xuXG5CYXNlQ3VydmUucHJvdG90eXBlLl93bmFmTXVsID0gZnVuY3Rpb24gX3duYWZNdWwocCwgaykge1xuICB2YXIgdyA9IDQ7XG5cbiAgLy8gUHJlY29tcHV0ZSB3aW5kb3dcbiAgdmFyIG5hZlBvaW50cyA9IHAuX2dldE5BRlBvaW50cyh3KTtcbiAgdyA9IG5hZlBvaW50cy53bmQ7XG4gIHZhciB3bmQgPSBuYWZQb2ludHMucG9pbnRzO1xuXG4gIC8vIEdldCBOQUYgZm9ybVxuICB2YXIgbmFmID0gZ2V0TkFGKGssIHcpO1xuXG4gIC8vIEFkZCBgdGhpc2AqKE4rMSkgZm9yIGV2ZXJ5IHctTkFGIGluZGV4XG4gIHZhciBhY2MgPSB0aGlzLmpwb2ludChudWxsLCBudWxsLCBudWxsKTtcbiAgZm9yICh2YXIgaSA9IG5hZi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIC8vIENvdW50IHplcm9lc1xuICAgIGZvciAodmFyIGsgPSAwOyBpID49IDAgJiYgbmFmW2ldID09PSAwOyBpLS0pXG4gICAgICBrKys7XG4gICAgaWYgKGkgPj0gMClcbiAgICAgIGsrKztcbiAgICBhY2MgPSBhY2MuZGJscChrKTtcblxuICAgIGlmIChpIDwgMClcbiAgICAgIGJyZWFrO1xuICAgIHZhciB6ID0gbmFmW2ldO1xuICAgIGFzc2VydCh6ICE9PSAwKTtcbiAgICBpZiAocC50eXBlID09PSAnYWZmaW5lJykge1xuICAgICAgLy8gSiArLSBQXG4gICAgICBpZiAoeiA+IDApXG4gICAgICAgIGFjYyA9IGFjYy5taXhlZEFkZCh3bmRbKHogLSAxKSA+PiAxXSk7XG4gICAgICBlbHNlXG4gICAgICAgIGFjYyA9IGFjYy5taXhlZEFkZCh3bmRbKC16IC0gMSkgPj4gMV0ubmVnKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBKICstIEpcbiAgICAgIGlmICh6ID4gMClcbiAgICAgICAgYWNjID0gYWNjLmFkZCh3bmRbKHogLSAxKSA+PiAxXSk7XG4gICAgICBlbHNlXG4gICAgICAgIGFjYyA9IGFjYy5hZGQod25kWygteiAtIDEpID4+IDFdLm5lZygpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHAudHlwZSA9PT0gJ2FmZmluZScgPyBhY2MudG9QKCkgOiBhY2M7XG59O1xuXG5CYXNlQ3VydmUucHJvdG90eXBlLl93bmFmTXVsQWRkID0gZnVuY3Rpb24gX3duYWZNdWxBZGQoZGVmVyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29lZmZzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlbikge1xuICB2YXIgd25kV2lkdGggPSB0aGlzLl93bmFmVDE7XG4gIHZhciB3bmQgPSB0aGlzLl93bmFmVDI7XG4gIHZhciBuYWYgPSB0aGlzLl93bmFmVDM7XG5cbiAgLy8gRmlsbCBhbGwgYXJyYXlzXG4gIHZhciBtYXggPSAwO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIHAgPSBwb2ludHNbaV07XG4gICAgdmFyIG5hZlBvaW50cyA9IHAuX2dldE5BRlBvaW50cyhkZWZXKTtcbiAgICB3bmRXaWR0aFtpXSA9IG5hZlBvaW50cy53bmQ7XG4gICAgd25kW2ldID0gbmFmUG9pbnRzLnBvaW50cztcbiAgfVxuXG4gIC8vIENvbWIgc21hbGwgd2luZG93IE5BRnNcbiAgZm9yICh2YXIgaSA9IGxlbiAtIDE7IGkgPj0gMTsgaSAtPSAyKSB7XG4gICAgdmFyIGEgPSBpIC0gMTtcbiAgICB2YXIgYiA9IGk7XG4gICAgaWYgKHduZFdpZHRoW2FdICE9PSAxIHx8IHduZFdpZHRoW2JdICE9PSAxKSB7XG4gICAgICBuYWZbYV0gPSBnZXROQUYoY29lZmZzW2FdLCB3bmRXaWR0aFthXSk7XG4gICAgICBuYWZbYl0gPSBnZXROQUYoY29lZmZzW2JdLCB3bmRXaWR0aFtiXSk7XG4gICAgICBtYXggPSBNYXRoLm1heChuYWZbYV0ubGVuZ3RoLCBtYXgpO1xuICAgICAgbWF4ID0gTWF0aC5tYXgobmFmW2JdLmxlbmd0aCwgbWF4KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHZhciBjb21iID0gW1xuICAgICAgcG9pbnRzW2FdLCAvKiAxICovXG4gICAgICBudWxsLCAvKiAzICovXG4gICAgICBudWxsLCAvKiA1ICovXG4gICAgICBwb2ludHNbYl0gLyogNyAqL1xuICAgIF07XG5cbiAgICAvLyBUcnkgdG8gYXZvaWQgUHJvamVjdGl2ZSBwb2ludHMsIGlmIHBvc3NpYmxlXG4gICAgaWYgKHBvaW50c1thXS55LmNtcChwb2ludHNbYl0ueSkgPT09IDApIHtcbiAgICAgIGNvbWJbMV0gPSBwb2ludHNbYV0uYWRkKHBvaW50c1tiXSk7XG4gICAgICBjb21iWzJdID0gcG9pbnRzW2FdLnRvSigpLm1peGVkQWRkKHBvaW50c1tiXS5uZWcoKSk7XG4gICAgfSBlbHNlIGlmIChwb2ludHNbYV0ueS5jbXAocG9pbnRzW2JdLnkucmVkTmVnKCkpID09PSAwKSB7XG4gICAgICBjb21iWzFdID0gcG9pbnRzW2FdLnRvSigpLm1peGVkQWRkKHBvaW50c1tiXSk7XG4gICAgICBjb21iWzJdID0gcG9pbnRzW2FdLmFkZChwb2ludHNbYl0ubmVnKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21iWzFdID0gcG9pbnRzW2FdLnRvSigpLm1peGVkQWRkKHBvaW50c1tiXSk7XG4gICAgICBjb21iWzJdID0gcG9pbnRzW2FdLnRvSigpLm1peGVkQWRkKHBvaW50c1tiXS5uZWcoKSk7XG4gICAgfVxuXG4gICAgdmFyIGluZGV4ID0gW1xuICAgICAgLTMsIC8qIC0xIC0xICovXG4gICAgICAtMSwgLyogLTEgMCAqL1xuICAgICAgLTUsIC8qIC0xIDEgKi9cbiAgICAgIC03LCAvKiAwIC0xICovXG4gICAgICAwLCAvKiAwIDAgKi9cbiAgICAgIDcsIC8qIDAgMSAqL1xuICAgICAgNSwgLyogMSAtMSAqL1xuICAgICAgMSwgLyogMSAwICovXG4gICAgICAzICAvKiAxIDEgKi9cbiAgICBdO1xuXG4gICAgdmFyIGpzZiA9IGdldEpTRihjb2VmZnNbYV0sIGNvZWZmc1tiXSk7XG4gICAgbWF4ID0gTWF0aC5tYXgoanNmWzBdLmxlbmd0aCwgbWF4KTtcbiAgICBuYWZbYV0gPSBuZXcgQXJyYXkobWF4KTtcbiAgICBuYWZbYl0gPSBuZXcgQXJyYXkobWF4KTtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1heDsgaisrKSB7XG4gICAgICB2YXIgamEgPSBqc2ZbMF1bal0gfCAwO1xuICAgICAgdmFyIGpiID0ganNmWzFdW2pdIHwgMDtcblxuICAgICAgbmFmW2FdW2pdID0gaW5kZXhbKGphICsgMSkgKiAzICsgKGpiICsgMSldO1xuICAgICAgbmFmW2JdW2pdID0gMDtcbiAgICAgIHduZFthXSA9IGNvbWI7XG4gICAgfVxuICB9XG5cbiAgdmFyIGFjYyA9IHRoaXMuanBvaW50KG51bGwsIG51bGwsIG51bGwpO1xuICB2YXIgdG1wID0gdGhpcy5fd25hZlQ0O1xuICBmb3IgKHZhciBpID0gbWF4OyBpID49IDA7IGktLSkge1xuICAgIHZhciBrID0gMDtcblxuICAgIHdoaWxlIChpID49IDApIHtcbiAgICAgIHZhciB6ZXJvID0gdHJ1ZTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgdG1wW2pdID0gbmFmW2pdW2ldIHwgMDtcbiAgICAgICAgaWYgKHRtcFtqXSAhPT0gMClcbiAgICAgICAgICB6ZXJvID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoIXplcm8pXG4gICAgICAgIGJyZWFrO1xuICAgICAgaysrO1xuICAgICAgaS0tO1xuICAgIH1cbiAgICBpZiAoaSA+PSAwKVxuICAgICAgaysrO1xuICAgIGFjYyA9IGFjYy5kYmxwKGspO1xuICAgIGlmIChpIDwgMClcbiAgICAgIGJyZWFrO1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBsZW47IGorKykge1xuICAgICAgdmFyIHogPSB0bXBbal07XG4gICAgICB2YXIgcDtcbiAgICAgIGlmICh6ID09PSAwKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIGVsc2UgaWYgKHogPiAwKVxuICAgICAgICBwID0gd25kW2pdWyh6IC0gMSkgPj4gMV07XG4gICAgICBlbHNlIGlmICh6IDwgMClcbiAgICAgICAgcCA9IHduZFtqXVsoLXogLSAxKSA+PiAxXS5uZWcoKTtcblxuICAgICAgaWYgKHAudHlwZSA9PT0gJ2FmZmluZScpXG4gICAgICAgIGFjYyA9IGFjYy5taXhlZEFkZChwKTtcbiAgICAgIGVsc2VcbiAgICAgICAgYWNjID0gYWNjLmFkZChwKTtcbiAgICB9XG4gIH1cbiAgLy8gWmVyb2lmeSByZWZlcmVuY2VzXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspXG4gICAgd25kW2ldID0gbnVsbDtcbiAgcmV0dXJuIGFjYy50b1AoKTtcbn07XG5cbmZ1bmN0aW9uIEJhc2VQb2ludChjdXJ2ZSwgdHlwZSkge1xuICB0aGlzLmN1cnZlID0gY3VydmU7XG4gIHRoaXMudHlwZSA9IHR5cGU7XG4gIHRoaXMucHJlY29tcHV0ZWQgPSBudWxsO1xufVxuQmFzZUN1cnZlLkJhc2VQb2ludCA9IEJhc2VQb2ludDtcblxuQmFzZVBvaW50LnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uIHZhbGlkYXRlKCkge1xuICByZXR1cm4gdGhpcy5jdXJ2ZS52YWxpZGF0ZSh0aGlzKTtcbn07XG5cbkJhc2VQb2ludC5wcm90b3R5cGUucHJlY29tcHV0ZSA9IGZ1bmN0aW9uIHByZWNvbXB1dGUocG93ZXIpIHtcbiAgaWYgKHRoaXMucHJlY29tcHV0ZWQpXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgdmFyIHByZWNvbXB1dGVkID0ge1xuICAgIGRvdWJsZXM6IG51bGwsXG4gICAgbmFmOiBudWxsLFxuICAgIGJldGE6IG51bGxcbiAgfTtcbiAgcHJlY29tcHV0ZWQubmFmID0gdGhpcy5fZ2V0TkFGUG9pbnRzKDgpO1xuICBwcmVjb21wdXRlZC5kb3VibGVzID0gdGhpcy5fZ2V0RG91Ymxlcyg0LCBwb3dlcik7XG4gIHByZWNvbXB1dGVkLmJldGEgPSB0aGlzLl9nZXRCZXRhKCk7XG4gIHRoaXMucHJlY29tcHV0ZWQgPSBwcmVjb21wdXRlZDtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbkJhc2VQb2ludC5wcm90b3R5cGUuX2hhc0RvdWJsZXMgPSBmdW5jdGlvbiBfaGFzRG91YmxlcyhrKSB7XG4gIGlmICghdGhpcy5wcmVjb21wdXRlZClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGRvdWJsZXMgPSB0aGlzLnByZWNvbXB1dGVkLmRvdWJsZXM7XG4gIGlmICghZG91YmxlcylcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgcmV0dXJuIGRvdWJsZXMucG9pbnRzLmxlbmd0aCA+PSBNYXRoLmNlaWwoKGsuYml0TGVuZ3RoKCkgKyAxKSAvIGRvdWJsZXMuc3RlcCk7XG59O1xuXG5CYXNlUG9pbnQucHJvdG90eXBlLl9nZXREb3VibGVzID0gZnVuY3Rpb24gX2dldERvdWJsZXMoc3RlcCwgcG93ZXIpIHtcbiAgaWYgKHRoaXMucHJlY29tcHV0ZWQgJiYgdGhpcy5wcmVjb21wdXRlZC5kb3VibGVzKVxuICAgIHJldHVybiB0aGlzLnByZWNvbXB1dGVkLmRvdWJsZXM7XG5cbiAgdmFyIGRvdWJsZXMgPSBbIHRoaXMgXTtcbiAgdmFyIGFjYyA9IHRoaXM7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcG93ZXI7IGkgKz0gc3RlcCkge1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgc3RlcDsgaisrKVxuICAgICAgYWNjID0gYWNjLmRibCgpO1xuICAgIGRvdWJsZXMucHVzaChhY2MpO1xuICB9XG4gIHJldHVybiB7XG4gICAgc3RlcDogc3RlcCxcbiAgICBwb2ludHM6IGRvdWJsZXNcbiAgfTtcbn07XG5cbkJhc2VQb2ludC5wcm90b3R5cGUuX2dldE5BRlBvaW50cyA9IGZ1bmN0aW9uIF9nZXROQUZQb2ludHMod25kKSB7XG4gIGlmICh0aGlzLnByZWNvbXB1dGVkICYmIHRoaXMucHJlY29tcHV0ZWQubmFmKVxuICAgIHJldHVybiB0aGlzLnByZWNvbXB1dGVkLm5hZjtcblxuICB2YXIgcmVzID0gWyB0aGlzIF07XG4gIHZhciBtYXggPSAoMSA8PCB3bmQpIC0gMTtcbiAgdmFyIGRibCA9IG1heCA9PT0gMSA/IG51bGwgOiB0aGlzLmRibCgpO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IG1heDsgaSsrKVxuICAgIHJlc1tpXSA9IHJlc1tpIC0gMV0uYWRkKGRibCk7XG4gIHJldHVybiB7XG4gICAgd25kOiB3bmQsXG4gICAgcG9pbnRzOiByZXNcbiAgfTtcbn07XG5cbkJhc2VQb2ludC5wcm90b3R5cGUuX2dldEJldGEgPSBmdW5jdGlvbiBfZ2V0QmV0YSgpIHtcbiAgcmV0dXJuIG51bGw7XG59O1xuXG5CYXNlUG9pbnQucHJvdG90eXBlLmRibHAgPSBmdW5jdGlvbiBkYmxwKGspIHtcbiAgdmFyIHIgPSB0aGlzO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGs7IGkrKylcbiAgICByID0gci5kYmwoKTtcbiAgcmV0dXJuIHI7XG59O1xuIiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xudmFyIGJuID0gcmVxdWlyZSgnYm4uanMnKTtcbnZhciByYW5kb21CeXRlcyA9IHJlcXVpcmUoJ3JhbmRvbWJ5dGVzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGNydDtcbmZ1bmN0aW9uIGJsaW5kKHByaXYpIHtcbiAgdmFyIHIgPSBnZXRyKHByaXYpO1xuICB2YXIgYmxpbmRlciA9IHIudG9SZWQoYm4ubW9udChwcml2Lm1vZHVsdXMpKVxuICAucmVkUG93KG5ldyBibihwcml2LnB1YmxpY0V4cG9uZW50KSkuZnJvbVJlZCgpO1xuICByZXR1cm4ge1xuICAgIGJsaW5kZXI6IGJsaW5kZXIsXG4gICAgdW5ibGluZGVyOnIuaW52bShwcml2Lm1vZHVsdXMpXG4gIH07XG59XG5mdW5jdGlvbiBjcnQobXNnLCBwcml2KSB7XG4gIHZhciBibGluZHMgPSBibGluZChwcml2KTtcbiAgdmFyIGxlbiA9IHByaXYubW9kdWx1cy5ieXRlTGVuZ3RoKCk7XG4gIHZhciBtb2QgPSBibi5tb250KHByaXYubW9kdWx1cyk7XG4gIHZhciBibGluZGVkID0gbmV3IGJuKG1zZykubXVsKGJsaW5kcy5ibGluZGVyKS5tb2QocHJpdi5tb2R1bHVzKTtcbiAgdmFyIGMxID0gYmxpbmRlZC50b1JlZChibi5tb250KHByaXYucHJpbWUxKSk7XG4gIHZhciBjMiA9IGJsaW5kZWQudG9SZWQoYm4ubW9udChwcml2LnByaW1lMikpO1xuICB2YXIgcWludiA9IHByaXYuY29lZmZpY2llbnQ7XG4gIHZhciBwID0gcHJpdi5wcmltZTE7XG4gIHZhciBxID0gcHJpdi5wcmltZTI7XG4gIHZhciBtMSA9IGMxLnJlZFBvdyhwcml2LmV4cG9uZW50MSk7XG4gIHZhciBtMiA9IGMyLnJlZFBvdyhwcml2LmV4cG9uZW50Mik7XG4gIG0xID0gbTEuZnJvbVJlZCgpO1xuICBtMiA9IG0yLmZyb21SZWQoKTtcbiAgdmFyIGggPSBtMS5pc3ViKG0yKS5pbXVsKHFpbnYpLm1vZChwKTtcbiAgaC5pbXVsKHEpO1xuICBtMi5pYWRkKGgpO1xuICB2YXIgb3V0ID0gbmV3IEJ1ZmZlcihtMi5pbXVsKGJsaW5kcy51bmJsaW5kZXIpLm1vZChwcml2Lm1vZHVsdXMpLnRvQXJyYXkoKSk7XG4gIGlmIChvdXQubGVuZ3RoIDwgbGVuKSB7XG4gICAgdmFyIHByZWZpeCA9IG5ldyBCdWZmZXIobGVuIC0gb3V0Lmxlbmd0aCk7XG4gICAgcHJlZml4LmZpbGwoMCk7XG4gICAgb3V0ID0gQnVmZmVyLmNvbmNhdChbcHJlZml4LCBvdXRdLCBsZW4pO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG5jcnQuZ2V0ciA9IGdldHI7XG5mdW5jdGlvbiBnZXRyKHByaXYpIHtcbiAgdmFyIGxlbiA9IHByaXYubW9kdWx1cy5ieXRlTGVuZ3RoKCk7XG4gIHZhciByID0gbmV3IGJuKHJhbmRvbUJ5dGVzKGxlbikpO1xuICB3aGlsZSAoci5jbXAocHJpdi5tb2R1bHVzKSA+PSAgMCB8fCAhci5tb2QocHJpdi5wcmltZTEpIHx8ICFyLm1vZChwcml2LnByaW1lMikpIHtcbiAgICByID0gbmV3IGJuKHJhbmRvbUJ5dGVzKGxlbikpO1xuICB9XG4gIHJldHVybiByO1xufVxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZZbkp2ZDNObGNtbG1lUzF6YVdkdUwyNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TFhKellTOXBibVJsZUM1cWN5SmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaU8wRkJRVUU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEVpTENKbWFXeGxJam9pWjJWdVpYSmhkR1ZrTG1weklpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYkluWmhjaUJpYmlBOUlISmxjWFZwY21Vb0oySnVMbXB6SnlrN1hHNTJZWElnY21GdVpHOXRRbmwwWlhNZ1BTQnlaWEYxYVhKbEtDZHlZVzVrYjIxaWVYUmxjeWNwTzF4dWJXOWtkV3hsTG1WNGNHOXlkSE1nUFNCamNuUTdYRzVtZFc1amRHbHZiaUJpYkdsdVpDaHdjbWwyS1NCN1hHNGdJSFpoY2lCeUlEMGdaMlYwY2lod2NtbDJLVHRjYmlBZ2RtRnlJR0pzYVc1a1pYSWdQU0J5TG5SdlVtVmtLR0p1TG0xdmJuUW9jSEpwZGk1dGIyUjFiSFZ6S1NsY2JpQWdMbkpsWkZCdmR5aHVaWGNnWW00b2NISnBkaTV3ZFdKc2FXTkZlSEJ2Ym1WdWRDa3BMbVp5YjIxU1pXUW9LVHRjYmlBZ2NtVjBkWEp1SUh0Y2JpQWdJQ0JpYkdsdVpHVnlPaUJpYkdsdVpHVnlMRnh1SUNBZ0lIVnVZbXhwYm1SbGNqcHlMbWx1ZG0wb2NISnBkaTV0YjJSMWJIVnpLVnh1SUNCOU8xeHVmVnh1Wm5WdVkzUnBiMjRnWTNKMEtHMXpaeXdnY0hKcGRpa2dlMXh1SUNCMllYSWdZbXhwYm1SeklEMGdZbXhwYm1Rb2NISnBkaWs3WEc0Z0lIWmhjaUJzWlc0Z1BTQndjbWwyTG0xdlpIVnNkWE11WW5sMFpVeGxibWQwYUNncE8xeHVJQ0IyWVhJZ2JXOWtJRDBnWW00dWJXOXVkQ2h3Y21sMkxtMXZaSFZzZFhNcE8xeHVJQ0IyWVhJZ1lteHBibVJsWkNBOUlHNWxkeUJpYmlodGMyY3BMbTExYkNoaWJHbHVaSE11WW14cGJtUmxjaWt1Ylc5a0tIQnlhWFl1Ylc5a2RXeDFjeWs3WEc0Z0lIWmhjaUJqTVNBOUlHSnNhVzVrWldRdWRHOVNaV1FvWW00dWJXOXVkQ2h3Y21sMkxuQnlhVzFsTVNrcE8xeHVJQ0IyWVhJZ1l6SWdQU0JpYkdsdVpHVmtMblJ2VW1Wa0tHSnVMbTF2Ym5Rb2NISnBkaTV3Y21sdFpUSXBLVHRjYmlBZ2RtRnlJSEZwYm5ZZ1BTQndjbWwyTG1OdlpXWm1hV05wWlc1ME8xeHVJQ0IyWVhJZ2NDQTlJSEJ5YVhZdWNISnBiV1V4TzF4dUlDQjJZWElnY1NBOUlIQnlhWFl1Y0hKcGJXVXlPMXh1SUNCMllYSWdiVEVnUFNCak1TNXlaV1JRYjNjb2NISnBkaTVsZUhCdmJtVnVkREVwTzF4dUlDQjJZWElnYlRJZ1BTQmpNaTV5WldSUWIzY29jSEpwZGk1bGVIQnZibVZ1ZERJcE8xeHVJQ0J0TVNBOUlHMHhMbVp5YjIxU1pXUW9LVHRjYmlBZ2JUSWdQU0J0TWk1bWNtOXRVbVZrS0NrN1hHNGdJSFpoY2lCb0lEMGdiVEV1YVhOMVlpaHRNaWt1YVcxMWJDaHhhVzUyS1M1dGIyUW9jQ2s3WEc0Z0lHZ3VhVzExYkNoeEtUdGNiaUFnYlRJdWFXRmtaQ2hvS1R0Y2JpQWdkbUZ5SUc5MWRDQTlJRzVsZHlCQ2RXWm1aWElvYlRJdWFXMTFiQ2hpYkdsdVpITXVkVzVpYkdsdVpHVnlLUzV0YjJRb2NISnBkaTV0YjJSMWJIVnpLUzUwYjBGeWNtRjVLQ2twTzF4dUlDQnBaaUFvYjNWMExteGxibWQwYUNBOElHeGxiaWtnZTF4dUlDQWdJSFpoY2lCd2NtVm1hWGdnUFNCdVpYY2dRblZtWm1WeUtHeGxiaUF0SUc5MWRDNXNaVzVuZEdncE8xeHVJQ0FnSUhCeVpXWnBlQzVtYVd4c0tEQXBPMXh1SUNBZ0lHOTFkQ0E5SUVKMVptWmxjaTVqYjI1allYUW9XM0J5WldacGVDd2diM1YwWFN3Z2JHVnVLVHRjYmlBZ2ZWeHVJQ0J5WlhSMWNtNGdiM1YwTzF4dWZWeHVZM0owTG1kbGRISWdQU0JuWlhSeU8xeHVablZ1WTNScGIyNGdaMlYwY2lod2NtbDJLU0I3WEc0Z0lIWmhjaUJzWlc0Z1BTQndjbWwyTG0xdlpIVnNkWE11WW5sMFpVeGxibWQwYUNncE8xeHVJQ0IyWVhJZ2NpQTlJRzVsZHlCaWJpaHlZVzVrYjIxQ2VYUmxjeWhzWlc0cEtUdGNiaUFnZDJocGJHVWdLSEl1WTIxd0tIQnlhWFl1Ylc5a2RXeDFjeWtnUGowZ0lEQWdmSHdnSVhJdWJXOWtLSEJ5YVhZdWNISnBiV1V4S1NCOGZDQWhjaTV0YjJRb2NISnBkaTV3Y21sdFpUSXBLU0I3WEc0Z0lDQWdjaUE5SUc1bGR5QmliaWh5WVc1a2IyMUNlWFJsY3loc1pXNHBLVHRjYmlBZ2ZWeHVJQ0J5WlhSMWNtNGdjanRjYm4waVhYMD0iLCIoZnVuY3Rpb24gKHByb2Nlc3MsZ2xvYmFsLEJ1ZmZlcil7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBjcnlwdG8gPSBnbG9iYWwuY3J5cHRvIHx8IGdsb2JhbC5tc0NyeXB0b1xuaWYoY3J5cHRvICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByYW5kb21CeXRlcztcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gb2xkQnJvd3Nlcjtcbn1cbmZ1bmN0aW9uIHJhbmRvbUJ5dGVzKHNpemUsIGNiKSB7XG4gIHZhciBieXRlcyA9IG5ldyBCdWZmZXIoc2l6ZSk7IC8vaW4gYnJvd3NlcmlmeSwgdGhpcyBpcyBhbiBleHRlbmRlZCBVaW50OEFycmF5XG4gICAgLyogVGhpcyB3aWxsIG5vdCB3b3JrIGluIG9sZGVyIGJyb3dzZXJzLlxuICAgICAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXNcbiAgICAgKi9cblxuICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGJ5dGVzKTtcbiAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNiKG51bGwsIGJ5dGVzKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gYnl0ZXM7XG59XG5mdW5jdGlvbiBvbGRCcm93c2VyKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnc2VjdXJlIHJhbmRvbSBudW1iZXIgZ2VuZXJhdGlvbiBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgYnJvd3NlclxcbicrXG4gICAgICAndXNlIGNocm9tZSwgRmlyZUZveCBvciBJbnRlcm5ldCBFeHBsb3JlciAxMSdcbiAgICApXG59XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKCdfcHJvY2VzcycpLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30scmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIpXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUwyNXZaR1ZmYlc5a2RXeGxjeTlqY25sd2RHOHRZbkp2ZDNObGNtbG1lUzl1YjJSbFgyMXZaSFZzWlhNdmNtRnVaRzl0WW5sMFpYTXZZbkp2ZDNObGNpNXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPMEZCUVVFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRU0lzSW1acGJHVWlPaUpuWlc1bGNtRjBaV1F1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaUozVnpaU0J6ZEhKcFkzUW5PMXh1WEc1MllYSWdZM0o1Y0hSdklEMGdaMnh2WW1Gc0xtTnllWEIwYnlCOGZDQm5iRzlpWVd3dWJYTkRjbmx3ZEc5Y2JtbG1LR055ZVhCMGJ5QW1KaUJqY25sd2RHOHVaMlYwVW1GdVpHOXRWbUZzZFdWektTQjdYRzRnSUcxdlpIVnNaUzVsZUhCdmNuUnpJRDBnY21GdVpHOXRRbmwwWlhNN1hHNTlJR1ZzYzJVZ2UxeHVJQ0J0YjJSMWJHVXVaWGh3YjNKMGN5QTlJRzlzWkVKeWIzZHpaWEk3WEc1OVhHNW1kVzVqZEdsdmJpQnlZVzVrYjIxQ2VYUmxjeWh6YVhwbExDQmpZaWtnZTF4dUlDQjJZWElnWW5sMFpYTWdQU0J1WlhjZ1FuVm1abVZ5S0hOcGVtVXBPeUF2TDJsdUlHSnliM2R6WlhKcFpua3NJSFJvYVhNZ2FYTWdZVzRnWlhoMFpXNWtaV1FnVldsdWREaEJjbkpoZVZ4dUlDQWdJQzhxSUZSb2FYTWdkMmxzYkNCdWIzUWdkMjl5YXlCcGJpQnZiR1JsY2lCaWNtOTNjMlZ5Y3k1Y2JpQWdJQ0FnS2lCVFpXVWdhSFIwY0hNNkx5OWtaWFpsYkc5d1pYSXViVzk2YVd4c1lTNXZjbWN2Wlc0dFZWTXZaRzlqY3k5WFpXSXZRVkJKTDNkcGJtUnZkeTVqY25sd2RHOHVaMlYwVW1GdVpHOXRWbUZzZFdWelhHNGdJQ0FnSUNvdlhHNWNiaUFnWTNKNWNIUnZMbWRsZEZKaGJtUnZiVlpoYkhWbGN5aGllWFJsY3lrN1hHNGdJR2xtSUNoMGVYQmxiMllnWTJJZ1BUMDlJQ2RtZFc1amRHbHZiaWNwSUh0Y2JpQWdJQ0J5WlhSMWNtNGdjSEp2WTJWemN5NXVaWGgwVkdsamF5aG1kVzVqZEdsdmJpQW9LU0I3WEc0Z0lDQWdJQ0JqWWlodWRXeHNMQ0JpZVhSbGN5azdYRzRnSUNBZ2ZTazdYRzRnSUgxY2JpQWdjbVYwZFhKdUlHSjVkR1Z6TzF4dWZWeHVablZ1WTNScGIyNGdiMnhrUW5KdmQzTmxjaWdwSUh0Y2JpQWdkR2h5YjNjZ2JtVjNJRVZ5Y205eUtGeHVJQ0FnSUNBZ0ozTmxZM1Z5WlNCeVlXNWtiMjBnYm5WdFltVnlJR2RsYm1WeVlYUnBiMjRnYm05MElITjFjSEJ2Y25SbFpDQmllU0IwYUdseklHSnliM2R6WlhKY1hHNG5LMXh1SUNBZ0lDQWdKM1Z6WlNCamFISnZiV1VzSUVacGNtVkdiM2dnYjNJZ1NXNTBaWEp1WlhRZ1JYaHdiRzl5WlhJZ01URW5YRzRnSUNBZ0tWeHVmVnh1SWwxOSIsIihmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG5cbid1c2Ugc3RyaWN0JztcblxuLy8gVXRpbHNcblxuZnVuY3Rpb24gYXNzZXJ0KHZhbCwgbXNnKSB7XG4gIGlmICghdmFsKVxuICAgIHRocm93IG5ldyBFcnJvcihtc2cgfHwgJ0Fzc2VydGlvbiBmYWlsZWQnKTtcbn1cblxuLy8gQ291bGQgdXNlIGBpbmhlcml0c2AgbW9kdWxlLCBidXQgZG9uJ3Qgd2FudCB0byBtb3ZlIGZyb20gc2luZ2xlIGZpbGVcbi8vIGFyY2hpdGVjdHVyZSB5ZXQuXG5mdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3I7XG4gIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9O1xuICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlO1xuICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpO1xuICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3I7XG59XG5cbi8vIEJOXG5cbmZ1bmN0aW9uIEJOKG51bWJlciwgYmFzZSwgZW5kaWFuKSB7XG4gIC8vIE1heSBiZSBgbmV3IEJOKGJuKWAgP1xuICBpZiAobnVtYmVyICE9PSBudWxsICYmXG4gICAgICB0eXBlb2YgbnVtYmVyID09PSAnb2JqZWN0JyAmJlxuICAgICAgQXJyYXkuaXNBcnJheShudW1iZXIud29yZHMpKSB7XG4gICAgcmV0dXJuIG51bWJlcjtcbiAgfVxuXG4gIHRoaXMuc2lnbiA9IGZhbHNlO1xuICB0aGlzLndvcmRzID0gbnVsbDtcbiAgdGhpcy5sZW5ndGggPSAwO1xuXG4gIC8vIFJlZHVjdGlvbiBjb250ZXh0XG4gIHRoaXMucmVkID0gbnVsbDtcblxuICBpZiAoYmFzZSA9PT0gJ2xlJyB8fCBiYXNlID09PSAnYmUnKSB7XG4gICAgZW5kaWFuID0gYmFzZTtcbiAgICBiYXNlID0gMTA7XG4gIH1cblxuICBpZiAobnVtYmVyICE9PSBudWxsKVxuICAgIHRoaXMuX2luaXQobnVtYmVyIHx8IDAsIGJhc2UgfHwgMTAsIGVuZGlhbiB8fCAnYmUnKTtcbn1cbmlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JylcbiAgbW9kdWxlLmV4cG9ydHMgPSBCTjtcbmVsc2VcbiAgZXhwb3J0cy5CTiA9IEJOO1xuXG5CTi5CTiA9IEJOO1xuQk4ud29yZFNpemUgPSAyNjtcblxuQk4ucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24gaW5pdChudW1iZXIsIGJhc2UsIGVuZGlhbikge1xuICBpZiAodHlwZW9mIG51bWJlciA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gdGhpcy5faW5pdE51bWJlcihudW1iZXIsIGJhc2UsIGVuZGlhbik7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG51bWJlciA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gdGhpcy5faW5pdEFycmF5KG51bWJlciwgYmFzZSwgZW5kaWFuKTtcbiAgfVxuICBpZiAoYmFzZSA9PT0gJ2hleCcpXG4gICAgYmFzZSA9IDE2O1xuICBhc3NlcnQoYmFzZSA9PT0gKGJhc2UgfCAwKSAmJiBiYXNlID49IDIgJiYgYmFzZSA8PSAzNik7XG5cbiAgbnVtYmVyID0gbnVtYmVyLnRvU3RyaW5nKCkucmVwbGFjZSgvXFxzKy9nLCAnJyk7XG4gIHZhciBzdGFydCA9IDA7XG4gIGlmIChudW1iZXJbMF0gPT09ICctJylcbiAgICBzdGFydCsrO1xuXG4gIGlmIChiYXNlID09PSAxNilcbiAgICB0aGlzLl9wYXJzZUhleChudW1iZXIsIHN0YXJ0KTtcbiAgZWxzZVxuICAgIHRoaXMuX3BhcnNlQmFzZShudW1iZXIsIGJhc2UsIHN0YXJ0KTtcblxuICBpZiAobnVtYmVyWzBdID09PSAnLScpXG4gICAgdGhpcy5zaWduID0gdHJ1ZTtcblxuICB0aGlzLnN0cmlwKCk7XG5cbiAgaWYgKGVuZGlhbiAhPT0gJ2xlJylcbiAgICByZXR1cm47XG5cbiAgdGhpcy5faW5pdEFycmF5KHRoaXMudG9BcnJheSgpLCBiYXNlLCBlbmRpYW4pO1xufTtcblxuQk4ucHJvdG90eXBlLl9pbml0TnVtYmVyID0gZnVuY3Rpb24gX2luaXROdW1iZXIobnVtYmVyLCBiYXNlLCBlbmRpYW4pIHtcbiAgaWYgKG51bWJlciA8IDApIHtcbiAgICB0aGlzLnNpZ24gPSB0cnVlO1xuICAgIG51bWJlciA9IC1udW1iZXI7XG4gIH1cbiAgaWYgKG51bWJlciA8IDB4NDAwMDAwMCkge1xuICAgIHRoaXMud29yZHMgPSBbIG51bWJlciAmIDB4M2ZmZmZmZiBdO1xuICAgIHRoaXMubGVuZ3RoID0gMTtcbiAgfSBlbHNlIGlmIChudW1iZXIgPCAweDEwMDAwMDAwMDAwMDAwKSB7XG4gICAgdGhpcy53b3JkcyA9IFtcbiAgICAgIG51bWJlciAmIDB4M2ZmZmZmZixcbiAgICAgIChudW1iZXIgLyAweDQwMDAwMDApICYgMHgzZmZmZmZmXG4gICAgXTtcbiAgICB0aGlzLmxlbmd0aCA9IDI7XG4gIH0gZWxzZSB7XG4gICAgYXNzZXJ0KG51bWJlciA8IDB4MjAwMDAwMDAwMDAwMDApOyAvLyAyIF4gNTMgKHVuc2FmZSlcbiAgICB0aGlzLndvcmRzID0gW1xuICAgICAgbnVtYmVyICYgMHgzZmZmZmZmLFxuICAgICAgKG51bWJlciAvIDB4NDAwMDAwMCkgJiAweDNmZmZmZmYsXG4gICAgICAxXG4gICAgXTtcbiAgICB0aGlzLmxlbmd0aCA9IDM7XG4gIH1cblxuICBpZiAoZW5kaWFuICE9PSAnbGUnKVxuICAgIHJldHVybjtcblxuICAvLyBSZXZlcnNlIHRoZSBieXRlc1xuICB0aGlzLl9pbml0QXJyYXkodGhpcy50b0FycmF5KCksIGJhc2UsIGVuZGlhbik7XG59O1xuXG5CTi5wcm90b3R5cGUuX2luaXRBcnJheSA9IGZ1bmN0aW9uIF9pbml0QXJyYXkobnVtYmVyLCBiYXNlLCBlbmRpYW4pIHtcbiAgLy8gUGVyaGFwcyBhIFVpbnQ4QXJyYXlcbiAgYXNzZXJ0KHR5cGVvZiBudW1iZXIubGVuZ3RoID09PSAnbnVtYmVyJyk7XG4gIGlmIChudW1iZXIubGVuZ3RoIDw9IDApIHtcbiAgICB0aGlzLndvcmRzID0gWyAwIF07XG4gICAgdGhpcy5sZW5ndGggPSAxO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdGhpcy5sZW5ndGggPSBNYXRoLmNlaWwobnVtYmVyLmxlbmd0aCAvIDMpO1xuICB0aGlzLndvcmRzID0gbmV3IEFycmF5KHRoaXMubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKVxuICAgIHRoaXMud29yZHNbaV0gPSAwO1xuXG4gIHZhciBvZmYgPSAwO1xuICBpZiAoZW5kaWFuID09PSAnYmUnKSB7XG4gICAgZm9yICh2YXIgaSA9IG51bWJlci5sZW5ndGggLSAxLCBqID0gMDsgaSA+PSAwOyBpIC09IDMpIHtcbiAgICAgIHZhciB3ID0gbnVtYmVyW2ldIHwgKG51bWJlcltpIC0gMV0gPDwgOCkgfCAobnVtYmVyW2kgLSAyXSA8PCAxNik7XG4gICAgICB0aGlzLndvcmRzW2pdIHw9ICh3IDw8IG9mZikgJiAweDNmZmZmZmY7XG4gICAgICB0aGlzLndvcmRzW2ogKyAxXSA9ICh3ID4+PiAoMjYgLSBvZmYpKSAmIDB4M2ZmZmZmZjtcbiAgICAgIG9mZiArPSAyNDtcbiAgICAgIGlmIChvZmYgPj0gMjYpIHtcbiAgICAgICAgb2ZmIC09IDI2O1xuICAgICAgICBqKys7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGVuZGlhbiA9PT0gJ2xlJykge1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IG51bWJlci5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgdmFyIHcgPSBudW1iZXJbaV0gfCAobnVtYmVyW2kgKyAxXSA8PCA4KSB8IChudW1iZXJbaSArIDJdIDw8IDE2KTtcbiAgICAgIHRoaXMud29yZHNbal0gfD0gKHcgPDwgb2ZmKSAmIDB4M2ZmZmZmZjtcbiAgICAgIHRoaXMud29yZHNbaiArIDFdID0gKHcgPj4+ICgyNiAtIG9mZikpICYgMHgzZmZmZmZmO1xuICAgICAgb2ZmICs9IDI0O1xuICAgICAgaWYgKG9mZiA+PSAyNikge1xuICAgICAgICBvZmYgLT0gMjY7XG4gICAgICAgIGorKztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoaXMuc3RyaXAoKTtcbn07XG5cbmZ1bmN0aW9uIHBhcnNlSGV4KHN0ciwgc3RhcnQsIGVuZCkge1xuICB2YXIgciA9IDA7XG4gIHZhciBsZW4gPSBNYXRoLm1pbihzdHIubGVuZ3RoLCBlbmQpO1xuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBjID0gc3RyLmNoYXJDb2RlQXQoaSkgLSA0ODtcblxuICAgIHIgPDw9IDQ7XG5cbiAgICAvLyAnYScgLSAnZidcbiAgICBpZiAoYyA+PSA0OSAmJiBjIDw9IDU0KVxuICAgICAgciB8PSBjIC0gNDkgKyAweGE7XG5cbiAgICAvLyAnQScgLSAnRidcbiAgICBlbHNlIGlmIChjID49IDE3ICYmIGMgPD0gMjIpXG4gICAgICByIHw9IGMgLSAxNyArIDB4YTtcblxuICAgIC8vICcwJyAtICc5J1xuICAgIGVsc2VcbiAgICAgIHIgfD0gYyAmIDB4ZjtcbiAgfVxuICByZXR1cm4gcjtcbn1cblxuQk4ucHJvdG90eXBlLl9wYXJzZUhleCA9IGZ1bmN0aW9uIF9wYXJzZUhleChudW1iZXIsIHN0YXJ0KSB7XG4gIC8vIENyZWF0ZSBwb3NzaWJseSBiaWdnZXIgYXJyYXkgdG8gZW5zdXJlIHRoYXQgaXQgZml0cyB0aGUgbnVtYmVyXG4gIHRoaXMubGVuZ3RoID0gTWF0aC5jZWlsKChudW1iZXIubGVuZ3RoIC0gc3RhcnQpIC8gNik7XG4gIHRoaXMud29yZHMgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspXG4gICAgdGhpcy53b3Jkc1tpXSA9IDA7XG5cbiAgLy8gU2NhbiAyNC1iaXQgY2h1bmtzIGFuZCBhZGQgdGhlbSB0byB0aGUgbnVtYmVyXG4gIHZhciBvZmYgPSAwO1xuICBmb3IgKHZhciBpID0gbnVtYmVyLmxlbmd0aCAtIDYsIGogPSAwOyBpID49IHN0YXJ0OyBpIC09IDYpIHtcbiAgICB2YXIgdyA9IHBhcnNlSGV4KG51bWJlciwgaSwgaSArIDYpO1xuICAgIHRoaXMud29yZHNbal0gfD0gKHcgPDwgb2ZmKSAmIDB4M2ZmZmZmZjtcbiAgICB0aGlzLndvcmRzW2ogKyAxXSB8PSB3ID4+PiAoMjYgLSBvZmYpICYgMHgzZmZmZmY7XG4gICAgb2ZmICs9IDI0O1xuICAgIGlmIChvZmYgPj0gMjYpIHtcbiAgICAgIG9mZiAtPSAyNjtcbiAgICAgIGorKztcbiAgICB9XG4gIH1cbiAgaWYgKGkgKyA2ICE9PSBzdGFydCkge1xuICAgIHZhciB3ID0gcGFyc2VIZXgobnVtYmVyLCBzdGFydCwgaSArIDYpO1xuICAgIHRoaXMud29yZHNbal0gfD0gKHcgPDwgb2ZmKSAmIDB4M2ZmZmZmZjtcbiAgICB0aGlzLndvcmRzW2ogKyAxXSB8PSB3ID4+PiAoMjYgLSBvZmYpICYgMHgzZmZmZmY7XG4gIH1cbiAgdGhpcy5zdHJpcCgpO1xufTtcblxuZnVuY3Rpb24gcGFyc2VCYXNlKHN0ciwgc3RhcnQsIGVuZCwgbXVsKSB7XG4gIHZhciByID0gMDtcbiAgdmFyIGxlbiA9IE1hdGgubWluKHN0ci5sZW5ndGgsIGVuZCk7XG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGMgPSBzdHIuY2hhckNvZGVBdChpKSAtIDQ4O1xuXG4gICAgciAqPSBtdWw7XG5cbiAgICAvLyAnYSdcbiAgICBpZiAoYyA+PSA0OSlcbiAgICAgIHIgKz0gYyAtIDQ5ICsgMHhhO1xuXG4gICAgLy8gJ0EnXG4gICAgZWxzZSBpZiAoYyA+PSAxNylcbiAgICAgIHIgKz0gYyAtIDE3ICsgMHhhO1xuXG4gICAgLy8gJzAnIC0gJzknXG4gICAgZWxzZVxuICAgICAgciArPSBjO1xuICB9XG4gIHJldHVybiByO1xufVxuXG5CTi5wcm90b3R5cGUuX3BhcnNlQmFzZSA9IGZ1bmN0aW9uIF9wYXJzZUJhc2UobnVtYmVyLCBiYXNlLCBzdGFydCkge1xuICAvLyBJbml0aWFsaXplIGFzIHplcm9cbiAgdGhpcy53b3JkcyA9IFsgMCBdO1xuICB0aGlzLmxlbmd0aCA9IDE7XG5cbiAgLy8gRmluZCBsZW5ndGggb2YgbGltYiBpbiBiYXNlXG4gIGZvciAodmFyIGxpbWJMZW4gPSAwLCBsaW1iUG93ID0gMTsgbGltYlBvdyA8PSAweDNmZmZmZmY7IGxpbWJQb3cgKj0gYmFzZSlcbiAgICBsaW1iTGVuKys7XG4gIGxpbWJMZW4tLTtcbiAgbGltYlBvdyA9IChsaW1iUG93IC8gYmFzZSkgfCAwO1xuXG4gIHZhciB0b3RhbCA9IG51bWJlci5sZW5ndGggLSBzdGFydDtcbiAgdmFyIG1vZCA9IHRvdGFsICUgbGltYkxlbjtcbiAgdmFyIGVuZCA9IE1hdGgubWluKHRvdGFsLCB0b3RhbCAtIG1vZCkgKyBzdGFydDtcblxuICB2YXIgd29yZCA9IDA7XG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSBsaW1iTGVuKSB7XG4gICAgd29yZCA9IHBhcnNlQmFzZShudW1iZXIsIGksIGkgKyBsaW1iTGVuLCBiYXNlKTtcblxuICAgIHRoaXMuaW11bG4obGltYlBvdyk7XG4gICAgaWYgKHRoaXMud29yZHNbMF0gKyB3b3JkIDwgMHg0MDAwMDAwKVxuICAgICAgdGhpcy53b3Jkc1swXSArPSB3b3JkO1xuICAgIGVsc2VcbiAgICAgIHRoaXMuX2lhZGRuKHdvcmQpO1xuICB9XG5cbiAgaWYgKG1vZCAhPT0gMCkge1xuICAgIHZhciBwb3cgPSAxO1xuICAgIHZhciB3b3JkID0gcGFyc2VCYXNlKG51bWJlciwgaSwgbnVtYmVyLmxlbmd0aCwgYmFzZSk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1vZDsgaSsrKVxuICAgICAgcG93ICo9IGJhc2U7XG4gICAgdGhpcy5pbXVsbihwb3cpO1xuICAgIGlmICh0aGlzLndvcmRzWzBdICsgd29yZCA8IDB4NDAwMDAwMClcbiAgICAgIHRoaXMud29yZHNbMF0gKz0gd29yZDtcbiAgICBlbHNlXG4gICAgICB0aGlzLl9pYWRkbih3b3JkKTtcbiAgfVxufTtcblxuQk4ucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KGRlc3QpIHtcbiAgZGVzdC53b3JkcyA9IG5ldyBBcnJheSh0aGlzLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKylcbiAgICBkZXN0LndvcmRzW2ldID0gdGhpcy53b3Jkc1tpXTtcbiAgZGVzdC5sZW5ndGggPSB0aGlzLmxlbmd0aDtcbiAgZGVzdC5zaWduID0gdGhpcy5zaWduO1xuICBkZXN0LnJlZCA9IHRoaXMucmVkO1xufTtcblxuQk4ucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUoKSB7XG4gIHZhciByID0gbmV3IEJOKG51bGwpO1xuICB0aGlzLmNvcHkocik7XG4gIHJldHVybiByO1xufTtcblxuLy8gUmVtb3ZlIGxlYWRpbmcgYDBgIGZyb20gYHRoaXNgXG5CTi5wcm90b3R5cGUuc3RyaXAgPSBmdW5jdGlvbiBzdHJpcCgpIHtcbiAgd2hpbGUgKHRoaXMubGVuZ3RoID4gMSAmJiB0aGlzLndvcmRzW3RoaXMubGVuZ3RoIC0gMV0gPT09IDApXG4gICAgdGhpcy5sZW5ndGgtLTtcbiAgcmV0dXJuIHRoaXMuX25vcm1TaWduKCk7XG59O1xuXG5CTi5wcm90b3R5cGUuX25vcm1TaWduID0gZnVuY3Rpb24gX25vcm1TaWduKCkge1xuICAvLyAtMCA9IDBcbiAgaWYgKHRoaXMubGVuZ3RoID09PSAxICYmIHRoaXMud29yZHNbMF0gPT09IDApXG4gICAgdGhpcy5zaWduID0gZmFsc2U7XG4gIHJldHVybiB0aGlzO1xufTtcblxuQk4ucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0KCkge1xuICByZXR1cm4gKHRoaXMucmVkID8gJzxCTi1SOiAnIDogJzxCTjogJykgKyB0aGlzLnRvU3RyaW5nKDE2KSArICc+Jztcbn07XG5cbi8qXG5cbnZhciB6ZXJvcyA9IFtdO1xudmFyIGdyb3VwU2l6ZXMgPSBbXTtcbnZhciBncm91cEJhc2VzID0gW107XG5cbnZhciBzID0gJyc7XG52YXIgaSA9IC0xO1xud2hpbGUgKCsraSA8IEJOLndvcmRTaXplKSB7XG4gIHplcm9zW2ldID0gcztcbiAgcyArPSAnMCc7XG59XG5ncm91cFNpemVzWzBdID0gMDtcbmdyb3VwU2l6ZXNbMV0gPSAwO1xuZ3JvdXBCYXNlc1swXSA9IDA7XG5ncm91cEJhc2VzWzFdID0gMDtcbnZhciBiYXNlID0gMiAtIDE7XG53aGlsZSAoKytiYXNlIDwgMzYgKyAxKSB7XG4gIHZhciBncm91cFNpemUgPSAwO1xuICB2YXIgZ3JvdXBCYXNlID0gMTtcbiAgd2hpbGUgKGdyb3VwQmFzZSA8ICgxIDw8IEJOLndvcmRTaXplKSAvIGJhc2UpIHtcbiAgICBncm91cEJhc2UgKj0gYmFzZTtcbiAgICBncm91cFNpemUgKz0gMTtcbiAgfVxuICBncm91cFNpemVzW2Jhc2VdID0gZ3JvdXBTaXplO1xuICBncm91cEJhc2VzW2Jhc2VdID0gZ3JvdXBCYXNlO1xufVxuXG4qL1xuXG52YXIgemVyb3MgPSBbXG4gICcnLFxuICAnMCcsXG4gICcwMCcsXG4gICcwMDAnLFxuICAnMDAwMCcsXG4gICcwMDAwMCcsXG4gICcwMDAwMDAnLFxuICAnMDAwMDAwMCcsXG4gICcwMDAwMDAwMCcsXG4gICcwMDAwMDAwMDAnLFxuICAnMDAwMDAwMDAwMCcsXG4gICcwMDAwMDAwMDAwMCcsXG4gICcwMDAwMDAwMDAwMDAnLFxuICAnMDAwMDAwMDAwMDAwMCcsXG4gICcwMDAwMDAwMDAwMDAwMCcsXG4gICcwMDAwMDAwMDAwMDAwMDAnLFxuICAnMDAwMDAwMDAwMDAwMDAwMCcsXG4gICcwMDAwMDAwMDAwMDAwMDAwMCcsXG4gICcwMDAwMDAwMDAwMDAwMDAwMDAnLFxuICAnMDAwMDAwMDAwMDAwMDAwMDAwMCcsXG4gICcwMDAwMDAwMDAwMDAwMDAwMDAwMCcsXG4gICcwMDAwMDAwMDAwMDAwMDAwMDAwMDAnLFxuICAnMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcsXG4gICcwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcsXG4gICcwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnLFxuICAnMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCdcbl07XG5cbnZhciBncm91cFNpemVzID0gW1xuICAwLCAwLFxuICAyNSwgMTYsIDEyLCAxMSwgMTAsIDksIDgsXG4gIDgsIDcsIDcsIDcsIDcsIDYsIDYsXG4gIDYsIDYsIDYsIDYsIDYsIDUsIDUsXG4gIDUsIDUsIDUsIDUsIDUsIDUsIDUsXG4gIDUsIDUsIDUsIDUsIDUsIDUsIDVcbl07XG5cbnZhciBncm91cEJhc2VzID0gW1xuICAwLCAwLFxuICAzMzU1NDQzMiwgNDMwNDY3MjEsIDE2Nzc3MjE2LCA0ODgyODEyNSwgNjA0NjYxNzYsIDQwMzUzNjA3LCAxNjc3NzIxNixcbiAgNDMwNDY3MjEsIDEwMDAwMDAwLCAxOTQ4NzE3MSwgMzU4MzE4MDgsIDYyNzQ4NTE3LCA3NTI5NTM2LCAxMTM5MDYyNSxcbiAgMTY3NzcyMTYsIDI0MTM3NTY5LCAzNDAxMjIyNCwgNDcwNDU4ODEsIDY0MDAwMDAwLCA0MDg0MTAxLCA1MTUzNjMyLFxuICA2NDM2MzQzLCA3OTYyNjI0LCA5NzY1NjI1LCAxMTg4MTM3NiwgMTQzNDg5MDcsIDE3MjEwMzY4LCAyMDUxMTE0OSxcbiAgMjQzMDAwMDAsIDI4NjI5MTUxLCAzMzU1NDQzMiwgMzkxMzUzOTMsIDQ1NDM1NDI0LCA1MjUyMTg3NSwgNjA0NjYxNzZcbl07XG5cbkJOLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKGJhc2UsIHBhZGRpbmcpIHtcbiAgYmFzZSA9IGJhc2UgfHwgMTA7XG4gIGlmIChiYXNlID09PSAxNiB8fCBiYXNlID09PSAnaGV4Jykge1xuICAgIHZhciBvdXQgPSAnJztcbiAgICB2YXIgb2ZmID0gMDtcbiAgICB2YXIgcGFkZGluZyA9IHBhZGRpbmcgfCAwIHx8IDE7XG4gICAgdmFyIGNhcnJ5ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB3ID0gdGhpcy53b3Jkc1tpXTtcbiAgICAgIHZhciB3b3JkID0gKCgodyA8PCBvZmYpIHwgY2FycnkpICYgMHhmZmZmZmYpLnRvU3RyaW5nKDE2KTtcbiAgICAgIGNhcnJ5ID0gKHcgPj4+ICgyNCAtIG9mZikpICYgMHhmZmZmZmY7XG4gICAgICBpZiAoY2FycnkgIT09IDAgfHwgaSAhPT0gdGhpcy5sZW5ndGggLSAxKVxuICAgICAgICBvdXQgPSB6ZXJvc1s2IC0gd29yZC5sZW5ndGhdICsgd29yZCArIG91dDtcbiAgICAgIGVsc2VcbiAgICAgICAgb3V0ID0gd29yZCArIG91dDtcbiAgICAgIG9mZiArPSAyO1xuICAgICAgaWYgKG9mZiA+PSAyNikge1xuICAgICAgICBvZmYgLT0gMjY7XG4gICAgICAgIGktLTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNhcnJ5ICE9PSAwKVxuICAgICAgb3V0ID0gY2FycnkudG9TdHJpbmcoMTYpICsgb3V0O1xuICAgIHdoaWxlIChvdXQubGVuZ3RoICUgcGFkZGluZyAhPT0gMClcbiAgICAgIG91dCA9ICcwJyArIG91dDtcbiAgICBpZiAodGhpcy5zaWduKVxuICAgICAgb3V0ID0gJy0nICsgb3V0O1xuICAgIHJldHVybiBvdXQ7XG4gIH0gZWxzZSBpZiAoYmFzZSA9PT0gKGJhc2UgfCAwKSAmJiBiYXNlID49IDIgJiYgYmFzZSA8PSAzNikge1xuICAgIC8vIHZhciBncm91cFNpemUgPSBNYXRoLmZsb29yKEJOLndvcmRTaXplICogTWF0aC5MTjIgLyBNYXRoLmxvZyhiYXNlKSk7XG4gICAgdmFyIGdyb3VwU2l6ZSA9IGdyb3VwU2l6ZXNbYmFzZV07XG4gICAgLy8gdmFyIGdyb3VwQmFzZSA9IE1hdGgucG93KGJhc2UsIGdyb3VwU2l6ZSk7XG4gICAgdmFyIGdyb3VwQmFzZSA9IGdyb3VwQmFzZXNbYmFzZV07XG4gICAgdmFyIG91dCA9ICcnO1xuICAgIHZhciBjID0gdGhpcy5jbG9uZSgpO1xuICAgIGMuc2lnbiA9IGZhbHNlO1xuICAgIHdoaWxlIChjLmNtcG4oMCkgIT09IDApIHtcbiAgICAgIHZhciByID0gYy5tb2RuKGdyb3VwQmFzZSkudG9TdHJpbmcoYmFzZSk7XG4gICAgICBjID0gYy5pZGl2bihncm91cEJhc2UpO1xuXG4gICAgICBpZiAoYy5jbXBuKDApICE9PSAwKVxuICAgICAgICBvdXQgPSB6ZXJvc1tncm91cFNpemUgLSByLmxlbmd0aF0gKyByICsgb3V0O1xuICAgICAgZWxzZVxuICAgICAgICBvdXQgPSByICsgb3V0O1xuICAgIH1cbiAgICBpZiAodGhpcy5jbXBuKDApID09PSAwKVxuICAgICAgb3V0ID0gJzAnICsgb3V0O1xuICAgIGlmICh0aGlzLnNpZ24pXG4gICAgICBvdXQgPSAnLScgKyBvdXQ7XG4gICAgcmV0dXJuIG91dDtcbiAgfSBlbHNlIHtcbiAgICBhc3NlcnQoZmFsc2UsICdCYXNlIHNob3VsZCBiZSBiZXR3ZWVuIDIgYW5kIDM2Jyk7XG4gIH1cbn07XG5cbkJOLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gIHJldHVybiB0aGlzLnRvU3RyaW5nKDE2KTtcbn07XG5cbkJOLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gdG9BcnJheShlbmRpYW4pIHtcbiAgdGhpcy5zdHJpcCgpO1xuICB2YXIgcmVzID0gbmV3IEFycmF5KHRoaXMuYnl0ZUxlbmd0aCgpKTtcbiAgcmVzWzBdID0gMDtcblxuICB2YXIgcSA9IHRoaXMuY2xvbmUoKTtcbiAgaWYgKGVuZGlhbiAhPT0gJ2xlJykge1xuICAgIC8vIEFzc3VtZSBiaWctZW5kaWFuXG4gICAgZm9yICh2YXIgaSA9IDA7IHEuY21wbigwKSAhPT0gMDsgaSsrKSB7XG4gICAgICB2YXIgYiA9IHEuYW5kbG4oMHhmZik7XG4gICAgICBxLmlzaHJuKDgpO1xuXG4gICAgICByZXNbcmVzLmxlbmd0aCAtIGkgLSAxXSA9IGI7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEFzc3VtZSBsaXR0bGUtZW5kaWFuXG4gICAgZm9yICh2YXIgaSA9IDA7IHEuY21wbigwKSAhPT0gMDsgaSsrKSB7XG4gICAgICB2YXIgYiA9IHEuYW5kbG4oMHhmZik7XG4gICAgICBxLmlzaHJuKDgpO1xuXG4gICAgICByZXNbaV0gPSBiO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXM7XG59O1xuXG5pZiAoTWF0aC5jbHozMikge1xuICBCTi5wcm90b3R5cGUuX2NvdW50Qml0cyA9IGZ1bmN0aW9uIF9jb3VudEJpdHModykge1xuICAgIHJldHVybiAzMiAtIE1hdGguY2x6MzIodyk7XG4gIH07XG59IGVsc2Uge1xuICBCTi5wcm90b3R5cGUuX2NvdW50Qml0cyA9IGZ1bmN0aW9uIF9jb3VudEJpdHModykge1xuICAgIHZhciB0ID0gdztcbiAgICB2YXIgciA9IDA7XG4gICAgaWYgKHQgPj0gMHgxMDAwKSB7XG4gICAgICByICs9IDEzO1xuICAgICAgdCA+Pj49IDEzO1xuICAgIH1cbiAgICBpZiAodCA+PSAweDQwKSB7XG4gICAgICByICs9IDc7XG4gICAgICB0ID4+Pj0gNztcbiAgICB9XG4gICAgaWYgKHQgPj0gMHg4KSB7XG4gICAgICByICs9IDQ7XG4gICAgICB0ID4+Pj0gNDtcbiAgICB9XG4gICAgaWYgKHQgPj0gMHgwMikge1xuICAgICAgciArPSAyO1xuICAgICAgdCA+Pj49IDI7XG4gICAgfVxuICAgIHJldHVybiByICsgdDtcbiAgfTtcbn1cblxuQk4ucHJvdG90eXBlLl96ZXJvQml0cyA9IGZ1bmN0aW9uIF96ZXJvQml0cyh3KSB7XG4gIC8vIFNob3J0LWN1dFxuICBpZiAodyA9PT0gMClcbiAgICByZXR1cm4gMjY7XG5cbiAgdmFyIHQgPSB3O1xuICB2YXIgciA9IDA7XG4gIGlmICgodCAmIDB4MWZmZikgPT09IDApIHtcbiAgICByICs9IDEzO1xuICAgIHQgPj4+PSAxMztcbiAgfVxuICBpZiAoKHQgJiAweDdmKSA9PT0gMCkge1xuICAgIHIgKz0gNztcbiAgICB0ID4+Pj0gNztcbiAgfVxuICBpZiAoKHQgJiAweGYpID09PSAwKSB7XG4gICAgciArPSA0O1xuICAgIHQgPj4+PSA0O1xuICB9XG4gIGlmICgodCAmIDB4MykgPT09IDApIHtcbiAgICByICs9IDI7XG4gICAgdCA+Pj49IDI7XG4gIH1cbiAgaWYgKCh0ICYgMHgxKSA9PT0gMClcbiAgICByKys7XG4gIHJldHVybiByO1xufTtcblxuLy8gUmV0dXJuIG51bWJlciBvZiB1c2VkIGJpdHMgaW4gYSBCTlxuQk4ucHJvdG90eXBlLmJpdExlbmd0aCA9IGZ1bmN0aW9uIGJpdExlbmd0aCgpIHtcbiAgdmFyIGhpID0gMDtcbiAgdmFyIHcgPSB0aGlzLndvcmRzW3RoaXMubGVuZ3RoIC0gMV07XG4gIHZhciBoaSA9IHRoaXMuX2NvdW50Qml0cyh3KTtcbiAgcmV0dXJuICh0aGlzLmxlbmd0aCAtIDEpICogMjYgKyBoaTtcbn07XG5cbi8vIE51bWJlciBvZiB0cmFpbGluZyB6ZXJvIGJpdHNcbkJOLnByb3RvdHlwZS56ZXJvQml0cyA9IGZ1bmN0aW9uIHplcm9CaXRzKCkge1xuICBpZiAodGhpcy5jbXBuKDApID09PSAwKVxuICAgIHJldHVybiAwO1xuXG4gIHZhciByID0gMDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGIgPSB0aGlzLl96ZXJvQml0cyh0aGlzLndvcmRzW2ldKTtcbiAgICByICs9IGI7XG4gICAgaWYgKGIgIT09IDI2KVxuICAgICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIHI7XG59O1xuXG5CTi5wcm90b3R5cGUuYnl0ZUxlbmd0aCA9IGZ1bmN0aW9uIGJ5dGVMZW5ndGgoKSB7XG4gIHJldHVybiBNYXRoLmNlaWwodGhpcy5iaXRMZW5ndGgoKSAvIDgpO1xufTtcblxuLy8gUmV0dXJuIG5lZ2F0aXZlIGNsb25lIG9mIGB0aGlzYFxuQk4ucHJvdG90eXBlLm5lZyA9IGZ1bmN0aW9uIG5lZygpIHtcbiAgaWYgKHRoaXMuY21wbigwKSA9PT0gMClcbiAgICByZXR1cm4gdGhpcy5jbG9uZSgpO1xuXG4gIHZhciByID0gdGhpcy5jbG9uZSgpO1xuICByLnNpZ24gPSAhdGhpcy5zaWduO1xuICByZXR1cm4gcjtcbn07XG5cblxuLy8gT3IgYG51bWAgd2l0aCBgdGhpc2AgaW4tcGxhY2VcbkJOLnByb3RvdHlwZS5pb3IgPSBmdW5jdGlvbiBpb3IobnVtKSB7XG4gIHRoaXMuc2lnbiA9IHRoaXMuc2lnbiB8fCBudW0uc2lnbjtcblxuICB3aGlsZSAodGhpcy5sZW5ndGggPCBudW0ubGVuZ3RoKVxuICAgIHRoaXMud29yZHNbdGhpcy5sZW5ndGgrK10gPSAwO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtLmxlbmd0aDsgaSsrKVxuICAgIHRoaXMud29yZHNbaV0gPSB0aGlzLndvcmRzW2ldIHwgbnVtLndvcmRzW2ldO1xuXG4gIHJldHVybiB0aGlzLnN0cmlwKCk7XG59O1xuXG5cbi8vIE9yIGBudW1gIHdpdGggYHRoaXNgXG5CTi5wcm90b3R5cGUub3IgPSBmdW5jdGlvbiBvcihudW0pIHtcbiAgaWYgKHRoaXMubGVuZ3RoID4gbnVtLmxlbmd0aClcbiAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmlvcihudW0pO1xuICBlbHNlXG4gICAgcmV0dXJuIG51bS5jbG9uZSgpLmlvcih0aGlzKTtcbn07XG5cblxuLy8gQW5kIGBudW1gIHdpdGggYHRoaXNgIGluLXBsYWNlXG5CTi5wcm90b3R5cGUuaWFuZCA9IGZ1bmN0aW9uIGlhbmQobnVtKSB7XG4gIHRoaXMuc2lnbiA9IHRoaXMuc2lnbiAmJiBudW0uc2lnbjtcblxuICAvLyBiID0gbWluLWxlbmd0aChudW0sIHRoaXMpXG4gIHZhciBiO1xuICBpZiAodGhpcy5sZW5ndGggPiBudW0ubGVuZ3RoKVxuICAgIGIgPSBudW07XG4gIGVsc2VcbiAgICBiID0gdGhpcztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspXG4gICAgdGhpcy53b3Jkc1tpXSA9IHRoaXMud29yZHNbaV0gJiBudW0ud29yZHNbaV07XG5cbiAgdGhpcy5sZW5ndGggPSBiLmxlbmd0aDtcblxuICByZXR1cm4gdGhpcy5zdHJpcCgpO1xufTtcblxuXG4vLyBBbmQgYG51bWAgd2l0aCBgdGhpc2BcbkJOLnByb3RvdHlwZS5hbmQgPSBmdW5jdGlvbiBhbmQobnVtKSB7XG4gIGlmICh0aGlzLmxlbmd0aCA+IG51bS5sZW5ndGgpXG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5pYW5kKG51bSk7XG4gIGVsc2VcbiAgICByZXR1cm4gbnVtLmNsb25lKCkuaWFuZCh0aGlzKTtcbn07XG5cblxuLy8gWG9yIGBudW1gIHdpdGggYHRoaXNgIGluLXBsYWNlXG5CTi5wcm90b3R5cGUuaXhvciA9IGZ1bmN0aW9uIGl4b3IobnVtKSB7XG4gIHRoaXMuc2lnbiA9IHRoaXMuc2lnbiB8fCBudW0uc2lnbjtcblxuICAvLyBhLmxlbmd0aCA+IGIubGVuZ3RoXG4gIHZhciBhO1xuICB2YXIgYjtcbiAgaWYgKHRoaXMubGVuZ3RoID4gbnVtLmxlbmd0aCkge1xuICAgIGEgPSB0aGlzO1xuICAgIGIgPSBudW07XG4gIH0gZWxzZSB7XG4gICAgYSA9IG51bTtcbiAgICBiID0gdGhpcztcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKylcbiAgICB0aGlzLndvcmRzW2ldID0gYS53b3Jkc1tpXSBeIGIud29yZHNbaV07XG5cbiAgaWYgKHRoaXMgIT09IGEpXG4gICAgZm9yICg7IGkgPCBhLmxlbmd0aDsgaSsrKVxuICAgICAgdGhpcy53b3Jkc1tpXSA9IGEud29yZHNbaV07XG5cbiAgdGhpcy5sZW5ndGggPSBhLmxlbmd0aDtcblxuICByZXR1cm4gdGhpcy5zdHJpcCgpO1xufTtcblxuXG4vLyBYb3IgYG51bWAgd2l0aCBgdGhpc2BcbkJOLnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiB4b3IobnVtKSB7XG4gIGlmICh0aGlzLmxlbmd0aCA+IG51bS5sZW5ndGgpXG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5peG9yKG51bSk7XG4gIGVsc2VcbiAgICByZXR1cm4gbnVtLmNsb25lKCkuaXhvcih0aGlzKTtcbn07XG5cblxuLy8gU2V0IGBiaXRgIG9mIGB0aGlzYFxuQk4ucHJvdG90eXBlLnNldG4gPSBmdW5jdGlvbiBzZXRuKGJpdCwgdmFsKSB7XG4gIGFzc2VydCh0eXBlb2YgYml0ID09PSAnbnVtYmVyJyAmJiBiaXQgPj0gMCk7XG5cbiAgdmFyIG9mZiA9IChiaXQgLyAyNikgfCAwO1xuICB2YXIgd2JpdCA9IGJpdCAlIDI2O1xuXG4gIHdoaWxlICh0aGlzLmxlbmd0aCA8PSBvZmYpXG4gICAgdGhpcy53b3Jkc1t0aGlzLmxlbmd0aCsrXSA9IDA7XG5cbiAgaWYgKHZhbClcbiAgICB0aGlzLndvcmRzW29mZl0gPSB0aGlzLndvcmRzW29mZl0gfCAoMSA8PCB3Yml0KTtcbiAgZWxzZVxuICAgIHRoaXMud29yZHNbb2ZmXSA9IHRoaXMud29yZHNbb2ZmXSAmIH4oMSA8PCB3Yml0KTtcblxuICByZXR1cm4gdGhpcy5zdHJpcCgpO1xufTtcblxuXG4vLyBBZGQgYG51bWAgdG8gYHRoaXNgIGluLXBsYWNlXG5CTi5wcm90b3R5cGUuaWFkZCA9IGZ1bmN0aW9uIGlhZGQobnVtKSB7XG4gIC8vIG5lZ2F0aXZlICsgcG9zaXRpdmVcbiAgaWYgKHRoaXMuc2lnbiAmJiAhbnVtLnNpZ24pIHtcbiAgICB0aGlzLnNpZ24gPSBmYWxzZTtcbiAgICB2YXIgciA9IHRoaXMuaXN1YihudW0pO1xuICAgIHRoaXMuc2lnbiA9ICF0aGlzLnNpZ247XG4gICAgcmV0dXJuIHRoaXMuX25vcm1TaWduKCk7XG5cbiAgLy8gcG9zaXRpdmUgKyBuZWdhdGl2ZVxuICB9IGVsc2UgaWYgKCF0aGlzLnNpZ24gJiYgbnVtLnNpZ24pIHtcbiAgICBudW0uc2lnbiA9IGZhbHNlO1xuICAgIHZhciByID0gdGhpcy5pc3ViKG51bSk7XG4gICAgbnVtLnNpZ24gPSB0cnVlO1xuICAgIHJldHVybiByLl9ub3JtU2lnbigpO1xuICB9XG5cbiAgLy8gYS5sZW5ndGggPiBiLmxlbmd0aFxuICB2YXIgYTtcbiAgdmFyIGI7XG4gIGlmICh0aGlzLmxlbmd0aCA+IG51bS5sZW5ndGgpIHtcbiAgICBhID0gdGhpcztcbiAgICBiID0gbnVtO1xuICB9IGVsc2Uge1xuICAgIGEgPSBudW07XG4gICAgYiA9IHRoaXM7XG4gIH1cblxuICB2YXIgY2FycnkgPSAwO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgciA9IGEud29yZHNbaV0gKyBiLndvcmRzW2ldICsgY2Fycnk7XG4gICAgdGhpcy53b3Jkc1tpXSA9IHIgJiAweDNmZmZmZmY7XG4gICAgY2FycnkgPSByID4+PiAyNjtcbiAgfVxuICBmb3IgKDsgY2FycnkgIT09IDAgJiYgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgciA9IGEud29yZHNbaV0gKyBjYXJyeTtcbiAgICB0aGlzLndvcmRzW2ldID0gciAmIDB4M2ZmZmZmZjtcbiAgICBjYXJyeSA9IHIgPj4+IDI2O1xuICB9XG5cbiAgdGhpcy5sZW5ndGggPSBhLmxlbmd0aDtcbiAgaWYgKGNhcnJ5ICE9PSAwKSB7XG4gICAgdGhpcy53b3Jkc1t0aGlzLmxlbmd0aF0gPSBjYXJyeTtcbiAgICB0aGlzLmxlbmd0aCsrO1xuICAvLyBDb3B5IHRoZSByZXN0IG9mIHRoZSB3b3Jkc1xuICB9IGVsc2UgaWYgKGEgIT09IHRoaXMpIHtcbiAgICBmb3IgKDsgaSA8IGEubGVuZ3RoOyBpKyspXG4gICAgICB0aGlzLndvcmRzW2ldID0gYS53b3Jkc1tpXTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gQWRkIGBudW1gIHRvIGB0aGlzYFxuQk4ucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZChudW0pIHtcbiAgaWYgKG51bS5zaWduICYmICF0aGlzLnNpZ24pIHtcbiAgICBudW0uc2lnbiA9IGZhbHNlO1xuICAgIHZhciByZXMgPSB0aGlzLnN1YihudW0pO1xuICAgIG51bS5zaWduID0gdHJ1ZTtcbiAgICByZXR1cm4gcmVzO1xuICB9IGVsc2UgaWYgKCFudW0uc2lnbiAmJiB0aGlzLnNpZ24pIHtcbiAgICB0aGlzLnNpZ24gPSBmYWxzZTtcbiAgICB2YXIgcmVzID0gbnVtLnN1Yih0aGlzKTtcbiAgICB0aGlzLnNpZ24gPSB0cnVlO1xuICAgIHJldHVybiByZXM7XG4gIH1cblxuICBpZiAodGhpcy5sZW5ndGggPiBudW0ubGVuZ3RoKVxuICAgIHJldHVybiB0aGlzLmNsb25lKCkuaWFkZChudW0pO1xuICBlbHNlXG4gICAgcmV0dXJuIG51bS5jbG9uZSgpLmlhZGQodGhpcyk7XG59O1xuXG4vLyBTdWJ0cmFjdCBgbnVtYCBmcm9tIGB0aGlzYCBpbi1wbGFjZVxuQk4ucHJvdG90eXBlLmlzdWIgPSBmdW5jdGlvbiBpc3ViKG51bSkge1xuICAvLyB0aGlzIC0gKC1udW0pID0gdGhpcyArIG51bVxuICBpZiAobnVtLnNpZ24pIHtcbiAgICBudW0uc2lnbiA9IGZhbHNlO1xuICAgIHZhciByID0gdGhpcy5pYWRkKG51bSk7XG4gICAgbnVtLnNpZ24gPSB0cnVlO1xuICAgIHJldHVybiByLl9ub3JtU2lnbigpO1xuXG4gIC8vIC10aGlzIC0gbnVtID0gLSh0aGlzICsgbnVtKVxuICB9IGVsc2UgaWYgKHRoaXMuc2lnbikge1xuICAgIHRoaXMuc2lnbiA9IGZhbHNlO1xuICAgIHRoaXMuaWFkZChudW0pO1xuICAgIHRoaXMuc2lnbiA9IHRydWU7XG4gICAgcmV0dXJuIHRoaXMuX25vcm1TaWduKCk7XG4gIH1cblxuICAvLyBBdCB0aGlzIHBvaW50IGJvdGggbnVtYmVycyBhcmUgcG9zaXRpdmVcbiAgdmFyIGNtcCA9IHRoaXMuY21wKG51bSk7XG5cbiAgLy8gT3B0aW1pemF0aW9uIC0gemVyb2lmeVxuICBpZiAoY21wID09PSAwKSB7XG4gICAgdGhpcy5zaWduID0gZmFsc2U7XG4gICAgdGhpcy5sZW5ndGggPSAxO1xuICAgIHRoaXMud29yZHNbMF0gPSAwO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gYSA+IGJcbiAgdmFyIGE7XG4gIHZhciBiO1xuICBpZiAoY21wID4gMCkge1xuICAgIGEgPSB0aGlzO1xuICAgIGIgPSBudW07XG4gIH0gZWxzZSB7XG4gICAgYSA9IG51bTtcbiAgICBiID0gdGhpcztcbiAgfVxuXG4gIHZhciBjYXJyeSA9IDA7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xuICAgIHZhciByID0gYS53b3Jkc1tpXSAtIGIud29yZHNbaV0gKyBjYXJyeTtcbiAgICBjYXJyeSA9IHIgPj4gMjY7XG4gICAgdGhpcy53b3Jkc1tpXSA9IHIgJiAweDNmZmZmZmY7XG4gIH1cbiAgZm9yICg7IGNhcnJ5ICE9PSAwICYmIGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHIgPSBhLndvcmRzW2ldICsgY2Fycnk7XG4gICAgY2FycnkgPSByID4+IDI2O1xuICAgIHRoaXMud29yZHNbaV0gPSByICYgMHgzZmZmZmZmO1xuICB9XG5cbiAgLy8gQ29weSByZXN0IG9mIHRoZSB3b3Jkc1xuICBpZiAoY2FycnkgPT09IDAgJiYgaSA8IGEubGVuZ3RoICYmIGEgIT09IHRoaXMpXG4gICAgZm9yICg7IGkgPCBhLmxlbmd0aDsgaSsrKVxuICAgICAgdGhpcy53b3Jkc1tpXSA9IGEud29yZHNbaV07XG4gIHRoaXMubGVuZ3RoID0gTWF0aC5tYXgodGhpcy5sZW5ndGgsIGkpO1xuXG4gIGlmIChhICE9PSB0aGlzKVxuICAgIHRoaXMuc2lnbiA9IHRydWU7XG5cbiAgcmV0dXJuIHRoaXMuc3RyaXAoKTtcbn07XG5cbi8vIFN1YnRyYWN0IGBudW1gIGZyb20gYHRoaXNgXG5CTi5wcm90b3R5cGUuc3ViID0gZnVuY3Rpb24gc3ViKG51bSkge1xuICByZXR1cm4gdGhpcy5jbG9uZSgpLmlzdWIobnVtKTtcbn07XG5cbi8qXG4vLyBOT1RFOiBUaGlzIGNvdWxkIGJlIHBvdGVudGlvbmFsbHkgdXNlZCB0byBnZW5lcmF0ZSBsb29wLWxlc3MgbXVsdGlwbGljYXRpb25zXG5mdW5jdGlvbiBfZ2VuQ29tYk11bFRvKGFsZW4sIGJsZW4pIHtcbiAgdmFyIGxlbiA9IGFsZW4gKyBibGVuIC0gMTtcbiAgdmFyIHNyYyA9IFtcbiAgICAndmFyIGEgPSB0aGlzLndvcmRzLCBiID0gbnVtLndvcmRzLCBvID0gb3V0LndvcmRzLCBjID0gMCwgdywgJyArXG4gICAgICAgICdtYXNrID0gMHgzZmZmZmZmLCBzaGlmdCA9IDB4NDAwMDAwMDsnLFxuICAgICdvdXQubGVuZ3RoID0gJyArIGxlbiArICc7J1xuICBdO1xuICBmb3IgKHZhciBrID0gMDsgayA8IGxlbjsgaysrKSB7XG4gICAgdmFyIG1pbkogPSBNYXRoLm1heCgwLCBrIC0gYWxlbiArIDEpO1xuICAgIHZhciBtYXhKID0gTWF0aC5taW4oaywgYmxlbiAtIDEpO1xuXG4gICAgZm9yICh2YXIgaiA9IG1pbko7IGogPD0gbWF4SjsgaisrKSB7XG4gICAgICB2YXIgaSA9IGsgLSBqO1xuICAgICAgdmFyIG11bCA9ICdhWycgKyBpICsgJ10gKiBiWycgKyBqICsgJ10nO1xuXG4gICAgICBpZiAoaiA9PT0gbWluSikge1xuICAgICAgICBzcmMucHVzaCgndyA9ICcgKyBtdWwgKyAnICsgYzsnKTtcbiAgICAgICAgc3JjLnB1c2goJ2MgPSAodyAvIHNoaWZ0KSB8IDA7Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcmMucHVzaCgndyArPSAnICsgbXVsICsgJzsnKTtcbiAgICAgICAgc3JjLnB1c2goJ2MgKz0gKHcgLyBzaGlmdCkgfCAwOycpO1xuICAgICAgfVxuICAgICAgc3JjLnB1c2goJ3cgJj0gbWFzazsnKTtcbiAgICB9XG4gICAgc3JjLnB1c2goJ29bJyArIGsgKyAnXSA9IHc7Jyk7XG4gIH1cbiAgc3JjLnB1c2goJ2lmIChjICE9PSAwKSB7JyxcbiAgICAgICAgICAgJyAgb1snICsgayArICddID0gYzsnLFxuICAgICAgICAgICAnICBvdXQubGVuZ3RoKys7JyxcbiAgICAgICAgICAgJ30nLFxuICAgICAgICAgICAncmV0dXJuIG91dDsnKTtcblxuICByZXR1cm4gc3JjLmpvaW4oJ1xcbicpO1xufVxuKi9cblxuQk4ucHJvdG90eXBlLl9zbWFsbE11bFRvID0gZnVuY3Rpb24gX3NtYWxsTXVsVG8obnVtLCBvdXQpIHtcbiAgb3V0LnNpZ24gPSBudW0uc2lnbiAhPT0gdGhpcy5zaWduO1xuICBvdXQubGVuZ3RoID0gdGhpcy5sZW5ndGggKyBudW0ubGVuZ3RoO1xuXG4gIHZhciBjYXJyeSA9IDA7XG4gIGZvciAodmFyIGsgPSAwOyBrIDwgb3V0Lmxlbmd0aCAtIDE7IGsrKykge1xuICAgIC8vIFN1bSBhbGwgd29yZHMgd2l0aCB0aGUgc2FtZSBgaSArIGogPSBrYCBhbmQgYWNjdW11bGF0ZSBgbmNhcnJ5YCxcbiAgICAvLyBub3RlIHRoYXQgbmNhcnJ5IGNvdWxkIGJlID49IDB4M2ZmZmZmZlxuICAgIHZhciBuY2FycnkgPSBjYXJyeSA+Pj4gMjY7XG4gICAgdmFyIHJ3b3JkID0gY2FycnkgJiAweDNmZmZmZmY7XG4gICAgdmFyIG1heEogPSBNYXRoLm1pbihrLCBudW0ubGVuZ3RoIC0gMSk7XG4gICAgZm9yICh2YXIgaiA9IE1hdGgubWF4KDAsIGsgLSB0aGlzLmxlbmd0aCArIDEpOyBqIDw9IG1heEo7IGorKykge1xuICAgICAgdmFyIGkgPSBrIC0gajtcbiAgICAgIHZhciBhID0gdGhpcy53b3Jkc1tpXSB8IDA7XG4gICAgICB2YXIgYiA9IG51bS53b3Jkc1tqXSB8IDA7XG4gICAgICB2YXIgciA9IGEgKiBiO1xuXG4gICAgICB2YXIgbG8gPSByICYgMHgzZmZmZmZmO1xuICAgICAgbmNhcnJ5ID0gKG5jYXJyeSArICgociAvIDB4NDAwMDAwMCkgfCAwKSkgfCAwO1xuICAgICAgbG8gPSAobG8gKyByd29yZCkgfCAwO1xuICAgICAgcndvcmQgPSBsbyAmIDB4M2ZmZmZmZjtcbiAgICAgIG5jYXJyeSA9IChuY2FycnkgKyAobG8gPj4+IDI2KSkgfCAwO1xuICAgIH1cbiAgICBvdXQud29yZHNba10gPSByd29yZDtcbiAgICBjYXJyeSA9IG5jYXJyeTtcbiAgfVxuICBpZiAoY2FycnkgIT09IDApIHtcbiAgICBvdXQud29yZHNba10gPSBjYXJyeTtcbiAgfSBlbHNlIHtcbiAgICBvdXQubGVuZ3RoLS07XG4gIH1cblxuICByZXR1cm4gb3V0LnN0cmlwKCk7XG59O1xuXG5CTi5wcm90b3R5cGUuX2JpZ011bFRvID0gZnVuY3Rpb24gX2JpZ011bFRvKG51bSwgb3V0KSB7XG4gIG91dC5zaWduID0gbnVtLnNpZ24gIT09IHRoaXMuc2lnbjtcbiAgb3V0Lmxlbmd0aCA9IHRoaXMubGVuZ3RoICsgbnVtLmxlbmd0aDtcblxuICB2YXIgY2FycnkgPSAwO1xuICB2YXIgaG5jYXJyeSA9IDA7XG4gIGZvciAodmFyIGsgPSAwOyBrIDwgb3V0Lmxlbmd0aCAtIDE7IGsrKykge1xuICAgIC8vIFN1bSBhbGwgd29yZHMgd2l0aCB0aGUgc2FtZSBgaSArIGogPSBrYCBhbmQgYWNjdW11bGF0ZSBgbmNhcnJ5YCxcbiAgICAvLyBub3RlIHRoYXQgbmNhcnJ5IGNvdWxkIGJlID49IDB4M2ZmZmZmZlxuICAgIHZhciBuY2FycnkgPSBobmNhcnJ5O1xuICAgIGhuY2FycnkgPSAwO1xuICAgIHZhciByd29yZCA9IGNhcnJ5ICYgMHgzZmZmZmZmO1xuICAgIHZhciBtYXhKID0gTWF0aC5taW4oaywgbnVtLmxlbmd0aCAtIDEpO1xuICAgIGZvciAodmFyIGogPSBNYXRoLm1heCgwLCBrIC0gdGhpcy5sZW5ndGggKyAxKTsgaiA8PSBtYXhKOyBqKyspIHtcbiAgICAgIHZhciBpID0gayAtIGo7XG4gICAgICB2YXIgYSA9IHRoaXMud29yZHNbaV0gfCAwO1xuICAgICAgdmFyIGIgPSBudW0ud29yZHNbal0gfCAwO1xuICAgICAgdmFyIHIgPSBhICogYjtcblxuICAgICAgdmFyIGxvID0gciAmIDB4M2ZmZmZmZjtcbiAgICAgIG5jYXJyeSA9IChuY2FycnkgKyAoKHIgLyAweDQwMDAwMDApIHwgMCkpIHwgMDtcbiAgICAgIGxvID0gKGxvICsgcndvcmQpIHwgMDtcbiAgICAgIHJ3b3JkID0gbG8gJiAweDNmZmZmZmY7XG4gICAgICBuY2FycnkgPSAobmNhcnJ5ICsgKGxvID4+PiAyNikpIHwgMDtcblxuICAgICAgaG5jYXJyeSArPSBuY2FycnkgPj4+IDI2O1xuICAgICAgbmNhcnJ5ICY9IDB4M2ZmZmZmZjtcbiAgICB9XG4gICAgb3V0LndvcmRzW2tdID0gcndvcmQ7XG4gICAgY2FycnkgPSBuY2Fycnk7XG4gICAgbmNhcnJ5ID0gaG5jYXJyeTtcbiAgfVxuICBpZiAoY2FycnkgIT09IDApIHtcbiAgICBvdXQud29yZHNba10gPSBjYXJyeTtcbiAgfSBlbHNlIHtcbiAgICBvdXQubGVuZ3RoLS07XG4gIH1cblxuICByZXR1cm4gb3V0LnN0cmlwKCk7XG59O1xuXG5CTi5wcm90b3R5cGUubXVsVG8gPSBmdW5jdGlvbiBtdWxUbyhudW0sIG91dCkge1xuICB2YXIgcmVzO1xuICBpZiAodGhpcy5sZW5ndGggKyBudW0ubGVuZ3RoIDwgNjMpXG4gICAgcmVzID0gdGhpcy5fc21hbGxNdWxUbyhudW0sIG91dCk7XG4gIGVsc2VcbiAgICByZXMgPSB0aGlzLl9iaWdNdWxUbyhudW0sIG91dCk7XG4gIHJldHVybiByZXM7XG59O1xuXG4vLyBNdWx0aXBseSBgdGhpc2AgYnkgYG51bWBcbkJOLnByb3RvdHlwZS5tdWwgPSBmdW5jdGlvbiBtdWwobnVtKSB7XG4gIHZhciBvdXQgPSBuZXcgQk4obnVsbCk7XG4gIG91dC53b3JkcyA9IG5ldyBBcnJheSh0aGlzLmxlbmd0aCArIG51bS5sZW5ndGgpO1xuICByZXR1cm4gdGhpcy5tdWxUbyhudW0sIG91dCk7XG59O1xuXG4vLyBJbi1wbGFjZSBNdWx0aXBsaWNhdGlvblxuQk4ucHJvdG90eXBlLmltdWwgPSBmdW5jdGlvbiBpbXVsKG51bSkge1xuICBpZiAodGhpcy5jbXBuKDApID09PSAwIHx8IG51bS5jbXBuKDApID09PSAwKSB7XG4gICAgdGhpcy53b3Jkc1swXSA9IDA7XG4gICAgdGhpcy5sZW5ndGggPSAxO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFyIHRsZW4gPSB0aGlzLmxlbmd0aDtcbiAgdmFyIG5sZW4gPSBudW0ubGVuZ3RoO1xuXG4gIHRoaXMuc2lnbiA9IG51bS5zaWduICE9PSB0aGlzLnNpZ247XG4gIHRoaXMubGVuZ3RoID0gdGhpcy5sZW5ndGggKyBudW0ubGVuZ3RoO1xuICB0aGlzLndvcmRzW3RoaXMubGVuZ3RoIC0gMV0gPSAwO1xuXG4gIGZvciAodmFyIGsgPSB0aGlzLmxlbmd0aCAtIDI7IGsgPj0gMDsgay0tKSB7XG4gICAgLy8gU3VtIGFsbCB3b3JkcyB3aXRoIHRoZSBzYW1lIGBpICsgaiA9IGtgIGFuZCBhY2N1bXVsYXRlIGBjYXJyeWAsXG4gICAgLy8gbm90ZSB0aGF0IGNhcnJ5IGNvdWxkIGJlID49IDB4M2ZmZmZmZlxuICAgIHZhciBjYXJyeSA9IDA7XG4gICAgdmFyIHJ3b3JkID0gMDtcbiAgICB2YXIgbWF4SiA9IE1hdGgubWluKGssIG5sZW4gLSAxKTtcbiAgICBmb3IgKHZhciBqID0gTWF0aC5tYXgoMCwgayAtIHRsZW4gKyAxKTsgaiA8PSBtYXhKOyBqKyspIHtcbiAgICAgIHZhciBpID0gayAtIGo7XG4gICAgICB2YXIgYSA9IHRoaXMud29yZHNbaV07XG4gICAgICB2YXIgYiA9IG51bS53b3Jkc1tqXTtcbiAgICAgIHZhciByID0gYSAqIGI7XG5cbiAgICAgIHZhciBsbyA9IHIgJiAweDNmZmZmZmY7XG4gICAgICBjYXJyeSArPSAociAvIDB4NDAwMDAwMCkgfCAwO1xuICAgICAgbG8gKz0gcndvcmQ7XG4gICAgICByd29yZCA9IGxvICYgMHgzZmZmZmZmO1xuICAgICAgY2FycnkgKz0gbG8gPj4+IDI2O1xuICAgIH1cbiAgICB0aGlzLndvcmRzW2tdID0gcndvcmQ7XG4gICAgdGhpcy53b3Jkc1trICsgMV0gKz0gY2Fycnk7XG4gICAgY2FycnkgPSAwO1xuICB9XG5cbiAgLy8gUHJvcGFnYXRlIG92ZXJmbG93c1xuICB2YXIgY2FycnkgPSAwO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdyA9IHRoaXMud29yZHNbaV0gKyBjYXJyeTtcbiAgICB0aGlzLndvcmRzW2ldID0gdyAmIDB4M2ZmZmZmZjtcbiAgICBjYXJyeSA9IHcgPj4+IDI2O1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuc3RyaXAoKTtcbn07XG5cbkJOLnByb3RvdHlwZS5pbXVsbiA9IGZ1bmN0aW9uIGltdWxuKG51bSkge1xuICBhc3NlcnQodHlwZW9mIG51bSA9PT0gJ251bWJlcicpO1xuXG4gIC8vIENhcnJ5XG4gIHZhciBjYXJyeSA9IDA7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB3ID0gdGhpcy53b3Jkc1tpXSAqIG51bTtcbiAgICB2YXIgbG8gPSAodyAmIDB4M2ZmZmZmZikgKyAoY2FycnkgJiAweDNmZmZmZmYpO1xuICAgIGNhcnJ5ID4+PSAyNjtcbiAgICBjYXJyeSArPSAodyAvIDB4NDAwMDAwMCkgfCAwO1xuICAgIC8vIE5PVEU6IGxvIGlzIDI3Yml0IG1heGltdW1cbiAgICBjYXJyeSArPSBsbyA+Pj4gMjY7XG4gICAgdGhpcy53b3Jkc1tpXSA9IGxvICYgMHgzZmZmZmZmO1xuICB9XG5cbiAgaWYgKGNhcnJ5ICE9PSAwKSB7XG4gICAgdGhpcy53b3Jkc1tpXSA9IGNhcnJ5O1xuICAgIHRoaXMubGVuZ3RoKys7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkJOLnByb3RvdHlwZS5tdWxuID0gZnVuY3Rpb24gbXVsbihudW0pIHtcbiAgcmV0dXJuIHRoaXMuY2xvbmUoKS5pbXVsbihudW0pO1xufTtcblxuLy8gYHRoaXNgICogYHRoaXNgXG5CTi5wcm90b3R5cGUuc3FyID0gZnVuY3Rpb24gc3FyKCkge1xuICByZXR1cm4gdGhpcy5tdWwodGhpcyk7XG59O1xuXG4vLyBgdGhpc2AgKiBgdGhpc2AgaW4tcGxhY2VcbkJOLnByb3RvdHlwZS5pc3FyID0gZnVuY3Rpb24gaXNxcigpIHtcbiAgcmV0dXJuIHRoaXMubXVsKHRoaXMpO1xufTtcblxuLy8gU2hpZnQtbGVmdCBpbi1wbGFjZVxuQk4ucHJvdG90eXBlLmlzaGxuID0gZnVuY3Rpb24gaXNobG4oYml0cykge1xuICBhc3NlcnQodHlwZW9mIGJpdHMgPT09ICdudW1iZXInICYmIGJpdHMgPj0gMCk7XG4gIHZhciByID0gYml0cyAlIDI2O1xuICB2YXIgcyA9IChiaXRzIC0gcikgLyAyNjtcbiAgdmFyIGNhcnJ5TWFzayA9ICgweDNmZmZmZmYgPj4+ICgyNiAtIHIpKSA8PCAoMjYgLSByKTtcblxuICBpZiAociAhPT0gMCkge1xuICAgIHZhciBjYXJyeSA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbmV3Q2FycnkgPSB0aGlzLndvcmRzW2ldICYgY2FycnlNYXNrO1xuICAgICAgdmFyIGMgPSAodGhpcy53b3Jkc1tpXSAtIG5ld0NhcnJ5KSA8PCByO1xuICAgICAgdGhpcy53b3Jkc1tpXSA9IGMgfCBjYXJyeTtcbiAgICAgIGNhcnJ5ID0gbmV3Q2FycnkgPj4+ICgyNiAtIHIpO1xuICAgIH1cbiAgICBpZiAoY2FycnkpIHtcbiAgICAgIHRoaXMud29yZHNbaV0gPSBjYXJyeTtcbiAgICAgIHRoaXMubGVuZ3RoKys7XG4gICAgfVxuICB9XG5cbiAgaWYgKHMgIT09IDApIHtcbiAgICBmb3IgKHZhciBpID0gdGhpcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgIHRoaXMud29yZHNbaSArIHNdID0gdGhpcy53b3Jkc1tpXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHM7IGkrKylcbiAgICAgIHRoaXMud29yZHNbaV0gPSAwO1xuICAgIHRoaXMubGVuZ3RoICs9IHM7XG4gIH1cblxuICByZXR1cm4gdGhpcy5zdHJpcCgpO1xufTtcblxuLy8gU2hpZnQtcmlnaHQgaW4tcGxhY2Vcbi8vIE5PVEU6IGBoaW50YCBpcyBhIGxvd2VzdCBiaXQgYmVmb3JlIHRyYWlsaW5nIHplcm9lc1xuLy8gTk9URTogaWYgYGV4dGVuZGVkYCBpcyBwcmVzZW50IC0gaXQgd2lsbCBiZSBmaWxsZWQgd2l0aCBkZXN0cm95ZWQgYml0c1xuQk4ucHJvdG90eXBlLmlzaHJuID0gZnVuY3Rpb24gaXNocm4oYml0cywgaGludCwgZXh0ZW5kZWQpIHtcbiAgYXNzZXJ0KHR5cGVvZiBiaXRzID09PSAnbnVtYmVyJyAmJiBiaXRzID49IDApO1xuICB2YXIgaDtcbiAgaWYgKGhpbnQpXG4gICAgaCA9IChoaW50IC0gKGhpbnQgJSAyNikpIC8gMjY7XG4gIGVsc2VcbiAgICBoID0gMDtcblxuICB2YXIgciA9IGJpdHMgJSAyNjtcbiAgdmFyIHMgPSBNYXRoLm1pbigoYml0cyAtIHIpIC8gMjYsIHRoaXMubGVuZ3RoKTtcbiAgdmFyIG1hc2sgPSAweDNmZmZmZmYgXiAoKDB4M2ZmZmZmZiA+Pj4gcikgPDwgcik7XG4gIHZhciBtYXNrZWRXb3JkcyA9IGV4dGVuZGVkO1xuXG4gIGggLT0gcztcbiAgaCA9IE1hdGgubWF4KDAsIGgpO1xuXG4gIC8vIEV4dGVuZGVkIG1vZGUsIGNvcHkgbWFza2VkIHBhcnRcbiAgaWYgKG1hc2tlZFdvcmRzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzOyBpKyspXG4gICAgICBtYXNrZWRXb3Jkcy53b3Jkc1tpXSA9IHRoaXMud29yZHNbaV07XG4gICAgbWFza2VkV29yZHMubGVuZ3RoID0gcztcbiAgfVxuXG4gIGlmIChzID09PSAwKSB7XG4gICAgLy8gTm8tb3AsIHdlIHNob3VsZCBub3QgbW92ZSBhbnl0aGluZyBhdCBhbGxcbiAgfSBlbHNlIGlmICh0aGlzLmxlbmd0aCA+IHMpIHtcbiAgICB0aGlzLmxlbmd0aCAtPSBzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKylcbiAgICAgIHRoaXMud29yZHNbaV0gPSB0aGlzLndvcmRzW2kgKyBzXTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLndvcmRzWzBdID0gMDtcbiAgICB0aGlzLmxlbmd0aCA9IDE7XG4gIH1cblxuICB2YXIgY2FycnkgPSAwO1xuICBmb3IgKHZhciBpID0gdGhpcy5sZW5ndGggLSAxOyBpID49IDAgJiYgKGNhcnJ5ICE9PSAwIHx8IGkgPj0gaCk7IGktLSkge1xuICAgIHZhciB3b3JkID0gdGhpcy53b3Jkc1tpXTtcbiAgICB0aGlzLndvcmRzW2ldID0gKGNhcnJ5IDw8ICgyNiAtIHIpKSB8ICh3b3JkID4+PiByKTtcbiAgICBjYXJyeSA9IHdvcmQgJiBtYXNrO1xuICB9XG5cbiAgLy8gUHVzaCBjYXJyaWVkIGJpdHMgYXMgYSBtYXNrXG4gIGlmIChtYXNrZWRXb3JkcyAmJiBjYXJyeSAhPT0gMClcbiAgICBtYXNrZWRXb3Jkcy53b3Jkc1ttYXNrZWRXb3Jkcy5sZW5ndGgrK10gPSBjYXJyeTtcblxuICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICB0aGlzLndvcmRzWzBdID0gMDtcbiAgICB0aGlzLmxlbmd0aCA9IDE7XG4gIH1cblxuICB0aGlzLnN0cmlwKCk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBTaGlmdC1sZWZ0XG5CTi5wcm90b3R5cGUuc2hsbiA9IGZ1bmN0aW9uIHNobG4oYml0cykge1xuICByZXR1cm4gdGhpcy5jbG9uZSgpLmlzaGxuKGJpdHMpO1xufTtcblxuLy8gU2hpZnQtcmlnaHRcbkJOLnByb3RvdHlwZS5zaHJuID0gZnVuY3Rpb24gc2hybihiaXRzKSB7XG4gIHJldHVybiB0aGlzLmNsb25lKCkuaXNocm4oYml0cyk7XG59O1xuXG4vLyBUZXN0IGlmIG4gYml0IGlzIHNldFxuQk4ucHJvdG90eXBlLnRlc3RuID0gZnVuY3Rpb24gdGVzdG4oYml0KSB7XG4gIGFzc2VydCh0eXBlb2YgYml0ID09PSAnbnVtYmVyJyAmJiBiaXQgPj0gMCk7XG4gIHZhciByID0gYml0ICUgMjY7XG4gIHZhciBzID0gKGJpdCAtIHIpIC8gMjY7XG4gIHZhciBxID0gMSA8PCByO1xuXG4gIC8vIEZhc3QgY2FzZTogYml0IGlzIG11Y2ggaGlnaGVyIHRoYW4gYWxsIGV4aXN0aW5nIHdvcmRzXG4gIGlmICh0aGlzLmxlbmd0aCA8PSBzKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gQ2hlY2sgYml0IGFuZCByZXR1cm5cbiAgdmFyIHcgPSB0aGlzLndvcmRzW3NdO1xuXG4gIHJldHVybiAhISh3ICYgcSk7XG59O1xuXG4vLyBSZXR1cm4gb25seSBsb3dlcnMgYml0cyBvZiBudW1iZXIgKGluLXBsYWNlKVxuQk4ucHJvdG90eXBlLmltYXNrbiA9IGZ1bmN0aW9uIGltYXNrbihiaXRzKSB7XG4gIGFzc2VydCh0eXBlb2YgYml0cyA9PT0gJ251bWJlcicgJiYgYml0cyA+PSAwKTtcbiAgdmFyIHIgPSBiaXRzICUgMjY7XG4gIHZhciBzID0gKGJpdHMgLSByKSAvIDI2O1xuXG4gIGFzc2VydCghdGhpcy5zaWduLCAnaW1hc2tuIHdvcmtzIG9ubHkgd2l0aCBwb3NpdGl2ZSBudW1iZXJzJyk7XG5cbiAgaWYgKHIgIT09IDApXG4gICAgcysrO1xuICB0aGlzLmxlbmd0aCA9IE1hdGgubWluKHMsIHRoaXMubGVuZ3RoKTtcblxuICBpZiAociAhPT0gMCkge1xuICAgIHZhciBtYXNrID0gMHgzZmZmZmZmIF4gKCgweDNmZmZmZmYgPj4+IHIpIDw8IHIpO1xuICAgIHRoaXMud29yZHNbdGhpcy5sZW5ndGggLSAxXSAmPSBtYXNrO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuc3RyaXAoKTtcbn07XG5cbi8vIFJldHVybiBvbmx5IGxvd2VycyBiaXRzIG9mIG51bWJlclxuQk4ucHJvdG90eXBlLm1hc2tuID0gZnVuY3Rpb24gbWFza24oYml0cykge1xuICByZXR1cm4gdGhpcy5jbG9uZSgpLmltYXNrbihiaXRzKTtcbn07XG5cbi8vIEFkZCBwbGFpbiBudW1iZXIgYG51bWAgdG8gYHRoaXNgXG5CTi5wcm90b3R5cGUuaWFkZG4gPSBmdW5jdGlvbiBpYWRkbihudW0pIHtcbiAgYXNzZXJ0KHR5cGVvZiBudW0gPT09ICdudW1iZXInKTtcbiAgaWYgKG51bSA8IDApXG4gICAgcmV0dXJuIHRoaXMuaXN1Ym4oLW51bSk7XG5cbiAgLy8gUG9zc2libGUgc2lnbiBjaGFuZ2VcbiAgaWYgKHRoaXMuc2lnbikge1xuICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMSAmJiB0aGlzLndvcmRzWzBdIDwgbnVtKSB7XG4gICAgICB0aGlzLndvcmRzWzBdID0gbnVtIC0gdGhpcy53b3Jkc1swXTtcbiAgICAgIHRoaXMuc2lnbiA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdGhpcy5zaWduID0gZmFsc2U7XG4gICAgdGhpcy5pc3VibihudW0pO1xuICAgIHRoaXMuc2lnbiA9IHRydWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBBZGQgd2l0aG91dCBjaGVja3NcbiAgcmV0dXJuIHRoaXMuX2lhZGRuKG51bSk7XG59O1xuXG5CTi5wcm90b3R5cGUuX2lhZGRuID0gZnVuY3Rpb24gX2lhZGRuKG51bSkge1xuICB0aGlzLndvcmRzWzBdICs9IG51bTtcblxuICAvLyBDYXJyeVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoICYmIHRoaXMud29yZHNbaV0gPj0gMHg0MDAwMDAwOyBpKyspIHtcbiAgICB0aGlzLndvcmRzW2ldIC09IDB4NDAwMDAwMDtcbiAgICBpZiAoaSA9PT0gdGhpcy5sZW5ndGggLSAxKVxuICAgICAgdGhpcy53b3Jkc1tpICsgMV0gPSAxO1xuICAgIGVsc2VcbiAgICAgIHRoaXMud29yZHNbaSArIDFdKys7XG4gIH1cbiAgdGhpcy5sZW5ndGggPSBNYXRoLm1heCh0aGlzLmxlbmd0aCwgaSArIDEpO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy8gU3VidHJhY3QgcGxhaW4gbnVtYmVyIGBudW1gIGZyb20gYHRoaXNgXG5CTi5wcm90b3R5cGUuaXN1Ym4gPSBmdW5jdGlvbiBpc3VibihudW0pIHtcbiAgYXNzZXJ0KHR5cGVvZiBudW0gPT09ICdudW1iZXInKTtcbiAgaWYgKG51bSA8IDApXG4gICAgcmV0dXJuIHRoaXMuaWFkZG4oLW51bSk7XG5cbiAgaWYgKHRoaXMuc2lnbikge1xuICAgIHRoaXMuc2lnbiA9IGZhbHNlO1xuICAgIHRoaXMuaWFkZG4obnVtKTtcbiAgICB0aGlzLnNpZ24gPSB0cnVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdGhpcy53b3Jkc1swXSAtPSBudW07XG5cbiAgLy8gQ2FycnlcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aCAmJiB0aGlzLndvcmRzW2ldIDwgMDsgaSsrKSB7XG4gICAgdGhpcy53b3Jkc1tpXSArPSAweDQwMDAwMDA7XG4gICAgdGhpcy53b3Jkc1tpICsgMV0gLT0gMTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLnN0cmlwKCk7XG59O1xuXG5CTi5wcm90b3R5cGUuYWRkbiA9IGZ1bmN0aW9uIGFkZG4obnVtKSB7XG4gIHJldHVybiB0aGlzLmNsb25lKCkuaWFkZG4obnVtKTtcbn07XG5cbkJOLnByb3RvdHlwZS5zdWJuID0gZnVuY3Rpb24gc3VibihudW0pIHtcbiAgcmV0dXJuIHRoaXMuY2xvbmUoKS5pc3VibihudW0pO1xufTtcblxuQk4ucHJvdG90eXBlLmlhYnMgPSBmdW5jdGlvbiBpYWJzKCkge1xuICB0aGlzLnNpZ24gPSBmYWxzZTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbkJOLnByb3RvdHlwZS5hYnMgPSBmdW5jdGlvbiBhYnMoKSB7XG4gIHJldHVybiB0aGlzLmNsb25lKCkuaWFicygpO1xufTtcblxuQk4ucHJvdG90eXBlLl9pc2hsbnN1Ym11bCA9IGZ1bmN0aW9uIF9pc2hsbnN1Ym11bChudW0sIG11bCwgc2hpZnQpIHtcbiAgLy8gQmlnZ2VyIHN0b3JhZ2UgaXMgbmVlZGVkXG4gIHZhciBsZW4gPSBudW0ubGVuZ3RoICsgc2hpZnQ7XG4gIHZhciBpO1xuICBpZiAodGhpcy53b3Jkcy5sZW5ndGggPCBsZW4pIHtcbiAgICB2YXIgdCA9IG5ldyBBcnJheShsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKylcbiAgICAgIHRbaV0gPSB0aGlzLndvcmRzW2ldO1xuICAgIHRoaXMud29yZHMgPSB0O1xuICB9IGVsc2Uge1xuICAgIGkgPSB0aGlzLmxlbmd0aDtcbiAgfVxuXG4gIC8vIFplcm9pZnkgcmVzdFxuICB0aGlzLmxlbmd0aCA9IE1hdGgubWF4KHRoaXMubGVuZ3RoLCBsZW4pO1xuICBmb3IgKDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspXG4gICAgdGhpcy53b3Jkc1tpXSA9IDA7XG5cbiAgdmFyIGNhcnJ5ID0gMDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW0ubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdyA9IHRoaXMud29yZHNbaSArIHNoaWZ0XSArIGNhcnJ5O1xuICAgIHZhciByaWdodCA9IG51bS53b3Jkc1tpXSAqIG11bDtcbiAgICB3IC09IHJpZ2h0ICYgMHgzZmZmZmZmO1xuICAgIGNhcnJ5ID0gKHcgPj4gMjYpIC0gKChyaWdodCAvIDB4NDAwMDAwMCkgfCAwKTtcbiAgICB0aGlzLndvcmRzW2kgKyBzaGlmdF0gPSB3ICYgMHgzZmZmZmZmO1xuICB9XG4gIGZvciAoOyBpIDwgdGhpcy5sZW5ndGggLSBzaGlmdDsgaSsrKSB7XG4gICAgdmFyIHcgPSB0aGlzLndvcmRzW2kgKyBzaGlmdF0gKyBjYXJyeTtcbiAgICBjYXJyeSA9IHcgPj4gMjY7XG4gICAgdGhpcy53b3Jkc1tpICsgc2hpZnRdID0gdyAmIDB4M2ZmZmZmZjtcbiAgfVxuXG4gIGlmIChjYXJyeSA9PT0gMClcbiAgICByZXR1cm4gdGhpcy5zdHJpcCgpO1xuXG4gIC8vIFN1YnRyYWN0aW9uIG92ZXJmbG93XG4gIGFzc2VydChjYXJyeSA9PT0gLTEpO1xuICBjYXJyeSA9IDA7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB3ID0gLXRoaXMud29yZHNbaV0gKyBjYXJyeTtcbiAgICBjYXJyeSA9IHcgPj4gMjY7XG4gICAgdGhpcy53b3Jkc1tpXSA9IHcgJiAweDNmZmZmZmY7XG4gIH1cbiAgdGhpcy5zaWduID0gdHJ1ZTtcblxuICByZXR1cm4gdGhpcy5zdHJpcCgpO1xufTtcblxuQk4ucHJvdG90eXBlLl93b3JkRGl2ID0gZnVuY3Rpb24gX3dvcmREaXYobnVtLCBtb2RlKSB7XG4gIHZhciBzaGlmdCA9IHRoaXMubGVuZ3RoIC0gbnVtLmxlbmd0aDtcblxuICB2YXIgYSA9IHRoaXMuY2xvbmUoKTtcbiAgdmFyIGIgPSBudW07XG5cbiAgLy8gTm9ybWFsaXplXG4gIHZhciBiaGkgPSBiLndvcmRzW2IubGVuZ3RoIC0gMV07XG4gIHZhciBiaGlCaXRzID0gdGhpcy5fY291bnRCaXRzKGJoaSk7XG4gIHNoaWZ0ID0gMjYgLSBiaGlCaXRzO1xuICBpZiAoc2hpZnQgIT09IDApIHtcbiAgICBiID0gYi5zaGxuKHNoaWZ0KTtcbiAgICBhLmlzaGxuKHNoaWZ0KTtcbiAgICBiaGkgPSBiLndvcmRzW2IubGVuZ3RoIC0gMV07XG4gIH1cblxuICAvLyBJbml0aWFsaXplIHF1b3RpZW50XG4gIHZhciBtID0gYS5sZW5ndGggLSBiLmxlbmd0aDtcbiAgdmFyIHE7XG5cbiAgaWYgKG1vZGUgIT09ICdtb2QnKSB7XG4gICAgcSA9IG5ldyBCTihudWxsKTtcbiAgICBxLmxlbmd0aCA9IG0gKyAxO1xuICAgIHEud29yZHMgPSBuZXcgQXJyYXkocS5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcS5sZW5ndGg7IGkrKylcbiAgICAgIHEud29yZHNbaV0gPSAwO1xuICB9XG5cbiAgdmFyIGRpZmYgPSBhLmNsb25lKCkuX2lzaGxuc3VibXVsKGIsIDEsIG0pO1xuICBpZiAoIWRpZmYuc2lnbikge1xuICAgIGEgPSBkaWZmO1xuICAgIGlmIChxKVxuICAgICAgcS53b3Jkc1ttXSA9IDE7XG4gIH1cblxuICBmb3IgKHZhciBqID0gbSAtIDE7IGogPj0gMDsgai0tKSB7XG4gICAgdmFyIHFqID0gYS53b3Jkc1tiLmxlbmd0aCArIGpdICogMHg0MDAwMDAwICsgYS53b3Jkc1tiLmxlbmd0aCArIGogLSAxXTtcblxuICAgIC8vIE5PVEU6IChxaiAvIGJoaSkgaXMgKDB4M2ZmZmZmZiAqIDB4NDAwMDAwMCArIDB4M2ZmZmZmZikgLyAweDIwMDAwMDAgbWF4XG4gICAgLy8gKDB4N2ZmZmZmZilcbiAgICBxaiA9IE1hdGgubWluKChxaiAvIGJoaSkgfCAwLCAweDNmZmZmZmYpO1xuXG4gICAgYS5faXNobG5zdWJtdWwoYiwgcWosIGopO1xuICAgIHdoaWxlIChhLnNpZ24pIHtcbiAgICAgIHFqLS07XG4gICAgICBhLnNpZ24gPSBmYWxzZTtcbiAgICAgIGEuX2lzaGxuc3VibXVsKGIsIDEsIGopO1xuICAgICAgaWYgKGEuY21wbigwKSAhPT0gMClcbiAgICAgICAgYS5zaWduID0gIWEuc2lnbjtcbiAgICB9XG4gICAgaWYgKHEpXG4gICAgICBxLndvcmRzW2pdID0gcWo7XG4gIH1cbiAgaWYgKHEpXG4gICAgcS5zdHJpcCgpO1xuICBhLnN0cmlwKCk7XG5cbiAgLy8gRGVub3JtYWxpemVcbiAgaWYgKG1vZGUgIT09ICdkaXYnICYmIHNoaWZ0ICE9PSAwKVxuICAgIGEuaXNocm4oc2hpZnQpO1xuICByZXR1cm4geyBkaXY6IHEgPyBxIDogbnVsbCwgbW9kOiBhIH07XG59O1xuXG5CTi5wcm90b3R5cGUuZGl2bW9kID0gZnVuY3Rpb24gZGl2bW9kKG51bSwgbW9kZSkge1xuICBhc3NlcnQobnVtLmNtcG4oMCkgIT09IDApO1xuXG4gIGlmICh0aGlzLnNpZ24gJiYgIW51bS5zaWduKSB7XG4gICAgdmFyIHJlcyA9IHRoaXMubmVnKCkuZGl2bW9kKG51bSwgbW9kZSk7XG4gICAgdmFyIGRpdjtcbiAgICB2YXIgbW9kO1xuICAgIGlmIChtb2RlICE9PSAnbW9kJylcbiAgICAgIGRpdiA9IHJlcy5kaXYubmVnKCk7XG4gICAgaWYgKG1vZGUgIT09ICdkaXYnKVxuICAgICAgbW9kID0gcmVzLm1vZC5jbXBuKDApID09PSAwID8gcmVzLm1vZCA6IG51bS5zdWIocmVzLm1vZCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRpdjogZGl2LFxuICAgICAgbW9kOiBtb2RcbiAgICB9O1xuICB9IGVsc2UgaWYgKCF0aGlzLnNpZ24gJiYgbnVtLnNpZ24pIHtcbiAgICB2YXIgcmVzID0gdGhpcy5kaXZtb2QobnVtLm5lZygpLCBtb2RlKTtcbiAgICB2YXIgZGl2O1xuICAgIGlmIChtb2RlICE9PSAnbW9kJylcbiAgICAgIGRpdiA9IHJlcy5kaXYubmVnKCk7XG4gICAgcmV0dXJuIHsgZGl2OiBkaXYsIG1vZDogcmVzLm1vZCB9O1xuICB9IGVsc2UgaWYgKHRoaXMuc2lnbiAmJiBudW0uc2lnbikge1xuICAgIHJldHVybiB0aGlzLm5lZygpLmRpdm1vZChudW0ubmVnKCksIG1vZGUpO1xuICB9XG5cbiAgLy8gQm90aCBudW1iZXJzIGFyZSBwb3NpdGl2ZSBhdCB0aGlzIHBvaW50XG5cbiAgLy8gU3RyaXAgYm90aCBudW1iZXJzIHRvIGFwcHJveGltYXRlIHNoaWZ0IHZhbHVlXG4gIGlmIChudW0ubGVuZ3RoID4gdGhpcy5sZW5ndGggfHwgdGhpcy5jbXAobnVtKSA8IDApXG4gICAgcmV0dXJuIHsgZGl2OiBuZXcgQk4oMCksIG1vZDogdGhpcyB9O1xuXG4gIC8vIFZlcnkgc2hvcnQgcmVkdWN0aW9uXG4gIGlmIChudW0ubGVuZ3RoID09PSAxKSB7XG4gICAgaWYgKG1vZGUgPT09ICdkaXYnKVxuICAgICAgcmV0dXJuIHsgZGl2OiB0aGlzLmRpdm4obnVtLndvcmRzWzBdKSwgbW9kOiBudWxsIH07XG4gICAgZWxzZSBpZiAobW9kZSA9PT0gJ21vZCcpXG4gICAgICByZXR1cm4geyBkaXY6IG51bGwsIG1vZDogbmV3IEJOKHRoaXMubW9kbihudW0ud29yZHNbMF0pKSB9O1xuICAgIHJldHVybiB7XG4gICAgICBkaXY6IHRoaXMuZGl2bihudW0ud29yZHNbMF0pLFxuICAgICAgbW9kOiBuZXcgQk4odGhpcy5tb2RuKG51bS53b3Jkc1swXSkpXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLl93b3JkRGl2KG51bSwgbW9kZSk7XG59O1xuXG4vLyBGaW5kIGB0aGlzYCAvIGBudW1gXG5CTi5wcm90b3R5cGUuZGl2ID0gZnVuY3Rpb24gZGl2KG51bSkge1xuICByZXR1cm4gdGhpcy5kaXZtb2QobnVtLCAnZGl2JykuZGl2O1xufTtcblxuLy8gRmluZCBgdGhpc2AgJSBgbnVtYFxuQk4ucHJvdG90eXBlLm1vZCA9IGZ1bmN0aW9uIG1vZChudW0pIHtcbiAgcmV0dXJuIHRoaXMuZGl2bW9kKG51bSwgJ21vZCcpLm1vZDtcbn07XG5cbi8vIEZpbmQgUm91bmQoYHRoaXNgIC8gYG51bWApXG5CTi5wcm90b3R5cGUuZGl2Um91bmQgPSBmdW5jdGlvbiBkaXZSb3VuZChudW0pIHtcbiAgdmFyIGRtID0gdGhpcy5kaXZtb2QobnVtKTtcblxuICAvLyBGYXN0IGNhc2UgLSBleGFjdCBkaXZpc2lvblxuICBpZiAoZG0ubW9kLmNtcG4oMCkgPT09IDApXG4gICAgcmV0dXJuIGRtLmRpdjtcblxuICB2YXIgbW9kID0gZG0uZGl2LnNpZ24gPyBkbS5tb2QuaXN1YihudW0pIDogZG0ubW9kO1xuXG4gIHZhciBoYWxmID0gbnVtLnNocm4oMSk7XG4gIHZhciByMiA9IG51bS5hbmRsbigxKTtcbiAgdmFyIGNtcCA9IG1vZC5jbXAoaGFsZik7XG5cbiAgLy8gUm91bmQgZG93blxuICBpZiAoY21wIDwgMCB8fCByMiA9PT0gMSAmJiBjbXAgPT09IDApXG4gICAgcmV0dXJuIGRtLmRpdjtcblxuICAvLyBSb3VuZCB1cFxuICByZXR1cm4gZG0uZGl2LnNpZ24gPyBkbS5kaXYuaXN1Ym4oMSkgOiBkbS5kaXYuaWFkZG4oMSk7XG59O1xuXG5CTi5wcm90b3R5cGUubW9kbiA9IGZ1bmN0aW9uIG1vZG4obnVtKSB7XG4gIGFzc2VydChudW0gPD0gMHgzZmZmZmZmKTtcbiAgdmFyIHAgPSAoMSA8PCAyNikgJSBudW07XG5cbiAgdmFyIGFjYyA9IDA7XG4gIGZvciAodmFyIGkgPSB0aGlzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgIGFjYyA9IChwICogYWNjICsgdGhpcy53b3Jkc1tpXSkgJSBudW07XG5cbiAgcmV0dXJuIGFjYztcbn07XG5cbi8vIEluLXBsYWNlIGRpdmlzaW9uIGJ5IG51bWJlclxuQk4ucHJvdG90eXBlLmlkaXZuID0gZnVuY3Rpb24gaWRpdm4obnVtKSB7XG4gIGFzc2VydChudW0gPD0gMHgzZmZmZmZmKTtcblxuICB2YXIgY2FycnkgPSAwO1xuICBmb3IgKHZhciBpID0gdGhpcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIHZhciB3ID0gdGhpcy53b3Jkc1tpXSArIGNhcnJ5ICogMHg0MDAwMDAwO1xuICAgIHRoaXMud29yZHNbaV0gPSAodyAvIG51bSkgfCAwO1xuICAgIGNhcnJ5ID0gdyAlIG51bTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLnN0cmlwKCk7XG59O1xuXG5CTi5wcm90b3R5cGUuZGl2biA9IGZ1bmN0aW9uIGRpdm4obnVtKSB7XG4gIHJldHVybiB0aGlzLmNsb25lKCkuaWRpdm4obnVtKTtcbn07XG5cbkJOLnByb3RvdHlwZS5lZ2NkID0gZnVuY3Rpb24gZWdjZChwKSB7XG4gIGFzc2VydCghcC5zaWduKTtcbiAgYXNzZXJ0KHAuY21wbigwKSAhPT0gMCk7XG5cbiAgdmFyIHggPSB0aGlzO1xuICB2YXIgeSA9IHAuY2xvbmUoKTtcblxuICBpZiAoeC5zaWduKVxuICAgIHggPSB4Lm1vZChwKTtcbiAgZWxzZVxuICAgIHggPSB4LmNsb25lKCk7XG5cbiAgLy8gQSAqIHggKyBCICogeSA9IHhcbiAgdmFyIEEgPSBuZXcgQk4oMSk7XG4gIHZhciBCID0gbmV3IEJOKDApO1xuXG4gIC8vIEMgKiB4ICsgRCAqIHkgPSB5XG4gIHZhciBDID0gbmV3IEJOKDApO1xuICB2YXIgRCA9IG5ldyBCTigxKTtcblxuICB2YXIgZyA9IDA7XG5cbiAgd2hpbGUgKHguaXNFdmVuKCkgJiYgeS5pc0V2ZW4oKSkge1xuICAgIHguaXNocm4oMSk7XG4gICAgeS5pc2hybigxKTtcbiAgICArK2c7XG4gIH1cblxuICB2YXIgeXAgPSB5LmNsb25lKCk7XG4gIHZhciB4cCA9IHguY2xvbmUoKTtcblxuICB3aGlsZSAoeC5jbXBuKDApICE9PSAwKSB7XG4gICAgd2hpbGUgKHguaXNFdmVuKCkpIHtcbiAgICAgIHguaXNocm4oMSk7XG4gICAgICBpZiAoQS5pc0V2ZW4oKSAmJiBCLmlzRXZlbigpKSB7XG4gICAgICAgIEEuaXNocm4oMSk7XG4gICAgICAgIEIuaXNocm4oMSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBBLmlhZGQoeXApLmlzaHJuKDEpO1xuICAgICAgICBCLmlzdWIoeHApLmlzaHJuKDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHdoaWxlICh5LmlzRXZlbigpKSB7XG4gICAgICB5LmlzaHJuKDEpO1xuICAgICAgaWYgKEMuaXNFdmVuKCkgJiYgRC5pc0V2ZW4oKSkge1xuICAgICAgICBDLmlzaHJuKDEpO1xuICAgICAgICBELmlzaHJuKDEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgQy5pYWRkKHlwKS5pc2hybigxKTtcbiAgICAgICAgRC5pc3ViKHhwKS5pc2hybigxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoeC5jbXAoeSkgPj0gMCkge1xuICAgICAgeC5pc3ViKHkpO1xuICAgICAgQS5pc3ViKEMpO1xuICAgICAgQi5pc3ViKEQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB5LmlzdWIoeCk7XG4gICAgICBDLmlzdWIoQSk7XG4gICAgICBELmlzdWIoQik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBhOiBDLFxuICAgIGI6IEQsXG4gICAgZ2NkOiB5LmlzaGxuKGcpXG4gIH07XG59O1xuXG4vLyBUaGlzIGlzIHJlZHVjZWQgaW5jYXJuYXRpb24gb2YgdGhlIGJpbmFyeSBFRUFcbi8vIGFib3ZlLCBkZXNpZ25hdGVkIHRvIGludmVydCBtZW1iZXJzIG9mIHRoZVxuLy8gX3ByaW1lXyBmaWVsZHMgRihwKSBhdCBhIG1heGltYWwgc3BlZWRcbkJOLnByb3RvdHlwZS5faW52bXAgPSBmdW5jdGlvbiBfaW52bXAocCkge1xuICBhc3NlcnQoIXAuc2lnbik7XG4gIGFzc2VydChwLmNtcG4oMCkgIT09IDApO1xuXG4gIHZhciBhID0gdGhpcztcbiAgdmFyIGIgPSBwLmNsb25lKCk7XG5cbiAgaWYgKGEuc2lnbilcbiAgICBhID0gYS5tb2QocCk7XG4gIGVsc2VcbiAgICBhID0gYS5jbG9uZSgpO1xuXG4gIHZhciB4MSA9IG5ldyBCTigxKTtcbiAgdmFyIHgyID0gbmV3IEJOKDApO1xuXG4gIHZhciBkZWx0YSA9IGIuY2xvbmUoKTtcblxuICB3aGlsZSAoYS5jbXBuKDEpID4gMCAmJiBiLmNtcG4oMSkgPiAwKSB7XG4gICAgd2hpbGUgKGEuaXNFdmVuKCkpIHtcbiAgICAgIGEuaXNocm4oMSk7XG4gICAgICBpZiAoeDEuaXNFdmVuKCkpXG4gICAgICAgIHgxLmlzaHJuKDEpO1xuICAgICAgZWxzZVxuICAgICAgICB4MS5pYWRkKGRlbHRhKS5pc2hybigxKTtcbiAgICB9XG4gICAgd2hpbGUgKGIuaXNFdmVuKCkpIHtcbiAgICAgIGIuaXNocm4oMSk7XG4gICAgICBpZiAoeDIuaXNFdmVuKCkpXG4gICAgICAgIHgyLmlzaHJuKDEpO1xuICAgICAgZWxzZVxuICAgICAgICB4Mi5pYWRkKGRlbHRhKS5pc2hybigxKTtcbiAgICB9XG4gICAgaWYgKGEuY21wKGIpID49IDApIHtcbiAgICAgIGEuaXN1YihiKTtcbiAgICAgIHgxLmlzdWIoeDIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBiLmlzdWIoYSk7XG4gICAgICB4Mi5pc3ViKHgxKTtcbiAgICB9XG4gIH1cbiAgaWYgKGEuY21wbigxKSA9PT0gMClcbiAgICByZXR1cm4geDE7XG4gIGVsc2VcbiAgICByZXR1cm4geDI7XG59O1xuXG5CTi5wcm90b3R5cGUuZ2NkID0gZnVuY3Rpb24gZ2NkKG51bSkge1xuICBpZiAodGhpcy5jbXBuKDApID09PSAwKVxuICAgIHJldHVybiBudW0uY2xvbmUoKTtcbiAgaWYgKG51bS5jbXBuKDApID09PSAwKVxuICAgIHJldHVybiB0aGlzLmNsb25lKCk7XG5cbiAgdmFyIGEgPSB0aGlzLmNsb25lKCk7XG4gIHZhciBiID0gbnVtLmNsb25lKCk7XG4gIGEuc2lnbiA9IGZhbHNlO1xuICBiLnNpZ24gPSBmYWxzZTtcblxuICAvLyBSZW1vdmUgY29tbW9uIGZhY3RvciBvZiB0d29cbiAgZm9yICh2YXIgc2hpZnQgPSAwOyBhLmlzRXZlbigpICYmIGIuaXNFdmVuKCk7IHNoaWZ0KyspIHtcbiAgICBhLmlzaHJuKDEpO1xuICAgIGIuaXNocm4oMSk7XG4gIH1cblxuICBkbyB7XG4gICAgd2hpbGUgKGEuaXNFdmVuKCkpXG4gICAgICBhLmlzaHJuKDEpO1xuICAgIHdoaWxlIChiLmlzRXZlbigpKVxuICAgICAgYi5pc2hybigxKTtcblxuICAgIHZhciByID0gYS5jbXAoYik7XG4gICAgaWYgKHIgPCAwKSB7XG4gICAgICAvLyBTd2FwIGBhYCBhbmQgYGJgIHRvIG1ha2UgYGFgIGFsd2F5cyBiaWdnZXIgdGhhbiBgYmBcbiAgICAgIHZhciB0ID0gYTtcbiAgICAgIGEgPSBiO1xuICAgICAgYiA9IHQ7XG4gICAgfSBlbHNlIGlmIChyID09PSAwIHx8IGIuY21wbigxKSA9PT0gMCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgYS5pc3ViKGIpO1xuICB9IHdoaWxlICh0cnVlKTtcblxuICByZXR1cm4gYi5pc2hsbihzaGlmdCk7XG59O1xuXG4vLyBJbnZlcnQgbnVtYmVyIGluIHRoZSBmaWVsZCBGKG51bSlcbkJOLnByb3RvdHlwZS5pbnZtID0gZnVuY3Rpb24gaW52bShudW0pIHtcbiAgcmV0dXJuIHRoaXMuZWdjZChudW0pLmEubW9kKG51bSk7XG59O1xuXG5CTi5wcm90b3R5cGUuaXNFdmVuID0gZnVuY3Rpb24gaXNFdmVuKCkge1xuICByZXR1cm4gKHRoaXMud29yZHNbMF0gJiAxKSA9PT0gMDtcbn07XG5cbkJOLnByb3RvdHlwZS5pc09kZCA9IGZ1bmN0aW9uIGlzT2RkKCkge1xuICByZXR1cm4gKHRoaXMud29yZHNbMF0gJiAxKSA9PT0gMTtcbn07XG5cbi8vIEFuZCBmaXJzdCB3b3JkIGFuZCBudW1cbkJOLnByb3RvdHlwZS5hbmRsbiA9IGZ1bmN0aW9uIGFuZGxuKG51bSkge1xuICByZXR1cm4gdGhpcy53b3Jkc1swXSAmIG51bTtcbn07XG5cbi8vIEluY3JlbWVudCBhdCB0aGUgYml0IHBvc2l0aW9uIGluLWxpbmVcbkJOLnByb3RvdHlwZS5iaW5jbiA9IGZ1bmN0aW9uIGJpbmNuKGJpdCkge1xuICBhc3NlcnQodHlwZW9mIGJpdCA9PT0gJ251bWJlcicpO1xuICB2YXIgciA9IGJpdCAlIDI2O1xuICB2YXIgcyA9IChiaXQgLSByKSAvIDI2O1xuICB2YXIgcSA9IDEgPDwgcjtcblxuICAvLyBGYXN0IGNhc2U6IGJpdCBpcyBtdWNoIGhpZ2hlciB0aGFuIGFsbCBleGlzdGluZyB3b3Jkc1xuICBpZiAodGhpcy5sZW5ndGggPD0gcykge1xuICAgIGZvciAodmFyIGkgPSB0aGlzLmxlbmd0aDsgaSA8IHMgKyAxOyBpKyspXG4gICAgICB0aGlzLndvcmRzW2ldID0gMDtcbiAgICB0aGlzLndvcmRzW3NdIHw9IHE7XG4gICAgdGhpcy5sZW5ndGggPSBzICsgMTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIEFkZCBiaXQgYW5kIHByb3BhZ2F0ZSwgaWYgbmVlZGVkXG4gIHZhciBjYXJyeSA9IHE7XG4gIGZvciAodmFyIGkgPSBzOyBjYXJyeSAhPT0gMCAmJiBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB3ID0gdGhpcy53b3Jkc1tpXTtcbiAgICB3ICs9IGNhcnJ5O1xuICAgIGNhcnJ5ID0gdyA+Pj4gMjY7XG4gICAgdyAmPSAweDNmZmZmZmY7XG4gICAgdGhpcy53b3Jkc1tpXSA9IHc7XG4gIH1cbiAgaWYgKGNhcnJ5ICE9PSAwKSB7XG4gICAgdGhpcy53b3Jkc1tpXSA9IGNhcnJ5O1xuICAgIHRoaXMubGVuZ3RoKys7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5CTi5wcm90b3R5cGUuY21wbiA9IGZ1bmN0aW9uIGNtcG4obnVtKSB7XG4gIHZhciBzaWduID0gbnVtIDwgMDtcbiAgaWYgKHNpZ24pXG4gICAgbnVtID0gLW51bTtcblxuICBpZiAodGhpcy5zaWduICYmICFzaWduKVxuICAgIHJldHVybiAtMTtcbiAgZWxzZSBpZiAoIXRoaXMuc2lnbiAmJiBzaWduKVxuICAgIHJldHVybiAxO1xuXG4gIG51bSAmPSAweDNmZmZmZmY7XG4gIHRoaXMuc3RyaXAoKTtcblxuICB2YXIgcmVzO1xuICBpZiAodGhpcy5sZW5ndGggPiAxKSB7XG4gICAgcmVzID0gMTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdyA9IHRoaXMud29yZHNbMF07XG4gICAgcmVzID0gdyA9PT0gbnVtID8gMCA6IHcgPCBudW0gPyAtMSA6IDE7XG4gIH1cbiAgaWYgKHRoaXMuc2lnbilcbiAgICByZXMgPSAtcmVzO1xuICByZXR1cm4gcmVzO1xufTtcblxuLy8gQ29tcGFyZSB0d28gbnVtYmVycyBhbmQgcmV0dXJuOlxuLy8gMSAtIGlmIGB0aGlzYCA+IGBudW1gXG4vLyAwIC0gaWYgYHRoaXNgID09IGBudW1gXG4vLyAtMSAtIGlmIGB0aGlzYCA8IGBudW1gXG5CTi5wcm90b3R5cGUuY21wID0gZnVuY3Rpb24gY21wKG51bSkge1xuICBpZiAodGhpcy5zaWduICYmICFudW0uc2lnbilcbiAgICByZXR1cm4gLTE7XG4gIGVsc2UgaWYgKCF0aGlzLnNpZ24gJiYgbnVtLnNpZ24pXG4gICAgcmV0dXJuIDE7XG5cbiAgdmFyIHJlcyA9IHRoaXMudWNtcChudW0pO1xuICBpZiAodGhpcy5zaWduKVxuICAgIHJldHVybiAtcmVzO1xuICBlbHNlXG4gICAgcmV0dXJuIHJlcztcbn07XG5cbi8vIFVuc2lnbmVkIGNvbXBhcmlzb25cbkJOLnByb3RvdHlwZS51Y21wID0gZnVuY3Rpb24gdWNtcChudW0pIHtcbiAgLy8gQXQgdGhpcyBwb2ludCBib3RoIG51bWJlcnMgaGF2ZSB0aGUgc2FtZSBzaWduXG4gIGlmICh0aGlzLmxlbmd0aCA+IG51bS5sZW5ndGgpXG4gICAgcmV0dXJuIDE7XG4gIGVsc2UgaWYgKHRoaXMubGVuZ3RoIDwgbnVtLmxlbmd0aClcbiAgICByZXR1cm4gLTE7XG5cbiAgdmFyIHJlcyA9IDA7XG4gIGZvciAodmFyIGkgPSB0aGlzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIGEgPSB0aGlzLndvcmRzW2ldO1xuICAgIHZhciBiID0gbnVtLndvcmRzW2ldO1xuXG4gICAgaWYgKGEgPT09IGIpXG4gICAgICBjb250aW51ZTtcbiAgICBpZiAoYSA8IGIpXG4gICAgICByZXMgPSAtMTtcbiAgICBlbHNlIGlmIChhID4gYilcbiAgICAgIHJlcyA9IDE7XG4gICAgYnJlYWs7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5cbi8vXG4vLyBBIHJlZHVjZSBjb250ZXh0LCBjb3VsZCBiZSB1c2luZyBtb250Z29tZXJ5IG9yIHNvbWV0aGluZyBiZXR0ZXIsIGRlcGVuZGluZ1xuLy8gb24gdGhlIGBtYCBpdHNlbGYuXG4vL1xuQk4ucmVkID0gZnVuY3Rpb24gcmVkKG51bSkge1xuICByZXR1cm4gbmV3IFJlZChudW0pO1xufTtcblxuQk4ucHJvdG90eXBlLnRvUmVkID0gZnVuY3Rpb24gdG9SZWQoY3R4KSB7XG4gIGFzc2VydCghdGhpcy5yZWQsICdBbHJlYWR5IGEgbnVtYmVyIGluIHJlZHVjdGlvbiBjb250ZXh0Jyk7XG4gIGFzc2VydCghdGhpcy5zaWduLCAncmVkIHdvcmtzIG9ubHkgd2l0aCBwb3NpdGl2ZXMnKTtcbiAgcmV0dXJuIGN0eC5jb252ZXJ0VG8odGhpcykuX2ZvcmNlUmVkKGN0eCk7XG59O1xuXG5CTi5wcm90b3R5cGUuZnJvbVJlZCA9IGZ1bmN0aW9uIGZyb21SZWQoKSB7XG4gIGFzc2VydCh0aGlzLnJlZCwgJ2Zyb21SZWQgd29ya3Mgb25seSB3aXRoIG51bWJlcnMgaW4gcmVkdWN0aW9uIGNvbnRleHQnKTtcbiAgcmV0dXJuIHRoaXMucmVkLmNvbnZlcnRGcm9tKHRoaXMpO1xufTtcblxuQk4ucHJvdG90eXBlLl9mb3JjZVJlZCA9IGZ1bmN0aW9uIF9mb3JjZVJlZChjdHgpIHtcbiAgdGhpcy5yZWQgPSBjdHg7XG4gIHJldHVybiB0aGlzO1xufTtcblxuQk4ucHJvdG90eXBlLmZvcmNlUmVkID0gZnVuY3Rpb24gZm9yY2VSZWQoY3R4KSB7XG4gIGFzc2VydCghdGhpcy5yZWQsICdBbHJlYWR5IGEgbnVtYmVyIGluIHJlZHVjdGlvbiBjb250ZXh0Jyk7XG4gIHJldHVybiB0aGlzLl9mb3JjZVJlZChjdHgpO1xufTtcblxuQk4ucHJvdG90eXBlLnJlZEFkZCA9IGZ1bmN0aW9uIHJlZEFkZChudW0pIHtcbiAgYXNzZXJ0KHRoaXMucmVkLCAncmVkQWRkIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycycpO1xuICByZXR1cm4gdGhpcy5yZWQuYWRkKHRoaXMsIG51bSk7XG59O1xuXG5CTi5wcm90b3R5cGUucmVkSUFkZCA9IGZ1bmN0aW9uIHJlZElBZGQobnVtKSB7XG4gIGFzc2VydCh0aGlzLnJlZCwgJ3JlZElBZGQgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzJyk7XG4gIHJldHVybiB0aGlzLnJlZC5pYWRkKHRoaXMsIG51bSk7XG59O1xuXG5CTi5wcm90b3R5cGUucmVkU3ViID0gZnVuY3Rpb24gcmVkU3ViKG51bSkge1xuICBhc3NlcnQodGhpcy5yZWQsICdyZWRTdWIgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzJyk7XG4gIHJldHVybiB0aGlzLnJlZC5zdWIodGhpcywgbnVtKTtcbn07XG5cbkJOLnByb3RvdHlwZS5yZWRJU3ViID0gZnVuY3Rpb24gcmVkSVN1YihudW0pIHtcbiAgYXNzZXJ0KHRoaXMucmVkLCAncmVkSVN1YiB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMnKTtcbiAgcmV0dXJuIHRoaXMucmVkLmlzdWIodGhpcywgbnVtKTtcbn07XG5cbkJOLnByb3RvdHlwZS5yZWRTaGwgPSBmdW5jdGlvbiByZWRTaGwobnVtKSB7XG4gIGFzc2VydCh0aGlzLnJlZCwgJ3JlZFNobCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMnKTtcbiAgcmV0dXJuIHRoaXMucmVkLnNobCh0aGlzLCBudW0pO1xufTtcblxuQk4ucHJvdG90eXBlLnJlZE11bCA9IGZ1bmN0aW9uIHJlZE11bChudW0pIHtcbiAgYXNzZXJ0KHRoaXMucmVkLCAncmVkTXVsIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycycpO1xuICB0aGlzLnJlZC5fdmVyaWZ5Mih0aGlzLCBudW0pO1xuICByZXR1cm4gdGhpcy5yZWQubXVsKHRoaXMsIG51bSk7XG59O1xuXG5CTi5wcm90b3R5cGUucmVkSU11bCA9IGZ1bmN0aW9uIHJlZElNdWwobnVtKSB7XG4gIGFzc2VydCh0aGlzLnJlZCwgJ3JlZE11bCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMnKTtcbiAgdGhpcy5yZWQuX3ZlcmlmeTIodGhpcywgbnVtKTtcbiAgcmV0dXJuIHRoaXMucmVkLmltdWwodGhpcywgbnVtKTtcbn07XG5cbkJOLnByb3RvdHlwZS5yZWRTcXIgPSBmdW5jdGlvbiByZWRTcXIoKSB7XG4gIGFzc2VydCh0aGlzLnJlZCwgJ3JlZFNxciB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMnKTtcbiAgdGhpcy5yZWQuX3ZlcmlmeTEodGhpcyk7XG4gIHJldHVybiB0aGlzLnJlZC5zcXIodGhpcyk7XG59O1xuXG5CTi5wcm90b3R5cGUucmVkSVNxciA9IGZ1bmN0aW9uIHJlZElTcXIoKSB7XG4gIGFzc2VydCh0aGlzLnJlZCwgJ3JlZElTcXIgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzJyk7XG4gIHRoaXMucmVkLl92ZXJpZnkxKHRoaXMpO1xuICByZXR1cm4gdGhpcy5yZWQuaXNxcih0aGlzKTtcbn07XG5cbi8vIFNxdWFyZSByb290IG92ZXIgcFxuQk4ucHJvdG90eXBlLnJlZFNxcnQgPSBmdW5jdGlvbiByZWRTcXJ0KCkge1xuICBhc3NlcnQodGhpcy5yZWQsICdyZWRTcXJ0IHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycycpO1xuICB0aGlzLnJlZC5fdmVyaWZ5MSh0aGlzKTtcbiAgcmV0dXJuIHRoaXMucmVkLnNxcnQodGhpcyk7XG59O1xuXG5CTi5wcm90b3R5cGUucmVkSW52bSA9IGZ1bmN0aW9uIHJlZEludm0oKSB7XG4gIGFzc2VydCh0aGlzLnJlZCwgJ3JlZEludm0gd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzJyk7XG4gIHRoaXMucmVkLl92ZXJpZnkxKHRoaXMpO1xuICByZXR1cm4gdGhpcy5yZWQuaW52bSh0aGlzKTtcbn07XG5cbi8vIFJldHVybiBuZWdhdGl2ZSBjbG9uZSBvZiBgdGhpc2AgJSBgcmVkIG1vZHVsb2BcbkJOLnByb3RvdHlwZS5yZWROZWcgPSBmdW5jdGlvbiByZWROZWcoKSB7XG4gIGFzc2VydCh0aGlzLnJlZCwgJ3JlZE5lZyB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMnKTtcbiAgdGhpcy5yZWQuX3ZlcmlmeTEodGhpcyk7XG4gIHJldHVybiB0aGlzLnJlZC5uZWcodGhpcyk7XG59O1xuXG5CTi5wcm90b3R5cGUucmVkUG93ID0gZnVuY3Rpb24gcmVkUG93KG51bSkge1xuICBhc3NlcnQodGhpcy5yZWQgJiYgIW51bS5yZWQsICdyZWRQb3cobm9ybWFsTnVtKScpO1xuICB0aGlzLnJlZC5fdmVyaWZ5MSh0aGlzKTtcbiAgcmV0dXJuIHRoaXMucmVkLnBvdyh0aGlzLCBudW0pO1xufTtcblxuLy8gUHJpbWUgbnVtYmVycyB3aXRoIGVmZmljaWVudCByZWR1Y3Rpb25cbnZhciBwcmltZXMgPSB7XG4gIGsyNTY6IG51bGwsXG4gIHAyMjQ6IG51bGwsXG4gIHAxOTI6IG51bGwsXG4gIHAyNTUxOTogbnVsbFxufTtcblxuLy8gUHNldWRvLU1lcnNlbm5lIHByaW1lXG5mdW5jdGlvbiBNUHJpbWUobmFtZSwgcCkge1xuICAvLyBQID0gMiBeIE4gLSBLXG4gIHRoaXMubmFtZSA9IG5hbWU7XG4gIHRoaXMucCA9IG5ldyBCTihwLCAxNik7XG4gIHRoaXMubiA9IHRoaXMucC5iaXRMZW5ndGgoKTtcbiAgdGhpcy5rID0gbmV3IEJOKDEpLmlzaGxuKHRoaXMubikuaXN1Yih0aGlzLnApO1xuXG4gIHRoaXMudG1wID0gdGhpcy5fdG1wKCk7XG59XG5cbk1QcmltZS5wcm90b3R5cGUuX3RtcCA9IGZ1bmN0aW9uIF90bXAoKSB7XG4gIHZhciB0bXAgPSBuZXcgQk4obnVsbCk7XG4gIHRtcC53b3JkcyA9IG5ldyBBcnJheShNYXRoLmNlaWwodGhpcy5uIC8gMTMpKTtcbiAgcmV0dXJuIHRtcDtcbn07XG5cbk1QcmltZS5wcm90b3R5cGUuaXJlZHVjZSA9IGZ1bmN0aW9uIGlyZWR1Y2UobnVtKSB7XG4gIC8vIEFzc3VtZXMgdGhhdCBgbnVtYCBpcyBsZXNzIHRoYW4gYFBeMmBcbiAgLy8gbnVtID0gSEkgKiAoMiBeIE4gLSBLKSArIEhJICogSyArIExPID0gSEkgKiBLICsgTE8gKG1vZCBQKVxuICB2YXIgciA9IG51bTtcbiAgdmFyIHJsZW47XG5cbiAgZG8ge1xuICAgIHRoaXMuc3BsaXQociwgdGhpcy50bXApO1xuICAgIHIgPSB0aGlzLmltdWxLKHIpO1xuICAgIHIgPSByLmlhZGQodGhpcy50bXApO1xuICAgIHJsZW4gPSByLmJpdExlbmd0aCgpO1xuICB9IHdoaWxlIChybGVuID4gdGhpcy5uKTtcblxuICB2YXIgY21wID0gcmxlbiA8IHRoaXMubiA/IC0xIDogci51Y21wKHRoaXMucCk7XG4gIGlmIChjbXAgPT09IDApIHtcbiAgICByLndvcmRzWzBdID0gMDtcbiAgICByLmxlbmd0aCA9IDE7XG4gIH0gZWxzZSBpZiAoY21wID4gMCkge1xuICAgIHIuaXN1Yih0aGlzLnApO1xuICB9IGVsc2Uge1xuICAgIHIuc3RyaXAoKTtcbiAgfVxuXG4gIHJldHVybiByO1xufTtcblxuTVByaW1lLnByb3RvdHlwZS5zcGxpdCA9IGZ1bmN0aW9uIHNwbGl0KGlucHV0LCBvdXQpIHtcbiAgaW5wdXQuaXNocm4odGhpcy5uLCAwLCBvdXQpO1xufTtcblxuTVByaW1lLnByb3RvdHlwZS5pbXVsSyA9IGZ1bmN0aW9uIGltdWxLKG51bSkge1xuICByZXR1cm4gbnVtLmltdWwodGhpcy5rKTtcbn07XG5cbmZ1bmN0aW9uIEsyNTYoKSB7XG4gIE1QcmltZS5jYWxsKFxuICAgIHRoaXMsXG4gICAgJ2syNTYnLFxuICAgICdmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZSBmZmZmZmMyZicpO1xufVxuaW5oZXJpdHMoSzI1NiwgTVByaW1lKTtcblxuSzI1Ni5wcm90b3R5cGUuc3BsaXQgPSBmdW5jdGlvbiBzcGxpdChpbnB1dCwgb3V0cHV0KSB7XG4gIC8vIDI1NiA9IDkgKiAyNiArIDIyXG4gIHZhciBtYXNrID0gMHgzZmZmZmY7XG5cbiAgdmFyIG91dExlbiA9IE1hdGgubWluKGlucHV0Lmxlbmd0aCwgOSk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgb3V0TGVuOyBpKyspXG4gICAgb3V0cHV0LndvcmRzW2ldID0gaW5wdXQud29yZHNbaV07XG4gIG91dHB1dC5sZW5ndGggPSBvdXRMZW47XG5cbiAgaWYgKGlucHV0Lmxlbmd0aCA8PSA5KSB7XG4gICAgaW5wdXQud29yZHNbMF0gPSAwO1xuICAgIGlucHV0Lmxlbmd0aCA9IDE7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gU2hpZnQgYnkgOSBsaW1ic1xuICB2YXIgcHJldiA9IGlucHV0LndvcmRzWzldO1xuICBvdXRwdXQud29yZHNbb3V0cHV0Lmxlbmd0aCsrXSA9IHByZXYgJiBtYXNrO1xuXG4gIGZvciAodmFyIGkgPSAxMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG5leHQgPSBpbnB1dC53b3Jkc1tpXTtcbiAgICBpbnB1dC53b3Jkc1tpIC0gMTBdID0gKChuZXh0ICYgbWFzaykgPDwgNCkgfCAocHJldiA+Pj4gMjIpO1xuICAgIHByZXYgPSBuZXh0O1xuICB9XG4gIGlucHV0LndvcmRzW2kgLSAxMF0gPSBwcmV2ID4+PiAyMjtcbiAgaW5wdXQubGVuZ3RoIC09IDk7XG59O1xuXG5LMjU2LnByb3RvdHlwZS5pbXVsSyA9IGZ1bmN0aW9uIGltdWxLKG51bSkge1xuICAvLyBLID0gMHgxMDAwMDAzZDEgPSBbIDB4NDAsIDB4M2QxIF1cbiAgbnVtLndvcmRzW251bS5sZW5ndGhdID0gMDtcbiAgbnVtLndvcmRzW251bS5sZW5ndGggKyAxXSA9IDA7XG4gIG51bS5sZW5ndGggKz0gMjtcblxuICAvLyBib3VuZGVkIGF0OiAweDQwICogMHgzZmZmZmZmICsgMHgzZDAgPSAweDEwMDAwMDM5MFxuICB2YXIgaGk7XG4gIHZhciBsbyA9IDA7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHcgPSBudW0ud29yZHNbaV07XG4gICAgaGkgPSB3ICogMHg0MDtcbiAgICBsbyArPSB3ICogMHgzZDE7XG4gICAgaGkgKz0gKGxvIC8gMHg0MDAwMDAwKSB8IDA7XG4gICAgbG8gJj0gMHgzZmZmZmZmO1xuXG4gICAgbnVtLndvcmRzW2ldID0gbG87XG5cbiAgICBsbyA9IGhpO1xuICB9XG5cbiAgLy8gRmFzdCBsZW5ndGggcmVkdWN0aW9uXG4gIGlmIChudW0ud29yZHNbbnVtLmxlbmd0aCAtIDFdID09PSAwKSB7XG4gICAgbnVtLmxlbmd0aC0tO1xuICAgIGlmIChudW0ud29yZHNbbnVtLmxlbmd0aCAtIDFdID09PSAwKVxuICAgICAgbnVtLmxlbmd0aC0tO1xuICB9XG4gIHJldHVybiBudW07XG59O1xuXG5mdW5jdGlvbiBQMjI0KCkge1xuICBNUHJpbWUuY2FsbChcbiAgICB0aGlzLFxuICAgICdwMjI0JyxcbiAgICAnZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgMDAwMDAwMDAgMDAwMDAwMDAgMDAwMDAwMDEnKTtcbn1cbmluaGVyaXRzKFAyMjQsIE1QcmltZSk7XG5cbmZ1bmN0aW9uIFAxOTIoKSB7XG4gIE1QcmltZS5jYWxsKFxuICAgIHRoaXMsXG4gICAgJ3AxOTInLFxuICAgICdmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZSBmZmZmZmZmZiBmZmZmZmZmZicpO1xufVxuaW5oZXJpdHMoUDE5MiwgTVByaW1lKTtcblxuZnVuY3Rpb24gUDI1NTE5KCkge1xuICAvLyAyIF4gMjU1IC0gMTlcbiAgTVByaW1lLmNhbGwoXG4gICAgdGhpcyxcbiAgICAnMjU1MTknLFxuICAgICc3ZmZmZmZmZmZmZmZmZmZmIGZmZmZmZmZmZmZmZmZmZmYgZmZmZmZmZmZmZmZmZmZmZiBmZmZmZmZmZmZmZmZmZmVkJyk7XG59XG5pbmhlcml0cyhQMjU1MTksIE1QcmltZSk7XG5cblAyNTUxOS5wcm90b3R5cGUuaW11bEsgPSBmdW5jdGlvbiBpbXVsSyhudW0pIHtcbiAgLy8gSyA9IDB4MTNcbiAgdmFyIGNhcnJ5ID0gMDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW0ubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaGkgPSBudW0ud29yZHNbaV0gKiAweDEzICsgY2Fycnk7XG4gICAgdmFyIGxvID0gaGkgJiAweDNmZmZmZmY7XG4gICAgaGkgPj4+PSAyNjtcblxuICAgIG51bS53b3Jkc1tpXSA9IGxvO1xuICAgIGNhcnJ5ID0gaGk7XG4gIH1cbiAgaWYgKGNhcnJ5ICE9PSAwKVxuICAgIG51bS53b3Jkc1tudW0ubGVuZ3RoKytdID0gY2Fycnk7XG4gIHJldHVybiBudW07XG59O1xuXG4vLyBFeHBvcnRlZCBtb3N0bHkgZm9yIHRlc3RpbmcgcHVycG9zZXMsIHVzZSBwbGFpbiBuYW1lIGluc3RlYWRcbkJOLl9wcmltZSA9IGZ1bmN0aW9uIHByaW1lKG5hbWUpIHtcbiAgLy8gQ2FjaGVkIHZlcnNpb24gb2YgcHJpbWVcbiAgaWYgKHByaW1lc1tuYW1lXSlcbiAgICByZXR1cm4gcHJpbWVzW25hbWVdO1xuXG4gIHZhciBwcmltZTtcbiAgaWYgKG5hbWUgPT09ICdrMjU2JylcbiAgICBwcmltZSA9IG5ldyBLMjU2KCk7XG4gIGVsc2UgaWYgKG5hbWUgPT09ICdwMjI0JylcbiAgICBwcmltZSA9IG5ldyBQMjI0KCk7XG4gIGVsc2UgaWYgKG5hbWUgPT09ICdwMTkyJylcbiAgICBwcmltZSA9IG5ldyBQMTkyKCk7XG4gIGVsc2UgaWYgKG5hbWUgPT09ICdwMjU1MTknKVxuICAgIHByaW1lID0gbmV3IFAyNTUxOSgpO1xuICBlbHNlXG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHByaW1lICcgKyBuYW1lKTtcbiAgcHJpbWVzW25hbWVdID0gcHJpbWU7XG5cbiAgcmV0dXJuIHByaW1lO1xufTtcblxuLy9cbi8vIEJhc2UgcmVkdWN0aW9uIGVuZ2luZVxuLy9cbmZ1bmN0aW9uIFJlZChtKSB7XG4gIGlmICh0eXBlb2YgbSA9PT0gJ3N0cmluZycpIHtcbiAgICB2YXIgcHJpbWUgPSBCTi5fcHJpbWUobSk7XG4gICAgdGhpcy5tID0gcHJpbWUucDtcbiAgICB0aGlzLnByaW1lID0gcHJpbWU7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5tID0gbTtcbiAgICB0aGlzLnByaW1lID0gbnVsbDtcbiAgfVxufVxuXG5SZWQucHJvdG90eXBlLl92ZXJpZnkxID0gZnVuY3Rpb24gX3ZlcmlmeTEoYSkge1xuICBhc3NlcnQoIWEuc2lnbiwgJ3JlZCB3b3JrcyBvbmx5IHdpdGggcG9zaXRpdmVzJyk7XG4gIGFzc2VydChhLnJlZCwgJ3JlZCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMnKTtcbn07XG5cblJlZC5wcm90b3R5cGUuX3ZlcmlmeTIgPSBmdW5jdGlvbiBfdmVyaWZ5MihhLCBiKSB7XG4gIGFzc2VydCghYS5zaWduICYmICFiLnNpZ24sICdyZWQgd29ya3Mgb25seSB3aXRoIHBvc2l0aXZlcycpO1xuICBhc3NlcnQoYS5yZWQgJiYgYS5yZWQgPT09IGIucmVkLFxuICAgICAgICAgJ3JlZCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMnKTtcbn07XG5cblJlZC5wcm90b3R5cGUuaW1vZCA9IGZ1bmN0aW9uIGltb2QoYSkge1xuICBpZiAodGhpcy5wcmltZSlcbiAgICByZXR1cm4gdGhpcy5wcmltZS5pcmVkdWNlKGEpLl9mb3JjZVJlZCh0aGlzKTtcbiAgcmV0dXJuIGEubW9kKHRoaXMubSkuX2ZvcmNlUmVkKHRoaXMpO1xufTtcblxuUmVkLnByb3RvdHlwZS5uZWcgPSBmdW5jdGlvbiBuZWcoYSkge1xuICB2YXIgciA9IGEuY2xvbmUoKTtcbiAgci5zaWduID0gIXIuc2lnbjtcbiAgcmV0dXJuIHIuaWFkZCh0aGlzLm0pLl9mb3JjZVJlZCh0aGlzKTtcbn07XG5cblJlZC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkKGEsIGIpIHtcbiAgdGhpcy5fdmVyaWZ5MihhLCBiKTtcblxuICB2YXIgcmVzID0gYS5hZGQoYik7XG4gIGlmIChyZXMuY21wKHRoaXMubSkgPj0gMClcbiAgICByZXMuaXN1Yih0aGlzLm0pO1xuICByZXR1cm4gcmVzLl9mb3JjZVJlZCh0aGlzKTtcbn07XG5cblJlZC5wcm90b3R5cGUuaWFkZCA9IGZ1bmN0aW9uIGlhZGQoYSwgYikge1xuICB0aGlzLl92ZXJpZnkyKGEsIGIpO1xuXG4gIHZhciByZXMgPSBhLmlhZGQoYik7XG4gIGlmIChyZXMuY21wKHRoaXMubSkgPj0gMClcbiAgICByZXMuaXN1Yih0aGlzLm0pO1xuICByZXR1cm4gcmVzO1xufTtcblxuUmVkLnByb3RvdHlwZS5zdWIgPSBmdW5jdGlvbiBzdWIoYSwgYikge1xuICB0aGlzLl92ZXJpZnkyKGEsIGIpO1xuXG4gIHZhciByZXMgPSBhLnN1YihiKTtcbiAgaWYgKHJlcy5jbXBuKDApIDwgMClcbiAgICByZXMuaWFkZCh0aGlzLm0pO1xuICByZXR1cm4gcmVzLl9mb3JjZVJlZCh0aGlzKTtcbn07XG5cblJlZC5wcm90b3R5cGUuaXN1YiA9IGZ1bmN0aW9uIGlzdWIoYSwgYikge1xuICB0aGlzLl92ZXJpZnkyKGEsIGIpO1xuXG4gIHZhciByZXMgPSBhLmlzdWIoYik7XG4gIGlmIChyZXMuY21wbigwKSA8IDApXG4gICAgcmVzLmlhZGQodGhpcy5tKTtcbiAgcmV0dXJuIHJlcztcbn07XG5cblJlZC5wcm90b3R5cGUuc2hsID0gZnVuY3Rpb24gc2hsKGEsIG51bSkge1xuICB0aGlzLl92ZXJpZnkxKGEpO1xuICByZXR1cm4gdGhpcy5pbW9kKGEuc2hsbihudW0pKTtcbn07XG5cblJlZC5wcm90b3R5cGUuaW11bCA9IGZ1bmN0aW9uIGltdWwoYSwgYikge1xuICB0aGlzLl92ZXJpZnkyKGEsIGIpO1xuICByZXR1cm4gdGhpcy5pbW9kKGEuaW11bChiKSk7XG59O1xuXG5SZWQucHJvdG90eXBlLm11bCA9IGZ1bmN0aW9uIG11bChhLCBiKSB7XG4gIHRoaXMuX3ZlcmlmeTIoYSwgYik7XG4gIHJldHVybiB0aGlzLmltb2QoYS5tdWwoYikpO1xufTtcblxuUmVkLnByb3RvdHlwZS5pc3FyID0gZnVuY3Rpb24gaXNxcihhKSB7XG4gIHJldHVybiB0aGlzLmltdWwoYSwgYSk7XG59O1xuXG5SZWQucHJvdG90eXBlLnNxciA9IGZ1bmN0aW9uIHNxcihhKSB7XG4gIHJldHVybiB0aGlzLm11bChhLCBhKTtcbn07XG5cblJlZC5wcm90b3R5cGUuc3FydCA9IGZ1bmN0aW9uIHNxcnQoYSkge1xuICBpZiAoYS5jbXBuKDApID09PSAwKVxuICAgIHJldHVybiBhLmNsb25lKCk7XG5cbiAgdmFyIG1vZDMgPSB0aGlzLm0uYW5kbG4oMyk7XG4gIGFzc2VydChtb2QzICUgMiA9PT0gMSk7XG5cbiAgLy8gRmFzdCBjYXNlXG4gIGlmIChtb2QzID09PSAzKSB7XG4gICAgdmFyIHBvdyA9IHRoaXMubS5hZGQobmV3IEJOKDEpKS5pc2hybigyKTtcbiAgICB2YXIgciA9IHRoaXMucG93KGEsIHBvdyk7XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuICAvLyBUb25lbGxpLVNoYW5rcyBhbGdvcml0aG0gKFRvdGFsbHkgdW5vcHRpbWl6ZWQgYW5kIHNsb3cpXG4gIC8vXG4gIC8vIEZpbmQgUSBhbmQgUywgdGhhdCBRICogMiBeIFMgPSAoUCAtIDEpXG4gIHZhciBxID0gdGhpcy5tLnN1Ym4oMSk7XG4gIHZhciBzID0gMDtcbiAgd2hpbGUgKHEuY21wbigwKSAhPT0gMCAmJiBxLmFuZGxuKDEpID09PSAwKSB7XG4gICAgcysrO1xuICAgIHEuaXNocm4oMSk7XG4gIH1cbiAgYXNzZXJ0KHEuY21wbigwKSAhPT0gMCk7XG5cbiAgdmFyIG9uZSA9IG5ldyBCTigxKS50b1JlZCh0aGlzKTtcbiAgdmFyIG5PbmUgPSBvbmUucmVkTmVnKCk7XG5cbiAgLy8gRmluZCBxdWFkcmF0aWMgbm9uLXJlc2lkdWVcbiAgLy8gTk9URTogTWF4IGlzIHN1Y2ggYmVjYXVzZSBvZiBnZW5lcmFsaXplZCBSaWVtYW5uIGh5cG90aGVzaXMuXG4gIHZhciBscG93ID0gdGhpcy5tLnN1Ym4oMSkuaXNocm4oMSk7XG4gIHZhciB6ID0gdGhpcy5tLmJpdExlbmd0aCgpO1xuICB6ID0gbmV3IEJOKDIgKiB6ICogeikudG9SZWQodGhpcyk7XG4gIHdoaWxlICh0aGlzLnBvdyh6LCBscG93KS5jbXAobk9uZSkgIT09IDApXG4gICAgei5yZWRJQWRkKG5PbmUpO1xuXG4gIHZhciBjID0gdGhpcy5wb3coeiwgcSk7XG4gIHZhciByID0gdGhpcy5wb3coYSwgcS5hZGRuKDEpLmlzaHJuKDEpKTtcbiAgdmFyIHQgPSB0aGlzLnBvdyhhLCBxKTtcbiAgdmFyIG0gPSBzO1xuICB3aGlsZSAodC5jbXAob25lKSAhPT0gMCkge1xuICAgIHZhciB0bXAgPSB0O1xuICAgIGZvciAodmFyIGkgPSAwOyB0bXAuY21wKG9uZSkgIT09IDA7IGkrKylcbiAgICAgIHRtcCA9IHRtcC5yZWRTcXIoKTtcbiAgICBhc3NlcnQoaSA8IG0pO1xuICAgIHZhciBiID0gdGhpcy5wb3coYywgbmV3IEJOKDEpLmlzaGxuKG0gLSBpIC0gMSkpO1xuXG4gICAgciA9IHIucmVkTXVsKGIpO1xuICAgIGMgPSBiLnJlZFNxcigpO1xuICAgIHQgPSB0LnJlZE11bChjKTtcbiAgICBtID0gaTtcbiAgfVxuXG4gIHJldHVybiByO1xufTtcblxuUmVkLnByb3RvdHlwZS5pbnZtID0gZnVuY3Rpb24gaW52bShhKSB7XG4gIHZhciBpbnYgPSBhLl9pbnZtcCh0aGlzLm0pO1xuICBpZiAoaW52LnNpZ24pIHtcbiAgICBpbnYuc2lnbiA9IGZhbHNlO1xuICAgIHJldHVybiB0aGlzLmltb2QoaW52KS5yZWROZWcoKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdGhpcy5pbW9kKGludik7XG4gIH1cbn07XG5cblJlZC5wcm90b3R5cGUucG93ID0gZnVuY3Rpb24gcG93KGEsIG51bSkge1xuICB2YXIgdyA9IFtdO1xuXG4gIGlmIChudW0uY21wbigwKSA9PT0gMClcbiAgICByZXR1cm4gbmV3IEJOKDEpO1xuXG4gIHZhciBxID0gbnVtLmNsb25lKCk7XG5cbiAgd2hpbGUgKHEuY21wbigwKSAhPT0gMCkge1xuICAgIHcucHVzaChxLmFuZGxuKDEpKTtcbiAgICBxLmlzaHJuKDEpO1xuICB9XG5cbiAgLy8gU2tpcCBsZWFkaW5nIHplcm9lc1xuICB2YXIgcmVzID0gYTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB3Lmxlbmd0aDsgaSsrLCByZXMgPSB0aGlzLnNxcihyZXMpKVxuICAgIGlmICh3W2ldICE9PSAwKVxuICAgICAgYnJlYWs7XG5cbiAgaWYgKCsraSA8IHcubGVuZ3RoKSB7XG4gICAgZm9yICh2YXIgcSA9IHRoaXMuc3FyKHJlcyk7IGkgPCB3Lmxlbmd0aDsgaSsrLCBxID0gdGhpcy5zcXIocSkpIHtcbiAgICAgIGlmICh3W2ldID09PSAwKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIHJlcyA9IHRoaXMubXVsKHJlcywgcSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlcztcbn07XG5cblJlZC5wcm90b3R5cGUuY29udmVydFRvID0gZnVuY3Rpb24gY29udmVydFRvKG51bSkge1xuICB2YXIgciA9IG51bS5tb2QodGhpcy5tKTtcbiAgaWYgKHIgPT09IG51bSlcbiAgICByZXR1cm4gci5jbG9uZSgpO1xuICBlbHNlXG4gICAgcmV0dXJuIHI7XG59O1xuXG5SZWQucHJvdG90eXBlLmNvbnZlcnRGcm9tID0gZnVuY3Rpb24gY29udmVydEZyb20obnVtKSB7XG4gIHZhciByZXMgPSBudW0uY2xvbmUoKTtcbiAgcmVzLnJlZCA9IG51bGw7XG4gIHJldHVybiByZXM7XG59O1xuXG4vL1xuLy8gTW9udGdvbWVyeSBtZXRob2QgZW5naW5lXG4vL1xuXG5CTi5tb250ID0gZnVuY3Rpb24gbW9udChudW0pIHtcbiAgcmV0dXJuIG5ldyBNb250KG51bSk7XG59O1xuXG5mdW5jdGlvbiBNb250KG0pIHtcbiAgUmVkLmNhbGwodGhpcywgbSk7XG5cbiAgdGhpcy5zaGlmdCA9IHRoaXMubS5iaXRMZW5ndGgoKTtcbiAgaWYgKHRoaXMuc2hpZnQgJSAyNiAhPT0gMClcbiAgICB0aGlzLnNoaWZ0ICs9IDI2IC0gKHRoaXMuc2hpZnQgJSAyNik7XG4gIHRoaXMuciA9IG5ldyBCTigxKS5pc2hsbih0aGlzLnNoaWZ0KTtcbiAgdGhpcy5yMiA9IHRoaXMuaW1vZCh0aGlzLnIuc3FyKCkpO1xuICB0aGlzLnJpbnYgPSB0aGlzLnIuX2ludm1wKHRoaXMubSk7XG5cbiAgdGhpcy5taW52ID0gdGhpcy5yaW52Lm11bCh0aGlzLnIpLmlzdWJuKDEpLmRpdih0aGlzLm0pO1xuICB0aGlzLm1pbnYuc2lnbiA9IHRydWU7XG4gIHRoaXMubWludiA9IHRoaXMubWludi5tb2QodGhpcy5yKTtcbn1cbmluaGVyaXRzKE1vbnQsIFJlZCk7XG5cbk1vbnQucHJvdG90eXBlLmNvbnZlcnRUbyA9IGZ1bmN0aW9uIGNvbnZlcnRUbyhudW0pIHtcbiAgcmV0dXJuIHRoaXMuaW1vZChudW0uc2hsbih0aGlzLnNoaWZ0KSk7XG59O1xuXG5Nb250LnByb3RvdHlwZS5jb252ZXJ0RnJvbSA9IGZ1bmN0aW9uIGNvbnZlcnRGcm9tKG51bSkge1xuICB2YXIgciA9IHRoaXMuaW1vZChudW0ubXVsKHRoaXMucmludikpO1xuICByLnJlZCA9IG51bGw7XG4gIHJldHVybiByO1xufTtcblxuTW9udC5wcm90b3R5cGUuaW11bCA9IGZ1bmN0aW9uIGltdWwoYSwgYikge1xuICBpZiAoYS5jbXBuKDApID09PSAwIHx8IGIuY21wbigwKSA9PT0gMCkge1xuICAgIGEud29yZHNbMF0gPSAwO1xuICAgIGEubGVuZ3RoID0gMTtcbiAgICByZXR1cm4gYTtcbiAgfVxuXG4gIHZhciB0ID0gYS5pbXVsKGIpO1xuICB2YXIgYyA9IHQubWFza24odGhpcy5zaGlmdCkubXVsKHRoaXMubWludikuaW1hc2tuKHRoaXMuc2hpZnQpLm11bCh0aGlzLm0pO1xuICB2YXIgdSA9IHQuaXN1YihjKS5pc2hybih0aGlzLnNoaWZ0KTtcbiAgdmFyIHJlcyA9IHU7XG4gIGlmICh1LmNtcCh0aGlzLm0pID49IDApXG4gICAgcmVzID0gdS5pc3ViKHRoaXMubSk7XG4gIGVsc2UgaWYgKHUuY21wbigwKSA8IDApXG4gICAgcmVzID0gdS5pYWRkKHRoaXMubSk7XG5cbiAgcmV0dXJuIHJlcy5fZm9yY2VSZWQodGhpcyk7XG59O1xuXG5Nb250LnByb3RvdHlwZS5tdWwgPSBmdW5jdGlvbiBtdWwoYSwgYikge1xuICBpZiAoYS5jbXBuKDApID09PSAwIHx8IGIuY21wbigwKSA9PT0gMClcbiAgICByZXR1cm4gbmV3IEJOKDApLl9mb3JjZVJlZCh0aGlzKTtcblxuICB2YXIgdCA9IGEubXVsKGIpO1xuICB2YXIgYyA9IHQubWFza24odGhpcy5zaGlmdCkubXVsKHRoaXMubWludikuaW1hc2tuKHRoaXMuc2hpZnQpLm11bCh0aGlzLm0pO1xuICB2YXIgdSA9IHQuaXN1YihjKS5pc2hybih0aGlzLnNoaWZ0KTtcbiAgdmFyIHJlcyA9IHU7XG4gIGlmICh1LmNtcCh0aGlzLm0pID49IDApXG4gICAgcmVzID0gdS5pc3ViKHRoaXMubSk7XG4gIGVsc2UgaWYgKHUuY21wbigwKSA8IDApXG4gICAgcmVzID0gdS5pYWRkKHRoaXMubSk7XG5cbiAgcmV0dXJuIHJlcy5fZm9yY2VSZWQodGhpcyk7XG59O1xuXG5Nb250LnByb3RvdHlwZS5pbnZtID0gZnVuY3Rpb24gaW52bShhKSB7XG4gIC8vIChBUileLTEgKiBSXjIgPSAoQV4tMSAqIFJeLTEpICogUl4yID0gQV4tMSAqIFJcbiAgdmFyIHJlcyA9IHRoaXMuaW1vZChhLl9pbnZtcCh0aGlzLm0pLm11bCh0aGlzLnIyKSk7XG4gIHJldHVybiByZXMuX2ZvcmNlUmVkKHRoaXMpO1xufTtcblxufSkodHlwZW9mIG1vZHVsZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbW9kdWxlLCB0aGlzKTtcbiIsIid1c2Ugc3RyaWN0J1xuZXhwb3J0c1snMS4zLjEzMi4wLjEwJ10gPSAnc2VjcDI1NmsxJ1xuXG5leHBvcnRzWycxLjMuMTMyLjAuMzMnXSA9ICdwMjI0J1xuXG5leHBvcnRzWycxLjIuODQwLjEwMDQ1LjMuMS4xJ10gPSAncDE5MidcblxuZXhwb3J0c1snMS4yLjg0MC4xMDA0NS4zLjEuNyddID0gJ3AyNTYnXG4iLCIoZnVuY3Rpb24gKEJ1ZmZlcil7XG4ndXNlIHN0cmljdCdcbmV4cG9ydHNbJ1JTQS1TSEEyMjQnXSA9IGV4cG9ydHMuc2hhMjI0V2l0aFJTQUVuY3J5cHRpb24gPSB7XG4gIHNpZ246ICdyc2EnLFxuICBoYXNoOiAnc2hhMjI0JyxcbiAgaWQ6IG5ldyBCdWZmZXIoJzMwMmQzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwNDA1MDAwNDFjJywgJ2hleCcpXG59XG5leHBvcnRzWydSU0EtU0hBMjU2J10gPSBleHBvcnRzLnNoYTI1NldpdGhSU0FFbmNyeXB0aW9uID0ge1xuICBzaWduOiAncnNhJyxcbiAgaGFzaDogJ3NoYTI1NicsXG4gIGlkOiBuZXcgQnVmZmVyKCczMDMxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDEwNTAwMDQyMCcsICdoZXgnKVxufVxuZXhwb3J0c1snUlNBLVNIQTM4NCddID0gZXhwb3J0cy5zaGEzODRXaXRoUlNBRW5jcnlwdGlvbiA9IHtcbiAgc2lnbjogJ3JzYScsXG4gIGhhc2g6ICdzaGEzODQnLFxuICBpZDogbmV3IEJ1ZmZlcignMzA0MTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAyMDUwMDA0MzAnLCAnaGV4Jylcbn1cbmV4cG9ydHNbJ1JTQS1TSEE1MTInXSA9IGV4cG9ydHMuc2hhNTEyV2l0aFJTQUVuY3J5cHRpb24gPSB7XG4gIHNpZ246ICdyc2EnLFxuICBoYXNoOiAnc2hhNTEyJyxcbiAgaWQ6IG5ldyBCdWZmZXIoJzMwNTEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMzA1MDAwNDQwJywgJ2hleCcpXG59XG5leHBvcnRzWydSU0EtU0hBMSddID0ge1xuICBzaWduOiAncnNhJyxcbiAgaGFzaDogJ3NoYTEnLFxuICBpZDogbmV3IEJ1ZmZlcignMzAyMTMwMDkwNjA1MmIwZTAzMDIxYTA1MDAwNDE0JywgJ2hleCcpXG59XG5leHBvcnRzWydlY2RzYS13aXRoLVNIQTEnXSA9IHtcbiAgc2lnbjogJ2VjZHNhJyxcbiAgaGFzaDogJ3NoYTEnLFxuICBpZDogbmV3IEJ1ZmZlcignJywgJ2hleCcpXG59XG5leHBvcnRzLkRTQSA9IGV4cG9ydHNbJ0RTQS1TSEExJ10gPSBleHBvcnRzWydEU0EtU0hBJ10gPSB7XG4gIHNpZ246ICdkc2EnLFxuICBoYXNoOiAnc2hhMScsXG4gIGlkOiBuZXcgQnVmZmVyKCcnLCAnaGV4Jylcbn1cbmV4cG9ydHNbJ0RTQS1TSEEyMjQnXSA9IGV4cG9ydHNbJ0RTQS1XSVRILVNIQTIyNCddID0ge1xuICBzaWduOiAnZHNhJyxcbiAgaGFzaDogJ3NoYTIyNCcsXG4gIGlkOiBuZXcgQnVmZmVyKCcnLCAnaGV4Jylcbn1cbmV4cG9ydHNbJ0RTQS1TSEEyNTYnXSA9IGV4cG9ydHNbJ0RTQS1XSVRILVNIQTI1NiddID0ge1xuICBzaWduOiAnZHNhJyxcbiAgaGFzaDogJ3NoYTI1NicsXG4gIGlkOiBuZXcgQnVmZmVyKCcnLCAnaGV4Jylcbn1cbmV4cG9ydHNbJ0RTQS1TSEEzODQnXSA9IGV4cG9ydHNbJ0RTQS1XSVRILVNIQTM4NCddID0ge1xuICBzaWduOiAnZHNhJyxcbiAgaGFzaDogJ3NoYTM4NCcsXG4gIGlkOiBuZXcgQnVmZmVyKCcnLCAnaGV4Jylcbn1cbmV4cG9ydHNbJ0RTQS1TSEE1MTInXSA9IGV4cG9ydHNbJ0RTQS1XSVRILVNIQTUxMiddID0ge1xuICBzaWduOiAnZHNhJyxcbiAgaGFzaDogJ3NoYTUxMicsXG4gIGlkOiBuZXcgQnVmZmVyKCcnLCAnaGV4Jylcbn1cbmV4cG9ydHNbJ0RTQS1SSVBFTUQxNjAnXSA9IHtcbiAgc2lnbjogJ2RzYScsXG4gIGhhc2g6ICdybWQxNjAnLFxuICBpZDogbmV3IEJ1ZmZlcignJywgJ2hleCcpXG59XG5leHBvcnRzWydSU0EtUklQRU1EMTYwJ10gPSBleHBvcnRzLnJpcGVtZDE2MFdpdGhSU0EgPSB7XG4gIHNpZ246ICdyc2EnLFxuICBoYXNoOiAncm1kMTYwJyxcbiAgaWQ6IG5ldyBCdWZmZXIoJzMwMjEzMDA5MDYwNTJiMjQwMzAyMDEwNTAwMDQxNCcsICdoZXgnKVxufVxuZXhwb3J0c1snUlNBLU1ENSddID0gZXhwb3J0cy5tZDVXaXRoUlNBRW5jcnlwdGlvbiA9IHtcbiAgc2lnbjogJ3JzYScsXG4gIGhhc2g6ICdtZDUnLFxuICBpZDogbmV3IEJ1ZmZlcignMzAyMDMwMGMwNjA4MmE4NjQ4ODZmNzBkMDIwNTA1MDAwNDEwJywgJ2hleCcpXG59XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12WW5KdmQzTmxjbWxtZVMxemFXZHVMMkZzWjI5ekxtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdRVUZCUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRWlMQ0ptYVd4bElqb2laMlZ1WlhKaGRHVmtMbXB6SWl3aWMyOTFjbU5sVW05dmRDSTZJaUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSWlkMWMyVWdjM1J5YVdOMEoxeHVaWGh3YjNKMGMxc25VbE5CTFZOSVFUSXlOQ2RkSUQwZ1pYaHdiM0owY3k1emFHRXlNalJYYVhSb1VsTkJSVzVqY25sd2RHbHZiaUE5SUh0Y2JpQWdjMmxuYmpvZ0ozSnpZU2NzWEc0Z0lHaGhjMmc2SUNkemFHRXlNalFuTEZ4dUlDQnBaRG9nYm1WM0lFSjFabVpsY2lnbk16QXlaRE13TUdRd05qQTVOakE0TmpRNE1ERTJOVEF6TURRd01qQTBNRFV3TURBME1XTW5MQ0FuYUdWNEp5bGNibjFjYm1WNGNHOXlkSE5iSjFKVFFTMVRTRUV5TlRZblhTQTlJR1Y0Y0c5eWRITXVjMmhoTWpVMlYybDBhRkpUUVVWdVkzSjVjSFJwYjI0Z1BTQjdYRzRnSUhOcFoyNDZJQ2R5YzJFbkxGeHVJQ0JvWVhOb09pQW5jMmhoTWpVMkp5eGNiaUFnYVdRNklHNWxkeUJDZFdabVpYSW9Kek13TXpFek1EQmtNRFl3T1RZd09EWTBPREF4TmpVd016QTBNREl3TVRBMU1EQXdOREl3Snl3Z0oyaGxlQ2NwWEc1OVhHNWxlSEJ2Y25Seld5ZFNVMEV0VTBoQk16ZzBKMTBnUFNCbGVIQnZjblJ6TG5Ob1lUTTRORmRwZEdoU1UwRkZibU55ZVhCMGFXOXVJRDBnZTF4dUlDQnphV2R1T2lBbmNuTmhKeXhjYmlBZ2FHRnphRG9nSjNOb1lUTTROQ2NzWEc0Z0lHbGtPaUJ1WlhjZ1FuVm1abVZ5S0Njek1EUXhNekF3WkRBMk1EazJNRGcyTkRnd01UWTFNRE13TkRBeU1ESXdOVEF3TURRek1DY3NJQ2RvWlhnbktWeHVmVnh1Wlhod2IzSjBjMXNuVWxOQkxWTklRVFV4TWlkZElEMGdaWGh3YjNKMGN5NXphR0UxTVRKWGFYUm9VbE5CUlc1amNubHdkR2x2YmlBOUlIdGNiaUFnYzJsbmJqb2dKM0p6WVNjc1hHNGdJR2hoYzJnNklDZHphR0UxTVRJbkxGeHVJQ0JwWkRvZ2JtVjNJRUoxWm1abGNpZ25NekExTVRNd01HUXdOakE1TmpBNE5qUTRNREUyTlRBek1EUXdNakF6TURVd01EQTBOREFuTENBbmFHVjRKeWxjYm4xY2JtVjRjRzl5ZEhOYkoxSlRRUzFUU0VFeEoxMGdQU0I3WEc0Z0lITnBaMjQ2SUNkeWMyRW5MRnh1SUNCb1lYTm9PaUFuYzJoaE1TY3NYRzRnSUdsa09pQnVaWGNnUW5WbVptVnlLQ2N6TURJeE16QXdPVEEyTURVeVlqQmxNRE13TWpGaE1EVXdNREEwTVRRbkxDQW5hR1Y0SnlsY2JuMWNibVY0Y0c5eWRITmJKMlZqWkhOaExYZHBkR2d0VTBoQk1TZGRJRDBnZTF4dUlDQnphV2R1T2lBblpXTmtjMkVuTEZ4dUlDQm9ZWE5vT2lBbmMyaGhNU2NzWEc0Z0lHbGtPaUJ1WlhjZ1FuVm1abVZ5S0NjbkxDQW5hR1Y0SnlsY2JuMWNibVY0Y0c5eWRITXVSRk5CSUQwZ1pYaHdiM0owYzFzblJGTkJMVk5JUVRFblhTQTlJR1Y0Y0c5eWRITmJKMFJUUVMxVFNFRW5YU0E5SUh0Y2JpQWdjMmxuYmpvZ0oyUnpZU2NzWEc0Z0lHaGhjMmc2SUNkemFHRXhKeXhjYmlBZ2FXUTZJRzVsZHlCQ2RXWm1aWElvSnljc0lDZG9aWGduS1Z4dWZWeHVaWGh3YjNKMGMxc25SRk5CTFZOSVFUSXlOQ2RkSUQwZ1pYaHdiM0owYzFzblJGTkJMVmRKVkVndFUwaEJNakkwSjEwZ1BTQjdYRzRnSUhOcFoyNDZJQ2RrYzJFbkxGeHVJQ0JvWVhOb09pQW5jMmhoTWpJMEp5eGNiaUFnYVdRNklHNWxkeUJDZFdabVpYSW9KeWNzSUNkb1pYZ25LVnh1ZlZ4dVpYaHdiM0owYzFzblJGTkJMVk5JUVRJMU5pZGRJRDBnWlhod2IzSjBjMXNuUkZOQkxWZEpWRWd0VTBoQk1qVTJKMTBnUFNCN1hHNGdJSE5wWjI0NklDZGtjMkVuTEZ4dUlDQm9ZWE5vT2lBbmMyaGhNalUySnl4Y2JpQWdhV1E2SUc1bGR5QkNkV1ptWlhJb0p5Y3NJQ2RvWlhnbktWeHVmVnh1Wlhod2IzSjBjMXNuUkZOQkxWTklRVE00TkNkZElEMGdaWGh3YjNKMGMxc25SRk5CTFZkSlZFZ3RVMGhCTXpnMEoxMGdQU0I3WEc0Z0lITnBaMjQ2SUNka2MyRW5MRnh1SUNCb1lYTm9PaUFuYzJoaE16ZzBKeXhjYmlBZ2FXUTZJRzVsZHlCQ2RXWm1aWElvSnljc0lDZG9aWGduS1Z4dWZWeHVaWGh3YjNKMGMxc25SRk5CTFZOSVFUVXhNaWRkSUQwZ1pYaHdiM0owYzFzblJGTkJMVmRKVkVndFUwaEJOVEV5SjEwZ1BTQjdYRzRnSUhOcFoyNDZJQ2RrYzJFbkxGeHVJQ0JvWVhOb09pQW5jMmhoTlRFeUp5eGNiaUFnYVdRNklHNWxkeUJDZFdabVpYSW9KeWNzSUNkb1pYZ25LVnh1ZlZ4dVpYaHdiM0owYzFzblJGTkJMVkpKVUVWTlJERTJNQ2RkSUQwZ2UxeHVJQ0J6YVdkdU9pQW5aSE5oSnl4Y2JpQWdhR0Z6YURvZ0ozSnRaREUyTUNjc1hHNGdJR2xrT2lCdVpYY2dRblZtWm1WeUtDY25MQ0FuYUdWNEp5bGNibjFjYm1WNGNHOXlkSE5iSjFKVFFTMVNTVkJGVFVReE5qQW5YU0E5SUdWNGNHOXlkSE11Y21sd1pXMWtNVFl3VjJsMGFGSlRRU0E5SUh0Y2JpQWdjMmxuYmpvZ0ozSnpZU2NzWEc0Z0lHaGhjMmc2SUNkeWJXUXhOakFuTEZ4dUlDQnBaRG9nYm1WM0lFSjFabVpsY2lnbk16QXlNVE13TURrd05qQTFNbUl5TkRBek1ESXdNVEExTURBd05ERTBKeXdnSjJobGVDY3BYRzU5WEc1bGVIQnZjblJ6V3lkU1UwRXRUVVExSjEwZ1BTQmxlSEJ2Y25SekxtMWtOVmRwZEdoU1UwRkZibU55ZVhCMGFXOXVJRDBnZTF4dUlDQnphV2R1T2lBbmNuTmhKeXhjYmlBZ2FHRnphRG9nSjIxa05TY3NYRzRnSUdsa09pQnVaWGNnUW5WbVptVnlLQ2N6TURJd016QXdZekEyTURneVlUZzJORGc0Tm1ZM01HUXdNakExTURVd01EQTBNVEFuTENBbmFHVjRKeWxjYm4xY2JpSmRmUT09IiwidmFyIGVidGsgPSByZXF1aXJlKCdldnBfYnl0ZXN0b2tleScpXG52YXIgYWVzID0gcmVxdWlyZSgnYnJvd3NlcmlmeS1hZXMvYnJvd3NlcicpXG52YXIgREVTID0gcmVxdWlyZSgnYnJvd3NlcmlmeS1kZXMnKVxudmFyIGRlc01vZGVzID0gcmVxdWlyZSgnYnJvd3NlcmlmeS1kZXMvbW9kZXMnKVxudmFyIGFlc01vZGVzID0gcmVxdWlyZSgnYnJvd3NlcmlmeS1hZXMvbW9kZXMnKVxuZnVuY3Rpb24gY3JlYXRlQ2lwaGVyIChzdWl0ZSwgcGFzc3dvcmQpIHtcbiAgdmFyIGtleUxlbiwgaXZMZW5cbiAgc3VpdGUgPSBzdWl0ZS50b0xvd2VyQ2FzZSgpXG4gIGlmIChhZXNNb2Rlc1tzdWl0ZV0pIHtcbiAgICBrZXlMZW4gPSBhZXNNb2Rlc1tzdWl0ZV0ua2V5XG4gICAgaXZMZW4gPSBhZXNNb2Rlc1tzdWl0ZV0uaXZcbiAgfSBlbHNlIGlmIChkZXNNb2Rlc1tzdWl0ZV0pIHtcbiAgICBrZXlMZW4gPSBkZXNNb2Rlc1tzdWl0ZV0ua2V5ICogOFxuICAgIGl2TGVuID0gZGVzTW9kZXNbc3VpdGVdLml2XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBzdWl0ZSB0eXBlJylcbiAgfVxuICB2YXIga2V5cyA9IGVidGsocGFzc3dvcmQsIGZhbHNlLCBrZXlMZW4sIGl2TGVuKVxuICByZXR1cm4gY3JlYXRlQ2lwaGVyaXYoc3VpdGUsIGtleXMua2V5LCBrZXlzLml2KVxufVxuZnVuY3Rpb24gY3JlYXRlRGVjaXBoZXIgKHN1aXRlLCBwYXNzd29yZCkge1xuICB2YXIga2V5TGVuLCBpdkxlblxuICBzdWl0ZSA9IHN1aXRlLnRvTG93ZXJDYXNlKClcbiAgaWYgKGFlc01vZGVzW3N1aXRlXSkge1xuICAgIGtleUxlbiA9IGFlc01vZGVzW3N1aXRlXS5rZXlcbiAgICBpdkxlbiA9IGFlc01vZGVzW3N1aXRlXS5pdlxuICB9IGVsc2UgaWYgKGRlc01vZGVzW3N1aXRlXSkge1xuICAgIGtleUxlbiA9IGRlc01vZGVzW3N1aXRlXS5rZXkgKiA4XG4gICAgaXZMZW4gPSBkZXNNb2Rlc1tzdWl0ZV0uaXZcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIHN1aXRlIHR5cGUnKVxuICB9XG4gIHZhciBrZXlzID0gZWJ0ayhwYXNzd29yZCwgZmFsc2UsIGtleUxlbiwgaXZMZW4pXG4gIHJldHVybiBjcmVhdGVEZWNpcGhlcml2KHN1aXRlLCBrZXlzLmtleSwga2V5cy5pdilcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ2lwaGVyaXYgKHN1aXRlLCBrZXksIGl2KSB7XG4gIHN1aXRlID0gc3VpdGUudG9Mb3dlckNhc2UoKVxuICBpZiAoYWVzTW9kZXNbc3VpdGVdKSB7XG4gICAgcmV0dXJuIGFlcy5jcmVhdGVDaXBoZXJpdihzdWl0ZSwga2V5LCBpdilcbiAgfSBlbHNlIGlmIChkZXNNb2Rlc1tzdWl0ZV0pIHtcbiAgICByZXR1cm4gbmV3IERFUyh7XG4gICAgICBrZXk6IGtleSxcbiAgICAgIGl2OiBpdixcbiAgICAgIG1vZGU6IHN1aXRlXG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIHN1aXRlIHR5cGUnKVxuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVEZWNpcGhlcml2IChzdWl0ZSwga2V5LCBpdikge1xuICBzdWl0ZSA9IHN1aXRlLnRvTG93ZXJDYXNlKClcbiAgaWYgKGFlc01vZGVzW3N1aXRlXSkge1xuICAgIHJldHVybiBhZXMuY3JlYXRlRGVjaXBoZXJpdihzdWl0ZSwga2V5LCBpdilcbiAgfSBlbHNlIGlmIChkZXNNb2Rlc1tzdWl0ZV0pIHtcbiAgICByZXR1cm4gbmV3IERFUyh7XG4gICAgICBrZXk6IGtleSxcbiAgICAgIGl2OiBpdixcbiAgICAgIG1vZGU6IHN1aXRlLFxuICAgICAgZGVjcnlwdDogdHJ1ZVxuICAgIH0pXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBzdWl0ZSB0eXBlJylcbiAgfVxufVxuZXhwb3J0cy5jcmVhdGVDaXBoZXIgPSBleHBvcnRzLkNpcGhlciA9IGNyZWF0ZUNpcGhlclxuZXhwb3J0cy5jcmVhdGVDaXBoZXJpdiA9IGV4cG9ydHMuQ2lwaGVyaXYgPSBjcmVhdGVDaXBoZXJpdlxuZXhwb3J0cy5jcmVhdGVEZWNpcGhlciA9IGV4cG9ydHMuRGVjaXBoZXIgPSBjcmVhdGVEZWNpcGhlclxuZXhwb3J0cy5jcmVhdGVEZWNpcGhlcml2ID0gZXhwb3J0cy5EZWNpcGhlcml2ID0gY3JlYXRlRGVjaXBoZXJpdlxuZnVuY3Rpb24gZ2V0Q2lwaGVycyAoKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhkZXNNb2RlcykuY29uY2F0KGFlcy5nZXRDaXBoZXJzKCkpXG59XG5leHBvcnRzLmxpc3RDaXBoZXJzID0gZXhwb3J0cy5nZXRDaXBoZXJzID0gZ2V0Q2lwaGVyc1xuIiwiZXhwb3J0c1snZGVzLWVjYiddID0ge1xuICBrZXk6IDgsXG4gIGl2OiAwXG59XG5leHBvcnRzWydkZXMtY2JjJ10gPSBleHBvcnRzLmRlcyA9IHtcbiAga2V5OiA4LFxuICBpdjogOFxufVxuZXhwb3J0c1snZGVzLWVkZTMtY2JjJ10gPSBleHBvcnRzLmRlczMgPSB7XG4gIGtleTogMjQsXG4gIGl2OiA4XG59XG5leHBvcnRzWydkZXMtZWRlMyddID0ge1xuICBrZXk6IDI0LFxuICBpdjogMFxufVxuZXhwb3J0c1snZGVzLWVkZS1jYmMnXSA9IHtcbiAga2V5OiAxNixcbiAgaXY6IDhcbn1cbmV4cG9ydHNbJ2Rlcy1lZGUnXSA9IHtcbiAga2V5OiAxNixcbiAgaXY6IDBcbn1cbiIsIihmdW5jdGlvbiAoQnVmZmVyKXtcbnZhciBDaXBoZXJCYXNlID0gcmVxdWlyZSgnY2lwaGVyLWJhc2UnKVxudmFyIGRlcyA9IHJlcXVpcmUoJ2Rlcy5qcycpXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG5cbnZhciBtb2RlcyA9IHtcbiAgJ2Rlcy1lZGUzLWNiYyc6IGRlcy5DQkMuaW5zdGFudGlhdGUoZGVzLkVERSksXG4gICdkZXMtZWRlMyc6IGRlcy5FREUsXG4gICdkZXMtZWRlLWNiYyc6IGRlcy5DQkMuaW5zdGFudGlhdGUoZGVzLkVERSksXG4gICdkZXMtZWRlJzogZGVzLkVERSxcbiAgJ2Rlcy1jYmMnOiBkZXMuQ0JDLmluc3RhbnRpYXRlKGRlcy5ERVMpLFxuICAnZGVzLWVjYic6IGRlcy5ERVNcbn1cbm1vZGVzLmRlcyA9IG1vZGVzWydkZXMtY2JjJ11cbm1vZGVzLmRlczMgPSBtb2Rlc1snZGVzLWVkZTMtY2JjJ11cbm1vZHVsZS5leHBvcnRzID0gREVTXG5pbmhlcml0cyhERVMsIENpcGhlckJhc2UpXG5mdW5jdGlvbiBERVMgKG9wdHMpIHtcbiAgQ2lwaGVyQmFzZS5jYWxsKHRoaXMpXG4gIHZhciBtb2RlTmFtZSA9IG9wdHMubW9kZS50b0xvd2VyQ2FzZSgpXG4gIHZhciBtb2RlID0gbW9kZXNbbW9kZU5hbWVdXG4gIHZhciB0eXBlXG4gIGlmIChvcHRzLmRlY3J5cHQpIHtcbiAgICB0eXBlID0gJ2RlY3J5cHQnXG4gIH0gZWxzZSB7XG4gICAgdHlwZSA9ICdlbmNyeXB0J1xuICB9XG4gIHZhciBrZXkgPSBvcHRzLmtleVxuICBpZiAobW9kZU5hbWUgPT09ICdkZXMtZWRlJyB8fCBtb2RlTmFtZSA9PT0gJ2Rlcy1lZGUtY2JjJykge1xuICAgIGtleSA9IEJ1ZmZlci5jb25jYXQoW2tleSwga2V5LnNsaWNlKDAsIDgpXSlcbiAgfVxuICB2YXIgaXYgPSBvcHRzLml2XG4gIHRoaXMuX2RlcyA9IG1vZGUuY3JlYXRlKHtcbiAgICBrZXk6IGtleSxcbiAgICBpdjogaXYsXG4gICAgdHlwZTogdHlwZVxuICB9KVxufVxuREVTLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgcmV0dXJuIG5ldyBCdWZmZXIodGhpcy5fZGVzLnVwZGF0ZShkYXRhKSlcbn1cbkRFUy5wcm90b3R5cGUuX2ZpbmFsID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gbmV3IEJ1ZmZlcih0aGlzLl9kZXMuZmluYWwoKSlcbn1cblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZZbkp2ZDNObGNtbG1lUzFqYVhCb1pYSXZibTlrWlY5dGIyUjFiR1Z6TDJKeWIzZHpaWEpwWm5rdFpHVnpMMmx1WkdWNExtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdRVUZCUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CSWl3aVptbHNaU0k2SW1kbGJtVnlZWFJsWkM1cWN5SXNJbk52ZFhKalpWSnZiM1FpT2lJaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNld5SjJZWElnUTJsd2FHVnlRbUZ6WlNBOUlISmxjWFZwY21Vb0oyTnBjR2hsY2kxaVlYTmxKeWxjYm5aaGNpQmtaWE1nUFNCeVpYRjFhWEpsS0Nka1pYTXVhbk1uS1Z4dWRtRnlJR2x1YUdWeWFYUnpJRDBnY21WeGRXbHlaU2duYVc1b1pYSnBkSE1uS1Z4dVhHNTJZWElnYlc5a1pYTWdQU0I3WEc0Z0lDZGtaWE10WldSbE15MWpZbU1uT2lCa1pYTXVRMEpETG1sdWMzUmhiblJwWVhSbEtHUmxjeTVGUkVVcExGeHVJQ0FuWkdWekxXVmtaVE1uT2lCa1pYTXVSVVJGTEZ4dUlDQW5aR1Z6TFdWa1pTMWpZbU1uT2lCa1pYTXVRMEpETG1sdWMzUmhiblJwWVhSbEtHUmxjeTVGUkVVcExGeHVJQ0FuWkdWekxXVmtaU2M2SUdSbGN5NUZSRVVzWEc0Z0lDZGtaWE10WTJKakp6b2daR1Z6TGtOQ1F5NXBibk4wWVc1MGFXRjBaU2hrWlhNdVJFVlRLU3hjYmlBZ0oyUmxjeTFsWTJJbk9pQmtaWE11UkVWVFhHNTlYRzV0YjJSbGN5NWtaWE1nUFNCdGIyUmxjMXNuWkdWekxXTmlZeWRkWEc1dGIyUmxjeTVrWlhNeklEMGdiVzlrWlhOYkoyUmxjeTFsWkdVekxXTmlZeWRkWEc1dGIyUjFiR1V1Wlhod2IzSjBjeUE5SUVSRlUxeHVhVzVvWlhKcGRITW9SRVZUTENCRGFYQm9aWEpDWVhObEtWeHVablZ1WTNScGIyNGdSRVZUSUNodmNIUnpLU0I3WEc0Z0lFTnBjR2hsY2tKaGMyVXVZMkZzYkNoMGFHbHpLVnh1SUNCMllYSWdiVzlrWlU1aGJXVWdQU0J2Y0hSekxtMXZaR1V1ZEc5TWIzZGxja05oYzJVb0tWeHVJQ0IyWVhJZ2JXOWtaU0E5SUcxdlpHVnpXMjF2WkdWT1lXMWxYVnh1SUNCMllYSWdkSGx3WlZ4dUlDQnBaaUFvYjNCMGN5NWtaV055ZVhCMEtTQjdYRzRnSUNBZ2RIbHdaU0E5SUNka1pXTnllWEIwSjF4dUlDQjlJR1ZzYzJVZ2UxeHVJQ0FnSUhSNWNHVWdQU0FuWlc1amNubHdkQ2RjYmlBZ2ZWeHVJQ0IyWVhJZ2EyVjVJRDBnYjNCMGN5NXJaWGxjYmlBZ2FXWWdLRzF2WkdWT1lXMWxJRDA5UFNBblpHVnpMV1ZrWlNjZ2ZId2diVzlrWlU1aGJXVWdQVDA5SUNka1pYTXRaV1JsTFdOaVl5Y3BJSHRjYmlBZ0lDQnJaWGtnUFNCQ2RXWm1aWEl1WTI5dVkyRjBLRnRyWlhrc0lHdGxlUzV6YkdsalpTZ3dMQ0E0S1YwcFhHNGdJSDFjYmlBZ2RtRnlJR2wySUQwZ2IzQjBjeTVwZGx4dUlDQjBhR2x6TGw5a1pYTWdQU0J0YjJSbExtTnlaV0YwWlNoN1hHNGdJQ0FnYTJWNU9pQnJaWGtzWEc0Z0lDQWdhWFk2SUdsMkxGeHVJQ0FnSUhSNWNHVTZJSFI1Y0dWY2JpQWdmU2xjYm4xY2JrUkZVeTV3Y205MGIzUjVjR1V1WDNWd1pHRjBaU0E5SUdaMWJtTjBhVzl1SUNoa1lYUmhLU0I3WEc0Z0lISmxkSFZ5YmlCdVpYY2dRblZtWm1WeUtIUm9hWE11WDJSbGN5NTFjR1JoZEdVb1pHRjBZU2twWEc1OVhHNUVSVk11Y0hKdmRHOTBlWEJsTGw5bWFXNWhiQ0E5SUdaMWJtTjBhVzl1SUNncElIdGNiaUFnY21WMGRYSnVJRzVsZHlCQ2RXWm1aWElvZEdocGN5NWZaR1Z6TG1acGJtRnNLQ2twWEc1OVhHNGlYWDA9IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLnV0aWxzID0gcmVxdWlyZSgnLi9kZXMvdXRpbHMnKTtcbmV4cG9ydHMuQ2lwaGVyID0gcmVxdWlyZSgnLi9kZXMvY2lwaGVyJyk7XG5leHBvcnRzLkRFUyA9IHJlcXVpcmUoJy4vZGVzL2RlcycpO1xuZXhwb3J0cy5DQkMgPSByZXF1aXJlKCcuL2Rlcy9jYmMnKTtcbmV4cG9ydHMuRURFID0gcmVxdWlyZSgnLi9kZXMvZWRlJyk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMucmVhZFVJbnQzMkJFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkJFKGJ5dGVzLCBvZmYpIHtcbiAgdmFyIHJlcyA9ICAoYnl0ZXNbMCArIG9mZl0gPDwgMjQpIHxcbiAgICAgICAgICAgICAoYnl0ZXNbMSArIG9mZl0gPDwgMTYpIHxcbiAgICAgICAgICAgICAoYnl0ZXNbMiArIG9mZl0gPDwgOCkgfFxuICAgICAgICAgICAgIGJ5dGVzWzMgKyBvZmZdO1xuICByZXR1cm4gcmVzID4+PiAwO1xufTtcblxuZXhwb3J0cy53cml0ZVVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJCRShieXRlcywgdmFsdWUsIG9mZikge1xuICBieXRlc1swICsgb2ZmXSA9IHZhbHVlID4+PiAyNDtcbiAgYnl0ZXNbMSArIG9mZl0gPSAodmFsdWUgPj4+IDE2KSAmIDB4ZmY7XG4gIGJ5dGVzWzIgKyBvZmZdID0gKHZhbHVlID4+PiA4KSAmIDB4ZmY7XG4gIGJ5dGVzWzMgKyBvZmZdID0gdmFsdWUgJiAweGZmO1xufTtcblxuZXhwb3J0cy5pcCA9IGZ1bmN0aW9uIGlwKGluTCwgaW5SLCBvdXQsIG9mZikge1xuICB2YXIgb3V0TCA9IDA7XG4gIHZhciBvdXRSID0gMDtcblxuICBmb3IgKHZhciBpID0gNjsgaSA+PSAwOyBpIC09IDIpIHtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8PSAyNDsgaiArPSA4KSB7XG4gICAgICBvdXRMIDw8PSAxO1xuICAgICAgb3V0TCB8PSAoaW5SID4+PiAoaiArIGkpKSAmIDE7XG4gICAgfVxuICAgIGZvciAodmFyIGogPSAwOyBqIDw9IDI0OyBqICs9IDgpIHtcbiAgICAgIG91dEwgPDw9IDE7XG4gICAgICBvdXRMIHw9IChpbkwgPj4+IChqICsgaSkpICYgMTtcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gNjsgaSA+PSAwOyBpIC09IDIpIHtcbiAgICBmb3IgKHZhciBqID0gMTsgaiA8PSAyNTsgaiArPSA4KSB7XG4gICAgICBvdXRSIDw8PSAxO1xuICAgICAgb3V0UiB8PSAoaW5SID4+PiAoaiArIGkpKSAmIDE7XG4gICAgfVxuICAgIGZvciAodmFyIGogPSAxOyBqIDw9IDI1OyBqICs9IDgpIHtcbiAgICAgIG91dFIgPDw9IDE7XG4gICAgICBvdXRSIHw9IChpbkwgPj4+IChqICsgaSkpICYgMTtcbiAgICB9XG4gIH1cblxuICBvdXRbb2ZmICsgMF0gPSBvdXRMID4+PiAwO1xuICBvdXRbb2ZmICsgMV0gPSBvdXRSID4+PiAwO1xufTtcblxuZXhwb3J0cy5yaXAgPSBmdW5jdGlvbiByaXAoaW5MLCBpblIsIG91dCwgb2ZmKSB7XG4gIHZhciBvdXRMID0gMDtcbiAgdmFyIG91dFIgPSAwO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgZm9yICh2YXIgaiA9IDI0OyBqID49IDA7IGogLT0gOCkge1xuICAgICAgb3V0TCA8PD0gMTtcbiAgICAgIG91dEwgfD0gKGluUiA+Pj4gKGogKyBpKSkgJiAxO1xuICAgICAgb3V0TCA8PD0gMTtcbiAgICAgIG91dEwgfD0gKGluTCA+Pj4gKGogKyBpKSkgJiAxO1xuICAgIH1cbiAgfVxuICBmb3IgKHZhciBpID0gNDsgaSA8IDg7IGkrKykge1xuICAgIGZvciAodmFyIGogPSAyNDsgaiA+PSAwOyBqIC09IDgpIHtcbiAgICAgIG91dFIgPDw9IDE7XG4gICAgICBvdXRSIHw9IChpblIgPj4+IChqICsgaSkpICYgMTtcbiAgICAgIG91dFIgPDw9IDE7XG4gICAgICBvdXRSIHw9IChpbkwgPj4+IChqICsgaSkpICYgMTtcbiAgICB9XG4gIH1cblxuICBvdXRbb2ZmICsgMF0gPSBvdXRMID4+PiAwO1xuICBvdXRbb2ZmICsgMV0gPSBvdXRSID4+PiAwO1xufTtcblxuZXhwb3J0cy5wYzEgPSBmdW5jdGlvbiBwYzEoaW5MLCBpblIsIG91dCwgb2ZmKSB7XG4gIHZhciBvdXRMID0gMDtcbiAgdmFyIG91dFIgPSAwO1xuXG4gIC8vIDcsIDE1LCAyMywgMzEsIDM5LCA0NywgNTUsIDYzXG4gIC8vIDYsIDE0LCAyMiwgMzAsIDM5LCA0NywgNTUsIDYzXG4gIC8vIDUsIDEzLCAyMSwgMjksIDM5LCA0NywgNTUsIDYzXG4gIC8vIDQsIDEyLCAyMCwgMjhcbiAgZm9yICh2YXIgaSA9IDc7IGkgPj0gNTsgaS0tKSB7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPD0gMjQ7IGogKz0gOCkge1xuICAgICAgb3V0TCA8PD0gMTtcbiAgICAgIG91dEwgfD0gKGluUiA+PiAoaiArIGkpKSAmIDE7XG4gICAgfVxuICAgIGZvciAodmFyIGogPSAwOyBqIDw9IDI0OyBqICs9IDgpIHtcbiAgICAgIG91dEwgPDw9IDE7XG4gICAgICBvdXRMIHw9IChpbkwgPj4gKGogKyBpKSkgJiAxO1xuICAgIH1cbiAgfVxuICBmb3IgKHZhciBqID0gMDsgaiA8PSAyNDsgaiArPSA4KSB7XG4gICAgb3V0TCA8PD0gMTtcbiAgICBvdXRMIHw9IChpblIgPj4gKGogKyBpKSkgJiAxO1xuICB9XG5cbiAgLy8gMSwgOSwgMTcsIDI1LCAzMywgNDEsIDQ5LCA1N1xuICAvLyAyLCAxMCwgMTgsIDI2LCAzNCwgNDIsIDUwLCA1OFxuICAvLyAzLCAxMSwgMTksIDI3LCAzNSwgNDMsIDUxLCA1OVxuICAvLyAzNiwgNDQsIDUyLCA2MFxuICBmb3IgKHZhciBpID0gMTsgaSA8PSAzOyBpKyspIHtcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8PSAyNDsgaiArPSA4KSB7XG4gICAgICBvdXRSIDw8PSAxO1xuICAgICAgb3V0UiB8PSAoaW5SID4+IChqICsgaSkpICYgMTtcbiAgICB9XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPD0gMjQ7IGogKz0gOCkge1xuICAgICAgb3V0UiA8PD0gMTtcbiAgICAgIG91dFIgfD0gKGluTCA+PiAoaiArIGkpKSAmIDE7XG4gICAgfVxuICB9XG4gIGZvciAodmFyIGogPSAwOyBqIDw9IDI0OyBqICs9IDgpIHtcbiAgICBvdXRSIDw8PSAxO1xuICAgIG91dFIgfD0gKGluTCA+PiAoaiArIGkpKSAmIDE7XG4gIH1cblxuICBvdXRbb2ZmICsgMF0gPSBvdXRMID4+PiAwO1xuICBvdXRbb2ZmICsgMV0gPSBvdXRSID4+PiAwO1xufTtcblxuZXhwb3J0cy5yMjhzaGwgPSBmdW5jdGlvbiByMjhzaGwobnVtLCBzaGlmdCkge1xuICByZXR1cm4gKChudW0gPDwgc2hpZnQpICYgMHhmZmZmZmZmKSB8IChudW0gPj4+ICgyOCAtIHNoaWZ0KSk7XG59O1xuXG52YXIgcGMydGFibGUgPSBbXG4gIC8vIGluTCA9PiBvdXRMXG4gIDE0LCAxMSwgMTcsIDQsIDI3LCAyMywgMjUsIDAsXG4gIDEzLCAyMiwgNywgMTgsIDUsIDksIDE2LCAyNCxcbiAgMiwgMjAsIDEyLCAyMSwgMSwgOCwgMTUsIDI2LFxuXG4gIC8vIGluUiA9PiBvdXRSXG4gIDE1LCA0LCAyNSwgMTksIDksIDEsIDI2LCAxNixcbiAgNSwgMTEsIDIzLCA4LCAxMiwgNywgMTcsIDAsXG4gIDIyLCAzLCAxMCwgMTQsIDYsIDIwLCAyNywgMjRcbl07XG5cbmV4cG9ydHMucGMyID0gZnVuY3Rpb24gcGMyKGluTCwgaW5SLCBvdXQsIG9mZikge1xuICB2YXIgb3V0TCA9IDA7XG4gIHZhciBvdXRSID0gMDtcblxuICB2YXIgbGVuID0gcGMydGFibGUubGVuZ3RoID4+PiAxO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgb3V0TCA8PD0gMTtcbiAgICBvdXRMIHw9IChpbkwgPj4+IHBjMnRhYmxlW2ldKSAmIDB4MTtcbiAgfVxuICBmb3IgKHZhciBpID0gbGVuOyBpIDwgcGMydGFibGUubGVuZ3RoOyBpKyspIHtcbiAgICBvdXRSIDw8PSAxO1xuICAgIG91dFIgfD0gKGluUiA+Pj4gcGMydGFibGVbaV0pICYgMHgxO1xuICB9XG5cbiAgb3V0W29mZiArIDBdID0gb3V0TCA+Pj4gMDtcbiAgb3V0W29mZiArIDFdID0gb3V0UiA+Pj4gMDtcbn07XG5cbmV4cG9ydHMuZXhwYW5kID0gZnVuY3Rpb24gZXhwYW5kKHIsIG91dCwgb2ZmKSB7XG4gIHZhciBvdXRMID0gMDtcbiAgdmFyIG91dFIgPSAwO1xuXG4gIG91dEwgPSAoKHIgJiAxKSA8PCA1KSB8IChyID4+PiAyNyk7XG4gIGZvciAodmFyIGkgPSAyMzsgaSA+PSAxNTsgaSAtPSA0KSB7XG4gICAgb3V0TCA8PD0gNjtcbiAgICBvdXRMIHw9IChyID4+PiBpKSAmIDB4M2Y7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDExOyBpID49IDM7IGkgLT0gNCkge1xuICAgIG91dFIgfD0gKHIgPj4+IGkpICYgMHgzZjtcbiAgICBvdXRSIDw8PSA2O1xuICB9XG4gIG91dFIgfD0gKChyICYgMHgxZikgPDwgMSkgfCAociA+Pj4gMzEpO1xuXG4gIG91dFtvZmYgKyAwXSA9IG91dEwgPj4+IDA7XG4gIG91dFtvZmYgKyAxXSA9IG91dFIgPj4+IDA7XG59O1xuXG52YXIgc1RhYmxlID0gW1xuICAxNCwgMCwgNCwgMTUsIDEzLCA3LCAxLCA0LCAyLCAxNCwgMTUsIDIsIDExLCAxMywgOCwgMSxcbiAgMywgMTAsIDEwLCA2LCA2LCAxMiwgMTIsIDExLCA1LCA5LCA5LCA1LCAwLCAzLCA3LCA4LFxuICA0LCAxNSwgMSwgMTIsIDE0LCA4LCA4LCAyLCAxMywgNCwgNiwgOSwgMiwgMSwgMTEsIDcsXG4gIDE1LCA1LCAxMiwgMTEsIDksIDMsIDcsIDE0LCAzLCAxMCwgMTAsIDAsIDUsIDYsIDAsIDEzLFxuXG4gIDE1LCAzLCAxLCAxMywgOCwgNCwgMTQsIDcsIDYsIDE1LCAxMSwgMiwgMywgOCwgNCwgMTQsXG4gIDksIDEyLCA3LCAwLCAyLCAxLCAxMywgMTAsIDEyLCA2LCAwLCA5LCA1LCAxMSwgMTAsIDUsXG4gIDAsIDEzLCAxNCwgOCwgNywgMTAsIDExLCAxLCAxMCwgMywgNCwgMTUsIDEzLCA0LCAxLCAyLFxuICA1LCAxMSwgOCwgNiwgMTIsIDcsIDYsIDEyLCA5LCAwLCAzLCA1LCAyLCAxNCwgMTUsIDksXG5cbiAgMTAsIDEzLCAwLCA3LCA5LCAwLCAxNCwgOSwgNiwgMywgMywgNCwgMTUsIDYsIDUsIDEwLFxuICAxLCAyLCAxMywgOCwgMTIsIDUsIDcsIDE0LCAxMSwgMTIsIDQsIDExLCAyLCAxNSwgOCwgMSxcbiAgMTMsIDEsIDYsIDEwLCA0LCAxMywgOSwgMCwgOCwgNiwgMTUsIDksIDMsIDgsIDAsIDcsXG4gIDExLCA0LCAxLCAxNSwgMiwgMTQsIDEyLCAzLCA1LCAxMSwgMTAsIDUsIDE0LCAyLCA3LCAxMixcblxuICA3LCAxMywgMTMsIDgsIDE0LCAxMSwgMywgNSwgMCwgNiwgNiwgMTUsIDksIDAsIDEwLCAzLFxuICAxLCA0LCAyLCA3LCA4LCAyLCA1LCAxMiwgMTEsIDEsIDEyLCAxMCwgNCwgMTQsIDE1LCA5LFxuICAxMCwgMywgNiwgMTUsIDksIDAsIDAsIDYsIDEyLCAxMCwgMTEsIDEsIDcsIDEzLCAxMywgOCxcbiAgMTUsIDksIDEsIDQsIDMsIDUsIDE0LCAxMSwgNSwgMTIsIDIsIDcsIDgsIDIsIDQsIDE0LFxuXG4gIDIsIDE0LCAxMiwgMTEsIDQsIDIsIDEsIDEyLCA3LCA0LCAxMCwgNywgMTEsIDEzLCA2LCAxLFxuICA4LCA1LCA1LCAwLCAzLCAxNSwgMTUsIDEwLCAxMywgMywgMCwgOSwgMTQsIDgsIDksIDYsXG4gIDQsIDExLCAyLCA4LCAxLCAxMiwgMTEsIDcsIDEwLCAxLCAxMywgMTQsIDcsIDIsIDgsIDEzLFxuICAxNSwgNiwgOSwgMTUsIDEyLCAwLCA1LCA5LCA2LCAxMCwgMywgNCwgMCwgNSwgMTQsIDMsXG5cbiAgMTIsIDEwLCAxLCAxNSwgMTAsIDQsIDE1LCAyLCA5LCA3LCAyLCAxMiwgNiwgOSwgOCwgNSxcbiAgMCwgNiwgMTMsIDEsIDMsIDEzLCA0LCAxNCwgMTQsIDAsIDcsIDExLCA1LCAzLCAxMSwgOCxcbiAgOSwgNCwgMTQsIDMsIDE1LCAyLCA1LCAxMiwgMiwgOSwgOCwgNSwgMTIsIDE1LCAzLCAxMCxcbiAgNywgMTEsIDAsIDE0LCA0LCAxLCAxMCwgNywgMSwgNiwgMTMsIDAsIDExLCA4LCA2LCAxMyxcblxuICA0LCAxMywgMTEsIDAsIDIsIDExLCAxNCwgNywgMTUsIDQsIDAsIDksIDgsIDEsIDEzLCAxMCxcbiAgMywgMTQsIDEyLCAzLCA5LCA1LCA3LCAxMiwgNSwgMiwgMTAsIDE1LCA2LCA4LCAxLCA2LFxuICAxLCA2LCA0LCAxMSwgMTEsIDEzLCAxMywgOCwgMTIsIDEsIDMsIDQsIDcsIDEwLCAxNCwgNyxcbiAgMTAsIDksIDE1LCA1LCA2LCAwLCA4LCAxNSwgMCwgMTQsIDUsIDIsIDksIDMsIDIsIDEyLFxuXG4gIDEzLCAxLCAyLCAxNSwgOCwgMTMsIDQsIDgsIDYsIDEwLCAxNSwgMywgMTEsIDcsIDEsIDQsXG4gIDEwLCAxMiwgOSwgNSwgMywgNiwgMTQsIDExLCA1LCAwLCAwLCAxNCwgMTIsIDksIDcsIDIsXG4gIDcsIDIsIDExLCAxLCA0LCAxNCwgMSwgNywgOSwgNCwgMTIsIDEwLCAxNCwgOCwgMiwgMTMsXG4gIDAsIDE1LCA2LCAxMiwgMTAsIDksIDEzLCAwLCAxNSwgMywgMywgNSwgNSwgNiwgOCwgMTFcbl07XG5cbmV4cG9ydHMuc3Vic3RpdHV0ZSA9IGZ1bmN0aW9uIHN1YnN0aXR1dGUoaW5MLCBpblIpIHtcbiAgdmFyIG91dCA9IDA7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgdmFyIGIgPSAoaW5MID4+PiAoMTggLSBpICogNikpICYgMHgzZjtcbiAgICB2YXIgc2IgPSBzVGFibGVbaSAqIDB4NDAgKyBiXTtcblxuICAgIG91dCA8PD0gNDtcbiAgICBvdXQgfD0gc2I7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICB2YXIgYiA9IChpblIgPj4+ICgxOCAtIGkgKiA2KSkgJiAweDNmO1xuICAgIHZhciBzYiA9IHNUYWJsZVs0ICogMHg0MCArIGkgKiAweDQwICsgYl07XG5cbiAgICBvdXQgPDw9IDQ7XG4gICAgb3V0IHw9IHNiO1xuICB9XG4gIHJldHVybiBvdXQgPj4+IDA7XG59O1xuXG52YXIgcGVybXV0ZVRhYmxlID0gW1xuICAxNiwgMjUsIDEyLCAxMSwgMywgMjAsIDQsIDE1LCAzMSwgMTcsIDksIDYsIDI3LCAxNCwgMSwgMjIsXG4gIDMwLCAyNCwgOCwgMTgsIDAsIDUsIDI5LCAyMywgMTMsIDE5LCAyLCAyNiwgMTAsIDIxLCAyOCwgN1xuXTtcblxuZXhwb3J0cy5wZXJtdXRlID0gZnVuY3Rpb24gcGVybXV0ZShudW0pIHtcbiAgdmFyIG91dCA9IDA7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGVybXV0ZVRhYmxlLmxlbmd0aDsgaSsrKSB7XG4gICAgb3V0IDw8PSAxO1xuICAgIG91dCB8PSAobnVtID4+PiBwZXJtdXRlVGFibGVbaV0pICYgMHgxO1xuICB9XG4gIHJldHVybiBvdXQgPj4+IDA7XG59O1xuXG5leHBvcnRzLnBhZFNwbGl0ID0gZnVuY3Rpb24gcGFkU3BsaXQobnVtLCBzaXplLCBncm91cCkge1xuICB2YXIgc3RyID0gbnVtLnRvU3RyaW5nKDIpO1xuICB3aGlsZSAoc3RyLmxlbmd0aCA8IHNpemUpXG4gICAgc3RyID0gJzAnICsgc3RyO1xuXG4gIHZhciBvdXQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpICs9IGdyb3VwKVxuICAgIG91dC5wdXNoKHN0ci5zbGljZShpLCBpICsgZ3JvdXApKTtcbiAgcmV0dXJuIG91dC5qb2luKCcgJyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYXNzZXJ0ID0gcmVxdWlyZSgnbWluaW1hbGlzdGljLWFzc2VydCcpO1xudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTtcblxudmFyIGRlcyA9IHJlcXVpcmUoJy4uL2RlcycpO1xudmFyIENpcGhlciA9IGRlcy5DaXBoZXI7XG52YXIgREVTID0gZGVzLkRFUztcblxuZnVuY3Rpb24gRURFU3RhdGUodHlwZSwga2V5KSB7XG4gIGFzc2VydC5lcXVhbChrZXkubGVuZ3RoLCAyNCwgJ0ludmFsaWQga2V5IGxlbmd0aCcpO1xuXG4gIHZhciBrMSA9IGtleS5zbGljZSgwLCA4KTtcbiAgdmFyIGsyID0ga2V5LnNsaWNlKDgsIDE2KTtcbiAgdmFyIGszID0ga2V5LnNsaWNlKDE2LCAyNCk7XG5cbiAgaWYgKHR5cGUgPT09ICdlbmNyeXB0Jykge1xuICAgIHRoaXMuY2lwaGVycyA9IFtcbiAgICAgIERFUy5jcmVhdGUoeyB0eXBlOiAnZW5jcnlwdCcsIGtleTogazEgfSksXG4gICAgICBERVMuY3JlYXRlKHsgdHlwZTogJ2RlY3J5cHQnLCBrZXk6IGsyIH0pLFxuICAgICAgREVTLmNyZWF0ZSh7IHR5cGU6ICdlbmNyeXB0Jywga2V5OiBrMyB9KVxuICAgIF07XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5jaXBoZXJzID0gW1xuICAgICAgREVTLmNyZWF0ZSh7IHR5cGU6ICdkZWNyeXB0Jywga2V5OiBrMyB9KSxcbiAgICAgIERFUy5jcmVhdGUoeyB0eXBlOiAnZW5jcnlwdCcsIGtleTogazIgfSksXG4gICAgICBERVMuY3JlYXRlKHsgdHlwZTogJ2RlY3J5cHQnLCBrZXk6IGsxIH0pXG4gICAgXTtcbiAgfVxufVxuXG5mdW5jdGlvbiBFREUob3B0aW9ucykge1xuICBDaXBoZXIuY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICB2YXIgc3RhdGUgPSBuZXcgRURFU3RhdGUodGhpcy50eXBlLCB0aGlzLm9wdGlvbnMua2V5KTtcbiAgdGhpcy5fZWRlU3RhdGUgPSBzdGF0ZTtcbn1cbmluaGVyaXRzKEVERSwgQ2lwaGVyKTtcblxubW9kdWxlLmV4cG9ydHMgPSBFREU7XG5cbkVERS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUob3B0aW9ucykge1xuICByZXR1cm4gbmV3IEVERShvcHRpb25zKTtcbn07XG5cbkVERS5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uIF91cGRhdGUoaW5wLCBpbk9mZiwgb3V0LCBvdXRPZmYpIHtcbiAgdmFyIHN0YXRlID0gdGhpcy5fZWRlU3RhdGU7XG5cbiAgc3RhdGUuY2lwaGVyc1swXS5fdXBkYXRlKGlucCwgaW5PZmYsIG91dCwgb3V0T2ZmKTtcbiAgc3RhdGUuY2lwaGVyc1sxXS5fdXBkYXRlKG91dCwgb3V0T2ZmLCBvdXQsIG91dE9mZik7XG4gIHN0YXRlLmNpcGhlcnNbMl0uX3VwZGF0ZShvdXQsIG91dE9mZiwgb3V0LCBvdXRPZmYpO1xufTtcblxuRURFLnByb3RvdHlwZS5fcGFkID0gREVTLnByb3RvdHlwZS5fcGFkO1xuRURFLnByb3RvdHlwZS5fdW5wYWQgPSBERVMucHJvdG90eXBlLl91bnBhZDtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFzc2VydCA9IHJlcXVpcmUoJ21pbmltYWxpc3RpYy1hc3NlcnQnKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbnZhciBkZXMgPSByZXF1aXJlKCcuLi9kZXMnKTtcbnZhciB1dGlscyA9IGRlcy51dGlscztcbnZhciBDaXBoZXIgPSBkZXMuQ2lwaGVyO1xuXG5mdW5jdGlvbiBERVNTdGF0ZSgpIHtcbiAgdGhpcy50bXAgPSBuZXcgQXJyYXkoMik7XG4gIHRoaXMua2V5cyA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIERFUyhvcHRpb25zKSB7XG4gIENpcGhlci5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gIHZhciBzdGF0ZSA9IG5ldyBERVNTdGF0ZSgpO1xuICB0aGlzLl9kZXNTdGF0ZSA9IHN0YXRlO1xuXG4gIHRoaXMuZGVyaXZlS2V5cyhzdGF0ZSwgb3B0aW9ucy5rZXkpO1xufVxuaW5oZXJpdHMoREVTLCBDaXBoZXIpO1xubW9kdWxlLmV4cG9ydHMgPSBERVM7XG5cbkRFUy5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUob3B0aW9ucykge1xuICByZXR1cm4gbmV3IERFUyhvcHRpb25zKTtcbn07XG5cbnZhciBzaGlmdFRhYmxlID0gW1xuICAxLCAxLCAyLCAyLCAyLCAyLCAyLCAyLFxuICAxLCAyLCAyLCAyLCAyLCAyLCAyLCAxXG5dO1xuXG5ERVMucHJvdG90eXBlLmRlcml2ZUtleXMgPSBmdW5jdGlvbiBkZXJpdmVLZXlzKHN0YXRlLCBrZXkpIHtcbiAgc3RhdGUua2V5cyA9IG5ldyBBcnJheSgxNiAqIDIpO1xuXG4gIGFzc2VydC5lcXVhbChrZXkubGVuZ3RoLCB0aGlzLmJsb2NrU2l6ZSwgJ0ludmFsaWQga2V5IGxlbmd0aCcpO1xuXG4gIHZhciBrTCA9IHV0aWxzLnJlYWRVSW50MzJCRShrZXksIDApO1xuICB2YXIga1IgPSB1dGlscy5yZWFkVUludDMyQkUoa2V5LCA0KTtcblxuICB1dGlscy5wYzEoa0wsIGtSLCBzdGF0ZS50bXAsIDApO1xuICBrTCA9IHN0YXRlLnRtcFswXTtcbiAga1IgPSBzdGF0ZS50bXBbMV07XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUua2V5cy5sZW5ndGg7IGkgKz0gMikge1xuICAgIHZhciBzaGlmdCA9IHNoaWZ0VGFibGVbaSA+Pj4gMV07XG4gICAga0wgPSB1dGlscy5yMjhzaGwoa0wsIHNoaWZ0KTtcbiAgICBrUiA9IHV0aWxzLnIyOHNobChrUiwgc2hpZnQpO1xuICAgIHV0aWxzLnBjMihrTCwga1IsIHN0YXRlLmtleXMsIGkpO1xuICB9XG59O1xuXG5ERVMucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiBfdXBkYXRlKGlucCwgaW5PZmYsIG91dCwgb3V0T2ZmKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX2Rlc1N0YXRlO1xuXG4gIHZhciBsID0gdXRpbHMucmVhZFVJbnQzMkJFKGlucCwgaW5PZmYpO1xuICB2YXIgciA9IHV0aWxzLnJlYWRVSW50MzJCRShpbnAsIGluT2ZmICsgNCk7XG5cbiAgLy8gSW5pdGlhbCBQZXJtdXRhdGlvblxuICB1dGlscy5pcChsLCByLCBzdGF0ZS50bXAsIDApO1xuICBsID0gc3RhdGUudG1wWzBdO1xuICByID0gc3RhdGUudG1wWzFdO1xuXG4gIGlmICh0aGlzLnR5cGUgPT09ICdlbmNyeXB0JylcbiAgICB0aGlzLl9lbmNyeXB0KHN0YXRlLCBsLCByLCBzdGF0ZS50bXAsIDApO1xuICBlbHNlXG4gICAgdGhpcy5fZGVjcnlwdChzdGF0ZSwgbCwgciwgc3RhdGUudG1wLCAwKTtcblxuICBsID0gc3RhdGUudG1wWzBdO1xuICByID0gc3RhdGUudG1wWzFdO1xuXG4gIHV0aWxzLndyaXRlVUludDMyQkUob3V0LCBsLCBvdXRPZmYpO1xuICB1dGlscy53cml0ZVVJbnQzMkJFKG91dCwgciwgb3V0T2ZmICsgNCk7XG59O1xuXG5ERVMucHJvdG90eXBlLl9wYWQgPSBmdW5jdGlvbiBfcGFkKGJ1ZmZlciwgb2ZmKSB7XG4gIHZhciB2YWx1ZSA9IGJ1ZmZlci5sZW5ndGggLSBvZmY7XG4gIGZvciAodmFyIGkgPSBvZmY7IGkgPCBidWZmZXIubGVuZ3RoOyBpKyspXG4gICAgYnVmZmVyW2ldID0gdmFsdWU7XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5ERVMucHJvdG90eXBlLl91bnBhZCA9IGZ1bmN0aW9uIF91bnBhZChidWZmZXIpIHtcbiAgdmFyIHBhZCA9IGJ1ZmZlcltidWZmZXIubGVuZ3RoIC0gMV07XG4gIGZvciAodmFyIGkgPSBidWZmZXIubGVuZ3RoIC0gcGFkOyBpIDwgYnVmZmVyLmxlbmd0aDsgaSsrKVxuICAgIGFzc2VydC5lcXVhbChidWZmZXJbaV0sIHBhZCk7XG5cbiAgcmV0dXJuIGJ1ZmZlci5zbGljZSgwLCBidWZmZXIubGVuZ3RoIC0gcGFkKTtcbn07XG5cbkRFUy5wcm90b3R5cGUuX2VuY3J5cHQgPSBmdW5jdGlvbiBfZW5jcnlwdChzdGF0ZSwgbFN0YXJ0LCByU3RhcnQsIG91dCwgb2ZmKSB7XG4gIHZhciBsID0gbFN0YXJ0O1xuICB2YXIgciA9IHJTdGFydDtcblxuICAvLyBBcHBseSBmKCkgeDE2IHRpbWVzXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUua2V5cy5sZW5ndGg7IGkgKz0gMikge1xuICAgIHZhciBrZXlMID0gc3RhdGUua2V5c1tpXTtcbiAgICB2YXIga2V5UiA9IHN0YXRlLmtleXNbaSArIDFdO1xuXG4gICAgLy8gZihyLCBrKVxuICAgIHV0aWxzLmV4cGFuZChyLCBzdGF0ZS50bXAsIDApO1xuXG4gICAga2V5TCBePSBzdGF0ZS50bXBbMF07XG4gICAga2V5UiBePSBzdGF0ZS50bXBbMV07XG4gICAgdmFyIHMgPSB1dGlscy5zdWJzdGl0dXRlKGtleUwsIGtleVIpO1xuICAgIHZhciBmID0gdXRpbHMucGVybXV0ZShzKTtcblxuICAgIHZhciB0ID0gcjtcbiAgICByID0gKGwgXiBmKSA+Pj4gMDtcbiAgICBsID0gdDtcbiAgfVxuXG4gIC8vIFJldmVyc2UgSW5pdGlhbCBQZXJtdXRhdGlvblxuICB1dGlscy5yaXAociwgbCwgb3V0LCBvZmYpO1xufTtcblxuREVTLnByb3RvdHlwZS5fZGVjcnlwdCA9IGZ1bmN0aW9uIF9kZWNyeXB0KHN0YXRlLCBsU3RhcnQsIHJTdGFydCwgb3V0LCBvZmYpIHtcbiAgdmFyIGwgPSByU3RhcnQ7XG4gIHZhciByID0gbFN0YXJ0O1xuXG4gIC8vIEFwcGx5IGYoKSB4MTYgdGltZXNcbiAgZm9yICh2YXIgaSA9IHN0YXRlLmtleXMubGVuZ3RoIC0gMjsgaSA+PSAwOyBpIC09IDIpIHtcbiAgICB2YXIga2V5TCA9IHN0YXRlLmtleXNbaV07XG4gICAgdmFyIGtleVIgPSBzdGF0ZS5rZXlzW2kgKyAxXTtcblxuICAgIC8vIGYociwgaylcbiAgICB1dGlscy5leHBhbmQobCwgc3RhdGUudG1wLCAwKTtcblxuICAgIGtleUwgXj0gc3RhdGUudG1wWzBdO1xuICAgIGtleVIgXj0gc3RhdGUudG1wWzFdO1xuICAgIHZhciBzID0gdXRpbHMuc3Vic3RpdHV0ZShrZXlMLCBrZXlSKTtcbiAgICB2YXIgZiA9IHV0aWxzLnBlcm11dGUocyk7XG5cbiAgICB2YXIgdCA9IGw7XG4gICAgbCA9IChyIF4gZikgPj4+IDA7XG4gICAgciA9IHQ7XG4gIH1cblxuICAvLyBSZXZlcnNlIEluaXRpYWwgUGVybXV0YXRpb25cbiAgdXRpbHMucmlwKGwsIHIsIG91dCwgb2ZmKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBhc3NlcnQgPSByZXF1aXJlKCdtaW5pbWFsaXN0aWMtYXNzZXJ0Jyk7XG5cbmZ1bmN0aW9uIENpcGhlcihvcHRpb25zKSB7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG5cbiAgdGhpcy50eXBlID0gdGhpcy5vcHRpb25zLnR5cGU7XG4gIHRoaXMuYmxvY2tTaXplID0gODtcbiAgdGhpcy5faW5pdCgpO1xuXG4gIHRoaXMuYnVmZmVyID0gbmV3IEFycmF5KHRoaXMuYmxvY2tTaXplKTtcbiAgdGhpcy5idWZmZXJPZmYgPSAwO1xufVxubW9kdWxlLmV4cG9ydHMgPSBDaXBoZXI7XG5cbkNpcGhlci5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiBfaW5pdCgpIHtcbiAgLy8gTWlnaHQgYmUgb3ZlcnJpZGVkXG59O1xuXG5DaXBoZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZShkYXRhKSB7XG4gIGlmIChkYXRhLmxlbmd0aCA9PT0gMClcbiAgICByZXR1cm4gW107XG5cbiAgaWYgKHRoaXMudHlwZSA9PT0gJ2RlY3J5cHQnKVxuICAgIHJldHVybiB0aGlzLl91cGRhdGVEZWNyeXB0KGRhdGEpO1xuICBlbHNlXG4gICAgcmV0dXJuIHRoaXMuX3VwZGF0ZUVuY3J5cHQoZGF0YSk7XG59O1xuXG5DaXBoZXIucHJvdG90eXBlLl9idWZmZXIgPSBmdW5jdGlvbiBfYnVmZmVyKGRhdGEsIG9mZikge1xuICAvLyBBcHBlbmQgZGF0YSB0byBidWZmZXJcbiAgdmFyIG1pbiA9IE1hdGgubWluKHRoaXMuYnVmZmVyLmxlbmd0aCAtIHRoaXMuYnVmZmVyT2ZmLCBkYXRhLmxlbmd0aCAtIG9mZik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbWluOyBpKyspXG4gICAgdGhpcy5idWZmZXJbdGhpcy5idWZmZXJPZmYgKyBpXSA9IGRhdGFbb2ZmICsgaV07XG4gIHRoaXMuYnVmZmVyT2ZmICs9IG1pbjtcblxuICAvLyBTaGlmdCBuZXh0XG4gIHJldHVybiBtaW47XG59O1xuXG5DaXBoZXIucHJvdG90eXBlLl9mbHVzaEJ1ZmZlciA9IGZ1bmN0aW9uIF9mbHVzaEJ1ZmZlcihvdXQsIG9mZikge1xuICB0aGlzLl91cGRhdGUodGhpcy5idWZmZXIsIDAsIG91dCwgb2ZmKTtcbiAgdGhpcy5idWZmZXJPZmYgPSAwO1xuICByZXR1cm4gdGhpcy5ibG9ja1NpemU7XG59O1xuXG5DaXBoZXIucHJvdG90eXBlLl91cGRhdGVFbmNyeXB0ID0gZnVuY3Rpb24gX3VwZGF0ZUVuY3J5cHQoZGF0YSkge1xuICB2YXIgaW5wdXRPZmYgPSAwO1xuICB2YXIgb3V0cHV0T2ZmID0gMDtcblxuICB2YXIgY291bnQgPSAoKHRoaXMuYnVmZmVyT2ZmICsgZGF0YS5sZW5ndGgpIC8gdGhpcy5ibG9ja1NpemUpIHwgMDtcbiAgdmFyIG91dCA9IG5ldyBBcnJheShjb3VudCAqIHRoaXMuYmxvY2tTaXplKTtcblxuICBpZiAodGhpcy5idWZmZXJPZmYgIT09IDApIHtcbiAgICBpbnB1dE9mZiArPSB0aGlzLl9idWZmZXIoZGF0YSwgaW5wdXRPZmYpO1xuXG4gICAgaWYgKHRoaXMuYnVmZmVyT2ZmID09PSB0aGlzLmJ1ZmZlci5sZW5ndGgpXG4gICAgICBvdXRwdXRPZmYgKz0gdGhpcy5fZmx1c2hCdWZmZXIob3V0LCBvdXRwdXRPZmYpO1xuICB9XG5cbiAgLy8gV3JpdGUgYmxvY2tzXG4gIHZhciBtYXggPSBkYXRhLmxlbmd0aCAtICgoZGF0YS5sZW5ndGggLSBpbnB1dE9mZikgJSB0aGlzLmJsb2NrU2l6ZSk7XG4gIGZvciAoOyBpbnB1dE9mZiA8IG1heDsgaW5wdXRPZmYgKz0gdGhpcy5ibG9ja1NpemUpIHtcbiAgICB0aGlzLl91cGRhdGUoZGF0YSwgaW5wdXRPZmYsIG91dCwgb3V0cHV0T2ZmKTtcbiAgICBvdXRwdXRPZmYgKz0gdGhpcy5ibG9ja1NpemU7XG4gIH1cblxuICAvLyBRdWV1ZSByZXN0XG4gIGZvciAoOyBpbnB1dE9mZiA8IGRhdGEubGVuZ3RoOyBpbnB1dE9mZisrLCB0aGlzLmJ1ZmZlck9mZisrKVxuICAgIHRoaXMuYnVmZmVyW3RoaXMuYnVmZmVyT2ZmXSA9IGRhdGFbaW5wdXRPZmZdO1xuXG4gIHJldHVybiBvdXQ7XG59O1xuXG5DaXBoZXIucHJvdG90eXBlLl91cGRhdGVEZWNyeXB0ID0gZnVuY3Rpb24gX3VwZGF0ZURlY3J5cHQoZGF0YSkge1xuICB2YXIgaW5wdXRPZmYgPSAwO1xuICB2YXIgb3V0cHV0T2ZmID0gMDtcblxuICB2YXIgY291bnQgPSBNYXRoLmNlaWwoKHRoaXMuYnVmZmVyT2ZmICsgZGF0YS5sZW5ndGgpIC8gdGhpcy5ibG9ja1NpemUpIC0gMTtcbiAgdmFyIG91dCA9IG5ldyBBcnJheShjb3VudCAqIHRoaXMuYmxvY2tTaXplKTtcblxuICAvLyBUT0RPKGluZHV0bnkpOiBvcHRpbWl6ZSBpdCwgdGhpcyBpcyBmYXIgZnJvbSBvcHRpbWFsXG4gIGZvciAoOyBjb3VudCA+IDA7IGNvdW50LS0pIHtcbiAgICBpbnB1dE9mZiArPSB0aGlzLl9idWZmZXIoZGF0YSwgaW5wdXRPZmYpO1xuICAgIG91dHB1dE9mZiArPSB0aGlzLl9mbHVzaEJ1ZmZlcihvdXQsIG91dHB1dE9mZik7XG4gIH1cblxuICAvLyBCdWZmZXIgcmVzdCBvZiB0aGUgaW5wdXRcbiAgaW5wdXRPZmYgKz0gdGhpcy5fYnVmZmVyKGRhdGEsIGlucHV0T2ZmKTtcblxuICByZXR1cm4gb3V0O1xufTtcblxuQ2lwaGVyLnByb3RvdHlwZS5maW5hbCA9IGZ1bmN0aW9uIGZpbmFsKGJ1ZmZlcikge1xuICB2YXIgZmlyc3Q7XG4gIGlmIChidWZmZXIpXG4gICAgZmlyc3QgPSB0aGlzLnVwZGF0ZShidWZmZXIpO1xuXG4gIHZhciBsYXN0O1xuICBpZiAodGhpcy50eXBlID09PSAnZW5jcnlwdCcpXG4gICAgbGFzdCA9IHRoaXMuX2ZpbmFsRW5jcnlwdCgpO1xuICBlbHNlXG4gICAgbGFzdCA9IHRoaXMuX2ZpbmFsRGVjcnlwdCgpO1xuXG4gIGlmIChmaXJzdClcbiAgICByZXR1cm4gZmlyc3QuY29uY2F0KGxhc3QpO1xuICBlbHNlXG4gICAgcmV0dXJuIGxhc3Q7XG59O1xuXG5DaXBoZXIucHJvdG90eXBlLl9wYWQgPSBmdW5jdGlvbiBfcGFkKGJ1ZmZlciwgb2ZmKSB7XG4gIGlmIChvZmYgPT09IDApXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIHdoaWxlIChvZmYgPCBidWZmZXIubGVuZ3RoKVxuICAgIGJ1ZmZlcltvZmYrK10gPSAwO1xuXG4gIHJldHVybiB0cnVlO1xufTtcblxuQ2lwaGVyLnByb3RvdHlwZS5fZmluYWxFbmNyeXB0ID0gZnVuY3Rpb24gX2ZpbmFsRW5jcnlwdCgpIHtcbiAgaWYgKCF0aGlzLl9wYWQodGhpcy5idWZmZXIsIHRoaXMuYnVmZmVyT2ZmKSlcbiAgICByZXR1cm4gW107XG5cbiAgdmFyIG91dCA9IG5ldyBBcnJheSh0aGlzLmJsb2NrU2l6ZSk7XG4gIHRoaXMuX3VwZGF0ZSh0aGlzLmJ1ZmZlciwgMCwgb3V0LCAwKTtcbiAgcmV0dXJuIG91dDtcbn07XG5cbkNpcGhlci5wcm90b3R5cGUuX3VucGFkID0gZnVuY3Rpb24gX3VucGFkKGJ1ZmZlcikge1xuICByZXR1cm4gYnVmZmVyO1xufTtcblxuQ2lwaGVyLnByb3RvdHlwZS5fZmluYWxEZWNyeXB0ID0gZnVuY3Rpb24gX2ZpbmFsRGVjcnlwdCgpIHtcbiAgYXNzZXJ0LmVxdWFsKHRoaXMuYnVmZmVyT2ZmLCB0aGlzLmJsb2NrU2l6ZSwgJ05vdCBlbm91Z2ggZGF0YSB0byBkZWNyeXB0Jyk7XG4gIHZhciBvdXQgPSBuZXcgQXJyYXkodGhpcy5ibG9ja1NpemUpO1xuICB0aGlzLl9mbHVzaEJ1ZmZlcihvdXQsIDApO1xuXG4gIHJldHVybiB0aGlzLl91bnBhZChvdXQpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGFzc2VydCA9IHJlcXVpcmUoJ21pbmltYWxpc3RpYy1hc3NlcnQnKTtcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7XG5cbnZhciBwcm90byA9IHt9O1xuXG5mdW5jdGlvbiBDQkNTdGF0ZShpdikge1xuICBhc3NlcnQuZXF1YWwoaXYubGVuZ3RoLCA4LCAnSW52YWxpZCBJViBsZW5ndGgnKTtcblxuICB0aGlzLml2ID0gbmV3IEFycmF5KDgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXYubGVuZ3RoOyBpKyspXG4gICAgdGhpcy5pdltpXSA9IGl2W2ldO1xufVxuXG5mdW5jdGlvbiBpbnN0YW50aWF0ZShCYXNlKSB7XG4gIGZ1bmN0aW9uIENCQyhvcHRpb25zKSB7XG4gICAgQmFzZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIHRoaXMuX2NiY0luaXQoKTtcbiAgfVxuICBpbmhlcml0cyhDQkMsIEJhc2UpO1xuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvdG8pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICBDQkMucHJvdG90eXBlW2tleV0gPSBwcm90b1trZXldO1xuICB9XG5cbiAgQ0JDLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBDQkMob3B0aW9ucyk7XG4gIH07XG5cbiAgcmV0dXJuIENCQztcbn1cblxuZXhwb3J0cy5pbnN0YW50aWF0ZSA9IGluc3RhbnRpYXRlO1xuXG5wcm90by5fY2JjSW5pdCA9IGZ1bmN0aW9uIF9jYmNJbml0KCkge1xuICB2YXIgc3RhdGUgPSBuZXcgQ0JDU3RhdGUodGhpcy5vcHRpb25zLml2KTtcbiAgdGhpcy5fY2JjU3RhdGUgPSBzdGF0ZTtcbn07XG5cbnByb3RvLl91cGRhdGUgPSBmdW5jdGlvbiBfdXBkYXRlKGlucCwgaW5PZmYsIG91dCwgb3V0T2ZmKSB7XG4gIHZhciBzdGF0ZSA9IHRoaXMuX2NiY1N0YXRlO1xuICB2YXIgc3VwZXJQcm90byA9IHRoaXMuY29uc3RydWN0b3Iuc3VwZXJfLnByb3RvdHlwZTtcblxuICB2YXIgaXYgPSBzdGF0ZS5pdjtcbiAgaWYgKHRoaXMudHlwZSA9PT0gJ2VuY3J5cHQnKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJsb2NrU2l6ZTsgaSsrKVxuICAgICAgaXZbaV0gXj0gaW5wW2luT2ZmICsgaV07XG5cbiAgICBzdXBlclByb3RvLl91cGRhdGUuY2FsbCh0aGlzLCBpdiwgMCwgb3V0LCBvdXRPZmYpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJsb2NrU2l6ZTsgaSsrKVxuICAgICAgaXZbaV0gPSBvdXRbb3V0T2ZmICsgaV07XG4gIH0gZWxzZSB7XG4gICAgc3VwZXJQcm90by5fdXBkYXRlLmNhbGwodGhpcywgaW5wLCBpbk9mZiwgb3V0LCBvdXRPZmYpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJsb2NrU2l6ZTsgaSsrKVxuICAgICAgb3V0W291dE9mZiArIGldIF49IGl2W2ldO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJsb2NrU2l6ZTsgaSsrKVxuICAgICAgaXZbaV0gPSBpbnBbaW5PZmYgKyBpXTtcbiAgfVxufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gYXNzZXJ0O1xuXG5mdW5jdGlvbiBhc3NlcnQodmFsLCBtc2cpIHtcbiAgaWYgKCF2YWwpXG4gICAgdGhyb3cgbmV3IEVycm9yKG1zZyB8fCAnQXNzZXJ0aW9uIGZhaWxlZCcpO1xufVxuXG5hc3NlcnQuZXF1YWwgPSBmdW5jdGlvbiBhc3NlcnRFcXVhbChsLCByLCBtc2cpIHtcbiAgaWYgKGwgIT0gcilcbiAgICB0aHJvdyBuZXcgRXJyb3IobXNnIHx8ICgnQXNzZXJ0aW9uIGZhaWxlZDogJyArIGwgKyAnICE9ICcgKyByKSk7XG59O1xuIiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xudmFyIFRyYW5zZm9ybSA9IHJlcXVpcmUoJ3N0cmVhbScpLlRyYW5zZm9ybVxudmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKVxudmFyIFN0cmluZ0RlY29kZXIgPSByZXF1aXJlKCdzdHJpbmdfZGVjb2RlcicpLlN0cmluZ0RlY29kZXJcbm1vZHVsZS5leHBvcnRzID0gQ2lwaGVyQmFzZVxuaW5oZXJpdHMoQ2lwaGVyQmFzZSwgVHJhbnNmb3JtKVxuZnVuY3Rpb24gQ2lwaGVyQmFzZSAoaGFzaE1vZGUpIHtcbiAgVHJhbnNmb3JtLmNhbGwodGhpcylcbiAgdGhpcy5oYXNoTW9kZSA9IHR5cGVvZiBoYXNoTW9kZSA9PT0gJ3N0cmluZydcbiAgaWYgKHRoaXMuaGFzaE1vZGUpIHtcbiAgICB0aGlzW2hhc2hNb2RlXSA9IHRoaXMuX2ZpbmFsT3JEaWdlc3RcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmZpbmFsID0gdGhpcy5fZmluYWxPckRpZ2VzdFxuICB9XG4gIHRoaXMuX2RlY29kZXIgPSBudWxsXG4gIHRoaXMuX2VuY29kaW5nID0gbnVsbFxufVxuQ2lwaGVyQmFzZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGRhdGEsIGlucHV0RW5jLCBvdXRwdXRFbmMpIHtcbiAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgIGRhdGEgPSBuZXcgQnVmZmVyKGRhdGEsIGlucHV0RW5jKVxuICB9XG4gIHZhciBvdXREYXRhID0gdGhpcy5fdXBkYXRlKGRhdGEpXG4gIGlmICh0aGlzLmhhc2hNb2RlKSB7XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuICBpZiAob3V0cHV0RW5jKSB7XG4gICAgb3V0RGF0YSA9IHRoaXMuX3RvU3RyaW5nKG91dERhdGEsIG91dHB1dEVuYylcbiAgfVxuICByZXR1cm4gb3V0RGF0YVxufVxuXG5DaXBoZXJCYXNlLnByb3RvdHlwZS5zZXRBdXRvUGFkZGluZyA9IGZ1bmN0aW9uICgpIHt9XG5cbkNpcGhlckJhc2UucHJvdG90eXBlLmdldEF1dGhUYWcgPSBmdW5jdGlvbiAoKSB7XG4gIHRocm93IG5ldyBFcnJvcigndHJ5aW5nIHRvIGdldCBhdXRoIHRhZyBpbiB1bnN1cHBvcnRlZCBzdGF0ZScpXG59XG5cbkNpcGhlckJhc2UucHJvdG90eXBlLnNldEF1dGhUYWcgPSBmdW5jdGlvbiAoKSB7XG4gIHRocm93IG5ldyBFcnJvcigndHJ5aW5nIHRvIHNldCBhdXRoIHRhZyBpbiB1bnN1cHBvcnRlZCBzdGF0ZScpXG59XG5cbkNpcGhlckJhc2UucHJvdG90eXBlLnNldEFBRCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCd0cnlpbmcgdG8gc2V0IGFhZCBpbiB1bnN1cHBvcnRlZCBzdGF0ZScpXG59XG5cbkNpcGhlckJhc2UucHJvdG90eXBlLl90cmFuc2Zvcm0gPSBmdW5jdGlvbiAoZGF0YSwgXywgbmV4dCkge1xuICB2YXIgZXJyXG4gIHRyeSB7XG4gICAgaWYgKHRoaXMuaGFzaE1vZGUpIHtcbiAgICAgIHRoaXMuX3VwZGF0ZShkYXRhKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnB1c2godGhpcy5fdXBkYXRlKGRhdGEpKVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGVyciA9IGVcbiAgfSBmaW5hbGx5IHtcbiAgICBuZXh0KGVycilcbiAgfVxufVxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuX2ZsdXNoID0gZnVuY3Rpb24gKGRvbmUpIHtcbiAgdmFyIGVyclxuICB0cnkge1xuICAgIHRoaXMucHVzaCh0aGlzLl9maW5hbCgpKVxuICB9IGNhdGNoIChlKSB7XG4gICAgZXJyID0gZVxuICB9IGZpbmFsbHkge1xuICAgIGRvbmUoZXJyKVxuICB9XG59XG5DaXBoZXJCYXNlLnByb3RvdHlwZS5fZmluYWxPckRpZ2VzdCA9IGZ1bmN0aW9uIChvdXRwdXRFbmMpIHtcbiAgdmFyIG91dERhdGEgPSB0aGlzLl9maW5hbCgpIHx8IG5ldyBCdWZmZXIoJycpXG4gIGlmIChvdXRwdXRFbmMpIHtcbiAgICBvdXREYXRhID0gdGhpcy5fdG9TdHJpbmcob3V0RGF0YSwgb3V0cHV0RW5jLCB0cnVlKVxuICB9XG4gIHJldHVybiBvdXREYXRhXG59XG5cbkNpcGhlckJhc2UucHJvdG90eXBlLl90b1N0cmluZyA9IGZ1bmN0aW9uICh2YWx1ZSwgZW5jLCBmaW5hbCkge1xuICBpZiAoIXRoaXMuX2RlY29kZXIpIHtcbiAgICB0aGlzLl9kZWNvZGVyID0gbmV3IFN0cmluZ0RlY29kZXIoZW5jKVxuICAgIHRoaXMuX2VuY29kaW5nID0gZW5jXG4gIH1cbiAgaWYgKHRoaXMuX2VuY29kaW5nICE9PSBlbmMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhblxcJ3Qgc3dpdGNoIGVuY29kaW5ncycpXG4gIH1cbiAgdmFyIG91dCA9IHRoaXMuX2RlY29kZXIud3JpdGUodmFsdWUpXG4gIGlmIChmaW5hbCkge1xuICAgIG91dCArPSB0aGlzLl9kZWNvZGVyLmVuZCgpXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIpXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUwyNXZaR1ZmYlc5a2RXeGxjeTlqY25sd2RHOHRZbkp2ZDNObGNtbG1lUzl1YjJSbFgyMXZaSFZzWlhNdlluSnZkM05sY21sbWVTMWphWEJvWlhJdmJtOWtaVjl0YjJSMWJHVnpMMkp5YjNkelpYSnBabmt0WkdWekwyNXZaR1ZmYlc5a2RXeGxjeTlqYVhCb1pYSXRZbUZ6WlM5cGJtUmxlQzVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pTzBGQlFVRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRWlMQ0ptYVd4bElqb2laMlZ1WlhKaGRHVmtMbXB6SWl3aWMyOTFjbU5sVW05dmRDSTZJaUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSW5aaGNpQlVjbUZ1YzJadmNtMGdQU0J5WlhGMWFYSmxLQ2R6ZEhKbFlXMG5LUzVVY21GdWMyWnZjbTFjYm5aaGNpQnBibWhsY21sMGN5QTlJSEpsY1hWcGNtVW9KMmx1YUdWeWFYUnpKeWxjYm5aaGNpQlRkSEpwYm1kRVpXTnZaR1Z5SUQwZ2NtVnhkV2x5WlNnbmMzUnlhVzVuWDJSbFkyOWtaWEluS1M1VGRISnBibWRFWldOdlpHVnlYRzV0YjJSMWJHVXVaWGh3YjNKMGN5QTlJRU5wY0dobGNrSmhjMlZjYm1sdWFHVnlhWFJ6S0VOcGNHaGxja0poYzJVc0lGUnlZVzV6Wm05eWJTbGNibVoxYm1OMGFXOXVJRU5wY0dobGNrSmhjMlVnS0doaGMyaE5iMlJsS1NCN1hHNGdJRlJ5WVc1elptOXliUzVqWVd4c0tIUm9hWE1wWEc0Z0lIUm9hWE11YUdGemFFMXZaR1VnUFNCMGVYQmxiMllnYUdGemFFMXZaR1VnUFQwOUlDZHpkSEpwYm1jblhHNGdJR2xtSUNoMGFHbHpMbWhoYzJoTmIyUmxLU0I3WEc0Z0lDQWdkR2hwYzF0b1lYTm9UVzlrWlYwZ1BTQjBhR2x6TGw5bWFXNWhiRTl5UkdsblpYTjBYRzRnSUgwZ1pXeHpaU0I3WEc0Z0lDQWdkR2hwY3k1bWFXNWhiQ0E5SUhSb2FYTXVYMlpwYm1Gc1QzSkVhV2RsYzNSY2JpQWdmVnh1SUNCMGFHbHpMbDlrWldOdlpHVnlJRDBnYm5Wc2JGeHVJQ0IwYUdsekxsOWxibU52WkdsdVp5QTlJRzUxYkd4Y2JuMWNia05wY0dobGNrSmhjMlV1Y0hKdmRHOTBlWEJsTG5Wd1pHRjBaU0E5SUdaMWJtTjBhVzl1SUNoa1lYUmhMQ0JwYm5CMWRFVnVZeXdnYjNWMGNIVjBSVzVqS1NCN1hHNGdJR2xtSUNoMGVYQmxiMllnWkdGMFlTQTlQVDBnSjNOMGNtbHVaeWNwSUh0Y2JpQWdJQ0JrWVhSaElEMGdibVYzSUVKMVptWmxjaWhrWVhSaExDQnBibkIxZEVWdVl5bGNiaUFnZlZ4dUlDQjJZWElnYjNWMFJHRjBZU0E5SUhSb2FYTXVYM1Z3WkdGMFpTaGtZWFJoS1Z4dUlDQnBaaUFvZEdocGN5NW9ZWE5vVFc5a1pTa2dlMXh1SUNBZ0lISmxkSFZ5YmlCMGFHbHpYRzRnSUgxY2JpQWdhV1lnS0c5MWRIQjFkRVZ1WXlrZ2UxeHVJQ0FnSUc5MWRFUmhkR0VnUFNCMGFHbHpMbDkwYjFOMGNtbHVaeWh2ZFhSRVlYUmhMQ0J2ZFhSd2RYUkZibU1wWEc0Z0lIMWNiaUFnY21WMGRYSnVJRzkxZEVSaGRHRmNibjFjYmx4dVEybHdhR1Z5UW1GelpTNXdjbTkwYjNSNWNHVXVjMlYwUVhWMGIxQmhaR1JwYm1jZ1BTQm1kVzVqZEdsdmJpQW9LU0I3ZlZ4dVhHNURhWEJvWlhKQ1lYTmxMbkJ5YjNSdmRIbHdaUzVuWlhSQmRYUm9WR0ZuSUQwZ1puVnVZM1JwYjI0Z0tDa2dlMXh1SUNCMGFISnZkeUJ1WlhjZ1JYSnliM0lvSjNSeWVXbHVaeUIwYnlCblpYUWdZWFYwYUNCMFlXY2dhVzRnZFc1emRYQndiM0owWldRZ2MzUmhkR1VuS1Z4dWZWeHVYRzVEYVhCb1pYSkNZWE5sTG5CeWIzUnZkSGx3WlM1elpYUkJkWFJvVkdGbklEMGdablZ1WTNScGIyNGdLQ2tnZTF4dUlDQjBhSEp2ZHlCdVpYY2dSWEp5YjNJb0ozUnllV2x1WnlCMGJ5QnpaWFFnWVhWMGFDQjBZV2NnYVc0Z2RXNXpkWEJ3YjNKMFpXUWdjM1JoZEdVbktWeHVmVnh1WEc1RGFYQm9aWEpDWVhObExuQnliM1J2ZEhsd1pTNXpaWFJCUVVRZ1BTQm1kVzVqZEdsdmJpQW9LU0I3WEc0Z0lIUm9jbTkzSUc1bGR5QkZjbkp2Y2lnbmRISjVhVzVuSUhSdklITmxkQ0JoWVdRZ2FXNGdkVzV6ZFhCd2IzSjBaV1FnYzNSaGRHVW5LVnh1ZlZ4dVhHNURhWEJvWlhKQ1lYTmxMbkJ5YjNSdmRIbHdaUzVmZEhKaGJuTm1iM0p0SUQwZ1puVnVZM1JwYjI0Z0tHUmhkR0VzSUY4c0lHNWxlSFFwSUh0Y2JpQWdkbUZ5SUdWeWNseHVJQ0IwY25rZ2UxeHVJQ0FnSUdsbUlDaDBhR2x6TG1oaGMyaE5iMlJsS1NCN1hHNGdJQ0FnSUNCMGFHbHpMbDkxY0dSaGRHVW9aR0YwWVNsY2JpQWdJQ0I5SUdWc2MyVWdlMXh1SUNBZ0lDQWdkR2hwY3k1d2RYTm9LSFJvYVhNdVgzVndaR0YwWlNoa1lYUmhLU2xjYmlBZ0lDQjlYRzRnSUgwZ1kyRjBZMmdnS0dVcElIdGNiaUFnSUNCbGNuSWdQU0JsWEc0Z0lIMGdabWx1WVd4c2VTQjdYRzRnSUNBZ2JtVjRkQ2hsY25JcFhHNGdJSDFjYm4xY2JrTnBjR2hsY2tKaGMyVXVjSEp2ZEc5MGVYQmxMbDltYkhWemFDQTlJR1oxYm1OMGFXOXVJQ2hrYjI1bEtTQjdYRzRnSUhaaGNpQmxjbkpjYmlBZ2RISjVJSHRjYmlBZ0lDQjBhR2x6TG5CMWMyZ29kR2hwY3k1ZlptbHVZV3dvS1NsY2JpQWdmU0JqWVhSamFDQW9aU2tnZTF4dUlDQWdJR1Z5Y2lBOUlHVmNiaUFnZlNCbWFXNWhiR3g1SUh0Y2JpQWdJQ0JrYjI1bEtHVnljaWxjYmlBZ2ZWeHVmVnh1UTJsd2FHVnlRbUZ6WlM1d2NtOTBiM1I1Y0dVdVgyWnBibUZzVDNKRWFXZGxjM1FnUFNCbWRXNWpkR2x2YmlBb2IzVjBjSFYwUlc1aktTQjdYRzRnSUhaaGNpQnZkWFJFWVhSaElEMGdkR2hwY3k1ZlptbHVZV3dvS1NCOGZDQnVaWGNnUW5WbVptVnlLQ2NuS1Z4dUlDQnBaaUFvYjNWMGNIVjBSVzVqS1NCN1hHNGdJQ0FnYjNWMFJHRjBZU0E5SUhSb2FYTXVYM1J2VTNSeWFXNW5LRzkxZEVSaGRHRXNJRzkxZEhCMWRFVnVZeXdnZEhKMVpTbGNiaUFnZlZ4dUlDQnlaWFIxY200Z2IzVjBSR0YwWVZ4dWZWeHVYRzVEYVhCb1pYSkNZWE5sTG5CeWIzUnZkSGx3WlM1ZmRHOVRkSEpwYm1jZ1BTQm1kVzVqZEdsdmJpQW9kbUZzZFdVc0lHVnVZeXdnWm1sdVlXd3BJSHRjYmlBZ2FXWWdLQ0YwYUdsekxsOWtaV052WkdWeUtTQjdYRzRnSUNBZ2RHaHBjeTVmWkdWamIyUmxjaUE5SUc1bGR5QlRkSEpwYm1kRVpXTnZaR1Z5S0dWdVl5bGNiaUFnSUNCMGFHbHpMbDlsYm1OdlpHbHVaeUE5SUdWdVkxeHVJQ0I5WEc0Z0lHbG1JQ2gwYUdsekxsOWxibU52WkdsdVp5QWhQVDBnWlc1aktTQjdYRzRnSUNBZ2RHaHliM2NnYm1WM0lFVnljbTl5S0NkallXNWNYQ2QwSUhOM2FYUmphQ0JsYm1OdlpHbHVaM01uS1Z4dUlDQjlYRzRnSUhaaGNpQnZkWFFnUFNCMGFHbHpMbDlrWldOdlpHVnlMbmR5YVhSbEtIWmhiSFZsS1Z4dUlDQnBaaUFvWm1sdVlXd3BJSHRjYmlBZ0lDQnZkWFFnS3owZ2RHaHBjeTVmWkdWamIyUmxjaTVsYm1Rb0tWeHVJQ0I5WEc0Z0lISmxkSFZ5YmlCdmRYUmNibjFjYmlKZGZRPT0iLCJ2YXIgY2lwaGVycyA9IHJlcXVpcmUoJy4vZW5jcnlwdGVyJylcbmV4cG9ydHMuY3JlYXRlQ2lwaGVyID0gZXhwb3J0cy5DaXBoZXIgPSBjaXBoZXJzLmNyZWF0ZUNpcGhlclxuZXhwb3J0cy5jcmVhdGVDaXBoZXJpdiA9IGV4cG9ydHMuQ2lwaGVyaXYgPSBjaXBoZXJzLmNyZWF0ZUNpcGhlcml2XG52YXIgZGVjaXBoZXJzID0gcmVxdWlyZSgnLi9kZWNyeXB0ZXInKVxuZXhwb3J0cy5jcmVhdGVEZWNpcGhlciA9IGV4cG9ydHMuRGVjaXBoZXIgPSBkZWNpcGhlcnMuY3JlYXRlRGVjaXBoZXJcbmV4cG9ydHMuY3JlYXRlRGVjaXBoZXJpdiA9IGV4cG9ydHMuRGVjaXBoZXJpdiA9IGRlY2lwaGVycy5jcmVhdGVEZWNpcGhlcml2XG52YXIgbW9kZXMgPSByZXF1aXJlKCcuL21vZGVzJylcbmZ1bmN0aW9uIGdldENpcGhlcnMgKCkge1xuICByZXR1cm4gT2JqZWN0LmtleXMobW9kZXMpXG59XG5leHBvcnRzLmxpc3RDaXBoZXJzID0gZXhwb3J0cy5nZXRDaXBoZXJzID0gZ2V0Q2lwaGVyc1xuIiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xudmFyIGFlcyA9IHJlcXVpcmUoJy4vYWVzJylcbnZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCdjaXBoZXItYmFzZScpXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG52YXIgbW9kZXMgPSByZXF1aXJlKCcuL21vZGVzJylcbnZhciBlYnRrID0gcmVxdWlyZSgnZXZwX2J5dGVzdG9rZXknKVxudmFyIFN0cmVhbUNpcGhlciA9IHJlcXVpcmUoJy4vc3RyZWFtQ2lwaGVyJylcbnZhciBBdXRoQ2lwaGVyID0gcmVxdWlyZSgnLi9hdXRoQ2lwaGVyJylcbmluaGVyaXRzKENpcGhlciwgVHJhbnNmb3JtKVxuZnVuY3Rpb24gQ2lwaGVyIChtb2RlLCBrZXksIGl2KSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDaXBoZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBDaXBoZXIobW9kZSwga2V5LCBpdilcbiAgfVxuICBUcmFuc2Zvcm0uY2FsbCh0aGlzKVxuICB0aGlzLl9jYWNoZSA9IG5ldyBTcGxpdHRlcigpXG4gIHRoaXMuX2NpcGhlciA9IG5ldyBhZXMuQUVTKGtleSlcbiAgdGhpcy5fcHJldiA9IG5ldyBCdWZmZXIoaXYubGVuZ3RoKVxuICBpdi5jb3B5KHRoaXMuX3ByZXYpXG4gIHRoaXMuX21vZGUgPSBtb2RlXG4gIHRoaXMuX2F1dG9wYWRkaW5nID0gdHJ1ZVxufVxuQ2lwaGVyLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdGhpcy5fY2FjaGUuYWRkKGRhdGEpXG4gIHZhciBjaHVua1xuICB2YXIgdGhpbmdcbiAgdmFyIG91dCA9IFtdXG4gIHdoaWxlICgoY2h1bmsgPSB0aGlzLl9jYWNoZS5nZXQoKSkpIHtcbiAgICB0aGluZyA9IHRoaXMuX21vZGUuZW5jcnlwdCh0aGlzLCBjaHVuaylcbiAgICBvdXQucHVzaCh0aGluZylcbiAgfVxuICByZXR1cm4gQnVmZmVyLmNvbmNhdChvdXQpXG59XG5DaXBoZXIucHJvdG90eXBlLl9maW5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGNodW5rID0gdGhpcy5fY2FjaGUuZmx1c2goKVxuICBpZiAodGhpcy5fYXV0b3BhZGRpbmcpIHtcbiAgICBjaHVuayA9IHRoaXMuX21vZGUuZW5jcnlwdCh0aGlzLCBjaHVuaylcbiAgICB0aGlzLl9jaXBoZXIuc2NydWIoKVxuICAgIHJldHVybiBjaHVua1xuICB9IGVsc2UgaWYgKGNodW5rLnRvU3RyaW5nKCdoZXgnKSAhPT0gJzEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwJykge1xuICAgIHRoaXMuX2NpcGhlci5zY3J1YigpXG4gICAgdGhyb3cgbmV3IEVycm9yKCdkYXRhIG5vdCBtdWx0aXBsZSBvZiBibG9jayBsZW5ndGgnKVxuICB9XG59XG5DaXBoZXIucHJvdG90eXBlLnNldEF1dG9QYWRkaW5nID0gZnVuY3Rpb24gKHNldFRvKSB7XG4gIHRoaXMuX2F1dG9wYWRkaW5nID0gISFzZXRUb1xufVxuXG5mdW5jdGlvbiBTcGxpdHRlciAoKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTcGxpdHRlcikpIHtcbiAgICByZXR1cm4gbmV3IFNwbGl0dGVyKClcbiAgfVxuICB0aGlzLmNhY2hlID0gbmV3IEJ1ZmZlcignJylcbn1cblNwbGl0dGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICB0aGlzLmNhY2hlID0gQnVmZmVyLmNvbmNhdChbdGhpcy5jYWNoZSwgZGF0YV0pXG59XG5cblNwbGl0dGVyLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmNhY2hlLmxlbmd0aCA+IDE1KSB7XG4gICAgdmFyIG91dCA9IHRoaXMuY2FjaGUuc2xpY2UoMCwgMTYpXG4gICAgdGhpcy5jYWNoZSA9IHRoaXMuY2FjaGUuc2xpY2UoMTYpXG4gICAgcmV0dXJuIG91dFxuICB9XG4gIHJldHVybiBudWxsXG59XG5TcGxpdHRlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBsZW4gPSAxNiAtIHRoaXMuY2FjaGUubGVuZ3RoXG4gIHZhciBwYWRCdWZmID0gbmV3IEJ1ZmZlcihsZW4pXG5cbiAgdmFyIGkgPSAtMVxuICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgcGFkQnVmZi53cml0ZVVJbnQ4KGxlbiwgaSlcbiAgfVxuICB2YXIgb3V0ID0gQnVmZmVyLmNvbmNhdChbdGhpcy5jYWNoZSwgcGFkQnVmZl0pXG4gIHJldHVybiBvdXRcbn1cbnZhciBtb2RlbGlzdCA9IHtcbiAgRUNCOiByZXF1aXJlKCcuL21vZGVzL2VjYicpLFxuICBDQkM6IHJlcXVpcmUoJy4vbW9kZXMvY2JjJyksXG4gIENGQjogcmVxdWlyZSgnLi9tb2Rlcy9jZmInKSxcbiAgQ0ZCODogcmVxdWlyZSgnLi9tb2Rlcy9jZmI4JyksXG4gIENGQjE6IHJlcXVpcmUoJy4vbW9kZXMvY2ZiMScpLFxuICBPRkI6IHJlcXVpcmUoJy4vbW9kZXMvb2ZiJyksXG4gIENUUjogcmVxdWlyZSgnLi9tb2Rlcy9jdHInKSxcbiAgR0NNOiByZXF1aXJlKCcuL21vZGVzL2N0cicpXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNpcGhlcml2IChzdWl0ZSwgcGFzc3dvcmQsIGl2KSB7XG4gIHZhciBjb25maWcgPSBtb2Rlc1tzdWl0ZS50b0xvd2VyQ2FzZSgpXVxuICBpZiAoIWNvbmZpZykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgc3VpdGUgdHlwZScpXG4gIH1cbiAgaWYgKHR5cGVvZiBpdiA9PT0gJ3N0cmluZycpIHtcbiAgICBpdiA9IG5ldyBCdWZmZXIoaXYpXG4gIH1cbiAgaWYgKHR5cGVvZiBwYXNzd29yZCA9PT0gJ3N0cmluZycpIHtcbiAgICBwYXNzd29yZCA9IG5ldyBCdWZmZXIocGFzc3dvcmQpXG4gIH1cbiAgaWYgKHBhc3N3b3JkLmxlbmd0aCAhPT0gY29uZmlnLmtleSAvIDgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIGtleSBsZW5ndGggJyArIHBhc3N3b3JkLmxlbmd0aClcbiAgfVxuICBpZiAoaXYubGVuZ3RoICE9PSBjb25maWcuaXYpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIGl2IGxlbmd0aCAnICsgaXYubGVuZ3RoKVxuICB9XG4gIGlmIChjb25maWcudHlwZSA9PT0gJ3N0cmVhbScpIHtcbiAgICByZXR1cm4gbmV3IFN0cmVhbUNpcGhlcihtb2RlbGlzdFtjb25maWcubW9kZV0sIHBhc3N3b3JkLCBpdilcbiAgfSBlbHNlIGlmIChjb25maWcudHlwZSA9PT0gJ2F1dGgnKSB7XG4gICAgcmV0dXJuIG5ldyBBdXRoQ2lwaGVyKG1vZGVsaXN0W2NvbmZpZy5tb2RlXSwgcGFzc3dvcmQsIGl2KVxuICB9XG4gIHJldHVybiBuZXcgQ2lwaGVyKG1vZGVsaXN0W2NvbmZpZy5tb2RlXSwgcGFzc3dvcmQsIGl2KVxufVxuZnVuY3Rpb24gY3JlYXRlQ2lwaGVyIChzdWl0ZSwgcGFzc3dvcmQpIHtcbiAgdmFyIGNvbmZpZyA9IG1vZGVzW3N1aXRlLnRvTG93ZXJDYXNlKCldXG4gIGlmICghY29uZmlnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBzdWl0ZSB0eXBlJylcbiAgfVxuICB2YXIga2V5cyA9IGVidGsocGFzc3dvcmQsIGZhbHNlLCBjb25maWcua2V5LCBjb25maWcuaXYpXG4gIHJldHVybiBjcmVhdGVDaXBoZXJpdihzdWl0ZSwga2V5cy5rZXksIGtleXMuaXYpXG59XG5cbmV4cG9ydHMuY3JlYXRlQ2lwaGVyaXYgPSBjcmVhdGVDaXBoZXJpdlxuZXhwb3J0cy5jcmVhdGVDaXBoZXIgPSBjcmVhdGVDaXBoZXJcblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZZbkp2ZDNObGNtbG1lUzFqYVhCb1pYSXZibTlrWlY5dGIyUjFiR1Z6TDJKeWIzZHpaWEpwWm5rdFlXVnpMMlZ1WTNKNWNIUmxjaTVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pTzBGQlFVRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRU0lzSW1acGJHVWlPaUpuWlc1bGNtRjBaV1F1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaWRtRnlJR0ZsY3lBOUlISmxjWFZwY21Vb0p5NHZZV1Z6SnlsY2JuWmhjaUJVY21GdWMyWnZjbTBnUFNCeVpYRjFhWEpsS0NkamFYQm9aWEl0WW1GelpTY3BYRzUyWVhJZ2FXNW9aWEpwZEhNZ1BTQnlaWEYxYVhKbEtDZHBibWhsY21sMGN5Y3BYRzUyWVhJZ2JXOWtaWE1nUFNCeVpYRjFhWEpsS0NjdUwyMXZaR1Z6SnlsY2JuWmhjaUJsWW5ScklEMGdjbVZ4ZFdseVpTZ25aWFp3WDJKNWRHVnpkRzlyWlhrbktWeHVkbUZ5SUZOMGNtVmhiVU5wY0dobGNpQTlJSEpsY1hWcGNtVW9KeTR2YzNSeVpXRnRRMmx3YUdWeUp5bGNiblpoY2lCQmRYUm9RMmx3YUdWeUlEMGdjbVZ4ZFdseVpTZ25MaTloZFhSb1EybHdhR1Z5SnlsY2JtbHVhR1Z5YVhSektFTnBjR2hsY2l3Z1ZISmhibk5tYjNKdEtWeHVablZ1WTNScGIyNGdRMmx3YUdWeUlDaHRiMlJsTENCclpYa3NJR2wyS1NCN1hHNGdJR2xtSUNnaEtIUm9hWE1nYVc1emRHRnVZMlZ2WmlCRGFYQm9aWElwS1NCN1hHNGdJQ0FnY21WMGRYSnVJRzVsZHlCRGFYQm9aWElvYlc5a1pTd2dhMlY1TENCcGRpbGNiaUFnZlZ4dUlDQlVjbUZ1YzJadmNtMHVZMkZzYkNoMGFHbHpLVnh1SUNCMGFHbHpMbDlqWVdOb1pTQTlJRzVsZHlCVGNHeHBkSFJsY2lncFhHNGdJSFJvYVhNdVgyTnBjR2hsY2lBOUlHNWxkeUJoWlhNdVFVVlRLR3RsZVNsY2JpQWdkR2hwY3k1ZmNISmxkaUE5SUc1bGR5QkNkV1ptWlhJb2FYWXViR1Z1WjNSb0tWeHVJQ0JwZGk1amIzQjVLSFJvYVhNdVgzQnlaWFlwWEc0Z0lIUm9hWE11WDIxdlpHVWdQU0J0YjJSbFhHNGdJSFJvYVhNdVgyRjFkRzl3WVdSa2FXNW5JRDBnZEhKMVpWeHVmVnh1UTJsd2FHVnlMbkJ5YjNSdmRIbHdaUzVmZFhCa1lYUmxJRDBnWm5WdVkzUnBiMjRnS0dSaGRHRXBJSHRjYmlBZ2RHaHBjeTVmWTJGamFHVXVZV1JrS0dSaGRHRXBYRzRnSUhaaGNpQmphSFZ1YTF4dUlDQjJZWElnZEdocGJtZGNiaUFnZG1GeUlHOTFkQ0E5SUZ0ZFhHNGdJSGRvYVd4bElDZ29ZMmgxYm1zZ1BTQjBhR2x6TGw5allXTm9aUzVuWlhRb0tTa3BJSHRjYmlBZ0lDQjBhR2x1WnlBOUlIUm9hWE11WDIxdlpHVXVaVzVqY25sd2RDaDBhR2x6TENCamFIVnVheWxjYmlBZ0lDQnZkWFF1Y0hWemFDaDBhR2x1WnlsY2JpQWdmVnh1SUNCeVpYUjFjbTRnUW5WbVptVnlMbU52Ym1OaGRDaHZkWFFwWEc1OVhHNURhWEJvWlhJdWNISnZkRzkwZVhCbExsOW1hVzVoYkNBOUlHWjFibU4wYVc5dUlDZ3BJSHRjYmlBZ2RtRnlJR05vZFc1cklEMGdkR2hwY3k1ZlkyRmphR1V1Wm14MWMyZ29LVnh1SUNCcFppQW9kR2hwY3k1ZllYVjBiM0JoWkdScGJtY3BJSHRjYmlBZ0lDQmphSFZ1YXlBOUlIUm9hWE11WDIxdlpHVXVaVzVqY25sd2RDaDBhR2x6TENCamFIVnVheWxjYmlBZ0lDQjBhR2x6TGw5amFYQm9aWEl1YzJOeWRXSW9LVnh1SUNBZ0lISmxkSFZ5YmlCamFIVnVhMXh1SUNCOUlHVnNjMlVnYVdZZ0tHTm9kVzVyTG5SdlUzUnlhVzVuS0Nkb1pYZ25LU0FoUFQwZ0p6RXdNVEF4TURFd01UQXhNREV3TVRBeE1ERXdNVEF4TURFd01UQXhNREV3SnlrZ2UxeHVJQ0FnSUhSb2FYTXVYMk5wY0dobGNpNXpZM0oxWWlncFhHNGdJQ0FnZEdoeWIzY2dibVYzSUVWeWNtOXlLQ2RrWVhSaElHNXZkQ0J0ZFd4MGFYQnNaU0J2WmlCaWJHOWpheUJzWlc1bmRHZ25LVnh1SUNCOVhHNTlYRzVEYVhCb1pYSXVjSEp2ZEc5MGVYQmxMbk5sZEVGMWRHOVFZV1JrYVc1bklEMGdablZ1WTNScGIyNGdLSE5sZEZSdktTQjdYRzRnSUhSb2FYTXVYMkYxZEc5d1lXUmthVzVuSUQwZ0lTRnpaWFJVYjF4dWZWeHVYRzVtZFc1amRHbHZiaUJUY0d4cGRIUmxjaUFvS1NCN1hHNGdJR2xtSUNnaEtIUm9hWE1nYVc1emRHRnVZMlZ2WmlCVGNHeHBkSFJsY2lrcElIdGNiaUFnSUNCeVpYUjFjbTRnYm1WM0lGTndiR2wwZEdWeUtDbGNiaUFnZlZ4dUlDQjBhR2x6TG1OaFkyaGxJRDBnYm1WM0lFSjFabVpsY2lnbkp5bGNibjFjYmxOd2JHbDBkR1Z5TG5CeWIzUnZkSGx3WlM1aFpHUWdQU0JtZFc1amRHbHZiaUFvWkdGMFlTa2dlMXh1SUNCMGFHbHpMbU5oWTJobElEMGdRblZtWm1WeUxtTnZibU5oZENoYmRHaHBjeTVqWVdOb1pTd2daR0YwWVYwcFhHNTlYRzVjYmxOd2JHbDBkR1Z5TG5CeWIzUnZkSGx3WlM1blpYUWdQU0JtZFc1amRHbHZiaUFvS1NCN1hHNGdJR2xtSUNoMGFHbHpMbU5oWTJobExteGxibWQwYUNBK0lERTFLU0I3WEc0Z0lDQWdkbUZ5SUc5MWRDQTlJSFJvYVhNdVkyRmphR1V1YzJ4cFkyVW9NQ3dnTVRZcFhHNGdJQ0FnZEdocGN5NWpZV05vWlNBOUlIUm9hWE11WTJGamFHVXVjMnhwWTJVb01UWXBYRzRnSUNBZ2NtVjBkWEp1SUc5MWRGeHVJQ0I5WEc0Z0lISmxkSFZ5YmlCdWRXeHNYRzU5WEc1VGNHeHBkSFJsY2k1d2NtOTBiM1I1Y0dVdVpteDFjMmdnUFNCbWRXNWpkR2x2YmlBb0tTQjdYRzRnSUhaaGNpQnNaVzRnUFNBeE5pQXRJSFJvYVhNdVkyRmphR1V1YkdWdVozUm9YRzRnSUhaaGNpQndZV1JDZFdabUlEMGdibVYzSUVKMVptWmxjaWhzWlc0cFhHNWNiaUFnZG1GeUlHa2dQU0F0TVZ4dUlDQjNhR2xzWlNBb0t5dHBJRHdnYkdWdUtTQjdYRzRnSUNBZ2NHRmtRblZtWmk1M2NtbDBaVlZKYm5RNEtHeGxiaXdnYVNsY2JpQWdmVnh1SUNCMllYSWdiM1YwSUQwZ1FuVm1abVZ5TG1OdmJtTmhkQ2hiZEdocGN5NWpZV05vWlN3Z2NHRmtRblZtWmwwcFhHNGdJSEpsZEhWeWJpQnZkWFJjYm4xY2JuWmhjaUJ0YjJSbGJHbHpkQ0E5SUh0Y2JpQWdSVU5DT2lCeVpYRjFhWEpsS0NjdUwyMXZaR1Z6TDJWallpY3BMRnh1SUNCRFFrTTZJSEpsY1hWcGNtVW9KeTR2Ylc5a1pYTXZZMkpqSnlrc1hHNGdJRU5HUWpvZ2NtVnhkV2x5WlNnbkxpOXRiMlJsY3k5alptSW5LU3hjYmlBZ1EwWkNPRG9nY21WeGRXbHlaU2duTGk5dGIyUmxjeTlqWm1JNEp5a3NYRzRnSUVOR1FqRTZJSEpsY1hWcGNtVW9KeTR2Ylc5a1pYTXZZMlppTVNjcExGeHVJQ0JQUmtJNklISmxjWFZwY21Vb0p5NHZiVzlrWlhNdmIyWmlKeWtzWEc0Z0lFTlVVam9nY21WeGRXbHlaU2duTGk5dGIyUmxjeTlqZEhJbktTeGNiaUFnUjBOTk9pQnlaWEYxYVhKbEtDY3VMMjF2WkdWekwyTjBjaWNwWEc1OVhHNWNibVoxYm1OMGFXOXVJR055WldGMFpVTnBjR2hsY21sMklDaHpkV2wwWlN3Z2NHRnpjM2R2Y21Rc0lHbDJLU0I3WEc0Z0lIWmhjaUJqYjI1bWFXY2dQU0J0YjJSbGMxdHpkV2wwWlM1MGIweHZkMlZ5UTJGelpTZ3BYVnh1SUNCcFppQW9JV052Ym1acFp5a2dlMXh1SUNBZ0lIUm9jbTkzSUc1bGR5QlVlWEJsUlhKeWIzSW9KMmx1ZG1Gc2FXUWdjM1ZwZEdVZ2RIbHdaU2NwWEc0Z0lIMWNiaUFnYVdZZ0tIUjVjR1Z2WmlCcGRpQTlQVDBnSjNOMGNtbHVaeWNwSUh0Y2JpQWdJQ0JwZGlBOUlHNWxkeUJDZFdabVpYSW9hWFlwWEc0Z0lIMWNiaUFnYVdZZ0tIUjVjR1Z2WmlCd1lYTnpkMjl5WkNBOVBUMGdKM04wY21sdVp5Y3BJSHRjYmlBZ0lDQndZWE56ZDI5eVpDQTlJRzVsZHlCQ2RXWm1aWElvY0dGemMzZHZjbVFwWEc0Z0lIMWNiaUFnYVdZZ0tIQmhjM04zYjNKa0xteGxibWQwYUNBaFBUMGdZMjl1Wm1sbkxtdGxlU0F2SURncElIdGNiaUFnSUNCMGFISnZkeUJ1WlhjZ1ZIbHdaVVZ5Y205eUtDZHBiblpoYkdsa0lHdGxlU0JzWlc1bmRHZ2dKeUFySUhCaGMzTjNiM0prTG14bGJtZDBhQ2xjYmlBZ2ZWeHVJQ0JwWmlBb2FYWXViR1Z1WjNSb0lDRTlQU0JqYjI1bWFXY3VhWFlwSUh0Y2JpQWdJQ0IwYUhKdmR5QnVaWGNnVkhsd1pVVnljbTl5S0NkcGJuWmhiR2xrSUdsMklHeGxibWQwYUNBbklDc2dhWFl1YkdWdVozUm9LVnh1SUNCOVhHNGdJR2xtSUNoamIyNW1hV2N1ZEhsd1pTQTlQVDBnSjNOMGNtVmhiU2NwSUh0Y2JpQWdJQ0J5WlhSMWNtNGdibVYzSUZOMGNtVmhiVU5wY0dobGNpaHRiMlJsYkdsemRGdGpiMjVtYVdjdWJXOWtaVjBzSUhCaGMzTjNiM0prTENCcGRpbGNiaUFnZlNCbGJITmxJR2xtSUNoamIyNW1hV2N1ZEhsd1pTQTlQVDBnSjJGMWRHZ25LU0I3WEc0Z0lDQWdjbVYwZFhKdUlHNWxkeUJCZFhSb1EybHdhR1Z5S0cxdlpHVnNhWE4wVzJOdmJtWnBaeTV0YjJSbFhTd2djR0Z6YzNkdmNtUXNJR2wyS1Z4dUlDQjlYRzRnSUhKbGRIVnliaUJ1WlhjZ1EybHdhR1Z5S0cxdlpHVnNhWE4wVzJOdmJtWnBaeTV0YjJSbFhTd2djR0Z6YzNkdmNtUXNJR2wyS1Z4dWZWeHVablZ1WTNScGIyNGdZM0psWVhSbFEybHdhR1Z5SUNoemRXbDBaU3dnY0dGemMzZHZjbVFwSUh0Y2JpQWdkbUZ5SUdOdmJtWnBaeUE5SUcxdlpHVnpXM04xYVhSbExuUnZURzkzWlhKRFlYTmxLQ2xkWEc0Z0lHbG1JQ2doWTI5dVptbG5LU0I3WEc0Z0lDQWdkR2h5YjNjZ2JtVjNJRlI1Y0dWRmNuSnZjaWduYVc1MllXeHBaQ0J6ZFdsMFpTQjBlWEJsSnlsY2JpQWdmVnh1SUNCMllYSWdhMlY1Y3lBOUlHVmlkR3NvY0dGemMzZHZjbVFzSUdaaGJITmxMQ0JqYjI1bWFXY3VhMlY1TENCamIyNW1hV2N1YVhZcFhHNGdJSEpsZEhWeWJpQmpjbVZoZEdWRGFYQm9aWEpwZGloemRXbDBaU3dnYTJWNWN5NXJaWGtzSUd0bGVYTXVhWFlwWEc1OVhHNWNibVY0Y0c5eWRITXVZM0psWVhSbFEybHdhR1Z5YVhZZ1BTQmpjbVZoZEdWRGFYQm9aWEpwZGx4dVpYaHdiM0owY3k1amNtVmhkR1ZEYVhCb1pYSWdQU0JqY21WaGRHVkRhWEJvWlhKY2JpSmRmUT09IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xudmFyIGFlcyA9IHJlcXVpcmUoJy4vYWVzJylcbnZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCdjaXBoZXItYmFzZScpXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG52YXIgbW9kZXMgPSByZXF1aXJlKCcuL21vZGVzJylcbnZhciBTdHJlYW1DaXBoZXIgPSByZXF1aXJlKCcuL3N0cmVhbUNpcGhlcicpXG52YXIgQXV0aENpcGhlciA9IHJlcXVpcmUoJy4vYXV0aENpcGhlcicpXG52YXIgZWJ0ayA9IHJlcXVpcmUoJ2V2cF9ieXRlc3Rva2V5JylcblxuaW5oZXJpdHMoRGVjaXBoZXIsIFRyYW5zZm9ybSlcbmZ1bmN0aW9uIERlY2lwaGVyIChtb2RlLCBrZXksIGl2KSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBEZWNpcGhlcikpIHtcbiAgICByZXR1cm4gbmV3IERlY2lwaGVyKG1vZGUsIGtleSwgaXYpXG4gIH1cbiAgVHJhbnNmb3JtLmNhbGwodGhpcylcbiAgdGhpcy5fY2FjaGUgPSBuZXcgU3BsaXR0ZXIoKVxuICB0aGlzLl9sYXN0ID0gdm9pZCAwXG4gIHRoaXMuX2NpcGhlciA9IG5ldyBhZXMuQUVTKGtleSlcbiAgdGhpcy5fcHJldiA9IG5ldyBCdWZmZXIoaXYubGVuZ3RoKVxuICBpdi5jb3B5KHRoaXMuX3ByZXYpXG4gIHRoaXMuX21vZGUgPSBtb2RlXG4gIHRoaXMuX2F1dG9wYWRkaW5nID0gdHJ1ZVxufVxuRGVjaXBoZXIucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICB0aGlzLl9jYWNoZS5hZGQoZGF0YSlcbiAgdmFyIGNodW5rXG4gIHZhciB0aGluZ1xuICB2YXIgb3V0ID0gW11cbiAgd2hpbGUgKChjaHVuayA9IHRoaXMuX2NhY2hlLmdldCh0aGlzLl9hdXRvcGFkZGluZykpKSB7XG4gICAgdGhpbmcgPSB0aGlzLl9tb2RlLmRlY3J5cHQodGhpcywgY2h1bmspXG4gICAgb3V0LnB1c2godGhpbmcpXG4gIH1cbiAgcmV0dXJuIEJ1ZmZlci5jb25jYXQob3V0KVxufVxuRGVjaXBoZXIucHJvdG90eXBlLl9maW5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGNodW5rID0gdGhpcy5fY2FjaGUuZmx1c2goKVxuICBpZiAodGhpcy5fYXV0b3BhZGRpbmcpIHtcbiAgICByZXR1cm4gdW5wYWQodGhpcy5fbW9kZS5kZWNyeXB0KHRoaXMsIGNodW5rKSlcbiAgfSBlbHNlIGlmIChjaHVuaykge1xuICAgIHRocm93IG5ldyBFcnJvcignZGF0YSBub3QgbXVsdGlwbGUgb2YgYmxvY2sgbGVuZ3RoJylcbiAgfVxufVxuRGVjaXBoZXIucHJvdG90eXBlLnNldEF1dG9QYWRkaW5nID0gZnVuY3Rpb24gKHNldFRvKSB7XG4gIHRoaXMuX2F1dG9wYWRkaW5nID0gISFzZXRUb1xufVxuZnVuY3Rpb24gU3BsaXR0ZXIgKCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU3BsaXR0ZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBTcGxpdHRlcigpXG4gIH1cbiAgdGhpcy5jYWNoZSA9IG5ldyBCdWZmZXIoJycpXG59XG5TcGxpdHRlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgdGhpcy5jYWNoZSA9IEJ1ZmZlci5jb25jYXQoW3RoaXMuY2FjaGUsIGRhdGFdKVxufVxuXG5TcGxpdHRlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGF1dG9QYWRkaW5nKSB7XG4gIHZhciBvdXRcbiAgaWYgKGF1dG9QYWRkaW5nKSB7XG4gICAgaWYgKHRoaXMuY2FjaGUubGVuZ3RoID4gMTYpIHtcbiAgICAgIG91dCA9IHRoaXMuY2FjaGUuc2xpY2UoMCwgMTYpXG4gICAgICB0aGlzLmNhY2hlID0gdGhpcy5jYWNoZS5zbGljZSgxNilcbiAgICAgIHJldHVybiBvdXRcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRoaXMuY2FjaGUubGVuZ3RoID49IDE2KSB7XG4gICAgICBvdXQgPSB0aGlzLmNhY2hlLnNsaWNlKDAsIDE2KVxuICAgICAgdGhpcy5jYWNoZSA9IHRoaXMuY2FjaGUuc2xpY2UoMTYpXG4gICAgICByZXR1cm4gb3V0XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsXG59XG5TcGxpdHRlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gIGlmICh0aGlzLmNhY2hlLmxlbmd0aCkge1xuICAgIHJldHVybiB0aGlzLmNhY2hlXG4gIH1cbn1cbmZ1bmN0aW9uIHVucGFkIChsYXN0KSB7XG4gIHZhciBwYWRkZWQgPSBsYXN0WzE1XVxuICB2YXIgaSA9IC0xXG4gIHdoaWxlICgrK2kgPCBwYWRkZWQpIHtcbiAgICBpZiAobGFzdFsoaSArICgxNiAtIHBhZGRlZCkpXSAhPT0gcGFkZGVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VuYWJsZSB0byBkZWNyeXB0IGRhdGEnKVxuICAgIH1cbiAgfVxuICBpZiAocGFkZGVkID09PSAxNikge1xuICAgIHJldHVyblxuICB9XG4gIHJldHVybiBsYXN0LnNsaWNlKDAsIDE2IC0gcGFkZGVkKVxufVxuXG52YXIgbW9kZWxpc3QgPSB7XG4gIEVDQjogcmVxdWlyZSgnLi9tb2Rlcy9lY2InKSxcbiAgQ0JDOiByZXF1aXJlKCcuL21vZGVzL2NiYycpLFxuICBDRkI6IHJlcXVpcmUoJy4vbW9kZXMvY2ZiJyksXG4gIENGQjg6IHJlcXVpcmUoJy4vbW9kZXMvY2ZiOCcpLFxuICBDRkIxOiByZXF1aXJlKCcuL21vZGVzL2NmYjEnKSxcbiAgT0ZCOiByZXF1aXJlKCcuL21vZGVzL29mYicpLFxuICBDVFI6IHJlcXVpcmUoJy4vbW9kZXMvY3RyJyksXG4gIEdDTTogcmVxdWlyZSgnLi9tb2Rlcy9jdHInKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVEZWNpcGhlcml2IChzdWl0ZSwgcGFzc3dvcmQsIGl2KSB7XG4gIHZhciBjb25maWcgPSBtb2Rlc1tzdWl0ZS50b0xvd2VyQ2FzZSgpXVxuICBpZiAoIWNvbmZpZykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgc3VpdGUgdHlwZScpXG4gIH1cbiAgaWYgKHR5cGVvZiBpdiA9PT0gJ3N0cmluZycpIHtcbiAgICBpdiA9IG5ldyBCdWZmZXIoaXYpXG4gIH1cbiAgaWYgKHR5cGVvZiBwYXNzd29yZCA9PT0gJ3N0cmluZycpIHtcbiAgICBwYXNzd29yZCA9IG5ldyBCdWZmZXIocGFzc3dvcmQpXG4gIH1cbiAgaWYgKHBhc3N3b3JkLmxlbmd0aCAhPT0gY29uZmlnLmtleSAvIDgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIGtleSBsZW5ndGggJyArIHBhc3N3b3JkLmxlbmd0aClcbiAgfVxuICBpZiAoaXYubGVuZ3RoICE9PSBjb25maWcuaXYpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIGl2IGxlbmd0aCAnICsgaXYubGVuZ3RoKVxuICB9XG4gIGlmIChjb25maWcudHlwZSA9PT0gJ3N0cmVhbScpIHtcbiAgICByZXR1cm4gbmV3IFN0cmVhbUNpcGhlcihtb2RlbGlzdFtjb25maWcubW9kZV0sIHBhc3N3b3JkLCBpdiwgdHJ1ZSlcbiAgfSBlbHNlIGlmIChjb25maWcudHlwZSA9PT0gJ2F1dGgnKSB7XG4gICAgcmV0dXJuIG5ldyBBdXRoQ2lwaGVyKG1vZGVsaXN0W2NvbmZpZy5tb2RlXSwgcGFzc3dvcmQsIGl2LCB0cnVlKVxuICB9XG4gIHJldHVybiBuZXcgRGVjaXBoZXIobW9kZWxpc3RbY29uZmlnLm1vZGVdLCBwYXNzd29yZCwgaXYpXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZURlY2lwaGVyIChzdWl0ZSwgcGFzc3dvcmQpIHtcbiAgdmFyIGNvbmZpZyA9IG1vZGVzW3N1aXRlLnRvTG93ZXJDYXNlKCldXG4gIGlmICghY29uZmlnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBzdWl0ZSB0eXBlJylcbiAgfVxuICB2YXIga2V5cyA9IGVidGsocGFzc3dvcmQsIGZhbHNlLCBjb25maWcua2V5LCBjb25maWcuaXYpXG4gIHJldHVybiBjcmVhdGVEZWNpcGhlcml2KHN1aXRlLCBrZXlzLmtleSwga2V5cy5pdilcbn1cbmV4cG9ydHMuY3JlYXRlRGVjaXBoZXIgPSBjcmVhdGVEZWNpcGhlclxuZXhwb3J0cy5jcmVhdGVEZWNpcGhlcml2ID0gY3JlYXRlRGVjaXBoZXJpdlxuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIpXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUwyNXZaR1ZmYlc5a2RXeGxjeTlqY25sd2RHOHRZbkp2ZDNObGNtbG1lUzl1YjJSbFgyMXZaSFZzWlhNdlluSnZkM05sY21sbWVTMWphWEJvWlhJdmJtOWtaVjl0YjJSMWJHVnpMMkp5YjNkelpYSnBabmt0WVdWekwyUmxZM0o1Y0hSbGNpNXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPMEZCUVVFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRU0lzSW1acGJHVWlPaUpuWlc1bGNtRjBaV1F1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaWRtRnlJR0ZsY3lBOUlISmxjWFZwY21Vb0p5NHZZV1Z6SnlsY2JuWmhjaUJVY21GdWMyWnZjbTBnUFNCeVpYRjFhWEpsS0NkamFYQm9aWEl0WW1GelpTY3BYRzUyWVhJZ2FXNW9aWEpwZEhNZ1BTQnlaWEYxYVhKbEtDZHBibWhsY21sMGN5Y3BYRzUyWVhJZ2JXOWtaWE1nUFNCeVpYRjFhWEpsS0NjdUwyMXZaR1Z6SnlsY2JuWmhjaUJUZEhKbFlXMURhWEJvWlhJZ1BTQnlaWEYxYVhKbEtDY3VMM04wY21WaGJVTnBjR2hsY2ljcFhHNTJZWElnUVhWMGFFTnBjR2hsY2lBOUlISmxjWFZwY21Vb0p5NHZZWFYwYUVOcGNHaGxjaWNwWEc1MllYSWdaV0owYXlBOUlISmxjWFZwY21Vb0oyVjJjRjlpZVhSbGMzUnZhMlY1SnlsY2JseHVhVzVvWlhKcGRITW9SR1ZqYVhCb1pYSXNJRlJ5WVc1elptOXliU2xjYm1aMWJtTjBhVzl1SUVSbFkybHdhR1Z5SUNodGIyUmxMQ0JyWlhrc0lHbDJLU0I3WEc0Z0lHbG1JQ2doS0hSb2FYTWdhVzV6ZEdGdVkyVnZaaUJFWldOcGNHaGxjaWtwSUh0Y2JpQWdJQ0J5WlhSMWNtNGdibVYzSUVSbFkybHdhR1Z5S0cxdlpHVXNJR3RsZVN3Z2FYWXBYRzRnSUgxY2JpQWdWSEpoYm5ObWIzSnRMbU5oYkd3b2RHaHBjeWxjYmlBZ2RHaHBjeTVmWTJGamFHVWdQU0J1WlhjZ1UzQnNhWFIwWlhJb0tWeHVJQ0IwYUdsekxsOXNZWE4wSUQwZ2RtOXBaQ0F3WEc0Z0lIUm9hWE11WDJOcGNHaGxjaUE5SUc1bGR5QmhaWE11UVVWVEtHdGxlU2xjYmlBZ2RHaHBjeTVmY0hKbGRpQTlJRzVsZHlCQ2RXWm1aWElvYVhZdWJHVnVaM1JvS1Z4dUlDQnBkaTVqYjNCNUtIUm9hWE11WDNCeVpYWXBYRzRnSUhSb2FYTXVYMjF2WkdVZ1BTQnRiMlJsWEc0Z0lIUm9hWE11WDJGMWRHOXdZV1JrYVc1bklEMGdkSEoxWlZ4dWZWeHVSR1ZqYVhCb1pYSXVjSEp2ZEc5MGVYQmxMbDkxY0dSaGRHVWdQU0JtZFc1amRHbHZiaUFvWkdGMFlTa2dlMXh1SUNCMGFHbHpMbDlqWVdOb1pTNWhaR1FvWkdGMFlTbGNiaUFnZG1GeUlHTm9kVzVyWEc0Z0lIWmhjaUIwYUdsdVoxeHVJQ0IyWVhJZ2IzVjBJRDBnVzExY2JpQWdkMmhwYkdVZ0tDaGphSFZ1YXlBOUlIUm9hWE11WDJOaFkyaGxMbWRsZENoMGFHbHpMbDloZFhSdmNHRmtaR2x1WnlrcEtTQjdYRzRnSUNBZ2RHaHBibWNnUFNCMGFHbHpMbDl0YjJSbExtUmxZM0o1Y0hRb2RHaHBjeXdnWTJoMWJtc3BYRzRnSUNBZ2IzVjBMbkIxYzJnb2RHaHBibWNwWEc0Z0lIMWNiaUFnY21WMGRYSnVJRUoxWm1abGNpNWpiMjVqWVhRb2IzVjBLVnh1ZlZ4dVJHVmphWEJvWlhJdWNISnZkRzkwZVhCbExsOW1hVzVoYkNBOUlHWjFibU4wYVc5dUlDZ3BJSHRjYmlBZ2RtRnlJR05vZFc1cklEMGdkR2hwY3k1ZlkyRmphR1V1Wm14MWMyZ29LVnh1SUNCcFppQW9kR2hwY3k1ZllYVjBiM0JoWkdScGJtY3BJSHRjYmlBZ0lDQnlaWFIxY200Z2RXNXdZV1FvZEdocGN5NWZiVzlrWlM1a1pXTnllWEIwS0hSb2FYTXNJR05vZFc1cktTbGNiaUFnZlNCbGJITmxJR2xtSUNoamFIVnVheWtnZTF4dUlDQWdJSFJvY205M0lHNWxkeUJGY25KdmNpZ25aR0YwWVNCdWIzUWdiWFZzZEdsd2JHVWdiMllnWW14dlkyc2diR1Z1WjNSb0p5bGNiaUFnZlZ4dWZWeHVSR1ZqYVhCb1pYSXVjSEp2ZEc5MGVYQmxMbk5sZEVGMWRHOVFZV1JrYVc1bklEMGdablZ1WTNScGIyNGdLSE5sZEZSdktTQjdYRzRnSUhSb2FYTXVYMkYxZEc5d1lXUmthVzVuSUQwZ0lTRnpaWFJVYjF4dWZWeHVablZ1WTNScGIyNGdVM0JzYVhSMFpYSWdLQ2tnZTF4dUlDQnBaaUFvSVNoMGFHbHpJR2x1YzNSaGJtTmxiMllnVTNCc2FYUjBaWElwS1NCN1hHNGdJQ0FnY21WMGRYSnVJRzVsZHlCVGNHeHBkSFJsY2lncFhHNGdJSDFjYmlBZ2RHaHBjeTVqWVdOb1pTQTlJRzVsZHlCQ2RXWm1aWElvSnljcFhHNTlYRzVUY0d4cGRIUmxjaTV3Y205MGIzUjVjR1V1WVdSa0lEMGdablZ1WTNScGIyNGdLR1JoZEdFcElIdGNiaUFnZEdocGN5NWpZV05vWlNBOUlFSjFabVpsY2k1amIyNWpZWFFvVzNSb2FYTXVZMkZqYUdVc0lHUmhkR0ZkS1Z4dWZWeHVYRzVUY0d4cGRIUmxjaTV3Y205MGIzUjVjR1V1WjJWMElEMGdablZ1WTNScGIyNGdLR0YxZEc5UVlXUmthVzVuS1NCN1hHNGdJSFpoY2lCdmRYUmNiaUFnYVdZZ0tHRjFkRzlRWVdSa2FXNW5LU0I3WEc0Z0lDQWdhV1lnS0hSb2FYTXVZMkZqYUdVdWJHVnVaM1JvSUQ0Z01UWXBJSHRjYmlBZ0lDQWdJRzkxZENBOUlIUm9hWE11WTJGamFHVXVjMnhwWTJVb01Dd2dNVFlwWEc0Z0lDQWdJQ0IwYUdsekxtTmhZMmhsSUQwZ2RHaHBjeTVqWVdOb1pTNXpiR2xqWlNneE5pbGNiaUFnSUNBZ0lISmxkSFZ5YmlCdmRYUmNiaUFnSUNCOVhHNGdJSDBnWld4elpTQjdYRzRnSUNBZ2FXWWdLSFJvYVhNdVkyRmphR1V1YkdWdVozUm9JRDQ5SURFMktTQjdYRzRnSUNBZ0lDQnZkWFFnUFNCMGFHbHpMbU5oWTJobExuTnNhV05sS0RBc0lERTJLVnh1SUNBZ0lDQWdkR2hwY3k1allXTm9aU0E5SUhSb2FYTXVZMkZqYUdVdWMyeHBZMlVvTVRZcFhHNGdJQ0FnSUNCeVpYUjFjbTRnYjNWMFhHNGdJQ0FnZlZ4dUlDQjlYRzRnSUhKbGRIVnliaUJ1ZFd4c1hHNTlYRzVUY0d4cGRIUmxjaTV3Y205MGIzUjVjR1V1Wm14MWMyZ2dQU0JtZFc1amRHbHZiaUFvS1NCN1hHNGdJR2xtSUNoMGFHbHpMbU5oWTJobExteGxibWQwYUNrZ2UxeHVJQ0FnSUhKbGRIVnliaUIwYUdsekxtTmhZMmhsWEc0Z0lIMWNibjFjYm1aMWJtTjBhVzl1SUhWdWNHRmtJQ2hzWVhOMEtTQjdYRzRnSUhaaGNpQndZV1JrWldRZ1BTQnNZWE4wV3pFMVhWeHVJQ0IyWVhJZ2FTQTlJQzB4WEc0Z0lIZG9hV3hsSUNncksya2dQQ0J3WVdSa1pXUXBJSHRjYmlBZ0lDQnBaaUFvYkdGemRGc29hU0FySUNneE5pQXRJSEJoWkdSbFpDa3BYU0FoUFQwZ2NHRmtaR1ZrS1NCN1hHNGdJQ0FnSUNCMGFISnZkeUJ1WlhjZ1JYSnliM0lvSjNWdVlXSnNaU0IwYnlCa1pXTnllWEIwSUdSaGRHRW5LVnh1SUNBZ0lIMWNiaUFnZlZ4dUlDQnBaaUFvY0dGa1pHVmtJRDA5UFNBeE5pa2dlMXh1SUNBZ0lISmxkSFZ5Ymx4dUlDQjlYRzRnSUhKbGRIVnliaUJzWVhOMExuTnNhV05sS0RBc0lERTJJQzBnY0dGa1pHVmtLVnh1ZlZ4dVhHNTJZWElnYlc5a1pXeHBjM1FnUFNCN1hHNGdJRVZEUWpvZ2NtVnhkV2x5WlNnbkxpOXRiMlJsY3k5bFkySW5LU3hjYmlBZ1EwSkRPaUJ5WlhGMWFYSmxLQ2N1TDIxdlpHVnpMMk5pWXljcExGeHVJQ0JEUmtJNklISmxjWFZwY21Vb0p5NHZiVzlrWlhNdlkyWmlKeWtzWEc0Z0lFTkdRamc2SUhKbGNYVnBjbVVvSnk0dmJXOWtaWE12WTJaaU9DY3BMRnh1SUNCRFJrSXhPaUJ5WlhGMWFYSmxLQ2N1TDIxdlpHVnpMMk5tWWpFbktTeGNiaUFnVDBaQ09pQnlaWEYxYVhKbEtDY3VMMjF2WkdWekwyOW1ZaWNwTEZ4dUlDQkRWRkk2SUhKbGNYVnBjbVVvSnk0dmJXOWtaWE12WTNSeUp5a3NYRzRnSUVkRFRUb2djbVZ4ZFdseVpTZ25MaTl0YjJSbGN5OWpkSEluS1Z4dWZWeHVYRzVtZFc1amRHbHZiaUJqY21WaGRHVkVaV05wY0dobGNtbDJJQ2h6ZFdsMFpTd2djR0Z6YzNkdmNtUXNJR2wyS1NCN1hHNGdJSFpoY2lCamIyNW1hV2NnUFNCdGIyUmxjMXR6ZFdsMFpTNTBiMHh2ZDJWeVEyRnpaU2dwWFZ4dUlDQnBaaUFvSVdOdmJtWnBaeWtnZTF4dUlDQWdJSFJvY205M0lHNWxkeUJVZVhCbFJYSnliM0lvSjJsdWRtRnNhV1FnYzNWcGRHVWdkSGx3WlNjcFhHNGdJSDFjYmlBZ2FXWWdLSFI1Y0dWdlppQnBkaUE5UFQwZ0ozTjBjbWx1WnljcElIdGNiaUFnSUNCcGRpQTlJRzVsZHlCQ2RXWm1aWElvYVhZcFhHNGdJSDFjYmlBZ2FXWWdLSFI1Y0dWdlppQndZWE56ZDI5eVpDQTlQVDBnSjNOMGNtbHVaeWNwSUh0Y2JpQWdJQ0J3WVhOemQyOXlaQ0E5SUc1bGR5QkNkV1ptWlhJb2NHRnpjM2R2Y21RcFhHNGdJSDFjYmlBZ2FXWWdLSEJoYzNOM2IzSmtMbXhsYm1kMGFDQWhQVDBnWTI5dVptbG5MbXRsZVNBdklEZ3BJSHRjYmlBZ0lDQjBhSEp2ZHlCdVpYY2dWSGx3WlVWeWNtOXlLQ2RwYm5aaGJHbGtJR3RsZVNCc1pXNW5kR2dnSnlBcklIQmhjM04zYjNKa0xteGxibWQwYUNsY2JpQWdmVnh1SUNCcFppQW9hWFl1YkdWdVozUm9JQ0U5UFNCamIyNW1hV2N1YVhZcElIdGNiaUFnSUNCMGFISnZkeUJ1WlhjZ1ZIbHdaVVZ5Y205eUtDZHBiblpoYkdsa0lHbDJJR3hsYm1kMGFDQW5JQ3NnYVhZdWJHVnVaM1JvS1Z4dUlDQjlYRzRnSUdsbUlDaGpiMjVtYVdjdWRIbHdaU0E5UFQwZ0ozTjBjbVZoYlNjcElIdGNiaUFnSUNCeVpYUjFjbTRnYm1WM0lGTjBjbVZoYlVOcGNHaGxjaWh0YjJSbGJHbHpkRnRqYjI1bWFXY3ViVzlrWlYwc0lIQmhjM04zYjNKa0xDQnBkaXdnZEhKMVpTbGNiaUFnZlNCbGJITmxJR2xtSUNoamIyNW1hV2N1ZEhsd1pTQTlQVDBnSjJGMWRHZ25LU0I3WEc0Z0lDQWdjbVYwZFhKdUlHNWxkeUJCZFhSb1EybHdhR1Z5S0cxdlpHVnNhWE4wVzJOdmJtWnBaeTV0YjJSbFhTd2djR0Z6YzNkdmNtUXNJR2wyTENCMGNuVmxLVnh1SUNCOVhHNGdJSEpsZEhWeWJpQnVaWGNnUkdWamFYQm9aWElvYlc5a1pXeHBjM1JiWTI5dVptbG5MbTF2WkdWZExDQndZWE56ZDI5eVpDd2dhWFlwWEc1OVhHNWNibVoxYm1OMGFXOXVJR055WldGMFpVUmxZMmx3YUdWeUlDaHpkV2wwWlN3Z2NHRnpjM2R2Y21RcElIdGNiaUFnZG1GeUlHTnZibVpwWnlBOUlHMXZaR1Z6VzNOMWFYUmxMblJ2VEc5M1pYSkRZWE5sS0NsZFhHNGdJR2xtSUNnaFkyOXVabWxuS1NCN1hHNGdJQ0FnZEdoeWIzY2dibVYzSUZSNWNHVkZjbkp2Y2lnbmFXNTJZV3hwWkNCemRXbDBaU0IwZVhCbEp5bGNiaUFnZlZ4dUlDQjJZWElnYTJWNWN5QTlJR1ZpZEdzb2NHRnpjM2R2Y21Rc0lHWmhiSE5sTENCamIyNW1hV2N1YTJWNUxDQmpiMjVtYVdjdWFYWXBYRzRnSUhKbGRIVnliaUJqY21WaGRHVkVaV05wY0dobGNtbDJLSE4xYVhSbExDQnJaWGx6TG10bGVTd2dhMlY1Y3k1cGRpbGNibjFjYm1WNGNHOXlkSE11WTNKbFlYUmxSR1ZqYVhCb1pYSWdQU0JqY21WaGRHVkVaV05wY0dobGNseHVaWGh3YjNKMGN5NWpjbVZoZEdWRVpXTnBjR2hsY21sMklEMGdZM0psWVhSbFJHVmphWEJvWlhKcGRseHVJbDE5IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xudmFyIG1kNSA9IHJlcXVpcmUoJ2NyZWF0ZS1oYXNoL21kNScpXG5tb2R1bGUuZXhwb3J0cyA9IEVWUF9CeXRlc1RvS2V5XG5mdW5jdGlvbiBFVlBfQnl0ZXNUb0tleSAocGFzc3dvcmQsIHNhbHQsIGtleUxlbiwgaXZMZW4pIHtcbiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIocGFzc3dvcmQpKSB7XG4gICAgcGFzc3dvcmQgPSBuZXcgQnVmZmVyKHBhc3N3b3JkLCAnYmluYXJ5JylcbiAgfVxuICBpZiAoc2FsdCAmJiAhQnVmZmVyLmlzQnVmZmVyKHNhbHQpKSB7XG4gICAgc2FsdCA9IG5ldyBCdWZmZXIoc2FsdCwgJ2JpbmFyeScpXG4gIH1cbiAga2V5TGVuID0ga2V5TGVuIC8gOFxuICBpdkxlbiA9IGl2TGVuIHx8IDBcbiAgdmFyIGtpID0gMFxuICB2YXIgaWkgPSAwXG4gIHZhciBrZXkgPSBuZXcgQnVmZmVyKGtleUxlbilcbiAgdmFyIGl2ID0gbmV3IEJ1ZmZlcihpdkxlbilcbiAgdmFyIGFkZG1kID0gMFxuICB2YXIgbWRfYnVmXG4gIHZhciBpXG4gIHZhciBidWZzID0gW11cbiAgd2hpbGUgKHRydWUpIHtcbiAgICBpZiAoYWRkbWQrKyA+IDApIHtcbiAgICAgIGJ1ZnMucHVzaChtZF9idWYpXG4gICAgfVxuICAgIGJ1ZnMucHVzaChwYXNzd29yZClcbiAgICBpZiAoc2FsdCkge1xuICAgICAgYnVmcy5wdXNoKHNhbHQpXG4gICAgfVxuICAgIG1kX2J1ZiA9IG1kNShCdWZmZXIuY29uY2F0KGJ1ZnMpKVxuICAgIGJ1ZnMgPSBbXVxuICAgIGkgPSAwXG4gICAgaWYgKGtleUxlbiA+IDApIHtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGlmIChrZXlMZW4gPT09IDApIHtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGlmIChpID09PSBtZF9idWYubGVuZ3RoKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBrZXlba2krK10gPSBtZF9idWZbaV1cbiAgICAgICAga2V5TGVuLS1cbiAgICAgICAgaSsrXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpdkxlbiA+IDAgJiYgaSAhPT0gbWRfYnVmLmxlbmd0aCkge1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgaWYgKGl2TGVuID09PSAwKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA9PT0gbWRfYnVmLmxlbmd0aCkge1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgaXZbaWkrK10gPSBtZF9idWZbaV1cbiAgICAgICAgaXZMZW4tLVxuICAgICAgICBpKytcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGtleUxlbiA9PT0gMCAmJiBpdkxlbiA9PT0gMCkge1xuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cbiAgZm9yIChpID0gMDsgaSA8IG1kX2J1Zi5sZW5ndGg7IGkrKykge1xuICAgIG1kX2J1ZltpXSA9IDBcbiAgfVxuICByZXR1cm4ge1xuICAgIGtleToga2V5LFxuICAgIGl2OiBpdlxuICB9XG59XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12WW5KdmQzTmxjbWxtZVMxamFYQm9aWEl2Ym05a1pWOXRiMlIxYkdWekwyVjJjRjlpZVhSbGMzUnZhMlY1TDJsdVpHVjRMbXB6SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUk3UVVGQlFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFaUxDSm1hV3hsSWpvaVoyVnVaWEpoZEdWa0xtcHpJaXdpYzI5MWNtTmxVbTl2ZENJNklpSXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJblpoY2lCdFpEVWdQU0J5WlhGMWFYSmxLQ2RqY21WaGRHVXRhR0Z6YUM5dFpEVW5LVnh1Ylc5a2RXeGxMbVY0Y0c5eWRITWdQU0JGVmxCZlFubDBaWE5VYjB0bGVWeHVablZ1WTNScGIyNGdSVlpRWDBKNWRHVnpWRzlMWlhrZ0tIQmhjM04zYjNKa0xDQnpZV3gwTENCclpYbE1aVzRzSUdsMlRHVnVLU0I3WEc0Z0lHbG1JQ2doUW5WbVptVnlMbWx6UW5WbVptVnlLSEJoYzNOM2IzSmtLU2tnZTF4dUlDQWdJSEJoYzNOM2IzSmtJRDBnYm1WM0lFSjFabVpsY2lod1lYTnpkMjl5WkN3Z0oySnBibUZ5ZVNjcFhHNGdJSDFjYmlBZ2FXWWdLSE5oYkhRZ0ppWWdJVUoxWm1abGNpNXBjMEoxWm1abGNpaHpZV3gwS1NrZ2UxeHVJQ0FnSUhOaGJIUWdQU0J1WlhjZ1FuVm1abVZ5S0hOaGJIUXNJQ2RpYVc1aGNua25LVnh1SUNCOVhHNGdJR3RsZVV4bGJpQTlJR3RsZVV4bGJpQXZJRGhjYmlBZ2FYWk1aVzRnUFNCcGRreGxiaUI4ZkNBd1hHNGdJSFpoY2lCcmFTQTlJREJjYmlBZ2RtRnlJR2xwSUQwZ01GeHVJQ0IyWVhJZ2EyVjVJRDBnYm1WM0lFSjFabVpsY2loclpYbE1aVzRwWEc0Z0lIWmhjaUJwZGlBOUlHNWxkeUJDZFdabVpYSW9hWFpNWlc0cFhHNGdJSFpoY2lCaFpHUnRaQ0E5SURCY2JpQWdkbUZ5SUcxa1gySjFabHh1SUNCMllYSWdhVnh1SUNCMllYSWdZblZtY3lBOUlGdGRYRzRnSUhkb2FXeGxJQ2gwY25WbEtTQjdYRzRnSUNBZ2FXWWdLR0ZrWkcxa0t5c2dQaUF3S1NCN1hHNGdJQ0FnSUNCaWRXWnpMbkIxYzJnb2JXUmZZblZtS1Z4dUlDQWdJSDFjYmlBZ0lDQmlkV1p6TG5CMWMyZ29jR0Z6YzNkdmNtUXBYRzRnSUNBZ2FXWWdLSE5oYkhRcElIdGNiaUFnSUNBZ0lHSjFabk11Y0hWemFDaHpZV3gwS1Z4dUlDQWdJSDFjYmlBZ0lDQnRaRjlpZFdZZ1BTQnRaRFVvUW5WbVptVnlMbU52Ym1OaGRDaGlkV1p6S1NsY2JpQWdJQ0JpZFdaeklEMGdXMTFjYmlBZ0lDQnBJRDBnTUZ4dUlDQWdJR2xtSUNoclpYbE1aVzRnUGlBd0tTQjdYRzRnSUNBZ0lDQjNhR2xzWlNBb2RISjFaU2tnZTF4dUlDQWdJQ0FnSUNCcFppQW9hMlY1VEdWdUlEMDlQU0F3S1NCN1hHNGdJQ0FnSUNBZ0lDQWdZbkpsWVd0Y2JpQWdJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ0lDQnBaaUFvYVNBOVBUMGdiV1JmWW5WbUxteGxibWQwYUNrZ2UxeHVJQ0FnSUNBZ0lDQWdJR0p5WldGclhHNGdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lDQWdhMlY1VzJ0cEt5dGRJRDBnYldSZlluVm1XMmxkWEc0Z0lDQWdJQ0FnSUd0bGVVeGxiaTB0WEc0Z0lDQWdJQ0FnSUdrcksxeHVJQ0FnSUNBZ2ZWeHVJQ0FnSUgxY2JpQWdJQ0JwWmlBb2FYWk1aVzRnUGlBd0lDWW1JR2tnSVQwOUlHMWtYMkoxWmk1c1pXNW5kR2dwSUh0Y2JpQWdJQ0FnSUhkb2FXeGxJQ2gwY25WbEtTQjdYRzRnSUNBZ0lDQWdJR2xtSUNocGRreGxiaUE5UFQwZ01Da2dlMXh1SUNBZ0lDQWdJQ0FnSUdKeVpXRnJYRzRnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJQ0FnYVdZZ0tHa2dQVDA5SUcxa1gySjFaaTVzWlc1bmRHZ3BJSHRjYmlBZ0lDQWdJQ0FnSUNCaWNtVmhhMXh1SUNBZ0lDQWdJQ0I5WEc0Z0lDQWdJQ0FnSUdsMlcybHBLeXRkSUQwZ2JXUmZZblZtVzJsZFhHNGdJQ0FnSUNBZ0lHbDJUR1Z1TFMxY2JpQWdJQ0FnSUNBZ2FTc3JYRzRnSUNBZ0lDQjlYRzRnSUNBZ2ZWeHVJQ0FnSUdsbUlDaHJaWGxNWlc0Z1BUMDlJREFnSmlZZ2FYWk1aVzRnUFQwOUlEQXBJSHRjYmlBZ0lDQWdJR0p5WldGclhHNGdJQ0FnZlZ4dUlDQjlYRzRnSUdadmNpQW9hU0E5SURBN0lHa2dQQ0J0WkY5aWRXWXViR1Z1WjNSb095QnBLeXNwSUh0Y2JpQWdJQ0J0WkY5aWRXWmJhVjBnUFNBd1hHNGdJSDFjYmlBZ2NtVjBkWEp1SUh0Y2JpQWdJQ0JyWlhrNklHdGxlU3hjYmlBZ0lDQnBkam9nYVhaY2JpQWdmVnh1ZlZ4dUlsMTkiLCIndXNlIHN0cmljdCc7XG4vKlxuICogQSBKYXZhU2NyaXB0IGltcGxlbWVudGF0aW9uIG9mIHRoZSBSU0EgRGF0YSBTZWN1cml0eSwgSW5jLiBNRDUgTWVzc2FnZVxuICogRGlnZXN0IEFsZ29yaXRobSwgYXMgZGVmaW5lZCBpbiBSRkMgMTMyMS5cbiAqIFZlcnNpb24gMi4xIENvcHlyaWdodCAoQykgUGF1bCBKb2huc3RvbiAxOTk5IC0gMjAwMi5cbiAqIE90aGVyIGNvbnRyaWJ1dG9yczogR3JlZyBIb2x0LCBBbmRyZXcgS2VwZXJ0LCBZZG5hciwgTG9zdGluZXRcbiAqIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBCU0QgTGljZW5zZVxuICogU2VlIGh0dHA6Ly9wYWpob21lLm9yZy51ay9jcnlwdC9tZDUgZm9yIG1vcmUgaW5mby5cbiAqL1xuXG52YXIgaGVscGVycyA9IHJlcXVpcmUoJy4vaGVscGVycycpO1xuXG4vKlxuICogQ2FsY3VsYXRlIHRoZSBNRDUgb2YgYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3JkcywgYW5kIGEgYml0IGxlbmd0aFxuICovXG5mdW5jdGlvbiBjb3JlX21kNSh4LCBsZW4pXG57XG4gIC8qIGFwcGVuZCBwYWRkaW5nICovXG4gIHhbbGVuID4+IDVdIHw9IDB4ODAgPDwgKChsZW4pICUgMzIpO1xuICB4WygoKGxlbiArIDY0KSA+Pj4gOSkgPDwgNCkgKyAxNF0gPSBsZW47XG5cbiAgdmFyIGEgPSAgMTczMjU4NDE5MztcbiAgdmFyIGIgPSAtMjcxNzMzODc5O1xuICB2YXIgYyA9IC0xNzMyNTg0MTk0O1xuICB2YXIgZCA9ICAyNzE3MzM4Nzg7XG5cbiAgZm9yKHZhciBpID0gMDsgaSA8IHgubGVuZ3RoOyBpICs9IDE2KVxuICB7XG4gICAgdmFyIG9sZGEgPSBhO1xuICAgIHZhciBvbGRiID0gYjtcbiAgICB2YXIgb2xkYyA9IGM7XG4gICAgdmFyIG9sZGQgPSBkO1xuXG4gICAgYSA9IG1kNV9mZihhLCBiLCBjLCBkLCB4W2krIDBdLCA3ICwgLTY4MDg3NjkzNik7XG4gICAgZCA9IG1kNV9mZihkLCBhLCBiLCBjLCB4W2krIDFdLCAxMiwgLTM4OTU2NDU4Nik7XG4gICAgYyA9IG1kNV9mZihjLCBkLCBhLCBiLCB4W2krIDJdLCAxNywgIDYwNjEwNTgxOSk7XG4gICAgYiA9IG1kNV9mZihiLCBjLCBkLCBhLCB4W2krIDNdLCAyMiwgLTEwNDQ1MjUzMzApO1xuICAgIGEgPSBtZDVfZmYoYSwgYiwgYywgZCwgeFtpKyA0XSwgNyAsIC0xNzY0MTg4OTcpO1xuICAgIGQgPSBtZDVfZmYoZCwgYSwgYiwgYywgeFtpKyA1XSwgMTIsICAxMjAwMDgwNDI2KTtcbiAgICBjID0gbWQ1X2ZmKGMsIGQsIGEsIGIsIHhbaSsgNl0sIDE3LCAtMTQ3MzIzMTM0MSk7XG4gICAgYiA9IG1kNV9mZihiLCBjLCBkLCBhLCB4W2krIDddLCAyMiwgLTQ1NzA1OTgzKTtcbiAgICBhID0gbWQ1X2ZmKGEsIGIsIGMsIGQsIHhbaSsgOF0sIDcgLCAgMTc3MDAzNTQxNik7XG4gICAgZCA9IG1kNV9mZihkLCBhLCBiLCBjLCB4W2krIDldLCAxMiwgLTE5NTg0MTQ0MTcpO1xuICAgIGMgPSBtZDVfZmYoYywgZCwgYSwgYiwgeFtpKzEwXSwgMTcsIC00MjA2Myk7XG4gICAgYiA9IG1kNV9mZihiLCBjLCBkLCBhLCB4W2krMTFdLCAyMiwgLTE5OTA0MDQxNjIpO1xuICAgIGEgPSBtZDVfZmYoYSwgYiwgYywgZCwgeFtpKzEyXSwgNyAsICAxODA0NjAzNjgyKTtcbiAgICBkID0gbWQ1X2ZmKGQsIGEsIGIsIGMsIHhbaSsxM10sIDEyLCAtNDAzNDExMDEpO1xuICAgIGMgPSBtZDVfZmYoYywgZCwgYSwgYiwgeFtpKzE0XSwgMTcsIC0xNTAyMDAyMjkwKTtcbiAgICBiID0gbWQ1X2ZmKGIsIGMsIGQsIGEsIHhbaSsxNV0sIDIyLCAgMTIzNjUzNTMyOSk7XG5cbiAgICBhID0gbWQ1X2dnKGEsIGIsIGMsIGQsIHhbaSsgMV0sIDUgLCAtMTY1Nzk2NTEwKTtcbiAgICBkID0gbWQ1X2dnKGQsIGEsIGIsIGMsIHhbaSsgNl0sIDkgLCAtMTA2OTUwMTYzMik7XG4gICAgYyA9IG1kNV9nZyhjLCBkLCBhLCBiLCB4W2krMTFdLCAxNCwgIDY0MzcxNzcxMyk7XG4gICAgYiA9IG1kNV9nZyhiLCBjLCBkLCBhLCB4W2krIDBdLCAyMCwgLTM3Mzg5NzMwMik7XG4gICAgYSA9IG1kNV9nZyhhLCBiLCBjLCBkLCB4W2krIDVdLCA1ICwgLTcwMTU1ODY5MSk7XG4gICAgZCA9IG1kNV9nZyhkLCBhLCBiLCBjLCB4W2krMTBdLCA5ICwgIDM4MDE2MDgzKTtcbiAgICBjID0gbWQ1X2dnKGMsIGQsIGEsIGIsIHhbaSsxNV0sIDE0LCAtNjYwNDc4MzM1KTtcbiAgICBiID0gbWQ1X2dnKGIsIGMsIGQsIGEsIHhbaSsgNF0sIDIwLCAtNDA1NTM3ODQ4KTtcbiAgICBhID0gbWQ1X2dnKGEsIGIsIGMsIGQsIHhbaSsgOV0sIDUgLCAgNTY4NDQ2NDM4KTtcbiAgICBkID0gbWQ1X2dnKGQsIGEsIGIsIGMsIHhbaSsxNF0sIDkgLCAtMTAxOTgwMzY5MCk7XG4gICAgYyA9IG1kNV9nZyhjLCBkLCBhLCBiLCB4W2krIDNdLCAxNCwgLTE4NzM2Mzk2MSk7XG4gICAgYiA9IG1kNV9nZyhiLCBjLCBkLCBhLCB4W2krIDhdLCAyMCwgIDExNjM1MzE1MDEpO1xuICAgIGEgPSBtZDVfZ2coYSwgYiwgYywgZCwgeFtpKzEzXSwgNSAsIC0xNDQ0NjgxNDY3KTtcbiAgICBkID0gbWQ1X2dnKGQsIGEsIGIsIGMsIHhbaSsgMl0sIDkgLCAtNTE0MDM3ODQpO1xuICAgIGMgPSBtZDVfZ2coYywgZCwgYSwgYiwgeFtpKyA3XSwgMTQsICAxNzM1MzI4NDczKTtcbiAgICBiID0gbWQ1X2dnKGIsIGMsIGQsIGEsIHhbaSsxMl0sIDIwLCAtMTkyNjYwNzczNCk7XG5cbiAgICBhID0gbWQ1X2hoKGEsIGIsIGMsIGQsIHhbaSsgNV0sIDQgLCAtMzc4NTU4KTtcbiAgICBkID0gbWQ1X2hoKGQsIGEsIGIsIGMsIHhbaSsgOF0sIDExLCAtMjAyMjU3NDQ2Myk7XG4gICAgYyA9IG1kNV9oaChjLCBkLCBhLCBiLCB4W2krMTFdLCAxNiwgIDE4MzkwMzA1NjIpO1xuICAgIGIgPSBtZDVfaGgoYiwgYywgZCwgYSwgeFtpKzE0XSwgMjMsIC0zNTMwOTU1Nik7XG4gICAgYSA9IG1kNV9oaChhLCBiLCBjLCBkLCB4W2krIDFdLCA0ICwgLTE1MzA5OTIwNjApO1xuICAgIGQgPSBtZDVfaGgoZCwgYSwgYiwgYywgeFtpKyA0XSwgMTEsICAxMjcyODkzMzUzKTtcbiAgICBjID0gbWQ1X2hoKGMsIGQsIGEsIGIsIHhbaSsgN10sIDE2LCAtMTU1NDk3NjMyKTtcbiAgICBiID0gbWQ1X2hoKGIsIGMsIGQsIGEsIHhbaSsxMF0sIDIzLCAtMTA5NDczMDY0MCk7XG4gICAgYSA9IG1kNV9oaChhLCBiLCBjLCBkLCB4W2krMTNdLCA0ICwgIDY4MTI3OTE3NCk7XG4gICAgZCA9IG1kNV9oaChkLCBhLCBiLCBjLCB4W2krIDBdLCAxMSwgLTM1ODUzNzIyMik7XG4gICAgYyA9IG1kNV9oaChjLCBkLCBhLCBiLCB4W2krIDNdLCAxNiwgLTcyMjUyMTk3OSk7XG4gICAgYiA9IG1kNV9oaChiLCBjLCBkLCBhLCB4W2krIDZdLCAyMywgIDc2MDI5MTg5KTtcbiAgICBhID0gbWQ1X2hoKGEsIGIsIGMsIGQsIHhbaSsgOV0sIDQgLCAtNjQwMzY0NDg3KTtcbiAgICBkID0gbWQ1X2hoKGQsIGEsIGIsIGMsIHhbaSsxMl0sIDExLCAtNDIxODE1ODM1KTtcbiAgICBjID0gbWQ1X2hoKGMsIGQsIGEsIGIsIHhbaSsxNV0sIDE2LCAgNTMwNzQyNTIwKTtcbiAgICBiID0gbWQ1X2hoKGIsIGMsIGQsIGEsIHhbaSsgMl0sIDIzLCAtOTk1MzM4NjUxKTtcblxuICAgIGEgPSBtZDVfaWkoYSwgYiwgYywgZCwgeFtpKyAwXSwgNiAsIC0xOTg2MzA4NDQpO1xuICAgIGQgPSBtZDVfaWkoZCwgYSwgYiwgYywgeFtpKyA3XSwgMTAsICAxMTI2ODkxNDE1KTtcbiAgICBjID0gbWQ1X2lpKGMsIGQsIGEsIGIsIHhbaSsxNF0sIDE1LCAtMTQxNjM1NDkwNSk7XG4gICAgYiA9IG1kNV9paShiLCBjLCBkLCBhLCB4W2krIDVdLCAyMSwgLTU3NDM0MDU1KTtcbiAgICBhID0gbWQ1X2lpKGEsIGIsIGMsIGQsIHhbaSsxMl0sIDYgLCAgMTcwMDQ4NTU3MSk7XG4gICAgZCA9IG1kNV9paShkLCBhLCBiLCBjLCB4W2krIDNdLCAxMCwgLTE4OTQ5ODY2MDYpO1xuICAgIGMgPSBtZDVfaWkoYywgZCwgYSwgYiwgeFtpKzEwXSwgMTUsIC0xMDUxNTIzKTtcbiAgICBiID0gbWQ1X2lpKGIsIGMsIGQsIGEsIHhbaSsgMV0sIDIxLCAtMjA1NDkyMjc5OSk7XG4gICAgYSA9IG1kNV9paShhLCBiLCBjLCBkLCB4W2krIDhdLCA2ICwgIDE4NzMzMTMzNTkpO1xuICAgIGQgPSBtZDVfaWkoZCwgYSwgYiwgYywgeFtpKzE1XSwgMTAsIC0zMDYxMTc0NCk7XG4gICAgYyA9IG1kNV9paShjLCBkLCBhLCBiLCB4W2krIDZdLCAxNSwgLTE1NjAxOTgzODApO1xuICAgIGIgPSBtZDVfaWkoYiwgYywgZCwgYSwgeFtpKzEzXSwgMjEsICAxMzA5MTUxNjQ5KTtcbiAgICBhID0gbWQ1X2lpKGEsIGIsIGMsIGQsIHhbaSsgNF0sIDYgLCAtMTQ1NTIzMDcwKTtcbiAgICBkID0gbWQ1X2lpKGQsIGEsIGIsIGMsIHhbaSsxMV0sIDEwLCAtMTEyMDIxMDM3OSk7XG4gICAgYyA9IG1kNV9paShjLCBkLCBhLCBiLCB4W2krIDJdLCAxNSwgIDcxODc4NzI1OSk7XG4gICAgYiA9IG1kNV9paShiLCBjLCBkLCBhLCB4W2krIDldLCAyMSwgLTM0MzQ4NTU1MSk7XG5cbiAgICBhID0gc2FmZV9hZGQoYSwgb2xkYSk7XG4gICAgYiA9IHNhZmVfYWRkKGIsIG9sZGIpO1xuICAgIGMgPSBzYWZlX2FkZChjLCBvbGRjKTtcbiAgICBkID0gc2FmZV9hZGQoZCwgb2xkZCk7XG4gIH1cbiAgcmV0dXJuIEFycmF5KGEsIGIsIGMsIGQpO1xuXG59XG5cbi8qXG4gKiBUaGVzZSBmdW5jdGlvbnMgaW1wbGVtZW50IHRoZSBmb3VyIGJhc2ljIG9wZXJhdGlvbnMgdGhlIGFsZ29yaXRobSB1c2VzLlxuICovXG5mdW5jdGlvbiBtZDVfY21uKHEsIGEsIGIsIHgsIHMsIHQpXG57XG4gIHJldHVybiBzYWZlX2FkZChiaXRfcm9sKHNhZmVfYWRkKHNhZmVfYWRkKGEsIHEpLCBzYWZlX2FkZCh4LCB0KSksIHMpLGIpO1xufVxuZnVuY3Rpb24gbWQ1X2ZmKGEsIGIsIGMsIGQsIHgsIHMsIHQpXG57XG4gIHJldHVybiBtZDVfY21uKChiICYgYykgfCAoKH5iKSAmIGQpLCBhLCBiLCB4LCBzLCB0KTtcbn1cbmZ1bmN0aW9uIG1kNV9nZyhhLCBiLCBjLCBkLCB4LCBzLCB0KVxue1xuICByZXR1cm4gbWQ1X2NtbigoYiAmIGQpIHwgKGMgJiAofmQpKSwgYSwgYiwgeCwgcywgdCk7XG59XG5mdW5jdGlvbiBtZDVfaGgoYSwgYiwgYywgZCwgeCwgcywgdClcbntcbiAgcmV0dXJuIG1kNV9jbW4oYiBeIGMgXiBkLCBhLCBiLCB4LCBzLCB0KTtcbn1cbmZ1bmN0aW9uIG1kNV9paShhLCBiLCBjLCBkLCB4LCBzLCB0KVxue1xuICByZXR1cm4gbWQ1X2NtbihjIF4gKGIgfCAofmQpKSwgYSwgYiwgeCwgcywgdCk7XG59XG5cbi8qXG4gKiBBZGQgaW50ZWdlcnMsIHdyYXBwaW5nIGF0IDJeMzIuIFRoaXMgdXNlcyAxNi1iaXQgb3BlcmF0aW9ucyBpbnRlcm5hbGx5XG4gKiB0byB3b3JrIGFyb3VuZCBidWdzIGluIHNvbWUgSlMgaW50ZXJwcmV0ZXJzLlxuICovXG5mdW5jdGlvbiBzYWZlX2FkZCh4LCB5KVxue1xuICB2YXIgbHN3ID0gKHggJiAweEZGRkYpICsgKHkgJiAweEZGRkYpO1xuICB2YXIgbXN3ID0gKHggPj4gMTYpICsgKHkgPj4gMTYpICsgKGxzdyA+PiAxNik7XG4gIHJldHVybiAobXN3IDw8IDE2KSB8IChsc3cgJiAweEZGRkYpO1xufVxuXG4vKlxuICogQml0d2lzZSByb3RhdGUgYSAzMi1iaXQgbnVtYmVyIHRvIHRoZSBsZWZ0LlxuICovXG5mdW5jdGlvbiBiaXRfcm9sKG51bSwgY250KVxue1xuICByZXR1cm4gKG51bSA8PCBjbnQpIHwgKG51bSA+Pj4gKDMyIC0gY250KSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWQ1KGJ1Zikge1xuICByZXR1cm4gaGVscGVycy5oYXNoKGJ1ZiwgY29yZV9tZDUsIDE2KTtcbn07IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xuJ3VzZSBzdHJpY3QnO1xudmFyIGludFNpemUgPSA0O1xudmFyIHplcm9CdWZmZXIgPSBuZXcgQnVmZmVyKGludFNpemUpOyB6ZXJvQnVmZmVyLmZpbGwoMCk7XG52YXIgY2hyc3ogPSA4O1xuXG5mdW5jdGlvbiB0b0FycmF5KGJ1ZiwgYmlnRW5kaWFuKSB7XG4gIGlmICgoYnVmLmxlbmd0aCAlIGludFNpemUpICE9PSAwKSB7XG4gICAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGggKyAoaW50U2l6ZSAtIChidWYubGVuZ3RoICUgaW50U2l6ZSkpO1xuICAgIGJ1ZiA9IEJ1ZmZlci5jb25jYXQoW2J1ZiwgemVyb0J1ZmZlcl0sIGxlbik7XG4gIH1cblxuICB2YXIgYXJyID0gW107XG4gIHZhciBmbiA9IGJpZ0VuZGlhbiA/IGJ1Zi5yZWFkSW50MzJCRSA6IGJ1Zi5yZWFkSW50MzJMRTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWYubGVuZ3RoOyBpICs9IGludFNpemUpIHtcbiAgICBhcnIucHVzaChmbi5jYWxsKGJ1ZiwgaSkpO1xuICB9XG4gIHJldHVybiBhcnI7XG59XG5cbmZ1bmN0aW9uIHRvQnVmZmVyKGFyciwgc2l6ZSwgYmlnRW5kaWFuKSB7XG4gIHZhciBidWYgPSBuZXcgQnVmZmVyKHNpemUpO1xuICB2YXIgZm4gPSBiaWdFbmRpYW4gPyBidWYud3JpdGVJbnQzMkJFIDogYnVmLndyaXRlSW50MzJMRTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBmbi5jYWxsKGJ1ZiwgYXJyW2ldLCBpICogNCwgdHJ1ZSk7XG4gIH1cbiAgcmV0dXJuIGJ1Zjtcbn1cblxuZnVuY3Rpb24gaGFzaChidWYsIGZuLCBoYXNoU2l6ZSwgYmlnRW5kaWFuKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIGJ1ZiA9IG5ldyBCdWZmZXIoYnVmKTtcbiAgdmFyIGFyciA9IGZuKHRvQXJyYXkoYnVmLCBiaWdFbmRpYW4pLCBidWYubGVuZ3RoICogY2hyc3opO1xuICByZXR1cm4gdG9CdWZmZXIoYXJyLCBoYXNoU2l6ZSwgYmlnRW5kaWFuKTtcbn1cbmV4cG9ydHMuaGFzaCA9IGhhc2g7XG59KS5jYWxsKHRoaXMscmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIpXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUwyNXZaR1ZmYlc5a2RXeGxjeTlqY25sd2RHOHRZbkp2ZDNObGNtbG1lUzl1YjJSbFgyMXZaSFZzWlhNdlkzSmxZWFJsTFdoaGMyZ3ZhR1ZzY0dWeWN5NXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPMEZCUVVFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRWlMQ0ptYVd4bElqb2laMlZ1WlhKaGRHVmtMbXB6SWl3aWMyOTFjbU5sVW05dmRDSTZJaUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSWlkMWMyVWdjM1J5YVdOMEp6dGNiblpoY2lCcGJuUlRhWHBsSUQwZ05EdGNiblpoY2lCNlpYSnZRblZtWm1WeUlEMGdibVYzSUVKMVptWmxjaWhwYm5SVGFYcGxLVHNnZW1WeWIwSjFabVpsY2k1bWFXeHNLREFwTzF4dWRtRnlJR05vY25ONklEMGdPRHRjYmx4dVpuVnVZM1JwYjI0Z2RHOUJjbkpoZVNoaWRXWXNJR0pwWjBWdVpHbGhiaWtnZTF4dUlDQnBaaUFvS0dKMVppNXNaVzVuZEdnZ0pTQnBiblJUYVhwbEtTQWhQVDBnTUNrZ2UxeHVJQ0FnSUhaaGNpQnNaVzRnUFNCaWRXWXViR1Z1WjNSb0lDc2dLR2x1ZEZOcGVtVWdMU0FvWW5WbUxteGxibWQwYUNBbElHbHVkRk5wZW1VcEtUdGNiaUFnSUNCaWRXWWdQU0JDZFdabVpYSXVZMjl1WTJGMEtGdGlkV1lzSUhwbGNtOUNkV1ptWlhKZExDQnNaVzRwTzF4dUlDQjlYRzVjYmlBZ2RtRnlJR0Z5Y2lBOUlGdGRPMXh1SUNCMllYSWdabTRnUFNCaWFXZEZibVJwWVc0Z1B5QmlkV1l1Y21WaFpFbHVkRE15UWtVZ09pQmlkV1l1Y21WaFpFbHVkRE15VEVVN1hHNGdJR1p2Y2lBb2RtRnlJR2tnUFNBd095QnBJRHdnWW5WbUxteGxibWQwYURzZ2FTQXJQU0JwYm5SVGFYcGxLU0I3WEc0Z0lDQWdZWEp5TG5CMWMyZ29abTR1WTJGc2JDaGlkV1lzSUdrcEtUdGNiaUFnZlZ4dUlDQnlaWFIxY200Z1lYSnlPMXh1ZlZ4dVhHNW1kVzVqZEdsdmJpQjBiMEoxWm1abGNpaGhjbklzSUhOcGVtVXNJR0pwWjBWdVpHbGhiaWtnZTF4dUlDQjJZWElnWW5WbUlEMGdibVYzSUVKMVptWmxjaWh6YVhwbEtUdGNiaUFnZG1GeUlHWnVJRDBnWW1sblJXNWthV0Z1SUQ4Z1luVm1MbmR5YVhSbFNXNTBNekpDUlNBNklHSjFaaTUzY21sMFpVbHVkRE15VEVVN1hHNGdJR1p2Y2lBb2RtRnlJR2tnUFNBd095QnBJRHdnWVhKeUxteGxibWQwYURzZ2FTc3JLU0I3WEc0Z0lDQWdabTR1WTJGc2JDaGlkV1lzSUdGeWNsdHBYU3dnYVNBcUlEUXNJSFJ5ZFdVcE8xeHVJQ0I5WEc0Z0lISmxkSFZ5YmlCaWRXWTdYRzU5WEc1Y2JtWjFibU4wYVc5dUlHaGhjMmdvWW5WbUxDQm1iaXdnYUdGemFGTnBlbVVzSUdKcFowVnVaR2xoYmlrZ2UxeHVJQ0JwWmlBb0lVSjFabVpsY2k1cGMwSjFabVpsY2loaWRXWXBLU0JpZFdZZ1BTQnVaWGNnUW5WbVptVnlLR0oxWmlrN1hHNGdJSFpoY2lCaGNuSWdQU0JtYmloMGIwRnljbUY1S0dKMVppd2dZbWxuUlc1a2FXRnVLU3dnWW5WbUxteGxibWQwYUNBcUlHTm9jbk42S1R0Y2JpQWdjbVYwZFhKdUlIUnZRblZtWm1WeUtHRnljaXdnYUdGemFGTnBlbVVzSUdKcFowVnVaR2xoYmlrN1hHNTlYRzVsZUhCdmNuUnpMbWhoYzJnZ1BTQm9ZWE5vT3lKZGZRPT0iLCIoZnVuY3Rpb24gKEJ1ZmZlcil7XG52YXIgYWVzID0gcmVxdWlyZSgnLi9hZXMnKVxudmFyIFRyYW5zZm9ybSA9IHJlcXVpcmUoJ2NpcGhlci1iYXNlJylcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcblxuaW5oZXJpdHMoU3RyZWFtQ2lwaGVyLCBUcmFuc2Zvcm0pXG5tb2R1bGUuZXhwb3J0cyA9IFN0cmVhbUNpcGhlclxuZnVuY3Rpb24gU3RyZWFtQ2lwaGVyIChtb2RlLCBrZXksIGl2LCBkZWNyeXB0KSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTdHJlYW1DaXBoZXIpKSB7XG4gICAgcmV0dXJuIG5ldyBTdHJlYW1DaXBoZXIobW9kZSwga2V5LCBpdilcbiAgfVxuICBUcmFuc2Zvcm0uY2FsbCh0aGlzKVxuICB0aGlzLl9jaXBoZXIgPSBuZXcgYWVzLkFFUyhrZXkpXG4gIHRoaXMuX3ByZXYgPSBuZXcgQnVmZmVyKGl2Lmxlbmd0aClcbiAgdGhpcy5fY2FjaGUgPSBuZXcgQnVmZmVyKCcnKVxuICB0aGlzLl9zZWNDYWNoZSA9IG5ldyBCdWZmZXIoJycpXG4gIHRoaXMuX2RlY3J5cHQgPSBkZWNyeXB0XG4gIGl2LmNvcHkodGhpcy5fcHJldilcbiAgdGhpcy5fbW9kZSA9IG1vZGVcbn1cblN0cmVhbUNpcGhlci5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uIChjaHVuaykge1xuICByZXR1cm4gdGhpcy5fbW9kZS5lbmNyeXB0KHRoaXMsIGNodW5rLCB0aGlzLl9kZWNyeXB0KVxufVxuU3RyZWFtQ2lwaGVyLnByb3RvdHlwZS5fZmluYWwgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuX2NpcGhlci5zY3J1YigpXG59XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12WW5KdmQzTmxjbWxtZVMxamFYQm9aWEl2Ym05a1pWOXRiMlIxYkdWekwySnliM2R6WlhKcFpua3RZV1Z6TDNOMGNtVmhiVU5wY0dobGNpNXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPMEZCUVVFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVNJc0ltWnBiR1VpT2lKblpXNWxjbUYwWldRdWFuTWlMQ0p6YjNWeVkyVlNiMjkwSWpvaUlpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2lkbUZ5SUdGbGN5QTlJSEpsY1hWcGNtVW9KeTR2WVdWekp5bGNiblpoY2lCVWNtRnVjMlp2Y20wZ1BTQnlaWEYxYVhKbEtDZGphWEJvWlhJdFltRnpaU2NwWEc1MllYSWdhVzVvWlhKcGRITWdQU0J5WlhGMWFYSmxLQ2RwYm1obGNtbDBjeWNwWEc1Y2JtbHVhR1Z5YVhSektGTjBjbVZoYlVOcGNHaGxjaXdnVkhKaGJuTm1iM0p0S1Z4dWJXOWtkV3hsTG1WNGNHOXlkSE1nUFNCVGRISmxZVzFEYVhCb1pYSmNibVoxYm1OMGFXOXVJRk4wY21WaGJVTnBjR2hsY2lBb2JXOWtaU3dnYTJWNUxDQnBkaXdnWkdWamNubHdkQ2tnZTF4dUlDQnBaaUFvSVNoMGFHbHpJR2x1YzNSaGJtTmxiMllnVTNSeVpXRnRRMmx3YUdWeUtTa2dlMXh1SUNBZ0lISmxkSFZ5YmlCdVpYY2dVM1J5WldGdFEybHdhR1Z5S0cxdlpHVXNJR3RsZVN3Z2FYWXBYRzRnSUgxY2JpQWdWSEpoYm5ObWIzSnRMbU5oYkd3b2RHaHBjeWxjYmlBZ2RHaHBjeTVmWTJsd2FHVnlJRDBnYm1WM0lHRmxjeTVCUlZNb2EyVjVLVnh1SUNCMGFHbHpMbDl3Y21WMklEMGdibVYzSUVKMVptWmxjaWhwZGk1c1pXNW5kR2dwWEc0Z0lIUm9hWE11WDJOaFkyaGxJRDBnYm1WM0lFSjFabVpsY2lnbkp5bGNiaUFnZEdocGN5NWZjMlZqUTJGamFHVWdQU0J1WlhjZ1FuVm1abVZ5S0NjbktWeHVJQ0IwYUdsekxsOWtaV055ZVhCMElEMGdaR1ZqY25sd2RGeHVJQ0JwZGk1amIzQjVLSFJvYVhNdVgzQnlaWFlwWEc0Z0lIUm9hWE11WDIxdlpHVWdQU0J0YjJSbFhHNTlYRzVUZEhKbFlXMURhWEJvWlhJdWNISnZkRzkwZVhCbExsOTFjR1JoZEdVZ1BTQm1kVzVqZEdsdmJpQW9ZMmgxYm1zcElIdGNiaUFnY21WMGRYSnVJSFJvYVhNdVgyMXZaR1V1Wlc1amNubHdkQ2gwYUdsekxDQmphSFZ1YXl3Z2RHaHBjeTVmWkdWamNubHdkQ2xjYm4xY2JsTjBjbVZoYlVOcGNHaGxjaTV3Y205MGIzUjVjR1V1WDJacGJtRnNJRDBnWm5WdVkzUnBiMjRnS0NrZ2UxeHVJQ0IwYUdsekxsOWphWEJvWlhJdWMyTnlkV0lvS1Z4dWZWeHVJbDE5IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xudmFyIHhvciA9IHJlcXVpcmUoJ2J1ZmZlci14b3InKVxuXG5mdW5jdGlvbiBnZXRCbG9jayAoc2VsZikge1xuICBzZWxmLl9wcmV2ID0gc2VsZi5fY2lwaGVyLmVuY3J5cHRCbG9jayhzZWxmLl9wcmV2KVxuICByZXR1cm4gc2VsZi5fcHJldlxufVxuXG5leHBvcnRzLmVuY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgY2h1bmspIHtcbiAgd2hpbGUgKHNlbGYuX2NhY2hlLmxlbmd0aCA8IGNodW5rLmxlbmd0aCkge1xuICAgIHNlbGYuX2NhY2hlID0gQnVmZmVyLmNvbmNhdChbc2VsZi5fY2FjaGUsIGdldEJsb2NrKHNlbGYpXSlcbiAgfVxuXG4gIHZhciBwYWQgPSBzZWxmLl9jYWNoZS5zbGljZSgwLCBjaHVuay5sZW5ndGgpXG4gIHNlbGYuX2NhY2hlID0gc2VsZi5fY2FjaGUuc2xpY2UoY2h1bmsubGVuZ3RoKVxuICByZXR1cm4geG9yKGNodW5rLCBwYWQpXG59XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12WW5KdmQzTmxjbWxtZVMxamFYQm9aWEl2Ym05a1pWOXRiMlIxYkdWekwySnliM2R6WlhKcFpua3RZV1Z6TDIxdlpHVnpMMjltWWk1cWN5SmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaU8wRkJRVUU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRU0lzSW1acGJHVWlPaUpuWlc1bGNtRjBaV1F1YW5NaUxDSnpiM1Z5WTJWU2IyOTBJam9pSWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaWRtRnlJSGh2Y2lBOUlISmxjWFZwY21Vb0oySjFabVpsY2kxNGIzSW5LVnh1WEc1bWRXNWpkR2x2YmlCblpYUkNiRzlqYXlBb2MyVnNaaWtnZTF4dUlDQnpaV3htTGw5d2NtVjJJRDBnYzJWc1ppNWZZMmx3YUdWeUxtVnVZM0o1Y0hSQ2JHOWpheWh6Wld4bUxsOXdjbVYyS1Z4dUlDQnlaWFIxY200Z2MyVnNaaTVmY0hKbGRseHVmVnh1WEc1bGVIQnZjblJ6TG1WdVkzSjVjSFFnUFNCbWRXNWpkR2x2YmlBb2MyVnNaaXdnWTJoMWJtc3BJSHRjYmlBZ2QyaHBiR1VnS0hObGJHWXVYMk5oWTJobExteGxibWQwYUNBOElHTm9kVzVyTG14bGJtZDBhQ2tnZTF4dUlDQWdJSE5sYkdZdVgyTmhZMmhsSUQwZ1FuVm1abVZ5TG1OdmJtTmhkQ2hiYzJWc1ppNWZZMkZqYUdVc0lHZGxkRUpzYjJOcktITmxiR1lwWFNsY2JpQWdmVnh1WEc0Z0lIWmhjaUJ3WVdRZ1BTQnpaV3htTGw5allXTm9aUzV6YkdsalpTZ3dMQ0JqYUhWdWF5NXNaVzVuZEdncFhHNGdJSE5sYkdZdVgyTmhZMmhsSUQwZ2MyVnNaaTVmWTJGamFHVXVjMnhwWTJVb1kyaDFibXN1YkdWdVozUm9LVnh1SUNCeVpYUjFjbTRnZUc5eUtHTm9kVzVyTENCd1lXUXBYRzU5WEc0aVhYMD0iLCJleHBvcnRzLmVuY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgYmxvY2spIHtcbiAgcmV0dXJuIHNlbGYuX2NpcGhlci5lbmNyeXB0QmxvY2soYmxvY2spXG59XG5leHBvcnRzLmRlY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgYmxvY2spIHtcbiAgcmV0dXJuIHNlbGYuX2NpcGhlci5kZWNyeXB0QmxvY2soYmxvY2spXG59XG4iLCIoZnVuY3Rpb24gKEJ1ZmZlcil7XG52YXIgeG9yID0gcmVxdWlyZSgnYnVmZmVyLXhvcicpXG5cbmZ1bmN0aW9uIGluY3IzMiAoaXYpIHtcbiAgdmFyIGxlbiA9IGl2Lmxlbmd0aFxuICB2YXIgaXRlbVxuICB3aGlsZSAobGVuLS0pIHtcbiAgICBpdGVtID0gaXYucmVhZFVJbnQ4KGxlbilcbiAgICBpZiAoaXRlbSA9PT0gMjU1KSB7XG4gICAgICBpdi53cml0ZVVJbnQ4KDAsIGxlbilcbiAgICB9IGVsc2Uge1xuICAgICAgaXRlbSsrXG4gICAgICBpdi53cml0ZVVJbnQ4KGl0ZW0sIGxlbilcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldEJsb2NrIChzZWxmKSB7XG4gIHZhciBvdXQgPSBzZWxmLl9jaXBoZXIuZW5jcnlwdEJsb2NrKHNlbGYuX3ByZXYpXG4gIGluY3IzMihzZWxmLl9wcmV2KVxuICByZXR1cm4gb3V0XG59XG5cbmV4cG9ydHMuZW5jcnlwdCA9IGZ1bmN0aW9uIChzZWxmLCBjaHVuaykge1xuICB3aGlsZSAoc2VsZi5fY2FjaGUubGVuZ3RoIDwgY2h1bmsubGVuZ3RoKSB7XG4gICAgc2VsZi5fY2FjaGUgPSBCdWZmZXIuY29uY2F0KFtzZWxmLl9jYWNoZSwgZ2V0QmxvY2soc2VsZildKVxuICB9XG4gIHZhciBwYWQgPSBzZWxmLl9jYWNoZS5zbGljZSgwLCBjaHVuay5sZW5ndGgpXG4gIHNlbGYuX2NhY2hlID0gc2VsZi5fY2FjaGUuc2xpY2UoY2h1bmsubGVuZ3RoKVxuICByZXR1cm4geG9yKGNodW5rLCBwYWQpXG59XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12WW5KdmQzTmxjbWxtZVMxamFYQm9aWEl2Ym05a1pWOXRiMlIxYkdWekwySnliM2R6WlhKcFpua3RZV1Z6TDIxdlpHVnpMMk4wY2k1cWN5SmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaU8wRkJRVUU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVNJc0ltWnBiR1VpT2lKblpXNWxjbUYwWldRdWFuTWlMQ0p6YjNWeVkyVlNiMjkwSWpvaUlpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2lkbUZ5SUhodmNpQTlJSEpsY1hWcGNtVW9KMkoxWm1abGNpMTRiM0luS1Z4dVhHNW1kVzVqZEdsdmJpQnBibU55TXpJZ0tHbDJLU0I3WEc0Z0lIWmhjaUJzWlc0Z1BTQnBkaTVzWlc1bmRHaGNiaUFnZG1GeUlHbDBaVzFjYmlBZ2QyaHBiR1VnS0d4bGJpMHRLU0I3WEc0Z0lDQWdhWFJsYlNBOUlHbDJMbkpsWVdSVlNXNTBPQ2hzWlc0cFhHNGdJQ0FnYVdZZ0tHbDBaVzBnUFQwOUlESTFOU2tnZTF4dUlDQWdJQ0FnYVhZdWQzSnBkR1ZWU1c1ME9DZ3dMQ0JzWlc0cFhHNGdJQ0FnZlNCbGJITmxJSHRjYmlBZ0lDQWdJR2wwWlcwcksxeHVJQ0FnSUNBZ2FYWXVkM0pwZEdWVlNXNTBPQ2hwZEdWdExDQnNaVzRwWEc0Z0lDQWdJQ0JpY21WaGExeHVJQ0FnSUgxY2JpQWdmVnh1ZlZ4dVhHNW1kVzVqZEdsdmJpQm5aWFJDYkc5amF5QW9jMlZzWmlrZ2UxeHVJQ0IyWVhJZ2IzVjBJRDBnYzJWc1ppNWZZMmx3YUdWeUxtVnVZM0o1Y0hSQ2JHOWpheWh6Wld4bUxsOXdjbVYyS1Z4dUlDQnBibU55TXpJb2MyVnNaaTVmY0hKbGRpbGNiaUFnY21WMGRYSnVJRzkxZEZ4dWZWeHVYRzVsZUhCdmNuUnpMbVZ1WTNKNWNIUWdQU0JtZFc1amRHbHZiaUFvYzJWc1ppd2dZMmgxYm1zcElIdGNiaUFnZDJocGJHVWdLSE5sYkdZdVgyTmhZMmhsTG14bGJtZDBhQ0E4SUdOb2RXNXJMbXhsYm1kMGFDa2dlMXh1SUNBZ0lITmxiR1l1WDJOaFkyaGxJRDBnUW5WbVptVnlMbU52Ym1OaGRDaGJjMlZzWmk1ZlkyRmphR1VzSUdkbGRFSnNiMk5yS0hObGJHWXBYU2xjYmlBZ2ZWeHVJQ0IyWVhJZ2NHRmtJRDBnYzJWc1ppNWZZMkZqYUdVdWMyeHBZMlVvTUN3Z1kyaDFibXN1YkdWdVozUm9LVnh1SUNCelpXeG1MbDlqWVdOb1pTQTlJSE5sYkdZdVgyTmhZMmhsTG5Oc2FXTmxLR05vZFc1ckxteGxibWQwYUNsY2JpQWdjbVYwZFhKdUlIaHZjaWhqYUhWdWF5d2djR0ZrS1Z4dWZWeHVJbDE5IiwiKGZ1bmN0aW9uIChCdWZmZXIpe1xuZnVuY3Rpb24gZW5jcnlwdEJ5dGUgKHNlbGYsIGJ5dGVQYXJhbSwgZGVjcnlwdCkge1xuICB2YXIgcGFkID0gc2VsZi5fY2lwaGVyLmVuY3J5cHRCbG9jayhzZWxmLl9wcmV2KVxuICB2YXIgb3V0ID0gcGFkWzBdIF4gYnl0ZVBhcmFtXG4gIHNlbGYuX3ByZXYgPSBCdWZmZXIuY29uY2F0KFtzZWxmLl9wcmV2LnNsaWNlKDEpLCBuZXcgQnVmZmVyKFtkZWNyeXB0ID8gYnl0ZVBhcmFtIDogb3V0XSldKVxuICByZXR1cm4gb3V0XG59XG5leHBvcnRzLmVuY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgY2h1bmssIGRlY3J5cHQpIHtcbiAgdmFyIGxlbiA9IGNodW5rLmxlbmd0aFxuICB2YXIgb3V0ID0gbmV3IEJ1ZmZlcihsZW4pXG4gIHZhciBpID0gLTFcbiAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgIG91dFtpXSA9IGVuY3J5cHRCeXRlKHNlbGYsIGNodW5rW2ldLCBkZWNyeXB0KVxuICB9XG4gIHJldHVybiBvdXRcbn1cblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZZbkp2ZDNObGNtbG1lUzFqYVhCb1pYSXZibTlrWlY5dGIyUjFiR1Z6TDJKeWIzZHpaWEpwWm5rdFlXVnpMMjF2WkdWekwyTm1Zamd1YW5NaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWp0QlFVRkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CSWl3aVptbHNaU0k2SW1kbGJtVnlZWFJsWkM1cWN5SXNJbk52ZFhKalpWSnZiM1FpT2lJaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNld5Sm1kVzVqZEdsdmJpQmxibU55ZVhCMFFubDBaU0FvYzJWc1ppd2dZbmwwWlZCaGNtRnRMQ0JrWldOeWVYQjBLU0I3WEc0Z0lIWmhjaUJ3WVdRZ1BTQnpaV3htTGw5amFYQm9aWEl1Wlc1amNubHdkRUpzYjJOcktITmxiR1l1WDNCeVpYWXBYRzRnSUhaaGNpQnZkWFFnUFNCd1lXUmJNRjBnWGlCaWVYUmxVR0Z5WVcxY2JpQWdjMlZzWmk1ZmNISmxkaUE5SUVKMVptWmxjaTVqYjI1allYUW9XM05sYkdZdVgzQnlaWFl1YzJ4cFkyVW9NU2tzSUc1bGR5QkNkV1ptWlhJb1cyUmxZM0o1Y0hRZ1B5QmllWFJsVUdGeVlXMGdPaUJ2ZFhSZEtWMHBYRzRnSUhKbGRIVnliaUJ2ZFhSY2JuMWNibVY0Y0c5eWRITXVaVzVqY25sd2RDQTlJR1oxYm1OMGFXOXVJQ2h6Wld4bUxDQmphSFZ1YXl3Z1pHVmpjbmx3ZENrZ2UxeHVJQ0IyWVhJZ2JHVnVJRDBnWTJoMWJtc3ViR1Z1WjNSb1hHNGdJSFpoY2lCdmRYUWdQU0J1WlhjZ1FuVm1abVZ5S0d4bGJpbGNiaUFnZG1GeUlHa2dQU0F0TVZ4dUlDQjNhR2xzWlNBb0t5dHBJRHdnYkdWdUtTQjdYRzRnSUNBZ2IzVjBXMmxkSUQwZ1pXNWpjbmx3ZEVKNWRHVW9jMlZzWml3Z1kyaDFibXRiYVYwc0lHUmxZM0o1Y0hRcFhHNGdJSDFjYmlBZ2NtVjBkWEp1SUc5MWRGeHVmVnh1SWwxOSIsIihmdW5jdGlvbiAoQnVmZmVyKXtcbmZ1bmN0aW9uIGVuY3J5cHRCeXRlIChzZWxmLCBieXRlUGFyYW0sIGRlY3J5cHQpIHtcbiAgdmFyIHBhZFxuICB2YXIgaSA9IC0xXG4gIHZhciBsZW4gPSA4XG4gIHZhciBvdXQgPSAwXG4gIHZhciBiaXQsIHZhbHVlXG4gIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICBwYWQgPSBzZWxmLl9jaXBoZXIuZW5jcnlwdEJsb2NrKHNlbGYuX3ByZXYpXG4gICAgYml0ID0gKGJ5dGVQYXJhbSAmICgxIDw8ICg3IC0gaSkpKSA/IDB4ODAgOiAwXG4gICAgdmFsdWUgPSBwYWRbMF0gXiBiaXRcbiAgICBvdXQgKz0gKCh2YWx1ZSAmIDB4ODApID4+IChpICUgOCkpXG4gICAgc2VsZi5fcHJldiA9IHNoaWZ0SW4oc2VsZi5fcHJldiwgZGVjcnlwdCA/IGJpdCA6IHZhbHVlKVxuICB9XG4gIHJldHVybiBvdXRcbn1cbmV4cG9ydHMuZW5jcnlwdCA9IGZ1bmN0aW9uIChzZWxmLCBjaHVuaywgZGVjcnlwdCkge1xuICB2YXIgbGVuID0gY2h1bmsubGVuZ3RoXG4gIHZhciBvdXQgPSBuZXcgQnVmZmVyKGxlbilcbiAgdmFyIGkgPSAtMVxuICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgb3V0W2ldID0gZW5jcnlwdEJ5dGUoc2VsZiwgY2h1bmtbaV0sIGRlY3J5cHQpXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuZnVuY3Rpb24gc2hpZnRJbiAoYnVmZmVyLCB2YWx1ZSkge1xuICB2YXIgbGVuID0gYnVmZmVyLmxlbmd0aFxuICB2YXIgaSA9IC0xXG4gIHZhciBvdXQgPSBuZXcgQnVmZmVyKGJ1ZmZlci5sZW5ndGgpXG4gIGJ1ZmZlciA9IEJ1ZmZlci5jb25jYXQoW2J1ZmZlciwgbmV3IEJ1ZmZlcihbdmFsdWVdKV0pXG4gIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICBvdXRbaV0gPSBidWZmZXJbaV0gPDwgMSB8IGJ1ZmZlcltpICsgMV0gPj4gKDcpXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIpXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUwyNXZaR1ZmYlc5a2RXeGxjeTlqY25sd2RHOHRZbkp2ZDNObGNtbG1lUzl1YjJSbFgyMXZaSFZzWlhNdlluSnZkM05sY21sbWVTMWphWEJvWlhJdmJtOWtaVjl0YjJSMWJHVnpMMkp5YjNkelpYSnBabmt0WVdWekwyMXZaR1Z6TDJObVlqRXVhbk1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJanRCUVVGQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFaUxDSm1hV3hsSWpvaVoyVnVaWEpoZEdWa0xtcHpJaXdpYzI5MWNtTmxVbTl2ZENJNklpSXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJbVoxYm1OMGFXOXVJR1Z1WTNKNWNIUkNlWFJsSUNoelpXeG1MQ0JpZVhSbFVHRnlZVzBzSUdSbFkzSjVjSFFwSUh0Y2JpQWdkbUZ5SUhCaFpGeHVJQ0IyWVhJZ2FTQTlJQzB4WEc0Z0lIWmhjaUJzWlc0Z1BTQTRYRzRnSUhaaGNpQnZkWFFnUFNBd1hHNGdJSFpoY2lCaWFYUXNJSFpoYkhWbFhHNGdJSGRvYVd4bElDZ3JLMmtnUENCc1pXNHBJSHRjYmlBZ0lDQndZV1FnUFNCelpXeG1MbDlqYVhCb1pYSXVaVzVqY25sd2RFSnNiMk5yS0hObGJHWXVYM0J5WlhZcFhHNGdJQ0FnWW1sMElEMGdLR0o1ZEdWUVlYSmhiU0FtSUNneElEdzhJQ2czSUMwZ2FTa3BLU0EvSURCNE9EQWdPaUF3WEc0Z0lDQWdkbUZzZFdVZ1BTQndZV1JiTUYwZ1hpQmlhWFJjYmlBZ0lDQnZkWFFnS3owZ0tDaDJZV3gxWlNBbUlEQjRPREFwSUQ0K0lDaHBJQ1VnT0NrcFhHNGdJQ0FnYzJWc1ppNWZjSEpsZGlBOUlITm9hV1owU1c0b2MyVnNaaTVmY0hKbGRpd2daR1ZqY25sd2RDQS9JR0pwZENBNklIWmhiSFZsS1Z4dUlDQjlYRzRnSUhKbGRIVnliaUJ2ZFhSY2JuMWNibVY0Y0c5eWRITXVaVzVqY25sd2RDQTlJR1oxYm1OMGFXOXVJQ2h6Wld4bUxDQmphSFZ1YXl3Z1pHVmpjbmx3ZENrZ2UxeHVJQ0IyWVhJZ2JHVnVJRDBnWTJoMWJtc3ViR1Z1WjNSb1hHNGdJSFpoY2lCdmRYUWdQU0J1WlhjZ1FuVm1abVZ5S0d4bGJpbGNiaUFnZG1GeUlHa2dQU0F0TVZ4dUlDQjNhR2xzWlNBb0t5dHBJRHdnYkdWdUtTQjdYRzRnSUNBZ2IzVjBXMmxkSUQwZ1pXNWpjbmx3ZEVKNWRHVW9jMlZzWml3Z1kyaDFibXRiYVYwc0lHUmxZM0o1Y0hRcFhHNGdJSDFjYmlBZ2NtVjBkWEp1SUc5MWRGeHVmVnh1Wm5WdVkzUnBiMjRnYzJocFpuUkpiaUFvWW5WbVptVnlMQ0IyWVd4MVpTa2dlMXh1SUNCMllYSWdiR1Z1SUQwZ1luVm1abVZ5TG14bGJtZDBhRnh1SUNCMllYSWdhU0E5SUMweFhHNGdJSFpoY2lCdmRYUWdQU0J1WlhjZ1FuVm1abVZ5S0dKMVptWmxjaTVzWlc1bmRHZ3BYRzRnSUdKMVptWmxjaUE5SUVKMVptWmxjaTVqYjI1allYUW9XMkoxWm1abGNpd2dibVYzSUVKMVptWmxjaWhiZG1Gc2RXVmRLVjBwWEc0Z0lIZG9hV3hsSUNncksya2dQQ0JzWlc0cElIdGNiaUFnSUNCdmRYUmJhVjBnUFNCaWRXWm1aWEpiYVYwZ1BEd2dNU0I4SUdKMVptWmxjbHRwSUNzZ01WMGdQajRnS0RjcFhHNGdJSDFjYmlBZ2NtVjBkWEp1SUc5MWRGeHVmVnh1SWwxOSIsIihmdW5jdGlvbiAoQnVmZmVyKXtcbnZhciB4b3IgPSByZXF1aXJlKCdidWZmZXIteG9yJylcblxuZXhwb3J0cy5lbmNyeXB0ID0gZnVuY3Rpb24gKHNlbGYsIGRhdGEsIGRlY3J5cHQpIHtcbiAgdmFyIG91dCA9IG5ldyBCdWZmZXIoJycpXG4gIHZhciBsZW5cblxuICB3aGlsZSAoZGF0YS5sZW5ndGgpIHtcbiAgICBpZiAoc2VsZi5fY2FjaGUubGVuZ3RoID09PSAwKSB7XG4gICAgICBzZWxmLl9jYWNoZSA9IHNlbGYuX2NpcGhlci5lbmNyeXB0QmxvY2soc2VsZi5fcHJldilcbiAgICAgIHNlbGYuX3ByZXYgPSBuZXcgQnVmZmVyKCcnKVxuICAgIH1cblxuICAgIGlmIChzZWxmLl9jYWNoZS5sZW5ndGggPD0gZGF0YS5sZW5ndGgpIHtcbiAgICAgIGxlbiA9IHNlbGYuX2NhY2hlLmxlbmd0aFxuICAgICAgb3V0ID0gQnVmZmVyLmNvbmNhdChbb3V0LCBlbmNyeXB0U3RhcnQoc2VsZiwgZGF0YS5zbGljZSgwLCBsZW4pLCBkZWNyeXB0KV0pXG4gICAgICBkYXRhID0gZGF0YS5zbGljZShsZW4pXG4gICAgfSBlbHNlIHtcbiAgICAgIG91dCA9IEJ1ZmZlci5jb25jYXQoW291dCwgZW5jcnlwdFN0YXJ0KHNlbGYsIGRhdGEsIGRlY3J5cHQpXSlcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG91dFxufVxuZnVuY3Rpb24gZW5jcnlwdFN0YXJ0IChzZWxmLCBkYXRhLCBkZWNyeXB0KSB7XG4gIHZhciBsZW4gPSBkYXRhLmxlbmd0aFxuICB2YXIgb3V0ID0geG9yKGRhdGEsIHNlbGYuX2NhY2hlKVxuICBzZWxmLl9jYWNoZSA9IHNlbGYuX2NhY2hlLnNsaWNlKGxlbilcbiAgc2VsZi5fcHJldiA9IEJ1ZmZlci5jb25jYXQoW3NlbGYuX3ByZXYsIGRlY3J5cHQgPyBkYXRhIDogb3V0XSlcbiAgcmV0dXJuIG91dFxufVxuXG59KS5jYWxsKHRoaXMscmVxdWlyZShcImJ1ZmZlclwiKS5CdWZmZXIpXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldDp1dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbTV2WkdWZmJXOWtkV3hsY3k5aWNtOTNjMlZ5YVdaNUwyNXZaR1ZmYlc5a2RXeGxjeTlqY25sd2RHOHRZbkp2ZDNObGNtbG1lUzl1YjJSbFgyMXZaSFZzWlhNdlluSnZkM05sY21sbWVTMWphWEJvWlhJdmJtOWtaVjl0YjJSMWJHVnpMMkp5YjNkelpYSnBabmt0WVdWekwyMXZaR1Z6TDJObVlpNXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPMEZCUVVFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFTSXNJbVpwYkdVaU9pSm5aVzVsY21GMFpXUXVhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpZG1GeUlIaHZjaUE5SUhKbGNYVnBjbVVvSjJKMVptWmxjaTE0YjNJbktWeHVYRzVsZUhCdmNuUnpMbVZ1WTNKNWNIUWdQU0JtZFc1amRHbHZiaUFvYzJWc1ppd2daR0YwWVN3Z1pHVmpjbmx3ZENrZ2UxeHVJQ0IyWVhJZ2IzVjBJRDBnYm1WM0lFSjFabVpsY2lnbkp5bGNiaUFnZG1GeUlHeGxibHh1WEc0Z0lIZG9hV3hsSUNoa1lYUmhMbXhsYm1kMGFDa2dlMXh1SUNBZ0lHbG1JQ2h6Wld4bUxsOWpZV05vWlM1c1pXNW5kR2dnUFQwOUlEQXBJSHRjYmlBZ0lDQWdJSE5sYkdZdVgyTmhZMmhsSUQwZ2MyVnNaaTVmWTJsd2FHVnlMbVZ1WTNKNWNIUkNiRzlqYXloelpXeG1MbDl3Y21WMktWeHVJQ0FnSUNBZ2MyVnNaaTVmY0hKbGRpQTlJRzVsZHlCQ2RXWm1aWElvSnljcFhHNGdJQ0FnZlZ4dVhHNGdJQ0FnYVdZZ0tITmxiR1l1WDJOaFkyaGxMbXhsYm1kMGFDQThQU0JrWVhSaExteGxibWQwYUNrZ2UxeHVJQ0FnSUNBZ2JHVnVJRDBnYzJWc1ppNWZZMkZqYUdVdWJHVnVaM1JvWEc0Z0lDQWdJQ0J2ZFhRZ1BTQkNkV1ptWlhJdVkyOXVZMkYwS0Z0dmRYUXNJR1Z1WTNKNWNIUlRkR0Z5ZENoelpXeG1MQ0JrWVhSaExuTnNhV05sS0RBc0lHeGxiaWtzSUdSbFkzSjVjSFFwWFNsY2JpQWdJQ0FnSUdSaGRHRWdQU0JrWVhSaExuTnNhV05sS0d4bGJpbGNiaUFnSUNCOUlHVnNjMlVnZTF4dUlDQWdJQ0FnYjNWMElEMGdRblZtWm1WeUxtTnZibU5oZENoYmIzVjBMQ0JsYm1OeWVYQjBVM1JoY25Rb2MyVnNaaXdnWkdGMFlTd2daR1ZqY25sd2RDbGRLVnh1SUNBZ0lDQWdZbkpsWVd0Y2JpQWdJQ0I5WEc0Z0lIMWNibHh1SUNCeVpYUjFjbTRnYjNWMFhHNTlYRzVtZFc1amRHbHZiaUJsYm1OeWVYQjBVM1JoY25RZ0tITmxiR1lzSUdSaGRHRXNJR1JsWTNKNWNIUXBJSHRjYmlBZ2RtRnlJR3hsYmlBOUlHUmhkR0V1YkdWdVozUm9YRzRnSUhaaGNpQnZkWFFnUFNCNGIzSW9aR0YwWVN3Z2MyVnNaaTVmWTJGamFHVXBYRzRnSUhObGJHWXVYMk5oWTJobElEMGdjMlZzWmk1ZlkyRmphR1V1YzJ4cFkyVW9iR1Z1S1Z4dUlDQnpaV3htTGw5d2NtVjJJRDBnUW5WbVptVnlMbU52Ym1OaGRDaGJjMlZzWmk1ZmNISmxkaXdnWkdWamNubHdkQ0EvSUdSaGRHRWdPaUJ2ZFhSZEtWeHVJQ0J5WlhSMWNtNGdiM1YwWEc1OVhHNGlYWDA9IiwidmFyIHhvciA9IHJlcXVpcmUoJ2J1ZmZlci14b3InKVxuXG5leHBvcnRzLmVuY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgYmxvY2spIHtcbiAgdmFyIGRhdGEgPSB4b3IoYmxvY2ssIHNlbGYuX3ByZXYpXG5cbiAgc2VsZi5fcHJldiA9IHNlbGYuX2NpcGhlci5lbmNyeXB0QmxvY2soZGF0YSlcbiAgcmV0dXJuIHNlbGYuX3ByZXZcbn1cblxuZXhwb3J0cy5kZWNyeXB0ID0gZnVuY3Rpb24gKHNlbGYsIGJsb2NrKSB7XG4gIHZhciBwYWQgPSBzZWxmLl9wcmV2XG5cbiAgc2VsZi5fcHJldiA9IGJsb2NrXG4gIHZhciBvdXQgPSBzZWxmLl9jaXBoZXIuZGVjcnlwdEJsb2NrKGJsb2NrKVxuXG4gIHJldHVybiB4b3Iob3V0LCBwYWQpXG59XG4iLCJleHBvcnRzWydhZXMtMTI4LWVjYiddID0ge1xuICBjaXBoZXI6ICdBRVMnLFxuICBrZXk6IDEyOCxcbiAgaXY6IDAsXG4gIG1vZGU6ICdFQ0InLFxuICB0eXBlOiAnYmxvY2snXG59XG5leHBvcnRzWydhZXMtMTkyLWVjYiddID0ge1xuICBjaXBoZXI6ICdBRVMnLFxuICBrZXk6IDE5MixcbiAgaXY6IDAsXG4gIG1vZGU6ICdFQ0InLFxuICB0eXBlOiAnYmxvY2snXG59XG5leHBvcnRzWydhZXMtMjU2LWVjYiddID0ge1xuICBjaXBoZXI6ICdBRVMnLFxuICBrZXk6IDI1NixcbiAgaXY6IDAsXG4gIG1vZGU6ICdFQ0InLFxuICB0eXBlOiAnYmxvY2snXG59XG5leHBvcnRzWydhZXMtMTI4LWNiYyddID0ge1xuICBjaXBoZXI6ICdBRVMnLFxuICBrZXk6IDEyOCxcbiAgaXY6IDE2LFxuICBtb2RlOiAnQ0JDJyxcbiAgdHlwZTogJ2Jsb2NrJ1xufVxuZXhwb3J0c1snYWVzLTE5Mi1jYmMnXSA9IHtcbiAgY2lwaGVyOiAnQUVTJyxcbiAga2V5OiAxOTIsXG4gIGl2OiAxNixcbiAgbW9kZTogJ0NCQycsXG4gIHR5cGU6ICdibG9jaydcbn1cbmV4cG9ydHNbJ2Flcy0yNTYtY2JjJ10gPSB7XG4gIGNpcGhlcjogJ0FFUycsXG4gIGtleTogMjU2LFxuICBpdjogMTYsXG4gIG1vZGU6ICdDQkMnLFxuICB0eXBlOiAnYmxvY2snXG59XG5leHBvcnRzWydhZXMxMjgnXSA9IGV4cG9ydHNbJ2Flcy0xMjgtY2JjJ11cbmV4cG9ydHNbJ2FlczE5MiddID0gZXhwb3J0c1snYWVzLTE5Mi1jYmMnXVxuZXhwb3J0c1snYWVzMjU2J10gPSBleHBvcnRzWydhZXMtMjU2LWNiYyddXG5leHBvcnRzWydhZXMtMTI4LWNmYiddID0ge1xuICBjaXBoZXI6ICdBRVMnLFxuICBrZXk6IDEyOCxcbiAgaXY6IDE2LFxuICBtb2RlOiAnQ0ZCJyxcbiAgdHlwZTogJ3N0cmVhbSdcbn1cbmV4cG9ydHNbJ2Flcy0xOTItY2ZiJ10gPSB7XG4gIGNpcGhlcjogJ0FFUycsXG4gIGtleTogMTkyLFxuICBpdjogMTYsXG4gIG1vZGU6ICdDRkInLFxuICB0eXBlOiAnc3RyZWFtJ1xufVxuZXhwb3J0c1snYWVzLTI1Ni1jZmInXSA9IHtcbiAgY2lwaGVyOiAnQUVTJyxcbiAga2V5OiAyNTYsXG4gIGl2OiAxNixcbiAgbW9kZTogJ0NGQicsXG4gIHR5cGU6ICdzdHJlYW0nXG59XG5leHBvcnRzWydhZXMtMTI4LWNmYjgnXSA9IHtcbiAgY2lwaGVyOiAnQUVTJyxcbiAga2V5OiAxMjgsXG4gIGl2OiAxNixcbiAgbW9kZTogJ0NGQjgnLFxuICB0eXBlOiAnc3RyZWFtJ1xufVxuZXhwb3J0c1snYWVzLTE5Mi1jZmI4J10gPSB7XG4gIGNpcGhlcjogJ0FFUycsXG4gIGtleTogMTkyLFxuICBpdjogMTYsXG4gIG1vZGU6ICdDRkI4JyxcbiAgdHlwZTogJ3N0cmVhbSdcbn1cbmV4cG9ydHNbJ2Flcy0yNTYtY2ZiOCddID0ge1xuICBjaXBoZXI6ICdBRVMnLFxuICBrZXk6IDI1NixcbiAgaXY6IDE2LFxuICBtb2RlOiAnQ0ZCOCcsXG4gIHR5cGU6ICdzdHJlYW0nXG59XG5leHBvcnRzWydhZXMtMTI4LWNmYjEnXSA9IHtcbiAgY2lwaGVyOiAnQUVTJyxcbiAga2V5OiAxMjgsXG4gIGl2OiAxNixcbiAgbW9kZTogJ0NGQjEnLFxuICB0eXBlOiAnc3RyZWFtJ1xufVxuZXhwb3J0c1snYWVzLTE5Mi1jZmIxJ10gPSB7XG4gIGNpcGhlcjogJ0FFUycsXG4gIGtleTogMTkyLFxuICBpdjogMTYsXG4gIG1vZGU6ICdDRkIxJyxcbiAgdHlwZTogJ3N0cmVhbSdcbn1cbmV4cG9ydHNbJ2Flcy0yNTYtY2ZiMSddID0ge1xuICBjaXBoZXI6ICdBRVMnLFxuICBrZXk6IDI1NixcbiAgaXY6IDE2LFxuICBtb2RlOiAnQ0ZCMScsXG4gIHR5cGU6ICdzdHJlYW0nXG59XG5leHBvcnRzWydhZXMtMTI4LW9mYiddID0ge1xuICBjaXBoZXI6ICdBRVMnLFxuICBrZXk6IDEyOCxcbiAgaXY6IDE2LFxuICBtb2RlOiAnT0ZCJyxcbiAgdHlwZTogJ3N0cmVhbSdcbn1cbmV4cG9ydHNbJ2Flcy0xOTItb2ZiJ10gPSB7XG4gIGNpcGhlcjogJ0FFUycsXG4gIGtleTogMTkyLFxuICBpdjogMTYsXG4gIG1vZGU6ICdPRkInLFxuICB0eXBlOiAnc3RyZWFtJ1xufVxuZXhwb3J0c1snYWVzLTI1Ni1vZmInXSA9IHtcbiAgY2lwaGVyOiAnQUVTJyxcbiAga2V5OiAyNTYsXG4gIGl2OiAxNixcbiAgbW9kZTogJ09GQicsXG4gIHR5cGU6ICdzdHJlYW0nXG59XG5leHBvcnRzWydhZXMtMTI4LWN0ciddID0ge1xuICBjaXBoZXI6ICdBRVMnLFxuICBrZXk6IDEyOCxcbiAgaXY6IDE2LFxuICBtb2RlOiAnQ1RSJyxcbiAgdHlwZTogJ3N0cmVhbSdcbn1cbmV4cG9ydHNbJ2Flcy0xOTItY3RyJ10gPSB7XG4gIGNpcGhlcjogJ0FFUycsXG4gIGtleTogMTkyLFxuICBpdjogMTYsXG4gIG1vZGU6ICdDVFInLFxuICB0eXBlOiAnc3RyZWFtJ1xufVxuZXhwb3J0c1snYWVzLTI1Ni1jdHInXSA9IHtcbiAgY2lwaGVyOiAnQUVTJyxcbiAga2V5OiAyNTYsXG4gIGl2OiAxNixcbiAgbW9kZTogJ0NUUicsXG4gIHR5cGU6ICdzdHJlYW0nXG59XG5leHBvcnRzWydhZXMtMTI4LWdjbSddID0ge1xuICBjaXBoZXI6ICdBRVMnLFxuICBrZXk6IDEyOCxcbiAgaXY6IDEyLFxuICBtb2RlOiAnR0NNJyxcbiAgdHlwZTogJ2F1dGgnXG59XG5leHBvcnRzWydhZXMtMTkyLWdjbSddID0ge1xuICBjaXBoZXI6ICdBRVMnLFxuICBrZXk6IDE5MixcbiAgaXY6IDEyLFxuICBtb2RlOiAnR0NNJyxcbiAgdHlwZTogJ2F1dGgnXG59XG5leHBvcnRzWydhZXMtMjU2LWdjbSddID0ge1xuICBjaXBoZXI6ICdBRVMnLFxuICBrZXk6IDI1NixcbiAgaXY6IDEyLFxuICBtb2RlOiAnR0NNJyxcbiAgdHlwZTogJ2F1dGgnXG59XG4iLCIoZnVuY3Rpb24gKEJ1ZmZlcil7XG52YXIgYWVzID0gcmVxdWlyZSgnLi9hZXMnKVxudmFyIFRyYW5zZm9ybSA9IHJlcXVpcmUoJ2NpcGhlci1iYXNlJylcbnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJylcbnZhciBHSEFTSCA9IHJlcXVpcmUoJy4vZ2hhc2gnKVxudmFyIHhvciA9IHJlcXVpcmUoJ2J1ZmZlci14b3InKVxuaW5oZXJpdHMoU3RyZWFtQ2lwaGVyLCBUcmFuc2Zvcm0pXG5tb2R1bGUuZXhwb3J0cyA9IFN0cmVhbUNpcGhlclxuXG5mdW5jdGlvbiBTdHJlYW1DaXBoZXIgKG1vZGUsIGtleSwgaXYsIGRlY3J5cHQpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFN0cmVhbUNpcGhlcikpIHtcbiAgICByZXR1cm4gbmV3IFN0cmVhbUNpcGhlcihtb2RlLCBrZXksIGl2KVxuICB9XG4gIFRyYW5zZm9ybS5jYWxsKHRoaXMpXG4gIHRoaXMuX2ZpbklEID0gQnVmZmVyLmNvbmNhdChbaXYsIG5ldyBCdWZmZXIoWzAsIDAsIDAsIDFdKV0pXG4gIGl2ID0gQnVmZmVyLmNvbmNhdChbaXYsIG5ldyBCdWZmZXIoWzAsIDAsIDAsIDJdKV0pXG4gIHRoaXMuX2NpcGhlciA9IG5ldyBhZXMuQUVTKGtleSlcbiAgdGhpcy5fcHJldiA9IG5ldyBCdWZmZXIoaXYubGVuZ3RoKVxuICB0aGlzLl9jYWNoZSA9IG5ldyBCdWZmZXIoJycpXG4gIHRoaXMuX3NlY0NhY2hlID0gbmV3IEJ1ZmZlcignJylcbiAgdGhpcy5fZGVjcnlwdCA9IGRlY3J5cHRcbiAgdGhpcy5fYWxlbiA9IDBcbiAgdGhpcy5fbGVuID0gMFxuICBpdi5jb3B5KHRoaXMuX3ByZXYpXG4gIHRoaXMuX21vZGUgPSBtb2RlXG4gIHZhciBoID0gbmV3IEJ1ZmZlcig0KVxuICBoLmZpbGwoMClcbiAgdGhpcy5fZ2hhc2ggPSBuZXcgR0hBU0godGhpcy5fY2lwaGVyLmVuY3J5cHRCbG9jayhoKSlcbiAgdGhpcy5fYXV0aFRhZyA9IG51bGxcbiAgdGhpcy5fY2FsbGVkID0gZmFsc2Vcbn1cblN0cmVhbUNpcGhlci5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uIChjaHVuaykge1xuICBpZiAoIXRoaXMuX2NhbGxlZCAmJiB0aGlzLl9hbGVuKSB7XG4gICAgdmFyIHJ1bXAgPSAxNiAtICh0aGlzLl9hbGVuICUgMTYpXG4gICAgaWYgKHJ1bXAgPCAxNikge1xuICAgICAgcnVtcCA9IG5ldyBCdWZmZXIocnVtcClcbiAgICAgIHJ1bXAuZmlsbCgwKVxuICAgICAgdGhpcy5fZ2hhc2gudXBkYXRlKHJ1bXApXG4gICAgfVxuICB9XG4gIHRoaXMuX2NhbGxlZCA9IHRydWVcbiAgdmFyIG91dCA9IHRoaXMuX21vZGUuZW5jcnlwdCh0aGlzLCBjaHVuaylcbiAgaWYgKHRoaXMuX2RlY3J5cHQpIHtcbiAgICB0aGlzLl9naGFzaC51cGRhdGUoY2h1bmspXG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZ2hhc2gudXBkYXRlKG91dClcbiAgfVxuICB0aGlzLl9sZW4gKz0gY2h1bmsubGVuZ3RoXG4gIHJldHVybiBvdXRcbn1cblN0cmVhbUNpcGhlci5wcm90b3R5cGUuX2ZpbmFsID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5fZGVjcnlwdCAmJiAhdGhpcy5fYXV0aFRhZykge1xuICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgc3RhdGUgb3IgdW5hYmxlIHRvIGF1dGhlbnRpY2F0ZSBkYXRhJylcbiAgfVxuICB2YXIgdGFnID0geG9yKHRoaXMuX2doYXNoLmZpbmFsKHRoaXMuX2FsZW4gKiA4LCB0aGlzLl9sZW4gKiA4KSwgdGhpcy5fY2lwaGVyLmVuY3J5cHRCbG9jayh0aGlzLl9maW5JRCkpXG4gIGlmICh0aGlzLl9kZWNyeXB0KSB7XG4gICAgaWYgKHhvclRlc3QodGFnLCB0aGlzLl9hdXRoVGFnKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBzdGF0ZSBvciB1bmFibGUgdG8gYXV0aGVudGljYXRlIGRhdGEnKVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLl9hdXRoVGFnID0gdGFnXG4gIH1cbiAgdGhpcy5fY2lwaGVyLnNjcnViKClcbn1cblN0cmVhbUNpcGhlci5wcm90b3R5cGUuZ2V0QXV0aFRhZyA9IGZ1bmN0aW9uIGdldEF1dGhUYWcgKCkge1xuICBpZiAoIXRoaXMuX2RlY3J5cHQgJiYgQnVmZmVyLmlzQnVmZmVyKHRoaXMuX2F1dGhUYWcpKSB7XG4gICAgcmV0dXJuIHRoaXMuX2F1dGhUYWdcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0F0dGVtcHRpbmcgdG8gZ2V0IGF1dGggdGFnIGluIHVuc3VwcG9ydGVkIHN0YXRlJylcbiAgfVxufVxuU3RyZWFtQ2lwaGVyLnByb3RvdHlwZS5zZXRBdXRoVGFnID0gZnVuY3Rpb24gc2V0QXV0aFRhZyAodGFnKSB7XG4gIGlmICh0aGlzLl9kZWNyeXB0KSB7XG4gICAgdGhpcy5fYXV0aFRhZyA9IHRhZ1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignQXR0ZW1wdGluZyB0byBzZXQgYXV0aCB0YWcgaW4gdW5zdXBwb3J0ZWQgc3RhdGUnKVxuICB9XG59XG5TdHJlYW1DaXBoZXIucHJvdG90eXBlLnNldEFBRCA9IGZ1bmN0aW9uIHNldEFBRCAoYnVmKSB7XG4gIGlmICghdGhpcy5fY2FsbGVkKSB7XG4gICAgdGhpcy5fZ2hhc2gudXBkYXRlKGJ1ZilcbiAgICB0aGlzLl9hbGVuICs9IGJ1Zi5sZW5ndGhcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0F0dGVtcHRpbmcgdG8gc2V0IEFBRCBpbiB1bnN1cHBvcnRlZCBzdGF0ZScpXG4gIH1cbn1cbmZ1bmN0aW9uIHhvclRlc3QgKGEsIGIpIHtcbiAgdmFyIG91dCA9IDBcbiAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgIG91dCsrXG4gIH1cbiAgdmFyIGxlbiA9IE1hdGgubWluKGEubGVuZ3RoLCBiLmxlbmd0aClcbiAgdmFyIGkgPSAtMVxuICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgb3V0ICs9IChhW2ldIF4gYltpXSlcbiAgfVxuICByZXR1cm4gb3V0XG59XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12WW5KdmQzTmxjbWxtZVMxamFYQm9aWEl2Ym05a1pWOXRiMlIxYkdWekwySnliM2R6WlhKcFpua3RZV1Z6TDJGMWRHaERhWEJvWlhJdWFuTWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqdEJRVUZCTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEVpTENKbWFXeGxJam9pWjJWdVpYSmhkR1ZrTG1weklpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYkluWmhjaUJoWlhNZ1BTQnlaWEYxYVhKbEtDY3VMMkZsY3ljcFhHNTJZWElnVkhKaGJuTm1iM0p0SUQwZ2NtVnhkV2x5WlNnblkybHdhR1Z5TFdKaGMyVW5LVnh1ZG1GeUlHbHVhR1Z5YVhSeklEMGdjbVZ4ZFdseVpTZ25hVzVvWlhKcGRITW5LVnh1ZG1GeUlFZElRVk5JSUQwZ2NtVnhkV2x5WlNnbkxpOW5hR0Z6YUNjcFhHNTJZWElnZUc5eUlEMGdjbVZ4ZFdseVpTZ25ZblZtWm1WeUxYaHZjaWNwWEc1cGJtaGxjbWwwY3loVGRISmxZVzFEYVhCb1pYSXNJRlJ5WVc1elptOXliU2xjYm0xdlpIVnNaUzVsZUhCdmNuUnpJRDBnVTNSeVpXRnRRMmx3YUdWeVhHNWNibVoxYm1OMGFXOXVJRk4wY21WaGJVTnBjR2hsY2lBb2JXOWtaU3dnYTJWNUxDQnBkaXdnWkdWamNubHdkQ2tnZTF4dUlDQnBaaUFvSVNoMGFHbHpJR2x1YzNSaGJtTmxiMllnVTNSeVpXRnRRMmx3YUdWeUtTa2dlMXh1SUNBZ0lISmxkSFZ5YmlCdVpYY2dVM1J5WldGdFEybHdhR1Z5S0cxdlpHVXNJR3RsZVN3Z2FYWXBYRzRnSUgxY2JpQWdWSEpoYm5ObWIzSnRMbU5oYkd3b2RHaHBjeWxjYmlBZ2RHaHBjeTVmWm1sdVNVUWdQU0JDZFdabVpYSXVZMjl1WTJGMEtGdHBkaXdnYm1WM0lFSjFabVpsY2loYk1Dd2dNQ3dnTUN3Z01WMHBYU2xjYmlBZ2FYWWdQU0JDZFdabVpYSXVZMjl1WTJGMEtGdHBkaXdnYm1WM0lFSjFabVpsY2loYk1Dd2dNQ3dnTUN3Z01sMHBYU2xjYmlBZ2RHaHBjeTVmWTJsd2FHVnlJRDBnYm1WM0lHRmxjeTVCUlZNb2EyVjVLVnh1SUNCMGFHbHpMbDl3Y21WMklEMGdibVYzSUVKMVptWmxjaWhwZGk1c1pXNW5kR2dwWEc0Z0lIUm9hWE11WDJOaFkyaGxJRDBnYm1WM0lFSjFabVpsY2lnbkp5bGNiaUFnZEdocGN5NWZjMlZqUTJGamFHVWdQU0J1WlhjZ1FuVm1abVZ5S0NjbktWeHVJQ0IwYUdsekxsOWtaV055ZVhCMElEMGdaR1ZqY25sd2RGeHVJQ0IwYUdsekxsOWhiR1Z1SUQwZ01GeHVJQ0IwYUdsekxsOXNaVzRnUFNBd1hHNGdJR2wyTG1OdmNIa29kR2hwY3k1ZmNISmxkaWxjYmlBZ2RHaHBjeTVmYlc5a1pTQTlJRzF2WkdWY2JpQWdkbUZ5SUdnZ1BTQnVaWGNnUW5WbVptVnlLRFFwWEc0Z0lHZ3VabWxzYkNnd0tWeHVJQ0IwYUdsekxsOW5hR0Z6YUNBOUlHNWxkeUJIU0VGVFNDaDBhR2x6TGw5amFYQm9aWEl1Wlc1amNubHdkRUpzYjJOcktHZ3BLVnh1SUNCMGFHbHpMbDloZFhSb1ZHRm5JRDBnYm5Wc2JGeHVJQ0IwYUdsekxsOWpZV3hzWldRZ1BTQm1ZV3h6WlZ4dWZWeHVVM1J5WldGdFEybHdhR1Z5TG5CeWIzUnZkSGx3WlM1ZmRYQmtZWFJsSUQwZ1puVnVZM1JwYjI0Z0tHTm9kVzVyS1NCN1hHNGdJR2xtSUNnaGRHaHBjeTVmWTJGc2JHVmtJQ1ltSUhSb2FYTXVYMkZzWlc0cElIdGNiaUFnSUNCMllYSWdjblZ0Y0NBOUlERTJJQzBnS0hSb2FYTXVYMkZzWlc0Z0pTQXhOaWxjYmlBZ0lDQnBaaUFvY25WdGNDQThJREUyS1NCN1hHNGdJQ0FnSUNCeWRXMXdJRDBnYm1WM0lFSjFabVpsY2loeWRXMXdLVnh1SUNBZ0lDQWdjblZ0Y0M1bWFXeHNLREFwWEc0Z0lDQWdJQ0IwYUdsekxsOW5hR0Z6YUM1MWNHUmhkR1VvY25WdGNDbGNiaUFnSUNCOVhHNGdJSDFjYmlBZ2RHaHBjeTVmWTJGc2JHVmtJRDBnZEhKMVpWeHVJQ0IyWVhJZ2IzVjBJRDBnZEdocGN5NWZiVzlrWlM1bGJtTnllWEIwS0hSb2FYTXNJR05vZFc1cktWeHVJQ0JwWmlBb2RHaHBjeTVmWkdWamNubHdkQ2tnZTF4dUlDQWdJSFJvYVhNdVgyZG9ZWE5vTG5Wd1pHRjBaU2hqYUhWdWF5bGNiaUFnZlNCbGJITmxJSHRjYmlBZ0lDQjBhR2x6TGw5bmFHRnphQzUxY0dSaGRHVW9iM1YwS1Z4dUlDQjlYRzRnSUhSb2FYTXVYMnhsYmlBclBTQmphSFZ1YXk1c1pXNW5kR2hjYmlBZ2NtVjBkWEp1SUc5MWRGeHVmVnh1VTNSeVpXRnRRMmx3YUdWeUxuQnliM1J2ZEhsd1pTNWZabWx1WVd3Z1BTQm1kVzVqZEdsdmJpQW9LU0I3WEc0Z0lHbG1JQ2gwYUdsekxsOWtaV055ZVhCMElDWW1JQ0YwYUdsekxsOWhkWFJvVkdGbktTQjdYRzRnSUNBZ2RHaHliM2NnYm1WM0lFVnljbTl5S0NkVmJuTjFjSEJ2Y25SbFpDQnpkR0YwWlNCdmNpQjFibUZpYkdVZ2RHOGdZWFYwYUdWdWRHbGpZWFJsSUdSaGRHRW5LVnh1SUNCOVhHNGdJSFpoY2lCMFlXY2dQU0I0YjNJb2RHaHBjeTVmWjJoaGMyZ3VabWx1WVd3b2RHaHBjeTVmWVd4bGJpQXFJRGdzSUhSb2FYTXVYMnhsYmlBcUlEZ3BMQ0IwYUdsekxsOWphWEJvWlhJdVpXNWpjbmx3ZEVKc2IyTnJLSFJvYVhNdVgyWnBia2xFS1NsY2JpQWdhV1lnS0hSb2FYTXVYMlJsWTNKNWNIUXBJSHRjYmlBZ0lDQnBaaUFvZUc5eVZHVnpkQ2gwWVdjc0lIUm9hWE11WDJGMWRHaFVZV2NwS1NCN1hHNGdJQ0FnSUNCMGFISnZkeUJ1WlhjZ1JYSnliM0lvSjFWdWMzVndjRzl5ZEdWa0lITjBZWFJsSUc5eUlIVnVZV0pzWlNCMGJ5QmhkWFJvWlc1MGFXTmhkR1VnWkdGMFlTY3BYRzRnSUNBZ2ZWeHVJQ0I5SUdWc2MyVWdlMXh1SUNBZ0lIUm9hWE11WDJGMWRHaFVZV2NnUFNCMFlXZGNiaUFnZlZ4dUlDQjBhR2x6TGw5amFYQm9aWEl1YzJOeWRXSW9LVnh1ZlZ4dVUzUnlaV0Z0UTJsd2FHVnlMbkJ5YjNSdmRIbHdaUzVuWlhSQmRYUm9WR0ZuSUQwZ1puVnVZM1JwYjI0Z1oyVjBRWFYwYUZSaFp5QW9LU0I3WEc0Z0lHbG1JQ2doZEdocGN5NWZaR1ZqY25sd2RDQW1KaUJDZFdabVpYSXVhWE5DZFdabVpYSW9kR2hwY3k1ZllYVjBhRlJoWnlrcElIdGNiaUFnSUNCeVpYUjFjbTRnZEdocGN5NWZZWFYwYUZSaFoxeHVJQ0I5SUdWc2MyVWdlMXh1SUNBZ0lIUm9jbTkzSUc1bGR5QkZjbkp2Y2lnblFYUjBaVzF3ZEdsdVp5QjBieUJuWlhRZ1lYVjBhQ0IwWVdjZ2FXNGdkVzV6ZFhCd2IzSjBaV1FnYzNSaGRHVW5LVnh1SUNCOVhHNTlYRzVUZEhKbFlXMURhWEJvWlhJdWNISnZkRzkwZVhCbExuTmxkRUYxZEdoVVlXY2dQU0JtZFc1amRHbHZiaUJ6WlhSQmRYUm9WR0ZuSUNoMFlXY3BJSHRjYmlBZ2FXWWdLSFJvYVhNdVgyUmxZM0o1Y0hRcElIdGNiaUFnSUNCMGFHbHpMbDloZFhSb1ZHRm5JRDBnZEdGblhHNGdJSDBnWld4elpTQjdYRzRnSUNBZ2RHaHliM2NnYm1WM0lFVnljbTl5S0NkQmRIUmxiWEIwYVc1bklIUnZJSE5sZENCaGRYUm9JSFJoWnlCcGJpQjFibk4xY0hCdmNuUmxaQ0J6ZEdGMFpTY3BYRzRnSUgxY2JuMWNibE4wY21WaGJVTnBjR2hsY2k1d2NtOTBiM1I1Y0dVdWMyVjBRVUZFSUQwZ1puVnVZM1JwYjI0Z2MyVjBRVUZFSUNoaWRXWXBJSHRjYmlBZ2FXWWdLQ0YwYUdsekxsOWpZV3hzWldRcElIdGNiaUFnSUNCMGFHbHpMbDluYUdGemFDNTFjR1JoZEdVb1luVm1LVnh1SUNBZ0lIUm9hWE11WDJGc1pXNGdLejBnWW5WbUxteGxibWQwYUZ4dUlDQjlJR1ZzYzJVZ2UxeHVJQ0FnSUhSb2NtOTNJRzVsZHlCRmNuSnZjaWduUVhSMFpXMXdkR2x1WnlCMGJ5QnpaWFFnUVVGRUlHbHVJSFZ1YzNWd2NHOXlkR1ZrSUhOMFlYUmxKeWxjYmlBZ2ZWeHVmVnh1Wm5WdVkzUnBiMjRnZUc5eVZHVnpkQ0FvWVN3Z1lpa2dlMXh1SUNCMllYSWdiM1YwSUQwZ01GeHVJQ0JwWmlBb1lTNXNaVzVuZEdnZ0lUMDlJR0l1YkdWdVozUm9LU0I3WEc0Z0lDQWdiM1YwS3l0Y2JpQWdmVnh1SUNCMllYSWdiR1Z1SUQwZ1RXRjBhQzV0YVc0b1lTNXNaVzVuZEdnc0lHSXViR1Z1WjNSb0tWeHVJQ0IyWVhJZ2FTQTlJQzB4WEc0Z0lIZG9hV3hsSUNncksya2dQQ0JzWlc0cElIdGNiaUFnSUNCdmRYUWdLejBnS0dGYmFWMGdYaUJpVzJsZEtWeHVJQ0I5WEc0Z0lISmxkSFZ5YmlCdmRYUmNibjFjYmlKZGZRPT0iLCIoZnVuY3Rpb24gKEJ1ZmZlcil7XG52YXIgVHJhbnNmb3JtID0gcmVxdWlyZSgnc3RyZWFtJykuVHJhbnNmb3JtXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG52YXIgU3RyaW5nRGVjb2RlciA9IHJlcXVpcmUoJ3N0cmluZ19kZWNvZGVyJykuU3RyaW5nRGVjb2RlclxubW9kdWxlLmV4cG9ydHMgPSBDaXBoZXJCYXNlXG5pbmhlcml0cyhDaXBoZXJCYXNlLCBUcmFuc2Zvcm0pXG5mdW5jdGlvbiBDaXBoZXJCYXNlIChoYXNoTW9kZSkge1xuICBUcmFuc2Zvcm0uY2FsbCh0aGlzKVxuICB0aGlzLmhhc2hNb2RlID0gdHlwZW9mIGhhc2hNb2RlID09PSAnc3RyaW5nJ1xuICBpZiAodGhpcy5oYXNoTW9kZSkge1xuICAgIHRoaXNbaGFzaE1vZGVdID0gdGhpcy5fZmluYWxPckRpZ2VzdFxuICB9IGVsc2Uge1xuICAgIHRoaXMuZmluYWwgPSB0aGlzLl9maW5hbE9yRGlnZXN0XG4gIH1cbiAgdGhpcy5fZGVjb2RlciA9IG51bGxcbiAgdGhpcy5fZW5jb2RpbmcgPSBudWxsXG59XG5DaXBoZXJCYXNlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSwgaW5wdXRFbmMsIG91dHB1dEVuYykge1xuICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgZGF0YSA9IG5ldyBCdWZmZXIoZGF0YSwgaW5wdXRFbmMpXG4gIH1cbiAgdmFyIG91dERhdGEgPSB0aGlzLl91cGRhdGUoZGF0YSlcbiAgaWYgKHRoaXMuaGFzaE1vZGUpIHtcbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIGlmIChvdXRwdXRFbmMpIHtcbiAgICBvdXREYXRhID0gdGhpcy5fdG9TdHJpbmcob3V0RGF0YSwgb3V0cHV0RW5jKVxuICB9XG4gIHJldHVybiBvdXREYXRhXG59XG5cbkNpcGhlckJhc2UucHJvdG90eXBlLnNldEF1dG9QYWRkaW5nID0gZnVuY3Rpb24gKCkge31cblxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuZ2V0QXV0aFRhZyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCd0cnlpbmcgdG8gZ2V0IGF1dGggdGFnIGluIHVuc3VwcG9ydGVkIHN0YXRlJylcbn1cblxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuc2V0QXV0aFRhZyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCd0cnlpbmcgdG8gc2V0IGF1dGggdGFnIGluIHVuc3VwcG9ydGVkIHN0YXRlJylcbn1cblxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuc2V0QUFEID0gZnVuY3Rpb24gKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ3RyeWluZyB0byBzZXQgYWFkIGluIHVuc3VwcG9ydGVkIHN0YXRlJylcbn1cblxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuX3RyYW5zZm9ybSA9IGZ1bmN0aW9uIChkYXRhLCBfLCBuZXh0KSB7XG4gIHZhciBlcnJcbiAgdHJ5IHtcbiAgICBpZiAodGhpcy5oYXNoTW9kZSkge1xuICAgICAgdGhpcy5fdXBkYXRlKGRhdGEpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHVzaCh0aGlzLl91cGRhdGUoZGF0YSkpXG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgZXJyID0gZVxuICB9IGZpbmFsbHkge1xuICAgIG5leHQoZXJyKVxuICB9XG59XG5DaXBoZXJCYXNlLnByb3RvdHlwZS5fZmx1c2ggPSBmdW5jdGlvbiAoZG9uZSkge1xuICB2YXIgZXJyXG4gIHRyeSB7XG4gICAgdGhpcy5wdXNoKHRoaXMuX2ZpbmFsKCkpXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBlcnIgPSBlXG4gIH0gZmluYWxseSB7XG4gICAgZG9uZShlcnIpXG4gIH1cbn1cbkNpcGhlckJhc2UucHJvdG90eXBlLl9maW5hbE9yRGlnZXN0ID0gZnVuY3Rpb24gKG91dHB1dEVuYykge1xuICB2YXIgb3V0RGF0YSA9IHRoaXMuX2ZpbmFsKCkgfHwgbmV3IEJ1ZmZlcignJylcbiAgaWYgKG91dHB1dEVuYykge1xuICAgIG91dERhdGEgPSB0aGlzLl90b1N0cmluZyhvdXREYXRhLCBvdXRwdXRFbmMsIHRydWUpXG4gIH1cbiAgcmV0dXJuIG91dERhdGFcbn1cblxuQ2lwaGVyQmFzZS5wcm90b3R5cGUuX3RvU3RyaW5nID0gZnVuY3Rpb24gKHZhbHVlLCBlbmMsIGZpbmFsKSB7XG4gIGlmICghdGhpcy5fZGVjb2Rlcikge1xuICAgIHRoaXMuX2RlY29kZXIgPSBuZXcgU3RyaW5nRGVjb2RlcihlbmMpXG4gICAgdGhpcy5fZW5jb2RpbmcgPSBlbmNcbiAgfVxuICBpZiAodGhpcy5fZW5jb2RpbmcgIT09IGVuYykge1xuICAgIHRocm93IG5ldyBFcnJvcignY2FuXFwndCBzd2l0Y2ggZW5jb2RpbmdzJylcbiAgfVxuICB2YXIgb3V0ID0gdGhpcy5fZGVjb2Rlci53cml0ZSh2YWx1ZSlcbiAgaWYgKGZpbmFsKSB7XG4gICAgb3V0ICs9IHRoaXMuX2RlY29kZXIuZW5kKClcbiAgfVxuICByZXR1cm4gb3V0XG59XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12WW5KdmQzTmxjbWxtZVMxamFYQm9aWEl2Ym05a1pWOXRiMlIxYkdWekwySnliM2R6WlhKcFpua3RZV1Z6TDI1dlpHVmZiVzlrZFd4bGN5OWphWEJvWlhJdFltRnpaUzlwYm1SbGVDNXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPMEZCUVVFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFaUxDSm1hV3hsSWpvaVoyVnVaWEpoZEdWa0xtcHpJaXdpYzI5MWNtTmxVbTl2ZENJNklpSXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJblpoY2lCVWNtRnVjMlp2Y20wZ1BTQnlaWEYxYVhKbEtDZHpkSEpsWVcwbktTNVVjbUZ1YzJadmNtMWNiblpoY2lCcGJtaGxjbWwwY3lBOUlISmxjWFZwY21Vb0oybHVhR1Z5YVhSekp5bGNiblpoY2lCVGRISnBibWRFWldOdlpHVnlJRDBnY21WeGRXbHlaU2duYzNSeWFXNW5YMlJsWTI5a1pYSW5LUzVUZEhKcGJtZEVaV052WkdWeVhHNXRiMlIxYkdVdVpYaHdiM0owY3lBOUlFTnBjR2hsY2tKaGMyVmNibWx1YUdWeWFYUnpLRU5wY0dobGNrSmhjMlVzSUZSeVlXNXpabTl5YlNsY2JtWjFibU4wYVc5dUlFTnBjR2hsY2tKaGMyVWdLR2hoYzJoTmIyUmxLU0I3WEc0Z0lGUnlZVzV6Wm05eWJTNWpZV3hzS0hSb2FYTXBYRzRnSUhSb2FYTXVhR0Z6YUUxdlpHVWdQU0IwZVhCbGIyWWdhR0Z6YUUxdlpHVWdQVDA5SUNkemRISnBibWNuWEc0Z0lHbG1JQ2gwYUdsekxtaGhjMmhOYjJSbEtTQjdYRzRnSUNBZ2RHaHBjMXRvWVhOb1RXOWtaVjBnUFNCMGFHbHpMbDltYVc1aGJFOXlSR2xuWlhOMFhHNGdJSDBnWld4elpTQjdYRzRnSUNBZ2RHaHBjeTVtYVc1aGJDQTlJSFJvYVhNdVgyWnBibUZzVDNKRWFXZGxjM1JjYmlBZ2ZWeHVJQ0IwYUdsekxsOWtaV052WkdWeUlEMGdiblZzYkZ4dUlDQjBhR2x6TGw5bGJtTnZaR2x1WnlBOUlHNTFiR3hjYm4xY2JrTnBjR2hsY2tKaGMyVXVjSEp2ZEc5MGVYQmxMblZ3WkdGMFpTQTlJR1oxYm1OMGFXOXVJQ2hrWVhSaExDQnBibkIxZEVWdVl5d2diM1YwY0hWMFJXNWpLU0I3WEc0Z0lHbG1JQ2gwZVhCbGIyWWdaR0YwWVNBOVBUMGdKM04wY21sdVp5Y3BJSHRjYmlBZ0lDQmtZWFJoSUQwZ2JtVjNJRUoxWm1abGNpaGtZWFJoTENCcGJuQjFkRVZ1WXlsY2JpQWdmVnh1SUNCMllYSWdiM1YwUkdGMFlTQTlJSFJvYVhNdVgzVndaR0YwWlNoa1lYUmhLVnh1SUNCcFppQW9kR2hwY3k1b1lYTm9UVzlrWlNrZ2UxeHVJQ0FnSUhKbGRIVnliaUIwYUdselhHNGdJSDFjYmlBZ2FXWWdLRzkxZEhCMWRFVnVZeWtnZTF4dUlDQWdJRzkxZEVSaGRHRWdQU0IwYUdsekxsOTBiMU4wY21sdVp5aHZkWFJFWVhSaExDQnZkWFJ3ZFhSRmJtTXBYRzRnSUgxY2JpQWdjbVYwZFhKdUlHOTFkRVJoZEdGY2JuMWNibHh1UTJsd2FHVnlRbUZ6WlM1d2NtOTBiM1I1Y0dVdWMyVjBRWFYwYjFCaFpHUnBibWNnUFNCbWRXNWpkR2x2YmlBb0tTQjdmVnh1WEc1RGFYQm9aWEpDWVhObExuQnliM1J2ZEhsd1pTNW5aWFJCZFhSb1ZHRm5JRDBnWm5WdVkzUnBiMjRnS0NrZ2UxeHVJQ0IwYUhKdmR5QnVaWGNnUlhKeWIzSW9KM1J5ZVdsdVp5QjBieUJuWlhRZ1lYVjBhQ0IwWVdjZ2FXNGdkVzV6ZFhCd2IzSjBaV1FnYzNSaGRHVW5LVnh1ZlZ4dVhHNURhWEJvWlhKQ1lYTmxMbkJ5YjNSdmRIbHdaUzV6WlhSQmRYUm9WR0ZuSUQwZ1puVnVZM1JwYjI0Z0tDa2dlMXh1SUNCMGFISnZkeUJ1WlhjZ1JYSnliM0lvSjNSeWVXbHVaeUIwYnlCelpYUWdZWFYwYUNCMFlXY2dhVzRnZFc1emRYQndiM0owWldRZ2MzUmhkR1VuS1Z4dWZWeHVYRzVEYVhCb1pYSkNZWE5sTG5CeWIzUnZkSGx3WlM1elpYUkJRVVFnUFNCbWRXNWpkR2x2YmlBb0tTQjdYRzRnSUhSb2NtOTNJRzVsZHlCRmNuSnZjaWduZEhKNWFXNW5JSFJ2SUhObGRDQmhZV1FnYVc0Z2RXNXpkWEJ3YjNKMFpXUWdjM1JoZEdVbktWeHVmVnh1WEc1RGFYQm9aWEpDWVhObExuQnliM1J2ZEhsd1pTNWZkSEpoYm5ObWIzSnRJRDBnWm5WdVkzUnBiMjRnS0dSaGRHRXNJRjhzSUc1bGVIUXBJSHRjYmlBZ2RtRnlJR1Z5Y2x4dUlDQjBjbmtnZTF4dUlDQWdJR2xtSUNoMGFHbHpMbWhoYzJoTmIyUmxLU0I3WEc0Z0lDQWdJQ0IwYUdsekxsOTFjR1JoZEdVb1pHRjBZU2xjYmlBZ0lDQjlJR1ZzYzJVZ2UxeHVJQ0FnSUNBZ2RHaHBjeTV3ZFhOb0tIUm9hWE11WDNWd1pHRjBaU2hrWVhSaEtTbGNiaUFnSUNCOVhHNGdJSDBnWTJGMFkyZ2dLR1VwSUh0Y2JpQWdJQ0JsY25JZ1BTQmxYRzRnSUgwZ1ptbHVZV3hzZVNCN1hHNGdJQ0FnYm1WNGRDaGxjbklwWEc0Z0lIMWNibjFjYmtOcGNHaGxja0poYzJVdWNISnZkRzkwZVhCbExsOW1iSFZ6YUNBOUlHWjFibU4wYVc5dUlDaGtiMjVsS1NCN1hHNGdJSFpoY2lCbGNuSmNiaUFnZEhKNUlIdGNiaUFnSUNCMGFHbHpMbkIxYzJnb2RHaHBjeTVmWm1sdVlXd29LU2xjYmlBZ2ZTQmpZWFJqYUNBb1pTa2dlMXh1SUNBZ0lHVnljaUE5SUdWY2JpQWdmU0JtYVc1aGJHeDVJSHRjYmlBZ0lDQmtiMjVsS0dWeWNpbGNiaUFnZlZ4dWZWeHVRMmx3YUdWeVFtRnpaUzV3Y205MGIzUjVjR1V1WDJacGJtRnNUM0pFYVdkbGMzUWdQU0JtZFc1amRHbHZiaUFvYjNWMGNIVjBSVzVqS1NCN1hHNGdJSFpoY2lCdmRYUkVZWFJoSUQwZ2RHaHBjeTVmWm1sdVlXd29LU0I4ZkNCdVpYY2dRblZtWm1WeUtDY25LVnh1SUNCcFppQW9iM1YwY0hWMFJXNWpLU0I3WEc0Z0lDQWdiM1YwUkdGMFlTQTlJSFJvYVhNdVgzUnZVM1J5YVc1bktHOTFkRVJoZEdFc0lHOTFkSEIxZEVWdVl5d2dkSEoxWlNsY2JpQWdmVnh1SUNCeVpYUjFjbTRnYjNWMFJHRjBZVnh1ZlZ4dVhHNURhWEJvWlhKQ1lYTmxMbkJ5YjNSdmRIbHdaUzVmZEc5VGRISnBibWNnUFNCbWRXNWpkR2x2YmlBb2RtRnNkV1VzSUdWdVl5d2dabWx1WVd3cElIdGNiaUFnYVdZZ0tDRjBhR2x6TGw5a1pXTnZaR1Z5S1NCN1hHNGdJQ0FnZEdocGN5NWZaR1ZqYjJSbGNpQTlJRzVsZHlCVGRISnBibWRFWldOdlpHVnlLR1Z1WXlsY2JpQWdJQ0IwYUdsekxsOWxibU52WkdsdVp5QTlJR1Z1WTF4dUlDQjlYRzRnSUdsbUlDaDBhR2x6TGw5bGJtTnZaR2x1WnlBaFBUMGdaVzVqS1NCN1hHNGdJQ0FnZEdoeWIzY2dibVYzSUVWeWNtOXlLQ2RqWVc1Y1hDZDBJSE4zYVhSamFDQmxibU52WkdsdVozTW5LVnh1SUNCOVhHNGdJSFpoY2lCdmRYUWdQU0IwYUdsekxsOWtaV052WkdWeUxuZHlhWFJsS0haaGJIVmxLVnh1SUNCcFppQW9abWx1WVd3cElIdGNiaUFnSUNCdmRYUWdLejBnZEdocGN5NWZaR1ZqYjJSbGNpNWxibVFvS1Z4dUlDQjlYRzRnSUhKbGRIVnliaUJ2ZFhSY2JuMWNiaUpkZlE9PSIsIihmdW5jdGlvbiAoQnVmZmVyKXtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24geG9yIChhLCBiKSB7XG4gIHZhciBsZW5ndGggPSBNYXRoLm1pbihhLmxlbmd0aCwgYi5sZW5ndGgpXG4gIHZhciBidWZmZXIgPSBuZXcgQnVmZmVyKGxlbmd0aClcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgYnVmZmVyW2ldID0gYVtpXSBeIGJbaV1cbiAgfVxuXG4gIHJldHVybiBidWZmZXJcbn1cblxufSkuY2FsbCh0aGlzLHJlcXVpcmUoXCJidWZmZXJcIikuQnVmZmVyKVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ6dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW01dlpHVmZiVzlrZFd4bGN5OWljbTkzYzJWeWFXWjVMMjV2WkdWZmJXOWtkV3hsY3k5amNubHdkRzh0WW5KdmQzTmxjbWxtZVM5dWIyUmxYMjF2WkhWc1pYTXZZbkp2ZDNObGNtbG1lUzFqYVhCb1pYSXZibTlrWlY5dGIyUjFiR1Z6TDJKeWIzZHpaWEpwWm5rdFlXVnpMMjV2WkdWZmJXOWtkV3hsY3k5aWRXWm1aWEl0ZUc5eUwybHVaR1Y0TG1weklsMHNJbTVoYldWeklqcGJYU3dpYldGd2NHbHVaM01pT2lJN1FVRkJRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQklpd2labWxzWlNJNkltZGxibVZ5WVhSbFpDNXFjeUlzSW5OdmRYSmpaVkp2YjNRaU9pSWlMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXeUp0YjJSMWJHVXVaWGh3YjNKMGN5QTlJR1oxYm1OMGFXOXVJSGh2Y2lBb1lTd2dZaWtnZTF4dUlDQjJZWElnYkdWdVozUm9JRDBnVFdGMGFDNXRhVzRvWVM1c1pXNW5kR2dzSUdJdWJHVnVaM1JvS1Z4dUlDQjJZWElnWW5WbVptVnlJRDBnYm1WM0lFSjFabVpsY2loc1pXNW5kR2dwWEc1Y2JpQWdabTl5SUNoMllYSWdhU0E5SURBN0lHa2dQQ0JzWlc1bmRHZzdJQ3NyYVNrZ2UxeHVJQ0FnSUdKMVptWmxjbHRwWFNBOUlHRmJhVjBnWGlCaVcybGRYRzRnSUgxY2JseHVJQ0J5WlhSMWNtNGdZblZtWm1WeVhHNTlYRzRpWFgwPSIsIihmdW5jdGlvbiAoQnVmZmVyKXtcbnZhciB6ZXJvcyA9IG5ldyBCdWZmZXIoMTYpXG56ZXJvcy5maWxsKDApXG5tb2R1bGUuZXhwb3J0cyA9IEdIQVNIXG5mdW5jdGlvbiBHSEFTSCAoa2V5KSB7XG4gIHRoaXMuaCA9IGtleVxuICB0aGlzLnN0YXRlID0gbmV3IEJ1ZmZlcigxNilcbiAgdGhpcy5zdGF0ZS5maWxsKDApXG4gIHRoaXMuY2FjaGUgPSBuZXcgQnVmZmVyKCcnKVxufVxuLy8gZnJvbSBodHRwOi8vYml0d2lzZXNoaWZ0bGVmdC5naXRodWIuaW8vc2pjbC9kb2Mvc3ltYm9scy9zcmMvY29yZV9nY20uanMuaHRtbFxuLy8gYnkgSnVobyBWw6Row6QtSGVydHR1YVxuR0hBU0gucHJvdG90eXBlLmdoYXNoID0gZnVuY3Rpb24gKGJsb2NrKSB7XG4gIHZhciBpID0gLTFcbiAgd2hpbGUgKCsraSA8IGJsb2NrLmxlbmd0aCkge1xuICAgIHRoaXMuc3RhdGVbaV0gXj0gYmxvY2tbaV1cbiAgfVxuICB0aGlzLl9tdWx0aXBseSgpXG59XG5cbkdIQVNILnByb3RvdHlwZS5fbXVsdGlwbHkgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBWaSA9IHRvQXJyYXkodGhpcy5oKVxuICB2YXIgWmkgPSBbMCwgMCwgMCwgMF1cbiAgdmFyIGosIHhpLCBsc2JfVmlcbiAgdmFyIGkgPSAtMVxuICB3aGlsZSAoKytpIDwgMTI4KSB7XG4gICAgeGkgPSAodGhpcy5zdGF0ZVt+fihpIC8gOCldICYgKDEgPDwgKDcgLSBpICUgOCkpKSAhPT0gMFxuICAgIGlmICh4aSkge1xuICAgICAgLy8gWl9pKzEgPSBaX2kgXiBWX2lcbiAgICAgIFppID0geG9yKFppLCBWaSlcbiAgICB9XG5cbiAgICAvLyBTdG9yZSB0aGUgdmFsdWUgb2YgTFNCKFZfaSlcbiAgICBsc2JfVmkgPSAoVmlbM10gJiAxKSAhPT0gMFxuXG4gICAgLy8gVl9pKzEgPSBWX2kgPj4gMVxuICAgIGZvciAoaiA9IDM7IGogPiAwOyBqLS0pIHtcbiAgICAgIFZpW2pdID0gKFZpW2pdID4+PiAxKSB8ICgoVmlbaiAtIDFdICYgMSkgPDwgMzEpXG4gICAgfVxuICAgIFZpWzBdID0gVmlbMF0gPj4+IDFcblxuICAgIC8vIElmIExTQihWX2kpIGlzIDEsIFZfaSsxID0gKFZfaSA+PiAxKSBeIFJcbiAgICBpZiAobHNiX1ZpKSB7XG4gICAgICBWaVswXSA9IFZpWzBdIF4gKDB4ZTEgPDwgMjQpXG4gICAgfVxuICB9XG4gIHRoaXMuc3RhdGUgPSBmcm9tQXJyYXkoWmkpXG59XG5HSEFTSC5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGJ1Zikge1xuICB0aGlzLmNhY2hlID0gQnVmZmVyLmNvbmNhdChbdGhpcy5jYWNoZSwgYnVmXSlcbiAgdmFyIGNodW5rXG4gIHdoaWxlICh0aGlzLmNhY2hlLmxlbmd0aCA+PSAxNikge1xuICAgIGNodW5rID0gdGhpcy5jYWNoZS5zbGljZSgwLCAxNilcbiAgICB0aGlzLmNhY2hlID0gdGhpcy5jYWNoZS5zbGljZSgxNilcbiAgICB0aGlzLmdoYXNoKGNodW5rKVxuICB9XG59XG5HSEFTSC5wcm90b3R5cGUuZmluYWwgPSBmdW5jdGlvbiAoYWJsLCBibCkge1xuICBpZiAodGhpcy5jYWNoZS5sZW5ndGgpIHtcbiAgICB0aGlzLmdoYXNoKEJ1ZmZlci5jb25jYXQoW3RoaXMuY2FjaGUsIHplcm9zXSwgMTYpKVxuICB9XG4gIHRoaXMuZ2hhc2goZnJvbUFycmF5KFtcbiAgICAwLCBhYmwsXG4gICAgMCwgYmxcbiAgXSkpXG4gIHJldHVybiB0aGlzLnN0YXRlXG59XG5cbmZ1bmN0aW9uIHRvQXJyYXkgKGJ1Zikge1xuICByZXR1cm4gW1xuICAgIGJ1Zi5yZWFkVUludDMyQkUoMCksXG4gICAgYnVmLnJlYWRVSW50MzJCRSg0KSxcbiAgICBidWYucmVhZFVJbnQzMkJFKDgpLFxuICAgIGJ1Zi5yZWFkVUludDMyQkUoMTIpXG4gIF1cbn1cbmZ1bmN0aW9uIGZyb21BcnJheSAob3V0KSB7XG4gIG91dCA9IG91dC5tYXAoZml4dXBfdWludDMyKVxuICB2YXIgYnVmID0gbmV3IEJ1ZmZlcigxNilcbiAgYnVmLndyaXRlVUludDMyQkUob3V0WzBdLCAwKVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbMV0sIDQpXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFsyXSwgOClcbiAgYnVmLndyaXRlVUludDMyQkUob3V0WzNdLCAxMilcbiAgcmV0dXJuIGJ1ZlxufVxudmFyIHVpbnRfbWF4ID0gTWF0aC5wb3coMiwgMzIpXG5mdW5jdGlvbiBmaXh1cF91aW50MzIgKHgpIHtcbiAgdmFyIHJldCwgeF9wb3NcbiAgcmV0ID0geCA+IHVpbnRfbWF4IHx8IHggPCAwID8gKHhfcG9zID0gTWF0aC5hYnMoeCkgJSB1aW50X21heCwgeCA8IDAgPyB1aW50X21heCAtIHhfcG9zIDogeF9wb3MpIDogeFxuICByZXR1cm4gcmV0XG59XG5mdW5jdGlvbiB4b3IgKGEsIGIpIHtcbiAgcmV0dXJuIFtcbiAgICBhWzBdIF4gYlswXSxcbiAgICBhWzFdIF4gYlsxXSxcbiAgICBhWzJdIF4gYlsyXSxcbiAgICBhWzNdIF4gYlszXVxuICBdXG59XG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12WW5KdmQzTmxjbWxtZVMxamFYQm9aWEl2Ym05a1pWOXRiMlIxYkdWekwySnliM2R6WlhKcFpua3RZV1Z6TDJkb1lYTm9MbXB6SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUk3UVVGQlFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEVpTENKbWFXeGxJam9pWjJWdVpYSmhkR1ZrTG1weklpd2ljMjkxY21ObFVtOXZkQ0k2SWlJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYkluWmhjaUI2WlhKdmN5QTlJRzVsZHlCQ2RXWm1aWElvTVRZcFhHNTZaWEp2Y3k1bWFXeHNLREFwWEc1dGIyUjFiR1V1Wlhod2IzSjBjeUE5SUVkSVFWTklYRzVtZFc1amRHbHZiaUJIU0VGVFNDQW9hMlY1S1NCN1hHNGdJSFJvYVhNdWFDQTlJR3RsZVZ4dUlDQjBhR2x6TG5OMFlYUmxJRDBnYm1WM0lFSjFabVpsY2lneE5pbGNiaUFnZEdocGN5NXpkR0YwWlM1bWFXeHNLREFwWEc0Z0lIUm9hWE11WTJGamFHVWdQU0J1WlhjZ1FuVm1abVZ5S0NjbktWeHVmVnh1THk4Z1puSnZiU0JvZEhSd09pOHZZbWwwZDJselpYTm9hV1owYkdWbWRDNW5hWFJvZFdJdWFXOHZjMnBqYkM5a2IyTXZjM2x0WW05c2N5OXpjbU12WTI5eVpWOW5ZMjB1YW5NdWFIUnRiRnh1THk4Z1lua2dTblZvYnlCV3c2Um93NlF0U0dWeWRIUjFZVnh1UjBoQlUwZ3VjSEp2ZEc5MGVYQmxMbWRvWVhOb0lEMGdablZ1WTNScGIyNGdLR0pzYjJOcktTQjdYRzRnSUhaaGNpQnBJRDBnTFRGY2JpQWdkMmhwYkdVZ0tDc3JhU0E4SUdKc2IyTnJMbXhsYm1kMGFDa2dlMXh1SUNBZ0lIUm9hWE11YzNSaGRHVmJhVjBnWGowZ1lteHZZMnRiYVYxY2JpQWdmVnh1SUNCMGFHbHpMbDl0ZFd4MGFYQnNlU2dwWEc1OVhHNWNia2RJUVZOSUxuQnliM1J2ZEhsd1pTNWZiWFZzZEdsd2JIa2dQU0JtZFc1amRHbHZiaUFvS1NCN1hHNGdJSFpoY2lCV2FTQTlJSFJ2UVhKeVlYa29kR2hwY3k1b0tWeHVJQ0IyWVhJZ1dta2dQU0JiTUN3Z01Dd2dNQ3dnTUYxY2JpQWdkbUZ5SUdvc0lIaHBMQ0JzYzJKZlZtbGNiaUFnZG1GeUlHa2dQU0F0TVZ4dUlDQjNhR2xzWlNBb0t5dHBJRHdnTVRJNEtTQjdYRzRnSUNBZ2VHa2dQU0FvZEdocGN5NXpkR0YwWlZ0K2ZpaHBJQzhnT0NsZElDWWdLREVnUER3Z0tEY2dMU0JwSUNVZ09Da3BLU0FoUFQwZ01GeHVJQ0FnSUdsbUlDaDRhU2tnZTF4dUlDQWdJQ0FnTHk4Z1dsOXBLekVnUFNCYVgya2dYaUJXWDJsY2JpQWdJQ0FnSUZwcElEMGdlRzl5S0ZwcExDQldhU2xjYmlBZ0lDQjlYRzVjYmlBZ0lDQXZMeUJUZEc5eVpTQjBhR1VnZG1Gc2RXVWdiMllnVEZOQ0tGWmZhU2xjYmlBZ0lDQnNjMkpmVm1rZ1BTQW9WbWxiTTEwZ0ppQXhLU0FoUFQwZ01GeHVYRzRnSUNBZ0x5OGdWbDlwS3pFZ1BTQldYMmtnUGo0Z01WeHVJQ0FnSUdadmNpQW9haUE5SURNN0lHb2dQaUF3T3lCcUxTMHBJSHRjYmlBZ0lDQWdJRlpwVzJwZElEMGdLRlpwVzJwZElENCtQaUF4S1NCOElDZ29WbWxiYWlBdElERmRJQ1lnTVNrZ1BEd2dNekVwWEc0Z0lDQWdmVnh1SUNBZ0lGWnBXekJkSUQwZ1ZtbGJNRjBnUGo0K0lERmNibHh1SUNBZ0lDOHZJRWxtSUV4VFFpaFdYMmtwSUdseklERXNJRlpmYVNzeElEMGdLRlpmYVNBK1BpQXhLU0JlSUZKY2JpQWdJQ0JwWmlBb2JITmlYMVpwS1NCN1hHNGdJQ0FnSUNCV2FWc3dYU0E5SUZacFd6QmRJRjRnS0RCNFpURWdQRHdnTWpRcFhHNGdJQ0FnZlZ4dUlDQjlYRzRnSUhSb2FYTXVjM1JoZEdVZ1BTQm1jbTl0UVhKeVlYa29XbWtwWEc1OVhHNUhTRUZUU0M1d2NtOTBiM1I1Y0dVdWRYQmtZWFJsSUQwZ1puVnVZM1JwYjI0Z0tHSjFaaWtnZTF4dUlDQjBhR2x6TG1OaFkyaGxJRDBnUW5WbVptVnlMbU52Ym1OaGRDaGJkR2hwY3k1allXTm9aU3dnWW5WbVhTbGNiaUFnZG1GeUlHTm9kVzVyWEc0Z0lIZG9hV3hsSUNoMGFHbHpMbU5oWTJobExteGxibWQwYUNBK1BTQXhOaWtnZTF4dUlDQWdJR05vZFc1cklEMGdkR2hwY3k1allXTm9aUzV6YkdsalpTZ3dMQ0F4TmlsY2JpQWdJQ0IwYUdsekxtTmhZMmhsSUQwZ2RHaHBjeTVqWVdOb1pTNXpiR2xqWlNneE5pbGNiaUFnSUNCMGFHbHpMbWRvWVhOb0tHTm9kVzVyS1Z4dUlDQjlYRzU5WEc1SFNFRlRTQzV3Y205MGIzUjVjR1V1Wm1sdVlXd2dQU0JtZFc1amRHbHZiaUFvWVdKc0xDQmliQ2tnZTF4dUlDQnBaaUFvZEdocGN5NWpZV05vWlM1c1pXNW5kR2dwSUh0Y2JpQWdJQ0IwYUdsekxtZG9ZWE5vS0VKMVptWmxjaTVqYjI1allYUW9XM1JvYVhNdVkyRmphR1VzSUhwbGNtOXpYU3dnTVRZcEtWeHVJQ0I5WEc0Z0lIUm9hWE11WjJoaGMyZ29abkp2YlVGeWNtRjVLRnRjYmlBZ0lDQXdMQ0JoWW13c1hHNGdJQ0FnTUN3Z1lteGNiaUFnWFNrcFhHNGdJSEpsZEhWeWJpQjBhR2x6TG5OMFlYUmxYRzU5WEc1Y2JtWjFibU4wYVc5dUlIUnZRWEp5WVhrZ0tHSjFaaWtnZTF4dUlDQnlaWFIxY200Z1cxeHVJQ0FnSUdKMVppNXlaV0ZrVlVsdWRETXlRa1VvTUNrc1hHNGdJQ0FnWW5WbUxuSmxZV1JWU1c1ME16SkNSU2cwS1N4Y2JpQWdJQ0JpZFdZdWNtVmhaRlZKYm5Rek1rSkZLRGdwTEZ4dUlDQWdJR0oxWmk1eVpXRmtWVWx1ZERNeVFrVW9NVElwWEc0Z0lGMWNibjFjYm1aMWJtTjBhVzl1SUdaeWIyMUJjbkpoZVNBb2IzVjBLU0I3WEc0Z0lHOTFkQ0E5SUc5MWRDNXRZWEFvWm1sNGRYQmZkV2x1ZERNeUtWeHVJQ0IyWVhJZ1luVm1JRDBnYm1WM0lFSjFabVpsY2lneE5pbGNiaUFnWW5WbUxuZHlhWFJsVlVsdWRETXlRa1VvYjNWMFd6QmRMQ0F3S1Z4dUlDQmlkV1l1ZDNKcGRHVlZTVzUwTXpKQ1JTaHZkWFJiTVYwc0lEUXBYRzRnSUdKMVppNTNjbWwwWlZWSmJuUXpNa0pGS0c5MWRGc3lYU3dnT0NsY2JpQWdZblZtTG5keWFYUmxWVWx1ZERNeVFrVW9iM1YwV3pOZExDQXhNaWxjYmlBZ2NtVjBkWEp1SUdKMVpseHVmVnh1ZG1GeUlIVnBiblJmYldGNElEMGdUV0YwYUM1d2IzY29NaXdnTXpJcFhHNW1kVzVqZEdsdmJpQm1hWGgxY0Y5MWFXNTBNeklnS0hncElIdGNiaUFnZG1GeUlISmxkQ3dnZUY5d2IzTmNiaUFnY21WMElEMGdlQ0ErSUhWcGJuUmZiV0Y0SUh4OElIZ2dQQ0F3SUQ4Z0tIaGZjRzl6SUQwZ1RXRjBhQzVoWW5Nb2VDa2dKU0IxYVc1MFgyMWhlQ3dnZUNBOElEQWdQeUIxYVc1MFgyMWhlQ0F0SUhoZmNHOXpJRG9nZUY5d2IzTXBJRG9nZUZ4dUlDQnlaWFIxY200Z2NtVjBYRzU5WEc1bWRXNWpkR2x2YmlCNGIzSWdLR0VzSUdJcElIdGNiaUFnY21WMGRYSnVJRnRjYmlBZ0lDQmhXekJkSUY0Z1lsc3dYU3hjYmlBZ0lDQmhXekZkSUY0Z1lsc3hYU3hjYmlBZ0lDQmhXekpkSUY0Z1lsc3lYU3hjYmlBZ0lDQmhXek5kSUY0Z1lsc3pYVnh1SUNCZFhHNTlYRzRpWFgwPSIsIihmdW5jdGlvbiAoQnVmZmVyKXtcbi8vIGJhc2VkIG9uIHRoZSBhZXMgaW1wbGltZW50YXRpb24gaW4gdHJpcGxlIHNlY1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2tleWJhc2UvdHJpcGxlc2VjXG5cbi8vIHdoaWNoIGlzIGluIHR1cm4gYmFzZWQgb24gdGhlIG9uZSBmcm9tIGNyeXB0by1qc1xuLy8gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMvXG5cbnZhciB1aW50X21heCA9IE1hdGgucG93KDIsIDMyKVxuZnVuY3Rpb24gZml4dXBfdWludDMyICh4KSB7XG4gIHZhciByZXQsIHhfcG9zXG4gIHJldCA9IHggPiB1aW50X21heCB8fCB4IDwgMCA/ICh4X3BvcyA9IE1hdGguYWJzKHgpICUgdWludF9tYXgsIHggPCAwID8gdWludF9tYXggLSB4X3BvcyA6IHhfcG9zKSA6IHhcbiAgcmV0dXJuIHJldFxufVxuZnVuY3Rpb24gc2NydWJfdmVjICh2KSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdi5sZW5ndGg7IHYrKykge1xuICAgIHZbaV0gPSAwXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIEdsb2JhbCAoKSB7XG4gIHRoaXMuU0JPWCA9IFtdXG4gIHRoaXMuSU5WX1NCT1ggPSBbXVxuICB0aGlzLlNVQl9NSVggPSBbW10sIFtdLCBbXSwgW11dXG4gIHRoaXMuSU5WX1NVQl9NSVggPSBbW10sIFtdLCBbXSwgW11dXG4gIHRoaXMuaW5pdCgpXG4gIHRoaXMuUkNPTiA9IFsweDAwLCAweDAxLCAweDAyLCAweDA0LCAweDA4LCAweDEwLCAweDIwLCAweDQwLCAweDgwLCAweDFiLCAweDM2XVxufVxuXG5HbG9iYWwucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBkLCBpLCBzeCwgdCwgeCwgeDIsIHg0LCB4OCwgeGksIF9pXG4gIGQgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBfaSwgX3Jlc3VsdHNcbiAgICBfcmVzdWx0cyA9IFtdXG4gICAgZm9yIChpID0gX2kgPSAwOyBfaSA8IDI1NjsgaSA9ICsrX2kpIHtcbiAgICAgIGlmIChpIDwgMTI4KSB7XG4gICAgICAgIF9yZXN1bHRzLnB1c2goaSA8PCAxKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3Jlc3VsdHMucHVzaCgoaSA8PCAxKSBeIDB4MTFiKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gX3Jlc3VsdHNcbiAgfSkoKVxuICB4ID0gMFxuICB4aSA9IDBcbiAgZm9yIChpID0gX2kgPSAwOyBfaSA8IDI1NjsgaSA9ICsrX2kpIHtcbiAgICBzeCA9IHhpIF4gKHhpIDw8IDEpIF4gKHhpIDw8IDIpIF4gKHhpIDw8IDMpIF4gKHhpIDw8IDQpXG4gICAgc3ggPSAoc3ggPj4+IDgpIF4gKHN4ICYgMHhmZikgXiAweDYzXG4gICAgdGhpcy5TQk9YW3hdID0gc3hcbiAgICB0aGlzLklOVl9TQk9YW3N4XSA9IHhcbiAgICB4MiA9IGRbeF1cbiAgICB4NCA9IGRbeDJdXG4gICAgeDggPSBkW3g0XVxuICAgIHQgPSAoZFtzeF0gKiAweDEwMSkgXiAoc3ggKiAweDEwMTAxMDApXG4gICAgdGhpcy5TVUJfTUlYWzBdW3hdID0gKHQgPDwgMjQpIHwgKHQgPj4+IDgpXG4gICAgdGhpcy5TVUJfTUlYWzFdW3hdID0gKHQgPDwgMTYpIHwgKHQgPj4+IDE2KVxuICAgIHRoaXMuU1VCX01JWFsyXVt4XSA9ICh0IDw8IDgpIHwgKHQgPj4+IDI0KVxuICAgIHRoaXMuU1VCX01JWFszXVt4XSA9IHRcbiAgICB0ID0gKHg4ICogMHgxMDEwMTAxKSBeICh4NCAqIDB4MTAwMDEpIF4gKHgyICogMHgxMDEpIF4gKHggKiAweDEwMTAxMDApXG4gICAgdGhpcy5JTlZfU1VCX01JWFswXVtzeF0gPSAodCA8PCAyNCkgfCAodCA+Pj4gOClcbiAgICB0aGlzLklOVl9TVUJfTUlYWzFdW3N4XSA9ICh0IDw8IDE2KSB8ICh0ID4+PiAxNilcbiAgICB0aGlzLklOVl9TVUJfTUlYWzJdW3N4XSA9ICh0IDw8IDgpIHwgKHQgPj4+IDI0KVxuICAgIHRoaXMuSU5WX1NVQl9NSVhbM11bc3hdID0gdFxuICAgIGlmICh4ID09PSAwKSB7XG4gICAgICB4ID0geGkgPSAxXG4gICAgfSBlbHNlIHtcbiAgICAgIHggPSB4MiBeIGRbZFtkW3g4IF4geDJdXV1cbiAgICAgIHhpIF49IGRbZFt4aV1dXG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbnZhciBHID0gbmV3IEdsb2JhbCgpXG5cbkFFUy5ibG9ja1NpemUgPSA0ICogNFxuXG5BRVMucHJvdG90eXBlLmJsb2NrU2l6ZSA9IEFFUy5ibG9ja1NpemVcblxuQUVTLmtleVNpemUgPSAyNTYgLyA4XG5cbkFFUy5wcm90b3R5cGUua2V5U2l6ZSA9IEFFUy5rZXlTaXplXG5cbmZ1bmN0aW9uIGJ1ZmZlclRvQXJyYXkgKGJ1Zikge1xuICB2YXIgbGVuID0gYnVmLmxlbmd0aCAvIDRcbiAgdmFyIG91dCA9IG5ldyBBcnJheShsZW4pXG4gIHZhciBpID0gLTFcbiAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgIG91dFtpXSA9IGJ1Zi5yZWFkVUludDMyQkUoaSAqIDQpXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuZnVuY3Rpb24gQUVTIChrZXkpIHtcbiAgdGhpcy5fa2V5ID0gYnVmZmVyVG9BcnJheShrZXkpXG4gIHRoaXMuX2RvUmVzZXQoKVxufVxuXG5BRVMucHJvdG90eXBlLl9kb1Jlc2V0ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgaW52S3NSb3csIGtleVNpemUsIGtleVdvcmRzLCBrc1Jvdywga3NSb3dzLCB0XG4gIGtleVdvcmRzID0gdGhpcy5fa2V5XG4gIGtleVNpemUgPSBrZXlXb3Jkcy5sZW5ndGhcbiAgdGhpcy5fblJvdW5kcyA9IGtleVNpemUgKyA2XG4gIGtzUm93cyA9ICh0aGlzLl9uUm91bmRzICsgMSkgKiA0XG4gIHRoaXMuX2tleVNjaGVkdWxlID0gW11cbiAgZm9yIChrc1JvdyA9IDA7IGtzUm93IDwga3NSb3dzOyBrc1JvdysrKSB7XG4gICAgdGhpcy5fa2V5U2NoZWR1bGVba3NSb3ddID0ga3NSb3cgPCBrZXlTaXplID8ga2V5V29yZHNba3NSb3ddIDogKHQgPSB0aGlzLl9rZXlTY2hlZHVsZVtrc1JvdyAtIDFdLCAoa3NSb3cgJSBrZXlTaXplKSA9PT0gMCA/ICh0ID0gKHQgPDwgOCkgfCAodCA+Pj4gMjQpLCB0ID0gKEcuU0JPWFt0ID4+PiAyNF0gPDwgMjQpIHwgKEcuU0JPWFsodCA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKEcuU0JPWFsodCA+Pj4gOCkgJiAweGZmXSA8PCA4KSB8IEcuU0JPWFt0ICYgMHhmZl0sIHQgXj0gRy5SQ09OWyhrc1JvdyAvIGtleVNpemUpIHwgMF0gPDwgMjQpIDoga2V5U2l6ZSA+IDYgJiYga3NSb3cgJSBrZXlTaXplID09PSA0ID8gdCA9IChHLlNCT1hbdCA+Pj4gMjRdIDw8IDI0KSB8IChHLlNCT1hbKHQgPj4+IDE2KSAmIDB4ZmZdIDw8IDE2KSB8IChHLlNCT1hbKHQgPj4+IDgpICYgMHhmZl0gPDwgOCkgfCBHLlNCT1hbdCAmIDB4ZmZdIDogdm9pZCAwLCB0aGlzLl9rZXlTY2hlZHVsZVtrc1JvdyAtIGtleVNpemVdIF4gdClcbiAgfVxuICB0aGlzLl9pbnZLZXlTY2hlZHVsZSA9IFtdXG4gIGZvciAoaW52S3NSb3cgPSAwOyBpbnZLc1JvdyA8IGtzUm93czsgaW52S3NSb3crKykge1xuICAgIGtzUm93ID0ga3NSb3dzIC0gaW52S3NSb3dcbiAgICB0ID0gdGhpcy5fa2V5U2NoZWR1bGVba3NSb3cgLSAoaW52S3NSb3cgJSA0ID8gMCA6IDQpXVxuICAgIHRoaXMuX2ludktleVNjaGVkdWxlW2ludktzUm93XSA9IGludktzUm93IDwgNCB8fCBrc1JvdyA8PSA0ID8gdCA6IEcuSU5WX1NVQl9NSVhbMF1bRy5TQk9YW3QgPj4+IDI0XV0gXiBHLklOVl9TVUJfTUlYWzFdW0cuU0JPWFsodCA+Pj4gMTYpICYgMHhmZl1dIF4gRy5JTlZfU1VCX01JWFsyXVtHLlNCT1hbKHQgPj4+IDgpICYgMHhmZl1dIF4gRy5JTlZfU1VCX01JWFszXVtHLlNCT1hbdCAmIDB4ZmZdXVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbkFFUy5wcm90b3R5cGUuZW5jcnlwdEJsb2NrID0gZnVuY3Rpb24gKE0pIHtcbiAgTSA9IGJ1ZmZlclRvQXJyYXkobmV3IEJ1ZmZlcihNKSlcbiAgdmFyIG91dCA9IHRoaXMuX2RvQ3J5cHRCbG9jayhNLCB0aGlzLl9rZXlTY2hlZHVsZSwgRy5TVUJfTUlYLCBHLlNCT1gpXG4gIHZhciBidWYgPSBuZXcgQnVmZmVyKDE2KVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbMF0sIDApXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFsxXSwgNClcbiAgYnVmLndyaXRlVUludDMyQkUob3V0WzJdLCA4KVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbM10sIDEyKVxuICByZXR1cm4gYnVmXG59XG5cbkFFUy5wcm90b3R5cGUuZGVjcnlwdEJsb2NrID0gZnVuY3Rpb24gKE0pIHtcbiAgTSA9IGJ1ZmZlclRvQXJyYXkobmV3IEJ1ZmZlcihNKSlcbiAgdmFyIHRlbXAgPSBbTVszXSwgTVsxXV1cbiAgTVsxXSA9IHRlbXBbMF1cbiAgTVszXSA9IHRlbXBbMV1cbiAgdmFyIG91dCA9IHRoaXMuX2RvQ3J5cHRCbG9jayhNLCB0aGlzLl9pbnZLZXlTY2hlZHVsZSwgRy5JTlZfU1VCX01JWCwgRy5JTlZfU0JPWClcbiAgdmFyIGJ1ZiA9IG5ldyBCdWZmZXIoMTYpXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFswXSwgMClcbiAgYnVmLndyaXRlVUludDMyQkUob3V0WzNdLCA0KVxuICBidWYud3JpdGVVSW50MzJCRShvdXRbMl0sIDgpXG4gIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFsxXSwgMTIpXG4gIHJldHVybiBidWZcbn1cblxuQUVTLnByb3RvdHlwZS5zY3J1YiA9IGZ1bmN0aW9uICgpIHtcbiAgc2NydWJfdmVjKHRoaXMuX2tleVNjaGVkdWxlKVxuICBzY3J1Yl92ZWModGhpcy5faW52S2V5U2NoZWR1bGUpXG4gIHNjcnViX3ZlYyh0aGlzLl9rZXkpXG59XG5cbkFFUy5wcm90b3R5cGUuX2RvQ3J5cHRCbG9jayA9IGZ1bmN0aW9uIChNLCBrZXlTY2hlZHVsZSwgU1VCX01JWCwgU0JPWCkge1xuICB2YXIga3NSb3csIHMwLCBzMSwgczIsIHMzLCB0MCwgdDEsIHQyLCB0M1xuXG4gIHMwID0gTVswXSBeIGtleVNjaGVkdWxlWzBdXG4gIHMxID0gTVsxXSBeIGtleVNjaGVkdWxlWzFdXG4gIHMyID0gTVsyXSBeIGtleVNjaGVkdWxlWzJdXG4gIHMzID0gTVszXSBeIGtleVNjaGVkdWxlWzNdXG4gIGtzUm93ID0gNFxuICBmb3IgKHZhciByb3VuZCA9IDE7IHJvdW5kIDwgdGhpcy5fblJvdW5kczsgcm91bmQrKykge1xuICAgIHQwID0gU1VCX01JWFswXVtzMCA+Pj4gMjRdIF4gU1VCX01JWFsxXVsoczEgPj4+IDE2KSAmIDB4ZmZdIF4gU1VCX01JWFsyXVsoczIgPj4+IDgpICYgMHhmZl0gXiBTVUJfTUlYWzNdW3MzICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICAgIHQxID0gU1VCX01JWFswXVtzMSA+Pj4gMjRdIF4gU1VCX01JWFsxXVsoczIgPj4+IDE2KSAmIDB4ZmZdIF4gU1VCX01JWFsyXVsoczMgPj4+IDgpICYgMHhmZl0gXiBTVUJfTUlYWzNdW3MwICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICAgIHQyID0gU1VCX01JWFswXVtzMiA+Pj4gMjRdIF4gU1VCX01JWFsxXVsoczMgPj4+IDE2KSAmIDB4ZmZdIF4gU1VCX01JWFsyXVsoczAgPj4+IDgpICYgMHhmZl0gXiBTVUJfTUlYWzNdW3MxICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICAgIHQzID0gU1VCX01JWFswXVtzMyA+Pj4gMjRdIF4gU1VCX01JWFsxXVsoczAgPj4+IDE2KSAmIDB4ZmZdIF4gU1VCX01JWFsyXVsoczEgPj4+IDgpICYgMHhmZl0gXiBTVUJfTUlYWzNdW3MyICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICAgIHMwID0gdDBcbiAgICBzMSA9IHQxXG4gICAgczIgPSB0MlxuICAgIHMzID0gdDNcbiAgfVxuICB0MCA9ICgoU0JPWFtzMCA+Pj4gMjRdIDw8IDI0KSB8IChTQk9YWyhzMSA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKFNCT1hbKHMyID4+PiA4KSAmIDB4ZmZdIDw8IDgpIHwgU0JPWFtzMyAmIDB4ZmZdKSBeIGtleVNjaGVkdWxlW2tzUm93KytdXG4gIHQxID0gKChTQk9YW3MxID4+PiAyNF0gPDwgMjQpIHwgKFNCT1hbKHMyID4+PiAxNikgJiAweGZmXSA8PCAxNikgfCAoU0JPWFsoczMgPj4+IDgpICYgMHhmZl0gPDwgOCkgfCBTQk9YW3MwICYgMHhmZl0pIF4ga2V5U2NoZWR1bGVba3NSb3crK11cbiAgdDIgPSAoKFNCT1hbczIgPj4+IDI0XSA8PCAyNCkgfCAoU0JPWFsoczMgPj4+IDE2KSAmIDB4ZmZdIDw8IDE2KSB8IChTQk9YWyhzMCA+Pj4gOCkgJiAweGZmXSA8PCA4KSB8IFNCT1hbczEgJiAweGZmXSkgXiBrZXlTY2hlZHVsZVtrc1JvdysrXVxuICB0MyA9ICgoU0JPWFtzMyA+Pj4gMjRdIDw8IDI0KSB8IChTQk9YWyhzMCA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKFNCT1hbKHMxID4+PiA4KSAmIDB4ZmZdIDw8IDgpIHwgU0JPWFtzMiAmIDB4ZmZdKSBeIGtleVNjaGVkdWxlW2tzUm93KytdXG4gIHJldHVybiBbXG4gICAgZml4dXBfdWludDMyKHQwKSxcbiAgICBmaXh1cF91aW50MzIodDEpLFxuICAgIGZpeHVwX3VpbnQzMih0MiksXG4gICAgZml4dXBfdWludDMyKHQzKVxuICBdXG59XG5cbmV4cG9ydHMuQUVTID0gQUVTXG5cbn0pLmNhbGwodGhpcyxyZXF1aXJlKFwiYnVmZmVyXCIpLkJ1ZmZlcilcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0OnV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYkltNXZaR1ZmYlc5a2RXeGxjeTlpY205M2MyVnlhV1o1TDI1dlpHVmZiVzlrZFd4bGN5OWpjbmx3ZEc4dFluSnZkM05sY21sbWVTOXViMlJsWDIxdlpIVnNaWE12WW5KdmQzTmxjbWxtZVMxamFYQm9aWEl2Ym05a1pWOXRiMlIxYkdWekwySnliM2R6WlhKcFpua3RZV1Z6TDJGbGN5NXFjeUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lPMEZCUVVFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRTdRVUZEUVR0QlFVTkJPMEZCUTBFN1FVRkRRVHRCUVVOQk8wRkJRMEU3UVVGRFFUdEJRVU5CTzBGQlEwRWlMQ0ptYVd4bElqb2laMlZ1WlhKaGRHVmtMbXB6SWl3aWMyOTFjbU5sVW05dmRDSTZJaUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSWk4dklHSmhjMlZrSUc5dUlIUm9aU0JoWlhNZ2FXMXdiR2x0Wlc1MFlYUnBiMjRnYVc0Z2RISnBjR3hsSUhObFkxeHVMeThnYUhSMGNITTZMeTluYVhSb2RXSXVZMjl0TDJ0bGVXSmhjMlV2ZEhKcGNHeGxjMlZqWEc1Y2JpOHZJSGRvYVdOb0lHbHpJR2x1SUhSMWNtNGdZbUZ6WldRZ2IyNGdkR2hsSUc5dVpTQm1jbTl0SUdOeWVYQjBieTFxYzF4dUx5OGdhSFIwY0hNNkx5OWpiMlJsTG1kdmIyZHNaUzVqYjIwdmNDOWpjbmx3ZEc4dGFuTXZYRzVjYm5aaGNpQjFhVzUwWDIxaGVDQTlJRTFoZEdndWNHOTNLRElzSURNeUtWeHVablZ1WTNScGIyNGdabWw0ZFhCZmRXbHVkRE15SUNoNEtTQjdYRzRnSUhaaGNpQnlaWFFzSUhoZmNHOXpYRzRnSUhKbGRDQTlJSGdnUGlCMWFXNTBYMjFoZUNCOGZDQjRJRHdnTUNBL0lDaDRYM0J2Y3lBOUlFMWhkR2d1WVdKektIZ3BJQ1VnZFdsdWRGOXRZWGdzSUhnZ1BDQXdJRDhnZFdsdWRGOXRZWGdnTFNCNFgzQnZjeUE2SUhoZmNHOXpLU0E2SUhoY2JpQWdjbVYwZFhKdUlISmxkRnh1ZlZ4dVpuVnVZM1JwYjI0Z2MyTnlkV0pmZG1WaklDaDJLU0I3WEc0Z0lHWnZjaUFvZG1GeUlHa2dQU0F3T3lCcElEd2dkaTVzWlc1bmRHZzdJSFlyS3lrZ2UxeHVJQ0FnSUhaYmFWMGdQU0F3WEc0Z0lIMWNiaUFnY21WMGRYSnVJR1poYkhObFhHNTlYRzVjYm1aMWJtTjBhVzl1SUVkc2IySmhiQ0FvS1NCN1hHNGdJSFJvYVhNdVUwSlBXQ0E5SUZ0ZFhHNGdJSFJvYVhNdVNVNVdYMU5DVDFnZ1BTQmJYVnh1SUNCMGFHbHpMbE5WUWw5TlNWZ2dQU0JiVzEwc0lGdGRMQ0JiWFN3Z1cxMWRYRzRnSUhSb2FYTXVTVTVXWDFOVlFsOU5TVmdnUFNCYlcxMHNJRnRkTENCYlhTd2dXMTFkWEc0Z0lIUm9hWE11YVc1cGRDZ3BYRzRnSUhSb2FYTXVVa05QVGlBOUlGc3dlREF3TENBd2VEQXhMQ0F3ZURBeUxDQXdlREEwTENBd2VEQTRMQ0F3ZURFd0xDQXdlREl3TENBd2VEUXdMQ0F3ZURnd0xDQXdlREZpTENBd2VETTJYVnh1ZlZ4dVhHNUhiRzlpWVd3dWNISnZkRzkwZVhCbExtbHVhWFFnUFNCbWRXNWpkR2x2YmlBb0tTQjdYRzRnSUhaaGNpQmtMQ0JwTENCemVDd2dkQ3dnZUN3Z2VESXNJSGcwTENCNE9Dd2dlR2tzSUY5cFhHNGdJR1FnUFNBb1puVnVZM1JwYjI0Z0tDa2dlMXh1SUNBZ0lIWmhjaUJmYVN3Z1gzSmxjM1ZzZEhOY2JpQWdJQ0JmY21WemRXeDBjeUE5SUZ0ZFhHNGdJQ0FnWm05eUlDaHBJRDBnWDJrZ1BTQXdPeUJmYVNBOElESTFOanNnYVNBOUlDc3JYMmtwSUh0Y2JpQWdJQ0FnSUdsbUlDaHBJRHdnTVRJNEtTQjdYRzRnSUNBZ0lDQWdJRjl5WlhOMWJIUnpMbkIxYzJnb2FTQThQQ0F4S1Z4dUlDQWdJQ0FnZlNCbGJITmxJSHRjYmlBZ0lDQWdJQ0FnWDNKbGMzVnNkSE11Y0hWemFDZ29hU0E4UENBeEtTQmVJREI0TVRGaUtWeHVJQ0FnSUNBZ2ZWeHVJQ0FnSUgxY2JpQWdJQ0J5WlhSMWNtNGdYM0psYzNWc2RITmNiaUFnZlNrb0tWeHVJQ0I0SUQwZ01GeHVJQ0I0YVNBOUlEQmNiaUFnWm05eUlDaHBJRDBnWDJrZ1BTQXdPeUJmYVNBOElESTFOanNnYVNBOUlDc3JYMmtwSUh0Y2JpQWdJQ0J6ZUNBOUlIaHBJRjRnS0hocElEdzhJREVwSUY0Z0tIaHBJRHc4SURJcElGNGdLSGhwSUR3OElETXBJRjRnS0hocElEdzhJRFFwWEc0Z0lDQWdjM2dnUFNBb2MzZ2dQajQrSURncElGNGdLSE40SUNZZ01IaG1aaWtnWGlBd2VEWXpYRzRnSUNBZ2RHaHBjeTVUUWs5WVczaGRJRDBnYzNoY2JpQWdJQ0IwYUdsekxrbE9WbDlUUWs5WVczTjRYU0E5SUhoY2JpQWdJQ0I0TWlBOUlHUmJlRjFjYmlBZ0lDQjROQ0E5SUdSYmVESmRYRzRnSUNBZ2VEZ2dQU0JrVzNnMFhWeHVJQ0FnSUhRZ1BTQW9aRnR6ZUYwZ0tpQXdlREV3TVNrZ1hpQW9jM2dnS2lBd2VERXdNVEF4TURBcFhHNGdJQ0FnZEdocGN5NVRWVUpmVFVsWVd6QmRXM2hkSUQwZ0tIUWdQRHdnTWpRcElId2dLSFFnUGo0K0lEZ3BYRzRnSUNBZ2RHaHBjeTVUVlVKZlRVbFlXekZkVzNoZElEMGdLSFFnUER3Z01UWXBJSHdnS0hRZ1BqNCtJREUyS1Z4dUlDQWdJSFJvYVhNdVUxVkNYMDFKV0ZzeVhWdDRYU0E5SUNoMElEdzhJRGdwSUh3Z0tIUWdQajQrSURJMEtWeHVJQ0FnSUhSb2FYTXVVMVZDWDAxSldGc3pYVnQ0WFNBOUlIUmNiaUFnSUNCMElEMGdLSGc0SUNvZ01IZ3hNREV3TVRBeEtTQmVJQ2g0TkNBcUlEQjRNVEF3TURFcElGNGdLSGd5SUNvZ01IZ3hNREVwSUY0Z0tIZ2dLaUF3ZURFd01UQXhNREFwWEc0Z0lDQWdkR2hwY3k1SlRsWmZVMVZDWDAxSldGc3dYVnR6ZUYwZ1BTQW9kQ0E4UENBeU5Da2dmQ0FvZENBK1BqNGdPQ2xjYmlBZ0lDQjBhR2x6TGtsT1ZsOVRWVUpmVFVsWVd6RmRXM040WFNBOUlDaDBJRHc4SURFMktTQjhJQ2gwSUQ0K1BpQXhOaWxjYmlBZ0lDQjBhR2x6TGtsT1ZsOVRWVUpmVFVsWVd6SmRXM040WFNBOUlDaDBJRHc4SURncElId2dLSFFnUGo0K0lESTBLVnh1SUNBZ0lIUm9hWE11U1U1V1gxTlZRbDlOU1ZoYk0xMWJjM2hkSUQwZ2RGeHVJQ0FnSUdsbUlDaDRJRDA5UFNBd0tTQjdYRzRnSUNBZ0lDQjRJRDBnZUdrZ1BTQXhYRzRnSUNBZ2ZTQmxiSE5sSUh0Y2JpQWdJQ0FnSUhnZ1BTQjRNaUJlSUdSYlpGdGtXM2c0SUY0Z2VESmRYVjFjYmlBZ0lDQWdJSGhwSUY0OUlHUmJaRnQ0YVYxZFhHNGdJQ0FnZlZ4dUlDQjlYRzRnSUhKbGRIVnliaUIwY25WbFhHNTlYRzVjYm5aaGNpQkhJRDBnYm1WM0lFZHNiMkpoYkNncFhHNWNia0ZGVXk1aWJHOWphMU5wZW1VZ1BTQTBJQ29nTkZ4dVhHNUJSVk11Y0hKdmRHOTBlWEJsTG1Kc2IyTnJVMmw2WlNBOUlFRkZVeTVpYkc5amExTnBlbVZjYmx4dVFVVlRMbXRsZVZOcGVtVWdQU0F5TlRZZ0x5QTRYRzVjYmtGRlV5NXdjbTkwYjNSNWNHVXVhMlY1VTJsNlpTQTlJRUZGVXk1clpYbFRhWHBsWEc1Y2JtWjFibU4wYVc5dUlHSjFabVpsY2xSdlFYSnlZWGtnS0dKMVppa2dlMXh1SUNCMllYSWdiR1Z1SUQwZ1luVm1MbXhsYm1kMGFDQXZJRFJjYmlBZ2RtRnlJRzkxZENBOUlHNWxkeUJCY25KaGVTaHNaVzRwWEc0Z0lIWmhjaUJwSUQwZ0xURmNiaUFnZDJocGJHVWdLQ3NyYVNBOElHeGxiaWtnZTF4dUlDQWdJRzkxZEZ0cFhTQTlJR0oxWmk1eVpXRmtWVWx1ZERNeVFrVW9hU0FxSURRcFhHNGdJSDFjYmlBZ2NtVjBkWEp1SUc5MWRGeHVmVnh1Wm5WdVkzUnBiMjRnUVVWVElDaHJaWGtwSUh0Y2JpQWdkR2hwY3k1ZmEyVjVJRDBnWW5WbVptVnlWRzlCY25KaGVTaHJaWGtwWEc0Z0lIUm9hWE11WDJSdlVtVnpaWFFvS1Z4dWZWeHVYRzVCUlZNdWNISnZkRzkwZVhCbExsOWtiMUpsYzJWMElEMGdablZ1WTNScGIyNGdLQ2tnZTF4dUlDQjJZWElnYVc1MlMzTlNiM2NzSUd0bGVWTnBlbVVzSUd0bGVWZHZjbVJ6TENCcmMxSnZkeXdnYTNOU2IzZHpMQ0IwWEc0Z0lHdGxlVmR2Y21SeklEMGdkR2hwY3k1ZmEyVjVYRzRnSUd0bGVWTnBlbVVnUFNCclpYbFhiM0prY3k1c1pXNW5kR2hjYmlBZ2RHaHBjeTVmYmxKdmRXNWtjeUE5SUd0bGVWTnBlbVVnS3lBMlhHNGdJR3R6VW05M2N5QTlJQ2gwYUdsekxsOXVVbTkxYm1SeklDc2dNU2tnS2lBMFhHNGdJSFJvYVhNdVgydGxlVk5qYUdWa2RXeGxJRDBnVzExY2JpQWdabTl5SUNocmMxSnZkeUE5SURBN0lHdHpVbTkzSUR3Z2EzTlNiM2R6T3lCcmMxSnZkeXNyS1NCN1hHNGdJQ0FnZEdocGN5NWZhMlY1VTJOb1pXUjFiR1ZiYTNOU2IzZGRJRDBnYTNOU2IzY2dQQ0JyWlhsVGFYcGxJRDhnYTJWNVYyOXlaSE5iYTNOU2IzZGRJRG9nS0hRZ1BTQjBhR2x6TGw5clpYbFRZMmhsWkhWc1pWdHJjMUp2ZHlBdElERmRMQ0FvYTNOU2IzY2dKU0JyWlhsVGFYcGxLU0E5UFQwZ01DQS9JQ2gwSUQwZ0tIUWdQRHdnT0NrZ2ZDQW9kQ0ErUGo0Z01qUXBMQ0IwSUQwZ0tFY3VVMEpQV0Z0MElENCtQaUF5TkYwZ1BEd2dNalFwSUh3Z0tFY3VVMEpQV0Zzb2RDQStQajRnTVRZcElDWWdNSGhtWmwwZ1BEd2dNVFlwSUh3Z0tFY3VVMEpQV0Zzb2RDQStQajRnT0NrZ0ppQXdlR1ptWFNBOFBDQTRLU0I4SUVjdVUwSlBXRnQwSUNZZ01IaG1abDBzSUhRZ1hqMGdSeTVTUTA5T1d5aHJjMUp2ZHlBdklHdGxlVk5wZW1VcElId2dNRjBnUER3Z01qUXBJRG9nYTJWNVUybDZaU0ErSURZZ0ppWWdhM05TYjNjZ0pTQnJaWGxUYVhwbElEMDlQU0EwSUQ4Z2RDQTlJQ2hITGxOQ1QxaGJkQ0ErUGo0Z01qUmRJRHc4SURJMEtTQjhJQ2hITGxOQ1QxaGJLSFFnUGo0K0lERTJLU0FtSURCNFptWmRJRHc4SURFMktTQjhJQ2hITGxOQ1QxaGJLSFFnUGo0K0lEZ3BJQ1lnTUhobVpsMGdQRHdnT0NrZ2ZDQkhMbE5DVDFoYmRDQW1JREI0Wm1aZElEb2dkbTlwWkNBd0xDQjBhR2x6TGw5clpYbFRZMmhsWkhWc1pWdHJjMUp2ZHlBdElHdGxlVk5wZW1WZElGNGdkQ2xjYmlBZ2ZWeHVJQ0IwYUdsekxsOXBiblpMWlhsVFkyaGxaSFZzWlNBOUlGdGRYRzRnSUdadmNpQW9hVzUyUzNOU2IzY2dQU0F3T3lCcGJuWkxjMUp2ZHlBOElHdHpVbTkzY3pzZ2FXNTJTM05TYjNjckt5a2dlMXh1SUNBZ0lHdHpVbTkzSUQwZ2EzTlNiM2R6SUMwZ2FXNTJTM05TYjNkY2JpQWdJQ0IwSUQwZ2RHaHBjeTVmYTJWNVUyTm9aV1IxYkdWYmEzTlNiM2NnTFNBb2FXNTJTM05TYjNjZ0pTQTBJRDhnTUNBNklEUXBYVnh1SUNBZ0lIUm9hWE11WDJsdWRrdGxlVk5qYUdWa2RXeGxXMmx1ZGt0elVtOTNYU0E5SUdsdWRrdHpVbTkzSUR3Z05DQjhmQ0JyYzFKdmR5QThQU0EwSUQ4Z2RDQTZJRWN1U1U1V1gxTlZRbDlOU1ZoYk1GMWJSeTVUUWs5WVczUWdQajQrSURJMFhWMGdYaUJITGtsT1ZsOVRWVUpmVFVsWVd6RmRXMGN1VTBKUFdGc29kQ0ErUGo0Z01UWXBJQ1lnTUhobVpsMWRJRjRnUnk1SlRsWmZVMVZDWDAxSldGc3lYVnRITGxOQ1QxaGJLSFFnUGo0K0lEZ3BJQ1lnTUhobVpsMWRJRjRnUnk1SlRsWmZVMVZDWDAxSldGc3pYVnRITGxOQ1QxaGJkQ0FtSURCNFptWmRYVnh1SUNCOVhHNGdJSEpsZEhWeWJpQjBjblZsWEc1OVhHNWNia0ZGVXk1d2NtOTBiM1I1Y0dVdVpXNWpjbmx3ZEVKc2IyTnJJRDBnWm5WdVkzUnBiMjRnS0UwcElIdGNiaUFnVFNBOUlHSjFabVpsY2xSdlFYSnlZWGtvYm1WM0lFSjFabVpsY2loTktTbGNiaUFnZG1GeUlHOTFkQ0E5SUhSb2FYTXVYMlJ2UTNKNWNIUkNiRzlqYXloTkxDQjBhR2x6TGw5clpYbFRZMmhsWkhWc1pTd2dSeTVUVlVKZlRVbFlMQ0JITGxOQ1QxZ3BYRzRnSUhaaGNpQmlkV1lnUFNCdVpYY2dRblZtWm1WeUtERTJLVnh1SUNCaWRXWXVkM0pwZEdWVlNXNTBNekpDUlNodmRYUmJNRjBzSURBcFhHNGdJR0oxWmk1M2NtbDBaVlZKYm5Rek1rSkZLRzkxZEZzeFhTd2dOQ2xjYmlBZ1luVm1MbmR5YVhSbFZVbHVkRE15UWtVb2IzVjBXekpkTENBNEtWeHVJQ0JpZFdZdWQzSnBkR1ZWU1c1ME16SkNSU2h2ZFhSYk0xMHNJREV5S1Z4dUlDQnlaWFIxY200Z1luVm1YRzU5WEc1Y2JrRkZVeTV3Y205MGIzUjVjR1V1WkdWamNubHdkRUpzYjJOcklEMGdablZ1WTNScGIyNGdLRTBwSUh0Y2JpQWdUU0E5SUdKMVptWmxjbFJ2UVhKeVlYa29ibVYzSUVKMVptWmxjaWhOS1NsY2JpQWdkbUZ5SUhSbGJYQWdQU0JiVFZzelhTd2dUVnN4WFYxY2JpQWdUVnN4WFNBOUlIUmxiWEJiTUYxY2JpQWdUVnN6WFNBOUlIUmxiWEJiTVYxY2JpQWdkbUZ5SUc5MWRDQTlJSFJvYVhNdVgyUnZRM0o1Y0hSQ2JHOWpheWhOTENCMGFHbHpMbDlwYm5aTFpYbFRZMmhsWkhWc1pTd2dSeTVKVGxaZlUxVkNYMDFKV0N3Z1J5NUpUbFpmVTBKUFdDbGNiaUFnZG1GeUlHSjFaaUE5SUc1bGR5QkNkV1ptWlhJb01UWXBYRzRnSUdKMVppNTNjbWwwWlZWSmJuUXpNa0pGS0c5MWRGc3dYU3dnTUNsY2JpQWdZblZtTG5keWFYUmxWVWx1ZERNeVFrVW9iM1YwV3pOZExDQTBLVnh1SUNCaWRXWXVkM0pwZEdWVlNXNTBNekpDUlNodmRYUmJNbDBzSURncFhHNGdJR0oxWmk1M2NtbDBaVlZKYm5Rek1rSkZLRzkxZEZzeFhTd2dNVElwWEc0Z0lISmxkSFZ5YmlCaWRXWmNibjFjYmx4dVFVVlRMbkJ5YjNSdmRIbHdaUzV6WTNKMVlpQTlJR1oxYm1OMGFXOXVJQ2dwSUh0Y2JpQWdjMk55ZFdKZmRtVmpLSFJvYVhNdVgydGxlVk5qYUdWa2RXeGxLVnh1SUNCelkzSjFZbDkyWldNb2RHaHBjeTVmYVc1MlMyVjVVMk5vWldSMWJHVXBYRzRnSUhOamNuVmlYM1psWXloMGFHbHpMbDlyWlhrcFhHNTlYRzVjYmtGRlV5NXdjbTkwYjNSNWNHVXVYMlJ2UTNKNWNIUkNiRzlqYXlBOUlHWjFibU4wYVc5dUlDaE5MQ0JyWlhsVFkyaGxaSFZzWlN3Z1UxVkNYMDFKV0N3Z1UwSlBXQ2tnZTF4dUlDQjJZWElnYTNOU2IzY3NJSE13TENCek1Td2djeklzSUhNekxDQjBNQ3dnZERFc0lIUXlMQ0IwTTF4dVhHNGdJSE13SUQwZ1RWc3dYU0JlSUd0bGVWTmphR1ZrZFd4bFd6QmRYRzRnSUhNeElEMGdUVnN4WFNCZUlHdGxlVk5qYUdWa2RXeGxXekZkWEc0Z0lITXlJRDBnVFZzeVhTQmVJR3RsZVZOamFHVmtkV3hsV3pKZFhHNGdJSE16SUQwZ1RWc3pYU0JlSUd0bGVWTmphR1ZrZFd4bFd6TmRYRzRnSUd0elVtOTNJRDBnTkZ4dUlDQm1iM0lnS0haaGNpQnliM1Z1WkNBOUlERTdJSEp2ZFc1a0lEd2dkR2hwY3k1ZmJsSnZkVzVrY3pzZ2NtOTFibVFyS3lrZ2UxeHVJQ0FnSUhRd0lEMGdVMVZDWDAxSldGc3dYVnR6TUNBK1BqNGdNalJkSUY0Z1UxVkNYMDFKV0ZzeFhWc29jekVnUGo0K0lERTJLU0FtSURCNFptWmRJRjRnVTFWQ1gwMUpXRnN5WFZzb2N6SWdQajQrSURncElDWWdNSGhtWmwwZ1hpQlRWVUpmVFVsWVd6TmRXM016SUNZZ01IaG1abDBnWGlCclpYbFRZMmhsWkhWc1pWdHJjMUp2ZHlzclhWeHVJQ0FnSUhReElEMGdVMVZDWDAxSldGc3dYVnR6TVNBK1BqNGdNalJkSUY0Z1UxVkNYMDFKV0ZzeFhWc29jeklnUGo0K0lERTJLU0FtSURCNFptWmRJRjRnVTFWQ1gwMUpXRnN5WFZzb2N6TWdQajQrSURncElDWWdNSGhtWmwwZ1hpQlRWVUpmVFVsWVd6TmRXM013SUNZZ01IaG1abDBnWGlCclpYbFRZMmhsWkhWc1pWdHJjMUp2ZHlzclhWeHVJQ0FnSUhReUlEMGdVMVZDWDAxSldGc3dYVnR6TWlBK1BqNGdNalJkSUY0Z1UxVkNYMDFKV0ZzeFhWc29jek1nUGo0K0lERTJLU0FtSURCNFptWmRJRjRnVTFWQ1gwMUpXRnN5WFZzb2N6QWdQajQrSURncElDWWdNSGhtWmwwZ1hpQlRWVUpmVFVsWVd6TmRXM014SUNZZ01IaG1abDBnWGlCclpYbFRZMmhsWkhWc1pWdHJjMUp2ZHlzclhWeHVJQ0FnSUhReklEMGdVMVZDWDAxSldGc3dYVnR6TXlBK1BqNGdNalJkSUY0Z1UxVkNYMDFKV0ZzeFhWc29jekFnUGo0K0lERTJLU0FtSURCNFptWmRJRjRnVTFWQ1gwMUpXRnN5WFZzb2N6RWdQajQrSURncElDWWdNSGhtWmwwZ1hpQlRWVUpmVFVsWVd6TmRXM015SUNZZ01IaG1abDBnWGlCclpYbFRZMmhsWkhWc1pWdHJjMUp2ZHlzclhWeHVJQ0FnSUhNd0lEMGdkREJjYmlBZ0lDQnpNU0E5SUhReFhHNGdJQ0FnY3pJZ1BTQjBNbHh1SUNBZ0lITXpJRDBnZEROY2JpQWdmVnh1SUNCME1DQTlJQ2dvVTBKUFdGdHpNQ0ErUGo0Z01qUmRJRHc4SURJMEtTQjhJQ2hUUWs5WVd5aHpNU0ErUGo0Z01UWXBJQ1lnTUhobVpsMGdQRHdnTVRZcElId2dLRk5DVDFoYktITXlJRDQrUGlBNEtTQW1JREI0Wm1aZElEdzhJRGdwSUh3Z1UwSlBXRnR6TXlBbUlEQjRabVpkS1NCZUlHdGxlVk5qYUdWa2RXeGxXMnR6VW05M0t5dGRYRzRnSUhReElEMGdLQ2hUUWs5WVczTXhJRDQrUGlBeU5GMGdQRHdnTWpRcElId2dLRk5DVDFoYktITXlJRDQrUGlBeE5pa2dKaUF3ZUdabVhTQThQQ0F4TmlrZ2ZDQW9VMEpQV0Zzb2N6TWdQajQrSURncElDWWdNSGhtWmwwZ1BEd2dPQ2tnZkNCVFFrOVlXM013SUNZZ01IaG1abDBwSUY0Z2EyVjVVMk5vWldSMWJHVmJhM05TYjNjcksxMWNiaUFnZERJZ1BTQW9LRk5DVDFoYmN6SWdQajQrSURJMFhTQThQQ0F5TkNrZ2ZDQW9VMEpQV0Zzb2N6TWdQajQrSURFMktTQW1JREI0Wm1aZElEdzhJREUyS1NCOElDaFRRazlZV3loek1DQStQajRnT0NrZ0ppQXdlR1ptWFNBOFBDQTRLU0I4SUZOQ1QxaGJjekVnSmlBd2VHWm1YU2tnWGlCclpYbFRZMmhsWkhWc1pWdHJjMUp2ZHlzclhWeHVJQ0IwTXlBOUlDZ29VMEpQV0Z0ek15QStQajRnTWpSZElEdzhJREkwS1NCOElDaFRRazlZV3loek1DQStQajRnTVRZcElDWWdNSGhtWmwwZ1BEd2dNVFlwSUh3Z0tGTkNUMWhiS0hNeElENCtQaUE0S1NBbUlEQjRabVpkSUR3OElEZ3BJSHdnVTBKUFdGdHpNaUFtSURCNFptWmRLU0JlSUd0bGVWTmphR1ZrZFd4bFcydHpVbTkzS3l0ZFhHNGdJSEpsZEhWeWJpQmJYRzRnSUNBZ1ptbDRkWEJmZFdsdWRETXlLSFF3S1N4Y2JpQWdJQ0JtYVhoMWNGOTFhVzUwTXpJb2RERXBMRnh1SUNBZ0lHWnBlSFZ3WDNWcGJuUXpNaWgwTWlrc1hHNGdJQ0FnWm1sNGRYQmZkV2x1ZERNeUtIUXpLVnh1SUNCZFhHNTlYRzVjYm1WNGNHOXlkSE11UVVWVElEMGdRVVZUWEc0aVhYMD0iLCIvLyBBIEphdmFzY3JpcHQgaW1wbGVtZW50YWlvbiBvZiB0aGUgXCJ4b3J3b3dcIiBwcm5nIGFsZ29yaXRobSBieVxuLy8gR2VvcmdlIE1hcnNhZ2xpYS4gIFNlZSBodHRwOi8vd3d3LmpzdGF0c29mdC5vcmcvdjA4L2kxNC9wYXBlclxuXG4oZnVuY3Rpb24oZ2xvYmFsLCBtb2R1bGUsIGRlZmluZSkge1xuXG5mdW5jdGlvbiBYb3JHZW4oc2VlZCkge1xuICB2YXIgbWUgPSB0aGlzLCBzdHJzZWVkID0gJyc7XG5cbiAgLy8gU2V0IHVwIGdlbmVyYXRvciBmdW5jdGlvbi5cbiAgbWUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ID0gKG1lLnggXiAobWUueCA+Pj4gMikpO1xuICAgIG1lLnggPSBtZS55OyBtZS55ID0gbWUuejsgbWUueiA9IG1lLnc7IG1lLncgPSBtZS52O1xuICAgIHJldHVybiAobWUuZCA9IChtZS5kICsgMzYyNDM3IHwgMCkpICtcbiAgICAgICAobWUudiA9IChtZS52IF4gKG1lLnYgPDwgNCkpIF4gKHQgXiAodCA8PCAxKSkpIHwgMDtcbiAgfTtcblxuICBtZS54ID0gMDtcbiAgbWUueSA9IDA7XG4gIG1lLnogPSAwO1xuICBtZS53ID0gMDtcbiAgbWUudiA9IDA7XG5cbiAgaWYgKHNlZWQgPT09IChzZWVkIHwgMCkpIHtcbiAgICAvLyBJbnRlZ2VyIHNlZWQuXG4gICAgbWUueCA9IHNlZWQ7XG4gIH0gZWxzZSB7XG4gICAgLy8gU3RyaW5nIHNlZWQuXG4gICAgc3Ryc2VlZCArPSBzZWVkO1xuICB9XG5cbiAgLy8gTWl4IGluIHN0cmluZyBzZWVkLCB0aGVuIGRpc2NhcmQgYW4gaW5pdGlhbCBiYXRjaCBvZiA2NCB2YWx1ZXMuXG4gIGZvciAodmFyIGsgPSAwOyBrIDwgc3Ryc2VlZC5sZW5ndGggKyA2NDsgaysrKSB7XG4gICAgbWUueCBePSBzdHJzZWVkLmNoYXJDb2RlQXQoaykgfCAwO1xuICAgIGlmIChrID09IHN0cnNlZWQubGVuZ3RoKSB7XG4gICAgICBtZS5kID0gbWUueCA8PCAxMCBeIG1lLnggPj4+IDQ7XG4gICAgfVxuICAgIG1lLm5leHQoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb3B5KGYsIHQpIHtcbiAgdC54ID0gZi54O1xuICB0LnkgPSBmLnk7XG4gIHQueiA9IGYuejtcbiAgdC53ID0gZi53O1xuICB0LnYgPSBmLnY7XG4gIHQuZCA9IGYuZDtcbiAgcmV0dXJuIHQ7XG59XG5cbmZ1bmN0aW9uIGltcGwoc2VlZCwgb3B0cykge1xuICB2YXIgeGcgPSBuZXcgWG9yR2VuKHNlZWQpLFxuICAgICAgc3RhdGUgPSBvcHRzICYmIG9wdHMuc3RhdGUsXG4gICAgICBwcm5nID0gZnVuY3Rpb24oKSB7IHJldHVybiAoeGcubmV4dCgpID4+PiAwKSAvIDB4MTAwMDAwMDAwOyB9O1xuICBwcm5nLmRvdWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgIGRvIHtcbiAgICAgIHZhciB0b3AgPSB4Zy5uZXh0KCkgPj4+IDExLFxuICAgICAgICAgIGJvdCA9ICh4Zy5uZXh0KCkgPj4+IDApIC8gMHgxMDAwMDAwMDAsXG4gICAgICAgICAgcmVzdWx0ID0gKHRvcCArIGJvdCkgLyAoMSA8PCAyMSk7XG4gICAgfSB3aGlsZSAocmVzdWx0ID09PSAwKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBwcm5nLmludDMyID0geGcubmV4dDtcbiAgcHJuZy5xdWljayA9IHBybmc7XG4gIGlmIChzdGF0ZSkge1xuICAgIGlmICh0eXBlb2Yoc3RhdGUpID09ICdvYmplY3QnKSBjb3B5KHN0YXRlLCB4Zyk7XG4gICAgcHJuZy5zdGF0ZSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gY29weSh4Zywge30pOyB9XG4gIH1cbiAgcmV0dXJuIHBybmc7XG59XG5cbmlmIChtb2R1bGUgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSBpbXBsO1xufSBlbHNlIGlmIChkZWZpbmUgJiYgZGVmaW5lLmFtZCkge1xuICBkZWZpbmUoZnVuY3Rpb24oKSB7IHJldHVybiBpbXBsOyB9KTtcbn0gZWxzZSB7XG4gIHRoaXMueG9yd293ID0gaW1wbDtcbn1cblxufSkoXG4gIHRoaXMsXG4gICh0eXBlb2YgbW9kdWxlKSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUsICAgIC8vIHByZXNlbnQgaW4gbm9kZS5qc1xuICAodHlwZW9mIGRlZmluZSkgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUgICAvLyBwcmVzZW50IHdpdGggYW4gQU1EIGxvYWRlclxuKTtcblxuXG4iLCIvLyBBIEphdmFzY3JpcHQgaW1wbGVtZW50YWlvbiBvZiB0aGUgXCJ4b3JzaGlmdDdcIiBhbGdvcml0aG0gYnlcbi8vIEZyYW7Dp29pcyBQYW5uZXRvbiBhbmQgUGllcnJlIEwnZWN1eWVyOlxuLy8gXCJPbiB0aGUgWG9yZ3NoaWZ0IFJhbmRvbSBOdW1iZXIgR2VuZXJhdG9yc1wiXG4vLyBodHRwOi8vc2FsdWMuZW5nci51Y29ubi5lZHUvcmVmcy9jcnlwdG8vcm5nL3Bhbm5ldG9uMDVvbnRoZXhvcnNoaWZ0LnBkZlxuXG4oZnVuY3Rpb24oZ2xvYmFsLCBtb2R1bGUsIGRlZmluZSkge1xuXG5mdW5jdGlvbiBYb3JHZW4oc2VlZCkge1xuICB2YXIgbWUgPSB0aGlzO1xuXG4gIC8vIFNldCB1cCBnZW5lcmF0b3IgZnVuY3Rpb24uXG4gIG1lLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBVcGRhdGUgeG9yIGdlbmVyYXRvci5cbiAgICB2YXIgWCA9IG1lLngsIGkgPSBtZS5pLCB0LCB2LCB3O1xuICAgIHQgPSBYW2ldOyB0IF49ICh0ID4+PiA3KTsgdiA9IHQgXiAodCA8PCAyNCk7XG4gICAgdCA9IFhbKGkgKyAxKSAmIDddOyB2IF49IHQgXiAodCA+Pj4gMTApO1xuICAgIHQgPSBYWyhpICsgMykgJiA3XTsgdiBePSB0IF4gKHQgPj4+IDMpO1xuICAgIHQgPSBYWyhpICsgNCkgJiA3XTsgdiBePSB0IF4gKHQgPDwgNyk7XG4gICAgdCA9IFhbKGkgKyA3KSAmIDddOyB0ID0gdCBeICh0IDw8IDEzKTsgdiBePSB0IF4gKHQgPDwgOSk7XG4gICAgWFtpXSA9IHY7XG4gICAgbWUuaSA9IChpICsgMSkgJiA3O1xuICAgIHJldHVybiB2O1xuICB9O1xuXG4gIGZ1bmN0aW9uIGluaXQobWUsIHNlZWQpIHtcbiAgICB2YXIgaiwgdywgWCA9IFtdO1xuXG4gICAgaWYgKHNlZWQgPT09IChzZWVkIHwgMCkpIHtcbiAgICAgIC8vIFNlZWQgc3RhdGUgYXJyYXkgdXNpbmcgYSAzMi1iaXQgaW50ZWdlci5cbiAgICAgIHcgPSBYWzBdID0gc2VlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gU2VlZCBzdGF0ZSB1c2luZyBhIHN0cmluZy5cbiAgICAgIHNlZWQgPSAnJyArIHNlZWQ7XG4gICAgICBmb3IgKGogPSAwOyBqIDwgc2VlZC5sZW5ndGg7ICsraikge1xuICAgICAgICBYW2ogJiA3XSA9IChYW2ogJiA3XSA8PCAxNSkgXlxuICAgICAgICAgICAgKHNlZWQuY2hhckNvZGVBdChqKSArIFhbKGogKyAxKSAmIDddIDw8IDEzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gRW5mb3JjZSBhbiBhcnJheSBsZW5ndGggb2YgOCwgbm90IGFsbCB6ZXJvZXMuXG4gICAgd2hpbGUgKFgubGVuZ3RoIDwgOCkgWC5wdXNoKDApO1xuICAgIGZvciAoaiA9IDA7IGogPCA4ICYmIFhbal0gPT09IDA7ICsraik7XG4gICAgaWYgKGogPT0gOCkgdyA9IFhbN10gPSAtMTsgZWxzZSB3ID0gWFtqXTtcblxuICAgIG1lLnggPSBYO1xuICAgIG1lLmkgPSAwO1xuXG4gICAgLy8gRGlzY2FyZCBhbiBpbml0aWFsIDI1NiB2YWx1ZXMuXG4gICAgZm9yIChqID0gMjU2OyBqID4gMDsgLS1qKSB7XG4gICAgICBtZS5uZXh0KCk7XG4gICAgfVxuICB9XG5cbiAgaW5pdChtZSwgc2VlZCk7XG59XG5cbmZ1bmN0aW9uIGNvcHkoZiwgdCkge1xuICB0LnggPSBmLnguc2xpY2UoKTtcbiAgdC5pID0gZi5pO1xuICByZXR1cm4gdDtcbn1cblxuZnVuY3Rpb24gaW1wbChzZWVkLCBvcHRzKSB7XG4gIGlmIChzZWVkID09IG51bGwpIHNlZWQgPSArKG5ldyBEYXRlKTtcbiAgdmFyIHhnID0gbmV3IFhvckdlbihzZWVkKSxcbiAgICAgIHN0YXRlID0gb3B0cyAmJiBvcHRzLnN0YXRlLFxuICAgICAgcHJuZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gKHhnLm5leHQoKSA+Pj4gMCkgLyAweDEwMDAwMDAwMDsgfTtcbiAgcHJuZy5kb3VibGUgPSBmdW5jdGlvbigpIHtcbiAgICBkbyB7XG4gICAgICB2YXIgdG9wID0geGcubmV4dCgpID4+PiAxMSxcbiAgICAgICAgICBib3QgPSAoeGcubmV4dCgpID4+PiAwKSAvIDB4MTAwMDAwMDAwLFxuICAgICAgICAgIHJlc3VsdCA9ICh0b3AgKyBib3QpIC8gKDEgPDwgMjEpO1xuICAgIH0gd2hpbGUgKHJlc3VsdCA9PT0gMCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgcHJuZy5pbnQzMiA9IHhnLm5leHQ7XG4gIHBybmcucXVpY2sgPSBwcm5nO1xuICBpZiAoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUueCkgY29weShzdGF0ZSwgeGcpO1xuICAgIHBybmcuc3RhdGUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGNvcHkoeGcsIHt9KTsgfVxuICB9XG4gIHJldHVybiBwcm5nO1xufVxuXG5pZiAobW9kdWxlICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gaW1wbDtcbn0gZWxzZSBpZiAoZGVmaW5lICYmIGRlZmluZS5hbWQpIHtcbiAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gaW1wbDsgfSk7XG59IGVsc2Uge1xuICB0aGlzLnhvcnNoaWZ0NyA9IGltcGw7XG59XG5cbn0pKFxuICB0aGlzLFxuICAodHlwZW9mIG1vZHVsZSkgPT0gJ29iamVjdCcgJiYgbW9kdWxlLCAgICAvLyBwcmVzZW50IGluIG5vZGUuanNcbiAgKHR5cGVvZiBkZWZpbmUpID09ICdmdW5jdGlvbicgJiYgZGVmaW5lICAgLy8gcHJlc2VudCB3aXRoIGFuIEFNRCBsb2FkZXJcbik7XG5cbiIsIi8vIEEgSmF2YXNjcmlwdCBpbXBsZW1lbnRhaW9uIG9mIFJpY2hhcmQgQnJlbnQncyBYb3JnZW5zIHhvcjQwOTYgYWxnb3JpdGhtLlxuLy9cbi8vIFRoaXMgZmFzdCBub24tY3J5cHRvZ3JhcGhpYyByYW5kb20gbnVtYmVyIGdlbmVyYXRvciBpcyBkZXNpZ25lZCBmb3Jcbi8vIHVzZSBpbiBNb250ZS1DYXJsbyBhbGdvcml0aG1zLiBJdCBjb21iaW5lcyBhIGxvbmctcGVyaW9kIHhvcnNoaWZ0XG4vLyBnZW5lcmF0b3Igd2l0aCBhIFdleWwgZ2VuZXJhdG9yLCBhbmQgaXQgcGFzc2VzIGFsbCBjb21tb24gYmF0dGVyaWVzXG4vLyBvZiBzdGFzdGljaWFsIHRlc3RzIGZvciByYW5kb21uZXNzIHdoaWxlIGNvbnN1bWluZyBvbmx5IGEgZmV3IG5hbm9zZWNvbmRzXG4vLyBmb3IgZWFjaCBwcm5nIGdlbmVyYXRlZC4gIEZvciBiYWNrZ3JvdW5kIG9uIHRoZSBnZW5lcmF0b3IsIHNlZSBCcmVudCdzXG4vLyBwYXBlcjogXCJTb21lIGxvbmctcGVyaW9kIHJhbmRvbSBudW1iZXIgZ2VuZXJhdG9ycyB1c2luZyBzaGlmdHMgYW5kIHhvcnMuXCJcbi8vIGh0dHA6Ly9hcnhpdi5vcmcvcGRmLzExMDQuMzExNS5wZGZcbi8vXG4vLyBVc2FnZTpcbi8vXG4vLyB2YXIgeG9yNDA5NiA9IHJlcXVpcmUoJ3hvcjQwOTYnKTtcbi8vIHJhbmRvbSA9IHhvcjQwOTYoMSk7ICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VlZCB3aXRoIGludDMyIG9yIHN0cmluZy5cbi8vIGFzc2VydC5lcXVhbChyYW5kb20oKSwgMC4xNTIwNDM2NDUwNTM4NTQ3KTsgLy8gKDAsIDEpIHJhbmdlLCA1MyBiaXRzLlxuLy8gYXNzZXJ0LmVxdWFsKHJhbmRvbS5pbnQzMigpLCAxODA2NTM0ODk3KTsgICAvLyBzaWduZWQgaW50MzIsIDMyIGJpdHMuXG4vL1xuLy8gRm9yIG5vbnplcm8gbnVtZXJpYyBrZXlzLCB0aGlzIGltcGVsZW1lbnRhdGlvbiBwcm92aWRlcyBhIHNlcXVlbmNlXG4vLyBpZGVudGljYWwgdG8gdGhhdCBieSBCcmVudCdzIHhvcmdlbnMgMyBpbXBsZW1lbnRhaW9uIGluIEMuICBUaGlzXG4vLyBpbXBsZW1lbnRhdGlvbiBhbHNvIHByb3ZpZGVzIGZvciBpbml0YWxpemluZyB0aGUgZ2VuZXJhdG9yIHdpdGhcbi8vIHN0cmluZyBzZWVkcywgb3IgZm9yIHNhdmluZyBhbmQgcmVzdG9yaW5nIHRoZSBzdGF0ZSBvZiB0aGUgZ2VuZXJhdG9yLlxuLy9cbi8vIE9uIENocm9tZSwgdGhpcyBwcm5nIGJlbmNobWFya3MgYWJvdXQgMi4xIHRpbWVzIHNsb3dlciB0aGFuXG4vLyBKYXZhc2NyaXB0J3MgYnVpbHQtaW4gTWF0aC5yYW5kb20oKS5cblxuKGZ1bmN0aW9uKGdsb2JhbCwgbW9kdWxlLCBkZWZpbmUpIHtcblxuZnVuY3Rpb24gWG9yR2VuKHNlZWQpIHtcbiAgdmFyIG1lID0gdGhpcztcblxuICAvLyBTZXQgdXAgZ2VuZXJhdG9yIGZ1bmN0aW9uLlxuICBtZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHcgPSBtZS53LFxuICAgICAgICBYID0gbWUuWCwgaSA9IG1lLmksIHQsIHY7XG4gICAgLy8gVXBkYXRlIFdleWwgZ2VuZXJhdG9yLlxuICAgIG1lLncgPSB3ID0gKHcgKyAweDYxYzg4NjQ3KSB8IDA7XG4gICAgLy8gVXBkYXRlIHhvciBnZW5lcmF0b3IuXG4gICAgdiA9IFhbKGkgKyAzNCkgJiAxMjddO1xuICAgIHQgPSBYW2kgPSAoKGkgKyAxKSAmIDEyNyldO1xuICAgIHYgXj0gdiA8PCAxMztcbiAgICB0IF49IHQgPDwgMTc7XG4gICAgdiBePSB2ID4+PiAxNTtcbiAgICB0IF49IHQgPj4+IDEyO1xuICAgIC8vIFVwZGF0ZSBYb3IgZ2VuZXJhdG9yIGFycmF5IHN0YXRlLlxuICAgIHYgPSBYW2ldID0gdiBeIHQ7XG4gICAgbWUuaSA9IGk7XG4gICAgLy8gUmVzdWx0IGlzIHRoZSBjb21iaW5hdGlvbi5cbiAgICByZXR1cm4gKHYgKyAodyBeICh3ID4+PiAxNikpKSB8IDA7XG4gIH07XG5cbiAgZnVuY3Rpb24gaW5pdChtZSwgc2VlZCkge1xuICAgIHZhciB0LCB2LCBpLCBqLCB3LCBYID0gW10sIGxpbWl0ID0gMTI4O1xuICAgIGlmIChzZWVkID09PSAoc2VlZCB8IDApKSB7XG4gICAgICAvLyBOdW1lcmljIHNlZWRzIGluaXRpYWxpemUgdiwgd2hpY2ggaXMgdXNlZCB0byBnZW5lcmF0ZXMgWC5cbiAgICAgIHYgPSBzZWVkO1xuICAgICAgc2VlZCA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFN0cmluZyBzZWVkcyBhcmUgbWl4ZWQgaW50byB2IGFuZCBYIG9uZSBjaGFyYWN0ZXIgYXQgYSB0aW1lLlxuICAgICAgc2VlZCA9IHNlZWQgKyAnXFwwJztcbiAgICAgIHYgPSAwO1xuICAgICAgbGltaXQgPSBNYXRoLm1heChsaW1pdCwgc2VlZC5sZW5ndGgpO1xuICAgIH1cbiAgICAvLyBJbml0aWFsaXplIGNpcmN1bGFyIGFycmF5IGFuZCB3ZXlsIHZhbHVlLlxuICAgIGZvciAoaSA9IDAsIGogPSAtMzI7IGogPCBsaW1pdDsgKytqKSB7XG4gICAgICAvLyBQdXQgdGhlIHVuaWNvZGUgY2hhcmFjdGVycyBpbnRvIHRoZSBhcnJheSwgYW5kIHNodWZmbGUgdGhlbS5cbiAgICAgIGlmIChzZWVkKSB2IF49IHNlZWQuY2hhckNvZGVBdCgoaiArIDMyKSAlIHNlZWQubGVuZ3RoKTtcbiAgICAgIC8vIEFmdGVyIDMyIHNodWZmbGVzLCB0YWtlIHYgYXMgdGhlIHN0YXJ0aW5nIHcgdmFsdWUuXG4gICAgICBpZiAoaiA9PT0gMCkgdyA9IHY7XG4gICAgICB2IF49IHYgPDwgMTA7XG4gICAgICB2IF49IHYgPj4+IDE1O1xuICAgICAgdiBePSB2IDw8IDQ7XG4gICAgICB2IF49IHYgPj4+IDEzO1xuICAgICAgaWYgKGogPj0gMCkge1xuICAgICAgICB3ID0gKHcgKyAweDYxYzg4NjQ3KSB8IDA7ICAgICAvLyBXZXlsLlxuICAgICAgICB0ID0gKFhbaiAmIDEyN10gXj0gKHYgKyB3KSk7ICAvLyBDb21iaW5lIHhvciBhbmQgd2V5bCB0byBpbml0IGFycmF5LlxuICAgICAgICBpID0gKDAgPT0gdCkgPyBpICsgMSA6IDA7ICAgICAvLyBDb3VudCB6ZXJvZXMuXG4gICAgICB9XG4gICAgfVxuICAgIC8vIFdlIGhhdmUgZGV0ZWN0ZWQgYWxsIHplcm9lczsgbWFrZSB0aGUga2V5IG5vbnplcm8uXG4gICAgaWYgKGkgPj0gMTI4KSB7XG4gICAgICBYWyhzZWVkICYmIHNlZWQubGVuZ3RoIHx8IDApICYgMTI3XSA9IC0xO1xuICAgIH1cbiAgICAvLyBSdW4gdGhlIGdlbmVyYXRvciA1MTIgdGltZXMgdG8gZnVydGhlciBtaXggdGhlIHN0YXRlIGJlZm9yZSB1c2luZyBpdC5cbiAgICAvLyBGYWN0b3JpbmcgdGhpcyBhcyBhIGZ1bmN0aW9uIHNsb3dzIHRoZSBtYWluIGdlbmVyYXRvciwgc28gaXQgaXMganVzdFxuICAgIC8vIHVucm9sbGVkIGhlcmUuICBUaGUgd2V5bCBnZW5lcmF0b3IgaXMgbm90IGFkdmFuY2VkIHdoaWxlIHdhcm1pbmcgdXAuXG4gICAgaSA9IDEyNztcbiAgICBmb3IgKGogPSA0ICogMTI4OyBqID4gMDsgLS1qKSB7XG4gICAgICB2ID0gWFsoaSArIDM0KSAmIDEyN107XG4gICAgICB0ID0gWFtpID0gKChpICsgMSkgJiAxMjcpXTtcbiAgICAgIHYgXj0gdiA8PCAxMztcbiAgICAgIHQgXj0gdCA8PCAxNztcbiAgICAgIHYgXj0gdiA+Pj4gMTU7XG4gICAgICB0IF49IHQgPj4+IDEyO1xuICAgICAgWFtpXSA9IHYgXiB0O1xuICAgIH1cbiAgICAvLyBTdG9yaW5nIHN0YXRlIGFzIG9iamVjdCBtZW1iZXJzIGlzIGZhc3RlciB0aGFuIHVzaW5nIGNsb3N1cmUgdmFyaWFibGVzLlxuICAgIG1lLncgPSB3O1xuICAgIG1lLlggPSBYO1xuICAgIG1lLmkgPSBpO1xuICB9XG5cbiAgaW5pdChtZSwgc2VlZCk7XG59XG5cbmZ1bmN0aW9uIGNvcHkoZiwgdCkge1xuICB0LmkgPSBmLmk7XG4gIHQudyA9IGYudztcbiAgdC5YID0gZi5YLnNsaWNlKCk7XG4gIHJldHVybiB0O1xufTtcblxuZnVuY3Rpb24gaW1wbChzZWVkLCBvcHRzKSB7XG4gIGlmIChzZWVkID09IG51bGwpIHNlZWQgPSArKG5ldyBEYXRlKTtcbiAgdmFyIHhnID0gbmV3IFhvckdlbihzZWVkKSxcbiAgICAgIHN0YXRlID0gb3B0cyAmJiBvcHRzLnN0YXRlLFxuICAgICAgcHJuZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gKHhnLm5leHQoKSA+Pj4gMCkgLyAweDEwMDAwMDAwMDsgfTtcbiAgcHJuZy5kb3VibGUgPSBmdW5jdGlvbigpIHtcbiAgICBkbyB7XG4gICAgICB2YXIgdG9wID0geGcubmV4dCgpID4+PiAxMSxcbiAgICAgICAgICBib3QgPSAoeGcubmV4dCgpID4+PiAwKSAvIDB4MTAwMDAwMDAwLFxuICAgICAgICAgIHJlc3VsdCA9ICh0b3AgKyBib3QpIC8gKDEgPDwgMjEpO1xuICAgIH0gd2hpbGUgKHJlc3VsdCA9PT0gMCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgcHJuZy5pbnQzMiA9IHhnLm5leHQ7XG4gIHBybmcucXVpY2sgPSBwcm5nO1xuICBpZiAoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUuWCkgY29weShzdGF0ZSwgeGcpO1xuICAgIHBybmcuc3RhdGUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGNvcHkoeGcsIHt9KTsgfVxuICB9XG4gIHJldHVybiBwcm5nO1xufVxuXG5pZiAobW9kdWxlICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gaW1wbDtcbn0gZWxzZSBpZiAoZGVmaW5lICYmIGRlZmluZS5hbWQpIHtcbiAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gaW1wbDsgfSk7XG59IGVsc2Uge1xuICB0aGlzLnhvcjQwOTYgPSBpbXBsO1xufVxuXG59KShcbiAgdGhpcywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93IG9iamVjdCBvciBnbG9iYWxcbiAgKHR5cGVvZiBtb2R1bGUpID09ICdvYmplY3QnICYmIG1vZHVsZSwgICAgLy8gcHJlc2VudCBpbiBub2RlLmpzXG4gICh0eXBlb2YgZGVmaW5lKSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZSAgIC8vIHByZXNlbnQgd2l0aCBhbiBBTUQgbG9hZGVyXG4pO1xuIiwiLy8gQSBKYXZhc2NyaXB0IGltcGxlbWVudGFpb24gb2YgdGhlIFwieG9yMTI4XCIgcHJuZyBhbGdvcml0aG0gYnlcbi8vIEdlb3JnZSBNYXJzYWdsaWEuICBTZWUgaHR0cDovL3d3dy5qc3RhdHNvZnQub3JnL3YwOC9pMTQvcGFwZXJcblxuKGZ1bmN0aW9uKGdsb2JhbCwgbW9kdWxlLCBkZWZpbmUpIHtcblxuZnVuY3Rpb24gWG9yR2VuKHNlZWQpIHtcbiAgdmFyIG1lID0gdGhpcywgc3Ryc2VlZCA9ICcnO1xuXG4gIG1lLnggPSAwO1xuICBtZS55ID0gMDtcbiAgbWUueiA9IDA7XG4gIG1lLncgPSAwO1xuXG4gIC8vIFNldCB1cCBnZW5lcmF0b3IgZnVuY3Rpb24uXG4gIG1lLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdCA9IG1lLnggXiAobWUueCA8PCAxMSk7XG4gICAgbWUueCA9IG1lLnk7XG4gICAgbWUueSA9IG1lLno7XG4gICAgbWUueiA9IG1lLnc7XG4gICAgcmV0dXJuIG1lLncgXj0gKG1lLncgPj4+IDE5KSBeIHQgXiAodCA+Pj4gOCk7XG4gIH07XG5cbiAgaWYgKHNlZWQgPT09IChzZWVkIHwgMCkpIHtcbiAgICAvLyBJbnRlZ2VyIHNlZWQuXG4gICAgbWUueCA9IHNlZWQ7XG4gIH0gZWxzZSB7XG4gICAgLy8gU3RyaW5nIHNlZWQuXG4gICAgc3Ryc2VlZCArPSBzZWVkO1xuICB9XG5cbiAgLy8gTWl4IGluIHN0cmluZyBzZWVkLCB0aGVuIGRpc2NhcmQgYW4gaW5pdGlhbCBiYXRjaCBvZiA2NCB2YWx1ZXMuXG4gIGZvciAodmFyIGsgPSAwOyBrIDwgc3Ryc2VlZC5sZW5ndGggKyA2NDsgaysrKSB7XG4gICAgbWUueCBePSBzdHJzZWVkLmNoYXJDb2RlQXQoaykgfCAwO1xuICAgIG1lLm5leHQoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb3B5KGYsIHQpIHtcbiAgdC54ID0gZi54O1xuICB0LnkgPSBmLnk7XG4gIHQueiA9IGYuejtcbiAgdC53ID0gZi53O1xuICByZXR1cm4gdDtcbn1cblxuZnVuY3Rpb24gaW1wbChzZWVkLCBvcHRzKSB7XG4gIHZhciB4ZyA9IG5ldyBYb3JHZW4oc2VlZCksXG4gICAgICBzdGF0ZSA9IG9wdHMgJiYgb3B0cy5zdGF0ZSxcbiAgICAgIHBybmcgPSBmdW5jdGlvbigpIHsgcmV0dXJuICh4Zy5uZXh0KCkgPj4+IDApIC8gMHgxMDAwMDAwMDA7IH07XG4gIHBybmcuZG91YmxlID0gZnVuY3Rpb24oKSB7XG4gICAgZG8ge1xuICAgICAgdmFyIHRvcCA9IHhnLm5leHQoKSA+Pj4gMTEsXG4gICAgICAgICAgYm90ID0gKHhnLm5leHQoKSA+Pj4gMCkgLyAweDEwMDAwMDAwMCxcbiAgICAgICAgICByZXN1bHQgPSAodG9wICsgYm90KSAvICgxIDw8IDIxKTtcbiAgICB9IHdoaWxlIChyZXN1bHQgPT09IDApO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIHBybmcuaW50MzIgPSB4Zy5uZXh0O1xuICBwcm5nLnF1aWNrID0gcHJuZztcbiAgaWYgKHN0YXRlKSB7XG4gICAgaWYgKHR5cGVvZihzdGF0ZSkgPT0gJ29iamVjdCcpIGNvcHkoc3RhdGUsIHhnKTtcbiAgICBwcm5nLnN0YXRlID0gZnVuY3Rpb24oKSB7IHJldHVybiBjb3B5KHhnLCB7fSk7IH1cbiAgfVxuICByZXR1cm4gcHJuZztcbn1cblxuaWYgKG1vZHVsZSAmJiBtb2R1bGUuZXhwb3J0cykge1xuICBtb2R1bGUuZXhwb3J0cyA9IGltcGw7XG59IGVsc2UgaWYgKGRlZmluZSAmJiBkZWZpbmUuYW1kKSB7XG4gIGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIGltcGw7IH0pO1xufSBlbHNlIHtcbiAgdGhpcy54b3IxMjggPSBpbXBsO1xufVxuXG59KShcbiAgdGhpcyxcbiAgKHR5cGVvZiBtb2R1bGUpID09ICdvYmplY3QnICYmIG1vZHVsZSwgICAgLy8gcHJlc2VudCBpbiBub2RlLmpzXG4gICh0eXBlb2YgZGVmaW5lKSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZSAgIC8vIHByZXNlbnQgd2l0aCBhbiBBTUQgbG9hZGVyXG4pO1xuXG5cbiIsIi8vIEEgSmF2YXNjcmlwdCBpbXBsZW1lbnRhaW9uIG9mIHRoZSBcIlR5Y2hlLWlcIiBwcm5nIGFsZ29yaXRobSBieVxuLy8gU2FtdWVsIE5ldmVzIGFuZCBGaWxpcGUgQXJhdWpvLlxuLy8gU2VlIGh0dHBzOi8vZWRlbi5kZWkudWMucHQvfnNuZXZlcy9wdWJzLzIwMTEtc25mYTIucGRmXG5cbihmdW5jdGlvbihnbG9iYWwsIG1vZHVsZSwgZGVmaW5lKSB7XG5cbmZ1bmN0aW9uIFhvckdlbihzZWVkKSB7XG4gIHZhciBtZSA9IHRoaXMsIHN0cnNlZWQgPSAnJztcblxuICAvLyBTZXQgdXAgZ2VuZXJhdG9yIGZ1bmN0aW9uLlxuICBtZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGIgPSBtZS5iLCBjID0gbWUuYywgZCA9IG1lLmQsIGEgPSBtZS5hO1xuICAgIGIgPSAoYiA8PCAyNSkgXiAoYiA+Pj4gNykgXiBjO1xuICAgIGMgPSAoYyAtIGQpIHwgMDtcbiAgICBkID0gKGQgPDwgMjQpIF4gKGQgPj4+IDgpIF4gYTtcbiAgICBhID0gKGEgLSBiKSB8IDA7XG4gICAgbWUuYiA9IGIgPSAoYiA8PCAyMCkgXiAoYiA+Pj4gMTIpIF4gYztcbiAgICBtZS5jID0gYyA9IChjIC0gZCkgfCAwO1xuICAgIG1lLmQgPSAoZCA8PCAxNikgXiAoYyA+Pj4gMTYpIF4gYTtcbiAgICByZXR1cm4gbWUuYSA9IChhIC0gYikgfCAwO1xuICB9O1xuXG4gIC8qIFRoZSBmb2xsb3dpbmcgaXMgbm9uLWludmVydGVkIHR5Y2hlLCB3aGljaCBoYXMgYmV0dGVyIGludGVybmFsXG4gICAqIGJpdCBkaWZmdXNpb24sIGJ1dCB3aGljaCBpcyBhYm91dCAyNSUgc2xvd2VyIHRoYW4gdHljaGUtaSBpbiBKUy5cbiAgbWUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhID0gbWUuYSwgYiA9IG1lLmIsIGMgPSBtZS5jLCBkID0gbWUuZDtcbiAgICBhID0gKG1lLmEgKyBtZS5iIHwgMCkgPj4+IDA7XG4gICAgZCA9IG1lLmQgXiBhOyBkID0gZCA8PCAxNiBeIGQgPj4+IDE2O1xuICAgIGMgPSBtZS5jICsgZCB8IDA7XG4gICAgYiA9IG1lLmIgXiBjOyBiID0gYiA8PCAxMiBeIGQgPj4+IDIwO1xuICAgIG1lLmEgPSBhID0gYSArIGIgfCAwO1xuICAgIGQgPSBkIF4gYTsgbWUuZCA9IGQgPSBkIDw8IDggXiBkID4+PiAyNDtcbiAgICBtZS5jID0gYyA9IGMgKyBkIHwgMDtcbiAgICBiID0gYiBeIGM7XG4gICAgcmV0dXJuIG1lLmIgPSAoYiA8PCA3IF4gYiA+Pj4gMjUpO1xuICB9XG4gICovXG5cbiAgbWUuYSA9IDA7XG4gIG1lLmIgPSAwO1xuICBtZS5jID0gMjY1NDQzNTc2OSB8IDA7XG4gIG1lLmQgPSAxMzY3MTMwNTUxO1xuXG4gIGlmIChzZWVkID09PSBNYXRoLmZsb29yKHNlZWQpKSB7XG4gICAgLy8gSW50ZWdlciBzZWVkLlxuICAgIG1lLmEgPSAoc2VlZCAvIDB4MTAwMDAwMDAwKSB8IDA7XG4gICAgbWUuYiA9IHNlZWQgfCAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFN0cmluZyBzZWVkLlxuICAgIHN0cnNlZWQgKz0gc2VlZDtcbiAgfVxuXG4gIC8vIE1peCBpbiBzdHJpbmcgc2VlZCwgdGhlbiBkaXNjYXJkIGFuIGluaXRpYWwgYmF0Y2ggb2YgNjQgdmFsdWVzLlxuICBmb3IgKHZhciBrID0gMDsgayA8IHN0cnNlZWQubGVuZ3RoICsgMjA7IGsrKykge1xuICAgIG1lLmIgXj0gc3Ryc2VlZC5jaGFyQ29kZUF0KGspIHwgMDtcbiAgICBtZS5uZXh0KCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29weShmLCB0KSB7XG4gIHQuYSA9IGYuYTtcbiAgdC5iID0gZi5iO1xuICB0LmMgPSBmLmM7XG4gIHQuZCA9IGYuZDtcbiAgcmV0dXJuIHQ7XG59O1xuXG5mdW5jdGlvbiBpbXBsKHNlZWQsIG9wdHMpIHtcbiAgdmFyIHhnID0gbmV3IFhvckdlbihzZWVkKSxcbiAgICAgIHN0YXRlID0gb3B0cyAmJiBvcHRzLnN0YXRlLFxuICAgICAgcHJuZyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gKHhnLm5leHQoKSA+Pj4gMCkgLyAweDEwMDAwMDAwMDsgfTtcbiAgcHJuZy5kb3VibGUgPSBmdW5jdGlvbigpIHtcbiAgICBkbyB7XG4gICAgICB2YXIgdG9wID0geGcubmV4dCgpID4+PiAxMSxcbiAgICAgICAgICBib3QgPSAoeGcubmV4dCgpID4+PiAwKSAvIDB4MTAwMDAwMDAwLFxuICAgICAgICAgIHJlc3VsdCA9ICh0b3AgKyBib3QpIC8gKDEgPDwgMjEpO1xuICAgIH0gd2hpbGUgKHJlc3VsdCA9PT0gMCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgcHJuZy5pbnQzMiA9IHhnLm5leHQ7XG4gIHBybmcucXVpY2sgPSBwcm5nO1xuICBpZiAoc3RhdGUpIHtcbiAgICBpZiAodHlwZW9mKHN0YXRlKSA9PSAnb2JqZWN0JykgY29weShzdGF0ZSwgeGcpO1xuICAgIHBybmcuc3RhdGUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGNvcHkoeGcsIHt9KTsgfVxuICB9XG4gIHJldHVybiBwcm5nO1xufVxuXG5pZiAobW9kdWxlICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gaW1wbDtcbn0gZWxzZSBpZiAoZGVmaW5lICYmIGRlZmluZS5hbWQpIHtcbiAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gaW1wbDsgfSk7XG59IGVsc2Uge1xuICB0aGlzLnR5Y2hlaSA9IGltcGw7XG59XG5cbn0pKFxuICB0aGlzLFxuICAodHlwZW9mIG1vZHVsZSkgPT0gJ29iamVjdCcgJiYgbW9kdWxlLCAgICAvLyBwcmVzZW50IGluIG5vZGUuanNcbiAgKHR5cGVvZiBkZWZpbmUpID09ICdmdW5jdGlvbicgJiYgZGVmaW5lICAgLy8gcHJlc2VudCB3aXRoIGFuIEFNRCBsb2FkZXJcbik7XG5cblxuIiwiLy8gQSBwb3J0IG9mIGFuIGFsZ29yaXRobSBieSBKb2hhbm5lcyBCYWFnw7hlIDxiYWFnb2VAYmFhZ29lLmNvbT4sIDIwMTBcbi8vIGh0dHA6Ly9iYWFnb2UuY29tL2VuL1JhbmRvbU11c2luZ3MvamF2YXNjcmlwdC9cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ucXVpbmxhbi9iZXR0ZXItcmFuZG9tLW51bWJlcnMtZm9yLWphdmFzY3JpcHQtbWlycm9yXG4vLyBPcmlnaW5hbCB3b3JrIGlzIHVuZGVyIE1JVCBsaWNlbnNlIC1cblxuLy8gQ29weXJpZ2h0IChDKSAyMDEwIGJ5IEpvaGFubmVzIEJhYWfDuGUgPGJhYWdvZUBiYWFnb2Uub3JnPlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbi8vIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbi8vIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbi8vIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbi8vIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuLy8gZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vIFxuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbi8vIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy8gXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4vLyBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbi8vIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuLy8gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuLy8gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbi8vIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbi8vIFRIRSBTT0ZUV0FSRS5cblxuXG5cbihmdW5jdGlvbihnbG9iYWwsIG1vZHVsZSwgZGVmaW5lKSB7XG5cbmZ1bmN0aW9uIEFsZWEoc2VlZCkge1xuICB2YXIgbWUgPSB0aGlzLCBtYXNoID0gTWFzaCgpO1xuXG4gIG1lLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdCA9IDIwOTE2MzkgKiBtZS5zMCArIG1lLmMgKiAyLjMyODMwNjQzNjUzODY5NjNlLTEwOyAvLyAyXi0zMlxuICAgIG1lLnMwID0gbWUuczE7XG4gICAgbWUuczEgPSBtZS5zMjtcbiAgICByZXR1cm4gbWUuczIgPSB0IC0gKG1lLmMgPSB0IHwgMCk7XG4gIH07XG5cbiAgLy8gQXBwbHkgdGhlIHNlZWRpbmcgYWxnb3JpdGhtIGZyb20gQmFhZ29lLlxuICBtZS5jID0gMTtcbiAgbWUuczAgPSBtYXNoKCcgJyk7XG4gIG1lLnMxID0gbWFzaCgnICcpO1xuICBtZS5zMiA9IG1hc2goJyAnKTtcbiAgbWUuczAgLT0gbWFzaChzZWVkKTtcbiAgaWYgKG1lLnMwIDwgMCkgeyBtZS5zMCArPSAxOyB9XG4gIG1lLnMxIC09IG1hc2goc2VlZCk7XG4gIGlmIChtZS5zMSA8IDApIHsgbWUuczEgKz0gMTsgfVxuICBtZS5zMiAtPSBtYXNoKHNlZWQpO1xuICBpZiAobWUuczIgPCAwKSB7IG1lLnMyICs9IDE7IH1cbiAgbWFzaCA9IG51bGw7XG59XG5cbmZ1bmN0aW9uIGNvcHkoZiwgdCkge1xuICB0LmMgPSBmLmM7XG4gIHQuczAgPSBmLnMwO1xuICB0LnMxID0gZi5zMTtcbiAgdC5zMiA9IGYuczI7XG4gIHJldHVybiB0O1xufVxuXG5mdW5jdGlvbiBpbXBsKHNlZWQsIG9wdHMpIHtcbiAgdmFyIHhnID0gbmV3IEFsZWEoc2VlZCksXG4gICAgICBzdGF0ZSA9IG9wdHMgJiYgb3B0cy5zdGF0ZSxcbiAgICAgIHBybmcgPSB4Zy5uZXh0O1xuICBwcm5nLmludDMyID0gZnVuY3Rpb24oKSB7IHJldHVybiAoeGcubmV4dCgpICogMHgxMDAwMDAwMDApIHwgMDsgfVxuICBwcm5nLmRvdWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBwcm5nKCkgKyAocHJuZygpICogMHgyMDAwMDAgfCAwKSAqIDEuMTEwMjIzMDI0NjI1MTU2NWUtMTY7IC8vIDJeLTUzXG4gIH07XG4gIHBybmcucXVpY2sgPSBwcm5nO1xuICBpZiAoc3RhdGUpIHtcbiAgICBpZiAodHlwZW9mKHN0YXRlKSA9PSAnb2JqZWN0JykgY29weShzdGF0ZSwgeGcpO1xuICAgIHBybmcuc3RhdGUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGNvcHkoeGcsIHt9KTsgfVxuICB9XG4gIHJldHVybiBwcm5nO1xufVxuXG5mdW5jdGlvbiBNYXNoKCkge1xuICB2YXIgbiA9IDB4ZWZjODI0OWQ7XG5cbiAgdmFyIG1hc2ggPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgZGF0YSA9IGRhdGEudG9TdHJpbmcoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIG4gKz0gZGF0YS5jaGFyQ29kZUF0KGkpO1xuICAgICAgdmFyIGggPSAwLjAyNTE5NjAzMjgyNDE2OTM4ICogbjtcbiAgICAgIG4gPSBoID4+PiAwO1xuICAgICAgaCAtPSBuO1xuICAgICAgaCAqPSBuO1xuICAgICAgbiA9IGggPj4+IDA7XG4gICAgICBoIC09IG47XG4gICAgICBuICs9IGggKiAweDEwMDAwMDAwMDsgLy8gMl4zMlxuICAgIH1cbiAgICByZXR1cm4gKG4gPj4+IDApICogMi4zMjgzMDY0MzY1Mzg2OTYzZS0xMDsgLy8gMl4tMzJcbiAgfTtcblxuICByZXR1cm4gbWFzaDtcbn1cblxuXG5pZiAobW9kdWxlICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gaW1wbDtcbn0gZWxzZSBpZiAoZGVmaW5lICYmIGRlZmluZS5hbWQpIHtcbiAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gaW1wbDsgfSk7XG59IGVsc2Uge1xuICB0aGlzLmFsZWEgPSBpbXBsO1xufVxuXG59KShcbiAgdGhpcyxcbiAgKHR5cGVvZiBtb2R1bGUpID09ICdvYmplY3QnICYmIG1vZHVsZSwgICAgLy8gcHJlc2VudCBpbiBub2RlLmpzXG4gICh0eXBlb2YgZGVmaW5lKSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZSAgIC8vIHByZXNlbnQgd2l0aCBhbiBBTUQgbG9hZGVyXG4pO1xuXG5cbiIsIi8qKlxuICogQG92ZXJ2aWV3IENvbnN0YW50cyBhbmQgZW51bXMgdXNlZCBhY3Jvc3MgSW50ZXJuZXQgU2ltdWxhdG9yLlxuICovXG4vLyBTdHJpY3QgbGludGluZzogQWJzb3JiIGludG8gZ2xvYmFsIGNvbmZpZyB3aGVuIHBvc3NpYmxlXG4vKiBqc2hpbnRcbiB1bnVzZWQ6IHRydWUsXG4gZXFlcWVxOiB0cnVlLFxuIG1heGxlbjogMTIwXG4gKi9cbi8qIGdsb2JhbCBleHBvcnRzICovXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQHR5cGUge251bWJlcn1cbiAqIEBjb25zdFxuICovXG5leHBvcnRzLkJJVFNfUEVSX05JQkJMRSA9IDQ7XG5cbi8qKlxuICogQHR5cGUge251bWJlcn1cbiAqIEBjb25zdFxuICovXG5leHBvcnRzLkJJVFNfUEVSX0JZVEUgPSA4O1xuXG4vKipcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAY29uc3RcbiAqL1xuZXhwb3J0cy5CSVRTX1BFUl9LSUxPQllURSA9IDEwMjQgKiBleHBvcnRzLkJJVFNfUEVSX0JZVEU7XG5cbi8qKlxuICogQHR5cGUge251bWJlcn1cbiAqIEBjb25zdFxuICovXG5leHBvcnRzLkJJVFNfUEVSX01FR0FCWVRFID0gMTAyNCAqIGV4cG9ydHMuQklUU19QRVJfS0lMT0JZVEU7XG5cbi8qKlxuICogQHR5cGUge251bWJlcn1cbiAqIEBjb25zdFxuICovXG5leHBvcnRzLkJJVFNfUEVSX0dJR0FCWVRFID0gMTAyNCAqIGV4cG9ydHMuQklUU19QRVJfTUVHQUJZVEU7XG5cbi8qKlxuICogQHR5cGUge251bWJlcn1cbiAqIEBjb25zdFxuICovXG5leHBvcnRzLkJJVFNfUEVSX0tJTE9CSVQgPSAxMDI0O1xuXG4vKipcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAY29uc3RcbiAqL1xuZXhwb3J0cy5CSVRTX1BFUl9NRUdBQklUID0gMTAyNCAqIGV4cG9ydHMuQklUU19QRVJfS0lMT0JJVDtcblxuLyoqXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGNvbnN0XG4gKi9cbmV4cG9ydHMuQklUU19QRVJfR0lHQUJJVCA9IDEwMjQgKiBleHBvcnRzLkJJVFNfUEVSX01FR0FCSVQ7XG5cbi8qKlxuICogVHlwZXMgb2Ygbm9kZXMgdGhhdCBjYW4gc2hvdyB1cCBpbiB0aGUgc2ltdWxhdGlvbi5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydHMuTm9kZVR5cGUgPSB7XG4gIENMSUVOVDogJ2NsaWVudCcsXG4gIFJPVVRFUjogJ3JvdXRlcidcbn07XG5cbi8qKlxuICogV2hhdCB0eXBlIG9mIG1lc3NhZ2UgbWFrZXMgdXAgdGhlICdhdG9tJyBvZiBjb21tdW5pY2F0aW9uIGZvciB0aGlzXG4gKiBzaW11bGF0b3IgbW9kZSAtIHNpbmdsZS1iaXQgbWVzc2FnZXMgKHZhcmlhbnQgMSkgb3Igd2hvbGUgcGFja2V0cyAodmFyaWFudHNcbiAqIDIgYW5kIHVwKVxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuZXhwb3J0cy5NZXNzYWdlR3JhbnVsYXJpdHkgPSB7XG4gIFBBQ0tFVFM6ICdwYWNrZXRzJyxcbiAgQklUUzogJ2JpdHMnXG59O1xuXG4vKipcbiAqIEROUyBtb2RlcyBmb3IgdGhlIHNpbXVsYXRvci4gIE9ubHkgYXBwbGllcyBpbiB2YXJpYW50IDMsIHdoZW4gY29ubmVjdGluZ1xuICogdG8gYSByb3V0ZXIuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnRzLkRuc01vZGUgPSB7XG4gIC8qKiBUaGVyZSBpcyBubyBETlMgbm9kZS4gIEV2ZXJ5b25lIGNhbiBzZWUgZXZlcnkgb3RoZXIgbm9kZSdzIGFkZHJlc3MuICovXG4gIE5PTkU6ICdub25lJyxcblxuICAvKiogT25lIHVzZXIgYWN0cyBhcyB0aGUgRE5TIG5vZGUgYXQgYSB0aW1lLiAgRXZlcnlvbmUgY2FuIHNlZSB0aGVpciBvd25cbiAgICogIGFkZHJlc3MgYW5kIHRoZSBETlMgbm9kZSdzIGFkZHJlc3MsIGJ1dCBub3RoaW5nIGVsc2UuICovXG4gIE1BTlVBTDogJ21hbnVhbCcsXG5cbiAgLyoqIEFuIGF1dG9tYXRpYyBETlMgbm9kZSBpcyBhZGRlZCB0byB0aGUgc2ltdWxhdGlvbi4gIE5vZGVzIGFyZSBhdXRvbWF0aWNhbGx5XG4gICAqICByZWdpc3RlcmVkIHdpdGggdGhlIEROUyBvbiBjb25uZWN0aW9uLiAqL1xuICBBVVRPTUFUSUM6ICdhdXRvbWF0aWMnXG59O1xuXG4vKipcbiAqIEVuY29kaW5ncyB0aGF0IGNhbiBiZSB1c2VkIHRvIGludGVycHJldCBhbmQgZGlzcGxheSBiaW5hcnkgbWVzc2FnZXMgaW5cbiAqIHRoZSBzaW11bGF0b3IuXG4gKiBNYXAgdG8gY2xhc3MtbmFtZXMgdGhhdCBjYW4gYmUgYXBwbGllZCB0byByZWxhdGVkIHRhYmxlIHJvd3MuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnRzLkVuY29kaW5nVHlwZSA9IHtcbiAgLyoqIFJlbmRlcnMgZWFjaCBjaHVuayBvZiBiaXRzICh1c2luZyB2YXJpYWJsZSBjaHVua3NpemUpIGluIGFzY2lpICovXG4gIEFTQ0lJOiAnYXNjaWknLFxuXG4gIC8qKiBSZW5kZXJzIGVhY2ggY2h1bmsgb2YgYml0cyAodXNpbmcgdmFyaWFibGUgY2h1bmtzaXplKSBpbiBkZWNpbWFsICovXG4gIERFQ0lNQUw6ICdkZWNpbWFsJyxcblxuICAvKiogUmVuZGVycyBlYWNoIGJpbmFyeSBuaWJibGUgYXMgYSBoZXggY2hhcmFjdGVyLiAqL1xuICBIRVhBREVDSU1BTDogJ2hleGFkZWNpbWFsJyxcblxuICAvKiogQWxsIHBhY2tldCBkYXRhIGlzIGFjdHVhbGx5IHN0b3JlZCBhbmQgbW92ZWQgYXJvdW5kIGluIGJpbmFyeSwgc29cbiAgICogIHRoZSAnYmluYXJ5JyBlbmNvZGluZyBqdXN0IHJlcHJlc2VudHMgYWNjZXNzIHRvIHRoYXQgcmF3IGRhdGEuICovXG4gIEJJTkFSWTogJ2JpbmFyeScsXG5cbiAgLyoqIEFuIGVuY29kaW5nIHVzZWQgZWFybHkgaW4gdGhlIGxlc3NvbnMgdG8gc2hvdyB0aGF0IGJpbmFyeSBpc24ndCBhbHdheXNcbiAgICogIDFzIGFuZCAwcy4gIEp1c3QgbGlrZSBiaW5hcnksIGJ1dCByZXBsYWNlcyAxLzAgd2l0aCBBL0IuICovXG4gIEFfQU5EX0I6ICdhX2FuZF9iJ1xufTtcblxuLyoqXG4gKiBFbnVtZXJhdGlvbiBvZiB0YWJzIGZvciBsZXZlbCBjb25maWd1cmF0aW9uXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5leHBvcnRzLk5ldFNpbVRhYlR5cGUgPSB7XG4gIElOU1RSVUNUSU9OUzogJ2luc3RydWN0aW9ucycsXG4gIE1ZX0RFVklDRTogJ215X2RldmljZScsXG4gIFJPVVRFUjogJ3JvdXRlcicsXG4gIEROUzogJ2Rucydcbn07XG5cbi8qKlxuICogQ29sdW1uIHR5cGVzIHRoYXQgY2FuIGJlIHVzZWQgYW55IHRpbWUgYSBwYWNrZXQgaXMgZGlzcGxheWVkIG9uIHRoZSBwYWdlLlxuICogUmVsYXRlZCB0byBQYWNrZXQuSGVhZGVyVHlwZSwgYnV0IGRpZmZlcmVudCBiZWNhdXNlIHRoaXMgaW5jbHVkZXMgY29sdW1uc1xuICogdGhhdCBhcmVuJ3QgcGFydCBvZiB0aGUgaGVhZGVyLCBhbmQgZ3JvdXBzIHRoZSBwYWNrZXRJbmZvIHRvZ2V0aGVyLlxuICogTWFwIHRvIGNsYXNzLW5hbWVzIHRoYXQgY2FuIGJlIGFwcGxpZWQgdG8gcmVsYXRlZCB0YWJsZSBjZWxscy5cbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbmV4cG9ydHMuUGFja2V0VUlDb2x1bW5UeXBlID0ge1xuICBFTkNPRElOR19MQUJFTDogJ2VuY29kaW5nTGFiZWwnLFxuICBUT19BRERSRVNTOiAndG9BZGRyZXNzJyxcbiAgRlJPTV9BRERSRVNTOiAnZnJvbUFkZHJlc3MnLFxuICBQQUNLRVRfSU5GTzogJ3BhY2tldEluZm8nLFxuICBNRVNTQUdFOiAnbWVzc2FnZSdcbn07XG4iLCIvKipcbiAqIEBvdmVydmlldyBJbnRlcmZhY2UgdG8gZGFzaGJvYXJkIHVzZXIgZGF0YSBBUEkuXG4gKi9cbi8vIFN0cmljdCBsaW50aW5nOiBBYnNvcmIgaW50byBnbG9iYWwgY29uZmlnIHdoZW4gcG9zc2libGVcbi8qIGpzaGludFxuIHVudXNlZDogdHJ1ZSxcbiBlcWVxZXE6IHRydWUsXG4gbWF4bGVuOiAxMjBcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IFNlY3Rpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpZCAtIFNlY3Rpb24ncyBudW1lcmljIGlkZW50aWZpZXIgaW4gRGFzaGJvYXJkLlxuICovXG5cbi8vIFRPRE8gKGJidWNoYW5hbik6IFRoaXMgd2hvbGUgZmlsZSBzaG91bGQgZ28gYXdheSB3aGVuIHdlIGhhdmUgYSBzaGFyZWRcbi8vICAgICAgICAgICAgICAgICAgIEphdmFzY3JpcHQgVXNlciBvYmplY3QgdGhhdCBjYW4gYmUgYXZhaWxhYmxlIG9uIHBhZ2UgbG9hZC5cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgRGFzaGJvYXJkIHVzZXIgYWNjb3VudCAtIGNvdWxkIGJlIGEgdGVhY2hlciwgYSBzdHVkZW50LCBldGMuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIERhc2hib2FyZFVzZXIgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBhc3luYyBjYWxsIGhhcyBjb21wbGV0ZWQgeWV0LlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICovXG4gIHRoaXMuaXNSZWFkeSA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBRdWV1ZSBvZiBjYWxsYmFja3MgdG8gaGl0IHdoZW4gdGhpcyBvYmplY3QgZ2V0cyBpbml0aWFsaXplZC5cbiAgICogQHR5cGUge2Z1bmN0aW9uW119XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLndoZW5SZWFkeUNhbGxiYWNrc18gPSBbXTtcblxuICAvKipcbiAgICogVXNlciBJRFxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgdGhpcy5pZCA9IHVuZGVmaW5lZDtcblxuICAvKipcbiAgICogVXNlciBkaXNwbGF5IG5hbWVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICovXG4gIHRoaXMubmFtZSA9IFwiXCI7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIHVzZXIgaXMgYSBzaXRlIGFkbWluLlxuICAgKiBOT1RFOiBUaGlzIHNob3VsZCBvbmx5IGJlIHVzZWQgaW4gYSBjb252ZW5pZW5jZS9kaXNwbGF5IHNlbnNlOyBhbnl0aGluZ1xuICAgKiAgICAgICByZXF1aXJpbmcgYWN0dWFsIHNlY3VyaXR5IHNob3VsZCBiZSBhdXRoZW50aWNhdGVkIHRocm91Z2ggdGhlIHNlcnZlcixcbiAgICogICAgICAgYW5kIG5vdCBkZXBlbmQgb24gY2xpZW50IGNvZGUuXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKi9cbiAgdGhpcy5pc0FkbWluID0gZmFsc2U7XG5cbiAgLyoqXG4gICAqIExpc3Qgb2Ygc2VjdGlvbnMgb3duZWQgYnkgdGhpcyB1c2VyLlxuICAgKiBAdHlwZSB7U2VjdGlvbltdfVxuICAgKi9cbiAgdGhpcy5vd25lZFNlY3Rpb25zID0gW107XG59O1xuXG4vKipcbiAqIEB0eXBlIHtEYXNoYm9hcmRVc2VyfVxuICogQHByaXZhdGVcbiAqIEBzdGF0aWNcbiAqL1xuRGFzaGJvYXJkVXNlci5jdXJyZW50VXNlcl8gPSBudWxsO1xuXG4vKipcbiAqIEtpY2sgb2YgYW4gYXN5bmNocm9ub3VzIHJlcXVlc3QgZm9yIHRoZSBjdXJyZW50IHVzZXIncyBkYXRhLCBhbmQgaW1tZWRpYXRlbHlcbiAqIHBhc3MgYmFjayBhIHBsYWNlaG9sZGVyIG9iamVjdCB0aGF0IGhhcyBhIHdoZW5SZWFkeSBtZXRob2Qgb3RoZXJzIGNhblxuICogdXNlIHRvIGd1YXJhbnRlZSB0aGUgZGF0YSBpcyBwcmVzZW50LlxuICpcbiAqIEByZXR1cm4ge0Rhc2hib2FyZFVzZXJ9IHRoYXQgZG9lc24ndCBoYXZlIGl0cyBkYXRhIHlldCwgYnV0IHdpbGwgc29vbi5cbiAqL1xuRGFzaGJvYXJkVXNlci5nZXRDdXJyZW50VXNlciA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCFEYXNoYm9hcmRVc2VyLmN1cnJlbnRVc2VyXykge1xuICAgIERhc2hib2FyZFVzZXIuY3VycmVudFVzZXJfID0gbmV3IERhc2hib2FyZFVzZXIoKTtcbiAgICAkLmFqYXgoe1xuICAgICAgdXJsOiAnL3YyL3VzZXInLFxuICAgICAgdHlwZTogJ2dldCcsXG4gICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEgLyosIHRleHRTdGF0dXMsIGpxWEhSKi8pIHtcbiAgICAgICAgRGFzaGJvYXJkVXNlci5jdXJyZW50VXNlcl8uaW5pdGlhbGl6ZShkYXRhKTtcbiAgICAgIH0sXG4gICAgICBlcnJvcjogZnVuY3Rpb24gKC8qanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKi8pIHtcbiAgICAgICAgRGFzaGJvYXJkVXNlci5jdXJyZW50VXNlcl8uaW5pdGlhbGl6ZSh7XG4gICAgICAgICAgaXNTaWduZWRJbjogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIERhc2hib2FyZFVzZXIuY3VycmVudFVzZXJfO1xufTtcblxuLyoqXG4gKiBMb2FkIGRhdGEgaW50byB1c2VyIGZyb20gYXN5bmMgcmVxdWVzdCwgd2hlbiByZWFkeS5cbiAqIEBwYXJhbSBkYXRhXG4gKi9cbkRhc2hib2FyZFVzZXIucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICB0aGlzLmlkID0gZGF0YS5pZDtcbiAgdGhpcy5uYW1lID0gZGF0YS5uYW1lO1xuICB0aGlzLmlzQWRtaW4gPSAoZGF0YS5hZG1pbiA9PT0gdHJ1ZSk7XG4gIHRoaXMub3duZWRTZWN0aW9ucyA9IGRhdGEub3duZWRfc2VjdGlvbnM7XG4gIHRoaXMuaXNTaWduZWRJbiA9IGRhdGEuaXNTaWduZWRJbiAhPT0gZmFsc2U7XG4gIHRoaXMuaXNSZWFkeSA9IHRydWU7XG5cbiAgLy8gQ2FsbCBhbnkgcXVldWVkIGNhbGxiYWNrc1xuICB0aGlzLndoZW5SZWFkeUNhbGxiYWNrc18uZm9yRWFjaChmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayh0aGlzKTtcbiAgfS5iaW5kKHRoaXMpKTtcbiAgdGhpcy53aGVuUmVhZHlDYWxsYmFja3NfLmxlbmd0aCA9IDA7XG59O1xuXG4vKipcbiAqIFByb3ZpZGUgY29kZSB0byBiZSBjYWxsZWQgd2hlbiB0aGlzIG9iamVjdCBpcyByZWFkeSB0byB1c2VcbiAqIFBvc3NpYmxlIGZvciBpdCB0byBiZSBjYWxsZWQgaW1tZWRpYXRlbHkuXG4gKiBAcGFyYW0geyFmdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuRGFzaGJvYXJkVXNlci5wcm90b3R5cGUud2hlblJlYWR5ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIGlmICh0aGlzLmlzUmVhZHkpIHtcbiAgICBjYWxsYmFjayh0aGlzKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLndoZW5SZWFkeUNhbGxiYWNrc18ucHVzaChjYWxsYmFjayk7XG4gIH1cbn07XG5cbi8qKlxuICogQ2hlY2sgd2hldGhlciB0aGUgY3VycmVudCB1c2VyIG93bnMgdGhlIHNlY3Rpb24gd2l0aCB0aGUgZ2l2ZW4gc2VjdGlvbiBJRC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzZWN0aW9uSURcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5EYXNoYm9hcmRVc2VyLnByb3RvdHlwZS5vd25zU2VjdGlvbiA9IGZ1bmN0aW9uIChzZWN0aW9uSUQpIHtcbiAgcmV0dXJuIHRoaXMub3duZWRTZWN0aW9ucy5zb21lKGZ1bmN0aW9uIChzZWN0aW9uKSB7XG4gICAgcmV0dXJuIHNlY3Rpb24uaWQgPT09IHNlY3Rpb25JRDtcbiAgfSk7XG59O1xuIiwiLyoqXG4gKiBAb3ZlcnZpZXcgVXRpbGl0aWVzIGZvciB2YWxpZGF0aW5nIGFuZCByZXRyaWV2aW5nIGFyZ3VtZW50cyB0byBhIG1ldGhvZC5cbiAqL1xuLy8gU3RyaWN0IGxpbnRpbmc6IEFic29yYiBpbnRvIGdsb2JhbCBjb25maWcgd2hlbiBwb3NzaWJsZVxuLyoganNoaW50XG4gdW51c2VkOiB0cnVlLFxuIGVxZXFlcTogdHJ1ZSxcbiBtYXhsZW46IDEyMFxuICovXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogTWFrZXMgc3VyZSB0aGUgZ2l2ZW4gYXJndW1lbnQgaXMgcHJvdmlkZWQgYW5kIHBhc3NlcyB0aGUgdmFsaWRhdGlvbiBjaGVjay5cbiAqIEBwYXJhbSB7P30gYXJnIC0gdGhlIGFyZ3VtZW50IHRvIHZhbGlkYXRlXG4gKiBAcGFyYW0geyFzdHJpbmd9IGFyZ05hbWUgLSBBcmd1bWVudCBuYW1lIChmb3IgdXNlZnVsIGVycm9yIHJlcG9ydGluZylcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oPyl9IFt2YWxpZGF0b3JdIC0gdmFsaWRhdGlvbiBjaGVjayB0byBydW4gb24gdGhlIGFyZ3VtZW50LlxuICogICAgICAgIERlZmF1bHRzIHRvIG5vIGNoZWNrIChhbnl0aGluZyBwYXNzZXMpLlxuICogQHJldHVybnMgez99IHRoZSBvcmlnaW5hbCBhcmd1bWVudC5cbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gaWYgdGhlIGFyZ3VtZW50IGlzIG1pc3Npbmcgb3IgaW52YWxpZC5cbiAqL1xuZXhwb3J0cy52YWxpZGF0ZVJlcXVpcmVkID0gZnVuY3Rpb24gKGFyZywgYXJnTmFtZSwgdmFsaWRhdG9yKSB7XG4gIGlmICh1bmRlZmluZWQgPT09IGFyZykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYXJnTmFtZSArICcgaXMgcmVxdWlyZWQuJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbGlkYXRvciA9PT0gJ2Z1bmN0aW9uJyAmJiAhdmFsaWRhdG9yKGFyZykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3Qgc2V0ICcgKyBhcmdOYW1lICsgJyB0byAnICsgYXJnICsgJy4nKTtcbiAgfVxuICByZXR1cm4gYXJnO1xufTtcblxuLyoqXG4gKiBBZGRzIGFuIG9wdGlvbiBnZXR0ZXIgdG8gdGhlIHByb3ZpZGVkIG9wdGlvbnMgT2JqZWN0IHRoYXQgdmFsaWRhdGVzXG4gKiB0aGUgcGFzc2VkIGFyZ3VtZW50cyBhbmQgY2FuIHByb3ZpZGUgZGVmYXVsdCB2YWx1ZXMuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc09iamVjdCAtIHRoZSByYXcgb3B0aW9ucyBvYmplY3QuICBNYXkgYmUgcGFzc2VkXG4gKiAgICAgICAgdW5kZWZpbmVkIChhcyBpbiBhbiBvbWl0dGVkIG9wdGlvbnMgb2JqZWN0KSBidXQgbXVzdCBub3QgYmUgbnVsbFxuICogICAgICAgIG9yIGEgbm9uLW9iamVjdCB0eXBlLiAgTm90IG1vZGlmaWVkLlxuICogQHJldHVybnMge09iamVjdH0gdGhhdCBpbmNsdWRlcyBhIGBnZXRgIG1ldGhvZC4gIFdpbGwgYmUgYW4gb2JqZWN0XG4gKiAgICAgICAgICBldmVuIGlmIG9yaWdpbmFsIG9wdGlvbnNPYmplY3QgYXJndW1lbnQgd2FzIHVuZGVmaW5lZC5cbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gaWYgYSBub24tb2JqZWN0IGlzIHBhc3NlZCB0byB0aGUgY29uc3RydWN0b3IuXG4gKiBAdGhyb3dzIHtFcnJvcn0gaWYgZXh0ZW5kaW5nIHRoZSBvYmplY3Qgd291bGQgb3ZlcndyaXRlIGFuIGV4aXN0aW5nIHByb3BlcnR5LlxuICovXG5leHBvcnRzLmV4dGVuZE9wdGlvbnNPYmplY3QgPSBmdW5jdGlvbiAob3B0aW9uc09iamVjdCkge1xuICAvLyBBbGxvdyBgdW5kZWZpbmVkYCBhbmQgYWxsIG9iamVjdHMgZXhjZXB0IGZvciBgbnVsbGBcbiAgdmFyIGlzVW5kZWZpbmVkID0gKG9wdGlvbnNPYmplY3QgPT09IHVuZGVmaW5lZCk7XG4gIHZhciBpc1JlYWxPYmplY3QgPSAodHlwZW9mIG9wdGlvbnNPYmplY3QgPT09ICdvYmplY3QnICYmIG9wdGlvbnNPYmplY3QgIT09IG51bGwpO1xuICBpZiAoIShpc1VuZGVmaW5lZCB8fCBpc1JlYWxPYmplY3QpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignT3B0aW9ucyBvYmplY3QgbXVzdCBiZSBhbiBvYmplY3QuJyk7XG4gIH1cblxuICBpZiAob3B0aW9uc09iamVjdCAmJiBvcHRpb25zT2JqZWN0Lmhhc093blByb3BlcnR5KCdnZXQnKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGV4dGVuZCBvcHRpb25zOyBwcm9wZXJ0eSBcImdldFwiIHdvdWxkIGJlIG92ZXJ3cml0dGVuLicpO1xuICB9XG5cbiAgcmV0dXJuICQuZXh0ZW5kKHt9LCBvcHRpb25zT2JqZWN0LCB7XG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgYW4gb3B0aW9uYWwgdmFsdWUgZnJvbSB0aGUgb3B0aW9ucyBvYmplY3QsIHBhc3NpbmcgaXQgdGhyb3VnaCB0aGVcbiAgICAgKiBwcm92aWRlZCB2YWxpZGF0aW9uIGZ1bmN0aW9uLCBhbmQgcmV0dXJuaW5nIHRoZSBnaXZlbiBkZWZhdWx0IHZhbHVlIGlmXG4gICAgICogdGhlIHJlcXVlc3RlZCBvcHRpb24gd2FzIG5vdCBzZXQuXG4gICAgICogQHBhcmFtIHshc3RyaW5nfSBvcHRpb25LZXkgLSBuYW1lIG9mIHRoZSBvcHRpb24gaW4gdGhlIHJhdyBvcHRpb25zIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKD8pfSBbdmFsaWRhdG9yXSAtIHZhbGlkYXRpb24gY2hlY2sgdG8gcnVuIG9uIHRoZSB2YWx1ZSxcbiAgICAgKiAgICAgICAgaWYgaXQgaGFzIGJlZW4gc2V0LiAgU2hvdWxkIHJldHVybiBUUlVFIGlmIHZhbGlkIGFuZCBGQUxTRSBvdGhlcndpc2UuXG4gICAgICogICAgICAgIERlZmF1bHRzIHRvIG5vIGNoZWNrIChhbnl0aGluZyBwYXNzZXMpLlxuICAgICAqIEBwYXJhbSB7P30gW2RlZmF1bHRWYWx1ZV0gLSBXaGF0IHRvIHJldHVybiBpZiB0aGUgb3B0aW9uIHdhcyBub3Qgc2V0LlxuICAgICAqICAgICAgICBEZWZhdWx0cyB0byBgdW5kZWZpbmVkYC5cbiAgICAgKiBAcmV0dXJucyB7P30gVGhlIHZhbHVlIG9mIHRoZSBvcHRpb24gaWYgaXQgd2FzIHNldCwgYW5kIHRoZSBwcm92aWRlZFxuICAgICAqICAgICAgICAgIGRlZmF1bHQgdmFsdWUgaWYgaXQgd2FzIG5vdCBzZXQuXG4gICAgICogQHRocm93cyB7VHlwZUVycm9yfSBpZiB0aGUgdmFsaWRhdG9yIGZ1bmN0aW9uIHJldHVybnMgRkFMU0Ugd2hlbiBjYWxsZWRcbiAgICAgKiAgICAgICAgIG9uIHRoZSBvcHRpb24gdmFsdWUuXG4gICAgICovXG4gICAgZ2V0OiBmdW5jdGlvbiAob3B0aW9uS2V5LCB2YWxpZGF0b3IsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgaWYgKCFvcHRpb25zT2JqZWN0IHx8IG9wdGlvbnNPYmplY3Rbb3B0aW9uS2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgdmFsaWRhdG9yID09PSAnZnVuY3Rpb24nICYmICF2YWxpZGF0b3Iob3B0aW9uc09iamVjdFtvcHRpb25LZXldKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3Qgc2V0ICcgKyBvcHRpb25LZXkgKyAnIHRvICcgK1xuICAgICAgICAgICAgb3B0aW9uc09iamVjdFtvcHRpb25LZXldICsgJy4nKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9wdGlvbnNPYmplY3Rbb3B0aW9uS2V5XTtcbiAgICB9XG4gIH0pO1xufTtcblxuXG4vKipcbiAqIFZhbGlkYXRvciBmdW5jdGlvbiB0aGF0IHZlcmlmaWVzIHRoYXQgdGhlIGFyZ3VtZW50IGlzIGEgbnVtYmVyLCBpc1xuICogZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHplcm8sIGFuZCBpcyBub3QgSW5maW5pdHkuXG4gKiBAcGFyYW0gYXJnXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVFJVRSBpZiBwcm92aWRlZCBhcmd1bWVudCBpcyB2YWxpZC5cbiAqIEBzdGF0aWNcbiAqL1xuZXhwb3J0cy5pc1Bvc2l0aXZlTm9uaW5maW5pdGVOdW1iZXIgPSBmdW5jdGlvbiAoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJyAmJlxuICAgICAgIWlzTmFOKGFyZykgJiZcbiAgICAgIGFyZyA+PSAwICYmXG4gICAgICBhcmcgIT09IEluZmluaXR5O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0b3IgZnVuY3Rpb24gdGhhdCB2ZXJpZmllcyB0aGF0IHRoZSBhcmd1bWVudCBpcyBhIG51bWJlciwgaXNcbiAqIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB6ZXJvLCBhbmQgaXMgbm90IEluZmluaXR5LlxuICogQHBhcmFtIHs/fSBhcmdcbiAqIEByZXR1cm5zIHtib29sZWFufSBUUlVFIGlmIHByb3ZpZGVkIGFyZ3VtZW50IGlzIHZhbGlkLlxuICogQHN0YXRpY1xuICovXG5leHBvcnRzLmlzQm9vbGVhbiA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJztcbn07XG5cbi8qKlxuICogVmFsaWRhdG9yIGZ1bmN0aW9uIHRoYXQgdmVyaWZpZXMgdGhhdCB0aGUgYXJndW1lbnQgaXMgYSBzdHJpbmcuXG4gKiBAcGFyYW0gez99IGFyZ1xuICogQHJldHVybnMge2Jvb2xlYW59IFRSVUUgaWYgcHJvdmlkZWQgYXJndW1lbnQgaXMgdmFsaWQuXG4gKiBAc3RhdGljXG4gKi9cbmV4cG9ydHMuaXNTdHJpbmcgPSBmdW5jdGlvbiAoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJztcbn07XG5cbi8qKlxuICogVmFsaWRhdG9yIGZ1bmN0aW9uIHRoYXQgdmVyaWZpZXMgdGhlIGFyZ3VtZW50IGlzIGFuIGFycmF5LlxuICogU3VyZSB0aGlzIHNlZW1zIHJlZHVuZGFudCwgYnV0IGluY2x1ZGVkIGhlcmUgZm9yIGRpc2NvdmVyYWJpbGl0eS5cbiAqIEBwYXJhbSB7P30gYXJnXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVFJVRSBpZiB0aGUgcHJvdmlkZWQgYXJndW1lbnQgaXMgYW4gYXJyYXkuXG4gKi9cbmV4cG9ydHMuaXNBcnJheSA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXJnKTtcbn07XG5cbi8qKlxuICogVmFsaWRhdG9yIGZ1bmN0aW9uIHRoYXQgdmVyaWZpZXMgdGhhdCBhcmd1bWVudCBpcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHBhcmFtIHs/fSBhcmdcbiAqIEByZXR1cm5zIHtib29sZWFufSBUUlVFIGlmIHByb3ZpZGVkIGFyZ3VtZW50IGlzIGFuIGFycmF5IGFuZCBldmVyeSBlbGVtZW50XG4gKiAgICAgICAgICBpbiB0aGUgYXJyYXkgaXMgYSBzdHJpbmcuXG4gKiBAc3RhdGljXG4gKi9cbmV4cG9ydHMuaXNBcnJheU9mU3RyaW5ncyA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXJnKSAmJiBhcmcuZXZlcnkoZXhwb3J0cy5pc1N0cmluZyk7XG59O1xuIiwiLy8gU3RyaWN0IGxpbnRpbmc6IEFic29yYiBpbnRvIGdsb2JhbCBjb25maWcgd2hlbiBwb3NzaWJsZVxuLyoganNoaW50XG4gdW51c2VkOiB0cnVlLFxuIGVxZXFlcTogdHJ1ZSxcbiBtYXhsZW46IDEyMFxuICovXG4vKiBnbG9iYWwgd2luZG93ICovXG4ndXNlIHN0cmljdCc7XG5cbnZhciBPYnNlcnZhYmxlRXZlbnQgPSByZXF1aXJlKCcuL09ic2VydmFibGVFdmVudCcpO1xuXG4vLyBJdCBpcyBtb3JlIGFjY3VyYXRlIHRvIHVzZSBwZXJmb3JtYW5jZS5ub3coKSwgYnV0IHdlIHVzZSBEYXRlLm5vdygpXG4vLyBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIFNhZmFyaSBhbmQgb2xkZXIgYnJvd3NlcnMuIFRoaXMgc2hvdWxkIG9ubHkgY2F1c2Vcbi8vIGEgc21hbGwgZXJyb3IgaW4gdGhlIGRlbHRhVGltZSBmb3IgdGhlIGluaXRpYWwgZnJhbWUgYW55d2F5LlxuLy8gU2VlIEFsc286XG4vLyAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS93aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4vLyAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9QZXJmb3JtYW5jZS5ub3dcbnZhciB3aW5kb3dOb3cgPSAod2luZG93LnBlcmZvcm1hbmNlICYmIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3cpID9cbiAgICB3aW5kb3cucGVyZm9ybWFuY2Uubm93LmJpbmQod2luZG93LnBlcmZvcm1hbmNlKSA6IERhdGUubm93O1xuXG4vKipcbiAqIEhvdyBtYW55IHRpY2tzIHdlIHRyeSB0byBmaXJlIGV2ZXJ5IHNlY29uZC5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAY29uc3RcbiAqL1xudmFyIFBSRUZFUlJFRF9USUNLU19QRVJfU0VDT05EID0gMTA7XG5cbi8qKlxuICogUHJlY2FsY3VsYXRlZCBtaWxsaXNlY29uZHMgcGVyIHRpY2suXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGNvbnN0XG4gKi9cbnZhciBQUkVGRVJSRURfTVNfUEVSX1RJQ0sgPSAoMTAwMCAvIFBSRUZFUlJFRF9USUNLU19QRVJfU0VDT05EKTtcblxuLyoqXG4gKiBSZW5kZXJlZCBmcmFtZXMgcGVyIHNlY29uZCBvbiBvbGRlciBicm93c2VycyB3aGVyZSB3ZSBjYW4ndCBsb2NrIHRvIHRoZVxuICogcmVwYWludCBldmVudC5cbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAY29uc3RcbiAqL1xudmFyIEZBTExCQUNLX0ZQUyA9IDMwO1xuXG4vKipcbiAqIFByZWNhbGN1bGF0ZWQgbWlsbGlzZWNvbmRzIHBlciBmcmFtZSBmb3IgZmFsbGJhY2sgY2FzZVxuICogQHR5cGUge251bWJlcn1cbiAqIEBjb25zdFxuICovXG52YXIgRkFMTEJBQ0tfTVNfUEVSX0ZSQU1FID0gKDEwMDAgLyBGQUxMQkFDS19GUFMpO1xuXG5cblxuLyoqXG4gKiBTaW1wbGUgcnVuLWxvb3AgbWFuYWdlclxuICogQGNvbnN0cnVjdG9yXG4gKi9cbnZhciBSdW5Mb29wID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIHJ1bi1sb29wIHdpbGwgY29udGludWUgcnVubmluZy5cbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqL1xuICB0aGlzLmVuYWJsZWQgPSBmYWxzZTtcblxuICAvKipcbiAgICogVHJhY2tzIGN1cnJlbnQgdGltZSBhbmQgZGVsdGEgdGltZSBmb3IgdGhlIHRpY2sgbG9vcC5cbiAgICogUGFzc2VkIHRvIG9ic2VydmVycyB3aGVuIGV2ZW50cyBmaXJlLlxuICAgKiBAdHlwZSB7UnVuTG9vcC5DbG9ja31cbiAgICovXG4gIHRoaXMudGlja0Nsb2NrID0gbmV3IFJ1bkxvb3AuQ2xvY2soKTtcblxuICAvKipcbiAgICogVHJhY2tzIGN1cnJlbnQgdGltZSBhbmQgZGVsdGEgdGltZSBmb3IgdGhlIHJlbmRlciBsb29wLlxuICAgKiBQYXNzZWQgdG8gb2JzZXJ2ZXJzIHdoZW4gZXZlbnRzIGZpcmUuXG4gICAqIEB0eXBlIHtSdW5Mb29wLkNsb2NrfVxuICAgKi9cbiAgdGhpcy5yZW5kZXJDbG9jayA9IG5ldyBSdW5Mb29wLkNsb2NrKCk7XG5cbiAgLyoqXG4gICAqIE1ldGhvZCB0aGF0IGdldHMgY2FsbGVkIG92ZXIgYW5kIG92ZXIsIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciBOZXRTaW1cbiAgICogaXMgaW4gZm9jdXMgb3Igbm90LiAgQ2FsbGVkIGxlc3Mgb2Z0ZW4gdGhhbiByZW5kZXIoKS4gIENhbiBiZSBzbG93ZWRcbiAgICogdG8gYWJvdXQgb25jZSBwZXIgc2Vjb25kIHdoZW4gTmV0U2ltIGlzIGluIHRoZSBiYWNrZ3JvdW5kLlxuICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICB0aGlzLnRpY2tfID0gdGhpcy5idWlsZFRpY2tNZXRob2RfKCk7XG5cbiAgLyoqXG4gICAqIE1ldGhvZCB0aGF0IGdldHMgY2FsbGVkIG92ZXIgYW5kIG92ZXIgd2hlbiBOZXRTaW0gaXMgdmlzaWJsZS4gIEdldHMgYXNcbiAgICogY2xvc2UgdG8gbWF4aW11bSBmcmFtZXJhdGUgYXMgcG9zc2libGUuICBDYWxsZWQgbW9yZSBvZnRlbiB0aGFuIHRpY2soKSwgYnV0XG4gICAqIGNhbiBiZSBwYXVzZWQgZW50aXJlbHkgd2hlbiBOZXRTaW0gaXMgaW4gdGhlIGJhY2tncm91bmQuXG4gICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHRoaXMucmVuZGVyXyA9IHRoaXMuYnVpbGRSZW5kZXJNZXRob2RfKCk7XG5cbiAgLyoqICBAdHlwZSB7T2JzZXJ2YWJsZUV2ZW50fSAqL1xuICB0aGlzLnRpY2sgPSBuZXcgT2JzZXJ2YWJsZUV2ZW50KCk7XG5cbiAgLyoqIEB0eXBlIHtPYnNlcnZhYmxlRXZlbnR9ICovXG4gIHRoaXMucmVuZGVyID0gbmV3IE9ic2VydmFibGVFdmVudCgpO1xufTtcblxuLyoqXG4gKiBTaW1wbGUgdHJhY2tpbmcgZm9yIHRpbWUgdmFsdWVzXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuUnVuTG9vcC5DbG9jayA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIFRpbWUgdGhlIGN1cnJlbnQvbW9zdCByZWNlbnQgdGljayBzdGFydGVkLCBpbiBtcy5cbiAgICogRGVwZW5kaW5nIG9uIGJyb3dzZXIgdGhpcyBtaWdodCBiZSBlcG9jaCB0aW1lIG9yIHRpbWUgc2luY2UgbG9hZCAtXG4gICAqICB0aGVyZWZvcmUsIGRvbid0IHVzZSBmb3IgYWJzb2x1dGUgdGltZSFcbiAgICogQHR5cGUge251bWJlcn1cbiAgICovXG4gIHRoaXMudGltZSA9IHdpbmRvd05vdygpO1xuXG4gIC8qKlxuICAgKiBUaW1lIGluIG1zIGJldHdlZW4gdGhlIGxhdGVzdC9jdXJyZW50IHRpY2sgYW5kIHRoZSBwcmV2aW91cyB0aWNrLlxuICAgKiBQcmVjaXNpb24gZGVwZW5kZW50IG9uIGJyb3dzZXIgY2FwYWJpbGl0aWVzLlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKi9cbiAgdGhpcy5kZWx0YVRpbWUgPSAwO1xufTtcblxuUnVuTG9vcC5wcm90b3R5cGUuYnVpbGRUaWNrTWV0aG9kXyA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHRpY2tNZXRob2Q7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdGlja01ldGhvZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoc2VsZi5lbmFibGVkKSB7XG4gICAgICB2YXIgY3VyVGltZSA9IHdpbmRvd05vdygpO1xuICAgICAgc2VsZi50aWNrQ2xvY2suZGVsdGFUaW1lID0gY3VyVGltZSAtIHNlbGYudGlja0Nsb2NrLnRpbWU7XG4gICAgICBzZWxmLnRpY2tDbG9jay50aW1lID0gY3VyVGltZTtcbiAgICAgIHNlbGYudGljay5ub3RpZnlPYnNlcnZlcnMoc2VsZi50aWNrQ2xvY2spO1xuICAgICAgc2V0VGltZW91dCh0aWNrTWV0aG9kLCBQUkVGRVJSRURfTVNfUEVSX1RJQ0sgLSBzZWxmLnRpY2tDbG9jay5kZWx0YVRpbWUpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIHRpY2tNZXRob2Q7XG59O1xuXG5SdW5Mb29wLnByb3RvdHlwZS5idWlsZFJlbmRlck1ldGhvZF8gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciByZW5kZXJNZXRob2Q7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcbiAgICByZW5kZXJNZXRob2QgPSBmdW5jdGlvbiAoaGlSZXNUaW1lU3RhbXApIHtcbiAgICAgIGlmIChzZWxmLmVuYWJsZWQpIHtcbiAgICAgICAgc2VsZi5yZW5kZXJDbG9jay5kZWx0YVRpbWUgPSBoaVJlc1RpbWVTdGFtcCAtIHNlbGYucmVuZGVyQ2xvY2sudGltZTtcbiAgICAgICAgc2VsZi5yZW5kZXJDbG9jay50aW1lID0gaGlSZXNUaW1lU3RhbXA7XG4gICAgICAgIHNlbGYucmVuZGVyLm5vdGlmeU9ic2VydmVycyhzZWxmLnJlbmRlckNsb2NrKTtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlck1ldGhvZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZW5kZXJNZXRob2QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc2VsZi5lbmFibGVkKSB7XG4gICAgICAgIHZhciBjdXJUaW1lID0gd2luZG93Tm93KCk7XG4gICAgICAgIHNlbGYucmVuZGVyQ2xvY2suZGVsdGFUaW1lID0gY3VyVGltZSAtIHNlbGYucmVuZGVyQ2xvY2sudGltZTtcbiAgICAgICAgc2VsZi5yZW5kZXJDbG9jay50aW1lID0gY3VyVGltZTtcbiAgICAgICAgc2VsZi5yZW5kZXIubm90aWZ5T2JzZXJ2ZXJzKHNlbGYucmVuZGVyQ2xvY2spO1xuICAgICAgICBzZXRUaW1lb3V0KHJlbmRlck1ldGhvZCwgRkFMTEJBQ0tfTVNfUEVSX0ZSQU1FIC0gc2VsZi5yZW5kZXJDbG9jay5kZWx0YVRpbWUpO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHJlbmRlck1ldGhvZDtcbn07XG5cbi8qKiBTdGFydCB0aGUgcnVuIGxvb3AgKHJ1bnMgaW1tZWRpYXRlbHkpICovXG5SdW5Mb29wLnByb3RvdHlwZS5iZWdpbiA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcbiAgdGhpcy50aWNrQ2xvY2sudGltZSA9IHdpbmRvd05vdygpO1xuICB0aGlzLnJlbmRlckNsb2NrLnRpbWUgPSB3aW5kb3dOb3coKTtcbiAgdGhpcy50aWNrXyh0aGlzLnRpY2tDbG9jay50aW1lKTtcbiAgdGhpcy5yZW5kZXJfKHRoaXMucmVuZGVyQ2xvY2sudGltZSk7XG59O1xuXG4vKipcbiAqIFN0b3AgdGhlIHJ1biBsb29wXG4gKiBJZiBpbiB0aGUgbWlkZGxlIG9mIGEgdGljaywgd2lsbCBmaW5pc2ggdGhlIGN1cnJlbnQgdGljay5cbiAqIElmIGNhbGxlZCBieSBhbiBldmVudCBiZXR3ZWVuIHRpY2tzLCB3aWxsIHByZXZlbnQgdGhlIG5leHQgdGljayBmcm9tIGZpcmluZy5cbiAqL1xuUnVuTG9vcC5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmVuYWJsZWQgPSBmYWxzZTtcbn07XG4iXX0=
