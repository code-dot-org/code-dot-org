require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({12:[function(a){(function(b){var c=a("../appMain");window.Applab=a("./applab"),"undefined"!=typeof b&&(b.Applab=window.Applab);var d=a("./blocks"),e=a("./levels"),f=a("./skins");window.applabMain=function(a){a.skinsModule=f,a.blocksModule=d,c(window.Applab,e,a)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../appMain":3,"./applab":6,"./blocks":7,"./levels":11,"./skins":13}],13:[function(a,b,c){var d=a("../skins"),e={applab:{}};c.load=function(a,b){{var c=d.load(a,b);e[c.id]}return c}},{"../skins":108}],11:[function(a,b){var c=a("../../locale/current/applab"),d=(a("../utils"),a("../block_utils")),e=d.createToolbox,f=d.blockOfType,g=d.createCategory,h=b.exports={};h.simple={requiredBlocks:[],scale:{snapRadius:2},freePlay:!0,toolbox:e('<block type="applab_createHtmlBlock" inline="true">         <value name="ID"><block type="text"><title name="TEXT">id</title></block></value>         <value name="HTML"><block type="text"><title name="TEXT">html</title></block></value></block>'),startBlocks:'<block type="when_run" deletable="false" x="20" y="20"></block>'},h.ec_simple={freePlay:!0,editCode:!0,sliderSpeed:.95,codeFunctions:[{func:"onEvent",title:"Execute code in response to an event for the specified element",category:"General",params:["'id'","'click'","function() {\n  \n}"]},{func:"startWebRequest",title:"Request data from the internet and execute code when the request is complete",category:"General",params:["'http://api.openweathermap.org/data/2.5/weather?q=London,uk'","function(status, type, content) {\n  \n}"]},{func:"setTimeout",title:"Set a timer and execute code when that number of milliseconds has elapsed",category:"General",params:["function() {\n  \n}","1000"]},{func:"clearTimeout",title:"Clear an existing timer by passing in the value returned from setTimeout()",category:"General",params:["0"]},{func:"createHtmlBlock",title:"Create a block of HTML and assign it an element id",category:"General",params:["'id'","'html'"]},{func:"replaceHtmlBlock",title:"Replace a block of HTML associated with the specified id",category:"General",params:["'id'","'html'"]},{func:"deleteHtmlBlock",title:"Delete the element with the specified id",category:"General",params:["'id'"]},{func:"setParent",title:"Set an element to become a child of a parent element",category:"General",params:["'id'","'parentId'"]},{func:"setPosition",title:"Position an element with x, y, width, and height coordinates",category:"General",params:["'id'","0","0","100","100"]},{func:"setStyle",title:"Add CSS style text to an element",category:"General",params:["'id'","'color:red;'"]},{func:"getAttribute",category:"General",params:["'id'","'scrollHeight'"],type:"value"},{func:"setAttribute",category:"General",params:["'id'","'scrollHeight'","200"]},{func:"createButton",title:"Create a button and assign it an element id",category:"UI Controls",params:["'id'","'text'"]},{func:"createTextInput",title:"Create a text input and assign it an element id",category:"UI Controls",params:["'id'","'text'"]},{func:"createTextLabel",title:"Create a text label, assign it an element id, and bind it to an associated element",category:"UI Controls",params:["'id'","'text'","'forId'"]},{func:"createDropdown",title:"Create a dropdown, assign it an element id, and populate it with a list of items",category:"UI Controls",params:["'id'","'option1'","'etc'"]},{func:"getText",title:"Get the text from the specified element",category:"UI Controls",params:["'id'"],type:"value"},{func:"setText",title:"Set the text for the specified element",category:"UI Controls",params:["'id'","'text'"]},{func:"createCheckbox",title:"Create a checkbox and assign it an element id",category:"UI Controls",params:["'id'","false"]},{func:"createRadio",title:"Create a radio button and assign it an element id",category:"UI Controls",params:["'id'","false","'group'"]},{func:"getChecked",title:"Get the state of a checkbox or radio button",category:"UI Controls",params:["'id'"],type:"value"},{func:"setChecked",title:"Set the state of a checkbox or radio button",category:"UI Controls",params:["'id'","true"]},{func:"createImage",title:"Create an image and assign it an element id",category:"UI Controls",params:["'id'","'http://code.org/images/logo.png'"]},{func:"getImageURL",title:"Get the URL associated with an image or image upload button",category:"UI Controls",params:["'id'"],type:"value"},{func:"setImageURL",title:"Set the URL for the specified image element id",category:"UI Controls",params:["'id'","'http://code.org/images/logo.png'"]},{func:"createImageUploadButton",title:"Create an image upload button and assign it an element id",category:"UI Controls",params:["'id'","'text'"]},{func:"createCanvas",title:"Create a canvas with width, height dimensions",category:"Canvas",params:["'id'","400","600"]},{func:"canvasDrawLine",title:"Draw a line on a canvas from x1, y1 to x2, y2",category:"Canvas",params:["'id'","0","0","400","600"]},{func:"canvasDrawCircle",title:"Draw a circle on a canvas with the specified coordinates for center (x, y) and radius",category:"Canvas",params:["'id'","200","300","100"]},{func:"canvasDrawRect",title:"Draw a rectangle on a canvas with x, y, width, and height coordinates",category:"Canvas",params:["'id'","100","200","200","200"]},{func:"canvasSetLineWidth",title:"Set the line width for a canvas",category:"Canvas",params:["'id'","3"]},{func:"canvasSetStrokeColor",title:"Set the stroke color for a canvas",category:"Canvas",params:["'id'","'red'"]},{func:"canvasSetFillColor",title:"Set the fill color for a canvas",category:"Canvas",params:["'id'","'yellow'"]},{func:"canvasDrawImage",title:"Draw an image on a canvas with the specified image element and x, y as the top left coordinates",category:"Canvas",params:["'id'","'imageId'","0","0"]},{func:"canvasGetImageData",title:"Get the ImageData for a rectangle (x, y, width, height) within a canvas",category:"Canvas",params:["'id'","0","0","400","600"],type:"value"},{func:"canvasPutImageData",title:"Set the ImageData for a rectangle within a canvas with x, y as the top left coordinates",category:"Canvas",params:["'id'","imageData","0","0"]},{func:"canvasClear",title:"Clear all data on a canvas",category:"Canvas",params:["'id'"]},{func:"createSharedRecord",category:"General",params:["{tableName: 'abc',name:'Alice',age:7,male:false}","function() {\n  \n}"]},{func:"readSharedRecords",category:"General",params:["{tableName: 'abc'}","function(records) {\n  for (var i =0; i < records.length; i++) {\n    for (var prop in records[i]) {\n      createHtmlBlock('id2', 'records[' + i + '].' + prop + ': ' + records[i][prop]);\n    }\n  }\n}"]}],categoryInfo:{General:{color:"blue",blocks:[]},"UI Controls":{color:"red",blocks:[]},Canvas:{color:"yellow",blocks:[]}}},h.full_sandbox={scrollbars:!0,requiredBlocks:[],scale:{snapRadius:2},softButtons:["leftButton","rightButton","downButton","upButton"],minWorkspaceHeight:1400,freePlay:!0,toolbox:e(g(c.catActions(),'<block type="applab_createHtmlBlock" inline="true">           <value name="ID"><block type="text"><title name="TEXT">id</title></block></value>           <value name="HTML"><block type="text"><title name="TEXT">html</title></block></value></block>')+g(c.catControl(),f("controls_whileUntil")+'<block type="controls_for">                           <value name="FROM">                             <block type="math_number">                               <title name="NUM">1</title>                             </block>                           </value>                           <value name="TO">                             <block type="math_number">                               <title name="NUM">10</title>                             </block>                           </value>                           <value name="BY">                             <block type="math_number">                               <title name="NUM">1</title>                             </block>                           </value>                         </block>'+f("controls_flow_statements"))+g(c.catLogic(),f("controls_if")+f("logic_compare")+f("logic_operation")+f("logic_negate")+f("logic_boolean"))+g(c.catMath(),f("math_number")+'<block type="math_change">                           <value name="DELTA">                             <block type="math_number">                               <title name="NUM">1</title>                             </block>                           </value>                         </block><block type="math_random_int">                           <value name="FROM">                             <block type="math_number">                               <title name="NUM">1</title>                             </block>                           </value>                           <value name="TO">                             <block type="math_number">                               <title name="NUM">100</title>                             </block>                           </value>                         </block>'+f("math_arithmetic"))+g(c.catText(),f("text")+f("text_join")+'<block type="text_append">                           <value name="TEXT">                             <block type="text"></block>                           </value>                         </block>')+g(c.catVariables(),"","VARIABLE")+g(c.catProcedures(),"","PROCEDURE")),startBlocks:'<block type="when_run" deletable="false" x="20" y="20"></block>'}},{"../../locale/current/applab":150,"../block_utils":15,"../utils":148}],6:[function(a,b){"use strict";function c(){D.timeoutFailureTick=m.timeoutFailureTick||1/0,D.minWorkspaceHeight=m.minWorkspaceHeight,D.softButtons_=m.softButtons||{};for(var a in m.scale)D.scale[a]=m.scale[a]}function d(){var a=D.scale.stepSpeed;return D.speedSlider&&(a=300*Math.pow(1-D.speedSlider.getValue(),2)),a}function e(){window.setTimeout(D.onTick,d())}function f(a){console.log&&console.log(a);var b=document.getElementById("debug-output");b.value.length>0?b.value+="\n"+a:b.value=a,b.scrollTop=b.scrollHeight}function g(a){if(a.keyCode==y.ENTER){var b=a.target.textContent;if(a.target.textContent="",f("> "+b),D.interpreter){var c=D.interpreter.getScope(),d=new window.Interpreter(b);d.populateScope_(d.ast,c),d.stateStack=[{node:d.ast,scope:c,thisExpression:c}];try{d.run(),f("< "+String(d.value))}catch(e){f("< "+String(e))}}else f("< (not running)")}}function h(a,b){if(o.editor.currentlyUsingBlocks){var c={color:"#FFFF22"};o.editor.clearLineMarks(),o.editor.markLine(a,c)}else{var d=o.editor.aceEditor.getSelection(),e=d.getRange();e.start.row=a,e.start.col=b,e.end.row=a,e.end.col=b+1,d.setSelectionRange(e)}}function i(a,b){!b&&a instanceof SyntaxError&&(b=a.loc.line-D.userCodeLineOffset,h(b-1,a.loc.column)),f(b?"Line "+b+": "+String(a):String(a)),D.executionError=a,D.onPuzzleComplete()}function j(){var a=arguments[0],b=j.cache;return b[a]&&b.hasOwnProperty(a)||(b[a]=j.parse(a)),j.format.call(null,b[a],arguments)}function k(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}function l(a,b){return Array(b+1).join(a)}var m,n,o=a("../StudioApp").singleton,p=(a("../../locale/current/common"),a("../../locale/current/applab")),q=(a("../skins"),a("../codegen")),r=a("./api"),s=(a("./blocks"),a("../templates/page.html")),t=a("../dom"),u=(a("../xml").parseElement,a("../utils")),v=a("../slider"),w=a("./appStorage"),x=(a("./formStorage"),a("../constants")),y=x.KeyCodes,z=u.getLodash(),A=u.getHammer(),B=o.ResultType,C=o.TestResults,D=b.exports;o.setCheckForEmptyBlocks(!0);var E=1e4;D.scale={snapRadius:1,stepSpeed:0};var F={text:p.shareApplabTwitter(),hashtag:"ApplabCode"},G={RUN:0,IN:1,OVER:2,OUT:3},H=function(){var a=document.getElementById("divApplab"),b=parseInt(window.getComputedStyle(a).width,10),c=document.getElementById("visualizationColumn");c.style.width=b+"px"};D.onTick=function(){if(D.running){D.tickCount++,e();var a=D.paused&&D.nextStep===G.IN&&1===D.tickCount,b=0===d();if(D.seenEmptyGetCallbackThisTick=!1,D.paused)switch(D.nextStep){case G.RUN:return;case G.OUT:if(D.interpreter&&"undefined"==typeof D.stepOutToStackDepth){D.stepOutToStackDepth=0;for(var c=D.interpreter.stateStack.length-1;c>0;c--)if(D.callExpressionSeenAtDepth[c]){D.stepOutToStackDepth=c;break}}}if(D.interpreter){for(var f,g,h=!1,j=!1,k=!1,l=o.editor.aceEditor.getSession(),m=o.hideSource||b&&!D.paused&&o.editor.currentlyUsingBlocks?q.getUserCodeLine:q.selectCurrentCode,n=0;(E>n||k)&&!(j&&!k||h&&!b||D.seenEmptyGetCallbackThisTick);n++)if(g=m(D.interpreter,D.cumulativeLength,D.userCodeStartOffset,D.userCodeLength,o.editor),f=-1!==g,f&&!k&&(a||g!==D.stoppedAtBreakpointRow&&q.isAceBreakpointRow(l,g)))D.paused?D.nextStep=G.RUN:D.onPauseButton(),D.stoppedAtBreakpointRow=g,D.stoppedAtBreakpointStackDepth=D.interpreter.stateStack.length,j=!0,k=q.isNextStepSafeWhileUnwinding(D.interpreter);else{f&&g!==D.stoppedAtBreakpointRow&&D.interpreter.stateStack.length<=D.stoppedAtBreakpointStackDepth&&(delete D.stoppedAtBreakpointRow,delete D.stoppedAtBreakpointStackDepth),f&&k&&(D.stoppedAtBreakpointRow=g,D.stoppedAtBreakpointStackDepth=D.interpreter.stateStack.length);try{if(D.interpreter.step(),h=h||f&&D.interpreter.stateStack[0]&&D.interpreter.stateStack[0].done,D.callExpressionSeenAtDepth.length=D.interpreter.stateStack.length+1,f&&"CallExpression"===D.interpreter.stateStack[0].node.type&&(D.callExpressionSeenAtDepth[D.interpreter.stateStack.length]=!0),D.paused){if(f&&"CallExpression"===D.interpreter.stateStack[0].node.type&&"undefined"==typeof D.firstCallStackDepthThisStep&&(D.firstCallStackDepthThisStep=D.interpreter.stateStack.length),!h&&f&&D.nextStep===G.IN&&D.interpreter.stateStack.length>D.firstCallStackDepthThisStep&&(j=!0),h||j){var p=k;k=q.isNextStepSafeWhileUnwinding(D.interpreter),p&&!k&&(g=m(D.interpreter,D.cumulativeLength,D.userCodeStartOffset,D.userCodeLength,o.editor),f=-1!==g,f||(k=!0))}if((j||h)&&!k)if(D.nextStep===G.OUT&&D.interpreter.stateStack.length>D.stepOutToStackDepth);else if(!(D.nextStep===G.OVER&&"undefined"!=typeof D.firstCallStackDepthThisStep&&D.interpreter.stateStack.length>D.firstCallStackDepthThisStep)){D.nextStep=G.RUN,f&&(D.stoppedAtBreakpointRow=g,D.stoppedAtBreakpointStackDepth=D.interpreter.stateStack.length),delete D.stepOutToStackDepth,delete D.firstCallStackDepthThisStep,document.getElementById("spinner").style.visibility="hidden";break}}}catch(s){return void i(s,f?g+1:void 0)}}j&&b&&q.selectCurrentCode(D.interpreter,D.cumulativeLength,D.userCodeStartOffset,D.userCodeLength,o.editor)}else if(1===D.tickCount)try{D.whenRunFunc(o,r,D.Globals)}catch(t){}O()&&D.onPuzzleComplete()}},D.initReadonly=function(a){n=a.skin,m=a.level,c(),o.initReadonly(a)},D.init=function(b){D.clearEventHandlersKillTickLoop(),n=b.skin,m=b.level,c(),o.hideSource&&(b.level.sliderSpeed=1),D.canvasScale=window.devicePixelRatio>1?window.devicePixelRatio:1;var d=!b.hideSource&&b.level.editCode,e=!b.hideSource&&b.level.editCode,f=!b.hideSource&&b.level.editCode,h=z.isEmpty(m.softButtons)&&!d,i=a("./controls.html")({assetUrl:o.assetUrl,showSlider:d,finishButton:h}),j=a("./extraControlRows.html")({assetUrl:o.assetUrl,finishButton:!h,debugButtons:e,debugConsole:f});if(b.html=s({assetUrl:o.assetUrl,data:{localeDirection:o.localeDirection(),visualization:a("./visualization.html")(),controls:i,extraControlRows:j,blockUsed:void 0,idealBlockNumber:void 0,editCode:m.editCode,blockCounterClass:"block-counter-default"}}),b.loadAudio=function(){o.loadAudio(n.winSound,"win"),o.loadAudio(n.startSound,"start"),o.loadAudio(n.failureSound,"failure")},b.afterInject=function(){o.isUsingBlockly()&&(Blockly.HSV_SATURATION=.6,Blockly.SNAP_RADIUS*=D.scale.snapRadius),H()},b.afterEditorReady=function(){var a=o.editor.aceEditor;a&&a.on("guttermousedown",function(a){var b=a.domEvent.target;if(-1!=b.className.indexOf("ace_gutter-cell")){var c=a.getDocumentPosition().row,d=a.editor.session.getBreakpoints();d[c]?a.editor.session.clearBreakpoint(c):a.editor.session.setBreakpoint(c),a.stop()}})},b.twitter=F,b.makeYourOwn=!1,b.varsInGlobals=!0,b.noButtonsBelowOnMobileShare=!0,o.init(b),m.editCode){var k=document.getElementById("applab-slider");k&&(D.speedSlider=new v(10,35,130,k),b.level.sliderSpeed&&D.speedSlider.setValue(b.level.sliderSpeed));var l=document.getElementById("debug-input");l&&l.addEventListener("keydown",g)}var p=document.getElementById("finishButton");if(t.addClickTouchEvent(p,D.onPuzzleComplete),m.editCode){var q=document.getElementById("pauseButton"),r=document.getElementById("stepInButton"),u=document.getElementById("stepOverButton"),w=document.getElementById("stepOutButton");q&&r&&u&&w&&(t.addClickTouchEvent(q,D.onPauseButton),t.addClickTouchEvent(r,D.onStepInButton),t.addClickTouchEvent(u,D.onStepOverButton),t.addClickTouchEvent(w,D.onStepOutButton));var x=document.getElementById("viewDataButton");x&&t.addClickTouchEvent(x,D.onViewData)}o.share&&window.setTimeout(o.runButtonClick,0)},D.clearEventHandlersKillTickLoop=function(){D.whenRunFunc=null,D.running=!1,D.tickCount=0;var a=document.getElementById("spinner");a&&(a.style.visibility="hidden");var b=document.getElementById("pauseButton"),c=document.getElementById("stepInButton"),d=document.getElementById("stepOverButton"),e=document.getElementById("stepOutButton");b&&c&&d&&e&&(b.textContent=p.pause(),b.disabled=!0,c.disabled=!0,d.disabled=!0,e.disabled=!0)},o.reset=function(){var a;D.clearEventHandlersKillTickLoop();var b=0;for(a=0;a<D.softButtons_.length;a++)document.getElementById(D.softButtons_[a]).style.display="inline",b++;if(b){var c=document.getElementById("soft-buttons");c.className="soft-buttons-"+b}for(var d=document.getElementById("divApplab");d.firstChild;)d.removeChild(d.firstChild);var e=d.cloneNode(!0);if(d.parentNode.replaceChild(e,d),m.goal&&(m.goal.successState={}),m.editCode){D.paused=!1,D.nextStep=G.RUN,delete D.stepOutToStackDepth,delete D.firstCallStackDepthThisStep,delete D.stoppedAtBreakpointRow,delete D.stoppedAtBreakpointStackDepth,D.callExpressionSeenAtDepth=[];var f=document.getElementById("pauseButton"),g=document.getElementById("stepInButton"),h=document.getElementById("stepOverButton"),i=document.getElementById("stepOutButton");f&&g&&h&&i&&(f.textContent=p.pause(),f.disabled=!0,g.disabled=!1,h.disabled=!0,i.disabled=!0);var j=document.getElementById("spinner");j&&(j.style.visibility="hidden");var k=document.getElementById("debug-output");k&&(k.value="");var l=document.getElementById("debug-input");l&&(l.textContent="")}D.Globals={},D.eventQueue=[],D.executionError=null,D.interpreter=null},o.runButtonClick=function(){var a=document.getElementById("runButton"),b=document.getElementById("resetButton");if(b.style.minWidth||(b.style.minWidth=a.offsetWidth+"px"),o.toggleRunReset("reset"),o.isUsingBlockly()&&Blockly.mainBlockSpace.traceOn(!0),o.reset(!1),o.attempts++,D.execute(),m.freePlay&&!o.hideSource){var c=document.getElementById("share-cell");c.className="share-cell-enabled"}};var I=function(){D.waitingForReport||o.displayFeedback({app:"applab",skin:n.id,feedbackType:D.testResults,response:D.response,level:m,showingSharing:m.freePlay,feedbackImage:D.feedbackImage,twitter:F,saveToGalleryUrl:m.freePlay&&D.response&&D.response.save_to_gallery_url,appStrings:{reinfFeedbackMsg:p.reinfFeedbackMsg(),sharingText:p.shareGame()}})};D.onReportComplete=function(a){D.response=a,D.waitingForReport=!1,I()};var J=function(a){var b=Blockly.Generator.blockSpaceToCode("JavaScript",a);try{q.evalWith(b,{codeFunctions:m.codeFunctions,studioApp:o,Studio:r,Globals:D.Globals})}catch(c){}},K=function(){var a=D.eventQueue.shift();return"undefined"==typeof a&&(D.seenEmptyGetCallbackThisTick=!0),a},L={};L.log=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=q.marshalInterpreterToNative(D.interpreter,arguments[b]);var c="",d=a[0];if("string"==typeof d||d instanceof String)c=R(d,a.slice(1));else for(b=0;b<a.length;b++)c+=a[b].toString(),b<a.length-1&&(c+="\n");f(c)};var M={};M.parse=function(a){return JSON.parse(a)};var N=[{func:"random",idArgNone:!0},{func:"round",idArgNone:!0},{func:"abs",idArgNone:!0},{func:"max",idArgNone:!0},{func:"min",idArgNone:!0}];D.execute=function(){D.result=B.UNSET,D.testResults=C.NO_TESTS_RUN,D.waitingForReport=!1,D.response=null;o.playAudio("start"),o.reset(!1);var a;if(m.editCode){a=u.generateCodeAliases(m.codeFunctions,"Applab"),a+=u.generateCodeAliases(N,"Math"),D.userCodeStartOffset=a.length,D.userCodeLineOffset=a.split("\n").length-1,a+=o.editor.getValue(),D.userCodeLength=a.length-D.userCodeStartOffset,a+="\nwhile (true) { var obj = getCallback(); if (obj) { obj.fn.apply(null, obj.arguments ? obj.arguments : null); }}";var b=o.editor.aceEditor.getSession();D.cumulativeLength=q.aceCalculateCumulativeLength(b)}else{J("procedures_defreturn"),J("procedures_defnoreturn");for(var c=Blockly.mainBlockSpace.getTopBlocks(),d=0;c[d];d++){var f=c[d];if("when_run"===f.type){a=Blockly.Generator.blocksToCode("JavaScript",[f]);break}}}if(a)if(m.editCode){var g=function(a,b){q.initJSInterpreter(a,b,{StudioApp:o,Applab:r,console:L,JSON:M,Globals:D.Globals});var c=(a.createObject(a.FUNCTION),q.makeNativeMemberFunction(a,K,null,5));a.setProperty(b,"getCallback",a.createNativeFunction(c))};try{D.interpreter=new window.Interpreter(a,g)}catch(h){i(h)}}else D.whenRunFunc=q.functionFromCode(a,{StudioApp:o,Applab:r,Globals:D.Globals});if(m.editCode){var j=document.getElementById("pauseButton"),k=document.getElementById("stepInButton"),l=document.getElementById("stepOverButton"),n=document.getElementById("stepOutButton");j&&k&&l&&n&&(j.disabled=!1,k.disabled=!0,l.disabled=!0,n.disabled=!0);var p=document.getElementById("spinner");p&&(p.style.visibility="visible")}D.running=!0,e()},D.onPauseButton=function(){if(D.running){var a=document.getElementById("pauseButton"),b=document.getElementById("stepInButton"),c=document.getElementById("stepOverButton"),d=document.getElementById("stepOutButton");D.paused?(D.paused=!1,D.nextStep=G.RUN,a.textContent=p.pause()):(D.paused=!0,D.nextStep=G.RUN,a.textContent=p["continue"]()),b.disabled=!D.paused,c.disabled=!D.paused,d.disabled=!D.paused,document.getElementById("spinner").style.visibility=D.paused?"hidden":"visible"}},D.onStepOverButton=function(){D.running&&(D.paused=!0,D.nextStep=G.OVER,document.getElementById("spinner").style.visibility="visible")},D.onStepInButton=function(){D.running||(o.runButtonClick(),D.onPauseButton()),D.paused=!0,D.nextStep=G.IN,document.getElementById("spinner").style.visibility="visible"},D.onStepOutButton=function(){D.running&&(D.paused=!0,D.nextStep=G.OUT,document.getElementById("spinner").style.visibility="visible")},D.feedbackImage="",D.encodedFeedbackImage="",D.onViewData=function(){window.open("//"+P()+"/private/edit-csp-app/"+w.tempAppId,"_blank")},D.onPuzzleComplete=function(){if(D.executionError?D.result=B.ERROR:m.freePlay&&(D.result=B.SUCCESS),D.clearEventHandlersKillTickLoop(),m.freePlay)D.testResults=C.FREE_PLAY;else{var a=D.result===B.SUCCESS;D.testResults=o.getTestResults(a)}o.playAudio(D.testResults>=C.FREE_PLAY?"win":"failure");var b;if(m.editCode)b=o.editor.getValue();else{var c=Blockly.Xml.blockSpaceToDom(Blockly.mainBlockSpace);b=Blockly.Xml.domToText(c)}D.waitingForReport=!0;var d=function(){o.report({app:"applab",level:m.id,result:D.result===B.SUCCESS,testResult:D.testResults,program:encodeURIComponent(b),image:D.encodedFeedbackImage,onComplete:D.onReportComplete})};"undefined"==typeof document.getElementById("divApplab").toDataURL?d():document.getElementById("divApplab").toDataURL("image/png",{callback:function(a){D.feedbackImage=a,D.encodedFeedbackImage=encodeURIComponent(D.feedbackImage.split(",")[1]),d()}})},D.executeCmd=function(a,b,c){var d={id:a,name:b,opts:c};return D.callCmd(d)},D.callCmd=function(a){var b=!0;switch(a.name){case"createHtmlBlock":case"replaceHtmlBlock":case"deleteHtmlBlock":case"createButton":case"createImage":case"createCanvas":case"canvasDrawLine":case"canvasDrawCircle":case"canvasDrawRect":case"canvasSetLineWidth":case"canvasSetStrokeColor":case"canvasSetFillColor":case"canvasDrawImage":case"canvasGetImageData":case"canvasPutImageData":case"canvasClear":case"createTextInput":case"createTextLabel":case"createCheckbox":case"createRadio":case"createDropdown":case"getAttribute":case"setAttribute":case"getText":case"setText":case"getChecked":case"setChecked":case"getImageURL":case"setImageURL":case"createImageUploadButton":case"setPosition":case"setParent":case"setStyle":case"onEvent":case"startWebRequest":case"setTimeout":case"clearTimeout":case"createSharedRecord":case"readSharedRecords":o.highlight(a.id),b=D[a.name](a.opts)}return b},D.createHtmlBlock=function(a){var b=document.getElementById("divApplab"),c=document.createElement("div");return c.id=a.elementId,c.innerHTML=a.html,Boolean(b.appendChild(c))},D.createButton=function(a){var b=document.getElementById("divApplab"),c=document.createElement("button"),d=document.createTextNode(a.text);return c.id=a.elementId,Boolean(c.appendChild(d)&&b.appendChild(c))},D.createImage=function(a){var b=document.getElementById("divApplab"),c=document.createElement("img");return c.src=a.src,c.id=a.elementId,Boolean(b.appendChild(c))},D.createImageUploadButton=function(a){var b=document.getElementById("divApplab"),c=document.createElement("label"),d=document.createTextNode(a.text);c.id=a.elementId,c.className="img-upload";var e=document.createElement("input");return e.type="file",e.accept="image/*",e.capture="camera",e.style.position="absolute",e.style.left="-9999px",Boolean(c.appendChild(e)&&c.appendChild(d)&&b.appendChild(c))},D.createCanvas=function(a){var b=document.getElementById("divApplab"),c=document.createElement("canvas"),d=c.getContext("2d");if(c&&d){c.id=a.elementId;var e=a.width||400,f=a.height||600;return c.width=e*D.canvasScale,c.height=f*D.canvasScale,c.style.width=e+"px",c.style.height=f+"px",d.fillStyle="rgba(255, 255, 255, 0)",Boolean(b.appendChild(c))}return!1},D.canvasDrawLine=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId),d=c.getContext("2d");return d&&b.contains(c)?(d.beginPath(),d.moveTo(a.x1*D.canvasScale,a.y1*D.canvasScale),d.lineTo(a.x2*D.canvasScale,a.y2*D.canvasScale),d.stroke(),!0):!1},D.canvasDrawCircle=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId),d=c.getContext("2d");return d&&b.contains(c)?(d.beginPath(),d.arc(a.x*D.canvasScale,a.y*D.canvasScale,a.radius*D.canvasScale,0,2*Math.PI),d.fill(),d.stroke(),!0):!1},D.canvasDrawRect=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId),d=c.getContext("2d");return d&&b.contains(c)?(d.beginPath(),d.rect(a.x*D.canvasScale,a.y*D.canvasScale,a.width*D.canvasScale,a.height*D.canvasScale),d.fill(),d.stroke(),!0):!1},D.canvasSetLineWidth=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId),d=c.getContext("2d");return d&&b.contains(c)?(d.lineWidth=a.width*D.canvasScale,!0):!1},D.canvasSetStrokeColor=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId),d=c.getContext("2d");return d&&b.contains(c)?(d.strokeStyle=String(a.color),!0):!1},D.canvasSetFillColor=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId),d=c.getContext("2d");return d&&b.contains(c)?(d.fillStyle=String(a.color),!0):!1},D.canvasClear=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId),d=c.getContext("2d");return d&&b.contains(c)?(d.clearRect(0,0,c.width,c.height),!0):!1},D.canvasDrawImage=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId),d=document.getElementById(a.imageId),e=c.getContext("2d");if(e&&b.contains(c)&&b.contains(d)){var f,g;return f=g=D.canvasScale,a.width&&(f*=a.width/d.width),a.height&&(g*=a.height/d.height),e.save(),e.setTransform(f,0,0,g,a.x*D.canvasScale,a.y*D.canvasScale),e.drawImage(d,0,0),e.restore(),!0}return!1},D.canvasGetImageData=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId),d=c.getContext("2d");return d&&b.contains(c)?d.getImageData(a.x*D.canvasScale,a.y*D.canvasScale,a.width*D.canvasScale,a.height*D.canvasScale):void 0},D.canvasPutImageData=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId),d=c.getContext("2d");if(d&&b.contains(c)){var e=d.createImageData(a.imageData.width,a.imageData.height);return e.data.set(a.imageData.data),d.putImageData(e,a.x*D.canvasScale,a.y*D.canvasScale)}},D.createTextInput=function(a){var b=document.getElementById("divApplab"),c=document.createElement("input");return c.value=a.text,c.id=a.elementId,Boolean(b.appendChild(c))},D.createTextLabel=function(a){var b=document.getElementById("divApplab"),c=document.createElement("label"),d=document.createTextNode(a.text);c.id=a.elementId;var e=document.getElementById(a.forId);return e&&b.contains(e)&&c.setAttribute("for",a.forId),Boolean(c.appendChild(d)&&b.appendChild(c))},D.createCheckbox=function(a){var b=document.getElementById("divApplab"),c=document.createElement("input");return c.setAttribute("type","checkbox"),c.checked=a.checked,c.id=a.elementId,Boolean(b.appendChild(c))},D.createRadio=function(a){var b=document.getElementById("divApplab"),c=document.createElement("input");return c.setAttribute("type","radio"),c.name=a.name,c.checked=a.checked,c.id=a.elementId,Boolean(b.appendChild(c))},D.createDropdown=function(a){var b=document.getElementById("divApplab"),c=document.createElement("select");if(a.optionsArray)for(var d=0;d<a.optionsArray.length;d++){var e=document.createElement("option");e.text=a.optionsArray[d],c.add(e)}return c.id=a.elementId,Boolean(b.appendChild(c))},D.getAttribute=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId),d=String(a.attribute);return b.contains(c)?c[d]:!1},D.mutableAttributes=["innerHTML","scrollTop"],D.setAttribute=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId),d=String(a.attribute);return b.contains(c)&&-1!==D.mutableAttributes.indexOf(d)?(c[d]=a.value,!0):!1},D.getText=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId);return b.contains(c)?"INPUT"===c.tagName||"SELECT"===c.tagName?String(c.value):"IMG"===c.tagName?String(c.alt):c.innerText:!1},D.setText=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId);return b.contains(c)?("INPUT"===c.tagName||"SELECT"===c.tagName?c.value=a.text:"IMG"===c.tagName?c.alt=a.text:c.innerText=a.text,!0):!1},D.getChecked=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId);return b.contains(c)&&"INPUT"===c.tagName?c.checked:!1},D.setChecked=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId);return b.contains(c)&&"INPUT"===c.tagName?(c.checked=a.checked,!0):!1},D.getImageURL=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId);if(b.contains(c)){if("IMG"===c.tagName)return c.src;if("LABEL"===c.tagName&&"img-upload"===c.className){var d=c.children[0].files[0];if(d)return window.URL.createObjectURL(d)}}},D.setImageURL=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId);return b.contains(c)&&"IMG"===c.tagName?(c.src=a.src,!0):!1},D.replaceHtmlBlock=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId);if(b.contains(c)){var d=document.createElement("div");
return d.id=a.elementId,d.innerHTML=a.html,Boolean(c.parentElement.replaceChild(d,c))}return!1},D.deleteHtmlBlock=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId);return b.contains(c)?Boolean(c.parentElement.removeChild(c)):!1},D.setStyle=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId);return b.contains(c)?(c.style.cssText+=a.style,!0):!1},D.setParent=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId),d=document.getElementById(a.parentId);return b.contains(c)&&b.contains(d)?Boolean(c.parentElement.removeChild(c)&&d.appendChild(c)):!1},D.setPosition=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId);return b.contains(c)?(c.style.position="absolute",c.style.left=String(a.left)+"px",c.style.top=String(a.top)+"px",c.style.width=String(a.width)+"px",c.style.height=String(a.height)+"px",!0):!1},D.onEventFired=function(a,b){D.eventQueue.push("undefined"!=typeof b?{fn:a.func,arguments:[b]}:{fn:a.func})},D.onEvent=function(a){var b=document.getElementById("divApplab"),c=document.getElementById(a.elementId);if(b.contains(c)){switch(a.eventName){case"pinch":case"pinchin":case"pinchout":var d=new A(b,{preventDefault:!0});d.on(a.eventName,D.onEventFired.bind(this,a));break;default:c.addEventListener(a.eventName,D.onEventFired.bind(this,a))}return!0}return!1},D.onHttpRequestEvent=function(a){4===this.readyState&&D.eventQueue.push({fn:a.func,arguments:[Number(this.status),String(this.getResponseHeader("content-type")),String(this.responseText)]})},D.startWebRequest=function(a){var b=new XMLHttpRequest;b.onreadystatechange=D.onHttpRequestEvent.bind(b,a),b.open("GET",String(a.url),!0),b.send()},D.onTimeoutFired=function(a){D.eventQueue.push({fn:a.func})},D.setTimeout=function(a){return window.setTimeout(D.onTimeoutFired.bind(this,a),a.milliseconds)},D.clearTimeout=function(a){window.clearTimeout(a.timeoutId)},D.createSharedRecord=function(a){var b=q.marshalInterpreterToNative(D.interpreter,a.record);w.createSharedRecord(b,D.handleCreateSharedRecord.bind(this,a.callback))},D.handleCreateSharedRecord=function(a,b){D.eventQueue.push({fn:a,arguments:[b]})},D.readSharedRecords=function(a){var b=q.marshalInterpreterToNative(D.interpreter,a.searchParams);w.readSharedRecords(b,D.handleReadSharedRecords.bind(this,a.callback))},D.handleReadSharedRecords=function(a,b){D.eventQueue.push({fn:a,arguments:[b]})},D.timedOut=function(){return D.tickCount>D.timeoutFailureTick};var O=function(){return m.goal&&m.goal.successCondition&&m.goal.successCondition()?(D.result=B.SUCCESS,!0):m.goal&&m.goal.failureCondition&&m.goal.failureCondition()?(D.result=B.FAILURE,!0):D.timedOut()?(D.result=B.FAILURE,!0):!1},P=function(){switch(window.location.hostname){case"studio.code.org":case"learn.code.org":return"code.org";default:var a=window.location.hostname.split(".")[0];switch(a){case"localhost":return"localhost.code.org:9393";case"development":case"staging":case"test":case"levelbuilder":return a+".code.org";default:return null}}},Q={not_string:/[^s]/,number:/[dief]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fiosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};j.format=function(a,b){var c,d,e,f,g,h,i,m=1,n=a.length,o="",p=[],q=!0,r="";for(d=0;n>d;d++)if(o=k(a[d]),"string"===o)p[p.length]=a[d];else if("array"===o){if(f=a[d],f[2])for(c=b[m],e=0;e<f[2].length;e++){if(!c.hasOwnProperty(f[2][e]))throw new Error(j("[sprintf] property '%s' does not exist",f[2][e]));c=c[f[2][e]]}else c=f[1]?b[f[1]]:b[m++];if("function"==k(c)&&(c=c()),Q.not_string.test(f[8])&&"number"!=k(c)&&isNaN(c))throw new TypeError(j("[sprintf] expecting number but found %s",k(c)));switch(Q.number.test(f[8])&&(q=c>=0),f[8]){case"b":c=c.toString(2);break;case"c":c=String.fromCharCode(c);break;case"d":case"i":c=parseInt(c,10);break;case"e":c=f[7]?c.toExponential(f[7]):c.toExponential();break;case"f":c=f[7]?parseFloat(c).toFixed(f[7]):parseFloat(c);break;case"o":c=c.toString(8);break;case"s":c=(c=String(c))&&f[7]?c.substring(0,f[7]):c;break;case"u":c>>>=0;break;case"x":c=c.toString(16);break;case"X":c=c.toString(16).toUpperCase()}!Q.number.test(f[8])||q&&!f[3]?r="":(r=q?"+":"-",c=c.toString().replace(Q.sign,"")),h=f[4]?"0"===f[4]?"0":f[4].charAt(1):" ",i=f[6]-(r+c).length,g=f[6]&&i>0?l(h,i):"",p[p.length]=f[5]?r+c+g:"0"===h?r+g+c:g+r+c}return p.join("")},j.cache={},j.parse=function(a){for(var b=a,c=[],d=[],e=0;b;){if(null!==(c=Q.text.exec(b)))d[d.length]=c[0];else if(null!==(c=Q.modulo.exec(b)))d[d.length]="%";else{if(null===(c=Q.placeholder.exec(b)))throw new SyntaxError("[sprintf] unexpected placeholder");if(c[2]){e|=1;var f=[],g=c[2],h=[];if(null===(h=Q.key.exec(g)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(f[f.length]=h[1];""!==(g=g.substring(h[0].length));)if(null!==(h=Q.key_access.exec(g)))f[f.length]=h[1];else{if(null===(h=Q.index_access.exec(g)))throw new SyntaxError("[sprintf] failed to parse named argument key");f[f.length]=h[1]}c[2]=f}else e|=2;if(3===e)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");d[d.length]=c}b=b.substring(c[0].length)}return d};var R=function(a,b,c){return c=(b||[]).slice(0),c.splice(0,0,a),j.apply(null,c)}},{"../../locale/current/applab":150,"../../locale/current/common":153,"../StudioApp":2,"../codegen":38,"../constants":39,"../dom":40,"../skins":108,"../slider":109,"../templates/page.html":128,"../utils":148,"../xml":149,"./api":4,"./appStorage":5,"./blocks":7,"./controls.html":8,"./extraControlRows.html":9,"./formStorage":10,"./visualization.html":14}],14:[function(require,module,exports){module.exports=function(){var t=function anonymous(locals,filters,escape){escape=escape||function(a){return String(a).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var buf=[];with(locals||{})!function(){buf.push('<div id="divApplab">\n</div>\n')}();return buf.join("")};return function(a){return t(a,require("ejs").filters)}}()},{ejs:168}],10:[function(a,b){"use strict";var c=b.exports;c.createRecord=function(a,b){var e=a.tableName;return e?void c.fetchTableSecret(e,d.bind(this,a,b)):void console.log('readRecords: missing required property "tableName"')};var d=function(a,b,c){var d=new XMLHttpRequest;d.onreadystatechange=e.bind(d,a,b,c);var f="//"+i()+"/v2/forms/CspTable/"+c+"/children/CspRecord";delete a.tableName;var g={record_data_s:JSON.stringify(a)};d.open("POST",f,!0),d.setRequestHeader("Content-Type","application/json; charset=UTF-8"),d.send(JSON.stringify(g))},e=function(a,b){return 4===this.readyState?201!==this.status?void console.log("unexpected http status "+this.status):void b(a):void 0};c.readRecords=function(a,b){var d=a.tableName;return d?void c.fetchTableSecret(d,f.bind(this,d,a,b)):void console.log('readRecords: missing required property "tableName"')};var f=function(a,b,c,d){var e=new XMLHttpRequest;e.onreadystatechange=g.bind(e,a,b,c);var f="//"+i()+"/v2/forms/CspTable/"+d+"/children/CspRecord";e.open("GET",f,!0),e.send()},g=function(a,b,c){if(4===this.readyState){if(200!==this.status)return void console.log("readRecords failed with status "+this.status);var d=JSON.parse(this.responseText),e=d.map(function(b){var c=JSON.parse(b.record_data_s);return c.tableName=a,c.recordId=b.secret,c});e=e.filter(function(a){for(var c in b)if(a[c]!==b[c])return!1;return!0}),c(e)}};c.fetchTableSecret=function(a,b){var d=new XMLHttpRequest;d.onreadystatechange=h.bind(d,a,b);var e="//"+i()+"/v2/forms/CspApp/"+c.getAppSecret()+"/children/CspTable";d.open("GET",e,!0),d.send()};var h=function(a,b){if(4===this.readyState){if(200!==this.status)return void console.log("unexpected http status "+this.status);var c=JSON.parse(this.responseText);if(!(c instanceof Array))return void console.log("formData is not an array");var d=c.filter(function(b){return b.table_name_s===a}),e=d[0]&&d[0].secret;return e?void b(e):(console.log("table not found: "+a),void console.log(d))}},i=function(){return"localhost"===window.location.hostname.split(".")[0]?"localhost.code.org:9393":window.location.hostname};c.getAppSecret=function(){var a=window.location.hostname.split(".")[0];switch(a){case"localhost":return"ededb6d4a8ced65f8a011ce0e194094e";case"staging":return"b0a06b8bbd7352a3fdb1b6738262defd";default:return null}}},{}],9:[function(require,module,exports){module.exports=function(){var t=function anonymous(locals,filters,escape){escape=escape||function(a){return String(a).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var buf=[];with(locals||{})!function(){buf.push("");var a=require("../../locale/current/common");buf.push("\n");var b=require("../../locale/current/applab");buf.push("\n\n"),debugButtons&&buf.push('\n<div>\n  <div id="debug-buttons" style="display:inline;">\n    <button id="pauseButton" class="share">\n      ',escape(b.pause()),'\n    </button>\n    <button id="stepInButton" class="share">\n      ',escape(b.stepIn()),'\n    </button>\n    <button id="stepOverButton" class="share">\n      ',escape(b.stepOver()),'\n    </button>\n    <button id="stepOutButton" class="share">\n      ',escape(b.stepOut()),'\n    </button>\n    <button id="viewDataButton" class="share">\n      ',escape(b.viewData()),"\n    </button>\n  </div>\n"),buf.push("\n\n"),debugConsole&&buf.push('\n  <div id="debug-console" class="debug-console">\n    <textarea id="debug-output" readonly disabled tabindex=-1 class="debug-output"></textarea>\n    <span class="debug-input-prompt">\n      &gt;\n    </span>\n    <div contenteditable id="debug-input" class="debug-input"></div>\n  </div>\n'),buf.push("\n\n"),finishButton&&buf.push('\n  <div id="share-cell" class="share-cell-none">\n    <button id="finishButton" class="share">\n      <img src="',escape(assetUrl("media/1x1.gif")),'">',escape(a.finish()),"\n    </button>\n  </div>\n"),buf.push("\n\n"),debugButtons&&buf.push("\n</div>\n"),buf.push("\n")}();return buf.join("")};return function(a){return t(a,require("ejs").filters)}}()},{"../../locale/current/applab":150,"../../locale/current/common":153,ejs:168}],8:[function(require,module,exports){module.exports=function(){var t=function anonymous(locals,filters,escape){escape=escape||function(a){return String(a).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")};var buf=[];with(locals||{})!function(){buf.push("");var a=require("../../locale/current/common");buf.push("\n\n"),showSlider&&buf.push('\n  <div id="slider-cell">\n    <svg id="applab-slider"\n         xmlns="http://www.w3.org/2000/svg"\n         xmlns:svg="http://www.w3.org/2000/svg"\n         xmlns:xlink="http://www.w3.org/1999/xlink"\n         version="1.1"\n         width="150"\n         height="50">\n        <!-- Slow icon. -->\n        <clipPath id="slowClipPath">\n          <rect width=26 height=12 x=5 y=14 />\n        </clipPath>\n        <image xlink:href="',escape(assetUrl("media/applab/turtle_icons.png")),'" height=42 width=84 x=-21 y=-10\n            clip-path="url(#slowClipPath)" />\n        <!-- Fast icon. -->\n        <clipPath id="fastClipPath">\n          <rect width=26 height=16 x=120 y=10 />\n        </clipPath>\n        <image xlink:href="',escape(assetUrl("media/applab/turtle_icons.png")),'" height=42 width=84 x=120 y=-11\n            clip-path="url(#fastClipPath)" />\n    </svg>\n    <img id="spinner" style="visibility: hidden;" src="',escape(assetUrl("media/applab/loading.gif")),'" height=15 width=15>\n  </div>\n'),buf.push('\n\n<div id="soft-buttons" class="soft-buttons-none">\n  <button id="leftButton" class="arrow">\n    <img src="',escape(assetUrl("media/1x1.gif")),'" class="left-btn icon21">\n  </button>\n  <button id="rightButton" class="arrow">\n    <img src="',escape(assetUrl("media/1x1.gif")),'" class="right-btn icon21">\n  </button>\n  <button id="upButton" class="arrow">\n    <img src="',escape(assetUrl("media/1x1.gif")),'" class="up-btn icon21">\n  </button>\n  <button id="downButton" class="arrow">\n    <img src="',escape(assetUrl("media/1x1.gif")),'" class="down-btn icon21">\n  </button>\n</div>\n\n'),finishButton&&buf.push('\n  <div id="share-cell" class="share-cell-none">\n    <button id="finishButton" class="share">\n      <img src="',escape(assetUrl("media/1x1.gif")),'">',escape(a.finish()),"\n    </button>\n  </div>\n"),buf.push("\n")}();return buf.join("")};return function(a){return t(a,require("ejs").filters)}}()},{"../../locale/current/common":153,ejs:168}],7:[function(a,b,c){"use strict";function d(a,b){a.Blocks.applab_createHtmlBlock={helpUrl:"",init:function(){this.setHSV(184,1,.74),this.appendDummyInput().appendTitle(e.createHtmlBlock()),this.appendValueInput("ID"),this.appendValueInput("HTML"),this.setPreviousStatement(!0),this.setInputsInline(!0),this.setNextStatement(!0),this.setTooltip(e.createHtmlBlockTooltip())}},b.applab_createHtmlBlock=function(){var a=Blockly.JavaScript.valueToCode(this,"ID",Blockly.JavaScript.ORDER_NONE)||"",b=Blockly.JavaScript.valueToCode(this,"HTML",Blockly.JavaScript.ORDER_NONE)||"";return"Applab.createHtmlBlock('block_id_"+this.id+"', "+a+", "+b+");\n"}}{var e=a("../../locale/current/applab"),f=(a("../../locale/current/common"),a("../codegen"),a("../utils"));f.getLodash()}c.install=function(a,b){var c=(b.skin,b.isK1,a.Generator.get("JavaScript"));a.JavaScript=c,c.applab_eventHandlerPrologue=function(){return"\n"},d(a,c,b)}},{"../../locale/current/applab":150,"../../locale/current/common":153,"../codegen":38,"../utils":148}],150:[function(a,b){b.exports=window.blockly.appLocale},{}],5:[function(a,b){"use strict";var c=b.exports;c.tempEncryptedAppId="localhost"===window.location.hostname.split(".")[0]?"SmwVmYVl1V5UCCw1Ec6Dtw==":"DvTw9X3pDcyDyil44S6qbw==",c.tempAppId=1337,c.createSharedRecord=function(a,b){var e=a.tableName;if(!e)return void console.log('readRecords: missing required property "tableName"');var f=new XMLHttpRequest;f.onreadystatechange=d.bind(f,a,b);var g="/v3/apps/"+c.tempEncryptedAppId+"/shared-tables/"+e;f.open("POST",g,!0),f.setRequestHeader("Content-Type","application/json; charset=UTF-8"),f.send(JSON.stringify(a))};var d=function(a,b){return 4===this.readyState?this.status<200||this.status>300?void console.log("unexpected http status "+this.status):void b(a):void 0};c.readSharedRecords=function(a,b){var d=a.tableName;if(!d)return void console.log('readRecords: missing required property "tableName"');var f=new XMLHttpRequest;f.onreadystatechange=e.bind(f,d,a,b);var g="/v3/apps/"+c.tempEncryptedAppId+"/shared-tables/"+d;f.open("GET",g,!0),f.send()};var e=function(a,b,c){if(4===this.readyState){if(200!==this.status)return void console.log("readRecords failed with status "+this.status);var d=JSON.parse(this.responseText);console.log(d),d=d.filter(function(a){for(var c in b)if(a[c]!==b[c])return!1;return!0}),c(d)}}},{}],4:[function(a,b,c){c.randomFromArray=function(a){var b=Math.floor(Math.random()*a.length);return a[b]},c.createHtmlBlock=function(a,b,c){return Applab.executeCmd(a,"createHtmlBlock",{elementId:b,html:c})},c.replaceHtmlBlock=function(a,b,c){return Applab.executeCmd(a,"replaceHtmlBlock",{elementId:b,html:c})},c.deleteHtmlBlock=function(a,b){return Applab.executeCmd(a,"deleteHtmlBlock",{elementId:b})},c.createButton=function(a,b,c){return Applab.executeCmd(a,"createButton",{elementId:b,text:c})},c.createImage=function(a,b,c){return Applab.executeCmd(a,"createImage",{elementId:b,src:c})},c.setPosition=function(a,b,c,d,e,f){return Applab.executeCmd(a,"setPosition",{elementId:b,left:c,top:d,width:e,height:f})},c.createCanvas=function(a,b,c,d){return Applab.executeCmd(a,"createCanvas",{elementId:b,width:c,height:d})},c.canvasDrawLine=function(a,b,c,d,e,f){return Applab.executeCmd(a,"canvasDrawLine",{elementId:b,x1:c,y1:d,x2:e,y2:f})},c.canvasDrawCircle=function(a,b,c,d,e){return Applab.executeCmd(a,"canvasDrawCircle",{elementId:b,x:c,y:d,radius:e})},c.canvasDrawRect=function(a,b,c,d,e,f){return Applab.executeCmd(a,"canvasDrawRect",{elementId:b,x:c,y:d,width:e,height:f})},c.canvasSetLineWidth=function(a,b,c){return Applab.executeCmd(a,"canvasSetLineWidth",{elementId:b,width:c})},c.canvasSetStrokeColor=function(a,b,c){return Applab.executeCmd(a,"canvasSetStrokeColor",{elementId:b,color:c})},c.canvasSetFillColor=function(a,b,c){return Applab.executeCmd(a,"canvasSetFillColor",{elementId:b,color:c})},c.canvasClear=function(a,b){return Applab.executeCmd(a,"canvasClear",{elementId:b})},c.canvasDrawImage=function(a,b,c,d,e,f,g){return Applab.executeCmd(a,"canvasDrawImage",{elementId:b,imageId:c,x:d,y:e,width:f,height:g})},c.canvasGetImageData=function(a,b,c,d,e,f){return Applab.executeCmd(a,"canvasGetImageData",{elementId:b,x:c,y:d,width:e,height:f})},c.canvasPutImageData=function(a,b,c,d,e){return Applab.executeCmd(a,"canvasPutImageData",{elementId:b,imageData:c,x:d,y:e})},c.createTextInput=function(a,b,c){return Applab.executeCmd(a,"createTextInput",{elementId:b,text:c})},c.createTextLabel=function(a,b,c,d){return Applab.executeCmd(a,"createTextLabel",{elementId:b,text:c,forId:d})},c.createCheckbox=function(a,b,c){return Applab.executeCmd(a,"createCheckbox",{elementId:b,checked:c})},c.createRadio=function(a,b,c,d){return Applab.executeCmd(a,"createRadio",{elementId:b,checked:c,name:d})},c.getChecked=function(a,b){return Applab.executeCmd(a,"getChecked",{elementId:b})},c.setChecked=function(a,b,c){return Applab.executeCmd(a,"setChecked",{elementId:b,checked:c})},c.createDropdown=function(a,b){var c=Array.prototype.slice.call(arguments,2);return Applab.executeCmd(a,"createDropdown",{elementId:b,optionsArray:c})},c.getAttribute=function(a,b,c){return Applab.executeCmd(a,"getAttribute",{elementId:b,attribute:c})},c.setAttribute=function(a,b,c,d){return Applab.executeCmd(a,"setAttribute",{elementId:b,attribute:c,value:d})},c.getText=function(a,b){return Applab.executeCmd(a,"getText",{elementId:b})},c.setText=function(a,b,c){return Applab.executeCmd(a,"setText",{elementId:b,text:c})},c.getImageURL=function(a,b){return Applab.executeCmd(a,"getImageURL",{elementId:b})},c.setImageURL=function(a,b,c){return Applab.executeCmd(a,"setImageURL",{elementId:b,src:c})},c.createImageUploadButton=function(a,b,c){return Applab.executeCmd(a,"createImageUploadButton",{elementId:b,text:c})},c.setParent=function(a,b,c){return Applab.executeCmd(a,"setParent",{elementId:b,parentId:c})},c.setStyle=function(a,b,c){return Applab.executeCmd(a,"setStyle",{elementId:b,style:c})},c.onEvent=function(a,b,c,d){return Applab.executeCmd(a,"onEvent",{elementId:b,eventName:c,func:d})},c.startWebRequest=function(a,b,c){return Applab.executeCmd(a,"startWebRequest",{url:b,func:c})},c.setTimeout=function(a,b,c){return Applab.executeCmd(a,"setTimeout",{func:b,milliseconds:c})},c.clearTimeout=function(a,b){return Applab.executeCmd(a,"clearTimeout",{timeoutId:b})},c.createSharedRecord=function(a,b,c){return Applab.executeCmd(a,"createSharedRecord",{record:b,callback:c})},c.readSharedRecords=function(a,b,c){return Applab.executeCmd(a,"readSharedRecords",{searchParams:b,callback:c})}},{}]},{},[12]);