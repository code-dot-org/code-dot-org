<!DOCTYPE html>
<!-- Text compression widget. Original code written by Baker Franke. -->
<html>
<head>
  <style>
    .full_container {
      position: absolute;
      top: 85px;
      bottom: 150px;
      left: 0;
      right: 0;
    }
    #external {
      width: 100%;
      height: 100%;
      display: table;
      table-layout: fixed;
    }
    #widgetMain {
      display: table-row;
      height: 100%;
    }
    #widgetMainWrapper {
      height: 100%;
      position: relative;
    }
    .widgetLeft, .widgetLeftHeader {
      margin-right: 20px;
      width: calc(67% - 20px);
      height: 100%;
      float: left;
      display: table;
      table-layout: fixed;
    }
    .widgetLeft #output {
      display: table-row;
      height: 100%;
    }
    .widgetRightHeader {
      float: right;
      width: 33%;
    }
    .widgetRight {
      width: 33%;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
    }
    .widgetLeftHeader, .widgetRightHeader {
      clear: right;
      background: #7665a0;
      color: #fff;
      box-sizing: border-box;
      padding: 10px;
    }
    #menu > * {
      margin: 0 0 8px 0;
      display: inline-block;
    }
    #finished {
      float: right;
    }
    #compressedPoem {
      box-sizing: border-box;
      height: 100%;
      padding: 10px;
      border: solid 1px #ddd;
      font-size: 14pt;
      line-height: 1.4em;
      word-wrap: break-word;
      background-color: #fff;
      overflow-y: scroll;
    }
    #data {
      padding: 10px;
      white-space: pre-wrap;
      word-wrap: break-word;
      font: 13pt monospace;
      line-height: 1.2em;
      background-color: #000;
      color: #fff;
    }
    #data .positive {
      color: #0c0;
    }
    #data .negative {
      color: #c00;
    }
    #data .error {
      color: #c00;
    }
    #compressedPoem {
      -moz-user-select: text;
      -webkit-user-select: text;
      -ms-user-select: text;
      user-select: text;
    }
    mark, .CodeMirror-gutters {
      background-color: #ff9;
    }
    .CodeMirror-linenumber {
      color: #000;
      text-align: center;
    }
    .CodeMirror {
      font-size: 14pt;
      line-height: 1.4em;
      border: 1px solid #ddd;
      min-height: 200px;
    }
    .dict-error {
      background-color: #f99;
    }
    #selfEnteredPoem {
      box-sizing: border-box;
      width: 100%;
    }
    #poemsList {
      width: 300px;
    }
  </style>
</head>
<body>
  <div id="widgetTop">
    <p id="widgetInstructions">Look for patterns (repeated words or phrases) in the text. Enter the patterns you see into the dictionary on the right. As you type entries into the dictionary, the symbol for the entry is inserted into the text in place of the pattern.</p>
    <div id="reference_area_target" data-minimal="true"></div>
    <div id="menu">
      <label for="poemsList" class="choosePoem">Choose text:</label>
      <select id="poemsList" class="choosePoem" onChange="poemChanged();"></select>
      <button id="writeYourOwn" class="btn choosePoem">Write your own</button>
      <button id="finished" class="btn btn-primary submitButton">Finished! Continue to next stage</button>
    </div>
    <div class="widgetLeftHeader">Compressed:</div>
    <div class="widgetRightHeader">Dictionary:</div>
  </div>
  <div id="widgetMain">
    <div id="widgetMainWrapper">
      <div class="widgetLeft">
        <div id="output">
          <div id="compressedPoem"></div>
        </div>
        <div id="data"></div>
      </div>
      <div class="widgetRight">
        <textarea id="dictionary"></textarea>
      </div>
    </div>
  </div>
  <script type="text/javascript" src="/text-compression/text-compression.js">
  </script>
</body>
</html>
