[Unit]
Description=<%= @app_name %> service

# Configuration options copied from file generated by systemd-sysv-generator
[Service]
Type=notify
WatchdogSec=10

User=<%= @user %>
WorkingDirectory=<%= @app_root %>

<%= @export_env ? @export_env.map{|k,v|"Environment=#{k}=#{v}"}.join("\n") : '' %>
Environment=LANG=en_US.UTF-8

ExecStart=/usr/bin/bundle exec puma -C <%= @src_file %> -e <%= @env %>
Restart=always

[Install]
WantedBy=multi-user.target
